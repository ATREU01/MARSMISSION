const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BeVI3Cw6.js","assets/parseSignature-BhQL8dZc.js","assets/parseUnits-BUKE8lVI.js","assets/AccountNotFoundScreen-BzbvtCmu-DPOKelZa.js","assets/ScreenLayout-CNho46nP-BmM59R6W.js","assets/Button-BCV6mjvS-Diy1onH6.js","assets/Screen-_0H_rCdH-_AHEcb1T.js","assets/ModalHeader-BTru6YQw-DYdjiBJP.js","assets/index-CJMgUOnw-GErmhyO9.js","assets/createLucideIcon-Bi9Ux4FY.js","assets/AffirmativeConsentScreen-CrZKQjas-Bb6CDGuf.js","assets/shouldProceedtoEmbeddedWalletCreationFlow-BI33jNSF-km7hMmvx.js","assets/external-link-BpOmOgwW.js","assets/AllowlistRejectionScreen-DhhfJ6ai-DSBIJiWT.js","assets/lock-DKSNChGa.js","assets/AuthenticateWithWalletScreen-BN0s1mtv-_rP5f-5_.js","assets/ConnectWalletView-Cmm9Ulis-ZTK0p1DD.js","assets/copy-Bx2Jwc5_-DFs1lm2o.js","assets/Link-DwjLfHwW-C1ckZe9L.js","assets/QrCode-Oxn5GT3C-ChCQENgf.js","assets/dijkstra-COg3n3zL.js","assets/EmailInputForm-B4hjCxRU-ENk5Mswa.js","assets/ErrorMessage-Cx8GKGhL-CTqv9rbm.js","assets/useI18n-99pFPsz3-CZygOrIb.js","assets/WalletCards-DH1rqayz-BDiQH5cx.js","assets/AwaitingEvmToSolBridgingScreen-C7mp2-Hy-Dxk1rmla.js","assets/CheckCircleIcon-DFJX5YLB.js","assets/Layouts-Bmf8DxNP-BQV64GAA.js","assets/ScreenHeader-Biz1wq02-B9MRprJJ.js","assets/FundWalletMethodHeader-CS84Ots9-D5rZZnNQ.js","assets/useGetTokenPrice-CDPxMEO--B9h_z7D3.js","assets/useGetSolPrice-Cfm8o9C5-DtNHZcIm.js","assets/analytics-mkkvFRju-DOXuftJB.js","assets/reservoir-kvLjIrEo-ClDWaQL4.js","assets/getChainName-DjpPdUSc-c2urPd0g.js","assets/transaction-CnfuREWo-nROljJQP.js","assets/getFormattedUsdFromLamports-B6EqSEho-C-HCdwKa.js","assets/BridgeNetworkSelectionView-BXBCujiq-CgQJSW4H.js","assets/getErc20Balance-CaKjNAs9-CRO7QHYS.js","assets/Value-B4M62ove-BdVWEpHr.js","assets/LoadingSkeleton-CHdaq3pb-Dwv1_0Ax.js","assets/Subtitle-DkvfP2Ev-F2Rg9Sll.js","assets/Title-D0pfZff--DBaxWHKt.js","assets/WalletIcon-WEIa7Dk3.js","assets/Chip-Bsgj4Yc--BnKnlMn6.js","assets/TransferOrBridgeLoadingScreen-BY7Eot6x-BEYGPcEW.js","assets/InjectedWalletIcon-DLcYOGDj-C0KoKWcJ.js","assets/Address-BUmpXgsy-CF0mM5Dd.js","assets/check-5xMODKSu.js","assets/copy-CCL2rB9P.js","assets/GlobeAltIcon-B_UIftrx.js","assets/shared-CtYf3O54-uR8OvcTT.js","assets/ChevronDownIcon-BXoVhCTL.js","assets/formatErc20TokenAmount-BuPk9xcy-CkAr4Oc0.js","assets/ethers-Bl5aM5Gz-CPjYqk2m.js","assets/styles-DY17fuAX-CB-11WQK.js","assets/formatters-Bijc2BBu.js","assets/custom-BEAm5Uyv.js","assets/AwaitingExternalEthereumTransferScreen-EqM4Kcsu-CDnNY-A3.js","assets/transfer-CMPmjPsM-Cjofo3yZ.js","assets/parseEther-DZ6PXuTV.js","assets/AwaitingPasswordlessCodeScreen-NAVmxM9--B6I9QEXc.js","assets/EnvelopeIcon-Bqe9IcUQ.js","assets/PhoneIcon-B9COg0wg.js","assets/AwaitingSolToEvmBridgingScreen-dC9b-wlg-C2QpBIxF.js","assets/CaptchaScreen-CTRyyYc9-B9ma5rGR.js","assets/circle-check-big-IYzhe_9Y.js","assets/circle-x-BrPWZhts.js","assets/CoinbaseOnrampStatusScreen-BNmvm8Bl-Cv8rGjgB.js","assets/ArrowsRightLeftIcon-DygZPkr9.js","assets/CheckCircleIcon-CvS7W1yD.js","assets/ConnectLedgerScreen-BEhSz1FM-Jd5k9v-s.js","assets/ConnectOnlyLandingScreen-ZnI9ReZJ-CYup--n3.js","assets/ConnectOnlyStatusScreen-1oCuFsd6-BLwEJx0Y.js","assets/ConnectionStatusScreen-CZNBQeOQ-jVfKXm69.js","assets/ConnectOrCreateScreen-BOO4iaC6-CoUvszNz.js","assets/CustomLandingScreenView-B_ZwsVad-B9jEz6Eb.js","assets/ConnectEmailForm-DtLW0rv7-Dju2vj65.js","assets/mail-CC0aCGON.js","assets/farcaster-DPlSjvF5-BipHIwTK.js","assets/FingerPrintIcon-C4UKtdhZ.js","assets/ConnectPhoneForm-OQSgPQxP-BqsGnLwF.js","assets/twitch-5IOe4sIQ-7eqF5zby.js","assets/telegram-B-JqnkqZ-n5H-ETjy.js","assets/WalletOverflowButton-BT_VMZP5-CAjRku22.js","assets/CrossAppAuthScreen-Bno8NQSa-BMKbqETe.js","assets/DelegatedActionsConsentScreen-B0AwZEKc-CF88SPmF.js","assets/WalletInfoCard-COAfUoX0-BldwfQ0R.js","assets/LabelXs-BOisBtqT-BQPl9zDj.js","assets/circle-alert-XX1P3bXo.js","assets/DelegatedActionsRevokeScreen-D0mAKxDs-D04jn6rp.js","assets/EmbeddedWalletConnectingScreen-9ADobSle-BtfdUJSq.js","assets/EmbeddedWalletCreatedScreen-B7TnCst_-BEdhQeNz.js","assets/EmbeddedWalletKeyExportScreen-Cmp2CUOa-B41b1eev.js","assets/WarningBanner-BDp-QC9i-CmRb2YTK.js","assets/ExclamationTriangleIcon-BlSJagnu.js","assets/EmbeddedWalletOnAccountCreateScreen-vxaCVWy1-DXa1V8zB.js","assets/use-create-wallet-without-fallback-C0dI_RFZ-BAteiIPx.js","assets/RecoveryPasswordCreateScreen-jWT25C0X-CPKXUiQa.js","assets/SetWalletPasswordForm-vaG_68V0-iOiE0kIG.js","assets/shared-D8TfUpfU-B56REIh0.js","assets/Checkbox-NmGCZeKL-DJgQrwys.js","assets/EmbeddedWalletPasswordUpdateScreen-C4dNnXVI-DPEOQcuH.js","assets/EmbeddedWalletPasswordUpdateSplashScreen-BPTp0nwT-BSpxziNM.js","assets/ErrorScreen-Yi-Rhs0v-h1mugG8k.js","assets/FarcasterConnectStatusScreen-BfoDjDwg-gtlVZaF4.js","assets/OpenLink-BpeNYBKs-CdOeeC5M.js","assets/FarcasterSignerStatusScreen-CsSFmDry-BYE0Wzte.js","assets/CopyToClipboard-DatKc59_-BO34tU1G.js","assets/FundSolWalletWithExternalSolanaWallet-BIk-6GIl-CWGYjkVn.js","assets/getUsdcMintAddress-DFI1hv05-jlhpBW9a.js","assets/FundingEditAmountScreen-CzbuYpdw-CBQvS8FQ.js","assets/FundingMethodSelectionScreen-DdZxdcVe-CcnIAvjW.js","assets/ErrorBanner-BdiArMwu-B_vUEcsG.js","assets/ExclamationCircleIcon-DYJnodYv.js","assets/InfoBanner-D6C6Bt8L-CHBxIRpX.js","assets/getErc20TokenInfo-BFoeg5F6-ftmpWV6K.js","assets/index-D9w4UYos-DCrzuWcG.js","assets/InAppBrowserLoginNotPossible-COUNBN1W-Cdubqk3K.js","assets/InstallWalletScreen-BjprJkty-D492VhAR.js","assets/TodoList-Dn0Qu-vv-Cr0uyd7C.js","assets/LandingScreen-Dp4m_c2X-C7Ny65hB.js","assets/LinkConflictScreen-DMHPhlV7-i-0Yz-Ft.js","assets/StackedContainer-BrIQsdas-Dw5fxOVD.js","assets/capitalizeFirstLetter-DmLYqXsO-tV1Idewc.js","assets/LinkEmailScreen-D7VTyZrH-CNMHS6-_.js","assets/LinkPasskeyScreen-B5LWH116-CK5vb1M4.js","assets/fingerprint-pattern-4Bzos5Y6.js","assets/LinkPhoneScreen-DdRe154C-CinZPURV.js","assets/LoginFailedScreen-CZnzwKpB-DKliY5QC.js","assets/ManualTransferScreen-Bn2qhDAI-CHWeBmnR.js","assets/useWalletBalance-CkNw6kj0-F_fTRgeI.js","assets/MfaAuthEnrollmentFlowScreen-CWMULcQb-COFYjpb-.js","assets/ShieldCheckIcon-H77hhdKB.js","assets/EnrollTotp-CMtBCJbR-BPDM9vGl.js","assets/PinInput-C3_MNxMt-CC2hIbOB.js","assets/MfaAuthVerifyFlowScreen-B3Hw1YN--nfOodzRx.js","assets/to-ui-error-CYFXznYy-Bx0fEjUs.js","assets/TransactionDetails-BdW2lq_B-DpfpuWTl.js","assets/WalletLink-Cj92ni3W-DzRxXB90.js","assets/MfaEnrollmentFlowScreen-DcnqGJ3O-BevAnA-Q.js","assets/MoonpayStatusScreen-lYMS5etL-aDrxybPN.js","assets/OAuthStatusScreen-DEtT_t2P-BQ-j5VyE.js","assets/PasskeySelectSignupOrLogin-DgH-G2yO--G0GDmGY.js","assets/PasskeyStatusScreen-BOac_MoC-C1wfEbPs.js","assets/PasswordRecoveryScreen-CT1bj8Gb-DX7O9Hu1.js","assets/RecoveryOAuthStatusScreen-Ce6qiP-3-C8P6ZbOr.js","assets/styles-BxA7nKxI-BWwmk5-S.js","assets/RecoverySelectionScreen-_u02vomS-Dhaj65m1.js","assets/LockClosedIcon-Be43sY-b.js","assets/index-DNmMGazz-F4bxKRX2.js","assets/JsonTree-Bvd2C29R-DXSSyiMX.js","assets/TransactionErrorView-RLIeHdul-B2cF4MNZ.js","assets/SetAutomaticRecoveryScreen-CUheSZ7h-CovOpVmD.js","assets/SignRequestScreen-BNC2mYtk-BL1A7uNH.js","assets/StandardSignAndSendTransactionScreen-Ckxfv32q-DvIDW_1d.js","assets/TelegramAuthScreen-xobB3RHK-CzLApQoU.js","assets/TransferFromWalletScreen-CLqyv8Ra-C9QTv4fv.js","assets/UpdateEmailScreen-BVzkFXeI-Cxtt_Arv.js","assets/UpdatePhoneScreen-DZ_resri-Bs4Drj2O.js","assets/UserLimitReachedScreen-CTmSitf0-1Jrt76L3.js","assets/WalletInterstitialScreen-tDCVxTFi-C-Dka66U.js","assets/MfaVerifyFlowScreen-BEt8Gfpb-Bo_t85fz.js"])))=>i.map(i=>d[i]);
function ZZ(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Ro=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Uu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function hB(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var eS={exports:{}},Yy={};var p4;function XZ(){if(p4)return Yy;p4=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var a=null;if(s!==void 0&&(a=""+s),i.key!==void 0&&(a=""+i.key),"key"in i){s={};for(var c in i)c!=="key"&&(s[c]=i[c])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:a,ref:i!==void 0?i:null,props:s}}return Yy.Fragment=e,Yy.jsx=n,Yy.jsxs=n,Yy}var y4;function JZ(){return y4||(y4=1,eS.exports=XZ()),eS.exports}var he=JZ(),tS={exports:{}},Et={};var m4;function QZ(){if(m4)return Et;m4=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),m=Symbol.iterator;function g(M){return M===null||typeof M!="object"?null:(M=m&&M[m]||M["@@iterator"],typeof M=="function"?M:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,E={};function O(M,G,J){this.props=M,this.context=G,this.refs=E,this.updater=J||b}O.prototype.isReactComponent={},O.prototype.setState=function(M,G){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,G,"setState")},O.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function k(){}k.prototype=O.prototype;function S(M,G,J){this.props=M,this.context=G,this.refs=E,this.updater=J||b}var A=S.prototype=new k;A.constructor=S,v(A,O.prototype),A.isPureReactComponent=!0;var C=Array.isArray;function I(){}var $={H:null,A:null,T:null,S:null},z=Object.prototype.hasOwnProperty;function L(M,G,J){var X=J.ref;return{$$typeof:t,type:M,key:G,ref:X!==void 0?X:null,props:J}}function B(M,G){return L(M.type,G,M.props)}function V(M){return typeof M=="object"&&M!==null&&M.$$typeof===t}function D(M){var G={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(J){return G[J]})}var F=/\/+/g;function K(M,G){return typeof M=="object"&&M!==null&&M.key!=null?D(""+M.key):G.toString(36)}function T(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(I,I):(M.status="pending",M.then(function(G){M.status==="pending"&&(M.status="fulfilled",M.value=G)},function(G){M.status==="pending"&&(M.status="rejected",M.reason=G)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function x(M,G,J,X,Q){var ge=typeof M;(ge==="undefined"||ge==="boolean")&&(M=null);var we=!1;if(M===null)we=!0;else switch(ge){case"bigint":case"string":case"number":we=!0;break;case"object":switch(M.$$typeof){case t:case e:we=!0;break;case h:return we=M._init,x(we(M._payload),G,J,X,Q)}}if(we)return Q=Q(M),we=X===""?"."+K(M,0):X,C(Q)?(J="",we!=null&&(J=we.replace(F,"$&/")+"/"),x(Q,G,J,"",function(Pe){return Pe})):Q!=null&&(V(Q)&&(Q=B(Q,J+(Q.key==null||M&&M.key===Q.key?"":(""+Q.key).replace(F,"$&/")+"/")+we)),G.push(Q)),1;we=0;var Te=X===""?".":X+":";if(C(M))for(var Ee=0;Ee<M.length;Ee++)X=M[Ee],ge=Te+K(X,Ee),we+=x(X,G,J,ge,Q);else if(Ee=g(M),typeof Ee=="function")for(M=Ee.call(M),Ee=0;!(X=M.next()).done;)X=X.value,ge=Te+K(X,Ee++),we+=x(X,G,J,ge,Q);else if(ge==="object"){if(typeof M.then=="function")return x(T(M),G,J,X,Q);throw G=String(M),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return we}function N(M,G,J){if(M==null)return M;var X=[],Q=0;return x(M,X,"","",function(ge){return G.call(J,ge,Q++)}),X}function j(M){if(M._status===-1){var G=M._result;G=G(),G.then(function(J){(M._status===0||M._status===-1)&&(M._status=1,M._result=J)},function(J){(M._status===0||M._status===-1)&&(M._status=2,M._result=J)}),M._status===-1&&(M._status=0,M._result=G)}if(M._status===1)return M._result.default;throw M._result}var P=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},H={map:N,forEach:function(M,G,J){N(M,function(){G.apply(this,arguments)},J)},count:function(M){var G=0;return N(M,function(){G++}),G},toArray:function(M){return N(M,function(G){return G})||[]},only:function(M){if(!V(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Et.Activity=p,Et.Children=H,Et.Component=O,Et.Fragment=n,Et.Profiler=i,Et.PureComponent=S,Et.StrictMode=r,Et.Suspense=u,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,Et.__COMPILER_RUNTIME={__proto__:null,c:function(M){return $.H.useMemoCache(M)}},Et.cache=function(M){return function(){return M.apply(null,arguments)}},Et.cacheSignal=function(){return null},Et.cloneElement=function(M,G,J){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var X=v({},M.props),Q=M.key;if(G!=null)for(ge in G.key!==void 0&&(Q=""+G.key),G)!z.call(G,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&G.ref===void 0||(X[ge]=G[ge]);var ge=arguments.length-2;if(ge===1)X.children=J;else if(1<ge){for(var we=Array(ge),Te=0;Te<ge;Te++)we[Te]=arguments[Te+2];X.children=we}return L(M.type,Q,X)},Et.createContext=function(M){return M={$$typeof:a,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:s,_context:M},M},Et.createElement=function(M,G,J){var X,Q={},ge=null;if(G!=null)for(X in G.key!==void 0&&(ge=""+G.key),G)z.call(G,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(Q[X]=G[X]);var we=arguments.length-2;if(we===1)Q.children=J;else if(1<we){for(var Te=Array(we),Ee=0;Ee<we;Ee++)Te[Ee]=arguments[Ee+2];Q.children=Te}if(M&&M.defaultProps)for(X in we=M.defaultProps,we)Q[X]===void 0&&(Q[X]=we[X]);return L(M,ge,Q)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(M){return{$$typeof:c,render:M}},Et.isValidElement=V,Et.lazy=function(M){return{$$typeof:h,_payload:{_status:-1,_result:M},_init:j}},Et.memo=function(M,G){return{$$typeof:d,type:M,compare:G===void 0?null:G}},Et.startTransition=function(M){var G=$.T,J={};$.T=J;try{var X=M(),Q=$.S;Q!==null&&Q(J,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(I,P)}catch(ge){P(ge)}finally{G!==null&&J.types!==null&&(G.types=J.types),$.T=G}},Et.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},Et.use=function(M){return $.H.use(M)},Et.useActionState=function(M,G,J){return $.H.useActionState(M,G,J)},Et.useCallback=function(M,G){return $.H.useCallback(M,G)},Et.useContext=function(M){return $.H.useContext(M)},Et.useDebugValue=function(){},Et.useDeferredValue=function(M,G){return $.H.useDeferredValue(M,G)},Et.useEffect=function(M,G){return $.H.useEffect(M,G)},Et.useEffectEvent=function(M){return $.H.useEffectEvent(M)},Et.useId=function(){return $.H.useId()},Et.useImperativeHandle=function(M,G,J){return $.H.useImperativeHandle(M,G,J)},Et.useInsertionEffect=function(M,G){return $.H.useInsertionEffect(M,G)},Et.useLayoutEffect=function(M,G){return $.H.useLayoutEffect(M,G)},Et.useMemo=function(M,G){return $.H.useMemo(M,G)},Et.useOptimistic=function(M,G){return $.H.useOptimistic(M,G)},Et.useReducer=function(M,G,J){return $.H.useReducer(M,G,J)},Et.useRef=function(M){return $.H.useRef(M)},Et.useState=function(M){return $.H.useState(M)},Et.useSyncExternalStore=function(M,G,J){return $.H.useSyncExternalStore(M,G,J)},Et.useTransition=function(){return $.H.useTransition()},Et.version="19.2.3",Et}var g4;function P0(){return g4||(g4=1,tS.exports=QZ()),tS.exports}var Y=P0();const et=Uu(Y),b4=ZZ({__proto__:null,default:et},[Y]);var nS={exports:{}},Zy={},rS={exports:{}},iS={};var w4;function eX(){return w4||(w4=1,(function(t){function e(x,N){var j=x.length;x.push(N);e:for(;0<j;){var P=j-1>>>1,H=x[P];if(0<i(H,N))x[P]=N,x[j]=H,j=P;else break e}}function n(x){return x.length===0?null:x[0]}function r(x){if(x.length===0)return null;var N=x[0],j=x.pop();if(j!==N){x[0]=j;e:for(var P=0,H=x.length,M=H>>>1;P<M;){var G=2*(P+1)-1,J=x[G],X=G+1,Q=x[X];if(0>i(J,j))X<H&&0>i(Q,J)?(x[P]=Q,x[X]=j,P=X):(x[P]=J,x[G]=j,P=G);else if(X<H&&0>i(Q,j))x[P]=Q,x[X]=j,P=X;else break e}}return N}function i(x,N){var j=x.sortIndex-N.sortIndex;return j!==0?j:x.id-N.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var u=[],d=[],h=1,p=null,m=3,g=!1,b=!1,v=!1,E=!1,O=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function A(x){for(var N=n(d);N!==null;){if(N.callback===null)r(d);else if(N.startTime<=x)r(d),N.sortIndex=N.expirationTime,e(u,N);else break;N=n(d)}}function C(x){if(v=!1,A(x),!b)if(n(u)!==null)b=!0,I||(I=!0,D());else{var N=n(d);N!==null&&T(C,N.startTime-x)}}var I=!1,$=-1,z=5,L=-1;function B(){return E?!0:!(t.unstable_now()-L<z)}function V(){if(E=!1,I){var x=t.unstable_now();L=x;var N=!0;try{e:{b=!1,v&&(v=!1,k($),$=-1),g=!0;var j=m;try{t:{for(A(x),p=n(u);p!==null&&!(p.expirationTime>x&&B());){var P=p.callback;if(typeof P=="function"){p.callback=null,m=p.priorityLevel;var H=P(p.expirationTime<=x);if(x=t.unstable_now(),typeof H=="function"){p.callback=H,A(x),N=!0;break t}p===n(u)&&r(u),A(x)}else r(u);p=n(u)}if(p!==null)N=!0;else{var M=n(d);M!==null&&T(C,M.startTime-x),N=!1}}break e}finally{p=null,m=j,g=!1}N=void 0}}finally{N?D():I=!1}}}var D;if(typeof S=="function")D=function(){S(V)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,K=F.port2;F.port1.onmessage=V,D=function(){K.postMessage(null)}}else D=function(){O(V,0)};function T(x,N){$=O(function(){x(t.unstable_now())},N)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(x){x.callback=null},t.unstable_forceFrameRate=function(x){0>x||125<x?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<x?Math.floor(1e3/x):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_next=function(x){switch(m){case 1:case 2:case 3:var N=3;break;default:N=m}var j=m;m=N;try{return x()}finally{m=j}},t.unstable_requestPaint=function(){E=!0},t.unstable_runWithPriority=function(x,N){switch(x){case 1:case 2:case 3:case 4:case 5:break;default:x=3}var j=m;m=x;try{return N()}finally{m=j}},t.unstable_scheduleCallback=function(x,N,j){var P=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?P+j:P):j=P,x){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=j+H,x={id:h++,callback:N,priorityLevel:x,startTime:j,expirationTime:H,sortIndex:-1},j>P?(x.sortIndex=j,e(d,x),n(u)===null&&x===n(d)&&(v?(k($),$=-1):v=!0,T(C,j-P))):(x.sortIndex=H,e(u,x),b||g||(b=!0,I||(I=!0,D()))),x},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(x){var N=m;return function(){var j=m;m=N;try{return x.apply(this,arguments)}finally{m=j}}}})(iS)),iS}var v4;function tX(){return v4||(v4=1,rS.exports=eX()),rS.exports}var sS={exports:{}},bi={};var _4;function nX(){if(_4)return bi;_4=1;var t=P0();function e(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(u,d,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:u,containerInfo:d,implementation:h}}var a=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(u,d){if(u==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return bi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,bi.createPortal=function(u,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return s(u,d,null,h)},bi.flushSync=function(u){var d=a.T,h=r.p;try{if(a.T=null,r.p=2,u)return u()}finally{a.T=d,r.p=h,r.d.f()}},bi.preconnect=function(u,d){typeof u=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(u,d))},bi.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},bi.preinit=function(u,d){if(typeof u=="string"&&d&&typeof d.as=="string"){var h=d.as,p=c(h,d.crossOrigin),m=typeof d.integrity=="string"?d.integrity:void 0,g=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?r.d.S(u,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:p,integrity:m,fetchPriority:g}):h==="script"&&r.d.X(u,{crossOrigin:p,integrity:m,fetchPriority:g,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},bi.preinitModule=function(u,d){if(typeof u=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=c(d.as,d.crossOrigin);r.d.M(u,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(u)},bi.preload=function(u,d){if(typeof u=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,p=c(h,d.crossOrigin);r.d.L(u,h,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},bi.preloadModule=function(u,d){if(typeof u=="string")if(d){var h=c(d.as,d.crossOrigin);r.d.m(u,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(u)},bi.requestFormReset=function(u){r.d.r(u)},bi.unstable_batchedUpdates=function(u,d){return u(d)},bi.useFormState=function(u,d,h){return a.H.useFormState(u,d,h)},bi.useFormStatus=function(){return a.H.useHostTransitionStatus()},bi.version="19.2.3",bi}var E4;function pB(){if(E4)return sS.exports;E4=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),sS.exports=nX(),sS.exports}var A4;function rX(){if(A4)return Zy;A4=1;var t=tX(),e=P0(),n=pB();function r(o){var l="https://react.dev/errors/"+o;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)l+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function s(o){var l=o,f=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(f=l.return),o=l.return;while(o)}return l.tag===3?f:null}function a(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function c(o){if(o.tag===31){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function u(o){if(s(o)!==o)throw Error(r(188))}function d(o){var l=o.alternate;if(!l){if(l=s(o),l===null)throw Error(r(188));return l!==o?null:o}for(var f=o,y=l;;){var w=f.return;if(w===null)break;var _=w.alternate;if(_===null){if(y=w.return,y!==null){f=y;continue}break}if(w.child===_.child){for(_=w.child;_;){if(_===f)return u(w),o;if(_===y)return u(w),l;_=_.sibling}throw Error(r(188))}if(f.return!==y.return)f=w,y=_;else{for(var R=!1,q=w.child;q;){if(q===f){R=!0,f=w,y=_;break}if(q===y){R=!0,y=w,f=_;break}q=q.sibling}if(!R){for(q=_.child;q;){if(q===f){R=!0,f=_,y=w;break}if(q===y){R=!0,y=_,f=w;break}q=q.sibling}if(!R)throw Error(r(189))}}if(f.alternate!==y)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?o:l}function h(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o;for(o=o.child;o!==null;){if(l=h(o),l!==null)return l;o=o.sibling}return null}var p=Object.assign,m=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),S=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function D(o){return o===null||typeof o!="object"?null:(o=V&&o[V]||o["@@iterator"],typeof o=="function"?o:null)}var F=Symbol.for("react.client.reference");function K(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===F?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case v:return"Fragment";case O:return"Profiler";case E:return"StrictMode";case C:return"Suspense";case I:return"SuspenseList";case L:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case b:return"Portal";case S:return o.displayName||"Context";case k:return(o._context.displayName||"Context")+".Consumer";case A:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case $:return l=o.displayName||null,l!==null?l:K(o.type)||"Memo";case z:l=o._payload,o=o._init;try{return K(o(l))}catch{}}return null}var T=Array.isArray,x=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j={pending:!1,data:null,method:null,action:null},P=[],H=-1;function M(o){return{current:o}}function G(o){0>H||(o.current=P[H],P[H]=null,H--)}function J(o,l){H++,P[H]=o.current,o.current=l}var X=M(null),Q=M(null),ge=M(null),we=M(null);function Te(o,l){switch(J(ge,l),J(Q,o),J(X,null),l.nodeType){case 9:case 11:o=(o=l.documentElement)&&(o=o.namespaceURI)?UR(o):0;break;default:if(o=l.tagName,l=l.namespaceURI)l=UR(l),o=BR(l,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}G(X),J(X,o)}function Ee(){G(X),G(Q),G(ge)}function Pe(o){o.memoizedState!==null&&J(we,o);var l=X.current,f=BR(l,o.type);l!==f&&(J(Q,o),J(X,f))}function qe(o){Q.current===o&&(G(X),G(Q)),we.current===o&&(G(we),Vy._currentValue=j)}var rt,ye;function Tt(o){if(rt===void 0)try{throw Error()}catch(f){var l=f.stack.trim().match(/\n( *(at )?)/);rt=l&&l[1]||"",ye=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+rt+o+ye}var Kt=!1;function wt(o,l){if(!o||Kt)return"";Kt=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var y={DetermineComponentFrameRoot:function(){try{if(l){var xe=function(){throw Error()};if(Object.defineProperty(xe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(xe,[])}catch(me){var pe=me}Reflect.construct(o,[],xe)}else{try{xe.call()}catch(me){pe=me}o.call(xe.prototype)}}else{try{throw Error()}catch(me){pe=me}(xe=o())&&typeof xe.catch=="function"&&xe.catch(function(){})}}catch(me){if(me&&pe&&typeof me.stack=="string")return[me.stack,pe.stack]}return[null,null]}};y.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(y.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(y.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=y.DetermineComponentFrameRoot(),R=_[0],q=_[1];if(R&&q){var ne=R.split(`
`),de=q.split(`
`);for(w=y=0;y<ne.length&&!ne[y].includes("DetermineComponentFrameRoot");)y++;for(;w<de.length&&!de[w].includes("DetermineComponentFrameRoot");)w++;if(y===ne.length||w===de.length)for(y=ne.length-1,w=de.length-1;1<=y&&0<=w&&ne[y]!==de[w];)w--;for(;1<=y&&0<=w;y--,w--)if(ne[y]!==de[w]){if(y!==1||w!==1)do if(y--,w--,0>w||ne[y]!==de[w]){var ve=`
`+ne[y].replace(" at new "," at ");return o.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",o.displayName)),ve}while(1<=y&&0<=w);break}}}finally{Kt=!1,Error.prepareStackTrace=f}return(f=o?o.displayName||o.name:"")?Tt(f):""}function yi(o,l){switch(o.tag){case 26:case 27:case 5:return Tt(o.type);case 16:return Tt("Lazy");case 13:return o.child!==l&&l!==null?Tt("Suspense Fallback"):Tt("Suspense");case 19:return Tt("SuspenseList");case 0:case 15:return wt(o.type,!1);case 11:return wt(o.type.render,!1);case 1:return wt(o.type,!0);case 31:return Tt("Activity");default:return""}}function Ht(o){try{var l="",f=null;do l+=yi(o,f),f=o,o=o.return;while(o);return l}catch(y){return`
Error generating stack: `+y.message+`
`+y.stack}}var Le=Object.prototype.hasOwnProperty,He=t.unstable_scheduleCallback,mi=t.unstable_cancelCallback,gi=t.unstable_shouldYield,dt=t.unstable_requestPaint,_n=t.unstable_now,Oa=t.unstable_getCurrentPriorityLevel,ms=t.unstable_ImmediatePriority,zi=t.unstable_UserBlockingPriority,mn=t.unstable_NormalPriority,$r=t.unstable_LowPriority,Yr=t.unstable_IdlePriority,It=t.log,it=t.unstable_setDisableYieldValue,ct=null,ht=null;function On(o){if(typeof It=="function"&&it(o),ht&&typeof ht.setStrictMode=="function")try{ht.setStrictMode(ct,o)}catch{}}var Xt=Math.clz32?Math.clz32:Pr,$t=Math.log,Ke=Math.LN2;function Pr(o){return o>>>=0,o===0?32:31-($t(o)/Ke|0)|0}var Zr=256,Fi=262144,vt=4194304;function gs(o){var l=o&42;if(l!==0)return l;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function ec(o,l,f){var y=o.pendingLanes;if(y===0)return 0;var w=0,_=o.suspendedLanes,R=o.pingedLanes;o=o.warmLanes;var q=y&134217727;return q!==0?(y=q&~_,y!==0?w=gs(y):(R&=q,R!==0?w=gs(R):f||(f=q&~o,f!==0&&(w=gs(f))))):(q=y&~_,q!==0?w=gs(q):R!==0?w=gs(R):f||(f=y&~o,f!==0&&(w=gs(f)))),w===0?0:l!==0&&l!==w&&(l&_)===0&&(_=w&-w,f=l&-l,_>=f||_===32&&(f&4194048)!==0)?l:w}function uo(o,l){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&l)===0}function Hu(o,l){switch(o){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gu(){var o=vt;return vt<<=1,(vt&62914560)===0&&(vt=4194304),o}function U(o){for(var l=[],f=0;31>f;f++)l.push(o);return l}function W(o,l){o.pendingLanes|=l,l!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function te(o,l,f,y,w,_){var R=o.pendingLanes;o.pendingLanes=f,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=f,o.entangledLanes&=f,o.errorRecoveryDisabledLanes&=f,o.shellSuspendCounter=0;var q=o.entanglements,ne=o.expirationTimes,de=o.hiddenUpdates;for(f=R&~f;0<f;){var ve=31-Xt(f),xe=1<<ve;q[ve]=0,ne[ve]=-1;var pe=de[ve];if(pe!==null)for(de[ve]=null,ve=0;ve<pe.length;ve++){var me=pe[ve];me!==null&&(me.lane&=-536870913)}f&=~xe}y!==0&&ee(o,y,0),_!==0&&w===0&&o.tag!==0&&(o.suspendedLanes|=_&~(R&~l))}function ee(o,l,f){o.pendingLanes|=l,o.suspendedLanes&=~l;var y=31-Xt(l);o.entangledLanes|=l,o.entanglements[y]=o.entanglements[y]|1073741824|f&261930}function ae(o,l){var f=o.entangledLanes|=l;for(o=o.entanglements;f;){var y=31-Xt(f),w=1<<y;w&l|o[y]&l&&(o[y]|=l),f&=~w}}function le(o,l){var f=l&-l;return f=(f&42)!==0?1:Ce(f),(f&(o.suspendedLanes|l))!==0?0:f}function Ce(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Ne(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Xe(){var o=N.p;return o!==0?o:(o=window.event,o===void 0?32:o4(o.type))}function yt(o,l){var f=N.p;try{return N.p=o,l()}finally{N.p=f}}var Mt=Math.random().toString(36).slice(2),mt="__reactFiber$"+Mt,Ct="__reactProps$"+Mt,Je="__reactContainer$"+Mt,sn="__reactEvents$"+Mt,an="__reactListeners$"+Mt,cr="__reactHandles$"+Mt,Sr="__reactResources$"+Mt,Yn="__reactMarker$"+Mt;function un(o){delete o[mt],delete o[Ct],delete o[sn],delete o[an],delete o[cr]}function Zn(o){var l=o[mt];if(l)return l;for(var f=o.parentNode;f;){if(l=f[Je]||f[mt]){if(f=l.alternate,l.child!==null||f!==null&&f.child!==null)for(o=VR(o);o!==null;){if(f=o[mt])return f;o=VR(o)}return l}o=f,f=o.parentNode}return null}function Xn(o){if(o=o[mt]||o[Je]){var l=o.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return o}return null}function Vs(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o.stateNode;throw Error(r(33))}function ka(o){var l=o[Sr];return l||(l=o[Sr]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function lt(o){o[Yn]=!0}var En=new Set,_t={};function dn(o,l){Dr(o,l),Dr(o+"Capture",l)}function Dr(o,l){for(_t[o]=l,o=0;o<l.length;o++)En.add(l[o])}var tc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ra={},Nf={};function ny(o){return Le.call(Nf,o)?!0:Le.call(Ra,o)?!1:tc.test(o)?Nf[o]=!0:(Ra[o]=!0,!1)}function $f(o,l,f){if(ny(l))if(f===null)o.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":o.removeAttribute(l);return;case"boolean":var y=l.toLowerCase().slice(0,5);if(y!=="data-"&&y!=="aria-"){o.removeAttribute(l);return}}o.setAttribute(l,""+f)}}function Pf(o,l,f){if(f===null)o.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(l);return}o.setAttribute(l,""+f)}}function Na(o,l,f,y){if(y===null)o.removeAttribute(f);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(f);return}o.setAttributeNS(l,f,""+y)}}function qi(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Nb(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function QE(o,l,f){var y=Object.getOwnPropertyDescriptor(o.constructor.prototype,l);if(!o.hasOwnProperty(l)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var w=y.get,_=y.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return w.call(this)},set:function(R){f=""+R,_.call(this,R)}}),Object.defineProperty(o,l,{enumerable:y.enumerable}),{getValue:function(){return f},setValue:function(R){f=""+R},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function ry(o){if(!o._valueTracker){var l=Nb(o)?"checked":"value";o._valueTracker=QE(o,l,""+o[l])}}function $b(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var f=l.getValue(),y="";return o&&(y=Nb(o)?o.checked?"true":"false":o.value),o=y,o!==f?(l.setValue(o),!0):!1}function Df(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var e2=/[\n"\\]/g;function Wi(o){return o.replace(e2,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function iy(o,l,f,y,w,_,R,q){o.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?o.type=R:o.removeAttribute("type"),l!=null?R==="number"?(l===0&&o.value===""||o.value!=l)&&(o.value=""+qi(l)):o.value!==""+qi(l)&&(o.value=""+qi(l)):R!=="submit"&&R!=="reset"||o.removeAttribute("value"),l!=null?sy(o,R,qi(l)):f!=null?sy(o,R,qi(f)):y!=null&&o.removeAttribute("value"),w==null&&_!=null&&(o.defaultChecked=!!_),w!=null&&(o.checked=w&&typeof w!="function"&&typeof w!="symbol"),q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"?o.name=""+qi(q):o.removeAttribute("name")}function Pb(o,l,f,y,w,_,R,q){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(o.type=_),l!=null||f!=null){if(!(_!=="submit"&&_!=="reset"||l!=null)){ry(o);return}f=f!=null?""+qi(f):"",l=l!=null?""+qi(l):f,q||l===o.value||(o.value=l),o.defaultValue=l}y=y??w,y=typeof y!="function"&&typeof y!="symbol"&&!!y,o.checked=q?o.checked:!!y,o.defaultChecked=!!y,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(o.name=R),ry(o)}function sy(o,l,f){l==="number"&&Df(o.ownerDocument)===o||o.defaultValue===""+f||(o.defaultValue=""+f)}function bl(o,l,f,y){if(o=o.options,l){l={};for(var w=0;w<f.length;w++)l["$"+f[w]]=!0;for(f=0;f<o.length;f++)w=l.hasOwnProperty("$"+o[f].value),o[f].selected!==w&&(o[f].selected=w),w&&y&&(o[f].defaultSelected=!0)}else{for(f=""+qi(f),l=null,w=0;w<o.length;w++){if(o[w].value===f){o[w].selected=!0,y&&(o[w].defaultSelected=!0);return}l!==null||o[w].disabled||(l=o[w])}l!==null&&(l.selected=!0)}}function Db(o,l,f){if(l!=null&&(l=""+qi(l),l!==o.value&&(o.value=l),f==null)){o.defaultValue!==l&&(o.defaultValue=l);return}o.defaultValue=f!=null?""+qi(f):""}function Mb(o,l,f,y){if(l==null){if(y!=null){if(f!=null)throw Error(r(92));if(T(y)){if(1<y.length)throw Error(r(93));y=y[0]}f=y}f==null&&(f=""),l=f}f=qi(l),o.defaultValue=f,y=o.textContent,y===f&&y!==""&&y!==null&&(o.value=y),ry(o)}function wl(o,l){if(l){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=l;return}}o.textContent=l}var t2=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ub(o,l,f){var y=l.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?y?o.setProperty(l,""):l==="float"?o.cssFloat="":o[l]="":y?o.setProperty(l,f):typeof f!="number"||f===0||t2.has(l)?l==="float"?o.cssFloat=f:o[l]=(""+f).trim():o[l]=f+"px"}function Bb(o,l,f){if(l!=null&&typeof l!="object")throw Error(r(62));if(o=o.style,f!=null){for(var y in f)!f.hasOwnProperty(y)||l!=null&&l.hasOwnProperty(y)||(y.indexOf("--")===0?o.setProperty(y,""):y==="float"?o.cssFloat="":o[y]="");for(var w in l)y=l[w],l.hasOwnProperty(w)&&f[w]!==y&&Ub(o,w,y)}else for(var _ in l)l.hasOwnProperty(_)&&Ub(o,_,l[_])}function ay(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var n2=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),r2=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mf(o){return r2.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function $a(){}var oy=null;function cy(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var vl=null,_l=null;function Lb(o){var l=Xn(o);if(l&&(o=l.stateNode)){var f=o[Ct]||null;e:switch(o=l.stateNode,l.type){case"input":if(iy(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),l=f.name,f.type==="radio"&&l!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+Wi(""+l)+'"][type="radio"]'),l=0;l<f.length;l++){var y=f[l];if(y!==o&&y.form===o.form){var w=y[Ct]||null;if(!w)throw Error(r(90));iy(y,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(l=0;l<f.length;l++)y=f[l],y.form===o.form&&$b(y)}break e;case"textarea":Db(o,f.value,f.defaultValue);break e;case"select":l=f.value,l!=null&&bl(o,!!f.multiple,l,!1)}}}var ly=!1;function jb(o,l,f){if(ly)return o(l,f);ly=!0;try{var y=o(l);return y}finally{if(ly=!1,(vl!==null||_l!==null)&&(Sw(),vl&&(l=vl,o=_l,_l=vl=null,Lb(l),o)))for(l=0;l<o.length;l++)Lb(o[l])}}function Ku(o,l){var f=o.stateNode;if(f===null)return null;var y=f[Ct]||null;if(y===null)return null;f=y[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(o=o.type,y=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!y;break e;default:o=!1}if(o)return null;if(f&&typeof f!="function")throw Error(r(231,l,typeof f));return f}var Hs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uy=!1;if(Hs)try{var ce={};Object.defineProperty(ce,"passive",{get:function(){uy=!0}}),window.addEventListener("test",ce,ce),window.removeEventListener("test",ce,ce)}catch{uy=!1}var Z=null,re=null,be=null;function Re(){if(be)return be;var o,l=re,f=l.length,y,w="value"in Z?Z.value:Z.textContent,_=w.length;for(o=0;o<f&&l[o]===w[o];o++);var R=f-o;for(y=1;y<=R&&l[f-y]===w[_-y];y++);return be=w.slice(o,1<y?1-y:void 0)}function Ot(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function Pn(){return!0}function Xr(){return!1}function xr(o){function l(f,y,w,_,R){this._reactName=f,this._targetInst=w,this.type=y,this.nativeEvent=_,this.target=R,this.currentTarget=null;for(var q in o)o.hasOwnProperty(q)&&(f=o[q],this[q]=f?f(_):_[q]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Pn:Xr,this.isPropagationStopped=Xr,this}return p(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Pn)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Pn)},persist:function(){},isPersistent:Pn}),l}var nc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uf=xr(nc),El=p({},nc,{view:0,detail:0}),zb=xr(El),Bf,Lf,dy,Fb=p({},El,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:s2,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==dy&&(dy&&o.type==="mousemove"?(Bf=o.screenX-dy.screenX,Lf=o.screenY-dy.screenY):Lf=Bf=0,dy=o),Bf)},movementY:function(o){return"movementY"in o?o.movementY:Lf}}),jO=xr(Fb),YK=p({},Fb,{dataTransfer:0}),ZK=xr(YK),XK=p({},El,{relatedTarget:0}),i2=xr(XK),JK=p({},nc,{animationName:0,elapsedTime:0,pseudoElement:0}),QK=xr(JK),eY=p({},nc,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),tY=xr(eY),nY=p({},nc,{data:0}),zO=xr(nY),rY={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iY={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sY={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aY(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=sY[o])?!!l[o]:!1}function s2(){return aY}var oY=p({},El,{key:function(o){if(o.key){var l=rY[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=Ot(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?iY[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:s2,charCode:function(o){return o.type==="keypress"?Ot(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Ot(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),cY=xr(oY),lY=p({},Fb,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),FO=xr(lY),uY=p({},El,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:s2}),dY=xr(uY),fY=p({},nc,{propertyName:0,elapsedTime:0,pseudoElement:0}),hY=xr(fY),pY=p({},Fb,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),yY=xr(pY),mY=p({},nc,{newState:0,oldState:0}),gY=xr(mY),bY=[9,13,27,32],a2=Hs&&"CompositionEvent"in window,fy=null;Hs&&"documentMode"in document&&(fy=document.documentMode);var wY=Hs&&"TextEvent"in window&&!fy,qO=Hs&&(!a2||fy&&8<fy&&11>=fy),WO=" ",VO=!1;function HO(o,l){switch(o){case"keyup":return bY.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function GO(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var jf=!1;function vY(o,l){switch(o){case"compositionend":return GO(l);case"keypress":return l.which!==32?null:(VO=!0,WO);case"textInput":return o=l.data,o===WO&&VO?null:o;default:return null}}function _Y(o,l){if(jf)return o==="compositionend"||!a2&&HO(o,l)?(o=Re(),be=re=Z=null,jf=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return qO&&l.locale!=="ko"?null:l.data;default:return null}}var EY={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function KO(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!EY[o.type]:l==="textarea"}function YO(o,l,f,y){vl?_l?_l.push(y):_l=[y]:vl=y,l=Rw(l,"onChange"),0<l.length&&(f=new Uf("onChange","change",null,f,y),o.push({event:f,listeners:l}))}var hy=null,py=null;function AY(o){RR(o,0)}function qb(o){var l=Vs(o);if($b(l))return o}function ZO(o,l){if(o==="change")return l}var XO=!1;if(Hs){var o2;if(Hs){var c2="oninput"in document;if(!c2){var JO=document.createElement("div");JO.setAttribute("oninput","return;"),c2=typeof JO.oninput=="function"}o2=c2}else o2=!1;XO=o2&&(!document.documentMode||9<document.documentMode)}function QO(){hy&&(hy.detachEvent("onpropertychange",e8),py=hy=null)}function e8(o){if(o.propertyName==="value"&&qb(py)){var l=[];YO(l,py,o,cy(o)),jb(AY,l)}}function SY(o,l,f){o==="focusin"?(QO(),hy=l,py=f,hy.attachEvent("onpropertychange",e8)):o==="focusout"&&QO()}function xY(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return qb(py)}function TY(o,l){if(o==="click")return qb(l)}function IY(o,l){if(o==="input"||o==="change")return qb(l)}function CY(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var bs=typeof Object.is=="function"?Object.is:CY;function yy(o,l){if(bs(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var f=Object.keys(o),y=Object.keys(l);if(f.length!==y.length)return!1;for(y=0;y<f.length;y++){var w=f[y];if(!Le.call(l,w)||!bs(o[w],l[w]))return!1}return!0}function t8(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function n8(o,l){var f=t8(o);o=0;for(var y;f;){if(f.nodeType===3){if(y=o+f.textContent.length,o<=l&&y>=l)return{node:f,offset:l-o};o=y}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=t8(f)}}function r8(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?r8(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function i8(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var l=Df(o.document);l instanceof o.HTMLIFrameElement;){try{var f=typeof l.contentWindow.location.href=="string"}catch{f=!1}if(f)o=l.contentWindow;else break;l=Df(o.document)}return l}function l2(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}var OY=Hs&&"documentMode"in document&&11>=document.documentMode,zf=null,u2=null,my=null,d2=!1;function s8(o,l,f){var y=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;d2||zf==null||zf!==Df(y)||(y=zf,"selectionStart"in y&&l2(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),my&&yy(my,y)||(my=y,y=Rw(u2,"onSelect"),0<y.length&&(l=new Uf("onSelect","select",null,l,f),o.push({event:l,listeners:y}),l.target=zf)))}function Yu(o,l){var f={};return f[o.toLowerCase()]=l.toLowerCase(),f["Webkit"+o]="webkit"+l,f["Moz"+o]="moz"+l,f}var Ff={animationend:Yu("Animation","AnimationEnd"),animationiteration:Yu("Animation","AnimationIteration"),animationstart:Yu("Animation","AnimationStart"),transitionrun:Yu("Transition","TransitionRun"),transitionstart:Yu("Transition","TransitionStart"),transitioncancel:Yu("Transition","TransitionCancel"),transitionend:Yu("Transition","TransitionEnd")},f2={},a8={};Hs&&(a8=document.createElement("div").style,"AnimationEvent"in window||(delete Ff.animationend.animation,delete Ff.animationiteration.animation,delete Ff.animationstart.animation),"TransitionEvent"in window||delete Ff.transitionend.transition);function Zu(o){if(f2[o])return f2[o];if(!Ff[o])return o;var l=Ff[o],f;for(f in l)if(l.hasOwnProperty(f)&&f in a8)return f2[o]=l[f];return o}var o8=Zu("animationend"),c8=Zu("animationiteration"),l8=Zu("animationstart"),kY=Zu("transitionrun"),RY=Zu("transitionstart"),NY=Zu("transitioncancel"),u8=Zu("transitionend"),d8=new Map,h2="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");h2.push("scrollEnd");function Pa(o,l){d8.set(o,l),dn(l,[o])}var Wb=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},Gs=[],qf=0,p2=0;function Vb(){for(var o=qf,l=p2=qf=0;l<o;){var f=Gs[l];Gs[l++]=null;var y=Gs[l];Gs[l++]=null;var w=Gs[l];Gs[l++]=null;var _=Gs[l];if(Gs[l++]=null,y!==null&&w!==null){var R=y.pending;R===null?w.next=w:(w.next=R.next,R.next=w),y.pending=w}_!==0&&f8(f,w,_)}}function Hb(o,l,f,y){Gs[qf++]=o,Gs[qf++]=l,Gs[qf++]=f,Gs[qf++]=y,p2|=y,o.lanes|=y,o=o.alternate,o!==null&&(o.lanes|=y)}function y2(o,l,f,y){return Hb(o,l,f,y),Gb(o)}function Xu(o,l){return Hb(o,null,null,l),Gb(o)}function f8(o,l,f){o.lanes|=f;var y=o.alternate;y!==null&&(y.lanes|=f);for(var w=!1,_=o.return;_!==null;)_.childLanes|=f,y=_.alternate,y!==null&&(y.childLanes|=f),_.tag===22&&(o=_.stateNode,o===null||o._visibility&1||(w=!0)),o=_,_=_.return;return o.tag===3?(_=o.stateNode,w&&l!==null&&(w=31-Xt(f),o=_.hiddenUpdates,y=o[w],y===null?o[w]=[l]:y.push(l),l.lane=f|536870912),_):null}function Gb(o){if(50<By)throw By=0,SA=null,Error(r(185));for(var l=o.return;l!==null;)o=l,l=o.return;return o.tag===3?o.stateNode:null}var Wf={};function $Y(o,l,f,y){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ws(o,l,f,y){return new $Y(o,l,f,y)}function m2(o){return o=o.prototype,!(!o||!o.isReactComponent)}function rc(o,l){var f=o.alternate;return f===null?(f=ws(o.tag,l,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=l,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&65011712,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,l=o.dependencies,f.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f.refCleanup=o.refCleanup,f}function h8(o,l){o.flags&=65011714;var f=o.alternate;return f===null?(o.childLanes=0,o.lanes=l,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=f.childLanes,o.lanes=f.lanes,o.child=f.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=f.memoizedProps,o.memoizedState=f.memoizedState,o.updateQueue=f.updateQueue,o.type=f.type,l=f.dependencies,o.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),o}function Kb(o,l,f,y,w,_){var R=0;if(y=o,typeof o=="function")m2(o)&&(R=1);else if(typeof o=="string")R=BZ(o,f,X.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case L:return o=ws(31,f,l,w),o.elementType=L,o.lanes=_,o;case v:return Ju(f.children,w,_,l);case E:R=8,w|=24;break;case O:return o=ws(12,f,l,w|2),o.elementType=O,o.lanes=_,o;case C:return o=ws(13,f,l,w),o.elementType=C,o.lanes=_,o;case I:return o=ws(19,f,l,w),o.elementType=I,o.lanes=_,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case S:R=10;break e;case k:R=9;break e;case A:R=11;break e;case $:R=14;break e;case z:R=16,y=null;break e}R=29,f=Error(r(130,o===null?"null":typeof o,"")),y=null}return l=ws(R,f,l,w),l.elementType=o,l.type=y,l.lanes=_,l}function Ju(o,l,f,y){return o=ws(7,o,y,l),o.lanes=f,o}function g2(o,l,f){return o=ws(6,o,null,l),o.lanes=f,o}function p8(o){var l=ws(18,null,null,0);return l.stateNode=o,l}function b2(o,l,f){return l=ws(4,o.children!==null?o.children:[],o.key,l),l.lanes=f,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}var y8=new WeakMap;function Ks(o,l){if(typeof o=="object"&&o!==null){var f=y8.get(o);return f!==void 0?f:(l={value:o,source:l,stack:Ht(l)},y8.set(o,l),l)}return{value:o,source:l,stack:Ht(l)}}var Vf=[],Hf=0,Yb=null,gy=0,Ys=[],Zs=0,Al=null,fo=1,ho="";function ic(o,l){Vf[Hf++]=gy,Vf[Hf++]=Yb,Yb=o,gy=l}function m8(o,l,f){Ys[Zs++]=fo,Ys[Zs++]=ho,Ys[Zs++]=Al,Al=o;var y=fo;o=ho;var w=32-Xt(y)-1;y&=~(1<<w),f+=1;var _=32-Xt(l)+w;if(30<_){var R=w-w%5;_=(y&(1<<R)-1).toString(32),y>>=R,w-=R,fo=1<<32-Xt(l)+w|f<<w|y,ho=_+o}else fo=1<<_|f<<w|y,ho=o}function w2(o){o.return!==null&&(ic(o,1),m8(o,1,0))}function v2(o){for(;o===Yb;)Yb=Vf[--Hf],Vf[Hf]=null,gy=Vf[--Hf],Vf[Hf]=null;for(;o===Al;)Al=Ys[--Zs],Ys[Zs]=null,ho=Ys[--Zs],Ys[Zs]=null,fo=Ys[--Zs],Ys[Zs]=null}function g8(o,l){Ys[Zs++]=fo,Ys[Zs++]=ho,Ys[Zs++]=Al,fo=l.id,ho=l.overflow,Al=o}var Jr=null,Dn=null,qt=!1,Sl=null,Xs=!1,_2=Error(r(519));function xl(o){var l=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw by(Ks(l,o)),_2}function b8(o){var l=o.stateNode,f=o.type,y=o.memoizedProps;switch(l[mt]=o,l[Ct]=y,f){case"dialog":Lt("cancel",l),Lt("close",l);break;case"iframe":case"object":case"embed":Lt("load",l);break;case"video":case"audio":for(f=0;f<jy.length;f++)Lt(jy[f],l);break;case"source":Lt("error",l);break;case"img":case"image":case"link":Lt("error",l),Lt("load",l);break;case"details":Lt("toggle",l);break;case"input":Lt("invalid",l),Pb(l,y.value,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name,!0);break;case"select":Lt("invalid",l);break;case"textarea":Lt("invalid",l),Mb(l,y.value,y.defaultValue,y.children)}f=y.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||l.textContent===""+f||y.suppressHydrationWarning===!0||DR(l.textContent,f)?(y.popover!=null&&(Lt("beforetoggle",l),Lt("toggle",l)),y.onScroll!=null&&Lt("scroll",l),y.onScrollEnd!=null&&Lt("scrollend",l),y.onClick!=null&&(l.onclick=$a),l=!0):l=!1,l||xl(o,!0)}function w8(o){for(Jr=o.return;Jr;)switch(Jr.tag){case 5:case 31:case 13:Xs=!1;return;case 27:case 3:Xs=!0;return;default:Jr=Jr.return}}function Gf(o){if(o!==Jr)return!1;if(!qt)return w8(o),qt=!0,!1;var l=o.tag,f;if((f=l!==3&&l!==27)&&((f=l===5)&&(f=o.type,f=!(f!=="form"&&f!=="button")||LA(o.type,o.memoizedProps)),f=!f),f&&Dn&&xl(o),w8(o),l===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));Dn=WR(o)}else if(l===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));Dn=WR(o)}else l===27?(l=Dn,Ll(o.type)?(o=WA,WA=null,Dn=o):Dn=l):Dn=Jr?Qs(o.stateNode.nextSibling):null;return!0}function Qu(){Dn=Jr=null,qt=!1}function E2(){var o=Sl;return o!==null&&(Ki===null?Ki=o:Ki.push.apply(Ki,o),Sl=null),o}function by(o){Sl===null?Sl=[o]:Sl.push(o)}var A2=M(null),ed=null,sc=null;function Tl(o,l,f){J(A2,l._currentValue),l._currentValue=f}function ac(o){o._currentValue=A2.current,G(A2)}function S2(o,l,f){for(;o!==null;){var y=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,y!==null&&(y.childLanes|=l)):y!==null&&(y.childLanes&l)!==l&&(y.childLanes|=l),o===f)break;o=o.return}}function x2(o,l,f,y){var w=o.child;for(w!==null&&(w.return=o);w!==null;){var _=w.dependencies;if(_!==null){var R=w.child;_=_.firstContext;e:for(;_!==null;){var q=_;_=w;for(var ne=0;ne<l.length;ne++)if(q.context===l[ne]){_.lanes|=f,q=_.alternate,q!==null&&(q.lanes|=f),S2(_.return,f,o),y||(R=null);break e}_=q.next}}else if(w.tag===18){if(R=w.return,R===null)throw Error(r(341));R.lanes|=f,_=R.alternate,_!==null&&(_.lanes|=f),S2(R,f,o),R=null}else R=w.child;if(R!==null)R.return=w;else for(R=w;R!==null;){if(R===o){R=null;break}if(w=R.sibling,w!==null){w.return=R.return,R=w;break}R=R.return}w=R}}function Kf(o,l,f,y){o=null;for(var w=l,_=!1;w!==null;){if(!_){if((w.flags&524288)!==0)_=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var R=w.alternate;if(R===null)throw Error(r(387));if(R=R.memoizedProps,R!==null){var q=w.type;bs(w.pendingProps.value,R.value)||(o!==null?o.push(q):o=[q])}}else if(w===we.current){if(R=w.alternate,R===null)throw Error(r(387));R.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(o!==null?o.push(Vy):o=[Vy])}w=w.return}o!==null&&x2(l,o,f,y),l.flags|=262144}function Zb(o){for(o=o.firstContext;o!==null;){if(!bs(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function td(o){ed=o,sc=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Qr(o){return v8(ed,o)}function Xb(o,l){return ed===null&&td(o),v8(o,l)}function v8(o,l){var f=l._currentValue;if(l={context:l,memoizedValue:f,next:null},sc===null){if(o===null)throw Error(r(308));sc=l,o.dependencies={lanes:0,firstContext:l},o.flags|=524288}else sc=sc.next=l;return f}var PY=typeof AbortController<"u"?AbortController:function(){var o=[],l=this.signal={aborted:!1,addEventListener:function(f,y){o.push(y)}};this.abort=function(){l.aborted=!0,o.forEach(function(f){return f()})}},DY=t.unstable_scheduleCallback,MY=t.unstable_NormalPriority,lr={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function T2(){return{controller:new PY,data:new Map,refCount:0}}function wy(o){o.refCount--,o.refCount===0&&DY(MY,function(){o.controller.abort()})}var vy=null,I2=0,Yf=0,Zf=null;function UY(o,l){if(vy===null){var f=vy=[];I2=0,Yf=kA(),Zf={status:"pending",value:void 0,then:function(y){f.push(y)}}}return I2++,l.then(_8,_8),l}function _8(){if(--I2===0&&vy!==null){Zf!==null&&(Zf.status="fulfilled");var o=vy;vy=null,Yf=0,Zf=null;for(var l=0;l<o.length;l++)(0,o[l])()}}function BY(o,l){var f=[],y={status:"pending",value:null,reason:null,then:function(w){f.push(w)}};return o.then(function(){y.status="fulfilled",y.value=l;for(var w=0;w<f.length;w++)(0,f[w])(l)},function(w){for(y.status="rejected",y.reason=w,w=0;w<f.length;w++)(0,f[w])(void 0)}),y}var E8=x.S;x.S=function(o,l){sR=_n(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&UY(o,l),E8!==null&&E8(o,l)};var nd=M(null);function C2(){var o=nd.current;return o!==null?o:An.pooledCache}function Jb(o,l){l===null?J(nd,nd.current):J(nd,l.pool)}function A8(){var o=C2();return o===null?null:{parent:lr._currentValue,pool:o}}var Xf=Error(r(460)),O2=Error(r(474)),Qb=Error(r(542)),ew={then:function(){}};function S8(o){return o=o.status,o==="fulfilled"||o==="rejected"}function x8(o,l,f){switch(f=o[f],f===void 0?o.push(l):f!==l&&(l.then($a,$a),l=f),l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,I8(o),o;default:if(typeof l.status=="string")l.then($a,$a);else{if(o=An,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=l,o.status="pending",o.then(function(y){if(l.status==="pending"){var w=l;w.status="fulfilled",w.value=y}},function(y){if(l.status==="pending"){var w=l;w.status="rejected",w.reason=y}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,I8(o),o}throw id=l,Xf}}function rd(o){try{var l=o._init;return l(o._payload)}catch(f){throw f!==null&&typeof f=="object"&&typeof f.then=="function"?(id=f,Xf):f}}var id=null;function T8(){if(id===null)throw Error(r(459));var o=id;return id=null,o}function I8(o){if(o===Xf||o===Qb)throw Error(r(483))}var Jf=null,_y=0;function tw(o){var l=_y;return _y+=1,Jf===null&&(Jf=[]),x8(Jf,o,l)}function Ey(o,l){l=l.props.ref,o.ref=l!==void 0?l:null}function nw(o,l){throw l.$$typeof===m?Error(r(525)):(o=Object.prototype.toString.call(l),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o)))}function C8(o){function l(oe,ie){if(o){var ue=oe.deletions;ue===null?(oe.deletions=[ie],oe.flags|=16):ue.push(ie)}}function f(oe,ie){if(!o)return null;for(;ie!==null;)l(oe,ie),ie=ie.sibling;return null}function y(oe){for(var ie=new Map;oe!==null;)oe.key!==null?ie.set(oe.key,oe):ie.set(oe.index,oe),oe=oe.sibling;return ie}function w(oe,ie){return oe=rc(oe,ie),oe.index=0,oe.sibling=null,oe}function _(oe,ie,ue){return oe.index=ue,o?(ue=oe.alternate,ue!==null?(ue=ue.index,ue<ie?(oe.flags|=67108866,ie):ue):(oe.flags|=67108866,ie)):(oe.flags|=1048576,ie)}function R(oe){return o&&oe.alternate===null&&(oe.flags|=67108866),oe}function q(oe,ie,ue,Se){return ie===null||ie.tag!==6?(ie=g2(ue,oe.mode,Se),ie.return=oe,ie):(ie=w(ie,ue),ie.return=oe,ie)}function ne(oe,ie,ue,Se){var st=ue.type;return st===v?ve(oe,ie,ue.props.children,Se,ue.key):ie!==null&&(ie.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===z&&rd(st)===ie.type)?(ie=w(ie,ue.props),Ey(ie,ue),ie.return=oe,ie):(ie=Kb(ue.type,ue.key,ue.props,null,oe.mode,Se),Ey(ie,ue),ie.return=oe,ie)}function de(oe,ie,ue,Se){return ie===null||ie.tag!==4||ie.stateNode.containerInfo!==ue.containerInfo||ie.stateNode.implementation!==ue.implementation?(ie=b2(ue,oe.mode,Se),ie.return=oe,ie):(ie=w(ie,ue.children||[]),ie.return=oe,ie)}function ve(oe,ie,ue,Se,st){return ie===null||ie.tag!==7?(ie=Ju(ue,oe.mode,Se,st),ie.return=oe,ie):(ie=w(ie,ue),ie.return=oe,ie)}function xe(oe,ie,ue){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return ie=g2(""+ie,oe.mode,ue),ie.return=oe,ie;if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case g:return ue=Kb(ie.type,ie.key,ie.props,null,oe.mode,ue),Ey(ue,ie),ue.return=oe,ue;case b:return ie=b2(ie,oe.mode,ue),ie.return=oe,ie;case z:return ie=rd(ie),xe(oe,ie,ue)}if(T(ie)||D(ie))return ie=Ju(ie,oe.mode,ue,null),ie.return=oe,ie;if(typeof ie.then=="function")return xe(oe,tw(ie),ue);if(ie.$$typeof===S)return xe(oe,Xb(oe,ie),ue);nw(oe,ie)}return null}function pe(oe,ie,ue,Se){var st=ie!==null?ie.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return st!==null?null:q(oe,ie,""+ue,Se);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case g:return ue.key===st?ne(oe,ie,ue,Se):null;case b:return ue.key===st?de(oe,ie,ue,Se):null;case z:return ue=rd(ue),pe(oe,ie,ue,Se)}if(T(ue)||D(ue))return st!==null?null:ve(oe,ie,ue,Se,null);if(typeof ue.then=="function")return pe(oe,ie,tw(ue),Se);if(ue.$$typeof===S)return pe(oe,ie,Xb(oe,ue),Se);nw(oe,ue)}return null}function me(oe,ie,ue,Se,st){if(typeof Se=="string"&&Se!==""||typeof Se=="number"||typeof Se=="bigint")return oe=oe.get(ue)||null,q(ie,oe,""+Se,st);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case g:return oe=oe.get(Se.key===null?ue:Se.key)||null,ne(ie,oe,Se,st);case b:return oe=oe.get(Se.key===null?ue:Se.key)||null,de(ie,oe,Se,st);case z:return Se=rd(Se),me(oe,ie,ue,Se,st)}if(T(Se)||D(Se))return oe=oe.get(ue)||null,ve(ie,oe,Se,st,null);if(typeof Se.then=="function")return me(oe,ie,ue,tw(Se),st);if(Se.$$typeof===S)return me(oe,ie,ue,Xb(ie,Se),st);nw(ie,Se)}return null}function Ze(oe,ie,ue,Se){for(var st=null,Jt=null,Qe=ie,Rt=ie=0,zt=null;Qe!==null&&Rt<ue.length;Rt++){Qe.index>Rt?(zt=Qe,Qe=null):zt=Qe.sibling;var Qt=pe(oe,Qe,ue[Rt],Se);if(Qt===null){Qe===null&&(Qe=zt);break}o&&Qe&&Qt.alternate===null&&l(oe,Qe),ie=_(Qt,ie,Rt),Jt===null?st=Qt:Jt.sibling=Qt,Jt=Qt,Qe=zt}if(Rt===ue.length)return f(oe,Qe),qt&&ic(oe,Rt),st;if(Qe===null){for(;Rt<ue.length;Rt++)Qe=xe(oe,ue[Rt],Se),Qe!==null&&(ie=_(Qe,ie,Rt),Jt===null?st=Qe:Jt.sibling=Qe,Jt=Qe);return qt&&ic(oe,Rt),st}for(Qe=y(Qe);Rt<ue.length;Rt++)zt=me(Qe,oe,Rt,ue[Rt],Se),zt!==null&&(o&&zt.alternate!==null&&Qe.delete(zt.key===null?Rt:zt.key),ie=_(zt,ie,Rt),Jt===null?st=zt:Jt.sibling=zt,Jt=zt);return o&&Qe.forEach(function(Wl){return l(oe,Wl)}),qt&&ic(oe,Rt),st}function ut(oe,ie,ue,Se){if(ue==null)throw Error(r(151));for(var st=null,Jt=null,Qe=ie,Rt=ie=0,zt=null,Qt=ue.next();Qe!==null&&!Qt.done;Rt++,Qt=ue.next()){Qe.index>Rt?(zt=Qe,Qe=null):zt=Qe.sibling;var Wl=pe(oe,Qe,Qt.value,Se);if(Wl===null){Qe===null&&(Qe=zt);break}o&&Qe&&Wl.alternate===null&&l(oe,Qe),ie=_(Wl,ie,Rt),Jt===null?st=Wl:Jt.sibling=Wl,Jt=Wl,Qe=zt}if(Qt.done)return f(oe,Qe),qt&&ic(oe,Rt),st;if(Qe===null){for(;!Qt.done;Rt++,Qt=ue.next())Qt=xe(oe,Qt.value,Se),Qt!==null&&(ie=_(Qt,ie,Rt),Jt===null?st=Qt:Jt.sibling=Qt,Jt=Qt);return qt&&ic(oe,Rt),st}for(Qe=y(Qe);!Qt.done;Rt++,Qt=ue.next())Qt=me(Qe,oe,Rt,Qt.value,Se),Qt!==null&&(o&&Qt.alternate!==null&&Qe.delete(Qt.key===null?Rt:Qt.key),ie=_(Qt,ie,Rt),Jt===null?st=Qt:Jt.sibling=Qt,Jt=Qt);return o&&Qe.forEach(function(YZ){return l(oe,YZ)}),qt&&ic(oe,Rt),st}function wn(oe,ie,ue,Se){if(typeof ue=="object"&&ue!==null&&ue.type===v&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case g:e:{for(var st=ue.key;ie!==null;){if(ie.key===st){if(st=ue.type,st===v){if(ie.tag===7){f(oe,ie.sibling),Se=w(ie,ue.props.children),Se.return=oe,oe=Se;break e}}else if(ie.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===z&&rd(st)===ie.type){f(oe,ie.sibling),Se=w(ie,ue.props),Ey(Se,ue),Se.return=oe,oe=Se;break e}f(oe,ie);break}else l(oe,ie);ie=ie.sibling}ue.type===v?(Se=Ju(ue.props.children,oe.mode,Se,ue.key),Se.return=oe,oe=Se):(Se=Kb(ue.type,ue.key,ue.props,null,oe.mode,Se),Ey(Se,ue),Se.return=oe,oe=Se)}return R(oe);case b:e:{for(st=ue.key;ie!==null;){if(ie.key===st)if(ie.tag===4&&ie.stateNode.containerInfo===ue.containerInfo&&ie.stateNode.implementation===ue.implementation){f(oe,ie.sibling),Se=w(ie,ue.children||[]),Se.return=oe,oe=Se;break e}else{f(oe,ie);break}else l(oe,ie);ie=ie.sibling}Se=b2(ue,oe.mode,Se),Se.return=oe,oe=Se}return R(oe);case z:return ue=rd(ue),wn(oe,ie,ue,Se)}if(T(ue))return Ze(oe,ie,ue,Se);if(D(ue)){if(st=D(ue),typeof st!="function")throw Error(r(150));return ue=st.call(ue),ut(oe,ie,ue,Se)}if(typeof ue.then=="function")return wn(oe,ie,tw(ue),Se);if(ue.$$typeof===S)return wn(oe,ie,Xb(oe,ue),Se);nw(oe,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint"?(ue=""+ue,ie!==null&&ie.tag===6?(f(oe,ie.sibling),Se=w(ie,ue),Se.return=oe,oe=Se):(f(oe,ie),Se=g2(ue,oe.mode,Se),Se.return=oe,oe=Se),R(oe)):f(oe,ie)}return function(oe,ie,ue,Se){try{_y=0;var st=wn(oe,ie,ue,Se);return Jf=null,st}catch(Qe){if(Qe===Xf||Qe===Qb)throw Qe;var Jt=ws(29,Qe,null,oe.mode);return Jt.lanes=Se,Jt.return=oe,Jt}}}var sd=C8(!0),O8=C8(!1),Il=!1;function k2(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function R2(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Cl(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Ol(o,l,f){var y=o.updateQueue;if(y===null)return null;if(y=y.shared,(rn&2)!==0){var w=y.pending;return w===null?l.next=l:(l.next=w.next,w.next=l),y.pending=l,l=Gb(o),f8(o,null,f),l}return Hb(o,y,l,f),Gb(o)}function Ay(o,l,f){if(l=l.updateQueue,l!==null&&(l=l.shared,(f&4194048)!==0)){var y=l.lanes;y&=o.pendingLanes,f|=y,l.lanes=f,ae(o,f)}}function N2(o,l){var f=o.updateQueue,y=o.alternate;if(y!==null&&(y=y.updateQueue,f===y)){var w=null,_=null;if(f=f.firstBaseUpdate,f!==null){do{var R={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};_===null?w=_=R:_=_.next=R,f=f.next}while(f!==null);_===null?w=_=l:_=_.next=l}else w=_=l;f={baseState:y.baseState,firstBaseUpdate:w,lastBaseUpdate:_,shared:y.shared,callbacks:y.callbacks},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=l:o.next=l,f.lastBaseUpdate=l}var $2=!1;function Sy(){if($2){var o=Zf;if(o!==null)throw o}}function xy(o,l,f,y){$2=!1;var w=o.updateQueue;Il=!1;var _=w.firstBaseUpdate,R=w.lastBaseUpdate,q=w.shared.pending;if(q!==null){w.shared.pending=null;var ne=q,de=ne.next;ne.next=null,R===null?_=de:R.next=de,R=ne;var ve=o.alternate;ve!==null&&(ve=ve.updateQueue,q=ve.lastBaseUpdate,q!==R&&(q===null?ve.firstBaseUpdate=de:q.next=de,ve.lastBaseUpdate=ne))}if(_!==null){var xe=w.baseState;R=0,ve=de=ne=null,q=_;do{var pe=q.lane&-536870913,me=pe!==q.lane;if(me?(jt&pe)===pe:(y&pe)===pe){pe!==0&&pe===Yf&&($2=!0),ve!==null&&(ve=ve.next={lane:0,tag:q.tag,payload:q.payload,callback:null,next:null});e:{var Ze=o,ut=q;pe=l;var wn=f;switch(ut.tag){case 1:if(Ze=ut.payload,typeof Ze=="function"){xe=Ze.call(wn,xe,pe);break e}xe=Ze;break e;case 3:Ze.flags=Ze.flags&-65537|128;case 0:if(Ze=ut.payload,pe=typeof Ze=="function"?Ze.call(wn,xe,pe):Ze,pe==null)break e;xe=p({},xe,pe);break e;case 2:Il=!0}}pe=q.callback,pe!==null&&(o.flags|=64,me&&(o.flags|=8192),me=w.callbacks,me===null?w.callbacks=[pe]:me.push(pe))}else me={lane:pe,tag:q.tag,payload:q.payload,callback:q.callback,next:null},ve===null?(de=ve=me,ne=xe):ve=ve.next=me,R|=pe;if(q=q.next,q===null){if(q=w.shared.pending,q===null)break;me=q,q=me.next,me.next=null,w.lastBaseUpdate=me,w.shared.pending=null}}while(!0);ve===null&&(ne=xe),w.baseState=ne,w.firstBaseUpdate=de,w.lastBaseUpdate=ve,_===null&&(w.shared.lanes=0),Pl|=R,o.lanes=R,o.memoizedState=xe}}function k8(o,l){if(typeof o!="function")throw Error(r(191,o));o.call(l)}function R8(o,l){var f=o.callbacks;if(f!==null)for(o.callbacks=null,o=0;o<f.length;o++)k8(f[o],l)}var Qf=M(null),rw=M(0);function N8(o,l){o=yc,J(rw,o),J(Qf,l),yc=o|l.baseLanes}function P2(){J(rw,yc),J(Qf,Qf.current)}function D2(){yc=rw.current,G(Qf),G(rw)}var vs=M(null),Js=null;function kl(o){var l=o.alternate;J(tr,tr.current&1),J(vs,o),Js===null&&(l===null||Qf.current!==null||l.memoizedState!==null)&&(Js=o)}function M2(o){J(tr,tr.current),J(vs,o),Js===null&&(Js=o)}function $8(o){o.tag===22?(J(tr,tr.current),J(vs,o),Js===null&&(Js=o)):Rl()}function Rl(){J(tr,tr.current),J(vs,vs.current)}function _s(o){G(vs),Js===o&&(Js=null),G(tr)}var tr=M(0);function iw(o){for(var l=o;l!==null;){if(l.tag===13){var f=l.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||FA(f)||qA(f)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var oc=0,kt=null,gn=null,ur=null,sw=!1,eh=!1,ad=!1,aw=0,Ty=0,th=null,LY=0;function Jn(){throw Error(r(321))}function U2(o,l){if(l===null)return!1;for(var f=0;f<l.length&&f<o.length;f++)if(!bs(o[f],l[f]))return!1;return!0}function B2(o,l,f,y,w,_){return oc=_,kt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,x.H=o===null||o.memoizedState===null?mk:Q2,ad=!1,_=f(y,w),ad=!1,eh&&(_=D8(l,f,y,w)),P8(o),_}function P8(o){x.H=Oy;var l=gn!==null&&gn.next!==null;if(oc=0,ur=gn=kt=null,sw=!1,Ty=0,th=null,l)throw Error(r(300));o===null||dr||(o=o.dependencies,o!==null&&Zb(o)&&(dr=!0))}function D8(o,l,f,y){kt=o;var w=0;do{if(eh&&(th=null),Ty=0,eh=!1,25<=w)throw Error(r(301));if(w+=1,ur=gn=null,o.updateQueue!=null){var _=o.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}x.H=gk,_=l(f,y)}while(eh);return _}function jY(){var o=x.H,l=o.useState()[0];return l=typeof l.then=="function"?Iy(l):l,o=o.useState()[0],(gn!==null?gn.memoizedState:null)!==o&&(kt.flags|=1024),l}function L2(){var o=aw!==0;return aw=0,o}function j2(o,l,f){l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~f}function z2(o){if(sw){for(o=o.memoizedState;o!==null;){var l=o.queue;l!==null&&(l.pending=null),o=o.next}sw=!1}oc=0,ur=gn=kt=null,eh=!1,Ty=aw=0,th=null}function Ci(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ur===null?kt.memoizedState=ur=o:ur=ur.next=o,ur}function nr(){if(gn===null){var o=kt.alternate;o=o!==null?o.memoizedState:null}else o=gn.next;var l=ur===null?kt.memoizedState:ur.next;if(l!==null)ur=l,gn=o;else{if(o===null)throw kt.alternate===null?Error(r(467)):Error(r(310));gn=o,o={memoizedState:gn.memoizedState,baseState:gn.baseState,baseQueue:gn.baseQueue,queue:gn.queue,next:null},ur===null?kt.memoizedState=ur=o:ur=ur.next=o}return ur}function ow(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Iy(o){var l=Ty;return Ty+=1,th===null&&(th=[]),o=x8(th,o,l),l=kt,(ur===null?l.memoizedState:ur.next)===null&&(l=l.alternate,x.H=l===null||l.memoizedState===null?mk:Q2),o}function cw(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Iy(o);if(o.$$typeof===S)return Qr(o)}throw Error(r(438,String(o)))}function F2(o){var l=null,f=kt.updateQueue;if(f!==null&&(l=f.memoCache),l==null){var y=kt.alternate;y!==null&&(y=y.updateQueue,y!==null&&(y=y.memoCache,y!=null&&(l={data:y.data.map(function(w){return w.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),f===null&&(f=ow(),kt.updateQueue=f),f.memoCache=l,f=l.data[l.index],f===void 0)for(f=l.data[l.index]=Array(o),y=0;y<o;y++)f[y]=B;return l.index++,f}function cc(o,l){return typeof l=="function"?l(o):l}function lw(o){var l=nr();return q2(l,gn,o)}function q2(o,l,f){var y=o.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=f;var w=o.baseQueue,_=y.pending;if(_!==null){if(w!==null){var R=w.next;w.next=_.next,_.next=R}l.baseQueue=w=_,y.pending=null}if(_=o.baseState,w===null)o.memoizedState=_;else{l=w.next;var q=R=null,ne=null,de=l,ve=!1;do{var xe=de.lane&-536870913;if(xe!==de.lane?(jt&xe)===xe:(oc&xe)===xe){var pe=de.revertLane;if(pe===0)ne!==null&&(ne=ne.next={lane:0,revertLane:0,gesture:null,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null}),xe===Yf&&(ve=!0);else if((oc&pe)===pe){de=de.next,pe===Yf&&(ve=!0);continue}else xe={lane:0,revertLane:de.revertLane,gesture:null,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null},ne===null?(q=ne=xe,R=_):ne=ne.next=xe,kt.lanes|=pe,Pl|=pe;xe=de.action,ad&&f(_,xe),_=de.hasEagerState?de.eagerState:f(_,xe)}else pe={lane:xe,revertLane:de.revertLane,gesture:de.gesture,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null},ne===null?(q=ne=pe,R=_):ne=ne.next=pe,kt.lanes|=xe,Pl|=xe;de=de.next}while(de!==null&&de!==l);if(ne===null?R=_:ne.next=q,!bs(_,o.memoizedState)&&(dr=!0,ve&&(f=Zf,f!==null)))throw f;o.memoizedState=_,o.baseState=R,o.baseQueue=ne,y.lastRenderedState=_}return w===null&&(y.lanes=0),[o.memoizedState,y.dispatch]}function W2(o){var l=nr(),f=l.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=o;var y=f.dispatch,w=f.pending,_=l.memoizedState;if(w!==null){f.pending=null;var R=w=w.next;do _=o(_,R.action),R=R.next;while(R!==w);bs(_,l.memoizedState)||(dr=!0),l.memoizedState=_,l.baseQueue===null&&(l.baseState=_),f.lastRenderedState=_}return[_,y]}function M8(o,l,f){var y=kt,w=nr(),_=qt;if(_){if(f===void 0)throw Error(r(407));f=f()}else f=l();var R=!bs((gn||w).memoizedState,f);if(R&&(w.memoizedState=f,dr=!0),w=w.queue,G2(L8.bind(null,y,w,o),[o]),w.getSnapshot!==l||R||ur!==null&&ur.memoizedState.tag&1){if(y.flags|=2048,nh(9,{destroy:void 0},B8.bind(null,y,w,f,l),null),An===null)throw Error(r(349));_||(oc&127)!==0||U8(y,l,f)}return f}function U8(o,l,f){o.flags|=16384,o={getSnapshot:l,value:f},l=kt.updateQueue,l===null?(l=ow(),kt.updateQueue=l,l.stores=[o]):(f=l.stores,f===null?l.stores=[o]:f.push(o))}function B8(o,l,f,y){l.value=f,l.getSnapshot=y,j8(l)&&z8(o)}function L8(o,l,f){return f(function(){j8(l)&&z8(o)})}function j8(o){var l=o.getSnapshot;o=o.value;try{var f=l();return!bs(o,f)}catch{return!0}}function z8(o){var l=Xu(o,2);l!==null&&Yi(l,o,2)}function V2(o){var l=Ci();if(typeof o=="function"){var f=o;if(o=f(),ad){On(!0);try{f()}finally{On(!1)}}}return l.memoizedState=l.baseState=o,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cc,lastRenderedState:o},l}function F8(o,l,f,y){return o.baseState=f,q2(o,gn,typeof y=="function"?y:cc)}function zY(o,l,f,y,w){if(fw(o))throw Error(r(485));if(o=l.action,o!==null){var _={payload:w,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){_.listeners.push(R)}};x.T!==null?f(!0):_.isTransition=!1,y(_),f=l.pending,f===null?(_.next=l.pending=_,q8(l,_)):(_.next=f.next,l.pending=f.next=_)}}function q8(o,l){var f=l.action,y=l.payload,w=o.state;if(l.isTransition){var _=x.T,R={};x.T=R;try{var q=f(w,y),ne=x.S;ne!==null&&ne(R,q),W8(o,l,q)}catch(de){H2(o,l,de)}finally{_!==null&&R.types!==null&&(_.types=R.types),x.T=_}}else try{_=f(w,y),W8(o,l,_)}catch(de){H2(o,l,de)}}function W8(o,l,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(y){V8(o,l,y)},function(y){return H2(o,l,y)}):V8(o,l,f)}function V8(o,l,f){l.status="fulfilled",l.value=f,H8(l),o.state=f,l=o.pending,l!==null&&(f=l.next,f===l?o.pending=null:(f=f.next,l.next=f,q8(o,f)))}function H2(o,l,f){var y=o.pending;if(o.pending=null,y!==null){y=y.next;do l.status="rejected",l.reason=f,H8(l),l=l.next;while(l!==y)}o.action=null}function H8(o){o=o.listeners;for(var l=0;l<o.length;l++)(0,o[l])()}function G8(o,l){return l}function K8(o,l){if(qt){var f=An.formState;if(f!==null){e:{var y=kt;if(qt){if(Dn){t:{for(var w=Dn,_=Xs;w.nodeType!==8;){if(!_){w=null;break t}if(w=Qs(w.nextSibling),w===null){w=null;break t}}_=w.data,w=_==="F!"||_==="F"?w:null}if(w){Dn=Qs(w.nextSibling),y=w.data==="F!";break e}}xl(y)}y=!1}y&&(l=f[0])}}return f=Ci(),f.memoizedState=f.baseState=l,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:G8,lastRenderedState:l},f.queue=y,f=hk.bind(null,kt,y),y.dispatch=f,y=V2(!1),_=J2.bind(null,kt,!1,y.queue),y=Ci(),w={state:l,dispatch:null,action:o,pending:null},y.queue=w,f=zY.bind(null,kt,w,_,f),w.dispatch=f,y.memoizedState=o,[l,f,!1]}function Y8(o){var l=nr();return Z8(l,gn,o)}function Z8(o,l,f){if(l=q2(o,l,G8)[0],o=lw(cc)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var y=Iy(l)}catch(R){throw R===Xf?Qb:R}else y=l;l=nr();var w=l.queue,_=w.dispatch;return f!==l.memoizedState&&(kt.flags|=2048,nh(9,{destroy:void 0},FY.bind(null,w,f),null)),[y,_,o]}function FY(o,l){o.action=l}function X8(o){var l=nr(),f=gn;if(f!==null)return Z8(l,f,o);nr(),l=l.memoizedState,f=nr();var y=f.queue.dispatch;return f.memoizedState=o,[l,y,!1]}function nh(o,l,f,y){return o={tag:o,create:f,deps:y,inst:l,next:null},l=kt.updateQueue,l===null&&(l=ow(),kt.updateQueue=l),f=l.lastEffect,f===null?l.lastEffect=o.next=o:(y=f.next,f.next=o,o.next=y,l.lastEffect=o),o}function J8(){return nr().memoizedState}function uw(o,l,f,y){var w=Ci();kt.flags|=o,w.memoizedState=nh(1|l,{destroy:void 0},f,y===void 0?null:y)}function dw(o,l,f,y){var w=nr();y=y===void 0?null:y;var _=w.memoizedState.inst;gn!==null&&y!==null&&U2(y,gn.memoizedState.deps)?w.memoizedState=nh(l,_,f,y):(kt.flags|=o,w.memoizedState=nh(1|l,_,f,y))}function Q8(o,l){uw(8390656,8,o,l)}function G2(o,l){dw(2048,8,o,l)}function qY(o){kt.flags|=4;var l=kt.updateQueue;if(l===null)l=ow(),kt.updateQueue=l,l.events=[o];else{var f=l.events;f===null?l.events=[o]:f.push(o)}}function ek(o){var l=nr().memoizedState;return qY({ref:l,nextImpl:o}),function(){if((rn&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}function tk(o,l){return dw(4,2,o,l)}function nk(o,l){return dw(4,4,o,l)}function rk(o,l){if(typeof l=="function"){o=o();var f=l(o);return function(){typeof f=="function"?f():l(null)}}if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function ik(o,l,f){f=f!=null?f.concat([o]):null,dw(4,4,rk.bind(null,l,o),f)}function K2(){}function sk(o,l){var f=nr();l=l===void 0?null:l;var y=f.memoizedState;return l!==null&&U2(l,y[1])?y[0]:(f.memoizedState=[o,l],o)}function ak(o,l){var f=nr();l=l===void 0?null:l;var y=f.memoizedState;if(l!==null&&U2(l,y[1]))return y[0];if(y=o(),ad){On(!0);try{o()}finally{On(!1)}}return f.memoizedState=[y,l],y}function Y2(o,l,f){return f===void 0||(oc&1073741824)!==0&&(jt&261930)===0?o.memoizedState=l:(o.memoizedState=f,o=oR(),kt.lanes|=o,Pl|=o,f)}function ok(o,l,f,y){return bs(f,l)?f:Qf.current!==null?(o=Y2(o,f,y),bs(o,l)||(dr=!0),o):(oc&42)===0||(oc&1073741824)!==0&&(jt&261930)===0?(dr=!0,o.memoizedState=f):(o=oR(),kt.lanes|=o,Pl|=o,l)}function ck(o,l,f,y,w){var _=N.p;N.p=_!==0&&8>_?_:8;var R=x.T,q={};x.T=q,J2(o,!1,l,f);try{var ne=w(),de=x.S;if(de!==null&&de(q,ne),ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var ve=BY(ne,y);Cy(o,l,ve,Ss(o))}else Cy(o,l,y,Ss(o))}catch(xe){Cy(o,l,{then:function(){},status:"rejected",reason:xe},Ss())}finally{N.p=_,R!==null&&q.types!==null&&(R.types=q.types),x.T=R}}function WY(){}function Z2(o,l,f,y){if(o.tag!==5)throw Error(r(476));var w=lk(o).queue;ck(o,w,l,j,f===null?WY:function(){return uk(o),f(y)})}function lk(o){var l=o.memoizedState;if(l!==null)return l;l={memoizedState:j,baseState:j,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cc,lastRenderedState:j},next:null};var f={};return l.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cc,lastRenderedState:f},next:null},o.memoizedState=l,o=o.alternate,o!==null&&(o.memoizedState=l),l}function uk(o){var l=lk(o);l.next===null&&(l=o.alternate.memoizedState),Cy(o,l.next.queue,{},Ss())}function X2(){return Qr(Vy)}function dk(){return nr().memoizedState}function fk(){return nr().memoizedState}function VY(o){for(var l=o.return;l!==null;){switch(l.tag){case 24:case 3:var f=Ss();o=Cl(f);var y=Ol(l,o,f);y!==null&&(Yi(y,l,f),Ay(y,l,f)),l={cache:T2()},o.payload=l;return}l=l.return}}function HY(o,l,f){var y=Ss();f={lane:y,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},fw(o)?pk(l,f):(f=y2(o,l,f,y),f!==null&&(Yi(f,o,y),yk(f,l,y)))}function hk(o,l,f){var y=Ss();Cy(o,l,f,y)}function Cy(o,l,f,y){var w={lane:y,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null};if(fw(o))pk(l,w);else{var _=o.alternate;if(o.lanes===0&&(_===null||_.lanes===0)&&(_=l.lastRenderedReducer,_!==null))try{var R=l.lastRenderedState,q=_(R,f);if(w.hasEagerState=!0,w.eagerState=q,bs(q,R))return Hb(o,l,w,0),An===null&&Vb(),!1}catch{}if(f=y2(o,l,w,y),f!==null)return Yi(f,o,y),yk(f,l,y),!0}return!1}function J2(o,l,f,y){if(y={lane:2,revertLane:kA(),gesture:null,action:y,hasEagerState:!1,eagerState:null,next:null},fw(o)){if(l)throw Error(r(479))}else l=y2(o,f,y,2),l!==null&&Yi(l,o,2)}function fw(o){var l=o.alternate;return o===kt||l!==null&&l===kt}function pk(o,l){eh=sw=!0;var f=o.pending;f===null?l.next=l:(l.next=f.next,f.next=l),o.pending=l}function yk(o,l,f){if((f&4194048)!==0){var y=l.lanes;y&=o.pendingLanes,f|=y,l.lanes=f,ae(o,f)}}var Oy={readContext:Qr,use:cw,useCallback:Jn,useContext:Jn,useEffect:Jn,useImperativeHandle:Jn,useLayoutEffect:Jn,useInsertionEffect:Jn,useMemo:Jn,useReducer:Jn,useRef:Jn,useState:Jn,useDebugValue:Jn,useDeferredValue:Jn,useTransition:Jn,useSyncExternalStore:Jn,useId:Jn,useHostTransitionStatus:Jn,useFormState:Jn,useActionState:Jn,useOptimistic:Jn,useMemoCache:Jn,useCacheRefresh:Jn};Oy.useEffectEvent=Jn;var mk={readContext:Qr,use:cw,useCallback:function(o,l){return Ci().memoizedState=[o,l===void 0?null:l],o},useContext:Qr,useEffect:Q8,useImperativeHandle:function(o,l,f){f=f!=null?f.concat([o]):null,uw(4194308,4,rk.bind(null,l,o),f)},useLayoutEffect:function(o,l){return uw(4194308,4,o,l)},useInsertionEffect:function(o,l){uw(4,2,o,l)},useMemo:function(o,l){var f=Ci();l=l===void 0?null:l;var y=o();if(ad){On(!0);try{o()}finally{On(!1)}}return f.memoizedState=[y,l],y},useReducer:function(o,l,f){var y=Ci();if(f!==void 0){var w=f(l);if(ad){On(!0);try{f(l)}finally{On(!1)}}}else w=l;return y.memoizedState=y.baseState=w,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:w},y.queue=o,o=o.dispatch=HY.bind(null,kt,o),[y.memoizedState,o]},useRef:function(o){var l=Ci();return o={current:o},l.memoizedState=o},useState:function(o){o=V2(o);var l=o.queue,f=hk.bind(null,kt,l);return l.dispatch=f,[o.memoizedState,f]},useDebugValue:K2,useDeferredValue:function(o,l){var f=Ci();return Y2(f,o,l)},useTransition:function(){var o=V2(!1);return o=ck.bind(null,kt,o.queue,!0,!1),Ci().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,l,f){var y=kt,w=Ci();if(qt){if(f===void 0)throw Error(r(407));f=f()}else{if(f=l(),An===null)throw Error(r(349));(jt&127)!==0||U8(y,l,f)}w.memoizedState=f;var _={value:f,getSnapshot:l};return w.queue=_,Q8(L8.bind(null,y,_,o),[o]),y.flags|=2048,nh(9,{destroy:void 0},B8.bind(null,y,_,f,l),null),f},useId:function(){var o=Ci(),l=An.identifierPrefix;if(qt){var f=ho,y=fo;f=(y&~(1<<32-Xt(y)-1)).toString(32)+f,l="_"+l+"R_"+f,f=aw++,0<f&&(l+="H"+f.toString(32)),l+="_"}else f=LY++,l="_"+l+"r_"+f.toString(32)+"_";return o.memoizedState=l},useHostTransitionStatus:X2,useFormState:K8,useActionState:K8,useOptimistic:function(o){var l=Ci();l.memoizedState=l.baseState=o;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=f,l=J2.bind(null,kt,!0,f),f.dispatch=l,[o,l]},useMemoCache:F2,useCacheRefresh:function(){return Ci().memoizedState=VY.bind(null,kt)},useEffectEvent:function(o){var l=Ci(),f={impl:o};return l.memoizedState=f,function(){if((rn&2)!==0)throw Error(r(440));return f.impl.apply(void 0,arguments)}}},Q2={readContext:Qr,use:cw,useCallback:sk,useContext:Qr,useEffect:G2,useImperativeHandle:ik,useInsertionEffect:tk,useLayoutEffect:nk,useMemo:ak,useReducer:lw,useRef:J8,useState:function(){return lw(cc)},useDebugValue:K2,useDeferredValue:function(o,l){var f=nr();return ok(f,gn.memoizedState,o,l)},useTransition:function(){var o=lw(cc)[0],l=nr().memoizedState;return[typeof o=="boolean"?o:Iy(o),l]},useSyncExternalStore:M8,useId:dk,useHostTransitionStatus:X2,useFormState:Y8,useActionState:Y8,useOptimistic:function(o,l){var f=nr();return F8(f,gn,o,l)},useMemoCache:F2,useCacheRefresh:fk};Q2.useEffectEvent=ek;var gk={readContext:Qr,use:cw,useCallback:sk,useContext:Qr,useEffect:G2,useImperativeHandle:ik,useInsertionEffect:tk,useLayoutEffect:nk,useMemo:ak,useReducer:W2,useRef:J8,useState:function(){return W2(cc)},useDebugValue:K2,useDeferredValue:function(o,l){var f=nr();return gn===null?Y2(f,o,l):ok(f,gn.memoizedState,o,l)},useTransition:function(){var o=W2(cc)[0],l=nr().memoizedState;return[typeof o=="boolean"?o:Iy(o),l]},useSyncExternalStore:M8,useId:dk,useHostTransitionStatus:X2,useFormState:X8,useActionState:X8,useOptimistic:function(o,l){var f=nr();return gn!==null?F8(f,gn,o,l):(f.baseState=o,[o,f.queue.dispatch])},useMemoCache:F2,useCacheRefresh:fk};gk.useEffectEvent=ek;function eA(o,l,f,y){l=o.memoizedState,f=f(y,l),f=f==null?l:p({},l,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var tA={enqueueSetState:function(o,l,f){o=o._reactInternals;var y=Ss(),w=Cl(y);w.payload=l,f!=null&&(w.callback=f),l=Ol(o,w,y),l!==null&&(Yi(l,o,y),Ay(l,o,y))},enqueueReplaceState:function(o,l,f){o=o._reactInternals;var y=Ss(),w=Cl(y);w.tag=1,w.payload=l,f!=null&&(w.callback=f),l=Ol(o,w,y),l!==null&&(Yi(l,o,y),Ay(l,o,y))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var f=Ss(),y=Cl(f);y.tag=2,l!=null&&(y.callback=l),l=Ol(o,y,f),l!==null&&(Yi(l,o,f),Ay(l,o,f))}};function bk(o,l,f,y,w,_,R){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(y,_,R):l.prototype&&l.prototype.isPureReactComponent?!yy(f,y)||!yy(w,_):!0}function wk(o,l,f,y){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(f,y),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(f,y),l.state!==o&&tA.enqueueReplaceState(l,l.state,null)}function od(o,l){var f=l;if("ref"in l){f={};for(var y in l)y!=="ref"&&(f[y]=l[y])}if(o=o.defaultProps){f===l&&(f=p({},f));for(var w in o)f[w]===void 0&&(f[w]=o[w])}return f}function vk(o){Wb(o)}function _k(o){console.error(o)}function Ek(o){Wb(o)}function hw(o,l){try{var f=o.onUncaughtError;f(l.value,{componentStack:l.stack})}catch(y){setTimeout(function(){throw y})}}function Ak(o,l,f){try{var y=o.onCaughtError;y(f.value,{componentStack:f.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function nA(o,l,f){return f=Cl(f),f.tag=3,f.payload={element:null},f.callback=function(){hw(o,l)},f}function Sk(o){return o=Cl(o),o.tag=3,o}function xk(o,l,f,y){var w=f.type.getDerivedStateFromError;if(typeof w=="function"){var _=y.value;o.payload=function(){return w(_)},o.callback=function(){Ak(l,f,y)}}var R=f.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(o.callback=function(){Ak(l,f,y),typeof w!="function"&&(Dl===null?Dl=new Set([this]):Dl.add(this));var q=y.stack;this.componentDidCatch(y.value,{componentStack:q!==null?q:""})})}function GY(o,l,f,y,w){if(f.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){if(l=f.alternate,l!==null&&Kf(l,f,w,!0),f=vs.current,f!==null){switch(f.tag){case 31:case 13:return Js===null?xw():f.alternate===null&&Qn===0&&(Qn=3),f.flags&=-257,f.flags|=65536,f.lanes=w,y===ew?f.flags|=16384:(l=f.updateQueue,l===null?f.updateQueue=new Set([y]):l.add(y),IA(o,y,w)),!1;case 22:return f.flags|=65536,y===ew?f.flags|=16384:(l=f.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([y])},f.updateQueue=l):(f=l.retryQueue,f===null?l.retryQueue=new Set([y]):f.add(y)),IA(o,y,w)),!1}throw Error(r(435,f.tag))}return IA(o,y,w),xw(),!1}if(qt)return l=vs.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=w,y!==_2&&(o=Error(r(422),{cause:y}),by(Ks(o,f)))):(y!==_2&&(l=Error(r(423),{cause:y}),by(Ks(l,f))),o=o.current.alternate,o.flags|=65536,w&=-w,o.lanes|=w,y=Ks(y,f),w=nA(o.stateNode,y,w),N2(o,w),Qn!==4&&(Qn=2)),!1;var _=Error(r(520),{cause:y});if(_=Ks(_,f),Uy===null?Uy=[_]:Uy.push(_),Qn!==4&&(Qn=2),l===null)return!0;y=Ks(y,f),f=l;do{switch(f.tag){case 3:return f.flags|=65536,o=w&-w,f.lanes|=o,o=nA(f.stateNode,y,o),N2(f,o),!1;case 1:if(l=f.type,_=f.stateNode,(f.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Dl===null||!Dl.has(_))))return f.flags|=65536,w&=-w,f.lanes|=w,w=Sk(w),xk(w,o,f,y),N2(f,w),!1}f=f.return}while(f!==null);return!1}var rA=Error(r(461)),dr=!1;function ei(o,l,f,y){l.child=o===null?O8(l,null,f,y):sd(l,o.child,f,y)}function Tk(o,l,f,y,w){f=f.render;var _=l.ref;if("ref"in y){var R={};for(var q in y)q!=="ref"&&(R[q]=y[q])}else R=y;return td(l),y=B2(o,l,f,R,_,w),q=L2(),o!==null&&!dr?(j2(o,l,w),lc(o,l,w)):(qt&&q&&w2(l),l.flags|=1,ei(o,l,y,w),l.child)}function Ik(o,l,f,y,w){if(o===null){var _=f.type;return typeof _=="function"&&!m2(_)&&_.defaultProps===void 0&&f.compare===null?(l.tag=15,l.type=_,Ck(o,l,_,y,w)):(o=Kb(f.type,null,y,l,l.mode,w),o.ref=l.ref,o.return=l,l.child=o)}if(_=o.child,!dA(o,w)){var R=_.memoizedProps;if(f=f.compare,f=f!==null?f:yy,f(R,y)&&o.ref===l.ref)return lc(o,l,w)}return l.flags|=1,o=rc(_,y),o.ref=l.ref,o.return=l,l.child=o}function Ck(o,l,f,y,w){if(o!==null){var _=o.memoizedProps;if(yy(_,y)&&o.ref===l.ref)if(dr=!1,l.pendingProps=y=_,dA(o,w))(o.flags&131072)!==0&&(dr=!0);else return l.lanes=o.lanes,lc(o,l,w)}return iA(o,l,f,y,w)}function Ok(o,l,f,y){var w=y.children,_=o!==null?o.memoizedState:null;if(o===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),y.mode==="hidden"){if((l.flags&128)!==0){if(_=_!==null?_.baseLanes|f:f,o!==null){for(y=l.child=o.child,w=0;y!==null;)w=w|y.lanes|y.childLanes,y=y.sibling;y=w&~_}else y=0,l.child=null;return kk(o,l,_,f,y)}if((f&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},o!==null&&Jb(l,_!==null?_.cachePool:null),_!==null?N8(l,_):P2(),$8(l);else return y=l.lanes=536870912,kk(o,l,_!==null?_.baseLanes|f:f,f,y)}else _!==null?(Jb(l,_.cachePool),N8(l,_),Rl(),l.memoizedState=null):(o!==null&&Jb(l,null),P2(),Rl());return ei(o,l,w,f),l.child}function ky(o,l){return o!==null&&o.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function kk(o,l,f,y,w){var _=C2();return _=_===null?null:{parent:lr._currentValue,pool:_},l.memoizedState={baseLanes:f,cachePool:_},o!==null&&Jb(l,null),P2(),$8(l),o!==null&&Kf(o,l,y,!0),l.childLanes=w,null}function pw(o,l){return l=mw({mode:l.mode,children:l.children},o.mode),l.ref=o.ref,o.child=l,l.return=o,l}function Rk(o,l,f){return sd(l,o.child,null,f),o=pw(l,l.pendingProps),o.flags|=2,_s(l),l.memoizedState=null,o}function KY(o,l,f){var y=l.pendingProps,w=(l.flags&128)!==0;if(l.flags&=-129,o===null){if(qt){if(y.mode==="hidden")return o=pw(l,y),l.lanes=536870912,ky(null,o);if(M2(l),(o=Dn)?(o=qR(o,Xs),o=o!==null&&o.data==="&"?o:null,o!==null&&(l.memoizedState={dehydrated:o,treeContext:Al!==null?{id:fo,overflow:ho}:null,retryLane:536870912,hydrationErrors:null},f=p8(o),f.return=l,l.child=f,Jr=l,Dn=null)):o=null,o===null)throw xl(l);return l.lanes=536870912,null}return pw(l,y)}var _=o.memoizedState;if(_!==null){var R=_.dehydrated;if(M2(l),w)if(l.flags&256)l.flags&=-257,l=Rk(o,l,f);else if(l.memoizedState!==null)l.child=o.child,l.flags|=128,l=null;else throw Error(r(558));else if(dr||Kf(o,l,f,!1),w=(f&o.childLanes)!==0,dr||w){if(y=An,y!==null&&(R=le(y,f),R!==0&&R!==_.retryLane))throw _.retryLane=R,Xu(o,R),Yi(y,o,R),rA;xw(),l=Rk(o,l,f)}else o=_.treeContext,Dn=Qs(R.nextSibling),Jr=l,qt=!0,Sl=null,Xs=!1,o!==null&&g8(l,o),l=pw(l,y),l.flags|=4096;return l}return o=rc(o.child,{mode:y.mode,children:y.children}),o.ref=l.ref,l.child=o,o.return=l,o}function yw(o,l){var f=l.ref;if(f===null)o!==null&&o.ref!==null&&(l.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(r(284));(o===null||o.ref!==f)&&(l.flags|=4194816)}}function iA(o,l,f,y,w){return td(l),f=B2(o,l,f,y,void 0,w),y=L2(),o!==null&&!dr?(j2(o,l,w),lc(o,l,w)):(qt&&y&&w2(l),l.flags|=1,ei(o,l,f,w),l.child)}function Nk(o,l,f,y,w,_){return td(l),l.updateQueue=null,f=D8(l,y,f,w),P8(o),y=L2(),o!==null&&!dr?(j2(o,l,_),lc(o,l,_)):(qt&&y&&w2(l),l.flags|=1,ei(o,l,f,_),l.child)}function $k(o,l,f,y,w){if(td(l),l.stateNode===null){var _=Wf,R=f.contextType;typeof R=="object"&&R!==null&&(_=Qr(R)),_=new f(y,_),l.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=tA,l.stateNode=_,_._reactInternals=l,_=l.stateNode,_.props=y,_.state=l.memoizedState,_.refs={},k2(l),R=f.contextType,_.context=typeof R=="object"&&R!==null?Qr(R):Wf,_.state=l.memoizedState,R=f.getDerivedStateFromProps,typeof R=="function"&&(eA(l,f,R,y),_.state=l.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(R=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),R!==_.state&&tA.enqueueReplaceState(_,_.state,null),xy(l,y,_,w),Sy(),_.state=l.memoizedState),typeof _.componentDidMount=="function"&&(l.flags|=4194308),y=!0}else if(o===null){_=l.stateNode;var q=l.memoizedProps,ne=od(f,q);_.props=ne;var de=_.context,ve=f.contextType;R=Wf,typeof ve=="object"&&ve!==null&&(R=Qr(ve));var xe=f.getDerivedStateFromProps;ve=typeof xe=="function"||typeof _.getSnapshotBeforeUpdate=="function",q=l.pendingProps!==q,ve||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(q||de!==R)&&wk(l,_,y,R),Il=!1;var pe=l.memoizedState;_.state=pe,xy(l,y,_,w),Sy(),de=l.memoizedState,q||pe!==de||Il?(typeof xe=="function"&&(eA(l,f,xe,y),de=l.memoizedState),(ne=Il||bk(l,f,ne,y,pe,de,R))?(ve||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(l.flags|=4194308)):(typeof _.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=y,l.memoizedState=de),_.props=y,_.state=de,_.context=R,y=ne):(typeof _.componentDidMount=="function"&&(l.flags|=4194308),y=!1)}else{_=l.stateNode,R2(o,l),R=l.memoizedProps,ve=od(f,R),_.props=ve,xe=l.pendingProps,pe=_.context,de=f.contextType,ne=Wf,typeof de=="object"&&de!==null&&(ne=Qr(de)),q=f.getDerivedStateFromProps,(de=typeof q=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(R!==xe||pe!==ne)&&wk(l,_,y,ne),Il=!1,pe=l.memoizedState,_.state=pe,xy(l,y,_,w),Sy();var me=l.memoizedState;R!==xe||pe!==me||Il||o!==null&&o.dependencies!==null&&Zb(o.dependencies)?(typeof q=="function"&&(eA(l,f,q,y),me=l.memoizedState),(ve=Il||bk(l,f,ve,y,pe,me,ne)||o!==null&&o.dependencies!==null&&Zb(o.dependencies))?(de||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(y,me,ne),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(y,me,ne)),typeof _.componentDidUpdate=="function"&&(l.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof _.componentDidUpdate!="function"||R===o.memoizedProps&&pe===o.memoizedState||(l.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||R===o.memoizedProps&&pe===o.memoizedState||(l.flags|=1024),l.memoizedProps=y,l.memoizedState=me),_.props=y,_.state=me,_.context=ne,y=ve):(typeof _.componentDidUpdate!="function"||R===o.memoizedProps&&pe===o.memoizedState||(l.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||R===o.memoizedProps&&pe===o.memoizedState||(l.flags|=1024),y=!1)}return _=y,yw(o,l),y=(l.flags&128)!==0,_||y?(_=l.stateNode,f=y&&typeof f.getDerivedStateFromError!="function"?null:_.render(),l.flags|=1,o!==null&&y?(l.child=sd(l,o.child,null,w),l.child=sd(l,null,f,w)):ei(o,l,f,w),l.memoizedState=_.state,o=l.child):o=lc(o,l,w),o}function Pk(o,l,f,y){return Qu(),l.flags|=256,ei(o,l,f,y),l.child}var sA={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function aA(o){return{baseLanes:o,cachePool:A8()}}function oA(o,l,f){return o=o!==null?o.childLanes&~f:0,l&&(o|=As),o}function Dk(o,l,f){var y=l.pendingProps,w=!1,_=(l.flags&128)!==0,R;if((R=_)||(R=o!==null&&o.memoizedState===null?!1:(tr.current&2)!==0),R&&(w=!0,l.flags&=-129),R=(l.flags&32)!==0,l.flags&=-33,o===null){if(qt){if(w?kl(l):Rl(),(o=Dn)?(o=qR(o,Xs),o=o!==null&&o.data!=="&"?o:null,o!==null&&(l.memoizedState={dehydrated:o,treeContext:Al!==null?{id:fo,overflow:ho}:null,retryLane:536870912,hydrationErrors:null},f=p8(o),f.return=l,l.child=f,Jr=l,Dn=null)):o=null,o===null)throw xl(l);return qA(o)?l.lanes=32:l.lanes=536870912,null}var q=y.children;return y=y.fallback,w?(Rl(),w=l.mode,q=mw({mode:"hidden",children:q},w),y=Ju(y,w,f,null),q.return=l,y.return=l,q.sibling=y,l.child=q,y=l.child,y.memoizedState=aA(f),y.childLanes=oA(o,R,f),l.memoizedState=sA,ky(null,y)):(kl(l),cA(l,q))}var ne=o.memoizedState;if(ne!==null&&(q=ne.dehydrated,q!==null)){if(_)l.flags&256?(kl(l),l.flags&=-257,l=lA(o,l,f)):l.memoizedState!==null?(Rl(),l.child=o.child,l.flags|=128,l=null):(Rl(),q=y.fallback,w=l.mode,y=mw({mode:"visible",children:y.children},w),q=Ju(q,w,f,null),q.flags|=2,y.return=l,q.return=l,y.sibling=q,l.child=y,sd(l,o.child,null,f),y=l.child,y.memoizedState=aA(f),y.childLanes=oA(o,R,f),l.memoizedState=sA,l=ky(null,y));else if(kl(l),qA(q)){if(R=q.nextSibling&&q.nextSibling.dataset,R)var de=R.dgst;R=de,y=Error(r(419)),y.stack="",y.digest=R,by({value:y,source:null,stack:null}),l=lA(o,l,f)}else if(dr||Kf(o,l,f,!1),R=(f&o.childLanes)!==0,dr||R){if(R=An,R!==null&&(y=le(R,f),y!==0&&y!==ne.retryLane))throw ne.retryLane=y,Xu(o,y),Yi(R,o,y),rA;FA(q)||xw(),l=lA(o,l,f)}else FA(q)?(l.flags|=192,l.child=o.child,l=null):(o=ne.treeContext,Dn=Qs(q.nextSibling),Jr=l,qt=!0,Sl=null,Xs=!1,o!==null&&g8(l,o),l=cA(l,y.children),l.flags|=4096);return l}return w?(Rl(),q=y.fallback,w=l.mode,ne=o.child,de=ne.sibling,y=rc(ne,{mode:"hidden",children:y.children}),y.subtreeFlags=ne.subtreeFlags&65011712,de!==null?q=rc(de,q):(q=Ju(q,w,f,null),q.flags|=2),q.return=l,y.return=l,y.sibling=q,l.child=y,ky(null,y),y=l.child,q=o.child.memoizedState,q===null?q=aA(f):(w=q.cachePool,w!==null?(ne=lr._currentValue,w=w.parent!==ne?{parent:ne,pool:ne}:w):w=A8(),q={baseLanes:q.baseLanes|f,cachePool:w}),y.memoizedState=q,y.childLanes=oA(o,R,f),l.memoizedState=sA,ky(o.child,y)):(kl(l),f=o.child,o=f.sibling,f=rc(f,{mode:"visible",children:y.children}),f.return=l,f.sibling=null,o!==null&&(R=l.deletions,R===null?(l.deletions=[o],l.flags|=16):R.push(o)),l.child=f,l.memoizedState=null,f)}function cA(o,l){return l=mw({mode:"visible",children:l},o.mode),l.return=o,o.child=l}function mw(o,l){return o=ws(22,o,null,l),o.lanes=0,o}function lA(o,l,f){return sd(l,o.child,null,f),o=cA(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function Mk(o,l,f){o.lanes|=l;var y=o.alternate;y!==null&&(y.lanes|=l),S2(o.return,l,f)}function uA(o,l,f,y,w,_){var R=o.memoizedState;R===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:y,tail:f,tailMode:w,treeForkCount:_}:(R.isBackwards=l,R.rendering=null,R.renderingStartTime=0,R.last=y,R.tail=f,R.tailMode=w,R.treeForkCount=_)}function Uk(o,l,f){var y=l.pendingProps,w=y.revealOrder,_=y.tail;y=y.children;var R=tr.current,q=(R&2)!==0;if(q?(R=R&1|2,l.flags|=128):R&=1,J(tr,R),ei(o,l,y,f),y=qt?gy:0,!q&&o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&Mk(o,f,l);else if(o.tag===19)Mk(o,f,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(w){case"forwards":for(f=l.child,w=null;f!==null;)o=f.alternate,o!==null&&iw(o)===null&&(w=f),f=f.sibling;f=w,f===null?(w=l.child,l.child=null):(w=f.sibling,f.sibling=null),uA(l,!1,w,f,_,y);break;case"backwards":case"unstable_legacy-backwards":for(f=null,w=l.child,l.child=null;w!==null;){if(o=w.alternate,o!==null&&iw(o)===null){l.child=w;break}o=w.sibling,w.sibling=f,f=w,w=o}uA(l,!0,f,null,_,y);break;case"together":uA(l,!1,null,null,void 0,y);break;default:l.memoizedState=null}return l.child}function lc(o,l,f){if(o!==null&&(l.dependencies=o.dependencies),Pl|=l.lanes,(f&l.childLanes)===0)if(o!==null){if(Kf(o,l,f,!1),(f&l.childLanes)===0)return null}else return null;if(o!==null&&l.child!==o.child)throw Error(r(153));if(l.child!==null){for(o=l.child,f=rc(o,o.pendingProps),l.child=f,f.return=l;o.sibling!==null;)o=o.sibling,f=f.sibling=rc(o,o.pendingProps),f.return=l;f.sibling=null}return l.child}function dA(o,l){return(o.lanes&l)!==0?!0:(o=o.dependencies,!!(o!==null&&Zb(o)))}function YY(o,l,f){switch(l.tag){case 3:Te(l,l.stateNode.containerInfo),Tl(l,lr,o.memoizedState.cache),Qu();break;case 27:case 5:Pe(l);break;case 4:Te(l,l.stateNode.containerInfo);break;case 10:Tl(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,M2(l),null;break;case 13:var y=l.memoizedState;if(y!==null)return y.dehydrated!==null?(kl(l),l.flags|=128,null):(f&l.child.childLanes)!==0?Dk(o,l,f):(kl(l),o=lc(o,l,f),o!==null?o.sibling:null);kl(l);break;case 19:var w=(o.flags&128)!==0;if(y=(f&l.childLanes)!==0,y||(Kf(o,l,f,!1),y=(f&l.childLanes)!==0),w){if(y)return Uk(o,l,f);l.flags|=128}if(w=l.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),J(tr,tr.current),y)break;return null;case 22:return l.lanes=0,Ok(o,l,f,l.pendingProps);case 24:Tl(l,lr,o.memoizedState.cache)}return lc(o,l,f)}function Bk(o,l,f){if(o!==null)if(o.memoizedProps!==l.pendingProps)dr=!0;else{if(!dA(o,f)&&(l.flags&128)===0)return dr=!1,YY(o,l,f);dr=(o.flags&131072)!==0}else dr=!1,qt&&(l.flags&1048576)!==0&&m8(l,gy,l.index);switch(l.lanes=0,l.tag){case 16:e:{var y=l.pendingProps;if(o=rd(l.elementType),l.type=o,typeof o=="function")m2(o)?(y=od(o,y),l.tag=1,l=$k(null,l,o,y,f)):(l.tag=0,l=iA(null,l,o,y,f));else{if(o!=null){var w=o.$$typeof;if(w===A){l.tag=11,l=Tk(null,l,o,y,f);break e}else if(w===$){l.tag=14,l=Ik(null,l,o,y,f);break e}}throw l=K(o)||o,Error(r(306,l,""))}}return l;case 0:return iA(o,l,l.type,l.pendingProps,f);case 1:return y=l.type,w=od(y,l.pendingProps),$k(o,l,y,w,f);case 3:e:{if(Te(l,l.stateNode.containerInfo),o===null)throw Error(r(387));y=l.pendingProps;var _=l.memoizedState;w=_.element,R2(o,l),xy(l,y,null,f);var R=l.memoizedState;if(y=R.cache,Tl(l,lr,y),y!==_.cache&&x2(l,[lr],f,!0),Sy(),y=R.element,_.isDehydrated)if(_={element:y,isDehydrated:!1,cache:R.cache},l.updateQueue.baseState=_,l.memoizedState=_,l.flags&256){l=Pk(o,l,y,f);break e}else if(y!==w){w=Ks(Error(r(424)),l),by(w),l=Pk(o,l,y,f);break e}else for(o=l.stateNode.containerInfo,o.nodeType===9?o=o.body:o=o.nodeName==="HTML"?o.ownerDocument.body:o,Dn=Qs(o.firstChild),Jr=l,qt=!0,Sl=null,Xs=!0,f=O8(l,null,y,f),l.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(Qu(),y===w){l=lc(o,l,f);break e}ei(o,l,y,f)}l=l.child}return l;case 26:return yw(o,l),o===null?(f=YR(l.type,null,l.pendingProps,null))?l.memoizedState=f:qt||(f=l.type,o=l.pendingProps,y=Nw(ge.current).createElement(f),y[mt]=l,y[Ct]=o,ti(y,f,o),lt(y),l.stateNode=y):l.memoizedState=YR(l.type,o.memoizedProps,l.pendingProps,o.memoizedState),null;case 27:return Pe(l),o===null&&qt&&(y=l.stateNode=HR(l.type,l.pendingProps,ge.current),Jr=l,Xs=!0,w=Dn,Ll(l.type)?(WA=w,Dn=Qs(y.firstChild)):Dn=w),ei(o,l,l.pendingProps.children,f),yw(o,l),o===null&&(l.flags|=4194304),l.child;case 5:return o===null&&qt&&((w=y=Dn)&&(y=xZ(y,l.type,l.pendingProps,Xs),y!==null?(l.stateNode=y,Jr=l,Dn=Qs(y.firstChild),Xs=!1,w=!0):w=!1),w||xl(l)),Pe(l),w=l.type,_=l.pendingProps,R=o!==null?o.memoizedProps:null,y=_.children,LA(w,_)?y=null:R!==null&&LA(w,R)&&(l.flags|=32),l.memoizedState!==null&&(w=B2(o,l,jY,null,null,f),Vy._currentValue=w),yw(o,l),ei(o,l,y,f),l.child;case 6:return o===null&&qt&&((o=f=Dn)&&(f=TZ(f,l.pendingProps,Xs),f!==null?(l.stateNode=f,Jr=l,Dn=null,o=!0):o=!1),o||xl(l)),null;case 13:return Dk(o,l,f);case 4:return Te(l,l.stateNode.containerInfo),y=l.pendingProps,o===null?l.child=sd(l,null,y,f):ei(o,l,y,f),l.child;case 11:return Tk(o,l,l.type,l.pendingProps,f);case 7:return ei(o,l,l.pendingProps,f),l.child;case 8:return ei(o,l,l.pendingProps.children,f),l.child;case 12:return ei(o,l,l.pendingProps.children,f),l.child;case 10:return y=l.pendingProps,Tl(l,l.type,y.value),ei(o,l,y.children,f),l.child;case 9:return w=l.type._context,y=l.pendingProps.children,td(l),w=Qr(w),y=y(w),l.flags|=1,ei(o,l,y,f),l.child;case 14:return Ik(o,l,l.type,l.pendingProps,f);case 15:return Ck(o,l,l.type,l.pendingProps,f);case 19:return Uk(o,l,f);case 31:return KY(o,l,f);case 22:return Ok(o,l,f,l.pendingProps);case 24:return td(l),y=Qr(lr),o===null?(w=C2(),w===null&&(w=An,_=T2(),w.pooledCache=_,_.refCount++,_!==null&&(w.pooledCacheLanes|=f),w=_),l.memoizedState={parent:y,cache:w},k2(l),Tl(l,lr,w)):((o.lanes&f)!==0&&(R2(o,l),xy(l,null,null,f),Sy()),w=o.memoizedState,_=l.memoizedState,w.parent!==y?(w={parent:y,cache:y},l.memoizedState=w,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=w),Tl(l,lr,y)):(y=_.cache,Tl(l,lr,y),y!==w.cache&&x2(l,[lr],f,!0))),ei(o,l,l.pendingProps.children,f),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function uc(o){o.flags|=4}function fA(o,l,f,y,w){if((l=(o.mode&32)!==0)&&(l=!1),l){if(o.flags|=16777216,(w&335544128)===w)if(o.stateNode.complete)o.flags|=8192;else if(dR())o.flags|=8192;else throw id=ew,O2}else o.flags&=-16777217}function Lk(o,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!e4(l))if(dR())o.flags|=8192;else throw id=ew,O2}function gw(o,l){l!==null&&(o.flags|=4),o.flags&16384&&(l=o.tag!==22?Gu():536870912,o.lanes|=l,ah|=l)}function Ry(o,l){if(!qt)switch(o.tailMode){case"hidden":l=o.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var y=null;f!==null;)f.alternate!==null&&(y=f),f=f.sibling;y===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:y.sibling=null}}function Mn(o){var l=o.alternate!==null&&o.alternate.child===o.child,f=0,y=0;if(l)for(var w=o.child;w!==null;)f|=w.lanes|w.childLanes,y|=w.subtreeFlags&65011712,y|=w.flags&65011712,w.return=o,w=w.sibling;else for(w=o.child;w!==null;)f|=w.lanes|w.childLanes,y|=w.subtreeFlags,y|=w.flags,w.return=o,w=w.sibling;return o.subtreeFlags|=y,o.childLanes=f,l}function ZY(o,l,f){var y=l.pendingProps;switch(v2(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mn(l),null;case 1:return Mn(l),null;case 3:return f=l.stateNode,y=null,o!==null&&(y=o.memoizedState.cache),l.memoizedState.cache!==y&&(l.flags|=2048),ac(lr),Ee(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(o===null||o.child===null)&&(Gf(l)?uc(l):o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,E2())),Mn(l),null;case 26:var w=l.type,_=l.memoizedState;return o===null?(uc(l),_!==null?(Mn(l),Lk(l,_)):(Mn(l),fA(l,w,null,y,f))):_?_!==o.memoizedState?(uc(l),Mn(l),Lk(l,_)):(Mn(l),l.flags&=-16777217):(o=o.memoizedProps,o!==y&&uc(l),Mn(l),fA(l,w,o,y,f)),null;case 27:if(qe(l),f=ge.current,w=l.type,o!==null&&l.stateNode!=null)o.memoizedProps!==y&&uc(l);else{if(!y){if(l.stateNode===null)throw Error(r(166));return Mn(l),null}o=X.current,Gf(l)?b8(l):(o=HR(w,y,f),l.stateNode=o,uc(l))}return Mn(l),null;case 5:if(qe(l),w=l.type,o!==null&&l.stateNode!=null)o.memoizedProps!==y&&uc(l);else{if(!y){if(l.stateNode===null)throw Error(r(166));return Mn(l),null}if(_=X.current,Gf(l))b8(l);else{var R=Nw(ge.current);switch(_){case 1:_=R.createElementNS("http://www.w3.org/2000/svg",w);break;case 2:_=R.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;default:switch(w){case"svg":_=R.createElementNS("http://www.w3.org/2000/svg",w);break;case"math":_=R.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;case"script":_=R.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof y.is=="string"?R.createElement("select",{is:y.is}):R.createElement("select"),y.multiple?_.multiple=!0:y.size&&(_.size=y.size);break;default:_=typeof y.is=="string"?R.createElement(w,{is:y.is}):R.createElement(w)}}_[mt]=l,_[Ct]=y;e:for(R=l.child;R!==null;){if(R.tag===5||R.tag===6)_.appendChild(R.stateNode);else if(R.tag!==4&&R.tag!==27&&R.child!==null){R.child.return=R,R=R.child;continue}if(R===l)break e;for(;R.sibling===null;){if(R.return===null||R.return===l)break e;R=R.return}R.sibling.return=R.return,R=R.sibling}l.stateNode=_;e:switch(ti(_,w,y),w){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}y&&uc(l)}}return Mn(l),fA(l,l.type,o===null?null:o.memoizedProps,l.pendingProps,f),null;case 6:if(o&&l.stateNode!=null)o.memoizedProps!==y&&uc(l);else{if(typeof y!="string"&&l.stateNode===null)throw Error(r(166));if(o=ge.current,Gf(l)){if(o=l.stateNode,f=l.memoizedProps,y=null,w=Jr,w!==null)switch(w.tag){case 27:case 5:y=w.memoizedProps}o[mt]=l,o=!!(o.nodeValue===f||y!==null&&y.suppressHydrationWarning===!0||DR(o.nodeValue,f)),o||xl(l,!0)}else o=Nw(o).createTextNode(y),o[mt]=l,l.stateNode=o}return Mn(l),null;case 31:if(f=l.memoizedState,o===null||o.memoizedState!==null){if(y=Gf(l),f!==null){if(o===null){if(!y)throw Error(r(318));if(o=l.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(557));o[mt]=l}else Qu(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Mn(l),o=!1}else f=E2(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=f),o=!0;if(!o)return l.flags&256?(_s(l),l):(_s(l),null);if((l.flags&128)!==0)throw Error(r(558))}return Mn(l),null;case 13:if(y=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(w=Gf(l),y!==null&&y.dehydrated!==null){if(o===null){if(!w)throw Error(r(318));if(w=l.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(r(317));w[mt]=l}else Qu(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Mn(l),w=!1}else w=E2(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=w),w=!0;if(!w)return l.flags&256?(_s(l),l):(_s(l),null)}return _s(l),(l.flags&128)!==0?(l.lanes=f,l):(f=y!==null,o=o!==null&&o.memoizedState!==null,f&&(y=l.child,w=null,y.alternate!==null&&y.alternate.memoizedState!==null&&y.alternate.memoizedState.cachePool!==null&&(w=y.alternate.memoizedState.cachePool.pool),_=null,y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(_=y.memoizedState.cachePool.pool),_!==w&&(y.flags|=2048)),f!==o&&f&&(l.child.flags|=8192),gw(l,l.updateQueue),Mn(l),null);case 4:return Ee(),o===null&&PA(l.stateNode.containerInfo),Mn(l),null;case 10:return ac(l.type),Mn(l),null;case 19:if(G(tr),y=l.memoizedState,y===null)return Mn(l),null;if(w=(l.flags&128)!==0,_=y.rendering,_===null)if(w)Ry(y,!1);else{if(Qn!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(_=iw(o),_!==null){for(l.flags|=128,Ry(y,!1),o=_.updateQueue,l.updateQueue=o,gw(l,o),l.subtreeFlags=0,o=f,f=l.child;f!==null;)h8(f,o),f=f.sibling;return J(tr,tr.current&1|2),qt&&ic(l,y.treeForkCount),l.child}o=o.sibling}y.tail!==null&&_n()>Ew&&(l.flags|=128,w=!0,Ry(y,!1),l.lanes=4194304)}else{if(!w)if(o=iw(_),o!==null){if(l.flags|=128,w=!0,o=o.updateQueue,l.updateQueue=o,gw(l,o),Ry(y,!0),y.tail===null&&y.tailMode==="hidden"&&!_.alternate&&!qt)return Mn(l),null}else 2*_n()-y.renderingStartTime>Ew&&f!==536870912&&(l.flags|=128,w=!0,Ry(y,!1),l.lanes=4194304);y.isBackwards?(_.sibling=l.child,l.child=_):(o=y.last,o!==null?o.sibling=_:l.child=_,y.last=_)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=_n(),o.sibling=null,f=tr.current,J(tr,w?f&1|2:f&1),qt&&ic(l,y.treeForkCount),o):(Mn(l),null);case 22:case 23:return _s(l),D2(),y=l.memoizedState!==null,o!==null?o.memoizedState!==null!==y&&(l.flags|=8192):y&&(l.flags|=8192),y?(f&536870912)!==0&&(l.flags&128)===0&&(Mn(l),l.subtreeFlags&6&&(l.flags|=8192)):Mn(l),f=l.updateQueue,f!==null&&gw(l,f.retryQueue),f=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),y=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(y=l.memoizedState.cachePool.pool),y!==f&&(l.flags|=2048),o!==null&&G(nd),null;case 24:return f=null,o!==null&&(f=o.memoizedState.cache),l.memoizedState.cache!==f&&(l.flags|=2048),ac(lr),Mn(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function XY(o,l){switch(v2(l),l.tag){case 1:return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return ac(lr),Ee(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 26:case 27:case 5:return qe(l),null;case 31:if(l.memoizedState!==null){if(_s(l),l.alternate===null)throw Error(r(340));Qu()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 13:if(_s(l),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Qu()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return G(tr),null;case 4:return Ee(),null;case 10:return ac(l.type),null;case 22:case 23:return _s(l),D2(),o!==null&&G(nd),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 24:return ac(lr),null;case 25:return null;default:return null}}function jk(o,l){switch(v2(l),l.tag){case 3:ac(lr),Ee();break;case 26:case 27:case 5:qe(l);break;case 4:Ee();break;case 31:l.memoizedState!==null&&_s(l);break;case 13:_s(l);break;case 19:G(tr);break;case 10:ac(l.type);break;case 22:case 23:_s(l),D2(),o!==null&&G(nd);break;case 24:ac(lr)}}function Ny(o,l){try{var f=l.updateQueue,y=f!==null?f.lastEffect:null;if(y!==null){var w=y.next;f=w;do{if((f.tag&o)===o){y=void 0;var _=f.create,R=f.inst;y=_(),R.destroy=y}f=f.next}while(f!==w)}}catch(q){hn(l,l.return,q)}}function Nl(o,l,f){try{var y=l.updateQueue,w=y!==null?y.lastEffect:null;if(w!==null){var _=w.next;y=_;do{if((y.tag&o)===o){var R=y.inst,q=R.destroy;if(q!==void 0){R.destroy=void 0,w=l;var ne=f,de=q;try{de()}catch(ve){hn(w,ne,ve)}}}y=y.next}while(y!==_)}}catch(ve){hn(l,l.return,ve)}}function zk(o){var l=o.updateQueue;if(l!==null){var f=o.stateNode;try{R8(l,f)}catch(y){hn(o,o.return,y)}}}function Fk(o,l,f){f.props=od(o.type,o.memoizedProps),f.state=o.memoizedState;try{f.componentWillUnmount()}catch(y){hn(o,l,y)}}function $y(o,l){try{var f=o.ref;if(f!==null){switch(o.tag){case 26:case 27:case 5:var y=o.stateNode;break;case 30:y=o.stateNode;break;default:y=o.stateNode}typeof f=="function"?o.refCleanup=f(y):f.current=y}}catch(w){hn(o,l,w)}}function po(o,l){var f=o.ref,y=o.refCleanup;if(f!==null)if(typeof y=="function")try{y()}catch(w){hn(o,l,w)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(w){hn(o,l,w)}else f.current=null}function qk(o){var l=o.type,f=o.memoizedProps,y=o.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":f.autoFocus&&y.focus();break e;case"img":f.src?y.src=f.src:f.srcSet&&(y.srcset=f.srcSet)}}catch(w){hn(o,o.return,w)}}function hA(o,l,f){try{var y=o.stateNode;wZ(y,o.type,f,l),y[Ct]=l}catch(w){hn(o,o.return,w)}}function Wk(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Ll(o.type)||o.tag===4}function pA(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Wk(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Ll(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function yA(o,l,f){var y=o.tag;if(y===5||y===6)o=o.stateNode,l?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(o,l):(l=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,l.appendChild(o),f=f._reactRootContainer,f!=null||l.onclick!==null||(l.onclick=$a));else if(y!==4&&(y===27&&Ll(o.type)&&(f=o.stateNode,l=null),o=o.child,o!==null))for(yA(o,l,f),o=o.sibling;o!==null;)yA(o,l,f),o=o.sibling}function bw(o,l,f){var y=o.tag;if(y===5||y===6)o=o.stateNode,l?f.insertBefore(o,l):f.appendChild(o);else if(y!==4&&(y===27&&Ll(o.type)&&(f=o.stateNode),o=o.child,o!==null))for(bw(o,l,f),o=o.sibling;o!==null;)bw(o,l,f),o=o.sibling}function Vk(o){var l=o.stateNode,f=o.memoizedProps;try{for(var y=o.type,w=l.attributes;w.length;)l.removeAttributeNode(w[0]);ti(l,y,f),l[mt]=o,l[Ct]=f}catch(_){hn(o,o.return,_)}}var dc=!1,fr=!1,mA=!1,Hk=typeof WeakSet=="function"?WeakSet:Set,Mr=null;function JY(o,l){if(o=o.containerInfo,UA=Lw,o=i8(o),l2(o)){if("selectionStart"in o)var f={start:o.selectionStart,end:o.selectionEnd};else e:{f=(f=o.ownerDocument)&&f.defaultView||window;var y=f.getSelection&&f.getSelection();if(y&&y.rangeCount!==0){f=y.anchorNode;var w=y.anchorOffset,_=y.focusNode;y=y.focusOffset;try{f.nodeType,_.nodeType}catch{f=null;break e}var R=0,q=-1,ne=-1,de=0,ve=0,xe=o,pe=null;t:for(;;){for(var me;xe!==f||w!==0&&xe.nodeType!==3||(q=R+w),xe!==_||y!==0&&xe.nodeType!==3||(ne=R+y),xe.nodeType===3&&(R+=xe.nodeValue.length),(me=xe.firstChild)!==null;)pe=xe,xe=me;for(;;){if(xe===o)break t;if(pe===f&&++de===w&&(q=R),pe===_&&++ve===y&&(ne=R),(me=xe.nextSibling)!==null)break;xe=pe,pe=xe.parentNode}xe=me}f=q===-1||ne===-1?null:{start:q,end:ne}}else f=null}f=f||{start:0,end:0}}else f=null;for(BA={focusedElem:o,selectionRange:f},Lw=!1,Mr=l;Mr!==null;)if(l=Mr,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,Mr=o;else for(;Mr!==null;){switch(l=Mr,_=l.alternate,o=l.flags,l.tag){case 0:if((o&4)!==0&&(o=l.updateQueue,o=o!==null?o.events:null,o!==null))for(f=0;f<o.length;f++)w=o[f],w.ref.impl=w.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&_!==null){o=void 0,f=l,w=_.memoizedProps,_=_.memoizedState,y=f.stateNode;try{var Ze=od(f.type,w);o=y.getSnapshotBeforeUpdate(Ze,_),y.__reactInternalSnapshotBeforeUpdate=o}catch(ut){hn(f,f.return,ut)}}break;case 3:if((o&1024)!==0){if(o=l.stateNode.containerInfo,f=o.nodeType,f===9)zA(o);else if(f===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":zA(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=l.sibling,o!==null){o.return=l.return,Mr=o;break}Mr=l.return}}function Gk(o,l,f){var y=f.flags;switch(f.tag){case 0:case 11:case 15:hc(o,f),y&4&&Ny(5,f);break;case 1:if(hc(o,f),y&4)if(o=f.stateNode,l===null)try{o.componentDidMount()}catch(R){hn(f,f.return,R)}else{var w=od(f.type,l.memoizedProps);l=l.memoizedState;try{o.componentDidUpdate(w,l,o.__reactInternalSnapshotBeforeUpdate)}catch(R){hn(f,f.return,R)}}y&64&&zk(f),y&512&&$y(f,f.return);break;case 3:if(hc(o,f),y&64&&(o=f.updateQueue,o!==null)){if(l=null,f.child!==null)switch(f.child.tag){case 27:case 5:l=f.child.stateNode;break;case 1:l=f.child.stateNode}try{R8(o,l)}catch(R){hn(f,f.return,R)}}break;case 27:l===null&&y&4&&Vk(f);case 26:case 5:hc(o,f),l===null&&y&4&&qk(f),y&512&&$y(f,f.return);break;case 12:hc(o,f);break;case 31:hc(o,f),y&4&&Zk(o,f);break;case 13:hc(o,f),y&4&&Xk(o,f),y&64&&(o=f.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(f=oZ.bind(null,f),IZ(o,f))));break;case 22:if(y=f.memoizedState!==null||dc,!y){l=l!==null&&l.memoizedState!==null||fr,w=dc;var _=fr;dc=y,(fr=l)&&!_?pc(o,f,(f.subtreeFlags&8772)!==0):hc(o,f),dc=w,fr=_}break;case 30:break;default:hc(o,f)}}function Kk(o){var l=o.alternate;l!==null&&(o.alternate=null,Kk(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&un(l)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var qn=null,Vi=!1;function fc(o,l,f){for(f=f.child;f!==null;)Yk(o,l,f),f=f.sibling}function Yk(o,l,f){if(ht&&typeof ht.onCommitFiberUnmount=="function")try{ht.onCommitFiberUnmount(ct,f)}catch{}switch(f.tag){case 26:fr||po(f,l),fc(o,l,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:fr||po(f,l);var y=qn,w=Vi;Ll(f.type)&&(qn=f.stateNode,Vi=!1),fc(o,l,f),Fy(f.stateNode),qn=y,Vi=w;break;case 5:fr||po(f,l);case 6:if(y=qn,w=Vi,qn=null,fc(o,l,f),qn=y,Vi=w,qn!==null)if(Vi)try{(qn.nodeType===9?qn.body:qn.nodeName==="HTML"?qn.ownerDocument.body:qn).removeChild(f.stateNode)}catch(_){hn(f,l,_)}else try{qn.removeChild(f.stateNode)}catch(_){hn(f,l,_)}break;case 18:qn!==null&&(Vi?(o=qn,zR(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,f.stateNode),ph(o)):zR(qn,f.stateNode));break;case 4:y=qn,w=Vi,qn=f.stateNode.containerInfo,Vi=!0,fc(o,l,f),qn=y,Vi=w;break;case 0:case 11:case 14:case 15:Nl(2,f,l),fr||Nl(4,f,l),fc(o,l,f);break;case 1:fr||(po(f,l),y=f.stateNode,typeof y.componentWillUnmount=="function"&&Fk(f,l,y)),fc(o,l,f);break;case 21:fc(o,l,f);break;case 22:fr=(y=fr)||f.memoizedState!==null,fc(o,l,f),fr=y;break;default:fc(o,l,f)}}function Zk(o,l){if(l.memoizedState===null&&(o=l.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{ph(o)}catch(f){hn(l,l.return,f)}}}function Xk(o,l){if(l.memoizedState===null&&(o=l.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{ph(o)}catch(f){hn(l,l.return,f)}}function QY(o){switch(o.tag){case 31:case 13:case 19:var l=o.stateNode;return l===null&&(l=o.stateNode=new Hk),l;case 22:return o=o.stateNode,l=o._retryCache,l===null&&(l=o._retryCache=new Hk),l;default:throw Error(r(435,o.tag))}}function ww(o,l){var f=QY(o);l.forEach(function(y){if(!f.has(y)){f.add(y);var w=cZ.bind(null,o,y);y.then(w,w)}})}function Hi(o,l){var f=l.deletions;if(f!==null)for(var y=0;y<f.length;y++){var w=f[y],_=o,R=l,q=R;e:for(;q!==null;){switch(q.tag){case 27:if(Ll(q.type)){qn=q.stateNode,Vi=!1;break e}break;case 5:qn=q.stateNode,Vi=!1;break e;case 3:case 4:qn=q.stateNode.containerInfo,Vi=!0;break e}q=q.return}if(qn===null)throw Error(r(160));Yk(_,R,w),qn=null,Vi=!1,_=w.alternate,_!==null&&(_.return=null),w.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)Jk(l,o),l=l.sibling}var Da=null;function Jk(o,l){var f=o.alternate,y=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Hi(l,o),Gi(o),y&4&&(Nl(3,o,o.return),Ny(3,o),Nl(5,o,o.return));break;case 1:Hi(l,o),Gi(o),y&512&&(fr||f===null||po(f,f.return)),y&64&&dc&&(o=o.updateQueue,o!==null&&(y=o.callbacks,y!==null&&(f=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=f===null?y:f.concat(y))));break;case 26:var w=Da;if(Hi(l,o),Gi(o),y&512&&(fr||f===null||po(f,f.return)),y&4){var _=f!==null?f.memoizedState:null;if(y=o.memoizedState,f===null)if(y===null)if(o.stateNode===null){e:{y=o.type,f=o.memoizedProps,w=w.ownerDocument||w;t:switch(y){case"title":_=w.getElementsByTagName("title")[0],(!_||_[Yn]||_[mt]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=w.createElement(y),w.head.insertBefore(_,w.querySelector("head > title"))),ti(_,y,f),_[mt]=o,lt(_),y=_;break e;case"link":var R=JR("link","href",w).get(y+(f.href||""));if(R){for(var q=0;q<R.length;q++)if(_=R[q],_.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&_.getAttribute("rel")===(f.rel==null?null:f.rel)&&_.getAttribute("title")===(f.title==null?null:f.title)&&_.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){R.splice(q,1);break t}}_=w.createElement(y),ti(_,y,f),w.head.appendChild(_);break;case"meta":if(R=JR("meta","content",w).get(y+(f.content||""))){for(q=0;q<R.length;q++)if(_=R[q],_.getAttribute("content")===(f.content==null?null:""+f.content)&&_.getAttribute("name")===(f.name==null?null:f.name)&&_.getAttribute("property")===(f.property==null?null:f.property)&&_.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&_.getAttribute("charset")===(f.charSet==null?null:f.charSet)){R.splice(q,1);break t}}_=w.createElement(y),ti(_,y,f),w.head.appendChild(_);break;default:throw Error(r(468,y))}_[mt]=o,lt(_),y=_}o.stateNode=y}else QR(w,o.type,o.stateNode);else o.stateNode=XR(w,y,o.memoizedProps);else _!==y?(_===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):_.count--,y===null?QR(w,o.type,o.stateNode):XR(w,y,o.memoizedProps)):y===null&&o.stateNode!==null&&hA(o,o.memoizedProps,f.memoizedProps)}break;case 27:Hi(l,o),Gi(o),y&512&&(fr||f===null||po(f,f.return)),f!==null&&y&4&&hA(o,o.memoizedProps,f.memoizedProps);break;case 5:if(Hi(l,o),Gi(o),y&512&&(fr||f===null||po(f,f.return)),o.flags&32){w=o.stateNode;try{wl(w,"")}catch(Ze){hn(o,o.return,Ze)}}y&4&&o.stateNode!=null&&(w=o.memoizedProps,hA(o,w,f!==null?f.memoizedProps:w)),y&1024&&(mA=!0);break;case 6:if(Hi(l,o),Gi(o),y&4){if(o.stateNode===null)throw Error(r(162));y=o.memoizedProps,f=o.stateNode;try{f.nodeValue=y}catch(Ze){hn(o,o.return,Ze)}}break;case 3:if(Dw=null,w=Da,Da=$w(l.containerInfo),Hi(l,o),Da=w,Gi(o),y&4&&f!==null&&f.memoizedState.isDehydrated)try{ph(l.containerInfo)}catch(Ze){hn(o,o.return,Ze)}mA&&(mA=!1,Qk(o));break;case 4:y=Da,Da=$w(o.stateNode.containerInfo),Hi(l,o),Gi(o),Da=y;break;case 12:Hi(l,o),Gi(o);break;case 31:Hi(l,o),Gi(o),y&4&&(y=o.updateQueue,y!==null&&(o.updateQueue=null,ww(o,y)));break;case 13:Hi(l,o),Gi(o),o.child.flags&8192&&o.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(_w=_n()),y&4&&(y=o.updateQueue,y!==null&&(o.updateQueue=null,ww(o,y)));break;case 22:w=o.memoizedState!==null;var ne=f!==null&&f.memoizedState!==null,de=dc,ve=fr;if(dc=de||w,fr=ve||ne,Hi(l,o),fr=ve,dc=de,Gi(o),y&8192)e:for(l=o.stateNode,l._visibility=w?l._visibility&-2:l._visibility|1,w&&(f===null||ne||dc||fr||cd(o)),f=null,l=o;;){if(l.tag===5||l.tag===26){if(f===null){ne=f=l;try{if(_=ne.stateNode,w)R=_.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{q=ne.stateNode;var xe=ne.memoizedProps.style,pe=xe!=null&&xe.hasOwnProperty("display")?xe.display:null;q.style.display=pe==null||typeof pe=="boolean"?"":(""+pe).trim()}}catch(Ze){hn(ne,ne.return,Ze)}}}else if(l.tag===6){if(f===null){ne=l;try{ne.stateNode.nodeValue=w?"":ne.memoizedProps}catch(Ze){hn(ne,ne.return,Ze)}}}else if(l.tag===18){if(f===null){ne=l;try{var me=ne.stateNode;w?FR(me,!0):FR(ne.stateNode,!1)}catch(Ze){hn(ne,ne.return,Ze)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===o)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break e;for(;l.sibling===null;){if(l.return===null||l.return===o)break e;f===l&&(f=null),l=l.return}f===l&&(f=null),l.sibling.return=l.return,l=l.sibling}y&4&&(y=o.updateQueue,y!==null&&(f=y.retryQueue,f!==null&&(y.retryQueue=null,ww(o,f))));break;case 19:Hi(l,o),Gi(o),y&4&&(y=o.updateQueue,y!==null&&(o.updateQueue=null,ww(o,y)));break;case 30:break;case 21:break;default:Hi(l,o),Gi(o)}}function Gi(o){var l=o.flags;if(l&2){try{for(var f,y=o.return;y!==null;){if(Wk(y)){f=y;break}y=y.return}if(f==null)throw Error(r(160));switch(f.tag){case 27:var w=f.stateNode,_=pA(o);bw(o,_,w);break;case 5:var R=f.stateNode;f.flags&32&&(wl(R,""),f.flags&=-33);var q=pA(o);bw(o,q,R);break;case 3:case 4:var ne=f.stateNode.containerInfo,de=pA(o);yA(o,de,ne);break;default:throw Error(r(161))}}catch(ve){hn(o,o.return,ve)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function Qk(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var l=o;Qk(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),o=o.sibling}}function hc(o,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)Gk(o,l.alternate,l),l=l.sibling}function cd(o){for(o=o.child;o!==null;){var l=o;switch(l.tag){case 0:case 11:case 14:case 15:Nl(4,l,l.return),cd(l);break;case 1:po(l,l.return);var f=l.stateNode;typeof f.componentWillUnmount=="function"&&Fk(l,l.return,f),cd(l);break;case 27:Fy(l.stateNode);case 26:case 5:po(l,l.return),cd(l);break;case 22:l.memoizedState===null&&cd(l);break;case 30:cd(l);break;default:cd(l)}o=o.sibling}}function pc(o,l,f){for(f=f&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var y=l.alternate,w=o,_=l,R=_.flags;switch(_.tag){case 0:case 11:case 15:pc(w,_,f),Ny(4,_);break;case 1:if(pc(w,_,f),y=_,w=y.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(de){hn(y,y.return,de)}if(y=_,w=y.updateQueue,w!==null){var q=y.stateNode;try{var ne=w.shared.hiddenCallbacks;if(ne!==null)for(w.shared.hiddenCallbacks=null,w=0;w<ne.length;w++)k8(ne[w],q)}catch(de){hn(y,y.return,de)}}f&&R&64&&zk(_),$y(_,_.return);break;case 27:Vk(_);case 26:case 5:pc(w,_,f),f&&y===null&&R&4&&qk(_),$y(_,_.return);break;case 12:pc(w,_,f);break;case 31:pc(w,_,f),f&&R&4&&Zk(w,_);break;case 13:pc(w,_,f),f&&R&4&&Xk(w,_);break;case 22:_.memoizedState===null&&pc(w,_,f),$y(_,_.return);break;case 30:break;default:pc(w,_,f)}l=l.sibling}}function gA(o,l){var f=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),o=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(o=l.memoizedState.cachePool.pool),o!==f&&(o!=null&&o.refCount++,f!=null&&wy(f))}function bA(o,l){o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&wy(o))}function Ma(o,l,f,y){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)eR(o,l,f,y),l=l.sibling}function eR(o,l,f,y){var w=l.flags;switch(l.tag){case 0:case 11:case 15:Ma(o,l,f,y),w&2048&&Ny(9,l);break;case 1:Ma(o,l,f,y);break;case 3:Ma(o,l,f,y),w&2048&&(o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&wy(o)));break;case 12:if(w&2048){Ma(o,l,f,y),o=l.stateNode;try{var _=l.memoizedProps,R=_.id,q=_.onPostCommit;typeof q=="function"&&q(R,l.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(ne){hn(l,l.return,ne)}}else Ma(o,l,f,y);break;case 31:Ma(o,l,f,y);break;case 13:Ma(o,l,f,y);break;case 23:break;case 22:_=l.stateNode,R=l.alternate,l.memoizedState!==null?_._visibility&2?Ma(o,l,f,y):Py(o,l):_._visibility&2?Ma(o,l,f,y):(_._visibility|=2,rh(o,l,f,y,(l.subtreeFlags&10256)!==0||!1)),w&2048&&gA(R,l);break;case 24:Ma(o,l,f,y),w&2048&&bA(l.alternate,l);break;default:Ma(o,l,f,y)}}function rh(o,l,f,y,w){for(w=w&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var _=o,R=l,q=f,ne=y,de=R.flags;switch(R.tag){case 0:case 11:case 15:rh(_,R,q,ne,w),Ny(8,R);break;case 23:break;case 22:var ve=R.stateNode;R.memoizedState!==null?ve._visibility&2?rh(_,R,q,ne,w):Py(_,R):(ve._visibility|=2,rh(_,R,q,ne,w)),w&&de&2048&&gA(R.alternate,R);break;case 24:rh(_,R,q,ne,w),w&&de&2048&&bA(R.alternate,R);break;default:rh(_,R,q,ne,w)}l=l.sibling}}function Py(o,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var f=o,y=l,w=y.flags;switch(y.tag){case 22:Py(f,y),w&2048&&gA(y.alternate,y);break;case 24:Py(f,y),w&2048&&bA(y.alternate,y);break;default:Py(f,y)}l=l.sibling}}var Dy=8192;function ih(o,l,f){if(o.subtreeFlags&Dy)for(o=o.child;o!==null;)tR(o,l,f),o=o.sibling}function tR(o,l,f){switch(o.tag){case 26:ih(o,l,f),o.flags&Dy&&o.memoizedState!==null&&LZ(f,Da,o.memoizedState,o.memoizedProps);break;case 5:ih(o,l,f);break;case 3:case 4:var y=Da;Da=$w(o.stateNode.containerInfo),ih(o,l,f),Da=y;break;case 22:o.memoizedState===null&&(y=o.alternate,y!==null&&y.memoizedState!==null?(y=Dy,Dy=16777216,ih(o,l,f),Dy=y):ih(o,l,f));break;default:ih(o,l,f)}}function nR(o){var l=o.alternate;if(l!==null&&(o=l.child,o!==null)){l.child=null;do l=o.sibling,o.sibling=null,o=l;while(o!==null)}}function My(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var f=0;f<l.length;f++){var y=l[f];Mr=y,iR(y,o)}nR(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)rR(o),o=o.sibling}function rR(o){switch(o.tag){case 0:case 11:case 15:My(o),o.flags&2048&&Nl(9,o,o.return);break;case 3:My(o);break;case 12:My(o);break;case 22:var l=o.stateNode;o.memoizedState!==null&&l._visibility&2&&(o.return===null||o.return.tag!==13)?(l._visibility&=-3,vw(o)):My(o);break;default:My(o)}}function vw(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var f=0;f<l.length;f++){var y=l[f];Mr=y,iR(y,o)}nR(o)}for(o=o.child;o!==null;){switch(l=o,l.tag){case 0:case 11:case 15:Nl(8,l,l.return),vw(l);break;case 22:f=l.stateNode,f._visibility&2&&(f._visibility&=-3,vw(l));break;default:vw(l)}o=o.sibling}}function iR(o,l){for(;Mr!==null;){var f=Mr;switch(f.tag){case 0:case 11:case 15:Nl(8,f,l);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var y=f.memoizedState.cachePool.pool;y!=null&&y.refCount++}break;case 24:wy(f.memoizedState.cache)}if(y=f.child,y!==null)y.return=f,Mr=y;else e:for(f=o;Mr!==null;){y=Mr;var w=y.sibling,_=y.return;if(Kk(y),y===f){Mr=null;break e}if(w!==null){w.return=_,Mr=w;break e}Mr=_}}}var eZ={getCacheForType:function(o){var l=Qr(lr),f=l.data.get(o);return f===void 0&&(f=o(),l.data.set(o,f)),f},cacheSignal:function(){return Qr(lr).controller.signal}},tZ=typeof WeakMap=="function"?WeakMap:Map,rn=0,An=null,Bt=null,jt=0,fn=0,Es=null,$l=!1,sh=!1,wA=!1,yc=0,Qn=0,Pl=0,ld=0,vA=0,As=0,ah=0,Uy=null,Ki=null,_A=!1,_w=0,sR=0,Ew=1/0,Aw=null,Dl=null,Tr=0,Ml=null,oh=null,mc=0,EA=0,AA=null,aR=null,By=0,SA=null;function Ss(){return(rn&2)!==0&&jt!==0?jt&-jt:x.T!==null?kA():Xe()}function oR(){if(As===0)if((jt&536870912)===0||qt){var o=Fi;Fi<<=1,(Fi&3932160)===0&&(Fi=262144),As=o}else As=536870912;return o=vs.current,o!==null&&(o.flags|=32),As}function Yi(o,l,f){(o===An&&(fn===2||fn===9)||o.cancelPendingCommit!==null)&&(ch(o,0),Ul(o,jt,As,!1)),W(o,f),((rn&2)===0||o!==An)&&(o===An&&((rn&2)===0&&(ld|=f),Qn===4&&Ul(o,jt,As,!1)),yo(o))}function cR(o,l,f){if((rn&6)!==0)throw Error(r(327));var y=!f&&(l&127)===0&&(l&o.expiredLanes)===0||uo(o,l),w=y?iZ(o,l):TA(o,l,!0),_=y;do{if(w===0){sh&&!y&&Ul(o,l,0,!1);break}else{if(f=o.current.alternate,_&&!nZ(f)){w=TA(o,l,!1),_=!1;continue}if(w===2){if(_=l,o.errorRecoveryDisabledLanes&_)var R=0;else R=o.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){l=R;e:{var q=o;w=Uy;var ne=q.current.memoizedState.isDehydrated;if(ne&&(ch(q,R).flags|=256),R=TA(q,R,!1),R!==2){if(wA&&!ne){q.errorRecoveryDisabledLanes|=_,ld|=_,w=4;break e}_=Ki,Ki=w,_!==null&&(Ki===null?Ki=_:Ki.push.apply(Ki,_))}w=R}if(_=!1,w!==2)continue}}if(w===1){ch(o,0),Ul(o,l,0,!0);break}e:{switch(y=o,_=w,_){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:Ul(y,l,As,!$l);break e;case 2:Ki=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(w=_w+300-_n(),10<w)){if(Ul(y,l,As,!$l),ec(y,0,!0)!==0)break e;mc=l,y.timeoutHandle=LR(lR.bind(null,y,f,Ki,Aw,_A,l,As,ld,ah,$l,_,"Throttled",-0,0),w);break e}lR(y,f,Ki,Aw,_A,l,As,ld,ah,$l,_,null,-0,0)}}break}while(!0);yo(o)}function lR(o,l,f,y,w,_,R,q,ne,de,ve,xe,pe,me){if(o.timeoutHandle=-1,xe=l.subtreeFlags,xe&8192||(xe&16785408)===16785408){xe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$a},tR(l,_,xe);var Ze=(_&62914560)===_?_w-_n():(_&4194048)===_?sR-_n():0;if(Ze=jZ(xe,Ze),Ze!==null){mc=_,o.cancelPendingCommit=Ze(gR.bind(null,o,l,_,f,y,w,R,q,ne,ve,xe,null,pe,me)),Ul(o,_,R,!de);return}}gR(o,l,_,f,y,w,R,q,ne)}function nZ(o){for(var l=o;;){var f=l.tag;if((f===0||f===11||f===15)&&l.flags&16384&&(f=l.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var y=0;y<f.length;y++){var w=f[y],_=w.getSnapshot;w=w.value;try{if(!bs(_(),w))return!1}catch{return!1}}if(f=l.child,l.subtreeFlags&16384&&f!==null)f.return=l,l=f;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Ul(o,l,f,y){l&=~vA,l&=~ld,o.suspendedLanes|=l,o.pingedLanes&=~l,y&&(o.warmLanes|=l),y=o.expirationTimes;for(var w=l;0<w;){var _=31-Xt(w),R=1<<_;y[_]=-1,w&=~R}f!==0&&ee(o,f,l)}function Sw(){return(rn&6)===0?(Ly(0),!1):!0}function xA(){if(Bt!==null){if(fn===0)var o=Bt.return;else o=Bt,sc=ed=null,z2(o),Jf=null,_y=0,o=Bt;for(;o!==null;)jk(o.alternate,o),o=o.return;Bt=null}}function ch(o,l){var f=o.timeoutHandle;f!==-1&&(o.timeoutHandle=-1,EZ(f)),f=o.cancelPendingCommit,f!==null&&(o.cancelPendingCommit=null,f()),mc=0,xA(),An=o,Bt=f=rc(o.current,null),jt=l,fn=0,Es=null,$l=!1,sh=uo(o,l),wA=!1,ah=As=vA=ld=Pl=Qn=0,Ki=Uy=null,_A=!1,(l&8)!==0&&(l|=l&32);var y=o.entangledLanes;if(y!==0)for(o=o.entanglements,y&=l;0<y;){var w=31-Xt(y),_=1<<w;l|=o[w],y&=~_}return yc=l,Vb(),f}function uR(o,l){kt=null,x.H=Oy,l===Xf||l===Qb?(l=T8(),fn=3):l===O2?(l=T8(),fn=4):fn=l===rA?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Es=l,Bt===null&&(Qn=1,hw(o,Ks(l,o.current)))}function dR(){var o=vs.current;return o===null?!0:(jt&4194048)===jt?Js===null:(jt&62914560)===jt||(jt&536870912)!==0?o===Js:!1}function fR(){var o=x.H;return x.H=Oy,o===null?Oy:o}function hR(){var o=x.A;return x.A=eZ,o}function xw(){Qn=4,$l||(jt&4194048)!==jt&&vs.current!==null||(sh=!0),(Pl&134217727)===0&&(ld&134217727)===0||An===null||Ul(An,jt,As,!1)}function TA(o,l,f){var y=rn;rn|=2;var w=fR(),_=hR();(An!==o||jt!==l)&&(Aw=null,ch(o,l)),l=!1;var R=Qn;e:do try{if(fn!==0&&Bt!==null){var q=Bt,ne=Es;switch(fn){case 8:xA(),R=6;break e;case 3:case 2:case 9:case 6:vs.current===null&&(l=!0);var de=fn;if(fn=0,Es=null,lh(o,q,ne,de),f&&sh){R=0;break e}break;default:de=fn,fn=0,Es=null,lh(o,q,ne,de)}}rZ(),R=Qn;break}catch(ve){uR(o,ve)}while(!0);return l&&o.shellSuspendCounter++,sc=ed=null,rn=y,x.H=w,x.A=_,Bt===null&&(An=null,jt=0,Vb()),R}function rZ(){for(;Bt!==null;)pR(Bt)}function iZ(o,l){var f=rn;rn|=2;var y=fR(),w=hR();An!==o||jt!==l?(Aw=null,Ew=_n()+500,ch(o,l)):sh=uo(o,l);e:do try{if(fn!==0&&Bt!==null){l=Bt;var _=Es;t:switch(fn){case 1:fn=0,Es=null,lh(o,l,_,1);break;case 2:case 9:if(S8(_)){fn=0,Es=null,yR(l);break}l=function(){fn!==2&&fn!==9||An!==o||(fn=7),yo(o)},_.then(l,l);break e;case 3:fn=7;break e;case 4:fn=5;break e;case 7:S8(_)?(fn=0,Es=null,yR(l)):(fn=0,Es=null,lh(o,l,_,7));break;case 5:var R=null;switch(Bt.tag){case 26:R=Bt.memoizedState;case 5:case 27:var q=Bt;if(R?e4(R):q.stateNode.complete){fn=0,Es=null;var ne=q.sibling;if(ne!==null)Bt=ne;else{var de=q.return;de!==null?(Bt=de,Tw(de)):Bt=null}break t}}fn=0,Es=null,lh(o,l,_,5);break;case 6:fn=0,Es=null,lh(o,l,_,6);break;case 8:xA(),Qn=6;break e;default:throw Error(r(462))}}sZ();break}catch(ve){uR(o,ve)}while(!0);return sc=ed=null,x.H=y,x.A=w,rn=f,Bt!==null?0:(An=null,jt=0,Vb(),Qn)}function sZ(){for(;Bt!==null&&!gi();)pR(Bt)}function pR(o){var l=Bk(o.alternate,o,yc);o.memoizedProps=o.pendingProps,l===null?Tw(o):Bt=l}function yR(o){var l=o,f=l.alternate;switch(l.tag){case 15:case 0:l=Nk(f,l,l.pendingProps,l.type,void 0,jt);break;case 11:l=Nk(f,l,l.pendingProps,l.type.render,l.ref,jt);break;case 5:z2(l);default:jk(f,l),l=Bt=h8(l,yc),l=Bk(f,l,yc)}o.memoizedProps=o.pendingProps,l===null?Tw(o):Bt=l}function lh(o,l,f,y){sc=ed=null,z2(l),Jf=null,_y=0;var w=l.return;try{if(GY(o,w,l,f,jt)){Qn=1,hw(o,Ks(f,o.current)),Bt=null;return}}catch(_){if(w!==null)throw Bt=w,_;Qn=1,hw(o,Ks(f,o.current)),Bt=null;return}l.flags&32768?(qt||y===1?o=!0:sh||(jt&536870912)!==0?o=!1:($l=o=!0,(y===2||y===9||y===3||y===6)&&(y=vs.current,y!==null&&y.tag===13&&(y.flags|=16384))),mR(l,o)):Tw(l)}function Tw(o){var l=o;do{if((l.flags&32768)!==0){mR(l,$l);return}o=l.return;var f=ZY(l.alternate,l,yc);if(f!==null){Bt=f;return}if(l=l.sibling,l!==null){Bt=l;return}Bt=l=o}while(l!==null);Qn===0&&(Qn=5)}function mR(o,l){do{var f=XY(o.alternate,o);if(f!==null){f.flags&=32767,Bt=f;return}if(f=o.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!l&&(o=o.sibling,o!==null)){Bt=o;return}Bt=o=f}while(o!==null);Qn=6,Bt=null}function gR(o,l,f,y,w,_,R,q,ne){o.cancelPendingCommit=null;do Iw();while(Tr!==0);if((rn&6)!==0)throw Error(r(327));if(l!==null){if(l===o.current)throw Error(r(177));if(_=l.lanes|l.childLanes,_|=p2,te(o,f,_,R,q,ne),o===An&&(Bt=An=null,jt=0),oh=l,Ml=o,mc=f,EA=_,AA=w,aR=y,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,lZ(mn,function(){return ER(),null})):(o.callbackNode=null,o.callbackPriority=0),y=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||y){y=x.T,x.T=null,w=N.p,N.p=2,R=rn,rn|=4;try{JY(o,l,f)}finally{rn=R,N.p=w,x.T=y}}Tr=1,bR(),wR(),vR()}}function bR(){if(Tr===1){Tr=0;var o=Ml,l=oh,f=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||f){f=x.T,x.T=null;var y=N.p;N.p=2;var w=rn;rn|=4;try{Jk(l,o);var _=BA,R=i8(o.containerInfo),q=_.focusedElem,ne=_.selectionRange;if(R!==q&&q&&q.ownerDocument&&r8(q.ownerDocument.documentElement,q)){if(ne!==null&&l2(q)){var de=ne.start,ve=ne.end;if(ve===void 0&&(ve=de),"selectionStart"in q)q.selectionStart=de,q.selectionEnd=Math.min(ve,q.value.length);else{var xe=q.ownerDocument||document,pe=xe&&xe.defaultView||window;if(pe.getSelection){var me=pe.getSelection(),Ze=q.textContent.length,ut=Math.min(ne.start,Ze),wn=ne.end===void 0?ut:Math.min(ne.end,Ze);!me.extend&&ut>wn&&(R=wn,wn=ut,ut=R);var oe=n8(q,ut),ie=n8(q,wn);if(oe&&ie&&(me.rangeCount!==1||me.anchorNode!==oe.node||me.anchorOffset!==oe.offset||me.focusNode!==ie.node||me.focusOffset!==ie.offset)){var ue=xe.createRange();ue.setStart(oe.node,oe.offset),me.removeAllRanges(),ut>wn?(me.addRange(ue),me.extend(ie.node,ie.offset)):(ue.setEnd(ie.node,ie.offset),me.addRange(ue))}}}}for(xe=[],me=q;me=me.parentNode;)me.nodeType===1&&xe.push({element:me,left:me.scrollLeft,top:me.scrollTop});for(typeof q.focus=="function"&&q.focus(),q=0;q<xe.length;q++){var Se=xe[q];Se.element.scrollLeft=Se.left,Se.element.scrollTop=Se.top}}Lw=!!UA,BA=UA=null}finally{rn=w,N.p=y,x.T=f}}o.current=l,Tr=2}}function wR(){if(Tr===2){Tr=0;var o=Ml,l=oh,f=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||f){f=x.T,x.T=null;var y=N.p;N.p=2;var w=rn;rn|=4;try{Gk(o,l.alternate,l)}finally{rn=w,N.p=y,x.T=f}}Tr=3}}function vR(){if(Tr===4||Tr===3){Tr=0,dt();var o=Ml,l=oh,f=mc,y=aR;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Tr=5:(Tr=0,oh=Ml=null,_R(o,o.pendingLanes));var w=o.pendingLanes;if(w===0&&(Dl=null),Ne(f),l=l.stateNode,ht&&typeof ht.onCommitFiberRoot=="function")try{ht.onCommitFiberRoot(ct,l,void 0,(l.current.flags&128)===128)}catch{}if(y!==null){l=x.T,w=N.p,N.p=2,x.T=null;try{for(var _=o.onRecoverableError,R=0;R<y.length;R++){var q=y[R];_(q.value,{componentStack:q.stack})}}finally{x.T=l,N.p=w}}(mc&3)!==0&&Iw(),yo(o),w=o.pendingLanes,(f&261930)!==0&&(w&42)!==0?o===SA?By++:(By=0,SA=o):By=0,Ly(0)}}function _R(o,l){(o.pooledCacheLanes&=l)===0&&(l=o.pooledCache,l!=null&&(o.pooledCache=null,wy(l)))}function Iw(){return bR(),wR(),vR(),ER()}function ER(){if(Tr!==5)return!1;var o=Ml,l=EA;EA=0;var f=Ne(mc),y=x.T,w=N.p;try{N.p=32>f?32:f,x.T=null,f=AA,AA=null;var _=Ml,R=mc;if(Tr=0,oh=Ml=null,mc=0,(rn&6)!==0)throw Error(r(331));var q=rn;if(rn|=4,rR(_.current),eR(_,_.current,R,f),rn=q,Ly(0,!1),ht&&typeof ht.onPostCommitFiberRoot=="function")try{ht.onPostCommitFiberRoot(ct,_)}catch{}return!0}finally{N.p=w,x.T=y,_R(o,l)}}function AR(o,l,f){l=Ks(f,l),l=nA(o.stateNode,l,2),o=Ol(o,l,2),o!==null&&(W(o,2),yo(o))}function hn(o,l,f){if(o.tag===3)AR(o,o,f);else for(;l!==null;){if(l.tag===3){AR(l,o,f);break}else if(l.tag===1){var y=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(Dl===null||!Dl.has(y))){o=Ks(f,o),f=Sk(2),y=Ol(l,f,2),y!==null&&(xk(f,y,l,o),W(y,2),yo(y));break}}l=l.return}}function IA(o,l,f){var y=o.pingCache;if(y===null){y=o.pingCache=new tZ;var w=new Set;y.set(l,w)}else w=y.get(l),w===void 0&&(w=new Set,y.set(l,w));w.has(f)||(wA=!0,w.add(f),o=aZ.bind(null,o,l,f),l.then(o,o))}function aZ(o,l,f){var y=o.pingCache;y!==null&&y.delete(l),o.pingedLanes|=o.suspendedLanes&f,o.warmLanes&=~f,An===o&&(jt&f)===f&&(Qn===4||Qn===3&&(jt&62914560)===jt&&300>_n()-_w?(rn&2)===0&&ch(o,0):vA|=f,ah===jt&&(ah=0)),yo(o)}function SR(o,l){l===0&&(l=Gu()),o=Xu(o,l),o!==null&&(W(o,l),yo(o))}function oZ(o){var l=o.memoizedState,f=0;l!==null&&(f=l.retryLane),SR(o,f)}function cZ(o,l){var f=0;switch(o.tag){case 31:case 13:var y=o.stateNode,w=o.memoizedState;w!==null&&(f=w.retryLane);break;case 19:y=o.stateNode;break;case 22:y=o.stateNode._retryCache;break;default:throw Error(r(314))}y!==null&&y.delete(l),SR(o,f)}function lZ(o,l){return He(o,l)}var Cw=null,uh=null,CA=!1,Ow=!1,OA=!1,Bl=0;function yo(o){o!==uh&&o.next===null&&(uh===null?Cw=uh=o:uh=uh.next=o),Ow=!0,CA||(CA=!0,dZ())}function Ly(o,l){if(!OA&&Ow){OA=!0;do for(var f=!1,y=Cw;y!==null;){if(o!==0){var w=y.pendingLanes;if(w===0)var _=0;else{var R=y.suspendedLanes,q=y.pingedLanes;_=(1<<31-Xt(42|o)+1)-1,_&=w&~(R&~q),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(f=!0,CR(y,_))}else _=jt,_=ec(y,y===An?_:0,y.cancelPendingCommit!==null||y.timeoutHandle!==-1),(_&3)===0||uo(y,_)||(f=!0,CR(y,_));y=y.next}while(f);OA=!1}}function uZ(){xR()}function xR(){Ow=CA=!1;var o=0;Bl!==0&&_Z()&&(o=Bl);for(var l=_n(),f=null,y=Cw;y!==null;){var w=y.next,_=TR(y,l);_===0?(y.next=null,f===null?Cw=w:f.next=w,w===null&&(uh=f)):(f=y,(o!==0||(_&3)!==0)&&(Ow=!0)),y=w}Tr!==0&&Tr!==5||Ly(o),Bl!==0&&(Bl=0)}function TR(o,l){for(var f=o.suspendedLanes,y=o.pingedLanes,w=o.expirationTimes,_=o.pendingLanes&-62914561;0<_;){var R=31-Xt(_),q=1<<R,ne=w[R];ne===-1?((q&f)===0||(q&y)!==0)&&(w[R]=Hu(q,l)):ne<=l&&(o.expiredLanes|=q),_&=~q}if(l=An,f=jt,f=ec(o,o===l?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),y=o.callbackNode,f===0||o===l&&(fn===2||fn===9)||o.cancelPendingCommit!==null)return y!==null&&y!==null&&mi(y),o.callbackNode=null,o.callbackPriority=0;if((f&3)===0||uo(o,f)){if(l=f&-f,l===o.callbackPriority)return l;switch(y!==null&&mi(y),Ne(f)){case 2:case 8:f=zi;break;case 32:f=mn;break;case 268435456:f=Yr;break;default:f=mn}return y=IR.bind(null,o),f=He(f,y),o.callbackPriority=l,o.callbackNode=f,l}return y!==null&&y!==null&&mi(y),o.callbackPriority=2,o.callbackNode=null,2}function IR(o,l){if(Tr!==0&&Tr!==5)return o.callbackNode=null,o.callbackPriority=0,null;var f=o.callbackNode;if(Iw()&&o.callbackNode!==f)return null;var y=jt;return y=ec(o,o===An?y:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),y===0?null:(cR(o,y,l),TR(o,_n()),o.callbackNode!=null&&o.callbackNode===f?IR.bind(null,o):null)}function CR(o,l){if(Iw())return null;cR(o,l,!0)}function dZ(){AZ(function(){(rn&6)!==0?He(ms,uZ):xR()})}function kA(){if(Bl===0){var o=Yf;o===0&&(o=Zr,Zr<<=1,(Zr&261888)===0&&(Zr=256)),Bl=o}return Bl}function OR(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Mf(""+o)}function kR(o,l){var f=l.ownerDocument.createElement("input");return f.name=l.name,f.value=l.value,o.id&&f.setAttribute("form",o.id),l.parentNode.insertBefore(f,l),o=new FormData(o),f.parentNode.removeChild(f),o}function fZ(o,l,f,y,w){if(l==="submit"&&f&&f.stateNode===w){var _=OR((w[Ct]||null).action),R=y.submitter;R&&(l=(l=R[Ct]||null)?OR(l.formAction):R.getAttribute("formAction"),l!==null&&(_=l,R=null));var q=new Uf("action","action",null,y,w);o.push({event:q,listeners:[{instance:null,listener:function(){if(y.defaultPrevented){if(Bl!==0){var ne=R?kR(w,R):new FormData(w);Z2(f,{pending:!0,data:ne,method:w.method,action:_},null,ne)}}else typeof _=="function"&&(q.preventDefault(),ne=R?kR(w,R):new FormData(w),Z2(f,{pending:!0,data:ne,method:w.method,action:_},_,ne))},currentTarget:w}]})}}for(var RA=0;RA<h2.length;RA++){var NA=h2[RA],hZ=NA.toLowerCase(),pZ=NA[0].toUpperCase()+NA.slice(1);Pa(hZ,"on"+pZ)}Pa(o8,"onAnimationEnd"),Pa(c8,"onAnimationIteration"),Pa(l8,"onAnimationStart"),Pa("dblclick","onDoubleClick"),Pa("focusin","onFocus"),Pa("focusout","onBlur"),Pa(kY,"onTransitionRun"),Pa(RY,"onTransitionStart"),Pa(NY,"onTransitionCancel"),Pa(u8,"onTransitionEnd"),Dr("onMouseEnter",["mouseout","mouseover"]),Dr("onMouseLeave",["mouseout","mouseover"]),Dr("onPointerEnter",["pointerout","pointerover"]),Dr("onPointerLeave",["pointerout","pointerover"]),dn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),dn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),dn("onBeforeInput",["compositionend","keypress","textInput","paste"]),dn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),dn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),dn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jy="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yZ=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jy));function RR(o,l){l=(l&4)!==0;for(var f=0;f<o.length;f++){var y=o[f],w=y.event;y=y.listeners;e:{var _=void 0;if(l)for(var R=y.length-1;0<=R;R--){var q=y[R],ne=q.instance,de=q.currentTarget;if(q=q.listener,ne!==_&&w.isPropagationStopped())break e;_=q,w.currentTarget=de;try{_(w)}catch(ve){Wb(ve)}w.currentTarget=null,_=ne}else for(R=0;R<y.length;R++){if(q=y[R],ne=q.instance,de=q.currentTarget,q=q.listener,ne!==_&&w.isPropagationStopped())break e;_=q,w.currentTarget=de;try{_(w)}catch(ve){Wb(ve)}w.currentTarget=null,_=ne}}}}function Lt(o,l){var f=l[sn];f===void 0&&(f=l[sn]=new Set);var y=o+"__bubble";f.has(y)||(NR(l,o,2,!1),f.add(y))}function $A(o,l,f){var y=0;l&&(y|=4),NR(f,o,y,l)}var kw="_reactListening"+Math.random().toString(36).slice(2);function PA(o){if(!o[kw]){o[kw]=!0,En.forEach(function(f){f!=="selectionchange"&&(yZ.has(f)||$A(f,!1,o),$A(f,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[kw]||(l[kw]=!0,$A("selectionchange",!1,l))}}function NR(o,l,f,y){switch(o4(l)){case 2:var w=qZ;break;case 8:w=WZ;break;default:w=YA}f=w.bind(null,l,f,o),w=void 0,!uy||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(w=!0),y?w!==void 0?o.addEventListener(l,f,{capture:!0,passive:w}):o.addEventListener(l,f,!0):w!==void 0?o.addEventListener(l,f,{passive:w}):o.addEventListener(l,f,!1)}function DA(o,l,f,y,w){var _=y;if((l&1)===0&&(l&2)===0&&y!==null)e:for(;;){if(y===null)return;var R=y.tag;if(R===3||R===4){var q=y.stateNode.containerInfo;if(q===w)break;if(R===4)for(R=y.return;R!==null;){var ne=R.tag;if((ne===3||ne===4)&&R.stateNode.containerInfo===w)return;R=R.return}for(;q!==null;){if(R=Zn(q),R===null)return;if(ne=R.tag,ne===5||ne===6||ne===26||ne===27){y=_=R;continue e}q=q.parentNode}}y=y.return}jb(function(){var de=_,ve=cy(f),xe=[];e:{var pe=d8.get(o);if(pe!==void 0){var me=Uf,Ze=o;switch(o){case"keypress":if(Ot(f)===0)break e;case"keydown":case"keyup":me=cY;break;case"focusin":Ze="focus",me=i2;break;case"focusout":Ze="blur",me=i2;break;case"beforeblur":case"afterblur":me=i2;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=jO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=ZK;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=dY;break;case o8:case c8:case l8:me=QK;break;case u8:me=hY;break;case"scroll":case"scrollend":me=zb;break;case"wheel":me=yY;break;case"copy":case"cut":case"paste":me=tY;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=FO;break;case"toggle":case"beforetoggle":me=gY}var ut=(l&4)!==0,wn=!ut&&(o==="scroll"||o==="scrollend"),oe=ut?pe!==null?pe+"Capture":null:pe;ut=[];for(var ie=de,ue;ie!==null;){var Se=ie;if(ue=Se.stateNode,Se=Se.tag,Se!==5&&Se!==26&&Se!==27||ue===null||oe===null||(Se=Ku(ie,oe),Se!=null&&ut.push(zy(ie,Se,ue))),wn)break;ie=ie.return}0<ut.length&&(pe=new me(pe,Ze,null,f,ve),xe.push({event:pe,listeners:ut}))}}if((l&7)===0){e:{if(pe=o==="mouseover"||o==="pointerover",me=o==="mouseout"||o==="pointerout",pe&&f!==oy&&(Ze=f.relatedTarget||f.fromElement)&&(Zn(Ze)||Ze[Je]))break e;if((me||pe)&&(pe=ve.window===ve?ve:(pe=ve.ownerDocument)?pe.defaultView||pe.parentWindow:window,me?(Ze=f.relatedTarget||f.toElement,me=de,Ze=Ze?Zn(Ze):null,Ze!==null&&(wn=s(Ze),ut=Ze.tag,Ze!==wn||ut!==5&&ut!==27&&ut!==6)&&(Ze=null)):(me=null,Ze=de),me!==Ze)){if(ut=jO,Se="onMouseLeave",oe="onMouseEnter",ie="mouse",(o==="pointerout"||o==="pointerover")&&(ut=FO,Se="onPointerLeave",oe="onPointerEnter",ie="pointer"),wn=me==null?pe:Vs(me),ue=Ze==null?pe:Vs(Ze),pe=new ut(Se,ie+"leave",me,f,ve),pe.target=wn,pe.relatedTarget=ue,Se=null,Zn(ve)===de&&(ut=new ut(oe,ie+"enter",Ze,f,ve),ut.target=ue,ut.relatedTarget=wn,Se=ut),wn=Se,me&&Ze)t:{for(ut=mZ,oe=me,ie=Ze,ue=0,Se=oe;Se;Se=ut(Se))ue++;Se=0;for(var st=ie;st;st=ut(st))Se++;for(;0<ue-Se;)oe=ut(oe),ue--;for(;0<Se-ue;)ie=ut(ie),Se--;for(;ue--;){if(oe===ie||ie!==null&&oe===ie.alternate){ut=oe;break t}oe=ut(oe),ie=ut(ie)}ut=null}else ut=null;me!==null&&$R(xe,pe,me,ut,!1),Ze!==null&&wn!==null&&$R(xe,wn,Ze,ut,!0)}}e:{if(pe=de?Vs(de):window,me=pe.nodeName&&pe.nodeName.toLowerCase(),me==="select"||me==="input"&&pe.type==="file")var Jt=ZO;else if(KO(pe))if(XO)Jt=IY;else{Jt=xY;var Qe=SY}else me=pe.nodeName,!me||me.toLowerCase()!=="input"||pe.type!=="checkbox"&&pe.type!=="radio"?de&&ay(de.elementType)&&(Jt=ZO):Jt=TY;if(Jt&&(Jt=Jt(o,de))){YO(xe,Jt,f,ve);break e}Qe&&Qe(o,pe,de),o==="focusout"&&de&&pe.type==="number"&&de.memoizedProps.value!=null&&sy(pe,"number",pe.value)}switch(Qe=de?Vs(de):window,o){case"focusin":(KO(Qe)||Qe.contentEditable==="true")&&(zf=Qe,u2=de,my=null);break;case"focusout":my=u2=zf=null;break;case"mousedown":d2=!0;break;case"contextmenu":case"mouseup":case"dragend":d2=!1,s8(xe,f,ve);break;case"selectionchange":if(OY)break;case"keydown":case"keyup":s8(xe,f,ve)}var Rt;if(a2)e:{switch(o){case"compositionstart":var zt="onCompositionStart";break e;case"compositionend":zt="onCompositionEnd";break e;case"compositionupdate":zt="onCompositionUpdate";break e}zt=void 0}else jf?HO(o,f)&&(zt="onCompositionEnd"):o==="keydown"&&f.keyCode===229&&(zt="onCompositionStart");zt&&(qO&&f.locale!=="ko"&&(jf||zt!=="onCompositionStart"?zt==="onCompositionEnd"&&jf&&(Rt=Re()):(Z=ve,re="value"in Z?Z.value:Z.textContent,jf=!0)),Qe=Rw(de,zt),0<Qe.length&&(zt=new zO(zt,o,null,f,ve),xe.push({event:zt,listeners:Qe}),Rt?zt.data=Rt:(Rt=GO(f),Rt!==null&&(zt.data=Rt)))),(Rt=wY?vY(o,f):_Y(o,f))&&(zt=Rw(de,"onBeforeInput"),0<zt.length&&(Qe=new zO("onBeforeInput","beforeinput",null,f,ve),xe.push({event:Qe,listeners:zt}),Qe.data=Rt)),fZ(xe,o,de,f,ve)}RR(xe,l)})}function zy(o,l,f){return{instance:o,listener:l,currentTarget:f}}function Rw(o,l){for(var f=l+"Capture",y=[];o!==null;){var w=o,_=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||_===null||(w=Ku(o,f),w!=null&&y.unshift(zy(o,w,_)),w=Ku(o,l),w!=null&&y.push(zy(o,w,_))),o.tag===3)return y;o=o.return}return[]}function mZ(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function $R(o,l,f,y,w){for(var _=l._reactName,R=[];f!==null&&f!==y;){var q=f,ne=q.alternate,de=q.stateNode;if(q=q.tag,ne!==null&&ne===y)break;q!==5&&q!==26&&q!==27||de===null||(ne=de,w?(de=Ku(f,_),de!=null&&R.unshift(zy(f,de,ne))):w||(de=Ku(f,_),de!=null&&R.push(zy(f,de,ne)))),f=f.return}R.length!==0&&o.push({event:l,listeners:R})}var gZ=/\r\n?/g,bZ=/\u0000|\uFFFD/g;function PR(o){return(typeof o=="string"?o:""+o).replace(gZ,`
`).replace(bZ,"")}function DR(o,l){return l=PR(l),PR(o)===l}function bn(o,l,f,y,w,_){switch(f){case"children":typeof y=="string"?l==="body"||l==="textarea"&&y===""||wl(o,y):(typeof y=="number"||typeof y=="bigint")&&l!=="body"&&wl(o,""+y);break;case"className":Pf(o,"class",y);break;case"tabIndex":Pf(o,"tabindex",y);break;case"dir":case"role":case"viewBox":case"width":case"height":Pf(o,f,y);break;case"style":Bb(o,y,_);break;case"data":if(l!=="object"){Pf(o,"data",y);break}case"src":case"href":if(y===""&&(l!=="a"||f!=="href")){o.removeAttribute(f);break}if(y==null||typeof y=="function"||typeof y=="symbol"||typeof y=="boolean"){o.removeAttribute(f);break}y=Mf(""+y),o.setAttribute(f,y);break;case"action":case"formAction":if(typeof y=="function"){o.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(f==="formAction"?(l!=="input"&&bn(o,l,"name",w.name,w,null),bn(o,l,"formEncType",w.formEncType,w,null),bn(o,l,"formMethod",w.formMethod,w,null),bn(o,l,"formTarget",w.formTarget,w,null)):(bn(o,l,"encType",w.encType,w,null),bn(o,l,"method",w.method,w,null),bn(o,l,"target",w.target,w,null)));if(y==null||typeof y=="symbol"||typeof y=="boolean"){o.removeAttribute(f);break}y=Mf(""+y),o.setAttribute(f,y);break;case"onClick":y!=null&&(o.onclick=$a);break;case"onScroll":y!=null&&Lt("scroll",o);break;case"onScrollEnd":y!=null&&Lt("scrollend",o);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(r(61));if(f=y.__html,f!=null){if(w.children!=null)throw Error(r(60));o.innerHTML=f}}break;case"multiple":o.multiple=y&&typeof y!="function"&&typeof y!="symbol";break;case"muted":o.muted=y&&typeof y!="function"&&typeof y!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(y==null||typeof y=="function"||typeof y=="boolean"||typeof y=="symbol"){o.removeAttribute("xlink:href");break}f=Mf(""+y),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":y!=null&&typeof y!="function"&&typeof y!="symbol"?o.setAttribute(f,""+y):o.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":y&&typeof y!="function"&&typeof y!="symbol"?o.setAttribute(f,""):o.removeAttribute(f);break;case"capture":case"download":y===!0?o.setAttribute(f,""):y!==!1&&y!=null&&typeof y!="function"&&typeof y!="symbol"?o.setAttribute(f,y):o.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":y!=null&&typeof y!="function"&&typeof y!="symbol"&&!isNaN(y)&&1<=y?o.setAttribute(f,y):o.removeAttribute(f);break;case"rowSpan":case"start":y==null||typeof y=="function"||typeof y=="symbol"||isNaN(y)?o.removeAttribute(f):o.setAttribute(f,y);break;case"popover":Lt("beforetoggle",o),Lt("toggle",o),$f(o,"popover",y);break;case"xlinkActuate":Na(o,"http://www.w3.org/1999/xlink","xlink:actuate",y);break;case"xlinkArcrole":Na(o,"http://www.w3.org/1999/xlink","xlink:arcrole",y);break;case"xlinkRole":Na(o,"http://www.w3.org/1999/xlink","xlink:role",y);break;case"xlinkShow":Na(o,"http://www.w3.org/1999/xlink","xlink:show",y);break;case"xlinkTitle":Na(o,"http://www.w3.org/1999/xlink","xlink:title",y);break;case"xlinkType":Na(o,"http://www.w3.org/1999/xlink","xlink:type",y);break;case"xmlBase":Na(o,"http://www.w3.org/XML/1998/namespace","xml:base",y);break;case"xmlLang":Na(o,"http://www.w3.org/XML/1998/namespace","xml:lang",y);break;case"xmlSpace":Na(o,"http://www.w3.org/XML/1998/namespace","xml:space",y);break;case"is":$f(o,"is",y);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=n2.get(f)||f,$f(o,f,y))}}function MA(o,l,f,y,w,_){switch(f){case"style":Bb(o,y,_);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(r(61));if(f=y.__html,f!=null){if(w.children!=null)throw Error(r(60));o.innerHTML=f}}break;case"children":typeof y=="string"?wl(o,y):(typeof y=="number"||typeof y=="bigint")&&wl(o,""+y);break;case"onScroll":y!=null&&Lt("scroll",o);break;case"onScrollEnd":y!=null&&Lt("scrollend",o);break;case"onClick":y!=null&&(o.onclick=$a);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_t.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(w=f.endsWith("Capture"),l=f.slice(2,w?f.length-7:void 0),_=o[Ct]||null,_=_!=null?_[f]:null,typeof _=="function"&&o.removeEventListener(l,_,w),typeof y=="function")){typeof _!="function"&&_!==null&&(f in o?o[f]=null:o.hasAttribute(f)&&o.removeAttribute(f)),o.addEventListener(l,y,w);break e}f in o?o[f]=y:y===!0?o.setAttribute(f,""):$f(o,f,y)}}}function ti(o,l,f){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Lt("error",o),Lt("load",o);var y=!1,w=!1,_;for(_ in f)if(f.hasOwnProperty(_)){var R=f[_];if(R!=null)switch(_){case"src":y=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:bn(o,l,_,R,f,null)}}w&&bn(o,l,"srcSet",f.srcSet,f,null),y&&bn(o,l,"src",f.src,f,null);return;case"input":Lt("invalid",o);var q=_=R=w=null,ne=null,de=null;for(y in f)if(f.hasOwnProperty(y)){var ve=f[y];if(ve!=null)switch(y){case"name":w=ve;break;case"type":R=ve;break;case"checked":ne=ve;break;case"defaultChecked":de=ve;break;case"value":_=ve;break;case"defaultValue":q=ve;break;case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(r(137,l));break;default:bn(o,l,y,ve,f,null)}}Pb(o,_,q,ne,de,R,w,!1);return;case"select":Lt("invalid",o),y=R=_=null;for(w in f)if(f.hasOwnProperty(w)&&(q=f[w],q!=null))switch(w){case"value":_=q;break;case"defaultValue":R=q;break;case"multiple":y=q;default:bn(o,l,w,q,f,null)}l=_,f=R,o.multiple=!!y,l!=null?bl(o,!!y,l,!1):f!=null&&bl(o,!!y,f,!0);return;case"textarea":Lt("invalid",o),_=w=y=null;for(R in f)if(f.hasOwnProperty(R)&&(q=f[R],q!=null))switch(R){case"value":y=q;break;case"defaultValue":w=q;break;case"children":_=q;break;case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(91));break;default:bn(o,l,R,q,f,null)}Mb(o,y,w,_);return;case"option":for(ne in f)f.hasOwnProperty(ne)&&(y=f[ne],y!=null)&&(ne==="selected"?o.selected=y&&typeof y!="function"&&typeof y!="symbol":bn(o,l,ne,y,f,null));return;case"dialog":Lt("beforetoggle",o),Lt("toggle",o),Lt("cancel",o),Lt("close",o);break;case"iframe":case"object":Lt("load",o);break;case"video":case"audio":for(y=0;y<jy.length;y++)Lt(jy[y],o);break;case"image":Lt("error",o),Lt("load",o);break;case"details":Lt("toggle",o);break;case"embed":case"source":case"link":Lt("error",o),Lt("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(de in f)if(f.hasOwnProperty(de)&&(y=f[de],y!=null))switch(de){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:bn(o,l,de,y,f,null)}return;default:if(ay(l)){for(ve in f)f.hasOwnProperty(ve)&&(y=f[ve],y!==void 0&&MA(o,l,ve,y,f,void 0));return}}for(q in f)f.hasOwnProperty(q)&&(y=f[q],y!=null&&bn(o,l,q,y,f,null))}function wZ(o,l,f,y){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,_=null,R=null,q=null,ne=null,de=null,ve=null;for(me in f){var xe=f[me];if(f.hasOwnProperty(me)&&xe!=null)switch(me){case"checked":break;case"value":break;case"defaultValue":ne=xe;default:y.hasOwnProperty(me)||bn(o,l,me,null,y,xe)}}for(var pe in y){var me=y[pe];if(xe=f[pe],y.hasOwnProperty(pe)&&(me!=null||xe!=null))switch(pe){case"type":_=me;break;case"name":w=me;break;case"checked":de=me;break;case"defaultChecked":ve=me;break;case"value":R=me;break;case"defaultValue":q=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(r(137,l));break;default:me!==xe&&bn(o,l,pe,me,y,xe)}}iy(o,R,q,ne,de,ve,_,w);return;case"select":me=R=q=pe=null;for(_ in f)if(ne=f[_],f.hasOwnProperty(_)&&ne!=null)switch(_){case"value":break;case"multiple":me=ne;default:y.hasOwnProperty(_)||bn(o,l,_,null,y,ne)}for(w in y)if(_=y[w],ne=f[w],y.hasOwnProperty(w)&&(_!=null||ne!=null))switch(w){case"value":pe=_;break;case"defaultValue":q=_;break;case"multiple":R=_;default:_!==ne&&bn(o,l,w,_,y,ne)}l=q,f=R,y=me,pe!=null?bl(o,!!f,pe,!1):!!y!=!!f&&(l!=null?bl(o,!!f,l,!0):bl(o,!!f,f?[]:"",!1));return;case"textarea":me=pe=null;for(q in f)if(w=f[q],f.hasOwnProperty(q)&&w!=null&&!y.hasOwnProperty(q))switch(q){case"value":break;case"children":break;default:bn(o,l,q,null,y,w)}for(R in y)if(w=y[R],_=f[R],y.hasOwnProperty(R)&&(w!=null||_!=null))switch(R){case"value":pe=w;break;case"defaultValue":me=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:w!==_&&bn(o,l,R,w,y,_)}Db(o,pe,me);return;case"option":for(var Ze in f)pe=f[Ze],f.hasOwnProperty(Ze)&&pe!=null&&!y.hasOwnProperty(Ze)&&(Ze==="selected"?o.selected=!1:bn(o,l,Ze,null,y,pe));for(ne in y)pe=y[ne],me=f[ne],y.hasOwnProperty(ne)&&pe!==me&&(pe!=null||me!=null)&&(ne==="selected"?o.selected=pe&&typeof pe!="function"&&typeof pe!="symbol":bn(o,l,ne,pe,y,me));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ut in f)pe=f[ut],f.hasOwnProperty(ut)&&pe!=null&&!y.hasOwnProperty(ut)&&bn(o,l,ut,null,y,pe);for(de in y)if(pe=y[de],me=f[de],y.hasOwnProperty(de)&&pe!==me&&(pe!=null||me!=null))switch(de){case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(r(137,l));break;default:bn(o,l,de,pe,y,me)}return;default:if(ay(l)){for(var wn in f)pe=f[wn],f.hasOwnProperty(wn)&&pe!==void 0&&!y.hasOwnProperty(wn)&&MA(o,l,wn,void 0,y,pe);for(ve in y)pe=y[ve],me=f[ve],!y.hasOwnProperty(ve)||pe===me||pe===void 0&&me===void 0||MA(o,l,ve,pe,y,me);return}}for(var oe in f)pe=f[oe],f.hasOwnProperty(oe)&&pe!=null&&!y.hasOwnProperty(oe)&&bn(o,l,oe,null,y,pe);for(xe in y)pe=y[xe],me=f[xe],!y.hasOwnProperty(xe)||pe===me||pe==null&&me==null||bn(o,l,xe,pe,y,me)}function MR(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function vZ(){if(typeof performance.getEntriesByType=="function"){for(var o=0,l=0,f=performance.getEntriesByType("resource"),y=0;y<f.length;y++){var w=f[y],_=w.transferSize,R=w.initiatorType,q=w.duration;if(_&&q&&MR(R)){for(R=0,q=w.responseEnd,y+=1;y<f.length;y++){var ne=f[y],de=ne.startTime;if(de>q)break;var ve=ne.transferSize,xe=ne.initiatorType;ve&&MR(xe)&&(ne=ne.responseEnd,R+=ve*(ne<q?1:(q-de)/(ne-de)))}if(--y,l+=8*(_+R)/(w.duration/1e3),o++,10<o)break}}if(0<o)return l/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var UA=null,BA=null;function Nw(o){return o.nodeType===9?o:o.ownerDocument}function UR(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function BR(o,l){if(o===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&l==="foreignObject"?0:o}function LA(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var jA=null;function _Z(){var o=window.event;return o&&o.type==="popstate"?o===jA?!1:(jA=o,!0):(jA=null,!1)}var LR=typeof setTimeout=="function"?setTimeout:void 0,EZ=typeof clearTimeout=="function"?clearTimeout:void 0,jR=typeof Promise=="function"?Promise:void 0,AZ=typeof queueMicrotask=="function"?queueMicrotask:typeof jR<"u"?function(o){return jR.resolve(null).then(o).catch(SZ)}:LR;function SZ(o){setTimeout(function(){throw o})}function Ll(o){return o==="head"}function zR(o,l){var f=l,y=0;do{var w=f.nextSibling;if(o.removeChild(f),w&&w.nodeType===8)if(f=w.data,f==="/$"||f==="/&"){if(y===0){o.removeChild(w),ph(l);return}y--}else if(f==="$"||f==="$?"||f==="$~"||f==="$!"||f==="&")y++;else if(f==="html")Fy(o.ownerDocument.documentElement);else if(f==="head"){f=o.ownerDocument.head,Fy(f);for(var _=f.firstChild;_;){var R=_.nextSibling,q=_.nodeName;_[Yn]||q==="SCRIPT"||q==="STYLE"||q==="LINK"&&_.rel.toLowerCase()==="stylesheet"||f.removeChild(_),_=R}}else f==="body"&&Fy(o.ownerDocument.body);f=w}while(f);ph(l)}function FR(o,l){var f=o;o=0;do{var y=f.nextSibling;if(f.nodeType===1?l?(f._stashedDisplay=f.style.display,f.style.display="none"):(f.style.display=f._stashedDisplay||"",f.getAttribute("style")===""&&f.removeAttribute("style")):f.nodeType===3&&(l?(f._stashedText=f.nodeValue,f.nodeValue=""):f.nodeValue=f._stashedText||""),y&&y.nodeType===8)if(f=y.data,f==="/$"){if(o===0)break;o--}else f!=="$"&&f!=="$?"&&f!=="$~"&&f!=="$!"||o++;f=y}while(f)}function zA(o){var l=o.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var f=l;switch(l=l.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":zA(f),un(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}o.removeChild(f)}}function xZ(o,l,f,y){for(;o.nodeType===1;){var w=f;if(o.nodeName.toLowerCase()!==l.toLowerCase()){if(!y&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(y){if(!o[Yn])switch(l){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(_=o.getAttribute("rel"),_==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(_!==w.rel||o.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||o.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||o.getAttribute("title")!==(w.title==null?null:w.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(_=o.getAttribute("src"),(_!==(w.src==null?null:w.src)||o.getAttribute("type")!==(w.type==null?null:w.type)||o.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&_&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(l==="input"&&o.type==="hidden"){var _=w.name==null?null:""+w.name;if(w.type==="hidden"&&o.getAttribute("name")===_)return o}else return o;if(o=Qs(o.nextSibling),o===null)break}return null}function TZ(o,l,f){if(l==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!f||(o=Qs(o.nextSibling),o===null))return null;return o}function qR(o,l){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!l||(o=Qs(o.nextSibling),o===null))return null;return o}function FA(o){return o.data==="$?"||o.data==="$~"}function qA(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function IZ(o,l){var f=o.ownerDocument;if(o.data==="$~")o._reactRetry=l;else if(o.data!=="$?"||f.readyState!=="loading")l();else{var y=function(){l(),f.removeEventListener("DOMContentLoaded",y)};f.addEventListener("DOMContentLoaded",y),o._reactRetry=y}}function Qs(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return o}var WA=null;function WR(o){o=o.nextSibling;for(var l=0;o;){if(o.nodeType===8){var f=o.data;if(f==="/$"||f==="/&"){if(l===0)return Qs(o.nextSibling);l--}else f!=="$"&&f!=="$!"&&f!=="$?"&&f!=="$~"&&f!=="&"||l++}o=o.nextSibling}return null}function VR(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var f=o.data;if(f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"){if(l===0)return o;l--}else f!=="/$"&&f!=="/&"||l++}o=o.previousSibling}return null}function HR(o,l,f){switch(l=Nw(f),o){case"html":if(o=l.documentElement,!o)throw Error(r(452));return o;case"head":if(o=l.head,!o)throw Error(r(453));return o;case"body":if(o=l.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function Fy(o){for(var l=o.attributes;l.length;)o.removeAttributeNode(l[0]);un(o)}var ea=new Map,GR=new Set;function $w(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var gc=N.d;N.d={f:CZ,r:OZ,D:kZ,C:RZ,L:NZ,m:$Z,X:DZ,S:PZ,M:MZ};function CZ(){var o=gc.f(),l=Sw();return o||l}function OZ(o){var l=Xn(o);l!==null&&l.tag===5&&l.type==="form"?uk(l):gc.r(o)}var dh=typeof document>"u"?null:document;function KR(o,l,f){var y=dh;if(y&&typeof l=="string"&&l){var w=Wi(l);w='link[rel="'+o+'"][href="'+w+'"]',typeof f=="string"&&(w+='[crossorigin="'+f+'"]'),GR.has(w)||(GR.add(w),o={rel:o,crossOrigin:f,href:l},y.querySelector(w)===null&&(l=y.createElement("link"),ti(l,"link",o),lt(l),y.head.appendChild(l)))}}function kZ(o){gc.D(o),KR("dns-prefetch",o,null)}function RZ(o,l){gc.C(o,l),KR("preconnect",o,l)}function NZ(o,l,f){gc.L(o,l,f);var y=dh;if(y&&o&&l){var w='link[rel="preload"][as="'+Wi(l)+'"]';l==="image"&&f&&f.imageSrcSet?(w+='[imagesrcset="'+Wi(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(w+='[imagesizes="'+Wi(f.imageSizes)+'"]')):w+='[href="'+Wi(o)+'"]';var _=w;switch(l){case"style":_=fh(o);break;case"script":_=hh(o)}ea.has(_)||(o=p({rel:"preload",href:l==="image"&&f&&f.imageSrcSet?void 0:o,as:l},f),ea.set(_,o),y.querySelector(w)!==null||l==="style"&&y.querySelector(qy(_))||l==="script"&&y.querySelector(Wy(_))||(l=y.createElement("link"),ti(l,"link",o),lt(l),y.head.appendChild(l)))}}function $Z(o,l){gc.m(o,l);var f=dh;if(f&&o){var y=l&&typeof l.as=="string"?l.as:"script",w='link[rel="modulepreload"][as="'+Wi(y)+'"][href="'+Wi(o)+'"]',_=w;switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=hh(o)}if(!ea.has(_)&&(o=p({rel:"modulepreload",href:o},l),ea.set(_,o),f.querySelector(w)===null)){switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(Wy(_)))return}y=f.createElement("link"),ti(y,"link",o),lt(y),f.head.appendChild(y)}}}function PZ(o,l,f){gc.S(o,l,f);var y=dh;if(y&&o){var w=ka(y).hoistableStyles,_=fh(o);l=l||"default";var R=w.get(_);if(!R){var q={loading:0,preload:null};if(R=y.querySelector(qy(_)))q.loading=5;else{o=p({rel:"stylesheet",href:o,"data-precedence":l},f),(f=ea.get(_))&&VA(o,f);var ne=R=y.createElement("link");lt(ne),ti(ne,"link",o),ne._p=new Promise(function(de,ve){ne.onload=de,ne.onerror=ve}),ne.addEventListener("load",function(){q.loading|=1}),ne.addEventListener("error",function(){q.loading|=2}),q.loading|=4,Pw(R,l,y)}R={type:"stylesheet",instance:R,count:1,state:q},w.set(_,R)}}}function DZ(o,l){gc.X(o,l);var f=dh;if(f&&o){var y=ka(f).hoistableScripts,w=hh(o),_=y.get(w);_||(_=f.querySelector(Wy(w)),_||(o=p({src:o,async:!0},l),(l=ea.get(w))&&HA(o,l),_=f.createElement("script"),lt(_),ti(_,"link",o),f.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},y.set(w,_))}}function MZ(o,l){gc.M(o,l);var f=dh;if(f&&o){var y=ka(f).hoistableScripts,w=hh(o),_=y.get(w);_||(_=f.querySelector(Wy(w)),_||(o=p({src:o,async:!0,type:"module"},l),(l=ea.get(w))&&HA(o,l),_=f.createElement("script"),lt(_),ti(_,"link",o),f.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},y.set(w,_))}}function YR(o,l,f,y){var w=(w=ge.current)?$w(w):null;if(!w)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(l=fh(f.href),f=ka(w).hoistableStyles,y=f.get(l),y||(y={type:"style",instance:null,count:0,state:null},f.set(l,y)),y):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){o=fh(f.href);var _=ka(w).hoistableStyles,R=_.get(o);if(R||(w=w.ownerDocument||w,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(o,R),(_=w.querySelector(qy(o)))&&!_._p&&(R.instance=_,R.state.loading=5),ea.has(o)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},ea.set(o,f),_||UZ(w,o,f,R.state))),l&&y===null)throw Error(r(528,""));return R}if(l&&y!==null)throw Error(r(529,""));return null;case"script":return l=f.async,f=f.src,typeof f=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=hh(f),f=ka(w).hoistableScripts,y=f.get(l),y||(y={type:"script",instance:null,count:0,state:null},f.set(l,y)),y):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function fh(o){return'href="'+Wi(o)+'"'}function qy(o){return'link[rel="stylesheet"]['+o+"]"}function ZR(o){return p({},o,{"data-precedence":o.precedence,precedence:null})}function UZ(o,l,f,y){o.querySelector('link[rel="preload"][as="style"]['+l+"]")?y.loading=1:(l=o.createElement("link"),y.preload=l,l.addEventListener("load",function(){return y.loading|=1}),l.addEventListener("error",function(){return y.loading|=2}),ti(l,"link",f),lt(l),o.head.appendChild(l))}function hh(o){return'[src="'+Wi(o)+'"]'}function Wy(o){return"script[async]"+o}function XR(o,l,f){if(l.count++,l.instance===null)switch(l.type){case"style":var y=o.querySelector('style[data-href~="'+Wi(f.href)+'"]');if(y)return l.instance=y,lt(y),y;var w=p({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return y=(o.ownerDocument||o).createElement("style"),lt(y),ti(y,"style",w),Pw(y,f.precedence,o),l.instance=y;case"stylesheet":w=fh(f.href);var _=o.querySelector(qy(w));if(_)return l.state.loading|=4,l.instance=_,lt(_),_;y=ZR(f),(w=ea.get(w))&&VA(y,w),_=(o.ownerDocument||o).createElement("link"),lt(_);var R=_;return R._p=new Promise(function(q,ne){R.onload=q,R.onerror=ne}),ti(_,"link",y),l.state.loading|=4,Pw(_,f.precedence,o),l.instance=_;case"script":return _=hh(f.src),(w=o.querySelector(Wy(_)))?(l.instance=w,lt(w),w):(y=f,(w=ea.get(_))&&(y=p({},f),HA(y,w)),o=o.ownerDocument||o,w=o.createElement("script"),lt(w),ti(w,"link",y),o.head.appendChild(w),l.instance=w);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(y=l.instance,l.state.loading|=4,Pw(y,f.precedence,o));return l.instance}function Pw(o,l,f){for(var y=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=y.length?y[y.length-1]:null,_=w,R=0;R<y.length;R++){var q=y[R];if(q.dataset.precedence===l)_=q;else if(_!==w)break}_?_.parentNode.insertBefore(o,_.nextSibling):(l=f.nodeType===9?f.head:f,l.insertBefore(o,l.firstChild))}function VA(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.title==null&&(o.title=l.title)}function HA(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.integrity==null&&(o.integrity=l.integrity)}var Dw=null;function JR(o,l,f){if(Dw===null){var y=new Map,w=Dw=new Map;w.set(f,y)}else w=Dw,y=w.get(f),y||(y=new Map,w.set(f,y));if(y.has(o))return y;for(y.set(o,null),f=f.getElementsByTagName(o),w=0;w<f.length;w++){var _=f[w];if(!(_[Yn]||_[mt]||o==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var R=_.getAttribute(l)||"";R=o+R;var q=y.get(R);q?q.push(_):y.set(R,[_])}}return y}function QR(o,l,f){o=o.ownerDocument||o,o.head.insertBefore(f,l==="title"?o.querySelector("head > title"):null)}function BZ(o,l,f){if(f===1||l.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;return l.rel==="stylesheet"?(o=l.disabled,typeof l.precedence=="string"&&o==null):!0;case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function e4(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function LZ(o,l,f,y){if(f.type==="stylesheet"&&(typeof y.media!="string"||matchMedia(y.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var w=fh(y.href),_=l.querySelector(qy(w));if(_){l=_._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(o.count++,o=Mw.bind(o),l.then(o,o)),f.state.loading|=4,f.instance=_,lt(_);return}_=l.ownerDocument||l,y=ZR(y),(w=ea.get(w))&&VA(y,w),_=_.createElement("link"),lt(_);var R=_;R._p=new Promise(function(q,ne){R.onload=q,R.onerror=ne}),ti(_,"link",y),f.instance=_}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(f,l),(l=f.state.preload)&&(f.state.loading&3)===0&&(o.count++,f=Mw.bind(o),l.addEventListener("load",f),l.addEventListener("error",f))}}var GA=0;function jZ(o,l){return o.stylesheets&&o.count===0&&Bw(o,o.stylesheets),0<o.count||0<o.imgCount?function(f){var y=setTimeout(function(){if(o.stylesheets&&Bw(o,o.stylesheets),o.unsuspend){var _=o.unsuspend;o.unsuspend=null,_()}},6e4+l);0<o.imgBytes&&GA===0&&(GA=62500*vZ());var w=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&Bw(o,o.stylesheets),o.unsuspend)){var _=o.unsuspend;o.unsuspend=null,_()}},(o.imgBytes>GA?50:800)+l);return o.unsuspend=f,function(){o.unsuspend=null,clearTimeout(y),clearTimeout(w)}}:null}function Mw(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Bw(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Uw=null;function Bw(o,l){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Uw=new Map,l.forEach(zZ,o),Uw=null,Mw.call(o))}function zZ(o,l){if(!(l.state.loading&4)){var f=Uw.get(o);if(f)var y=f.get(null);else{f=new Map,Uw.set(o,f);for(var w=o.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<w.length;_++){var R=w[_];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(f.set(R.dataset.precedence,R),y=R)}y&&f.set(null,y)}w=l.instance,R=w.getAttribute("data-precedence"),_=f.get(R)||y,_===y&&f.set(null,w),f.set(R,w),this.count++,y=Mw.bind(this),w.addEventListener("load",y),w.addEventListener("error",y),_?_.parentNode.insertBefore(w,_.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(w,o.firstChild)),l.state.loading|=4}}var Vy={$$typeof:S,Provider:null,Consumer:null,_currentValue:j,_currentValue2:j,_threadCount:0};function FZ(o,l,f,y,w,_,R,q,ne){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=U(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=U(0),this.hiddenUpdates=U(null),this.identifierPrefix=y,this.onUncaughtError=w,this.onCaughtError=_,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ne,this.incompleteTransitions=new Map}function t4(o,l,f,y,w,_,R,q,ne,de,ve,xe){return o=new FZ(o,l,f,R,ne,de,ve,xe,q),l=1,_===!0&&(l|=24),_=ws(3,null,null,l),o.current=_,_.stateNode=o,l=T2(),l.refCount++,o.pooledCache=l,l.refCount++,_.memoizedState={element:y,isDehydrated:f,cache:l},k2(_),o}function n4(o){return o?(o=Wf,o):Wf}function r4(o,l,f,y,w,_){w=n4(w),y.context===null?y.context=w:y.pendingContext=w,y=Cl(l),y.payload={element:f},_=_===void 0?null:_,_!==null&&(y.callback=_),f=Ol(o,y,l),f!==null&&(Yi(f,o,l),Ay(f,o,l))}function i4(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<l?f:l}}function KA(o,l){i4(o,l),(o=o.alternate)&&i4(o,l)}function s4(o){if(o.tag===13||o.tag===31){var l=Xu(o,67108864);l!==null&&Yi(l,o,67108864),KA(o,67108864)}}function a4(o){if(o.tag===13||o.tag===31){var l=Ss();l=Ce(l);var f=Xu(o,l);f!==null&&Yi(f,o,l),KA(o,l)}}var Lw=!0;function qZ(o,l,f,y){var w=x.T;x.T=null;var _=N.p;try{N.p=2,YA(o,l,f,y)}finally{N.p=_,x.T=w}}function WZ(o,l,f,y){var w=x.T;x.T=null;var _=N.p;try{N.p=8,YA(o,l,f,y)}finally{N.p=_,x.T=w}}function YA(o,l,f,y){if(Lw){var w=ZA(y);if(w===null)DA(o,l,y,jw,f),c4(o,y);else if(HZ(w,o,l,f,y))y.stopPropagation();else if(c4(o,y),l&4&&-1<VZ.indexOf(o)){for(;w!==null;){var _=Xn(w);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var R=gs(_.pendingLanes);if(R!==0){var q=_;for(q.pendingLanes|=2,q.entangledLanes|=2;R;){var ne=1<<31-Xt(R);q.entanglements[1]|=ne,R&=~ne}yo(_),(rn&6)===0&&(Ew=_n()+500,Ly(0))}}break;case 31:case 13:q=Xu(_,2),q!==null&&Yi(q,_,2),Sw(),KA(_,2)}if(_=ZA(y),_===null&&DA(o,l,y,jw,f),_===w)break;w=_}w!==null&&y.stopPropagation()}else DA(o,l,y,null,f)}}function ZA(o){return o=cy(o),XA(o)}var jw=null;function XA(o){if(jw=null,o=Zn(o),o!==null){var l=s(o);if(l===null)o=null;else{var f=l.tag;if(f===13){if(o=a(l),o!==null)return o;o=null}else if(f===31){if(o=c(l),o!==null)return o;o=null}else if(f===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null)}}return jw=o,null}function o4(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Oa()){case ms:return 2;case zi:return 8;case mn:case $r:return 32;case Yr:return 268435456;default:return 32}default:return 32}}var JA=!1,jl=null,zl=null,Fl=null,Hy=new Map,Gy=new Map,ql=[],VZ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function c4(o,l){switch(o){case"focusin":case"focusout":jl=null;break;case"dragenter":case"dragleave":zl=null;break;case"mouseover":case"mouseout":Fl=null;break;case"pointerover":case"pointerout":Hy.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gy.delete(l.pointerId)}}function Ky(o,l,f,y,w,_){return o===null||o.nativeEvent!==_?(o={blockedOn:l,domEventName:f,eventSystemFlags:y,nativeEvent:_,targetContainers:[w]},l!==null&&(l=Xn(l),l!==null&&s4(l)),o):(o.eventSystemFlags|=y,l=o.targetContainers,w!==null&&l.indexOf(w)===-1&&l.push(w),o)}function HZ(o,l,f,y,w){switch(l){case"focusin":return jl=Ky(jl,o,l,f,y,w),!0;case"dragenter":return zl=Ky(zl,o,l,f,y,w),!0;case"mouseover":return Fl=Ky(Fl,o,l,f,y,w),!0;case"pointerover":var _=w.pointerId;return Hy.set(_,Ky(Hy.get(_)||null,o,l,f,y,w)),!0;case"gotpointercapture":return _=w.pointerId,Gy.set(_,Ky(Gy.get(_)||null,o,l,f,y,w)),!0}return!1}function l4(o){var l=Zn(o.target);if(l!==null){var f=s(l);if(f!==null){if(l=f.tag,l===13){if(l=a(f),l!==null){o.blockedOn=l,yt(o.priority,function(){a4(f)});return}}else if(l===31){if(l=c(f),l!==null){o.blockedOn=l,yt(o.priority,function(){a4(f)});return}}else if(l===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function zw(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var f=ZA(o.nativeEvent);if(f===null){f=o.nativeEvent;var y=new f.constructor(f.type,f);oy=y,f.target.dispatchEvent(y),oy=null}else return l=Xn(f),l!==null&&s4(l),o.blockedOn=f,!1;l.shift()}return!0}function u4(o,l,f){zw(o)&&f.delete(l)}function GZ(){JA=!1,jl!==null&&zw(jl)&&(jl=null),zl!==null&&zw(zl)&&(zl=null),Fl!==null&&zw(Fl)&&(Fl=null),Hy.forEach(u4),Gy.forEach(u4)}function Fw(o,l){o.blockedOn===l&&(o.blockedOn=null,JA||(JA=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,GZ)))}var qw=null;function d4(o){qw!==o&&(qw=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){qw===o&&(qw=null);for(var l=0;l<o.length;l+=3){var f=o[l],y=o[l+1],w=o[l+2];if(typeof y!="function"){if(XA(y||f)===null)continue;break}var _=Xn(f);_!==null&&(o.splice(l,3),l-=3,Z2(_,{pending:!0,data:w,method:f.method,action:y},y,w))}}))}function ph(o){function l(ne){return Fw(ne,o)}jl!==null&&Fw(jl,o),zl!==null&&Fw(zl,o),Fl!==null&&Fw(Fl,o),Hy.forEach(l),Gy.forEach(l);for(var f=0;f<ql.length;f++){var y=ql[f];y.blockedOn===o&&(y.blockedOn=null)}for(;0<ql.length&&(f=ql[0],f.blockedOn===null);)l4(f),f.blockedOn===null&&ql.shift();if(f=(o.ownerDocument||o).$$reactFormReplay,f!=null)for(y=0;y<f.length;y+=3){var w=f[y],_=f[y+1],R=w[Ct]||null;if(typeof _=="function")R||d4(f);else if(R){var q=null;if(_&&_.hasAttribute("formAction")){if(w=_,R=_[Ct]||null)q=R.formAction;else if(XA(w)!==null)continue}else q=R.action;typeof q=="function"?f[y+1]=q:(f.splice(y,3),y-=3),d4(f)}}}function f4(){function o(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(R){return w=R})},focusReset:"manual",scroll:"manual"})}function l(){w!==null&&(w(),w=null),y||setTimeout(f,20)}function f(){if(!y&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var y=!1,w=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(f,100),function(){y=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),w!==null&&(w(),w=null)}}}function QA(o){this._internalRoot=o}Ww.prototype.render=QA.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(r(409));var f=l.current,y=Ss();r4(f,y,o,l,null,null)},Ww.prototype.unmount=QA.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;r4(o.current,2,null,o,null,null),Sw(),l[Je]=null}};function Ww(o){this._internalRoot=o}Ww.prototype.unstable_scheduleHydration=function(o){if(o){var l=Xe();o={blockedOn:null,target:o,priority:l};for(var f=0;f<ql.length&&l!==0&&l<ql[f].priority;f++);ql.splice(f,0,o),f===0&&l4(o)}};var h4=e.version;if(h4!=="19.2.3")throw Error(r(527,h4,"19.2.3"));N.findDOMNode=function(o){var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=d(l),o=o!==null?h(o):null,o=o===null?null:o.stateNode,o};var KZ={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:x,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vw=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vw.isDisabled&&Vw.supportsFiber)try{ct=Vw.inject(KZ),ht=Vw}catch{}}return Zy.createRoot=function(o,l){if(!i(o))throw Error(r(299));var f=!1,y="",w=vk,_=_k,R=Ek;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onUncaughtError!==void 0&&(w=l.onUncaughtError),l.onCaughtError!==void 0&&(_=l.onCaughtError),l.onRecoverableError!==void 0&&(R=l.onRecoverableError)),l=t4(o,1,!1,null,null,f,y,null,w,_,R,f4),o[Je]=l.current,PA(o),new QA(l)},Zy.hydrateRoot=function(o,l,f){if(!i(o))throw Error(r(299));var y=!1,w="",_=vk,R=_k,q=Ek,ne=null;return f!=null&&(f.unstable_strictMode===!0&&(y=!0),f.identifierPrefix!==void 0&&(w=f.identifierPrefix),f.onUncaughtError!==void 0&&(_=f.onUncaughtError),f.onCaughtError!==void 0&&(R=f.onCaughtError),f.onRecoverableError!==void 0&&(q=f.onRecoverableError),f.formState!==void 0&&(ne=f.formState)),l=t4(o,1,!0,l,f??null,y,w,ne,_,R,q,f4),l.context=n4(null),f=l.current,y=Ss(),y=Ce(y),w=Cl(y),w.callback=null,Ol(f,w,y),f=y,l.current.lanes=f,W(l,f),yo(l),o[Je]=l.current,PA(o),new Ww(l)},Zy.version="19.2.3",Zy}var S4;function iX(){if(S4)return nS.exports;S4=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),nS.exports=rX(),nS.exports}var sX=iX();const aX="modulepreload",oX=function(t){return"/"+t},x4={},Fe=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let u=function(d){return Promise.all(d.map(h=>Promise.resolve(h).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),c=a?.nonce||a?.getAttribute("nonce");i=u(n.map(d=>{if(d=oX(d),d in x4)return;x4[d]=!0;const h=d.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${p}`))return;const m=document.createElement("link");if(m.rel=h?"stylesheet":aX,h||(m.as="script"),m.crossOrigin="",m.href=d,c&&m.setAttribute("nonce",c),document.head.appendChild(m),h)return new Promise((g,b)=>{m.addEventListener("load",g),m.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(a){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=a,window.dispatchEvent(c),!c.defaultPrevented)throw a}return i.then(a=>{for(const c of a||[])c.status==="rejected"&&s(c.reason);return e().catch(s)})},cX={path:"/api/v1/analytics_events",method:"POST"},lX={path:"/api/v1/apps/:app_id",method:"GET"},uX={path:"/api/v1/funding/coinbase_on_ramp/init",method:"POST"},dX={path:"/api/v1/funding/coinbase_on_ramp/status",method:"GET"},fX={path:"/api/v1/apps/:app_id/cross-app/connections",method:"GET"},hX={path:"/api/v1/custom_jwt_account/authenticate",method:"POST"},pX={path:"/api/v1/farcaster/init",method:"POST"},yX={path:"/api/v1/farcaster/authenticate",method:"POST"},mX={path:"/api/v1/farcaster/link",method:"POST"},gX={path:"/api/v1/farcaster/unlink",method:"POST"},bX={path:"/api/v1/farcaster/status",method:"GET"},wX={path:"/api/v2/farcaster/init",method:"POST"},vX={path:"/api/v2/farcaster/authenticate",method:"POST"},_X={path:"/api/v1/guest/authenticate",method:"POST"},EX={path:"/api/v1/mfa/passkeys/init",method:"POST"},AX={path:"/api/v1/mfa/passwordless_sms/init",method:"POST"},SX={path:"/api/v1/oauth/authenticate",method:"POST"},xX={path:"/api/v1/oauth/init",method:"POST"},TX={path:"/api/v1/oauth/link",method:"POST"},IX={path:"/api/v1/oauth/unlink",method:"POST"},CX={path:"/api/v1/passkeys/link",method:"POST"},OX={path:"/api/v1/passkeys/authenticate",method:"POST"},kX={path:"/api/v1/passkeys/register",method:"POST"},RX={path:"/api/v1/passkeys/authenticate/init",method:"POST"},NX={path:"/api/v1/passkeys/register/init",method:"POST"},$X={path:"/api/v1/passkeys/link/init",method:"POST"},PX={path:"/api/v1/passwordless/authenticate",method:"POST"},DX={path:"/api/v1/passwordless/init",method:"POST"},MX={path:"/api/v1/passwordless/link",method:"POST"},UX={path:"/api/v1/passwordless/unlink",method:"POST"},BX={path:"/api/v1/passwordless/update",method:"POST"},LX={path:"/api/v1/passwordless_sms/authenticate",method:"POST"},jX={path:"/api/v1/passwordless_sms/init",method:"POST"},zX={path:"/api/v1/passwordless_sms/link",method:"POST"},FX={path:"/api/v1/passwordless_sms/unlink",method:"POST"},qX={path:"/api/v1/passwordless_sms/update",method:"POST"},WX={path:"/api/v1/embedded_wallets/:address/recovery/key_material",method:"POST"},VX={path:"/api/v1/recovery/oauth/init",method:"POST"},HX={path:"/api/v1/recovery/oauth/authenticate",method:"POST"},GX={path:"/api/v1/recovery/oauth/init_icloud",method:"POST"},KX={path:"/api/v1/recovery/configuration_icloud",method:"POST"},YX=(t,e)=>e?Object.entries(e).reduce(((n,[r,i])=>n.replace(`:${r}`,`${i}`)),t):t,T4={path:"/api/v1/sessions",method:"POST"},ZX={path:"/api/v1/sessions/logout",method:"POST"},XX={path:"/api/v1/apps/:app_id/smart_wallets",method:"GET"},yB={path:"/api/v1/siwe/init",method:"POST"},JX={path:"/api/v1/siwe/authenticate",method:"POST"},QX={path:"/api/v1/siwe/link",method:"POST"},eJ={path:"/api/v1/siwe/link_smart_wallet",method:"POST"},tJ={path:"/api/v1/siwe/unlink",method:"POST"},nJ={path:"/api/v1/siws/init",method:"POST"},rJ={path:"/api/v1/siws/authenticate",method:"POST"},iJ={path:"/api/v1/siws/link",method:"POST"},sJ={path:"/api/v1/siws/unlink",method:"POST"},aJ={path:"/api/v1/users/me/accept_terms",method:"POST"},oJ={path:"/api/v1/plugins/moonpay_on_ramp/sign",method:"POST"},cJ={path:"/api/v1/wallets",method:"POST"},aS={path:"/api/v1/wallets/:wallet_id/rpc",method:"POST"},lJ={path:"/api/v1/wallets/revoke",method:"POST"};let uJ=class{getConfig(){return this._privyInternal.config}async getSmartWalletConfig(){return this._smartWalletConfig||(this._smartWalletConfig=await this._privyInternal.fetch(XX,{params:{app_id:this.appId}})),this._smartWalletConfig}get appId(){return this._privyInternal.appId}constructor(e){this._privyInternal=e}};const dJ=new TextEncoder,mB=new TextDecoder,fJ=t=>{let e=t;typeof e=="string"&&(e=dJ.encode(e));const n=32768,r=[];for(let i=0;i<e.length;i+=n)r.push(String.fromCharCode.apply(null,e.subarray(i,i+n)));return btoa(r.join(""))},hJ=t=>fJ(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),pJ=t=>{const e=atob(t),n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n},yJ=t=>{let e=t;e instanceof Uint8Array&&(e=mB.decode(e)),e=e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return pJ(e)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};class mJ extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(e){var n;super(e),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(n=Error.captureStackTrace)===null||n===void 0||n.call(Error,this,this.constructor)}}class ud extends mJ{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}}function gJ(t){return typeof t=="object"&&t!==null}function bJ(t){if(!gJ(t)||Object.prototype.toString.call(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}const Xd=hJ,wJ=yJ;function Q6(t){if(typeof t!="string")throw new ud("JWTs must use Compact JWS serialization, JWT must be a string");const{1:e,length:n}=t.split(".");if(n===5)throw new ud("Only JWTs using Compact JWS serialization can be decoded");if(n!==3)throw new ud("Invalid JWT");if(!e)throw new ud("JWTs must contain a payload");let r;try{r=wJ(e)}catch{throw new ud("Failed to base64url decode the payload")}let i;try{i=JSON.parse(mB.decode(r))}catch{throw new ud("Failed to parse the decoded payload as JSON")}if(!bJ(i))throw new ud("Invalid JWT Claims Set");return i}let Ph=class gB{static parse(e){try{return new gB(e)}catch{return null}}get subject(){return this._decoded.sub}get expiration(){return this._decoded.exp}get issuer(){return this._decoded.iss}get audience(){return this._decoded.aud}isExpired(e=0){return Date.now()>=1e3*(this.expiration-e)}constructor(e){this.value=e,this._decoded=Q6(e)}},bB=class eT{async updateOnCrossAppAuthentication(e,n){let r=n.access_token,i=eT.providerAccessTokenStorageKey(e);await this._storage.put(i,r)}async getProviderAccessToken(e){let n=eT.providerAccessTokenStorageKey(e),r=await this._storage.get(n);if(typeof r!="string")return null;try{if(new Ph(r).isExpired())throw Error("JWT is expired");return r}catch{return await this._storage.del(n),null}}async getCrossAppConnections(){return await this._privyInternal.fetch(fX,{params:{app_id:this._privyInternal.appId}})}constructor(e,n){this._privyInternal=e,this._storage=n}};bB.providerAccessTokenStorageKey=t=>`privy:cross-app:${t}`;let vJ=class{async revoke(){await this._privyInternal.fetch(lJ,{})}constructor(e){this._privyInternal=e}};function _J(t,e){return{...t,rpcUrls:{...t.rpcUrls,privy:{http:[e]}}}}const D0={id:42161,name:"Arbitrum One",network:"arbitrum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://arbitrum-mainnet.rpc.privy.systems"]},alchemy:{http:["https://arb-mainnet.g.alchemy.com/v2"],webSocket:["wss://arb-mainnet.g.alchemy.com/v2"]},infura:{http:["https://arbitrum-mainnet.infura.io/v3"],webSocket:["wss://arbitrum-mainnet.infura.io/ws/v3"]},default:{http:["https://arb1.arbitrum.io/rpc"]},public:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{etherscan:{name:"Arbiscan",url:"https://arbiscan.io"},default:{name:"Arbiscan",url:"https://arbiscan.io"}}},wB={id:421614,name:"Arbitrum Sepolia",network:"arbitrum-sepolia",nativeCurrency:{name:"Arbitrum Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://arbitrum-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia-rollup.arbitrum.io/rpc"]},public:{http:["https://sepolia-rollup.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Blockscout",url:"https://sepolia-explorer.arbitrum.io"}},testnet:!0},M0={id:43114,name:"Avalanche",network:"avalanche",nativeCurrency:{decimals:18,name:"Avalanche",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax.network/ext/bc/C/rpc"]},public:{http:["https://api.avax.network/ext/bc/C/rpc"]}},blockExplorers:{etherscan:{name:"SnowTrace",url:"https://snowtrace.io"},default:{name:"SnowTrace",url:"https://snowtrace.io"}}},vB={id:43113,name:"Avalanche Fuji",network:"avalanche-fuji",nativeCurrency:{decimals:18,name:"Avalanche Fuji",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax-test.network/ext/bc/C/rpc"]},public:{http:["https://api.avax-test.network/ext/bc/C/rpc"]}},blockExplorers:{etherscan:{name:"SnowTrace",url:"https://testnet.snowtrace.io"},default:{name:"SnowTrace",url:"https://testnet.snowtrace.io"}},testnet:!0},U0={id:8453,network:"base",name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://base-mainnet.rpc.privy.systems"]},default:{http:["https://mainnet.base.org"]},public:{http:["https://mainnet.base.org"]}},blockExplorers:{etherscan:{name:"Basescan",url:"https://basescan.org"},default:{name:"Basescan",url:"https://basescan.org"}}},_B={id:84532,network:"base-sepolia",name:"Base Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://base-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia.base.org"]},public:{http:["https://sepolia.base.org"]}},blockExplorers:{default:{name:"Blockscout",url:"https://base-sepolia.blockscout.com"}},testnet:!0},EJ={id:80085,network:"berachain-artio",name:"Berachain Artio",nativeCurrency:{name:"BERA",symbol:"BERA",decimals:18},rpcUrls:{default:{http:["https://berachain-artio.rpc.privy.systems"]},public:{http:["https://berachain-artio.rpc.privy.systems"]}},blockExplorers:{default:{name:"Beratrail",url:"https://artio.beratrail.io"}},testnet:!0},AJ={id:56,network:"bsc",name:"Binance Smart Chain",nativeCurrency:{name:"BNB",symbol:"BNB",decimals:18},rpcUrls:{privy:{http:["https://bsc-mainnet.rpc.privy.systems"]},default:{http:["https://56.rpc.thirdweb.com"]},public:{http:["https://56.rpc.thirdweb.com"]}},blockExplorers:{etherscan:{name:"BscScan",url:"https://bscscan.com"},default:{name:"BscScan",url:"https://bscscan.com"}}},H3={id:42220,name:"Celo Mainnet",network:"celo",nativeCurrency:{decimals:18,name:"CELO",symbol:"CELO"},rpcUrls:{default:{http:["https://forno.celo.org"]},infura:{http:["https://celo-mainnet.infura.io/v3"]},public:{http:["https://forno.celo.org"]}},blockExplorers:{default:{name:"Celo Explorer",url:"https://explorer.celo.org/mainnet"},etherscan:{name:"CeloScan",url:"https://celoscan.io"}},testnet:!1},SJ={id:44787,name:"Celo Alfajores Testnet",network:"celo-alfajores",nativeCurrency:{decimals:18,name:"CELO",symbol:"CELO"},rpcUrls:{default:{http:["https://alfajores-forno.celo-testnet.org"]},infura:{http:["https://celo-alfajores.infura.io/v3"]},public:{http:["https://alfajores-forno.celo-testnet.org"]}},blockExplorers:{default:{name:"Celo Explorer",url:"https://explorer.celo.org/alfajores"},etherscan:{name:"CeloScan",url:"https://alfajores.celoscan.io/"}},testnet:!0},xJ={id:314,name:"Filecoin - Mainnet",network:"filecoin-mainnet",nativeCurrency:{decimals:18,name:"filecoin",symbol:"FIL"},rpcUrls:{default:{http:["https://api.node.glif.io/rpc/v1"]},public:{http:["https://api.node.glif.io/rpc/v1"]}},blockExplorers:{default:{name:"Filfox",url:"https://filfox.info/en"},filscan:{name:"Filscan",url:"https://filscan.io"},filscout:{name:"Filscout",url:"https://filscout.io/en"},glif:{name:"Glif",url:"https://explorer.glif.io"}}},TJ={id:314159,name:"Filecoin - Calibration testnet",network:"filecoin-calibration",nativeCurrency:{decimals:18,name:"testnet filecoin",symbol:"tFIL"},rpcUrls:{default:{http:["https://api.calibration.node.glif.io/rpc/v1"]},public:{http:["https://api.calibration.node.glif.io/rpc/v1"]}},blockExplorers:{default:{name:"Filscan",url:"https://calibration.filscan.io"}}},IJ={id:17069,name:"Garnet Holesky",network:"garnet-holesky",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.garnetchain.com"]},public:{http:["https://rpc.garnetchain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.garnetchain.com"}}},CJ={id:17e3,name:"Holesky",network:"holesky",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://ethereum-holesky.publicnode.com"]},public:{http:["https://ethereum-holesky.publicnode.com"]}},blockExplorers:{etherscan:{name:"EtherScan",url:"https://holesky.etherscan.io"},default:{name:"EtherScan",url:"https://holesky.etherscan.io"}}},OJ={id:59144,network:"linea-mainnet",name:"Linea Mainnet",nativeCurrency:{name:"Linea Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.linea.build"],webSocket:["wss://rpc.linea.build"]},public:{http:["https://rpc.linea.build"],webSocket:["wss://rpc.linea.build"]}},blockExplorers:{default:{name:"Etherscan",url:"https://lineascan.build"},etherscan:{name:"Etherscan",url:"https://lineascan.build"}},testnet:!1},kJ={id:59140,network:"linea-testnet",name:"Linea Goerli Testnet",nativeCurrency:{name:"Linea Ether",symbol:"ETH",decimals:18},rpcUrls:{infura:{http:["https://linea-goerli.infura.io/v3"],webSocket:["wss://linea-goerli.infura.io/ws/v3"]},default:{http:["https://rpc.goerli.linea.build"],webSocket:["wss://rpc.goerli.linea.build"]},public:{http:["https://rpc.goerli.linea.build"],webSocket:["wss://rpc.goerli.linea.build"]}},blockExplorers:{default:{name:"Etherscan",url:"https://goerli.lineascan.build"},etherscan:{name:"Etherscan",url:"https://goerli.lineascan.build"}},testnet:!0},RJ={id:42,network:"lukso",name:"LUKSO",nativeCurrency:{name:"LUKSO",symbol:"LYX",decimals:18},rpcUrls:{default:{http:["https://rpc.mainnet.lukso.network"],webSocket:["wss://ws-rpc.mainnet.lukso.network"]}},blockExplorers:{default:{name:"LUKSO Mainnet Explorer",url:"https://explorer.execution.mainnet.lukso.network"}}},Bp={id:1,network:"homestead",name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://mainnet.rpc.privy.systems"]},alchemy:{http:["https://eth-mainnet.g.alchemy.com/v2"],webSocket:["wss://eth-mainnet.g.alchemy.com/v2"]},infura:{http:["https://mainnet.infura.io/v3"],webSocket:["wss://mainnet.infura.io/ws/v3"]},default:{http:["https://cloudflare-eth.com"]},public:{http:["https://cloudflare-eth.com"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://etherscan.io"},default:{name:"Etherscan",url:"https://etherscan.io"}}},G3={id:10,name:"OP Mainnet",network:"optimism",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://optimism-mainnet.rpc.privy.systems"]},alchemy:{http:["https://opt-mainnet.g.alchemy.com/v2"],webSocket:["wss://opt-mainnet.g.alchemy.com/v2"]},infura:{http:["https://optimism-mainnet.infura.io/v3"],webSocket:["wss://optimism-mainnet.infura.io/ws/v3"]},default:{http:["https://mainnet.optimism.io"]},public:{http:["https://mainnet.optimism.io"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://optimistic.etherscan.io"},default:{name:"Optimism Explorer",url:"https://explorer.optimism.io"}}},EB={id:11155420,name:"Optimism Sepolia",network:"optimism-sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://optimism-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia.optimism.io"]},public:{http:["https://sepolia.optimism.io"]},infura:{http:["https://optimism-sepolia.infura.io/v3"]}},blockExplorers:{default:{name:"Blockscout",url:"https://optimism-sepolia.blockscout.com"}},testnet:!0},B0={id:137,name:"Polygon Mainnet",network:"polygon",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{privy:{http:["https://polygon-mainnet.rpc.privy.systems"]},alchemy:{http:["https://polygon-mainnet.g.alchemy.com/v2"],webSocket:["wss://polygon-mainnet.g.alchemy.com/v2"]},infura:{http:["https://polygon-mainnet.infura.io/v3"],webSocket:["wss://polygon-mainnet.infura.io/ws/v3"]},default:{http:["https://polygon-rpc.com"]},public:{http:["https://polygon-rpc.com"]}},blockExplorers:{etherscan:{name:"PolygonScan",url:"https://polygonscan.com"},default:{name:"PolygonScan",url:"https://polygonscan.com"}}},AB={id:80002,name:"Polygon Amoy",network:"polygon-amoy",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{privy:{http:["https://polygon-amoy.rpc.privy.systems"]},infura:{http:["https://polygon-amoy.infura.io/v3"],webSocket:["wss://polygon-amoy.infura.io/ws/v3"]},default:{http:["https://rpc-amoy.polygon.technology"]}},blockExplorers:{default:{name:"OK LINK",url:"https://www.oklink.com/amoy"}},testnet:!0},NJ={id:690,name:"Redstone",network:"redstone",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.redstonechain.com"]},public:{http:["https://rpc.redstonechain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.redstone.xyz/"}}},SB={id:11155111,network:"sepolia",name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"SEP",decimals:18},rpcUrls:{privy:{http:["https://sepolia.rpc.privy.systems"]},alchemy:{http:["https://eth-sepolia.g.alchemy.com/v2"],webSocket:["wss://eth-sepolia.g.alchemy.com/v2"]},infura:{http:["https://sepolia.infura.io/v3"],webSocket:["wss://sepolia.infura.io/ws/v3"]},default:{http:["https://rpc.sepolia.org"]},public:{http:["https://rpc.sepolia.org"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://sepolia.etherscan.io"},default:{name:"Etherscan",url:"https://sepolia.etherscan.io"}},testnet:!0},$J={id:7777777,name:"Zora",network:"zora",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.zora.energy"],webSocket:["wss://rpc.zora.energy"]},public:{http:["https://rpc.zora.energy"],webSocket:["wss://rpc.zora.energy"]}},blockExplorers:{default:{name:"Explorer",url:"https://explorer.zora.energy"}}},PJ={id:999999999,name:"Zora Sepolia",network:"zora-sepolia",nativeCurrency:{decimals:18,name:"Zora Sepolia",symbol:"ETH"},rpcUrls:{default:{http:["https://sepolia.rpc.zora.energy"],webSocket:["wss://sepolia.rpc.zora.energy"]},public:{http:["https://sepolia.rpc.zora.energy"],webSocket:["wss://sepolia.rpc.zora.energy"]}},blockExplorers:{default:{name:"Zora Sepolia Explorer",url:"https://sepolia.explorer.zora.energy/"}},testnet:!0},DJ={id:999,name:"Zora Goerli Testnet",network:"zora-testnet",nativeCurrency:{decimals:18,name:"Zora Goerli",symbol:"ETH"},rpcUrls:{default:{http:["https://testnet.rpc.zora.energy"],webSocket:["wss://testnet.rpc.zora.energy"]},public:{http:["https://testnet.rpc.zora.energy"],webSocket:["wss://testnet.rpc.zora.energy"]}},blockExplorers:{default:{name:"Explorer",url:"https://testnet.explorer.zora.energy"}},testnet:!0},C_=[Bp,SB,CJ,D0,wB,G3,EB,B0,AB,H3,SJ,xJ,TJ,U0,_B,EJ,AJ,RJ,OJ,kJ,M0,vB,$J,DJ,PJ,NJ,IJ],MJ=new Set(C_.map((t=>t.id))),xB=t=>t.map((e=>{if(e.rpcUrls.privyWalletOverride)return e;let n=C_.find((i=>i.id===e.id)),r=n?.rpcUrls.privy?.http[0];return r?_J(e,r):e}));let oS=class extends Error{constructor({error:e,code:n}){super(e),this.error=e,this.code=n}},nn=class extends Error{constructor({error:e,code:n}){super(e),this.code=n,this.error=e}},UJ=class extends Error{constructor({error:e,code:n,response:r}){super(e),this.code=n,this.error=e,this.response=r}};const mu=t=>!!t.id&&t.recovery_method==="privy-v2";let BJ=class{async sign({message:e}){return await this.request({method:"sign",params:{message:new TextDecoder("utf8").decode(e)}})}async signTransaction({psbt:e}){return await this.request({method:"signTransaction",params:{psbt:e}})}async request(e){if(mu(this._account))throw new nn({code:"unsupported_wallet_type",error:"Bitcoin wallet providers are only supported for on-device execution and this app uses TEE execution. Use the useSignRawHash hook from @privy-io/expo/extended-chains to sign over a hash with this wallet. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide"});if(!await this._privyInternal.getAccessTokenInternal())throw new nn({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});return this.handleIFrameRpc(e)}async handleIFrameRpc(e){try{let n=await this._privyInternal.getAccessTokenInternal();if(!n)throw Error("Missing access token. User must be authenticated.");return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),(await this._proxy.rpcWallet({accessToken:n,request:e,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,hdWalletIndex:this._account.wallet_index,chainType:this._account.chain_type})).response.data}catch(n){console.error(n);let r=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:r}),new nn({code:"embedded_wallet_request_error",error:r})}}toJSON(){return`PrivyEmbeddedBitcoinProvider { address: '${this._account.address}', request: [Function] }`}constructor({proxy:e,privyInternal:n,account:r,entropyId:i,entropyIdVerifier:s}){this._proxy=e,this._privyInternal=n,this._account=r,this._entropyId=i,this._entropyIdVerifier=s}};const LJ=["error","invalid_request_arguments","wallet_not_on_device","invalid_recovery_pin","insufficient_funds","mfa_timeout","missing_or_invalid_mfa","mfa_verification_max_attempts_reached"];var Zi;(Zi={}).MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",Zi.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",Zi.INVALID_DATA="invalid_data",Zi.LINKED_TO_ANOTHER_USER="linked_to_another_user",Zi.ALLOWLIST_REJECTED="allowlist_rejected",Zi.OAUTH_USER_DENIED="oauth_user_denied",Zi.UNKNOWN_AUTH_ERROR="unknown_auth_error",Zi.USER_EXITED_AUTH_FLOW="exited_auth_flow",Zi.MUST_BE_AUTHENTICATED="must_be_authenticated",Zi.UNKNOWN_CONNECT_WALLET_ERROR="unknown_connect_wallet_error",Zi.GENERIC_CONNECT_WALLET_ERROR="generic_connect_wallet_error",Zi.CLIENT_REQUEST_TIMEOUT="client_request_timeout",Zi.INVALID_CREDENTIALS="invalid_credentials";let jJ=class extends Error{toString(){return`${this.type}${this.privyErrorCode?`-${this.privyErrorCode}`:""}: ${this.message}${this.cause?` [cause: ${this.cause}]`:""}`}constructor(e,n,r){super(e),n instanceof Error&&(this.cause=n),this.privyErrorCode=r}},Uv=class extends Error{constructor(e,n){super(n),this.type=e}},TB=class extends jJ{constructor(e,n,r){super(e,n,r),this.type="connector_error"}},I4=class extends Error{constructor(e,n,r){super(e),this.code=n,this.data=r}};const Dh={UNKNOWN_ERROR:{eipCode:0,message:"Unknown error",detail:"Unknown error",retryable:!0},E4001_DEFAULT_USER_REJECTED_REQUEST:{eipCode:4001,message:"User Rejected Request",detail:"The user rejected the request.",default:!0,retryable:!0},E4100_DEFAULT_UNAUTHORIZED:{eipCode:4100,message:"Unauthorized",detail:"The requested method and/or account has not been authorized by the user.",default:!0,retryable:!1},E4200_DEFAULT_UNSUPPORTED_METHOD:{eipCode:4200,message:"Unsupported Method",detail:"The Provider does not support the requested method.",default:!0,retryable:!1},E4900_DEFAULT_DISCONNECTED:{eipCode:4900,message:"Disconnected",detail:"The Provider is disconnected from all chains.",default:!0,retryable:!0},E4901_DEFAULT_CHAIN_DISCONNECTED:{eipCode:4901,message:"Chain Disconnected",detail:"The Provider is not connected to the requested chain.",default:!0,retryable:!0},E32700_DEFAULT_PARSE_ERROR:{eipCode:-32700,message:"Parse error",detail:"Invalid JSON",default:!0,retryable:!1},E32600_DEFAULT_INVALID_REQUEST:{eipCode:-32600,message:"Invalid request",detail:"JSON is not a valid request object",default:!0,retryable:!1},E32601_DEFAULT_METHOD_NOT_FOUND:{eipCode:-32601,message:"Method not found",detail:"Method does not exist",default:!0,retryable:!1},E32602_DEFAULT_INVALID_PARAMS:{eipCode:-32602,message:"Invalid params",detail:"Invalid method parameters",default:!0,retryable:!1},E32603_DEFAULT_INTERNAL_ERROR:{eipCode:-32603,message:"Internal error",detail:"Internal JSON-RPC error",default:!0,retryable:!0},E32000_DEFAULT_INVALID_INPUT:{eipCode:-32e3,message:"Invalid input",detail:"Missing or invalid parameters",default:!0,retryable:!1},E32001_DEFAULT_RESOURCE_NOT_FOUND:{eipCode:-32001,message:"Resource not found",detail:"Requested resource not found",default:!0,retryable:!1},E32002_DEFAULT_RESOURCE_UNAVAILABLE:{eipCode:-32002,message:"Resource unavailable",detail:"Requested resource not available",default:!0,retryable:!0},E32003_DEFAULT_TRANSACTION_REJECTED:{eipCode:-32003,message:"Transaction rejected",detail:"Transaction creation failed",default:!0,retryable:!0},E32004_DEFAULT_METHOD_NOT_SUPPORTED:{eipCode:-32004,message:"Method not supported",detail:"Method is not implemented",default:!0,retryable:!1},E32005_DEFAULT_LIMIT_EXCEEDED:{eipCode:-32005,message:"Limit exceeded",detail:"Request exceeds defined limit",default:!0,retryable:!1},E32006_DEFAULT_JSON_RPC_VERSION_NOT_SUPPORTED:{eipCode:-32006,message:"JSON-RPC version not supported",detail:"Version of JSON-RPC protocol is not supported",default:!0,retryable:!1},E32002_CONNECTION_ALREADY_PENDING:{eipCode:-32002,message:"Connection request already pending",detail:"Dont see your wallet? Check your other browser windows.",retryable:!1},E32002_REQUEST_ALREADY_PENDING:{eipCode:-32002,message:"Resource request already pending",detail:"Dont see your wallet? Check your other browser windows.",retryable:!1},E32002_WALLET_LOCKED:{eipCode:-32002,message:"Wallet might be locked",detail:"Dont see your wallet? Check your other browser windows.",retryable:!1},E4001_USER_REJECTED_REQUEST:{eipCode:4001,message:"Signature rejected",detail:"Please try signing again.",retryable:!0}};function zJ(t){let e=t.type;return typeof e=="string"&&LJ.includes(e)}function K3(t){return zJ(t)&&t.type==="wallet_not_on_device"}async function tT(t,{request:e}){return await t.fetchPrivyRoute(cJ,{body:e})}async function cS({context:t,chainType:e}){return{wallet:await tT(t,{request:{chain_type:e,owner_id:void 0}})}}const FJ="1.2.3";let fs=class nT extends Error{constructor(e,n={}){const r=n.cause instanceof nT?n.cause.details:n.cause?.message?n.cause.message:n.details,i=n.cause instanceof nT&&n.cause.docsPath||n.docsPath,s=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: https://abitype.dev${i}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${FJ}`].join(`
`);super(s),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.shortMessage=e}};function ml(t,e){return t.exec(e)?.groups}const IB=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,CB=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,OB=/^\(.+?\).*?$/,C4=/^tuple(?<array>(\[(\d*)\])*)$/;function rT(t){let e=t.type;if(C4.test(t.type)&&"components"in t){e="(";const n=t.components.length;for(let i=0;i<n;i++){const s=t.components[i];e+=rT(s),i<n-1&&(e+=", ")}const r=ml(C4,t.type);return e+=`)${r?.array||""}`,rT({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function Mh(t){let e="";const n=t.length;for(let r=0;r<n;r++){const i=t[r];e+=rT(i),r!==n-1&&(e+=", ")}return e}function d1(t){return t.type==="function"?`function ${t.name}(${Mh(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${t.outputs?.length?` returns (${Mh(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${Mh(t.inputs)})`:t.type==="error"?`error ${t.name}(${Mh(t.inputs)})`:t.type==="constructor"?`constructor(${Mh(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?`fallback() external${t.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const kB=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function qJ(t){return kB.test(t)}function WJ(t){return ml(kB,t)}const RB=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function VJ(t){return RB.test(t)}function HJ(t){return ml(RB,t)}const NB=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function GJ(t){return NB.test(t)}function KJ(t){return ml(NB,t)}const $B=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function O_(t){return $B.test(t)}function YJ(t){return ml($B,t)}const PB=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function ZJ(t){return PB.test(t)}function XJ(t){return ml(PB,t)}const DB=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function JJ(t){return DB.test(t)}function QJ(t){return ml(DB,t)}const eQ=/^receive\(\) external payable$/;function tQ(t){return eQ.test(t)}const O4=new Set(["memory","indexed","storage","calldata"]),nQ=new Set(["indexed"]),iT=new Set(["calldata","memory","storage"]);class rQ extends fs{constructor({signature:e}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class iQ extends fs{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class sQ extends fs{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class aQ extends fs{constructor({params:e}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class oQ extends fs{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class cQ extends fs{constructor({param:e,name:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class lQ extends fs{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class uQ extends fs{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class dQ extends fs{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class Lp extends fs{constructor({signature:e,type:n}){super(`Invalid ${n} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class fQ extends fs{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class hQ extends fs{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class pQ extends fs{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class yQ extends fs{constructor({current:e,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function mQ(t,e,n){let r="";if(n)for(const i of Object.entries(n)){if(!i)continue;let s="";for(const a of i[1])s+=`[${a.type}${a.name?`:${a.name}`:""}]`;r+=`(${i[0]}{${s}})`}return e?`${e}:${t}${r}`:`${t}${r}`}const lS=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function sT(t,e={}){if(GJ(t))return gQ(t,e);if(VJ(t))return bQ(t,e);if(qJ(t))return wQ(t,e);if(ZJ(t))return vQ(t,e);if(JJ(t))return _Q(t);if(tQ(t))return{type:"receive",stateMutability:"payable"};throw new fQ({signature:t})}function gQ(t,e={}){const n=KJ(t);if(!n)throw new Lp({signature:t,type:"function"});const r=Us(n.parameters),i=[],s=r.length;for(let c=0;c<s;c++)i.push(al(r[c],{modifiers:iT,structs:e,type:"function"}));const a=[];if(n.returns){const c=Us(n.returns),u=c.length;for(let d=0;d<u;d++)a.push(al(c[d],{modifiers:iT,structs:e,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:i,outputs:a}}function bQ(t,e={}){const n=HJ(t);if(!n)throw new Lp({signature:t,type:"event"});const r=Us(n.parameters),i=[],s=r.length;for(let a=0;a<s;a++)i.push(al(r[a],{modifiers:nQ,structs:e,type:"event"}));return{name:n.name,type:"event",inputs:i}}function wQ(t,e={}){const n=WJ(t);if(!n)throw new Lp({signature:t,type:"error"});const r=Us(n.parameters),i=[],s=r.length;for(let a=0;a<s;a++)i.push(al(r[a],{structs:e,type:"error"}));return{name:n.name,type:"error",inputs:i}}function vQ(t,e={}){const n=XJ(t);if(!n)throw new Lp({signature:t,type:"constructor"});const r=Us(n.parameters),i=[],s=r.length;for(let a=0;a<s;a++)i.push(al(r[a],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:i}}function _Q(t){const e=QJ(t);if(!e)throw new Lp({signature:t,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}const EQ=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,AQ=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,SQ=/^u?int$/;function al(t,e){const n=mQ(t,e?.type,e?.structs);if(lS.has(n))return lS.get(n);const r=OB.test(t),i=ml(r?AQ:EQ,t);if(!i)throw new oQ({param:t});if(i.name&&TQ(i.name))throw new cQ({param:t,name:i.name});const s=i.name?{name:i.name}:{},a=i.modifier==="indexed"?{indexed:!0}:{},c=e?.structs??{};let u,d={};if(r){u="tuple";const p=Us(i.type),m=[],g=p.length;for(let b=0;b<g;b++)m.push(al(p[b],{structs:c}));d={components:m}}else if(i.type in c)u="tuple",d={components:c[i.type]};else if(SQ.test(i.type))u=`${i.type}256`;else if(i.type==="address payable")u="address";else if(u=i.type,e?.type!=="struct"&&!MB(u))throw new sQ({type:u});if(i.modifier){if(!e?.modifiers?.has?.(i.modifier))throw new lQ({param:t,type:e?.type,modifier:i.modifier});if(iT.has(i.modifier)&&!IQ(u,!!i.array))throw new uQ({param:t,type:e?.type,modifier:i.modifier})}const h={type:`${u}${i.array??""}`,...s,...a,...d};return lS.set(n,h),h}function Us(t,e=[],n="",r=0){const i=t.trim().length;for(let s=0;s<i;s++){const a=t[s],c=t.slice(s+1);switch(a){case",":return r===0?Us(c,[...e,n.trim()]):Us(c,e,`${n}${a}`,r);case"(":return Us(c,e,`${n}${a}`,r+1);case")":return Us(c,e,`${n}${a}`,r-1);default:return Us(c,e,`${n}${a}`,r)}}if(n==="")return e;if(r!==0)throw new yQ({current:n,depth:r});return e.push(n.trim()),e}function MB(t){return t==="address"||t==="bool"||t==="function"||t==="string"||IB.test(t)||CB.test(t)}const xQ=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function TQ(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||IB.test(t)||CB.test(t)||xQ.test(t)}function IQ(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function Y3(t){const e={},n=t.length;for(let a=0;a<n;a++){const c=t[a];if(!O_(c))continue;const u=YJ(c);if(!u)throw new Lp({signature:c,type:"struct"});const d=u.properties.split(";"),h=[],p=d.length;for(let m=0;m<p;m++){const b=d[m].trim();if(!b)continue;const v=al(b,{type:"struct"});h.push(v)}if(!h.length)throw new hQ({signature:c});e[u.name]=h}const r={},i=Object.entries(e),s=i.length;for(let a=0;a<s;a++){const[c,u]=i[a];r[c]=UB(u,e)}return r}const CQ=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function UB(t=[],e={},n=new Set){const r=[],i=t.length;for(let s=0;s<i;s++){const a=t[s];if(OB.test(a.type))r.push(a);else{const u=ml(CQ,a.type);if(!u?.type)throw new dQ({abiParameter:a});const{array:d,type:h}=u;if(h in e){if(n.has(h))throw new pQ({type:h});r.push({...a,type:`tuple${d??""}`,components:UB(e[h],e,new Set([...n,h]))})}else if(MB(h))r.push(a);else throw new iQ({type:h})}}return r}function BB(t){const e=Y3(t),n=[],r=t.length;for(let i=0;i<r;i++){const s=t[i];O_(s)||n.push(sT(s,e))}return n}function k4(t){let e;if(typeof t=="string")e=sT(t);else{const n=Y3(t),r=t.length;for(let i=0;i<r;i++){const s=t[i];if(!O_(s)){e=sT(s,n);break}}}if(!e)throw new rQ({signature:t});return e}function R4(t){const e=[];if(typeof t=="string"){const n=Us(t),r=n.length;for(let i=0;i<r;i++)e.push(al(n[i],{modifiers:O4}))}else{const n=Y3(t),r=t.length;for(let i=0;i<r;i++){const s=t[i];if(O_(s))continue;const a=Us(s),c=a.length;for(let u=0;u<c;u++)e.push(al(a[u],{modifiers:O4,structs:n}))}}if(e.length===0)throw new aQ({params:t});return e}function We(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const i=t[n];return typeof i=="function"?i:s=>e(t,s)}function ro(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new zQ(t.type);return`${t.name}(${k_(t.inputs,{includeName:e})})`}function k_(t,{includeName:e=!1}={}){return t?t.map(n=>OQ(n,{includeName:e})).join(e?", ":","):""}function OQ(t,{includeName:e}){return t.type.startsWith("tuple")?`(${k_(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}function $i(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function Kn(t){return $i(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const LB="2.43.3";let uS={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${LB}`},_e=class aT extends Error{constructor(e,n={}){const r=n.cause instanceof aT?n.cause.details:n.cause?.message?n.cause.message:n.details,i=n.cause instanceof aT&&n.cause.docsPath||n.docsPath,s=uS.getDocsUrl?.({...n,docsPath:i}),a=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...r?[`Details: ${r}`]:[],...uS.version?[`Version: ${uS.version}`]:[]].join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=LB}walk(e){return jB(this,e)}};function jB(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?jB(t.cause,e):e?null:t}class zB extends _e{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class f1 extends _e{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class FB extends _e{constructor({data:e,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${k_(n,{includeName:!0})})`,`Data:   ${e} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=n,this.size=r}}class L0 extends _e{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class kQ extends _e{constructor({expectedLength:e,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${e}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class RQ extends _e{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${Kn(n)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class NQ extends _e{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class $Q extends _e{constructor(e,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class N4 extends _e{constructor(e,{docsPath:n}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class qB extends _e{constructor(e,{docsPath:n}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class PQ extends _e{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class DQ extends _e{constructor(e,{docsPath:n}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class $4 extends _e{constructor(e,{docsPath:n}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class up extends _e{constructor(e,{docsPath:n}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class WB extends _e{constructor(e,{docsPath:n}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class MQ extends _e{constructor(e,{docsPath:n}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class UQ extends _e{constructor(e,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${ro(e.abiItem)}\`, and`,`\`${n.type}\` in \`${ro(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let BQ=class extends _e{constructor({expectedSize:e,givenSize:n}){super(`Expected bytes${e}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}};class h1 extends _e{constructor({abiItem:e,data:n,params:r,size:i}){super([`Data size of ${i} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${k_(r,{includeName:!0})})`,`Data:   ${n} (${i} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=n,this.params=r,this.size=i}}class Z3 extends _e{constructor({abiItem:e,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${ro(e,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class LQ extends _e{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class jQ extends _e{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}let VB=class extends _e{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class zQ extends _e{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class EBe extends _e{constructor(e){super(`Type "${e}" is not supported for packed encoding.`,{name:"UnsupportedPackedAbiType"})}}class FQ extends _e{constructor(e){super(`Filter type "${e}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}let HB=class extends _e{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}},GB=class extends _e{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class P4 extends _e{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${e} ${r} long.`,{name:"InvalidBytesLengthError"})}}function wf(t,{dir:e,size:n=32}={}){return typeof t=="string"?Cu(t,{dir:e,size:n}):qQ(t,{dir:e,size:n})}function Cu(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new GB({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function qQ(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new GB({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const s=e==="right";r[s?i:n-i-1]=t[s?i:t.length-i-1]}return r}let KB=class extends _e{constructor({max:e,min:n,signed:r,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}},WQ=class extends _e{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}};class VQ extends _e{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let HQ=class extends _e{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};function Ls(t,{dir:e="left"}={}){let n=typeof t=="string"?t.replace("0x",""):t,r=0;for(let i=0;i<n.length-1&&n[e==="left"?i:n.length-i-1].toString()==="0";i++)r++;return n=e==="left"?n.slice(r):n.slice(0,n.length-r),typeof t=="string"?(n.length===1&&e==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function Aa(t,{size:e}){if(Kn(t)>e)throw new HQ({givenSize:Kn(t),maxSize:e})}function ln(t,e={}){const{signed:n}=e;e.size&&Aa(t,{size:e.size});const r=BigInt(t);if(!n)return r;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return r<=s?r:r-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function GQ(t,e={}){let n=t;if(e.size&&(Aa(n,{size:e.size}),n=Ls(n)),Ls(n)==="0x00")return!1;if(Ls(n)==="0x01")return!0;throw new VQ(n)}function js(t,e={}){return Number(ln(t,e))}function CBe(t,e={}){let n=Pi(t);return e.size&&(Aa(n,{size:e.size}),n=Ls(n,{dir:"right"})),new TextDecoder().decode(n)}const KQ=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function xt(t,e={}){return typeof t=="number"||typeof t=="bigint"?$e(t,e):typeof t=="string"?dp(t,e):typeof t=="boolean"?YB(t,e):Ar(t,e)}function YB(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(Aa(n,{size:e.size}),wf(n,{size:e.size})):n}function Ar(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=KQ[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(Aa(r,{size:e.size}),wf(r,{dir:"right",size:e.size})):r}function $e(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const a=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<a){const u=typeof t=="bigint"?"n":"";throw new KB({max:s?`${s}${u}`:void 0,min:`${a}${u}`,signed:n,size:r,value:`${t}${u}`})}const c=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?wf(c,{size:r}):c}const YQ=new TextEncoder;function dp(t,e={}){const n=YQ.encode(t);return Ar(n,e)}const ZQ=new TextEncoder;function Qc(t,e={}){return typeof t=="number"||typeof t=="bigint"?JQ(t,e):typeof t=="boolean"?XQ(t,e):$i(t)?Pi(t,e):qd(t,e)}function XQ(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(Aa(n,{size:e.size}),wf(n,{size:e.size})):n}const bc={zero:48,nine:57,A:65,F:70,a:97,f:102};function D4(t){if(t>=bc.zero&&t<=bc.nine)return t-bc.zero;if(t>=bc.A&&t<=bc.F)return t-(bc.A-10);if(t>=bc.a&&t<=bc.f)return t-(bc.a-10)}function Pi(t,e={}){let n=t;e.size&&(Aa(n,{size:e.size}),n=wf(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const i=r.length/2,s=new Uint8Array(i);for(let a=0,c=0;a<i;a++){const u=D4(r.charCodeAt(c++)),d=D4(r.charCodeAt(c++));if(u===void 0||d===void 0)throw new _e(`Invalid byte sequence ("${r[c-2]}${r[c-1]}" in "${r}").`);s[a]=u*16+d}return s}function JQ(t,e){const n=$e(t,e);return Pi(n)}function qd(t,e={}){const n=ZQ.encode(t);return typeof e.size=="number"?(Aa(n,{size:e.size}),wf(n,{dir:"right",size:e.size})):n}const Hw=BigInt(2**32-1),M4=BigInt(32);function QQ(t,e=!1){return e?{h:Number(t&Hw),l:Number(t>>M4&Hw)}:{h:Number(t>>M4&Hw)|0,l:Number(t&Hw)|0}}function eee(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let s=0;s<n;s++){const{h:a,l:c}=QQ(t[s],e);[r[s],i[s]]=[a,c]}return[r,i]}const tee=(t,e,n)=>t<<n|e>>>32-n,nee=(t,e,n)=>e<<n|t>>>32-n,ree=(t,e,n)=>e<<n-32|t>>>64-n,iee=(t,e,n)=>t<<n-32|e>>>64-n,yh=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function see(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function zg(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Jd(t,...e){if(!see(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function aee(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");zg(t.outputLen),zg(t.blockLen)}function fp(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function ZB(t,e){Jd(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function oee(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function hp(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function dS(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function mo(t,e){return t<<32-e|t>>>e}const cee=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function lee(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function uee(t){for(let e=0;e<t.length;e++)t[e]=lee(t[e]);return t}const U4=cee?t=>t:uee;function dee(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function R_(t){return typeof t=="string"&&(t=dee(t)),Jd(t),t}function fee(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];Jd(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}let X3=class{};function XB(t){const e=r=>t().update(R_(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function hee(t=32){if(yh&&typeof yh.getRandomValues=="function")return yh.getRandomValues(new Uint8Array(t));if(yh&&typeof yh.randomBytes=="function")return Uint8Array.from(yh.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const pee=BigInt(0),Xy=BigInt(1),yee=BigInt(2),mee=BigInt(7),gee=BigInt(256),bee=BigInt(113),JB=[],QB=[],eL=[];for(let t=0,e=Xy,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],JB.push(2*(5*r+n)),QB.push((t+1)*(t+2)/2%64);let i=pee;for(let s=0;s<7;s++)e=(e<<Xy^(e>>mee)*bee)%gee,e&yee&&(i^=Xy<<(Xy<<BigInt(s))-Xy);eL.push(i)}const tL=eee(eL,!0),wee=tL[0],vee=tL[1],B4=(t,e,n)=>n>32?ree(t,e,n):tee(t,e,n),L4=(t,e,n)=>n>32?iee(t,e,n):nee(t,e,n);function _ee(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let a=0;a<10;a++)n[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(let a=0;a<10;a+=2){const c=(a+8)%10,u=(a+2)%10,d=n[u],h=n[u+1],p=B4(d,h,1)^n[c],m=L4(d,h,1)^n[c+1];for(let g=0;g<50;g+=10)t[a+g]^=p,t[a+g+1]^=m}let i=t[2],s=t[3];for(let a=0;a<24;a++){const c=QB[a],u=B4(i,s,c),d=L4(i,s,c),h=JB[a];i=t[h],s=t[h+1],t[h]=u,t[h+1]=d}for(let a=0;a<50;a+=10){for(let c=0;c<10;c++)n[c]=t[a+c];for(let c=0;c<10;c++)t[a+c]^=~n[(c+2)%10]&n[(c+4)%10]}t[0]^=wee[r],t[1]^=vee[r]}hp(n)}let Eee=class nL extends X3{constructor(e,n,r,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,zg(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=oee(this.state)}clone(){return this._cloneInto()}keccak(){U4(this.state32),_ee(this.state32,this.rounds),U4(this.state32),this.posOut=0,this.pos=0}update(e){fp(this),e=R_(e),Jd(e);const{blockLen:n,state:r}=this,i=e.length;for(let s=0;s<i;){const a=Math.min(n-this.pos,i-s);for(let c=0;c<a;c++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,(n&128)!==0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){fp(this,!1),Jd(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const a=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+a),i),this.posOut+=a,i+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return zg(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(ZB(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,hp(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:a}=this;return e||(e=new nL(n,r,i,a,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=a,e.destroyed=this.destroyed,e}};const Aee=(t,e,n)=>XB(()=>new Eee(e,t,n)),rL=Aee(1,136,256/8);function Hr(t,e){const n=e||"hex",r=rL($i(t,{strict:!1})?Qc(t):t);return n==="bytes"?r:xt(r)}const See=t=>Hr(Qc(t));function xee(t){return See(t)}function Tee(t){let e=!0,n="",r=0,i="",s=!1;for(let a=0;a<t.length;a++){const c=t[a];if(["(",")",","].includes(c)&&(e=!0),c==="("&&r++,c===")"&&r--,!!e){if(r===0){if(c===" "&&["event","function",""].includes(i))i="";else if(i+=c,c===")"){s=!0;break}continue}if(c===" "){t[a-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}i+=c,n+=c}}if(!s)throw new _e("Unable to normalize signature.");return i}const Iee=t=>{const e=typeof t=="string"?t:d1(t);return Tee(e)};function iL(t){return xee(Iee(t))}const N_=iL;let Er=class extends _e{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}},jp=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const fS=new jp(8192);function j0(t,e){if(fS.has(`${t}.${e}`))return fS.get(`${t}.${e}`);const n=t.substring(2).toLowerCase(),r=Hr(qd(n),"bytes"),i=n.split("");for(let a=0;a<40;a+=2)r[a>>1]>>4>=8&&i[a]&&(i[a]=i[a].toUpperCase()),(r[a>>1]&15)>=8&&i[a+1]&&(i[a+1]=i[a+1].toUpperCase());const s=`0x${i.join("")}`;return fS.set(`${t}.${e}`,s),s}function li(t,e){if(!Nn(t,{strict:!1}))throw new Er({address:t});return j0(t,e)}const Cee=/^0x[a-fA-F0-9]{40}$/,hS=new jp(8192);function Nn(t,e){const{strict:n=!0}=e??{},r=`${t}.${n}`;if(hS.has(r))return hS.get(r);const i=Cee.test(t)?t.toLowerCase()===t?!0:n?j0(t)===t:!0:!1;return hS.set(r,i),i}function va(t){return typeof t[0]=="string"?Sa(t):Oee(t)}function Oee(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}function Sa(t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}function Qd(t,e,n,{strict:r}={}){return $i(t,{strict:!1})?oT(t,e,n,{strict:r}):oL(t,e,n,{strict:r})}function sL(t,e){if(typeof e=="number"&&e>0&&e>Kn(t)-1)throw new HB({offset:e,position:"start",size:Kn(t)})}function aL(t,e,n){if(typeof e=="number"&&typeof n=="number"&&Kn(t)!==n-e)throw new HB({offset:n,position:"end",size:Kn(t)})}function oL(t,e,n,{strict:r}={}){sL(t,e);const i=t.slice(e,n);return r&&aL(i,e,n),i}function oT(t,e,n,{strict:r}={}){sL(t,e);const i=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return r&&aL(i,e,n),i}const NBe=/^(.*)\[([0-9]*)\]$/,kee=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,cL=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function Bu(t,e){if(t.length!==e.length)throw new NQ({expectedLength:t.length,givenLength:e.length});const n=Ree({params:t,values:e}),r=Q3(n);return r.length===0?"0x":r}function Ree({params:t,values:e}){const n=[];for(let r=0;r<t.length;r++)n.push(J3({param:t[r],value:e[r]}));return n}function J3({param:t,value:e}){const n=eI(t.type);if(n){const[r,i]=n;return $ee(e,{length:r,param:{...t,type:i}})}if(t.type==="tuple")return Bee(e,{param:t});if(t.type==="address")return Nee(e);if(t.type==="bool")return Dee(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const r=t.type.startsWith("int"),[,,i="256"]=cL.exec(t.type)??[];return Mee(e,{signed:r,size:Number(i)})}if(t.type.startsWith("bytes"))return Pee(e,{param:t});if(t.type==="string")return Uee(e);throw new LQ(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function Q3(t){let e=0;for(let s=0;s<t.length;s++){const{dynamic:a,encoded:c}=t[s];a?e+=32:e+=Kn(c)}const n=[],r=[];let i=0;for(let s=0;s<t.length;s++){const{dynamic:a,encoded:c}=t[s];a?(n.push($e(e+i,{size:32})),r.push(c),i+=Kn(c)):n.push(c)}return va([...n,...r])}function Nee(t){if(!Nn(t))throw new Er({address:t});return{dynamic:!1,encoded:Cu(t.toLowerCase())}}function $ee(t,{length:e,param:n}){const r=e===null;if(!Array.isArray(t))throw new VB(t);if(!r&&t.length!==e)throw new kQ({expectedLength:e,givenLength:t.length,type:`${n.type}[${e}]`});let i=!1;const s=[];for(let a=0;a<t.length;a++){const c=J3({param:n,value:t[a]});c.dynamic&&(i=!0),s.push(c)}if(r||i){const a=Q3(s);if(r){const c=$e(s.length,{size:32});return{dynamic:!0,encoded:s.length>0?va([c,a]):c}}if(i)return{dynamic:!0,encoded:a}}return{dynamic:!1,encoded:va(s.map(({encoded:a})=>a))}}function Pee(t,{param:e}){const[,n]=e.type.split("bytes"),r=Kn(t);if(!n){let i=t;return r%32!==0&&(i=Cu(i,{dir:"right",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:va([Cu($e(r,{size:32})),i])}}if(r!==Number.parseInt(n,10))throw new RQ({expectedSize:Number.parseInt(n,10),value:t});return{dynamic:!1,encoded:Cu(t,{dir:"right"})}}function Dee(t){if(typeof t!="boolean")throw new _e(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Cu(YB(t))}}function Mee(t,{signed:e,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,i=e?-r-1n:0n;if(t>r||t<i)throw new KB({max:r.toString(),min:i.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:$e(t,{size:32,signed:e})}}function Uee(t){const e=dp(t),n=Math.ceil(Kn(e)/32),r=[];for(let i=0;i<n;i++)r.push(Cu(Qd(e,i*32,(i+1)*32),{dir:"right"}));return{dynamic:!0,encoded:va([Cu($e(Kn(e),{size:32})),...r])}}function Bee(t,{param:e}){let n=!1;const r=[];for(let i=0;i<e.components.length;i++){const s=e.components[i],a=Array.isArray(t)?i:s.name,c=J3({param:s,value:t[a]});r.push(c),c.dynamic&&(n=!0)}return{dynamic:n,encoded:n?Q3(r):va(r.map(({encoded:i})=>i))}}function eI(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}const z0=t=>Qd(iL(t),0,4);function vf(t){const{abi:e,args:n=[],name:r}=t,i=$i(r,{strict:!1}),s=e.filter(c=>i?c.type==="function"?z0(c)===r:c.type==="event"?N_(c)===r:!1:"name"in c&&c.name===r);if(s.length===0)return;if(s.length===1)return s[0];let a;for(const c of s){if(!("inputs"in c))continue;if(!n||n.length===0){if(!c.inputs||c.inputs.length===0)return c;continue}if(!c.inputs||c.inputs.length===0||c.inputs.length!==n.length)continue;if(n.every((d,h)=>{const p="inputs"in c&&c.inputs[h];return p?cT(d,p):!1})){if(a&&"inputs"in a&&a.inputs){const d=lL(c.inputs,a.inputs,n);if(d)throw new UQ({abiItem:c,type:d[0]},{abiItem:a,type:d[1]})}a=c}}return a||s[0]}function cT(t,e){const n=typeof t,r=e.type;switch(r){case"address":return Nn(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((i,s)=>cT(Object.values(t)[s],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(i=>cT(i,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function lL(t,e,n){for(const r in t){const i=t[r],s=e[r];if(i.type==="tuple"&&s.type==="tuple"&&"components"in i&&"components"in s)return lL(i.components,s.components,n[r]);const a=[i.type,s.type];if(a.includes("address")&&a.includes("bytes20")?!0:a.includes("address")&&a.includes("string")?Nn(n[r],{strict:!1}):a.includes("address")&&a.includes("bytes")?Nn(n[r],{strict:!1}):!1)return a}}const j4="/docs/contract/encodeEventTopics";function F0(t){const{abi:e,eventName:n,args:r}=t;let i=e[0];if(n){const u=vf({abi:e,name:n});if(!u)throw new $4(n,{docsPath:j4});i=u}if(i.type!=="event")throw new $4(void 0,{docsPath:j4});const s=ro(i),a=N_(s);let c=[];if(r&&"inputs"in i){const u=i.inputs?.filter(h=>"indexed"in h&&h.indexed),d=Array.isArray(r)?r:Object.values(r).length>0?u?.map(h=>r[h.name])??[]:[];d.length>0&&(c=u?.map((h,p)=>Array.isArray(d[p])?d[p].map((m,g)=>z4({param:h,value:d[p][g]})):typeof d[p]<"u"&&d[p]!==null?z4({param:h,value:d[p]}):null)??[])}return[a,...c]}function z4({param:t,value:e}){if(t.type==="string"||t.type==="bytes")return Hr(Qc(e));if(t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/))throw new FQ(t.type);return Bu([t],[e])}function $_(t,{method:e}){const n={};return t.transport.type==="fallback"&&t.transport.onResponse?.(({method:r,response:i,status:s,transport:a})=>{s==="success"&&e===r&&(n[i]=a.request)}),(r=>n[r]||t.request)}async function uL(t,e){const{address:n,abi:r,args:i,eventName:s,fromBlock:a,strict:c,toBlock:u}=e,d=$_(t,{method:"eth_newFilter"}),h=s?F0({abi:r,args:i,eventName:s}):void 0,p=await t.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof a=="bigint"?$e(a):a,toBlock:typeof u=="bigint"?$e(u):u,topics:h}]});return{abi:r,args:i,eventName:s,id:p,request:d(p),strict:!!c,type:"event"}}function $n(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}const F4="/docs/contract/encodeFunctionData";function Lee(t){const{abi:e,args:n,functionName:r}=t;let i=e[0];if(r){const s=vf({abi:e,args:n,name:r});if(!s)throw new up(r,{docsPath:F4});i=s}if(i.type!=="function")throw new up(void 0,{docsPath:F4});return{abi:[i],functionName:z0(ro(i))}}function Li(t){const{args:e}=t,{abi:n,functionName:r}=t.abi.length===1&&t.functionName?.startsWith("0x")?t:Lee(t),i=n[0],s=r,a="inputs"in i&&i.inputs?Bu(i.inputs,e??[]):void 0;return Sa([s,a??"0x"])}const jee={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},dL={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},zee={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};let q4=class extends _e{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}},fL=class extends _e{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}},Fee=class extends _e{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}};const qee={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new Fee({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new fL({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new q4({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new q4({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function tI(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(qee);return n.bytes=t,n.dataView=new DataView(t.buffer??t,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}function Wee(t,e={}){typeof e.size<"u"&&Aa(t,{size:e.size});const n=Ar(t,e);return ln(n,e)}function Vee(t,e={}){let n=t;if(typeof e.size<"u"&&(Aa(n,{size:e.size}),n=Ls(n)),n.length>1||n[0]>1)throw new WQ(n);return!!n[0]}function el(t,e={}){typeof e.size<"u"&&Aa(t,{size:e.size});const n=Ar(t,e);return js(n,e)}function Hee(t,e={}){let n=t;return typeof e.size<"u"&&(Aa(n,{size:e.size}),n=Ls(n,{dir:"right"})),new TextDecoder().decode(n)}function q0(t,e){const n=typeof e=="string"?Pi(e):e,r=tI(n);if(Kn(n)===0&&t.length>0)throw new L0;if(Kn(e)&&Kn(e)<32)throw new FB({data:typeof e=="string"?e:Ar(e),params:t,size:Kn(e)});let i=0;const s=[];for(let a=0;a<t.length;++a){const c=t[a];r.setPosition(i);const[u,d]=Jh(r,c,{staticPosition:0});i+=d,s.push(u)}return s}function Jh(t,e,{staticPosition:n}){const r=eI(e.type);if(r){const[i,s]=r;return Kee(t,{...e,type:s},{length:i,staticPosition:n})}if(e.type==="tuple")return Jee(t,e,{staticPosition:n});if(e.type==="address")return Gee(t);if(e.type==="bool")return Yee(t);if(e.type.startsWith("bytes"))return Zee(t,e,{staticPosition:n});if(e.type.startsWith("uint")||e.type.startsWith("int"))return Xee(t,e);if(e.type==="string")return Qee(t,{staticPosition:n});throw new jQ(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const W4=32,lT=32;function Gee(t){const e=t.readBytes(32);return[j0(Ar(oL(e,-20))),32]}function Kee(t,e,{length:n,staticPosition:r}){if(!n){const a=el(t.readBytes(lT)),c=r+a,u=c+W4;t.setPosition(c);const d=el(t.readBytes(W4)),h=Fg(e);let p=0;const m=[];for(let g=0;g<d;++g){t.setPosition(u+(h?g*32:p));const[b,v]=Jh(t,e,{staticPosition:u});p+=v,m.push(b)}return t.setPosition(r+32),[m,32]}if(Fg(e)){const a=el(t.readBytes(lT)),c=r+a,u=[];for(let d=0;d<n;++d){t.setPosition(c+d*32);const[h]=Jh(t,e,{staticPosition:c});u.push(h)}return t.setPosition(r+32),[u,32]}let i=0;const s=[];for(let a=0;a<n;++a){const[c,u]=Jh(t,e,{staticPosition:r+i});i+=u,s.push(c)}return[s,i]}function Yee(t){return[Vee(t.readBytes(32),{size:32}),32]}function Zee(t,e,{staticPosition:n}){const[r,i]=e.type.split("bytes");if(!i){const a=el(t.readBytes(32));t.setPosition(n+a);const c=el(t.readBytes(32));if(c===0)return t.setPosition(n+32),["0x",32];const u=t.readBytes(c);return t.setPosition(n+32),[Ar(u),32]}return[Ar(t.readBytes(Number.parseInt(i,10),32)),32]}function Xee(t,e){const n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256",10),i=t.readBytes(32);return[r>48?Wee(i,{signed:n}):el(i,{signed:n}),32]}function Jee(t,e,{staticPosition:n}){const r=e.components.length===0||e.components.some(({name:a})=>!a),i=r?[]:{};let s=0;if(Fg(e)){const a=el(t.readBytes(lT)),c=n+a;for(let u=0;u<e.components.length;++u){const d=e.components[u];t.setPosition(c+s);const[h,p]=Jh(t,d,{staticPosition:c});s+=p,i[r?u:d?.name]=h}return t.setPosition(n+32),[i,32]}for(let a=0;a<e.components.length;++a){const c=e.components[a],[u,d]=Jh(t,c,{staticPosition:n});i[r?a:c?.name]=u,s+=d}return[i,s]}function Qee(t,{staticPosition:e}){const n=el(t.readBytes(32)),r=e+n;t.setPosition(r);const i=el(t.readBytes(32));if(i===0)return t.setPosition(e+32),["",32];const s=t.readBytes(i,32),a=Hee(Ls(s));return t.setPosition(e+32),[a,32]}function Fg(t){const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return t.components?.some(Fg);const n=eI(t.type);return!!(n&&Fg({...t,type:n[1]}))}function ete(t){const{abi:e,data:n}=t,r=Qd(n,0,4);if(r==="0x")throw new L0;const s=[...e||[],dL,zee].find(a=>a.type==="error"&&r===z0(ro(a)));if(!s)throw new qB(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:s,args:"inputs"in s&&s.inputs&&s.inputs.length>0?q0(s.inputs,Qd(n,4)):void 0,errorName:s.name}}const Nr=(t,e,n)=>JSON.stringify(t,(r,i)=>typeof i=="bigint"?i.toString():i,n);function hL({abiItem:t,args:e,includeFunctionName:n=!0,includeName:r=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${n?t.name:""}(${t.inputs.map((i,s)=>`${r&&i.name?`${i.name}: `:""}${typeof e[s]=="object"?Nr(e[s]):e[s]}`).join(", ")})`}const tte={gwei:9,wei:18},nte={ether:-9,wei:9};function pL(t,e){let n=t.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(e,"0");let[i,s]=[n.slice(0,n.length-e),n.slice(n.length-e)];return s=s.replace(/(0+)$/,""),`${r?"-":""}${i||"0"}${s?`.${s}`:""}`}function nI(t,e="wei"){return pL(t,tte[e])}function cs(t,e="wei"){return pL(t,nte[e])}class rte extends _e{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class ite extends _e{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function V4(t){return t.reduce((e,{slot:n,value:r})=>`${e}        ${n}: ${r}
`,"")}function ste(t){return t.reduce((e,{address:n,...r})=>{let i=`${e}    ${n}:
`;return r.nonce&&(i+=`      nonce: ${r.nonce}
`),r.balance&&(i+=`      balance: ${r.balance}
`),r.code&&(i+=`      code: ${r.code}
`),r.state&&(i+=`      state:
`,i+=V4(r.state)),r.stateDiff&&(i+=`      stateDiff:
`,i+=V4(r.stateDiff)),i},`  State Override:
`).slice(0,-1)}function W0(t){const e=Object.entries(t).map(([r,i])=>i===void 0||i===!1?null:[r,i]).filter(Boolean),n=e.reduce((r,[i])=>Math.max(r,i.length),0);return e.map(([r,i])=>`  ${`${r}:`.padEnd(n+1)}  ${i}`).join(`
`)}class ate extends _e{constructor({v:e}){super(`Invalid \`v\` value "${e}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class ote extends _e{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",W0(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class cte extends _e{constructor({storageKey:e}){super(`Size for storage key "${e}" is invalid. Expected 32 bytes. Got ${Math.floor((e.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}class lte extends _e{constructor(e,{account:n,docsPath:r,chain:i,data:s,gas:a,gasPrice:c,maxFeePerGas:u,maxPriorityFeePerGas:d,nonce:h,to:p,value:m}){const g=W0({chain:i&&`${i?.name} (id: ${i?.id})`,from:n?.address,to:p,value:typeof m<"u"&&`${nI(m)} ${i?.nativeCurrency?.symbol||"ETH"}`,data:s,gas:a,gasPrice:typeof c<"u"&&`${cs(c)} gwei`,maxFeePerGas:typeof u<"u"&&`${cs(u)} gwei`,maxPriorityFeePerGas:typeof d<"u"&&`${cs(d)} gwei`,nonce:h});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",g].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class yL extends _e{constructor({blockHash:e,blockNumber:n,blockTag:r,hash:i,index:s}){let a="Transaction";r&&s!==void 0&&(a=`Transaction at block time "${r}" at index "${s}"`),e&&s!==void 0&&(a=`Transaction at block hash "${e}" at index "${s}"`),n&&s!==void 0&&(a=`Transaction at block number "${n}" at index "${s}"`),i&&(a=`Transaction with hash "${i}"`),super(`${a} could not be found.`,{name:"TransactionNotFoundError"})}}class mL extends _e{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class gL extends _e{constructor({receipt:e}){super(`Transaction with hash "${e.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=e}}class ute extends _e{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const dte=t=>t,rI=t=>t;class bL extends _e{constructor(e,{account:n,docsPath:r,chain:i,data:s,gas:a,gasPrice:c,maxFeePerGas:u,maxPriorityFeePerGas:d,nonce:h,to:p,value:m,stateOverride:g}){const b=n?$n(n):void 0;let v=W0({from:b?.address,to:p,value:typeof m<"u"&&`${nI(m)} ${i?.nativeCurrency?.symbol||"ETH"}`,data:s,gas:a,gasPrice:typeof c<"u"&&`${cs(c)} gwei`,maxFeePerGas:typeof u<"u"&&`${cs(u)} gwei`,maxPriorityFeePerGas:typeof d<"u"&&`${cs(d)} gwei`,nonce:h});g&&(v+=`
${ste(g)}`),super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",v].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class wL extends _e{constructor(e,{abi:n,args:r,contractAddress:i,docsPath:s,functionName:a,sender:c}){const u=vf({abi:n,args:r,name:a}),d=u?hL({abiItem:u,args:r,includeFunctionName:!1,includeName:!1}):void 0,h=u?ro(u,{includeName:!0}):void 0,p=W0({address:i&&dte(i),function:h,args:d&&d!=="()"&&`${[...Array(a?.length??0).keys()].map(()=>" ").join("")}${d}`,sender:c});super(e.shortMessage||`An unknown error occurred while executing the contract function "${a}".`,{cause:e,docsPath:s,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],p&&"Contract Call:",p].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=e,this.contractAddress=i,this.functionName=a,this.sender=c}}class uT extends _e{constructor({abi:e,data:n,functionName:r,message:i}){let s,a,c,u;if(n&&n!=="0x")try{a=ete({abi:e,data:n});const{abiItem:h,errorName:p,args:m}=a;if(p==="Error")u=m[0];else if(p==="Panic"){const[g]=m;u=jee[g]}else{const g=h?ro(h,{includeName:!0}):void 0,b=h&&m?hL({abiItem:h,args:m,includeFunctionName:!1,includeName:!1}):void 0;c=[g?`Error: ${g}`:"",b&&b!=="()"?`       ${[...Array(p?.length??0).keys()].map(()=>" ").join("")}${b}`:""]}}catch(h){s=h}else i&&(u=i);let d;s instanceof qB&&(d=s.signature,c=[`Unable to decode signature "${d}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${d}.`]),super(u&&u!=="execution reverted"||d?[`The contract function "${r}" reverted with the following ${d?"signature":"reason"}:`,u||d].join(`
`):`The contract function "${r}" reverted.`,{cause:s,metaMessages:c,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=a,this.raw=n,this.reason=u,this.signature=d}}class fte extends _e{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class hte extends _e{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class P_ extends _e{constructor({data:e,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}class Sg extends _e{constructor({body:e,cause:n,details:r,headers:i,status:s,url:a}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[s&&`Status: ${s}`,`URL: ${rI(a)}`,e&&`Request body: ${Nr(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=i,this.status=s,this.url=a}}class iI extends _e{constructor({body:e,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${rI(r)}`,`Request body: ${Nr(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data,this.url=r}}class H4 extends _e{constructor({body:e,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${rI(n)}`,`Request body: ${Nr(e)}`],name:"TimeoutError"}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.url=n}}const pte=-1;class hs extends _e{constructor(e,{code:n,docsPath:r,metaMessages:i,name:s,shortMessage:a}){super(a,{cause:e,docsPath:r,metaMessages:i||e?.metaMessages,name:s||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=s||e.name,this.code=e instanceof iI?e.code:n??pte}}class Fs extends hs{constructor(e,n){super(e,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class qg extends hs{constructor(e){super(e,{code:qg.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(qg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Wg extends hs{constructor(e){super(e,{code:Wg.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(Wg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Vg extends hs{constructor(e,{method:n}={}){super(e,{code:Vg.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(Vg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Hg extends hs{constructor(e){super(e,{code:Hg.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Hg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class ef extends hs{constructor(e){super(e,{code:ef.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(ef,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Ru extends hs{constructor(e){super(e,{code:Ru.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Ru,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Gg extends hs{constructor(e){super(e,{code:Gg.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Gg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Kg extends hs{constructor(e){super(e,{code:Kg.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Kg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Yg extends hs{constructor(e){super(e,{code:Yg.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Yg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Pd extends hs{constructor(e,{method:n}={}){super(e,{code:Pd.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(Pd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class pp extends hs{constructor(e){super(e,{code:pp.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(pp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Zg extends hs{constructor(e){super(e,{code:Zg.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(Zg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class Qh extends Fs{constructor(e){super(e,{code:Qh.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(Qh,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class Xg extends Fs{constructor(e){super(e,{code:Xg.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(Xg,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Jg extends Fs{constructor(e,{method:n}={}){super(e,{code:Jg.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(Jg,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Qg extends Fs{constructor(e){super(e,{code:Qg.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(Qg,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class e0 extends Fs{constructor(e){super(e,{code:e0.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(e0,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class t0 extends Fs{constructor(e){super(e,{code:t0.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(t0,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class yp extends Fs{constructor(e){super(e,{code:yp.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(yp,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class n0 extends Fs{constructor(e){super(e,{code:n0.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(n0,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class r0 extends Fs{constructor(e){super(e,{code:r0.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(r0,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class i0 extends Fs{constructor(e){super(e,{code:i0.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(i0,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class s0 extends Fs{constructor(e){super(e,{code:s0.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(s0,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class a0 extends Fs{constructor(e){super(e,{code:a0.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(a0,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class mp extends Fs{constructor(e){super(e,{code:mp.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(mp,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class yte extends hs{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const mte=3;function tf(t,{abi:e,address:n,args:r,docsPath:i,functionName:s,sender:a}){const c=t instanceof P_?t:t instanceof _e?t.walk(b=>"data"in b)||t.walk():{},{code:u,data:d,details:h,message:p,shortMessage:m}=c,g=t instanceof L0?new fte({functionName:s}):[mte,ef.code].includes(u)&&(d||h||p||m)||u===Ru.code&&h==="execution reverted"&&d?new uT({abi:e,data:typeof d=="object"?d.data:d,functionName:s,message:c instanceof iI?h:m??p}):t;return new wL(g,{abi:e,args:r,contractAddress:n,docsPath:i,functionName:s,sender:a})}function vL(t){const e=Hr(`0x${t.substring(4)}`).substring(26);return j0(`0x${e}`)}async function gte({hash:t,signature:e}){const n=$i(t)?t:xt(t),{secp256k1:r}=await Fe(async()=>{const{secp256k1:a}=await Promise.resolve().then(()=>Yie);return{secp256k1:a}},void 0);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:d,s:h,v:p,yParity:m}=e,g=Number(m??p),b=G4(g);return new r.Signature(ln(d),ln(h)).addRecoveryBit(b)}const a=$i(e)?e:xt(e);if(Kn(a)!==65)throw new Error("invalid signature length");const c=js(`0x${a.slice(130)}`),u=G4(c);return r.Signature.fromCompact(a.substring(2,130)).addRecoveryBit(u)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function G4(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function _L({hash:t,signature:e}){return vL(await gte({hash:t,signature:e}))}function ol(t,e="hex"){const n=EL(t),r=tI(new Uint8Array(n.length));return n.encode(r),e==="hex"?Ar(r.bytes):r.bytes}function EL(t){return Array.isArray(t)?bte(t.map(e=>EL(e))):wte(t)}function bte(t){const e=t.reduce((i,s)=>i+s.length,0),n=AL(e);return{length:e<=55?1+e:1+n+e,encode(i){e<=55?i.pushByte(192+e):(i.pushByte(247+n),n===1?i.pushUint8(e):n===2?i.pushUint16(e):n===3?i.pushUint24(e):i.pushUint32(e));for(const{encode:s}of t)s(i)}}}function wte(t){const e=typeof t=="string"?Pi(t):t,n=AL(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+n+e.length,encode(i){e.length===1&&e[0]<128?i.pushBytes(e):e.length<=55?(i.pushByte(128+e.length),i.pushBytes(e)):(i.pushByte(183+n),n===1?i.pushUint8(e.length):n===2?i.pushUint16(e.length):n===3?i.pushUint24(e.length):i.pushUint32(e.length),i.pushBytes(e))}}}function AL(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new _e("Length is too large.")}function SL(t){const{chainId:e,nonce:n,to:r}=t,i=t.contractAddress??t.address,s=Hr(Sa(["0x05",ol([e?$e(e):"0x",i,n?$e(n):"0x"])]));return r==="bytes"?Pi(s):s}async function D_(t){const{authorization:e,signature:n}=t;return _L({hash:SL(e),signature:n??e})}class vte extends _e{constructor(e,{account:n,docsPath:r,chain:i,data:s,gas:a,gasPrice:c,maxFeePerGas:u,maxPriorityFeePerGas:d,nonce:h,to:p,value:m}){const g=W0({from:n?.address,to:p,value:typeof m<"u"&&`${nI(m)} ${i?.nativeCurrency?.symbol||"ETH"}`,data:s,gas:a,gasPrice:typeof c<"u"&&`${cs(c)} gwei`,maxFeePerGas:typeof u<"u"&&`${cs(u)} gwei`,maxPriorityFeePerGas:typeof d<"u"&&`${cs(d)} gwei`,nonce:h});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",g].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class jh extends _e{constructor({cause:e,message:n}={}){const r=n?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(jh,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(jh,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted|gas required exceeds allowance/});class nf extends _e{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${cs(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(nf,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class dT extends _e{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${cs(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(dT,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class fT extends _e{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(fT,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class hT extends _e{constructor({cause:e,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(hT,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class pT extends _e{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(pT,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class yT extends _e{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(yT,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class mT extends _e{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(mT,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class gT extends _e{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(gT,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class bT extends _e{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(bT,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class o0 extends _e{constructor({cause:e,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${cs(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${cs(r)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(o0,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class V0 extends _e{constructor({cause:e}){super(`An error occurred while executing: ${e?.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function M_(t,e){const n=(t.details||"").toLowerCase(),r=t instanceof _e?t.walk(i=>i?.code===jh.code):t;return r instanceof _e?new jh({cause:t,message:r.details}):jh.nodeMessage.test(n)?new jh({cause:t,message:t.details}):nf.nodeMessage.test(n)?new nf({cause:t,maxFeePerGas:e?.maxFeePerGas}):dT.nodeMessage.test(n)?new dT({cause:t,maxFeePerGas:e?.maxFeePerGas}):fT.nodeMessage.test(n)?new fT({cause:t,nonce:e?.nonce}):hT.nodeMessage.test(n)?new hT({cause:t,nonce:e?.nonce}):pT.nodeMessage.test(n)?new pT({cause:t,nonce:e?.nonce}):yT.nodeMessage.test(n)?new yT({cause:t}):mT.nodeMessage.test(n)?new mT({cause:t,gas:e?.gas}):gT.nodeMessage.test(n)?new gT({cause:t,gas:e?.gas}):bT.nodeMessage.test(n)?new bT({cause:t}):o0.nodeMessage.test(n)?new o0({cause:t,maxFeePerGas:e?.maxFeePerGas,maxPriorityFeePerGas:e?.maxPriorityFeePerGas}):new V0({cause:t})}function _te(t,{docsPath:e,...n}){const r=(()=>{const i=M_(t,n);return i instanceof V0?t:i})();return new vte(r,{docsPath:e,...n})}function zp(t,{format:e}){if(!e)return{};const n={};function r(s){const a=Object.keys(s);for(const c of a)c in t&&(n[c]=t[c]),s[c]&&typeof s[c]=="object"&&!Array.isArray(s[c])&&r(s[c])}const i=e(t||{});return r(i),n}function U_(t,e){return({exclude:n,format:r})=>({exclude:n,format:(i,s)=>{const a=e(i,s);if(n)for(const c of n)delete a[c];return{...a,...r(i,s)}},type:t})}const Ete={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function gl(t,e){const n={};return typeof t.authorizationList<"u"&&(n.authorizationList=Ste(t.authorizationList)),typeof t.accessList<"u"&&(n.accessList=t.accessList),typeof t.blobVersionedHashes<"u"&&(n.blobVersionedHashes=t.blobVersionedHashes),typeof t.blobs<"u"&&(typeof t.blobs[0]!="string"?n.blobs=t.blobs.map(r=>Ar(r)):n.blobs=t.blobs),typeof t.data<"u"&&(n.data=t.data),t.account&&(n.from=t.account.address),typeof t.from<"u"&&(n.from=t.from),typeof t.gas<"u"&&(n.gas=$e(t.gas)),typeof t.gasPrice<"u"&&(n.gasPrice=$e(t.gasPrice)),typeof t.maxFeePerBlobGas<"u"&&(n.maxFeePerBlobGas=$e(t.maxFeePerBlobGas)),typeof t.maxFeePerGas<"u"&&(n.maxFeePerGas=$e(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(n.maxPriorityFeePerGas=$e(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(n.nonce=$e(t.nonce)),typeof t.to<"u"&&(n.to=t.to),typeof t.type<"u"&&(n.type=Ete[t.type]),typeof t.value<"u"&&(n.value=$e(t.value)),n}const Ate=U_("transactionRequest",gl);function Ste(t){return t.map(e=>({address:e.address,r:e.r?$e(BigInt(e.r)):e.r,s:e.s?$e(BigInt(e.s)):e.s,chainId:$e(e.chainId),nonce:$e(e.nonce),...typeof e.yParity<"u"?{yParity:$e(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:$e(e.v)}:{}}))}function K4(t){if(!(!t||t.length===0))return t.reduce((e,{slot:n,value:r})=>{if(n.length!==66)throw new P4({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new P4({size:r.length,targetSize:66,type:"hex"});return e[n]=r,e},{})}function xte(t){const{balance:e,nonce:n,state:r,stateDiff:i,code:s}=t,a={};if(s!==void 0&&(a.code=s),e!==void 0&&(a.balance=$e(e)),n!==void 0&&(a.nonce=$e(n)),r!==void 0&&(a.state=K4(r)),i!==void 0){if(a.state)throw new ite;a.stateDiff=K4(i)}return a}function sI(t){if(!t)return;const e={};for(const{address:n,...r}of t){if(!Nn(n,{strict:!1}))throw new Er({address:n});if(e[n])throw new rte({address:n});e[n]=xte(r)}return e}const Tte=2n**16n-1n,B_=2n**256n-1n;function Yo(t){const{account:e,maxFeePerGas:n,maxPriorityFeePerGas:r,to:i}=t,s=e?$n(e):void 0;if(s&&!Nn(s.address))throw new Er({address:s.address});if(i&&!Nn(i))throw new Er({address:i});if(n&&n>B_)throw new nf({maxFeePerGas:n});if(r&&n&&r>n)throw new o0({maxFeePerGas:n,maxPriorityFeePerGas:r})}class xL extends _e{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class aI extends _e{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class Ite extends _e{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${cs(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class TL extends _e{constructor({blockHash:e,blockNumber:n}){let r="Block";e&&(r=`Block at hash "${e}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const IL={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function H0(t,e){const n={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?js(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?js(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?IL[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(n.authorizationList=Cte(t.authorizationList)),n.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof n.v=="bigint"){if(n.v===0n||n.v===27n)return 0;if(n.v===1n||n.v===28n)return 1;if(n.v>=35n)return n.v%2n===0n?1:0}})(),n.type==="legacy"&&(delete n.accessList,delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.yParity),n.type==="eip2930"&&(delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas),n.type==="eip1559"&&delete n.maxFeePerBlobGas,n}const CL=U_("transaction",H0);function Cte(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function oI(t,e){const n=(t.transactions??[]).map(r=>typeof r=="string"?r:H0(r));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:n,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}const OL=U_("block",oI);async function Za(t,{blockHash:e,blockNumber:n,blockTag:r=t.experimental_blockTag??"latest",includeTransactions:i}={}){const s=i??!1,a=n!==void 0?$e(n):void 0;let c=null;if(e?c=await t.request({method:"eth_getBlockByHash",params:[e,s]},{dedupe:!0}):c=await t.request({method:"eth_getBlockByNumber",params:[a||r,s]},{dedupe:!!a}),!c)throw new TL({blockHash:e,blockNumber:n});return(t.chain?.formatters?.block?.format||oI)(c,"getBlock")}async function cI(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function Ote(t,e){return kL(t,e)}async function kL(t,e){const{block:n,chain:r=t.chain,request:i}=e||{};try{const s=r?.fees?.maxPriorityFeePerGas??r?.fees?.defaultPriorityFee;if(typeof s=="function"){const c=n||await We(t,Za,"getBlock")({}),u=await s({block:c,client:t,request:i});if(u===null)throw new Error;return u}if(typeof s<"u")return s;const a=await t.request({method:"eth_maxPriorityFeePerGas"});return ln(a)}catch{const[s,a]=await Promise.all([n?Promise.resolve(n):We(t,Za,"getBlock")({}),We(t,cI,"getGasPrice")({})]);if(typeof s.baseFeePerGas!="bigint")throw new aI;const c=a-s.baseFeePerGas;return c<0n?0n:c}}async function kte(t,e){return wT(t,e)}async function wT(t,e){const{block:n,chain:r=t.chain,request:i,type:s="eip1559"}=e||{},a=await(async()=>typeof r?.fees?.baseFeeMultiplier=="function"?r.fees.baseFeeMultiplier({block:n,client:t,request:i}):r?.fees?.baseFeeMultiplier??1.2)();if(a<1)throw new xL;const u=10**(a.toString().split(".")[1]?.length??0),d=m=>m*BigInt(Math.ceil(a*u))/BigInt(u),h=n||await We(t,Za,"getBlock")({});if(typeof r?.fees?.estimateFeesPerGas=="function"){const m=await r.fees.estimateFeesPerGas({block:n,client:t,multiply:d,request:i,type:s});if(m!==null)return m}if(s==="eip1559"){if(typeof h.baseFeePerGas!="bigint")throw new aI;const m=typeof i?.maxPriorityFeePerGas=="bigint"?i.maxPriorityFeePerGas:await kL(t,{block:h,chain:r,request:i}),g=d(h.baseFeePerGas);return{maxFeePerGas:i?.maxFeePerGas??g+m,maxPriorityFeePerGas:m}}return{gasPrice:i?.gasPrice??d(await We(t,cI,"getGasPrice")({}))}}async function lI(t,{address:e,blockTag:n="latest",blockNumber:r}){const i=await t.request({method:"eth_getTransactionCount",params:[e,typeof r=="bigint"?$e(r):n]},{dedupe:!!r});return js(i)}function uI(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(s=>Pi(s)):t.blobs,i=[];for(const s of r)i.push(Uint8Array.from(e.blobToKzgCommitment(s)));return n==="bytes"?i:i.map(s=>Ar(s))}function dI(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(a=>Pi(a)):t.blobs,i=typeof t.commitments[0]=="string"?t.commitments.map(a=>Pi(a)):t.commitments,s=[];for(let a=0;a<r.length;a++){const c=r[a],u=i[a];s.push(Uint8Array.from(e.computeBlobKzgProof(c,u)))}return n==="bytes"?s:s.map(a=>Ar(a))}function Rte(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),a=Number(n>>i&s),c=Number(n&s),u=r?4:0,d=r?0:4;t.setUint32(e+u,a,r),t.setUint32(e+d,c,r)}function Nte(t,e,n){return t&e^~t&n}function $te(t,e,n){return t&e^t&n^e&n}let Pte=class extends X3{constructor(e,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=dS(this.buffer)}update(e){fp(this),e=R_(e),Jd(e);const{view:n,buffer:r,blockLen:i}=this,s=e.length;for(let a=0;a<s;){const c=Math.min(i-this.pos,s-a);if(c===i){const u=dS(e);for(;i<=s-a;a+=i)this.process(u,a);continue}r.set(e.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){fp(this),ZB(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:a}=this;n[a++]=128,hp(this.buffer.subarray(a)),this.padOffset>i-a&&(this.process(r,0),a=0);for(let p=a;p<i;p++)n[p]=0;Rte(r,i-8,BigInt(this.length*8),s),this.process(r,0);const c=dS(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=u/4,h=this.get();if(d>h.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<d;p++)c.setUint32(4*p,h[p],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:a,pos:c}=this;return e.destroyed=a,e.finished=s,e.length=i,e.pos=c,i%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}};const Vl=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Dte=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Hl=new Uint32Array(64);let Mte=class extends Pte{constructor(e=32){super(64,e,8,!1),this.A=Vl[0]|0,this.B=Vl[1]|0,this.C=Vl[2]|0,this.D=Vl[3]|0,this.E=Vl[4]|0,this.F=Vl[5]|0,this.G=Vl[6]|0,this.H=Vl[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:a,G:c,H:u}=this;return[e,n,r,i,s,a,c,u]}set(e,n,r,i,s,a,c,u){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=c|0,this.H=u|0}process(e,n){for(let p=0;p<16;p++,n+=4)Hl[p]=e.getUint32(n,!1);for(let p=16;p<64;p++){const m=Hl[p-15],g=Hl[p-2],b=mo(m,7)^mo(m,18)^m>>>3,v=mo(g,17)^mo(g,19)^g>>>10;Hl[p]=v+Hl[p-7]+b+Hl[p-16]|0}let{A:r,B:i,C:s,D:a,E:c,F:u,G:d,H:h}=this;for(let p=0;p<64;p++){const m=mo(c,6)^mo(c,11)^mo(c,25),g=h+m+Nte(c,u,d)+Dte[p]+Hl[p]|0,v=(mo(r,2)^mo(r,13)^mo(r,22))+$te(r,i,s)|0;h=d,d=u,u=c,c=a+g|0,a=s,s=i,i=r,r=g+v|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,c=c+this.E|0,u=u+this.F|0,d=d+this.G|0,h=h+this.H|0,this.set(r,i,s,a,c,u,d,h)}roundClean(){hp(Hl)}destroy(){this.set(0,0,0,0,0,0,0,0),hp(this.buffer)}};const RL=XB(()=>new Mte),Ute=RL;function NL(t,e){const n=e||"hex",r=Ute($i(t,{strict:!1})?Qc(t):t);return n==="bytes"?r:xt(r)}function Bte(t){const{commitment:e,version:n=1}=t,r=t.to??(typeof e=="string"?"hex":"bytes"),i=NL(e,"bytes");return i.set([n],0),r==="bytes"?i:Ar(i)}function $L(t){const{commitments:e,version:n}=t,r=t.to??(typeof e[0]=="string"?"hex":"bytes"),i=[];for(const s of e)i.push(Bte({commitment:s,to:r,version:n}));return i}const Y4=6,PL=32,fI=4096,DL=PL*fI,Z4=DL*Y4-1-1*fI*Y4,ML=1;class Lte extends _e{constructor({maxSize:e,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class UL extends _e{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class jte extends _e{constructor({hash:e,size:n}){super(`Versioned hash "${e}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${n}`],name:"InvalidVersionedHashSizeError"})}}class zte extends _e{constructor({hash:e,version:n}){super(`Versioned hash "${e}" version is invalid.`,{metaMessages:[`Expected: ${ML}`,`Received: ${n}`],name:"InvalidVersionedHashVersionError"})}}function Fte(t){const e=t.to??(typeof t.data=="string"?"hex":"bytes"),n=typeof t.data=="string"?Pi(t.data):t.data,r=Kn(n);if(!r)throw new UL;if(r>Z4)throw new Lte({maxSize:Z4,size:r});const i=[];let s=!0,a=0;for(;s;){const c=tI(new Uint8Array(DL));let u=0;for(;u<fI;){const d=n.slice(a,a+(PL-1));if(c.pushByte(0),c.pushBytes(d),d.length<31){c.pushByte(128),s=!1;break}u++,a+=31}i.push(c)}return e==="bytes"?i.map(c=>c.bytes):i.map(c=>Ar(c.bytes))}function BL(t){const{data:e,kzg:n,to:r}=t,i=t.blobs??Fte({data:e,to:r}),s=t.commitments??uI({blobs:i,kzg:n,to:r}),a=t.proofs??dI({blobs:i,commitments:s,kzg:n,to:r}),c=[];for(let u=0;u<i.length;u++)c.push({blob:i[u],commitment:s[u],proof:a[u]});return c}function LL(t){if(t.type)return t.type;if(typeof t.authorizationList<"u")return"eip7702";if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new ote({transaction:t})}function G0(t,{docsPath:e,...n}){const r=(()=>{const i=M_(t,n);return i instanceof V0?t:i})();return new lte(r,{docsPath:e,...n})}async function Zo(t){const e=await t.request({method:"eth_chainId"},{dedupe:!0});return js(e)}async function hI(t,e){const{account:n=t.account,accessList:r,authorizationList:i,chain:s=t.chain,blobVersionedHashes:a,blobs:c,data:u,gas:d,gasPrice:h,maxFeePerBlobGas:p,maxFeePerGas:m,maxPriorityFeePerGas:g,nonce:b,nonceManager:v,to:E,type:O,value:k,...S}=e,A=await(async()=>{if(!n||!v||typeof b<"u")return b;const z=$n(n),L=s?s.id:await We(t,Zo,"getChainId")({});return await v.consume({address:z.address,chainId:L,client:t})})();Yo(e);const C=s?.formatters?.transactionRequest?.format,$=(C||gl)({...zp(S,{format:C}),account:n?$n(n):void 0,accessList:r,authorizationList:i,blobs:c,blobVersionedHashes:a,data:u,gas:d,gasPrice:h,maxFeePerBlobGas:p,maxFeePerGas:m,maxPriorityFeePerGas:g,nonce:A,to:E,type:O,value:k},"fillTransaction");try{const z=await t.request({method:"eth_fillTransaction",params:[$]}),B=(s?.formatters?.transaction?.format||H0)(z.tx);delete B.blockHash,delete B.blockNumber,delete B.r,delete B.s,delete B.transactionIndex,delete B.v,delete B.yParity,B.data=B.input,B.gas&&(B.gas=e.gas??B.gas),B.gasPrice&&(B.gasPrice=e.gasPrice??B.gasPrice),B.maxFeePerBlobGas&&(B.maxFeePerBlobGas=e.maxFeePerBlobGas??B.maxFeePerBlobGas),B.maxFeePerGas&&(B.maxFeePerGas=e.maxFeePerGas??B.maxFeePerGas),B.maxPriorityFeePerGas&&(B.maxPriorityFeePerGas=e.maxPriorityFeePerGas??B.maxPriorityFeePerGas),B.nonce&&(B.nonce=e.nonce??B.nonce);const V=await(async()=>{if(typeof s?.fees?.baseFeeMultiplier=="function"){const T=await We(t,Za,"getBlock")({});return s.fees.baseFeeMultiplier({block:T,client:t,request:e})}return s?.fees?.baseFeeMultiplier??1.2})();if(V<1)throw new xL;const F=10**(V.toString().split(".")[1]?.length??0),K=T=>T*BigInt(Math.ceil(V*F))/BigInt(F);return B.maxFeePerGas&&!e.maxFeePerGas&&(B.maxFeePerGas=K(B.maxFeePerGas)),B.gasPrice&&!e.gasPrice&&(B.gasPrice=K(B.gasPrice)),{raw:z.raw,transaction:{from:$.from,...B}}}catch(z){throw G0(z,{...e,chain:t.chain})}}const pI=["blobVersionedHashes","chainId","fees","gas","nonce","type"],X4=new Map,pS=new jp(128);async function Fp(t,e){let n=e;n.account??=t.account,n.parameters??=pI;const{account:r,chain:i=t.chain,nonceManager:s,parameters:a}=n,c=(()=>{if(typeof i?.prepareTransactionRequest=="function")return{fn:i.prepareTransactionRequest,runAt:["beforeFillTransaction"]};if(Array.isArray(i?.prepareTransactionRequest))return{fn:i.prepareTransactionRequest[0],runAt:i.prepareTransactionRequest[1].runAt}})();let u;async function d(){return u||(typeof n.chainId<"u"?n.chainId:i?i.id:(u=await We(t,Zo,"getChainId")({}),u))}const h=r&&$n(r);let p=n.nonce;if(a.includes("nonce")&&typeof p>"u"&&h&&s){const A=await d();p=await s.consume({address:h.address,chainId:A,client:t})}c?.fn&&c.runAt?.includes("beforeFillTransaction")&&(n=await c.fn({...n,chain:i},{phase:"beforeFillTransaction"}),p??=n.nonce);const g=((a.includes("blobVersionedHashes")||a.includes("sidecars"))&&n.kzg&&n.blobs||pS.get(t.uid)===!1||!["fees","gas"].some(C=>a.includes(C))?!1:!!(a.includes("chainId")&&typeof n.chainId!="number"||a.includes("nonce")&&typeof p!="number"||a.includes("fees")&&typeof n.gasPrice!="bigint"&&(typeof n.maxFeePerGas!="bigint"||typeof n.maxPriorityFeePerGas!="bigint")||a.includes("gas")&&typeof n.gas!="bigint"))?await We(t,hI,"fillTransaction")({...n,nonce:p}).then(A=>{const{chainId:C,from:I,gas:$,gasPrice:z,nonce:L,maxFeePerBlobGas:B,maxFeePerGas:V,maxPriorityFeePerGas:D,type:F,...K}=A.transaction;return pS.set(t.uid,!0),{...n,...I?{from:I}:{},...F?{type:F}:{},...typeof C<"u"?{chainId:C}:{},...typeof $<"u"?{gas:$}:{},...typeof z<"u"?{gasPrice:z}:{},...typeof L<"u"?{nonce:L}:{},...typeof B<"u"?{maxFeePerBlobGas:B}:{},...typeof V<"u"?{maxFeePerGas:V}:{},...typeof D<"u"?{maxPriorityFeePerGas:D}:{},..."nonceKey"in K&&typeof K.nonceKey<"u"?{nonceKey:K.nonceKey}:{}}}).catch(A=>{const C=A;return C.name!=="TransactionExecutionError"||C.walk?.($=>{const z=$;return z.name==="MethodNotFoundRpcError"||z.name==="MethodNotSupportedRpcError"})&&pS.set(t.uid,!1),n}):n;p??=g.nonce,n={...g,...h?{from:h?.address}:{},...p?{nonce:p}:{}};const{blobs:b,gas:v,kzg:E,type:O}=n;c?.fn&&c.runAt?.includes("beforeFillParameters")&&(n=await c.fn({...n,chain:i},{phase:"beforeFillParameters"}));let k;async function S(){return k||(k=await We(t,Za,"getBlock")({blockTag:"latest"}),k)}if(a.includes("nonce")&&typeof p>"u"&&h&&!s&&(n.nonce=await We(t,lI,"getTransactionCount")({address:h.address,blockTag:"pending"})),(a.includes("blobVersionedHashes")||a.includes("sidecars"))&&b&&E){const A=uI({blobs:b,kzg:E});if(a.includes("blobVersionedHashes")){const C=$L({commitments:A,to:"hex"});n.blobVersionedHashes=C}if(a.includes("sidecars")){const C=dI({blobs:b,commitments:A,kzg:E}),I=BL({blobs:b,commitments:A,proofs:C,to:"hex"});n.sidecars=I}}if(a.includes("chainId")&&(n.chainId=await d()),(a.includes("fees")||a.includes("type"))&&typeof O>"u")try{n.type=LL(n)}catch{let A=X4.get(t.uid);typeof A>"u"&&(A=typeof(await S())?.baseFeePerGas=="bigint",X4.set(t.uid,A)),n.type=A?"eip1559":"legacy"}if(a.includes("fees"))if(n.type!=="legacy"&&n.type!=="eip2930"){if(typeof n.maxFeePerGas>"u"||typeof n.maxPriorityFeePerGas>"u"){const A=await S(),{maxFeePerGas:C,maxPriorityFeePerGas:I}=await wT(t,{block:A,chain:i,request:n});if(typeof n.maxPriorityFeePerGas>"u"&&n.maxFeePerGas&&n.maxFeePerGas<I)throw new Ite({maxPriorityFeePerGas:I});n.maxPriorityFeePerGas=I,n.maxFeePerGas=C}}else{if(typeof n.maxFeePerGas<"u"||typeof n.maxPriorityFeePerGas<"u")throw new aI;if(typeof n.gasPrice>"u"){const A=await S(),{gasPrice:C}=await wT(t,{block:A,chain:i,request:n,type:"legacy"});n.gasPrice=C}}return a.includes("gas")&&typeof v>"u"&&(n.gas=await We(t,yI,"estimateGas")({...n,account:h,prepare:h?.type==="local"?[]:["blobVersionedHashes"]})),c?.fn&&c.runAt?.includes("afterFillParameters")&&(n=await c.fn({...n,chain:i},{phase:"afterFillParameters"})),Yo(n),delete n.parameters,n}async function yI(t,e){const{account:n=t.account,prepare:r=!0}=e,i=n?$n(n):void 0,s=(()=>{if(Array.isArray(r))return r;if(i?.type!=="local")return["blobVersionedHashes"]})();try{const a=await(async()=>{if(e.to)return e.to;if(e.authorizationList&&e.authorizationList.length>0)return await D_({authorization:e.authorizationList[0]}).catch(()=>{throw new _e("`to` is required. Could not infer from `authorizationList`")})})(),{accessList:c,authorizationList:u,blobs:d,blobVersionedHashes:h,blockNumber:p,blockTag:m,data:g,gas:b,gasPrice:v,maxFeePerBlobGas:E,maxFeePerGas:O,maxPriorityFeePerGas:k,nonce:S,value:A,stateOverride:C,...I}=r?await Fp(t,{...e,parameters:s,to:a}):e;if(b&&e.gas!==b)return b;const z=(typeof p=="bigint"?$e(p):void 0)||m,L=sI(C);Yo(e);const B=t.chain?.formatters?.transactionRequest?.format,D=(B||gl)({...zp(I,{format:B}),account:i,accessList:c,authorizationList:u,blobs:d,blobVersionedHashes:h,data:g,gasPrice:v,maxFeePerBlobGas:E,maxFeePerGas:O,maxPriorityFeePerGas:k,nonce:S,to:a,value:A},"estimateGas");return BigInt(await t.request({method:"eth_estimateGas",params:L?[D,z??t.experimental_blockTag??"latest",L]:z?[D,z]:[D]}))}catch(a){throw _te(a,{...e,account:i,chain:t.chain})}}async function qte(t,e){const{abi:n,address:r,args:i,functionName:s,dataSuffix:a,...c}=e,u=Li({abi:n,args:i,functionName:s});try{return await We(t,yI,"estimateGas")({data:`${u}${a?a.replace("0x",""):""}`,to:r,...c})}catch(d){const h=c.account?$n(c.account):void 0;throw tf(d,{abi:n,address:r,args:i,docsPath:"/docs/contract/estimateContractGas",functionName:s,sender:h?.address})}}function K0(t,e){if(!Nn(t,{strict:!1}))throw new Er({address:t});if(!Nn(e,{strict:!1}))throw new Er({address:e});return t.toLowerCase()===e.toLowerCase()}const J4="/docs/contract/decodeEventLog";function p1(t){const{abi:e,data:n,strict:r,topics:i}=t,s=r??!0,[a,...c]=i;if(!a)throw new PQ({docsPath:J4});const u=e.find(v=>v.type==="event"&&a===N_(ro(v)));if(!(u&&"name"in u)||u.type!=="event")throw new DQ(a,{docsPath:J4});const{name:d,inputs:h}=u,p=h?.some(v=>!("name"in v&&v.name)),m=p?[]:{},g=h.map((v,E)=>[v,E]).filter(([v])=>"indexed"in v&&v.indexed);for(let v=0;v<g.length;v++){const[E,O]=g[v],k=c[v];if(!k)throw new Z3({abiItem:u,param:E});m[p?O:E.name||O]=Wte({param:E,value:k})}const b=h.filter(v=>!("indexed"in v&&v.indexed));if(b.length>0){if(n&&n!=="0x")try{const v=q0(b,n);if(v)if(p)for(let E=0;E<h.length;E++)m[E]=m[E]??v.shift();else for(let E=0;E<b.length;E++)m[b[E].name]=v[E]}catch(v){if(s)throw v instanceof FB||v instanceof fL?new h1({abiItem:u,data:n,params:b,size:Kn(n)}):v}else if(s)throw new h1({abiItem:u,data:"0x",params:b,size:0})}return{eventName:d,args:Object.values(m).length>0?m:void 0}}function Wte({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(q0([t],e)||[])[0]}function mI(t){const{abi:e,args:n,logs:r,strict:i=!0}=t,s=(()=>{if(t.eventName)return Array.isArray(t.eventName)?t.eventName:[t.eventName]})();return r.map(a=>{const c=e.filter(h=>h.type==="event"&&a.topics[0]===N_(h));if(c.length===0)return null;let u,d;for(const h of c)try{u=p1({...a,abi:[h],strict:!0}),d=h;break}catch{}if(!u&&!i){d=c[0];try{u=p1({...a,abi:[d],strict:!1})}catch{const h=d.inputs?.some(p=>!("name"in p&&p.name));return{...a,args:h?[]:{},eventName:d.name}}}return!u||!d||s&&!s.includes(u.eventName)||!Vte({args:u.args,inputs:d.inputs,matchArgs:n})?null:{...u,...a}}).filter(Boolean)}function Vte(t){const{args:e,inputs:n,matchArgs:r}=t;if(!r)return!0;if(!e)return!1;function i(s,a,c){try{return s.type==="address"?K0(a,c):s.type==="string"||s.type==="bytes"?Hr(Qc(a))===c:a===c}catch{return!1}}return Array.isArray(e)&&Array.isArray(r)?r.every((s,a)=>{if(s==null)return!0;const c=n[a];return c?(Array.isArray(s)?s:[s]).some(d=>i(c,d,e[a])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([s,a])=>{if(a==null)return!0;const c=n.find(d=>d.name===s);return c?(Array.isArray(a)?a:[a]).some(d=>i(c,d,e[s])):!1}):!1}function qo(t,{args:e,eventName:n}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,blockTimestamp:t.blockTimestamp?BigInt(t.blockTimestamp):t.blockTimestamp===null?null:void 0,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...n?{args:e,eventName:n}:{}}}async function gI(t,{address:e,blockHash:n,fromBlock:r,toBlock:i,event:s,events:a,args:c,strict:u}={}){const d=u??!1,h=a??(s?[s]:void 0);let p=[];h&&(p=[h.flatMap(v=>F0({abi:[v],eventName:v.name,args:a?void 0:c}))],s&&(p=p[0]));let m;n?m=await t.request({method:"eth_getLogs",params:[{address:e,topics:p,blockHash:n}]}):m=await t.request({method:"eth_getLogs",params:[{address:e,topics:p,fromBlock:typeof r=="bigint"?$e(r):r,toBlock:typeof i=="bigint"?$e(i):i}]});const g=m.map(b=>qo(b));return h?mI({abi:h,args:c,logs:g,strict:d}):g}async function jL(t,e){const{abi:n,address:r,args:i,blockHash:s,eventName:a,fromBlock:c,toBlock:u,strict:d}=e,h=a?vf({abi:n,name:a}):void 0,p=h?void 0:n.filter(m=>m.type==="event");return We(t,gI,"getLogs")({address:r,args:i,blockHash:s,event:h,events:p,fromBlock:c,toBlock:u,strict:d})}const yS="/docs/contract/decodeFunctionResult";function _f(t){const{abi:e,args:n,functionName:r,data:i}=t;let s=e[0];if(r){const c=vf({abi:e,args:n,name:r});if(!c)throw new up(r,{docsPath:yS});s=c}if(s.type!=="function")throw new up(void 0,{docsPath:yS});if(!s.outputs)throw new WB(s.name,{docsPath:yS});const a=q0(s.outputs,i);if(a&&a.length>1)return a;if(a&&a.length===1)return a[0]}const bI=BigInt(0),vT=BigInt(1);function Y0(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function wI(t){if(!Y0(t))throw new Error("Uint8Array expected")}function c0(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function Gw(t){const e=t.toString(16);return e.length&1?"0"+e:e}function zL(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?bI:BigInt("0x"+t)}const FL=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Hte=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function l0(t){if(wI(t),FL)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=Hte[t[n]];return e}const wc={_0:48,_9:57,A:65,F:70,a:97,f:102};function Q4(t){if(t>=wc._0&&t<=wc._9)return t-wc._0;if(t>=wc.A&&t<=wc.F)return t-(wc.A-10);if(t>=wc.a&&t<=wc.f)return t-(wc.a-10)}function y1(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(FL)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const a=Q4(t.charCodeAt(s)),c=Q4(t.charCodeAt(s+1));if(a===void 0||c===void 0){const u=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+u+'" at index '+s)}r[i]=a*16+c}return r}function Wd(t){return zL(l0(t))}function qL(t){return wI(t),zL(l0(Uint8Array.from(t).reverse()))}function Z0(t,e){return y1(t.toString(16).padStart(e*2,"0"))}function WL(t,e){return Z0(t,e).reverse()}function fa(t,e,n){let r;if(typeof e=="string")try{r=y1(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(Y0(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function m1(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];wI(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}const mS=t=>typeof t=="bigint"&&bI<=t;function vI(t,e,n){return mS(t)&&mS(e)&&mS(n)&&e<=t&&t<n}function ep(t,e,n,r){if(!vI(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function Gte(t){let e;for(e=0;t>bI;t>>=vT,e+=1);return e}const L_=t=>(vT<<BigInt(t))-vT,gS=t=>new Uint8Array(t),eN=t=>Uint8Array.from(t);function Kte(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=gS(t),i=gS(t),s=0;const a=()=>{r.fill(1),i.fill(0),s=0},c=(...p)=>n(i,r,...p),u=(p=gS(0))=>{i=c(eN([0]),p),r=c(),p.length!==0&&(i=c(eN([1]),p),r=c())},d=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let p=0;const m=[];for(;p<e;){r=c();const g=r.slice();m.push(g),p+=r.length}return m1(...m)};return(p,m)=>{a(),u(p);let g;for(;!(g=m(d()));)u();return a(),g}}const Yte={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||Y0(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function j_(t,e,n={}){const r=(i,s,a)=>{const c=Yte[s];if(typeof c!="function")throw new Error("invalid validator function");const u=t[i];if(!(a&&u===void 0)&&!c(u,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+u)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}function tN(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}const Zte="0.1.1";function Xte(){return Zte}let Ut=class Pc extends Error{static setStaticOptions(e){Pc.prototype.docsOrigin=e.docsOrigin,Pc.prototype.showVersion=e.showVersion,Pc.prototype.version=e.version}constructor(e,n={}){const r=(()=>{if(n.cause instanceof Pc){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:n.cause?.message?n.cause.message:n.details})(),i=n.cause instanceof Pc&&n.cause.docsPath||n.docsPath,s=n.docsOrigin??Pc.prototype.docsOrigin,a=`${s}${i??""}`,c=!!(n.version??Pc.prototype.showVersion),u=n.version??Pc.prototype.version,d=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||i||c?["",r?`Details: ${r}`:void 0,i?`See: ${a}`:void 0,c?`Version: ${u}`:void 0]:[]].filter(h=>typeof h=="string").join(`
`);super(d,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsOrigin",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"showVersion",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.cause=n.cause,this.details=r,this.docs=a,this.docsOrigin=s,this.docsPath=i,this.shortMessage=e,this.showVersion=c,this.version=u}walk(e){return VL(this,e)}};Object.defineProperty(Ut,"defaultStaticOptions",{enumerable:!0,configurable:!0,writable:!0,value:{docsOrigin:"https://oxlib.sh",showVersion:!1,version:`ox@${Xte()}`}});Ut.setStaticOptions(Ut.defaultStaticOptions);function VL(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?VL(t.cause,e):e?null:t}function X0(t,e){if(zh(t)>e)throw new pne({givenSize:zh(t),maxSize:e})}const vc={zero:48,nine:57,A:65,F:70,a:97,f:102};function nN(t){if(t>=vc.zero&&t<=vc.nine)return t-vc.zero;if(t>=vc.A&&t<=vc.F)return t-(vc.A-10);if(t>=vc.a&&t<=vc.f)return t-(vc.a-10)}function Jte(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;if(t.length>r)throw new yne({size:t.length,targetSize:r,type:"Bytes"});const i=new Uint8Array(r);for(let s=0;s<r;s++){const a=n==="right";i[a?s:r-s-1]=t[a?s:t.length-s-1]}return i}function HL(t,e={}){const{dir:n="left"}=e;let r=t,i=0;for(let s=0;s<r.length-1&&r[n==="left"?s:r.length-s-1].toString()==="0";s++)i++;return r=n==="left"?r.slice(i):r.slice(0,r.length-i),r}function z_(t,e){if(zs(t)>e)throw new _ne({givenSize:zs(t),maxSize:e})}function Qte(t,e){if(typeof e=="number"&&e>0&&e>zs(t)-1)throw new t7({offset:e,position:"start",size:zs(t)})}function ene(t,e,n){if(typeof e=="number"&&typeof n=="number"&&zs(t)!==n-e)throw new t7({offset:n,position:"end",size:zs(t)})}function GL(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;const i=t.replace("0x","");if(i.length>r*2)throw new Ene({size:Math.ceil(i.length/2),targetSize:r,type:"Hex"});return`0x${i[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const tne="#__bigint";function KL(t,e,n){return JSON.stringify(t,(r,i)=>typeof i=="bigint"?i.toString()+tne:i,n)}const nne=new TextDecoder,rne=new TextEncoder;function ine(t){return t instanceof Uint8Array?t:typeof t=="string"?YL(t):sne(t)}function sne(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function YL(t,e={}){const{size:n}=e;let r=t;n&&(z_(t,n),r=sf(t,n));let i=r.slice(2);i.length%2&&(i=`0${i}`);const s=i.length/2,a=new Uint8Array(s);for(let c=0,u=0;c<s;c++){const d=nN(i.charCodeAt(u++)),h=nN(i.charCodeAt(u++));if(d===void 0||h===void 0)throw new Ut(`Invalid byte sequence ("${i[u-2]}${i[u-1]}" in "${i}").`);a[c]=d<<4|h}return a}function ane(t,e={}){const{size:n}=e,r=rne.encode(t);return typeof n=="number"?(X0(r,n),one(r,n)):r}function one(t,e){return Jte(t,{dir:"right",size:e})}function zh(t){return t.length}function cne(t,e,n,r={}){const{strict:i}=r;return t.slice(e,n)}function lne(t,e={}){const{size:n}=e;typeof n<"u"&&X0(t,n);const r=so(t,e);return JL(r,e)}function une(t,e={}){const{size:n}=e;let r=t;if(typeof n<"u"&&(X0(r,n),r=ZL(r)),r.length>1||r[0]>1)throw new hne(r);return!!r[0]}function tl(t,e={}){const{size:n}=e;typeof n<"u"&&X0(t,n);const r=so(t,e);return QL(r,e)}function dne(t,e={}){const{size:n}=e;let r=t;return typeof n<"u"&&(X0(r,n),r=fne(r)),nne.decode(r)}function ZL(t){return HL(t,{dir:"left"})}function fne(t){return HL(t,{dir:"right"})}class hne extends Ut{constructor(e){super(`Bytes value \`${e}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}let pne=class extends Ut{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},yne=class extends Ut{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const mne=new TextEncoder,gne=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function bne(t,e={}){const{strict:n=!1}=e;if(!t)throw new rN(t);if(typeof t!="string")throw new rN(t);if(n&&!/^0x[0-9a-fA-F]*$/.test(t))throw new iN(t);if(!t.startsWith("0x"))throw new iN(t)}function io(...t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}function wne(t){return t instanceof Uint8Array?so(t):Array.isArray(t)?so(new Uint8Array(t)):t}function XL(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(z_(n,e.size),rf(n,e.size)):n}function so(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=gne[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(z_(r,e.size),sf(r,e.size)):r}function Ni(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const a=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<a){const d=typeof t=="bigint"?"n":"";throw new e7({max:s?`${s}${d}`:void 0,min:`${a}${d}`,signed:n,size:r,value:`${t}${d}`})}const u=`0x${(n&&i<0?BigInt.asUintN(r*8,BigInt(i)):i).toString(16)}`;return r?rf(u,r):u}function _I(t,e={}){return so(mne.encode(t),e)}function rf(t,e){return GL(t,{dir:"left",size:e})}function sf(t,e){return GL(t,{dir:"right",size:e})}function Uo(t,e,n,r={}){const{strict:i}=r;Qte(t,e);const s=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return i&&ene(s,e,n),s}function zs(t){return Math.ceil((t.length-2)/2)}function JL(t,e={}){const{signed:n}=e;e.size&&z_(t,e.size);const r=BigInt(t);if(!n)return r;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n)-1n,a=s>>1n;return r<=a?r:r-s-1n}function QL(t,e={}){const{signed:n,size:r}=e;return Number(!n&&!r?t:JL(t,e))}function vne(t,e={}){const{strict:n=!1}=e;try{return bne(t,{strict:n}),!0}catch{return!1}}let e7=class extends Ut{constructor({max:e,min:n,signed:r,size:i,value:s}){super(`Number \`${s}\` is not in safe${i?` ${i*8}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${n}\` to \`${e}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}},rN=class extends Ut{constructor(e){super(`Value \`${typeof e=="object"?KL(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}},iN=class extends Ut{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}},_ne=class extends Ut{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}},t7=class extends Ut{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}},Ene=class extends Ut{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}};function Ane(t){return{address:t.address,amount:Ni(t.amount),index:Ni(t.index),validatorIndex:Ni(t.validatorIndex)}}function n7(t){return{...typeof t.baseFeePerGas=="bigint"&&{baseFeePerGas:Ni(t.baseFeePerGas)},...typeof t.blobBaseFee=="bigint"&&{blobBaseFee:Ni(t.blobBaseFee)},...typeof t.feeRecipient=="string"&&{feeRecipient:t.feeRecipient},...typeof t.gasLimit=="bigint"&&{gasLimit:Ni(t.gasLimit)},...typeof t.number=="bigint"&&{number:Ni(t.number)},...typeof t.prevRandao=="bigint"&&{prevRandao:Ni(t.prevRandao)},...typeof t.time=="bigint"&&{time:Ni(t.time)},...t.withdrawals&&{withdrawals:t.withdrawals.map(Ane)}}}const g1=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],_T=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],r7=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],i7=[...r7,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],Sne=[...r7,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],sN=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],aN=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],s7=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],oN=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],HBe=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],xne="0x82ad56cb",a7="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",Tne="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",Ine="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",EI="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033";class ET extends _e{constructor({blockNumber:e,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...e&&r.blockCreated&&r.blockCreated>e?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class Cne extends _e{constructor({chain:e,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${e.id}  ${e.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e.id}  ${e.name}`],name:"ChainMismatchError"})}}class One extends _e{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class o7 extends _e{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class J0 extends _e{constructor({chainId:e}){super(typeof e=="number"?`Chain ID "${e}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}const bS="/docs/contract/encodeDeployData";function F_(t){const{abi:e,args:n,bytecode:r}=t;if(!n||n.length===0)return r;const i=e.find(a=>"type"in a&&a.type==="constructor");if(!i)throw new zB({docsPath:bS});if(!("inputs"in i))throw new f1({docsPath:bS});if(!i.inputs||i.inputs.length===0)throw new f1({docsPath:bS});const s=Bu(i.inputs,n);return Sa([r,s])}function qp({blockNumber:t,chain:e,contract:n}){const r=e?.contracts?.[n];if(!r)throw new ET({chain:e,contract:{name:n}});if(t&&r.blockCreated&&r.blockCreated>t)throw new ET({blockNumber:t,chain:e,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function c7(t,{docsPath:e,...n}){const r=(()=>{const i=M_(t,n);return i instanceof V0?t:i})();return new bL(r,{docsPath:e,...n})}function AI(){let t=()=>{},e=()=>{};return{promise:new Promise((r,i)=>{t=r,e=i}),resolve:t,reject:e}}const wS=new Map;function l7({fn:t,id:e,shouldSplitBatch:n,wait:r=0,sort:i}){const s=async()=>{const h=u();a();const p=h.map(({args:m})=>m);p.length!==0&&t(p).then(m=>{i&&Array.isArray(m)&&m.sort(i);for(let g=0;g<h.length;g++){const{resolve:b}=h[g];b?.([m[g],m])}}).catch(m=>{for(let g=0;g<h.length;g++){const{reject:b}=h[g];b?.(m)}})},a=()=>wS.delete(e),c=()=>u().map(({args:h})=>h),u=()=>wS.get(e)||[],d=h=>wS.set(e,[...u(),h]);return{flush:a,async schedule(h){const{promise:p,resolve:m,reject:g}=AI();return n?.([...c(),h])&&s(),u().length>0?(d({args:h,resolve:m,reject:g}),p):(d({args:h,resolve:m,reject:g}),setTimeout(s,r),p)}}}async function q_(t,e){const{account:n=t.account,authorizationList:r,batch:i=!!t.batch?.multicall,blockNumber:s,blockTag:a=t.experimental_blockTag??"latest",accessList:c,blobs:u,blockOverrides:d,code:h,data:p,factory:m,factoryData:g,gas:b,gasPrice:v,maxFeePerBlobGas:E,maxFeePerGas:O,maxPriorityFeePerGas:k,nonce:S,to:A,value:C,stateOverride:I,...$}=e,z=n?$n(n):void 0;if(h&&(m||g))throw new _e("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(h&&A)throw new _e("Cannot provide both `code` & `to` as parameters.");const L=h&&p,B=m&&g&&A&&p,V=L||B,D=L?u7({code:h,data:p}):B?Nne({data:p,factory:m,factoryData:g,to:A}):p;try{Yo(e);const K=(typeof s=="bigint"?$e(s):void 0)||a,T=d?n7(d):void 0,x=sI(I),N=t.chain?.formatters?.transactionRequest?.format,P=(N||gl)({...zp($,{format:N}),accessList:c,account:z,authorizationList:r,blobs:u,data:D,gas:b,gasPrice:v,maxFeePerBlobGas:E,maxFeePerGas:O,maxPriorityFeePerGas:k,nonce:S,to:V?void 0:A,value:C},"call");if(i&&kne({request:P})&&!x&&!T)try{return await Rne(t,{...P,blockNumber:s,blockTag:a})}catch(G){if(!(G instanceof o7)&&!(G instanceof ET))throw G}const H=(()=>{const G=[P,K];return x&&T?[...G,x,T]:x?[...G,x]:T?[...G,{},T]:G})(),M=await t.request({method:"eth_call",params:H});return M==="0x"?{data:void 0}:{data:M}}catch(F){const K=$ne(F),{offchainLookup:T,offchainLookupSignature:x}=await Fe(async()=>{const{offchainLookup:N,offchainLookupSignature:j}=await import("./ccip-BPh_8k7W.js");return{offchainLookup:N,offchainLookupSignature:j}},[]);if(t.ccipRead!==!1&&K?.slice(0,10)===x&&A)return{data:await T(t,{data:K,to:A})};throw V&&K?.slice(0,10)==="0x101bb98d"?new hte({factory:m}):c7(F,{...e,account:z,chain:t.chain})}}function kne({request:t}){const{data:e,to:n,...r}=t;return!(!e||e.startsWith(xne)||!n||Object.values(r).filter(i=>typeof i<"u").length>0)}async function Rne(t,e){const{batchSize:n=1024,deployless:r=!1,wait:i=0}=typeof t.batch?.multicall=="object"?t.batch.multicall:{},{blockNumber:s,blockTag:a=t.experimental_blockTag??"latest",data:c,to:u}=e,d=(()=>{if(r)return null;if(e.multicallAddress)return e.multicallAddress;if(t.chain)return qp({blockNumber:s,chain:t.chain,contract:"multicall3"});throw new o7})(),p=(typeof s=="bigint"?$e(s):void 0)||a,{schedule:m}=l7({id:`${t.uid}.${p}`,wait:i,shouldSplitBatch(v){return v.reduce((O,{data:k})=>O+(k.length-2),0)>n*2},fn:async v=>{const E=v.map(S=>({allowFailure:!0,callData:S.data,target:S.to})),O=Li({abi:g1,args:[E],functionName:"aggregate3"}),k=await t.request({method:"eth_call",params:[{...d===null?{data:u7({code:EI,data:O})}:{to:d,data:O}},p]});return _f({abi:g1,args:[E],functionName:"aggregate3",data:k||"0x"})}}),[{returnData:g,success:b}]=await m({data:c,to:u});if(!b)throw new P_({data:g});return g==="0x"?{data:void 0}:{data:g}}function u7(t){const{code:e,data:n}=t;return F_({abi:BB(["constructor(bytes, bytes)"]),bytecode:a7,args:[e,n]})}function Nne(t){const{data:e,factory:n,factoryData:r,to:i}=t;return F_({abi:BB(["constructor(address, bytes, address, bytes)"]),bytecode:Tne,args:[i,e,n,r]})}function $ne(t){if(!(t instanceof _e))return;const e=t.walk();return typeof e?.data=="object"?e.data?.data:e.data}async function ao(t,e){const{abi:n,address:r,args:i,functionName:s,...a}=e,c=Li({abi:n,args:i,functionName:s});try{const{data:u}=await We(t,q_,"call")({...a,data:c,to:r});return _f({abi:n,args:i,functionName:s,data:u||"0x"})}catch(u){throw tf(u,{abi:n,address:r,args:i,docsPath:"/docs/contract/readContract",functionName:s})}}async function Pne(t,e){const{abi:n,address:r,args:i,dataSuffix:s,functionName:a,...c}=e,u=c.account?$n(c.account):t.account,d=Li({abi:n,args:i,functionName:a});try{const{data:h}=await We(t,q_,"call")({batch:!1,data:`${d}${s?s.replace("0x",""):""}`,to:r,...c,account:u}),p=_f({abi:n,args:i,functionName:a,data:h||"0x"}),m=n.filter(g=>"name"in g&&g.name===e.functionName);return{result:p,request:{abi:m,address:r,args:i,dataSuffix:s,functionName:a,...c,account:u}}}catch(h){throw tf(h,{abi:n,address:r,args:i,docsPath:"/docs/contract/simulateContract",functionName:a,sender:u?.address})}}const vS=new Map,cN=new Map;let Dne=0;function cl(t,e,n){const r=++Dne,i=()=>vS.get(t)||[],s=()=>{const h=i();vS.set(t,h.filter(p=>p.id!==r))},a=()=>{const h=i();if(!h.some(m=>m.id===r))return;const p=cN.get(t);if(h.length===1&&p){const m=p();m instanceof Promise&&m.catch(()=>{})}s()},c=i();if(vS.set(t,[...c,{id:r,fns:e}]),c&&c.length>0)return a;const u={};for(const h in e)u[h]=((...p)=>{const m=i();if(m.length!==0)for(const g of m)g.fns[h]?.(...p)});const d=n(u);return typeof d=="function"&&cN.set(t,d),a}async function AT(t){return new Promise(e=>setTimeout(e,t))}function Wp(t,{emitOnBegin:e,initialWaitTime:n,interval:r}){let i=!0;const s=()=>i=!1;return(async()=>{let c;e&&(c=await t({unpoll:s}));const u=await n?.(c)??r;await AT(u);const d=async()=>{i&&(await t({unpoll:s}),await AT(r),d())};d()})(),s}const Mne=new Map,Une=new Map;function Bne(t){const e=(i,s)=>({clear:()=>s.delete(i),get:()=>s.get(i),set:a=>s.set(i,a)}),n=e(t,Mne),r=e(t,Une);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function Lne(t,{cacheKey:e,cacheTime:n=Number.POSITIVE_INFINITY}){const r=Bne(e),i=r.response.get();if(i&&n>0&&Date.now()-i.created.getTime()<n)return i.data;let s=r.promise.get();s||(s=t(),r.promise.set(s));try{const a=await s;return r.response.set({created:new Date,data:a}),a}finally{r.promise.clear()}}const jne=t=>`blockNumber.${t}`;async function Q0(t,{cacheTime:e=t.cacheTime}={}){const n=await Lne(()=>t.request({method:"eth_blockNumber"}),{cacheKey:jne(t.uid),cacheTime:e});return BigInt(n)}async function W_(t,{filter:e}){const n="strict"in e&&e.strict,r=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof r[0]=="string")return r;const i=r.map(s=>qo(s));return!("abi"in e)||!e.abi?i:mI({abi:e.abi,logs:i,strict:n})}async function V_(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}function zne(t,e){const{abi:n,address:r,args:i,batch:s=!0,eventName:a,fromBlock:c,onError:u,onLogs:d,poll:h,pollingInterval:p=t.pollingInterval,strict:m}=e;return(typeof h<"u"?h:typeof c=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")))?(()=>{const E=m??!1,O=Nr(["watchContractEvent",r,i,s,t.uid,a,p,E,c]);return cl(O,{onLogs:d,onError:u},k=>{let S;c!==void 0&&(S=c-1n);let A,C=!1;const I=Wp(async()=>{if(!C){try{A=await We(t,uL,"createContractEventFilter")({abi:n,address:r,args:i,eventName:a,strict:E,fromBlock:c})}catch{}C=!0;return}try{let $;if(A)$=await We(t,W_,"getFilterChanges")({filter:A});else{const z=await We(t,Q0,"getBlockNumber")({});S&&S<z?$=await We(t,jL,"getContractEvents")({abi:n,address:r,args:i,eventName:a,fromBlock:S+1n,toBlock:z,strict:E}):$=[],S=z}if($.length===0)return;if(s)k.onLogs($);else for(const z of $)k.onLogs([z])}catch($){A&&$ instanceof Ru&&(C=!1),k.onError?.($)}},{emitOnBegin:!0,interval:p});return async()=>{A&&await We(t,V_,"uninstallFilter")({filter:A}),I()}})})():(()=>{const E=m??!1,O=Nr(["watchContractEvent",r,i,s,t.uid,a,p,E]);let k=!0,S=()=>k=!1;return cl(O,{onLogs:d,onError:u},A=>((async()=>{try{const C=(()=>{if(t.transport.type==="fallback"){const z=t.transport.transports.find(L=>L.config.type==="webSocket"||L.config.type==="ipc");return z?z.value:t.transport}return t.transport})(),I=a?F0({abi:n,eventName:a,args:i}):[],{unsubscribe:$}=await C.subscribe({params:["logs",{address:r,topics:I}],onData(z){if(!k)return;const L=z.result;try{const{eventName:B,args:V}=p1({abi:n,data:L.data,topics:L.topics,strict:m}),D=qo(L,{args:V,eventName:B});A.onLogs([D])}catch(B){let V,D;if(B instanceof h1||B instanceof Z3){if(m)return;V=B.abiItem.name,D=B.abiItem.inputs?.some(K=>!("name"in K&&K.name))}const F=qo(L,{args:D?[]:{},eventName:V});A.onLogs([F])}},onError(z){A.onError?.(z)}});S=$,k||S()}catch(C){u?.(C)}})(),()=>S()))})()}class Xo extends _e{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class Vd extends _e{constructor({docsPath:e,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:e,metaMessages:n,name:"AccountTypeNotSupportedError"})}}function eb({chain:t,currentChainId:e}){if(!t)throw new One;if(e!==t.id)throw new Cne({chain:t,currentChainId:e})}async function H_(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}const _S=new jp(128);async function tb(t,e){const{account:n=t.account,chain:r=t.chain,accessList:i,authorizationList:s,blobs:a,data:c,gas:u,gasPrice:d,maxFeePerBlobGas:h,maxFeePerGas:p,maxPriorityFeePerGas:m,nonce:g,type:b,value:v,...E}=e;if(typeof n>"u")throw new Xo({docsPath:"/docs/actions/wallet/sendTransaction"});const O=n?$n(n):null;try{Yo(e);const k=await(async()=>{if(e.to)return e.to;if(e.to!==null&&s&&s.length>0)return await D_({authorization:s[0]}).catch(()=>{throw new _e("`to` is required. Could not infer from `authorizationList`.")})})();if(O?.type==="json-rpc"||O===null){let S;r!==null&&(S=await We(t,Zo,"getChainId")({}),eb({currentChainId:S,chain:r}));const A=t.chain?.formatters?.transactionRequest?.format,I=(A||gl)({...zp(E,{format:A}),accessList:i,account:O,authorizationList:s,blobs:a,chainId:S,data:c,gas:u,gasPrice:d,maxFeePerBlobGas:h,maxFeePerGas:p,maxPriorityFeePerGas:m,nonce:g,to:k,type:b,value:v},"sendTransaction"),$=_S.get(t.uid),z=$?"wallet_sendTransaction":"eth_sendTransaction";try{return await t.request({method:z,params:[I]},{retryCount:0})}catch(L){if($===!1)throw L;const B=L;if(B.name==="InvalidInputRpcError"||B.name==="InvalidParamsRpcError"||B.name==="MethodNotFoundRpcError"||B.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[I]},{retryCount:0}).then(V=>(_S.set(t.uid,!0),V)).catch(V=>{const D=V;throw D.name==="MethodNotFoundRpcError"||D.name==="MethodNotSupportedRpcError"?(_S.set(t.uid,!1),B):D});throw B}}if(O?.type==="local"){const S=await We(t,Fp,"prepareTransactionRequest")({account:O,accessList:i,authorizationList:s,blobs:a,chain:r,data:c,gas:u,gasPrice:d,maxFeePerBlobGas:h,maxFeePerGas:p,maxPriorityFeePerGas:m,nonce:g,nonceManager:O.nonceManager,parameters:[...pI,"sidecars"],type:b,value:v,...E,to:k}),A=r?.serializers?.transaction,C=await O.signTransaction(S,{serializer:A});return await We(t,H_,"sendRawTransaction")({serializedTransaction:C})}throw O?.type==="smart"?new Vd({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new Vd({docsPath:"/docs/actions/wallet/sendTransaction",type:O?.type})}catch(k){throw k instanceof Vd?k:G0(k,{...e,account:O,chain:e.chain||void 0})}}async function gp(t,e){return gp.internal(t,tb,"sendTransaction",e)}(function(t){async function e(n,r,i,s){const{abi:a,account:c=n.account,address:u,args:d,dataSuffix:h,functionName:p,...m}=s;if(typeof c>"u")throw new Xo({docsPath:"/docs/contract/writeContract"});const g=c?$n(c):null,b=Li({abi:a,args:d,functionName:p});try{return await We(n,r,i)({data:`${b}${h?h.replace("0x",""):""}`,to:u,account:g,...m})}catch(v){throw tf(v,{abi:a,address:u,args:d,docsPath:"/docs/contract/writeContract",functionName:p,sender:g?.address})}}t.internal=e})(gp||(gp={}));class Fne extends _e{constructor(e){super(`Call bundle failed with status: ${e.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=e}}function b1(t,{delay:e=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((i,s)=>{const a=async({count:c=0}={})=>{const u=async({error:d})=>{const h=typeof e=="function"?e({count:c,error:d}):e;h&&await AT(h),a({count:c+1})};try{const d=await t();i(d)}catch(d){if(c<n&&await r({count:c,error:d}))return u({error:d});s(d)}};a()})}const d7={"0x0":"reverted","0x1":"success"};function SI(t,e){const n={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(r=>qo(r)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?js(t.transactionIndex):null,status:t.status?d7[t.status]:null,type:t.type?IL[t.type]||t.type:null};return t.blobGasPrice&&(n.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(n.blobGasUsed=BigInt(t.blobGasUsed)),n}const f7=U_("transactionReceipt",SI),h7="0x5792579257925792579257925792579257925792579257925792579257925792",p7=$e(0,{size:32});async function y7(t,e){const{account:n=t.account,capabilities:r,chain:i=t.chain,experimental_fallback:s,experimental_fallbackDelay:a=32,forceAtomic:c=!1,id:u,version:d="2.0.0"}=e,h=n?$n(n):null,p=e.calls.map(m=>{const g=m,b=g.abi?Li({abi:g.abi,functionName:g.functionName,args:g.args}):g.data;return{data:g.dataSuffix&&b?va([b,g.dataSuffix]):b,to:g.to,value:g.value?$e(g.value):void 0}});try{const m=await t.request({method:"wallet_sendCalls",params:[{atomicRequired:c,calls:p,capabilities:r,chainId:$e(i.id),from:h?.address,id:u,version:d}]},{retryCount:0});return typeof m=="string"?{id:m}:m}catch(m){const g=m;if(s&&(g.name==="MethodNotFoundRpcError"||g.name==="MethodNotSupportedRpcError"||g.name==="UnknownRpcError"||g.details.toLowerCase().includes("does not exist / is not available")||g.details.toLowerCase().includes("missing or invalid. request()")||g.details.toLowerCase().includes("did not match any variant of untagged enum")||g.details.toLowerCase().includes("account upgraded to unsupported contract")||g.details.toLowerCase().includes("eip-7702 not supported")||g.details.toLowerCase().includes("unsupported wc_ method")||g.details.toLowerCase().includes("feature toggled misconfigured")||g.details.toLowerCase().includes("jsonrpcengine: response has no error or result for request"))){if(r&&Object.values(r).some(k=>!k.optional)){const k="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new yp(new _e(k,{details:k}))}if(c&&p.length>1){const O="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new mp(new _e(O,{details:O}))}const b=[];for(const O of p){const k=tb(t,{account:h,chain:i,data:O.data,to:O.to,value:O.value?ln(O.value):void 0});b.push(k),a>0&&await new Promise(S=>setTimeout(S,a))}const v=await Promise.allSettled(b);if(v.every(O=>O.status==="rejected"))throw v[0].reason;const E=v.map(O=>O.status==="fulfilled"?O.value:p7);return{id:va([...E,$e(i.id,{size:32}),h7])}}throw G0(m,{...e,account:h,chain:e.chain})}}async function m7(t,e){async function n(h){if(h.endsWith(h7.slice(2))){const m=Ls(oT(h,-64,-32)),g=oT(h,0,-64).slice(2).match(/.{1,64}/g),b=await Promise.all(g.map(E=>p7.slice(2)!==E?t.request({method:"eth_getTransactionReceipt",params:[`0x${E}`]},{dedupe:!0}):void 0)),v=b.some(E=>E===null)?100:b.every(E=>E?.status==="0x1")?200:b.every(E=>E?.status==="0x0")?500:600;return{atomic:!1,chainId:js(m),receipts:b.filter(Boolean),status:v,version:"2.0.0"}}return t.request({method:"wallet_getCallsStatus",params:[h]})}const{atomic:r=!1,chainId:i,receipts:s,version:a="2.0.0",...c}=await n(e.id),[u,d]=(()=>{const h=c.status;return h>=100&&h<200?["pending",h]:h>=200&&h<300?["success",h]:h>=300&&h<700?["failure",h]:h==="CONFIRMED"?["success",200]:h==="PENDING"?["pending",100]:[void 0,h]})();return{...c,atomic:r,chainId:i?js(i):void 0,receipts:s?.map(h=>({...h,blockNumber:ln(h.blockNumber),gasUsed:ln(h.gasUsed),status:d7[h.status]}))??[],statusCode:d,status:u,version:a}}async function g7(t,e){const{id:n,pollingInterval:r=t.pollingInterval,status:i=({statusCode:v})=>v===200||v>=300,retryCount:s=4,retryDelay:a=({count:v})=>~~(1<<v)*200,timeout:c=6e4,throwOnFailure:u=!1}=e,d=Nr(["waitForCallsStatus",t.uid,n]),{promise:h,resolve:p,reject:m}=AI();let g;const b=cl(d,{resolve:p,reject:m},v=>{const E=Wp(async()=>{const O=k=>{clearTimeout(g),E(),k(),b()};try{const k=await b1(async()=>{const S=await We(t,m7,"getCallsStatus")({id:n});if(u&&S.status==="failure")throw new Fne(S);return S},{retryCount:s,delay:a});if(!i(k))return;O(()=>v.resolve(k))}catch(k){O(()=>v.reject(k))}},{interval:r,emitOnBegin:!0});return E});return g=c?setTimeout(()=>{b(),clearTimeout(g),m(new qne({id:n}))},c):void 0,await h}class qne extends _e{constructor({id:e}){super(`Timed out while waiting for call bundle with id "${e}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}const ST=256;let Kw=ST,Yw;function b7(t=11){if(!Yw||Kw+t>ST*2){Yw="",Kw=0;for(let e=0;e<ST;e++)Yw+=(256+Math.random()*256|0).toString(16).substring(1)}return Yw.substring(Kw,Kw+++t)}function w7(t){const{batch:e,chain:n,ccipRead:r,key:i="base",name:s="Base Client",type:a="base"}=t,c=t.experimental_blockTag??(typeof n?.experimental_preconfirmationTime=="number"?"pending":void 0),u=n?.blockTime??12e3,d=Math.min(Math.max(Math.floor(u/2),500),4e3),h=t.pollingInterval??d,p=t.cacheTime??h,m=t.account?$n(t.account):void 0,{config:g,request:b,value:v}=t.transport({account:m,chain:n,pollingInterval:h}),E={...g,...v},O={account:m,batch:e,cacheTime:p,ccipRead:r,chain:n,key:i,name:s,pollingInterval:h,request:b,transport:E,type:a,uid:b7(),...c?{experimental_blockTag:c}:{}};function k(S){return A=>{const C=A(S);for(const $ in O)delete C[$];const I={...S,...C};return Object.assign(I,{extend:k(I)})}}return Object.assign(O,{extend:k(O)})}function xI(t){if(!(t instanceof _e))return!1;const e=t.walk(n=>n instanceof uT);return e instanceof uT?e.data?.errorName==="HttpError"||e.data?.errorName==="ResolverError"||e.data?.errorName==="ResolverNotContract"||e.data?.errorName==="ResolverNotFound"||e.data?.errorName==="ReverseAddressMismatch"||e.data?.errorName==="UnsupportedResolverProfile":!1}function Wne(t){const{abi:e,data:n}=t,r=Qd(n,0,4),i=e.find(s=>s.type==="function"&&r===z0(ro(s)));if(!i)throw new MQ(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:i.name,args:"inputs"in i&&i.inputs&&i.inputs.length>0?q0(i.inputs,Qd(n,4)):void 0}}const ES="/docs/contract/encodeErrorResult";function lN(t){const{abi:e,errorName:n,args:r}=t;let i=e[0];if(n){const u=vf({abi:e,args:r,name:n});if(!u)throw new N4(n,{docsPath:ES});i=u}if(i.type!=="error")throw new N4(void 0,{docsPath:ES});const s=ro(i),a=z0(s);let c="0x";if(r&&r.length>0){if(!i.inputs)throw new $Q(i.name,{docsPath:ES});c=Bu(i.inputs,r)}return Sa([a,c])}const AS="/docs/contract/encodeFunctionResult";function Vne(t){const{abi:e,functionName:n,result:r}=t;let i=e[0];if(n){const a=vf({abi:e,name:n});if(!a)throw new up(n,{docsPath:AS});i=a}if(i.type!=="function")throw new up(void 0,{docsPath:AS});if(!i.outputs)throw new WB(i.name,{docsPath:AS});const s=(()=>{if(i.outputs.length===0)return[];if(i.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new VB(r)})();return Bu(i.outputs,s)}const G_="x-batch-gateway:true";async function Hne(t){const{data:e,ccipRequest:n}=t,{args:[r]}=Wne({abi:_T,data:e}),i=[],s=[];return await Promise.all(r.map(async(a,c)=>{try{s[c]=a.urls.includes(G_)?await Hne({data:a.data,ccipRequest:n}):await n(a),i[c]=!1}catch(u){i[c]=!0,s[c]=Gne(u)}})),Vne({abi:_T,functionName:"query",result:[i,s]})}function Gne(t){return t.name==="HttpRequestError"&&t.status?lN({abi:_T,errorName:"HttpError",args:[t.status,t.shortMessage]}):lN({abi:[dL],errorName:"Error",args:["shortMessage"in t?t.shortMessage:t.message]})}function v7(t){if(t.length!==66||t.indexOf("[")!==0||t.indexOf("]")!==65)return null;const e=`0x${t.slice(1,65)}`;return $i(e)?e:null}function xT(t){let e=new Uint8Array(32).fill(0);if(!t)return Ar(e);const n=t.split(".");for(let r=n.length-1;r>=0;r-=1){const i=v7(n[r]),s=i?Qc(i):Hr(qd(n[r]),"bytes");e=Hr(va([e,s]),"bytes")}return Ar(e)}function Kne(t){return`[${t.slice(2)}]`}function Yne(t){const e=new Uint8Array(32).fill(0);return t?v7(t)||Hr(qd(t)):Ar(e)}function TI(t){const e=t.replace(/^\.|\.$/gm,"");if(e.length===0)return new Uint8Array(1);const n=new Uint8Array(qd(e).byteLength+2);let r=0;const i=e.split(".");for(let s=0;s<i.length;s++){let a=qd(i[s]);a.byteLength>255&&(a=qd(Kne(Yne(i[s])))),n[r]=a.length,n.set(a,r+1),r+=a.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function Zne(t,e){const{blockNumber:n,blockTag:r,coinType:i,name:s,gatewayUrls:a,strict:c}=e,{chain:u}=t,d=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!u)throw new Error("client chain not configured. universalResolverAddress is required.");return qp({blockNumber:n,chain:u,contract:"ensUniversalResolver"})})(),h=u?.ensTlds;if(h&&!h.some(m=>s.endsWith(m)))return null;const p=i!=null?[xT(s),BigInt(i)]:[xT(s)];try{const m=Li({abi:aN,functionName:"addr",args:p}),g={address:d,abi:i7,functionName:"resolveWithGateways",args:[xt(TI(s)),m,a??[G_]],blockNumber:n,blockTag:r},v=await We(t,ao,"readContract")(g);if(v[0]==="0x")return null;const E=_f({abi:aN,args:p,functionName:"addr",data:v[0]});return E==="0x"||Ls(E)==="0x00"?null:E}catch(m){if(c)throw m;if(xI(m))return null;throw m}}class Xne extends _e{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}}class Jy extends _e{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}}class II extends _e{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class Jne extends _e{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const Qne=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,ere=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,tre=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,nre=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function rre(t){try{const e=await fetch(t,{method:"HEAD"});return e.status===200?e.headers.get("content-type")?.startsWith("image/"):!1}catch(e){return typeof e=="object"&&typeof e.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=t})}}function uN(t,e){return t?t.endsWith("/")?t.slice(0,-1):t:e}function _7({uri:t,gatewayUrls:e}){const n=tre.test(t);if(n)return{uri:t,isOnChain:!0,isEncoded:n};const r=uN(e?.ipfs,"https://ipfs.io"),i=uN(e?.arweave,"https://arweave.net"),s=t.match(Qne),{protocol:a,subpath:c,target:u,subtarget:d=""}=s?.groups||{},h=a==="ipns:/"||c==="ipns/",p=a==="ipfs:/"||c==="ipfs/"||ere.test(t);if(t.startsWith("http")&&!h&&!p){let g=t;return e?.arweave&&(g=t.replace(/https:\/\/arweave.net/g,e?.arweave)),{uri:g,isOnChain:!1,isEncoded:!1}}if((h||p)&&u)return{uri:`${r}/${h?"ipns":"ipfs"}/${u}${d}`,isOnChain:!1,isEncoded:!1};if(a==="ar:/"&&u)return{uri:`${i}/${u}${d||""}`,isOnChain:!1,isEncoded:!1};let m=t.replace(nre,"");if(m.startsWith("<svg")&&(m=`data:image/svg+xml;base64,${btoa(m)}`),m.startsWith("data:")||m.startsWith("{"))return{uri:m,isOnChain:!0,isEncoded:!1};throw new II({uri:t})}function E7(t){if(typeof t!="object"||!("image"in t)&&!("image_url"in t)&&!("image_data"in t))throw new Xne({data:t});return t.image||t.image_url||t.image_data}async function ire({gatewayUrls:t,uri:e}){try{const n=await fetch(e).then(i=>i.json());return await CI({gatewayUrls:t,uri:E7(n)})}catch{throw new II({uri:e})}}async function CI({gatewayUrls:t,uri:e}){const{uri:n,isOnChain:r}=_7({uri:e,gatewayUrls:t});if(r||await rre(n))return n;throw new II({uri:e})}function sre(t){let e=t;e.startsWith("did:nft:")&&(e=e.replace("did:nft:","").replace(/_/g,"/"));const[n,r,i]=e.split("/"),[s,a]=n.split(":"),[c,u]=r.split(":");if(!s||s.toLowerCase()!=="eip155")throw new Jy({reason:"Only EIP-155 supported"});if(!a)throw new Jy({reason:"Chain ID not found"});if(!u)throw new Jy({reason:"Contract address not found"});if(!i)throw new Jy({reason:"Token ID not found"});if(!c)throw new Jy({reason:"ERC namespace not found"});return{chainID:Number.parseInt(a,10),namespace:c.toLowerCase(),contractAddress:u,tokenID:i}}async function are(t,{nft:e}){if(e.namespace==="erc721")return ao(t,{address:e.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(e.tokenID)]});if(e.namespace==="erc1155")return ao(t,{address:e.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(e.tokenID)]});throw new Jne({namespace:e.namespace})}async function ore(t,{gatewayUrls:e,record:n}){return/eip155:/i.test(n)?cre(t,{gatewayUrls:e,record:n}):CI({uri:n,gatewayUrls:e})}async function cre(t,{gatewayUrls:e,record:n}){const r=sre(n),i=await are(t,{nft:r}),{uri:s,isOnChain:a,isEncoded:c}=_7({uri:i,gatewayUrls:e});if(a&&(s.includes("data:application/json;base64,")||s.startsWith("{"))){const d=c?atob(s.replace("data:application/json;base64,","")):s,h=JSON.parse(d);return CI({uri:E7(h),gatewayUrls:e})}let u=r.tokenID;return r.namespace==="erc1155"&&(u=u.replace("0x","").padStart(64,"0")),ire({gatewayUrls:e,uri:s.replace(/(?:0x)?{id}/,u)})}async function A7(t,e){const{blockNumber:n,blockTag:r,key:i,name:s,gatewayUrls:a,strict:c}=e,{chain:u}=t,d=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!u)throw new Error("client chain not configured. universalResolverAddress is required.");return qp({blockNumber:n,chain:u,contract:"ensUniversalResolver"})})(),h=u?.ensTlds;if(h&&!h.some(p=>s.endsWith(p)))return null;try{const p={address:d,abi:i7,args:[xt(TI(s)),Li({abi:sN,functionName:"text",args:[xT(s),i]}),a??[G_]],functionName:"resolveWithGateways",blockNumber:n,blockTag:r},g=await We(t,ao,"readContract")(p);if(g[0]==="0x")return null;const b=_f({abi:sN,functionName:"text",data:g[0]});return b===""?null:b}catch(p){if(c)throw p;if(xI(p))return null;throw p}}async function lre(t,{blockNumber:e,blockTag:n,assetGatewayUrls:r,name:i,gatewayUrls:s,strict:a,universalResolverAddress:c}){const u=await We(t,A7,"getEnsText")({blockNumber:e,blockTag:n,key:"avatar",name:i,universalResolverAddress:c,gatewayUrls:s,strict:a});if(!u)return null;try{return await ore(t,{record:u,gatewayUrls:r})}catch{return null}}async function ure(t,e){const{address:n,blockNumber:r,blockTag:i,coinType:s=60n,gatewayUrls:a,strict:c}=e,{chain:u}=t,d=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!u)throw new Error("client chain not configured. universalResolverAddress is required.");return qp({blockNumber:r,chain:u,contract:"ensUniversalResolver"})})();try{const h={address:d,abi:Sne,args:[n,s,a??[G_]],functionName:"reverseWithGateways",blockNumber:r,blockTag:i},p=We(t,ao,"readContract"),[m]=await p(h);return m||null}catch(h){if(c)throw h;if(xI(h))return null;throw h}}async function dre(t,e){const{blockNumber:n,blockTag:r,name:i}=e,{chain:s}=t,a=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!s)throw new Error("client chain not configured. universalResolverAddress is required.");return qp({blockNumber:n,chain:s,contract:"ensUniversalResolver"})})(),c=s?.ensTlds;if(c&&!c.some(d=>i.endsWith(d)))throw new Error(`${i} is not a valid ENS TLD (${c?.join(", ")}) for chain "${s.name}" (id: ${s.id}).`);const[u]=await We(t,ao,"readContract")({address:a,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[xt(TI(i))],blockNumber:n,blockTag:r});return u}async function S7(t,e){const{account:n=t.account,blockNumber:r,blockTag:i="latest",blobs:s,data:a,gas:c,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:h,maxPriorityFeePerGas:p,to:m,value:g,...b}=e,v=n?$n(n):void 0;try{Yo(e);const O=(typeof r=="bigint"?$e(r):void 0)||i,k=t.chain?.formatters?.transactionRequest?.format,A=(k||gl)({...zp(b,{format:k}),account:v,blobs:s,data:a,gas:c,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:h,maxPriorityFeePerGas:p,to:m,value:g},"createAccessList"),C=await t.request({method:"eth_createAccessList",params:[A,O]});return{accessList:C.accessList,gasUsed:BigInt(C.gasUsed)}}catch(E){throw c7(E,{...e,account:v,chain:t.chain})}}async function fre(t){const e=$_(t,{method:"eth_newBlockFilter"}),n=await t.request({method:"eth_newBlockFilter"});return{id:n,request:e(n),type:"block"}}async function x7(t,{address:e,args:n,event:r,events:i,fromBlock:s,strict:a,toBlock:c}={}){const u=i??(r?[r]:void 0),d=$_(t,{method:"eth_newFilter"});let h=[];u&&(h=[u.flatMap(g=>F0({abi:[g],eventName:g.name,args:n}))],r&&(h=h[0]));const p=await t.request({method:"eth_newFilter",params:[{address:e,fromBlock:typeof s=="bigint"?$e(s):s,toBlock:typeof c=="bigint"?$e(c):c,...h.length?{topics:h}:{}}]});return{abi:u,args:n,eventName:r?r.name:void 0,fromBlock:s,id:p,request:d(p),strict:!!a,toBlock:c,type:"event"}}async function T7(t){const e=$_(t,{method:"eth_newPendingTransactionFilter"}),n=await t.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:e(n),type:"transaction"}}async function hre(t,{address:e,blockNumber:n,blockTag:r=t.experimental_blockTag??"latest"}){const i=typeof n=="bigint"?$e(n):void 0,s=await t.request({method:"eth_getBalance",params:[e,i||r]});return BigInt(s)}async function pre(t){const e=await t.request({method:"eth_blobBaseFee"});return BigInt(e)}async function yre(t,{blockHash:e,blockNumber:n,blockTag:r="latest"}={}){const i=n!==void 0?$e(n):void 0;let s;return e?s=await t.request({method:"eth_getBlockTransactionCountByHash",params:[e]},{dedupe:!0}):s=await t.request({method:"eth_getBlockTransactionCountByNumber",params:[i||r]},{dedupe:!!i}),js(s)}async function TT(t,{address:e,blockNumber:n,blockTag:r="latest"}){const i=n!==void 0?$e(n):void 0,s=await t.request({method:"eth_getCode",params:[e,i||r]},{dedupe:!!i});if(s!=="0x")return s}class mre extends _e{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function gre(t,e){const{address:n,factory:r,factoryData:i}=e;try{const[s,a,c,u,d,h,p]=await We(t,ao,"readContract")({abi:bre,address:n,functionName:"eip712Domain",factory:r,factoryData:i});return{domain:{name:a,version:c,chainId:Number(u),verifyingContract:d,salt:h},extensions:p,fields:s}}catch(s){const a=s;throw a.name==="ContractFunctionExecutionError"&&a.cause.name==="ContractFunctionZeroDataError"?new mre({address:n}):a}}const bre=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function wre(t){return{baseFeePerGas:t.baseFeePerGas.map(e=>BigInt(e)),gasUsedRatio:t.gasUsedRatio,oldestBlock:BigInt(t.oldestBlock),reward:t.reward?.map(e=>e.map(n=>BigInt(n)))}}async function vre(t,{blockCount:e,blockNumber:n,blockTag:r="latest",rewardPercentiles:i}){const s=typeof n=="bigint"?$e(n):void 0,a=await t.request({method:"eth_feeHistory",params:[$e(e),s||r,i]},{dedupe:!!s});return wre(a)}async function _re(t,{filter:e}){const n=e.strict??!1,i=(await e.request({method:"eth_getFilterLogs",params:[e.id]})).map(s=>qo(s));return e.abi?mI({abi:e.abi,logs:i,strict:n}):i}function Ere(t){const{authorizationList:e}=t;if(e)for(const n of e){const{chainId:r}=n,i=n.address;if(!Nn(i))throw new Er({address:i});if(r<0)throw new J0({chainId:r})}OI(t)}function Are(t){const{blobVersionedHashes:e}=t;if(e){if(e.length===0)throw new UL;for(const n of e){const r=Kn(n),i=js(Qd(n,0,1));if(r!==32)throw new jte({hash:n,size:r});if(i!==ML)throw new zte({hash:n,version:i})}}OI(t)}function OI(t){const{chainId:e,maxPriorityFeePerGas:n,maxFeePerGas:r,to:i}=t;if(e<=0)throw new J0({chainId:e});if(i&&!Nn(i))throw new Er({address:i});if(r&&r>B_)throw new nf({maxFeePerGas:r});if(n&&r&&n>r)throw new o0({maxFeePerGas:r,maxPriorityFeePerGas:n})}function Sre(t){const{chainId:e,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:i,to:s}=t;if(e<=0)throw new J0({chainId:e});if(s&&!Nn(s))throw new Er({address:s});if(n||i)throw new _e("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(r&&r>B_)throw new nf({maxFeePerGas:r})}function xre(t){const{chainId:e,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:i,to:s}=t;if(s&&!Nn(s))throw new Er({address:s});if(typeof e<"u"&&e<=0)throw new J0({chainId:e});if(n||i)throw new _e("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(r&&r>B_)throw new nf({maxFeePerGas:r})}function K_(t){if(!t||t.length===0)return[];const e=[];for(let n=0;n<t.length;n++){const{address:r,storageKeys:i}=t[n];for(let s=0;s<i.length;s++)if(i[s].length-2!==64)throw new cte({storageKey:i[s]});if(!Nn(r,{strict:!1}))throw new Er({address:r});e.push([r,i])}return e}function kI(t,e){const n=LL(t);return n==="eip1559"?Cre(t,e):n==="eip2930"?Ore(t,e):n==="eip4844"?Ire(t,e):n==="eip7702"?Tre(t,e):kre(t,e)}function Tre(t,e){const{authorizationList:n,chainId:r,gas:i,nonce:s,to:a,value:c,maxFeePerGas:u,maxPriorityFeePerGas:d,accessList:h,data:p}=t;Ere(t);const m=K_(h),g=Rre(n);return Sa(["0x04",ol([$e(r),s?$e(s):"0x",d?$e(d):"0x",u?$e(u):"0x",i?$e(i):"0x",a??"0x",c?$e(c):"0x",p??"0x",m,g,...nb(t,e)])])}function Ire(t,e){const{chainId:n,gas:r,nonce:i,to:s,value:a,maxFeePerBlobGas:c,maxFeePerGas:u,maxPriorityFeePerGas:d,accessList:h,data:p}=t;Are(t);let m=t.blobVersionedHashes,g=t.sidecars;if(t.blobs&&(typeof m>"u"||typeof g>"u")){const S=typeof t.blobs[0]=="string"?t.blobs:t.blobs.map(I=>Ar(I)),A=t.kzg,C=uI({blobs:S,kzg:A});if(typeof m>"u"&&(m=$L({commitments:C})),typeof g>"u"){const I=dI({blobs:S,commitments:C,kzg:A});g=BL({blobs:S,commitments:C,proofs:I})}}const b=K_(h),v=[$e(n),i?$e(i):"0x",d?$e(d):"0x",u?$e(u):"0x",r?$e(r):"0x",s??"0x",a?$e(a):"0x",p??"0x",b,c?$e(c):"0x",m??[],...nb(t,e)],E=[],O=[],k=[];if(g)for(let S=0;S<g.length;S++){const{blob:A,commitment:C,proof:I}=g[S];E.push(A),O.push(C),k.push(I)}return Sa(["0x03",ol(g?[v,E,O,k]:v)])}function Cre(t,e){const{chainId:n,gas:r,nonce:i,to:s,value:a,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:d,data:h}=t;OI(t);const p=K_(d),m=[$e(n),i?$e(i):"0x",u?$e(u):"0x",c?$e(c):"0x",r?$e(r):"0x",s??"0x",a?$e(a):"0x",h??"0x",p,...nb(t,e)];return Sa(["0x02",ol(m)])}function Ore(t,e){const{chainId:n,gas:r,data:i,nonce:s,to:a,value:c,accessList:u,gasPrice:d}=t;Sre(t);const h=K_(u),p=[$e(n),s?$e(s):"0x",d?$e(d):"0x",r?$e(r):"0x",a??"0x",c?$e(c):"0x",i??"0x",h,...nb(t,e)];return Sa(["0x01",ol(p)])}function kre(t,e){const{chainId:n=0,gas:r,data:i,nonce:s,to:a,value:c,gasPrice:u}=t;xre(t);let d=[s?$e(s):"0x",u?$e(u):"0x",r?$e(r):"0x",a??"0x",c?$e(c):"0x",i??"0x"];if(e){const h=(()=>{if(e.v>=35n)return(e.v-35n)/2n>0?e.v:27n+(e.v===35n?0n:1n);if(n>0)return BigInt(n*2)+BigInt(35n+e.v-27n);const g=27n+(e.v===27n?0n:1n);if(e.v!==g)throw new ate({v:e.v});return g})(),p=Ls(e.r),m=Ls(e.s);d=[...d,$e(h),p==="0x00"?"0x":p,m==="0x00"?"0x":m]}else n>0&&(d=[...d,$e(n),"0x","0x"]);return ol(d)}function nb(t,e){const n=e??t,{v:r,yParity:i}=n;if(typeof n.r>"u")return[];if(typeof n.s>"u")return[];if(typeof r>"u"&&typeof i>"u")return[];const s=Ls(n.r),a=Ls(n.s);return[typeof i=="number"?i?$e(1):"0x":r===0n?"0x":r===1n?$e(1):r===27n?"0x":$e(1),s==="0x00"?"0x":s,a==="0x00"?"0x":a]}function Rre(t){if(!t||t.length===0)return[];const e=[];for(const n of t){const{chainId:r,nonce:i,...s}=n,a=n.address;e.push([r?xt(r):"0x",a,i?xt(i):"0x",...nb({},s)])}return e}async function Nre({address:t,authorization:e,signature:n}){return K0(li(t),await D_({authorization:e,signature:n}))}const Zw=new jp(8192);function $re(t,{enabled:e=!0,id:n}){if(!e||!n)return t();if(Zw.get(n))return Zw.get(n);const r=t().finally(()=>Zw.delete(n));return Zw.set(n,r),r}function Pre(t,e={}){return async(n,r={})=>{const{dedupe:i=!1,methods:s,retryDelay:a=150,retryCount:c=3,uid:u}={...e,...r},{method:d}=n;if(s?.exclude?.includes(d))throw new Pd(new Error("method not supported"),{method:d});if(s?.include&&!s.include.includes(d))throw new Pd(new Error("method not supported"),{method:d});const h=i?dp(`${u}.${Nr(n)}`):void 0;return $re(()=>b1(async()=>{try{return await t(n)}catch(p){const m=p;switch(m.code){case qg.code:throw new qg(m);case Wg.code:throw new Wg(m);case Vg.code:throw new Vg(m,{method:n.method});case Hg.code:throw new Hg(m);case ef.code:throw new ef(m);case Ru.code:throw new Ru(m);case Gg.code:throw new Gg(m);case Kg.code:throw new Kg(m);case Yg.code:throw new Yg(m);case Pd.code:throw new Pd(m,{method:n.method});case pp.code:throw new pp(m);case Zg.code:throw new Zg(m);case Qh.code:throw new Qh(m);case Xg.code:throw new Xg(m);case Jg.code:throw new Jg(m);case Qg.code:throw new Qg(m);case e0.code:throw new e0(m);case t0.code:throw new t0(m);case yp.code:throw new yp(m);case n0.code:throw new n0(m);case r0.code:throw new r0(m);case i0.code:throw new i0(m);case s0.code:throw new s0(m);case a0.code:throw new a0(m);case mp.code:throw new mp(m);case 5e3:throw new Qh(m);default:throw p instanceof _e?p:new yte(m)}}},{delay:({count:p,error:m})=>{if(m&&m instanceof Sg){const g=m?.headers?.get("Retry-After");if(g?.match(/\d/))return Number.parseInt(g,10)*1e3}return~~(1<<p)*a},retryCount:c,shouldRetry:({error:p})=>Dre(p)}),{enabled:i,id:h})}}function Dre(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===pp.code||t.code===ef.code:t instanceof Sg&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function di(t){const e={formatters:void 0,fees:void 0,serializers:void 0,...t};function n(r){return i=>{const s=typeof i=="function"?i(r):i,a={...r,...s};return Object.assign(a,{extend:n(a)})}}return Object.assign(e,{extend:n(e)})}function Mre(t,{errorInstance:e=new Error("timed out"),timeout:n,signal:r}){return new Promise((i,s)=>{(async()=>{let a;try{const c=new AbortController;n>0&&(a=setTimeout(()=>{r&&c.abort()},n)),i(await t({signal:c?.signal||null}))}catch(c){c?.name==="AbortError"&&s(e),s(c)}finally{clearTimeout(a)}})()})}function Ure(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const dN=Ure();function Bre(t,e={}){return{async request(n){const{body:r,fetchFn:i=e.fetchFn??fetch,onRequest:s=e.onRequest,onResponse:a=e.onResponse,timeout:c=e.timeout??1e4}=n,u={...e.fetchOptions??{},...n.fetchOptions??{}},{headers:d,method:h,signal:p}=u;try{const m=await Mre(async({signal:b})=>{const v={...u,body:Array.isArray(r)?Nr(r.map(S=>({jsonrpc:"2.0",id:S.id??dN.take(),...S}))):Nr({jsonrpc:"2.0",id:r.id??dN.take(),...r}),headers:{"Content-Type":"application/json",...d},method:h||"POST",signal:p||(c>0?b:null)},E=new Request(t,v),O=await s?.(E,v)??{...v,url:t};return await i(O.url??t,O)},{errorInstance:new H4({body:r,url:t}),timeout:c,signal:!0});a&&await a(m);let g;if(m.headers.get("Content-Type")?.startsWith("application/json"))g=await m.json();else{g=await m.text();try{g=JSON.parse(g||"{}")}catch(b){if(m.ok)throw b;g={error:g}}}if(!m.ok)throw new Sg({body:r,details:Nr(g.error)||m.statusText,headers:m.headers,status:m.status,url:t});return g}catch(m){throw m instanceof Sg||m instanceof H4?m:new Sg({body:r,cause:m,url:t})}}}}const Lre=`Ethereum Signed Message:
`;function jre(t){const e=typeof t=="string"?dp(t):typeof t.raw=="string"?t.raw:Ar(t.raw),n=dp(`${Lre}${Kn(e)}`);return va([n,e])}function RI(t,e){return Hr(jre(t),e)}class zre extends _e{constructor({domain:e}){super(`Invalid domain "${Nr(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class Fre extends _e{constructor({primaryType:e,types:n}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class qre extends _e{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function Wre(t){const{domain:e,message:n,primaryType:r,types:i}=t,s=(u,d)=>{const h={...d};for(const p of u){const{name:m,type:g}=p;g==="address"&&(h[m]=h[m].toLowerCase())}return h},a=i.EIP712Domain?e?s(i.EIP712Domain,e):{}:{},c=(()=>{if(r!=="EIP712Domain")return s(i[r],n)})();return Nr({domain:a,message:c,primaryType:r,types:i})}function I7(t){const{domain:e,message:n,primaryType:r,types:i}=t,s=(a,c)=>{for(const u of a){const{name:d,type:h}=u,p=c[d],m=h.match(cL);if(m&&(typeof p=="number"||typeof p=="bigint")){const[v,E,O]=m;$e(p,{signed:E==="int",size:Number.parseInt(O,10)/8})}if(h==="address"&&typeof p=="string"&&!Nn(p))throw new Er({address:p});const g=h.match(kee);if(g){const[v,E]=g;if(E&&Kn(p)!==Number.parseInt(E,10))throw new BQ({expectedSize:Number.parseInt(E,10),givenSize:Kn(p)})}const b=i[h];b&&(Vre(h),s(b,p))}};if(i.EIP712Domain&&e){if(typeof e!="object")throw new zre({domain:e});s(i.EIP712Domain,e)}if(r!=="EIP712Domain")if(i[r])s(i[r],n);else throw new Fre({primaryType:r,types:i})}function C7({domain:t}){return[typeof t?.name=="string"&&{name:"name",type:"string"},t?.version&&{name:"version",type:"string"},(typeof t?.chainId=="number"||typeof t?.chainId=="bigint")&&{name:"chainId",type:"uint256"},t?.verifyingContract&&{name:"verifyingContract",type:"address"},t?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function Vre(t){if(t==="address"||t==="bool"||t==="string"||t.startsWith("bytes")||t.startsWith("uint")||t.startsWith("int"))throw new qre({type:t})}function O7(t){const{domain:e={},message:n,primaryType:r}=t,i={EIP712Domain:C7({domain:e}),...t.types};I7({domain:e,message:n,primaryType:r,types:i});const s=["0x1901"];return e&&s.push(Hre({domain:e,types:i})),r!=="EIP712Domain"&&s.push(k7({data:n,primaryType:r,types:i})),Hr(va(s))}function Hre({domain:t,types:e}){return k7({data:t,primaryType:"EIP712Domain",types:e})}function k7({data:t,primaryType:e,types:n}){const r=R7({data:t,primaryType:e,types:n});return Hr(r)}function R7({data:t,primaryType:e,types:n}){const r=[{type:"bytes32"}],i=[Gre({primaryType:e,types:n})];for(const s of n[e]){const[a,c]=$7({types:n,name:s.name,type:s.type,value:t[s.name]});r.push(a),i.push(c)}return Bu(r,i)}function Gre({primaryType:t,types:e}){const n=xt(Kre({primaryType:t,types:e}));return Hr(n)}function Kre({primaryType:t,types:e}){let n="";const r=N7({primaryType:t,types:e});r.delete(t);const i=[t,...Array.from(r).sort()];for(const s of i)n+=`${s}(${e[s].map(({name:a,type:c})=>`${c} ${a}`).join(",")})`;return n}function N7({primaryType:t,types:e},n=new Set){const i=t.match(/^\w*/u)?.[0];if(n.has(i)||e[i]===void 0)return n;n.add(i);for(const s of e[i])N7({primaryType:s.type,types:e},n);return n}function $7({types:t,name:e,type:n,value:r}){if(t[n]!==void 0)return[{type:"bytes32"},Hr(R7({data:r,primaryType:n,types:t}))];if(n==="bytes")return[{type:"bytes32"},Hr(r)];if(n==="string")return[{type:"bytes32"},Hr(xt(r))];if(n.lastIndexOf("]")===n.length-1){const i=n.slice(0,n.lastIndexOf("[")),s=r.map(a=>$7({name:e,type:i,types:t,value:a}));return[{type:"bytes32"},Hr(Bu(s.map(([a])=>a),s.map(([,a])=>a)))]}return[{type:n},r]}const GBe="0x6492649264926492649264926492649264926492649264926492649264926492",fN="0x0000000000000000000000000000000000000000000000000000000000000000";let Yre=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const Zre={checksum:new Yre(8192)},SS=Zre.checksum;function P7(t,e={}){const{as:n=typeof t=="string"?"Hex":"Bytes"}=e,r=rL(ine(t));return n==="Bytes"?r:so(r)}const Xre=/^0x[a-fA-F0-9]{40}$/;function Y_(t,e={}){const{strict:n=!0}=e;if(!Xre.test(t))throw new hN({address:t,cause:new Jre});if(n){if(t.toLowerCase()===t)return;if(D7(t)!==t)throw new hN({address:t,cause:new Qre})}}function D7(t){if(SS.has(t))return SS.get(t);Y_(t,{strict:!1});const e=t.substring(2).toLowerCase(),n=P7(ane(e),{as:"Bytes"}),r=e.split("");for(let s=0;s<40;s+=2)n[s>>1]>>4>=8&&r[s]&&(r[s]=r[s].toUpperCase()),(n[s>>1]&15)>=8&&r[s+1]&&(r[s+1]=r[s+1].toUpperCase());const i=`0x${r.join("")}`;return SS.set(t,i),i}function IT(t,e={}){const{strict:n=!0}=e??{};try{return Y_(t,{strict:n}),!0}catch{return!1}}let hN=class extends Ut{constructor({address:e,cause:n}){super(`Address "${e}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}},Jre=class extends Ut{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}},Qre=class extends Ut{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}};const eie=/^(.*)\[([0-9]*)\]$/,tie=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,M7=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,pN=2n**256n-1n;function tp(t,e,n){const{checksumAddress:r,staticPosition:i}=n,s=PI(e.type);if(s){const[a,c]=s;return rie(t,{...e,type:c},{checksumAddress:r,length:a,staticPosition:i})}if(e.type==="tuple")return oie(t,e,{checksumAddress:r,staticPosition:i});if(e.type==="address")return nie(t,{checksum:r});if(e.type==="bool")return iie(t);if(e.type.startsWith("bytes"))return sie(t,e,{staticPosition:i});if(e.type.startsWith("uint")||e.type.startsWith("int"))return aie(t,e);if(e.type==="string")return cie(t,{staticPosition:i});throw new MI(e.type)}const yN=32,CT=32;function nie(t,e={}){const{checksum:n=!1}=e,r=t.readBytes(32);return[(s=>n?D7(s):s)(so(cne(r,-20))),32]}function rie(t,e,n){const{checksumAddress:r,length:i,staticPosition:s}=n;if(!i){const u=tl(t.readBytes(CT)),d=s+u,h=d+yN;t.setPosition(d);const p=tl(t.readBytes(yN)),m=u0(e);let g=0;const b=[];for(let v=0;v<p;++v){t.setPosition(h+(m?v*32:g));const[E,O]=tp(t,e,{checksumAddress:r,staticPosition:h});g+=O,b.push(E)}return t.setPosition(s+32),[b,32]}if(u0(e)){const u=tl(t.readBytes(CT)),d=s+u,h=[];for(let p=0;p<i;++p){t.setPosition(d+p*32);const[m]=tp(t,e,{checksumAddress:r,staticPosition:d});h.push(m)}return t.setPosition(s+32),[h,32]}let a=0;const c=[];for(let u=0;u<i;++u){const[d,h]=tp(t,e,{checksumAddress:r,staticPosition:s+a});a+=h,c.push(d)}return[c,a]}function iie(t){return[une(t.readBytes(32),{size:32}),32]}function sie(t,e,{staticPosition:n}){const[r,i]=e.type.split("bytes");if(!i){const a=tl(t.readBytes(32));t.setPosition(n+a);const c=tl(t.readBytes(32));if(c===0)return t.setPosition(n+32),["0x",32];const u=t.readBytes(c);return t.setPosition(n+32),[so(u),32]}return[so(t.readBytes(Number.parseInt(i,10),32)),32]}function aie(t,e){const n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256",10),i=t.readBytes(32);return[r>48?lne(i,{signed:n}):tl(i,{signed:n}),32]}function oie(t,e,n){const{checksumAddress:r,staticPosition:i}=n,s=e.components.length===0||e.components.some(({name:u})=>!u),a=s?[]:{};let c=0;if(u0(e)){const u=tl(t.readBytes(CT)),d=i+u;for(let h=0;h<e.components.length;++h){const p=e.components[h];t.setPosition(d+c);const[m,g]=tp(t,p,{checksumAddress:r,staticPosition:d});c+=g,a[s?h:p?.name]=m}return t.setPosition(i+32),[a,32]}for(let u=0;u<e.components.length;++u){const d=e.components[u],[h,p]=tp(t,d,{checksumAddress:r,staticPosition:i});a[s?u:d?.name]=h,c+=p}return[a,c]}function cie(t,{staticPosition:e}){const n=tl(t.readBytes(32)),r=e+n;t.setPosition(r);const i=tl(t.readBytes(32));if(i===0)return t.setPosition(e+32),["",32];const s=t.readBytes(i,32),a=dne(ZL(s));return t.setPosition(e+32),[a,32]}function lie({checksumAddress:t,parameters:e,values:n}){const r=[];for(let i=0;i<e.length;i++)r.push(NI({checksumAddress:t,parameter:e[i],value:n[i]}));return r}function NI({checksumAddress:t=!1,parameter:e,value:n}){const r=e,i=PI(r.type);if(i){const[s,a]=i;return die(n,{checksumAddress:t,length:s,parameter:{...r,type:a}})}if(r.type==="tuple")return mie(n,{checksumAddress:t,parameter:r});if(r.type==="address")return uie(n,{checksum:t});if(r.type==="bool")return hie(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const s=r.type.startsWith("int"),[,,a="256"]=M7.exec(r.type)??[];return pie(n,{signed:s,size:Number(a)})}if(r.type.startsWith("bytes"))return fie(n,{type:r.type});if(r.type==="string")return yie(n);throw new MI(r.type)}function $I(t){let e=0;for(let s=0;s<t.length;s++){const{dynamic:a,encoded:c}=t[s];a?e+=32:e+=zs(c)}const n=[],r=[];let i=0;for(let s=0;s<t.length;s++){const{dynamic:a,encoded:c}=t[s];a?(n.push(Ni(e+i,{size:32})),r.push(c),i+=zs(c)):n.push(c)}return io(...n,...r)}function uie(t,e){const{checksum:n=!1}=e;return Y_(t,{strict:n}),{dynamic:!1,encoded:rf(t.toLowerCase())}}function die(t,e){const{checksumAddress:n,length:r,parameter:i}=e,s=r===null;if(!Array.isArray(t))throw new xie(t);if(!s&&t.length!==r)throw new Sie({expectedLength:r,givenLength:t.length,type:`${i.type}[${r}]`});let a=!1;const c=[];for(let u=0;u<t.length;u++){const d=NI({checksumAddress:n,parameter:i,value:t[u]});d.dynamic&&(a=!0),c.push(d)}if(s||a){const u=$I(c);if(s){const d=Ni(c.length,{size:32});return{dynamic:!0,encoded:c.length>0?io(d,u):d}}if(a)return{dynamic:!0,encoded:u}}return{dynamic:!1,encoded:io(...c.map(({encoded:u})=>u))}}function fie(t,{type:e}){const[,n]=e.split("bytes"),r=zs(t);if(!n){let i=t;return r%32!==0&&(i=sf(i,Math.ceil((t.length-2)/2/32)*32)),{dynamic:!0,encoded:io(rf(Ni(r,{size:32})),i)}}if(r!==Number.parseInt(n,10))throw new B7({expectedSize:Number.parseInt(n,10),value:t});return{dynamic:!1,encoded:sf(t)}}function hie(t){if(typeof t!="boolean")throw new Ut(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:rf(XL(t))}}function pie(t,{signed:e,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,i=e?-r-1n:0n;if(t>r||t<i)throw new e7({max:r.toString(),min:i.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:Ni(t,{size:32,signed:e})}}function yie(t){const e=_I(t),n=Math.ceil(zs(e)/32),r=[];for(let i=0;i<n;i++)r.push(sf(Uo(e,i*32,(i+1)*32)));return{dynamic:!0,encoded:io(sf(Ni(zs(e),{size:32})),...r)}}function mie(t,e){const{checksumAddress:n,parameter:r}=e;let i=!1;const s=[];for(let a=0;a<r.components.length;a++){const c=r.components[a],u=Array.isArray(t)?a:c.name,d=NI({checksumAddress:n,parameter:c,value:t[u]});s.push(d),d.dynamic&&(i=!0)}return{dynamic:i,encoded:i?$I(s):io(...s.map(({encoded:a})=>a))}}function PI(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function u0(t){const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return t.components?.some(u0);const n=PI(t.type);return!!(n&&u0({...t,type:n[1]}))}const gie={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new vie({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new wie({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new mN({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new mN({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function bie(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(gie);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}class mN extends Ut{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class wie extends Ut{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class vie extends Ut{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function _ie(t,e,n={}){const{as:r="Array",checksumAddress:i=!1}=n,s=typeof e=="string"?YL(e):e,a=bie(s);if(zh(s)===0&&t.length>0)throw new Aie;if(zh(s)&&zh(s)<32)throw new Eie({data:typeof e=="string"?e:so(e),parameters:t,size:zh(s)});let c=0;const u=r==="Array"?[]:{};for(let d=0;d<t.length;++d){const h=t[d];a.setPosition(c);const[p,m]=tp(a,h,{checksumAddress:i,staticPosition:0});c+=m,r==="Array"?u.push(p):u[h.name??d]=p}return u}function DI(t,e,n){const{checksumAddress:r=!1}={};if(t.length!==e.length)throw new L7({expectedLength:t.length,givenLength:e.length});const i=lie({checksumAddress:r,parameters:t,values:e}),s=$I(i);return s.length===0?"0x":s}function OT(t,e){if(t.length!==e.length)throw new L7({expectedLength:t.length,givenLength:e.length});const n=[];for(let r=0;r<t.length;r++){const i=t[r],s=e[r];n.push(OT.encode(i,s))}return io(...n)}(function(t){function e(n,r,i=!1){if(n==="address"){const u=r;return Y_(u),rf(u.toLowerCase(),i?32:0)}if(n==="string")return _I(r);if(n==="bytes")return r;if(n==="bool")return rf(XL(r),i?32:1);const s=n.match(M7);if(s){const[u,d,h="256"]=s,p=Number.parseInt(h,10)/8;return Ni(r,{size:i?32:p,signed:d==="int"})}const a=n.match(tie);if(a){const[u,d]=a;if(Number.parseInt(d,10)!==(r.length-2)/2)throw new B7({expectedSize:Number.parseInt(d,10),value:r});return sf(r,i?32:0)}const c=n.match(eie);if(c&&Array.isArray(r)){const[u,d]=c,h=[];for(let p=0;p<r.length;p++)h.push(e(d,r[p],!0));return h.length===0?"0x":io(...h)}throw new MI(n)}t.encode=e})(OT||(OT={}));function U7(t){return Array.isArray(t)&&typeof t[0]=="string"||typeof t=="string"?R4(t):t}class Eie extends Ut{constructor({data:e,parameters:n,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${Mh(n)})`,`Data:   ${e} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class Aie extends Ut{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class Sie extends Ut{constructor({expectedLength:e,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${e}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class B7 extends Ut{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${zs(n)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class L7 extends Ut{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${e}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class xie extends Ut{constructor(e){super(`Value \`${e}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class MI extends Ut{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}let j7=class extends X3{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,aee(e);const r=R_(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=e.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),hp(s)}update(e){return fp(this),this.iHash.update(e),this}digestInto(e){fp(this),Jd(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:a,outputLen:c}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=a,e.outputLen=c,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const z7=(t,e,n)=>new j7(t,e).update(n).digest();z7.create=(t,e)=>new j7(t,e);const ss=BigInt(0),Di=BigInt(1),Dd=BigInt(2),Tie=BigInt(3),F7=BigInt(4),q7=BigInt(5),W7=BigInt(8);function ts(t,e){const n=t%e;return n>=ss?n:e+n}function ta(t,e,n){let r=t;for(;e-- >ss;)r*=r,r%=n;return r}function kT(t,e){if(t===ss)throw new Error("invert: expected non-zero number");if(e<=ss)throw new Error("invert: expected positive modulus, got "+e);let n=ts(t,e),r=e,i=ss,s=Di;for(;n!==ss;){const c=r/n,u=r%n,d=i-s*c;r=n,n=u,i=s,s=d}if(r!==Di)throw new Error("invert: does not exist");return ts(i,e)}function V7(t,e){const n=(t.ORDER+Di)/F7,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function Iie(t,e){const n=(t.ORDER-q7)/W7,r=t.mul(e,Dd),i=t.pow(r,n),s=t.mul(e,i),a=t.mul(t.mul(s,Dd),i),c=t.mul(s,t.sub(a,t.ONE));if(!t.eql(t.sqr(c),e))throw new Error("Cannot find square root");return c}function Cie(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-Di,n=0;for(;e%Dd===ss;)e/=Dd,n++;let r=Dd;const i=UI(t);for(;gN(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return V7;let s=i.pow(r,e);const a=(e+Di)/Dd;return function(u,d){if(u.is0(d))return d;if(gN(u,d)!==1)throw new Error("Cannot find square root");let h=n,p=u.mul(u.ONE,s),m=u.pow(d,e),g=u.pow(d,a);for(;!u.eql(m,u.ONE);){if(u.is0(m))return u.ZERO;let b=1,v=u.sqr(m);for(;!u.eql(v,u.ONE);)if(b++,v=u.sqr(v),b===h)throw new Error("Cannot find square root");const E=Di<<BigInt(h-b-1),O=u.pow(p,E);h=b,p=u.sqr(O),m=u.mul(m,p),g=u.mul(g,O)}return g}}function Oie(t){return t%F7===Tie?V7:t%W7===q7?Iie:Cie(t)}const kie=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Rie(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=kie.reduce((r,i)=>(r[i]="function",r),e);return j_(t,n)}function Nie(t,e,n){if(n<ss)throw new Error("invalid exponent, negatives unsupported");if(n===ss)return t.ONE;if(n===Di)return e;let r=t.ONE,i=e;for(;n>ss;)n&Di&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Di;return r}function H7(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((a,c,u)=>t.is0(c)?a:(r[u]=a,t.mul(a,c)),t.ONE),s=t.inv(i);return e.reduceRight((a,c,u)=>t.is0(c)?a:(r[u]=t.mul(a,r[u]),t.mul(a,c)),s),r}function gN(t,e){const n=(t.ORDER-Di)/Dd,r=t.pow(e,n),i=t.eql(r,t.ONE),s=t.eql(r,t.ZERO),a=t.eql(r,t.neg(t.ONE));if(!i&&!s&&!a)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function G7(t,e){e!==void 0&&zg(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function UI(t,e,n=!1,r={}){if(t<=ss)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=G7(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let a;const c=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:L_(i),ZERO:ss,ONE:Di,create:u=>ts(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return ss<=u&&u<t},is0:u=>u===ss,isOdd:u=>(u&Di)===Di,neg:u=>ts(-u,t),eql:(u,d)=>u===d,sqr:u=>ts(u*u,t),add:(u,d)=>ts(u+d,t),sub:(u,d)=>ts(u-d,t),mul:(u,d)=>ts(u*d,t),pow:(u,d)=>Nie(c,u,d),div:(u,d)=>ts(u*kT(d,t),t),sqrN:u=>u*u,addN:(u,d)=>u+d,subN:(u,d)=>u-d,mulN:(u,d)=>u*d,inv:u=>kT(u,t),sqrt:r.sqrt||(u=>(a||(a=Oie(t)),a(c,u))),toBytes:u=>n?WL(u,s):Z0(u,s),fromBytes:u=>{if(u.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+u.length);return n?qL(u):Wd(u)},invertBatch:u=>H7(c,u),cmov:(u,d,h)=>h?d:u});return Object.freeze(c)}function K7(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function Y7(t){const e=K7(t);return e+Math.ceil(e/2)}function $ie(t,e,n=!1){const r=t.length,i=K7(e),s=Y7(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const a=n?qL(t):Wd(t),c=ts(a,e-Di)+Di;return n?WL(c,i):Z0(c,i)}const bN=BigInt(0),RT=BigInt(1);function xS(t,e){const n=e.negate();return t?n:e}function Z7(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function TS(t,e){Z7(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,s=L_(t),a=BigInt(t);return{windows:n,windowSize:r,mask:s,maxNumber:i,shiftBy:a}}function wN(t,e,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:a}=n;let c=Number(t&i),u=t>>a;c>r&&(c-=s,u+=RT);const d=e*r,h=d+Math.abs(c)-1,p=c===0,m=c<0,g=e%2!==0;return{nextN:u,offset:h,isZero:p,isNeg:m,isNegF:g,offsetF:d}}function Pie(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function Die(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const IS=new WeakMap,X7=new WeakMap;function CS(t){return X7.get(t)||1}function Mie(t,e){return{constTimeNegate:xS,hasPrecomputes(n){return CS(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>bN;)r&RT&&(i=i.add(s)),s=s.double(),r>>=RT;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=TS(r,e),a=[];let c=n,u=c;for(let d=0;d<i;d++){u=c,a.push(u);for(let h=1;h<s;h++)u=u.add(c),a.push(u);c=u.double()}return a},wNAF(n,r,i){let s=t.ZERO,a=t.BASE;const c=TS(n,e);for(let u=0;u<c.windows;u++){const{nextN:d,offset:h,isZero:p,isNeg:m,isNegF:g,offsetF:b}=wN(i,u,c);i=d,p?a=a.add(xS(g,r[b])):s=s.add(xS(m,r[h]))}return{p:s,f:a}},wNAFUnsafe(n,r,i,s=t.ZERO){const a=TS(n,e);for(let c=0;c<a.windows&&i!==bN;c++){const{nextN:u,offset:d,isZero:h,isNeg:p}=wN(i,c,a);if(i=u,!h){const m=r[d];s=s.add(p?m.negate():m)}}return s},getPrecomputes(n,r,i){let s=IS.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&IS.set(r,i(s))),s},wNAFCached(n,r,i){const s=CS(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const a=CS(n);return a===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(a,this.getPrecomputes(a,n,i),r,s)},setWindowSize(n,r){Z7(r,e),X7.set(n,r),IS.delete(n)}}}function Uie(t,e,n,r){Pie(n,t),Die(r,e);const i=n.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const a=t.ZERO,c=Gte(BigInt(i));let u=1;c>12?u=c-3:c>4?u=c-2:c>0&&(u=2);const d=L_(u),h=new Array(Number(d)+1).fill(a),p=Math.floor((e.BITS-1)/u)*u;let m=a;for(let g=p;g>=0;g-=u){h.fill(a);for(let v=0;v<s;v++){const E=r[v],O=Number(E>>BigInt(g)&d);h[O]=h[O].add(n[v])}let b=a;for(let v=h.length-1,E=a;v>0;v--)E=E.add(h[v]),b=b.add(E);if(m=m.add(b),g!==0)for(let v=0;v<u;v++)m=m.double()}return m}function J7(t){return Rie(t.Fp),j_(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...G7(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}function vN(t){t.lowS!==void 0&&c0("lowS",t.lowS),t.prehash!==void 0&&c0("prehash",t.prehash)}function Bie(t){const e=J7(t);j_(e,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...e})}let Lie=class extends Error{constructor(e=""){super(e)}};const jc={Err:Lie,_tlv:{encode:(t,e)=>{const{Err:n}=jc;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=Gw(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?Gw(i.length/2|128):"";return Gw(t)+s+i+e},decode(t,e){const{Err:n}=jc;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let a=0;if(!s)a=i;else{const u=i&127;if(!u)throw new n("tlv.decode(long): indefinite length not supported");if(u>4)throw new n("tlv.decode(long): byte length is too big");const d=e.subarray(r,r+u);if(d.length!==u)throw new n("tlv.decode: length bytes not complete");if(d[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const h of d)a=a<<8|h;if(r+=u,a<128)throw new n("tlv.decode(long): not minimal encoding")}const c=e.subarray(r,r+a);if(c.length!==a)throw new n("tlv.decode: wrong value length");return{v:c,l:e.subarray(r+a)}}},_int:{encode(t){const{Err:e}=jc;if(t<Gc)throw new e("integer: negative integers are not allowed");let n=Gw(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=jc;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Wd(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=jc,i=fa("signature",t),{v:s,l:a}=r.decode(48,i);if(a.length)throw new e("invalid signature: left bytes after parsing");const{v:c,l:u}=r.decode(2,s),{v:d,l:h}=r.decode(2,u);if(h.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(c),s:n.decode(d)}},hexFromSig(t){const{_tlv:e,_int:n}=jc,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}};function OS(t,e){return l0(Z0(t,e))}const Gc=BigInt(0),qr=BigInt(1);BigInt(2);const kS=BigInt(3),jie=BigInt(4);function zie(t){const e=Bie(t),{Fp:n}=e,r=UI(e.n,e.nBitLength),i=e.toBytes||((S,A,C)=>{const I=A.toAffine();return m1(Uint8Array.from([4]),n.toBytes(I.x),n.toBytes(I.y))}),s=e.fromBytes||(S=>{const A=S.subarray(1),C=n.fromBytes(A.subarray(0,n.BYTES)),I=n.fromBytes(A.subarray(n.BYTES,2*n.BYTES));return{x:C,y:I}});function a(S){const{a:A,b:C}=e,I=n.sqr(S),$=n.mul(I,S);return n.add(n.add($,n.mul(S,A)),C)}function c(S,A){const C=n.sqr(A),I=a(S);return n.eql(C,I)}if(!c(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const u=n.mul(n.pow(e.a,kS),jie),d=n.mul(n.sqr(e.b),BigInt(27));if(n.is0(n.add(u,d)))throw new Error("bad curve params: a or b");function h(S){return vI(S,qr,e.n)}function p(S){const{allowedPrivateKeyLengths:A,nByteLength:C,wrapPrivateKey:I,n:$}=e;if(A&&typeof S!="bigint"){if(Y0(S)&&(S=l0(S)),typeof S!="string"||!A.includes(S.length))throw new Error("invalid private key");S=S.padStart(C*2,"0")}let z;try{z=typeof S=="bigint"?S:Wd(fa("private key",S,C))}catch{throw new Error("invalid private key, expected hex or "+C+" bytes, got "+typeof S)}return I&&(z=ts(z,$)),ep("private key",z,qr,$),z}function m(S){if(!(S instanceof v))throw new Error("ProjectivePoint expected")}const g=tN((S,A)=>{const{px:C,py:I,pz:$}=S;if(n.eql($,n.ONE))return{x:C,y:I};const z=S.is0();A==null&&(A=z?n.ONE:n.inv($));const L=n.mul(C,A),B=n.mul(I,A),V=n.mul($,A);if(z)return{x:n.ZERO,y:n.ZERO};if(!n.eql(V,n.ONE))throw new Error("invZ was invalid");return{x:L,y:B}}),b=tN(S=>{if(S.is0()){if(e.allowInfinityPoint&&!n.is0(S.py))return;throw new Error("bad point: ZERO")}const{x:A,y:C}=S.toAffine();if(!n.isValid(A)||!n.isValid(C))throw new Error("bad point: x or y not FE");if(!c(A,C))throw new Error("bad point: equation left != right");if(!S.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class v{constructor(A,C,I){if(A==null||!n.isValid(A))throw new Error("x required");if(C==null||!n.isValid(C)||n.is0(C))throw new Error("y required");if(I==null||!n.isValid(I))throw new Error("z required");this.px=A,this.py=C,this.pz=I,Object.freeze(this)}static fromAffine(A){const{x:C,y:I}=A||{};if(!A||!n.isValid(C)||!n.isValid(I))throw new Error("invalid affine point");if(A instanceof v)throw new Error("projective point not allowed");const $=z=>n.eql(z,n.ZERO);return $(C)&&$(I)?v.ZERO:new v(C,I,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(A){const C=H7(n,A.map(I=>I.pz));return A.map((I,$)=>I.toAffine(C[$])).map(v.fromAffine)}static fromHex(A){const C=v.fromAffine(s(fa("pointHex",A)));return C.assertValidity(),C}static fromPrivateKey(A){return v.BASE.multiply(p(A))}static msm(A,C){return Uie(v,r,A,C)}_setWindowSize(A){k.setWindowSize(this,A)}assertValidity(){b(this)}hasEvenY(){const{y:A}=this.toAffine();if(n.isOdd)return!n.isOdd(A);throw new Error("Field doesn't support isOdd")}equals(A){m(A);const{px:C,py:I,pz:$}=this,{px:z,py:L,pz:B}=A,V=n.eql(n.mul(C,B),n.mul(z,$)),D=n.eql(n.mul(I,B),n.mul(L,$));return V&&D}negate(){return new v(this.px,n.neg(this.py),this.pz)}double(){const{a:A,b:C}=e,I=n.mul(C,kS),{px:$,py:z,pz:L}=this;let B=n.ZERO,V=n.ZERO,D=n.ZERO,F=n.mul($,$),K=n.mul(z,z),T=n.mul(L,L),x=n.mul($,z);return x=n.add(x,x),D=n.mul($,L),D=n.add(D,D),B=n.mul(A,D),V=n.mul(I,T),V=n.add(B,V),B=n.sub(K,V),V=n.add(K,V),V=n.mul(B,V),B=n.mul(x,B),D=n.mul(I,D),T=n.mul(A,T),x=n.sub(F,T),x=n.mul(A,x),x=n.add(x,D),D=n.add(F,F),F=n.add(D,F),F=n.add(F,T),F=n.mul(F,x),V=n.add(V,F),T=n.mul(z,L),T=n.add(T,T),F=n.mul(T,x),B=n.sub(B,F),D=n.mul(T,K),D=n.add(D,D),D=n.add(D,D),new v(B,V,D)}add(A){m(A);const{px:C,py:I,pz:$}=this,{px:z,py:L,pz:B}=A;let V=n.ZERO,D=n.ZERO,F=n.ZERO;const K=e.a,T=n.mul(e.b,kS);let x=n.mul(C,z),N=n.mul(I,L),j=n.mul($,B),P=n.add(C,I),H=n.add(z,L);P=n.mul(P,H),H=n.add(x,N),P=n.sub(P,H),H=n.add(C,$);let M=n.add(z,B);return H=n.mul(H,M),M=n.add(x,j),H=n.sub(H,M),M=n.add(I,$),V=n.add(L,B),M=n.mul(M,V),V=n.add(N,j),M=n.sub(M,V),F=n.mul(K,H),V=n.mul(T,j),F=n.add(V,F),V=n.sub(N,F),F=n.add(N,F),D=n.mul(V,F),N=n.add(x,x),N=n.add(N,x),j=n.mul(K,j),H=n.mul(T,H),N=n.add(N,j),j=n.sub(x,j),j=n.mul(K,j),H=n.add(H,j),x=n.mul(N,H),D=n.add(D,x),x=n.mul(M,H),V=n.mul(P,V),V=n.sub(V,x),x=n.mul(P,N),F=n.mul(M,F),F=n.add(F,x),new v(V,D,F)}subtract(A){return this.add(A.negate())}is0(){return this.equals(v.ZERO)}wNAF(A){return k.wNAFCached(this,A,v.normalizeZ)}multiplyUnsafe(A){const{endo:C,n:I}=e;ep("scalar",A,Gc,I);const $=v.ZERO;if(A===Gc)return $;if(this.is0()||A===qr)return this;if(!C||k.hasPrecomputes(this))return k.wNAFCachedUnsafe(this,A,v.normalizeZ);let{k1neg:z,k1:L,k2neg:B,k2:V}=C.splitScalar(A),D=$,F=$,K=this;for(;L>Gc||V>Gc;)L&qr&&(D=D.add(K)),V&qr&&(F=F.add(K)),K=K.double(),L>>=qr,V>>=qr;return z&&(D=D.negate()),B&&(F=F.negate()),F=new v(n.mul(F.px,C.beta),F.py,F.pz),D.add(F)}multiply(A){const{endo:C,n:I}=e;ep("scalar",A,qr,I);let $,z;if(C){const{k1neg:L,k1:B,k2neg:V,k2:D}=C.splitScalar(A);let{p:F,f:K}=this.wNAF(B),{p:T,f:x}=this.wNAF(D);F=k.constTimeNegate(L,F),T=k.constTimeNegate(V,T),T=new v(n.mul(T.px,C.beta),T.py,T.pz),$=F.add(T),z=K.add(x)}else{const{p:L,f:B}=this.wNAF(A);$=L,z=B}return v.normalizeZ([$,z])[0]}multiplyAndAddUnsafe(A,C,I){const $=v.BASE,z=(B,V)=>V===Gc||V===qr||!B.equals($)?B.multiplyUnsafe(V):B.multiply(V),L=z(this,C).add(z(A,I));return L.is0()?void 0:L}toAffine(A){return g(this,A)}isTorsionFree(){const{h:A,isTorsionFree:C}=e;if(A===qr)return!0;if(C)return C(v,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:A,clearCofactor:C}=e;return A===qr?this:C?C(v,this):this.multiplyUnsafe(e.h)}toRawBytes(A=!0){return c0("isCompressed",A),this.assertValidity(),i(v,this,A)}toHex(A=!0){return c0("isCompressed",A),l0(this.toRawBytes(A))}}v.BASE=new v(e.Gx,e.Gy,n.ONE),v.ZERO=new v(n.ZERO,n.ONE,n.ZERO);const{endo:E,nBitLength:O}=e,k=Mie(v,E?Math.ceil(O/2):O);return{CURVE:e,ProjectivePoint:v,normPrivateKeyToScalar:p,weierstrassEquation:a,isWithinCurveOrder:h}}function Fie(t){const e=J7(t);return j_(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function qie(t){const e=Fie(t),{Fp:n,n:r,nByteLength:i,nBitLength:s}=e,a=n.BYTES+1,c=2*n.BYTES+1;function u(T){return ts(T,r)}function d(T){return kT(T,r)}const{ProjectivePoint:h,normPrivateKeyToScalar:p,weierstrassEquation:m,isWithinCurveOrder:g}=zie({...e,toBytes(T,x,N){const j=x.toAffine(),P=n.toBytes(j.x),H=m1;return c0("isCompressed",N),N?H(Uint8Array.from([x.hasEvenY()?2:3]),P):H(Uint8Array.from([4]),P,n.toBytes(j.y))},fromBytes(T){const x=T.length,N=T[0],j=T.subarray(1);if(x===a&&(N===2||N===3)){const P=Wd(j);if(!vI(P,qr,n.ORDER))throw new Error("Point is not on curve");const H=m(P);let M;try{M=n.sqrt(H)}catch(X){const Q=X instanceof Error?": "+X.message:"";throw new Error("Point is not on curve"+Q)}const G=(M&qr)===qr;return(N&1)===1!==G&&(M=n.neg(M)),{x:P,y:M}}else if(x===c&&N===4){const P=n.fromBytes(j.subarray(0,n.BYTES)),H=n.fromBytes(j.subarray(n.BYTES,2*n.BYTES));return{x:P,y:H}}else{const P=a,H=c;throw new Error("invalid Point, expected length of "+P+", or uncompressed "+H+", got "+x)}}});function b(T){const x=r>>qr;return T>x}function v(T){return b(T)?u(-T):T}const E=(T,x,N)=>Wd(T.slice(x,N));class O{constructor(x,N,j){ep("r",x,qr,r),ep("s",N,qr,r),this.r=x,this.s=N,j!=null&&(this.recovery=j),Object.freeze(this)}static fromCompact(x){const N=i;return x=fa("compactSignature",x,N*2),new O(E(x,0,N),E(x,N,2*N))}static fromDER(x){const{r:N,s:j}=jc.toSig(fa("DER",x));return new O(N,j)}assertValidity(){}addRecoveryBit(x){return new O(this.r,this.s,x)}recoverPublicKey(x){const{r:N,s:j,recovery:P}=this,H=$(fa("msgHash",x));if(P==null||![0,1,2,3].includes(P))throw new Error("recovery id invalid");const M=P===2||P===3?N+e.n:N;if(M>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const G=(P&1)===0?"02":"03",J=h.fromHex(G+OS(M,n.BYTES)),X=d(M),Q=u(-H*X),ge=u(j*X),we=h.BASE.multiplyAndAddUnsafe(J,Q,ge);if(!we)throw new Error("point at infinify");return we.assertValidity(),we}hasHighS(){return b(this.s)}normalizeS(){return this.hasHighS()?new O(this.r,u(-this.s),this.recovery):this}toDERRawBytes(){return y1(this.toDERHex())}toDERHex(){return jc.hexFromSig(this)}toCompactRawBytes(){return y1(this.toCompactHex())}toCompactHex(){const x=i;return OS(this.r,x)+OS(this.s,x)}}const k={isValidPrivateKey(T){try{return p(T),!0}catch{return!1}},normPrivateKeyToScalar:p,randomPrivateKey:()=>{const T=Y7(e.n);return $ie(e.randomBytes(T),e.n)},precompute(T=8,x=h.BASE){return x._setWindowSize(T),x.multiply(BigInt(3)),x}};function S(T,x=!0){return h.fromPrivateKey(T).toRawBytes(x)}function A(T){if(typeof T=="bigint")return!1;if(T instanceof h)return!0;const N=fa("key",T).length,j=n.BYTES,P=j+1,H=2*j+1;if(!(e.allowedPrivateKeyLengths||i===P))return N===P||N===H}function C(T,x,N=!0){if(A(T)===!0)throw new Error("first arg must be private key");if(A(x)===!1)throw new Error("second arg must be public key");return h.fromHex(x).multiply(p(T)).toRawBytes(N)}const I=e.bits2int||function(T){if(T.length>8192)throw new Error("input is too large");const x=Wd(T),N=T.length*8-s;return N>0?x>>BigInt(N):x},$=e.bits2int_modN||function(T){return u(I(T))},z=L_(s);function L(T){return ep("num < 2^"+s,T,Gc,z),Z0(T,i)}function B(T,x,N=V){if(["recovered","canonical"].some(Ee=>Ee in N))throw new Error("sign() legacy options not supported");const{hash:j,randomBytes:P}=e;let{lowS:H,prehash:M,extraEntropy:G}=N;H==null&&(H=!0),T=fa("msgHash",T),vN(N),M&&(T=fa("prehashed msgHash",j(T)));const J=$(T),X=p(x),Q=[L(X),L(J)];if(G!=null&&G!==!1){const Ee=G===!0?P(n.BYTES):G;Q.push(fa("extraEntropy",Ee))}const ge=m1(...Q),we=J;function Te(Ee){const Pe=I(Ee);if(!g(Pe))return;const qe=d(Pe),rt=h.BASE.multiply(Pe).toAffine(),ye=u(rt.x);if(ye===Gc)return;const Tt=u(qe*u(we+ye*X));if(Tt===Gc)return;let Kt=(rt.x===ye?0:2)|Number(rt.y&qr),wt=Tt;return H&&b(Tt)&&(wt=v(Tt),Kt^=1),new O(ye,wt,Kt)}return{seed:ge,k2sig:Te}}const V={lowS:e.lowS,prehash:!1},D={lowS:e.lowS,prehash:!1};function F(T,x,N=V){const{seed:j,k2sig:P}=B(T,x,N),H=e;return Kte(H.hash.outputLen,H.nByteLength,H.hmac)(j,P)}h.BASE._setWindowSize(8);function K(T,x,N,j=D){const P=T;x=fa("msgHash",x),N=fa("publicKey",N);const{lowS:H,prehash:M,format:G}=j;if(vN(j),"strict"in j)throw new Error("options.strict was renamed to lowS");if(G!==void 0&&G!=="compact"&&G!=="der")throw new Error("format must be compact or der");const J=typeof P=="string"||Y0(P),X=!J&&!G&&typeof P=="object"&&P!==null&&typeof P.r=="bigint"&&typeof P.s=="bigint";if(!J&&!X)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let Q,ge;try{if(X&&(Q=new O(P.r,P.s)),J){try{G!=="compact"&&(Q=O.fromDER(P))}catch(Kt){if(!(Kt instanceof jc.Err))throw Kt}!Q&&G!=="der"&&(Q=O.fromCompact(P))}ge=h.fromHex(N)}catch{return!1}if(!Q||H&&Q.hasHighS())return!1;M&&(x=e.hash(x));const{r:we,s:Te}=Q,Ee=$(x),Pe=d(Te),qe=u(Ee*Pe),rt=u(we*Pe),ye=h.BASE.multiplyAndAddUnsafe(ge,qe,rt)?.toAffine();return ye?u(ye.x)===we:!1}return{CURVE:e,getPublicKey:S,getSharedSecret:C,sign:F,verify:K,ProjectivePoint:h,Signature:O,utils:k}}function Wie(t){return{hash:t,hmac:(e,...n)=>z7(t,e,fee(...n)),randomBytes:hee}}function Vie(t,e){const n=r=>qie({...t,...Wie(r)});return{...n(e),create:n}}const Q7=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),_N=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Hie=BigInt(0),Gie=BigInt(1),NT=BigInt(2),EN=(t,e)=>(t+e/NT)/e;function Kie(t){const e=Q7,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),a=BigInt(23),c=BigInt(44),u=BigInt(88),d=t*t*t%e,h=d*d*t%e,p=ta(h,n,e)*h%e,m=ta(p,n,e)*h%e,g=ta(m,NT,e)*d%e,b=ta(g,i,e)*g%e,v=ta(b,s,e)*b%e,E=ta(v,c,e)*v%e,O=ta(E,u,e)*E%e,k=ta(O,c,e)*v%e,S=ta(k,n,e)*h%e,A=ta(S,a,e)*b%e,C=ta(A,r,e)*d%e,I=ta(C,NT,e);if(!$T.eql($T.sqr(I),t))throw new Error("Cannot find square root");return I}const $T=UI(Q7,void 0,void 0,{sqrt:Kie}),Z_=Vie({a:Hie,b:BigInt(7),Fp:$T,n:_N,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=_N,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Gie*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,a=BigInt("0x100000000000000000000000000000000"),c=EN(s*t,e),u=EN(-r*t,e);let d=ts(t-c*n-u*i,e),h=ts(-c*r-u*s,e);const p=d>a,m=h>a;if(p&&(d=e-d),m&&(h=e-h),d>a||h>a)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:p,k1:d,k2neg:m,k2:h}}}},RL),Yie=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:Z_},Symbol.toStringTag,{value:"Module"}));function ej(t,e={}){const{recovered:n}=e;if(typeof t.r>"u")throw new RS({signature:t});if(typeof t.s>"u")throw new RS({signature:t});if(n&&typeof t.yParity>"u")throw new RS({signature:t});if(t.r<0n||t.r>pN)throw new nse({value:t.r});if(t.s<0n||t.s>pN)throw new rse({value:t.s});if(typeof t.yParity=="number"&&t.yParity!==0&&t.yParity!==1)throw new LI({value:t.yParity})}function Zie(t){return tj(so(t))}function tj(t){if(t.length!==130&&t.length!==132)throw new tse({signature:t});const e=BigInt(Uo(t,0,32)),n=BigInt(Uo(t,32,64)),r=(()=>{const i=+`0x${t.slice(130)}`;if(!Number.isNaN(i))try{return BI(i)}catch{throw new LI({value:i})}})();return typeof r>"u"?{r:e,s:n}:{r:e,s:n,yParity:r}}function Xie(t){if(!(typeof t.r>"u")&&!(typeof t.s>"u"))return Jie(t)}function Jie(t){const e=typeof t=="string"?tj(t):t instanceof Uint8Array?Zie(t):typeof t.r=="string"?ese(t):t.v?Qie(t):{r:t.r,s:t.s,...typeof t.yParity<"u"?{yParity:t.yParity}:{}};return ej(e),e}function Qie(t){return{r:t.r,s:t.s,yParity:BI(t.v)}}function ese(t){const e=(()=>{const n=t.v?Number(t.v):void 0;let r=t.yParity?Number(t.yParity):void 0;if(typeof n=="number"&&typeof r!="number"&&(r=BI(n)),typeof r!="number")throw new LI({value:t.yParity});return r})();return{r:BigInt(t.r),s:BigInt(t.s),yParity:e}}function BI(t){if(t===0||t===27)return 0;if(t===1||t===28)return 1;if(t>=35)return t%2===0?1:0;throw new ise({value:t})}let tse=class extends Ut{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${zs(wne(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}};class RS extends Ut{constructor({signature:e}){super(`Signature \`${KL(e)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class nse extends Ut{constructor({value:e}){super(`Value \`${e}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class rse extends Ut{constructor({value:e}){super(`Value \`${e}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}let LI=class extends Ut{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}},ise=class extends Ut{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}};function sse(t,e={}){return typeof t.chainId=="string"?ase(t):{...t,...e.signature}}function ase(t){const{address:e,chainId:n,nonce:r}=t,i=Xie(t);return{address:e,chainId:Number(n),nonce:BigInt(r),...i}}const ose="0x8010801080108010801080108010801080108010801080108010801080108010",cse=U7("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function nj(t){if(typeof t=="string"){if(Uo(t,-32)!==ose)throw new dse(t)}else ej(t.authorization)}function lse(t){nj(t);const e=QL(Uo(t,-64,-32)),n=Uo(t,-e-64,-64),r=Uo(t,0,-e-64),[i,s,a]=_ie(cse,n);return{authorization:sse({address:i.delegation,chainId:Number(i.chainId),nonce:i.nonce,yParity:i.yParity,r:i.r,s:i.s}),signature:r,...a&&a!=="0x"?{data:a,to:s}:{}}}function use(t){try{return nj(t),!0}catch{return!1}}let dse=class extends Ut{constructor(e){super(`Value \`${e}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};function fse(t){return t.map(e=>({...e,value:BigInt(e.value)}))}function hse(t){return{...t,balance:t.balance?BigInt(t.balance):void 0,nonce:t.nonce?js(t.nonce):void 0,storageProof:t.storageProof?fse(t.storageProof):void 0}}async function pse(t,{address:e,blockNumber:n,blockTag:r,storageKeys:i}){const s=r??"latest",a=n!==void 0?$e(n):void 0,c=await t.request({method:"eth_getProof",params:[e,i,a||s]});return hse(c)}async function yse(t,{address:e,blockNumber:n,blockTag:r="latest",slot:i}){const s=n!==void 0?$e(n):void 0;return await t.request({method:"eth_getStorageAt",params:[e,i,s||r]})}async function jI(t,{blockHash:e,blockNumber:n,blockTag:r,hash:i,index:s,sender:a,nonce:c}){const u=r||"latest",d=n!==void 0?$e(n):void 0;let h=null;if(i?h=await t.request({method:"eth_getTransactionByHash",params:[i]},{dedupe:!0}):e?h=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,$e(s)]},{dedupe:!0}):typeof s=="number"?h=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[d||u,$e(s)]},{dedupe:!!d}):a&&typeof c=="number"&&(h=await t.request({method:"eth_getTransactionBySenderAndNonce",params:[a,$e(c)]},{dedupe:!0})),!h)throw new yL({blockHash:e,blockNumber:n,blockTag:u,hash:i,index:s});return(t.chain?.formatters?.transaction?.format||H0)(h,"getTransaction")}async function mse(t,{hash:e,transactionReceipt:n}){const[r,i]=await Promise.all([We(t,Q0,"getBlockNumber")({}),e?We(t,jI,"getTransaction")({hash:e}):void 0]),s=n?.blockNumber||i?.blockNumber;return s?r-s+1n:0n}async function Bv(t,{hash:e}){const n=await t.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!n)throw new mL({hash:e});return(t.chain?.formatters?.transactionReceipt?.format||SI)(n,"getTransactionReceipt")}async function gse(t,e){const{account:n,authorizationList:r,allowFailure:i=!0,blockNumber:s,blockOverrides:a,blockTag:c,stateOverride:u}=e,d=e.contracts,{batchSize:h=e.batchSize??1024,deployless:p=e.deployless??!1}=typeof t.batch?.multicall=="object"?t.batch.multicall:{},m=(()=>{if(e.multicallAddress)return e.multicallAddress;if(p)return null;if(t.chain)return qp({blockNumber:s,chain:t.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),g=[[]];let b=0,v=0;for(let k=0;k<d.length;k++){const{abi:S,address:A,args:C,functionName:I}=d[k];try{const $=Li({abi:S,args:C,functionName:I});v+=($.length-2)/2,h>0&&v>h&&g[b].length>0&&(b++,v=($.length-2)/2,g[b]=[]),g[b]=[...g[b],{allowFailure:!0,callData:$,target:A}]}catch($){const z=tf($,{abi:S,address:A,args:C,docsPath:"/docs/contract/multicall",functionName:I,sender:n});if(!i)throw z;g[b]=[...g[b],{allowFailure:!0,callData:"0x",target:A}]}}const E=await Promise.allSettled(g.map(k=>We(t,ao,"readContract")({...m===null?{code:EI}:{address:m},abi:g1,account:n,args:[k],authorizationList:r,blockNumber:s,blockOverrides:a,blockTag:c,functionName:"aggregate3",stateOverride:u}))),O=[];for(let k=0;k<E.length;k++){const S=E[k];if(S.status==="rejected"){if(!i)throw S.reason;for(let C=0;C<g[k].length;C++)O.push({status:"failure",error:S.reason,result:void 0});continue}const A=S.value;for(let C=0;C<A.length;C++){const{returnData:I,success:$}=A[C],{callData:z}=g[k][C],{abi:L,address:B,functionName:V,args:D}=d[O.length];try{if(z==="0x")throw new L0;if(!$)throw new P_({data:I});const F=_f({abi:L,args:D,data:I,functionName:V});O.push(i?{result:F,status:"success"}:F)}catch(F){const K=tf(F,{abi:L,address:B,args:D,docsPath:"/docs/contract/multicall",functionName:V});if(!i)throw K;O.push({error:K,result:void 0,status:"failure"})}}}if(O.length!==d.length)throw new _e("multicall results mismatch");return O}async function PT(t,e){const{blockNumber:n,blockTag:r=t.experimental_blockTag??"latest",blocks:i,returnFullTransactions:s,traceTransfers:a,validation:c}=e;try{const u=[];for(const m of i){const g=m.blockOverrides?n7(m.blockOverrides):void 0,b=m.calls.map(E=>{const O=E,k=O.account?$n(O.account):void 0,S=O.abi?Li(O):O.data,A={...O,account:k,data:O.dataSuffix?va([S||"0x",O.dataSuffix]):S,from:O.from??k?.address};return Yo(A),gl(A)}),v=m.stateOverrides?sI(m.stateOverrides):void 0;u.push({blockOverrides:g,calls:b,stateOverrides:v})}const h=(typeof n=="bigint"?$e(n):void 0)||r;return(await t.request({method:"eth_simulateV1",params:[{blockStateCalls:u,returnFullTransactions:s,traceTransfers:a,validation:c},h]})).map((m,g)=>({...oI(m),calls:m.calls.map((b,v)=>{const{abi:E,args:O,functionName:k,to:S}=i[g].calls[v],A=b.error?.data??b.returnData,C=BigInt(b.gasUsed),I=b.logs?.map(B=>qo(B)),$=b.status==="0x1"?"success":"failure",z=E&&$==="success"&&A!=="0x"?_f({abi:E,data:A,functionName:k}):null,L=(()=>{if($==="success")return;let B;if(b.error?.data==="0x"?B=new L0:b.error&&(B=new P_(b.error)),!!B)return tf(B,{abi:E??[],address:S??"0x",args:O,functionName:k??"<unknown>"})})();return{data:A,gasUsed:C,logs:I,status:$,...$==="success"?{result:z}:{error:L}}})}))}catch(u){const d=u,h=M_(d,{});throw h instanceof V0?d:h}}function DT(t){let e=!0,n="",r=0,i="",s=!1;for(let a=0;a<t.length;a++){const c=t[a];if(["(",")",","].includes(c)&&(e=!0),c==="("&&r++,c===")"&&r--,!!e){if(r===0){if(c===" "&&["event","function","error",""].includes(i))i="";else if(i+=c,c===")"){s=!0;break}continue}if(c===" "){t[a-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}i+=c,n+=c}}if(!s)throw new Ut("Unable to normalize signature.");return i}function MT(t,e){const n=typeof t,r=e.type;switch(r){case"address":return IT(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((i,s)=>MT(Object.values(t)[s],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(i=>MT(i,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function rj(t,e,n){for(const r in t){const i=t[r],s=e[r];if(i.type==="tuple"&&s.type==="tuple"&&"components"in i&&"components"in s)return rj(i.components,s.components,n[r]);const a=[i.type,s.type];if(a.includes("address")&&a.includes("bytes20")?!0:a.includes("address")&&a.includes("string")?IT(n[r],{strict:!1}):a.includes("address")&&a.includes("bytes")?IT(n[r],{strict:!1}):!1)return a}}function ij(t,e={}){const{prepare:n=!0}=e,r=Array.isArray(t)||typeof t=="string"?k4(t):t;return{...r,...n?{hash:Fh(r)}:{}}}function X_(t,e,n){const{args:r=[],prepare:i=!0}=n??{},s=vne(e,{strict:!1}),a=t.filter(d=>s?d.type==="function"||d.type==="error"?sj(d)===Uo(e,0,4):d.type==="event"?Fh(d)===e:!1:"name"in d&&d.name===e);if(a.length===0)throw new w1({name:e});if(a.length===1)return{...a[0],...i?{hash:Fh(a[0])}:{}};let c;for(const d of a){if(!("inputs"in d))continue;if(!r||r.length===0){if(!d.inputs||d.inputs.length===0)return{...d,...i?{hash:Fh(d)}:{}};continue}if(!d.inputs||d.inputs.length===0||d.inputs.length!==r.length)continue;if(r.every((p,m)=>{const g="inputs"in d&&d.inputs[m];return g?MT(p,g):!1})){if(c&&"inputs"in c&&c.inputs){const p=rj(d.inputs,c.inputs,r);if(p)throw new wse({abiItem:d,type:p[0]},{abiItem:c,type:p[1]})}c=d}}const u=(()=>{if(c)return c;const[d,...h]=a;return{...d,overloads:h}})();if(!u)throw new w1({name:e});return{...u,...i?{hash:Fh(u)}:{}}}function sj(...t){const e=(()=>{if(Array.isArray(t[0])){const[n,r]=t;return X_(n,r)}return t[0]})();return Uo(Fh(e),0,4)}function bse(...t){const e=(()=>{if(Array.isArray(t[0])){const[r,i]=t;return X_(r,i)}return t[0]})(),n=typeof e=="string"?e:d1(e);return DT(n)}function Fh(...t){const e=(()=>{if(Array.isArray(t[0])){const[n,r]=t;return X_(n,r)}return t[0]})();return typeof e!="string"&&"hash"in e&&e.hash?e.hash:P7(_I(bse(e)))}class wse extends Ut{constructor(e,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${e.type}\` in \`${DT(d1(e.abiItem))}\`, and`,`\`${n.type}\` in \`${DT(d1(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class w1 extends Ut{constructor({name:e,data:n,type:r="item"}){const i=e?` with name "${e}"`:n?` with data "${n}"`:"";super(`ABI ${r}${i} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function vse(...t){const[e,n]=(()=>{if(Array.isArray(t[0])){const[s,a]=t;return[Ese(s),a]}return t})(),{bytecode:r,args:i}=n;return io(r,e.inputs?.length&&i?.length?DI(e.inputs,i):"0x")}function _se(t){return ij(t)}function Ese(t){const e=t.find(n=>n.type==="constructor");if(!e)throw new w1({name:"constructor"});return e}function Ase(...t){const[e,n=[]]=(()=>{if(Array.isArray(t[0])){const[d,h,p]=t;return[AN(d,h,{args:p}),p]}const[c,u]=t;return[c,u]})(),{overloads:r}=e,i=r?AN([e,...r],e.name,{args:n}):e,s=Sse(i),a=n.length>0?DI(i.inputs,n):void 0;return a?io(s,a):s}function mh(t,e={}){return ij(t,e)}function AN(t,e,n){const r=X_(t,e,n);if(r.type!=="function")throw new w1({name:e,type:"function"});return r}function Sse(t){return sj(t)}const xse="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",go="0x0000000000000000000000000000000000000000",Tse="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function Ise(t,e){const{blockNumber:n,blockTag:r,calls:i,stateOverrides:s,traceAssetChanges:a,traceTransfers:c,validation:u}=e,d=e.account?$n(e.account):void 0;if(a&&!d)throw new _e("`account` is required when `traceAssetChanges` is true");const h=d?vse(_se("constructor(bytes, bytes)"),{bytecode:a7,args:[Tse,Ase(mh("function getBalance(address)"),[d.address])]}):void 0,p=a?await Promise.all(e.calls.map(async j=>{if(!j.data&&!j.abi)return;const{accessList:P}=await S7(t,{account:d.address,...j,data:j.abi?Li(j):j.data});return P.map(({address:H,storageKeys:M})=>M.length>0?H:null)})).then(j=>j.flat().filter(Boolean)):[],m=await PT(t,{blockNumber:n,blockTag:r,blocks:[...a?[{calls:[{data:h}],stateOverrides:s},{calls:p.map((j,P)=>({abi:[mh("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[d.address],to:j,from:go,nonce:P})),stateOverrides:[{address:go,nonce:0}]}]:[],{calls:[...i,{}].map(j=>({...j,from:d?.address})),stateOverrides:s},...a?[{calls:[{data:h}]},{calls:p.map((j,P)=>({abi:[mh("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[d.address],to:j,from:go,nonce:P})),stateOverrides:[{address:go,nonce:0}]},{calls:p.map((j,P)=>({to:j,abi:[mh("function decimals() returns (uint256)")],functionName:"decimals",from:go,nonce:P})),stateOverrides:[{address:go,nonce:0}]},{calls:p.map((j,P)=>({to:j,abi:[mh("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:go,nonce:P})),stateOverrides:[{address:go,nonce:0}]},{calls:p.map((j,P)=>({to:j,abi:[mh("function symbol() returns (string)")],functionName:"symbol",from:go,nonce:P})),stateOverrides:[{address:go,nonce:0}]}]:[]],traceTransfers:c,validation:u}),g=a?m[2]:m[0],[b,v,,E,O,k,S,A]=a?m:[],{calls:C,...I}=g,$=C.slice(0,-1)??[],z=b?.calls??[],L=v?.calls??[],B=[...z,...L].map(j=>j.status==="success"?ln(j.data):null),V=E?.calls??[],D=O?.calls??[],F=[...V,...D].map(j=>j.status==="success"?ln(j.data):null),K=(k?.calls??[]).map(j=>j.status==="success"?j.result:null),T=(A?.calls??[]).map(j=>j.status==="success"?j.result:null),x=(S?.calls??[]).map(j=>j.status==="success"?j.result:null),N=[];for(const[j,P]of F.entries()){const H=B[j];if(typeof P!="bigint"||typeof H!="bigint")continue;const M=K[j-1],G=T[j-1],J=x[j-1],X=j===0?{address:xse,decimals:18,symbol:"ETH"}:{address:p[j-1],decimals:J||M?Number(M??1):void 0,symbol:G??void 0};N.some(Q=>Q.token.address===X.address)||N.push({token:X,value:{pre:H,post:P,diff:P-H}})}return{assetChanges:N,block:I,results:$}}const aj="0x6492649264926492649264926492649264926492649264926492649264926492";function Cse(t){if(Uo(t,-32)!==aj)throw new Rse(t)}function Ose(t){const{data:e,signature:n,to:r}=t;return io(DI(U7("address, bytes, bytes"),[r,e,n]),aj)}function kse(t){try{return Cse(t),!0}catch{return!1}}class Rse extends Ut{constructor(e){super(`Value \`${e}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}function oj({r:t,s:e,to:n="hex",v:r,yParity:i}){const s=(()=>{if(i===0||i===1)return i;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),a=`0x${new Z_.Signature(ln(t),ln(e)).toCompactHex()}${s===0?"1b":"1c"}`;return n==="hex"?a:Pi(a)}async function J_(t,e){const{address:n,chain:r=t.chain,hash:i,erc6492VerifierAddress:s=e.universalSignatureVerifierAddress??r?.contracts?.erc6492Verifier?.address,multicallAddress:a=e.multicallAddress??r?.contracts?.multicall3?.address}=e;if(r?.verifyHash)return await r.verifyHash(t,e);const c=(()=>{const u=e.signature;return $i(u)?u:typeof u=="object"&&"r"in u&&"s"in u?oj(u):Ar(u)})();try{return use(c)?await Nse(t,{...e,multicallAddress:a,signature:c}):await $se(t,{...e,verifierAddress:s,signature:c})}catch(u){try{if(K0(li(n),await _L({hash:i,signature:c})))return!0}catch{}if(u instanceof af)return!1;throw u}}async function Nse(t,e){const{address:n,blockNumber:r,blockTag:i,hash:s,multicallAddress:a}=e,{authorization:c,data:u,signature:d,to:h}=lse(e.signature);if(await TT(t,{address:n,blockNumber:r,blockTag:i})===Sa(["0xef0100",c.address]))return await Pse(t,{address:n,blockNumber:r,blockTag:i,hash:s,signature:d});const m={address:c.address,chainId:Number(c.chainId),nonce:Number(c.nonce),r:$e(c.r,{size:32}),s:$e(c.s,{size:32}),yParity:c.yParity};if(!await Nre({address:n,authorization:m}))throw new af;const b=await We(t,ao,"readContract")({...a?{address:a}:{code:EI},authorizationList:[m],abi:g1,blockNumber:r,blockTag:"pending",functionName:"aggregate3",args:[[...u?[{allowFailure:!0,target:h??n,callData:u}]:[],{allowFailure:!0,target:n,callData:Li({abi:s7,functionName:"isValidSignature",args:[s,d]})}]]});if(b[b.length-1]?.returnData?.startsWith("0x1626ba7e"))return!0;throw new af}async function $se(t,e){const{address:n,factory:r,factoryData:i,hash:s,signature:a,verifierAddress:c,...u}=e,d=await(async()=>!r&&!i||kse(a)?a:Ose({data:i,signature:a,to:r}))(),h=c?{to:c,data:Li({abi:oN,functionName:"isValidSig",args:[n,s,d]}),...u}:{data:F_({abi:oN,args:[n,s,d],bytecode:Ine}),...u},{data:p}=await We(t,q_,"call")(h).catch(m=>{throw m instanceof bL?new af:m});if(GQ(p??"0x0"))return!0;throw new af}async function Pse(t,e){const{address:n,blockNumber:r,blockTag:i,hash:s,signature:a}=e;if((await We(t,ao,"readContract")({address:n,abi:s7,args:[s,a],blockNumber:r,blockTag:i,functionName:"isValidSignature"}).catch(u=>{throw u instanceof wL?new af:u})).startsWith("0x1626ba7e"))return!0;throw new af}class af extends Error{}async function Dse(t,{address:e,message:n,factory:r,factoryData:i,signature:s,...a}){const c=RI(n);return We(t,J_,"verifyHash")({address:e,factory:r,factoryData:i,hash:c,signature:s,...a})}async function Mse(t,e){const{address:n,factory:r,factoryData:i,signature:s,message:a,primaryType:c,types:u,domain:d,...h}=e,p=O7({message:a,primaryType:c,types:u,domain:d});return We(t,J_,"verifyHash")({address:n,factory:r,factoryData:i,hash:p,signature:s,...h})}function cj(t,{emitOnBegin:e=!1,emitMissed:n=!1,onBlockNumber:r,onError:i,poll:s,pollingInterval:a=t.pollingInterval}){const c=typeof s<"u"?s:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc"));let u;return c?(()=>{const p=Nr(["watchBlockNumber",t.uid,e,n,a]);return cl(p,{onBlockNumber:r,onError:i},m=>Wp(async()=>{try{const g=await We(t,Q0,"getBlockNumber")({cacheTime:0});if(u!==void 0){if(g===u)return;if(g-u>1&&n)for(let b=u+1n;b<g;b++)m.onBlockNumber(b,u),u=b}(u===void 0||g>u)&&(m.onBlockNumber(g,u),u=g)}catch(g){m.onError?.(g)}},{emitOnBegin:e,interval:a}))})():(()=>{const p=Nr(["watchBlockNumber",t.uid,e,n]);return cl(p,{onBlockNumber:r,onError:i},m=>{let g=!0,b=()=>g=!1;return(async()=>{try{const v=(()=>{if(t.transport.type==="fallback"){const O=t.transport.transports.find(k=>k.config.type==="webSocket"||k.config.type==="ipc");return O?O.value:t.transport}return t.transport})(),{unsubscribe:E}=await v.subscribe({params:["newHeads"],onData(O){if(!g)return;const k=ln(O.result?.number);m.onBlockNumber(k,u),u=k},onError(O){m.onError?.(O)}});b=E,g||b()}catch(v){i?.(v)}})(),()=>b()})})()}async function lj(t,e){const{checkReplacement:n=!0,confirmations:r=1,hash:i,onReplaced:s,retryCount:a=6,retryDelay:c=({count:C})=>~~(1<<C)*200,timeout:u=18e4}=e,d=Nr(["waitForTransactionReceipt",t.uid,i]),h=e.pollingInterval?e.pollingInterval:t.chain?.experimental_preconfirmationTime?t.chain.experimental_preconfirmationTime:t.pollingInterval;let p,m,g,b=!1,v,E;const{promise:O,resolve:k,reject:S}=AI(),A=u?setTimeout(()=>{E?.(),v?.(),S(new ute({hash:i}))},u):void 0;return v=cl(d,{onReplaced:s,resolve:k,reject:S},async C=>{if(g=await We(t,Bv,"getTransactionReceipt")({hash:i}).catch(()=>{}),g&&r<=1){clearTimeout(A),C.resolve(g),v?.();return}E=We(t,cj,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:h,async onBlockNumber(I){const $=L=>{clearTimeout(A),E?.(),L(),v?.()};let z=I;if(!b)try{if(g){if(r>1&&(!g.blockNumber||z-g.blockNumber+1n<r))return;$(()=>C.resolve(g));return}if(n&&!p&&(b=!0,await b1(async()=>{p=await We(t,jI,"getTransaction")({hash:i}),p.blockNumber&&(z=p.blockNumber)},{delay:c,retryCount:a}),b=!1),g=await We(t,Bv,"getTransactionReceipt")({hash:i}),r>1&&(!g.blockNumber||z-g.blockNumber+1n<r))return;$(()=>C.resolve(g))}catch(L){if(L instanceof yL||L instanceof mL){if(!p){b=!1;return}try{m=p,b=!0;const B=await b1(()=>We(t,Za,"getBlock")({blockNumber:z,includeTransactions:!0}),{delay:c,retryCount:a,shouldRetry:({error:F})=>F instanceof TL});b=!1;const V=B.transactions.find(({from:F,nonce:K})=>F===m.from&&K===m.nonce);if(!V||(g=await We(t,Bv,"getTransactionReceipt")({hash:V.hash}),r>1&&(!g.blockNumber||z-g.blockNumber+1n<r)))return;let D="replaced";V.to===m.to&&V.value===m.value&&V.input===m.input?D="repriced":V.from===V.to&&V.value===0n&&(D="cancelled"),$(()=>{C.onReplaced?.({reason:D,replacedTransaction:m,transaction:V,transactionReceipt:g}),C.resolve(g)})}catch(B){$(()=>C.reject(B))}}else $(()=>C.reject(L))}}})}),O}function Use(t,{blockTag:e=t.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:i,onError:s,includeTransactions:a,poll:c,pollingInterval:u=t.pollingInterval}){const d=typeof c<"u"?c:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),h=a??!1;let p;return d?(()=>{const b=Nr(["watchBlocks",t.uid,e,n,r,h,u]);return cl(b,{onBlock:i,onError:s},v=>Wp(async()=>{try{const E=await We(t,Za,"getBlock")({blockTag:e,includeTransactions:h});if(E.number!==null&&p?.number!=null){if(E.number===p.number)return;if(E.number-p.number>1&&n)for(let O=p?.number+1n;O<E.number;O++){const k=await We(t,Za,"getBlock")({blockNumber:O,includeTransactions:h});v.onBlock(k,p),p=k}}(p?.number==null||e==="pending"&&E?.number==null||E.number!==null&&E.number>p.number)&&(v.onBlock(E,p),p=E)}catch(E){v.onError?.(E)}},{emitOnBegin:r,interval:u}))})():(()=>{let b=!0,v=!0,E=()=>b=!1;return(async()=>{try{r&&We(t,Za,"getBlock")({blockTag:e,includeTransactions:h}).then(S=>{b&&v&&(i(S,void 0),v=!1)}).catch(s);const O=(()=>{if(t.transport.type==="fallback"){const S=t.transport.transports.find(A=>A.config.type==="webSocket"||A.config.type==="ipc");return S?S.value:t.transport}return t.transport})(),{unsubscribe:k}=await O.subscribe({params:["newHeads"],async onData(S){if(!b)return;const A=await We(t,Za,"getBlock")({blockNumber:S.result?.number,includeTransactions:h}).catch(()=>{});b&&(i(A,p),v=!1,p=A)},onError(S){s?.(S)}});E=k,b||E()}catch(O){s?.(O)}})(),()=>E()})()}function Bse(t,{address:e,args:n,batch:r=!0,event:i,events:s,fromBlock:a,onError:c,onLogs:u,poll:d,pollingInterval:h=t.pollingInterval,strict:p}){const m=typeof d<"u"?d:typeof a=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),g=p??!1;return m?(()=>{const E=Nr(["watchEvent",e,n,r,t.uid,i,h,a]);return cl(E,{onLogs:u,onError:c},O=>{let k;a!==void 0&&(k=a-1n);let S,A=!1;const C=Wp(async()=>{if(!A){try{S=await We(t,x7,"createEventFilter")({address:e,args:n,event:i,events:s,strict:g,fromBlock:a})}catch{}A=!0;return}try{let I;if(S)I=await We(t,W_,"getFilterChanges")({filter:S});else{const $=await We(t,Q0,"getBlockNumber")({});k&&k!==$?I=await We(t,gI,"getLogs")({address:e,args:n,event:i,events:s,fromBlock:k+1n,toBlock:$}):I=[],k=$}if(I.length===0)return;if(r)O.onLogs(I);else for(const $ of I)O.onLogs([$])}catch(I){S&&I instanceof Ru&&(A=!1),O.onError?.(I)}},{emitOnBegin:!0,interval:h});return async()=>{S&&await We(t,V_,"uninstallFilter")({filter:S}),C()}})})():(()=>{let E=!0,O=()=>E=!1;return(async()=>{try{const k=(()=>{if(t.transport.type==="fallback"){const I=t.transport.transports.find($=>$.config.type==="webSocket"||$.config.type==="ipc");return I?I.value:t.transport}return t.transport})(),S=s??(i?[i]:void 0);let A=[];S&&(A=[S.flatMap($=>F0({abi:[$],eventName:$.name,args:n}))],i&&(A=A[0]));const{unsubscribe:C}=await k.subscribe({params:["logs",{address:e,topics:A}],onData(I){if(!E)return;const $=I.result;try{const{eventName:z,args:L}=p1({abi:S??[],data:$.data,topics:$.topics,strict:g}),B=qo($,{args:L,eventName:z});u([B])}catch(z){let L,B;if(z instanceof h1||z instanceof Z3){if(p)return;L=z.abiItem.name,B=z.abiItem.inputs?.some(D=>!("name"in D&&D.name))}const V=qo($,{args:B?[]:{},eventName:L});u([V])}},onError(I){c?.(I)}});O=C,E||O()}catch(k){c?.(k)}})(),()=>O()})()}function Lse(t,{batch:e=!0,onError:n,onTransactions:r,poll:i,pollingInterval:s=t.pollingInterval}){return(typeof i<"u"?i:t.transport.type!=="webSocket"&&t.transport.type!=="ipc")?(()=>{const d=Nr(["watchPendingTransactions",t.uid,e,s]);return cl(d,{onTransactions:r,onError:n},h=>{let p;const m=Wp(async()=>{try{if(!p)try{p=await We(t,T7,"createPendingTransactionFilter")({});return}catch(b){throw m(),b}const g=await We(t,W_,"getFilterChanges")({filter:p});if(g.length===0)return;if(e)h.onTransactions(g);else for(const b of g)h.onTransactions([b])}catch(g){h.onError?.(g)}},{emitOnBegin:!0,interval:s});return async()=>{p&&await We(t,V_,"uninstallFilter")({filter:p}),m()}})})():(()=>{let d=!0,h=()=>d=!1;return(async()=>{try{const{unsubscribe:p}=await t.transport.subscribe({params:["newPendingTransactions"],onData(m){if(!d)return;const g=m.result;r([g])},onError(m){n?.(m)}});h=p,d||h()}catch(p){n?.(p)}})(),()=>h()})()}function jse(t){const{scheme:e,statement:n,...r}=t.match(zse)?.groups??{},{chainId:i,expirationTime:s,issuedAt:a,notBefore:c,requestId:u,...d}=t.match(Fse)?.groups??{},h=t.split("Resources:")[1]?.split(`
- `).slice(1);return{...r,...d,...i?{chainId:Number(i)}:{},...s?{expirationTime:new Date(s)}:{},...a?{issuedAt:new Date(a)}:{},...c?{notBefore:new Date(c)}:{},...u?{requestId:u}:{},...h?{resources:h}:{},...e?{scheme:e}:{},...n?{statement:n}:{}}}const zse=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,Fse=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function qse(t){const{address:e,domain:n,message:r,nonce:i,scheme:s,time:a=new Date}=t;if(n&&r.domain!==n||i&&r.nonce!==i||s&&r.scheme!==s||r.expirationTime&&a>=r.expirationTime||r.notBefore&&a<r.notBefore)return!1;try{if(!r.address||!Nn(r.address,{strict:!1})||e&&!K0(r.address,e))return!1}catch{return!1}return!0}async function Wse(t,e){const{address:n,domain:r,message:i,nonce:s,scheme:a,signature:c,time:u=new Date,...d}=e,h=jse(i);if(!h.address||!qse({address:n,domain:r,message:h,nonce:s,scheme:a,time:u}))return!1;const m=RI(i);return J_(t,{address:h.address,hash:m,signature:c,...d})}async function zI(t,{serializedTransaction:e,throwOnReceiptRevert:n,timeout:r}){const i=await t.request({method:"eth_sendRawTransactionSync",params:r?[e,$e(r)]:[e]},{retryCount:0}),a=(t.chain?.formatters?.transactionReceipt?.format||SI)(i);if(a.status==="reverted"&&n)throw new gL({receipt:a});return a}function v1(t){return{call:e=>q_(t,e),createAccessList:e=>S7(t,e),createBlockFilter:()=>fre(t),createContractEventFilter:e=>uL(t,e),createEventFilter:e=>x7(t,e),createPendingTransactionFilter:()=>T7(t),estimateContractGas:e=>qte(t,e),estimateGas:e=>yI(t,e),getBalance:e=>hre(t,e),getBlobBaseFee:()=>pre(t),getBlock:e=>Za(t,e),getBlockNumber:e=>Q0(t,e),getBlockTransactionCount:e=>yre(t,e),getBytecode:e=>TT(t,e),getChainId:()=>Zo(t),getCode:e=>TT(t,e),getContractEvents:e=>jL(t,e),getEip712Domain:e=>gre(t,e),getEnsAddress:e=>Zne(t,e),getEnsAvatar:e=>lre(t,e),getEnsName:e=>ure(t,e),getEnsResolver:e=>dre(t,e),getEnsText:e=>A7(t,e),getFeeHistory:e=>vre(t,e),estimateFeesPerGas:e=>kte(t,e),getFilterChanges:e=>W_(t,e),getFilterLogs:e=>_re(t,e),getGasPrice:()=>cI(t),getLogs:e=>gI(t,e),getProof:e=>pse(t,e),estimateMaxPriorityFeePerGas:e=>Ote(t,e),fillTransaction:e=>hI(t,e),getStorageAt:e=>yse(t,e),getTransaction:e=>jI(t,e),getTransactionConfirmations:e=>mse(t,e),getTransactionCount:e=>lI(t,e),getTransactionReceipt:e=>Bv(t,e),multicall:e=>gse(t,e),prepareTransactionRequest:e=>Fp(t,e),readContract:e=>ao(t,e),sendRawTransaction:e=>H_(t,e),sendRawTransactionSync:e=>zI(t,e),simulate:e=>PT(t,e),simulateBlocks:e=>PT(t,e),simulateCalls:e=>Ise(t,e),simulateContract:e=>Pne(t,e),verifyHash:e=>J_(t,e),verifyMessage:e=>Dse(t,e),verifySiweMessage:e=>Wse(t,e),verifyTypedData:e=>Mse(t,e),uninstallFilter:e=>V_(t,e),waitForTransactionReceipt:e=>lj(t,e),watchBlocks:e=>Use(t,e),watchBlockNumber:e=>cj(t,e),watchContractEvent:e=>zne(t,e),watchEvent:e=>Bse(t,e),watchPendingTransactions:e=>Lse(t,e)}}function FI(t){const{key:e="public",name:n="Public Client"}=t;return w7({...t,key:e,name:n,type:"publicClient"}).extend(v1)}async function Vse(t,{chain:e}){const{id:n,name:r,nativeCurrency:i,rpcUrls:s,blockExplorers:a}=e;await t.request({method:"wallet_addEthereumChain",params:[{chainId:$e(n),chainName:r,nativeCurrency:i,rpcUrls:s.default.http,blockExplorerUrls:a?Object.values(a).map(({url:c})=>c):void 0}]},{dedupe:!0,retryCount:0})}function Hse(t,e){const{abi:n,args:r,bytecode:i,...s}=e,a=F_({abi:n,args:r,bytecode:i});return tb(t,{...s,...s.authorizationList?{to:null}:{},data:a})}async function Gse(t){return t.account?.type==="local"?[t.account.address]:(await t.request({method:"eth_accounts"},{dedupe:!0})).map(n=>j0(n))}async function Kse(t,e={}){const{account:n=t.account,chainId:r}=e,i=n?$n(n):void 0,s=r?[i?.address,[$e(r)]]:[i?.address],a=await t.request({method:"wallet_getCapabilities",params:s}),c={};for(const[u,d]of Object.entries(a)){c[Number(u)]={};for(let[h,p]of Object.entries(d))h==="addSubAccount"&&(h="unstable_addSubAccount"),c[Number(u)][h]=p}return typeof r=="number"?c[r]:c}async function Yse(t){return await t.request({method:"wallet_getPermissions"},{dedupe:!0})}async function uj(t,e){const{account:n=t.account,chainId:r,nonce:i}=e;if(!n)throw new Xo({docsPath:"/docs/eip7702/prepareAuthorization"});const s=$n(n),a=(()=>{if(e.executor)return e.executor==="self"?e.executor:$n(e.executor)})(),c={address:e.contractAddress??e.address,chainId:r,nonce:i};return typeof c.chainId>"u"&&(c.chainId=t.chain?.id??await We(t,Zo,"getChainId")({})),typeof c.nonce>"u"&&(c.nonce=await We(t,lI,"getTransactionCount")({address:s.address,blockTag:"pending"}),(a==="self"||a?.address&&K0(a.address,s.address))&&(c.nonce+=1)),c}async function Zse(t){return(await t.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>li(n))}async function Xse(t,e){return t.request({method:"wallet_requestPermissions",params:[e]},{retryCount:0})}async function Jse(t,e){const{chain:n=t.chain}=e,r=e.timeout??Math.max((n?.blockTime??0)*3,5e3),i=await y7(t,e);return await g7(t,{...e,id:i.id,timeout:r})}const NS=new jp(128);async function dj(t,e){const{account:n=t.account,chain:r=t.chain,accessList:i,authorizationList:s,blobs:a,data:c,gas:u,gasPrice:d,maxFeePerBlobGas:h,maxFeePerGas:p,maxPriorityFeePerGas:m,nonce:g,pollingInterval:b,throwOnReceiptRevert:v,type:E,value:O,...k}=e,S=e.timeout??Math.max((r?.blockTime??0)*3,5e3);if(typeof n>"u")throw new Xo({docsPath:"/docs/actions/wallet/sendTransactionSync"});const A=n?$n(n):null;try{Yo(e);const C=await(async()=>{if(e.to)return e.to;if(e.to!==null&&s&&s.length>0)return await D_({authorization:s[0]}).catch(()=>{throw new _e("`to` is required. Could not infer from `authorizationList`.")})})();if(A?.type==="json-rpc"||A===null){let I;r!==null&&(I=await We(t,Zo,"getChainId")({}),eb({currentChainId:I,chain:r}));const $=t.chain?.formatters?.transactionRequest?.format,L=($||gl)({...zp(k,{format:$}),accessList:i,account:A,authorizationList:s,blobs:a,chainId:I,data:c,gas:u,gasPrice:d,maxFeePerBlobGas:h,maxFeePerGas:p,maxPriorityFeePerGas:m,nonce:g,to:C,type:E,value:O},"sendTransaction"),B=NS.get(t.uid),V=B?"wallet_sendTransaction":"eth_sendTransaction",D=await(async()=>{try{return await t.request({method:V,params:[L]},{retryCount:0})}catch(K){if(B===!1)throw K;const T=K;if(T.name==="InvalidInputRpcError"||T.name==="InvalidParamsRpcError"||T.name==="MethodNotFoundRpcError"||T.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[L]},{retryCount:0}).then(x=>(NS.set(t.uid,!0),x)).catch(x=>{const N=x;throw N.name==="MethodNotFoundRpcError"||N.name==="MethodNotSupportedRpcError"?(NS.set(t.uid,!1),T):N});throw T}})(),F=await We(t,lj,"waitForTransactionReceipt")({checkReplacement:!1,hash:D,pollingInterval:b,timeout:S});if(v&&F.status==="reverted")throw new gL({receipt:F});return F}if(A?.type==="local"){const I=await We(t,Fp,"prepareTransactionRequest")({account:A,accessList:i,authorizationList:s,blobs:a,chain:r,data:c,gas:u,gasPrice:d,maxFeePerBlobGas:h,maxFeePerGas:p,maxPriorityFeePerGas:m,nonce:g,nonceManager:A.nonceManager,parameters:[...pI,"sidecars"],type:E,value:O,...k,to:C}),$=r?.serializers?.transaction,z=await A.signTransaction(I,{serializer:$});return await We(t,zI,"sendRawTransactionSync")({serializedTransaction:z,throwOnReceiptRevert:v})}throw A?.type==="smart"?new Vd({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new Vd({docsPath:"/docs/actions/wallet/sendTransactionSync",type:A?.type})}catch(C){throw C instanceof Vd?C:G0(C,{...e,account:A,chain:e.chain||void 0})}}async function Qse(t,e){const{id:n}=e;await t.request({method:"wallet_showCallsStatus",params:[n]})}async function eae(t,e){const{account:n=t.account}=e;if(!n)throw new Xo({docsPath:"/docs/eip7702/signAuthorization"});const r=$n(n);if(!r.signAuthorization)throw new Vd({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:r.type});const i=await uj(t,e);return r.signAuthorization(i)}async function tae(t,{account:e=t.account,message:n}){if(!e)throw new Xo({docsPath:"/docs/actions/wallet/signMessage"});const r=$n(e);if(r.signMessage)return r.signMessage({message:n});const i=typeof n=="string"?dp(n):n.raw instanceof Uint8Array?xt(n.raw):n.raw;return t.request({method:"personal_sign",params:[i,r.address]},{retryCount:0})}async function fj(t,e){const{account:n=t.account,chain:r=t.chain,...i}=e;if(!n)throw new Xo({docsPath:"/docs/actions/wallet/signTransaction"});const s=$n(n);Yo({account:s,...e});const a=await We(t,Zo,"getChainId")({});r!==null&&eb({currentChainId:a,chain:r});const u=(r?.formatters||t.chain?.formatters)?.transactionRequest?.format||gl;return s.signTransaction?s.signTransaction({...i,chainId:a},{serializer:t.chain?.serializers?.transaction}):await t.request({method:"eth_signTransaction",params:[{...u({...i,account:s},"signTransaction"),chainId:$e(a),from:s.address}]},{retryCount:0})}async function hj(t,e){const{account:n=t.account,domain:r,message:i,primaryType:s}=e;if(!n)throw new Xo({docsPath:"/docs/actions/wallet/signTypedData"});const a=$n(n),c={EIP712Domain:C7({domain:r}),...e.types};if(I7({domain:r,message:i,primaryType:s,types:c}),a.signTypedData)return a.signTypedData({domain:r,message:i,primaryType:s,types:c});const u=Wre({domain:r,message:i,primaryType:s,types:c});return t.request({method:"eth_signTypedData_v4",params:[a.address,u]},{retryCount:0})}async function nae(t,{id:e}){await t.request({method:"wallet_switchEthereumChain",params:[{chainId:$e(e)}]},{retryCount:0})}async function rae(t,e){return await t.request({method:"wallet_watchAsset",params:e},{retryCount:0})}async function iae(t,e){return gp.internal(t,dj,"sendTransactionSync",e)}function sae(t){return{addChain:e=>Vse(t,e),deployContract:e=>Hse(t,e),fillTransaction:e=>hI(t,e),getAddresses:()=>Gse(t),getCallsStatus:e=>m7(t,e),getCapabilities:e=>Kse(t,e),getChainId:()=>Zo(t),getPermissions:()=>Yse(t),prepareAuthorization:e=>uj(t,e),prepareTransactionRequest:e=>Fp(t,e),requestAddresses:()=>Zse(t),requestPermissions:e=>Xse(t,e),sendCalls:e=>y7(t,e),sendCallsSync:e=>Jse(t,e),sendRawTransaction:e=>H_(t,e),sendRawTransactionSync:e=>zI(t,e),sendTransaction:e=>tb(t,e),sendTransactionSync:e=>dj(t,e),showCallsStatus:e=>Qse(t,e),signAuthorization:e=>eae(t,e),signMessage:e=>tae(t,e),signTransaction:e=>fj(t,e),signTypedData:e=>hj(t,e),switchChain:e=>nae(t,e),waitForCallsStatus:e=>g7(t,e),watchAsset:e=>rae(t,e),writeContract:e=>gp(t,e),writeContractSync:e=>iae(t,e)}}function aae(t){const{key:e="wallet",name:n="Wallet Client",transport:r}=t;return w7({...t,key:e,name:n,transport:r,type:"walletClient"}).extend(sae)}function oae({key:t,methods:e,name:n,request:r,retryCount:i=3,retryDelay:s=150,timeout:a,type:c},u){const d=b7();return{config:{key:t,methods:e,name:n,request:r,retryCount:i,retryDelay:s,timeout:a,type:c},request:Pre(r,{methods:e,retryCount:i,retryDelay:s,uid:d}),value:u}}class cae extends _e{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function Q_(t,e={}){const{batch:n,fetchFn:r,fetchOptions:i,key:s="http",methods:a,name:c="HTTP JSON-RPC",onFetchRequest:u,onFetchResponse:d,retryDelay:h,raw:p}=e;return({chain:m,retryCount:g,timeout:b})=>{const{batchSize:v=1e3,wait:E=0}=typeof n=="object"?n:{},O=e.retryCount??g,k=b??e.timeout??1e4,S=t||m?.rpcUrls.default.http[0];if(!S)throw new cae;const A=Bre(S,{fetchFn:r,fetchOptions:i,onRequest:u,onResponse:d,timeout:k});return oae({key:s,methods:a,name:c,async request({method:C,params:I}){const $={method:C,params:I},{schedule:z}=l7({id:S,wait:E,shouldSplitBatch(D){return D.length>v},fn:D=>A.request({body:D}),sort:(D,F)=>D.id-F.id}),L=async D=>n?z(D):[await A.request({body:D})],[{error:B,result:V}]=await L($);if(p)return{error:B,result:V};if(B)throw new iI({body:$,error:B,url:S});return V},retryCount:O,retryDelay:h,timeout:k,type:"http"},{fetchOptions:i,url:S})}}const SN=(t,e,n,r)=>{let i=Number(t),s=e.find((a=>a.id===i));if(!s)throw new TB(`Unsupported chainId ${t}`,4901);return FI({transport:Q_(lae(s,n,r.appId)),chain:s})},lae=(t,e,n)=>{let r,i=t.id,s=Number(t.id);if(t.rpcUrls.privyWalletOverride&&t.rpcUrls.privyWalletOverride.http[0])r=t.rpcUrls.privyWalletOverride.http[0];else if(e.rpcUrls&&e.rpcUrls[s])r=e.rpcUrls[s];else if(t.rpcUrls.privy?.http[0]){let a=new URL(t.rpcUrls.privy.http[0]);a.searchParams.append("privyAppId",n),r=a.toString()}else r=t.rpcUrls.public?.http[0]?t.rpcUrls.public.http[0]:t.rpcUrls.default?.http[0];if(!r)throw new TB(`No RPC url found for ${i}`);return r};function uae({currentRecoveryMethod:t,upgradeToRecoveryMethod:e}){switch(t){case"privy":case"user-passcode":case"recovery-encryption-key":return!0;case"icloud":case"google-drive":if(t===e)throw Error("Cannot upgrade to the existing cloud platform");return!0;default:throw Error("Unknown recovery method")}}function dae(t){return new Promise((e=>{setTimeout((()=>{e()}),t)}))}let fae=class{enqueue(e,n){this.callbacks[e]=n}dequeue(e,n){let r=this.callbacks[n];if(!r)throw Error(`cannot dequeue ${e} event: no event found for id ${n}`);switch(delete this.callbacks[n],e){case"privy:iframe:ready":case"privy:wallets:create":case"privy:user-signer:sign":case"privy:wallets:add":case"privy:wallets:set-recovery":case"privy:wallets:connect":case"privy:wallets:recover":case"privy:wallets:rpc":case"privy:wallet:create":case"privy:wallet:connect":case"privy:wallet:recover":case"privy:wallet:rpc":case"privy:solana-wallet:create":case"privy:solana-wallet:create-additional":case"privy:solana-wallet:connect":case"privy:solana-wallet:recover":case"privy:solana-wallet:rpc":case"privy:delegated-actions:consent":case"privy:mfa:verify":case"privy:mfa:init-enrollment":case"privy:mfa:submit-enrollment":case"privy:mfa:unenroll":case"privy:mfa:clear":return r;default:throw Error(`invalid wallet event type ${e}`)}}constructor(){this.callbacks={}}};async function hae(t,e,n,r,i=!1,s,a){let c=i,u=async h=>{if(c){h===(i?0:1)?r():n.current?.reject(new Uv("missing_or_invalid_mfa","MFA verification failed, retry."));let p=await new Promise(((m,g)=>{e.current={resolve:m,reject:g},setTimeout((()=>{let b=new Uv("mfa_timeout","Timed out waiting for MFA code");n.current?.reject(b),g(b)}),a)}));return await t(p)}return await t()},d=null;for(let h=0;h<s;h++)try{d=await u(h),n.current?.resolve(void 0);break}catch(p){if(p.type!=="missing_or_invalid_mfa")throw n.current?.resolve(void 0),p;c=!0}if(d===null){let h=new Uv("mfa_verification_max_attempts_reached","Max MFA verification attempts reached");throw n.current?.reject(h),h}return d}var xN;let pae=(xN=0,()=>"id-"+xN++),yae=(t,e)=>typeof e=="bigint"?e.toString():e,Gl=async(t,{ms:e,msg:n})=>{let r,i=new Promise(((s,a)=>{r=setTimeout((()=>{a(Error(n))}),e??15e3)}));try{return await Promise.race([t,i])}finally{r!==void 0&&clearTimeout(r)}},TN=new fae,IN=class{invokeWithMfa(e,n){return Gl(hae((r=>Gl(this.waitForReady().then((()=>e(r))),{msg:n.timeoutMsg,ms:n.timeoutMs})),this.mfa.rootPromise,this.mfa.submitPromise,(()=>this.mfa.emit("mfaRequired")),n.mfaAlwaysRequired??!1,4,3e5),{msg:"Operation reached timeout: MFA verification",ms:126e4})}reload(){return this.ready=!1,this._embeddedWalletMessagePoster.reload()}ping(e=15e3){return Gl(this.invoke("privy:iframe:ready",{}),{msg:"Ping reached timeout",ms:e})}create(e){return Gl(this.waitForReady().then((()=>this.invoke("privy:wallet:create",e))),{msg:"Operation reached timeout: create"})}rpc(e){return this.invokeWithMfa((n=>this.invoke("privy:wallet:rpc",{...n,...e})),{timeoutMsg:"Operation reached timeout: rpc"})}createSolana(e){return this.invokeWithMfa((n=>this.invoke("privy:solana-wallet:create",{...n,...e})),{timeoutMsg:"Operation reached timeout: create",timeoutMs:6e4})}createAdditionalSolana(e){return Gl(this.waitForReady().then((()=>this.invoke("privy:solana-wallet:create-additional",e))),{msg:"Operation reached timeout: create"})}solanaRpc(e){return this.invokeWithMfa((n=>this.invoke("privy:solana-wallet:rpc",{...n,...e})),{timeoutMsg:"Operation reached timeout: solana-rpc"})}delegateWallets(e){return this.invokeWithMfa((n=>this.invoke("privy:delegated-actions:consent",{...n,...e})),{timeoutMsg:"Operation reached timeout: delegated-actions:consent"})}verifyMfa(e){return this.invokeWithMfa((n=>this.invoke("privy:mfa:verify",{...n,...e})),{timeoutMsg:"Operation reached timeout: mfa:verify",mfaAlwaysRequired:!0})}initEnrollMfa(e){return this.invokeWithMfa((n=>this.invoke("privy:mfa:init-enrollment",{...n,...e})),{timeoutMsg:"Operation reached timeout: mfa:init-enrollment"})}submitEnrollMfa(e){return this.invokeWithMfa((n=>this.invoke("privy:mfa:submit-enrollment",{...n,...e})),{timeoutMsg:"Operation reached timeout: mfa:submit-enrollment"})}unenrollMfa(e){return this.invokeWithMfa((n=>this.invoke("privy:mfa:unenroll",{...n,...e})),{timeoutMsg:"Operation reached timeout: mfa:unenroll",mfaAlwaysRequired:!0})}clearMfa(e){return Gl(this.waitForReady().then((()=>this.invoke("privy:mfa:clear",e))),{msg:"Operation reached timeout: mfa:clear"})}createWallet(e){return this.invokeWithMfa((n=>this.invoke("privy:wallets:create",{...n,...e})),{timeoutMsg:"Operation reached timeout: create",timeoutMs:6e4})}signWithUserSigner(e){return this.invokeWithMfa((n=>this.invoke("privy:user-signer:sign",{...n,...e})),{timeoutMsg:"Operation reached timeout: user-signer:sign"})}addWallet(e){return Gl(this.waitForReady().then((()=>this.invoke("privy:wallets:add",e))),{msg:"Operation reached timeout: wallets:add"})}setRecovery(e){return this.invokeWithMfa((n=>this.invoke("privy:wallets:set-recovery",{...n,...e})),{timeoutMsg:"Operation reached timeout: wallets:set-recovery",timeoutMs:6e4})}connect(e){return Gl(this.waitForReady().then((()=>this.invoke("privy:wallets:connect",e))),{msg:"Operation reached timeout: wallets:connect"})}recover(e){return this.invokeWithMfa((n=>this.invoke("privy:wallets:recover",{...n,...e})),{timeoutMsg:"Operation reached timeout: wallets:recover",timeoutMs:6e4})}rpcWallet(e){return this.invokeWithMfa((n=>this.invoke("privy:wallets:rpc",{...n,...e})),{timeoutMsg:"Operation reached timeout: wallets:rpc"})}handleEmbeddedWalletMessages(e){if(!e.event.startsWith("privy:"))return void console.warn(`Unsupported event type: ${e.event}`);let{reject:n,resolve:r}=TN.dequeue(e.event,e.id);return e.error!==void 0?n(new Uv(e.error.type,e.error.message)):r(e.data)}waitForReady(){return this.ready?Promise.resolve():new Promise((async(e,n)=>{for(;!this.ready;)this.invoke("privy:iframe:ready",{}).then((()=>{this.ready=!0,e()})).catch(n),await dae(150)}))}invoke(e,n){let r=((s,a)=>`${s}${JSON.stringify(a,yae)}`)(e,n);if(e==="privy:wallet:create"||e==="privy:solana-wallet:create"){let s=this.cache.get(r);if(s)return s}let i=new Promise(((s,a)=>{let c=pae();TN.enqueue(c,{resolve:s,reject:a}),this._embeddedWalletMessagePoster.postMessage(JSON.stringify({id:c,event:e,data:n}),"*")})).finally((()=>{this.cache.delete(r)}));return this.cache.set(r,i),i}constructor(e,n){this.ready=!1,this.cache=new Map,this._embeddedWalletMessagePoster=e,this.mfa=n}};var $S={exports:{}},CN;function mae(){return CN||(CN=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,d,h){this.fn=u,this.context=d,this.once=h||!1}function s(u,d,h,p,m){if(typeof h!="function")throw new TypeError("The listener must be a function");var g=new i(h,p||u,m),b=n?n+d:d;return u._events[b]?u._events[b].fn?u._events[b]=[u._events[b],g]:u._events[b].push(g):(u._events[b]=g,u._eventsCount++),u}function a(u,d){--u._eventsCount===0?u._events=new r:delete u._events[d]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var d=[],h,p;if(this._eventsCount===0)return d;for(p in h=this._events)e.call(h,p)&&d.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},c.prototype.listeners=function(d){var h=n?n+d:d,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var m=0,g=p.length,b=new Array(g);m<g;m++)b[m]=p[m].fn;return b},c.prototype.listenerCount=function(d){var h=n?n+d:d,p=this._events[h];return p?p.fn?1:p.length:0},c.prototype.emit=function(d,h,p,m,g,b){var v=n?n+d:d;if(!this._events[v])return!1;var E=this._events[v],O=arguments.length,k,S;if(E.fn){switch(E.once&&this.removeListener(d,E.fn,void 0,!0),O){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,h),!0;case 3:return E.fn.call(E.context,h,p),!0;case 4:return E.fn.call(E.context,h,p,m),!0;case 5:return E.fn.call(E.context,h,p,m,g),!0;case 6:return E.fn.call(E.context,h,p,m,g,b),!0}for(S=1,k=new Array(O-1);S<O;S++)k[S-1]=arguments[S];E.fn.apply(E.context,k)}else{var A=E.length,C;for(S=0;S<A;S++)switch(E[S].once&&this.removeListener(d,E[S].fn,void 0,!0),O){case 1:E[S].fn.call(E[S].context);break;case 2:E[S].fn.call(E[S].context,h);break;case 3:E[S].fn.call(E[S].context,h,p);break;case 4:E[S].fn.call(E[S].context,h,p,m);break;default:if(!k)for(C=1,k=new Array(O-1);C<O;C++)k[C-1]=arguments[C];E[S].fn.apply(E[S].context,k)}}return!0},c.prototype.on=function(d,h,p){return s(this,d,h,p,!1)},c.prototype.once=function(d,h,p){return s(this,d,h,p,!0)},c.prototype.removeListener=function(d,h,p,m){var g=n?n+d:d;if(!this._events[g])return this;if(!h)return a(this,g),this;var b=this._events[g];if(b.fn)b.fn===h&&(!m||b.once)&&(!p||b.context===p)&&a(this,g);else{for(var v=0,E=[],O=b.length;v<O;v++)(b[v].fn!==h||m&&!b[v].once||p&&b[v].context!==p)&&E.push(b[v]);E.length?this._events[g]=E.length===1?E[0]:E:a(this,g)}return this},c.prototype.removeAllListeners=function(d){var h;return d?(h=n?n+d:d,this._events[h]&&a(this,h)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c})($S)),$S.exports}var gae=mae();const Lu=Uu(gae);let PS={0:"legacy",1:"eip2930",2:"eip1559",3:"eip4844",4:"eip7702"};const pj={legacy:0,eip2930:1,eip1559:2,eip4844:3,eip7702:4};let gh=t=>t!==void 0?BigInt(t):void 0;function _1(t){let e,{type:n=2,...r}=typeof t=="string"?JSON.parse(t):t;r.accessList&&Array.isArray(r.accessList)?e=r.accessList.map((d=>Array.isArray(d)?{address:d[0],storageKeys:d[1]}:d)):r.accessList&&(e=Object.entries(r.accessList).map((d=>({address:d[0],storageKeys:d[1]}))));let i=Number(r.chainId??1),s=$i(r.data)?r.data:r.data?xt(Uint8Array.from(r.data)):void 0,a=r.nonce?Number(r.nonce):void 0,c={chainId:i,data:s,nonce:a,value:gh(r.value),gas:gh(r.gas??r.gasLimit)},u=Number(n);if(u===0)return{...r,type:PS[u],...c,gasPrice:gh(r.gasPrice),accessList:void 0,maxFeePerGas:void 0,maxPriorityFeePerGas:void 0};if(u===1)return{...r,type:PS[u],...c,gasPrice:gh(r.gasPrice),accessList:e,maxFeePerGas:void 0,maxPriorityFeePerGas:void 0};if(u===2)return{...r,type:PS[u],...c,nonce:a,accessList:e,maxFeePerGas:gh(r.maxFeePerGas),maxPriorityFeePerGas:gh(r.maxPriorityFeePerGas),gasPrice:void 0,maxFeePerBlobGas:void 0};throw Error(`Unsupported transaction type: ${n}`)}const E1=t=>/^0x[0-9a-fA-F]*$/.test(t),A1=t=>Buffer.from(t,"utf8"),d0=t=>`0x${t.toString("hex")}`;var DS,ON;function bae(){return ON||(ON=1,DS=function t(e){if(typeof e=="number"&&isNaN(e))throw new Error("NaN is not allowed");if(typeof e=="number"&&!isFinite(e))throw new Error("Infinity is not allowed");return e===null||typeof e!="object"?JSON.stringify(e):e.toJSON instanceof Function?t(e.toJSON()):Array.isArray(e)?`[${e.reduce((i,s,a)=>`${i}${a===0?"":","}${t(s===void 0||typeof s=="symbol"?null:s)}`,"")}]`:`{${Object.keys(e).sort().reduce((r,i)=>{if(e[i]===void 0||typeof e[i]=="symbol")return r;const s=r.length===0?"":",";return`${r}${s}${t(i)}:${t(e[i])}`},"")}}`}),DS}var wae=bae();const vae=Uu(wae);async function _ae(t,e){let n=vae(e);if(n===void 0)throw new nn({error:"Failed to prepare the payload for signing",code:"invalid_input"});let r=Buffer.from(n).toString("base64"),{signature:i}=await t({message:r});return{signature:i}}async function Ms(t,e,{wallet_id:n,...r}){let i={version:1,url:t.getCompiledPath(aS,{params:{wallet_id:n}}),method:aS.method,headers:{"privy-app-id":t.app.appId},body:{...r}},{signature:s}=await _ae(e,i);return await t.fetchPrivyRoute(aS,{body:r,params:{wallet_id:n},headers:{"privy-authorization-signature":s}})}function Eae(t){return{from:t.from,to:t.to??void 0,nonce:dd(t.nonce),chain_id:dd(t.chainId),data:(function(e){if(e!==void 0)return typeof e=="string"?E1(e)?e:d0(A1(e)):d0(Buffer.from(Uint8Array.from(e)))})(t.data),value:dd(t.value),type:t.type,gas_limit:dd(t.gasLimit),gas_price:dd(t.gasPrice),max_fee_per_gas:dd(t.maxFeePerGas),max_priority_fee_per_gas:dd(t.maxPriorityFeePerGas)}}function dd(t){if(typeof t=="number"||typeof t=="bigint")return`0x${BigInt(t).toString(16)}`;if(typeof t=="string")return E1(t)?t:d0(A1(t))}function Aae(t){return typeof t=="string"&&(t=JSON.parse(t)),{types:t.types,primary_type:String(t.primaryType),domain:t.domain,message:t.message}}async function yj({context:t,account:e,rpcRequest:n}){switch(n.chainType){case"ethereum":return(async function({context:r,account:i,rpcRequest:s}){switch(s.method){case"personal_sign":{let[a]=s.params,c=await Ms(r,r.signRequest,{chain_type:"ethereum",method:"personal_sign",wallet_id:i.id,params:a.startsWith("0x")?{message:a.slice(2),encoding:"hex"}:{message:a,encoding:"utf-8"}});if(c.method!=="personal_sign")throw Error("Unable to sign message");return{data:c.data.signature}}case"eth_signTransaction":{let[a]=s.params,c=await Ms(r,r.signRequest,{chain_type:"ethereum",method:"eth_signTransaction",wallet_id:i.id,params:{transaction:Eae(a)}});if(c.method!=="eth_signTransaction")throw Error("Unable to sign transaction");return{data:c.data.signed_transaction}}case"eth_signTypedData_v4":{let[,a]=s.params,c=await Ms(r,r.signRequest,{chain_type:"ethereum",method:s.method,wallet_id:i.id,params:{typed_data:Aae(a)}});if(c.method!=="eth_signTypedData_v4")throw Error("Unable to sign typed data");return{data:c.data.signature}}case"eth_sign":{let[,a]=s.params,c=await Ms(r,r.signRequest,{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:i.id,params:{hash:E1(a)?a:d0(A1(a))}});if(c.method!=="secp256k1_sign")throw Error("Unable to sign message");return{data:c.data.signature}}case"secp256k1_sign":{let[a]=s.params,c=await Ms(r,r.signRequest,{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:i.id,params:{hash:E1(a)?a:d0(A1(a))}});if(c.method!=="secp256k1_sign")throw Error("Unable to sign message");return{data:c.data.signature}}case"csw_signUserOperation":case"eth_sendTransaction":case"eth_populateTransactionRequest":throw Error(`This wallet does not support the method: ${s.method}`)}})({context:t,account:e,rpcRequest:n.request});case"solana":return(async function({context:r,account:i,rpcRequest:s}){if(s.method==="signMessage"){let{message:a}=s.params,c=await Ms(r,r.signRequest,{chain_type:"solana",method:"signMessage",wallet_id:i.id,params:{message:a,encoding:"base64"}});if(c.method!=="signMessage")throw Error("Unable to sign message");return{data:c.data.signature}}})({context:t,account:e,rpcRequest:n.request})}}let Sae=new Set(["eth_sign","personal_sign","eth_signTypedData_v4","csw_signUserOperation","secp256k1_sign"]),MS=class extends Lu{async request(e){if(Sae.has(e.method))return this.handleIFrameRpc(e);switch(e.method){case"eth_accounts":case"eth_requestAccounts":return this._account.address?[this._account.address]:[];case"eth_chainId":return`0x${this._chainId.toString(16)}`;case"wallet_switchEthereumChain":return this.handleSwitchEthereumChain(e);case"eth_estimateGas":return this.handleEstimateGas(e);case"eth_signTransaction":{let n=e.params?.[0];return this.handleSignTransaction(n)}case"eth_sendTransaction":{let n=e.params?.[0];return this.handleSendTransaction(n)}case"eth_populateTransactionRequest":{let n=e.params?.[0];return this.handlePopulateTransaction(n)}default:return this.handleJsonRpc(e)}}ensureChainId(e){let n={chainId:this._chainId,...e};return this.internalSwitchEthereumChain(n.chainId),n}internalSwitchEthereumChain(e){e&&Number(e)!==this._chainId&&(this._chainId=Number(e),this._client=SN(this._chainId,this._chains,{rpcUrls:[]},{appId:this._privyInternal.appId}),this.emit("chainChanged",e))}async handlePopulateTransaction(e){let n=this.ensureChainId(e),r=_1(n),{type:i,...s}=await this._client.prepareTransactionRequest({account:n.from??this._account.address,...r});return{...s,type:pj[i]}}async handleSignTransaction(e){let n={...e};for(let r of Object.keys(n)){let i=n[r];i&&typeof i=="bigint"&&(n[r]=xt(i))}return await this.handleIFrameRpc({method:"eth_signTransaction",params:[n]})}async handleSendTransaction(e){let n=await this.handlePopulateTransaction(e),r=await this.handleSignTransaction(n);return await this.handleJsonRpc({method:"eth_sendRawTransaction",params:[r]})}async handleEstimateGas(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_estimateGas");let n=e.params?.[0],r=this.ensureChainId(n),i=_1(r);return await this._client.estimateGas({account:r.from??this._account.address,...i})}handleSwitchEthereumChain(e){let n;if(!e.params||!Array.isArray(e.params))throw new I4(`Invalid params for ${e.method}`,4200);if(typeof e.params[0]=="string")n=e.params[0];else{if(!("chainId"in e.params[0])||typeof e.params[0].chainId!="string")throw new I4(`Invalid params for ${e.method}`,4200);n=e.params[0].chainId}this.internalSwitchEthereumChain(n)}async handleIFrameRpc(e){try{let n=await this._privyInternal.getAccessTokenInternal();if(!n)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address});let r=this._account;if(mu(r)){let{data:i}=await yj({context:{app:this._appApi,fetchPrivyRoute:(...s)=>this._privyInternal.fetch(...s),getCompiledPath:(...s)=>this._privyInternal.getPath(...s),signRequest:({message:s})=>this._walletProxy.signWithUserSigner({accessToken:n,message:s})},account:r,rpcRequest:{chainType:"ethereum",request:e}});return i}try{await this._walletProxy.connect({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:n})}catch(i){let s=K3(i);if(s&&this._account.recovery_method==="privy")await this._walletProxy.recover({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:n});else{if(!s||!this._onNeedsRecovery)throw i;{let a;await new Promise((async(c,u)=>{a=setTimeout((()=>u(new nn({code:"embedded_wallet_recovery_error",error:"User-owned recovery timed out"}))),12e4),await this._onNeedsRecovery?.({recoveryMethod:this._account.recovery_method,onRecovered:()=>c(!0)})})).finally((()=>clearTimeout(a)))}}}return(await this._walletProxy.rpcWallet({accessToken:n,request:e,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,hdWalletIndex:this._account.wallet_index,chainType:"ethereum"})).response.data}catch(n){console.error(n);let r=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:r}),new nn({code:"embedded_wallet_request_error",error:r})}}async handleJsonRpc(e){return this._client.request(e)}toJSON(){return`PrivyEIP1193Provider { address: '${this._account.address}', chainId: ${this._chainId}, request: [Function] }`}constructor({walletProxy:e,privyInternal:n,account:r,entropyId:i,entropyIdVerifier:s,chains:a,onNeedsRecovery:c,chainId:u=a[0].id,appApi:d}){super(),this._walletProxy=e,this._privyInternal=n,this._account=r,this._entropyId=i,this._entropyIdVerifier=s,this._chainId=u,this._chains=a,this._onNeedsRecovery=c,this._client=SN(u,a,{rpcUrls:[]},{appId:d.appId}),this._appApi=d}};function UT(t){return"version"in t}function kN(t,e){let n=(UT(t)?t.message:t.compileMessage()).staticAccountKeys.find((r=>r.toBase58()===e));if(!n)throw Error(`Transaction does not contain public key ${e}`);return n}let xae=class{async request(e){if(!await this._privyInternal.getAccessTokenInternal())throw new nn({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});switch(e.method){case"signAndSendTransaction":return await this.handleSignAndSendTransaction(e);case"signTransaction":return await this.handleSignTransaction(e);default:return await this.handleIFrameRpc(e)}}get _publicKey(){return this._account.address}async connectAndRecover(e){if(this._account.recovery_method!=="privy-v2")try{await this._proxy.connect({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:e})}catch(n){let r=K3(n);if(r&&this._account.recovery_method==="privy")await this._proxy.recover({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:e});else{if(!r||!this._onNeedsRecovery)throw n;{let i;await new Promise((async(s,a)=>{i=setTimeout((()=>a(new nn({code:"embedded_wallet_recovery_error",error:"User-owned recovery timed out"}))),12e4),await this._onNeedsRecovery?.({recoveryMethod:this._account.recovery_method,onRecovered:()=>s(!0)})})).finally((()=>clearTimeout(i)))}}}}async signMessageRpc(e,n){let r=this._account;if(!mu(r))return(await this._proxy.rpcWallet({accessToken:n,request:e,chainType:"solana",hdWalletIndex:this._account.wallet_index,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier})).response.data;{let{data:i}=await yj({context:{app:this._app,fetchPrivyRoute:(...s)=>this._privyInternal.fetch(...s),getCompiledPath:(...s)=>this._privyInternal.getPath(...s),signRequest:({message:s})=>this._proxy.signWithUserSigner({accessToken:n,message:s})},account:r,rpcRequest:{chainType:"solana",request:e}});return{signature:i}}}async handleIFrameRpc(e){try{let n=await this._privyInternal.getAccessTokenInternal();if(!n)throw Error("Missing privy token. User must be logged in");return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(n),await this.signMessageRpc(e,n)}catch(n){console.error(n);let r=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:r}),new nn({code:"embedded_wallet_request_error",error:r})}}async handleSignAndSendTransaction(e){try{let n=await this._privyInternal.getAccessTokenInternal();if(!n)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(n);let{transaction:r,connection:i,options:s}=e.params,a=kN(r,this._account.address),c=UT(r)?Buffer.from(r.message.serialize()):r.serializeMessage(),{signature:u}=await this.signMessageRpc({method:"signMessage",params:{message:c.toString("base64")}},n);return r.addSignature(a,Buffer.from(u,"base64")),{signature:await i.sendRawTransaction(r.serialize(),s)}}catch(n){console.error(n);let r=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:r}),new nn({code:"embedded_wallet_request_error",error:r})}}async handleSignTransaction(e){try{let n=await this._privyInternal.getAccessTokenInternal();if(!n)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(n);let{transaction:r}=e.params,i=kN(r,this._account.address),s=UT(r)?Buffer.from(r.message.serialize()):r.serializeMessage(),{signature:a}=await this.signMessageRpc({method:"signMessage",params:{message:s.toString("base64")}},n);return r.addSignature(i,Buffer.from(a,"base64")),{signedTransaction:r}}catch(n){console.error(n);let r=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.wallet_index,error:r}),new nn({code:"embedded_wallet_request_error",error:r})}}toJSON(){return`PrivyEmbeddedSolanaProvider { address: '${this._account.address}', request: [Function] }`}constructor({proxy:e,privyInternal:n,account:r,entropyId:i,entropyIdVerifier:s,onNeedsRecovery:a,app:c}){this._proxy=e,this._privyInternal=n,this._account=r,this._entropyId=i,this._entropyIdVerifier=s,this._onNeedsRecovery=a,this._app=c}},Tae=class{setMessagePoster(e){this._proxy=new IN(e,this._mfaPromises),this._mfa.setProxy(this._proxy)}async signWithUserSigner(e){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");let n=await this._privyInternal.getAccessTokenInternal();if(!n)throw new nn({error:"User must be logged in to sign a message with the user signer",code:"user_signer_sign_error"});let{signature:r}=await this._proxy.signWithUserSigner({accessToken:n,message:e.message});return{signature:r}}async add(e){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(this._privyInternal.config?.embedded_wallet_config.mode==="user-controlled-server-wallets-only")await cS({context:{app:this._appApi,fetchPrivyRoute:(...r)=>this._privyInternal.fetch(...r),getCompiledPath:(...r)=>this._privyInternal.getPath(...r)},chainType:e.chainType});else{let r=await this._privyInternal.getAccessTokenInternal();if(!r)throw new nn({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});await this._proxy.addWallet({accessToken:r,...e})}let{user:n}=await this._privyInternal.refreshSession();return{user:n}}async getBitcoinProvider({wallet:e,entropyId:n,entropyIdVerifier:r,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:a}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(!await this._privyInternal.getAccessTokenInternal())throw Error("User must be logged in to create an embedded wallet");return mu(e)||await this._load({entropyId:n,entropyIdVerifier:r,wallet:e,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:a}),new BJ({account:e,privyInternal:this._privyInternal,proxy:this._proxy,entropyId:n,entropyIdVerifier:r})}async create({password:e,recoveryMethod:n,recoveryToken:r,recoveryKey:i,recoverySecretOverride:s,iCloudRecordNameOverride:a,solanaAccount:c,skipCallbacks:u}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(this._privyInternal.config?.embedded_wallet_config.mode==="user-controlled-server-wallets-only"){if(n&&!n.startsWith("privy"))throw new nn({error:"User-controlled server wallets do not support custom recovery methods",code:"embedded_wallet_creation_error"});await cS({context:{app:this._appApi,fetchPrivyRoute:(...d)=>this._privyInternal.fetch(...d),getCompiledPath:(...d)=>this._privyInternal.getPath(...d)},chainType:"ethereum"})}else{let d;if(d=n||(e?"user-passcode":"privy"),e&&typeof e!="string")throw Error("Invalid recovery password, must be a string");if(d==="privy"&&this._privyInternal.config?.embedded_wallet_config.require_user_password_on_create)throw Error("Password not provided yet is required by App configuration");let h=await this._privyInternal.getAccessTokenInternal();if(!h)throw Error("User must be logged in to create an embedded wallet");let{address:p}=await this._proxy.create({accessToken:h,recoveryMethod:d,recoveryKey:i,recoveryPassword:e,recoveryAccessToken:r,recoverySecretOverride:s,iCloudRecordNameOverride:a,solanaAddress:c?.address});if(!p)throw Error("Failed to create wallet")}return await this._privyInternal.refreshSession(u)}async createSolana(e){if(!this._proxy)throw new nn({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_creation_error"});if(this._privyInternal.config?.embedded_wallet_config.mode==="user-controlled-server-wallets-only")await cS({context:{app:this._appApi,fetchPrivyRoute:(...n)=>this._privyInternal.fetch(...n),getCompiledPath:(...n)=>this._privyInternal.getPath(...n)},chainType:"solana"});else{let n=await this._privyInternal.getAccessTokenInternal();if(!n)throw new nn({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});e?.ethereumAccount&&await this.getProvider(e.ethereumAccount);let{publicKey:r}=await this._proxy.createSolana({accessToken:n,ethereumAddress:e?.ethereumAccount?.address});if(!r)throw new nn({error:"Failed to create wallet",code:"embedded_wallet_creation_error"})}return await this._privyInternal.refreshSession()}async delegateWallets({delegatedWallets:e,rootWallet:n}){if(!this._proxy)throw new nn({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_creation_error"});let r=await this._privyInternal.getAccessTokenInternal();if(!r)throw new nn({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});await this._proxy.delegateWallets({accessToken:r,delegatedWallets:e,rootWallet:n})}async getProvider(e,n,r,i,s){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return mu(e)||await this._load({wallet:e,entropyId:e.address,entropyIdVerifier:"ethereum-address-verifier",recoveryPassword:n,recoveryKey:s,recoveryAccessToken:r,recoverySecretOverride:i}),new MS({account:e,entropyId:e.address,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,appApi:this._appApi})}async getEthereumProvider({wallet:e,entropyId:n,entropyIdVerifier:r,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:a,recoveryKey:c,onNeedsRecovery:u}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(!await this._privyInternal.getAccessTokenInternal())throw Error("User must be logged in to create an embedded wallet");return mu(e)||(!u||i||s||a||c)&&await this._load({entropyId:n,entropyIdVerifier:r,wallet:e,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:a,recoveryKey:c}),new MS({account:e,entropyId:n,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,onNeedsRecovery:u,appApi:this._appApi})}async getSolanaProvider(e,n,r,i,s,a,c){if(!this._proxy)throw new nn({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return mu(e)||(!c||i||s||a)&&await this._load({wallet:e,entropyId:n,entropyIdVerifier:r,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:a}),new xae({account:e,privyInternal:this._privyInternal,proxy:this._proxy,entropyId:n,entropyIdVerifier:r,onNeedsRecovery:c,app:this._appApi})}async setRecovery(e){let{wallet:n,...r}=e;if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(mu(n))throw new nn({error:"This wallet does not support setting recovery methods",code:"unsupported_recovery_method"});uae({currentRecoveryMethod:n.recovery_method,upgradeToRecoveryMethod:r.recoveryMethod==="icloud-native"?"icloud":r.recoveryMethod}),await this._load(n.chain_type==="solana"?{wallet:n,entropyId:n.address,entropyIdVerifier:"solana-address-verifier"}:{wallet:n,entropyId:n.address,entropyIdVerifier:"ethereum-address-verifier"});let i=await this._privyInternal.getAccessTokenInternal();if(!i)throw Error("User must be logged in to interact with embedded wallets");let s=n.recovery_method;this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_started",{address:n.address,target_recovery_method:r.recoveryMethod,existing_recovery_method:s});try{let a;if(r.recoveryMethod==="user-passcode")a={recoveryMethod:"user-passcode",recoveryPassword:r.password};else if(r.recoveryMethod==="google-drive")a={recoveryMethod:"google-drive",recoveryAccessToken:r.recoveryAccessToken};else if(r.recoveryMethod==="icloud")a={recoveryMethod:"icloud",recoveryAccessToken:r.recoveryAccessToken};else if(r.recoveryMethod==="icloud-native")a={recoveryMethod:"icloud-native",iCloudRecordNameOverride:r.iCloudRecordNameOverride,recoverySecretOverride:r.recoverySecretOverride};else if(r.recoveryMethod==="recovery-encryption-key")a={recoveryMethod:"recovery-encryption-key",recoveryKey:r.recoveryKey};else{if(r.recoveryMethod!=="privy")throw Error(`Unknown recovery method: ${r.recoveryMethod}`);a={recoveryMethod:"privy"}}await this._proxy.setRecovery({accessToken:i,entropyId:n.address,entropyIdVerifier:n.chain_type==="solana"?"solana-address-verifier":"ethereum-address-verifier",...a}),this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_completed",{address:n.address,target_recovery_method:r.recoveryMethod,existing_recovery_method:s});let{user:c}=await this._privyInternal.refreshSession();return{user:c,provider:n.chain_type!=="ethereum"?null:new MS({account:n,entropyId:n.address,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,appApi:this._appApi})}}catch(a){throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_failed",{address:n.address,recovery_method:n.recovery_method,error:a instanceof Error?a.message:"Unable to recover wallet"}),a}}getURL(){let e=new URL(`${this._privyInternal.baseUrl}/apps/${this._privyInternal.appId}/embedded-wallets`);return this._privyInternal.caid&&e.searchParams.append("caid",this._privyInternal.caid),this._privyInternal.appClientId&&e.searchParams.append("client_id",this._privyInternal.appClientId),e.href}get chains(){return this._chains}onMessage(e){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return this._proxy.handleEmbeddedWalletMessages(e)}reload(){this._proxy?this._proxy.reload():console.warn("Attempted to reload proxy before initialized")}async ping(e){try{if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return await this._proxy.ping(e),!0}catch(n){return console.error(n),!1}}async _load({entropyId:e,entropyIdVerifier:n,wallet:r,recoveryPassword:i,recoveryKey:s,recoveryAccessToken:a,recoverySecretOverride:c}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");let u=await this._privyInternal.getAccessTokenInternal();if(!u)throw Error("User must be logged in to interact with embedded wallets");try{return await this._proxy.connect({accessToken:u,entropyId:e,entropyIdVerifier:n}),e}catch(d){if(K3(d))try{if(r.recovery_method==="privy"){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:r.recovery_method});let h=await this._proxy.recover({accessToken:u,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:r.recovery_method}),h.entropyId}if(r.recovery_method==="user-passcode"&&i){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:r.recovery_method});let h=await this._proxy.recover({accessToken:u,recoveryPassword:i,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:r.recovery_method}),h.entropyId}if(["google-drive","icloud"].includes(r.recovery_method)&&a){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:r.recovery_method});let h=await this._proxy.recover({accessToken:u,recoveryAccessToken:a,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:r.recovery_method}),h.entropyId}if(r.recovery_method==="icloud"&&c){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:"icloud-native"});let h=await this._proxy.recover({accessToken:u,recoverySecretOverride:c,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:"icloud-native"}),h.entropyId}if(r.recovery_method==="recovery-encryption-key"&&s){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:r.recovery_method});let h=await this._proxy.recover({accessToken:u,recoveryKey:s,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:r.recovery_method}),h.entropyId}}catch(h){throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_failed",{address:r.address,recovery_method:r.recovery_method,error:h instanceof Error?h.message:`Unable to recover wallet: ${e}`}),h}throw d}}constructor(e,n,r,i,s,a){if(this._chains=Array.from(C_),this._privyInternal=e,n&&(this._proxy=new IN(n,s),i.setProxy(this._proxy)),r){let c=xB(r);this._chains=c}this._mfa=i,this._mfaPromises=s,this._appApi=a}},Iae=class extends Lu{constructor(){super(),this.rootPromise={current:null},this.submitPromise={current:null}}};var Lv={exports:{}},Cae=Lv.exports,RN;function Oae(){return RN||(RN=1,(function(t,e){(function(n,r){t.exports=r()})(Cae,(function(){var n=function(s,a){if(a=a||{},typeof s!="function")throw new i("fetch must be a function");if(typeof a!="object")throw new i("defaults must be an object");if(a.retries!==void 0&&!r(a.retries))throw new i("retries must be a positive integer");if(a.retryDelay!==void 0&&!r(a.retryDelay)&&typeof a.retryDelay!="function")throw new i("retryDelay must be a positive integer or a function returning a positive integer");if(a.retryOn!==void 0&&!Array.isArray(a.retryOn)&&typeof a.retryOn!="function")throw new i("retryOn property expects an array or function");var c={retries:3,retryDelay:1e3,retryOn:[]};return a=Object.assign(c,a),function(d,h){var p=a.retries,m=a.retryDelay,g=a.retryOn;if(h&&h.retries!==void 0)if(r(h.retries))p=h.retries;else throw new i("retries must be a positive integer");if(h&&h.retryDelay!==void 0)if(r(h.retryDelay)||typeof h.retryDelay=="function")m=h.retryDelay;else throw new i("retryDelay must be a positive integer or a function returning a positive integer");if(h&&h.retryOn)if(Array.isArray(h.retryOn)||typeof h.retryOn=="function")g=h.retryOn;else throw new i("retryOn property expects an array or function");return new Promise(function(b,v){var E=function(k){var S=typeof Request<"u"&&d instanceof Request?d.clone():d;s(S,h).then(function(A){if(Array.isArray(g)&&g.indexOf(A.status)===-1)b(A);else if(typeof g=="function")try{return Promise.resolve(g(k,null,A)).then(function(C){C?O(k,null,A):b(A)}).catch(v)}catch(C){v(C)}else k<p?O(k,null,A):b(A)}).catch(function(A){if(typeof g=="function")try{Promise.resolve(g(k,A,null)).then(function(C){C?O(k,A,null):v(A)}).catch(function(C){v(C)})}catch(C){v(C)}else k<p?O(k,A,null):v(A)})};function O(k,S,A){var C=typeof m=="function"?m(k,S,A):m;setTimeout(function(){E(++k)},C)}E(0)})}};function r(s){return Number.isInteger(s)&&s>=0}function i(s){this.name="ArgumentError",this.message=s}return n}))})(Lv)),Lv.exports}var kae=Oae();const mj=Uu(kae);let Xw;const Rae=new Uint8Array(16);function Nae(){if(!Xw&&(Xw=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Xw))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Xw(Rae)}const oi=[];for(let t=0;t<256;++t)oi.push((t+256).toString(16).slice(1));function $ae(t,e=0){return oi[t[e+0]]+oi[t[e+1]]+oi[t[e+2]]+oi[t[e+3]]+"-"+oi[t[e+4]]+oi[t[e+5]]+"-"+oi[t[e+6]]+oi[t[e+7]]+"-"+oi[t[e+8]]+oi[t[e+9]]+"-"+oi[t[e+10]]+oi[t[e+11]]+oi[t[e+12]]+oi[t[e+13]]+oi[t[e+14]]+oi[t[e+15]]}const Pae=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),NN={randomUUID:Pae};function BT(t,e,n){if(NN.randomUUID&&!t)return NN.randomUUID();t=t||{};const r=t.random||(t.rng||Nae)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,$ae(r)}var at,$N=((at={}).OAUTH_ACCOUNT_SUSPENDED="oauth_account_suspended",at.MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",at.MISSING_OR_INVALID_PRIVY_CLIENT_ID="missing_or_invalid_privy_client_id",at.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",at.MISSING_OR_INVALID_TOKEN="missing_or_invalid_token",at.MISSING_MFA_ENROLLMENT="missing_mfa_enrollment",at.MISSING_OR_INVALID_MFA="missing_or_invalid_mfa",at.EXPIRED_OR_INVALID_MFA_TOKEN="expired_or_invalid_mfa_token",at.INVALID_DATA="invalid_data",at.INVALID_CREDENTIALS="invalid_credentials",at.INVALID_CAPTCHA="invalid_captcha",at.LINKED_TO_ANOTHER_USER="linked_to_another_user",at.ALLOWLIST_REJECTED="allowlist_rejected",at.CANNOT_UNLINK_EMBEDDED_WALLET="cannot_unlink_embedded_wallet",at.CANNOT_UNLINK_SOLE_ACCOUNT="cannot_unlink_sole_account",at.CANNOT_LINK_MORE_OF_TYPE="cannot_link_more_of_type",at.LINKED_ACCOUNT_NOT_FOUND="linked_account_not_found",at.TOO_MANY_REQUESTS="too_many_requests",at.RESOURCE_CONFLICT="resource_conflict",at.INVALID_ORIGIN="invalid_origin",at.MISSING_ORIGIN="missing_origin",at.INVALID_NATIVE_APP_ID="invalid_native_app_id",at.TOKEN_ALREADY_USED="token_already_used",at.ALREADY_LOGGED_OUT="already_logged_out",at.NOT_SUPPORTED="not_supported",at.USER_UNSUBSCRIBED="user_unsubscribed",at.MAX_APPS_REACHED="max_apps_reached",at.USER_LIMIT_REACHED="max_accounts_reached",at.DEVICE_REVOKED="device_revoked",at.WALLET_PASSWORD_EXISTS="wallet_password_exists",at.OAUTH_STATE_MISMATCH="oauth_state_mismatch",at.MAX_DENYLIST_ENTRIES_REACHED="max_denylist_entries_reached",at.MAX_TEST_ACCOUNTS_REACHED="max_test_accounts_reached",at.DISALLOWED_LOGIN_METHOD="disallowed_login_method",at.DISALLOWED_PLUS_EMAIL="disallowed_plus_email",at.DISALLOWED_RECOVERY_METHOD="disallowed_recovery_method",at.LEGACY_DASHBOARD_LOGIN_CONFIGURATION="legacy_dashboard_login_configuration",at.CANNOT_SET_PASSWORD="cannot_set_password",at.INVALID_PKCE_PARAMETERS="invalid_pkce_parameters",at.INVALID_APP_URL_SCHEME_CONFIGURATION="invalid_app_url_scheme_configuration",at.CROSS_APP_CONNECTION_NOT_ALLOWED="cross_app_connection_not_allowed",at.USER_DOES_NOT_EXIST="user_does_not_exist",at.ALREADY_EXISTS="resource_already_exists",at.ACCOUNT_TRANSFER_REQUIRED="account_transfer_required",at.USER_HAS_NOT_DELEGATED_WALLET="user_has_not_delegated_wallet",at.FEATURE_NOT_ENABLED="feature_not_enabled",at.INSUFFICIENT_FUNDS="insufficient_funds",at.TRANSACTION_BROADCAST_FAILURE="transaction_broadcast_failure",at.TRANSACTION_EXECUTION_FAILURE="transaction_execution_failure",at.INVALID_POLICY_FORMAT="invalid_policy_format",at.POLICY_VIOLATION="policy_violation",at.AUTHORIZATION_KEY_HAS_ASSOCIATED_WALLETS="authorization_key_has_associated_wallets",at.INVALID_REQUEST="invalid_request",at.SIGNUP_DISABLED="signup_disabled",at),Zt;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const a of i)s[a]=a;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(c=>typeof i[i[c]]!="number"),a={};for(const c of s)a[c]=i[c];return t.objectValues(a)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&s.push(a);return s},t.find=(i,s)=>{for(const a of i)if(s(a))return a},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(a=>typeof a=="string"?`'${a}'`:a).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(Zt||(Zt={}));var PN;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(PN||(PN={}));const Ye=Zt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),uu=t=>{switch(typeof t){case"undefined":return Ye.undefined;case"string":return Ye.string;case"number":return Number.isNaN(t)?Ye.nan:Ye.number;case"boolean":return Ye.boolean;case"function":return Ye.function;case"bigint":return Ye.bigint;case"symbol":return Ye.symbol;case"object":return Array.isArray(t)?Ye.array:t===null?Ye.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Ye.promise:typeof Map<"u"&&t instanceof Map?Ye.map:typeof Set<"u"&&t instanceof Set?Ye.set:typeof Date<"u"&&t instanceof Date?Ye.date:Ye.object;default:return Ye.unknown}},De=Zt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class ll extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const a of s.issues)if(a.code==="invalid_union")a.unionErrors.map(i);else if(a.code==="invalid_return_type")i(a.returnTypeError);else if(a.code==="invalid_arguments")i(a.argumentsError);else if(a.path.length===0)r._errors.push(n(a));else{let c=r,u=0;for(;u<a.path.length;){const d=a.path[u];u===a.path.length-1?(c[d]=c[d]||{_errors:[]},c[d]._errors.push(n(a))):c[d]=c[d]||{_errors:[]},c=c[d],u++}}};return i(this),r}static assert(e){if(!(e instanceof ll))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Zt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)if(i.path.length>0){const s=i.path[0];n[s]=n[s]||[],n[s].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}ll.create=t=>new ll(t);const LT=(t,e)=>{let n;switch(t.code){case De.invalid_type:t.received===Ye.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case De.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Zt.jsonStringifyReplacer)}`;break;case De.unrecognized_keys:n=`Unrecognized key(s) in object: ${Zt.joinValues(t.keys,", ")}`;break;case De.invalid_union:n="Invalid input";break;case De.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Zt.joinValues(t.options)}`;break;case De.invalid_enum_value:n=`Invalid enum value. Expected ${Zt.joinValues(t.options)}, received '${t.received}'`;break;case De.invalid_arguments:n="Invalid function arguments";break;case De.invalid_return_type:n="Invalid function return type";break;case De.invalid_date:n="Invalid date";break;case De.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Zt.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case De.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case De.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case De.custom:n="Invalid input";break;case De.invalid_intersection_types:n="Intersection results could not be merged";break;case De.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case De.not_finite:n="Number must be finite";break;default:n=e.defaultError,Zt.assertNever(t)}return{message:n}};let Dae=LT;function Mae(){return Dae}const Uae=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],a={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let c="";const u=r.filter(d=>!!d).slice().reverse();for(const d of u)c=d(a,{data:e,defaultError:c}).message;return{...i,path:s,message:c}};function ze(t,e){const n=Mae(),r=Uae({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===LT?void 0:LT].filter(i=>!!i)});t.common.issues.push(r)}class ji{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return gt;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const s=await i.key,a=await i.value;r.push({key:s,value:a})}return ji.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:a}=i;if(s.status==="aborted"||a.status==="aborted")return gt;s.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof a.value<"u"||i.alwaysSet)&&(r[s.value]=a.value)}return{status:e.value,value:r}}}const gt=Object.freeze({status:"aborted"}),lg=t=>({status:"dirty",value:t}),xa=t=>({status:"valid",value:t}),DN=t=>t.status==="aborted",MN=t=>t.status==="dirty",bp=t=>t.status==="valid",S1=t=>typeof Promise<"u"&&t instanceof Promise;var tt;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(tt||(tt={}));class Wo{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const UN=(t,e)=>{if(bp(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new ll(t.common.issues);return this._error=n,this._error}}};function Nt(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(a,c)=>{const{message:u}=t;return a.code==="invalid_enum_value"?{message:u??c.defaultError}:typeof c.data>"u"?{message:u??r??c.defaultError}:a.code!=="invalid_type"?{message:c.defaultError}:{message:u??n??c.defaultError}},description:i}}class Ft{get description(){return this._def.description}_getType(e){return uu(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:uu(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ji,ctx:{common:e.parent.common,data:e.data,parsedType:uu(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(S1(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:n?.async??!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:uu(e)},i=this._parseSync({data:e,path:r.path,parent:r});return UN(r,i)}"~validate"(e){const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:uu(e)};if(!this["~standard"].async)try{const r=this._parseSync({data:e,path:[],parent:n});return bp(r)?{value:r.value}:{issues:n.common.issues}}catch(r){r?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(r=>bp(r)?{value:r.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:uu(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(S1(i)?i:Promise.resolve(i));return UN(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const a=e(i),c=()=>s.addIssue({code:De.custom,...r(i)});return typeof Promise<"u"&&a instanceof Promise?a.then(u=>u?!0:(c(),!1)):a?!0:(c(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new df({schema:this,typeName:bt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return nl.create(this,this._def)}nullable(){return ff.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Bo.create(this)}promise(){return k1.create(this,this._def)}or(e){return T1.create([this,e],this._def)}and(e){return I1.create(this,e,this._def)}transform(e){return new df({...Nt(this._def),schema:this,typeName:bt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new R1({...Nt(this._def),innerType:this,defaultValue:n,typeName:bt.ZodDefault})}brand(){return new vj({typeName:bt.ZodBranded,type:this,...Nt(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new N1({...Nt(this._def),innerType:this,catchValue:n,typeName:bt.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return WI.create(this,e)}readonly(){return $1.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Bae=/^c[^\s-]{8,}$/i,Lae=/^[0-9a-z]+$/,jae=/^[0-9A-HJKMNP-TV-Z]{26}$/i,zae=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Fae=/^[a-z0-9_-]{21}$/i,qae=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Wae=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Vae=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Hae="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let US;const Gae=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Kae=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Yae=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Zae=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Xae=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Jae=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,gj="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Qae=new RegExp(`^${gj}$`);function bj(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function eoe(t){return new RegExp(`^${bj(t)}$`)}function toe(t){let e=`${gj}T${bj(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function noe(t,e){return!!((e==="v4"||!e)&&Gae.test(t)||(e==="v6"||!e)&&Yae.test(t))}function roe(t,e){if(!qae.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&i?.typ!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function ioe(t,e){return!!((e==="v4"||!e)&&Kae.test(t)||(e==="v6"||!e)&&Zae.test(t))}class Po extends Ft{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Ye.string){const s=this._getOrReturnCtx(e);return ze(s,{code:De.invalid_type,expected:Ye.string,received:s.parsedType}),gt}const r=new ji;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),ze(i,{code:De.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),ze(i,{code:De.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const a=e.data.length>s.value,c=e.data.length<s.value;(a||c)&&(i=this._getOrReturnCtx(e,i),a?ze(i,{code:De.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):c&&ze(i,{code:De.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")Vae.test(e.data)||(i=this._getOrReturnCtx(e,i),ze(i,{validation:"email",code:De.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")US||(US=new RegExp(Hae,"u")),US.test(e.data)||(i=this._getOrReturnCtx(e,i),ze(i,{validation:"emoji",code:De.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")zae.test(e.data)||(i=this._getOrReturnCtx(e,i),ze(i,{validation:"uuid",code:De.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")Fae.test(e.data)||(i=this._getOrReturnCtx(e,i),ze(i,{validation:"nanoid",code:De.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")Bae.test(e.data)||(i=this._getOrReturnCtx(e,i),ze(i,{validation:"cuid",code:De.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")Lae.test(e.data)||(i=this._getOrReturnCtx(e,i),ze(i,{validation:"cuid2",code:De.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")jae.test(e.data)||(i=this._getOrReturnCtx(e,i),ze(i,{validation:"ulid",code:De.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),ze(i,{validation:"url",code:De.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),ze(i,{validation:"regex",code:De.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),ze(i,{code:De.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),ze(i,{code:De.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),ze(i,{code:De.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?toe(s).test(e.data)||(i=this._getOrReturnCtx(e,i),ze(i,{code:De.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?Qae.test(e.data)||(i=this._getOrReturnCtx(e,i),ze(i,{code:De.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?eoe(s).test(e.data)||(i=this._getOrReturnCtx(e,i),ze(i,{code:De.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?Wae.test(e.data)||(i=this._getOrReturnCtx(e,i),ze(i,{validation:"duration",code:De.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?noe(e.data,s.version)||(i=this._getOrReturnCtx(e,i),ze(i,{validation:"ip",code:De.invalid_string,message:s.message}),r.dirty()):s.kind==="jwt"?roe(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),ze(i,{validation:"jwt",code:De.invalid_string,message:s.message}),r.dirty()):s.kind==="cidr"?ioe(e.data,s.version)||(i=this._getOrReturnCtx(e,i),ze(i,{validation:"cidr",code:De.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?Xae.test(e.data)||(i=this._getOrReturnCtx(e,i),ze(i,{validation:"base64",code:De.invalid_string,message:s.message}),r.dirty()):s.kind==="base64url"?Jae.test(e.data)||(i=this._getOrReturnCtx(e,i),ze(i,{validation:"base64url",code:De.invalid_string,message:s.message}),r.dirty()):Zt.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:De.invalid_string,...tt.errToObj(r)})}_addCheck(e){return new Po({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...tt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...tt.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...tt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...tt.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...tt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...tt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...tt.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...tt.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...tt.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...tt.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...tt.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...tt.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...tt.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...tt.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...tt.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...tt.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...tt.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n?.position,...tt.errToObj(n?.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...tt.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...tt.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...tt.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...tt.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...tt.errToObj(n)})}nonempty(e){return this.min(1,tt.errToObj(e))}trim(){return new Po({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Po({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Po({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Po.create=t=>new Po({checks:[],typeName:bt.ZodString,coerce:t?.coerce??!1,...Nt(t)});function soe(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=Number.parseInt(t.toFixed(i).replace(".","")),a=Number.parseInt(e.toFixed(i).replace(".",""));return s%a/10**i}class of extends Ft{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Ye.number){const s=this._getOrReturnCtx(e);return ze(s,{code:De.invalid_type,expected:Ye.number,received:s.parsedType}),gt}let r;const i=new ji;for(const s of this._def.checks)s.kind==="int"?Zt.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),ze(r,{code:De.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),ze(r,{code:De.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),ze(r,{code:De.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?soe(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),ze(r,{code:De.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),ze(r,{code:De.not_finite,message:s.message}),i.dirty()):Zt.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,tt.toString(n))}gt(e,n){return this.setLimit("min",e,!1,tt.toString(n))}lte(e,n){return this.setLimit("max",e,!0,tt.toString(n))}lt(e,n){return this.setLimit("max",e,!1,tt.toString(n))}setLimit(e,n,r,i){return new of({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:tt.toString(i)}]})}_addCheck(e){return new of({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:tt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:tt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:tt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:tt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:tt.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:tt.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:tt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:tt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:tt.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Zt.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}of.create=t=>new of({checks:[],typeName:bt.ZodNumber,coerce:t?.coerce||!1,...Nt(t)});class cf extends Ft{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Ye.bigint)return this._getInvalidInput(e);let r;const i=new ji;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),ze(r,{code:De.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),ze(r,{code:De.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),ze(r,{code:De.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Zt.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return ze(n,{code:De.invalid_type,expected:Ye.bigint,received:n.parsedType}),gt}gte(e,n){return this.setLimit("min",e,!0,tt.toString(n))}gt(e,n){return this.setLimit("min",e,!1,tt.toString(n))}lte(e,n){return this.setLimit("max",e,!0,tt.toString(n))}lt(e,n){return this.setLimit("max",e,!1,tt.toString(n))}setLimit(e,n,r,i){return new cf({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:tt.toString(i)}]})}_addCheck(e){return new cf({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:tt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:tt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:tt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:tt.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:tt.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}cf.create=t=>new cf({checks:[],typeName:bt.ZodBigInt,coerce:t?.coerce??!1,...Nt(t)});class x1 extends Ft{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Ye.boolean){const r=this._getOrReturnCtx(e);return ze(r,{code:De.invalid_type,expected:Ye.boolean,received:r.parsedType}),gt}return xa(e.data)}}x1.create=t=>new x1({typeName:bt.ZodBoolean,coerce:t?.coerce||!1,...Nt(t)});class wp extends Ft{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Ye.date){const s=this._getOrReturnCtx(e);return ze(s,{code:De.invalid_type,expected:Ye.date,received:s.parsedType}),gt}if(Number.isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return ze(s,{code:De.invalid_date}),gt}const r=new ji;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),ze(i,{code:De.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),ze(i,{code:De.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):Zt.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new wp({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:tt.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:tt.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}wp.create=t=>new wp({checks:[],coerce:t?.coerce||!1,typeName:bt.ZodDate,...Nt(t)});class BN extends Ft{_parse(e){if(this._getType(e)!==Ye.symbol){const r=this._getOrReturnCtx(e);return ze(r,{code:De.invalid_type,expected:Ye.symbol,received:r.parsedType}),gt}return xa(e.data)}}BN.create=t=>new BN({typeName:bt.ZodSymbol,...Nt(t)});class jT extends Ft{_parse(e){if(this._getType(e)!==Ye.undefined){const r=this._getOrReturnCtx(e);return ze(r,{code:De.invalid_type,expected:Ye.undefined,received:r.parsedType}),gt}return xa(e.data)}}jT.create=t=>new jT({typeName:bt.ZodUndefined,...Nt(t)});class zT extends Ft{_parse(e){if(this._getType(e)!==Ye.null){const r=this._getOrReturnCtx(e);return ze(r,{code:De.invalid_type,expected:Ye.null,received:r.parsedType}),gt}return xa(e.data)}}zT.create=t=>new zT({typeName:bt.ZodNull,...Nt(t)});class FT extends Ft{constructor(){super(...arguments),this._any=!0}_parse(e){return xa(e.data)}}FT.create=t=>new FT({typeName:bt.ZodAny,...Nt(t)});class LN extends Ft{constructor(){super(...arguments),this._unknown=!0}_parse(e){return xa(e.data)}}LN.create=t=>new LN({typeName:bt.ZodUnknown,...Nt(t)});class Nu extends Ft{_parse(e){const n=this._getOrReturnCtx(e);return ze(n,{code:De.invalid_type,expected:Ye.never,received:n.parsedType}),gt}}Nu.create=t=>new Nu({typeName:bt.ZodNever,...Nt(t)});class jN extends Ft{_parse(e){if(this._getType(e)!==Ye.undefined){const r=this._getOrReturnCtx(e);return ze(r,{code:De.invalid_type,expected:Ye.void,received:r.parsedType}),gt}return xa(e.data)}}jN.create=t=>new jN({typeName:bt.ZodVoid,...Nt(t)});class Bo extends Ft{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==Ye.array)return ze(n,{code:De.invalid_type,expected:Ye.array,received:n.parsedType}),gt;if(i.exactLength!==null){const a=n.data.length>i.exactLength.value,c=n.data.length<i.exactLength.value;(a||c)&&(ze(n,{code:a?De.too_big:De.too_small,minimum:c?i.exactLength.value:void 0,maximum:a?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(ze(n,{code:De.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(ze(n,{code:De.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((a,c)=>i.type._parseAsync(new Wo(n,a,n.path,c)))).then(a=>ji.mergeArray(r,a));const s=[...n.data].map((a,c)=>i.type._parseSync(new Wo(n,a,n.path,c)));return ji.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new Bo({...this._def,minLength:{value:e,message:tt.toString(n)}})}max(e,n){return new Bo({...this._def,maxLength:{value:e,message:tt.toString(n)}})}length(e,n){return new Bo({...this._def,exactLength:{value:e,message:tt.toString(n)}})}nonempty(e){return this.min(1,e)}}Bo.create=(t,e)=>new Bo({type:t,minLength:null,maxLength:null,exactLength:null,typeName:bt.ZodArray,...Nt(e)});function Uh(t){if(t instanceof gr){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=nl.create(Uh(r))}return new gr({...t._def,shape:()=>e})}else return t instanceof Bo?new Bo({...t._def,type:Uh(t.element)}):t instanceof nl?nl.create(Uh(t.unwrap())):t instanceof ff?ff.create(Uh(t.unwrap())):t instanceof lf?lf.create(t.items.map(e=>Uh(e))):t}class gr extends Ft{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Zt.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==Ye.object){const d=this._getOrReturnCtx(e);return ze(d,{code:De.invalid_type,expected:Ye.object,received:d.parsedType}),gt}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:a}=this._getCached(),c=[];if(!(this._def.catchall instanceof Nu&&this._def.unknownKeys==="strip"))for(const d in i.data)a.includes(d)||c.push(d);const u=[];for(const d of a){const h=s[d],p=i.data[d];u.push({key:{status:"valid",value:d},value:h._parse(new Wo(i,p,i.path,d)),alwaysSet:d in i.data})}if(this._def.catchall instanceof Nu){const d=this._def.unknownKeys;if(d==="passthrough")for(const h of c)u.push({key:{status:"valid",value:h},value:{status:"valid",value:i.data[h]}});else if(d==="strict")c.length>0&&(ze(i,{code:De.unrecognized_keys,keys:c}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const h of c){const p=i.data[h];u.push({key:{status:"valid",value:h},value:d._parse(new Wo(i,p,i.path,h)),alwaysSet:h in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const d=[];for(const h of u){const p=await h.key,m=await h.value;d.push({key:p,value:m,alwaysSet:h.alwaysSet})}return d}).then(d=>ji.mergeObjectSync(r,d)):ji.mergeObjectSync(r,u)}get shape(){return this._def.shape()}strict(e){return tt.errToObj,new gr({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{const i=this._def.errorMap?.(n,r).message??r.defaultError;return n.code==="unrecognized_keys"?{message:tt.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new gr({...this._def,unknownKeys:"strip"})}passthrough(){return new gr({...this._def,unknownKeys:"passthrough"})}extend(e){return new gr({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new gr({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:bt.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new gr({...this._def,catchall:e})}pick(e){const n={};for(const r of Zt.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new gr({...this._def,shape:()=>n})}omit(e){const n={};for(const r of Zt.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new gr({...this._def,shape:()=>n})}deepPartial(){return Uh(this)}partial(e){const n={};for(const r of Zt.objectKeys(this.shape)){const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}return new gr({...this._def,shape:()=>n})}required(e){const n={};for(const r of Zt.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof nl;)s=s._def.innerType;n[r]=s}return new gr({...this._def,shape:()=>n})}keyof(){return wj(Zt.objectKeys(this.shape))}}gr.create=(t,e)=>new gr({shape:()=>t,unknownKeys:"strip",catchall:Nu.create(),typeName:bt.ZodObject,...Nt(e)});gr.strictCreate=(t,e)=>new gr({shape:()=>t,unknownKeys:"strict",catchall:Nu.create(),typeName:bt.ZodObject,...Nt(e)});gr.lazycreate=(t,e)=>new gr({shape:t,unknownKeys:"strip",catchall:Nu.create(),typeName:bt.ZodObject,...Nt(e)});class T1 extends Ft{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const c of s)if(c.result.status==="valid")return c.result;for(const c of s)if(c.result.status==="dirty")return n.common.issues.push(...c.ctx.common.issues),c.result;const a=s.map(c=>new ll(c.ctx.common.issues));return ze(n,{code:De.invalid_union,unionErrors:a}),gt}if(n.common.async)return Promise.all(r.map(async s=>{const a={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:a}),ctx:a}})).then(i);{let s;const a=[];for(const u of r){const d={...n,common:{...n.common,issues:[]},parent:null},h=u._parseSync({data:n.data,path:n.path,parent:d});if(h.status==="valid")return h;h.status==="dirty"&&!s&&(s={result:h,ctx:d}),d.common.issues.length&&a.push(d.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const c=a.map(u=>new ll(u));return ze(n,{code:De.invalid_union,unionErrors:c}),gt}}get options(){return this._def.options}}T1.create=(t,e)=>new T1({options:t,typeName:bt.ZodUnion,...Nt(e)});const Dc=t=>t instanceof WT?Dc(t.schema):t instanceof df?Dc(t.innerType()):t instanceof O1?[t.value]:t instanceof uf?t.options:t instanceof VT?Zt.objectValues(t.enum):t instanceof R1?Dc(t._def.innerType):t instanceof jT?[void 0]:t instanceof zT?[null]:t instanceof nl?[void 0,...Dc(t.unwrap())]:t instanceof ff?[null,...Dc(t.unwrap())]:t instanceof vj||t instanceof $1?Dc(t.unwrap()):t instanceof N1?Dc(t._def.innerType):[];class qI extends Ft{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Ye.object)return ze(n,{code:De.invalid_type,expected:Ye.object,received:n.parsedType}),gt;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(ze(n,{code:De.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),gt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const s of n){const a=Dc(s.shape[e]);if(!a.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const c of a){if(i.has(c))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(c)}`);i.set(c,s)}}return new qI({typeName:bt.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...Nt(r)})}}function qT(t,e){const n=uu(t),r=uu(e);if(t===e)return{valid:!0,data:t};if(n===Ye.object&&r===Ye.object){const i=Zt.objectKeys(e),s=Zt.objectKeys(t).filter(c=>i.indexOf(c)!==-1),a={...t,...e};for(const c of s){const u=qT(t[c],e[c]);if(!u.valid)return{valid:!1};a[c]=u.data}return{valid:!0,data:a}}else if(n===Ye.array&&r===Ye.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const a=t[s],c=e[s],u=qT(a,c);if(!u.valid)return{valid:!1};i.push(u.data)}return{valid:!0,data:i}}else return n===Ye.date&&r===Ye.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class I1 extends Ft{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,a)=>{if(DN(s)||DN(a))return gt;const c=qT(s.value,a.value);return c.valid?((MN(s)||MN(a))&&n.dirty(),{status:n.value,value:c.data}):(ze(r,{code:De.invalid_intersection_types}),gt)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,a])=>i(s,a)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}I1.create=(t,e,n)=>new I1({left:t,right:e,typeName:bt.ZodIntersection,...Nt(n)});class lf extends Ft{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ye.array)return ze(r,{code:De.invalid_type,expected:Ye.array,received:r.parsedType}),gt;if(r.data.length<this._def.items.length)return ze(r,{code:De.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),gt;!this._def.rest&&r.data.length>this._def.items.length&&(ze(r,{code:De.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((a,c)=>{const u=this._def.items[c]||this._def.rest;return u?u._parse(new Wo(r,a,r.path,c)):null}).filter(a=>!!a);return r.common.async?Promise.all(s).then(a=>ji.mergeArray(n,a)):ji.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new lf({...this._def,rest:e})}}lf.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new lf({items:t,typeName:bt.ZodTuple,rest:null,...Nt(e)})};class C1 extends Ft{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ye.object)return ze(r,{code:De.invalid_type,expected:Ye.object,received:r.parsedType}),gt;const i=[],s=this._def.keyType,a=this._def.valueType;for(const c in r.data)i.push({key:s._parse(new Wo(r,c,r.path,c)),value:a._parse(new Wo(r,r.data[c],r.path,c)),alwaysSet:c in r.data});return r.common.async?ji.mergeObjectAsync(n,i):ji.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Ft?new C1({keyType:e,valueType:n,typeName:bt.ZodRecord,...Nt(r)}):new C1({keyType:Po.create(),valueType:e,typeName:bt.ZodRecord,...Nt(n)})}}class zN extends Ft{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ye.map)return ze(r,{code:De.invalid_type,expected:Ye.map,received:r.parsedType}),gt;const i=this._def.keyType,s=this._def.valueType,a=[...r.data.entries()].map(([c,u],d)=>({key:i._parse(new Wo(r,c,r.path,[d,"key"])),value:s._parse(new Wo(r,u,r.path,[d,"value"]))}));if(r.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const u of a){const d=await u.key,h=await u.value;if(d.status==="aborted"||h.status==="aborted")return gt;(d.status==="dirty"||h.status==="dirty")&&n.dirty(),c.set(d.value,h.value)}return{status:n.value,value:c}})}else{const c=new Map;for(const u of a){const d=u.key,h=u.value;if(d.status==="aborted"||h.status==="aborted")return gt;(d.status==="dirty"||h.status==="dirty")&&n.dirty(),c.set(d.value,h.value)}return{status:n.value,value:c}}}}zN.create=(t,e,n)=>new zN({valueType:e,keyType:t,typeName:bt.ZodMap,...Nt(n)});class f0 extends Ft{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ye.set)return ze(r,{code:De.invalid_type,expected:Ye.set,received:r.parsedType}),gt;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(ze(r,{code:De.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(ze(r,{code:De.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function a(u){const d=new Set;for(const h of u){if(h.status==="aborted")return gt;h.status==="dirty"&&n.dirty(),d.add(h.value)}return{status:n.value,value:d}}const c=[...r.data.values()].map((u,d)=>s._parse(new Wo(r,u,r.path,d)));return r.common.async?Promise.all(c).then(u=>a(u)):a(c)}min(e,n){return new f0({...this._def,minSize:{value:e,message:tt.toString(n)}})}max(e,n){return new f0({...this._def,maxSize:{value:e,message:tt.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}f0.create=(t,e)=>new f0({valueType:t,minSize:null,maxSize:null,typeName:bt.ZodSet,...Nt(e)});class WT extends Ft{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}WT.create=(t,e)=>new WT({getter:t,typeName:bt.ZodLazy,...Nt(e)});class O1 extends Ft{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return ze(n,{received:n.data,code:De.invalid_literal,expected:this._def.value}),gt}return{status:"valid",value:e.data}}get value(){return this._def.value}}O1.create=(t,e)=>new O1({value:t,typeName:bt.ZodLiteral,...Nt(e)});function wj(t,e){return new uf({values:t,typeName:bt.ZodEnum,...Nt(e)})}class uf extends Ft{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return ze(n,{expected:Zt.joinValues(r),received:n.parsedType,code:De.invalid_type}),gt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return ze(n,{received:n.data,code:De.invalid_enum_value,options:r}),gt}return xa(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return uf.create(e,{...this._def,...n})}exclude(e,n=this._def){return uf.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}uf.create=wj;class VT extends Ft{_parse(e){const n=Zt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Ye.string&&r.parsedType!==Ye.number){const i=Zt.objectValues(n);return ze(r,{expected:Zt.joinValues(i),received:r.parsedType,code:De.invalid_type}),gt}if(this._cache||(this._cache=new Set(Zt.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=Zt.objectValues(n);return ze(r,{received:r.data,code:De.invalid_enum_value,options:i}),gt}return xa(e.data)}get enum(){return this._def.values}}VT.create=(t,e)=>new VT({values:t,typeName:bt.ZodNativeEnum,...Nt(e)});class k1 extends Ft{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Ye.promise&&n.common.async===!1)return ze(n,{code:De.invalid_type,expected:Ye.promise,received:n.parsedType}),gt;const r=n.parsedType===Ye.promise?n.data:Promise.resolve(n.data);return xa(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}k1.create=(t,e)=>new k1({type:t,typeName:bt.ZodPromise,...Nt(e)});class df extends Ft{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===bt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:a=>{ze(r,a),a.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const a=i.transform(r.data,s);if(r.common.async)return Promise.resolve(a).then(async c=>{if(n.value==="aborted")return gt;const u=await this._def.schema._parseAsync({data:c,path:r.path,parent:r});return u.status==="aborted"?gt:u.status==="dirty"||n.value==="dirty"?lg(u.value):u});{if(n.value==="aborted")return gt;const c=this._def.schema._parseSync({data:a,path:r.path,parent:r});return c.status==="aborted"?gt:c.status==="dirty"||n.value==="dirty"?lg(c.value):c}}if(i.type==="refinement"){const a=c=>{const u=i.refinement(c,s);if(r.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(r.common.async===!1){const c=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return c.status==="aborted"?gt:(c.status==="dirty"&&n.dirty(),a(c.value),{status:n.value,value:c.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(c=>c.status==="aborted"?gt:(c.status==="dirty"&&n.dirty(),a(c.value).then(()=>({status:n.value,value:c.value}))))}if(i.type==="transform")if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!bp(a))return gt;const c=i.transform(a.value,s);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:c}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>bp(a)?Promise.resolve(i.transform(a.value,s)).then(c=>({status:n.value,value:c})):gt);Zt.assertNever(i)}}df.create=(t,e,n)=>new df({schema:t,typeName:bt.ZodEffects,effect:e,...Nt(n)});df.createWithPreprocess=(t,e,n)=>new df({schema:e,effect:{type:"preprocess",transform:t},typeName:bt.ZodEffects,...Nt(n)});class nl extends Ft{_parse(e){return this._getType(e)===Ye.undefined?xa(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}nl.create=(t,e)=>new nl({innerType:t,typeName:bt.ZodOptional,...Nt(e)});class ff extends Ft{_parse(e){return this._getType(e)===Ye.null?xa(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ff.create=(t,e)=>new ff({innerType:t,typeName:bt.ZodNullable,...Nt(e)});class R1 extends Ft{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===Ye.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}R1.create=(t,e)=>new R1({innerType:t,typeName:bt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Nt(e)});class N1 extends Ft{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return S1(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new ll(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ll(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}N1.create=(t,e)=>new N1({innerType:t,typeName:bt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Nt(e)});class FN extends Ft{_parse(e){if(this._getType(e)!==Ye.nan){const r=this._getOrReturnCtx(e);return ze(r,{code:De.invalid_type,expected:Ye.nan,received:r.parsedType}),gt}return{status:"valid",value:e.data}}}FN.create=t=>new FN({typeName:bt.ZodNaN,...Nt(t)});class vj extends Ft{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class WI extends Ft{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?gt:s.status==="dirty"?(n.dirty(),lg(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?gt:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new WI({in:e,out:n,typeName:bt.ZodPipeline})}}class $1 extends Ft{_parse(e){const n=this._def.innerType._parse(e),r=i=>(bp(i)&&(i.value=Object.freeze(i.value)),i);return S1(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}$1.create=(t,e)=>new $1({innerType:t,typeName:bt.ZodReadonly,...Nt(e)});var bt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(bt||(bt={}));const Rn=Po.create,ga=of.create;cf.create;const _j=x1.create,aoe=wp.create,vp=FT.create;Nu.create;const eE=Bo.create,Kr=gr.create,Ej=T1.create,ooe=qI.create;I1.create;lf.create;const Hd=C1.create,coe=O1.create,Jo=uf.create;k1.create;nl.create;ff.create;const loe={string:(t=>Po.create({...t,coerce:!0})),number:(t=>of.create({...t,coerce:!0})),boolean:(t=>x1.create({...t,coerce:!0})),bigint:(t=>cf.create({...t,coerce:!0})),date:(t=>wp.create({...t,coerce:!0}))};function Jw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}var uoe={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function HT(t,e){function n(i,s,a){if(!(typeof document>"u")){a=Jw({},e,a),typeof a.expires=="number"&&(a.expires=new Date(Date.now()+a.expires*864e5)),a.expires&&(a.expires=a.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var c="";for(var u in a)a[u]&&(c+="; "+u,a[u]!==!0&&(c+="="+a[u].split(";")[0]));return document.cookie=i+"="+t.write(s,i)+c}}function r(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var s=document.cookie?document.cookie.split("; "):[],a={},c=0;c<s.length;c++){var u=s[c].split("="),d=u.slice(1).join("=");try{var h=decodeURIComponent(u[0]);if(a[h]=t.read(d,h),i===h)break}catch{}}return i?a[i]:a}}return Object.create({set:n,get:r,remove:function(i,s){n(i,"",Jw({},s,{expires:-1}))},withAttributes:function(i){return HT(this.converter,Jw({},this.attributes,i))},withConverter:function(i){return HT(Jw({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var ir=HT(uoe,{path:"/"});const qN=Promise.allSettled.bind(Promise)??(t=>Promise.all(t.map((e=>e.then((n=>({status:"fulfilled",value:n}))).catch((n=>({status:"rejected",reason:n})))))));let bh="privy:token",BS="privy-token",LS="privy:pat",Qw="privy:refresh_token",jS="privy-refresh-token",wh="privy:id-token",zS="privy-id-token",ev="privy-session",Aj=class extends Lu{set isUsingServerCookies(e){this._isUsingServerCookies=e}async getCustomerAccessToken(){let e=await this._storage.get(bh);try{return typeof e=="string"?new Ph(e).value:null}catch(n){return console.error(n),await this.destroyLocalState({reason:"getToken_error"}),null}}async getPrivyAccessToken(){let e=await this._storage.get(LS);try{return typeof e=="string"?new Ph(e).value:null}catch(n){return console.error(n),await this.destroyLocalState({reason:"getToken_error"}),null}}async getRefreshToken(){let e=await this._storage.get(Qw);return typeof e=="string"?e:null}async getIdentityToken(){let e=await this._storage.get(wh);return typeof e=="string"?e:null}get mightHaveServerCookies(){try{let e=ir.get(ev);return e!==void 0&&e.length>0}catch(e){console.error(e)}return!1}hasRefreshCredentials(e,n){return this.mightHaveServerCookies||typeof e=="string"&&typeof n=="string"}tokenIsActive(e){if(!e)return!1;let n=Ph.parse(e);return n!==null&&!n.isExpired(30)}async destroyLocalState(e){await qN([this._storage.del(bh),this._storage.del(Qw),this._storage.del(wh),this._storage.del(this.GUEST_CREDENTIAL_STORAGE_KEY)]),ir.remove(BS),ir.remove(jS),ir.remove(zS),ir.remove(ev),e?.reason&&this.emit("storage_cleared",{reason:e.reason})}async storeCustomerAccessToken(e){if(typeof e=="string"){let n=await this._storage.get(bh);if(await this._storage.put(bh,e),!this._isUsingServerCookies){let r=Ph.parse(e)?.expiration;ir.set(BS,e,{sameSite:"Strict",secure:!0,expires:r?new Date(1e3*r):void 0})}n!==e&&this.emit("token_stored",{cookiesEnabled:this._isUsingServerCookies})}else{let n=await this._storage.get(bh);await this._storage.del(bh),ir.remove(BS),n!==null&&this.emit("token_cleared",{reason:"set_with_non_string_value"})}}async storePrivyAccessToken(e){typeof e=="string"?await this._storage.put(LS,e):await this._storage.del(LS)}async storeRefreshToken(e){typeof e=="string"?(await this._storage.put(Qw,e),this._isUsingServerCookies||(ir.set(ev,"t",{sameSite:"Strict",secure:!0,expires:30}),ir.set(jS,e,{sameSite:"Strict",secure:!0,expires:30})),this.emit("refresh_token_stored",{cookiesEnabled:this._isUsingServerCookies})):(await this._storage.del(Qw),ir.remove(jS),ir.remove(ev),this.emit("refresh_token_cleared",{reason:"set_with_non_string_value"}))}async updateWithTokensResponse(e){let n=(await qN([this.storeCustomerAccessToken(e.token),this.storePrivyAccessToken(e.privy_access_token),this.storeRefreshToken(e.refresh_token),this.storeIdentityToken(e.identity_token),this.processOAuthTokens(e.oauth_tokens)])).filter((r=>r.status==="rejected"));n.length>0&&this.emit("error_storing_tokens",n.map((r=>String(r.reason))).join(", "))}async processOAuthTokens(e){e&&this.emit("oauth_tokens_granted",e)}async storeIdentityToken(e){if(typeof e=="string"){let n=await this._storage.get(wh);if(await this._storage.put(wh,e),!this._isUsingServerCookies){let r=Ph.parse(e)?.expiration;ir.set(zS,e,{sameSite:"Strict",secure:!0,expires:r?new Date(1e3*r):void 0})}n!==e&&this.emit("identity_token_stored",{cookiesEnabled:this._isUsingServerCookies})}else{let n=await this._storage.get(wh);await this._storage.del(wh),ir.remove(zS),n!==null&&this.emit("identity_token_cleared",{reason:"set_with_non_string_value"})}}async getOrCreateGuestCredential(){let e=this._storage.get(this.GUEST_CREDENTIAL_STORAGE_KEY);if(e&&typeof e=="string")return e;let n=Xd(crypto.getRandomValues(new Uint8Array(32)));return await this._storage.put(this.GUEST_CREDENTIAL_STORAGE_KEY,n),n}constructor(e){super(),this._isUsingServerCookies=!1,this._storage=e.storage,this.GUEST_CREDENTIAL_STORAGE_KEY=`privy:guest:${e.appId}`}};Aj.events=["storage_cleared","token_cleared","refresh_token_cleared","identity_token_cleared","token_stored","refresh_token_stored","identity_token_stored","oauth_tokens_granted","error_storing_tokens"];var doe=t=>{let e=new AbortController;return setTimeout((()=>e.abort()),t),e.signal};function foe(t){let e=new URLSearchParams;for(let n in t)t[n]!=null&&e.append(n,String(t[n]));return Array.from(e).length?"?"+e.toString():""}const tv=()=>{};let Kl={NONE:Number.NEGATIVE_INFINITY,ERROR:1,WARN:2,INFO:3,DEBUG:Number.POSITIVE_INFINITY};const hoe=({level:t}={level:"ERROR"})=>({get level(){return t},error:Kl[t]>=Kl.ERROR?console.error:tv,warn:Kl[t]>=Kl.WARN?console.warn:tv,info:Kl[t]>=Kl.INFO?console.info:tv,debug:Kl[t]>=Kl.DEBUG?console.debug:tv});let FS="privy:caid",poe=class{setCallbacks(e){this.callbacks={...this.callbacks,...e}}get isReady(){return!!this._config}get config(){return this._config}get caid(){return this._analyticsId}async _initialize(){if(this.isReady)this.callbacks?.setIsReady?.(!0);else{if(!await this.isStorageAccessible())throw new nn({code:"storage_error",error:"Unable to access storage"});this._config=await this.getAppConfig(),this._config?.custom_api_url&&(this.baseUrl=this._config.custom_api_url,this.session.isUsingServerCookies=!0),this.callbacks?.setIsReady?.(!0),this._sdkVersion.startsWith("react-auth:")||this.createAnalyticsEvent("sdk_initialize",{})}}getPath(e,{params:n,query:r}){return`${this.baseUrl}${YX(e.path,n)}${foe(r)}`}async fetch(e,{body:n,params:r,query:i,headers:s,onRequest:a=this._beforeRequest.bind(this)}){let c=new Request(this.getPath(e,{params:r,query:i}),{method:e.method,body:JSON.stringify(n),headers:s}),u=await a(c),d=await this._fetch(c,u),h=await d.json();if(d.status>299)throw new oS(h);return h}async _beforeRequestWithoutInitialize(e){let n=await this.session.getPrivyAccessToken()??await this.session.getCustomerAccessToken(),r=new Headers(e.headers);r.set("privy-app-id",this.appId),this.appClientId&&r.set("privy-client-id",this.appClientId),r.set("privy-client",this._sdkVersion),n&&r.set("Authorization",`Bearer ${n}`),r.set("Content-Type","application/json"),r.set("Accept","application/json");let i=await this._getOrGenerateClientAnalyticsId();return i&&r.set("privy-ca-id",i),this.nativeAppIdentifier&&r.set("x-native-app-identifier",this.nativeAppIdentifier),{signal:doe(2e4),headers:r,credentials:"include"}}async beforeRequestWithoutRefresh(e){return await this._initialize(),this._beforeRequestWithoutInitialize(e)}async _beforeRequest(e){return await this._initialize(),await this.getAccessTokenInternal(),this.beforeRequestWithoutRefresh(e)}async getAppConfig(){return await this.fetch(lX,{params:{app_id:this.appId},onRequest:this._beforeRequestWithoutInitialize.bind(this)})}async _getOrGenerateClientAnalyticsId(){if(this._analyticsId)return this._analyticsId;try{let e=await this._storage.get(FS);if(typeof e=="string"&&e.length>0)return this._analyticsId=e,e}catch(e){this.logger.error("Unable to load clientId",e)}try{this._analyticsId=BT()}catch(e){this.logger.error("Unable to generate uuidv4",e)}if(this._analyticsId){try{await this._storage.put(FS,this._analyticsId)}catch(e){this.logger.error(`Unable to store clientId: ${this._analyticsId}`,e)}return this._analyticsId}}async destroyClientAnalyticsId(){try{return await this._storage.del(FS)}catch(e){this.logger.error("Unable to delete clientId",e)}}async createAnalyticsEvent(e,n){try{await this.fetch(cX,{body:{event_name:e,client_id:await this._getOrGenerateClientAnalyticsId(),payload:n},onRequest:this.beforeRequestWithoutRefresh.bind(this)})}catch{}}async refreshSession(e=!1){if(!await this.isStorageAccessible())throw new nn({code:"storage_error",error:"Unable to access storage"});let n=await this.session.getRefreshToken()??void 0,r=n??"key",i=this._cache.get(r);if(i)return this.logger.debug("[privy:refresh] found in-flight session refresh request, deduping"),await i;let s=this._refreshSession(n,e);this._cache.set(r,s);try{return await s}finally{this._cache.delete(r)}}async _refreshSession(e,n){let r=await this.session.getCustomerAccessToken();if(!this.session.hasRefreshCredentials(r,e??null))throw this.logger.debug("[privy:refresh] missing tokens, skipping request"),await this._initialize(),new oS({code:$N.MISSING_OR_INVALID_TOKEN,error:"No tokens found in storage"});try{this.logger.debug(`[privy:refresh] fetching: ${T4.path}`);let i=await this.fetch(T4,{body:{refresh_token:e},onRequest:this.beforeRequestWithoutRefresh.bind(this)}),s=i.session_update_action;return this.logger.debug(`[privy:refresh] response: ${s}`),n||this.callbacks?.setUser?.(i.user),s==="set"&&(await this.session.updateWithTokensResponse(i),this.logger.debug("[privy:refresh] tokens stored")),s==="clear"&&(await this.session.destroyLocalState(),this.logger.debug("[privy:refresh] tokens cleared"),n||this.callbacks?.setUser?.(null)),s==="ignore"&&i.token&&(await this.session.storeCustomerAccessToken(i.token),await this.session.storePrivyAccessToken(i.privy_access_token),this.logger.debug("[privy:refresh] access token stored"),i.identity_token&&(this.logger.debug("[privy:refresh] identity token stored"),await this.session.storeIdentityToken(i.identity_token))),this.logger.debug("[privy:refresh] returning response"),i}catch(i){throw this.logger.debug(`[privy:refresh] error: ${i.message??"unknown error"}`),i instanceof oS&&i.code===$N.MISSING_OR_INVALID_TOKEN&&(await this.session.destroyLocalState(),n||this.callbacks?.setUser?.(null)),i}}async getAccessToken(){let[e,n]=await Promise.all([this.session.getCustomerAccessToken(),this.session.getRefreshToken()]);if(!this.session.tokenIsActive(e)&&this.session.hasRefreshCredentials(e,n)){let r=await this.refreshSession(),i=await this.session.getCustomerAccessToken();return r.token||this.logger.debug("[privy:getAccessToken] expected token received null"),r.token===e&&this.logger.debug("[privy:getAccessToken] expected new token in response received existing"),i===e&&this.logger.debug("[privy:getAccessToken] expected new token in storage received existing"),r.token??i}return e}async getAccessTokenInternal(){let e=await this.getAccessToken();return await this.session.getPrivyAccessToken()??e}async getIdentityToken(){return await this.session.getIdentityToken()}async isStorageAccessible(){try{let e=`privy:__storage__test-${BT()}`,n="blobby";await this._storage.put(e,n);let r=await this._storage.get(e);return await this._storage.del(e),r===n}catch(e){return this.logger.error(e),!1}}constructor(e){this._sdkVersion="js-sdk-core:0.58.5",this._cache=new Map,this.logger=hoe({level:e.logLevel??"ERROR"}),this._storage=e.storage,this._analyticsId=null,this._getOrGenerateClientAnalyticsId(),this.baseUrl=e.baseUrl??"https://auth.privy.io",this.appId=e.appId,this.appClientId=e.appClientId,this._sdkVersion=e.sdkVersion??this._sdkVersion,this.callbacks=e.callbacks,this.nativeAppIdentifier=e.nativeAppIdentifier,this.session=new Aj({storage:this._storage,isUsingServerCookies:!1,appId:e.appId}),this._fetch=mj(globalThis.fetch,{retries:3,retryDelay:n=>3**n*500,retryOn:[408,409,425,500,502,503,504]}),this.session.on("error_storing_tokens",(n=>{this.createAnalyticsEvent("error_updating_tokens_in_storage",{reason:n})}))}},yoe=class{async get(){let{user:e}=await this._privyInternal.refreshSession();return{user:e}}async acceptTerms(){return{user:await this._privyInternal.fetch(aJ,{})}}constructor(e){this._privyInternal=e}};const Sj=t=>t.type==="wallet"&&t.wallet_client_type==="privy"&&t.connector_type==="embedded",xj=t=>t?t.linked_accounts.filter(Sj).filter((e=>e.chain_type==="ethereum")).sort(((e,n)=>e.wallet_index-n.wallet_index)):[],WN=t=>xj(t).find((e=>e.wallet_index===0))??null,Tj=t=>t?t.linked_accounts.filter(Sj).filter((e=>e.chain_type==="solana")).sort(((e,n)=>e.wallet_index-n.wallet_index)):[],moe=t=>Tj(t).find((e=>e.wallet_index===0))??null,goe=(t,e)=>!(e==="off"||xj(t).length>0||t.linked_accounts.filter((n=>n.type==="wallet"&&n.chain_type==="ethereum")).length>0&&e!=="all-users"),boe=(t,e)=>!(e==="off"||Tj(t).length>0||t.linked_accounts.filter((n=>n.type==="wallet"&&n.chain_type==="solana")).length>0&&e!=="all-users"),oo=async(t,e,n)=>{let r=goe(e.user,n?.ethereum?.createOnLogin??"off"),i=boe(e.user,n?.solana?.createOnLogin??"off");if(r&&i){let s=await t.create({recoveryMethod:"privy",skipCallbacks:!0});return{...await t.createSolana({ethereumAccount:WN(s.user)??void 0}),is_new_user:e.is_new_user,oauth_tokens:e.oauth_tokens}}return r?{...await t.create({recoveryMethod:"privy",solanaAccount:moe(e.user)??void 0}),is_new_user:e.is_new_user,oauth_tokens:e.oauth_tokens}:i?{...await t.createSolana({ethereumAccount:WN(e.user)??void 0}),is_new_user:e.is_new_user,oauth_tokens:e.oauth_tokens}:e};let woe=class{async syncWithToken(e,n,r){let i=await this._privyInternal.fetch(hX,{body:{token:e,mode:r}});await this._privyInternal.session.updateWithTokensResponse(i);let s=await oo(this._embedded,i,n?.embedded);return this._privyInternal.callbacks?.setUser?.(s.user),s}constructor(e,n){this._privyInternal=e,this._embedded=n}},voe=class{async sendCode(e,n){return this._privyInternal.fetch(DX,{body:{email:e,token:n}})}async loginWithCode(e,n,r,i){let s=await this._privyInternal.fetch(PX,{body:{email:e,code:n,mode:r}});await this._privyInternal.session.updateWithTokensResponse(s);let a=await oo(this._embedded,s,i?.embedded);return this._privyInternal.callbacks?.setUser?.(a.user),a}async linkWithCode(e,n){await this._privyInternal.fetch(MX,{body:{email:e,code:n}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}async updateEmail({oldEmailAddress:e,newEmailAddress:n,code:r}){await this._privyInternal.fetch(BX,{body:{oldAddress:e,newAddress:n,code:r}});let i=await this._privyInternal.refreshSession();return{user:i.user,identity_token:i.identity_token}}async unlink(e){await this._privyInternal.fetch(UX,{body:{address:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}constructor(e,n){this._privyInternal=e,this._embedded=n}},_oe=class{async initializeAuth({relyingParty:e,redirectUrl:n,token:r}){return await this._privyInternal.fetch(pX,{body:{relying_party:e,redirect_url:n,token:r}})}async getFarcasterStatus({channel_token:e}){return await this._privyInternal.fetch(bX,{headers:{"farcaster-channel-token":e}})}async authenticate({channel_token:e,message:n,signature:r,fid:i,mode:s},a){let c=await this._privyInternal.fetch(yX,{body:{channel_token:e,message:n,signature:r,fid:i,mode:s}});await this._privyInternal.session.updateWithTokensResponse(c);let u=await oo(this._embedded,c,a?.embedded);return this._privyInternal.callbacks?.setUser?.(u.user),u}async link({channel_token:e,message:n,signature:r,fid:i}){await this._privyInternal.fetch(mX,{body:{channel_token:e,message:n,signature:r,fid:i}});let s=await this._privyInternal.refreshSession();return{user:s.user,identity_token:s.identity_token}}async unlink({fid:e}){await this._privyInternal.fetch(gX,{body:{fid:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}constructor(e,n){this._privyInternal=e,this._embedded=n}},Eoe=class{async initializeAuth(){return await this._privyInternal.fetch(wX,{body:{}})}async authenticate({message:e,signature:n,fid:r},i){let s=await this._privyInternal.fetch(vX,{body:{message:e,signature:n,fid:r}});await this._privyInternal.session.updateWithTokensResponse(s);let a=await oo(this._embedded,s,i?.embedded);return this._privyInternal.callbacks?.setUser?.(a.user),a}constructor(e,n){this._privyInternal=e,this._embedded=n}},Aoe=class{async create(e){let n=await this._privyInternal.session.getOrCreateGuestCredential(),r=await this._privyInternal.fetch(_X,{body:{guest_credential:n}});await this._privyInternal.session.updateWithTokensResponse(r);let i=await oo(this._embedded,r,e?.embedded);return this._privyInternal.callbacks?.setUser?.(i.user),i}constructor(e,n){this._privyInternal=e,this._embedded=n}};const gu="privy:state_code",bu="privy:code_verifier";async function Soe(t,e){let n=new TextEncoder().encode(t);return new Uint8Array(await e("SHA-256",n))}function xoe(t){return crypto.getRandomValues(new Uint8Array(t))}function VI(){return Xd(xoe(36))}function Ij(){return VI()}async function Cj({codeVerifier:t,method:e="S256",digest:n=crypto.subtle.digest.bind(crypto.subtle)}){if(e!="S256")return t;{let r=await Soe(t,n);return Xd(r)}}let Toe=class{async generateURL(e,n){let r=VI(),i=Ij(),s=await Cj({codeVerifier:r,digest:this._crypto?.digest});return await Promise.all([this._storage.put(bu,r),this._storage.put(gu,i)]),this._privyInternal.fetch(xX,{body:{redirect_to:n,provider:e,code_challenge:s,state_code:i}})}async loginWithCode(e,n,r,i,s,a){let[c,u]=await Promise.all([this._storage.get(bu),this._storage.get(gu)]);if(u!==n)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"oauth",provider:r,storedStateCode:u??"",returnedStateCode:n??""}),new nn({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let d=await this._privyInternal.fetch(SX,{body:{authorization_code:e,code_type:i,state_code:u,code_verifier:c,mode:s}});await this._privyInternal.session.updateWithTokensResponse(d);let h=await oo(this._embedded,d,a?.embedded);return await Promise.all([this._storage.del(bu),this._storage.del(gu)]),this._privyInternal.callbacks?.setUser?.(h.user),h}async linkWithCode(e,n,r,i){let[s,a]=await Promise.all([this._storage.get(bu),this._storage.get(gu)]);if(a!==n)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"oauth",provider:r,storedStateCode:a??"",returnedStateCode:n??""}),new nn({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let c=await this._privyInternal.fetch(TX,{body:{authorization_code:e,code_type:i,state_code:a,code_verifier:s}});await this._privyInternal.session.processOAuthTokens(c.oauth_tokens);let u=await this._privyInternal.refreshSession();return await Promise.all([this._storage.del(bu),this._storage.del(gu)]),{user:u.user,identity_token:u.identity_token}}async unlink(e,n){await this._privyInternal.fetch(IX,{body:{provider:e,subject:n}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}constructor(e,n,r,i){this._privyInternal=e,this._embedded=n,this._storage=r,this._crypto=i}},Ioe=class{async generateRegistrationOptions(e){return await this._privyInternal.fetch($X,{body:{relying_party:e}})}async generateAuthenticationOptions(e){return await this._privyInternal.fetch(RX,{body:{relying_party:e}})}async generateSignupOptions(e){return await this._privyInternal.fetch(NX,{body:{relying_party:e}})}async loginWithPasskey(e,n,r,i){let s=await this._privyInternal.fetch(OX,{body:{relying_party:r,challenge:n,authenticator_response:this._transformAuthenticationResponseToSnakeCase(e)}});await this._privyInternal.session.updateWithTokensResponse(s);let a=await oo(this._embedded,s,i?.embedded);return this._privyInternal.callbacks?.setUser?.(a.user),a}async signupWithPasskey(e,n,r){let i=await this._privyInternal.fetch(kX,{body:{relying_party:n,authenticator_response:this._transformRegistrationResponseToSnakeCase(e)}});await this._privyInternal.session.updateWithTokensResponse(i);let s=await oo(this._embedded,i,r?.embedded);return this._privyInternal.callbacks?.setUser?.(s.user),s}async linkWithPasskey(e,n){await this._privyInternal.fetch(CX,{body:{relying_party:n,authenticator_response:this._transformRegistrationResponseToSnakeCase(e)}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}_transformRegistrationResponseToSnakeCase(e){return{type:e.type,id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,attestation_object:e.response.attestationObject,authenticator_data:e.response.authenticatorData||void 0,transports:e.response.transports||void 0,public_key:e.response.publicKey||void 0,public_key_algorithm:e.response.publicKeyAlgorithm||void 0},authenticator_attachment:e.authenticatorAttachment||void 0,client_extension_results:{app_id:e.clientExtensionResults.appid||void 0,cred_props:e.clientExtensionResults.credProps||void 0,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret||void 0}}}_transformAuthenticationResponseToSnakeCase(e){return{type:e.type,id:e.id,raw_id:e.rawId,response:{signature:e.response.signature,client_data_json:e.response.clientDataJSON,authenticator_data:e.response.authenticatorData,user_handle:e.response.userHandle||void 0},authenticator_attachment:e.authenticatorAttachment||void 0,client_extension_results:{app_id:e.clientExtensionResults.appid||void 0,cred_props:e.clientExtensionResults.credProps||void 0,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret||void 0}}}constructor(e,n){this._privyInternal=e,this._embedded=n}},Coe=class{async sendCode(e,n){return this._privyInternal.fetch(jX,{body:{phoneNumber:e,token:n}})}async loginWithCode(e,n,r,i){let s=await this._privyInternal.fetch(LX,{body:{phoneNumber:e,code:n,mode:r}});await this._privyInternal.session.updateWithTokensResponse(s);let a=await oo(this._embedded,s,i?.embedded);return this._privyInternal.callbacks?.setUser?.(a.user),a}async linkWithCode(e,n){await this._privyInternal.fetch(zX,{body:{phoneNumber:e,code:n}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}async updatePhone({oldPhoneNumber:e,newPhoneNumber:n,code:r}){await this._privyInternal.fetch(qX,{body:{old_phone_number:e,new_phone_number:n,code:r}});let i=await this._privyInternal.refreshSession();return{user:i.user,identity_token:i.identity_token}}async unlink(e){await this._privyInternal.fetch(FX,{body:{phoneNumber:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}constructor(e,n){this._privyInternal=e,this._embedded=n}},Ooe=class{async unlinkWallet(e){await this._privyInternal.fetch(tJ,{body:{address:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}async linkWithSiwe(e,n,r){let i=n||this._wallet,s=r||this._preparedMessage;if(!i)throw Error("A wallet must be provided in the init step or as an argument to linkWithSiwe");if(!s)throw Error("A message must be generated and signed before being used to link a wallet to privy");await this._privyInternal.fetch(QX,{body:{message:s,signature:e,chainId:i.chainId,walletClientType:i.walletClientType??null,connectorType:i.connectorType??null}});let a=await this._privyInternal.refreshSession();return{user:a.user,identity_token:a.identity_token}}async loginWithSiwe(e,n,r,i,s){let a=n||this._wallet,c=r||this._preparedMessage;if(!a)throw Error("A wallet must be provided in the init step or as an argument to loginWithSiwe");if(!c)throw Error("A message must be generated and signed before being used to login to privy with a wallet");let u=await this._privyInternal.fetch(JX,{body:{signature:e,message:c,chainId:a.chainId,walletClientType:a.walletClientType??null,connectorType:a.connectorType??null,mode:i}});await this._privyInternal.session.updateWithTokensResponse(u);let d=await oo(this._embedded,u,s?.embedded);return this._privyInternal.callbacks?.setUser?.(d.user),d}async init(e,n,r){var i;this._wallet=e;let{nonce:s}=await this._privyInternal.fetch(yB,{body:{address:e.address}}),a=`${(i={chainId:e.chainId.toString().replace("eip155:",""),address:e.address,issuedAt:new Date().toISOString(),statement:"By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.",domain:n,nonce:s,uri:r}).domain} wants you to sign in with your Ethereum account:
${i.address}

${i.statement}

URI: ${i.uri}
Version: 1
Chain ID: ${i.chainId}
Nonce: ${i.nonce}
Issued At: ${i.issuedAt}
Resources:
- https://privy.io`;return this._preparedMessage=a,{nonce:s,message:a}}constructor(e,n){this._wallet=void 0,this._privyInternal=e,this._embedded=n}},koe=class{async unlink({address:e}){await this._privyInternal.fetch(sJ,{body:{address:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}async link({message:e,signature:n,walletClientType:r,connectorType:i}){await this._privyInternal.fetch(iJ,{body:{message:e,signature:n,walletClientType:r??null,connectorType:i??null}});let s=await this._privyInternal.refreshSession();return{user:s.user,identity_token:s.identity_token}}async login({mode:e,message:n,signature:r,walletClientType:i,connectorType:s,opts:a}){let c=await this._privyInternal.fetch(rJ,{body:{signature:r,message:n,walletClientType:i??null,connectorType:s??null,mode:e}});await this._privyInternal.session.updateWithTokensResponse(c);let u=await oo(this._embedded,c,a?.embedded);return this._privyInternal.callbacks?.setUser?.(u.user),u}async fetchNonce({address:e}){let{nonce:n}=await this._privyInternal.fetch(nJ,{body:{address:e}});return{nonce:n}}constructor(e,n){this._privyInternal=e,this._embedded=n}},Roe=class{async link(e,n,r,i){await this._privyInternal.fetch(eJ,{body:{message:e,signature:n,smart_wallet_type:r,smart_wallet_version:i}});let s=await this._privyInternal.refreshSession();return{user:s.user,identity_token:s.identity_token}}async init(e){var n;let{nonce:r}=await this._privyInternal.fetch(yB,{body:{address:e.address}});return{nonce:r,message:`${(n={chainId:e.chainId.toString().replace("eip155:",""),address:e.address,issuedAt:new Date().toISOString(),statement:"By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.",domain:"privy.io",uri:"https://auth.privy.io",nonce:r}).domain} wants you to sign in with your Ethereum account:
${n.address}

${n.statement}

URI: ${n.uri}
Version: 1
Chain ID: ${n.chainId}
Nonce: ${n.nonce}
Issued At: ${n.issuedAt}
Resources:
- https://privy.io`}}constructor(e){this._privyInternal=e}},Noe=class{async logout(e){try{let n=await this._privyInternal.session.getRefreshToken()??void 0;await this._privyInternal.fetch(ZX,{body:{refresh_token:n}})}catch{console.warn("Error destroying session")}await Promise.all([this._privyInternal.session.destroyLocalState({reason:"logout"}),this._privyInternal.destroyClientAnalyticsId(),e?.userId&&this._mfa.clearMfa({userId:e.userId})]),this._privyInternal.callbacks?.setUser?.(null)}constructor(e,n,r,i,s){this._privyInternal=e,this._mfa=s,this.customProvider=new woe(this._privyInternal,n),this.phone=new Coe(this._privyInternal,n),this.email=new voe(this._privyInternal,n),this.oauth=new Toe(this._privyInternal,n,r,i),this.guest=new Aoe(this._privyInternal,n),this.siwe=new Ooe(this._privyInternal,n),this.siws=new koe(this._privyInternal,n),this.smartWallet=new Roe(this._privyInternal),this.passkey=new Ioe(this._privyInternal,n),this.farcaster=new _oe(this._privyInternal,n),this.farcasterV2=new Eoe(this._privyInternal,n)}},$oe=class{async initOnRampSession(e){return await this._privyInternal.fetch(uX,{body:e})}async getStatus(e){return await this._privyInternal.fetch(dX,{query:{partnerUserId:e}})}constructor(e){this._privyInternal=e}};const Poe={prod:{url:"https://api.moonpay.com/v1",key:"pk_live_hirbpu0cVcLHrjktC9l7fbc9ctjv0SL"},sandbox:{url:"https://api.moonpay.com/v1",key:"pk_test_fqWjXZMSFwloh7orvJsRfjiUHXJqFzI"}};let Doe=new Set([Bp.id,D0.id,U0.id,B0.id,M0.id,H3.id]),Moe=new Set([Bp.id,D0.id,G3.id,U0.id,B0.id,M0.id]);function TLe(t,e){switch(e){case"native-currency":return Doe.has(t);case"USDC":return Moe.has(t);default:return console.warn("Unknown asset passed to MoonPay Onramp"),!1}}function ILe(t,e){switch(t){case D0.id:return e==="native-currency"?"ETH_ARBITRUM":"USDC_ARBITRUM";case M0.id:return e==="native-currency"?"AVAX_CCHAIN":"USDC_CCHAIN";case U0.id:return e==="native-currency"?"ETH_BASE":"USDC_BASE";case H3.id:return"CELO_CELO";case B0.id:return e==="native-currency"?"MATIC_POLYGON":"USDC_POLYGON";case Bp.id:return e==="native-currency"?"ETH_ETHEREUM":"USDC_ETHEREUM";default:return console.warn(`Chain ${t} not supported by Moonpay, defaulting to Ethereum mainnet`),"ETH_ETHEREUM"}}let Uoe=class{async sign(e){return await this._privyInternal.fetch(oJ,{body:e})}async getTransactionStatus({transactionId:e,useSandbox:n}){let{url:r,key:i}=Poe[n?"sandbox":"prod"],s=await mj(fetch,{retries:3,retryDelay:500})(`${r}/transactions/ext/${e}?apiKey=${i}`);if(!s.ok)throw new UJ({error:`Failed to fetch transaction status for Transaction ${e}`,code:"failed_to_fetch_moonpay_transaction_status",response:s});let a=await s.json();return Array.isArray(a)?a.at(0):void 0}constructor(e){this._privyInternal=e}},Boe=class{constructor(e){this.moonpay=new Uoe(e),this.coinbase=new $oe(e)}},Loe=class{async generateAuthenticationOptions(e){return await this._privyInternal.fetch(EX,{body:e})}constructor(e){this._privyInternal=e}},joe=class{async sendCode(e){return await this._privyInternal.fetch(AX,{body:e})}constructor(e){this._privyInternal=e}},zoe=class{setProxy(e){this.proxy=e}async getAccessTokenInternal(){let e=await this.privyInternal.getAccessTokenInternal();if(!e)throw new nn({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});return e}async verifyMfa(){if(!this.proxy)throw new nn({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.verifyMfa({accessToken:await this.getAccessTokenInternal()})}async initEnrollMfa(e){if(!this.proxy)throw new nn({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.initEnrollMfa({...e,accessToken:await this.getAccessTokenInternal()})}async submitEnrollMfa(e){if(!this.proxy)throw new nn({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});let n=await this.proxy.submitEnrollMfa({...e,accessToken:await this.getAccessTokenInternal()});return await this.privyInternal.refreshSession(),n}async unenrollMfa(e){if(!this.proxy)throw new nn({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});let n=await this.proxy.unenrollMfa({method:e,accessToken:await this.getAccessTokenInternal()});return await this.privyInternal.refreshSession(),n}async clearMfa(e){if(!this.proxy)throw new nn({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.clearMfa(e)}constructor(e,n){this.proxy=n,this.privyInternal=e,this.sms=new joe(e),this.passkey=new Loe(e)}},Foe=class{async init(e){return this._privyInternal.fetch(GX,{body:{client_type:e}})}async getICloudConfiguration(e){return this._privyInternal.fetch(KX,{body:{client_type:e}})}constructor(e){this._privyInternal=e}},qoe=class{async generateURL(e){let n=VI(),r=Ij(),i=await Cj({codeVerifier:n,digest:this._crypto?.digest});return await Promise.all([this._storage.put(bu,n),this._storage.put(gu,r)]),this._privyInternal.fetch(VX,{body:{redirect_to:e,code_challenge:i,state_code:r}})}async authorize(e,n){let[r,i]=await Promise.all([this._storage.get(bu),this._storage.get(gu)]);if(i!==n)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"recovery_oauth",storedStateCode:i??"",returnedStateCode:n??""}),new nn({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let s=await this._privyInternal.fetch(HX,{body:{authorization_code:e,state_code:i,code_verifier:r}});return await Promise.all([this._storage.del(bu),this._storage.del(gu)]),s}constructor(e,n,r){this._privyInternal=e,this._storage=n,this._crypto=r}},Woe=class{async getRecoveryKeyMaterial(e,n){return this._privyInternal.fetch(WX,{body:{chain_type:n},params:{address:e}})}constructor(e,n,r){this._privyInternal=e,this.auth=new qoe(this._privyInternal,n,r),this.icloudAuth=new Foe(this._privyInternal)}},Oj=class{async initialize(){await this._privyInternal._initialize()}setMessagePoster(e){this.embeddedWallet.setMessagePoster(e)}addOAuthTokensListener(e){return this._privyInternal.session.on("oauth_tokens_granted",e),{unsubscribe:()=>{this._privyInternal.session.removeListener("oauth_tokens_granted",e)}}}setCallbacks(e){this._privyInternal.setCallbacks(e)}getAccessToken(){return this._privyInternal.getAccessToken()}getIdentityToken(){return this._privyInternal.getIdentityToken()}getCompiledPath(e,n){return this._privyInternal.getPath(e,n)}async fetchPrivyRoute(e,n){return this._privyInternal.fetch(e,n)}get logger(){return this._privyInternal.logger}constructor({clientId:e,...n}){this._privyInternal=new poe({...n,appClientId:e}),this.mfa=new zoe(this._privyInternal),this.mfaPromises=new Iae,this.app=new uJ(this._privyInternal),this.embeddedWallet=new Tae(this._privyInternal,n.embeddedWalletMessagePoster,n.supportedChains,this.mfa,this.mfaPromises,this.app),this.user=new yoe(this._privyInternal),this.auth=new Noe(this._privyInternal,this.embeddedWallet,n.storage,n.crypto,this.mfa),this.recovery=new Woe(this._privyInternal,n.storage,n.crypto),this.funding=new Boe(this._privyInternal),this.delegated=new vJ(this._privyInternal),this.crossApp=new bB(this._privyInternal,n.storage)}};function Ur(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw TypeError("attempted to use private field on non-instance");return t}var Voe=0;function kj(t){return"__private_"+Voe+++"_"+t}var Un=kj("_wallet"),xs=kj("_account");let Rj=class{get standardWallet(){return Ur(this,Un)[Un]}get address(){return Ur(this,xs)[xs].address}async disconnect(){if(!Ur(this,Un)[Un].features["standard:disconnect"]?.disconnect)throw Error("Wallet does not support disconnect");await Ur(this,Un)[Un].features["standard:disconnect"].disconnect()}async signMessage(...e){if(!Ur(this,Un)[Un].features["solana:signMessage"]?.signMessage)throw Error("Wallet does not support signMessage");let n=await Ur(this,Un)[Un].features["solana:signMessage"].signMessage(...e.map((r=>({...r,account:Ur(this,xs)[xs]}))));return e.length===1?n[0]:[...n]}async signTransaction(...e){if(!Ur(this,Un)[Un].features["solana:signTransaction"]?.signTransaction)throw Error("Wallet does not support signTransaction");let n=await Ur(this,Un)[Un].features["solana:signTransaction"].signTransaction(...e.map((r=>({...r,account:Ur(this,xs)[xs]}))));return e.length===1?n[0]:[...n]}async signAndSendTransaction(...e){if(!Ur(this,Un)[Un].features["solana:signAndSendTransaction"]?.signAndSendTransaction)throw Error("Wallet does not support signAndSendTransaction");let n=await Ur(this,Un)[Un].features["solana:signAndSendTransaction"].signAndSendTransaction(...e.map((r=>({...r,account:Ur(this,xs)[xs]}))));return e.length===1?n[0]:[...n]}async signAndSendAllTransactions(e){if(!Ur(this,Un)[Un].features["solana:signAndSendTransaction"]?.signAndSendTransaction)throw Error("Wallet does not support signAndSendTransaction");return[...await Ur(this,Un)[Un].features["solana:signAndSendTransaction"].signAndSendTransaction(...e.map((n=>({...n,account:Ur(this,xs)[xs]}))))]}constructor({wallet:e,account:n}){Object.defineProperty(this,Un,{writable:!0,value:void 0}),Object.defineProperty(this,xs,{writable:!0,value:void 0}),Ur(this,Un)[Un]=e,Ur(this,xs)[xs]=n}};function P1(t){"@babel/helpers - typeof";return P1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P1(t)}var Hoe=/^\s+/,Goe=/\s+$/;function Ve(t,e){if(t=t||"",e=e||{},t instanceof Ve)return t;if(!(this instanceof Ve))return new Ve(t,e);var n=Koe(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}Ve.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),n,r,i,s,a,c;return n=e.r/255,r=e.g/255,i=e.b/255,n<=.03928?s=n/12.92:s=Math.pow((n+.055)/1.055,2.4),r<=.03928?a=r/12.92:a=Math.pow((r+.055)/1.055,2.4),i<=.03928?c=i/12.92:c=Math.pow((i+.055)/1.055,2.4),.2126*s+.7152*a+.0722*c},setAlpha:function(e){return this._a=Nj(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=HN(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=HN(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=VN(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=VN(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return GN(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return Joe(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Vn(this._r,255)*100)+"%",g:Math.round(Vn(this._g,255)*100)+"%",b:Math.round(Vn(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Vn(this._r,255)*100)+"%, "+Math.round(Vn(this._g,255)*100)+"%, "+Math.round(Vn(this._b,255)*100)+"%)":"rgba("+Math.round(Vn(this._r,255)*100)+"%, "+Math.round(Vn(this._g,255)*100)+"%, "+Math.round(Vn(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:uce[GN(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var n="#"+KN(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(e){var s=Ve(e);r="#"+KN(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(e){var n=!!e;e=e||this._format;var r=!1,i=this._a<1&&this._a>=0,s=!n&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return s?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return Ve(this.toString())},_applyModification:function(e,n){var r=e.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(nce,arguments)},brighten:function(){return this._applyModification(rce,arguments)},darken:function(){return this._applyModification(ice,arguments)},desaturate:function(){return this._applyModification(Qoe,arguments)},saturate:function(){return this._applyModification(ece,arguments)},greyscale:function(){return this._applyModification(tce,arguments)},spin:function(){return this._applyModification(sce,arguments)},_applyCombination:function(e,n){return e.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(cce,arguments)},complement:function(){return this._applyCombination(ace,arguments)},monochromatic:function(){return this._applyCombination(lce,arguments)},splitcomplement:function(){return this._applyCombination(oce,arguments)},triad:function(){return this._applyCombination(YN,[3])},tetrad:function(){return this._applyCombination(YN,[4])}};Ve.fromRatio=function(t,e){if(P1(t)=="object"){var n={};for(var r in t)t.hasOwnProperty(r)&&(r==="a"?n[r]=t[r]:n[r]=ug(t[r]));t=n}return Ve(t,e)};function Koe(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,s=null,a=!1,c=!1;return typeof t=="string"&&(t=pce(t)),P1(t)=="object"&&(_c(t.r)&&_c(t.g)&&_c(t.b)?(e=Yoe(t.r,t.g,t.b),a=!0,c=String(t.r).substr(-1)==="%"?"prgb":"rgb"):_c(t.h)&&_c(t.s)&&_c(t.v)?(r=ug(t.s),i=ug(t.v),e=Xoe(t.h,r,i),a=!0,c="hsv"):_c(t.h)&&_c(t.s)&&_c(t.l)&&(r=ug(t.s),s=ug(t.l),e=Zoe(t.h,r,s),a=!0,c="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=Nj(n),{ok:a,format:t.format||c,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}function Yoe(t,e,n){return{r:Vn(t,255)*255,g:Vn(e,255)*255,b:Vn(n,255)*255}}function VN(t,e,n){t=Vn(t,255),e=Vn(e,255),n=Vn(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s,a,c=(r+i)/2;if(r==i)s=a=0;else{var u=r-i;switch(a=c>.5?u/(2-r-i):u/(r+i),r){case t:s=(e-n)/u+(e<n?6:0);break;case e:s=(n-t)/u+2;break;case n:s=(t-e)/u+4;break}s/=6}return{h:s,s:a,l:c}}function Zoe(t,e,n){var r,i,s;t=Vn(t,360),e=Vn(e,100),n=Vn(n,100);function a(d,h,p){return p<0&&(p+=1),p>1&&(p-=1),p<1/6?d+(h-d)*6*p:p<1/2?h:p<2/3?d+(h-d)*(2/3-p)*6:d}if(e===0)r=i=s=n;else{var c=n<.5?n*(1+e):n+e-n*e,u=2*n-c;r=a(u,c,t+1/3),i=a(u,c,t),s=a(u,c,t-1/3)}return{r:r*255,g:i*255,b:s*255}}function HN(t,e,n){t=Vn(t,255),e=Vn(e,255),n=Vn(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s,a,c=r,u=r-i;if(a=r===0?0:u/r,r==i)s=0;else{switch(r){case t:s=(e-n)/u+(e<n?6:0);break;case e:s=(n-t)/u+2;break;case n:s=(t-e)/u+4;break}s/=6}return{h:s,s:a,v:c}}function Xoe(t,e,n){t=Vn(t,360)*6,e=Vn(e,100),n=Vn(n,100);var r=Math.floor(t),i=t-r,s=n*(1-e),a=n*(1-i*e),c=n*(1-(1-i)*e),u=r%6,d=[n,a,s,s,c,n][u],h=[c,n,n,a,s,s][u],p=[s,s,c,n,n,a][u];return{r:d*255,g:h*255,b:p*255}}function GN(t,e,n,r){var i=[Xa(Math.round(t).toString(16)),Xa(Math.round(e).toString(16)),Xa(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function Joe(t,e,n,r,i){var s=[Xa(Math.round(t).toString(16)),Xa(Math.round(e).toString(16)),Xa(Math.round(n).toString(16)),Xa($j(r))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function KN(t,e,n,r){var i=[Xa($j(r)),Xa(Math.round(t).toString(16)),Xa(Math.round(e).toString(16)),Xa(Math.round(n).toString(16))];return i.join("")}Ve.equals=function(t,e){return!t||!e?!1:Ve(t).toRgbString()==Ve(e).toRgbString()};Ve.random=function(){return Ve.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function Qoe(t,e){e=e===0?0:e||10;var n=Ve(t).toHsl();return n.s-=e/100,n.s=tE(n.s),Ve(n)}function ece(t,e){e=e===0?0:e||10;var n=Ve(t).toHsl();return n.s+=e/100,n.s=tE(n.s),Ve(n)}function tce(t){return Ve(t).desaturate(100)}function nce(t,e){e=e===0?0:e||10;var n=Ve(t).toHsl();return n.l+=e/100,n.l=tE(n.l),Ve(n)}function rce(t,e){e=e===0?0:e||10;var n=Ve(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),Ve(n)}function ice(t,e){e=e===0?0:e||10;var n=Ve(t).toHsl();return n.l-=e/100,n.l=tE(n.l),Ve(n)}function sce(t,e){var n=Ve(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,Ve(n)}function ace(t){var e=Ve(t).toHsl();return e.h=(e.h+180)%360,Ve(e)}function YN(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=Ve(t).toHsl(),r=[Ve(t)],i=360/e,s=1;s<e;s++)r.push(Ve({h:(n.h+s*i)%360,s:n.s,l:n.l}));return r}function oce(t){var e=Ve(t).toHsl(),n=e.h;return[Ve(t),Ve({h:(n+72)%360,s:e.s,l:e.l}),Ve({h:(n+216)%360,s:e.s,l:e.l})]}function cce(t,e,n){e=e||6,n=n||30;var r=Ve(t).toHsl(),i=360/n,s=[Ve(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,s.push(Ve(r));return s}function lce(t,e){e=e||6;for(var n=Ve(t).toHsv(),r=n.h,i=n.s,s=n.v,a=[],c=1/e;e--;)a.push(Ve({h:r,s:i,v:s})),s=(s+c)%1;return a}Ve.mix=function(t,e,n){n=n===0?0:n||50;var r=Ve(t).toRgb(),i=Ve(e).toRgb(),s=n/100,a={r:(i.r-r.r)*s+r.r,g:(i.g-r.g)*s+r.g,b:(i.b-r.b)*s+r.b,a:(i.a-r.a)*s+r.a};return Ve(a)};Ve.readability=function(t,e){var n=Ve(t),r=Ve(e);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};Ve.isReadable=function(t,e,n){var r=Ve.readability(t,e),i,s;switch(s=!1,i=yce(n),i.level+i.size){case"AAsmall":case"AAAlarge":s=r>=4.5;break;case"AAlarge":s=r>=3;break;case"AAAsmall":s=r>=7;break}return s};Ve.mostReadable=function(t,e,n){var r=null,i=0,s,a,c,u;n=n||{},a=n.includeFallbackColors,c=n.level,u=n.size;for(var d=0;d<e.length;d++)s=Ve.readability(t,e[d]),s>i&&(i=s,r=Ve(e[d]));return Ve.isReadable(t,r,{level:c,size:u})||!a?r:(n.includeFallbackColors=!1,Ve.mostReadable(t,["#fff","#000"],n))};var GT=Ve.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},uce=Ve.hexNames=dce(GT);function dce(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function Nj(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function Vn(t,e){fce(t)&&(t="100%");var n=hce(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function tE(t){return Math.min(1,Math.max(0,t))}function Os(t){return parseInt(t,16)}function fce(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function hce(t){return typeof t=="string"&&t.indexOf("%")!=-1}function Xa(t){return t.length==1?"0"+t:""+t}function ug(t){return t<=1&&(t=t*100+"%"),t}function $j(t){return Math.round(parseFloat(t)*255).toString(16)}function ZN(t){return Os(t)/255}var Va=(function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}})();function _c(t){return!!Va.CSS_UNIT.exec(t)}function pce(t){t=t.replace(Hoe,"").replace(Goe,"").toLowerCase();var e=!1;if(GT[t])t=GT[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=Va.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=Va.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Va.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=Va.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Va.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=Va.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Va.hex8.exec(t))?{r:Os(n[1]),g:Os(n[2]),b:Os(n[3]),a:ZN(n[4]),format:e?"name":"hex8"}:(n=Va.hex6.exec(t))?{r:Os(n[1]),g:Os(n[2]),b:Os(n[3]),format:e?"name":"hex"}:(n=Va.hex4.exec(t))?{r:Os(n[1]+""+n[1]),g:Os(n[2]+""+n[2]),b:Os(n[3]+""+n[3]),a:ZN(n[4]+""+n[4]),format:e?"name":"hex8"}:(n=Va.hex3.exec(t))?{r:Os(n[1]+""+n[1]),g:Os(n[2]+""+n[2]),b:Os(n[3]+""+n[3]),format:e?"name":"hex"}:!1}function yce(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:e,size:n}}const KT="https://auth.privy.io",mce=2e4,BLe=1400,LLe=2500,jLe=4e3,gce="3.10.0",dg="privy:token",XN="privy-token",qS="privy:refresh_token",bce="privy-refresh-token",jv="privy:pat",JN="privy:id_token",QN="privy-id-token",WS="privy-session",YT="privy:caid",Pj=t=>`privy:guest:${t}`,nv=t=>`privy:cross-app:${t}`,D1="privy:state_code",Qy="privy:code_verifier",M1="privy:headless_oauth",xg="privy:oauth_disable_signup",VS=t=>`privy:wallet:${t}`,Dj="privy:connections",nE=12e4,zLe=1,e$="0x1",wce=3e4,FLe="https://api.moonpay.com/v1",qLe="https://api.moonpay.com/v1",WLe="pk_live_hirbpu0cVcLHrjktC9l7fbc9ctjv0SL",VLe="pk_test_fqWjXZMSFwloh7orvJsRfjiUHXJqFzI",vce="deprecated",cu={appearance:{landingHeader:"Log in or sign up",theme:"light",walletList:["detected_ethereum_wallets","detected_solana_wallets","metamask","coinbase_wallet","rainbow","base_account","wallet_connect","phantom"]},walletConnectCloudProjectId:"34357d3c125c2bcf2ce2bc3309d98715",_render:{standalone:!1},fundingMethodConfig:{moonpay:{useSandbox:!1}}};let _ce=new Set(["coinbase_wallet","base_account","cryptocom","metamask","okx_wallet","phantom","rainbow","uniswap","zerion","universal_profile","bybit_wallet","ronin_wallet","haha_wallet","wallet_connect","wallet_connect_qr","wallet_connect_qr_solana","detected_solana_wallets","detected_ethereum_wallets","rabby_wallet","safe","solflare","backpack","jupiter","binance","binanceus","bitget_wallet","kraken_wallet"]),t$=t=>_ce.has(t),n$=(t,e,n)=>n.indexOf(t)===e;const Ece=({input:t,overrides:e})=>e?e.primary.concat(e.overflow??[]).filter(t$).filter(n$):t?t.filter(t$).filter(n$):cu.appearance.walletList;let Ace=/paymaster\.biconomy\.io\/api/i,Sce={mode:"SPONSORED",calculateGasLimits:!0,expiryDuration:300,sponsorshipInfo:{webhookData:{},smartAccountInfo:{name:"BICONOMY",version:"2.0.0"}}};const xce=(t,e)=>t&&Ace.test(t)?Sce:e&&e.policy_id?{policyId:e.policy_id}:void 0;function rv(t,e){let n=Math.max(0,Math.min(1,t.toHsl().l+e));return Ve({...t.toHsl(),l:n})}function HS(t,e){let n=t.getLuminance(),r=e.getLuminance();return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function Tce(t,e){if(!t){let r=e?fg:zv;return{accent:Ve(r.background.interactive),accentLight:Ve(r.background.interactive),accentHover:Ve(r.background["interactive-hover"]),accentDark:Ve(r.background["interactive-clicked"]),accentDarkest:Ve(r.background["interactive-disabled"])}}let n=Ve(t);return{accent:n,accentLight:rv(n,.15),accentHover:rv(n,.3),accentDark:rv(n,-.06),accentDarkest:rv(n,-.6)}}function Ice({backgroundTheme:t,accentHex:e}){let n,r;t==="light"?n=!1:t==="dark"?n=!0:(n=.5>=Ve(t).getLuminance(),r=Ve(t).toHslString());let i=n?"dark":"light",s=n?fg:zv,{accent:a,accentLight:c,accentHover:u,accentDark:d,accentDarkest:h}=Tce(e,n),p=(function(b){let v=Ve(zv.text.default),E=Ve(fg.text.default),O=HS(b,v),k=HS(b,E),S=b.toHsl();return S.h>=220&&S.h<=300&&k>=3?fg.text.default:O>k?zv.text.default:fg.text.default})(a),m=Ve(p),g=HS(a,Ve(s.background.default))>=3;return{colorScheme:i,background:r||s.background.default,background2:s.background.elevated,background3:s.background.interactive,foreground:s.text.default,foreground2:s.text.muted,foreground3:s.text.placeholder,foreground4:s.border.default,accent:a.toHslString(),accentLight:c.toHslString(),accentHover:u.toHslString(),accentDark:d.toHslString(),accentDarkest:h.toHslString(),foregroundAccent:m.toHslString(),success:s.background.success,successDark:s.text.success,successLight:s.background.success,error:s.text.error,errorLight:s.background.error,warn:s.background.warning,warnLight:s.background.warning,warningDark:s.text.warning,errorDark:s.text.error,successBg:s.background.success,errorBg:s.background.error,errorBgHover:s.background["error-hover"],warnBg:s.background.warning,infoBg:s.background.info,infoBgHover:s.background["info-hover"],borderDefault:s.border.default,borderHover:s.border["default-hover"],borderFocus:s.border.focused,borderError:s.border.error,borderSuccess:s.border.success,borderWarning:s.border.warning,borderInfo:s.border.info,borderInteractive:s.border.interactive,borderInteractiveHover:s.border["interactive-hover"],backgroundHover:s.background["default-hover"],backgroundClicked:s.background["default-clicked"],backgroundDisabled:s.background["default-disabled"],backgroundInteractive:s.background.interactive,backgroundInteractiveHover:s.background["interactive-hover"],backgroundInteractiveClicked:s.background["interactive-clicked"],backgroundInteractiveDisabled:s.background["interactive-disabled"],foregroundHover:s.text.default,foregroundClicked:s.text.default,foregroundDisabled:s.text["default-disabled"],foregroundInteractive:s.text.interactive,foregroundInteractiveHover:s.text["interactive-hover"],accentHasGoodContrast:g?"1":"0",linkNavigationColor:g?a.toHslString():s.text.default,linkNavigationDecoration:g?"none":"underline",iconDefault:s.icon.default,iconMuted:s.icon.muted,iconSubtle:s.icon.subtle,iconInverse:s.icon.inverse,iconSuccess:s.icon.success,iconWarning:s.icon.warning,iconError:s.icon.error,iconInteractive:s.icon.interactive,iconDefaultHover:s.icon["default-hover"],iconMutedHover:s.icon["muted-hover"],iconSubtleHover:s.icon["subtle-hover"],iconDefaultClicked:s.icon["default-clicked"],iconMutedClicked:s.icon["muted-clicked"],iconSubtleClicked:s.icon["subtle-clicked"],iconDefaultDisabled:s.icon["default-disabled"],iconMutedDisabled:s.icon["muted-disabled"],iconSubtleDisabled:s.icon["subtle-disabled"],iconErrorHover:s.icon["error-hover"],iconInteractiveHover:s.icon["interactive-hover"],iconErrorClicked:s.icon["error-clicked"],iconInteractiveClicked:s.icon["interactive-clicked"],iconMutedDisabledAlt:s.icon["muted-disabled"],iconSubtleDisabledAlt:s.icon["subtle-disabled"]}}const fg={background:{default:"#020713",elevated:"#1A2230","default-hover":"#101724","default-clicked":"#1A2230","default-disabled":"#020713",success:"#0E3E2D",warning:"#373827",error:"#2E0C18",interactive:"#8B86FF","error-hover":"#441821","interactive-hover":"#7B73E5","interactive-clicked":"#6560CC","interactive-disabled":"#141824",info:"#1F2937","info-hover":"#141824"},icon:{default:"#F8F8F8",muted:"#9BA2AE",subtle:"#7B8491",inverse:"#020713",success:"#88E3B5",warning:"#FDF27B",error:"#EF4444",interactive:"#88B6FF","default-hover":"#F8F8F8","muted-hover":"#AEB3BD","subtle-hover":"#8B939E","default-clicked":"#F8F8F8","muted-clicked":"#9097A5","subtle-clicked":"#78818E","default-disabled":"#404452","muted-disabled":"#404452","subtle-disabled":"#404452","error-hover":"#F05555","interactive-hover":"#7B73E5","error-clicked":"#EF4444","interactive-clicked":"#6560CC"},text:{default:"#F8F8F8",muted:"#9BA2AE",placeholder:"#7B8491",success:"#ACEECB",warning:"#FEF9A0",error:"#FCA5A5",interactive:"#A29EFF","default-disabled":"#404452","interactive-hover":"#8C88E5"},border:{default:"#1F2937",interactive:"#88B0FF",focused:"#F8F8FC",info:"#5B83D3",success:"#317056",warning:"#FBBF24",error:"#F87171","default-hover":"#34304A","interactive-hover":"#88B0FF"}},zv={background:{default:"#FFFFFF",elevated:"#F1F2F9","default-hover":"#F8F9FC","default-clicked":"#F1F2F9","default-disabled":"#FFFFFF",success:"#DCFCE7",warning:"#FEF3C7",error:"#FEE2E2",interactive:"#5B4FFF","error-hover":"#FECACA","interactive-hover":"#4F46E5","interactive-clicked":"#4338CA","interactive-disabled":"#F1F2F9",info:"#E0E7FF","info-hover":"#EEF2FF"},icon:{default:"#110F2A",muted:"#64668B",subtle:"#9498B8",inverse:"#FFFFFF",success:"#33B287",warning:"#F59E0B",error:"#EF4444",interactive:"#564FFF","default-hover":"#1D1B35","muted-hover":"#64668B","subtle-hover":"#888AAE","default-clicked":"#060C23","muted-clicked":"#64668B","subtle-clicked":"#788804","default-disabled":"#CBCDE1","muted-disabled":"#CBCDE1","subtle-disabled":"#CBCDE1","error-hover":"#F06060","interactive-hover":"#4F46E5","error-clicked":"#DC3838","interactive-clicked":"#2BA482"},text:{default:"#040217",muted:"#64668B",placeholder:"#9498B8",success:"#135638",warning:"#906218",error:"#991B1B",interactive:"#5B4FFF","default-disabled":"#CBCDE1","interactive-hover":"#5B4FFF"},border:{default:"#E2E3F0",interactive:"#5B4FFF",focused:"#949DF9",info:"#F1F2F9",success:"#87D7B7",warning:"#FACD63",error:"#F69393","default-hover":"#E2E3F0","interactive-hover":"#5B4FFF"}};function Mj(t,e,n,r,i){let s,a,c,u,d,h,p,m,g,b,v,E,O,k,S,A,C,I=n?console.warn:()=>{},$=[];if(e?.loginMethods)for(let Te of(s=e.loginMethods.includes("email"),a=e.loginMethods.includes("sms"),u=e.loginMethods.includes("wallet"),d=e.loginMethods.includes("google"),h=e.loginMethods.includes("twitter"),p=e.loginMethods.includes("discord"),v=e.loginMethods.includes("spotify"),E=e.loginMethods.includes("instagram"),m=e.loginMethods.includes("tiktok"),g=e.loginMethods.includes("line"),b=e.loginMethods.includes("twitch"),k=e.loginMethods.includes("github"),O=e.loginMethods.includes("linkedin"),S=e.loginMethods.includes("apple"),A=e.loginMethods.includes("farcaster"),C=e.loginMethods.includes("telegram"),c=e.loginMethods.includes("passkey"),e.loginMethods))typeof Te=="string"&&Te.startsWith("privy:")&&$.push(Te);else s=t.email_auth,a=t.sms_auth,u=t.wallet_auth||t.solana_wallet_auth,d=t.google_oauth,h=t.twitter_oauth,p=t.discord_oauth,k=t.github_oauth,v=t.spotify_oauth,E=t.instagram_oauth,m=t.tiktok_oauth,g=t.line_oauth,b=t.twitch_oauth,O=t.linkedin_oauth,S=t.apple_oauth,A=t.farcaster_auth,C=t.telegram_auth,c=t.passkey_auth;t.passkey_auth&&(c=!0),typeof window<"u"&&typeof window.PublicKeyCredential!="function"&&(c=!1);let z=[s,a].filter(Boolean),L=[d,h,p,k,v,E,m,g,O,S,A,C].filter(Boolean),B=[u].filter(Boolean),V=e?.loginMethods?.includes("passkey")??!1,D=t.passkeys_for_signup_enabled??!1,F=[c&&(D||V)].filter(Boolean);if(z.length+L.length+B.length+F.length+$.length===0)throw Error("You must enable at least one login method");let K=e?.appearance?.showWalletLoginFirst!==void 0?e?.appearance?.showWalletLoginFirst:t.show_wallet_login_first;K&&B.length===0?(I("You should only enable `showWalletLoginFirst` when `wallet` logins are also enabled. `showWalletLoginFirst` has been set to false"),K=!1):K||L.length+z.length!==0||(I("You should only disable `showWalletLoginFirst` when `email`, `sms`, or social logins are also enabled. `showWalletLoginFirst` has been set to true"),K=!0);let T=e?.externalWallets?.walletConnect?.enabled??!0;e?.loginMethods&&e.loginMethodsAndOrder&&I("You should only configure one of `loginMethods` or `loginMethodsAndOrder`");let x=Ece({input:e?.appearance?.walletList,overrides:e?.loginMethodsAndOrder});if((x.includes("wallet_connect_qr")||x.includes("wallet_connect"))&&x.includes("wallet_connect_qr_solana"))throw Error("wallet_connect_qr and wallet_connect_qr_solana cannot both be present in walletList due to WalletConnect session conflicts.");let N=(({input:Te})=>{if(!Te||!Te.primary[0])return;let Ee=[Te.primary[0]],Pe=[];for(let qe of(Te.primary.length>4&&console.warn("You should not specify greater than 4 login methods in `loginMethodsAndOrder.primary`"),Te.primary.slice(1)))Ee.includes(qe)?console.warn(`Duplicated login method: ${qe}`):Ee.push(qe);for(let qe of Te.overflow??[])Ee.includes(qe)||Pe.includes(qe)?console.warn(`Duplicated login method: ${qe}`):Pe.push(qe);return{primary:Ee,overflow:Pe}})({input:e?.loginMethodsAndOrder}),j=e?.intl?.defaultCountry??"US",{chains:P,defaultChain:H}=(function({supportedChains:Te,defaultChainFromConfig:Ee}){let Pe;if(Te){if(Te.length===0)throw Error("`supportedChains` must contain at least one chain");Pe=xB(Te)}else Pe=[...C_];let qe=Te?Pe[0]:Bp,rt=Ee??qe;if(!Pe.find((ye=>ye.id===rt.id)))throw Error("`defaultChain` must be included in `supportedChains`");return{chains:Pe,defaultChain:rt}})({supportedChains:e?.supportedChains,defaultChainFromConfig:e?.defaultChain}),M=!!e?.defaultChain,G=e?.customAuth?.getCustomAccessToken&&e?.customAuth?.enabled!==!1,J=G?"all-users":t.embedded_wallet_config.ethereum.create_on_login,X=t.embedded_wallet_config.solana.create_on_login;t.solana_wallet_auth&&!e?.externalWallets?.solana?.connectors&&console.warn("App configuration has Solana wallet login enabled, but no Solana wallet connectors have been passed to Privy. Make sure to pass Solana connectors to the `config.externalWallets.solana.connectors` field of the `PrivyProvider`");let Q=t.telegram_auth_config?{botId:t.telegram_auth_config.bot_id,botName:t.telegram_auth_config.bot_name,linkEnabled:t.telegram_auth_config.link_enabled,seamlessAuthEnabled:t.telegram_auth_config.seamless_auth_enabled}:void 0,ge=t.funding_config?{methods:t.funding_config.methods,options:t.funding_config.options,defaultRecommendedAmount:t.funding_config.default_recommended_amount,defaultRecommendedCurrency:t.funding_config.default_recommended_currency,promptFundingOnWalletCreation:t.funding_config.prompt_funding_on_wallet_creation,crossChainBridgingEnabled:t.funding_config.cross_chain_bridging_enabled}:void 0,we=t.smart_wallet_config;return{id:t.id,appClientId:i,name:t.name,allowlistConfig:{errorTitle:t.allowlist_config.error_title,errorDetail:t.allowlist_config.error_detail,errorCtaText:t.allowlist_config.cta_text,errorCtaLink:t.allowlist_config.cta_link},legacyWalletUiConfig:t.legacy_wallet_ui_config,appearance:{logo:e?.appearance?.logo??t.logo_url??void 0,landingHeader:e?.appearance?.landingHeader??cu.appearance.landingHeader,loginMessage:typeof e?.appearance?.loginMessage=="string"?e?.appearance?.loginMessage.slice(0,100):e?.appearance?.loginMessage,footerLogo:e?.appearance?.footerLogo,palette:Ice({backgroundTheme:e?.appearance?.theme??cu.appearance.theme,accentHex:e?.appearance?.accentColor??t.accent_color}),loginGroupPriority:K?"web3-first":"web2-first",hideDirectWeb2Inputs:!!e?.appearance?.hideDirectWeb2Inputs,walletList:x,walletChainType:e?.appearance?.walletChainType??(({evmWalletAuth:Te,solanaWalletAuth:Ee})=>Te&&Ee?"ethereum-and-solana":Te?"ethereum-only":Ee?"solana-only":"ethereum-only")({evmWalletAuth:t.wallet_auth??!1,solanaWalletAuth:t.solana_wallet_auth??!1})},loginMethods:{wallet:u,email:s,sms:a,passkey:c,google:d,twitter:h,discord:p,github:k,spotify:v,instagram:E,tiktok:m,line:g,twitch:b,linkedin:O,apple:S,farcaster:A,telegram:C},customOAuthProviders:(t.custom_oauth_providers??[]).filter((Te=>Te.enabled!==!1)),crossAppProviders:$,disablePlusEmails:t.disable_plus_emails,loginMethodsAndOrder:N,legal:{termsAndConditionsUrl:e?.legal?.termsAndConditionsUrl??t.terms_and_conditions_url,privacyPolicyUrl:e?.legal?.privacyPolicyUrl??t.privacy_policy_url,requireUsersAcceptTerms:t.require_users_accept_terms??!1},walletConnectCloudProjectId:e?.walletConnectCloudProjectId??t.wallet_connect_cloud_project_id??cu.walletConnectCloudProjectId,rpcConfig:{rpcUrls:{},rpcTimeouts:e?.externalWallets?.signatureRequestTimeouts??{}},chains:P,defaultChain:H,intl:{defaultCountry:j,textLocalization:e?.intl?.textLocalization},shouldEnforceDefaultChainOnConnect:M,captcha:{enabledProvider:t.enabled_captcha_provider??null,siteKey:t.captcha_site_key},externalWallets:{coinbaseWallet:{config:{appName:t.name,appLogoUrl:t.logo_url,preference:{options:"all",...e?.externalWallets?.coinbaseWallet?.config?.preference},...e?.externalWallets?.coinbaseWallet?.config}},baseAccount:{config:{appName:t.name,appLogoUrl:t.logo_url,...e?.externalWallets?.baseAccount?.config,preference:{...e?.externalWallets?.baseAccount?.config?.preference,telemetry:!1}}},walletConnect:{enabled:T},solana:{connectors:e?.externalWallets?.solana?.connectors},disableAllExternalWallets:e?.externalWallets?.disableAllExternalWallets??!1},embeddedWallets:{requireUserOwnedRecoveryOnCreate:!G&&(t.embedded_wallet_config.require_user_owned_recovery_on_create??!1),userOwnedRecoveryOptions:G?["user-passcode"]:t.embedded_wallet_config.user_owned_recovery_options,priceDisplay:e?.embeddedWallets?.priceDisplay??{primary:"fiat-currency",secondary:"native-token"},ethereum:{createOnLogin:e?.embeddedWallets?.ethereum?.createOnLogin??J},solana:{createOnLogin:e?.embeddedWallets?.solana?.createOnLogin??X},disableAutomaticMigration:e?.embeddedWallets?.disableAutomaticMigration??!1,mode:t.embedded_wallet_config.mode,showWalletUIs:e?.embeddedWallets?.showWalletUIs??t.enforce_wallet_uis??!0,extendedCalldataDecoding:e?.embeddedWallets?.extendedCalldataDecoding??!1,transactionScanning:{enabled:e?.embeddedWallets?.transactionScanning?.enabled??!1,domain:e?.embeddedWallets?.transactionScanning?.domain??r??"https://auth.privy.io"}},mfa:{methods:t.mfa_methods??[],noPromptOnMfaRequired:e?.mfa?.noPromptOnMfaRequired??!1},passkeys:{shouldUnlinkOnUnenrollMfa:e?.passkeys?.shouldUnlinkOnUnenrollMfa,shouldUnenrollMfaOnUnlink:e?.passkeys?.shouldUnenrollMfaOnUnlink,registration:e?.passkeys?.registration},customAuth:G?{enabled:!0,...e.customAuth}:void 0,loginConfig:{telegramAuthConfiguration:Q,passkeysForSignupEnabled:t.passkeys_for_signup_enabled},headless:!!e?.headless,render:{standalone:e?._render?.standalone??cu._render.standalone},fundingConfig:ge,fundingMethodConfig:{...e?.fundingMethodConfig??cu.fundingMethodConfig,moonpay:{...e?.fundingMethodConfig?.moonpay??cu.fundingMethodConfig.moonpay,useSandbox:e?.fundingMethodConfig?.moonpay.useSandbox??cu.fundingMethodConfig.moonpay.useSandbox}},whatsAppEnabled:!!t.whatsapp_enabled,customOAuthRedirectUrl:e?.customOAuthRedirectUrl,allowOAuthInEmbeddedBrowsers:e?.allowOAuthInEmbeddedBrowsers??!1,solanaRpcs:{"solana:mainnet":e?.solana?.rpcs?.["solana:mainnet"]??null,"solana:devnet":e?.solana?.rpcs?.["solana:devnet"]??null,"solana:testnet":e?.solana?.rpcs?.["solana:testnet"]??null},smartWallets:we?.enabled?{enabled:we.enabled,smartWalletVersion:we.smart_wallet_version,smartWalletType:we.smart_wallet_type,configuredNetworks:we.configured_networks.map((Te=>({chainId:Te.chain_id,bundlerUrl:Te.bundler_url,paymasterUrl:Te.paymaster_url,paymasterContext:xce(Te.paymaster_url,Te.paymaster_context)})))}:{enabled:we?.enabled??!1}}}const Uj={show_wallet_login_first:!0,allowlist_config:{error_title:null,error_detail:null,cta_text:null,cta_link:null},wallet_auth:!0,email_auth:!0,sms_auth:!1,google_oauth:!1,twitter_oauth:!1,discord_oauth:!1,github_oauth:!1,linkedin_oauth:!1,apple_oauth:!1,disable_plus_emails:!1,terms_and_conditions_url:null,privacy_policy_url:null,embedded_wallet_config:{create_on_login:"off",ethereum:{create_on_login:"off"},solana:{create_on_login:"off"},require_user_owned_recovery_on_create:!1,user_owned_recovery_options:["user-passcode"],mode:"user-controlled-server-wallets-only"},captcha_site_key:"",enforce_wallet_uis:!1,legacy_wallet_ui_config:!1,id:"",name:"",passkeys_for_signup_enabled:!1,whatsapp_enabled:!1};let HI=Y.createContext({appConfig:Mj(Uj,void 0,!1),isServerConfigLoaded:!1});const Cce=({children:t,client:e,legacyClient:n,clientConfig:r,appClientId:i})=>{let[s,a]=Y.useState(null),c=Y.useMemo((()=>Mj(s??Uj,r,!!s,typeof window<"u"?window.location.origin:void 0,i)),[s,r,i]);return Y.useEffect((()=>{if(!s)return;let u=(function(p){if(!p)return{};let{appearance:m,supportedChains:g,defaultChain:b,externalWallets:v,...E}=p;return{...E,...g?{supportedChains:g.map((O=>O.id))}:void 0,...b?{defaultChain:b.id}:void 0,...v?{walletConnect:v.walletConnect?{enabled:v.walletConnect.enabled}:void 0,coinbaseWallet:v.coinbaseWallet,solana:{connectors:v.solana?.connectors?.get().map((O=>O.walletClientType))}}:void 0}})(r),d=(function(p,m=0){let g=3735928559^m,b=1103547991^m;for(let v,E=0;E<p.length;E++)g=Math.imul(g^(v=p.charCodeAt(E)),2654435761),b=Math.imul(b^v,1597334677);return g=Math.imul(g^g>>>16,2246822507)^Math.imul(b^b>>>13,3266489909),4294967296*(2097151&(b=Math.imul(b^b>>>16,2246822507)^Math.imul(g^g>>>13,3266489909)))+(g>>>0)})(JSON.stringify(u)).toString(),h=`privy:sent:${s.id}:${d}`;localStorage.getItem(h)||(n.createAnalyticsEvent({eventName:"sdk_initialize",payload:u}),localStorage.setItem(h,"t"))}),[r,s]),Y.useEffect((()=>{s||(async()=>{try{await e.initialize();let u=e.app.getConfig();u.custom_api_url&&n.updateApiUrl(u.custom_api_url),a(u)}catch(u){console.warn("Error generating app config: ",u)}})()}),[]),he.jsx(HI.Provider,{value:{appConfig:c,isServerConfigLoaded:!!s},children:t})},Ta=()=>{let{appConfig:t}=Y.useContext(HI);return t},Bj=()=>{let{isServerConfigLoaded:t}=Y.useContext(HI);return t},Oce=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,kce=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,Rce=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function Nce(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){$ce(t);return}return e}function $ce(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function hg(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const n=t.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!Rce.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(Oce.test(t)||kce.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,Nce)}return JSON.parse(t)}catch(r){if(e.strict)throw r;return t}}const Pce=/#/g,Dce=/&/g,Mce=/\//g,Uce=/=/g,GI=/\+/g,Bce=/%5e/gi,Lce=/%60/gi,jce=/%7c/gi,zce=/%20/gi;function Fce(t){return encodeURI(""+t).replace(jce,"|")}function ZT(t){return Fce(typeof t=="string"?t:JSON.stringify(t)).replace(GI,"%2B").replace(zce,"+").replace(Pce,"%23").replace(Dce,"%26").replace(Lce,"`").replace(Bce,"^").replace(Mce,"%2F")}function GS(t){return ZT(t).replace(Uce,"%3D")}function Lj(t=""){try{return decodeURIComponent(""+t)}catch{return""+t}}function qce(t){return Lj(t.replace(GI," "))}function Wce(t){return Lj(t.replace(GI," "))}function Vce(t=""){const e=Object.create(null);t[0]==="?"&&(t=t.slice(1));for(const n of t.split("&")){const r=n.match(/([^=]+)=?(.*)/)||[];if(r.length<2)continue;const i=qce(r[1]);if(i==="__proto__"||i==="constructor")continue;const s=Wce(r[2]||"");e[i]===void 0?e[i]=s:Array.isArray(e[i])?e[i].push(s):e[i]=[e[i],s]}return e}function Hce(t,e){return(typeof e=="number"||typeof e=="boolean")&&(e=String(e)),e?Array.isArray(e)?e.map(n=>`${GS(t)}=${ZT(n)}`).join("&"):`${GS(t)}=${ZT(e)}`:GS(t)}function Gce(t){return Object.keys(t).filter(e=>t[e]!==void 0).map(e=>Hce(e,t[e])).filter(Boolean).join("&")}const Kce=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,Yce=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,Zce=/^([/\\]\s*){2,}[^/\\]/,Xce=/^\.?\//;function jj(t,e={}){return typeof e=="boolean"&&(e={acceptRelative:e}),e.strict?Kce.test(t):Yce.test(t)||(e.acceptRelative?Zce.test(t):!1)}function Jce(t="",e){return t.endsWith("/")}function Qce(t="",e){return(Jce(t)?t.slice(0,-1):t)||"/"}function ele(t="",e){return t.endsWith("/")?t:t+"/"}function tle(t,e){if(rle(e)||jj(t))return t;const n=Qce(e);return t.startsWith(n)?t:sle(n,t)}function nle(t,e){const n=ale(t),r={...Vce(n.search),...e};return n.search=Gce(r),ole(n)}function rle(t){return!t||t==="/"}function ile(t){return t&&t!=="/"}function sle(t,...e){let n=t||"";for(const r of e.filter(i=>ile(i)))if(n){const i=r.replace(Xce,"");n=ele(n)+i}else n=r;return n}const zj=Symbol.for("ufo:protocolRelative");function ale(t="",e){const n=t.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(n){const[,p,m=""]=n;return{protocol:p.toLowerCase(),pathname:m,href:p+m,auth:"",host:"",search:"",hash:""}}if(!jj(t,{acceptRelative:!0}))return r$(t);const[,r="",i,s=""]=t.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,a="",c=""]=s.match(/([^#/?]*)(.*)?/)||[];r==="file:"&&(c=c.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:u,search:d,hash:h}=r$(c);return{protocol:r.toLowerCase(),auth:i?i.slice(0,Math.max(0,i.length-1)):"",host:a,pathname:u,search:d,hash:h,[zj]:!r}}function r$(t=""){const[e="",n="",r=""]=(t.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:e,search:n,hash:r}}function ole(t){const e=t.pathname||"",n=t.search?(t.search.startsWith("?")?"":"?")+t.search:"",r=t.hash||"",i=t.auth?t.auth+"@":"",s=t.host||"";return(t.protocol||t[zj]?(t.protocol||"")+"//":"")+i+s+e+n+r}class Fj extends Error{constructor(e,n){super(e,n),this.name="FetchError",n?.cause&&!this.cause&&(this.cause=n.cause)}}function cle(t){const e=t.error?.message||t.error?.toString()||"",n=t.request?.method||t.options?.method||"GET",r=t.request?.url||String(t.request)||"/",i=`[${n}] ${JSON.stringify(r)}`,s=t.response?`${t.response.status} ${t.response.statusText}`:"<no response>",a=`${i}: ${s}${e?` ${e}`:""}`,c=new Fj(a,t.error?{cause:t.error}:void 0);for(const u of["request","options","response"])Object.defineProperty(c,u,{get(){return t[u]}});for(const[u,d]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(c,u,{get(){return t.response&&t.response[d]}});return c}const lle=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function i$(t="GET"){return lle.has(t.toUpperCase())}function ule(t){if(t===void 0)return!1;const e=typeof t;return e==="string"||e==="number"||e==="boolean"||e===null?!0:e!=="object"?!1:Array.isArray(t)?!0:t.buffer||t instanceof FormData||t instanceof URLSearchParams?!1:t.constructor&&t.constructor.name==="Object"||typeof t.toJSON=="function"}const dle=new Set(["image/svg","application/xml","application/xhtml","application/html"]),fle=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function hle(t=""){if(!t)return"json";const e=t.split(";").shift()||"";return fle.test(e)?"json":e==="text/event-stream"?"stream":dle.has(e)||e.startsWith("text/")?"text":"blob"}function ple(t,e,n,r){const i=yle(e?.headers??t?.headers,n?.headers,r);let s;return(n?.query||n?.params||e?.params||e?.query)&&(s={...n?.params,...n?.query,...e?.params,...e?.query}),{...n,...e,query:s,params:s,headers:i}}function yle(t,e,n){if(!e)return new n(t);const r=new n(e);if(t)for(const[i,s]of Symbol.iterator in t||Array.isArray(t)?t:new n(t))r.set(i,s);return r}async function iv(t,e){if(e)if(Array.isArray(e))for(const n of e)await n(t);else await e(t)}const mle=new Set([408,409,425,429,500,502,503,504]),gle=new Set([101,204,205,304]);function qj(t={}){const{fetch:e=globalThis.fetch,Headers:n=globalThis.Headers,AbortController:r=globalThis.AbortController}=t;async function i(c){const u=c.error&&c.error.name==="AbortError"&&!c.options.timeout||!1;if(c.options.retry!==!1&&!u){let h;typeof c.options.retry=="number"?h=c.options.retry:h=i$(c.options.method)?0:1;const p=c.response&&c.response.status||500;if(h>0&&(Array.isArray(c.options.retryStatusCodes)?c.options.retryStatusCodes.includes(p):mle.has(p))){const m=typeof c.options.retryDelay=="function"?c.options.retryDelay(c):c.options.retryDelay||0;return m>0&&await new Promise(g=>setTimeout(g,m)),s(c.request,{...c.options,retry:h-1})}}const d=cle(c);throw Error.captureStackTrace&&Error.captureStackTrace(d,s),d}const s=async function(u,d={}){const h={request:u,options:ple(u,d,t.defaults,n),response:void 0,error:void 0};if(h.options.method&&(h.options.method=h.options.method.toUpperCase()),h.options.onRequest&&(await iv(h,h.options.onRequest),h.options.headers instanceof n||(h.options.headers=new n(h.options.headers||{}))),typeof h.request=="string"&&(h.options.baseURL&&(h.request=tle(h.request,h.options.baseURL)),h.options.query&&(h.request=nle(h.request,h.options.query),delete h.options.query),"query"in h.options&&delete h.options.query,"params"in h.options&&delete h.options.params),h.options.body&&i$(h.options.method))if(ule(h.options.body)){const g=h.options.headers.get("content-type");typeof h.options.body!="string"&&(h.options.body=g==="application/x-www-form-urlencoded"?new URLSearchParams(h.options.body).toString():JSON.stringify(h.options.body)),g||h.options.headers.set("content-type","application/json"),h.options.headers.has("accept")||h.options.headers.set("accept","application/json")}else("pipeTo"in h.options.body&&typeof h.options.body.pipeTo=="function"||typeof h.options.body.pipe=="function")&&("duplex"in h.options||(h.options.duplex="half"));let p;if(!h.options.signal&&h.options.timeout){const g=new r;p=setTimeout(()=>{const b=new Error("[TimeoutError]: The operation was aborted due to timeout");b.name="TimeoutError",b.code=23,g.abort(b)},h.options.timeout),h.options.signal=g.signal}try{h.response=await e(h.request,h.options)}catch(g){return h.error=g,h.options.onRequestError&&await iv(h,h.options.onRequestError),await i(h)}finally{p&&clearTimeout(p)}if((h.response.body||h.response._bodyInit)&&!gle.has(h.response.status)&&h.options.method!=="HEAD"){const g=(h.options.parseResponse?"json":h.options.responseType)||hle(h.response.headers.get("content-type")||"");switch(g){case"json":{const b=await h.response.text(),v=h.options.parseResponse||hg;h.response._data=v(b);break}case"stream":{h.response._data=h.response.body||h.response._bodyInit;break}default:h.response._data=await h.response[g]()}}return h.options.onResponse&&await iv(h,h.options.onResponse),!h.options.ignoreResponseError&&h.response.status>=400&&h.response.status<600?(h.options.onResponseError&&await iv(h,h.options.onResponseError),await i(h)):h.response},a=async function(u,d){return(await s(u,d))._data};return a.raw=s,a.native=(...c)=>e(...c),a.create=(c={},u={})=>qj({...t,...u,defaults:{...t.defaults,...u.defaults,...c}}),a}const U1=(function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")})(),ble=U1.fetch?(...t)=>U1.fetch(...t):()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!")),wle=U1.Headers,vle=U1.AbortController,_le=qj({fetch:ble,Headers:wle,AbortController:vle});var ot;let ju=class extends Error{toString(){return`${this.type}${this.privyErrorCode?`-${this.privyErrorCode}`:""}: ${this.message}${this.cause?` [cause: ${this.cause}]`:""}`}constructor(e,n,r){super(e),n instanceof Error&&(this.cause=n),this.privyErrorCode=r}},B1=class extends ju{constructor(e,n,r,i,s,a){super(r,i,s),this.type=e,this.status=n,this.data=a}},se=class extends ju{constructor(e,n,r){super(e,n,r),this.type="client_error"}},Ele=class extends se{constructor(){super("Request timed out",void 0,"client_request_timeout")}},zn=class extends ju{constructor(e,n,r){super(e,n,r),this.type="connector_error"}};const Gt=t=>{if(t instanceof ju)return t;if(!(t instanceof Fj))return Wn(t);if(!t.response)return new B1("api_error",null,t.message,t);let{type:e,message:n,error:r,code:i}=t.data;return new B1(e||"ApiError",t.response.status,n||r,t,i,t.data)},Wn=t=>t instanceof ju?t:t instanceof Error?new se(t.message,t):new se(`Internal error: ${t}`);var Ae=((ot={}).OAUTH_ACCOUNT_SUSPENDED="oauth_account_suspended",ot.MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",ot.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",ot.MISSING_OR_INVALID_TOKEN="missing_or_invalid_token",ot.INVALID_DATA="invalid_data",ot.INVALID_CAPTCHA="invalid_captcha",ot.LINKED_TO_ANOTHER_USER="linked_to_another_user",ot.CANNOT_LINK_MORE_OF_TYPE="cannot_link_more_of_type",ot.FAILED_TO_LINK_ACCOUNT="failed_to_link_account",ot.FAILED_TO_UPDATE_ACCOUNT="failed_to_update_account",ot.USER_EXITED_UPDATE_FLOW="exited_update_flow",ot.ALLOWLIST_REJECTED="allowlist_rejected",ot.OAUTH_USER_DENIED="oauth_user_denied",ot.OAUTH_UNEXPECTED="oauth_unexpected",ot.UNKNOWN_AUTH_ERROR="unknown_auth_error",ot.USER_EXITED_AUTH_FLOW="exited_auth_flow",ot.USER_EXITED_LINK_FLOW="exited_link_flow",ot.USER_EXITED_SET_PASSWORD_FLOW="user_exited_set_password_flow",ot.MUST_BE_AUTHENTICATED="must_be_authenticated",ot.UNKNOWN_CONNECT_WALLET_ERROR="unknown_connect_wallet_error",ot.GENERIC_CONNECT_WALLET_ERROR="generic_connect_wallet_error",ot.CLIENT_REQUEST_TIMEOUT="client_request_timeout",ot.INVALID_CREDENTIALS="invalid_credentials",ot.MISSING_MFA_CREDENTIALS="missing_or_invalid_mfa",ot.UNKNOWN_MFA_ERROR="unknown_mfa_error",ot.EMBEDDED_WALLET_ALREADY_EXISTS="embedded_wallet_already_exists",ot.EMBEDDED_WALLET_NOT_FOUND="embedded_wallet_not_found",ot.EMBEDDED_WALLET_CREATE_ERROR="embedded_wallet_create_error",ot.UNKNOWN_EMBEDDED_WALLET_ERROR="unknown_embedded_wallet_error",ot.EMBEDDED_WALLET_PASSWORD_UNCONFIRMED="embedded_wallet_password_unconfirmed",ot.EMBEDDED_WALLET_PASSWORD_ALREADY_EXISTS="embedded_wallet_password_already_exists",ot.EMBEDDED_WALLET_RECOVERY_ALREADY_EXISTS="embedded_wallet_recovery_already_exists",ot.TRANSACTION_FAILURE="transaction_failure",ot.UNSUPPORTED_CHAIN_ID="unsupported_chain_id",ot.NOT_SUPPORTED="not_supported",ot.CAPTCHA_TIMEOUT="captcha_timeout",ot.INVALID_MESSAGE="invalid_message",ot.UNABLE_TO_SIGN="unable_to_sign",ot.CAPTCHA_FAILURE="captcha_failure",ot.CAPTCHA_DISABLED="captcha_disabled",ot.SESSION_STORAGE_UNAVAILABLE="session_storage_unavailable",ot.TOO_MANY_REQUESTS="too_many_requests",ot.USER_LIMIT_REACHED="max_accounts_reached",ot.DISALLOWED_LOGIN_METHOD="disallowed_login_method",ot.DISALLOWED_PLUS_EMAIL="disallowed_plus_email",ot.PASSKEY_NOT_ALLOWED="passkey_not_allowed",ot.USER_DOES_NOT_EXIST="user_does_not_exist",ot.INSUFFICIENT_BALANCE="insufficient_balance",ot.ACCOUNT_TRANSFER_REQUIRED="account_transfer_required",ot.BUFFER_NOT_DEFINED="buffer_not_defined",ot.UNSUPPORTED_WALLET_TYPE="unsupported_wallet_type",ot.NO_SOLANA_ACCOUNTS="no_solana_accounts",ot.UNKNOWN_FUNDING_ERROR="unknown_funding_error",ot);let fd=class extends se{constructor(){super("Method called before `ready`. Ensure you wait until `ready` is true before calling.")}},JLe=class extends se{constructor(e="Embedded wallet error",n){super(e,n,"unknown_embedded_wallet_error")}},e7e=class extends se{constructor(e="User must be authenticated"){super(e,void 0,"must_be_authenticated")}},n7e=class extends se{constructor(e){super("This application is in development mode and must be upgraded to production to log in new users.",e,"max_accounts_reached")}},s$=class extends zn{constructor(){super("No Solana accounts found in wallet",void 0,"no_solana_accounts")}};const fe=()=>{throw Error("You need to wrap your application with the <PrivyProvider> initialized with your app id.")},KS=t=>()=>{throw Error(t.trim())},Wj=()=>{},Vj=Y.createContext({setAuthenticated:fe,setUser:fe,setIsNewUser:fe,isNewUserThisSession:!1,walletConnectionStatus:null,setWalletConnectionStatus:fe,connectors:[],rpcConfig:{rpcUrls:{}},showFiatPrices:!0,chains:[],clientAnalyticsId:null,pendingTransaction:null,client:null,privy:null,appId:"notAdded",onCustomAuthAuthenticated:fe,hideWalletUIs:{current:!1},nativeTokenSymbolForChainId:fe,initializeWalletProxy:fe,getAuthMeta:fe,getAuthFlow:fe,closePrivyModal:fe,openPrivyModal:fe,connectWallet:fe,initLoginWithWallet:fe,loginWithWallet:fe,initLoginWithFarcaster:fe,loginWithFarcaster:fe,loginWithCode:fe,initLoginWithEmail:fe,initLoginWithSms:fe,initUpdateEmail:fe,initUpdatePhone:fe,resendEmailCode:fe,resendSmsCode:fe,initLoginWithHeadlessOAuth:fe,loginWithHeadlessOAuth:fe,crossAppAuthFlow:fe,initLoginWithOAuth:fe,loginWithOAuth:fe,passkeyAuthState:{status:"initial"},setPasskeyAuthState:fe,initSignupWithPasskey:fe,signupWithPasskey:fe,initLoginWithPasskey:fe,loginWithPasskey:fe,initLinkWithPasskey:fe,linkWithPasskey:fe,refreshSessionAndUser:fe,walletProxy:null,createAnalyticsEvent:fe,acceptTerms:fe,getUsdTokenPrice:fe,getUsdPriceForSol:fe,getSplTokenMetadata:fe,recoverEmbeddedWallet:fe,updateWallets:fe,fundWallet:fe,openModal:fe,setReadyToTrue:fe,requestFarcasterSignerStatus:fe,initLoginWithTelegram:fe,loginWithTelegram:fe,generateSiweMessage:fe,generateSiweMessageForSmartWallet:fe,loginWithSiwe:fe,linkWithSiwe:fe,linkSmartWallet:fe,delegateWallet:fe,revokeDelegatedWallets:fe,connectCoinbaseSmartWallet:fe,connectBaseAccount:fe,initiateAccountTransfer:fe,emailOtpState:{status:"initial"},setEmailOtpState:fe,smsOtpState:{status:"initial"},setSmsOtpState:fe,siweState:{status:"initial"},setSiweState:fe,oAuthState:{status:"initial"},setOAuthState:fe,telegramAuthState:{status:"initial"},setTelegramAuthState:fe,isHeadlessOAuthLoading:!1,isHeadlessSigning:fe,inProgressAuthFlowRef:{current:null},inProgressLoginOrLinkMethodRef:{current:null},baseAccountSdk:void 0,setBaseAccountSdk:fe}),Ia=()=>Y.useContext(Vj);function Hj(t){return typeof t=="string"&&/^custom:[a-zA-Z0-9_-]+$/i.test(t)}function At(t){return t?new Date(1e3*t):null}function ni(t,e){return t.slice().sort(((n,r)=>(n.firstVerifiedAt?.getTime()??0)-(r.firstVerifiedAt?.getTime()??0))).find((n=>n.type===e))}const zc=t=>t?Gj(t).find((e=>e.walletIndex===0))??null:null,Gj=t=>t?Kj(t,"ethereum"):[],Kj=(t,e)=>t.linkedAccounts.filter((n=>n.type==="wallet"&&n.walletClientType==="privy"&&!n.imported&&n.chainType===e)),Yj=t=>t?Kj(t,"solana"):[],KI=t=>t?Yj(t).find((e=>e.walletIndex===0))??null:null,XT=t=>(t?.linkedAccounts??[]).filter((e=>e.type==="wallet"&&e.walletClientType==="privy"&&e.imported&&e.chainType==="ethereum")),Zj=t=>(t?.linkedAccounts??[]).filter((e=>e.type==="wallet"&&e.imported&&e.walletClientType==="privy"&&e.chainType==="solana")),Xj=(t,e)=>t===e||!(!t.startsWith("0x")||!e.startsWith("0x"))&&li(t)===li(e),Fc=(t,e)=>t?.linkedAccounts.find((n=>n.type==="wallet"&&n.walletClientType==="privy"&&Xj(n.address,e)))||null,YS=(t,e)=>t.find((n=>Xj(n.address,e)))||null,h0=t=>zc(t)??KI(t);function ci(t){if(!t)return null;let e=(function(A){let C=[];for(let I of A){let $=I.type;switch(I.type){case"wallet":let z={id:I.id,address:I.address,type:I.type,imported:I.imported,delegated:I.delegated,firstVerifiedAt:At(I.first_verified_at),latestVerifiedAt:At(I.latest_verified_at),chainType:I.chain_type,walletClientType:I.wallet_client_type,connectorType:I.connector_type,recoveryMethod:I.recovery_method,walletIndex:I.wallet_index,publicKey:I.public_key};C.push(z);break;case"smart_wallet":let L={address:I.address,type:I.type,firstVerifiedAt:At(I.first_verified_at),latestVerifiedAt:At(I.latest_verified_at),smartWalletType:I.smart_wallet_type,smartWalletVersion:I.smart_wallet_version};C.push(L);break;case"cross_app":let B={type:I.type,subject:I.subject,embeddedWallets:I.embedded_wallets,smartWallets:I.smart_wallets,providerApp:{id:I.provider_app_id},firstVerifiedAt:At(I.first_verified_at),latestVerifiedAt:At(I.latest_verified_at)};C.push(B);break;case"email":let V={address:I.address,type:I.type,firstVerifiedAt:At(I.first_verified_at),latestVerifiedAt:At(I.latest_verified_at)};C.push(V);break;case"phone":let D={number:I.phoneNumber,type:I.type,firstVerifiedAt:At(I.first_verified_at),latestVerifiedAt:At(I.latest_verified_at)};C.push(D);break;case"google_oauth":let F={subject:I.subject,email:I.email,name:I.name,type:I.type,firstVerifiedAt:At(I.first_verified_at),latestVerifiedAt:At(I.latest_verified_at)};C.push(F);break;case"spotify_oauth":let K={subject:I.subject,email:I.email,name:I.name,type:I.type,firstVerifiedAt:At(I.first_verified_at),latestVerifiedAt:At(I.latest_verified_at)};C.push(K);break;case"instagram_oauth":let T={subject:I.subject,username:I.username,type:I.type,firstVerifiedAt:At(I.first_verified_at),latestVerifiedAt:At(I.latest_verified_at)};C.push(T);break;case"twitter_oauth":let x={subject:I.subject,username:I.username,name:I.name,type:I.type,profilePictureUrl:I.profile_picture_url,firstVerifiedAt:At(I.first_verified_at),latestVerifiedAt:At(I.latest_verified_at)};C.push(x);break;case"discord_oauth":let N={subject:I.subject,username:I.username,email:I.email,type:I.type,firstVerifiedAt:At(I.first_verified_at),latestVerifiedAt:At(I.latest_verified_at)};C.push(N);break;case"github_oauth":let j={subject:I.subject,username:I.username,name:I.name,email:I.email,type:I.type,firstVerifiedAt:At(I.first_verified_at),latestVerifiedAt:At(I.latest_verified_at)};C.push(j);break;case"tiktok_oauth":let P={subject:I.subject,username:I.username,name:I.name,type:I.type,firstVerifiedAt:At(I.first_verified_at),latestVerifiedAt:At(I.latest_verified_at)};C.push(P);break;case"line_oauth":let H={subject:I.subject,name:I.name,email:I.email,profilePictureUrl:I.profile_picture_url,type:I.type,firstVerifiedAt:At(I.first_verified_at),latestVerifiedAt:At(I.latest_verified_at)};C.push(H);break;case"twitch_oauth":let M={subject:I.subject,username:I.username,type:I.type,firstVerifiedAt:At(I.first_verified_at),latestVerifiedAt:At(I.latest_verified_at)};C.push(M);break;case"linkedin_oauth":let G={subject:I.subject,name:I.name,email:I.email,vanityName:I.vanity_name,type:I.type,firstVerifiedAt:At(I.first_verified_at),latestVerifiedAt:At(I.latest_verified_at)};C.push(G);break;case"apple_oauth":let J={subject:I.subject,email:I.email,type:I.type,firstVerifiedAt:At(I.first_verified_at),latestVerifiedAt:At(I.latest_verified_at)};C.push(J);break;case"custom_auth":C.push({type:I.type,customUserId:I.custom_user_id,firstVerifiedAt:At(I.first_verified_at),latestVerifiedAt:At(I.latest_verified_at)});break;case"farcaster":let X={type:I.type,fid:I.fid,ownerAddress:I.owner_address,displayName:I.display_name,username:I.username,bio:I.bio,pfp:I.profile_picture_url,url:I.homepage_url,firstVerifiedAt:At(I.first_verified_at),latestVerifiedAt:At(I.latest_verified_at),signerPublicKey:I.signer_public_key};C.push(X);break;case"passkey":let Q={type:I.type,enrolledInMfa:I.enrolled_in_mfa,credentialId:I.credential_id,publicKey:I.public_key,authenticatorName:I.authenticator_name,createdWithDevice:I.created_with_device,createdWithOs:I.created_with_os,createdWithBrowser:I.created_with_browser,firstVerifiedAt:At(I.first_verified_at),latestVerifiedAt:At(I.latest_verified_at)};C.push(Q);break;case"telegram":let ge={type:I.type,telegramUserId:I.telegram_user_id,firstName:I.first_name,lastName:I.last_name,username:I.username,photoUrl:I.photo_url,firstVerifiedAt:At(I.first_verified_at),latestVerifiedAt:At(I.latest_verified_at)};C.push(ge);break;default:if(Hj(I.type)){let we={type:I.type,subject:I.subject,name:I.name,username:I.username,email:I.email,profilePictureUrl:I.profile_picture_url,firstVerifiedAt:At(I.first_verified_at),latestVerifiedAt:At(I.latest_verified_at)};C.push(we);break}console.warn(`Unrecognized account type: ${$}. Please consider upgrading the Privy SDK.`)}}return C})(t.linked_accounts),n=ni(e,"wallet"),r=ni(e,"smart_wallet"),i=ni(e,"email"),s=ni(e,"phone"),a=ni(e,"google_oauth"),c=ni(e,"twitter_oauth"),u=ni(e,"discord_oauth"),d=ni(e,"github_oauth"),h=ni(e,"spotify_oauth"),p=ni(e,"instagram_oauth"),m=ni(e,"tiktok_oauth"),g=ni(e,"line_oauth"),b=ni(e,"twitch_oauth"),v=ni(e,"linkedin_oauth"),E=ni(e,"apple_oauth"),O=ni(e,"farcaster"),k=ni(e,"telegram"),S=t.mfa_methods.map((({type:A,verified_at:C})=>({type:A,verifiedAt:At(C)})));return{id:t.id,createdAt:At(t.created_at),linkedAccounts:e,email:i&&{address:i?.address},phone:s&&{number:s?.number},wallet:n&&{id:n.id,address:n.address,chainType:n.chainType,walletClientType:n.walletClientType,connectorType:n.connectorType,recoveryMethod:n.recoveryMethod,imported:n.imported,delegated:n.delegated,walletIndex:n.walletIndex,publicKey:n.publicKey},smartWallet:r&&{address:r.address,smartWalletType:r.smartWalletType,smartWalletVersion:r.smartWalletVersion},google:a&&{subject:a.subject,email:a.email,name:a.name},twitter:c&&{subject:c.subject,username:c.username,name:c.name,profilePictureUrl:c.profilePictureUrl},discord:u&&{subject:u.subject,username:u.username,email:u.email},github:d&&{subject:d.subject,username:d.username,name:d.name,email:d.email},spotify:h&&{subject:h.subject,email:h.email,name:h.name},instagram:p&&{subject:p.subject,username:p.username},tiktok:m&&{subject:m.subject,username:m.username,name:m.name},line:g&&{subject:g.subject,name:g.name,email:g.email,profilePictureUrl:g.profilePictureUrl},twitch:b&&{subject:b.subject,username:b.username},linkedin:v&&{subject:v.subject,name:v.name,email:v.email,vanityName:v.vanityName},apple:E&&{subject:E.subject,email:E.email},farcaster:O&&{fid:O.fid,ownerAddress:O.ownerAddress,displayName:O.displayName,username:O.username,bio:O.bio,pfp:O.pfp,url:O.url,signerPublicKey:O.signerPublicKey},telegram:k&&{telegramUserId:k.telegramUserId,firstName:k.firstName,lastName:k.lastName,username:k.username,photoUrl:k.photoUrl},delegatedWallets:[],mfaMethods:S.map((A=>A.type)),hasAcceptedTerms:t.has_accepted_terms??!1,isGuest:t.is_guest,customMetadata:t.custom_metadata}}function Ale({src:t,...e}){return he.jsx("img",{src:t,...e,style:{display:"none"}})}const Jj=Y.createContext({currentScreen:null,lastScreen:null,navigate:fe,navigateBack:fe,resetNavigation:fe,setModalData:fe,onUserCloseViaDialogOrKeybindRef:void 0}),Sle=t=>{let e=Ta(),[n,r]=Y.useState(t.initialScreen),i=Y.useRef(null);Y.useEffect((()=>{t.open||(i.current=null)}),[t.open]),Y.useEffect((()=>{i.current=null}),[t.initialScreen]);let s={data:t.data,setModalData:t.setModalData,currentScreen:t.initialScreen,lastScreen:n,navigate:(a,c=!0)=>{t.setInitialScreen(a),c&&r(t.initialScreen)},navigateBack:()=>{t.setInitialScreen(n)},resetNavigation:()=>{t.setInitialScreen(null),r(null)},onUserCloseViaDialogOrKeybindRef:i};return he.jsxs(Jj.Provider,{value:s,children:[(typeof e.appearance.logo=="string"||e.appearance.logo?.type==="img")&&he.jsx(Ale,{src:typeof e.appearance.logo=="string"?e.appearance.logo:e.appearance.logo.props.src}),t.children]})},$u=()=>Y.useContext(Jj),Vp=Y.createContext({ready:!1,authenticated:!1,user:null,walletConnectors:null,connectWallet:fe,login:fe,connectOrCreateWallet:fe,linkEmail:fe,linkPhone:fe,linkFarcaster:fe,linkWallet:fe,startCrossAppAuthFlow:fe,linkGoogle:fe,linkTwitter:fe,linkTwitch:fe,linkDiscord:fe,linkGithub:fe,linkSpotify:fe,linkInstagram:fe,linkTelegram:fe,linkTiktok:fe,linkLine:fe,linkLinkedIn:fe,linkApple:fe,linkPasskey:fe,updateEmail:fe,updatePhone:fe,logout:fe,getAccessToken:fe,unlinkEmail:fe,unlinkPhone:fe,unlinkWallet:fe,unlinkGoogle:fe,unlinkTwitter:fe,unlinkTwitch:fe,unlinkDiscord:fe,unlinkGithub:fe,unlinkSpotify:fe,unlinkInstagram:fe,unlinkTiktok:fe,unlinkLine:fe,unlinkLinkedIn:fe,unlinkApple:fe,unlinkCrossAppAccount:fe,unlinkFarcaster:fe,unlinkTelegram:fe,unlinkPasskey:fe,signMessage:fe,signTypedData:fe,enrollInMfa:fe,initEnrollmentWithSms:fe,initEnrollmentWithTotp:fe,initEnrollmentWithPasskey:fe,promptMfa:fe,init:fe,submitEnrollmentWithSms:fe,submitEnrollmentWithTotp:fe,submitEnrollmentWithPasskey:fe,unenroll:fe,submit:fe,cancel:fe,sendTransaction:fe,signTransaction:fe,exportWallet:fe,setWalletPassword:fe,setWalletRecovery:fe,requestFarcasterSignerFromWarpcast:fe,getFarcasterSignerPublicKey:fe,signFarcasterMessage:fe,signMessageWithCrossAppWallet:fe,signTypedDataWithCrossAppWallet:fe,sendTransactionWithCrossAppWallet:fe,signTransactionWithCrossAppWallet:fe,isModalOpen:!1,mfaMethods:[]}),rb=()=>Y.useContext(Vp),Si=t=>!!t.id&&t.recoveryMethod==="privy-v2",a$=t=>{let e;const n=new Set,r=(d,h)=>{const p=typeof d=="function"?d(e):d;if(!Object.is(p,e)){const m=e;e=h??(typeof p!="object"||p===null)?p:Object.assign({},e,p),n.forEach(g=>g(e,m))}},i=()=>e,c={setState:r,getState:i,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d))},u=e=t(r,i,c);return c},xle=(t=>t?a$(t):a$),Tle=t=>t;function Ile(t,e=Tle){const n=et.useSyncExternalStore(t.subscribe,et.useCallback(()=>e(t.getState()),[t,e]),et.useCallback(()=>e(t.getInitialState()),[t,e]));return et.useDebugValue(n),n}const o$=t=>{const e=xle(t),n=r=>Ile(e,r);return Object.assign(n,e),n},Ef=(t=>t?o$(t):o$);var Ti=function(){return Ti=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ti.apply(this,arguments)};function _p(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var Bn="-ms-",Tg="-moz-",on="-webkit-",Qj="comm",rE="rule",YI="decl",Cle="@import",ez="@keyframes",Ole="@layer",tz=Math.abs,ZI=String.fromCharCode,JT=Object.assign;function kle(t,e){return Vr(t,0)^45?(((e<<2^Vr(t,0))<<2^Vr(t,1))<<2^Vr(t,2))<<2^Vr(t,3):0}function nz(t){return t.trim()}function Bc(t,e){return(t=e.exec(t))?t[0]:t}function Dt(t,e,n){return t.replace(e,n)}function Fv(t,e,n){return t.indexOf(e,n)}function Vr(t,e){return t.charCodeAt(e)|0}function Ep(t,e,n){return t.slice(e,n)}function No(t){return t.length}function rz(t){return t.length}function pg(t,e){return e.push(t),t}function Rle(t,e){return t.map(e).join("")}function c$(t,e){return t.filter(function(n){return!Bc(n,e)})}var iE=1,Ap=1,iz=0,_a=0,vr=0,Hp="";function sE(t,e,n,r,i,s,a,c){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:iE,column:Ap,length:a,return:"",siblings:c}}function lu(t,e){return JT(sE("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function vh(t){for(;t.root;)t=lu(t.root,{children:[t]});pg(t,t.siblings)}function Nle(){return vr}function $le(){return vr=_a>0?Vr(Hp,--_a):0,Ap--,vr===10&&(Ap=1,iE--),vr}function eo(){return vr=_a<iz?Vr(Hp,_a++):0,Ap++,vr===10&&(Ap=1,iE++),vr}function Gd(){return Vr(Hp,_a)}function qv(){return _a}function aE(t,e){return Ep(Hp,t,e)}function QT(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Ple(t){return iE=Ap=1,iz=No(Hp=t),_a=0,[]}function Dle(t){return Hp="",t}function ZS(t){return nz(aE(_a-1,e5(t===91?t+2:t===40?t+1:t)))}function Mle(t){for(;(vr=Gd())&&vr<33;)eo();return QT(t)>2||QT(vr)>3?"":" "}function Ule(t,e){for(;--e&&eo()&&!(vr<48||vr>102||vr>57&&vr<65||vr>70&&vr<97););return aE(t,qv()+(e<6&&Gd()==32&&eo()==32))}function e5(t){for(;eo();)switch(vr){case t:return _a;case 34:case 39:t!==34&&t!==39&&e5(vr);break;case 40:t===41&&e5(t);break;case 92:eo();break}return _a}function Ble(t,e){for(;eo()&&t+vr!==57;)if(t+vr===84&&Gd()===47)break;return"/*"+aE(e,_a-1)+"*"+ZI(t===47?t:eo())}function Lle(t){for(;!QT(Gd());)eo();return aE(t,_a)}function jle(t){return Dle(Wv("",null,null,null,[""],t=Ple(t),0,[0],t))}function Wv(t,e,n,r,i,s,a,c,u){for(var d=0,h=0,p=a,m=0,g=0,b=0,v=1,E=1,O=1,k=0,S="",A=i,C=s,I=r,$=S;E;)switch(b=k,k=eo()){case 40:if(b!=108&&Vr($,p-1)==58){Fv($+=Dt(ZS(k),"&","&\f"),"&\f",tz(d?c[d-1]:0))!=-1&&(O=-1);break}case 34:case 39:case 91:$+=ZS(k);break;case 9:case 10:case 13:case 32:$+=Mle(b);break;case 92:$+=Ule(qv()-1,7);continue;case 47:switch(Gd()){case 42:case 47:pg(zle(Ble(eo(),qv()),e,n,u),u);break;default:$+="/"}break;case 123*v:c[d++]=No($)*O;case 125*v:case 59:case 0:switch(k){case 0:case 125:E=0;case 59+h:O==-1&&($=Dt($,/\f/g,"")),g>0&&No($)-p&&pg(g>32?u$($+";",r,n,p-1,u):u$(Dt($," ","")+";",r,n,p-2,u),u);break;case 59:$+=";";default:if(pg(I=l$($,e,n,d,h,i,c,S,A=[],C=[],p,s),s),k===123)if(h===0)Wv($,e,I,I,A,s,p,c,C);else switch(m===99&&Vr($,3)===110?100:m){case 100:case 108:case 109:case 115:Wv(t,I,I,r&&pg(l$(t,I,I,0,0,i,c,S,i,A=[],p,C),C),i,C,p,c,r?A:C);break;default:Wv($,I,I,I,[""],C,0,c,C)}}d=h=g=0,v=O=1,S=$="",p=a;break;case 58:p=1+No($),g=b;default:if(v<1){if(k==123)--v;else if(k==125&&v++==0&&$le()==125)continue}switch($+=ZI(k),k*v){case 38:O=h>0?1:($+="\f",-1);break;case 44:c[d++]=(No($)-1)*O,O=1;break;case 64:Gd()===45&&($+=ZS(eo())),m=Gd(),h=p=No(S=$+=Lle(qv())),k++;break;case 45:b===45&&No($)==2&&(v=0)}}return s}function l$(t,e,n,r,i,s,a,c,u,d,h,p){for(var m=i-1,g=i===0?s:[""],b=rz(g),v=0,E=0,O=0;v<r;++v)for(var k=0,S=Ep(t,m+1,m=tz(E=a[v])),A=t;k<b;++k)(A=nz(E>0?g[k]+" "+S:Dt(S,/&\f/g,g[k])))&&(u[O++]=A);return sE(t,e,n,i===0?rE:c,u,d,h,p)}function zle(t,e,n,r){return sE(t,e,n,Qj,ZI(Nle()),Ep(t,2,-2),0,r)}function u$(t,e,n,r,i){return sE(t,e,n,YI,Ep(t,0,r),Ep(t,r+1,-1),r,i)}function sz(t,e,n){switch(kle(t,e)){case 5103:return on+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return on+t+t;case 4789:return Tg+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return on+t+Tg+t+Bn+t+t;case 5936:switch(Vr(t,e+11)){case 114:return on+t+Bn+Dt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return on+t+Bn+Dt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return on+t+Bn+Dt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return on+t+Bn+t+t;case 6165:return on+t+Bn+"flex-"+t+t;case 5187:return on+t+Dt(t,/(\w+).+(:[^]+)/,on+"box-$1$2"+Bn+"flex-$1$2")+t;case 5443:return on+t+Bn+"flex-item-"+Dt(t,/flex-|-self/g,"")+(Bc(t,/flex-|baseline/)?"":Bn+"grid-row-"+Dt(t,/flex-|-self/g,""))+t;case 4675:return on+t+Bn+"flex-line-pack"+Dt(t,/align-content|flex-|-self/g,"")+t;case 5548:return on+t+Bn+Dt(t,"shrink","negative")+t;case 5292:return on+t+Bn+Dt(t,"basis","preferred-size")+t;case 6060:return on+"box-"+Dt(t,"-grow","")+on+t+Bn+Dt(t,"grow","positive")+t;case 4554:return on+Dt(t,/([^-])(transform)/g,"$1"+on+"$2")+t;case 6187:return Dt(Dt(Dt(t,/(zoom-|grab)/,on+"$1"),/(image-set)/,on+"$1"),t,"")+t;case 5495:case 3959:return Dt(t,/(image-set\([^]*)/,on+"$1$`$1");case 4968:return Dt(Dt(t,/(.+:)(flex-)?(.*)/,on+"box-pack:$3"+Bn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+on+t+t;case 4200:if(!Bc(t,/flex-|baseline/))return Bn+"grid-column-align"+Ep(t,e)+t;break;case 2592:case 3360:return Bn+Dt(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,i){return e=i,Bc(r.props,/grid-\w+-end/)})?~Fv(t+(n=n[e].value),"span",0)?t:Bn+Dt(t,"-start","")+t+Bn+"grid-row-span:"+(~Fv(n,"span",0)?Bc(n,/\d+/):+Bc(n,/\d+/)-+Bc(t,/\d+/))+";":Bn+Dt(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return Bc(r.props,/grid-\w+-start/)})?t:Bn+Dt(Dt(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return Dt(t,/(.+)-inline(.+)/,on+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(No(t)-1-e>6)switch(Vr(t,e+1)){case 109:if(Vr(t,e+4)!==45)break;case 102:return Dt(t,/(.+:)(.+)-([^]+)/,"$1"+on+"$2-$3$1"+Tg+(Vr(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Fv(t,"stretch",0)?sz(Dt(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return Dt(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,s,a,c,u,d){return Bn+i+":"+s+d+(a?Bn+i+"-span:"+(c?u:+u-+s)+d:"")+t});case 4949:if(Vr(t,e+6)===121)return Dt(t,":",":"+on)+t;break;case 6444:switch(Vr(t,Vr(t,14)===45?18:11)){case 120:return Dt(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+on+(Vr(t,14)===45?"inline-":"")+"box$3$1"+on+"$2$3$1"+Bn+"$2box$3")+t;case 100:return Dt(t,":",":"+Bn)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Dt(t,"scroll-","scroll-snap-")+t}return t}function L1(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function Fle(t,e,n,r){switch(t.type){case Ole:if(t.children.length)break;case Cle:case YI:return t.return=t.return||t.value;case Qj:return"";case ez:return t.return=t.value+"{"+L1(t.children,r)+"}";case rE:if(!No(t.value=t.props.join(",")))return""}return No(n=L1(t.children,r))?t.return=t.value+"{"+n+"}":""}function qle(t){var e=rz(t);return function(n,r,i,s){for(var a="",c=0;c<e;c++)a+=t[c](n,r,i,s)||"";return a}}function Wle(t){return function(e){e.root||(e=e.return)&&t(e)}}function Vle(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case YI:t.return=sz(t.value,t.length,n);return;case ez:return L1([lu(t,{value:Dt(t.value,"@","@"+on)})],r);case rE:if(t.length)return Rle(n=t.props,function(i){switch(Bc(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":vh(lu(t,{props:[Dt(i,/:(read-\w+)/,":"+Tg+"$1")]})),vh(lu(t,{props:[i]})),JT(t,{props:c$(n,r)});break;case"::placeholder":vh(lu(t,{props:[Dt(i,/:(plac\w+)/,":"+on+"input-$1")]})),vh(lu(t,{props:[Dt(i,/:(plac\w+)/,":"+Tg+"$1")]})),vh(lu(t,{props:[Dt(i,/:(plac\w+)/,Bn+"input-$1")]})),vh(lu(t,{props:[i]})),JT(t,{props:c$(n,r)});break}return""})}}var Hle={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Rs={},Sp=typeof process<"u"&&Rs!==void 0&&(Rs.REACT_APP_SC_ATTR||Rs.SC_ATTR)||"data-styled",az="active",oz="data-styled-version",oE="6.1.19",XI=`/*!sc*/
`,j1=typeof window<"u"&&typeof document<"u",Gle=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Rs!==void 0&&Rs.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Rs.REACT_APP_SC_DISABLE_SPEEDY!==""?Rs.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Rs.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Rs!==void 0&&Rs.SC_DISABLE_SPEEDY!==void 0&&Rs.SC_DISABLE_SPEEDY!==""&&Rs.SC_DISABLE_SPEEDY!=="false"&&Rs.SC_DISABLE_SPEEDY),Kle={},cE=Object.freeze([]),xp=Object.freeze({});function cz(t,e,n){return n===void 0&&(n=xp),t.theme!==n.theme&&t.theme||e||n.theme}var lz=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),Yle=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Zle=/(^-|-$)/g;function d$(t){return t.replace(Yle,"-").replace(Zle,"")}var Xle=/(a)(d)/gi,sv=52,f$=function(t){return String.fromCharCode(t+(t>25?39:97))};function t5(t){var e,n="";for(e=Math.abs(t);e>sv;e=e/sv|0)n=f$(e%sv)+n;return(f$(e%sv)+n).replace(Xle,"$1-$2")}var XS,uz=5381,qh=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},dz=function(t){return qh(uz,t)};function JI(t){return t5(dz(t)>>>0)}function Jle(t){return t.displayName||t.name||"Component"}function JS(t){return typeof t=="string"&&!0}var fz=typeof Symbol=="function"&&Symbol.for,hz=fz?Symbol.for("react.memo"):60115,Qle=fz?Symbol.for("react.forward_ref"):60112,eue={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},tue={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},pz={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},nue=((XS={})[Qle]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},XS[hz]=pz,XS);function h$(t){return("type"in(e=t)&&e.type.$$typeof)===hz?pz:"$$typeof"in t?nue[t.$$typeof]:eue;var e}var rue=Object.defineProperty,iue=Object.getOwnPropertyNames,p$=Object.getOwnPropertySymbols,sue=Object.getOwnPropertyDescriptor,aue=Object.getPrototypeOf,y$=Object.prototype;function yz(t,e,n){if(typeof e!="string"){if(y$){var r=aue(e);r&&r!==y$&&yz(t,r,n)}var i=iue(e);p$&&(i=i.concat(p$(e)));for(var s=h$(t),a=h$(e),c=0;c<i.length;++c){var u=i[c];if(!(u in tue||n&&n[u]||a&&u in a||s&&u in s)){var d=sue(e,u);try{rue(t,u,d)}catch{}}}}return t}function Tp(t){return typeof t=="function"}function QI(t){return typeof t=="object"&&"styledComponentId"in t}function Md(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function z1(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=t[r];return n}function p0(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function n5(t,e,n){if(n===void 0&&(n=!1),!n&&!p0(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=n5(t[r],e[r]);else if(p0(e))for(var r in e)t[r]=n5(t[r],e[r]);return t}function eC(t,e){Object.defineProperty(t,"toString",{value:e})}function ib(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var oue=(function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,s=i;e>=s;)if((s<<=1)<0)throw ib(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(r),this.length=s;for(var a=i;a<s;a++)this.groupSizes[a]=0}for(var c=this.indexOfGroup(e+1),u=(a=0,n.length);a<u;a++)this.tag.insertRule(c,n[a])&&(this.groupSizes[e]++,c++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n;this.groupSizes[e]=0;for(var s=r;s<i;s++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),s=i+r,a=i;a<s;a++)n+="".concat(this.tag.getRule(a)).concat(XI);return n},t})(),Vv=new Map,F1=new Map,Hv=1,av=function(t){if(Vv.has(t))return Vv.get(t);for(;F1.has(Hv);)Hv++;var e=Hv++;return Vv.set(t,e),F1.set(e,t),e},cue=function(t,e){Hv=e+1,Vv.set(t,e),F1.set(e,t)},lue="style[".concat(Sp,"][").concat(oz,'="').concat(oE,'"]'),uue=new RegExp("^".concat(Sp,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),due=function(t,e,n){for(var r,i=n.split(","),s=0,a=i.length;s<a;s++)(r=i[s])&&t.registerName(e,r)},fue=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(XI),i=[],s=0,a=r.length;s<a;s++){var c=r[s].trim();if(c){var u=c.match(uue);if(u){var d=0|parseInt(u[1],10),h=u[2];d!==0&&(cue(h,d),due(t,h,u[3]),t.getTag().insertRules(d,i)),i.length=0}else i.push(c)}}},m$=function(t){for(var e=document.querySelectorAll(lue),n=0,r=e.length;n<r;n++){var i=e[n];i&&i.getAttribute(Sp)!==az&&(fue(t,i),i.parentNode&&i.parentNode.removeChild(i))}};function hue(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var mz=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=(function(c){var u=Array.from(c.querySelectorAll("style[".concat(Sp,"]")));return u[u.length-1]})(n),s=i!==void 0?i.nextSibling:null;r.setAttribute(Sp,az),r.setAttribute(oz,oE);var a=hue();return a&&r.setAttribute("nonce",a),n.insertBefore(r,s),r},pue=(function(){function t(e){this.element=mz(e),this.element.appendChild(document.createTextNode("")),this.sheet=(function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,s=r.length;i<s;i++){var a=r[i];if(a.ownerNode===n)return a}throw ib(17)})(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t})(),yue=(function(){function t(e){this.element=mz(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t})(),mue=(function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t})(),g$=j1,gue={isServer:!j1,useCSSOMInjection:!Gle},q1=(function(){function t(e,n,r){e===void 0&&(e=xp),n===void 0&&(n={});var i=this;this.options=Ti(Ti({},gue),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&j1&&g$&&(g$=!1,m$(this)),eC(this,function(){return(function(s){for(var a=s.getTag(),c=a.length,u="",d=function(p){var m=(function(O){return F1.get(O)})(p);if(m===void 0)return"continue";var g=s.names.get(m),b=a.getGroup(p);if(g===void 0||!g.size||b.length===0)return"continue";var v="".concat(Sp,".g").concat(p,'[id="').concat(m,'"]'),E="";g!==void 0&&g.forEach(function(O){O.length>0&&(E+="".concat(O,","))}),u+="".concat(b).concat(v,'{content:"').concat(E,'"}').concat(XI)},h=0;h<c;h++)d(h);return u})(i)})}return t.registerId=function(e){return av(e)},t.prototype.rehydrate=function(){!this.server&&j1&&m$(this)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(Ti(Ti({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=(function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new mue(i):r?new pue(i):new yue(i)})(this.options),new oue(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(av(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(av(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(av(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t})(),bue=/&/g,wue=/^\s*\/\/.*$/gm;function gz(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=gz(n.children,e)),n})}function vue(t){var e,n,r,i=xp,s=i.options,a=s===void 0?xp:s,c=i.plugins,u=c===void 0?cE:c,d=function(m,g,b){return b.startsWith(n)&&b.endsWith(n)&&b.replaceAll(n,"").length>0?".".concat(e):m},h=u.slice();h.push(function(m){m.type===rE&&m.value.includes("&")&&(m.props[0]=m.props[0].replace(bue,n).replace(r,d))}),a.prefix&&h.push(Vle),h.push(Fle);var p=function(m,g,b,v){g===void 0&&(g=""),b===void 0&&(b=""),v===void 0&&(v="&"),e=v,n=g,r=new RegExp("\\".concat(n,"\\b"),"g");var E=m.replace(wue,""),O=jle(b||g?"".concat(b," ").concat(g," { ").concat(E," }"):E);a.namespace&&(O=gz(O,a.namespace));var k=[];return L1(O,qle(h.concat(Wle(function(S){return k.push(S)})))),k};return p.hash=u.length?u.reduce(function(m,g){return g.name||ib(15),qh(m,g.name)},uz).toString():"",p}var _ue=new q1,r5=vue(),bz=et.createContext({shouldForwardProp:void 0,styleSheet:_ue,stylis:r5});bz.Consumer;et.createContext(void 0);function i5(){return Y.useContext(bz)}var wz=(function(){function t(e,n){var r=this;this.inject=function(i,s){s===void 0&&(s=r5);var a=r.name+s.hash;i.hasNameForId(r.id,a)||i.insertRules(r.id,a,s(r.rules,a,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,eC(this,function(){throw ib(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=r5),this.name+e.hash},t})(),Eue=function(t){return t>="A"&&t<="Z"};function b$(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;Eue(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var vz=function(t){return t==null||t===!1||t===""},_z=function(t){var e,n,r=[];for(var i in t){var s=t[i];t.hasOwnProperty(i)&&!vz(s)&&(Array.isArray(s)&&s.isCss||Tp(s)?r.push("".concat(b$(i),":"),s,";"):p0(s)?r.push.apply(r,_p(_p(["".concat(i," {")],_z(s),!1),["}"],!1)):r.push("".concat(b$(i),": ").concat((e=i,(n=s)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in Hle||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function Ou(t,e,n,r){if(vz(t))return[];if(QI(t))return[".".concat(t.styledComponentId)];if(Tp(t)){if(!Tp(s=t)||s.prototype&&s.prototype.isReactComponent||!e)return[t];var i=t(e);return Ou(i,e,n,r)}var s;return t instanceof wz?n?(t.inject(n,r),[t.getName(r)]):[t]:p0(t)?_z(t):Array.isArray(t)?Array.prototype.concat.apply(cE,t.map(function(a){return Ou(a,e,n,r)})):[t.toString()]}function Ez(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(Tp(n)&&!QI(n))return!1}return!0}var Aue=dz(oE),Sue=(function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&Ez(e),this.componentId=n,this.baseHash=qh(Aue,n),this.baseStyle=r,q1.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=Md(i,this.staticRulesId);else{var s=z1(Ou(this.rules,e,n,r)),a=t5(qh(this.baseHash,s)>>>0);if(!n.hasNameForId(this.componentId,a)){var c=r(s,".".concat(a),void 0,this.componentId);n.insertRules(this.componentId,a,c)}i=Md(i,a),this.staticRulesId=a}else{for(var u=qh(this.baseHash,r.hash),d="",h=0;h<this.rules.length;h++){var p=this.rules[h];if(typeof p=="string")d+=p;else if(p){var m=z1(Ou(p,e,n,r));u=qh(u,m+h),d+=m}}if(d){var g=t5(u>>>0);n.hasNameForId(this.componentId,g)||n.insertRules(this.componentId,g,r(d,".".concat(g),void 0,this.componentId)),i=Md(i,g)}}return i},t})(),tC=et.createContext(void 0);tC.Consumer;var QS={};function xue(t,e,n){var r=QI(t),i=t,s=!JS(t),a=e.attrs,c=a===void 0?cE:a,u=e.componentId,d=u===void 0?(function(A,C){var I=typeof A!="string"?"sc":d$(A);QS[I]=(QS[I]||0)+1;var $="".concat(I,"-").concat(JI(oE+I+QS[I]));return C?"".concat(C,"-").concat($):$})(e.displayName,e.parentComponentId):u,h=e.displayName,p=h===void 0?(function(A){return JS(A)?"styled.".concat(A):"Styled(".concat(Jle(A),")")})(t):h,m=e.displayName&&e.componentId?"".concat(d$(e.displayName),"-").concat(e.componentId):e.componentId||d,g=r&&i.attrs?i.attrs.concat(c).filter(Boolean):c,b=e.shouldForwardProp;if(r&&i.shouldForwardProp){var v=i.shouldForwardProp;if(e.shouldForwardProp){var E=e.shouldForwardProp;b=function(A,C){return v(A,C)&&E(A,C)}}else b=v}var O=new Sue(n,m,r?i.componentStyle:void 0);function k(A,C){return(function(I,$,z){var L=I.attrs,B=I.componentStyle,V=I.defaultProps,D=I.foldedComponentIds,F=I.styledComponentId,K=I.target,T=et.useContext(tC),x=i5(),N=I.shouldForwardProp||x.shouldForwardProp,j=cz($,T,V)||xp,P=(function(Q,ge,we){for(var Te,Ee=Ti(Ti({},ge),{className:void 0,theme:we}),Pe=0;Pe<Q.length;Pe+=1){var qe=Tp(Te=Q[Pe])?Te(Ee):Te;for(var rt in qe)Ee[rt]=rt==="className"?Md(Ee[rt],qe[rt]):rt==="style"?Ti(Ti({},Ee[rt]),qe[rt]):qe[rt]}return ge.className&&(Ee.className=Md(Ee.className,ge.className)),Ee})(L,$,j),H=P.as||K,M={};for(var G in P)P[G]===void 0||G[0]==="$"||G==="as"||G==="theme"&&P.theme===j||(G==="forwardedAs"?M.as=P.forwardedAs:N&&!N(G,H)||(M[G]=P[G]));var J=(function(Q,ge){var we=i5(),Te=Q.generateAndInjectStyles(ge,we.styleSheet,we.stylis);return Te})(B,P),X=Md(D,F);return J&&(X+=" "+J),P.className&&(X+=" "+P.className),M[JS(H)&&!lz.has(H)?"class":"className"]=X,z&&(M.ref=z),Y.createElement(H,M)})(S,A,C)}k.displayName=p;var S=et.forwardRef(k);return S.attrs=g,S.componentStyle=O,S.displayName=p,S.shouldForwardProp=b,S.foldedComponentIds=r?Md(i.foldedComponentIds,i.styledComponentId):"",S.styledComponentId=m,S.target=r?i.target:t,Object.defineProperty(S,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(A){this._foldedDefaultProps=r?(function(C){for(var I=[],$=1;$<arguments.length;$++)I[$-1]=arguments[$];for(var z=0,L=I;z<L.length;z++)n5(C,L[z],!0);return C})({},i.defaultProps,A):A}}),eC(S,function(){return".".concat(S.styledComponentId)}),s&&yz(S,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),S}function w$(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n}var v$=function(t){return Object.assign(t,{isCss:!0})};function sb(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Tp(t)||p0(t))return v$(Ou(w$(cE,_p([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?Ou(r):v$(Ou(w$(r,e)))}function s5(t,e,n){if(n===void 0&&(n=xp),!e)throw ib(1,e);var r=function(i){for(var s=[],a=1;a<arguments.length;a++)s[a-1]=arguments[a];return t(e,n,sb.apply(void 0,_p([i],s,!1)))};return r.attrs=function(i){return s5(t,e,Ti(Ti({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return s5(t,e,Ti(Ti({},n),i))},r}var Az=function(t){return s5(xue,t)},Gn=Az;lz.forEach(function(t){Gn[t]=Az(t)});var Tue=(function(){function t(e,n){this.rules=e,this.componentId=n,this.isStatic=Ez(e),q1.registerId(this.componentId+1)}return t.prototype.createStyles=function(e,n,r,i){var s=i(z1(Ou(this.rules,n,r,i)),""),a=this.componentId+e;r.insertRules(a,a,s)},t.prototype.removeStyles=function(e,n){n.clearRules(this.componentId+e)},t.prototype.renderStyles=function(e,n,r,i){e>2&&q1.registerId(this.componentId+e),this.removeStyles(e,r),this.createStyles(e,n,r,i)},t})();function Iue(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=sb.apply(void 0,_p([t],e,!1)),i="sc-global-".concat(JI(JSON.stringify(r))),s=new Tue(r,i),a=function(u){var d=i5(),h=et.useContext(tC),p=et.useRef(d.styleSheet.allocateGSInstance(i)).current;return d.styleSheet.server&&c(p,u,d.styleSheet,h,d.stylis),et.useLayoutEffect(function(){if(!d.styleSheet.server)return c(p,u,d.styleSheet,h,d.stylis),function(){return s.removeStyles(p,d.styleSheet)}},[p,u,d.styleSheet,h,d.stylis]),null};function c(u,d,h,p,m){if(s.isStatic)s.renderStyles(u,Kle,h,m);else{var g=Ti(Ti({},d),{theme:cz(d,p,a.defaultProps)});s.renderStyles(u,g,h,m)}}return et.memo(a)}function s7e(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=z1(sb.apply(void 0,_p([t],e,!1))),i=JI(r);return new wz(i,r)}var Ge={},yg={exports:{}},Cue=yg.exports,_$;function Oue(){return _$||(_$=1,(function(t,e){(function(n,r){var i="1.0.41",s="",a="?",c="function",u="undefined",d="object",h="string",p="major",m="model",g="name",b="type",v="vendor",E="version",O="architecture",k="console",S="mobile",A="tablet",C="smarttv",I="wearable",$="embedded",z=500,L="Amazon",B="Apple",V="ASUS",D="BlackBerry",F="Browser",K="Chrome",T="Edge",x="Firefox",N="Google",j="Honor",P="Huawei",H="Lenovo",M="LG",G="Microsoft",J="Motorola",X="Nvidia",Q="OnePlus",ge="Opera",we="OPPO",Te="Samsung",Ee="Sharp",Pe="Sony",qe="Xiaomi",rt="Zebra",ye="Facebook",Tt="Chromium OS",Kt="Mac OS",wt=" Browser",yi=function(It,it){var ct={};for(var ht in It)it[ht]&&it[ht].length%2===0?ct[ht]=it[ht].concat(It[ht]):ct[ht]=It[ht];return ct},Ht=function(It){for(var it={},ct=0;ct<It.length;ct++)it[It[ct].toUpperCase()]=It[ct];return it},Le=function(It,it){return typeof It===h?He(it).indexOf(He(It))!==-1:!1},He=function(It){return It.toLowerCase()},mi=function(It){return typeof It===h?It.replace(/[^\d\.]/g,s).split(".")[0]:r},gi=function(It,it){if(typeof It===h)return It=It.replace(/^\s\s*/,s),typeof it===u?It:It.substring(0,z)},dt=function(It,it){for(var ct=0,ht,On,Xt,$t,Ke,Pr;ct<it.length&&!Ke;){var Zr=it[ct],Fi=it[ct+1];for(ht=On=0;ht<Zr.length&&!Ke&&Zr[ht];)if(Ke=Zr[ht++].exec(It),Ke)for(Xt=0;Xt<Fi.length;Xt++)Pr=Ke[++On],$t=Fi[Xt],typeof $t===d&&$t.length>0?$t.length===2?typeof $t[1]==c?this[$t[0]]=$t[1].call(this,Pr):this[$t[0]]=$t[1]:$t.length===3?typeof $t[1]===c&&!($t[1].exec&&$t[1].test)?this[$t[0]]=Pr?$t[1].call(this,Pr,$t[2]):r:this[$t[0]]=Pr?Pr.replace($t[1],$t[2]):r:$t.length===4&&(this[$t[0]]=Pr?$t[3].call(this,Pr.replace($t[1],$t[2])):r):this[$t]=Pr||r;ct+=2}},_n=function(It,it){for(var ct in it)if(typeof it[ct]===d&&it[ct].length>0){for(var ht=0;ht<it[ct].length;ht++)if(Le(it[ct][ht],It))return ct===a?r:ct}else if(Le(it[ct],It))return ct===a?r:ct;return it.hasOwnProperty("*")?it["*"]:It},Oa={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},ms={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},zi={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[E,[g,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[E,[g,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[g,E],[/opios[\/ ]+([\w\.]+)/i],[E,[g,ge+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[E,[g,ge+" GX"]],[/\bopr\/([\w\.]+)/i],[E,[g,ge]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[E,[g,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[E,[g,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[g,E],[/quark(?:pc)?\/([-\w\.]+)/i],[E,[g,"Quark"]],[/\bddg\/([\w\.]+)/i],[E,[g,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[E,[g,"UC"+F]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[E,[g,"WeChat"]],[/konqueror\/([\w\.]+)/i],[E,[g,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[E,[g,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[E,[g,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[E,[g,"Smart Lenovo "+F]],[/(avast|avg)\/([\w\.]+)/i],[[g,/(.+)/,"$1 Secure "+F],E],[/\bfocus\/([\w\.]+)/i],[E,[g,x+" Focus"]],[/\bopt\/([\w\.]+)/i],[E,[g,ge+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[E,[g,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[E,[g,"Dolphin"]],[/coast\/([\w\.]+)/i],[E,[g,ge+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[E,[g,"MIUI"+wt]],[/fxios\/([\w\.-]+)/i],[E,[g,x]],[/\bqihoobrowser\/?([\w\.]*)/i],[E,[g,"360"]],[/\b(qq)\/([\w\.]+)/i],[[g,/(.+)/,"$1Browser"],E],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[g,/(.+)/,"$1"+wt],E],[/samsungbrowser\/([\w\.]+)/i],[E,[g,Te+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[E,[g,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[g,"Sogou Mobile"],E],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[g,E],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[g],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[E,g],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[g,ye],E],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/(daum)apps[\/ ]([\w\.]+)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[g,E],[/\bgsa\/([\w\.]+) .*safari\//i],[E,[g,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[E,[g,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[E,[g,K+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[g,K+" WebView"],E],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[E,[g,"Android "+F]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[g,E],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[E,[g,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[E,g],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[g,[E,_n,Oa]],[/(webkit|khtml)\/([\w\.]+)/i],[g,E],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[g,"Netscape"],E],[/(wolvic|librewolf)\/([\w\.]+)/i],[g,E],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[E,[g,x+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[g,[E,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[g,[E,/master.|lts./,""]]],cpu:[[/\b((amd|x|x86[-_]?|wow|win)64)\b/i],[[O,"amd64"]],[/(ia32(?=;))/i,/\b((i[346]|x)86)(pc)?\b/i],[[O,"ia32"]],[/\b(aarch64|arm(v?[89]e?l?|_?64))\b/i],[[O,"arm64"]],[/\b(arm(v[67])?ht?n?[fl]p?)\b/i],[[O,"armhf"]],[/( (ce|mobile); ppc;|\/[\w\.]+arm\b)/i],[[O,"arm"]],[/((ppc|powerpc)(64)?)( mac|;|\))/i],[[O,/ower/,s,He]],[/ sun4\w[;\)]/i],[[O,"sparc"]],[/\b(avr32|ia64(?=;)|68k(?=\))|\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\b|pa-risc)/i],[[O,He]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[m,[v,Te],[b,A]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[m,[v,Te],[b,S]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[m,[v,B],[b,S]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[m,[v,B],[b,A]],[/(macintosh);/i],[m,[v,B]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[m,[v,Ee],[b,S]],[/\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\)|;)/i],[m,[v,j],[b,A]],[/honor([-\w ]+)[;\)]/i],[m,[v,j],[b,S]],[/\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\w\. ]*(?= bui|\)))\b(?!.+d\/s)/i],[m,[v,P],[b,A]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[m,[v,P],[b,S]],[/oid[^\)]+; (2[\dbc]{4}(182|283|rp\w{2})[cgl]|m2105k81a?c)(?: bui|\))/i,/\b((?:red)?mi[-_ ]?pad[\w- ]*)(?: bui|\))/i],[[m,/_/g," "],[v,qe],[b,A]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i,/ ([\w ]+) miui\/v?\d/i],[[m,/_/g," "],[v,qe],[b,S]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[m,[v,we],[b,S]],[/\b(opd2(\d{3}a?))(?: bui|\))/i],[m,[v,_n,{OnePlus:["304","403","203"],"*":we}],[b,A]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[m,[v,"Vivo"],[b,S]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[m,[v,"Realme"],[b,S]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto(?! 360)[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[m,[v,J],[b,S]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[m,[v,J],[b,A]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[m,[v,M],[b,A]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv|watch)\w+)/i,/\blg-?([\d\w]+) bui/i],[m,[v,M],[b,S]],[/(ideatab[-\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\d{3,4}(?:f[cu]|xu|[av])|yt\d?-[jx]?\d+[lfmx])( bui|;|\)|\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\w- ]+?)|tb[\w-]{6,7})( bui|;|\)|\/)/i],[m,[v,H],[b,A]],[/(nokia) (t[12][01])/i],[v,m,[b,A]],[/(?:maemo|nokia).*(n900|lumia \d+|rm-\d+)/i,/nokia[-_ ]?(([-\w\. ]*))/i],[[m,/_/g," "],[b,S],[v,"Nokia"]],[/(pixel (c|tablet))\b/i],[m,[v,N],[b,A]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[m,[v,N],[b,S]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[m,[v,Pe],[b,S]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[m,"Xperia Tablet"],[v,Pe],[b,A]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[m,[v,Q],[b,S]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[m,[v,L],[b,A]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[m,/(.+)/g,"Fire Phone $1"],[v,L],[b,S]],[/(playbook);[-\w\),; ]+(rim)/i],[m,v,[b,A]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[m,[v,D],[b,S]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[m,[v,V],[b,A]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[m,[v,V],[b,S]],[/(nexus 9)/i],[m,[v,"HTC"],[b,A]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[v,[m,/_/g," "],[b,S]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[m,[v,"TCL"],[b,A]],[/(itel) ((\w+))/i],[[v,He],m,[b,_n,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[m,[v,"Acer"],[b,A]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[m,[v,"Meizu"],[b,S]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[m,[v,"Ulefone"],[b,S]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[m,[v,"Energizer"],[b,S]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[m,[v,"Cat"],[b,S]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[m,[v,"Smartfren"],[b,S]],[/droid.+; (a(?:015|06[35]|142p?))/i],[m,[v,"Nothing"],[b,S]],[/; (x67 5g|tikeasy \w+|ac[1789]\d\w+)( b|\))/i,/archos ?(5|gamepad2?|([\w ]*[t1789]|hello) ?\d+[\w ]*)( b|\))/i],[m,[v,"Archos"],[b,A]],[/archos ([\w ]+)( b|\))/i,/; (ac[3-6]\d\w{2,8})( b|\))/i],[m,[v,"Archos"],[b,S]],[/(imo) (tab \w+)/i,/(infinix) (x1101b?)/i],[v,m,[b,A]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (hmd|imo) ([\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w ]+?)(?: bui|\)|\/)/i,/(oppo) ?([\w ]+) bui/i],[v,m,[b,S]],[/(kobo)\s(ereader|touch)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[v,m,[b,A]],[/(surface duo)/i],[m,[v,G],[b,A]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[m,[v,"Fairphone"],[b,S]],[/(u304aa)/i],[m,[v,"AT&T"],[b,S]],[/\bsie-(\w*)/i],[m,[v,"Siemens"],[b,S]],[/\b(rct\w+) b/i],[m,[v,"RCA"],[b,A]],[/\b(venue[\d ]{2,7}) b/i],[m,[v,"Dell"],[b,A]],[/\b(q(?:mv|ta)\w+) b/i],[m,[v,"Verizon"],[b,A]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[m,[v,"Barnes & Noble"],[b,A]],[/\b(tm\d{3}\w+) b/i],[m,[v,"NuVision"],[b,A]],[/\b(k88) b/i],[m,[v,"ZTE"],[b,A]],[/\b(nx\d{3}j) b/i],[m,[v,"ZTE"],[b,S]],[/\b(gen\d{3}) b.+49h/i],[m,[v,"Swiss"],[b,S]],[/\b(zur\d{3}) b/i],[m,[v,"Swiss"],[b,A]],[/\b((zeki)?tb.*\b) b/i],[m,[v,"Zeki"],[b,A]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[v,"Dragon Touch"],m,[b,A]],[/\b(ns-?\w{0,9}) b/i],[m,[v,"Insignia"],[b,A]],[/\b((nxa|next)-?\w{0,9}) b/i],[m,[v,"NextBook"],[b,A]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[v,"Voice"],m,[b,S]],[/\b(lvtel\-)?(v1[12]) b/i],[[v,"LvTel"],m,[b,S]],[/\b(ph-1) /i],[m,[v,"Essential"],[b,S]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[m,[v,"Envizen"],[b,A]],[/\b(trio[-\w\. ]+) b/i],[m,[v,"MachSpeed"],[b,A]],[/\btu_(1491) b/i],[m,[v,"Rotor"],[b,A]],[/((?:tegranote|shield t(?!.+d tv))[\w- ]*?)(?: b|\))/i],[m,[v,X],[b,A]],[/(sprint) (\w+)/i],[v,m,[b,S]],[/(kin\.[onetw]{3})/i],[[m,/\./g," "],[v,G],[b,S]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[m,[v,rt],[b,A]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[m,[v,rt],[b,S]],[/smart-tv.+(samsung)/i],[v,[b,C]],[/hbbtv.+maple;(\d+)/i],[[m,/^/,"SmartTV"],[v,Te],[b,C]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[v,M],[b,C]],[/(apple) ?tv/i],[v,[m,B+" TV"],[b,C]],[/crkey/i],[[m,K+"cast"],[v,N],[b,C]],[/droid.+aft(\w+)( bui|\))/i],[m,[v,L],[b,C]],[/(shield \w+ tv)/i],[m,[v,X],[b,C]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[m,[v,Ee],[b,C]],[/(bravia[\w ]+)( bui|\))/i],[m,[v,Pe],[b,C]],[/(mi(tv|box)-?\w+) bui/i],[m,[v,qe],[b,C]],[/Hbbtv.*(technisat) (.*);/i],[v,m,[b,C]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[v,gi],[m,gi],[b,C]],[/droid.+; ([\w- ]+) (?:android tv|smart[- ]?tv)/i],[m,[b,C]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[b,C]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[v,m,[b,k]],[/droid.+; (shield)( bui|\))/i],[m,[v,X],[b,k]],[/(playstation \w+)/i],[m,[v,Pe],[b,k]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[m,[v,G],[b,k]],[/\b(sm-[lr]\d\d[0156][fnuw]?s?|gear live)\b/i],[m,[v,Te],[b,I]],[/((pebble))app/i,/(asus|google|lg|oppo) ((pixel |zen)?watch[\w ]*)( bui|\))/i],[v,m,[b,I]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[m,[v,we],[b,I]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[m,[v,B],[b,I]],[/(opwwe\d{3})/i],[m,[v,Q],[b,I]],[/(moto 360)/i],[m,[v,J],[b,I]],[/(smartwatch 3)/i],[m,[v,Pe],[b,I]],[/(g watch r)/i],[m,[v,M],[b,I]],[/droid.+; (wt63?0{2,3})\)/i],[m,[v,rt],[b,I]],[/droid.+; (glass) \d/i],[m,[v,N],[b,I]],[/(pico) (4|neo3(?: link|pro)?)/i],[v,m,[b,I]],[/; (quest( \d| pro)?)/i],[m,[v,ye],[b,I]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[v,[b,$]],[/(aeobc)\b/i],[m,[v,L],[b,$]],[/(homepod).+mac os/i],[m,[v,B],[b,$]],[/windows iot/i],[[b,$]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[m,[b,S]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[m,[b,A]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[b,A]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[b,S]],[/droid .+?; ([\w\. -]+)( bui|\))/i],[m,[v,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[E,[g,T+"HTML"]],[/(arkweb)\/([\w\.]+)/i],[g,E],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[E,[g,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[g,E],[/ladybird\//i],[[g,"LibWeb"]],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[E,g]],os:[[/microsoft (windows) (vista|xp)/i],[g,E],[/(windows (?:phone(?: os)?|mobile|iot))[\/ ]?([\d\.\w ]*)/i],[g,[E,_n,ms]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[E,_n,ms],[g,"Windows"]],[/[adehimnop]{4,7}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[E,/_/g,"."],[g,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[g,Kt],[E,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[E,g],[/(ubuntu) ([\w\.]+) like android/i],[[g,/(.+)/,"$1 Touch"],E],[/(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen|webos)\w*[-\/; ]?([\d\.]*)/i],[g,E],[/\(bb(10);/i],[E,[g,D]],[/(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\/ ]?([\w\.]*)/i],[E,[g,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[E,[g,x+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[E,[g,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[E,[g,"watchOS"]],[/crkey\/([\d\.]+)/i],[E,[g,K+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[g,Tt],E],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux)(?: arm\w*| x86\w*| ?)([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[g,E],[/(sunos) ?([\w\.\d]*)/i],[[g,"Solaris"],E],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[g,E]]},mn=function(It,it){if(typeof It===d&&(it=It,It=r),!(this instanceof mn))return new mn(It,it).getResult();var ct=typeof n!==u&&n.navigator?n.navigator:r,ht=It||(ct&&ct.userAgent?ct.userAgent:s),On=ct&&ct.userAgentData?ct.userAgentData:r,Xt=it?yi(zi,it):zi,$t=ct&&ct.userAgent==ht;return this.getBrowser=function(){var Ke={};return Ke[g]=r,Ke[E]=r,dt.call(Ke,ht,Xt.browser),Ke[p]=mi(Ke[E]),$t&&ct&&ct.brave&&typeof ct.brave.isBrave==c&&(Ke[g]="Brave"),Ke},this.getCPU=function(){var Ke={};return Ke[O]=r,dt.call(Ke,ht,Xt.cpu),Ke},this.getDevice=function(){var Ke={};return Ke[v]=r,Ke[m]=r,Ke[b]=r,dt.call(Ke,ht,Xt.device),$t&&!Ke[b]&&On&&On.mobile&&(Ke[b]=S),$t&&Ke[m]=="Macintosh"&&ct&&typeof ct.standalone!==u&&ct.maxTouchPoints&&ct.maxTouchPoints>2&&(Ke[m]="iPad",Ke[b]=A),Ke},this.getEngine=function(){var Ke={};return Ke[g]=r,Ke[E]=r,dt.call(Ke,ht,Xt.engine),Ke},this.getOS=function(){var Ke={};return Ke[g]=r,Ke[E]=r,dt.call(Ke,ht,Xt.os),$t&&!Ke[g]&&On&&On.platform&&On.platform!="Unknown"&&(Ke[g]=On.platform.replace(/chrome os/i,Tt).replace(/macos/i,Kt)),Ke},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return ht},this.setUA=function(Ke){return ht=typeof Ke===h&&Ke.length>z?gi(Ke,z):Ke,this},this.setUA(ht),this};mn.VERSION=i,mn.BROWSER=Ht([g,E,p]),mn.CPU=Ht([O]),mn.DEVICE=Ht([m,v,b,k,S,C,A,I,$]),mn.ENGINE=mn.OS=Ht([g,E]),t.exports&&(e=t.exports=mn),e.UAParser=mn;var $r=typeof n!==u&&(n.jQuery||n.Zepto);if($r&&!$r.ua){var Yr=new mn;$r.ua=Yr.getResult(),$r.ua.get=function(){return Yr.getUA()},$r.ua.set=function(It){Yr.setUA(It);var it=Yr.getResult();for(var ct in it)$r.ua[ct]=it[ct]}}})(typeof window=="object"?window:Cue)})(yg,yg.exports)),yg.exports}var E$;function kue(){if(E$)return Ge;E$=1,Object.defineProperty(Ge,"__esModule",{value:!0});function t(ce){return ce&&typeof ce=="object"&&"default"in ce?ce.default:ce}var e=P0(),n=t(e),r=Oue(),i=new r,s=i.getBrowser(),a=i.getCPU(),c=i.getDevice(),u=i.getEngine(),d=i.getOS(),h=i.getUA(),p=function(Z){return i.setUA(Z)},m=function(Z){if(!Z){console.error("No userAgent string was provided");return}var re=new r(Z);return{UA:re,browser:re.getBrowser(),cpu:re.getCPU(),device:re.getDevice(),engine:re.getEngine(),os:re.getOS(),ua:re.getUA(),setUserAgent:function(Re){return re.setUA(Re)}}},g=Object.freeze({ClientUAInstance:i,browser:s,cpu:a,device:c,engine:u,os:d,ua:h,setUa:p,parseUserAgent:m});function b(ce,Z){var re=Object.keys(ce);if(Object.getOwnPropertySymbols){var be=Object.getOwnPropertySymbols(ce);Z&&(be=be.filter(function(Re){return Object.getOwnPropertyDescriptor(ce,Re).enumerable})),re.push.apply(re,be)}return re}function v(ce){for(var Z=1;Z<arguments.length;Z++){var re=arguments[Z]!=null?arguments[Z]:{};Z%2?b(Object(re),!0).forEach(function(be){A(ce,be,re[be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ce,Object.getOwnPropertyDescriptors(re)):b(Object(re)).forEach(function(be){Object.defineProperty(ce,be,Object.getOwnPropertyDescriptor(re,be))})}return ce}function E(ce){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?E=function(Z){return typeof Z}:E=function(Z){return Z&&typeof Symbol=="function"&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z},E(ce)}function O(ce,Z){if(!(ce instanceof Z))throw new TypeError("Cannot call a class as a function")}function k(ce,Z){for(var re=0;re<Z.length;re++){var be=Z[re];be.enumerable=be.enumerable||!1,be.configurable=!0,"value"in be&&(be.writable=!0),Object.defineProperty(ce,be.key,be)}}function S(ce,Z,re){return Z&&k(ce.prototype,Z),ce}function A(ce,Z,re){return Z in ce?Object.defineProperty(ce,Z,{value:re,enumerable:!0,configurable:!0,writable:!0}):ce[Z]=re,ce}function C(){return C=Object.assign||function(ce){for(var Z=1;Z<arguments.length;Z++){var re=arguments[Z];for(var be in re)Object.prototype.hasOwnProperty.call(re,be)&&(ce[be]=re[be])}return ce},C.apply(this,arguments)}function I(ce,Z){if(typeof Z!="function"&&Z!==null)throw new TypeError("Super expression must either be null or a function");ce.prototype=Object.create(Z&&Z.prototype,{constructor:{value:ce,writable:!0,configurable:!0}}),Z&&z(ce,Z)}function $(ce){return $=Object.setPrototypeOf?Object.getPrototypeOf:function(re){return re.__proto__||Object.getPrototypeOf(re)},$(ce)}function z(ce,Z){return z=Object.setPrototypeOf||function(be,Re){return be.__proto__=Re,be},z(ce,Z)}function L(ce,Z){if(ce==null)return{};var re={},be=Object.keys(ce),Re,Ot;for(Ot=0;Ot<be.length;Ot++)Re=be[Ot],!(Z.indexOf(Re)>=0)&&(re[Re]=ce[Re]);return re}function B(ce,Z){if(ce==null)return{};var re=L(ce,Z),be,Re;if(Object.getOwnPropertySymbols){var Ot=Object.getOwnPropertySymbols(ce);for(Re=0;Re<Ot.length;Re++)be=Ot[Re],!(Z.indexOf(be)>=0)&&Object.prototype.propertyIsEnumerable.call(ce,be)&&(re[be]=ce[be])}return re}function V(ce){if(ce===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ce}function D(ce,Z){if(Z&&(typeof Z=="object"||typeof Z=="function"))return Z;if(Z!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V(ce)}function F(ce,Z){return K(ce)||T(ce,Z)||x(ce,Z)||j()}function K(ce){if(Array.isArray(ce))return ce}function T(ce,Z){var re=ce==null?null:typeof Symbol<"u"&&ce[Symbol.iterator]||ce["@@iterator"];if(re!=null){var be=[],Re=!0,Ot=!1,Pn,Xr;try{for(re=re.call(ce);!(Re=(Pn=re.next()).done)&&(be.push(Pn.value),!(Z&&be.length===Z));Re=!0);}catch(xr){Ot=!0,Xr=xr}finally{try{!Re&&re.return!=null&&re.return()}finally{if(Ot)throw Xr}}return be}}function x(ce,Z){if(ce){if(typeof ce=="string")return N(ce,Z);var re=Object.prototype.toString.call(ce).slice(8,-1);if(re==="Object"&&ce.constructor&&(re=ce.constructor.name),re==="Map"||re==="Set")return Array.from(ce);if(re==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(re))return N(ce,Z)}}function N(ce,Z){(Z==null||Z>ce.length)&&(Z=ce.length);for(var re=0,be=new Array(Z);re<Z;re++)be[re]=ce[re];return be}function j(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var P={Mobile:"mobile",Tablet:"tablet",SmartTv:"smarttv",Console:"console",Wearable:"wearable",Embedded:"embedded",Browser:void 0},H={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",EdgeChromium:"Edge Chromium",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},M={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},G={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},J=function(Z){switch(Z){case P.Mobile:return{isMobile:!0};case P.Tablet:return{isTablet:!0};case P.SmartTv:return{isSmartTV:!0};case P.Console:return{isConsole:!0};case P.Wearable:return{isWearable:!0};case P.Browser:return{isBrowser:!0};case P.Embedded:return{isEmbedded:!0};default:return G}},X=function(Z){return p(Z)},Q=function(Z){var re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none";return Z||re},ge=function(){return typeof window<"u"&&(window.navigator||navigator)?window.navigator||navigator:!1},we=function(Z){var re=ge();return re&&re.platform&&(re.platform.indexOf(Z)!==-1||re.platform==="MacIntel"&&re.maxTouchPoints>1&&!window.MSStream)},Te=function(Z,re,be,Re,Ot){return{isBrowser:Z,browserMajorVersion:Q(re.major),browserFullVersion:Q(re.version),browserName:Q(re.name),engineName:Q(be.name),engineVersion:Q(be.version),osName:Q(Re.name),osVersion:Q(Re.version),userAgent:Q(Ot)}},Ee=function(Z,re,be,Re){return v({},Z,{vendor:Q(re.vendor),model:Q(re.model),os:Q(be.name),osVersion:Q(be.version),ua:Q(Re)})},Pe=function(Z,re,be,Re){return{isSmartTV:Z,engineName:Q(re.name),engineVersion:Q(re.version),osName:Q(be.name),osVersion:Q(be.version),userAgent:Q(Re)}},qe=function(Z,re,be,Re){return{isConsole:Z,engineName:Q(re.name),engineVersion:Q(re.version),osName:Q(be.name),osVersion:Q(be.version),userAgent:Q(Re)}},rt=function(Z,re,be,Re){return{isWearable:Z,engineName:Q(re.name),engineVersion:Q(re.version),osName:Q(be.name),osVersion:Q(be.version),userAgent:Q(Re)}},ye=function(Z,re,be,Re,Ot){return{isEmbedded:Z,vendor:Q(re.vendor),model:Q(re.model),engineName:Q(be.name),engineVersion:Q(be.version),osName:Q(Re.name),osVersion:Q(Re.version),userAgent:Q(Ot)}};function Tt(ce){var Z=ce?m(ce):g,re=Z.device,be=Z.browser,Re=Z.engine,Ot=Z.os,Pn=Z.ua,Xr=J(re.type),xr=Xr.isBrowser,nc=Xr.isMobile,Uf=Xr.isTablet,El=Xr.isSmartTV,zb=Xr.isConsole,Bf=Xr.isWearable,Lf=Xr.isEmbedded;if(xr)return Te(xr,be,Re,Ot,Pn);if(El)return Pe(El,Re,Ot,Pn);if(zb)return qe(zb,Re,Ot,Pn);if(nc||Uf)return Ee(Xr,re,Ot,Pn);if(Bf)return rt(Bf,Re,Ot,Pn);if(Lf)return ye(Lf,re,Re,Ot,Pn)}var Kt=function(Z){var re=Z.type;return re===P.Mobile},wt=function(Z){var re=Z.type;return re===P.Tablet},yi=function(Z){var re=Z.type;return re===P.Mobile||re===P.Tablet},Ht=function(Z){var re=Z.type;return re===P.SmartTv},Le=function(Z){var re=Z.type;return re===P.Browser},He=function(Z){var re=Z.type;return re===P.Wearable},mi=function(Z){var re=Z.type;return re===P.Console},gi=function(Z){var re=Z.type;return re===P.Embedded},dt=function(Z){var re=Z.vendor;return Q(re)},_n=function(Z){var re=Z.model;return Q(re)},Oa=function(Z){var re=Z.type;return Q(re,"browser")},ms=function(Z){var re=Z.name;return re===M.Android},zi=function(Z){var re=Z.name;return re===M.Windows},mn=function(Z){var re=Z.name;return re===M.MAC_OS},$r=function(Z){var re=Z.name;return re===M.WindowsPhone},Yr=function(Z){var re=Z.name;return re===M.IOS},It=function(Z){var re=Z.version;return Q(re)},it=function(Z){var re=Z.name;return Q(re)},ct=function(Z){var re=Z.name;return re===H.Chrome},ht=function(Z){var re=Z.name;return re===H.Firefox},On=function(Z){var re=Z.name;return re===H.Chromium},Xt=function(Z){var re=Z.name;return re===H.Edge},$t=function(Z){var re=Z.name;return re===H.Yandex},Ke=function(Z){var re=Z.name;return re===H.Safari||re===H.MobileSafari},Pr=function(Z){var re=Z.name;return re===H.MobileSafari},Zr=function(Z){var re=Z.name;return re===H.Opera},Fi=function(Z){var re=Z.name;return re===H.InternetExplorer||re===H.Ie},vt=function(Z){var re=Z.name;return re===H.MIUI},gs=function(Z){var re=Z.name;return re===H.SamsungBrowser},ec=function(Z){var re=Z.version;return Q(re)},uo=function(Z){var re=Z.major;return Q(re)},Hu=function(Z){var re=Z.name;return Q(re)},Gu=function(Z){var re=Z.name;return Q(re)},U=function(Z){var re=Z.version;return Q(re)},W=function(){var Z=ge(),re=Z&&Z.userAgent&&Z.userAgent.toLowerCase();return typeof re=="string"?/electron/.test(re):!1},te=function(Z){return typeof Z=="string"&&Z.indexOf("Edg/")!==-1},ee=function(){var Z=ge();return Z&&(/iPad|iPhone|iPod/.test(Z.platform)||Z.platform==="MacIntel"&&Z.maxTouchPoints>1)&&!window.MSStream},ae=function(){return we("iPad")},le=function(){return we("iPhone")},Ce=function(){return we("iPod")},Ne=function(Z){return Q(Z)};function Xe(ce){var Z=ce||g,re=Z.device,be=Z.browser,Re=Z.os,Ot=Z.engine,Pn=Z.ua;return{isSmartTV:Ht(re),isConsole:mi(re),isWearable:He(re),isEmbedded:gi(re),isMobileSafari:Pr(be)||ae(),isChromium:On(be),isMobile:yi(re)||ae(),isMobileOnly:Kt(re),isTablet:wt(re)||ae(),isBrowser:Le(re),isDesktop:Le(re),isAndroid:ms(Re),isWinPhone:$r(Re),isIOS:Yr(Re)||ae(),isChrome:ct(be),isFirefox:ht(be),isSafari:Ke(be),isOpera:Zr(be),isIE:Fi(be),osVersion:It(Re),osName:it(Re),fullBrowserVersion:ec(be),browserVersion:uo(be),browserName:Hu(be),mobileVendor:dt(re),mobileModel:_n(re),engineName:Gu(Ot),engineVersion:U(Ot),getUA:Ne(Pn),isEdge:Xt(be)||te(Pn),isYandex:$t(be),deviceType:Oa(re),isIOS13:ee(),isIPad13:ae(),isIPhone13:le(),isIPod13:Ce(),isElectron:W(),isEdgeChromium:te(Pn),isLegacyEdge:Xt(be)&&!te(Pn),isWindows:zi(Re),isMacOs:mn(Re),isMIUI:vt(be),isSamsungBrowser:gs(be)}}var yt=Ht(c),Mt=mi(c),mt=He(c),Ct=gi(c),Je=Pr(s)||ae(),sn=On(s),an=yi(c)||ae(),cr=Kt(c),Sr=wt(c)||ae(),Yn=Le(c),un=Le(c),Zn=ms(d),Xn=$r(d),Vs=Yr(d)||ae(),ka=ct(s),lt=ht(s),En=Ke(s),_t=Zr(s),dn=Fi(s),Dr=It(d),tc=it(d),Ra=ec(s),Nf=uo(s),ny=Hu(s),$f=dt(c),Pf=_n(c),Na=Gu(u),qi=U(u),Nb=Ne(h),QE=Xt(s)||te(h),ry=$t(s),$b=Oa(c),Df=ee(),e2=ae(),Wi=le(),iy=Ce(),Pb=W(),sy=te(h),bl=Xt(s)&&!te(h),Db=zi(d),Mb=mn(d),wl=vt(s),t2=gs(s),Ub=function(Z){if(!Z||typeof Z!="string"){console.error("No valid user agent string was provided");return}var re=m(Z),be=re.device,Re=re.browser,Ot=re.os,Pn=re.engine,Xr=re.ua;return Xe({device:be,browser:Re,os:Ot,engine:Pn,ua:Xr})},Bb=function(Z){var re=Z.renderWithFragment,be=Z.children,Re=B(Z,["renderWithFragment","children"]);return Zn?re?n.createElement(e.Fragment,null,be):n.createElement("div",Re,be):null},ay=function(Z){var re=Z.renderWithFragment,be=Z.children,Re=B(Z,["renderWithFragment","children"]);return Yn?re?n.createElement(e.Fragment,null,be):n.createElement("div",Re,be):null},n2=function(Z){var re=Z.renderWithFragment,be=Z.children,Re=B(Z,["renderWithFragment","children"]);return dn?re?n.createElement(e.Fragment,null,be):n.createElement("div",Re,be):null},r2=function(Z){var re=Z.renderWithFragment,be=Z.children,Re=B(Z,["renderWithFragment","children"]);return Vs?re?n.createElement(e.Fragment,null,be):n.createElement("div",Re,be):null},Mf=function(Z){var re=Z.renderWithFragment,be=Z.children,Re=B(Z,["renderWithFragment","children"]);return an?re?n.createElement(e.Fragment,null,be):n.createElement("div",Re,be):null},$a=function(Z){var re=Z.renderWithFragment,be=Z.children,Re=B(Z,["renderWithFragment","children"]);return Sr?re?n.createElement(e.Fragment,null,be):n.createElement("div",Re,be):null},oy=function(Z){var re=Z.renderWithFragment,be=Z.children,Re=B(Z,["renderWithFragment","children"]);return Xn?re?n.createElement(e.Fragment,null,be):n.createElement("div",Re,be):null},cy=function(Z){var re=Z.renderWithFragment,be=Z.children;Z.viewClassName,Z.style;var Re=B(Z,["renderWithFragment","children","viewClassName","style"]);return cr?re?n.createElement(e.Fragment,null,be):n.createElement("div",Re,be):null},vl=function(Z){var re=Z.renderWithFragment,be=Z.children,Re=B(Z,["renderWithFragment","children"]);return yt?re?n.createElement(e.Fragment,null,be):n.createElement("div",Re,be):null},_l=function(Z){var re=Z.renderWithFragment,be=Z.children,Re=B(Z,["renderWithFragment","children"]);return Mt?re?n.createElement(e.Fragment,null,be):n.createElement("div",Re,be):null},Lb=function(Z){var re=Z.renderWithFragment,be=Z.children,Re=B(Z,["renderWithFragment","children"]);return mt?re?n.createElement(e.Fragment,null,be):n.createElement("div",Re,be):null},ly=function(Z){var re=Z.renderWithFragment,be=Z.children;Z.viewClassName,Z.style;var Re=Z.condition,Ot=B(Z,["renderWithFragment","children","viewClassName","style","condition"]);return Re?re?n.createElement(e.Fragment,null,be):n.createElement("div",Ot,be):null};function jb(ce){return(function(Z){I(re,Z);function re(be){var Re;return O(this,re),Re=D(this,$(re).call(this,be)),Re.isEventListenerAdded=!1,Re.handleOrientationChange=Re.handleOrientationChange.bind(V(Re)),Re.onOrientationChange=Re.onOrientationChange.bind(V(Re)),Re.onPageLoad=Re.onPageLoad.bind(V(Re)),Re.state={isLandscape:!1,isPortrait:!1},Re}return S(re,[{key:"handleOrientationChange",value:function(){this.isEventListenerAdded||(this.isEventListenerAdded=!0);var Re=window.innerWidth>window.innerHeight?90:0;this.setState({isPortrait:Re===0,isLandscape:Re===90})}},{key:"onOrientationChange",value:function(){this.handleOrientationChange()}},{key:"onPageLoad",value:function(){this.handleOrientationChange()}},{key:"componentDidMount",value:function(){(typeof window>"u"?"undefined":E(window))!==void 0&&an&&(this.isEventListenerAdded?window.removeEventListener("load",this.onPageLoad,!1):(this.handleOrientationChange(),window.addEventListener("load",this.onPageLoad,!1)),window.addEventListener("resize",this.onOrientationChange,!1))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onOrientationChange,!1)}},{key:"render",value:function(){return n.createElement(ce,C({},this.props,{isLandscape:this.state.isLandscape,isPortrait:this.state.isPortrait}))}}]),re})(n.Component)}function Ku(){var ce=e.useState(function(){var Ot=window.innerWidth>window.innerHeight?90:0;return{isPortrait:Ot===0,isLandscape:Ot===90,orientation:Ot===0?"portrait":"landscape"}}),Z=F(ce,2),re=Z[0],be=Z[1],Re=e.useCallback(function(){var Ot=window.innerWidth>window.innerHeight?90:0,Pn={isPortrait:Ot===0,isLandscape:Ot===90,orientation:Ot===0?"portrait":"landscape"};re.orientation!==Pn.orientation&&be(Pn)},[re.orientation]);return e.useEffect(function(){return(typeof window>"u"?"undefined":E(window))!==void 0&&an&&(Re(),window.addEventListener("load",Re,!1),window.addEventListener("resize",Re,!1)),function(){window.removeEventListener("resize",Re,!1),window.removeEventListener("load",Re,!1)}},[Re]),re}function Hs(ce){var Z=ce||window.navigator.userAgent;return m(Z)}function uy(ce){var Z=ce||window.navigator.userAgent,re=Hs(Z),be=Xe(re);return[be,re]}return Ge.AndroidView=Bb,Ge.BrowserTypes=H,Ge.BrowserView=ay,Ge.ConsoleView=_l,Ge.CustomView=ly,Ge.IEView=n2,Ge.IOSView=r2,Ge.MobileOnlyView=cy,Ge.MobileView=Mf,Ge.OsTypes=M,Ge.SmartTVView=vl,Ge.TabletView=$a,Ge.WearableView=Lb,Ge.WinPhoneView=oy,Ge.browserName=ny,Ge.browserVersion=Nf,Ge.deviceDetect=Tt,Ge.deviceType=$b,Ge.engineName=Na,Ge.engineVersion=qi,Ge.fullBrowserVersion=Ra,Ge.getSelectorsByUserAgent=Ub,Ge.getUA=Nb,Ge.isAndroid=Zn,Ge.isBrowser=Yn,Ge.isChrome=ka,Ge.isChromium=sn,Ge.isConsole=Mt,Ge.isDesktop=un,Ge.isEdge=QE,Ge.isEdgeChromium=sy,Ge.isElectron=Pb,Ge.isEmbedded=Ct,Ge.isFirefox=lt,Ge.isIE=dn,Ge.isIOS=Vs,Ge.isIOS13=Df,Ge.isIPad13=e2,Ge.isIPhone13=Wi,Ge.isIPod13=iy,Ge.isLegacyEdge=bl,Ge.isMIUI=wl,Ge.isMacOs=Mb,Ge.isMobile=an,Ge.isMobileOnly=cr,Ge.isMobileSafari=Je,Ge.isOpera=_t,Ge.isSafari=En,Ge.isSamsungBrowser=t2,Ge.isSmartTV=yt,Ge.isTablet=Sr,Ge.isWearable=mt,Ge.isWinPhone=Xn,Ge.isWindows=Db,Ge.isYandex=ry,Ge.mobileModel=Pf,Ge.mobileVendor=$f,Ge.osName=tc,Ge.osVersion=Dr,Ge.parseUserAgent=m,Ge.setUserAgent=X,Ge.useDeviceData=Hs,Ge.useDeviceSelectors=uy,Ge.useMobileOrientation=Ku,Ge.withOrientationChange=jb,Ge}var Vo=kue();let Rue=class extends zn{constructor(){super("Wallet timeout"),this.type="wallet_error"}};const zu=t=>t instanceof zn?t:t?.code?new To(t):new zn("Unknown connector error",t);let Nue=class extends ju{constructor(e,n,r){super(e),this.type="provider_error",this.code=n,this.data=r}},To=class extends Nue{constructor(e){super(e.message,e.code,e.data);let n=Object.values(Dh).find((r=>r.eipCode===e.code));this.details=n||Dh.UNKNOWN_ERROR,e.code===-32002&&(e.message?.includes("already pending for origin")?e.message?.includes("wallet_requestPermissions")?this.details=Dh.E32002_CONNECTION_ALREADY_PENDING:this.details=Dh.E32002_REQUEST_ALREADY_PENDING:e.message?.includes("Already processing")&&e.message.includes("eth_requestAccounts")&&(this.details=Dh.E32002_WALLET_LOCKED))}};const l7e={ERROR_USER_EXISTS:{message:"User already exists for this address",detail:"Try another address!",retryable:!1},ERROR_TIMED_OUT:{message:"Wallet request timed out",detail:"Please try connecting again.",retryable:!0},ERROR_WALLET_CONNECTION:{message:"Could not log in with wallet",detail:"Please try connecting again.",retryable:!0},ERROR_USER_LIMIT_REACHED:{message:"Unable to link",detail:"You've reached the maximum number of linked wallets.",retryable:!1},...Dh};let Sz=class{get(e){let n=localStorage.getItem(e);return n===null?void 0:JSON.parse(n)}put(e,n){n!==void 0?localStorage.setItem(e,JSON.stringify(n)):this.del(e)}del(e){localStorage.removeItem(e)}getKeys(){return Object.entries(localStorage).map((([e])=>e))}};function a5(){try{let t="privy:__session_storage__test",e=new Sz;return e.put(t,"blobby"),e.del(t),!0}catch{return!1}}var nt=typeof window<"u"&&window.localStorage?new Sz:new class{get(t){return this._cache[t]}put(t,e){e!==void 0?this._cache[t]=e:this.del(t)}del(t){delete this._cache[t]}getKeys(){return Object.keys(this._cache)}constructor(){this._cache={}}};let xz=class extends Lu{constructor(e){super(),this.walletClientType=e,this.connected=!1,this.initialized=!1}};const Gv=()=>{let t=nt.get(Dj);return t&&Array.isArray(t)&&t.map((e=>(n=>n&&typeof n.address=="string"&&typeof n.connectorType=="string"&&typeof n.walletClientType=="string"&&typeof n.connectedAt=="number")(e))).every(Boolean)?t:[]};let $ue=["phantom","glow","solflare","backpack","okx_wallet","walletconnect","mobile_wallet_adapter","jupiter"];function Pue(t){return t.toLowerCase().split(" ").join("_")}let Kv=class extends xz{get isInstalled(){return!0}get wallet(){return this._wallet}buildConnectedWallet(){return this._wallet.accounts.map((e=>({type:"solana",provider:new Rj({wallet:this._wallet,account:e}),address:e.address,connectedAt:Date.now(),walletClientType:this._wallet.name,connectorType:this.connectorType,imported:!1,meta:{name:this._wallet.name,id:this._wallet.name,icon:this._wallet.icon},isConnected:async()=>this._wallet.accounts.length>0,disconnect:async()=>{await this.disconnect()}})))}async syncAccounts(){this.wallets=this.buildConnectedWallet(),this.emit("walletsUpdated")}get walletBranding(){return{id:A$(this.wallet)?"walletconnect_solana":this.wallet.name,name:this.wallet.name,icon:this.wallet.icon}}async initialize(){this.subscribeListeners(),await this.syncAccounts(),this.shouldAttemptAutoConnect()&&(await this.wallet.features["standard:connect"]?.connect({silent:!0}).catch((()=>{})),await this.isConnected()&&await this.syncAccounts()),this.initialized=!0,this.emit("initialized")}async connect(e){if(e.showPrompt)try{await this.promptConnection()}catch(n){throw this._wallet.accounts.length===0?new s$:n}if(!await this.isConnected())throw new s$;return await this.syncAccounts(),this.getConnectedWallet()}async getConnectedWallet(){return this.wallets.sort(((e,n)=>n.connectedAt-e.connectedAt))[0]||null}async isConnected(){return this._wallet.accounts.length>0}subscribeListeners(){this._unsubscribeListeners=this.wallet.features["standard:events"]?.on("change",this.onChange)}unsubscribeListeners(){this._unsubscribeListeners?.()}shouldAttemptAutoConnect(){return!(!this.autoConnectEnabled||!$ue.includes(this.walletClientType))&&(this.walletClientType!=="phantom"&&this.walletClientType.toLowerCase()!=="metamask"||Gv().some((({walletClientType:e})=>e==="phantom"||e.toLowerCase()==="metamask")))}constructor(e,n){super(Pue(A$(e)?"walletconnect_solana":e.name)),this.chainType="solana",this.connectorType="solana_adapter",this.disconnect=async()=>{await this.wallet.features["standard:disconnect"]?.disconnect().catch((r=>console.error("Error disconnecting",r))),await this.syncAccounts()},this.promptConnection=async()=>{try{await this.wallet.features["standard:connect"]?.connect()}catch(r){throw zu(r)}},this.onChange=()=>{this.syncAccounts()},this._wallet=e,this.autoConnectEnabled=n,this.wallets=[]}};function A$(t){return"isWalletConnectSolana"in t&&t.isWalletConnectSolana}const h7e=({style:t,...e})=>{let n=Ta();return he.jsxs("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"28px",width:"28px",...t},...e,children:[he.jsx("rect",{width:"28",height:"28",rx:"3",fill:n?.appearance.palette.colorScheme==="dark"?"#3396ff":"#141414"}),he.jsx("g",{clipPath:"url(#clip0_1765_9946)",children:he.jsx("path",{d:"M8.09448 10.3941C11.3558 7.20196 16.6442 7.20196 19.9055 10.3941L20.2982 10.7782C20.3369 10.8157 20.3677 10.8606 20.3887 10.9102C20.4097 10.9599 20.4206 11.0132 20.4206 11.0671C20.4206 11.121 20.4097 11.1744 20.3887 11.224C20.3677 11.2737 20.3369 11.3186 20.2982 11.3561L18.9554 12.6702C18.9158 12.7086 18.8628 12.7301 18.8077 12.7301C18.7526 12.7301 18.6996 12.7086 18.66 12.6702L18.1198 12.1415C15.8448 9.91503 12.1557 9.91503 9.88015 12.1415L9.30167 12.7075C9.26207 12.7459 9.20909 12.7673 9.15395 12.7673C9.0988 12.7673 9.04582 12.7459 9.00622 12.7075L7.66346 11.3934C7.62475 11.3559 7.59397 11.3109 7.57295 11.2613C7.55193 11.2117 7.5411 11.1583 7.5411 11.1044C7.5411 11.0505 7.55193 10.9971 7.57295 10.9475C7.59397 10.8979 7.62475 10.8529 7.66346 10.8154L8.09448 10.3941ZM22.6829 13.1115L23.8776 14.2814C23.9163 14.319 23.9471 14.3639 23.9681 14.4135C23.9892 14.4632 24 14.5165 24 14.5704C24 14.6243 23.9892 14.6777 23.9681 14.7273C23.9471 14.777 23.9163 14.8219 23.8776 14.8594L18.4893 20.1332C18.4102 20.2101 18.3042 20.2531 18.1938 20.2531C18.0835 20.2531 17.9775 20.2101 17.8984 20.1332L14.0743 16.3901C14.0545 16.3708 14.0279 16.36 14.0003 16.36C13.9726 16.36 13.9461 16.3708 13.9263 16.3901L10.1021 20.1332C10.023 20.2101 9.91703 20.2531 9.8067 20.2531C9.69636 20.2531 9.59038 20.2101 9.51124 20.1332L4.12236 14.8594C4.08365 14.8219 4.05287 14.777 4.03185 14.7273C4.01083 14.6777 4 14.6243 4 14.5704C4 14.5165 4.01083 14.4632 4.03185 14.4135C4.05287 14.3639 4.08365 14.319 4.12236 14.2814L5.31767 13.1115C5.39678 13.0348 5.50265 12.9919 5.61285 12.9919C5.72305 12.9919 5.82892 13.0348 5.90803 13.1115L9.73216 16.8546C9.75194 16.874 9.7785 16.8848 9.80616 16.8848C9.83381 16.8848 9.86037 16.874 9.88015 16.8546L13.7043 13.1115C13.7834 13.0346 13.8894 12.9916 13.9997 12.9916C14.1101 12.9916 14.216 13.0346 14.2952 13.1115L18.1198 16.8546C18.1396 16.874 18.1662 16.8848 18.1938 16.8848C18.2215 16.8848 18.2481 16.874 18.2678 16.8546L22.092 13.1115C22.1711 13.0346 22.2771 12.9916 22.3874 12.9916C22.4977 12.9916 22.6037 13.0346 22.6829 13.1115Z",fill:"white"})}),he.jsx("defs",{children:he.jsx("clipPath",{id:"clip0_1765_9946",children:he.jsx("rect",{width:"20",height:"12.2531",fill:"white",transform:"translate(4 8)"})})})]})},Tz="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAHdElNRQfoDAIVODUC+w+GAAAGsUlEQVRYw6WXbYwWVxXHf+fOLAtCXYS2QJdIaClipGCTknXXNqBQMVHbfmhItH4Aral+IAEaG03UxJgYKQJGTUxtDWjaxDSNtcZqIGDwpRuW1oYiVqpdpZSlpC3qysu+PHPP3w/3mXnmeXZbPzjJZO7cefn/z/mfe865xlscq3dGDIguGiHLaMQVLja4s87FShcLo5jtApdddnHexUmHIy475JmdUkPRAQMu7gzT4ljnxJpdk0QPmMFkyAKN2OfOFpc2uuh1J3MZDrjAvXmVEQUuoosRxw642FcEG7IoDxiFxNiu8NYE+vcUYIFYRKKs113bXWx2Z34CoQZsVHOiCZ7mopdzdsFhv8NexEgRDHMxUSNREbh1bwNZwBsFblmfu/a4a6AEENYO5i3AOoEWeEUCF4MOOxBDMQAOk99OJALA2u80sBCwWGBZWG/yRwMaCAbBIAsQTJT3gea1OWfNeaPzvjoHEI85rA8ObtB1v7cIdJkIHgkh9AXpocy0LJjIKvB2wPpZB0v3wkrw5jdNEjeYeMhFX3BAyfn2ke9NUrgB9LrrcZcGJFCld4fWNddXbvbWfWzGR6xJFZsBGh0cBh3bBIxIEGTQ3W0h4NuDaSAzyAxCmGq11Vzf5uaa1aG8p+WFtrEYQGwvjICJkAEqvC+YNmcmMlMNvEaCdrcbyUvQAWDTjVuESHObM6cPGWHmzDwLaEtmzG9Z3qF1zUpXmuuZBb1z4bqeNC6f0WE1NtUTwHzEloiy3BvFisy0sYoLlQtT6XW15md2Qf9SY+2Ngfdca/TMSm/9ewz+/Boc/It45h/i4kSTsKw90SQJsPTvjSZbkWemDW7qTRZ0JEYJWSKxZJ7xmf6M224MzMzbX1s8F1YugjtvMg6eErt/4/z1jUrz1rXUKxnZC2zIg2mdBTK1mFUOKC1fOt/48kdzVixIz86Nij+eEacvpJWyZJ5xy7th8VzjjpuMJfMCW58QL73ekXPVlhsyE+vyzFiplJyauEIyrGIquruMq7qTxk+dcB495rzyTzFepCUWLIFv/kBg081Gd55WUk1IDGFTS89K++TDYxddzKnWcbluHd450xgdh7EGrOo1rr868PMTzqWJRGZ2d8oB/xpL33Xnxl2rjeNn4blXRXduzJ4B5y+28kWscAwXl+yeR654FFZPHoUb710YuPeDOUdPO48di1xptKpeEeHqOcYXNwQKGd88EDk3mqxtxPSfGRlsXRtYt8z4ytPOH/7eqpg1Aso7fYKgK4NPrMpYvsC4/poMA34yVJIQC3sCD9yecdsNyaV5yPj6ryJnR1PAvSNP4J+/1cgDfLbfePaMGGtM7Qdyl12WmKOmXgKKAp54vmBRTxfLrjE+tSYjBPjRM5FrrzIeuD2jf2lLzw8vN4JlfPVp581LsO1DgXv7jSzAiXPw/d+JiYLpjsu26Yfjf5O0rF5WoxsNT9G/bX0XKxakmPjlSee6HlizJJXSX7/oRDc+vjKR+f2wODcKd78/gR8/C9uedF44myJxmhh4OY/ipMQyqaWxmjn95TfEroMFOzbkvG+RceeqViPx1Aln1yEnOow1AnffHCpJAJ5/Vex4UvzptZRdY/O/1dJIS/NkcNmR6MTYah6qzseA4TfFtw4UvHBW1bc/O+7sPhwZHYf/jMODh5yfPudVbXj2TAJ/8XxrOZagNamj4Ei2/GNfuyRxh8t6BG2l15up+MIVODEiFr8rcPS0+O6RBF6mrrEGHHtFzOo2Lo7Dl37hvPQ6mNV6R9JYKgnYWcE37K5HlE2OT/5A0udaPUBHH+BQOMzuNsYLuDyZflTW+fTcmJFDHhJhaZqewMuewXDxcDR9IYyPN6Jj+6K4MF2vV8qBtZJScqVRNi6lpGONVJis5mpKi1WbgwsY+zIsBpcR8mzIZfuTRVZrtdu9odrptR/Xx5XONXJqBmCN0P6YMUQq9WJiwt0Je102WHdbpxSqydMObBWYdwDWLVcqcIMYe3NPjg0Ht84od0Ajju1w2XCr9e6QoqM9V23ZtnmI6cfAMMb9AY0YEHdb6oobEh4y3H3Ize6LsmGvN5IdUnhttdQ9UVrfLk/ljWEZ9wXsqAdQk1EA+O22GcgdZTke/bAs3OPY4HSdcB20HhvVtTMu0jmI8ekAhz2IICj2hKpNqI60NcuIRUHEej1quzubXa2tmZhenrfZmv3YYQ9ipDAIgvHptmblccuDjdRcmjFpWbDi/9ycZjZkRbk5jYztai/AUwiUx+qdEQB/m+25i9lxyvbcjrg45Lmd0uT/3p7/Fw6ODf+WO019AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDI0LTEyLTAyVDIxOjU2OjQ4KzAwOjAwMVpslgAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyNC0xMi0wMlQyMTo1Njo0OCswMDowMEAH1CoAAAAodEVYdGRhdGU6dGltZXN0YW1wADIwMjQtMTItMDJUMjE6NTY6NTMrMDA6MDDZv6GRAAAAAElFTkSuQmCC";function lE(t){return["ethereum","solana"].includes(t.chainType)}function Iz(t){let e=t.replace("eip155:","");if(e)return parseInt(e);throw Error("Chain ID not compatible with CAIP-2 format.")}const nC=t=>t.filter((e=>e.method==="wallets"||(e.method==="exchange"?e.provider==="coinbase":e.method==="card"||e.method==="payment-request"?e.provider==="coinbase"||e.provider==="moonpay":(e.method,!1)))),S$={[Bp.id]:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",[SB.id]:"0x1c7D4B196Cb0C7B01d743Fbc6116a902379C7238",[G3.id]:"0x0b2c639c533813f4aa9d7837caf62653d097ff85",[EB.id]:"0x5fd84259d66Cd46123540766Be93DFE6D43130D7",[B0.id]:"0x3c499c542cef5e3811e1192ce70d8cc03d5c3359",[AB.id]:"0x41e94eb019c0762f9bfcf9fb1e58725bfb0e7582",[U0.id]:"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",[_B.id]:"0x036CbD53842c5426634e7929541eC2318f3dCF7e",[M0.id]:"0xB97EF9Ef8734C71904D8002F8b6Bc66Dd9c48a6E",[vB.id]:"0x5425890298aed601595a70ab815c96711a31bc65",[D0.id]:"0xaf88d065e77c8cC2239327C5EDb3A432268e5831",[wB.id]:"0x75faf114eafb1BDbe2F0316DF893fd58CE46AA4d"},x$=({address:t,appConfig:e,fundWalletConfig:n,methodScreen:r,chainIdOverride:i,comingFromSendTransactionScreen:s=!1,onComplete:a,onError:c})=>{let u,d;if(!e.fundingConfig)throw Error("Wallet funding is not enabled");let h=nC(e.fundingConfig.options);if(h.length<1)throw Error("Wallet funding is not enabled");u=i||(n?.chain?n.chain.id:Iz(e.fundingConfig.defaultRecommendedCurrency.chain));let p=e.chains.find((E=>E.id===u));if(!p)throw new se(`Funding chain ${u} is not in PrivyProvider chains list`);let m=n?.amount??e.fundingConfig.defaultRecommendedAmount,g=!1;function b(){if(!u)return;let E=S$[u];h.find((O=>O.method==="wallets"))&&!E&&console.warn("Attempting to fund with USDC on chain where USDC address is not known. Funding via external wallet will be disabled."),d=E,g=!0}n&&"asset"in n?n.asset==="USDC"?b():typeof n.asset!="string"&&"erc20"in n.asset&&(g=((E,O)=>E===S$[O.id])(d=n.asset.erc20,p)):e.fundingConfig.defaultRecommendedCurrency.asset==="USDC"&&b();let v=n?.defaultFundingMethod;return{chainType:"ethereum",address:t,amount:m,chain:p,erc20Address:d,erc20ContractInfo:g?{symbol:"USDC",decimals:6}:void 0,isUSDC:g,methodScreen:r,supportedOptions:h,comingFromSendTransactionScreen:s,defaultFundingMethod:v,usingDefaultFundingMethod:!!v,preferredCardProvider:n?.card?.preferredProvider,crossChainBridgingEnabled:e.fundingConfig.crossChainBridgingEnabled??!1,solanaChain:"solana:mainnet",uiConfig:n&&"uiConfig"in n?n.uiConfig:void 0,externalSolanaFundingScreen:null,onComplete:a??(()=>{}),onError:c??(()=>{})}};function Due({address:t,fundWalletConfig:e,appConfig:n,comingFromSendTransactionScreen:r,externalSolanaFundingScreen:i,methodScreen:s}){if(!n.fundingConfig)throw Error("Wallet funding is not enabled");let a=nC(n.fundingConfig.options);if(a.length<1)throw Error("Wallet funding is not enabled");let c=e?.amount??n.fundingConfig.defaultRecommendedAmount,u=e?.defaultFundingMethod;return{chainType:"solana",address:t,supportedOptions:a,amount:c,isUSDC:e?.asset==="USDC",methodScreen:s,comingFromSendTransactionScreen:r,chain:e?.chain||"solana:mainnet",crossChainBridgingEnabled:n.fundingConfig.crossChainBridgingEnabled??!1,defaultFundingMethod:u,preferredCardProvider:e?.card?.preferredProvider,usingDefaultFundingMethod:!!u,uiConfig:e?.uiConfig,externalSolanaFundingScreen:i,onComplete:()=>{},onError:()=>{}}}const Mue={login:{onComplete:[],onError:[]},logout:{onSuccess:[]},connectWallet:{onSuccess:[],onError:[]},connectOrCreateWallet:{onSuccess:[],onError:[]},createWallet:{onSuccess:[],onError:[]},linkAccount:{onSuccess:[],onError:[]},update:{onSuccess:[],onError:[]},configureMfa:{onMfaRequired:[]},setWalletPassword:{onSuccess:[],onError:[]},setWalletRecovery:{onSuccess:[],onError:[]},signMessage:{onSuccess:[],onError:[]},signTypedData:{onSuccess:[],onError:[]},sendTransaction:{onSuccess:[],onError:[]},signTransaction:{onSuccess:[],onError:[]},accessToken:{onAccessTokenGranted:[],onAccessTokenRemoved:[]},oAuthAuthorization:{onOAuthTokenGrant:[]},fundWallet:{onUserExited:[]},fundSolanaWallet:{onUserExited:[]},customAuth:{onAuthenticated:[],onUnauthenticated:[]}},Cz=Y.createContext(void 0);let Oz=()=>Y.useContext(Cz);function uE(t,e){if(!e)return;let n=Oz().current[t];return Y.useEffect((()=>{for(let[r,i]of Object.entries(e))Object.prototype.hasOwnProperty.call(n,r)||console.warn(`Invalid event type "${r}" for action "${t}"`),n[r]?.push(i);return()=>{for(let[r,i]of Object.entries(e))Object.prototype.hasOwnProperty.call(n,r)||console.warn(`Invalid event type "${r}" for action "${t}"`),n[r]=n[r]?.filter((s=>s!==i))}}),[e])}function Oe(t,e,n,...r){for(let i of t.current[e][n])i(...r)}function dE(){let t=Oz();return(e,n,...r)=>Oe(t,e,n,...r)}const W1=(t,e,n,r)=>{let i=Number(t),s=e.find((a=>a.id===i));if(!s)throw new zn(`Unsupported chainId ${t}`,4901);return FI({transport:Q_(kz(s,n,r.appId)),chain:s})},kz=(t,e,n)=>{let r,i=t.id,s=Number(t.id);if(t.rpcUrls.privyWalletOverride&&t.rpcUrls.privyWalletOverride.http[0])r=t.rpcUrls.privyWalletOverride.http[0];else if(e.rpcUrls&&e.rpcUrls[s])r=e.rpcUrls[s];else if(t.rpcUrls.privy?.http[0]){let a=new URL(t.rpcUrls.privy.http[0]);a.searchParams.append("privyAppId",n),r=a.toString()}else r=t.rpcUrls.public?.http[0]?t.rpcUrls.public.http[0]:t.rpcUrls.default?.http[0];if(!r)throw new zn(`No RPC url found for ${i}`);return r},V1=t=>{if(t.chainType==="ethereum")return{entropyId:t.address,entropyIdVerifier:"ethereum-address-verifier"};if(t.chainType==="solana")return{entropyId:t.address,entropyIdVerifier:"solana-address-verifier"};throw Error("Failed to get account entropy details")},Ka=(t,e)=>{if(e?.imported)return V1(e);let n=h0(t);if(!n)throw Error("Failed to find primary wallet");return V1(n)},Rz=Y.createContext(null);function rC(){let t=Y.useContext(Rz);return t===null?(console.warn("`useWallets` was called outside the PrivyProvider component"),{wallets:[],ready:!1}):t}const y0=Ef((()=>({listings:[],loading:!1}))),ex=y0.setState,Uue=t=>y0.getState().listings.find((({slug:e})=>H1(e)===H1(t))),tx=t=>{let e;try{e=new URL(t).hostname}catch{return}return y0.getState().listings.find((({homepage:n})=>{let r;try{r=new URL(n).hostname}catch{return!1}return e.includes(r)}))},Nz=(t=!0)=>{let e=Ta(),n=y0((s=>s.listings)),r=y0((s=>s.loading)),i=!!n.length;return Y.useEffect((()=>{t&&!i&&(ex({listings:[],loading:!0}),(async s=>{let a=new URL("v3/wallets","https://explorer-api.walletconnect.com");a.searchParams.append("projectId",s);let c=await fetch(a);return c.ok?Object.values((await c.json()).listings).sort((({slug:u},{slug:d})=>u==="rainbow"&&d==="metamask"?1:u==="metamask"||u==="rainbow"?-1:1)):(console.debug(`Failed to fetch WalletConnect listings: ${await c.text().catch((()=>"No response."))}`),[])})(e.walletConnectCloudProjectId).then((s=>ex({listings:s,loading:!1}))).catch((s=>{console.error(s),ex({listings:[],loading:!1})})))}),[t,i,e.walletConnectCloudProjectId]),{listings:n,loading:r}},p7e=t=>{let{listings:e}=Nz();return e.find((({slug:n})=>H1(n)===H1(t)))};function H1(t){return t==="cryptocom"?"cryptocom-defi":t==="binance"?"binance-defi":t.replace(/[-_]wallet$/,"")}function o5(t){return["wallet_connect","backpack","binance","binanceus","bitget_wallet","bybit_wallet","cryptocom","haha_wallet","jupiter","metamask","okx_wallet","phantom","rabby_wallet","rainbow","ronin_wallet","safe","solflare","uniswap","zerion","kraken_wallet"].some((e=>t?.includes(e)))}const $z=t=>t.isApexWallet?"Apex Wallet":t.isAvalanche?"Core Wallet":t.isBackpack?"Backpack":t.isBifrost?"Bifrost Wallet":t.isBitKeep?"BitKeep":t.isBitski?"Bitski":t.isBlockWallet?"BlockWallet":t.isBraveWallet?"Brave Wallet":t.isClover?"Clover":t.isCoin98?"Coin98 Wallet":t.isCoinbaseWallet?"Coinbase Wallet":t.isDawn?"Dawn Wallet":t.isDefiant?"Defiant":t.isDesig?"Desig Wallet":t.isEnkrypt?"Enkrypt":t.isExodus?"Exodus":t.isFordefi?"Fordefi":t.isFrame?"Frame":t.isFrontier?"Frontier Wallet":t.isGamestop?"GameStop Wallet":t.isHaqqWallet?"HAQQ Wallet":t.isHyperPay?"HyperPay Wallet":t.isImToken?"ImToken":t.isHaloWallet?"Halo Wallet":t.isKuCoinWallet?"KuCoin Wallet":t.isMathWallet?"MathWallet":t.isNovaWallet?"Nova Wallet":t.isOkxWallet||t.isOKExWallet?"OKX Wallet":t.isOneInchIOSWallet||t.isOneInchAndroidWallet?"1inch Wallet":t.isOneKey?"OneKey Wallet":t.isOpera?"Opera":t.isPhantom||"isPhantom"in t?"Phantom":t.isPortal?"Ripio Portal":t.isRabby?"Rabby Wallet":t.isRainbow?"Rainbow":t.isSafePal?"SafePal Wallet":t.isStatus?"Status":t.isSubWallet?"SubWallet":t.isTalisman?"Talisman":t.isTally||t.isTaho?"Taho":t.isTokenPocket?"TokenPocket":t.isTokenary?"Tokenary":t.isTrust||t.isTrustWallet?"Trust Wallet":t.isTTWallet?"TTWallet":t.isXDEFI?"XDEFI Wallet":t.isZeal?"Zeal":t.isZerion?"Zerion":t.isMetaMask?"MetaMask":void 0,Pz=(t,e)=>{if(!t.isMetaMask)return!1;if(t.isMetaMask&&!e)return!0;if(t.isBraveWallet&&!t._events&&!t._state||$z(t)!=="MetaMask")return!1;if(t.providers){for(let n of t.providers)if(!Pz(n))return!1}return!0},y7e=()=>{let t=window;if(!t.ethereum)return!1;if(t.ethereum.isCoinbaseWallet)return!0;if(t.ethereum.providers){for(let e of t.ethereum.providers)if(e&&e.isCoinbaseWallet)return!0}return!1},m7e=(t,e)=>{let n=[],r=[];for(let[i,s]of t.entries())i<e?n.push(s):r.push(s);return[n,r]},g7e=t=>!!String(t).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),b7e=(t,e)=>{let n=t.slice(0),r=[];for(;n.length;)r.push(n.splice(0,e));return r},Bue=(t,e=3,n=4,r="ethereum")=>{if(!t)return"";let i=r==="ethereum"?2:0;return e+n+i+3>=t.length?t:`${t.slice(0,i+e)}...${t.slice(t.length-n,t.length)}`},w7e=(t,e=3,n=4)=>Bue(t,e,n,"solana"),G1=t=>new Promise((e=>setTimeout(e,t)));function T$(t,{interval:e=100,timeout:n=5e3}={}){return new Promise(((r,i)=>{let s,a=0,c=()=>{a>=n?i("Max attempts reached without result"):(s=t(),a+=e,s==null?setTimeout(c,e):r(s))};c()}))}const c5=(t,e={})=>{let n=e.delayMs||150,r=e.maxAttempts||270;return new Promise((async(i,s)=>{let a=!1,c=0;for(;!a&&c<r;){if(e.abortSignal?.aborted)return;t().then((u=>{a=!0,i(u)}),((...u)=>{a=!0,s(...u)})),c+=1,await G1(n)}a||s(Error("Exceeded max attempts before resolving function"))}))},Lue=t=>t.replace(/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g,""),l5=t=>typeof t=="string"?t:"0x"+t.toString(16);async function jue({store:t,walletList:e,externalWalletConfig:n,walletChainType:r,timeout:i=3e3}){let s=!1,a=window;return new Promise((c=>{function u(){if(s)return;s=!0,window.removeEventListener("ethereum#initialized",u);let d=t.getProviders();console.debug("Detected injected providers:",d.map((p=>p.info)));let h=[];for(let p of d)e.includes("coinbase_wallet")&&p.info.rdns==="com.coinbase.wallet"||r==="solana-only"&&p.info.rdns==="app.phantom"||h.push({type:p.info.name.toLowerCase().replace(/\s/g,"_"),eip6963InjectedProvider:p});if(r!=="solana-only")for(let p of(function(){let m=window,g=m.ethereum;if(!g)return[];let b=[];if(g.providers?.length)for(let v of g.providers)v&&b.push(v);return b.push(m.ethereum),b})()){let m=$z(p);if(!d.some((g=>g.info.name===m))){if(Pz(p,!0)&&!h.find((g=>g.type==="metamask"))){h.push({type:"metamask",legacyInjectedProvider:p});continue}if(m==="Phantom"&&!h.find((g=>g.type==="phantom"))){h.push({type:"phantom",legacyInjectedProvider:p});continue}if(m==="Coinbase Wallet"&&!h.find((g=>g.type==="coinbase_wallet"&&n.coinbaseWallet?.config?.preference?.options!=="smartWalletOnly"))){h.push({type:"coinbase_wallet",legacyInjectedProvider:p});continue}h.find((g=>g.type==="unknown_browser_extension"))||h.push({type:"unknown_browser_extension",legacyInjectedProvider:p})}}c(h)}a.ethereum?u():(window.addEventListener("ethereum#initialized",u,{once:!0}),setTimeout((()=>{u()}),i))}))}function Ig(t){return`eip155:${String(Number(t))}`}const zue=(t,e,n,r)=>{let i=Number(t),s=e.find((a=>a.id===i));if(!s)throw new zn(`Unsupported chainId ${t}`,4901);return kz(s,n,r)},v7e=(t,e)=>{let n=Number(t),r=e.find((i=>i.id===n));if(!r)throw new zn(`Unsupported chainId ${t}`,4901);return r.blockExplorers?.default.url},Yv=t=>{let e={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},n=t.types.EIP712Domain??Object.entries(t.domain).map((([r,i])=>{if(i!=null&&typeof r=="string"&&r in e)return{name:r,type:e[r]}})).filter((r=>r!==void 0));return{...t,types:{...t.types,EIP712Domain:n}}};function _7e(t,{min:e,max:n}){return Math.min(Math.max(t,e),n)}function du(t){return t.type==="ethereum"}function Dz(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],i=e[n];if(r?.address!==i?.address||r&&i&&du(r)&&du(i)&&r?.chainId!==i?.chainId||r?.connectorType!==i?.connectorType||r?.connectedAt!==i?.connectedAt||r?.walletClientType!==i?.walletClientType||r?.isConnected!==i?.isConnected||r?.linked!==i?.linked)return!1}return!0}const iC=(t,e)=>t.rpcTimeouts&&t.rpcTimeouts[e]||nE;function em(t){return t.chainType==="ethereum"}let Af=class extends xz{buildConnectedWallet(e,n,r,i){let s=async()=>!!this.wallets.find((a=>li(a.address)===li(e)));return{type:"ethereum",address:li(e),chainId:n,meta:r,imported:i,switchChain:async a=>{let c,u;if(!s)throw new zn("Wallet is not currently connected.");let d=this.wallets.find((m=>li(m.address)===li(e)))?.chainId;if(!d)throw new zn("Unable to determine current chainId.");if(typeof a=="number"?(c=`0x${a.toString(16)}`,u=a):(c=a,u=Number(a)),d===Ig(c))return;let h=this.chains.find((m=>m.id===u));if(!h)throw new zn(`Unsupported chainId: ${a}`);let p=async()=>{await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[{chainId:c}]})};try{return await p()}catch(m){if(((g,b)=>{switch(b){case"coinbase_wallet":case"base_account":return g.message.includes("addEthereumChain");case"rabby_wallet":return g.message.includes("Unrecognized chain ID");default:return g.code===4902||g.message?.includes("4902")}})(m,this.walletClientType))return this.walletClientType==="rabby_wallet"&&await G1(300),await this.proxyProvider.request({method:"wallet_addEthereumChain",params:[{chainId:c,chainName:h.name,nativeCurrency:h.nativeCurrency,rpcUrls:[h.rpcUrls.default?.http[0]??""],blockExplorerUrls:[h.blockExplorers?.default.url??""]}]}),p();throw this.walletClientType==="rainbow"&&m.message?.includes("wallet_switchEthereumChain")?new zn(`Rainbow does not support the chainId ${n}`):m}},connectedAt:Date.now(),walletClientType:this.walletClientType,connectorType:this.connectorType,isConnected:s,getEthereumProvider:async()=>{if(!await s())throw new zn("Wallet is not currently connected.");return this.proxyProvider},sign:async a=>{if(!await s())throw new zn("Wallet is not currently connected.");return await this.sign(a)},disconnect:()=>{this.disconnect()}}}async syncAccounts(e){let n,r=e;try{if(r===void 0){let u=await c5((()=>this.proxyProvider.request({method:"eth_accounts"})),{maxAttempts:10,delayMs:500});console.debug(`eth_accounts for ${this.walletClientType}:`,u),Array.isArray(u)&&(r=u)}}catch(u){console.debug("Wallet did not respond to eth_accounts. Defaulting to prefetched accounts.",u)}if(!r||!Array.isArray(r)||r.length<=0||!r[0])return;let i=r[0];if(!Nn(i))return void console.warn(`Invalid ethereum address reported by ${this.walletClientType}: ${i}`);let s=li(i),a=[];if(this.walletClientType==="privy"){let u=nt.get(VS(s));this.chains.find((d=>d.id===Number(u)))||(nt.del(VS(s)),u=null),n=u||`0x${this.defaultChain.id.toString(16)}`;try{await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[{chainId:n}]})}catch{console.warn(`Unable to switch embedded wallet to chain ID ${n} on initialization`)}}else try{let u=await c5((()=>this.proxyProvider.request({method:"eth_chainId"})),{maxAttempts:10,delayMs:500});if(console.debug(`eth_chainId for ${this.walletClientType}:`,u),typeof u=="string")n=u;else{if(typeof u!="number")throw Error("Invalid chainId returned from provider");n=`0x${u.toString(16)}`}}catch(u){console.warn(`Failed to get chainId from provider, defaulting to ${e$}`,u),n=e$}let c=Ig(n);if(!a.find((u=>li(u.address)===s))){let u={name:this.walletBranding.name,icon:typeof this.walletBranding.icon=="string"?this.walletBranding.icon:void 0,id:this.walletBranding.id};a.push(this.buildConnectedWallet(li(i),c,u,this.connectorType==="embedded_imported"))}Dz(a,this.wallets)||(this.wallets=a,this.emit("walletsUpdated"))}async getConnectedWallet(){let e=await this.proxyProvider.request({method:"eth_accounts"});return this.wallets.sort(((n,r)=>r.connectedAt-n.connectedAt)).find((n=>e.find((r=>li(r)===li(n.address)))))||null}async isConnected(){let e=await this.proxyProvider.request({method:"eth_accounts"});return Array.isArray(e)&&e.length>0}async sign(e){return await this.connect({showPrompt:!1}),this.proxyProvider.request({method:"personal_sign",params:[xt(e),this.wallets[0]?.address]})}subscribeListeners(){this.proxyProvider.on("accountsChanged",this.onAccountsChanged),this.proxyProvider.on("chainChanged",this.onChainChanged),this.proxyProvider.on("disconnect",this.onDisconnect),this.proxyProvider.on("connect",this.onConnect)}unsubscribeListeners(){this.proxyProvider.removeListener("accountsChanged",this.onAccountsChanged),this.proxyProvider.removeListener("chainChanged",this.onChainChanged),this.proxyProvider.removeListener("disconnect",this.onDisconnect),this.proxyProvider.removeListener("connect",this.onConnect)}constructor(e,n,r,i){super(e),this.chainType="ethereum",this.onAccountsChanged=s=>{s.length===0?this.onDisconnect():this.syncAccounts(s)},this.onChainChanged=s=>{this.wallets.forEach((a=>{a.chainId=Ig(s),this.walletClientType==="privy"&&nt.put(VS(a.address),s)})),this.emit("walletsUpdated")},this.onDisconnect=()=>{this.connected=!1,this.wallets=[],this.emit("walletsUpdated")},this.onConnect=async()=>{this.connectorType==="base_account"&&this.connected||(this.connected=!0,this.connectorType==="coinbase_wallet"&&await G1(500),this.syncAccounts())},this.wallets=[],this.walletClientType=e,this.chains=n,this.defaultChain=r,this.rpcConfig=i,this.rpcTimeoutDuration=iC(i,e),this.connected=!1,this.initialized=!1}},Sf=class{on(e,n){if(this.walletProvider)return this.walletProvider.on(e,n);this._subscriptions.push({eventName:e,listener:n})}async request(e){if(!this.walletProvider)throw new zn(`A wallet request of type ${e.method} was made before setting a wallet provider.`);return Promise.race([this.walletProvider.request(e),this.walletTimeout()]).catch((n=>{throw zu(n)}))}constructor(e,n){this.removeListener=(r,i)=>{if(this.walletProvider)try{return this.walletProvider.removeListener(r,i)}catch{console.warn("Unable to remove wallet provider listener")}},this.walletTimeout=(r=new Rue,i=this.rpcTimeoutDuration)=>new Promise(((s,a)=>setTimeout((()=>{a(r)}),i))),this.setWalletProvider=r=>{this.walletProvider&&this._subscriptions.forEach((i=>{this.removeListener(i.eventName,i.listener)})),this.walletProvider=r,this._subscriptions.forEach((i=>{this.walletProvider?.on(i.eventName,i.listener)}))},this.walletProvider=e,this.rpcTimeoutDuration=n||nE,this._subscriptions=[]}};const Fue=t=>{let[e,n]=Y.useState("auto");return Y.useEffect((()=>{let r=new ResizeObserver((i=>{n(i[0]?.contentRect.height??"auto")}));return t.current&&r.observe(t.current),()=>{t.current&&r.unobserve(t.current)}}),[t.current]),e},S7e=Gn.div.withConfig({displayName:"Grow",componentId:"sc-681ff332-0"})(["text-align:left;flex-grow:1;"]),x7e=Gn.div.withConfig({displayName:"AlignBottom",componentId:"sc-681ff332-1"})(["display:flex;flex-direction:column;justify-content:flex-end;flex-grow:1;"]),que=Gn.div.withConfig({displayName:"LoginMethodContainer",componentId:"sc-681ff332-2"})(["display:flex;flex-direction:column;gap:8px;-ms-overflow-style:none;scrollbar-width:none;&::-webkit-scrollbar{display:none;}"]),T7e=Gn(que).withConfig({displayName:"LoginMethodContainerWithScrollShadows",componentId:"sc-681ff332-3"})([""," background-repeat:no-repeat;background-size:100% 32px,100% 16px;background-attachment:local,scroll;max-height:400px;overflow-y:auto;scrollbar-width:none;padding:3px;"],(t=>t.$colorScheme==="light"?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(0, 0, 0, 0) 20%, rgba(0, 0, 0, 0.06)) bottom;":t.$colorScheme==="dark"?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(255, 255, 255, 0) 20%, rgba(255, 255, 255, 0.06)) bottom;":void 0));let Wue=sb(["&&{width:100%;font-size:16px;line-height:24px;min-height:56px;@media (min-width:440px){font-size:14px;}display:flex;gap:12px;align-items:center;color:var(--privy-color-foreground);padding:10px 12px;border:1px solid var(--privy-color-foreground-4) !important;border-radius:var(--privy-border-radius-md);transition:background-color 200ms ease;cursor:pointer;&:hover{background-color:var(--privy-color-background-2);}&:disabled{cursor:pointer;background-color:var(--privy-color-background-2);}}"]);const I7e=Gn.div.withConfig({displayName:"Subtitle",componentId:"sc-681ff332-4"})(["text-align:center;font-size:14px;margin-bottom:24px;"]),C7e=Gn.button.attrs({className:"login-method-button"}).withConfig({displayName:"LoginMethodButton",componentId:"sc-681ff332-5"})(["",""],Wue),O7e=Gn.div.withConfig({displayName:"LoginMethodIconWrapper",componentId:"sc-681ff332-7"})(["width:32px;height:32px;border-radius:",";background:",";display:flex;align-items:center;justify-content:center;flex-shrink:0;svg{width:",";height:",";color:",";}"],(t=>t.$fullSize?"0":"4px"),(t=>t.$fullSize?"transparent":"var(--privy-color-background-2)"),(t=>t.$fullSize?"32px":"18px"),(t=>t.$fullSize?"32px":"18px"),(t=>t.$fullSize?"inherit":"var(--privy-color-icon-muted)")),Mz=Gn.div.withConfig({displayName:"Hide",componentId:"sc-681ff332-8"})(["width:100%;height:100%;min-height:inherit;display:flex;flex-direction:column;",""],(t=>t.$if?"display: none;":"")),k7e=Gn.div.withConfig({displayName:"EmptyWalletState",componentId:"sc-681ff332-9"})(["width:100%;height:100%;padding:",";"],(t=>t.$withPadding?"64px 0px":"0px")),R7e=Gn.div.withConfig({displayName:"Header",componentId:"sc-681ff332-10"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-bottom:32px;gap:12px;& h3{font-size:18px;font-style:normal;font-weight:600;line-height:24px;}& p{max-width:300px;font-size:14px;font-style:normal;font-weight:400;line-height:20px;}"]),N7e=({success:t,fail:e})=>he.jsxs(Vue,{children:[he.jsx(I$,{children:he.jsx(Hue,{className:t?"success":e?"fail":""})}),he.jsx(I$,{children:he.jsx(fE,{className:t?"success":e?"fail":""})})]});let I$=Gn.span.withConfig({displayName:"PositionedAbsoluteLoader",componentId:"sc-aba6339d-0"})(["&&{position:absolute;top:0;left:0;z-index:2;}"]),Vue=Gn.span.withConfig({displayName:"ConnectionLoaderContainer",componentId:"sc-aba6339d-1"})(["position:relative;width:82px;height:82px;display:inline-block;"]);const fE=Gn.span.withConfig({displayName:"Loader",componentId:"sc-aba6339d-2"})(["&&{width:82px;height:82px;border-width:4px;border-style:solid;border-color:",";border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:rotation 1.2s linear infinite;transition:border-color 800ms;}@keyframes rotation{0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}}&&&.success{border-color:var(--privy-color-icon-success);border-bottom-color:var(--privy-color-icon-success);}&&&.fail{border-color:var(--privy-color-icon-error);border-bottom-color:var(--privy-color-icon-error);}"],(t=>t.color??"var(--privy-color-icon-subtle)")),Hue=Gn(fE).withConfig({displayName:"LoaderFaint",componentId:"sc-aba6339d-3"})(["&&{border-bottom-color:",";border-color:",";animation:none;opacity:0.5;}"],(t=>t.color??"var(--privy-color-border-default)"),(t=>t.color??"var(--privy-color-border-default)")),$7e=t=>he.jsx(Gue,{color:t.color||"var(--privy-color-foreground-3)"});let Gue=Gn(fE).withConfig({displayName:"StyledButtonLoader",componentId:"sc-aba6339d-4"})(["&&{height:1rem;width:1rem;margin:2px 0;border-width:1.5px;transition:border-color 200ms ease;}"]);const Kue=["metamask","phantom","brave_wallet","rainbow","uniswap_wallet_extension","uniswap_extension","rabby_wallet","bybit_wallet","ronin_wallet","haha_wallet","crypto.com_wallet_extension","crypto.com_onchain","binance","bitget_wallet","coinbase_wallet","coinbase_smart_wallet","base_account","metamask","trust","safe","rainbow","uniswap","zerion","argent","spot","omni","cryptocom","blockchain","safepal","bitget_wallet","zengo","1inch","binance","exodus","mew_wallet","alphawallet","keyring_pro","mathwallet","unstoppable","obvious","ambire","internet_money_wallet","coin98","abc_wallet","arculus_wallet","haha","cling_wallet","broearn","copiosa","burrito_wallet","enjin_wallet","plasma_wallet","avacus","bee","pitaka","pltwallet","minerva","kryptogo","prema","slingshot","kriptonio","timeless","secux","bitizen","blocto","okx_wallet","safemoon","rabby_wallet","bybit_wallet","ronin_wallet","haha_wallet","privy","unknown","phantom","solflare","glow","backpack","jupiter","mobile_wallet_adapter"],Uz=Object.freeze({phantom:{client:"phantom",name:"Phantom",installLink:Vo.isFirefox?"https://addons.mozilla.org/en-US/firefox/addon/phantom-app/":"https://chrome.google.com/webstore/detail/phantom/bfnaelmomeimhlpmgjnjophhpkkoljpa?hl=en",chainTypes:["ethereum","solana"],get isInstalled(){if("phantom"in window){let t=window;if(t?.phantom?.ethereum?.isPhantom&&t?.phantom?.ethereum?.chainId||t?.phantom?.solana?.isPhantom)return!0}return!1},getMobileRedirect({useUniversalLink:t,isSolana:e,connectOnly:n}){let r=tm({client:this.client,isSolana:e,connectOnly:n});return`${t?"phantom://":"https://phantom.app/ul/"}browse/${r}?ref=${r}`}},solflare:{client:"solflare",name:"Solflare",installLink:Vo.isFirefox?"https://addons.mozilla.org/es/firefox/addon/solflare-wallet/":"https://chromewebstore.google.com/detail/solflare-wallet/bhhhlbepdkbapadjdnnojkbgioiodbic",chainTypes:["solana"],get isInstalled(){return"solflare"in window&&!!window?.solflare?.isSolflare},getMobileRedirect({useUniversalLink:t,isSolana:e,connectOnly:n}){let r=tm({client:this.client,isSolana:e,connectOnly:n});return`${t?"solflare://ul/v1/":"https://solflare.com/ul/v1/"}browse/${r}?ref=${r}`}},jupiter:{client:"jupiter",name:"Jupiter Wallet",installLink:"https://chromewebstore.google.com/detail/jupiter-wallet/iledlaeogohbilgbfhmbgkgmpplbfboh",chainTypes:["solana"],get isInstalled(){return"jupiter"in window&&!!window?.jupiter?.isJupiter},getMobileRedirect({isSolana:t,connectOnly:e}){let n=tm({client:this.client,isSolana:t,connectOnly:e});return`jupjupjup://jup.ag/browse/${n}?ref=${n}`}},backpack:{client:"backpack",name:"Backpack",installLink:"https://chromewebstore.google.com/detail/backpack/aflkmfhebedbjioipglgcbcmnbpgliof",chainTypes:["ethereum","solana"],get isInstalled(){return!(!("backpack"in window)||!window?.backpack?.ethereum?.isBackpack&&!window?.backpack?.solana?.isBackpack)},getMobileRedirect({useUniversalLink:t,isSolana:e,connectOnly:n}){let r=tm({client:this.client,isSolana:e,connectOnly:n});return`${t?"backpack://ul/v1/":"https://backpack.app/ul/v1/"}browse/${r}?ref=${r}`}},okx_wallet:{client:"okx_wallet",name:"OKX Wallet",installLink:"https://chromewebstore.google.com/detail/okx-wallet/mcohilncbfahbmgdjkbpemcciiolgcge",chainTypes:["ethereum","solana"],get isInstalled(){return"okxwallet"in window&&!!window?.okxwallet?.isOkxWallet},getMobileRedirect({isSolana:t,connectOnly:e}){return`okx://wallet/dapp/url?dappUrl=${tm({client:this.client,isSolana:t,connectOnly:e})}`}}});function Yue({connectorType:t,walletClientType:e}){for(let n of Kue)if(t===n||e===n)return Uz[n]}function tm({client:t,isSolana:e,connectOnly:n}){let r=new URL(window.location.href);return r.searchParams.set("privy_connector",e?"solana_adapter":"injected"),r.searchParams.set("privy_wallet_client",t),r.searchParams.set("privy_connect_only",String(n)),encodeURIComponent(r.href.replace(/\/$/g,""))}let Zue=class extends Kv{get walletBranding(){return{id:this.id,name:this.name,icon:this.icon}}async initialize(){this.initialized=!0,this.emit("initialized")}async connect(){throw Error("connect called for an uninstalled wallet via the SolanaNullConnector")}constructor({id:e,name:n,icon:r}){super({name:n},!1),this.connectorType="null",this.proxyProvider=new Sf(void 0,nE),this.disconnect=async()=>{throw Error("disconnect called for an uninstalled wallet via the SolanaNullConnector")},this.promptConnection=async()=>{throw Error("promptConnection called for an uninstalled wallet via the SolanaNullConnector")},this.id=e,this.name=n,this.icon=r}};function Xue(t){return t.chainType==="solana"}function Jue(t){return t.type==="solana"}let Bz=Y.createContext({});const Que=({children:t})=>{let e=Ta(),[n,r]=Y.useState({});return uE("login",{onComplete:({loginAccount:i})=>{i&&i.type!=="passkey"&&i.type!=="cross_app"&&(i.type!=="wallet"||i.walletClientType!=="privy")&&(nt.put(C$(e.id),i.type),i.type==="wallet"?(nt.put(nx(e.id),i.walletClientType),nt.put(rx(e.id),i.chainType),r({accountType:i.type,walletClientType:i.walletClientType,chainType:i.chainType})):(nt.del(nx(e.id)),nt.del(rx(e.id)),r({accountType:i.type})))}}),Y.useEffect((()=>{if(!e.id)return;let i=nt.get(C$(e.id)),s=nt.get(nx(e.id)),a=nt.get(rx(e.id));i&&r(i==="wallet"?{accountType:i,walletClientType:s,chainType:a}:{accountType:i})}),[e.id]),he.jsx(Bz.Provider,{value:n,children:t})};let C$=t=>`privy:${t}:recent-login-method`,nx=t=>`privy:${t}:recent-login-wallet-client`,rx=t=>`privy:${t}:recent-login-chain-type`;const D7e=()=>Y.useContext(Bz);let ede=class extends Af{get walletBranding(){return{id:this.id,name:this.name,icon:this.icon}}async initialize(){this.initialized=!0,this.emit("initialized")}async connect(){throw Error("connect called for an uninstalled wallet via the EthereumNullConnector")}disconnect(){throw Error("disconnect called for an uninstalled wallet via the EthereumNullConnector")}promptConnection(e){throw Error(`promptConnection called for an uninstalled wallet via the EthereumNullConnector for ${e}`)}constructor({id:e,name:n,icon:r,walletClientType:i,defaultChain:s}){super(i,[],s,{}),this.connectorType="null",this.proxyProvider=new Sf(void 0,nE),this.id=e,this.name=n,this.icon=r}};const tde=({...t})=>he.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",...t,children:[he.jsx("rect",{width:"32",height:"32",rx:"6",fill:"#121314"}),he.jsx("g",{transform:"translate(4, 4)",children:he.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 318.6 318.6",children:[he.jsx("style",{children:".s1{stroke-linecap:round;stroke-linejoin:round}.s2{fill:#e4761b;stroke:#e4761b}.s3{fill:#f6851b;stroke:#f6851b}"}),he.jsx("path",{fill:"#e2761b",stroke:"#e2761b",className:"s1",d:"m274.1 35.5-99.5 73.9L193 65.8z"}),he.jsx("path",{d:"m44.4 35.5 98.7 74.6-17.5-44.3zm193.9 171.3-26.5 40.6 56.7 15.6 16.3-55.3zm-204.4.9L50.1 263l56.7-15.6-26.5-40.6z",className:"s1 s2"}),he.jsx("path",{d:"m103.6 138.2-15.8 23.9 56.3 2.5-2-60.5zm111.3 0-39-34.8-1.3 61.2 56.2-2.5zM106.8 247.4l33.8-16.5-29.2-22.8zm71.1-16.5 33.9 16.5-4.7-39.3z",className:"s1 s2"}),he.jsx("path",{fill:"#d7c1b3",stroke:"#d7c1b3",className:"s1",d:"m211.8 247.4-33.9-16.5 2.7 22.1-.3 9.3zm-105 0 31.5 14.9-.2-9.3 2.5-22.1z"}),he.jsx("path",{fill:"#233447",stroke:"#233447",className:"s1",d:"m138.8 193.5-28.2-8.3 19.9-9.1zm40.9 0 8.3-17.4 20 9.1z"}),he.jsx("path",{fill:"#cd6116",stroke:"#cd6116",className:"s1",d:"m106.8 247.4 4.8-40.6-31.3.9zM207 206.8l4.8 40.6 26.5-39.7zm23.8-44.7-56.2 2.5 5.2 28.9 8.3-17.4 20 9.1zm-120.2 23.1 20-9.1 8.2 17.4 5.3-28.9-56.3-2.5z"}),he.jsx("path",{fill:"#e4751f",stroke:"#e4751f",className:"s1",d:"m87.8 162.1 23.6 46-.8-22.9zm120.3 23.1-1 22.9 23.7-46zm-64-20.6-5.3 28.9 6.6 34.1 1.5-44.9zm30.5 0-2.7 18 1.2 45 6.7-34.1z"}),he.jsx("path",{d:"m179.8 193.5-6.7 34.1 4.8 3.3 29.2-22.8 1-22.9zm-69.2-8.3.8 22.9 29.2 22.8 4.8-3.3-6.6-34.1z",className:"s3"}),he.jsx("path",{fill:"#c0ad9e",stroke:"#c0ad9e",className:"s1",d:"m180.3 262.3.3-9.3-2.5-2.2h-37.7l-2.3 2.2.2 9.3-31.5-14.9 11 9 22.3 15.5h38.3l22.4-15.5 11-9z"}),he.jsx("path",{fill:"#161616",stroke:"#161616",className:"s1",d:"m177.9 230.9-4.8-3.3h-27.7l-4.8 3.3-2.5 22.1 2.3-2.2h37.7l2.5 2.2z"}),he.jsx("path",{fill:"#763d16",stroke:"#763d16",className:"s1",d:"m278.3 114.2 8.5-40.8-12.7-37.9-96.2 71.4 37 31.3 52.3 15.3 11.6-13.5-5-3.6 8-7.3-6.2-4.8 8-6.1zM31.8 73.4l8.5 40.8-5.4 4 8 6.1-6.1 4.8 8 7.3-5 3.6 11.5 13.5 52.3-15.3 37-31.3-96.2-71.4z"}),he.jsx("path",{d:"m267.2 153.5-52.3-15.3 15.9 23.9-23.7 46 31.2-.4h46.5zm-163.6-15.3-52.3 15.3-17.4 54.2h46.4l31.1.4-23.6-46zm71 26.4 3.3-57.7 15.2-41.1h-67.5l15 41.1 3.5 57.7 1.2 18.2.1 44.8h27.7l.2-44.8z",className:"s3"})]})})]});function U7e(t){let{logout:e}=Y.useContext(Vp);return uE("logout",t),{logout:e}}const nde=Ef((()=>({isModalOpen:!1,resolvers:null})));Ef((()=>({})));const B7e=({address:t,client:e,appId:n})=>{let r=`${e}:${t}`;n&&nt.put(rde(n),r),nde.setState({wallet:r})},rde=t=>`privy:${t}:active-wallet-connection`;class Ho{constructor(e,n){this.scope=e,this.module=n}storeObject(e,n){this.setItem(e,JSON.stringify(n))}loadObject(e){const n=this.getItem(e);return n?JSON.parse(n):void 0}setItem(e,n){localStorage.setItem(this.scopedKey(e),n)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),n=[];for(let r=0;r<localStorage.length;r++){const i=localStorage.key(r);typeof i=="string"&&i.startsWith(e)&&n.push(i)}n.forEach(r=>localStorage.removeItem(r))}scopedKey(e){return`-${this.scope}${this.module?`:${this.module}`:""}:${e}`}static clearAll(){new Ho("CBWSDK").clear(),new Ho("walletlink").clear()}}const rr={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901,unsupportedChain:4902}},u5={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."},4902:{standard:"EIP-3085",message:"Unrecognized chain ID."}},Lz="Unspecified error message.",ide="Unspecified server error.";function sC(t,e=Lz){if(t&&Number.isInteger(t)){const n=t.toString();if(d5(u5,n))return u5[n].message;if(jz(t))return ide}return e}function sde(t){if(!Number.isInteger(t))return!1;const e=t.toString();return!!(u5[e]||jz(t))}function ade(t,{shouldIncludeStack:e=!1}={}){const n={};if(t&&typeof t=="object"&&!Array.isArray(t)&&d5(t,"code")&&sde(t.code)){const r=t;n.code=r.code,r.message&&typeof r.message=="string"?(n.message=r.message,d5(r,"data")&&(n.data=r.data)):(n.message=sC(n.code),n.data={originalError:O$(t)})}else n.code=rr.rpc.internal,n.message=k$(t,"message")?t.message:Lz,n.data={originalError:O$(t)};return e&&(n.stack=k$(t,"stack")?t.stack:void 0),n}function jz(t){return t>=-32099&&t<=-32e3}function O$(t){return t&&typeof t=="object"&&!Array.isArray(t)?Object.assign({},t):t}function d5(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function k$(t,e){return typeof t=="object"&&t!==null&&e in t&&typeof t[e]=="string"}const Yt={rpc:{parse:t=>na(rr.rpc.parse,t),invalidRequest:t=>na(rr.rpc.invalidRequest,t),invalidParams:t=>na(rr.rpc.invalidParams,t),methodNotFound:t=>na(rr.rpc.methodNotFound,t),internal:t=>na(rr.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return na(e,t)},invalidInput:t=>na(rr.rpc.invalidInput,t),resourceNotFound:t=>na(rr.rpc.resourceNotFound,t),resourceUnavailable:t=>na(rr.rpc.resourceUnavailable,t),transactionRejected:t=>na(rr.rpc.transactionRejected,t),methodNotSupported:t=>na(rr.rpc.methodNotSupported,t),limitExceeded:t=>na(rr.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>_h(rr.provider.userRejectedRequest,t),unauthorized:t=>_h(rr.provider.unauthorized,t),unsupportedMethod:t=>_h(rr.provider.unsupportedMethod,t),disconnected:t=>_h(rr.provider.disconnected,t),chainDisconnected:t=>_h(rr.provider.chainDisconnected,t),unsupportedChain:t=>_h(rr.provider.unsupportedChain,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:n,data:r}=t;if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string');return new qz(e,n,r)}}};function na(t,e){const[n,r]=zz(e);return new Fz(t,n||sC(t),r)}function _h(t,e){const[n,r]=zz(e);return new qz(t,n||sC(t),r)}function zz(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:n}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,n]}}return[]}class Fz extends Error{constructor(e,n,r){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string.');super(n),this.code=e,r!==void 0&&(this.data=r)}}class qz extends Fz{constructor(e,n,r){if(!ode(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,n,r)}}function ode(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function aC(){return t=>t}const m0=aC(),cde=aC(),lde=aC();function qc(t){return Math.floor(t)}const Wz=/^[0-9]*$/,Vz=/^[a-f0-9]*$/;function Cd(t){return oC(crypto.getRandomValues(new Uint8Array(t)))}function oC(t){return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}function Zv(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>Number.parseInt(e,16)))}function Cg(t,e=!1){const n=t.toString("hex");return m0(e?`0x${n}`:n)}function ix(t){return Cg(f5(t),!0)}function bo(t){return lde(t.toString(10))}function Su(t){return m0(`0x${BigInt(t).toString(16)}`)}function Hz(t){return t.startsWith("0x")||t.startsWith("0X")}function cC(t){return Hz(t)?t.slice(2):t}function Gz(t){return Hz(t)?`0x${t.slice(2)}`:`0x${t}`}function hE(t){if(typeof t!="string")return!1;const e=cC(t).toLowerCase();return Vz.test(e)}function ude(t,e=!1){if(typeof t=="string"){const n=cC(t).toLowerCase();if(Vz.test(n))return m0(e?`0x${n}`:n)}throw Yt.rpc.invalidParams(`"${String(t)}" is not a hexadecimal string`)}function lC(t,e=!1){let n=ude(t,!1);return n.length%2===1&&(n=m0(`0${n}`)),e?m0(`0x${n}`):n}function Yl(t){if(typeof t=="string"){const e=cC(t).toLowerCase();if(hE(e)&&e.length===40)return cde(Gz(e))}throw Yt.rpc.invalidParams(`Invalid Ethereum address: ${String(t)}`)}function f5(t){if(Buffer.isBuffer(t))return t;if(typeof t=="string"){if(hE(t)){const e=lC(t,!1);return Buffer.from(e,"hex")}return Buffer.from(t,"utf8")}throw Yt.rpc.invalidParams(`Not binary data: ${String(t)}`)}function Og(t){if(typeof t=="number"&&Number.isInteger(t))return qc(t);if(typeof t=="string"){if(Wz.test(t))return qc(Number(t));if(hE(t))return qc(Number(BigInt(lC(t,!0))))}throw Yt.rpc.invalidParams(`Not an integer: ${String(t)}`)}function nm(t){if(t!==null&&(typeof t=="bigint"||fde(t)))return BigInt(t.toString(10));if(typeof t=="number")return BigInt(Og(t));if(typeof t=="string"){if(Wz.test(t))return BigInt(t);if(hE(t))return BigInt(lC(t,!0))}throw Yt.rpc.invalidParams(`Not an integer: ${String(t)}`)}function dde(t){if(typeof t=="string")return JSON.parse(t);if(typeof t=="object")return t;throw Yt.rpc.invalidParams(`Not a JSON string or an object: ${String(t)}`)}function fde(t){if(t==null||typeof t.constructor!="function")return!1;const{constructor:e}=t;return typeof e.config=="function"&&typeof e.EUCLID=="number"}async function hde(){return crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!0,["deriveKey"])}async function pde(t,e){return crypto.subtle.deriveKey({name:"ECDH",public:e},t,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}async function yde(t,e){const n=crypto.getRandomValues(new Uint8Array(12)),r=await crypto.subtle.encrypt({name:"AES-GCM",iv:n},t,new TextEncoder().encode(e));return{iv:n,cipherText:r}}async function mde(t,{iv:e,cipherText:n}){const r=await crypto.subtle.decrypt({name:"AES-GCM",iv:e},t,n);return new TextDecoder().decode(r)}function Kz(t){switch(t){case"public":return"spki";case"private":return"pkcs8"}}async function Yz(t,e){const n=Kz(t),r=await crypto.subtle.exportKey(n,e);return oC(new Uint8Array(r))}async function Zz(t,e){const n=Kz(t),r=Zv(e).buffer;return await crypto.subtle.importKey(n,new Uint8Array(r),{name:"ECDH",namedCurve:"P-256"},!0,t==="private"?["deriveKey"]:[])}async function gde(t,e){const n=JSON.stringify(t,(r,i)=>{if(!(i instanceof Error))return i;const s=i;return Object.assign(Object.assign({},s.code?{code:s.code}:{}),{message:s.message})});return yde(e,n)}async function bde(t,e){return JSON.parse(await mde(e,t))}const sx={storageKey:"ownPrivateKey",keyType:"private"},ax={storageKey:"ownPublicKey",keyType:"public"},ox={storageKey:"peerPublicKey",keyType:"public"};class wde{constructor(){this.storage=new Ho("CBWSDK","SCWKeyManager"),this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null}async getOwnPublicKey(){return await this.loadKeysIfNeeded(),this.ownPublicKey}async getSharedSecret(){return await this.loadKeysIfNeeded(),this.sharedSecret}async setPeerPublicKey(e){this.sharedSecret=null,this.peerPublicKey=e,await this.storeKey(ox,e),await this.loadKeysIfNeeded()}async clear(){this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null,this.storage.removeItem(ax.storageKey),this.storage.removeItem(sx.storageKey),this.storage.removeItem(ox.storageKey)}async generateKeyPair(){const e=await hde();this.ownPrivateKey=e.privateKey,this.ownPublicKey=e.publicKey,await this.storeKey(sx,e.privateKey),await this.storeKey(ax,e.publicKey)}async loadKeysIfNeeded(){if(this.ownPrivateKey===null&&(this.ownPrivateKey=await this.loadKey(sx)),this.ownPublicKey===null&&(this.ownPublicKey=await this.loadKey(ax)),(this.ownPrivateKey===null||this.ownPublicKey===null)&&await this.generateKeyPair(),this.peerPublicKey===null&&(this.peerPublicKey=await this.loadKey(ox)),this.sharedSecret===null){if(this.ownPrivateKey===null||this.peerPublicKey===null)return;this.sharedSecret=await pde(this.ownPrivateKey,this.peerPublicKey)}}async loadKey(e){const n=this.storage.getItem(e.storageKey);return n?Zz(e.keyType,n):null}async storeKey(e,n){const r=await Yz(e.keyType,n);this.storage.setItem(e.storageKey,r)}}const ab="4.3.2",Xz="@coinbase/wallet-sdk";async function uC(t,e){const n=Object.assign(Object.assign({},t),{jsonrpc:"2.0",id:crypto.randomUUID()}),r=await window.fetch(e,{method:"POST",body:JSON.stringify(n),mode:"cors",headers:{"Content-Type":"application/json","X-Cbw-Sdk-Version":ab,"X-Cbw-Sdk-Platform":Xz}}),{result:i,error:s}=await r.json();if(s)throw s;return i}function vde(){return globalThis.coinbaseWalletExtension}function _de(){var t,e;try{const n=globalThis;return(t=n.ethereum)!==null&&t!==void 0?t:(e=n.top)===null||e===void 0?void 0:e.ethereum}catch{return}}function Ede({metadata:t,preference:e}){var n,r;const{appName:i,appLogoUrl:s,appChainIds:a}=t;if(e.options!=="smartWalletOnly"){const u=vde();if(u)return(n=u.setAppInfo)===null||n===void 0||n.call(u,i,s,a,e),u}const c=_de();if(c?.isCoinbaseBrowser)return(r=c.setAppInfo)===null||r===void 0||r.call(c,i,s,a,e),c}function Ade(t){if(!t||typeof t!="object"||Array.isArray(t))throw Yt.rpc.invalidParams({message:"Expected a single, non-array, object argument.",data:t});const{method:e,params:n}=t;if(typeof e!="string"||e.length===0)throw Yt.rpc.invalidParams({message:"'args.method' must be a non-empty string.",data:t});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw Yt.rpc.invalidParams({message:"'args.params' must be an object or array if provided.",data:t});switch(e){case"eth_sign":case"eth_signTypedData_v2":case"eth_subscribe":case"eth_unsubscribe":throw Yt.provider.unsupportedMethod()}}const R$="accounts",N$="activeChain",$$="availableChains",P$="walletCapabilities";class Sde{constructor(e){var n,r,i;this.metadata=e.metadata,this.communicator=e.communicator,this.callback=e.callback,this.keyManager=new wde,this.storage=new Ho("CBWSDK","SCWStateManager"),this.accounts=(n=this.storage.loadObject(R$))!==null&&n!==void 0?n:[],this.chain=this.storage.loadObject(N$)||{id:(i=(r=e.metadata.appChainIds)===null||r===void 0?void 0:r[0])!==null&&i!==void 0?i:1},this.handshake=this.handshake.bind(this),this.request=this.request.bind(this),this.createRequestMessage=this.createRequestMessage.bind(this),this.decryptResponseMessage=this.decryptResponseMessage.bind(this)}async handshake(e){var n,r,i,s;await((r=(n=this.communicator).waitForPopupLoaded)===null||r===void 0?void 0:r.call(n));const a=await this.createRequestMessage({handshake:{method:e.method,params:Object.assign({},this.metadata,(i=e.params)!==null&&i!==void 0?i:{})}}),c=await this.communicator.postRequestAndWaitForResponse(a);if("failure"in c.content)throw c.content.failure;const u=await Zz("public",c.sender);await this.keyManager.setPeerPublicKey(u);const h=(await this.decryptResponseMessage(c)).result;if("error"in h)throw h.error;if(e.method==="eth_requestAccounts"){const p=h.value;this.accounts=p,this.storage.storeObject(R$,p),(s=this.callback)===null||s===void 0||s.call(this,"accountsChanged",p)}}async request(e){var n;if(this.accounts.length===0){if(e.method==="wallet_sendCalls")return this.sendRequestToPopup(e);throw Yt.provider.unauthorized()}switch(e.method){case"eth_requestAccounts":return(n=this.callback)===null||n===void 0||n.call(this,"connect",{chainId:Su(this.chain.id)}),this.accounts;case"eth_accounts":return this.accounts;case"eth_coinbase":return this.accounts[0];case"net_version":return this.chain.id;case"eth_chainId":return Su(this.chain.id);case"wallet_getCapabilities":return this.storage.loadObject(P$);case"wallet_switchEthereumChain":return this.handleSwitchChainRequest(e);case"eth_ecRecover":case"personal_sign":case"wallet_sign":case"personal_ecRecover":case"eth_signTransaction":case"eth_sendTransaction":case"eth_signTypedData_v1":case"eth_signTypedData_v3":case"eth_signTypedData_v4":case"eth_signTypedData":case"wallet_addEthereumChain":case"wallet_watchAsset":case"wallet_sendCalls":case"wallet_showCallsStatus":case"wallet_grantPermissions":return this.sendRequestToPopup(e);default:if(!this.chain.rpcUrl)throw Yt.rpc.internal("No RPC URL set for chain");return uC(e,this.chain.rpcUrl)}}async sendRequestToPopup(e){var n,r;await((r=(n=this.communicator).waitForPopupLoaded)===null||r===void 0?void 0:r.call(n));const i=await this.sendEncryptedRequest(e),a=(await this.decryptResponseMessage(i)).result;if("error"in a)throw a.error;return a.value}async cleanup(){var e,n;this.storage.clear(),await this.keyManager.clear(),this.accounts=[],this.chain={id:(n=(e=this.metadata.appChainIds)===null||e===void 0?void 0:e[0])!==null&&n!==void 0?n:1}}async handleSwitchChainRequest(e){var n;const r=e.params;if(!r||!(!((n=r[0])===null||n===void 0)&&n.chainId))throw Yt.rpc.invalidParams();const i=Og(r[0].chainId);if(this.updateChain(i))return null;const a=await this.sendRequestToPopup(e);return a===null&&this.updateChain(i),a}async sendEncryptedRequest(e){const n=await this.keyManager.getSharedSecret();if(!n)throw Yt.provider.unauthorized("No valid session found, try requestAccounts before other methods");const r=await gde({action:e,chainId:this.chain.id},n),i=await this.createRequestMessage({encrypted:r});return this.communicator.postRequestAndWaitForResponse(i)}async createRequestMessage(e){const n=await Yz("public",await this.keyManager.getOwnPublicKey());return{id:crypto.randomUUID(),sender:n,content:e,timestamp:new Date}}async decryptResponseMessage(e){var n,r;const i=e.content;if("failure"in i)throw i.failure;const s=await this.keyManager.getSharedSecret();if(!s)throw Yt.provider.unauthorized("Invalid session");const a=await bde(i.encrypted,s),c=(n=a.data)===null||n===void 0?void 0:n.chains;if(c){const d=Object.entries(c).map(([h,p])=>({id:Number(h),rpcUrl:p}));this.storage.storeObject($$,d),this.updateChain(this.chain.id,d)}const u=(r=a.data)===null||r===void 0?void 0:r.capabilities;return u&&this.storage.storeObject(P$,u),a}updateChain(e,n){var r;const i=n??this.storage.loadObject($$),s=i?.find(a=>a.id===e);return s?(s!==this.chain&&(this.chain=s,this.storage.storeObject(N$,s),(r=this.callback)===null||r===void 0||r.call(this,"chainChanged",Su(s.id))),!0):!1}}var Sn={},Br={},D$;function Jz(){if(D$)return Br;D$=1,Object.defineProperty(Br,"__esModule",{value:!0}),Br.output=Br.exists=Br.hash=Br.bytes=Br.bool=Br.number=Br.isBytes=void 0;function t(u){if(!Number.isSafeInteger(u)||u<0)throw new Error(`positive integer expected, not ${u}`)}Br.number=t;function e(u){if(typeof u!="boolean")throw new Error(`boolean expected, not ${u}`)}Br.bool=e;function n(u){return u instanceof Uint8Array||u!=null&&typeof u=="object"&&u.constructor.name==="Uint8Array"}Br.isBytes=n;function r(u,...d){if(!n(u))throw new Error("Uint8Array expected");if(d.length>0&&!d.includes(u.length))throw new Error(`Uint8Array expected of length ${d}, not of length=${u.length}`)}Br.bytes=r;function i(u){if(typeof u!="function"||typeof u.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");t(u.outputLen),t(u.blockLen)}Br.hash=i;function s(u,d=!0){if(u.destroyed)throw new Error("Hash instance has been destroyed");if(d&&u.finished)throw new Error("Hash#digest() has already been called")}Br.exists=s;function a(u,d){r(u);const h=d.outputLen;if(u.length<h)throw new Error(`digestInto() expects output buffer of length at least ${h}`)}Br.output=a;const c={number:t,bool:e,bytes:r,hash:i,exists:s,output:a};return Br.default=c,Br}var pt={},M$;function xde(){if(M$)return pt;M$=1,Object.defineProperty(pt,"__esModule",{value:!0}),pt.add5L=pt.add5H=pt.add4H=pt.add4L=pt.add3H=pt.add3L=pt.add=pt.rotlBL=pt.rotlBH=pt.rotlSL=pt.rotlSH=pt.rotr32L=pt.rotr32H=pt.rotrBL=pt.rotrBH=pt.rotrSL=pt.rotrSH=pt.shrSL=pt.shrSH=pt.toBig=pt.split=pt.fromBig=void 0;const t=BigInt(2**32-1),e=BigInt(32);function n(L,B=!1){return B?{h:Number(L&t),l:Number(L>>e&t)}:{h:Number(L>>e&t)|0,l:Number(L&t)|0}}pt.fromBig=n;function r(L,B=!1){let V=new Uint32Array(L.length),D=new Uint32Array(L.length);for(let F=0;F<L.length;F++){const{h:K,l:T}=n(L[F],B);[V[F],D[F]]=[K,T]}return[V,D]}pt.split=r;const i=(L,B)=>BigInt(L>>>0)<<e|BigInt(B>>>0);pt.toBig=i;const s=(L,B,V)=>L>>>V;pt.shrSH=s;const a=(L,B,V)=>L<<32-V|B>>>V;pt.shrSL=a;const c=(L,B,V)=>L>>>V|B<<32-V;pt.rotrSH=c;const u=(L,B,V)=>L<<32-V|B>>>V;pt.rotrSL=u;const d=(L,B,V)=>L<<64-V|B>>>V-32;pt.rotrBH=d;const h=(L,B,V)=>L>>>V-32|B<<64-V;pt.rotrBL=h;const p=(L,B)=>B;pt.rotr32H=p;const m=(L,B)=>L;pt.rotr32L=m;const g=(L,B,V)=>L<<V|B>>>32-V;pt.rotlSH=g;const b=(L,B,V)=>B<<V|L>>>32-V;pt.rotlSL=b;const v=(L,B,V)=>B<<V-32|L>>>64-V;pt.rotlBH=v;const E=(L,B,V)=>L<<V-32|B>>>64-V;pt.rotlBL=E;function O(L,B,V,D){const F=(B>>>0)+(D>>>0);return{h:L+V+(F/2**32|0)|0,l:F|0}}pt.add=O;const k=(L,B,V)=>(L>>>0)+(B>>>0)+(V>>>0);pt.add3L=k;const S=(L,B,V,D)=>B+V+D+(L/2**32|0)|0;pt.add3H=S;const A=(L,B,V,D)=>(L>>>0)+(B>>>0)+(V>>>0)+(D>>>0);pt.add4L=A;const C=(L,B,V,D,F)=>B+V+D+F+(L/2**32|0)|0;pt.add4H=C;const I=(L,B,V,D,F)=>(L>>>0)+(B>>>0)+(V>>>0)+(D>>>0)+(F>>>0);pt.add5L=I;const $=(L,B,V,D,F,K)=>B+V+D+F+K+(L/2**32|0)|0;pt.add5H=$;const z={fromBig:n,split:r,toBig:i,shrSH:s,shrSL:a,rotrSH:c,rotrSL:u,rotrBH:d,rotrBL:h,rotr32H:p,rotr32L:m,rotlSH:g,rotlSL:b,rotlBH:v,rotlBL:E,add:O,add3L:k,add3H:S,add4L:A,add4H:C,add5H:$,add5L:I};return pt.default=z,pt}var cx={},rm={},U$;function Tde(){return U$||(U$=1,Object.defineProperty(rm,"__esModule",{value:!0}),rm.crypto=void 0,rm.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0),rm}var B$;function Ide(){return B$||(B$=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.randomBytes=t.wrapXOFConstructorWithOpts=t.wrapConstructorWithOpts=t.wrapConstructor=t.checkOpts=t.Hash=t.concatBytes=t.toBytes=t.utf8ToBytes=t.asyncLoop=t.nextTick=t.hexToBytes=t.bytesToHex=t.byteSwap32=t.byteSwapIfBE=t.byteSwap=t.isLE=t.rotl=t.rotr=t.createView=t.u32=t.u8=t.isBytes=void 0;const e=Tde(),n=Jz();function r(D){return D instanceof Uint8Array||D!=null&&typeof D=="object"&&D.constructor.name==="Uint8Array"}t.isBytes=r;const i=D=>new Uint8Array(D.buffer,D.byteOffset,D.byteLength);t.u8=i;const s=D=>new Uint32Array(D.buffer,D.byteOffset,Math.floor(D.byteLength/4));t.u32=s;const a=D=>new DataView(D.buffer,D.byteOffset,D.byteLength);t.createView=a;const c=(D,F)=>D<<32-F|D>>>F;t.rotr=c;const u=(D,F)=>D<<F|D>>>32-F>>>0;t.rotl=u,t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;const d=D=>D<<24&4278190080|D<<8&16711680|D>>>8&65280|D>>>24&255;t.byteSwap=d,t.byteSwapIfBE=t.isLE?D=>D:D=>(0,t.byteSwap)(D);function h(D){for(let F=0;F<D.length;F++)D[F]=(0,t.byteSwap)(D[F])}t.byteSwap32=h;const p=Array.from({length:256},(D,F)=>F.toString(16).padStart(2,"0"));function m(D){(0,n.bytes)(D);let F="";for(let K=0;K<D.length;K++)F+=p[D[K]];return F}t.bytesToHex=m;const g={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function b(D){if(D>=g._0&&D<=g._9)return D-g._0;if(D>=g._A&&D<=g._F)return D-(g._A-10);if(D>=g._a&&D<=g._f)return D-(g._a-10)}function v(D){if(typeof D!="string")throw new Error("hex string expected, got "+typeof D);const F=D.length,K=F/2;if(F%2)throw new Error("padded hex string expected, got unpadded hex of length "+F);const T=new Uint8Array(K);for(let x=0,N=0;x<K;x++,N+=2){const j=b(D.charCodeAt(N)),P=b(D.charCodeAt(N+1));if(j===void 0||P===void 0){const H=D[N]+D[N+1];throw new Error('hex string expected, got non-hex character "'+H+'" at index '+N)}T[x]=j*16+P}return T}t.hexToBytes=v;const E=async()=>{};t.nextTick=E;async function O(D,F,K){let T=Date.now();for(let x=0;x<D;x++){K(x);const N=Date.now()-T;N>=0&&N<F||(await(0,t.nextTick)(),T+=N)}}t.asyncLoop=O;function k(D){if(typeof D!="string")throw new Error(`utf8ToBytes expected string, got ${typeof D}`);return new Uint8Array(new TextEncoder().encode(D))}t.utf8ToBytes=k;function S(D){return typeof D=="string"&&(D=k(D)),(0,n.bytes)(D),D}t.toBytes=S;function A(...D){let F=0;for(let T=0;T<D.length;T++){const x=D[T];(0,n.bytes)(x),F+=x.length}const K=new Uint8Array(F);for(let T=0,x=0;T<D.length;T++){const N=D[T];K.set(N,x),x+=N.length}return K}t.concatBytes=A;class C{clone(){return this._cloneInto()}}t.Hash=C;const I={}.toString;function $(D,F){if(F!==void 0&&I.call(F)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(D,F)}t.checkOpts=$;function z(D){const F=T=>D().update(S(T)).digest(),K=D();return F.outputLen=K.outputLen,F.blockLen=K.blockLen,F.create=()=>D(),F}t.wrapConstructor=z;function L(D){const F=(T,x)=>D(x).update(S(T)).digest(),K=D({});return F.outputLen=K.outputLen,F.blockLen=K.blockLen,F.create=T=>D(T),F}t.wrapConstructorWithOpts=L;function B(D){const F=(T,x)=>D(x).update(S(T)).digest(),K=D({});return F.outputLen=K.outputLen,F.blockLen=K.blockLen,F.create=T=>D(T),F}t.wrapXOFConstructorWithOpts=B;function V(D=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(D));throw new Error("crypto.getRandomValues must be defined")}t.randomBytes=V})(cx)),cx}var L$;function Cde(){if(L$)return Sn;L$=1,Object.defineProperty(Sn,"__esModule",{value:!0}),Sn.shake256=Sn.shake128=Sn.keccak_512=Sn.keccak_384=Sn.keccak_256=Sn.keccak_224=Sn.sha3_512=Sn.sha3_384=Sn.sha3_256=Sn.sha3_224=Sn.Keccak=Sn.keccakP=void 0;const t=Jz(),e=xde(),n=Ide(),r=[],i=[],s=[],a=BigInt(0),c=BigInt(1),u=BigInt(2),d=BigInt(7),h=BigInt(256),p=BigInt(113);for(let A=0,C=c,I=1,$=0;A<24;A++){[I,$]=[$,(2*I+3*$)%5],r.push(2*(5*$+I)),i.push((A+1)*(A+2)/2%64);let z=a;for(let L=0;L<7;L++)C=(C<<c^(C>>d)*p)%h,C&u&&(z^=c<<(c<<BigInt(L))-c);s.push(z)}const[m,g]=(0,e.split)(s,!0),b=(A,C,I)=>I>32?(0,e.rotlBH)(A,C,I):(0,e.rotlSH)(A,C,I),v=(A,C,I)=>I>32?(0,e.rotlBL)(A,C,I):(0,e.rotlSL)(A,C,I);function E(A,C=24){const I=new Uint32Array(10);for(let $=24-C;$<24;$++){for(let B=0;B<10;B++)I[B]=A[B]^A[B+10]^A[B+20]^A[B+30]^A[B+40];for(let B=0;B<10;B+=2){const V=(B+8)%10,D=(B+2)%10,F=I[D],K=I[D+1],T=b(F,K,1)^I[V],x=v(F,K,1)^I[V+1];for(let N=0;N<50;N+=10)A[B+N]^=T,A[B+N+1]^=x}let z=A[2],L=A[3];for(let B=0;B<24;B++){const V=i[B],D=b(z,L,V),F=v(z,L,V),K=r[B];z=A[K],L=A[K+1],A[K]=D,A[K+1]=F}for(let B=0;B<50;B+=10){for(let V=0;V<10;V++)I[V]=A[B+V];for(let V=0;V<10;V++)A[B+V]^=~I[(V+2)%10]&I[(V+4)%10]}A[0]^=m[$],A[1]^=g[$]}I.fill(0)}Sn.keccakP=E;class O extends n.Hash{constructor(C,I,$,z=!1,L=24){if(super(),this.blockLen=C,this.suffix=I,this.outputLen=$,this.enableXOF=z,this.rounds=L,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,t.number)($),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,n.u32)(this.state)}keccak(){n.isLE||(0,n.byteSwap32)(this.state32),E(this.state32,this.rounds),n.isLE||(0,n.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(C){(0,t.exists)(this);const{blockLen:I,state:$}=this;C=(0,n.toBytes)(C);const z=C.length;for(let L=0;L<z;){const B=Math.min(I-this.pos,z-L);for(let V=0;V<B;V++)$[this.pos++]^=C[L++];this.pos===I&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:C,suffix:I,pos:$,blockLen:z}=this;C[$]^=I,(I&128)!==0&&$===z-1&&this.keccak(),C[z-1]^=128,this.keccak()}writeInto(C){(0,t.exists)(this,!1),(0,t.bytes)(C),this.finish();const I=this.state,{blockLen:$}=this;for(let z=0,L=C.length;z<L;){this.posOut>=$&&this.keccak();const B=Math.min($-this.posOut,L-z);C.set(I.subarray(this.posOut,this.posOut+B),z),this.posOut+=B,z+=B}return C}xofInto(C){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(C)}xof(C){return(0,t.number)(C),this.xofInto(new Uint8Array(C))}digestInto(C){if((0,t.output)(C,this),this.finished)throw new Error("digest() was already called");return this.writeInto(C),this.destroy(),C}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(C){const{blockLen:I,suffix:$,outputLen:z,rounds:L,enableXOF:B}=this;return C||(C=new O(I,$,z,B,L)),C.state32.set(this.state32),C.pos=this.pos,C.posOut=this.posOut,C.finished=this.finished,C.rounds=L,C.suffix=$,C.outputLen=z,C.enableXOF=B,C.destroyed=this.destroyed,C}}Sn.Keccak=O;const k=(A,C,I)=>(0,n.wrapConstructor)(()=>new O(C,A,I));Sn.sha3_224=k(6,144,224/8),Sn.sha3_256=k(6,136,256/8),Sn.sha3_384=k(6,104,384/8),Sn.sha3_512=k(6,72,512/8),Sn.keccak_224=k(1,144,224/8),Sn.keccak_256=k(1,136,256/8),Sn.keccak_384=k(1,104,384/8),Sn.keccak_512=k(1,72,512/8);const S=(A,C,I)=>(0,n.wrapXOFConstructorWithOpts)(($={})=>new O(C,A,$.dkLen===void 0?I:$.dkLen,!0));return Sn.shake128=S(31,168,128/8),Sn.shake256=S(31,136,256/8),Sn}var lx,j$;function Qz(){if(j$)return lx;j$=1;const{keccak_256:t}=Cde();function e(g){return Buffer.allocUnsafe(g).fill(0)}function n(g){return g.toString(2).length}function r(g,b){let v=g.toString(16);v.length%2!==0&&(v="0"+v);const E=v.match(/.{1,2}/g).map(O=>parseInt(O,16));for(;E.length<b;)E.unshift(0);return Buffer.from(E)}function i(g,b){const v=g<0n;let E;if(v){const O=(1n<<BigInt(b))-1n;E=(~g&O)+1n}else E=g;return E&=(1n<<BigInt(b))-1n,E}function s(g,b,v){const E=e(b);return g=c(g),v?g.length<b?(g.copy(E),E):g.slice(0,b):g.length<b?(g.copy(E,b-g.length),E):g.slice(-b)}function a(g,b){return s(g,b,!0)}function c(g){if(!Buffer.isBuffer(g))if(Array.isArray(g))g=Buffer.from(g);else if(typeof g=="string")p(g)?g=Buffer.from(h(m(g)),"hex"):g=Buffer.from(g);else if(typeof g=="number")g=intToBuffer(g);else if(g==null)g=Buffer.allocUnsafe(0);else if(typeof g=="bigint")g=r(g);else if(g.toArray)g=Buffer.from(g.toArray());else throw new Error("invalid type");return g}function u(g){return g=c(g),"0x"+g.toString("hex")}function d(g,b){if(g=c(g),b||(b=256),b!==256)throw new Error("unsupported");return Buffer.from(t(new Uint8Array(g)))}function h(g){return g.length%2?"0"+g:g}function p(g){return typeof g=="string"&&g.match(/^0x[0-9A-Fa-f]*$/)}function m(g){return typeof g=="string"&&g.startsWith("0x")?g.slice(2):g}return lx={zeros:e,setLength:s,setLengthRight:a,isHexString:p,stripHexPrefix:m,toBuffer:c,bufferToHex:u,keccak:d,bitLengthFromBigInt:n,bufferBEFromBigInt:r,twosFromBigInt:i},lx}var ux,z$;function Ode(){if(z$)return ux;z$=1;const t=Qz();function e(m){return m.startsWith("int[")?"int256"+m.slice(3):m==="int"?"int256":m.startsWith("uint[")?"uint256"+m.slice(4):m==="uint"?"uint256":m.startsWith("fixed[")?"fixed128x128"+m.slice(5):m==="fixed"?"fixed128x128":m.startsWith("ufixed[")?"ufixed128x128"+m.slice(6):m==="ufixed"?"ufixed128x128":m}function n(m){return Number.parseInt(/^\D+(\d+)$/.exec(m)[1],10)}function r(m){var g=/^\D+(\d+)x(\d+)$/.exec(m);return[Number.parseInt(g[1],10),Number.parseInt(g[2],10)]}function i(m){var g=m.match(/(.*)\[(.*?)\]$/);return g?g[2]===""?"dynamic":Number.parseInt(g[2],10):null}function s(m){var g=typeof m;if(g==="string"||g==="number")return BigInt(m);if(g==="bigint")return m;throw new Error("Argument is not a number")}function a(m,g){var b,v,E,O;if(m==="address")return a("uint160",s(g));if(m==="bool")return a("uint8",g?1:0);if(m==="string")return a("bytes",new Buffer(g,"utf8"));if(u(m)){if(typeof g.length>"u")throw new Error("Not an array?");if(b=i(m),b!=="dynamic"&&b!==0&&g.length>b)throw new Error("Elements exceed array size: "+b);E=[],m=m.slice(0,m.lastIndexOf("[")),typeof g=="string"&&(g=JSON.parse(g));for(O in g)E.push(a(m,g[O]));if(b==="dynamic"){var k=a("uint256",g.length);E.unshift(k)}return Buffer.concat(E)}else{if(m==="bytes")return g=new Buffer(g),E=Buffer.concat([a("uint256",g.length),g]),g.length%32!==0&&(E=Buffer.concat([E,t.zeros(32-g.length%32)])),E;if(m.startsWith("bytes")){if(b=n(m),b<1||b>32)throw new Error("Invalid bytes<N> width: "+b);return t.setLengthRight(g,32)}else if(m.startsWith("uint")){if(b=n(m),b%8||b<8||b>256)throw new Error("Invalid uint<N> width: "+b);v=s(g);const S=t.bitLengthFromBigInt(v);if(S>b)throw new Error("Supplied uint exceeds width: "+b+" vs "+S);if(v<0)throw new Error("Supplied uint is negative");return t.bufferBEFromBigInt(v,32)}else if(m.startsWith("int")){if(b=n(m),b%8||b<8||b>256)throw new Error("Invalid int<N> width: "+b);v=s(g);const S=t.bitLengthFromBigInt(v);if(S>b)throw new Error("Supplied int exceeds width: "+b+" vs "+S);const A=t.twosFromBigInt(v,256);return t.bufferBEFromBigInt(A,32)}else if(m.startsWith("ufixed")){if(b=r(m),v=s(g),v<0)throw new Error("Supplied ufixed is negative");return a("uint256",v*BigInt(2)**BigInt(b[1]))}else if(m.startsWith("fixed"))return b=r(m),a("int256",s(g)*BigInt(2)**BigInt(b[1]))}throw new Error("Unsupported or invalid type: "+m)}function c(m){return m==="string"||m==="bytes"||i(m)==="dynamic"}function u(m){return m.lastIndexOf("]")===m.length-1}function d(m,g){var b=[],v=[],E=32*m.length;for(var O in m){var k=e(m[O]),S=g[O],A=a(k,S);c(k)?(b.push(a("uint256",E)),v.push(A),E+=A.length):b.push(A)}return Buffer.concat(b.concat(v))}function h(m,g){if(m.length!==g.length)throw new Error("Number of types are not matching the values");for(var b,v,E=[],O=0;O<m.length;O++){var k=e(m[O]),S=g[O];if(k==="bytes")E.push(S);else if(k==="string")E.push(new Buffer(S,"utf8"));else if(k==="bool")E.push(new Buffer(S?"01":"00","hex"));else if(k==="address")E.push(t.setLength(S,20));else if(k.startsWith("bytes")){if(b=n(k),b<1||b>32)throw new Error("Invalid bytes<N> width: "+b);E.push(t.setLengthRight(S,b))}else if(k.startsWith("uint")){if(b=n(k),b%8||b<8||b>256)throw new Error("Invalid uint<N> width: "+b);v=s(S);const A=t.bitLengthFromBigInt(v);if(A>b)throw new Error("Supplied uint exceeds width: "+b+" vs "+A);E.push(t.bufferBEFromBigInt(v,b/8))}else if(k.startsWith("int")){if(b=n(k),b%8||b<8||b>256)throw new Error("Invalid int<N> width: "+b);v=s(S);const A=t.bitLengthFromBigInt(v);if(A>b)throw new Error("Supplied int exceeds width: "+b+" vs "+A);const C=t.twosFromBigInt(v,b);E.push(t.bufferBEFromBigInt(C,b/8))}else throw new Error("Unsupported or invalid type: "+k)}return Buffer.concat(E)}function p(m,g){return t.keccak(h(m,g))}return ux={rawEncode:d,solidityPack:h,soliditySHA3:p},ux}var dx,F$;function kde(){if(F$)return dx;F$=1;const t=Qz(),e=Ode(),n={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},r={encodeData(s,a,c,u=!0){const d=["bytes32"],h=[this.hashType(s,c)];if(u){const p=(m,g,b)=>{if(c[g]!==void 0)return["bytes32",b==null?"0x0000000000000000000000000000000000000000000000000000000000000000":t.keccak(this.encodeData(g,b,c,u))];if(b===void 0)throw new Error(`missing value for field ${m} of type ${g}`);if(g==="bytes")return["bytes32",t.keccak(b)];if(g==="string")return typeof b=="string"&&(b=Buffer.from(b,"utf8")),["bytes32",t.keccak(b)];if(g.lastIndexOf("]")===g.length-1){const v=g.slice(0,g.lastIndexOf("[")),E=b.map(O=>p(m,v,O));return["bytes32",t.keccak(e.rawEncode(E.map(([O])=>O),E.map(([,O])=>O)))]}return[g,b]};for(const m of c[s]){const[g,b]=p(m.name,m.type,a[m.name]);d.push(g),h.push(b)}}else for(const p of c[s]){let m=a[p.name];if(m!==void 0)if(p.type==="bytes")d.push("bytes32"),m=t.keccak(m),h.push(m);else if(p.type==="string")d.push("bytes32"),typeof m=="string"&&(m=Buffer.from(m,"utf8")),m=t.keccak(m),h.push(m);else if(c[p.type]!==void 0)d.push("bytes32"),m=t.keccak(this.encodeData(p.type,m,c,u)),h.push(m);else{if(p.type.lastIndexOf("]")===p.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");d.push(p.type),h.push(m)}}return e.rawEncode(d,h)},encodeType(s,a){let c="",u=this.findTypeDependencies(s,a).filter(d=>d!==s);u=[s].concat(u.sort());for(const d of u){if(!a[d])throw new Error("No type definition specified: "+d);c+=d+"("+a[d].map(({name:p,type:m})=>m+" "+p).join(",")+")"}return c},findTypeDependencies(s,a,c=[]){if(s=s.match(/^\w*/)[0],c.includes(s)||a[s]===void 0)return c;c.push(s);for(const u of a[s])for(const d of this.findTypeDependencies(u.type,a,c))!c.includes(d)&&c.push(d);return c},hashStruct(s,a,c,u=!0){return t.keccak(this.encodeData(s,a,c,u))},hashType(s,a){return t.keccak(this.encodeType(s,a))},sanitizeData(s){const a={};for(const c in n.properties)s[c]&&(a[c]=s[c]);return a.types&&(a.types=Object.assign({EIP712Domain:[]},a.types)),a},hash(s,a=!0){const c=this.sanitizeData(s),u=[Buffer.from("1901","hex")];return u.push(this.hashStruct("EIP712Domain",c.domain,c.types,a)),c.primaryType!=="EIP712Domain"&&u.push(this.hashStruct(c.primaryType,c.message,c.types,a)),t.keccak(Buffer.concat(u))}};dx={TYPED_MESSAGE_SCHEMA:n,TypedDataUtils:r,hashForSignTypedDataLegacy:function(s){return i(s.data)},hashForSignTypedData_v3:function(s){return r.hash(s.data,!1)},hashForSignTypedData_v4:function(s){return r.hash(s.data)}};function i(s){const a=new Error("Expect argument to be non-empty array");if(typeof s!="object"||!s.length)throw a;const c=s.map(function(h){return h.type==="bytes"?t.toBuffer(h.value):h.value}),u=s.map(function(h){return h.type}),d=s.map(function(h){if(!h.name)throw a;return h.type+" "+h.name});return e.soliditySHA3(["bytes32","bytes32"],[e.soliditySHA3(new Array(s.length).fill("string"),d),e.soliditySHA3(u,c)])}return dx}var Rde=kde();const ov=Uu(Rde),Nde="walletUsername",h5="Addresses",$de="AppVersion";function ui(t){return t.errorMessage!==void 0}class Pde{constructor(e){this.secret=e}async encrypt(e){const n=this.secret;if(n.length!==64)throw Error("secret must be 256 bits");const r=crypto.getRandomValues(new Uint8Array(12)),i=await crypto.subtle.importKey("raw",Zv(n),{name:"aes-gcm"},!1,["encrypt","decrypt"]),s=new TextEncoder,a=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},i,s.encode(e)),c=16,u=a.slice(a.byteLength-c),d=a.slice(0,a.byteLength-c),h=new Uint8Array(u),p=new Uint8Array(d),m=new Uint8Array([...r,...h,...p]);return oC(m)}async decrypt(e){const n=this.secret;if(n.length!==64)throw Error("secret must be 256 bits");return new Promise((r,i)=>{(async function(){const s=await crypto.subtle.importKey("raw",Zv(n),{name:"aes-gcm"},!1,["encrypt","decrypt"]),a=Zv(e),c=a.slice(0,12),u=a.slice(12,28),d=a.slice(28),h=new Uint8Array([...d,...u]),p={name:"AES-GCM",iv:new Uint8Array(c)};try{const m=await window.crypto.subtle.decrypt(p,s,h),g=new TextDecoder;r(g.decode(m))}catch(m){i(m)}})()})}}class Dde{constructor(e,n,r){this.linkAPIUrl=e,this.sessionId=n;const i=`${n}:${r}`;this.auth=`Basic ${btoa(i)}`}async markUnseenEventsAsSeen(e){return Promise.all(e.map(n=>fetch(`${this.linkAPIUrl}/events/${n.eventId}/seen`,{method:"POST",headers:{Authorization:this.auth}}))).catch(n=>console.error("Unabled to mark event as failed:",n))}async fetchUnseenEvents(){var e;const n=await fetch(`${this.linkAPIUrl}/events?unseen=true`,{headers:{Authorization:this.auth}});if(n.ok){const{events:r,error:i}=await n.json();if(i)throw new Error(`Check unseen events failed: ${i}`);const s=(e=r?.filter(a=>a.event==="Web3Response").map(a=>({type:"Event",sessionId:this.sessionId,eventId:a.id,event:a.event,data:a.data})))!==null&&e!==void 0?e:[];return this.markUnseenEventsAsSeen(s),s}throw new Error(`Check unseen events failed: ${n.status}`)}}var Zc;(function(t){t[t.DISCONNECTED=0]="DISCONNECTED",t[t.CONNECTING=1]="CONNECTING",t[t.CONNECTED=2]="CONNECTED"})(Zc||(Zc={}));class Mde{setConnectionStateListener(e){this.connectionStateListener=e}setIncomingDataListener(e){this.incomingDataListener=e}constructor(e,n=WebSocket){this.WebSocketClass=n,this.webSocket=null,this.pendingData=[],this.url=e.replace(/^http/,"ws")}async connect(){if(this.webSocket)throw new Error("webSocket object is not null");return new Promise((e,n)=>{var r;let i;try{this.webSocket=i=new this.WebSocketClass(this.url)}catch(s){n(s);return}(r=this.connectionStateListener)===null||r===void 0||r.call(this,Zc.CONNECTING),i.onclose=s=>{var a;this.clearWebSocket(),n(new Error(`websocket error ${s.code}: ${s.reason}`)),(a=this.connectionStateListener)===null||a===void 0||a.call(this,Zc.DISCONNECTED)},i.onopen=s=>{var a;e(),(a=this.connectionStateListener)===null||a===void 0||a.call(this,Zc.CONNECTED),this.pendingData.length>0&&([...this.pendingData].forEach(u=>this.sendData(u)),this.pendingData=[])},i.onmessage=s=>{var a,c;if(s.data==="h")(a=this.incomingDataListener)===null||a===void 0||a.call(this,{type:"Heartbeat"});else try{const u=JSON.parse(s.data);(c=this.incomingDataListener)===null||c===void 0||c.call(this,u)}catch{}}})}disconnect(){var e;const{webSocket:n}=this;if(n){this.clearWebSocket(),(e=this.connectionStateListener)===null||e===void 0||e.call(this,Zc.DISCONNECTED),this.connectionStateListener=void 0,this.incomingDataListener=void 0;try{n.close()}catch{}}}sendData(e){const{webSocket:n}=this;if(!n){this.pendingData.push(e),this.connect();return}n.send(e)}clearWebSocket(){const{webSocket:e}=this;e&&(this.webSocket=null,e.onclose=null,e.onerror=null,e.onmessage=null,e.onopen=null)}}const q$=1e4,Ude=6e4;class Bde{constructor({session:e,linkAPIUrl:n,listener:r}){this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=qc(1),this._connected=!1,this._linked=!1,this.shouldFetchUnseenEventsOnConnect=!1,this.requestResolutions=new Map,this.handleSessionMetadataUpdated=s=>{if(!s)return;new Map([["__destroyed",this.handleDestroyed],["EthereumAddress",this.handleAccountUpdated],["WalletUsername",this.handleWalletUsernameUpdated],["AppVersion",this.handleAppVersionUpdated],["ChainId",c=>s.JsonRpcUrl&&this.handleChainUpdated(c,s.JsonRpcUrl)]]).forEach((c,u)=>{const d=s[u];d!==void 0&&c(d)})},this.handleDestroyed=s=>{var a;s==="1"&&((a=this.listener)===null||a===void 0||a.resetAndReload())},this.handleAccountUpdated=async s=>{var a;const c=await this.cipher.decrypt(s);(a=this.listener)===null||a===void 0||a.accountUpdated(c)},this.handleMetadataUpdated=async(s,a)=>{var c;const u=await this.cipher.decrypt(a);(c=this.listener)===null||c===void 0||c.metadataUpdated(s,u)},this.handleWalletUsernameUpdated=async s=>{this.handleMetadataUpdated(Nde,s)},this.handleAppVersionUpdated=async s=>{this.handleMetadataUpdated($de,s)},this.handleChainUpdated=async(s,a)=>{var c;const u=await this.cipher.decrypt(s),d=await this.cipher.decrypt(a);(c=this.listener)===null||c===void 0||c.chainUpdated(u,d)},this.session=e,this.cipher=new Pde(e.secret),this.listener=r;const i=new Mde(`${n}/rpc`,WebSocket);i.setConnectionStateListener(async s=>{let a=!1;switch(s){case Zc.DISCONNECTED:if(!this.destroyed){const c=async()=>{await new Promise(u=>setTimeout(u,5e3)),this.destroyed||i.connect().catch(()=>{c()})};c()}break;case Zc.CONNECTED:a=await this.handleConnected(),this.updateLastHeartbeat(),setInterval(()=>{this.heartbeat()},q$),this.shouldFetchUnseenEventsOnConnect&&this.fetchUnseenEventsAPI();break;case Zc.CONNECTING:break}this.connected!==a&&(this.connected=a)}),i.setIncomingDataListener(s=>{var a;switch(s.type){case"Heartbeat":this.updateLastHeartbeat();return;case"IsLinkedOK":case"Linked":{const c=s.type==="IsLinkedOK"?s.linked:void 0;this.linked=c||s.onlineGuests>0;break}case"GetSessionConfigOK":case"SessionConfigUpdated":{this.handleSessionMetadataUpdated(s.metadata);break}case"Event":{this.handleIncomingEvent(s);break}}s.id!==void 0&&((a=this.requestResolutions.get(s.id))===null||a===void 0||a(s))}),this.ws=i,this.http=new Dde(n,e.id,e.key)}connect(){if(this.destroyed)throw new Error("instance is destroyed");this.ws.connect()}async destroy(){this.destroyed||(await this.makeRequest({type:"SetSessionConfig",id:qc(this.nextReqId++),sessionId:this.session.id,metadata:{__destroyed:"1"}},{timeout:1e3}),this.destroyed=!0,this.ws.disconnect(),this.listener=void 0)}get connected(){return this._connected}set connected(e){this._connected=e}get linked(){return this._linked}set linked(e){var n,r;this._linked=e,e&&((n=this.onceLinked)===null||n===void 0||n.call(this)),(r=this.listener)===null||r===void 0||r.linkedUpdated(e)}setOnceLinked(e){return new Promise(n=>{this.linked?e().then(n):this.onceLinked=()=>{e().then(n),this.onceLinked=void 0}})}async handleIncomingEvent(e){var n;if(e.type!=="Event"||e.event!=="Web3Response")return;const r=await this.cipher.decrypt(e.data),i=JSON.parse(r);if(i.type!=="WEB3_RESPONSE")return;const{id:s,response:a}=i;(n=this.listener)===null||n===void 0||n.handleWeb3ResponseMessage(s,a)}async checkUnseenEvents(){if(!this.connected){this.shouldFetchUnseenEventsOnConnect=!0;return}await new Promise(e=>setTimeout(e,250));try{await this.fetchUnseenEventsAPI()}catch(e){console.error("Unable to check for unseen events",e)}}async fetchUnseenEventsAPI(){this.shouldFetchUnseenEventsOnConnect=!1,(await this.http.fetchUnseenEvents()).forEach(n=>this.handleIncomingEvent(n))}async publishEvent(e,n,r=!1){const i=await this.cipher.encrypt(JSON.stringify(Object.assign(Object.assign({},n),{origin:location.origin,location:location.href,relaySource:"coinbaseWalletExtension"in window&&window.coinbaseWalletExtension?"injected_sdk":"sdk"}))),s={type:"PublishEvent",id:qc(this.nextReqId++),sessionId:this.session.id,event:e,data:i,callWebhook:r};return this.setOnceLinked(async()=>{const a=await this.makeRequest(s);if(a.type==="Fail")throw new Error(a.error||"failed to publish event");return a.eventId})}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>q$*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}async makeRequest(e,n={timeout:Ude}){const r=e.id;this.sendData(e);let i;return Promise.race([new Promise((s,a)=>{i=window.setTimeout(()=>{a(new Error(`request ${r} timed out`))},n.timeout)}),new Promise(s=>{this.requestResolutions.set(r,a=>{clearTimeout(i),s(a),this.requestResolutions.delete(r)})})])}async handleConnected(){return(await this.makeRequest({type:"HostSession",id:qc(this.nextReqId++),sessionId:this.session.id,sessionKey:this.session.key})).type==="Fail"?!1:(this.sendData({type:"IsLinked",id:qc(this.nextReqId++),sessionId:this.session.id}),this.sendData({type:"GetSessionConfig",id:qc(this.nextReqId++),sessionId:this.session.id}),!0)}}class Lde{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,n=Gz(e.toString(16));return this.callbacks.get(n)&&this.callbacks.delete(n),e}}function jde(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function dC(t,...e){if(!jde(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function W$(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function zde(t,e){dC(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const fx=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),wo=(t,e)=>t<<32-e|t>>>e;new Uint8Array(new Uint32Array([287454020]).buffer)[0];const Fde=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function qde(t){dC(t);let e="";for(let n=0;n<t.length;n++)e+=Fde[t[n]];return e}function Wde(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function eF(t){return typeof t=="string"&&(t=Wde(t)),dC(t),t}let Vde=class{clone(){return this._cloneInto()}};function Hde(t){const e=r=>t().update(eF(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Gde(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),a=Number(n>>i&s),c=Number(n&s),u=r?4:0,d=r?0:4;t.setUint32(e+u,a,r),t.setUint32(e+d,c,r)}const Kde=(t,e,n)=>t&e^~t&n,Yde=(t,e,n)=>t&e^t&n^e&n;let Zde=class extends Vde{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=fx(this.buffer)}update(e){W$(this);const{view:n,buffer:r,blockLen:i}=this;e=eF(e);const s=e.length;for(let a=0;a<s;){const c=Math.min(i-this.pos,s-a);if(c===i){const u=fx(e);for(;i<=s-a;a+=i)this.process(u,a);continue}r.set(e.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){W$(this),zde(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:a}=this;n[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(r,0),a=0);for(let p=a;p<i;p++)n[p]=0;Gde(r,i-8,BigInt(this.length*8),s),this.process(r,0);const c=fx(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=u/4,h=this.get();if(d>h.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<d;p++)c.setUint32(4*p,h[p],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:a,pos:c}=this;return e.length=i,e.pos=c,e.finished=s,e.destroyed=a,i%n&&e.buffer.set(r),e}};const Xde=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Zl=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Xl=new Uint32Array(64);let Jde=class extends Zde{constructor(){super(64,32,8,!1),this.A=Zl[0]|0,this.B=Zl[1]|0,this.C=Zl[2]|0,this.D=Zl[3]|0,this.E=Zl[4]|0,this.F=Zl[5]|0,this.G=Zl[6]|0,this.H=Zl[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:a,G:c,H:u}=this;return[e,n,r,i,s,a,c,u]}set(e,n,r,i,s,a,c,u){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=c|0,this.H=u|0}process(e,n){for(let p=0;p<16;p++,n+=4)Xl[p]=e.getUint32(n,!1);for(let p=16;p<64;p++){const m=Xl[p-15],g=Xl[p-2],b=wo(m,7)^wo(m,18)^m>>>3,v=wo(g,17)^wo(g,19)^g>>>10;Xl[p]=v+Xl[p-7]+b+Xl[p-16]|0}let{A:r,B:i,C:s,D:a,E:c,F:u,G:d,H:h}=this;for(let p=0;p<64;p++){const m=wo(c,6)^wo(c,11)^wo(c,25),g=h+m+Kde(c,u,d)+Xde[p]+Xl[p]|0,v=(wo(r,2)^wo(r,13)^wo(r,22))+Yde(r,i,s)|0;h=d,d=u,u=c,c=a+g|0,a=s,s=i,i=r,r=g+v|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,c=c+this.E|0,u=u+this.F|0,d=d+this.G|0,h=h+this.H|0,this.set(r,i,s,a,c,u,d,h)}roundClean(){Xl.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const Qde=Hde(()=>new Jde),V$="session:id",H$="session:secret",G$="session:linked";class np{constructor(e,n,r,i=!1){this.storage=e,this.id=n,this.secret=r,this.key=qde(Qde(`${n}, ${r} WalletLink`)),this._linked=!!i}static create(e){const n=Cd(16),r=Cd(32);return new np(e,n,r).save()}static load(e){const n=e.getItem(V$),r=e.getItem(G$),i=e.getItem(H$);return n&&i?new np(e,n,i,r==="1"):null}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this.storage.setItem(V$,this.id),this.storage.setItem(H$,this.secret),this.persistLinked(),this}persistLinked(){this.storage.setItem(G$,this._linked?"1":"0")}}function efe(){try{return window.frameElement!==null}catch{return!1}}function tfe(){try{return efe()&&window.top?window.top.location:window.location}catch{return window.location}}function nfe(){var t;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test((t=window?.navigator)===null||t===void 0?void 0:t.userAgent)}function tF(){var t,e;return(e=(t=window?.matchMedia)===null||t===void 0?void 0:t.call(window,"(prefers-color-scheme: dark)").matches)!==null&&e!==void 0?e:!1}const rfe='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';function nF(){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(rfe)),document.documentElement.appendChild(t)}function rF(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=rF(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function kg(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=rF(t))&&(r&&(r+=" "),r+=e);return r}var pE,Fn,iF,Od,K$,sF,p5,fC,y5,m5,g0={},aF=[],ife=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,hC=Array.isArray;function xu(t,e){for(var n in e)t[n]=e[n];return t}function oF(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function vn(t,e,n){var r,i,s,a={};for(s in e)s=="key"?r=e[s]:s=="ref"?i=e[s]:a[s]=e[s];if(arguments.length>2&&(a.children=arguments.length>3?pE.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)a[s]===void 0&&(a[s]=t.defaultProps[s]);return Xv(t,a,r,i,null)}function Xv(t,e,n,r,i){var s={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:i??++iF,__i:-1,__u:0};return i==null&&Fn.vnode!=null&&Fn.vnode(s),s}function yE(t){return t.children}function Jv(t,e){this.props=t,this.context=e}function Ip(t,e){if(e==null)return t.__?Ip(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?Ip(t):null}function cF(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return cF(t)}}function Y$(t){(!t.__d&&(t.__d=!0)&&Od.push(t)&&!K1.__r++||K$!==Fn.debounceRendering)&&((K$=Fn.debounceRendering)||sF)(K1)}function K1(){var t,e,n,r,i,s,a,c;for(Od.sort(p5);t=Od.shift();)t.__d&&(e=Od.length,r=void 0,s=(i=(n=t).__v).__e,a=[],c=[],n.__P&&((r=xu({},i)).__v=i.__v+1,Fn.vnode&&Fn.vnode(r),pC(n.__P,r,i,n.__n,n.__P.namespaceURI,32&i.__u?[s]:null,a,s??Ip(i),!!(32&i.__u),c),r.__v=i.__v,r.__.__k[r.__i]=r,dF(a,r,c),r.__e!=s&&cF(r)),Od.length>e&&Od.sort(p5));K1.__r=0}function lF(t,e,n,r,i,s,a,c,u,d,h){var p,m,g,b,v,E=r&&r.__k||aF,O=e.length;for(n.__d=u,sfe(n,e,E),u=n.__d,p=0;p<O;p++)(g=n.__k[p])!=null&&(m=g.__i===-1?g0:E[g.__i]||g0,g.__i=p,pC(t,g,m,i,s,a,c,u,d,h),b=g.__e,g.ref&&m.ref!=g.ref&&(m.ref&&yC(m.ref,null,g),h.push(g.ref,g.__c||b,g)),v==null&&b!=null&&(v=b),65536&g.__u||m.__k===g.__k?u=uF(g,u,t):typeof g.type=="function"&&g.__d!==void 0?u=g.__d:b&&(u=b.nextSibling),g.__d=void 0,g.__u&=-196609);n.__d=u,n.__e=v}function sfe(t,e,n){var r,i,s,a,c,u=e.length,d=n.length,h=d,p=0;for(t.__k=[],r=0;r<u;r++)(i=e[r])!=null&&typeof i!="boolean"&&typeof i!="function"?(a=r+p,(i=t.__k[r]=typeof i=="string"||typeof i=="number"||typeof i=="bigint"||i.constructor==String?Xv(null,i,null,null,null):hC(i)?Xv(yE,{children:i},null,null,null):i.constructor===void 0&&i.__b>0?Xv(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i).__=t,i.__b=t.__b+1,s=null,(c=i.__i=afe(i,n,a,h))!==-1&&(h--,(s=n[c])&&(s.__u|=131072)),s==null||s.__v===null?(c==-1&&p--,typeof i.type!="function"&&(i.__u|=65536)):c!==a&&(c==a-1?p--:c==a+1?p++:(c>a?p--:p++,i.__u|=65536))):i=t.__k[r]=null;if(h)for(r=0;r<d;r++)(s=n[r])!=null&&(131072&s.__u)==0&&(s.__e==t.__d&&(t.__d=Ip(s)),fF(s,s))}function uF(t,e,n){var r,i;if(typeof t.type=="function"){for(r=t.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=t,e=uF(r[i],e,n));return e}t.__e!=e&&(e&&t.type&&!n.contains(e)&&(e=Ip(t)),n.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType===8);return e}function afe(t,e,n,r){var i=t.key,s=t.type,a=n-1,c=n+1,u=e[n];if(u===null||u&&i==u.key&&s===u.type&&(131072&u.__u)==0)return n;if(r>(u!=null&&(131072&u.__u)==0?1:0))for(;a>=0||c<e.length;){if(a>=0){if((u=e[a])&&(131072&u.__u)==0&&i==u.key&&s===u.type)return a;a--}if(c<e.length){if((u=e[c])&&(131072&u.__u)==0&&i==u.key&&s===u.type)return c;c++}}return-1}function Z$(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||ife.test(e)?n:n+"px"}function cv(t,e,n,r,i){var s;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||Z$(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||Z$(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/(PointerCapture)$|Capture$/i,"$1")),e=e.toLowerCase()in t||e==="onFocusOut"||e==="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=n,n?r?n.u=r.u:(n.u=fC,t.addEventListener(e,s?m5:y5,s)):t.removeEventListener(e,s?m5:y5,s);else{if(i=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function X$(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=fC++;else if(e.t<n.u)return;return n(Fn.event?Fn.event(e):e)}}}function pC(t,e,n,r,i,s,a,c,u,d){var h,p,m,g,b,v,E,O,k,S,A,C,I,$,z,L,B=e.type;if(e.constructor!==void 0)return null;128&n.__u&&(u=!!(32&n.__u),s=[c=e.__e=n.__e]),(h=Fn.__b)&&h(e);e:if(typeof B=="function")try{if(O=e.props,k="prototype"in B&&B.prototype.render,S=(h=B.contextType)&&r[h.__c],A=h?S?S.props.value:h.__:r,n.__c?E=(p=e.__c=n.__c).__=p.__E:(k?e.__c=p=new B(O,A):(e.__c=p=new Jv(O,A),p.constructor=B,p.render=cfe),S&&S.sub(p),p.props=O,p.state||(p.state={}),p.context=A,p.__n=r,m=p.__d=!0,p.__h=[],p._sb=[]),k&&p.__s==null&&(p.__s=p.state),k&&B.getDerivedStateFromProps!=null&&(p.__s==p.state&&(p.__s=xu({},p.__s)),xu(p.__s,B.getDerivedStateFromProps(O,p.__s))),g=p.props,b=p.state,p.__v=e,m)k&&B.getDerivedStateFromProps==null&&p.componentWillMount!=null&&p.componentWillMount(),k&&p.componentDidMount!=null&&p.__h.push(p.componentDidMount);else{if(k&&B.getDerivedStateFromProps==null&&O!==g&&p.componentWillReceiveProps!=null&&p.componentWillReceiveProps(O,A),!p.__e&&(p.shouldComponentUpdate!=null&&p.shouldComponentUpdate(O,p.__s,A)===!1||e.__v===n.__v)){for(e.__v!==n.__v&&(p.props=O,p.state=p.__s,p.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(V){V&&(V.__=e)}),C=0;C<p._sb.length;C++)p.__h.push(p._sb[C]);p._sb=[],p.__h.length&&a.push(p);break e}p.componentWillUpdate!=null&&p.componentWillUpdate(O,p.__s,A),k&&p.componentDidUpdate!=null&&p.__h.push(function(){p.componentDidUpdate(g,b,v)})}if(p.context=A,p.props=O,p.__P=t,p.__e=!1,I=Fn.__r,$=0,k){for(p.state=p.__s,p.__d=!1,I&&I(e),h=p.render(p.props,p.state,p.context),z=0;z<p._sb.length;z++)p.__h.push(p._sb[z]);p._sb=[]}else do p.__d=!1,I&&I(e),h=p.render(p.props,p.state,p.context),p.state=p.__s;while(p.__d&&++$<25);p.state=p.__s,p.getChildContext!=null&&(r=xu(xu({},r),p.getChildContext())),k&&!m&&p.getSnapshotBeforeUpdate!=null&&(v=p.getSnapshotBeforeUpdate(g,b)),lF(t,hC(L=h!=null&&h.type===yE&&h.key==null?h.props.children:h)?L:[L],e,n,r,i,s,a,c,u,d),p.base=e.__e,e.__u&=-161,p.__h.length&&a.push(p),E&&(p.__E=p.__=null)}catch(V){if(e.__v=null,u||s!=null){for(e.__u|=u?160:32;c&&c.nodeType===8&&c.nextSibling;)c=c.nextSibling;s[s.indexOf(c)]=null,e.__e=c}else e.__e=n.__e,e.__k=n.__k;Fn.__e(V,e,n)}else s==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=ofe(n.__e,e,n,r,i,s,a,u,d);(h=Fn.diffed)&&h(e)}function dF(t,e,n){e.__d=void 0;for(var r=0;r<n.length;r++)yC(n[r],n[++r],n[++r]);Fn.__c&&Fn.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(s){s.call(i)})}catch(s){Fn.__e(s,i.__v)}})}function ofe(t,e,n,r,i,s,a,c,u){var d,h,p,m,g,b,v,E=n.props,O=e.props,k=e.type;if(k==="svg"?i="http://www.w3.org/2000/svg":k==="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),s!=null){for(d=0;d<s.length;d++)if((g=s[d])&&"setAttribute"in g==!!k&&(k?g.localName===k:g.nodeType===3)){t=g,s[d]=null;break}}if(t==null){if(k===null)return document.createTextNode(O);t=document.createElementNS(i,k,O.is&&O),c&&(Fn.__m&&Fn.__m(e,s),c=!1),s=null}if(k===null)E===O||c&&t.data===O||(t.data=O);else{if(s=s&&pE.call(t.childNodes),E=n.props||g0,!c&&s!=null)for(E={},d=0;d<t.attributes.length;d++)E[(g=t.attributes[d]).name]=g.value;for(d in E)if(g=E[d],d!="children"){if(d=="dangerouslySetInnerHTML")p=g;else if(!(d in O)){if(d=="value"&&"defaultValue"in O||d=="checked"&&"defaultChecked"in O)continue;cv(t,d,null,g,i)}}for(d in O)g=O[d],d=="children"?m=g:d=="dangerouslySetInnerHTML"?h=g:d=="value"?b=g:d=="checked"?v=g:c&&typeof g!="function"||E[d]===g||cv(t,d,g,E[d],i);if(h)c||p&&(h.__html===p.__html||h.__html===t.innerHTML)||(t.innerHTML=h.__html),e.__k=[];else if(p&&(t.innerHTML=""),lF(t,hC(m)?m:[m],e,n,r,k==="foreignObject"?"http://www.w3.org/1999/xhtml":i,s,a,s?s[0]:n.__k&&Ip(n,0),c,u),s!=null)for(d=s.length;d--;)oF(s[d]);c||(d="value",k==="progress"&&b==null?t.removeAttribute("value"):b!==void 0&&(b!==t[d]||k==="progress"&&!b||k==="option"&&b!==E[d])&&cv(t,d,b,E[d],i),d="checked",v!==void 0&&v!==t[d]&&cv(t,d,v,E[d],i))}return t}function yC(t,e,n){try{if(typeof t=="function"){var r=typeof t.__u=="function";r&&t.__u(),r&&e==null||(t.__u=t(e))}else t.current=e}catch(i){Fn.__e(i,n)}}function fF(t,e,n){var r,i;if(Fn.unmount&&Fn.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||yC(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(s){Fn.__e(s,e)}r.base=r.__P=null}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&fF(r[i],e,n||typeof t.type!="function");n||oF(t.__e),t.__c=t.__=t.__e=t.__d=void 0}function cfe(t,e,n){return this.constructor(t,n)}function g5(t,e,n){var r,i,s,a;Fn.__&&Fn.__(t,e),i=(r=!1)?null:e.__k,s=[],a=[],pC(e,t=e.__k=vn(yE,null,[t]),i||g0,g0,e.namespaceURI,i?null:e.firstChild?pE.call(e.childNodes):null,s,i?i.__e:e.firstChild,r,a),dF(s,t,a)}pE=aF.slice,Fn={__e:function(t,e,n,r){for(var i,s,a;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),a=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,r||{}),a=i.__d),a)return i.__E=i}catch(c){t=c}throw t}},iF=0,Jv.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=xu({},this.state),typeof t=="function"&&(t=t(xu({},n),this.props)),t&&xu(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),Y$(this))},Jv.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Y$(this))},Jv.prototype.render=yE,Od=[],sF=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,p5=function(t,e){return t.__v.__b-e.__v.__b},K1.__r=0,fC=0,y5=X$(!1),m5=X$(!0);var b0,ar,hx,J$,b5=0,hF=[],br=Fn,Q$=br.__b,eP=br.__r,tP=br.diffed,nP=br.__c,rP=br.unmount,iP=br.__;function mC(t,e){br.__h&&br.__h(ar,t,b5||e),b5=0;var n=ar.__H||(ar.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function sP(t){return b5=1,lfe(yF,t)}function lfe(t,e,n){var r=mC(b0++,2);if(r.t=t,!r.__c&&(r.__=[yF(void 0,e),function(c){var u=r.__N?r.__N[0]:r.__[0],d=r.t(u,c);u!==d&&(r.__N=[d,r.__[1]],r.__c.setState({}))}],r.__c=ar,!ar.u)){var i=function(c,u,d){if(!r.__c.__H)return!0;var h=r.__c.__H.__.filter(function(m){return!!m.__c});if(h.every(function(m){return!m.__N}))return!s||s.call(this,c,u,d);var p=!1;return h.forEach(function(m){if(m.__N){var g=m.__[0];m.__=m.__N,m.__N=void 0,g!==m.__[0]&&(p=!0)}}),!(!p&&r.__c.props===c)&&(!s||s.call(this,c,u,d))};ar.u=!0;var s=ar.shouldComponentUpdate,a=ar.componentWillUpdate;ar.componentWillUpdate=function(c,u,d){if(this.__e){var h=s;s=void 0,i(c,u,d),s=h}a&&a.call(this,c,u,d)},ar.shouldComponentUpdate=i}return r.__N||r.__}function ufe(t,e){var n=mC(b0++,3);!br.__s&&pF(n.__H,e)&&(n.__=t,n.i=e,ar.__H.__h.push(n))}function F7e(t,e){var n=mC(b0++,7);return pF(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function dfe(){for(var t;t=hF.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Qv),t.__H.__h.forEach(w5),t.__H.__h=[]}catch(e){t.__H.__h=[],br.__e(e,t.__v)}}br.__b=function(t){ar=null,Q$&&Q$(t)},br.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),iP&&iP(t,e)},br.__r=function(t){eP&&eP(t),b0=0;var e=(ar=t.__c).__H;e&&(hx===ar?(e.__h=[],ar.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.i=n.__N=void 0})):(e.__h.forEach(Qv),e.__h.forEach(w5),e.__h=[],b0=0)),hx=ar},br.diffed=function(t){tP&&tP(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(hF.push(e)!==1&&J$===br.requestAnimationFrame||((J$=br.requestAnimationFrame)||ffe)(dfe)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.i=void 0})),hx=ar=null},br.__c=function(t,e){e.some(function(n){try{n.__h.forEach(Qv),n.__h=n.__h.filter(function(r){return!r.__||w5(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],br.__e(r,n.__v)}}),nP&&nP(t,e)},br.unmount=function(t){rP&&rP(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{Qv(r)}catch(i){e=i}}),n.__H=void 0,e&&br.__e(e,n.__v))};var aP=typeof requestAnimationFrame=="function";function ffe(t){var e,n=function(){clearTimeout(r),aP&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);aP&&(e=requestAnimationFrame(n))}function Qv(t){var e=ar,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),ar=e}function w5(t){var e=ar;t.__c=t.__(),ar=e}function pF(t,e){return!t||t.length!==e.length||e.some(function(n,r){return n!==t[r]})}function yF(t,e){return typeof e=="function"?e(t):e}const hfe=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}",pfe="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",yfe="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";class mF{constructor(){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=tF()}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",e.appendChild(this.root),this.render()}presentItem(e){const n=this.nextItemKey++;return this.items.set(n,e),this.render(),()=>{this.items.delete(n),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&g5(vn("div",null,vn(gF,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([e,n])=>vn(mfe,Object.assign({},n,{key:e}))))),this.root)}}const gF=t=>vn("div",{class:kg("-cbwsdk-snackbar-container")},vn("style",null,hfe),vn("div",{class:"-cbwsdk-snackbar"},t.children)),mfe=({autoExpand:t,message:e,menuItems:n})=>{const[r,i]=sP(!0),[s,a]=sP(t??!1);ufe(()=>{const u=[window.setTimeout(()=>{i(!1)},1),window.setTimeout(()=>{a(!0)},1e4)];return()=>{u.forEach(window.clearTimeout)}});const c=()=>{a(!s)};return vn("div",{class:kg("-cbwsdk-snackbar-instance",r&&"-cbwsdk-snackbar-instance-hidden",s&&"-cbwsdk-snackbar-instance-expanded")},vn("div",{class:"-cbwsdk-snackbar-instance-header",onClick:c},vn("img",{src:pfe,class:"-cbwsdk-snackbar-instance-header-cblogo"})," ",vn("div",{class:"-cbwsdk-snackbar-instance-header-message"},e),vn("div",{class:"-gear-container"},!s&&vn("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},vn("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),vn("img",{src:yfe,class:"-gear-icon",title:"Expand"}))),n&&n.length>0&&vn("div",{class:"-cbwsdk-snackbar-instance-menu"},n.map((u,d)=>vn("div",{class:kg("-cbwsdk-snackbar-instance-menu-item",u.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:u.onClick,key:d},vn("svg",{width:u.svgWidth,height:u.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},vn("path",{"fill-rule":u.defaultFillRule,"clip-rule":u.defaultClipRule,d:u.path,fill:"#AAAAAA"})),vn("span",{class:kg("-cbwsdk-snackbar-instance-menu-item-info",u.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},u.info)))))},bF="M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z";class gfe{constructor(){this.attached=!1,this.snackbar=new mF}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,n=document.createElement("div");n.className="-cbwsdk-css-reset",e.appendChild(n),this.snackbar.attach(n),this.attached=!0,nF()}showConnecting(e){let n;return e.isUnlinkedErrorState?n={autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:n={message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:bF,defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(n)}}const bfe=".-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s;background-color:rgba(10,11,13,.5)}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box{display:block;position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);padding:20px;border-radius:8px;background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box p{display:block;font-weight:400;font-size:14px;line-height:20px;padding-bottom:12px;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box button{appearance:none;border:none;background:none;color:#0052ff;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark{background-color:#0a0b0d;color:#fff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark button{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light{background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light button{color:#0052ff}";class wfe{constructor(){this.root=null,this.darkMode=tF()}attach(){const e=document.documentElement;this.root=document.createElement("div"),this.root.className="-cbwsdk-css-reset",e.appendChild(this.root),nF()}present(e){this.render(e)}clear(){this.render(null)}render(e){this.root&&(g5(null,this.root),e&&g5(vn(vfe,Object.assign({},e,{onDismiss:()=>{this.clear()},darkMode:this.darkMode})),this.root))}}const vfe=({title:t,buttonText:e,darkMode:n,onButtonClick:r,onDismiss:i})=>{const s=n?"dark":"light";return vn(gF,{darkMode:n},vn("div",{class:"-cbwsdk-redirect-dialog"},vn("style",null,bfe),vn("div",{class:"-cbwsdk-redirect-dialog-backdrop",onClick:i}),vn("div",{class:kg("-cbwsdk-redirect-dialog-box",s)},vn("p",null,t),vn("button",{onClick:r},e))))},_fe="https://keys.coinbase.com/connect",Efe="https://rpc.wallet.coinbase.com",oP="https://www.walletlink.org",Afe="https://go.cb-w.com/walletlink";class cP{constructor(){this.attached=!1,this.redirectDialog=new wfe}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");this.redirectDialog.attach(),this.attached=!0}redirectToCoinbaseWallet(e){const n=new URL(Afe);n.searchParams.append("redirect_url",tfe().href),e&&n.searchParams.append("wl_url",e);const r=document.createElement("a");r.target="cbw-opener",r.href=n.href,r.rel="noreferrer noopener",r.click()}openCoinbaseWalletDeeplink(e){this.redirectDialog.present({title:"Redirecting to Coinbase Wallet...",buttonText:"Open",onButtonClick:()=>{this.redirectToCoinbaseWallet(e)}}),setTimeout(()=>{this.redirectToCoinbaseWallet(e)},99)}showConnecting(e){return()=>{this.redirectDialog.clear()}}}class Wc{constructor(e){this.chainCallbackParams={chainId:"",jsonRpcUrl:""},this.isMobileWeb=nfe(),this.linkedUpdated=s=>{this.isLinked=s;const a=this.storage.getItem(h5);if(s&&(this._session.linked=s),this.isUnlinkedErrorState=!1,a){const c=a.split(" "),u=this.storage.getItem("IsStandaloneSigning")==="true";c[0]!==""&&!s&&this._session.linked&&!u&&(this.isUnlinkedErrorState=!0)}},this.metadataUpdated=(s,a)=>{this.storage.setItem(s,a)},this.chainUpdated=(s,a)=>{this.chainCallbackParams.chainId===s&&this.chainCallbackParams.jsonRpcUrl===a||(this.chainCallbackParams={chainId:s,jsonRpcUrl:a},this.chainCallback&&this.chainCallback(a,Number.parseInt(s,10)))},this.accountUpdated=s=>{this.accountsCallback&&this.accountsCallback([s]),Wc.accountRequestCallbackIds.size>0&&(Array.from(Wc.accountRequestCallbackIds.values()).forEach(a=>{this.invokeCallback(a,{method:"requestEthereumAccounts",result:[s]})}),Wc.accountRequestCallbackIds.clear())},this.resetAndReload=this.resetAndReload.bind(this),this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.metadata=e.metadata,this.accountsCallback=e.accountsCallback,this.chainCallback=e.chainCallback;const{session:n,ui:r,connection:i}=this.subscribe();this._session=n,this.connection=i,this.relayEventManager=new Lde,this.ui=r,this.ui.attach()}subscribe(){const e=np.load(this.storage)||np.create(this.storage),{linkAPIUrl:n}=this,r=new Bde({session:e,linkAPIUrl:n,listener:this}),i=this.isMobileWeb?new cP:new gfe;return r.connect(),{session:e,ui:i,connection:r}}resetAndReload(){this.connection.destroy().then(()=>{const e=np.load(this.storage);e?.id===this._session.id&&Ho.clearAll(),document.location.reload()}).catch(e=>{})}signEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:bo(e.weiValue),data:Cg(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?bo(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?bo(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?bo(e.gasPriceInWei):null,gasLimit:e.gasLimit?bo(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:bo(e.weiValue),data:Cg(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?bo(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?bo(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?bo(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?bo(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,n){return this.sendRequest({method:"submitEthereumTransaction",params:{signedTransaction:Cg(e,!0),chainId:n}})}getWalletLinkSession(){return this._session}sendRequest(e){let n=null;const r=Cd(8),i=s=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,e.method,s),n?.()};return new Promise((s,a)=>{n=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload}),this.relayEventManager.callbacks.set(r,c=>{if(n?.(),ui(c))return a(new Error(c.errorMessage));s(c)}),this.publishWeb3RequestEvent(r,e)})}publishWeb3RequestEvent(e,n){const r={type:"WEB3_REQUEST",id:e,request:n};this.publishEvent("Web3Request",r,!0).then(i=>{}).catch(i=>{this.handleWeb3ResponseMessage(r.id,{method:n.method,errorMessage:i.message})}),this.isMobileWeb&&this.openCoinbaseWalletDeeplink(n.method)}openCoinbaseWalletDeeplink(e){if(this.ui instanceof cP)switch(e){case"requestEthereumAccounts":case"switchEthereumChain":return;default:window.addEventListener("blur",()=>{window.addEventListener("focus",()=>{this.connection.checkUnseenEvents()},{once:!0})},{once:!0}),this.ui.openCoinbaseWalletDeeplink();break}}publishWeb3RequestCanceledEvent(e){const n={type:"WEB3_REQUEST_CANCELED",id:e};this.publishEvent("Web3RequestCanceled",n,!1).then()}publishEvent(e,n,r){return this.connection.publishEvent(e,n,r)}handleWeb3ResponseMessage(e,n){if(n.method==="requestEthereumAccounts"){Wc.accountRequestCallbackIds.forEach(r=>this.invokeCallback(r,n)),Wc.accountRequestCallbackIds.clear();return}this.invokeCallback(e,n)}handleErrorResponse(e,n,r){var i;const s=(i=r?.message)!==null&&i!==void 0?i:"Unspecified error message.";this.handleWeb3ResponseMessage(e,{method:n,errorMessage:s})}invokeCallback(e,n){const r=this.relayEventManager.callbacks.get(e);r&&(r(n),this.relayEventManager.callbacks.delete(e))}requestEthereumAccounts(){const{appName:e,appLogoUrl:n}=this.metadata,r={method:"requestEthereumAccounts",params:{appName:e,appLogoUrl:n}},i=Cd(8);return new Promise((s,a)=>{this.relayEventManager.callbacks.set(i,c=>{if(ui(c))return a(new Error(c.errorMessage));s(c)}),Wc.accountRequestCallbackIds.add(i),this.publishWeb3RequestEvent(i,r)})}watchAsset(e,n,r,i,s,a){const c={method:"watchAsset",params:{type:e,options:{address:n,symbol:r,decimals:i,image:s},chainId:a}};let u=null;const d=Cd(8),h=p=>{this.publishWeb3RequestCanceledEvent(d),this.handleErrorResponse(d,c.method,p),u?.()};return u=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:h,onResetConnection:this.resetAndReload}),new Promise((p,m)=>{this.relayEventManager.callbacks.set(d,g=>{if(u?.(),ui(g))return m(new Error(g.errorMessage));p(g)}),this.publishWeb3RequestEvent(d,c)})}addEthereumChain(e,n,r,i,s,a){const c={method:"addEthereumChain",params:{chainId:e,rpcUrls:n,blockExplorerUrls:i,chainName:s,iconUrls:r,nativeCurrency:a}};let u=null;const d=Cd(8),h=p=>{this.publishWeb3RequestCanceledEvent(d),this.handleErrorResponse(d,c.method,p),u?.()};return u=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:h,onResetConnection:this.resetAndReload}),new Promise((p,m)=>{this.relayEventManager.callbacks.set(d,g=>{if(u?.(),ui(g))return m(new Error(g.errorMessage));p(g)}),this.publishWeb3RequestEvent(d,c)})}switchEthereumChain(e,n){const r={method:"switchEthereumChain",params:Object.assign({chainId:e},{address:n})};let i=null;const s=Cd(8),a=c=>{this.publishWeb3RequestCanceledEvent(s),this.handleErrorResponse(s,r.method,c),i?.()};return i=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:a,onResetConnection:this.resetAndReload}),new Promise((c,u)=>{this.relayEventManager.callbacks.set(s,d=>{if(i?.(),ui(d)&&d.errorCode)return u(Yt.provider.custom({code:d.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(ui(d))return u(new Error(d.errorMessage));c(d)}),this.publishWeb3RequestEvent(s,r)})}}Wc.accountRequestCallbackIds=new Set;const lP="DefaultChainId",uP="DefaultJsonRpcUrl";class wF{constructor(e){this._relay=null,this._addresses=[],this.metadata=e.metadata,this._storage=new Ho("walletlink",oP),this.callback=e.callback||null;const n=this._storage.getItem(h5);if(n){const r=n.split(" ");r[0]!==""&&(this._addresses=r.map(i=>Yl(i)))}this.initializeRelay()}getSession(){const e=this.initializeRelay(),{id:n,secret:r}=e.getWalletLinkSession();return{id:n,secret:r}}async handshake(){await this._eth_requestAccounts()}get selectedAddress(){return this._addresses[0]||void 0}get jsonRpcUrl(){var e;return(e=this._storage.getItem(uP))!==null&&e!==void 0?e:void 0}set jsonRpcUrl(e){this._storage.setItem(uP,e)}updateProviderInfo(e,n){var r;this.jsonRpcUrl=e;const i=this.getChainId();this._storage.setItem(lP,n.toString(10)),Og(n)!==i&&((r=this.callback)===null||r===void 0||r.call(this,"chainChanged",Su(n)))}async watchAsset(e){const n=Array.isArray(e)?e[0]:e;if(!n.type)throw Yt.rpc.invalidParams("Type is required");if(n?.type!=="ERC20")throw Yt.rpc.invalidParams(`Asset of type '${n.type}' is not supported`);if(!n?.options)throw Yt.rpc.invalidParams("Options are required");if(!n?.options.address)throw Yt.rpc.invalidParams("Address is required");const r=this.getChainId(),{address:i,symbol:s,image:a,decimals:c}=n.options,d=await this.initializeRelay().watchAsset(n.type,i,s,c,a,r?.toString());return ui(d)?!1:!!d.result}async addEthereumChain(e){var n,r;const i=e[0];if(((n=i.rpcUrls)===null||n===void 0?void 0:n.length)===0)throw Yt.rpc.invalidParams("please pass in at least 1 rpcUrl");if(!i.chainName||i.chainName.trim()==="")throw Yt.rpc.invalidParams("chainName is a required field");if(!i.nativeCurrency)throw Yt.rpc.invalidParams("nativeCurrency is a required field");const s=Number.parseInt(i.chainId,16);if(s===this.getChainId())return!1;const a=this.initializeRelay(),{rpcUrls:c=[],blockExplorerUrls:u=[],chainName:d,iconUrls:h=[],nativeCurrency:p}=i,m=await a.addEthereumChain(s.toString(),c,h,u,d,p);if(ui(m))return!1;if(((r=m.result)===null||r===void 0?void 0:r.isApproved)===!0)return this.updateProviderInfo(c[0],s),null;throw Yt.rpc.internal("unable to add ethereum chain")}async switchEthereumChain(e){const n=e[0],r=Number.parseInt(n.chainId,16),s=await this.initializeRelay().switchEthereumChain(r.toString(10),this.selectedAddress||void 0);if(ui(s))throw s;const a=s.result;return a.isApproved&&a.rpcUrl.length>0&&this.updateProviderInfo(a.rpcUrl,r),null}async cleanup(){this.callback=null,this._relay&&this._relay.resetAndReload(),this._storage.clear()}_setAddresses(e,n){var r;if(!Array.isArray(e))throw new Error("addresses is not an array");const i=e.map(s=>Yl(s));JSON.stringify(i)!==JSON.stringify(this._addresses)&&(this._addresses=i,(r=this.callback)===null||r===void 0||r.call(this,"accountsChanged",i),this._storage.setItem(h5,i.join(" ")))}async request(e){const n=e.params||[];switch(e.method){case"eth_accounts":return[...this._addresses];case"eth_coinbase":return this.selectedAddress||null;case"net_version":return this.getChainId().toString(10);case"eth_chainId":return Su(this.getChainId());case"eth_requestAccounts":return this._eth_requestAccounts();case"eth_ecRecover":case"personal_ecRecover":return this.ecRecover(e);case"personal_sign":return this.personalSign(e);case"eth_signTransaction":return this._eth_signTransaction(n);case"eth_sendRawTransaction":return this._eth_sendRawTransaction(n);case"eth_sendTransaction":return this._eth_sendTransaction(n);case"eth_signTypedData_v1":case"eth_signTypedData_v3":case"eth_signTypedData_v4":case"eth_signTypedData":return this.signTypedData(e);case"wallet_addEthereumChain":return this.addEthereumChain(n);case"wallet_switchEthereumChain":return this.switchEthereumChain(n);case"wallet_watchAsset":return this.watchAsset(n);default:if(!this.jsonRpcUrl)throw Yt.rpc.internal("No RPC URL set for chain");return uC(e,this.jsonRpcUrl)}}_ensureKnownAddress(e){const n=Yl(e);if(!this._addresses.map(i=>Yl(i)).includes(n))throw new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const n=e.from?Yl(e.from):this.selectedAddress;if(!n)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(n);const r=e.to?Yl(e.to):null,i=e.value!=null?nm(e.value):BigInt(0),s=e.data?f5(e.data):Buffer.alloc(0),a=e.nonce!=null?Og(e.nonce):null,c=e.gasPrice!=null?nm(e.gasPrice):null,u=e.maxFeePerGas!=null?nm(e.maxFeePerGas):null,d=e.maxPriorityFeePerGas!=null?nm(e.maxPriorityFeePerGas):null,h=e.gas!=null?nm(e.gas):null,p=e.chainId?Og(e.chainId):this.getChainId();return{fromAddress:n,toAddress:r,weiValue:i,data:s,nonce:a,gasPriceInWei:c,maxFeePerGas:u,maxPriorityFeePerGas:d,gasLimit:h,chainId:p}}async ecRecover(e){const{method:n,params:r}=e;if(!Array.isArray(r))throw Yt.rpc.invalidParams();const s=await this.initializeRelay().sendRequest({method:"ethereumAddressFromSignedMessage",params:{message:ix(r[0]),signature:ix(r[1]),addPrefix:n==="personal_ecRecover"}});if(ui(s))throw s;return s.result}getChainId(){var e;return Number.parseInt((e=this._storage.getItem(lP))!==null&&e!==void 0?e:"1",10)}async _eth_requestAccounts(){var e,n;if(this._addresses.length>0)return(e=this.callback)===null||e===void 0||e.call(this,"connect",{chainId:Su(this.getChainId())}),this._addresses;const i=await this.initializeRelay().requestEthereumAccounts();if(ui(i))throw i;if(!i.result)throw new Error("accounts received is empty");return this._setAddresses(i.result),(n=this.callback)===null||n===void 0||n.call(this,"connect",{chainId:Su(this.getChainId())}),this._addresses}async personalSign({params:e}){if(!Array.isArray(e))throw Yt.rpc.invalidParams();const n=e[1],r=e[0];this._ensureKnownAddress(n);const s=await this.initializeRelay().sendRequest({method:"signEthereumMessage",params:{address:Yl(n),message:ix(r),addPrefix:!0,typedDataJson:null}});if(ui(s))throw s;return s.result}async _eth_signTransaction(e){const n=this._prepareTransactionParams(e[0]||{}),i=await this.initializeRelay().signEthereumTransaction(n);if(ui(i))throw i;return i.result}async _eth_sendRawTransaction(e){const n=f5(e[0]),i=await this.initializeRelay().submitEthereumTransaction(n,this.getChainId());if(ui(i))throw i;return i.result}async _eth_sendTransaction(e){const n=this._prepareTransactionParams(e[0]||{}),i=await this.initializeRelay().signAndSubmitEthereumTransaction(n);if(ui(i))throw i;return i.result}async signTypedData(e){const{method:n,params:r}=e;if(!Array.isArray(r))throw Yt.rpc.invalidParams();const i=d=>{const h={eth_signTypedData_v1:ov.hashForSignTypedDataLegacy,eth_signTypedData_v3:ov.hashForSignTypedData_v3,eth_signTypedData_v4:ov.hashForSignTypedData_v4,eth_signTypedData:ov.hashForSignTypedData_v4};return Cg(h[n]({data:dde(d)}),!0)},s=r[n==="eth_signTypedData_v1"?1:0],a=r[n==="eth_signTypedData_v1"?0:1];this._ensureKnownAddress(s);const u=await this.initializeRelay().sendRequest({method:"signEthereumMessage",params:{address:Yl(s),message:i(a),typedDataJson:JSON.stringify(a,null,2),addPrefix:!1}});if(ui(u))throw u;return u.result}initializeRelay(){return this._relay||(this._relay=new Wc({linkAPIUrl:oP,storage:this._storage,metadata:this.metadata,accountsCallback:this._setAddresses.bind(this),chainCallback:this.updateProviderInfo.bind(this)})),this._relay}}const vF="SignerType",_F=new Ho("CBWSDK","SignerConfigurator");function Sfe(){return _F.getItem(vF)}function xfe(t){_F.setItem(vF,t)}async function Tfe(t){const{communicator:e,metadata:n,handshakeRequest:r,callback:i}=t;Cfe(e,n,i).catch(()=>{});const s={id:crypto.randomUUID(),event:"selectSignerType",data:Object.assign(Object.assign({},t.preference),{handshakeRequest:r})},{data:a}=await e.postRequestAndWaitForResponse(s);return a}function Ife(t){const{signerType:e,metadata:n,communicator:r,callback:i}=t;switch(e){case"scw":return new Sde({metadata:n,callback:i,communicator:r});case"walletlink":return new wF({metadata:n,callback:i})}}async function Cfe(t,e,n){await t.onMessage(({event:i})=>i==="WalletLinkSessionRequest");const r=new wF({metadata:e,callback:n});t.postMessage({event:"WalletLinkUpdate",data:{session:r.getSession()}}),await r.handshake(),t.postMessage({event:"WalletLinkUpdate",data:{connected:!0}})}const Ofe=`Coinbase Wallet SDK requires the Cross-Origin-Opener-Policy header to not be set to 'same-origin'. This is to ensure that the SDK can communicate with the Coinbase Smart Wallet app.

Please see https://www.smartwallet.dev/guides/tips/popup-tips#cross-origin-opener-policy for more information.`,kfe=()=>{let t;return{getCrossOriginOpenerPolicy:()=>t===void 0?"undefined":t,checkCrossOriginOpenerPolicy:async()=>{if(typeof window>"u"){t="non-browser-env";return}try{const e=`${window.location.origin}${window.location.pathname}`,n=await fetch(e,{method:"HEAD"});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const r=n.headers.get("Cross-Origin-Opener-Policy");t=r??"null",t==="same-origin"&&console.error(Ofe)}catch(e){console.error("Error checking Cross-Origin-Opener-Policy:",e.message),t="error"}}}},{checkCrossOriginOpenerPolicy:Rfe,getCrossOriginOpenerPolicy:Nfe}=kfe(),dP=420,fP=540,$fe={isRed:!1,info:"Retry",svgWidth:"10",svgHeight:"11",path:bF,defaultFillRule:"evenodd",defaultClipRule:"evenodd"},Pfe="Popup was blocked. Try again.";let lv=null;function Dfe(t){const e=(window.innerWidth-dP)/2+window.screenX,n=(window.innerHeight-fP)/2+window.screenY;Ufe(t);function r(){const s=`wallet_${crypto.randomUUID()}`,a=window.open(t,s,`width=${dP}, height=${fP}, left=${e}, top=${n}`);return a?.focus(),a||null}let i=r();if(!i){const s=Bfe();return new Promise((a,c)=>{s.presentItem({autoExpand:!0,message:Pfe,menuItems:[Object.assign(Object.assign({},$fe),{onClick:()=>{i=r(),i?a(i):c(Yt.rpc.internal("Popup window was blocked")),s.clear()}})]})})}return Promise.resolve(i)}function Mfe(t){t&&!t.closed&&t.close()}function Ufe(t){const e={sdkName:Xz,sdkVersion:ab,origin:window.location.origin,coop:Nfe()};for(const[n,r]of Object.entries(e))t.searchParams.append(n,r.toString())}function Bfe(){if(!lv){const t=document.createElement("div");t.className="-cbwsdk-css-reset",document.body.appendChild(t),lv=new mF,lv.attach(t)}return lv}class Lfe{constructor({url:e=_fe,metadata:n,preference:r}){this.popup=null,this.listeners=new Map,this.postMessage=async i=>{(await this.waitForPopupLoaded()).postMessage(i,this.url.origin)},this.postRequestAndWaitForResponse=async i=>{const s=this.onMessage(({requestId:a})=>a===i.id);return this.postMessage(i),await s},this.onMessage=async i=>new Promise((s,a)=>{const c=u=>{if(u.origin!==this.url.origin)return;const d=u.data;i(d)&&(s(d),window.removeEventListener("message",c),this.listeners.delete(c))};window.addEventListener("message",c),this.listeners.set(c,{reject:a})}),this.disconnect=()=>{Mfe(this.popup),this.popup=null,this.listeners.forEach(({reject:i},s)=>{i(Yt.provider.userRejectedRequest("Request rejected")),window.removeEventListener("message",s)}),this.listeners.clear()},this.waitForPopupLoaded=async()=>this.popup&&!this.popup.closed?(this.popup.focus(),this.popup):(this.popup=await Dfe(this.url),this.onMessage(({event:i})=>i==="PopupUnload").then(this.disconnect).catch(()=>{}),this.onMessage(({event:i})=>i==="PopupLoaded").then(i=>{this.postMessage({requestId:i.id,data:{version:ab,metadata:this.metadata,preference:this.preference,location:window.location.toString()}})}).then(()=>{if(!this.popup)throw Yt.rpc.internal();return this.popup})),this.url=new URL(e),this.metadata=n,this.preference=r}}function jfe(t){const e=ade(zfe(t),{shouldIncludeStack:!0}),n=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");return n.searchParams.set("version",ab),n.searchParams.set("code",e.code.toString()),n.searchParams.set("message",e.message),Object.assign(Object.assign({},e),{docUrl:n.href})}function zfe(t){var e;if(typeof t=="string")return{message:t,code:rr.rpc.internal};if(ui(t)){const n=t.errorMessage,r=(e=t.errorCode)!==null&&e!==void 0?e:n.match(/(denied|rejected)/i)?rr.provider.userRejectedRequest:void 0;return Object.assign(Object.assign({},t),{message:n,code:r,data:{method:t.method}})}return t}class Ffe extends Lu{}var qfe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class Wfe extends Ffe{constructor(e){var{metadata:n}=e,r=e.preference,{keysUrl:i}=r,s=qfe(r,["keysUrl"]);super(),this.signer=null,this.isCoinbaseWallet=!0,this.metadata=n,this.preference=s,this.communicator=new Lfe({url:i,metadata:n,preference:s});const a=Sfe();a&&(this.signer=this.initSigner(a))}async request(e){try{if(Ade(e),!this.signer)switch(e.method){case"eth_requestAccounts":{const n=await this.requestSignerSelection(e),r=this.initSigner(n);await r.handshake(e),this.signer=r,xfe(n);break}case"wallet_sendCalls":{const n=this.initSigner("scw");await n.handshake({method:"handshake"});const r=await n.request(e);return await n.cleanup(),r}case"wallet_getCallsStatus":return uC(e,Efe);case"net_version":return 1;case"eth_chainId":return Su(1);default:throw Yt.provider.unauthorized("Must call 'eth_requestAccounts' before other methods")}return await this.signer.request(e)}catch(n){const{code:r}=n;return r===rr.provider.unauthorized&&this.disconnect(),Promise.reject(jfe(n))}}async enable(){return console.warn('.enable() has been deprecated. Please use .request({ method: "eth_requestAccounts" }) instead.'),await this.request({method:"eth_requestAccounts"})}async disconnect(){var e;await((e=this.signer)===null||e===void 0?void 0:e.cleanup()),this.signer=null,Ho.clearAll(),this.emit("disconnect",Yt.provider.disconnected("User initiated disconnection"))}requestSignerSelection(e){return Tfe({communicator:this.communicator,preference:this.preference,metadata:this.metadata,handshakeRequest:e,callback:this.emit.bind(this)})}initSigner(e){return Ife({signerType:e,metadata:this.metadata,communicator:this.communicator,callback:this.emit.bind(this)})}}function Vfe(t){if(t){if(!["all","smartWalletOnly","eoaOnly"].includes(t.options))throw new Error(`Invalid options: ${t.options}`);if(t.attribution&&t.attribution.auto!==void 0&&t.attribution.dataSuffix!==void 0)throw new Error("Attribution cannot contain both auto and dataSuffix properties")}}function Hfe(t){var e;const n={metadata:t.metadata,preference:t.preference};return(e=Ede(n))!==null&&e!==void 0?e:new Wfe(n)}const Gfe={options:"all"};function hP(t){var e;new Ho("CBWSDK").setItem("VERSION",ab),Rfe();const r={metadata:{appName:t.appName||"Dapp",appLogoUrl:t.appLogoUrl||"",appChainIds:t.appChainIds||[]},preference:Object.assign(Gfe,(e=t.preference)!==null&&e!==void 0?e:{})};Vfe(r.preference);let i=null;return{getProvider:()=>(i||(i=Hfe(r)),i)}}function Kfe(t){if(typeof window>"u")return;const e=n=>t(n.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function Yfe(){const t=new Set;let e=[];const n=()=>Kfe(i=>{e.some(({info:s})=>s.uuid===i.info.uuid)||(e=[...e,i],t.forEach(s=>s(e,{added:[i]})))});let r=n();return{_listeners(){return t},clear(){t.forEach(i=>i([],{removed:[...e]})),e=[]},destroy(){this.clear(),t.clear(),r?.()},findProvider({rdns:i}){return e.find(s=>s.info.rdns===i)},getProviders(){return e},reset(){this.clear(),r?.(),r=n()},subscribe(i,{emitImmediately:s}={}){return t.add(i),s&&i(e,{added:e}),()=>t.delete(i)}}}const Zfe=({w:t,h:e})=>{let n=window.screenLeft!==void 0?window.screenLeft:window.screenX,r=window.screenTop!==void 0?window.screenTop:window.screenY,i=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,s=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height;return`toolbar=0,location=0,menubar=0,height=${e},width=${t},popup=1,left=${(i-t)/2/(i/window.screen.availWidth)+n},top=${(s-e)/2/(s/window.screen.availHeight)+r}`},EF=t=>window.open(t?.location,void 0,Zfe({w:440,h:680})),AF="/api/v1/sessions",SF="/api/v1/sessions/logout",Xfe="/api/v1/siwe/init",Jfe="/api/v1/siwe/authenticate",Qfe="/api/v1/siwe/link",ehe="/api/v1/siwe/link_smart_wallet",the="/api/v1/siwe/unlink",nhe="/api/v1/siwe/transfer",rhe="/api/v1/siws/init",ihe="/api/v1/siws/authenticate",she="/api/v1/siws/link",ahe="/api/v1/siws/unlink",ohe="/api/v1/siws/transfer",che="/api/v1/farcaster/init",lhe="/api/v1/farcaster/authenticate",uhe="/api/v1/farcaster/link",dhe="/api/v1/farcaster/status",fhe="/api/v1/farcaster/unlink",hhe="/api/v1/farcaster/transfer",phe="/api/v1/passwordless/init",yhe="/api/v1/passwordless/authenticate",mhe="/api/v1/passwordless/link",ghe="/api/v1/passwordless/unlink",bhe="/api/v1/passwordless/update",whe="/api/v1/passwordless/transfer",vhe="/api/v1/passwordless_sms/init",_he="/api/v1/passwordless_sms/link",Ehe="/api/v1/passwordless_sms/unlink",Ahe="/api/v1/passwordless_sms/authenticate",She="/api/v1/passwordless_sms/update",xhe="/api/v1/passwordless_sms/transfer",xF="/api/v1/oauth/init",TF="/api/v1/oauth/authenticate",IF="/api/v1/oauth/link",The="/api/v1/oauth/unlink",Ihe="/api/v1/oauth/transfer",q7e="/api/v1/recovery/oauth/init",W7e="/api/v1/recovery/oauth/init_icloud",V7e="/api/v1/recovery/oauth/authenticate",Che="/api/v1/passkeys/link/init",Ohe="/api/v1/passkeys/authenticate/init",khe="/api/v1/passkeys/register/init",Rhe="/api/v1/passkeys/link",Nhe="/api/v1/passkeys/authenticate",$he="/api/v1/passkeys/register",Phe="/api/v1/telegram/authenticate",Dhe="/api/v1/telegram/link",Mhe="/api/v1/telegram/unlink",Uhe="/api/v1/telegram/transfer",Bhe="/api/v1/mfa/passwordless_sms/init",Lhe="/api/v1/mfa/passkeys/init",jhe="/api/v1/users/me/accept_terms",CF="/api/v1/analytics_events",zhe="/api/v1/custom_jwt_account/authenticate",Fhe="/api/v1/custom_jwt_account/link",qhe="/api/v1/guest/authenticate",Whe="/api/v1/plugins/moonpay_on_ramp/sign",Vhe="/api/v1/funding/coinbase_on_ramp/init",Hhe="/api/v1/funding/coinbase_on_ramp/status",Ghe="/api/v1/wallets/revoke",Khe="/api/v1/users/me",Yhe="/api/v1/scan/transaction";function OF(t){return{name:t.metadata?.shortName||t.name||"",universalLink:t.mobile.universal,deepLink:t.mobile.native}}function kF(t,e){let n=OF(e);if(Vo.isMobile&&n.universalLink)return Y1(n.universalLink,t);if(n.deepLink)return NF(n.deepLink,t);if(n.universalLink)return Y1(n.universalLink,t);throw new se(`Unsupported wallet ${e.id}`)}function pP(t,e){let n=OF(e);if(n.universalLink)return Y1(n.universalLink,t)}let gC="WALLETCONNECT_DEEPLINK_CHOICE";function Zhe(){try{localStorage.removeItem(gC)}catch{}}function Xhe({href:t,name:e}){try{localStorage.setItem(gC,JSON.stringify({href:t,name:e}))}catch{}}function Jhe(){try{localStorage.removeItem(gC)}catch{}}function RF(t){return t.startsWith("http://")||t.startsWith("https://")}function NF(t,e){if(RF(t))return Y1(t,e);let n=t;return n.includes("://")||(n=t.replaceAll("/","").replaceAll(":",""),n=`${n}://`),n.endsWith("/")||(n=`${n}/`),{redirect:`${n}wc?uri=${encodeURIComponent(e)}`,href:n}}function Y1(t,e){if(!RF(t))return NF(t,e);let n=t;return n.endsWith("/")||(n=`${n}/`),{redirect:`${n}wc?uri=${encodeURIComponent(e)}`,href:n}}function $F(t,e){window.open(t,e,"noreferrer noopener")}const Qhe=({address:t,nonce:e})=>`${window.location.host} wants you to sign in with your Solana account:
${t}

${`You are proving you own ${t}.`}

URI: ${window.location.origin}
Version: 1
Chain ID: mainnet
Nonce: ${e}
Issued At: ${new Date().toISOString()}
Resources:
- https://privy.io`;let PF=Y.createContext({plugins:{current:{}}});const epe=({children:t})=>{let e=Y.useRef({});return he.jsx(PF.Provider,{value:{plugins:e},children:t})},tpe=()=>{let{plugins:t}=Y.useContext(PF);return Y.useCallback((e=>t.current[e]),[t])},npe=Symbol("solana-funding-plugin"),rpe=Symbol("solana-ledger-plugin"),bC=(t,{chainType:e,walletIndex:n}={})=>t?.linkedAccounts.filter((r=>!(r.type!=="wallet"||r.walletClientType!=="privy"||n!==void 0&&r.walletIndex!==n||e!==void 0&&r.chainType!==e)))??[],ipe=t=>t.reduce(((e,n)=>!e||e.walletIndex<n.walletIndex?n:e),null),spe=async({user:t,accessToken:e,proxy:n,refreshSessionAndUser:r,privy:i,appConfig:s,recoverEmbeddedWallet:a,setUser:c,walletIndex:u,chainType:d,recoveryMethod:h,recoveryPassword:p,recoveryAccessToken:m})=>{if(u===0)if(s.embeddedWallets.mode==="user-controlled-server-wallets-only")await tT(i,{request:{chain_type:d}});else if(d==="ethereum"){let v=KI(t);v&&await a({address:v.address}),await n.create({accessToken:e,solanaAddress:v?.address,recoveryMethod:h,recoveryPassword:p,recoveryAccessToken:m})}else{if(d!=="solana")throw Error("Invalid input to create wallet");{let v=zc(t);v&&await a({address:v.address}),await n.createSolana({accessToken:e,ethereumAddress:v?.address,recoveryMethod:h,recoveryPassword:p,recoveryAccessToken:m})}}else if(s.embeddedWallets.mode==="user-controlled-server-wallets-only")await tT(i,{request:{chain_type:d}});else{let{entropyId:v,entropyIdVerifier:E}=Ka(t);await a(),await n.addWallet({accessToken:e,entropyId:v,entropyIdVerifier:E,chainType:d,hdWalletIndex:u})}let g=await r(),b=bC(g,{chainType:d,walletIndex:u})[0];return c(g),{user:g,account:b}};let yP=async({accessToken:t,appConfig:e,privy:n,emitPrivyEvent:r,proxy:i,refreshSessionAndUser:s,recoverEmbeddedWallet:a,user:c,walletIndex:u,setModalData:d,openModal:h,chainType:p,setUser:m})=>{if(u<0)throw r("createWallet","onError",Ae.EMBEDDED_WALLET_CREATE_ERROR),Error(`A negative walletIndex (${u}) is invalid.`);let g=h0(c);if(u>0&&!g)throw r("createWallet","onError",Ae.EMBEDDED_WALLET_NOT_FOUND),Error("Must have an existing embedded wallet to create an additional wallet.");if(e.embeddedWallets.requireUserOwnedRecoveryOnCreate&&e.embeddedWallets.mode==="user-controlled-server-wallets-only")throw r("createWallet","onError",Ae.EMBEDDED_WALLET_CREATE_ERROR),Error("User owned recovery not yet supported for this app.");if(!g&&e.embeddedWallets.requireUserOwnedRecoveryOnCreate)return await mP({emitPrivyEvent:r,setModalData:d,openModal:h,chainType:p});let b=bC(c,{chainType:p,walletIndex:u})[0];if(b)return{user:c,account:b};if(u===0&&!i)return mP({emitPrivyEvent:r,setModalData:d,openModal:h,chainType:p});if(!i)throw r("createWallet","onError",Ae.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to connect to wallet proxy");return spe({appConfig:e,walletIndex:u,chainType:p,user:c,accessToken:t,proxy:i,refreshSessionAndUser:s,privy:n,recoverEmbeddedWallet:a,setUser:m})},mP=async({emitPrivyEvent:t,setModalData:e,openModal:n,chainType:r})=>new Promise(((i,s)=>{e({createWallet:{onSuccess:({user:a,account:c})=>{t("createWallet","onSuccess",{wallet:c}),i({user:a,account:c})},onFailure:a=>{t("createWallet","onError",Ae.UNKNOWN_EMBEDDED_WALLET_ERROR),s(a)},callAuthOnSuccessOnClose:!1,shouldCreateEth:r==="ethereum",shouldCreateSol:r==="solana"}}),n("EmbeddedWalletOnAccountCreateScreen")}));const ape=()=>{let t=Ta(),e=dE(),{setModalData:n}=$u(),{initializeWalletProxy:r,recoverEmbeddedWallet:i,setUser:s,openModal:a,refreshSessionAndUser:c,privy:u,client:d}=Ia();return{create:async({chainType:h,options:p,latestUser:m})=>{let g=m;if(g||(g=await c()),!g)throw e("createWallet","onError",Ae.MUST_BE_AUTHENTICATED),Error("User must be authenticated before creating a Privy wallet");return await(async({appConfig:b,getAccessToken:v,initializeWalletProxy:E,user:O,privy:k,emitPrivyEvent:S,recoverEmbeddedWallet:A,setModalData:C,openModal:I,setUser:$,options:z,timeoutDuration:L,refreshSessionAndUser:B,chainType:V})=>{let[D,F]=await Promise.all([E(L),v()]);if(!F||!O)throw S("createWallet","onError",Ae.MUST_BE_AUTHENTICATED),Error("User must be authenticated before creating a Privy wallet");if(!D&&b.customAuth?.enabled)throw S("createWallet","onError",Ae.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to connect to wallet proxy");if(z&&"walletIndex"in z&&typeof z.walletIndex=="number"){if(b.embeddedWallets.mode==="user-controlled-server-wallets-only")throw S("createWallet","onError",Ae.INVALID_DATA),Error("Invalid input, use `createAdditional` instead of `walletIndex` to create additional wallets.");return yP({accessToken:F,appConfig:b,privy:k,emitPrivyEvent:S,openModal:I,proxy:D,refreshSessionAndUser:B,recoverEmbeddedWallet:A,setModalData:C,user:O,walletIndex:z.walletIndex,chainType:V,setUser:$})}let K=z&&"createAdditional"in z&&z.createAdditional,T=bC(O,{chainType:V});if(T[0]&&!K)throw S("createWallet","onError",Ae.EMBEDDED_WALLET_ALREADY_EXISTS),Error("User already has an embedded wallet.");return yP({accessToken:F,appConfig:b,privy:k,emitPrivyEvent:S,openModal:I,proxy:D,recoverEmbeddedWallet:A,setModalData:C,user:O,walletIndex:(ipe(T)?.walletIndex??-1)+1,chainType:V,refreshSessionAndUser:B,setUser:$})})({appConfig:t,privy:u,getAccessToken:()=>d.getAccessToken(),refreshSessionAndUser:c,initializeWalletProxy:r,user:g,emitPrivyEvent:e,recoverEmbeddedWallet:i,setModalData:n,openModal:a,setUser:s,options:p,timeoutDuration:wce,chainType:h})}}};function ope(t){let{create:e}=ape();return uE("createWallet",t),{createWallet:async n=>{n&&"target"in n&&n&&(n=void 0);let{account:r}=await e({chainType:"ethereum",options:n});return r}}}const cpe=async({emitPrivyEvent:t,getAccessToken:e,initializeWalletProxy:n,refreshSessionAndUser:r,user:i,appConfig:s},{privateKey:a,chainType:c,additionalSigners:u})=>{if(!i)throw t("linkAccount","onError",Ae.MUST_BE_AUTHENTICATED,{linkMethod:"siwe"}),new se("User must be authenticated before linking an account.");let d=s.embeddedWallets.mode==="user-controlled-server-wallets-only"?"tee":"on-device";if(u&&d==="on-device")throw new se("Specifying additionalSigners is only supported for TEE execution and this app uses On-device execution. Learn more https://docs.privy.io/recipes/tee-wallet-migration-guide");let[h,p]=await Promise.all([e(),n(15e3)]);if(!p||!h)throw t("linkAccount","onError",Ae.MUST_BE_AUTHENTICATED,{linkMethod:"siwe"}),new se("User must be authenticated before linking an account.");let{address:m}=await p.importWallet({privateKey:a,accessToken:h,chainType:c,mode:d,additionalSigners:u}),g=await r(),b=XT(g),v=b?.find((E=>E.address===m));if(!v)throw t("createWallet","onError",Ae.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to import wallet");return t("createWallet","onSuccess",{wallet:v}),v},lpe=()=>{let{user:t}=rb(),{client:e,refreshSessionAndUser:n,initializeWalletProxy:r}=Ia(),i=dE(),s=Ta();return{importWallet:Y.useCallback((({privateKey:a,additionalSigners:c})=>cpe({getAccessToken:()=>e.getAccessToken(),user:t,initializeWalletProxy:r,refreshSessionAndUser:n,emitPrivyEvent:i,appConfig:s},{privateKey:a,chainType:"ethereum",additionalSigners:c})),[t,e,n,r,i,s])}},Cp=()=>{let{importWallet:t}=lpe(),{createWallet:e}=ope();return{...Y.useContext(Vp),importWallet:t,createWallet:e}};function wC(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function upe(t,...e){if(!wC(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function DF(t,e){return Array.isArray(e)?e.length===0?!0:t?e.every(n=>typeof n=="string"):e.every(n=>Number.isSafeInteger(n)):!1}function w0(t,e){if(typeof e!="string")throw new Error(`${t}: string expected`);return!0}function ob(t){if(!Number.isSafeInteger(t))throw new Error(`invalid integer: ${t}`)}function Z1(t){if(!Array.isArray(t))throw new Error("array expected")}function X1(t,e){if(!DF(!0,e))throw new Error(`${t}: array of strings expected`)}function MF(t,e){if(!DF(!1,e))throw new Error(`${t}: array of numbers expected`)}function vC(...t){const e=s=>s,n=(s,a)=>c=>s(a(c)),r=t.map(s=>s.encode).reduceRight(n,e),i=t.map(s=>s.decode).reduce(n,e);return{encode:r,decode:i}}function _C(t){const e=typeof t=="string"?t.split(""):t,n=e.length;X1("alphabet",e);const r=new Map(e.map((i,s)=>[i,s]));return{encode:i=>(Z1(i),i.map(s=>{if(!Number.isSafeInteger(s)||s<0||s>=n)throw new Error(`alphabet.encode: digit index outside alphabet "${s}". Allowed: ${t}`);return e[s]})),decode:i=>(Z1(i),i.map(s=>{w0("alphabet.decode",s);const a=r.get(s);if(a===void 0)throw new Error(`Unknown letter: "${s}". Allowed: ${t}`);return a}))}}function EC(t=""){return w0("join",t),{encode:e=>(X1("join.decode",e),e.join(t)),decode:e=>(w0("join.decode",e),e.split(t))}}function UF(t,e="="){return ob(t),w0("padding",e),{encode(n){for(X1("padding.encode",n);n.length*t%8;)n.push(e);return n},decode(n){X1("padding.decode",n);let r=n.length;if(r*t%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;r>0&&n[r-1]===e;r--)if((r-1)*t%8===0)throw new Error("padding: invalid, string has too much padding");return n.slice(0,r)}}}function gP(t,e,n){if(e<2)throw new Error(`convertRadix: invalid from=${e}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: invalid to=${n}, base cannot be less than 2`);if(Z1(t),!t.length)return[];let r=0;const i=[],s=Array.from(t,c=>{if(ob(c),c<0||c>=e)throw new Error(`invalid integer: ${c}`);return c}),a=s.length;for(;;){let c=0,u=!0;for(let d=r;d<a;d++){const h=s[d],p=e*c,m=p+h;if(!Number.isSafeInteger(m)||p/e!==c||m-h!==p)throw new Error("convertRadix: carry overflow");const g=m/n;c=m%n;const b=Math.floor(g);if(s[d]=b,!Number.isSafeInteger(b)||b*n+c!==m)throw new Error("convertRadix: carry overflow");if(u)b?u=!1:r=d;else continue}if(i.push(c),u)break}for(let c=0;c<t.length-1&&t[c]===0;c++)i.push(0);return i.reverse()}const BF=(t,e)=>e===0?t:BF(e,t%e),J1=(t,e)=>t+(e-BF(t,e)),px=(()=>{let t=[];for(let e=0;e<40;e++)t.push(2**e);return t})();function bP(t,e,n,r){if(Z1(t),e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(J1(e,n)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${n} carryBits=${J1(e,n)}`);let i=0,s=0;const a=px[e],c=px[n]-1,u=[];for(const d of t){if(ob(d),d>=a)throw new Error(`convertRadix2: invalid data word=${d} from=${e}`);if(i=i<<e|d,s+e>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${e}`);for(s+=e;s>=n;s-=n)u.push((i>>s-n&c)>>>0);const h=px[s];if(h===void 0)throw new Error("invalid carry");i&=h-1}if(i=i<<n-s&c,!r&&s>=e)throw new Error("Excess padding");if(!r&&i>0)throw new Error(`Non-zero padding: ${i}`);return r&&s>0&&u.push(i>>>0),u}function dpe(t){ob(t);const e=2**8;return{encode:n=>{if(!wC(n))throw new Error("radix.encode input should be Uint8Array");return gP(Array.from(n),e,t)},decode:n=>(MF("radix.decode",n),Uint8Array.from(gP(n,t,e)))}}function LF(t,e=!1){if(ob(t),t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(J1(8,t)>32||J1(t,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!wC(n))throw new Error("radix2.encode input should be Uint8Array");return bP(Array.from(n),8,t,!e)},decode:n=>(MF("radix2.decode",n),Uint8Array.from(bP(n,t,8,e)))}}const fpe=vC(LF(5),_C("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),UF(5),EC("")),hpe=typeof Uint8Array.from([]).toBase64=="function"&&typeof Uint8Array.fromBase64=="function",ppe=(t,e)=>{w0("base64",t);const n=/^[A-Za-z0-9=+/]+$/,r="base64";if(t.length>0&&!n.test(t))throw new Error("invalid base64");return Uint8Array.fromBase64(t,{alphabet:r,lastChunkHandling:"strict"})},Kd=hpe?{encode(t){return upe(t),t.toBase64()},decode(t){return ppe(t)}}:vC(LF(6),_C("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),UF(6),EC("")),ype=t=>vC(dpe(58),_C(t),EC("")),ul=ype("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var mpe=pB(),gpe=Object.defineProperty,bpe=(t,e,n)=>e in t?gpe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,yx=(t,e,n)=>(bpe(t,typeof e!="symbol"?e+"":e,n),n);let wpe=class{constructor(){yx(this,"current",this.detect()),yx(this,"handoffState","pending"),yx(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Lo=new wpe;function cb(t){var e;return Lo.isServer?null:t==null?document:(e=t?.ownerDocument)!=null?e:document}function Q1(t){var e,n;return Lo.isServer?null:t==null?document:(n=(e=t?.getRootNode)==null?void 0:e.call(t))!=null?n:document}function AC(t){var e,n;return(n=(e=Q1(t))==null?void 0:e.activeElement)!=null?n:null}function vpe(t){return AC(t)===t}function mE(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function lo(){let t=[],e={addEventListener(n,r,i,s){return n.addEventListener(r,i,s),e.add(()=>n.removeEventListener(r,i,s))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return e.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return mE(()=>{r.current&&n[0]()}),e.add(()=>{r.current=!1})},style(n,r,i){let s=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:s})})},group(n){let r=lo();return n(r),this.add(()=>r.dispose())},add(n){return t.includes(n)||t.push(n),()=>{let r=t.indexOf(n);if(r>=0)for(let i of t.splice(r,1))i()}},dispose(){for(let n of t.splice(0))n()}};return e}function gE(){let[t]=Y.useState(lo);return Y.useEffect(()=>()=>t.dispose(),[t]),t}let ls=(t,e)=>{Lo.isServer?Y.useEffect(t,e):Y.useLayoutEffect(t,e)};function xf(t){let e=Y.useRef(t);return ls(()=>{e.current=t},[t]),e}let Cn=function(t){let e=xf(t);return et.useCallback((...n)=>e.current(...n),[e])};function lb(t){return Y.useMemo(()=>t,Object.values(t))}let _pe=Y.createContext(void 0);function Epe(){return Y.useContext(_pe)}function v5(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function dl(t,e,...n){if(t in e){let i=e[t];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,dl),r}var e_=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(e_||{}),Tu=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(Tu||{});function Ca(){let t=Spe();return Y.useCallback(e=>Ape({mergeRefs:t,...e}),[t])}function Ape({ourProps:t,theirProps:e,slot:n,defaultTag:r,features:i,visible:s=!0,name:a,mergeRefs:c}){c=c??xpe;let u=jF(e,t);if(s)return uv(u,n,r,a,c);let d=i??0;if(d&2){let{static:h=!1,...p}=u;if(h)return uv(p,n,r,a,c)}if(d&1){let{unmount:h=!0,...p}=u;return dl(h?0:1,{0(){return null},1(){return uv({...p,hidden:!0,style:{display:"none"}},n,r,a,c)}})}return uv(u,n,r,a,c)}function uv(t,e={},n,r,i){let{as:s=n,children:a,refName:c="ref",...u}=mx(t,["unmount","static"]),d=t.ref!==void 0?{[c]:t.ref}:{},h=typeof a=="function"?a(e):a;"className"in u&&u.className&&typeof u.className=="function"&&(u.className=u.className(e)),u["aria-labelledby"]&&u["aria-labelledby"]===u.id&&(u["aria-labelledby"]=void 0);let p={};if(e){let m=!1,g=[];for(let[b,v]of Object.entries(e))typeof v=="boolean"&&(m=!0),v===!0&&g.push(b.replace(/([A-Z])/g,E=>`-${E.toLowerCase()}`));if(m){p["data-headlessui-state"]=g.join(" ");for(let b of g)p[`data-${b}`]=""}}if(Rg(s)&&(Object.keys(xd(u)).length>0||Object.keys(xd(p)).length>0))if(!Y.isValidElement(h)||Array.isArray(h)&&h.length>1||Ipe(h)){if(Object.keys(xd(u)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(xd(u)).concat(Object.keys(xd(p))).map(m=>`  - ${m}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(m=>`  - ${m}`).join(`
`)].join(`
`))}else{let m=h.props,g=m?.className,b=typeof g=="function"?(...O)=>v5(g(...O),u.className):v5(g,u.className),v=b?{className:b}:{},E=jF(h.props,xd(mx(u,["ref"])));for(let O in p)O in E&&delete p[O];return Y.cloneElement(h,Object.assign({},E,p,d,{ref:i(Tpe(h),d.ref)},v))}return Y.createElement(s,Object.assign({},mx(u,["ref"]),!Rg(s)&&d,!Rg(s)&&p),h)}function Spe(){let t=Y.useRef([]),e=Y.useCallback(n=>{for(let r of t.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return t.current=n,e}}function xpe(...t){return t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function jF(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];if(e.disabled||e["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[i=>{var s;return(s=i?.preventDefault)==null?void 0:s.call(i)}]);for(let r in n)Object.assign(e,{[r](i,...s){let a=n[r];for(let c of a){if((i instanceof Event||i?.nativeEvent instanceof Event)&&i.defaultPrevented)return;c(i,...s)}}});return e}function G7e(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];for(let r in n)Object.assign(e,{[r](...i){let s=n[r];for(let a of s)a?.(...i)}});return e}function ps(t){var e;return Object.assign(Y.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function xd(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function mx(t,e=[]){let n=Object.assign({},t);for(let r of e)r in n&&delete n[r];return n}function Tpe(t){return et.version.split(".")[0]>="19"?t.props.ref:t.ref}function Rg(t){return t===Y.Fragment||t===Symbol.for("react.fragment")}function Ipe(t){return Rg(t.type)}let Cpe="span";var t_=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(t_||{});function Ope(t,e){var n;let{features:r=1,...i}=t,s={ref:e,"aria-hidden":(r&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return Ca()({ourProps:s,theirProps:i,slot:{},defaultTag:Cpe,name:"Hidden"})}let _5=ps(Ope);function kpe(t){return typeof t!="object"||t===null?!1:"nodeType"in t}function rl(t){return kpe(t)&&"tagName"in t}function Go(t){return rl(t)&&"accessKey"in t}function Xc(t){return rl(t)&&"tabIndex"in t}function Rpe(t){return rl(t)&&"style"in t}function Npe(t){return Go(t)&&t.nodeName==="IFRAME"}function $pe(t){return Go(t)&&t.nodeName==="INPUT"}function K7e(t){return Go(t)&&t.nodeName==="LABEL"}function Y7e(t){return Go(t)&&t.nodeName==="FIELDSET"}function Z7e(t){return Go(t)&&t.nodeName==="LEGEND"}function X7e(t){return rl(t)?t.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}let zF=Symbol();function Ppe(t,e=!0){return Object.assign(t,{[zF]:e})}function Qo(...t){let e=Y.useRef(t);Y.useEffect(()=>{e.current=t},[t]);let n=Cn(r=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return t.every(r=>r==null||r?.[zF])?void 0:n}let SC=Y.createContext(null);SC.displayName="DescriptionContext";function FF(){let t=Y.useContext(SC);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,FF),e}return t}function Dpe(){let[t,e]=Y.useState([]);return[t.length>0?t.join(" "):void 0,Y.useMemo(()=>function(n){let r=Cn(s=>(e(a=>[...a,s]),()=>e(a=>{let c=a.slice(),u=c.indexOf(s);return u!==-1&&c.splice(u,1),c}))),i=Y.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return et.createElement(SC.Provider,{value:i},n.children)},[e])]}let Mpe="p";function Upe(t,e){let n=Y.useId(),r=Epe(),{id:i=`headlessui-description-${n}`,...s}=t,a=FF(),c=Qo(e);ls(()=>a.register(i),[i,a.register]);let u=lb({...a.slot,disabled:r||!1}),d={ref:c,...a.props,id:i};return Ca()({ourProps:d,theirProps:s,slot:u,defaultTag:Mpe,name:a.name||"Description"})}let Bpe=ps(Upe),Lpe=Object.assign(Bpe,{});var qF=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(qF||{});let jpe=Y.createContext(()=>{});function zpe({value:t,children:e}){return et.createElement(jpe.Provider,{value:t},e)}let WF=class extends Map{constructor(e){super(),this.factory=e}get(e){let n=super.get(e);return n===void 0&&(n=this.factory(e),this.set(e,n)),n}};var Fpe=Object.defineProperty,qpe=(t,e,n)=>e in t?Fpe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Wpe=(t,e,n)=>(qpe(t,e+"",n),n),VF=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},ra=(t,e,n)=>(VF(t,e,"read from private field"),n?n.call(t):e.get(t)),gx=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},wP=(t,e,n,r)=>(VF(t,e,"write to private field"),e.set(t,n),n),Io,mg,gg;let Vpe=class{constructor(e){gx(this,Io,{}),gx(this,mg,new WF(()=>new Set)),gx(this,gg,new Set),Wpe(this,"disposables",lo()),wP(this,Io,e),Lo.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return ra(this,Io)}subscribe(e,n){if(Lo.isServer)return()=>{};let r={selector:e,callback:n,current:e(ra(this,Io))};return ra(this,gg).add(r),this.disposables.add(()=>{ra(this,gg).delete(r)})}on(e,n){return Lo.isServer?()=>{}:(ra(this,mg).get(e).add(n),this.disposables.add(()=>{ra(this,mg).get(e).delete(n)}))}send(e){let n=this.reduce(ra(this,Io),e);if(n!==ra(this,Io)){wP(this,Io,n);for(let r of ra(this,gg)){let i=r.selector(ra(this,Io));HF(r.current,i)||(r.current=i,r.callback(i))}for(let r of ra(this,mg).get(e.type))r(ra(this,Io),e)}}};Io=new WeakMap,mg=new WeakMap,gg=new WeakMap;function HF(t,e){return Object.is(t,e)?!0:typeof t!="object"||t===null||typeof e!="object"||e===null?!1:Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:bx(t[Symbol.iterator](),e[Symbol.iterator]()):t instanceof Map&&e instanceof Map||t instanceof Set&&e instanceof Set?t.size!==e.size?!1:bx(t.entries(),e.entries()):vP(t)&&vP(e)?bx(Object.entries(t)[Symbol.iterator](),Object.entries(e)[Symbol.iterator]()):!1}function bx(t,e){do{let n=t.next(),r=e.next();if(n.done&&r.done)return!0;if(n.done||r.done||!Object.is(n.value,r.value))return!1}while(!0)}function vP(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;let e=Object.getPrototypeOf(t);return e===null||Object.getPrototypeOf(e)===null}function eje(t){let[e,n]=t(),r=lo();return(...i)=>{e(...i),r.dispose(),r.microTask(n)}}var Hpe=Object.defineProperty,Gpe=(t,e,n)=>e in t?Hpe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_P=(t,e,n)=>(Gpe(t,typeof e!="symbol"?e+"":e,n),n),Kpe=(t=>(t[t.Push=0]="Push",t[t.Pop=1]="Pop",t))(Kpe||{});let Ype={0(t,e){let n=e.id,r=t.stack,i=t.stack.indexOf(n);if(i!==-1){let s=t.stack.slice();return s.splice(i,1),s.push(n),r=s,{...t,stack:r}}return{...t,stack:[...t.stack,n]}},1(t,e){let n=e.id,r=t.stack.indexOf(n);if(r===-1)return t;let i=t.stack.slice();return i.splice(r,1),{...t,stack:i}}},Zpe=class GF extends Vpe{constructor(){super(...arguments),_P(this,"actions",{push:e=>this.send({type:0,id:e}),pop:e=>this.send({type:1,id:e})}),_P(this,"selectors",{isTop:(e,n)=>e.stack[e.stack.length-1]===n,inStack:(e,n)=>e.stack.includes(n)})}static new(){return new GF({stack:[]})}reduce(e,n){return dl(n.type,Ype,e,n)}};const KF=new WF(()=>Zpe.new());var wx={exports:{}},vx={};var EP;function Xpe(){if(EP)return vx;EP=1;var t=P0();function e(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,s=t.useEffect,a=t.useMemo,c=t.useDebugValue;return vx.useSyncExternalStoreWithSelector=function(u,d,h,p,m){var g=i(null);if(g.current===null){var b={hasValue:!1,value:null};g.current=b}else b=g.current;g=a(function(){function E(C){if(!O){if(O=!0,k=C,C=p(C),m!==void 0&&b.hasValue){var I=b.value;if(m(I,C))return S=I}return S=C}if(I=S,n(k,C))return I;var $=p(C);return m!==void 0&&m(I,$)?(k=C,I):(k=C,S=$)}var O=!1,k,S,A=h===void 0?null:h;return[function(){return E(d())},A===null?void 0:function(){return E(A())}]},[d,h,p,m]);var v=r(u,g[0],g[1]);return s(function(){b.hasValue=!0,b.value=v},[v]),c(v),v},vx}var AP;function Jpe(){return AP||(AP=1,wx.exports=Xpe()),wx.exports}var Qpe=Jpe();function YF(t,e,n=HF){return Qpe.useSyncExternalStoreWithSelector(Cn(r=>t.subscribe(eye,r)),Cn(()=>t.state),Cn(()=>t.state),Cn(e),n)}function eye(t){return t}function ub(t,e){let n=Y.useId(),r=KF.get(e),[i,s]=YF(r,Y.useCallback(a=>[r.selectors.isTop(a,n),r.selectors.inStack(a,n)],[r,n]));return ls(()=>{if(t)return r.actions.push(n),()=>r.actions.pop(n)},[r,t,n]),t?s?i:!0:!1}let E5=new Map,Ng=new Map;function SP(t){var e;let n=(e=Ng.get(t))!=null?e:0;return Ng.set(t,n+1),n!==0?()=>xP(t):(E5.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),t.setAttribute("aria-hidden","true"),t.inert=!0,()=>xP(t))}function xP(t){var e;let n=(e=Ng.get(t))!=null?e:1;if(n===1?Ng.delete(t):Ng.set(t,n-1),n!==1)return;let r=E5.get(t);r&&(r["aria-hidden"]===null?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",r["aria-hidden"]),t.inert=r.inert,E5.delete(t))}function tye(t,{allowed:e,disallowed:n}={}){let r=ub(t,"inert-others");ls(()=>{var i,s;if(!r)return;let a=lo();for(let u of(i=n?.())!=null?i:[])u&&a.add(SP(u));let c=(s=e?.())!=null?s:[];for(let u of c){if(!u)continue;let d=cb(u);if(!d)continue;let h=u.parentElement;for(;h&&h!==d.body;){for(let p of h.children)c.some(m=>p.contains(m))||a.add(SP(p));h=h.parentElement}}return a.dispose},[r,e,n])}function nye(t,e,n){let r=xf(i=>{let s=i.getBoundingClientRect();s.x===0&&s.y===0&&s.width===0&&s.height===0&&n()});Y.useEffect(()=>{if(!t)return;let i=e===null?null:Go(e)?e:e.current;if(!i)return;let s=lo();if(typeof ResizeObserver<"u"){let a=new ResizeObserver(()=>r.current(i));a.observe(i),s.add(()=>a.disconnect())}if(typeof IntersectionObserver<"u"){let a=new IntersectionObserver(()=>r.current(i));a.observe(i),s.add(()=>a.disconnect())}return()=>s.dispose()},[e,r,t])}let n_=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(","),rye=["[data-autofocus]"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var Kc=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t[t.AutoFocus=64]="AutoFocus",t))(Kc||{}),A5=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(A5||{}),iye=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(iye||{});function ZF(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(n_)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function sye(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(rye)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var XF=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(XF||{});function JF(t,e=0){var n;return t===((n=cb(t))==null?void 0:n.body)?!1:dl(e,{0(){return t.matches(n_)},1(){let r=t;for(;r!==null;){if(r.matches(n_))return!0;r=r.parentElement}return!1}})}function tje(t){lo().nextFrame(()=>{let e=AC(t);e&&Xc(e)&&!JF(e,0)&&jo(t)})}var aye=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(aye||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function jo(t){t?.focus({preventScroll:!0})}let oye=["textarea","input"].join(",");function cye(t){var e,n;return(n=(e=t?.matches)==null?void 0:e.call(t,oye))!=null?n:!1}function lye(t,e=n=>n){return t.slice().sort((n,r)=>{let i=e(n),s=e(r);if(i===null||s===null)return 0;let a=i.compareDocumentPosition(s);return a&Node.DOCUMENT_POSITION_FOLLOWING?-1:a&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function nje(t,e,n=t===null?document.body:Q1(t)){return rp(ZF(n),e,{relativeTo:t})}function rp(t,e,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let s=Array.isArray(t)?t.length>0?Q1(t[0]):document:Q1(t),a=Array.isArray(t)?n?lye(t):t:e&64?sye(t):ZF(t);i.length>0&&a.length>1&&(a=a.filter(g=>!i.some(b=>b!=null&&"current"in b?b?.current===g:b===g))),r=r??s?.activeElement;let c=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,a.indexOf(r))-1;if(e&4)return Math.max(0,a.indexOf(r))+1;if(e&8)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=e&32?{preventScroll:!0}:{},h=0,p=a.length,m;do{if(h>=p||h+p<=0)return 0;let g=u+h;if(e&16)g=(g+p)%p;else{if(g<0)return 3;if(g>=p)return 1}m=a[g],m?.focus(d),h+=c}while(m!==AC(m));return e&6&&cye(m)&&m.select(),2}function QF(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function uye(){return/Android/gi.test(window.navigator.userAgent)}function TP(){return QF()||uye()}function dv(t,e,n,r){let i=xf(n);Y.useEffect(()=>{if(!t)return;function s(a){i.current(a)}return document.addEventListener(e,s,r),()=>document.removeEventListener(e,s,r)},[t,e,r])}function eq(t,e,n,r){let i=xf(n);Y.useEffect(()=>{if(!t)return;function s(a){i.current(a)}return window.addEventListener(e,s,r),()=>window.removeEventListener(e,s,r)},[t,e,r])}const IP=30;function dye(t,e,n){let r=xf(n),i=Y.useCallback(function(c,u){if(c.defaultPrevented)return;let d=u(c);if(d===null||!d.getRootNode().contains(d)||!d.isConnected)return;let h=(function p(m){return typeof m=="function"?p(m()):Array.isArray(m)||m instanceof Set?m:[m]})(e);for(let p of h)if(p!==null&&(p.contains(d)||c.composed&&c.composedPath().includes(p)))return;return!JF(d,XF.Loose)&&d.tabIndex!==-1&&c.preventDefault(),r.current(c,d)},[r,e]),s=Y.useRef(null);dv(t,"pointerdown",c=>{var u,d;TP()||(s.current=((d=(u=c.composedPath)==null?void 0:u.call(c))==null?void 0:d[0])||c.target)},!0),dv(t,"pointerup",c=>{if(TP()||!s.current)return;let u=s.current;return s.current=null,i(c,()=>u)},!0);let a=Y.useRef({x:0,y:0});dv(t,"touchstart",c=>{a.current.x=c.touches[0].clientX,a.current.y=c.touches[0].clientY},!0),dv(t,"touchend",c=>{let u={x:c.changedTouches[0].clientX,y:c.changedTouches[0].clientY};if(!(Math.abs(u.x-a.current.x)>=IP||Math.abs(u.y-a.current.y)>=IP))return i(c,()=>Xc(c.target)?c.target:null)},!0),eq(t,"blur",c=>i(c,()=>Npe(window.document.activeElement)?window.document.activeElement:null),!0)}function xC(...t){return Y.useMemo(()=>cb(...t),[...t])}function tq(t,e,n,r){let i=xf(n);Y.useEffect(()=>{t=t??window;function s(a){i.current(a)}return t.addEventListener(e,s,r),()=>t.removeEventListener(e,s,r)},[t,e,r])}function fye(t){return Y.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getSnapshot)}function hye(t,e){let n=t(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...s){let a=e[i].call(n,...s);a&&(n=a,r.forEach(c=>c()))}}}function pye(){let t;return{before({doc:e}){var n;let r=e.documentElement,i=(n=e.defaultView)!=null?n:window;t=Math.max(0,i.innerWidth-r.clientWidth)},after({doc:e,d:n}){let r=e.documentElement,i=Math.max(0,r.clientWidth-r.offsetWidth),s=Math.max(0,t-i);n.style(r,"paddingRight",`${s}px`)}}}function yye(){return QF()?{before({doc:t,d:e,meta:n}){function r(i){for(let s of n().containers)for(let a of s())if(a.contains(i))return!0;return!1}e.microTask(()=>{var i;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let c=lo();c.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>c.dispose()))}let s=(i=window.scrollY)!=null?i:window.pageYOffset,a=null;e.addEventListener(t,"click",c=>{if(Xc(c.target))try{let u=c.target.closest("a");if(!u)return;let{hash:d}=new URL(u.href),h=t.querySelector(d);Xc(h)&&!r(h)&&(a=h)}catch{}},!0),e.group(c=>{e.addEventListener(t,"touchstart",u=>{if(c.dispose(),Xc(u.target)&&Rpe(u.target))if(r(u.target)){let d=u.target;for(;d.parentElement&&r(d.parentElement);)d=d.parentElement;c.style(d,"overscrollBehavior","contain")}else c.style(u.target,"touchAction","none")})}),e.addEventListener(t,"touchmove",c=>{if(Xc(c.target)){if($pe(c.target))return;if(r(c.target)){let u=c.target;for(;u.parentElement&&u.dataset.headlessuiPortal!==""&&!(u.scrollHeight>u.clientHeight||u.scrollWidth>u.clientWidth);)u=u.parentElement;u.dataset.headlessuiPortal===""&&c.preventDefault()}else c.preventDefault()}},{passive:!1}),e.add(()=>{var c;let u=(c=window.scrollY)!=null?c:window.pageYOffset;s!==u&&window.scrollTo(0,s),a&&a.isConnected&&(a.scrollIntoView({block:"nearest"}),a=null)})})}}:{}}function mye(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function CP(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let Ud=hye(()=>new Map,{PUSH(t,e){var n;let r=(n=this.get(t))!=null?n:{doc:t,count:0,d:lo(),meta:new Set,computedMeta:{}};return r.count++,r.meta.add(e),r.computedMeta=CP(r.meta),this.set(t,r),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e),n.computedMeta=CP(n.meta)),this},SCROLL_PREVENT(t){let e={doc:t.doc,d:t.d,meta(){return t.computedMeta}},n=[yye(),pye(),mye()];n.forEach(({before:r})=>r?.(e)),n.forEach(({after:r})=>r?.(e))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});Ud.subscribe(()=>{let t=Ud.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let r=e.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&Ud.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Ud.dispatch("TEARDOWN",n)}});function gye(t,e,n=()=>({containers:[]})){let r=fye(Ud),i=e?r.get(e):void 0,s=i?i.count>0:!1;return ls(()=>{if(!(!e||!t))return Ud.dispatch("PUSH",e,n),()=>Ud.dispatch("POP",e,n)},[t,e]),s}function bye(t,e,n=()=>[document.body]){let r=ub(t,"scroll-lock");gye(r,e,i=>{var s;return{containers:[...(s=i.containers)!=null?s:[],n]}})}function wye(t=0){let[e,n]=Y.useState(t),r=Y.useCallback(u=>n(u),[]),i=Y.useCallback(u=>n(d=>d|u),[]),s=Y.useCallback(u=>(e&u)===u,[e]),a=Y.useCallback(u=>n(d=>d&~u),[]),c=Y.useCallback(u=>n(d=>d^u),[]);return{flags:e,setFlag:r,addFlag:i,hasFlag:s,removeFlag:a,toggleFlag:c}}var vye={},OP,kP;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((OP=process==null?void 0:vye)==null?void 0:OP.NODE_ENV)==="test"&&typeof((kP=Element?.prototype)==null?void 0:kP.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var _ye=(t=>(t[t.None=0]="None",t[t.Closed=1]="Closed",t[t.Enter=2]="Enter",t[t.Leave=4]="Leave",t))(_ye||{});function Eye(t){let e={};for(let n in t)t[n]===!0&&(e[`data-${n}`]="");return e}function Aye(t,e,n,r){let[i,s]=Y.useState(n),{hasFlag:a,addFlag:c,removeFlag:u}=wye(t&&i?3:0),d=Y.useRef(!1),h=Y.useRef(!1),p=gE();return ls(()=>{var m;if(t){if(n&&s(!0),!e){n&&c(3);return}return(m=r?.start)==null||m.call(r,n),Sye(e,{inFlight:d,prepare(){h.current?h.current=!1:h.current=d.current,d.current=!0,!h.current&&(n?(c(3),u(4)):(c(4),u(2)))},run(){h.current?n?(u(3),c(4)):(u(4),c(3)):n?u(1):c(1)},done(){var g;h.current&&Iye(e)||(d.current=!1,u(7),n||s(!1),(g=r?.end)==null||g.call(r,n))}})}},[t,n,e,p]),t?[i,{closed:a(1),enter:a(2),leave:a(4),transition:a(2)||a(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function Sye(t,{prepare:e,run:n,done:r,inFlight:i}){let s=lo();return Tye(t,{prepare:e,inFlight:i}),s.nextFrame(()=>{n(),s.requestAnimationFrame(()=>{s.add(xye(t,r))})}),s.dispose}function xye(t,e){var n,r;let i=lo();if(!t)return i.dispose;let s=!1;i.add(()=>{s=!0});let a=(r=(n=t.getAnimations)==null?void 0:n.call(t).filter(c=>c instanceof CSSTransition))!=null?r:[];return a.length===0?(e(),i.dispose):(Promise.allSettled(a.map(c=>c.finished)).then(()=>{s||e()}),i.dispose)}function Tye(t,{inFlight:e,prepare:n}){if(e!=null&&e.current){n();return}let r=t.style.transition;t.style.transition="none",n(),t.offsetHeight,t.style.transition=r}function Iye(t){var e,n;return((n=(e=t.getAnimations)==null?void 0:e.call(t))!=null?n:[]).some(r=>r instanceof CSSTransition&&r.playState!=="finished")}function TC(t,e){let n=Y.useRef([]),r=Cn(t);Y.useEffect(()=>{let i=[...n.current];for(let[s,a]of e.entries())if(n.current[s]!==a){let c=r(e,i);return n.current=e,c}},[r,...e])}let bE=Y.createContext(null);bE.displayName="OpenClosedContext";var Ja=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(Ja||{});function wE(){return Y.useContext(bE)}function Cye({value:t,children:e}){return et.createElement(bE.Provider,{value:t},e)}function Oye({children:t}){return et.createElement(bE.Provider,{value:null},t)}function kye(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let wu=[];kye(()=>{function t(e){if(!Xc(e.target)||e.target===document.body||wu[0]===e.target)return;let n=e.target;n=n.closest(n_),wu.unshift(n??e.target),wu=wu.filter(r=>r!=null&&r.isConnected),wu.splice(10)}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function nq(t){let e=Cn(t),n=Y.useRef(!1);Y.useEffect(()=>(n.current=!1,()=>{n.current=!0,mE(()=>{n.current&&e()})}),[e])}let rq=Y.createContext(!1);function Rye(){return Y.useContext(rq)}function RP(t){return et.createElement(rq.Provider,{value:t.force},t.children)}function Nye(t){let e=Rye(),n=Y.useContext(sq),[r,i]=Y.useState(()=>{var s;if(!e&&n!==null)return(s=n.current)!=null?s:null;if(Lo.isServer)return null;let a=t?.getElementById("headlessui-portal-root");if(a)return a;if(t===null)return null;let c=t.createElement("div");return c.setAttribute("id","headlessui-portal-root"),t.body.appendChild(c)});return Y.useEffect(()=>{r!==null&&(t!=null&&t.body.contains(r)||t==null||t.body.appendChild(r))},[r,t]),Y.useEffect(()=>{e||n!==null&&i(n.current)},[n,i,e]),r}let iq=Y.Fragment,$ye=ps(function(t,e){let{ownerDocument:n=null,...r}=t,i=Y.useRef(null),s=Qo(Ppe(m=>{i.current=m}),e),a=xC(i.current),c=n??a,u=Nye(c),d=Y.useContext(S5),h=gE(),p=Ca();return nq(()=>{var m;u&&u.childNodes.length<=0&&((m=u.parentElement)==null||m.removeChild(u))}),u?mpe.createPortal(et.createElement("div",{"data-headlessui-portal":"",ref:m=>{h.dispose(),d&&m&&h.add(d.register(m))}},p({ourProps:{ref:s},theirProps:r,slot:{},defaultTag:iq,name:"Portal"})),u):null});function Pye(t,e){let n=Qo(e),{enabled:r=!0,ownerDocument:i,...s}=t,a=Ca();return r?et.createElement($ye,{...s,ownerDocument:i,ref:n}):a({ourProps:{ref:n},theirProps:s,slot:{},defaultTag:iq,name:"Portal"})}let Dye=Y.Fragment,sq=Y.createContext(null);function Mye(t,e){let{target:n,...r}=t,i={ref:Qo(e)},s=Ca();return et.createElement(sq.Provider,{value:n},s({ourProps:i,theirProps:r,defaultTag:Dye,name:"Popover.Group"}))}let S5=Y.createContext(null);function Uye(){let t=Y.useContext(S5),e=Y.useRef([]),n=Cn(s=>(e.current.push(s),t&&t.register(s),()=>r(s))),r=Cn(s=>{let a=e.current.indexOf(s);a!==-1&&e.current.splice(a,1),t&&t.unregister(s)}),i=Y.useMemo(()=>({register:n,unregister:r,portals:e}),[n,r,e]);return[e,Y.useMemo(()=>function({children:s}){return et.createElement(S5.Provider,{value:i},s)},[i])]}let Bye=ps(Pye),aq=ps(Mye),Lye=Object.assign(Bye,{Group:aq});function jye(t,e=typeof document<"u"?document.defaultView:null,n){let r=ub(t,"escape");tq(e,"keydown",i=>{r&&(i.defaultPrevented||i.key===qF.Escape&&n(i))})}function zye(){var t;let[e]=Y.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=Y.useState((t=e?.matches)!=null?t:!1);return ls(()=>{if(!e)return;function i(s){r(s.matches)}return e.addEventListener("change",i),()=>e.removeEventListener("change",i)},[e]),n}function Fye({defaultContainers:t=[],portals:e,mainTreeNode:n}={}){let r=Cn(()=>{var i,s;let a=cb(n),c=[];for(let u of t)u!==null&&(rl(u)?c.push(u):"current"in u&&rl(u.current)&&c.push(u.current));if(e!=null&&e.current)for(let u of e.current)c.push(u);for(let u of(i=a?.querySelectorAll("html > *, body > *"))!=null?i:[])u!==document.body&&u!==document.head&&rl(u)&&u.id!=="headlessui-portal-root"&&(n&&(u.contains(n)||u.contains((s=n?.getRootNode())==null?void 0:s.host))||c.some(d=>u.contains(d))||c.push(u));return c});return{resolveContainers:r,contains:Cn(i=>r().some(s=>s.contains(i)))}}let oq=Y.createContext(null);function NP({children:t,node:e}){let[n,r]=Y.useState(null),i=cq(e??n);return et.createElement(oq.Provider,{value:i},t,i===null&&et.createElement(_5,{features:t_.Hidden,ref:s=>{var a,c;if(s){for(let u of(c=(a=cb(s))==null?void 0:a.querySelectorAll("html > *, body > *"))!=null?c:[])if(u!==document.body&&u!==document.head&&rl(u)&&u!=null&&u.contains(s)){r(u);break}}}}))}function cq(t=null){var e;return(e=Y.useContext(oq))!=null?e:t}function qye(){let t=typeof document>"u";return"useSyncExternalStore"in b4?(e=>e.useSyncExternalStore)(b4)(()=>()=>{},()=>!1,()=>!t):!1}function vE(){let t=qye(),[e,n]=Y.useState(Lo.isHandoffComplete);return e&&Lo.isHandoffComplete===!1&&n(!1),Y.useEffect(()=>{e!==!0&&n(!0)},[e]),Y.useEffect(()=>Lo.handoff(),[]),t?!1:e}function IC(){let t=Y.useRef(!1);return ls(()=>(t.current=!0,()=>{t.current=!1}),[]),t}var bg=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(bg||{});function Wye(){let t=Y.useRef(0);return eq(!0,"keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function lq(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let n of t.current)rl(n.current)&&e.add(n.current);return e}let Vye="div";var kd=(t=>(t[t.None=0]="None",t[t.InitialFocus=1]="InitialFocus",t[t.TabLock=2]="TabLock",t[t.FocusLock=4]="FocusLock",t[t.RestoreFocus=8]="RestoreFocus",t[t.AutoFocus=16]="AutoFocus",t))(kd||{});function Hye(t,e){let n=Y.useRef(null),r=Qo(n,e),{initialFocus:i,initialFocusFallback:s,containers:a,features:c=15,...u}=t;vE()||(c=0);let d=xC(n.current);Zye(c,{ownerDocument:d});let h=Xye(c,{ownerDocument:d,container:n,initialFocus:i,initialFocusFallback:s});Jye(c,{ownerDocument:d,container:n,containers:a,previousActiveElement:h});let p=Wye(),m=Cn(k=>{if(!Go(n.current))return;let S=n.current;(A=>A())(()=>{dl(p.current,{[bg.Forwards]:()=>{rp(S,Kc.First,{skipElements:[k.relatedTarget,s]})},[bg.Backwards]:()=>{rp(S,Kc.Last,{skipElements:[k.relatedTarget,s]})}})})}),g=ub(!!(c&2),"focus-trap#tab-lock"),b=gE(),v=Y.useRef(!1),E={ref:r,onKeyDown(k){k.key=="Tab"&&(v.current=!0,b.requestAnimationFrame(()=>{v.current=!1}))},onBlur(k){if(!(c&4))return;let S=lq(a);Go(n.current)&&S.add(n.current);let A=k.relatedTarget;Xc(A)&&A.dataset.headlessuiFocusGuard!=="true"&&(uq(S,A)||(v.current?rp(n.current,dl(p.current,{[bg.Forwards]:()=>Kc.Next,[bg.Backwards]:()=>Kc.Previous})|Kc.WrapAround,{relativeTo:k.target}):Xc(k.target)&&jo(k.target)))}},O=Ca();return et.createElement(et.Fragment,null,g&&et.createElement(_5,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:m,features:t_.Focusable}),O({ourProps:E,theirProps:u,defaultTag:Vye,name:"FocusTrap"}),g&&et.createElement(_5,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:m,features:t_.Focusable}))}let Gye=ps(Hye),Kye=Object.assign(Gye,{features:kd});function Yye(t=!0){let e=Y.useRef(wu.slice());return TC(([n],[r])=>{r===!0&&n===!1&&mE(()=>{e.current.splice(0)}),r===!1&&n===!0&&(e.current=wu.slice())},[t,wu,e]),Cn(()=>{var n;return(n=e.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function Zye(t,{ownerDocument:e}){let n=!!(t&8),r=Yye(n);TC(()=>{n||vpe(e?.body)&&jo(r())},[n]),nq(()=>{n&&jo(r())})}function Xye(t,{ownerDocument:e,container:n,initialFocus:r,initialFocusFallback:i}){let s=Y.useRef(null),a=ub(!!(t&1),"focus-trap#initial-focus"),c=IC();return TC(()=>{if(t===0)return;if(!a){i!=null&&i.current&&jo(i.current);return}let u=n.current;u&&mE(()=>{if(!c.current)return;let d=e?.activeElement;if(r!=null&&r.current){if(r?.current===d){s.current=d;return}}else if(u.contains(d)){s.current=d;return}if(r!=null&&r.current)jo(r.current);else{if(t&16){if(rp(u,Kc.First|Kc.AutoFocus)!==A5.Error)return}else if(rp(u,Kc.First)!==A5.Error)return;if(i!=null&&i.current&&(jo(i.current),e?.activeElement===i.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}s.current=e?.activeElement})},[i,a,t]),s}function Jye(t,{ownerDocument:e,container:n,containers:r,previousActiveElement:i}){let s=IC(),a=!!(t&4);tq(e?.defaultView,"focus",c=>{if(!a||!s.current)return;let u=lq(r);Go(n.current)&&u.add(n.current);let d=i.current;if(!d)return;let h=c.target;Go(h)?uq(u,h)?(i.current=h,jo(h)):(c.preventDefault(),c.stopPropagation(),jo(d)):jo(i.current)},!0)}function uq(t,e){for(let n of t)if(n.contains(e))return!0;return!1}function dq(t){var e;return!!(t.enter||t.enterFrom||t.enterTo||t.leave||t.leaveFrom||t.leaveTo)||!Rg((e=t.as)!=null?e:hq)||et.Children.count(t.children)===1}let _E=Y.createContext(null);_E.displayName="TransitionContext";var Qye=(t=>(t.Visible="visible",t.Hidden="hidden",t))(Qye||{});function eme(){let t=Y.useContext(_E);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function tme(){let t=Y.useContext(EE);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let EE=Y.createContext(null);EE.displayName="NestingContext";function AE(t){return"children"in t?AE(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function fq(t,e){let n=xf(t),r=Y.useRef([]),i=IC(),s=gE(),a=Cn((g,b=Tu.Hidden)=>{let v=r.current.findIndex(({el:E})=>E===g);v!==-1&&(dl(b,{[Tu.Unmount](){r.current.splice(v,1)},[Tu.Hidden](){r.current[v].state="hidden"}}),s.microTask(()=>{var E;!AE(r)&&i.current&&((E=n.current)==null||E.call(n))}))}),c=Cn(g=>{let b=r.current.find(({el:v})=>v===g);return b?b.state!=="visible"&&(b.state="visible"):r.current.push({el:g,state:"visible"}),()=>a(g,Tu.Unmount)}),u=Y.useRef([]),d=Y.useRef(Promise.resolve()),h=Y.useRef({enter:[],leave:[]}),p=Cn((g,b,v)=>{u.current.splice(0),e&&(e.chains.current[b]=e.chains.current[b].filter(([E])=>E!==g)),e?.chains.current[b].push([g,new Promise(E=>{u.current.push(E)})]),e?.chains.current[b].push([g,new Promise(E=>{Promise.all(h.current[b].map(([O,k])=>k)).then(()=>E())})]),b==="enter"?d.current=d.current.then(()=>e?.wait.current).then(()=>v(b)):v(b)}),m=Cn((g,b,v)=>{Promise.all(h.current[b].splice(0).map(([E,O])=>O)).then(()=>{var E;(E=u.current.shift())==null||E()}).then(()=>v(b))});return Y.useMemo(()=>({children:r,register:c,unregister:a,onStart:p,onStop:m,wait:d,chains:h}),[c,a,r,p,m,h,d])}let hq=Y.Fragment,pq=e_.RenderStrategy;function nme(t,e){var n,r;let{transition:i=!0,beforeEnter:s,afterEnter:a,beforeLeave:c,afterLeave:u,enter:d,enterFrom:h,enterTo:p,entered:m,leave:g,leaveFrom:b,leaveTo:v,...E}=t,[O,k]=Y.useState(null),S=Y.useRef(null),A=dq(t),C=Qo(...A?[S,e,k]:e===null?[]:[e]),I=(n=E.unmount)==null||n?Tu.Unmount:Tu.Hidden,{show:$,appear:z,initial:L}=eme(),[B,V]=Y.useState($?"visible":"hidden"),D=tme(),{register:F,unregister:K}=D;ls(()=>F(S),[F,S]),ls(()=>{if(I===Tu.Hidden&&S.current){if($&&B!=="visible"){V("visible");return}return dl(B,{hidden:()=>K(S),visible:()=>F(S)})}},[B,S,F,K,$,I]);let T=vE();ls(()=>{if(A&&T&&B==="visible"&&S.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[S,B,T,A]);let x=L&&!z,N=z&&$&&L,j=Y.useRef(!1),P=fq(()=>{j.current||(V("hidden"),K(S))},D),H=Cn(we=>{j.current=!0;let Te=we?"enter":"leave";P.onStart(S,Te,Ee=>{Ee==="enter"?s?.():Ee==="leave"&&c?.()})}),M=Cn(we=>{let Te=we?"enter":"leave";j.current=!1,P.onStop(S,Te,Ee=>{Ee==="enter"?a?.():Ee==="leave"&&u?.()}),Te==="leave"&&!AE(P)&&(V("hidden"),K(S))});Y.useEffect(()=>{A&&i||(H($),M($))},[$,A,i]);let G=!(!i||!A||!T||x),[,J]=Aye(G,O,$,{start:H,end:M}),X=xd({ref:C,className:((r=v5(E.className,N&&d,N&&h,J.enter&&d,J.enter&&J.closed&&h,J.enter&&!J.closed&&p,J.leave&&g,J.leave&&!J.closed&&b,J.leave&&J.closed&&v,!J.transition&&$&&m))==null?void 0:r.trim())||void 0,...Eye(J)}),Q=0;B==="visible"&&(Q|=Ja.Open),B==="hidden"&&(Q|=Ja.Closed),$&&B==="hidden"&&(Q|=Ja.Opening),!$&&B==="visible"&&(Q|=Ja.Closing);let ge=Ca();return et.createElement(EE.Provider,{value:P},et.createElement(Cye,{value:Q},ge({ourProps:X,theirProps:E,defaultTag:hq,features:pq,visible:B==="visible",name:"Transition.Child"})))}function rme(t,e){let{show:n,appear:r=!1,unmount:i=!0,...s}=t,a=Y.useRef(null),c=dq(t),u=Qo(...c?[a,e]:e===null?[]:[e]);vE();let d=wE();if(n===void 0&&d!==null&&(n=(d&Ja.Open)===Ja.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[h,p]=Y.useState(n?"visible":"hidden"),m=fq(()=>{n||p("hidden")}),[g,b]=Y.useState(!0),v=Y.useRef([n]);ls(()=>{g!==!1&&v.current[v.current.length-1]!==n&&(v.current.push(n),b(!1))},[v,n]);let E=Y.useMemo(()=>({show:n,appear:r,initial:g}),[n,r,g]);ls(()=>{n?p("visible"):!AE(m)&&a.current!==null&&p("hidden")},[n,m]);let O={unmount:i},k=Cn(()=>{var C;g&&b(!1),(C=t.beforeEnter)==null||C.call(t)}),S=Cn(()=>{var C;g&&b(!1),(C=t.beforeLeave)==null||C.call(t)}),A=Ca();return et.createElement(EE.Provider,{value:m},et.createElement(_E.Provider,{value:E},A({ourProps:{...O,as:Y.Fragment,children:et.createElement(yq,{ref:u,...O,...s,beforeEnter:k,beforeLeave:S})},theirProps:{},defaultTag:Y.Fragment,features:pq,visible:h==="visible",name:"Transition"})))}function ime(t,e){let n=Y.useContext(_E)!==null,r=wE()!==null;return et.createElement(et.Fragment,null,!n&&r?et.createElement(x5,{ref:e,...t}):et.createElement(yq,{ref:e,...t}))}let x5=ps(rme),yq=ps(nme),v0=ps(ime),mq=Object.assign(x5,{Child:v0,Root:x5});var sme=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(sme||{}),ame=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(ame||{});let ome={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},CC=Y.createContext(null);CC.displayName="DialogContext";function SE(t){let e=Y.useContext(CC);if(e===null){let n=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,SE),n}return e}function cme(t,e){return dl(e.type,ome,t,e)}let $P=ps(function(t,e){let n=Y.useId(),{id:r=`headlessui-dialog-${n}`,open:i,onClose:s,initialFocus:a,role:c="dialog",autoFocus:u=!0,__demoMode:d=!1,unmount:h=!1,...p}=t,m=Y.useRef(!1);c=(function(){return c==="dialog"||c==="alertdialog"?c:(m.current||(m.current=!0,console.warn(`Invalid role [${c}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")})();let g=wE();i===void 0&&g!==null&&(i=(g&Ja.Open)===Ja.Open);let b=Y.useRef(null),v=Qo(b,e),E=xC(b.current),O=i?0:1,[k,S]=Y.useReducer(cme,{titleId:null,descriptionId:null,panelRef:Y.createRef()}),A=Cn(()=>s(!1)),C=Cn(J=>S({type:0,id:J})),I=vE()?O===0:!1,[$,z]=Uye(),L={get current(){var J;return(J=k.panelRef.current)!=null?J:b.current}},B=cq(),{resolveContainers:V}=Fye({mainTreeNode:B,portals:$,defaultContainers:[L]}),D=g!==null?(g&Ja.Closing)===Ja.Closing:!1;tye(d||D?!1:I,{allowed:Cn(()=>{var J,X;return[(X=(J=b.current)==null?void 0:J.closest("[data-headlessui-portal]"))!=null?X:null]}),disallowed:Cn(()=>{var J;return[(J=B?.closest("body > *:not(#headlessui-portal-root)"))!=null?J:null]})});let F=KF.get(null);ls(()=>{if(I)return F.actions.push(r),()=>F.actions.pop(r)},[F,r,I]);let K=YF(F,Y.useCallback(J=>F.selectors.isTop(J,r),[F,r]));dye(K,V,J=>{J.preventDefault(),A()}),jye(K,E?.defaultView,J=>{J.preventDefault(),J.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),A()}),bye(d||D?!1:I,E,V),nye(I,b,A);let[T,x]=Dpe(),N=Y.useMemo(()=>[{dialogState:O,close:A,setTitleId:C,unmount:h},k],[O,A,C,h,k]),j=lb({open:O===0}),P={ref:v,id:r,role:c,tabIndex:-1,"aria-modal":d?void 0:O===0?!0:void 0,"aria-labelledby":k.titleId,"aria-describedby":T,unmount:h},H=!zye(),M=kd.None;I&&!d&&(M|=kd.RestoreFocus,M|=kd.TabLock,u&&(M|=kd.AutoFocus),H&&(M|=kd.InitialFocus));let G=Ca();return et.createElement(Oye,null,et.createElement(RP,{force:!0},et.createElement(Lye,null,et.createElement(CC.Provider,{value:N},et.createElement(aq,{target:b},et.createElement(RP,{force:!1},et.createElement(x,{slot:j},et.createElement(z,null,et.createElement(Kye,{initialFocus:a,initialFocusFallback:b,containers:V,features:M},et.createElement(zpe,{value:A},G({ourProps:P,theirProps:p,slot:j,defaultTag:lme,features:ume,visible:O===0,name:"Dialog"})))))))))))}),lme="div",ume=e_.RenderStrategy|e_.Static;function dme(t,e){let{transition:n=!1,open:r,...i}=t,s=wE(),a=t.hasOwnProperty("open")||s!==null,c=t.hasOwnProperty("onClose");if(!a&&!c)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!a)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!c)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!s&&typeof t.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${t.open}`);if(typeof t.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${t.onClose}`);return(r!==void 0||n)&&!i.static?et.createElement(NP,null,et.createElement(mq,{show:r,transition:n,unmount:i.unmount},et.createElement($P,{ref:e,...i}))):et.createElement(NP,null,et.createElement($P,{ref:e,open:r,...i}))}let fme="div";function hme(t,e){let n=Y.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:i=!1,...s}=t,[{dialogState:a,unmount:c},u]=SE("Dialog.Panel"),d=Qo(e,u.panelRef),h=lb({open:a===0}),p=Cn(E=>{E.stopPropagation()}),m={ref:d,id:r,onClick:p},g=i?v0:Y.Fragment,b=i?{unmount:c}:{},v=Ca();return et.createElement(g,{...b},v({ourProps:m,theirProps:s,slot:h,defaultTag:fme,name:"Dialog.Panel"}))}let pme="div";function yme(t,e){let{transition:n=!1,...r}=t,[{dialogState:i,unmount:s}]=SE("Dialog.Backdrop"),a=lb({open:i===0}),c={ref:e,"aria-hidden":!0},u=n?v0:Y.Fragment,d=n?{unmount:s}:{},h=Ca();return et.createElement(u,{...d},h({ourProps:c,theirProps:r,slot:a,defaultTag:pme,name:"Dialog.Backdrop"}))}let mme="h2";function gme(t,e){let n=Y.useId(),{id:r=`headlessui-dialog-title-${n}`,...i}=t,[{dialogState:s,setTitleId:a}]=SE("Dialog.Title"),c=Qo(e);Y.useEffect(()=>(a(r),()=>a(null)),[r,a]);let u=lb({open:s===0}),d={ref:c,id:r};return Ca()({ourProps:d,theirProps:i,slot:u,defaultTag:mme,name:"Dialog.Title"})}let bme=ps(dme),gq=ps(hme);ps(yme);let wme=ps(gme),vme=Object.assign(bme,{Panel:gq,Title:wme,Description:Lpe});var fv={exports:{}},PP;function _me(){if(PP)return fv.exports;PP=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(C,I,$){return Function.prototype.apply.call(C,I,$)},n;t&&typeof t.ownKeys=="function"?n=t.ownKeys:Object.getOwnPropertySymbols?n=function(C){return Object.getOwnPropertyNames(C).concat(Object.getOwnPropertySymbols(C))}:n=function(C){return Object.getOwnPropertyNames(C)};function r(A){console&&console.warn&&console.warn(A)}var i=Number.isNaN||function(C){return C!==C};function s(){s.init.call(this)}fv.exports=s,fv.exports.once=O,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var a=10;function c(A){if(typeof A!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof A)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(A){if(typeof A!="number"||A<0||i(A))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+A+".");a=A}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(C){if(typeof C!="number"||C<0||i(C))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+C+".");return this._maxListeners=C,this};function u(A){return A._maxListeners===void 0?s.defaultMaxListeners:A._maxListeners}s.prototype.getMaxListeners=function(){return u(this)},s.prototype.emit=function(C){for(var I=[],$=1;$<arguments.length;$++)I.push(arguments[$]);var z=C==="error",L=this._events;if(L!==void 0)z=z&&L.error===void 0;else if(!z)return!1;if(z){var B;if(I.length>0&&(B=I[0]),B instanceof Error)throw B;var V=new Error("Unhandled error."+(B?" ("+B.message+")":""));throw V.context=B,V}var D=L[C];if(D===void 0)return!1;if(typeof D=="function")e(D,this,I);else for(var F=D.length,K=b(D,F),$=0;$<F;++$)e(K[$],this,I);return!0};function d(A,C,I,$){var z,L,B;if(c(I),L=A._events,L===void 0?(L=A._events=Object.create(null),A._eventsCount=0):(L.newListener!==void 0&&(A.emit("newListener",C,I.listener?I.listener:I),L=A._events),B=L[C]),B===void 0)B=L[C]=I,++A._eventsCount;else if(typeof B=="function"?B=L[C]=$?[I,B]:[B,I]:$?B.unshift(I):B.push(I),z=u(A),z>0&&B.length>z&&!B.warned){B.warned=!0;var V=new Error("Possible EventEmitter memory leak detected. "+B.length+" "+String(C)+" listeners added. Use emitter.setMaxListeners() to increase limit");V.name="MaxListenersExceededWarning",V.emitter=A,V.type=C,V.count=B.length,r(V)}return A}s.prototype.addListener=function(C,I){return d(this,C,I,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(C,I){return d(this,C,I,!0)};function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(A,C,I){var $={fired:!1,wrapFn:void 0,target:A,type:C,listener:I},z=h.bind($);return z.listener=I,$.wrapFn=z,z}s.prototype.once=function(C,I){return c(I),this.on(C,p(this,C,I)),this},s.prototype.prependOnceListener=function(C,I){return c(I),this.prependListener(C,p(this,C,I)),this},s.prototype.removeListener=function(C,I){var $,z,L,B,V;if(c(I),z=this._events,z===void 0)return this;if($=z[C],$===void 0)return this;if($===I||$.listener===I)--this._eventsCount===0?this._events=Object.create(null):(delete z[C],z.removeListener&&this.emit("removeListener",C,$.listener||I));else if(typeof $!="function"){for(L=-1,B=$.length-1;B>=0;B--)if($[B]===I||$[B].listener===I){V=$[B].listener,L=B;break}if(L<0)return this;L===0?$.shift():v($,L),$.length===1&&(z[C]=$[0]),z.removeListener!==void 0&&this.emit("removeListener",C,V||I)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(C){var I,$,z;if($=this._events,$===void 0)return this;if($.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):$[C]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete $[C]),this;if(arguments.length===0){var L=Object.keys($),B;for(z=0;z<L.length;++z)B=L[z],B!=="removeListener"&&this.removeAllListeners(B);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(I=$[C],typeof I=="function")this.removeListener(C,I);else if(I!==void 0)for(z=I.length-1;z>=0;z--)this.removeListener(C,I[z]);return this};function m(A,C,I){var $=A._events;if($===void 0)return[];var z=$[C];return z===void 0?[]:typeof z=="function"?I?[z.listener||z]:[z]:I?E(z):b(z,z.length)}s.prototype.listeners=function(C){return m(this,C,!0)},s.prototype.rawListeners=function(C){return m(this,C,!1)},s.listenerCount=function(A,C){return typeof A.listenerCount=="function"?A.listenerCount(C):g.call(A,C)},s.prototype.listenerCount=g;function g(A){var C=this._events;if(C!==void 0){var I=C[A];if(typeof I=="function")return 1;if(I!==void 0)return I.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function b(A,C){for(var I=new Array(C),$=0;$<C;++$)I[$]=A[$];return I}function v(A,C){for(;C+1<A.length;C++)A[C]=A[C+1];A.pop()}function E(A){for(var C=new Array(A.length),I=0;I<C.length;++I)C[I]=A[I].listener||A[I];return C}function O(A,C){return new Promise(function(I,$){function z(B){A.removeListener(C,L),$(B)}function L(){typeof A.removeListener=="function"&&A.removeListener("error",z),I([].slice.call(arguments))}S(A,C,L,{once:!0}),C!=="error"&&k(A,z,{once:!0})})}function k(A,C,I){typeof A.on=="function"&&S(A,"error",C,I)}function S(A,C,I,$){if(typeof A.on=="function")$.once?A.once(C,I):A.on(C,I);else if(typeof A.addEventListener=="function")A.addEventListener(C,function z(L){$.once&&A.removeEventListener(C,z),I(L)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof A)}return fv.exports}var qs=_me();const OC=Uu(qs);var DP=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))},Eme=(function(){function t(e,n,r){this.name=e,this.version=n,this.os=r,this.type="browser"}return t})(),Ame=(function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t})(),Sme=(function(){function t(e,n,r,i){this.name=e,this.version=n,this.os=r,this.bot=i,this.type="bot-device"}return t})(),xme=(function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t})(),Tme=(function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t})(),Ime=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,Cme=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,MP=3,Ome=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",Ime]],UP=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function kme(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new Tme:typeof navigator<"u"?Nme(navigator.userAgent):Pme()}function Rme(t){return t!==""&&Ome.reduce(function(e,n){var r=n[0],i=n[1];if(e)return e;var s=i.exec(t);return!!s&&[r,s]},!1)}function Nme(t){var e=Rme(t);if(!e)return null;var n=e[0],r=e[1];if(n==="searchbot")return new xme;var i=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);i?i.length<MP&&(i=DP(DP([],i,!0),Dme(MP-i.length),!0)):i=[];var s=i.join("."),a=$me(t),c=Cme.exec(t);return c&&c[1]?new Sme(n,s,a,c[1]):new Eme(n,s,a)}function $me(t){for(var e=0,n=UP.length;e<n;e++){var r=UP[e],i=r[0],s=r[1],a=s.exec(t);if(a)return i}return null}function Pme(){var t=typeof process<"u"&&process.version;return t?new Ame(process.version.slice(1)):null}function Dme(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}var _x={};var T5=function(t,e){return T5=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},T5(t,e)};function Mme(t,e){T5(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var I5=function(){return I5=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},I5.apply(this,arguments)};function Ume(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Bme(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(s=(i<3?a(s):i>3?a(e,n,s):a(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function Lme(t,e){return function(n,r){e(n,r,t)}}function jme(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function zme(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function c(h){try{d(r.next(h))}catch(p){a(p)}}function u(h){try{d(r.throw(h))}catch(p){a(p)}}function d(h){h.done?s(h.value):i(h.value).then(c,u)}d((r=r.apply(t,e||[])).next())})}function Fme(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(d){return function(h){return u([d,h])}}function u(d){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=d[0]&2?i.return:d[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,d[1])).done)return s;switch(i=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,i=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){n.label=d[1];break}if(d[0]===6&&n.label<s[1]){n.label=s[1],s=d;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(d);break}s[2]&&n.ops.pop(),n.trys.pop();continue}d=e.call(t,n)}catch(h){d=[6,h],i=0}finally{r=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function qme(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function Wme(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function C5(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function bq(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(c){a={error:c}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return s}function Vme(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(bq(arguments[e]));return t}function Hme(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],a=0,c=s.length;a<c;a++,i++)r[i]=s[a];return r}function _0(t){return this instanceof _0?(this.v=t,this):new _0(t)}function Gme(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(m){r[m]&&(i[m]=function(g){return new Promise(function(b,v){s.push([m,g,b,v])>1||c(m,g)})})}function c(m,g){try{u(r[m](g))}catch(b){p(s[0][3],b)}}function u(m){m.value instanceof _0?Promise.resolve(m.value.v).then(d,h):p(s[0][2],m)}function d(m){c("next",m)}function h(m){c("throw",m)}function p(m,g){m(g),s.shift(),s.length&&c(s[0][0],s[0][1])}}function Kme(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(a){return(n=!n)?{value:_0(t[i](a)),done:i==="return"}:s?s(a):a}:s}}function Yme(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof C5=="function"?C5(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(a){return new Promise(function(c,u){a=t[s](a),i(c,u,a.done,a.value)})}}function i(s,a,c,u){Promise.resolve(u).then(function(d){s({value:d,done:c})},a)}}function Zme(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function Xme(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function Jme(t){return t&&t.__esModule?t:{default:t}}function Qme(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function ege(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const tge=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return I5},__asyncDelegator:Kme,__asyncGenerator:Gme,__asyncValues:Yme,__await:_0,__awaiter:zme,__classPrivateFieldGet:Qme,__classPrivateFieldSet:ege,__createBinding:qme,__decorate:Bme,__exportStar:Wme,__extends:Mme,__generator:Fme,__importDefault:Jme,__importStar:Xme,__makeTemplateObject:Zme,__metadata:jme,__param:Lme,__read:bq,__rest:Ume,__spread:Vme,__spreadArrays:Hme,__values:C5},Symbol.toStringTag,{value:"Module"})),xE=hB(tge);var Ex={},im={},BP;function nge(){if(BP)return im;BP=1,Object.defineProperty(im,"__esModule",{value:!0}),im.delay=void 0;function t(e){return new Promise(n=>{setTimeout(()=>{n(!0)},e)})}return im.delay=t,im}var hd={},Ax={},pd={},LP;function rge(){return LP||(LP=1,Object.defineProperty(pd,"__esModule",{value:!0}),pd.ONE_THOUSAND=pd.ONE_HUNDRED=void 0,pd.ONE_HUNDRED=100,pd.ONE_THOUSAND=1e3),pd}var Sx={},jP;function ige(){return jP||(jP=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365})(Sx)),Sx}var zP;function wq(){return zP||(zP=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=xE;e.__exportStar(rge(),t),e.__exportStar(ige(),t)})(Ax)),Ax}var FP;function sge(){if(FP)return hd;FP=1,Object.defineProperty(hd,"__esModule",{value:!0}),hd.fromMiliseconds=hd.toMiliseconds=void 0;const t=wq();function e(r){return r*t.ONE_THOUSAND}hd.toMiliseconds=e;function n(r){return Math.floor(r/t.ONE_THOUSAND)}return hd.fromMiliseconds=n,hd}var qP;function age(){return qP||(qP=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=xE;e.__exportStar(nge(),t),e.__exportStar(sge(),t)})(Ex)),Ex}var Eh={},WP;function oge(){if(WP)return Eh;WP=1,Object.defineProperty(Eh,"__esModule",{value:!0}),Eh.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(n){if(this.timestamps.has(n))throw new Error(`Watch already started for label: ${n}`);this.timestamps.set(n,{started:Date.now()})}stop(n){const r=this.get(n);if(typeof r.elapsed<"u")throw new Error(`Watch already stopped for label: ${n}`);const i=Date.now()-r.started;this.timestamps.set(n,{started:r.started,elapsed:i})}get(n){const r=this.timestamps.get(n);if(typeof r>"u")throw new Error(`No timestamp found for label: ${n}`);return r}elapsed(n){const r=this.get(n);return r.elapsed||Date.now()-r.started}}return Eh.Watch=t,Eh.default=t,Eh}var xx={},sm={},VP;function cge(){if(VP)return sm;VP=1,Object.defineProperty(sm,"__esModule",{value:!0}),sm.IWatch=void 0;class t{}return sm.IWatch=t,sm}var HP;function lge(){return HP||(HP=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),xE.__exportStar(cge(),t)})(xx)),xx}var GP;function uge(){return GP||(GP=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=xE;e.__exportStar(age(),t),e.__exportStar(oge(),t),e.__exportStar(lge(),t),e.__exportStar(wq(),t)})(_x)),_x}var Be=uge(),xn={},KP;function vq(){if(KP)return xn;KP=1,Object.defineProperty(xn,"__esModule",{value:!0}),xn.getLocalStorage=xn.getLocalStorageOrThrow=xn.getCrypto=xn.getCryptoOrThrow=xn.getLocation=xn.getLocationOrThrow=xn.getNavigator=xn.getNavigatorOrThrow=xn.getDocument=xn.getDocumentOrThrow=xn.getFromWindowOrThrow=xn.getFromWindow=void 0;function t(m){let g;return typeof window<"u"&&typeof window[m]<"u"&&(g=window[m]),g}xn.getFromWindow=t;function e(m){const g=t(m);if(!g)throw new Error(`${m} is not defined in Window`);return g}xn.getFromWindowOrThrow=e;function n(){return e("document")}xn.getDocumentOrThrow=n;function r(){return t("document")}xn.getDocument=r;function i(){return e("navigator")}xn.getNavigatorOrThrow=i;function s(){return t("navigator")}xn.getNavigator=s;function a(){return e("location")}xn.getLocationOrThrow=a;function c(){return t("location")}xn.getLocation=c;function u(){return e("crypto")}xn.getCryptoOrThrow=u;function d(){return t("crypto")}xn.getCrypto=d;function h(){return e("localStorage")}xn.getLocalStorageOrThrow=h;function p(){return t("localStorage")}return xn.getLocalStorage=p,xn}var fl=vq(),am={},YP;function dge(){if(YP)return am;YP=1,Object.defineProperty(am,"__esModule",{value:!0}),am.getWindowMetadata=void 0;const t=vq();function e(){let n,r;try{n=t.getDocumentOrThrow(),r=t.getLocationOrThrow()}catch{return null}function i(){const g=n.getElementsByTagName("link"),b=[];for(let v=0;v<g.length;v++){const E=g[v],O=E.getAttribute("rel");if(O&&O.toLowerCase().indexOf("icon")>-1){const k=E.getAttribute("href");if(k)if(k.toLowerCase().indexOf("https:")===-1&&k.toLowerCase().indexOf("http:")===-1&&k.indexOf("//")!==0){let S=r.protocol+"//"+r.host;if(k.indexOf("/")===0)S+=k;else{const A=r.pathname.split("/");A.pop();const C=A.join("/");S+=C+"/"+k}b.push(S)}else if(k.indexOf("//")===0){const S=r.protocol+k;b.push(S)}else b.push(k)}}return b}function s(...g){const b=n.getElementsByTagName("meta");for(let v=0;v<b.length;v++){const E=b[v],O=["itemprop","property","name"].map(k=>E.getAttribute(k)).filter(k=>k?g.includes(k):!1);if(O.length&&O){const k=E.getAttribute("content");if(k)return k}}return""}function a(){let g=s("name","og:site_name","og:title","twitter:title");return g||(g=n.title),g}function c(){return s("description","og:description","twitter:description","keywords")}const u=a(),d=c(),h=r.origin,p=i();return{description:d,url:h,icons:p,name:u}}return am.getWindowMetadata=e,am}var fge=dge();const hge="0.1.1";function pge(){return hge}class Hn extends Error{constructor(e,n={}){const r=(()=>{if(n.cause instanceof Hn){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:n.cause?.message?n.cause.message:n.details})(),i=n.cause instanceof Hn&&n.cause.docsPath||n.docsPath,a=`https://oxlib.sh${i??""}`,c=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||i?["",r?`Details: ${r}`:void 0,i?`See: ${a}`:void 0]:[]].filter(u=>typeof u=="string").join(`
`);super(c,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${pge()}`}),this.cause=n.cause,this.details=r,this.docs=a,this.docsPath=i,this.shortMessage=e}walk(e){return _q(this,e)}}function _q(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?_q(t.cause,e):e?null:t}const Ah=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function yge(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function E0(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function hf(t,...e){if(!yge(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function mge(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");E0(t.outputLen),E0(t.blockLen)}function Op(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Eq(t,e){hf(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function gge(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function kp(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Tx(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function vo(t,e){return t<<32-e|t>>>e}const bge=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function wge(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function vge(t){for(let e=0;e<t.length;e++)t[e]=wge(t[e]);return t}const ZP=bge?t=>t:vge;function _ge(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function TE(t){return typeof t=="string"&&(t=_ge(t)),hf(t),t}function Ege(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];hf(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}class kC{}function Aq(t){const e=r=>t().update(TE(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Age(t=32){if(Ah&&typeof Ah.getRandomValues=="function")return Ah.getRandomValues(new Uint8Array(t));if(Ah&&typeof Ah.randomBytes=="function")return Uint8Array.from(Ah.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}function Sge(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),a=Number(n>>i&s),c=Number(n&s),u=r?4:0,d=r?0:4;t.setUint32(e+u,a,r),t.setUint32(e+d,c,r)}function xge(t,e,n){return t&e^~t&n}function Tge(t,e,n){return t&e^t&n^e&n}class Ige extends kC{constructor(e,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=Tx(this.buffer)}update(e){Op(this),e=TE(e),hf(e);const{view:n,buffer:r,blockLen:i}=this,s=e.length;for(let a=0;a<s;){const c=Math.min(i-this.pos,s-a);if(c===i){const u=Tx(e);for(;i<=s-a;a+=i)this.process(u,a);continue}r.set(e.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Op(this),Eq(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:a}=this;n[a++]=128,kp(this.buffer.subarray(a)),this.padOffset>i-a&&(this.process(r,0),a=0);for(let p=a;p<i;p++)n[p]=0;Sge(r,i-8,BigInt(this.length*8),s),this.process(r,0);const c=Tx(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=u/4,h=this.get();if(d>h.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<d;p++)c.setUint32(4*p,h[p],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:a,pos:c}=this;return e.destroyed=a,e.finished=s,e.length=i,e.pos=c,i%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const Jl=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),hv=BigInt(2**32-1),XP=BigInt(32);function Cge(t,e=!1){return e?{h:Number(t&hv),l:Number(t>>XP&hv)}:{h:Number(t>>XP&hv)|0,l:Number(t&hv)|0}}function Oge(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let s=0;s<n;s++){const{h:a,l:c}=Cge(t[s],e);[r[s],i[s]]=[a,c]}return[r,i]}const kge=(t,e,n)=>t<<n|e>>>32-n,Rge=(t,e,n)=>e<<n|t>>>32-n,Nge=(t,e,n)=>e<<n-32|t>>>64-n,$ge=(t,e,n)=>t<<n-32|e>>>64-n,Pge=BigInt(0),om=BigInt(1),Dge=BigInt(2),Mge=BigInt(7),Uge=BigInt(256),Bge=BigInt(113),Sq=[],xq=[],Tq=[];for(let t=0,e=om,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],Sq.push(2*(5*r+n)),xq.push((t+1)*(t+2)/2%64);let i=Pge;for(let s=0;s<7;s++)e=(e<<om^(e>>Mge)*Bge)%Uge,e&Dge&&(i^=om<<(om<<BigInt(s))-om);Tq.push(i)}const Iq=Oge(Tq,!0),Lge=Iq[0],jge=Iq[1],JP=(t,e,n)=>n>32?Nge(t,e,n):kge(t,e,n),QP=(t,e,n)=>n>32?$ge(t,e,n):Rge(t,e,n);function zge(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let a=0;a<10;a++)n[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(let a=0;a<10;a+=2){const c=(a+8)%10,u=(a+2)%10,d=n[u],h=n[u+1],p=JP(d,h,1)^n[c],m=QP(d,h,1)^n[c+1];for(let g=0;g<50;g+=10)t[a+g]^=p,t[a+g+1]^=m}let i=t[2],s=t[3];for(let a=0;a<24;a++){const c=xq[a],u=JP(i,s,c),d=QP(i,s,c),h=Sq[a];i=t[h],s=t[h+1],t[h]=u,t[h+1]=d}for(let a=0;a<50;a+=10){for(let c=0;c<10;c++)n[c]=t[a+c];for(let c=0;c<10;c++)t[a+c]^=~n[(c+2)%10]&n[(c+4)%10]}t[0]^=Lge[r],t[1]^=jge[r]}kp(n)}class RC extends kC{constructor(e,n,r,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,E0(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=gge(this.state)}clone(){return this._cloneInto()}keccak(){ZP(this.state32),zge(this.state32,this.rounds),ZP(this.state32),this.posOut=0,this.pos=0}update(e){Op(this),e=TE(e),hf(e);const{blockLen:n,state:r}=this,i=e.length;for(let s=0;s<i;){const a=Math.min(n-this.pos,i-s);for(let c=0;c<a;c++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,(n&128)!==0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Op(this,!1),hf(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const a=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+a),i),this.posOut+=a,i+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return E0(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Eq(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,kp(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:a}=this;return e||(e=new RC(n,r,i,a,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=a,e.destroyed=this.destroyed,e}}const Fge=(t,e,n)=>Aq(()=>new RC(e,t,n)),qge=Fge(1,136,256/8),Wge=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ql=new Uint32Array(64);class Vge extends Ige{constructor(e=32){super(64,e,8,!1),this.A=Jl[0]|0,this.B=Jl[1]|0,this.C=Jl[2]|0,this.D=Jl[3]|0,this.E=Jl[4]|0,this.F=Jl[5]|0,this.G=Jl[6]|0,this.H=Jl[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:a,G:c,H:u}=this;return[e,n,r,i,s,a,c,u]}set(e,n,r,i,s,a,c,u){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=c|0,this.H=u|0}process(e,n){for(let p=0;p<16;p++,n+=4)Ql[p]=e.getUint32(n,!1);for(let p=16;p<64;p++){const m=Ql[p-15],g=Ql[p-2],b=vo(m,7)^vo(m,18)^m>>>3,v=vo(g,17)^vo(g,19)^g>>>10;Ql[p]=v+Ql[p-7]+b+Ql[p-16]|0}let{A:r,B:i,C:s,D:a,E:c,F:u,G:d,H:h}=this;for(let p=0;p<64;p++){const m=vo(c,6)^vo(c,11)^vo(c,25),g=h+m+xge(c,u,d)+Wge[p]+Ql[p]|0,v=(vo(r,2)^vo(r,13)^vo(r,22))+Tge(r,i,s)|0;h=d,d=u,u=c,c=a+g|0,a=s,s=i,i=r,r=g+v|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,c=c+this.E|0,u=u+this.F|0,d=d+this.G|0,h=h+this.H|0,this.set(r,i,s,a,c,u,d,h)}roundClean(){kp(Ql)}destroy(){this.set(0,0,0,0,0,0,0,0),kp(this.buffer)}}const Hge=Aq(()=>new Vge);const NC=BigInt(0),O5=BigInt(1);function db(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function $C(t){if(!db(t))throw new Error("Uint8Array expected")}function A0(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function pv(t){const e=t.toString(16);return e.length&1?"0"+e:e}function Cq(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?NC:BigInt("0x"+t)}const Oq=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Gge=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function S0(t){if($C(t),Oq)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=Gge[t[n]];return e}const Ec={_0:48,_9:57,A:65,F:70,a:97,f:102};function eD(t){if(t>=Ec._0&&t<=Ec._9)return t-Ec._0;if(t>=Ec.A&&t<=Ec.F)return t-(Ec.A-10);if(t>=Ec.a&&t<=Ec.f)return t-(Ec.a-10)}function r_(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(Oq)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const a=eD(t.charCodeAt(s)),c=eD(t.charCodeAt(s+1));if(a===void 0||c===void 0){const u=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+u+'" at index '+s)}r[i]=a*16+c}return r}function Yd(t){return Cq(S0(t))}function kq(t){return $C(t),Cq(S0(Uint8Array.from(t).reverse()))}function fb(t,e){return r_(t.toString(16).padStart(e*2,"0"))}function Rq(t,e){return fb(t,e).reverse()}function ha(t,e,n){let r;if(typeof e=="string")try{r=r_(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(db(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function i_(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];$C(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}const Ix=t=>typeof t=="bigint"&&NC<=t;function PC(t,e,n){return Ix(t)&&Ix(e)&&Ix(n)&&e<=t&&t<n}function ip(t,e,n,r){if(!PC(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function Kge(t){let e;for(e=0;t>NC;t>>=O5,e+=1);return e}const IE=t=>(O5<<BigInt(t))-O5,Cx=t=>new Uint8Array(t),tD=t=>Uint8Array.from(t);function Yge(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=Cx(t),i=Cx(t),s=0;const a=()=>{r.fill(1),i.fill(0),s=0},c=(...p)=>n(i,r,...p),u=(p=Cx(0))=>{i=c(tD([0]),p),r=c(),p.length!==0&&(i=c(tD([1]),p),r=c())},d=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let p=0;const m=[];for(;p<e;){r=c();const g=r.slice();m.push(g),p+=r.length}return i_(...m)};return(p,m)=>{a(),u(p);let g;for(;!(g=m(d()));)u();return a(),g}}const Zge={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||db(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function CE(t,e,n={}){const r=(i,s,a)=>{const c=Zge[s];if(typeof c!="function")throw new Error("invalid validator function");const u=t[i];if(!(a&&u===void 0)&&!c(u,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+u)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}function nD(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}function Xge(t,e){if(aD(t)>e)throw new b0e({givenSize:aD(t),maxSize:e})}const Ac={zero:48,nine:57,A:65,F:70,a:97,f:102};function rD(t){if(t>=Ac.zero&&t<=Ac.nine)return t-Ac.zero;if(t>=Ac.A&&t<=Ac.F)return t-(Ac.A-10);if(t>=Ac.a&&t<=Ac.f)return t-(Ac.a-10)}function Jge(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;if(t.length>r)throw new w0e({size:t.length,targetSize:r,type:"Bytes"});const i=new Uint8Array(r);for(let s=0;s<r;s++){const a=n==="right";i[a?s:r-s-1]=t[a?s:t.length-s-1]}return i}function Nq(t,e){if(Pu(t)>e)throw new c0e({givenSize:Pu(t),maxSize:e})}function Qge(t,e){if(typeof e=="number"&&e>0&&e>Pu(t)-1)throw new Dq({offset:e,position:"start",size:Pu(t)})}function e0e(t,e,n){if(typeof e=="number"&&typeof n=="number"&&Pu(t)!==n-e)throw new Dq({offset:n,position:"end",size:Pu(t)})}function $q(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;const i=t.replace("0x","");if(i.length>r*2)throw new l0e({size:Math.ceil(i.length/2),targetSize:r,type:"Hex"});return`0x${i[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const t0e="#__bigint";function DC(t,e,n){return JSON.stringify(t,(r,i)=>typeof i=="bigint"?i.toString()+t0e:i,n)}const n0e=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function r0e(t,e={}){const{strict:n=!1}=e;if(!t)throw new iD(t);if(typeof t!="string")throw new iD(t);if(n&&!/^0x[0-9a-fA-F]*$/.test(t))throw new sD(t);if(!t.startsWith("0x"))throw new sD(t)}function i0e(...t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}function MC(t){return t instanceof Uint8Array?s_(t):Array.isArray(t)?s_(new Uint8Array(t)):t}function s_(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=n0e[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(Nq(r,e.size),Pq(r,e.size)):r}function Ox(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const a=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<a){const d=typeof t=="bigint"?"n":"";throw new o0e({max:s?`${s}${d}`:void 0,min:`${a}${d}`,signed:n,size:r,value:`${t}${d}`})}const u=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?s0e(u,r):u}function s0e(t,e){return $q(t,{dir:"left",size:e})}function Pq(t,e){return $q(t,{dir:"right",size:e})}function Lc(t,e,n,r={}){const{strict:i}=r;Qge(t,e);const s=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return i&&e0e(s,e,n),s}function Pu(t){return Math.ceil((t.length-2)/2)}function a0e(t,e={}){const{strict:n=!1}=e;try{return r0e(t,{strict:n}),!0}catch{return!1}}class o0e extends Hn{constructor({max:e,min:n,signed:r,size:i,value:s}){super(`Number \`${s}\` is not in safe${i?` ${i*8}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${n}\` to \`${e}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class iD extends Hn{constructor(e){super(`Value \`${typeof e=="object"?DC(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class sD extends Hn{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}let c0e=class extends Hn{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}};class Dq extends Hn{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}let l0e=class extends Hn{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}};const u0e=new TextEncoder;function d0e(t){if(!(t instanceof Uint8Array)){if(!t)throw new yv(t);if(typeof t!="object")throw new yv(t);if(!("BYTES_PER_ELEMENT"in t))throw new yv(t);if(t.BYTES_PER_ELEMENT!==1||t.constructor.name!=="Uint8Array")throw new yv(t)}}function f0e(t){return t instanceof Uint8Array?t:typeof t=="string"?p0e(t):h0e(t)}function h0e(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function p0e(t,e={}){const{size:n}=e;let r=t;n&&(Nq(t,n),r=Pq(t,n));let i=r.slice(2);i.length%2&&(i=`0${i}`);const s=i.length/2,a=new Uint8Array(s);for(let c=0,u=0;c<s;c++){const d=rD(i.charCodeAt(u++)),h=rD(i.charCodeAt(u++));if(d===void 0||h===void 0)throw new Hn(`Invalid byte sequence ("${i[u-2]}${i[u-1]}" in "${i}").`);a[c]=d*16+h}return a}function y0e(t,e={}){const{size:n}=e,r=u0e.encode(t);return typeof n=="number"?(Xge(r,n),m0e(r,n)):r}function m0e(t,e){return Jge(t,{dir:"right",size:e})}function aD(t){return t.length}function g0e(t){try{return d0e(t),!0}catch{return!1}}class yv extends Hn{constructor(e){super(`Value \`${typeof e=="object"?DC(e):e}\` of type \`${typeof e}\` is an invalid Bytes value.`,{metaMessages:["Bytes values must be of type `Bytes`."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesTypeError"})}}class b0e extends Hn{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}}class w0e extends Hn{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}}function Mq(t,e={}){const{as:n=typeof t=="string"?"Hex":"Bytes"}=e,r=qge(f0e(t));return n==="Bytes"?r:s_(r)}class v0e extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const _0e={checksum:new v0e(8192)},kx=_0e.checksum;function Uq(t,e={}){const{compressed:n}=e,{prefix:r,x:i,y:s}=t;if(n===!1||typeof i=="bigint"&&typeof s=="bigint"){if(r!==4)throw new oD({prefix:r,cause:new I0e});return}if(n===!0||typeof i=="bigint"&&typeof s>"u"){if(r!==3&&r!==2)throw new oD({prefix:r,cause:new T0e});return}throw new x0e({publicKey:t})}function E0e(t){const e=(()=>{if(a0e(t))return Bq(t);if(g0e(t))return A0e(t);const{prefix:n,x:r,y:i}=t;return typeof r=="bigint"&&typeof i=="bigint"?{prefix:n??4,x:r,y:i}:{prefix:n,x:r}})();return Uq(e),e}function A0e(t){return Bq(s_(t))}function Bq(t){if(t.length!==132&&t.length!==130&&t.length!==68)throw new C0e({publicKey:t});if(t.length===130){const r=BigInt(Lc(t,0,32)),i=BigInt(Lc(t,32,64));return{prefix:4,x:r,y:i}}if(t.length===132){const r=Number(Lc(t,0,1)),i=BigInt(Lc(t,1,33)),s=BigInt(Lc(t,33,65));return{prefix:r,x:i,y:s}}const e=Number(Lc(t,0,1)),n=BigInt(Lc(t,1,33));return{prefix:e,x:n}}function S0e(t,e={}){Uq(t);const{prefix:n,x:r,y:i}=t,{includePrefix:s=!0}=e;return i0e(s?Ox(n,{size:1}):"0x",Ox(r,{size:32}),typeof i=="bigint"?Ox(i,{size:32}):"0x")}class x0e extends Hn{constructor({publicKey:e}){super(`Value \`${DC(e)}\` is not a valid public key.`,{metaMessages:["Public key must contain:","- an `x` and `prefix` value (compressed)","- an `x`, `y`, and `prefix` value (uncompressed)"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidError"})}}class oD extends Hn{constructor({prefix:e,cause:n}){super(`Prefix "${e}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidPrefixError"})}}class T0e extends Hn{constructor(){super("Prefix must be 2 or 3 for compressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidCompressedPrefixError"})}}class I0e extends Hn{constructor(){super("Prefix must be 4 for uncompressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidUncompressedPrefixError"})}}let C0e=class extends Hn{constructor({publicKey:e}){super(`Value \`${e}\` is an invalid public key size.`,{metaMessages:["Expected: 33 bytes (compressed + prefix), 64 bytes (uncompressed) or 65 bytes (uncompressed + prefix).",`Received ${Pu(MC(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidSerializedSizeError"})}};const O0e=/^0x[a-fA-F0-9]{40}$/;function Lq(t,e={}){const{strict:n=!0}=e;if(!O0e.test(t))throw new cD({address:t,cause:new N0e});if(n){if(t.toLowerCase()===t)return;if(jq(t)!==t)throw new cD({address:t,cause:new $0e})}}function jq(t){if(kx.has(t))return kx.get(t);Lq(t,{strict:!1});const e=t.substring(2).toLowerCase(),n=Mq(y0e(e),{as:"Bytes"}),r=e.split("");for(let s=0;s<40;s+=2)n[s>>1]>>4>=8&&r[s]&&(r[s]=r[s].toUpperCase()),(n[s>>1]&15)>=8&&r[s+1]&&(r[s+1]=r[s+1].toUpperCase());const i=`0x${r.join("")}`;return kx.set(t,i),i}function k0e(t,e={}){const{checksum:n=!1}=e;return Lq(t),n?jq(t):t}function R0e(t,e={}){const n=Mq(`0x${S0e(t).slice(4)}`).substring(26);return k0e(`0x${n}`,e)}class cD extends Hn{constructor({address:e,cause:n}){super(`Address "${e}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class N0e extends Hn{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class $0e extends Hn{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}class zq extends kC{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,mge(e);const r=TE(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=e.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),kp(s)}update(e){return Op(this),this.iHash.update(e),this}digestInto(e){Op(this),hf(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:a,outputLen:c}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=a,e.outputLen=c,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Fq=(t,e,n)=>new zq(t,e).update(n).digest();Fq.create=(t,e)=>new zq(t,e);const as=BigInt(0),Mi=BigInt(1),Bd=BigInt(2),P0e=BigInt(3),qq=BigInt(4),Wq=BigInt(5),Vq=BigInt(8);function ns(t,e){const n=t%e;return n>=as?n:e+n}function ia(t,e,n){let r=t;for(;e-- >as;)r*=r,r%=n;return r}function k5(t,e){if(t===as)throw new Error("invert: expected non-zero number");if(e<=as)throw new Error("invert: expected positive modulus, got "+e);let n=ns(t,e),r=e,i=as,s=Mi;for(;n!==as;){const c=r/n,u=r%n,d=i-s*c;r=n,n=u,i=s,s=d}if(r!==Mi)throw new Error("invert: does not exist");return ns(i,e)}function Hq(t,e){const n=(t.ORDER+Mi)/qq,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function D0e(t,e){const n=(t.ORDER-Wq)/Vq,r=t.mul(e,Bd),i=t.pow(r,n),s=t.mul(e,i),a=t.mul(t.mul(s,Bd),i),c=t.mul(s,t.sub(a,t.ONE));if(!t.eql(t.sqr(c),e))throw new Error("Cannot find square root");return c}function M0e(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-Mi,n=0;for(;e%Bd===as;)e/=Bd,n++;let r=Bd;const i=UC(t);for(;lD(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return Hq;let s=i.pow(r,e);const a=(e+Mi)/Bd;return function(u,d){if(u.is0(d))return d;if(lD(u,d)!==1)throw new Error("Cannot find square root");let h=n,p=u.mul(u.ONE,s),m=u.pow(d,e),g=u.pow(d,a);for(;!u.eql(m,u.ONE);){if(u.is0(m))return u.ZERO;let b=1,v=u.sqr(m);for(;!u.eql(v,u.ONE);)if(b++,v=u.sqr(v),b===h)throw new Error("Cannot find square root");const E=Mi<<BigInt(h-b-1),O=u.pow(p,E);h=b,p=u.sqr(O),m=u.mul(m,p),g=u.mul(g,O)}return g}}function U0e(t){return t%qq===P0e?Hq:t%Vq===Wq?D0e:M0e(t)}const B0e=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function L0e(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=B0e.reduce((r,i)=>(r[i]="function",r),e);return CE(t,n)}function j0e(t,e,n){if(n<as)throw new Error("invalid exponent, negatives unsupported");if(n===as)return t.ONE;if(n===Mi)return e;let r=t.ONE,i=e;for(;n>as;)n&Mi&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Mi;return r}function Gq(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((a,c,u)=>t.is0(c)?a:(r[u]=a,t.mul(a,c)),t.ONE),s=t.inv(i);return e.reduceRight((a,c,u)=>t.is0(c)?a:(r[u]=t.mul(a,r[u]),t.mul(a,c)),s),r}function lD(t,e){const n=(t.ORDER-Mi)/Bd,r=t.pow(e,n),i=t.eql(r,t.ONE),s=t.eql(r,t.ZERO),a=t.eql(r,t.neg(t.ONE));if(!i&&!s&&!a)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function Kq(t,e){e!==void 0&&E0(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function UC(t,e,n=!1,r={}){if(t<=as)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=Kq(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let a;const c=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:IE(i),ZERO:as,ONE:Mi,create:u=>ns(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return as<=u&&u<t},is0:u=>u===as,isOdd:u=>(u&Mi)===Mi,neg:u=>ns(-u,t),eql:(u,d)=>u===d,sqr:u=>ns(u*u,t),add:(u,d)=>ns(u+d,t),sub:(u,d)=>ns(u-d,t),mul:(u,d)=>ns(u*d,t),pow:(u,d)=>j0e(c,u,d),div:(u,d)=>ns(u*k5(d,t),t),sqrN:u=>u*u,addN:(u,d)=>u+d,subN:(u,d)=>u-d,mulN:(u,d)=>u*d,inv:u=>k5(u,t),sqrt:r.sqrt||(u=>(a||(a=U0e(t)),a(c,u))),toBytes:u=>n?Rq(u,s):fb(u,s),fromBytes:u=>{if(u.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+u.length);return n?kq(u):Yd(u)},invertBatch:u=>Gq(c,u),cmov:(u,d,h)=>h?d:u});return Object.freeze(c)}function Yq(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function Zq(t){const e=Yq(t);return e+Math.ceil(e/2)}function z0e(t,e,n=!1){const r=t.length,i=Yq(e),s=Zq(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const a=n?kq(t):Yd(t),c=ns(a,e-Mi)+Mi;return n?Rq(c,i):fb(c,i)}const uD=BigInt(0),R5=BigInt(1);function Rx(t,e){const n=e.negate();return t?n:e}function Xq(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Nx(t,e){Xq(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,s=IE(t),a=BigInt(t);return{windows:n,windowSize:r,mask:s,maxNumber:i,shiftBy:a}}function dD(t,e,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:a}=n;let c=Number(t&i),u=t>>a;c>r&&(c-=s,u+=R5);const d=e*r,h=d+Math.abs(c)-1,p=c===0,m=c<0,g=e%2!==0;return{nextN:u,offset:h,isZero:p,isNeg:m,isNegF:g,offsetF:d}}function F0e(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function q0e(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const $x=new WeakMap,Jq=new WeakMap;function Px(t){return Jq.get(t)||1}function W0e(t,e){return{constTimeNegate:Rx,hasPrecomputes(n){return Px(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>uD;)r&R5&&(i=i.add(s)),s=s.double(),r>>=R5;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=Nx(r,e),a=[];let c=n,u=c;for(let d=0;d<i;d++){u=c,a.push(u);for(let h=1;h<s;h++)u=u.add(c),a.push(u);c=u.double()}return a},wNAF(n,r,i){let s=t.ZERO,a=t.BASE;const c=Nx(n,e);for(let u=0;u<c.windows;u++){const{nextN:d,offset:h,isZero:p,isNeg:m,isNegF:g,offsetF:b}=dD(i,u,c);i=d,p?a=a.add(Rx(g,r[b])):s=s.add(Rx(m,r[h]))}return{p:s,f:a}},wNAFUnsafe(n,r,i,s=t.ZERO){const a=Nx(n,e);for(let c=0;c<a.windows&&i!==uD;c++){const{nextN:u,offset:d,isZero:h,isNeg:p}=dD(i,c,a);if(i=u,!h){const m=r[d];s=s.add(p?m.negate():m)}}return s},getPrecomputes(n,r,i){let s=$x.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&$x.set(r,i(s))),s},wNAFCached(n,r,i){const s=Px(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const a=Px(n);return a===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(a,this.getPrecomputes(a,n,i),r,s)},setWindowSize(n,r){Xq(r,e),Jq.set(n,r),$x.delete(n)}}}function V0e(t,e,n,r){F0e(n,t),q0e(r,e);const i=n.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const a=t.ZERO,c=Kge(BigInt(i));let u=1;c>12?u=c-3:c>4?u=c-2:c>0&&(u=2);const d=IE(u),h=new Array(Number(d)+1).fill(a),p=Math.floor((e.BITS-1)/u)*u;let m=a;for(let g=p;g>=0;g-=u){h.fill(a);for(let v=0;v<s;v++){const E=r[v],O=Number(E>>BigInt(g)&d);h[O]=h[O].add(n[v])}let b=a;for(let v=h.length-1,E=a;v>0;v--)E=E.add(h[v]),b=b.add(E);if(m=m.add(b),g!==0)for(let v=0;v<u;v++)m=m.double()}return m}function Qq(t){return L0e(t.Fp),CE(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Kq(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}function fD(t){t.lowS!==void 0&&A0("lowS",t.lowS),t.prehash!==void 0&&A0("prehash",t.prehash)}function H0e(t){const e=Qq(t);CE(e,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...e})}class G0e extends Error{constructor(e=""){super(e)}}const Vc={Err:G0e,_tlv:{encode:(t,e)=>{const{Err:n}=Vc;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=pv(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?pv(i.length/2|128):"";return pv(t)+s+i+e},decode(t,e){const{Err:n}=Vc;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let a=0;if(!s)a=i;else{const u=i&127;if(!u)throw new n("tlv.decode(long): indefinite length not supported");if(u>4)throw new n("tlv.decode(long): byte length is too big");const d=e.subarray(r,r+u);if(d.length!==u)throw new n("tlv.decode: length bytes not complete");if(d[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const h of d)a=a<<8|h;if(r+=u,a<128)throw new n("tlv.decode(long): not minimal encoding")}const c=e.subarray(r,r+a);if(c.length!==a)throw new n("tlv.decode: wrong value length");return{v:c,l:e.subarray(r+a)}}},_int:{encode(t){const{Err:e}=Vc;if(t<Yc)throw new e("integer: negative integers are not allowed");let n=pv(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=Vc;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Yd(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=Vc,i=ha("signature",t),{v:s,l:a}=r.decode(48,i);if(a.length)throw new e("invalid signature: left bytes after parsing");const{v:c,l:u}=r.decode(2,s),{v:d,l:h}=r.decode(2,u);if(h.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(c),s:n.decode(d)}},hexFromSig(t){const{_tlv:e,_int:n}=Vc,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}};function Dx(t,e){return S0(fb(t,e))}const Yc=BigInt(0),Wr=BigInt(1);BigInt(2);const Mx=BigInt(3),K0e=BigInt(4);function Y0e(t){const e=H0e(t),{Fp:n}=e,r=UC(e.n,e.nBitLength),i=e.toBytes||((S,A,C)=>{const I=A.toAffine();return i_(Uint8Array.from([4]),n.toBytes(I.x),n.toBytes(I.y))}),s=e.fromBytes||(S=>{const A=S.subarray(1),C=n.fromBytes(A.subarray(0,n.BYTES)),I=n.fromBytes(A.subarray(n.BYTES,2*n.BYTES));return{x:C,y:I}});function a(S){const{a:A,b:C}=e,I=n.sqr(S),$=n.mul(I,S);return n.add(n.add($,n.mul(S,A)),C)}function c(S,A){const C=n.sqr(A),I=a(S);return n.eql(C,I)}if(!c(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const u=n.mul(n.pow(e.a,Mx),K0e),d=n.mul(n.sqr(e.b),BigInt(27));if(n.is0(n.add(u,d)))throw new Error("bad curve params: a or b");function h(S){return PC(S,Wr,e.n)}function p(S){const{allowedPrivateKeyLengths:A,nByteLength:C,wrapPrivateKey:I,n:$}=e;if(A&&typeof S!="bigint"){if(db(S)&&(S=S0(S)),typeof S!="string"||!A.includes(S.length))throw new Error("invalid private key");S=S.padStart(C*2,"0")}let z;try{z=typeof S=="bigint"?S:Yd(ha("private key",S,C))}catch{throw new Error("invalid private key, expected hex or "+C+" bytes, got "+typeof S)}return I&&(z=ns(z,$)),ip("private key",z,Wr,$),z}function m(S){if(!(S instanceof v))throw new Error("ProjectivePoint expected")}const g=nD((S,A)=>{const{px:C,py:I,pz:$}=S;if(n.eql($,n.ONE))return{x:C,y:I};const z=S.is0();A==null&&(A=z?n.ONE:n.inv($));const L=n.mul(C,A),B=n.mul(I,A),V=n.mul($,A);if(z)return{x:n.ZERO,y:n.ZERO};if(!n.eql(V,n.ONE))throw new Error("invZ was invalid");return{x:L,y:B}}),b=nD(S=>{if(S.is0()){if(e.allowInfinityPoint&&!n.is0(S.py))return;throw new Error("bad point: ZERO")}const{x:A,y:C}=S.toAffine();if(!n.isValid(A)||!n.isValid(C))throw new Error("bad point: x or y not FE");if(!c(A,C))throw new Error("bad point: equation left != right");if(!S.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class v{constructor(A,C,I){if(A==null||!n.isValid(A))throw new Error("x required");if(C==null||!n.isValid(C)||n.is0(C))throw new Error("y required");if(I==null||!n.isValid(I))throw new Error("z required");this.px=A,this.py=C,this.pz=I,Object.freeze(this)}static fromAffine(A){const{x:C,y:I}=A||{};if(!A||!n.isValid(C)||!n.isValid(I))throw new Error("invalid affine point");if(A instanceof v)throw new Error("projective point not allowed");const $=z=>n.eql(z,n.ZERO);return $(C)&&$(I)?v.ZERO:new v(C,I,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(A){const C=Gq(n,A.map(I=>I.pz));return A.map((I,$)=>I.toAffine(C[$])).map(v.fromAffine)}static fromHex(A){const C=v.fromAffine(s(ha("pointHex",A)));return C.assertValidity(),C}static fromPrivateKey(A){return v.BASE.multiply(p(A))}static msm(A,C){return V0e(v,r,A,C)}_setWindowSize(A){k.setWindowSize(this,A)}assertValidity(){b(this)}hasEvenY(){const{y:A}=this.toAffine();if(n.isOdd)return!n.isOdd(A);throw new Error("Field doesn't support isOdd")}equals(A){m(A);const{px:C,py:I,pz:$}=this,{px:z,py:L,pz:B}=A,V=n.eql(n.mul(C,B),n.mul(z,$)),D=n.eql(n.mul(I,B),n.mul(L,$));return V&&D}negate(){return new v(this.px,n.neg(this.py),this.pz)}double(){const{a:A,b:C}=e,I=n.mul(C,Mx),{px:$,py:z,pz:L}=this;let B=n.ZERO,V=n.ZERO,D=n.ZERO,F=n.mul($,$),K=n.mul(z,z),T=n.mul(L,L),x=n.mul($,z);return x=n.add(x,x),D=n.mul($,L),D=n.add(D,D),B=n.mul(A,D),V=n.mul(I,T),V=n.add(B,V),B=n.sub(K,V),V=n.add(K,V),V=n.mul(B,V),B=n.mul(x,B),D=n.mul(I,D),T=n.mul(A,T),x=n.sub(F,T),x=n.mul(A,x),x=n.add(x,D),D=n.add(F,F),F=n.add(D,F),F=n.add(F,T),F=n.mul(F,x),V=n.add(V,F),T=n.mul(z,L),T=n.add(T,T),F=n.mul(T,x),B=n.sub(B,F),D=n.mul(T,K),D=n.add(D,D),D=n.add(D,D),new v(B,V,D)}add(A){m(A);const{px:C,py:I,pz:$}=this,{px:z,py:L,pz:B}=A;let V=n.ZERO,D=n.ZERO,F=n.ZERO;const K=e.a,T=n.mul(e.b,Mx);let x=n.mul(C,z),N=n.mul(I,L),j=n.mul($,B),P=n.add(C,I),H=n.add(z,L);P=n.mul(P,H),H=n.add(x,N),P=n.sub(P,H),H=n.add(C,$);let M=n.add(z,B);return H=n.mul(H,M),M=n.add(x,j),H=n.sub(H,M),M=n.add(I,$),V=n.add(L,B),M=n.mul(M,V),V=n.add(N,j),M=n.sub(M,V),F=n.mul(K,H),V=n.mul(T,j),F=n.add(V,F),V=n.sub(N,F),F=n.add(N,F),D=n.mul(V,F),N=n.add(x,x),N=n.add(N,x),j=n.mul(K,j),H=n.mul(T,H),N=n.add(N,j),j=n.sub(x,j),j=n.mul(K,j),H=n.add(H,j),x=n.mul(N,H),D=n.add(D,x),x=n.mul(M,H),V=n.mul(P,V),V=n.sub(V,x),x=n.mul(P,N),F=n.mul(M,F),F=n.add(F,x),new v(V,D,F)}subtract(A){return this.add(A.negate())}is0(){return this.equals(v.ZERO)}wNAF(A){return k.wNAFCached(this,A,v.normalizeZ)}multiplyUnsafe(A){const{endo:C,n:I}=e;ip("scalar",A,Yc,I);const $=v.ZERO;if(A===Yc)return $;if(this.is0()||A===Wr)return this;if(!C||k.hasPrecomputes(this))return k.wNAFCachedUnsafe(this,A,v.normalizeZ);let{k1neg:z,k1:L,k2neg:B,k2:V}=C.splitScalar(A),D=$,F=$,K=this;for(;L>Yc||V>Yc;)L&Wr&&(D=D.add(K)),V&Wr&&(F=F.add(K)),K=K.double(),L>>=Wr,V>>=Wr;return z&&(D=D.negate()),B&&(F=F.negate()),F=new v(n.mul(F.px,C.beta),F.py,F.pz),D.add(F)}multiply(A){const{endo:C,n:I}=e;ip("scalar",A,Wr,I);let $,z;if(C){const{k1neg:L,k1:B,k2neg:V,k2:D}=C.splitScalar(A);let{p:F,f:K}=this.wNAF(B),{p:T,f:x}=this.wNAF(D);F=k.constTimeNegate(L,F),T=k.constTimeNegate(V,T),T=new v(n.mul(T.px,C.beta),T.py,T.pz),$=F.add(T),z=K.add(x)}else{const{p:L,f:B}=this.wNAF(A);$=L,z=B}return v.normalizeZ([$,z])[0]}multiplyAndAddUnsafe(A,C,I){const $=v.BASE,z=(B,V)=>V===Yc||V===Wr||!B.equals($)?B.multiplyUnsafe(V):B.multiply(V),L=z(this,C).add(z(A,I));return L.is0()?void 0:L}toAffine(A){return g(this,A)}isTorsionFree(){const{h:A,isTorsionFree:C}=e;if(A===Wr)return!0;if(C)return C(v,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:A,clearCofactor:C}=e;return A===Wr?this:C?C(v,this):this.multiplyUnsafe(e.h)}toRawBytes(A=!0){return A0("isCompressed",A),this.assertValidity(),i(v,this,A)}toHex(A=!0){return A0("isCompressed",A),S0(this.toRawBytes(A))}}v.BASE=new v(e.Gx,e.Gy,n.ONE),v.ZERO=new v(n.ZERO,n.ONE,n.ZERO);const{endo:E,nBitLength:O}=e,k=W0e(v,E?Math.ceil(O/2):O);return{CURVE:e,ProjectivePoint:v,normPrivateKeyToScalar:p,weierstrassEquation:a,isWithinCurveOrder:h}}function Z0e(t){const e=Qq(t);return CE(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function X0e(t){const e=Z0e(t),{Fp:n,n:r,nByteLength:i,nBitLength:s}=e,a=n.BYTES+1,c=2*n.BYTES+1;function u(T){return ns(T,r)}function d(T){return k5(T,r)}const{ProjectivePoint:h,normPrivateKeyToScalar:p,weierstrassEquation:m,isWithinCurveOrder:g}=Y0e({...e,toBytes(T,x,N){const j=x.toAffine(),P=n.toBytes(j.x),H=i_;return A0("isCompressed",N),N?H(Uint8Array.from([x.hasEvenY()?2:3]),P):H(Uint8Array.from([4]),P,n.toBytes(j.y))},fromBytes(T){const x=T.length,N=T[0],j=T.subarray(1);if(x===a&&(N===2||N===3)){const P=Yd(j);if(!PC(P,Wr,n.ORDER))throw new Error("Point is not on curve");const H=m(P);let M;try{M=n.sqrt(H)}catch(X){const Q=X instanceof Error?": "+X.message:"";throw new Error("Point is not on curve"+Q)}const G=(M&Wr)===Wr;return(N&1)===1!==G&&(M=n.neg(M)),{x:P,y:M}}else if(x===c&&N===4){const P=n.fromBytes(j.subarray(0,n.BYTES)),H=n.fromBytes(j.subarray(n.BYTES,2*n.BYTES));return{x:P,y:H}}else{const P=a,H=c;throw new Error("invalid Point, expected length of "+P+", or uncompressed "+H+", got "+x)}}});function b(T){const x=r>>Wr;return T>x}function v(T){return b(T)?u(-T):T}const E=(T,x,N)=>Yd(T.slice(x,N));class O{constructor(x,N,j){ip("r",x,Wr,r),ip("s",N,Wr,r),this.r=x,this.s=N,j!=null&&(this.recovery=j),Object.freeze(this)}static fromCompact(x){const N=i;return x=ha("compactSignature",x,N*2),new O(E(x,0,N),E(x,N,2*N))}static fromDER(x){const{r:N,s:j}=Vc.toSig(ha("DER",x));return new O(N,j)}assertValidity(){}addRecoveryBit(x){return new O(this.r,this.s,x)}recoverPublicKey(x){const{r:N,s:j,recovery:P}=this,H=$(ha("msgHash",x));if(P==null||![0,1,2,3].includes(P))throw new Error("recovery id invalid");const M=P===2||P===3?N+e.n:N;if(M>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const G=(P&1)===0?"02":"03",J=h.fromHex(G+Dx(M,n.BYTES)),X=d(M),Q=u(-H*X),ge=u(j*X),we=h.BASE.multiplyAndAddUnsafe(J,Q,ge);if(!we)throw new Error("point at infinify");return we.assertValidity(),we}hasHighS(){return b(this.s)}normalizeS(){return this.hasHighS()?new O(this.r,u(-this.s),this.recovery):this}toDERRawBytes(){return r_(this.toDERHex())}toDERHex(){return Vc.hexFromSig(this)}toCompactRawBytes(){return r_(this.toCompactHex())}toCompactHex(){const x=i;return Dx(this.r,x)+Dx(this.s,x)}}const k={isValidPrivateKey(T){try{return p(T),!0}catch{return!1}},normPrivateKeyToScalar:p,randomPrivateKey:()=>{const T=Zq(e.n);return z0e(e.randomBytes(T),e.n)},precompute(T=8,x=h.BASE){return x._setWindowSize(T),x.multiply(BigInt(3)),x}};function S(T,x=!0){return h.fromPrivateKey(T).toRawBytes(x)}function A(T){if(typeof T=="bigint")return!1;if(T instanceof h)return!0;const N=ha("key",T).length,j=n.BYTES,P=j+1,H=2*j+1;if(!(e.allowedPrivateKeyLengths||i===P))return N===P||N===H}function C(T,x,N=!0){if(A(T)===!0)throw new Error("first arg must be private key");if(A(x)===!1)throw new Error("second arg must be public key");return h.fromHex(x).multiply(p(T)).toRawBytes(N)}const I=e.bits2int||function(T){if(T.length>8192)throw new Error("input is too large");const x=Yd(T),N=T.length*8-s;return N>0?x>>BigInt(N):x},$=e.bits2int_modN||function(T){return u(I(T))},z=IE(s);function L(T){return ip("num < 2^"+s,T,Yc,z),fb(T,i)}function B(T,x,N=V){if(["recovered","canonical"].some(Ee=>Ee in N))throw new Error("sign() legacy options not supported");const{hash:j,randomBytes:P}=e;let{lowS:H,prehash:M,extraEntropy:G}=N;H==null&&(H=!0),T=ha("msgHash",T),fD(N),M&&(T=ha("prehashed msgHash",j(T)));const J=$(T),X=p(x),Q=[L(X),L(J)];if(G!=null&&G!==!1){const Ee=G===!0?P(n.BYTES):G;Q.push(ha("extraEntropy",Ee))}const ge=i_(...Q),we=J;function Te(Ee){const Pe=I(Ee);if(!g(Pe))return;const qe=d(Pe),rt=h.BASE.multiply(Pe).toAffine(),ye=u(rt.x);if(ye===Yc)return;const Tt=u(qe*u(we+ye*X));if(Tt===Yc)return;let Kt=(rt.x===ye?0:2)|Number(rt.y&Wr),wt=Tt;return H&&b(Tt)&&(wt=v(Tt),Kt^=1),new O(ye,wt,Kt)}return{seed:ge,k2sig:Te}}const V={lowS:e.lowS,prehash:!1},D={lowS:e.lowS,prehash:!1};function F(T,x,N=V){const{seed:j,k2sig:P}=B(T,x,N),H=e;return Yge(H.hash.outputLen,H.nByteLength,H.hmac)(j,P)}h.BASE._setWindowSize(8);function K(T,x,N,j=D){const P=T;x=ha("msgHash",x),N=ha("publicKey",N);const{lowS:H,prehash:M,format:G}=j;if(fD(j),"strict"in j)throw new Error("options.strict was renamed to lowS");if(G!==void 0&&G!=="compact"&&G!=="der")throw new Error("format must be compact or der");const J=typeof P=="string"||db(P),X=!J&&!G&&typeof P=="object"&&P!==null&&typeof P.r=="bigint"&&typeof P.s=="bigint";if(!J&&!X)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let Q,ge;try{if(X&&(Q=new O(P.r,P.s)),J){try{G!=="compact"&&(Q=O.fromDER(P))}catch(Kt){if(!(Kt instanceof Vc.Err))throw Kt}!Q&&G!=="der"&&(Q=O.fromCompact(P))}ge=h.fromHex(N)}catch{return!1}if(!Q||H&&Q.hasHighS())return!1;M&&(x=e.hash(x));const{r:we,s:Te}=Q,Ee=$(x),Pe=d(Te),qe=u(Ee*Pe),rt=u(we*Pe),ye=h.BASE.multiplyAndAddUnsafe(ge,qe,rt)?.toAffine();return ye?u(ye.x)===we:!1}return{CURVE:e,getPublicKey:S,getSharedSecret:C,sign:F,verify:K,ProjectivePoint:h,Signature:O,utils:k}}function J0e(t){return{hash:t,hmac:(e,...n)=>Fq(t,e,Ege(...n)),randomBytes:Age}}function Q0e(t,e){const n=r=>X0e({...t,...J0e(r)});return{...n(e),create:n}}const eW=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),hD=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),ebe=BigInt(0),tbe=BigInt(1),N5=BigInt(2),pD=(t,e)=>(t+e/N5)/e;function nbe(t){const e=eW,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),a=BigInt(23),c=BigInt(44),u=BigInt(88),d=t*t*t%e,h=d*d*t%e,p=ia(h,n,e)*h%e,m=ia(p,n,e)*h%e,g=ia(m,N5,e)*d%e,b=ia(g,i,e)*g%e,v=ia(b,s,e)*b%e,E=ia(v,c,e)*v%e,O=ia(E,u,e)*E%e,k=ia(O,c,e)*v%e,S=ia(k,n,e)*h%e,A=ia(S,a,e)*b%e,C=ia(A,r,e)*d%e,I=ia(C,N5,e);if(!$5.eql($5.sqr(I),t))throw new Error("Cannot find square root");return I}const $5=UC(eW,void 0,void 0,{sqrt:nbe}),rbe=Q0e({a:ebe,b:BigInt(7),Fp:$5,n:hD,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=hD,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-tbe*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,a=BigInt("0x100000000000000000000000000000000"),c=pD(s*t,e),u=pD(-r*t,e);let d=ns(t-c*n-u*i,e),h=ns(-c*r-u*s,e);const p=d>a,m=h>a;if(p&&(d=e-d),m&&(h=e-h),d>a||h>a)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:p,k1:d,k2neg:m,k2:h}}}},Hge);function ibe(t){if(t.length!==130&&t.length!==132)throw new abe({signature:t});const e=BigInt(Lc(t,0,32)),n=BigInt(Lc(t,32,64)),r=(()=>{const i=+`0x${t.slice(130)}`;if(!Number.isNaN(i))try{return sbe(i)}catch{throw new obe({value:i})}})();return typeof r>"u"?{r:e,s:n}:{r:e,s:n,yParity:r}}function sbe(t){if(t===0||t===27)return 0;if(t===1||t===28)return 1;if(t>=35)return t%2===0?1:0;throw new cbe({value:t})}class abe extends Hn{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${Pu(MC(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class obe extends Hn{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class cbe extends Hn{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function lbe(t){return R0e(ube(t))}function ube(t){const{payload:e,signature:n}=t,{r,s:i,yParity:s}=n,c=new rbe.Signature(BigInt(r),BigInt(i)).addRecoveryBit(s).recoverPublicKey(MC(e).substring(2));return E0e(c)}function dbe(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let d=0;d<e.length;d++)e[d]=255;for(let d=0;d<t.length;d++){const h=t.charAt(d),p=h.charCodeAt(0);if(e[p]!==255)throw new TypeError(h+" is ambiguous");e[p]=d}const n=t.length,r=t.charAt(0),i=Math.log(n)/Math.log(256),s=Math.log(256)/Math.log(n);function a(d){if(d instanceof Uint8Array||(ArrayBuffer.isView(d)?d=new Uint8Array(d.buffer,d.byteOffset,d.byteLength):Array.isArray(d)&&(d=Uint8Array.from(d))),!(d instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(d.length===0)return"";let h=0,p=0,m=0;const g=d.length;for(;m!==g&&d[m]===0;)m++,h++;const b=(g-m)*s+1>>>0,v=new Uint8Array(b);for(;m!==g;){let k=d[m],S=0;for(let A=b-1;(k!==0||S<p)&&A!==-1;A--,S++)k+=256*v[A]>>>0,v[A]=k%n>>>0,k=k/n>>>0;if(k!==0)throw new Error("Non-zero carry");p=S,m++}let E=b-p;for(;E!==b&&v[E]===0;)E++;let O=r.repeat(h);for(;E<b;++E)O+=t.charAt(v[E]);return O}function c(d){if(typeof d!="string")throw new TypeError("Expected String");if(d.length===0)return new Uint8Array;let h=0,p=0,m=0;for(;d[h]===r;)p++,h++;const g=(d.length-h)*i+1>>>0,b=new Uint8Array(g);for(;h<d.length;){const k=d.charCodeAt(h);if(k>255)return;let S=e[k];if(S===255)return;let A=0;for(let C=g-1;(S!==0||A<m)&&C!==-1;C--,A++)S+=n*b[C]>>>0,b[C]=S%256>>>0,S=S/256>>>0;if(S!==0)throw new Error("Non-zero carry");m=A,h++}let v=g-m;for(;v!==g&&b[v]===0;)v++;const E=new Uint8Array(p+(g-v));let O=p;for(;v!==g;)E[O++]=b[v++];return E}function u(d){const h=c(d);if(h)return h;throw new Error("Non-base"+n+" character")}return{encode:a,decodeUnsafe:c,decode:u}}var fbe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const hb=dbe(fbe);function hbe(t){const e=t.length;let n=0,r=0;for(;r<e;){let i=t.charCodeAt(r++);if((i&4294967168)===0){n++;continue}else if((i&4294965248)===0)n+=2;else{if(i>=55296&&i<=56319&&r<e){const s=t.charCodeAt(r);(s&64512)===56320&&(++r,i=((i&1023)<<10)+(s&1023)+65536)}(i&4294901760)===0?n+=3:n+=4}}return n}function pbe(t,e,n){const r=t.length;let i=n,s=0;for(;s<r;){let a=t.charCodeAt(s++);if((a&4294967168)===0){e[i++]=a;continue}else if((a&4294965248)===0)e[i++]=a>>6&31|192;else{if(a>=55296&&a<=56319&&s<r){const c=t.charCodeAt(s);(c&64512)===56320&&(++s,a=((a&1023)<<10)+(c&1023)+65536)}(a&4294901760)===0?(e[i++]=a>>12&15|224,e[i++]=a>>6&63|128):(e[i++]=a>>18&7|240,e[i++]=a>>12&63|128,e[i++]=a>>6&63|128)}e[i++]=a&63|128}}const ybe=new TextEncoder,mbe=50;function gbe(t,e,n){ybe.encodeInto(t,e.subarray(n))}function bbe(t,e,n){t.length>mbe?gbe(t,e,n):pbe(t,e,n)}const wbe=4096;function tW(t,e,n){let r=e;const i=r+n,s=[];let a="";for(;r<i;){const c=t[r++];if((c&128)===0)s.push(c);else if((c&224)===192){const u=t[r++]&63;s.push((c&31)<<6|u)}else if((c&240)===224){const u=t[r++]&63,d=t[r++]&63;s.push((c&31)<<12|u<<6|d)}else if((c&248)===240){const u=t[r++]&63,d=t[r++]&63,h=t[r++]&63;let p=(c&7)<<18|u<<12|d<<6|h;p>65535&&(p-=65536,s.push(p>>>10&1023|55296),p=56320|p&1023),s.push(p)}else s.push(c);s.length>=wbe&&(a+=String.fromCharCode(...s),s.length=0)}return s.length>0&&(a+=String.fromCharCode(...s)),a}const vbe=new TextDecoder,_be=200;function Ebe(t,e,n){const r=t.subarray(e,e+n);return vbe.decode(r)}function Abe(t,e,n){return n>_be?Ebe(t,e,n):tW(t,e,n)}class mv{constructor(e,n){this.type=e,this.data=n}}class Ns extends Error{constructor(e){super(e);const n=Object.create(Ns.prototype);Object.setPrototypeOf(this,n),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:Ns.name})}}const cm=4294967295;function Sbe(t,e,n){const r=n/4294967296,i=n;t.setUint32(e,r),t.setUint32(e+4,i)}function nW(t,e,n){const r=Math.floor(n/4294967296),i=n;t.setUint32(e,r),t.setUint32(e+4,i)}function rW(t,e){const n=t.getInt32(e),r=t.getUint32(e+4);return n*4294967296+r}function xbe(t,e){const n=t.getUint32(e),r=t.getUint32(e+4);return n*4294967296+r}const Tbe=-1,Ibe=4294967296-1,Cbe=17179869184-1;function Obe({sec:t,nsec:e}){if(t>=0&&e>=0&&t<=Cbe)if(e===0&&t<=Ibe){const n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,t),n}else{const n=t/4294967296,r=t&4294967295,i=new Uint8Array(8),s=new DataView(i.buffer);return s.setUint32(0,e<<2|n&3),s.setUint32(4,r),i}else{const n=new Uint8Array(12),r=new DataView(n.buffer);return r.setUint32(0,e),nW(r,4,t),n}}function kbe(t){const e=t.getTime(),n=Math.floor(e/1e3),r=(e-n*1e3)*1e6,i=Math.floor(r/1e9);return{sec:n+i,nsec:r-i*1e9}}function Rbe(t){if(t instanceof Date){const e=kbe(t);return Obe(e)}else return null}function Nbe(t){const e=new DataView(t.buffer,t.byteOffset,t.byteLength);switch(t.byteLength){case 4:return{sec:e.getUint32(0),nsec:0};case 8:{const n=e.getUint32(0),r=e.getUint32(4),i=(n&3)*4294967296+r,s=n>>>2;return{sec:i,nsec:s}}case 12:{const n=rW(e,4),r=e.getUint32(0);return{sec:n,nsec:r}}default:throw new Ns(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${t.length}`)}}function $be(t){const e=Nbe(t);return new Date(e.sec*1e3+e.nsec/1e6)}const Pbe={type:Tbe,encode:Rbe,decode:$be};class a_{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(Pbe)}register({type:e,encode:n,decode:r}){if(e>=0)this.encoders[e]=n,this.decoders[e]=r;else{const i=-1-e;this.builtInEncoders[i]=n,this.builtInDecoders[i]=r}}tryToEncode(e,n){for(let r=0;r<this.builtInEncoders.length;r++){const i=this.builtInEncoders[r];if(i!=null){const s=i(e,n);if(s!=null){const a=-1-r;return new mv(a,s)}}}for(let r=0;r<this.encoders.length;r++){const i=this.encoders[r];if(i!=null){const s=i(e,n);if(s!=null){const a=r;return new mv(a,s)}}}return e instanceof mv?e:null}decode(e,n,r){const i=n<0?this.builtInDecoders[-1-n]:this.decoders[n];return i?i(e,n,r):new mv(n,e)}}a_.defaultCodec=new a_;function Dbe(t){return t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer}function P5(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Dbe(t)?new Uint8Array(t):Uint8Array.from(t)}const Mbe=100,Ube=2048;let Bbe=class iW{constructor(e){this.entered=!1,this.extensionCodec=e?.extensionCodec??a_.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.maxDepth=e?.maxDepth??Mbe,this.initialBufferSize=e?.initialBufferSize??Ube,this.sortKeys=e?.sortKeys??!1,this.forceFloat32=e?.forceFloat32??!1,this.ignoreUndefined=e?.ignoreUndefined??!1,this.forceIntegerToFloat=e?.forceIntegerToFloat??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new iW({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(e){if(this.entered)return this.clone().encodeSharedRef(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(e){if(this.entered)return this.clone().encode(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(e,n){if(n>this.maxDepth)throw new Error(`Too deep objects in depth ${n}`);e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.useBigInt64&&typeof e=="bigint"?this.encodeBigInt64(e):this.encodeObject(e,n)}ensureBufferSizeToWrite(e){const n=this.pos+e;this.view.byteLength<n&&this.resizeBuffer(n*2)}resizeBuffer(e){const n=new ArrayBuffer(e),r=new Uint8Array(n),i=new DataView(n);r.set(this.bytes),this.view=i,this.bytes=r}encodeNil(){this.writeU8(192)}encodeBoolean(e){e===!1?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error(`Too long string: ${e} bytes in UTF-8`)}encodeString(e){const r=hbe(e);this.ensureBufferSizeToWrite(5+r),this.writeStringHeader(r),bbe(e,this.bytes,this.pos),this.pos+=r}encodeObject(e,n){const r=this.extensionCodec.tryToEncode(e,this.context);if(r!=null)this.encodeExtension(r);else if(Array.isArray(e))this.encodeArray(e,n);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(typeof e=="object")this.encodeMap(e,n);else throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`)}encodeBinary(e){const n=e.byteLength;if(n<256)this.writeU8(196),this.writeU8(n);else if(n<65536)this.writeU8(197),this.writeU16(n);else if(n<4294967296)this.writeU8(198),this.writeU32(n);else throw new Error(`Too large binary: ${n}`);const r=P5(e);this.writeU8a(r)}encodeArray(e,n){const r=e.length;if(r<16)this.writeU8(144+r);else if(r<65536)this.writeU8(220),this.writeU16(r);else if(r<4294967296)this.writeU8(221),this.writeU32(r);else throw new Error(`Too large array: ${r}`);for(const i of e)this.doEncode(i,n+1)}countWithoutUndefined(e,n){let r=0;for(const i of n)e[i]!==void 0&&r++;return r}encodeMap(e,n){const r=Object.keys(e);this.sortKeys&&r.sort();const i=this.ignoreUndefined?this.countWithoutUndefined(e,r):r.length;if(i<16)this.writeU8(128+i);else if(i<65536)this.writeU8(222),this.writeU16(i);else if(i<4294967296)this.writeU8(223),this.writeU32(i);else throw new Error(`Too large map object: ${i}`);for(const s of r){const a=e[s];this.ignoreUndefined&&a===void 0||(this.encodeString(s),this.doEncode(a,n+1))}}encodeExtension(e){if(typeof e.data=="function"){const r=e.data(this.pos+6),i=r.length;if(i>=4294967296)throw new Error(`Too large extension object: ${i}`);this.writeU8(201),this.writeU32(i),this.writeI8(e.type),this.writeU8a(r);return}const n=e.data.length;if(n===1)this.writeU8(212);else if(n===2)this.writeU8(213);else if(n===4)this.writeU8(214);else if(n===8)this.writeU8(215);else if(n===16)this.writeU8(216);else if(n<256)this.writeU8(199),this.writeU8(n);else if(n<65536)this.writeU8(200),this.writeU16(n);else if(n<4294967296)this.writeU8(201),this.writeU32(n);else throw new Error(`Too large extension object: ${n}`);this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){const n=e.length;this.ensureBufferSizeToWrite(n),this.bytes.set(e,this.pos),this.pos+=n}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),Sbe(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),nW(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}};function Lbe(t,e){return new Bbe(e).encodeSharedRef(t)}function Ux(t){return`${t<0?"-":""}0x${Math.abs(t).toString(16).padStart(2,"0")}`}const jbe=16,zbe=16;class Fbe{constructor(e=jbe,n=zbe){this.hit=0,this.miss=0,this.maxKeyLength=e,this.maxLengthPerKey=n,this.caches=[];for(let r=0;r<this.maxKeyLength;r++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,n,r){const i=this.caches[r-1];e:for(const s of i){const a=s.bytes;for(let c=0;c<r;c++)if(a[c]!==e[n+c])continue e;return s.str}return null}store(e,n){const r=this.caches[e.length-1],i={bytes:e,str:n};r.length>=this.maxLengthPerKey?r[Math.random()*r.length|0]=i:r.push(i)}decode(e,n,r){const i=this.find(e,n,r);if(i!=null)return this.hit++,i;this.miss++;const s=tW(e,n,r),a=Uint8Array.prototype.slice.call(e,n,n+r);return this.store(a,s),s}}const D5="array",$g="map_key",sW="map_value",qbe=t=>{if(typeof t=="string"||typeof t=="number")return t;throw new Ns("The type of key must be string or number but "+typeof t)};class Wbe{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){const n=this.getUninitializedStateFromPool();n.type=D5,n.position=0,n.size=e,n.array=new Array(e)}pushMapState(e){const n=this.getUninitializedStateFromPool();n.type=$g,n.readCount=0,n.size=e,n.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const e={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(e)}return this.stack[this.stackHeadPosition]}release(e){if(this.stack[this.stackHeadPosition]!==e)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(e.type===D5){const r=e;r.size=0,r.array=void 0,r.position=0,r.type=void 0}if(e.type===$g||e.type===sW){const r=e;r.size=0,r.map=void 0,r.readCount=0,r.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const lm=-1,BC=new DataView(new ArrayBuffer(0)),Vbe=new Uint8Array(BC.buffer);try{BC.getInt8(0)}catch(t){if(!(t instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const yD=new RangeError("Insufficient data"),Hbe=new Fbe;let Gbe=class aW{constructor(e){this.totalPos=0,this.pos=0,this.view=BC,this.bytes=Vbe,this.headByte=lm,this.stack=new Wbe,this.entered=!1,this.extensionCodec=e?.extensionCodec??a_.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.rawStrings=e?.rawStrings??!1,this.maxStrLength=e?.maxStrLength??cm,this.maxBinLength=e?.maxBinLength??cm,this.maxArrayLength=e?.maxArrayLength??cm,this.maxMapLength=e?.maxMapLength??cm,this.maxExtLength=e?.maxExtLength??cm,this.keyDecoder=e?.keyDecoder!==void 0?e.keyDecoder:Hbe,this.mapKeyConverter=e?.mapKeyConverter??qbe}clone(){return new aW({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=lm,this.stack.reset()}setBuffer(e){const n=P5(e);this.bytes=n,this.view=new DataView(n.buffer,n.byteOffset,n.byteLength),this.pos=0}appendBuffer(e){if(this.headByte===lm&&!this.hasRemaining(1))this.setBuffer(e);else{const n=this.bytes.subarray(this.pos),r=P5(e),i=new Uint8Array(n.length+r.length);i.set(n),i.set(r,n.length),this.setBuffer(i)}}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){const{view:n,pos:r}=this;return new RangeError(`Extra ${n.byteLength-r} of ${n.byteLength} byte(s) found at buffer[${e}]`)}decode(e){if(this.entered)return this.clone().decode(e);try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);const n=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return n}finally{this.entered=!1}}*decodeMulti(e){if(this.entered){yield*this.clone().decodeMulti(e);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered)return this.clone().decodeAsync(e);try{this.entered=!0;let n=!1,r;for await(const c of e){if(n)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(c);try{r=this.doDecodeSync(),n=!0}catch(u){if(!(u instanceof RangeError))throw u}this.totalPos+=this.pos}if(n){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return r}const{headByte:i,pos:s,totalPos:a}=this;throw new RangeError(`Insufficient data in parsing ${Ux(i)} at ${a} (${s} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async*decodeMultiAsync(e,n){if(this.entered){yield*this.clone().decodeMultiAsync(e,n);return}try{this.entered=!0;let r=n,i=-1;for await(const s of e){if(n&&i===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(s),r&&(i=this.readArraySize(),r=!1,this.complete());try{for(;yield this.doDecodeSync(),--i!==0;);}catch(a){if(!(a instanceof RangeError))throw a}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){const e=this.readHeadByte();let n;if(e>=224)n=e-256;else if(e<192)if(e<128)n=e;else if(e<144){const i=e-128;if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(e<160){const i=e-144;if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else{const i=e-160;n=this.decodeString(i,0)}else if(e===192)n=null;else if(e===194)n=!1;else if(e===195)n=!0;else if(e===202)n=this.readF32();else if(e===203)n=this.readF64();else if(e===204)n=this.readU8();else if(e===205)n=this.readU16();else if(e===206)n=this.readU32();else if(e===207)this.useBigInt64?n=this.readU64AsBigInt():n=this.readU64();else if(e===208)n=this.readI8();else if(e===209)n=this.readI16();else if(e===210)n=this.readI32();else if(e===211)this.useBigInt64?n=this.readI64AsBigInt():n=this.readI64();else if(e===217){const i=this.lookU8();n=this.decodeString(i,1)}else if(e===218){const i=this.lookU16();n=this.decodeString(i,2)}else if(e===219){const i=this.lookU32();n=this.decodeString(i,4)}else if(e===220){const i=this.readU16();if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else if(e===221){const i=this.readU32();if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else if(e===222){const i=this.readU16();if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(e===223){const i=this.readU32();if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(e===196){const i=this.lookU8();n=this.decodeBinary(i,1)}else if(e===197){const i=this.lookU16();n=this.decodeBinary(i,2)}else if(e===198){const i=this.lookU32();n=this.decodeBinary(i,4)}else if(e===212)n=this.decodeExtension(1,0);else if(e===213)n=this.decodeExtension(2,0);else if(e===214)n=this.decodeExtension(4,0);else if(e===215)n=this.decodeExtension(8,0);else if(e===216)n=this.decodeExtension(16,0);else if(e===199){const i=this.lookU8();n=this.decodeExtension(i,1)}else if(e===200){const i=this.lookU16();n=this.decodeExtension(i,2)}else if(e===201){const i=this.lookU32();n=this.decodeExtension(i,4)}else throw new Ns(`Unrecognized type byte: ${Ux(e)}`);this.complete();const r=this.stack;for(;r.length>0;){const i=r.top();if(i.type===D5)if(i.array[i.position]=n,i.position++,i.position===i.size)n=i.array,r.release(i);else continue e;else if(i.type===$g){if(n==="__proto__")throw new Ns("The key __proto__ is not allowed");i.key=this.mapKeyConverter(n),i.type=sW;continue e}else if(i.map[i.key]=n,i.readCount++,i.readCount===i.size)n=i.map,r.release(i);else{i.key=null,i.type=$g;continue e}}return n}}readHeadByte(){return this.headByte===lm&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=lm}readArraySize(){const e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new Ns(`Unrecognized array type byte: ${Ux(e)}`)}}}pushMapState(e){if(e>this.maxMapLength)throw new Ns(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new Ns(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(e)}decodeString(e,n){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,n):this.decodeBinary(e,n)}decodeUtf8String(e,n){if(e>this.maxStrLength)throw new Ns(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+n+e)throw yD;const r=this.pos+n;let i;return this.stateIsMapKey()&&this.keyDecoder?.canBeCached(e)?i=this.keyDecoder.decode(this.bytes,r,e):i=Abe(this.bytes,r,e),this.pos+=n+e,i}stateIsMapKey(){return this.stack.length>0?this.stack.top().type===$g:!1}decodeBinary(e,n){if(e>this.maxBinLength)throw new Ns(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+n))throw yD;const r=this.pos+n,i=this.bytes.subarray(r,r+e);return this.pos+=n+e,i}decodeExtension(e,n){if(e>this.maxExtLength)throw new Ns(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);const r=this.view.getInt8(this.pos+n),i=this.decodeBinary(e,n+1);return this.extensionCodec.decode(i,r,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){const e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){const e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){const e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){const e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){const e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){const e=xbe(this.view,this.pos);return this.pos+=8,e}readI64(){const e=rW(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){const e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){const e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){const e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){const e=this.view.getFloat64(this.pos);return this.pos+=8,e}};function Kbe(t,e){return new Gbe(e).decode(t)}const Ybe=t=>JSON.stringify(t,(e,n)=>typeof n=="bigint"?n.toString()+"n":n),Zbe=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,n=t.replace(e,'$1"$2n"$3');return JSON.parse(n,(r,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function pf(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return Zbe(t)}catch{return t}}function hl(t){return typeof t=="string"?t:Ybe(t)||""}function Xbe(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function oW(t,...e){if(!Xbe(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function mD(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Jbe(t,e){oW(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const Sh=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;const Bx=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function Qbe(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function cW(t){return typeof t=="string"&&(t=Qbe(t)),oW(t),t}let ewe=class{clone(){return this._cloneInto()}};function twe(t){const e=r=>t().update(cW(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function lW(t=32){if(Sh&&typeof Sh.getRandomValues=="function")return Sh.getRandomValues(new Uint8Array(t));if(Sh&&typeof Sh.randomBytes=="function")return Sh.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function nwe(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),a=Number(n>>i&s),c=Number(n&s),u=r?4:0,d=r?0:4;t.setUint32(e+u,a,r),t.setUint32(e+d,c,r)}let rwe=class extends ewe{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Bx(this.buffer)}update(e){mD(this);const{view:n,buffer:r,blockLen:i}=this;e=cW(e);const s=e.length;for(let a=0;a<s;){const c=Math.min(i-this.pos,s-a);if(c===i){const u=Bx(e);for(;i<=s-a;a+=i)this.process(u,a);continue}r.set(e.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){mD(this),Jbe(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:a}=this;n[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(r,0),a=0);for(let p=a;p<i;p++)n[p]=0;nwe(r,i-8,BigInt(this.length*8),s),this.process(r,0);const c=Bx(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=u/4,h=this.get();if(d>h.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<d;p++)c.setUint32(4*p,h[p],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:a,pos:c}=this;return e.length=i,e.pos=c,e.finished=s,e.destroyed=a,i%n&&e.buffer.set(r),e}};const gv=BigInt(2**32-1),M5=BigInt(32);function uW(t,e=!1){return e?{h:Number(t&gv),l:Number(t>>M5&gv)}:{h:Number(t>>M5&gv)|0,l:Number(t&gv)|0}}function iwe(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:a}=uW(t[i],e);[n[i],r[i]]=[s,a]}return[n,r]}const swe=(t,e)=>BigInt(t>>>0)<<M5|BigInt(e>>>0),awe=(t,e,n)=>t>>>n,owe=(t,e,n)=>t<<32-n|e>>>n,cwe=(t,e,n)=>t>>>n|e<<32-n,lwe=(t,e,n)=>t<<32-n|e>>>n,uwe=(t,e,n)=>t<<64-n|e>>>n-32,dwe=(t,e,n)=>t>>>n-32|e<<64-n,fwe=(t,e)=>e,hwe=(t,e)=>t,pwe=(t,e,n)=>t<<n|e>>>32-n,ywe=(t,e,n)=>e<<n|t>>>32-n,mwe=(t,e,n)=>e<<n-32|t>>>64-n,gwe=(t,e,n)=>t<<n-32|e>>>64-n;function bwe(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const wwe=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),vwe=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,_we=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),Ewe=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,Awe=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),Swe=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,Pt={fromBig:uW,split:iwe,toBig:swe,shrSH:awe,shrSL:owe,rotrSH:cwe,rotrSL:lwe,rotrBH:uwe,rotrBL:dwe,rotr32H:fwe,rotr32L:hwe,rotlSH:pwe,rotlSL:ywe,rotlBH:mwe,rotlBL:gwe,add:bwe,add3L:wwe,add3H:vwe,add4L:_we,add4H:Ewe,add5H:Swe,add5L:Awe},[xwe,Twe]=Pt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),eu=new Uint32Array(80),tu=new Uint32Array(80);let Iwe=class extends rwe{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:a,Dh:c,Dl:u,Eh:d,El:h,Fh:p,Fl:m,Gh:g,Gl:b,Hh:v,Hl:E}=this;return[e,n,r,i,s,a,c,u,d,h,p,m,g,b,v,E]}set(e,n,r,i,s,a,c,u,d,h,p,m,g,b,v,E){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=a|0,this.Dh=c|0,this.Dl=u|0,this.Eh=d|0,this.El=h|0,this.Fh=p|0,this.Fl=m|0,this.Gh=g|0,this.Gl=b|0,this.Hh=v|0,this.Hl=E|0}process(e,n){for(let S=0;S<16;S++,n+=4)eu[S]=e.getUint32(n),tu[S]=e.getUint32(n+=4);for(let S=16;S<80;S++){const A=eu[S-15]|0,C=tu[S-15]|0,I=Pt.rotrSH(A,C,1)^Pt.rotrSH(A,C,8)^Pt.shrSH(A,C,7),$=Pt.rotrSL(A,C,1)^Pt.rotrSL(A,C,8)^Pt.shrSL(A,C,7),z=eu[S-2]|0,L=tu[S-2]|0,B=Pt.rotrSH(z,L,19)^Pt.rotrBH(z,L,61)^Pt.shrSH(z,L,6),V=Pt.rotrSL(z,L,19)^Pt.rotrBL(z,L,61)^Pt.shrSL(z,L,6),D=Pt.add4L($,V,tu[S-7],tu[S-16]),F=Pt.add4H(D,I,B,eu[S-7],eu[S-16]);eu[S]=F|0,tu[S]=D|0}let{Ah:r,Al:i,Bh:s,Bl:a,Ch:c,Cl:u,Dh:d,Dl:h,Eh:p,El:m,Fh:g,Fl:b,Gh:v,Gl:E,Hh:O,Hl:k}=this;for(let S=0;S<80;S++){const A=Pt.rotrSH(p,m,14)^Pt.rotrSH(p,m,18)^Pt.rotrBH(p,m,41),C=Pt.rotrSL(p,m,14)^Pt.rotrSL(p,m,18)^Pt.rotrBL(p,m,41),I=p&g^~p&v,$=m&b^~m&E,z=Pt.add5L(k,C,$,Twe[S],tu[S]),L=Pt.add5H(z,O,A,I,xwe[S],eu[S]),B=z|0,V=Pt.rotrSH(r,i,28)^Pt.rotrBH(r,i,34)^Pt.rotrBH(r,i,39),D=Pt.rotrSL(r,i,28)^Pt.rotrBL(r,i,34)^Pt.rotrBL(r,i,39),F=r&s^r&c^s&c,K=i&a^i&u^a&u;O=v|0,k=E|0,v=g|0,E=b|0,g=p|0,b=m|0,{h:p,l:m}=Pt.add(d|0,h|0,L|0,B|0),d=c|0,h=u|0,c=s|0,u=a|0,s=r|0,a=i|0;const T=Pt.add3L(B,D,K);r=Pt.add3H(T,L,V,F),i=T|0}({h:r,l:i}=Pt.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:a}=Pt.add(this.Bh|0,this.Bl|0,s|0,a|0),{h:c,l:u}=Pt.add(this.Ch|0,this.Cl|0,c|0,u|0),{h:d,l:h}=Pt.add(this.Dh|0,this.Dl|0,d|0,h|0),{h:p,l:m}=Pt.add(this.Eh|0,this.El|0,p|0,m|0),{h:g,l:b}=Pt.add(this.Fh|0,this.Fl|0,g|0,b|0),{h:v,l:E}=Pt.add(this.Gh|0,this.Gl|0,v|0,E|0),{h:O,l:k}=Pt.add(this.Hh|0,this.Hl|0,O|0,k|0),this.set(r,i,s,a,c,u,d,h,p,m,g,b,v,E,O,k)}roundClean(){eu.fill(0),tu.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const Cwe=twe(()=>new Iwe);const LC=BigInt(0),dW=BigInt(1),Owe=BigInt(2);function jC(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function zC(t){if(!jC(t))throw new Error("Uint8Array expected")}function Lx(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const kwe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function FC(t){zC(t);let e="";for(let n=0;n<t.length;n++)e+=kwe[t[n]];return e}function fW(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?LC:BigInt("0x"+t)}const Sc={_0:48,_9:57,A:65,F:70,a:97,f:102};function gD(t){if(t>=Sc._0&&t<=Sc._9)return t-Sc._0;if(t>=Sc.A&&t<=Sc.F)return t-(Sc.A-10);if(t>=Sc.a&&t<=Sc.f)return t-(Sc.a-10)}function hW(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const a=gD(t.charCodeAt(s)),c=gD(t.charCodeAt(s+1));if(a===void 0||c===void 0){const u=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+u+'" at index '+s)}r[i]=a*16+c}return r}function Rwe(t){return fW(FC(t))}function e1(t){return zC(t),fW(FC(Uint8Array.from(t).reverse()))}function pW(t,e){return hW(t.toString(16).padStart(e*2,"0"))}function U5(t,e){return pW(t,e).reverse()}function xc(t,e,n){let r;if(typeof e=="string")try{r=hW(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(jC(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function bD(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];zC(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}const jx=t=>typeof t=="bigint"&&LC<=t;function Nwe(t,e,n){return jx(t)&&jx(e)&&jx(n)&&e<=t&&t<n}function um(t,e,n,r){if(!Nwe(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function $we(t){let e;for(e=0;t>LC;t>>=dW,e+=1);return e}const Pwe=t=>(Owe<<BigInt(t-1))-dW,Dwe={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||jC(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function qC(t,e,n={}){const r=(i,s,a)=>{const c=Dwe[s];if(typeof c!="function")throw new Error("invalid validator function");const u=t[i];if(!(a&&u===void 0)&&!c(u,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+u)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}function wD(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}const Gr=BigInt(0),or=BigInt(1),Rd=BigInt(2),Mwe=BigInt(3),B5=BigInt(4),vD=BigInt(5),_D=BigInt(8);function kr(t,e){const n=t%e;return n>=Gr?n:e+n}function Uwe(t,e,n){if(e<Gr)throw new Error("invalid exponent, negatives unsupported");if(n<=Gr)throw new Error("invalid modulus");if(n===or)return Gr;let r=or;for(;e>Gr;)e&or&&(r=r*t%n),t=t*t%n,e>>=or;return r}function _o(t,e,n){let r=t;for(;e-- >Gr;)r*=r,r%=n;return r}function ED(t,e){if(t===Gr)throw new Error("invert: expected non-zero number");if(e<=Gr)throw new Error("invert: expected positive modulus, got "+e);let n=kr(t,e),r=e,i=Gr,s=or;for(;n!==Gr;){const a=r/n,c=r%n,u=i-s*a;r=n,n=c,i=s,s=u}if(r!==or)throw new Error("invert: does not exist");return kr(i,e)}function Bwe(t){const e=(t-or)/Rd;let n,r,i;for(n=t-or,r=0;n%Rd===Gr;n/=Rd,r++);for(i=Rd;i<t&&Uwe(i,e,t)!==t-or;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const a=(t+or)/B5;return function(c,u){const d=c.pow(u,a);if(!c.eql(c.sqr(d),u))throw new Error("Cannot find square root");return d}}const s=(n+or)/Rd;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,d=a.pow(a.mul(a.ONE,i),n),h=a.pow(c,s),p=a.pow(c,n);for(;!a.eql(p,a.ONE);){if(a.eql(p,a.ZERO))return a.ZERO;let m=1;for(let b=a.sqr(p);m<u&&!a.eql(b,a.ONE);m++)b=a.sqr(b);const g=a.pow(d,or<<BigInt(u-m-1));d=a.sqr(g),h=a.mul(h,g),p=a.mul(p,d),u=m}return h}}function Lwe(t){if(t%B5===Mwe){const e=(t+or)/B5;return function(n,r){const i=n.pow(r,e);if(!n.eql(n.sqr(i),r))throw new Error("Cannot find square root");return i}}if(t%_D===vD){const e=(t-vD)/_D;return function(n,r){const i=n.mul(r,Rd),s=n.pow(i,e),a=n.mul(r,s),c=n.mul(n.mul(a,Rd),s),u=n.mul(a,n.sub(c,n.ONE));if(!n.eql(n.sqr(u),r))throw new Error("Cannot find square root");return u}}return Bwe(t)}const jwe=(t,e)=>(kr(t,e)&or)===or,zwe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Fwe(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=zwe.reduce((r,i)=>(r[i]="function",r),e);return qC(t,n)}function qwe(t,e,n){if(n<Gr)throw new Error("invalid exponent, negatives unsupported");if(n===Gr)return t.ONE;if(n===or)return e;let r=t.ONE,i=e;for(;n>Gr;)n&or&&(r=t.mul(r,i)),i=t.sqr(i),n>>=or;return r}function Wwe(t,e){const n=new Array(e.length),r=e.reduce((s,a,c)=>t.is0(a)?s:(n[c]=s,t.mul(s,a)),t.ONE),i=t.inv(r);return e.reduceRight((s,a,c)=>t.is0(a)?s:(n[c]=t.mul(s,n[c]),t.mul(s,a)),i),n}function yW(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function mW(t,e,n=!1,r={}){if(t<=Gr)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=yW(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let a;const c=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:Pwe(i),ZERO:Gr,ONE:or,create:u=>kr(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return Gr<=u&&u<t},is0:u=>u===Gr,isOdd:u=>(u&or)===or,neg:u=>kr(-u,t),eql:(u,d)=>u===d,sqr:u=>kr(u*u,t),add:(u,d)=>kr(u+d,t),sub:(u,d)=>kr(u-d,t),mul:(u,d)=>kr(u*d,t),pow:(u,d)=>qwe(c,u,d),div:(u,d)=>kr(u*ED(d,t),t),sqrN:u=>u*u,addN:(u,d)=>u+d,subN:(u,d)=>u-d,mulN:(u,d)=>u*d,inv:u=>ED(u,t),sqrt:r.sqrt||(u=>(a||(a=Lwe(t)),a(c,u))),invertBatch:u=>Wwe(c,u),cmov:(u,d,h)=>h?d:u,toBytes:u=>n?U5(u,s):pW(u,s),fromBytes:u=>{if(u.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+u.length);return n?e1(u):Rwe(u)}});return Object.freeze(c)}const AD=BigInt(0),bv=BigInt(1);function zx(t,e){const n=e.negate();return t?n:e}function gW(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Fx(t,e){gW(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function Vwe(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function Hwe(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const qx=new WeakMap,bW=new WeakMap;function Wx(t){return bW.get(t)||1}function Gwe(t,e){return{constTimeNegate:zx,hasPrecomputes(n){return Wx(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>AD;)r&bv&&(i=i.add(s)),s=s.double(),r>>=bv;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=Fx(r,e),a=[];let c=n,u=c;for(let d=0;d<i;d++){u=c,a.push(u);for(let h=1;h<s;h++)u=u.add(c),a.push(u);c=u.double()}return a},wNAF(n,r,i){const{windows:s,windowSize:a}=Fx(n,e);let c=t.ZERO,u=t.BASE;const d=BigInt(2**n-1),h=2**n,p=BigInt(n);for(let m=0;m<s;m++){const g=m*a;let b=Number(i&d);i>>=p,b>a&&(b-=h,i+=bv);const v=g,E=g+Math.abs(b)-1,O=m%2!==0,k=b<0;b===0?u=u.add(zx(O,r[v])):c=c.add(zx(k,r[E]))}return{p:c,f:u}},wNAFUnsafe(n,r,i,s=t.ZERO){const{windows:a,windowSize:c}=Fx(n,e),u=BigInt(2**n-1),d=2**n,h=BigInt(n);for(let p=0;p<a;p++){const m=p*c;if(i===AD)break;let g=Number(i&u);if(i>>=h,g>c&&(g-=d,i+=bv),g===0)continue;let b=r[m+Math.abs(g)-1];g<0&&(b=b.negate()),s=s.add(b)}return s},getPrecomputes(n,r,i){let s=qx.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&qx.set(r,i(s))),s},wNAFCached(n,r,i){const s=Wx(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const a=Wx(n);return a===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(a,this.getPrecomputes(a,n,i),r,s)},setWindowSize(n,r){gW(r,e),bW.set(n,r),qx.delete(n)}}}function Kwe(t,e,n,r){if(Vwe(n,t),Hwe(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,s=$we(BigInt(n.length)),a=s>12?s-3:s>4?s-2:s?2:1,c=(1<<a)-1,u=new Array(c+1).fill(i),d=Math.floor((e.BITS-1)/a)*a;let h=i;for(let p=d;p>=0;p-=a){u.fill(i);for(let g=0;g<r.length;g++){const b=r[g],v=Number(b>>BigInt(p)&BigInt(c));u[v]=u[v].add(n[g])}let m=i;for(let g=u.length-1,b=i;g>0;g--)b=b.add(u[g]),m=m.add(b);if(h=h.add(m),p!==0)for(let g=0;g<a;g++)h=h.double()}return h}function Ywe(t){return Fwe(t.Fp),qC(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...yW(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const Ua=BigInt(0),Xi=BigInt(1),wv=BigInt(2),Zwe=BigInt(8),Xwe={zip215:!0};function Jwe(t){const e=Ywe(t);return qC(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function Qwe(t){const e=Jwe(t),{Fp:n,n:r,prehash:i,hash:s,randomBytes:a,nByteLength:c,h:u}=e,d=wv<<BigInt(c*8)-Xi,h=n.create,p=mW(e.n,e.nBitLength),m=e.uvRatio||((T,x)=>{try{return{isValid:!0,value:n.sqrt(T*n.inv(x))}}catch{return{isValid:!1,value:Ua}}}),g=e.adjustScalarBytes||(T=>T),b=e.domain||((T,x,N)=>{if(Lx("phflag",N),x.length||N)throw new Error("Contexts/pre-hash are not supported");return T});function v(T,x){um("coordinate "+T,x,Ua,d)}function E(T){if(!(T instanceof S))throw new Error("ExtendedPoint expected")}const O=wD((T,x)=>{const{ex:N,ey:j,ez:P}=T,H=T.is0();x==null&&(x=H?Zwe:n.inv(P));const M=h(N*x),G=h(j*x),J=h(P*x);if(H)return{x:Ua,y:Xi};if(J!==Xi)throw new Error("invZ was invalid");return{x:M,y:G}}),k=wD(T=>{const{a:x,d:N}=e;if(T.is0())throw new Error("bad point: ZERO");const{ex:j,ey:P,ez:H,et:M}=T,G=h(j*j),J=h(P*P),X=h(H*H),Q=h(X*X),ge=h(G*x),we=h(X*h(ge+J)),Te=h(Q+h(N*h(G*J)));if(we!==Te)throw new Error("bad point: equation left != right (1)");const Ee=h(j*P),Pe=h(H*M);if(Ee!==Pe)throw new Error("bad point: equation left != right (2)");return!0});class S{constructor(x,N,j,P){this.ex=x,this.ey=N,this.ez=j,this.et=P,v("x",x),v("y",N),v("z",j),v("t",P),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(x){if(x instanceof S)throw new Error("extended point not allowed");const{x:N,y:j}=x||{};return v("x",N),v("y",j),new S(N,j,Xi,h(N*j))}static normalizeZ(x){const N=n.invertBatch(x.map(j=>j.ez));return x.map((j,P)=>j.toAffine(N[P])).map(S.fromAffine)}static msm(x,N){return Kwe(S,p,x,N)}_setWindowSize(x){I.setWindowSize(this,x)}assertValidity(){k(this)}equals(x){E(x);const{ex:N,ey:j,ez:P}=this,{ex:H,ey:M,ez:G}=x,J=h(N*G),X=h(H*P),Q=h(j*G),ge=h(M*P);return J===X&&Q===ge}is0(){return this.equals(S.ZERO)}negate(){return new S(h(-this.ex),this.ey,this.ez,h(-this.et))}double(){const{a:x}=e,{ex:N,ey:j,ez:P}=this,H=h(N*N),M=h(j*j),G=h(wv*h(P*P)),J=h(x*H),X=N+j,Q=h(h(X*X)-H-M),ge=J+M,we=ge-G,Te=J-M,Ee=h(Q*we),Pe=h(ge*Te),qe=h(Q*Te),rt=h(we*ge);return new S(Ee,Pe,rt,qe)}add(x){E(x);const{a:N,d:j}=e,{ex:P,ey:H,ez:M,et:G}=this,{ex:J,ey:X,ez:Q,et:ge}=x;if(N===BigInt(-1)){const Le=h((H-P)*(X+J)),He=h((H+P)*(X-J)),mi=h(He-Le);if(mi===Ua)return this.double();const gi=h(M*wv*ge),dt=h(G*wv*Q),_n=dt+gi,Oa=He+Le,ms=dt-gi,zi=h(_n*mi),mn=h(Oa*ms),$r=h(_n*ms),Yr=h(mi*Oa);return new S(zi,mn,Yr,$r)}const we=h(P*J),Te=h(H*X),Ee=h(G*j*ge),Pe=h(M*Q),qe=h((P+H)*(J+X)-we-Te),rt=Pe-Ee,ye=Pe+Ee,Tt=h(Te-N*we),Kt=h(qe*rt),wt=h(ye*Tt),yi=h(qe*Tt),Ht=h(rt*ye);return new S(Kt,wt,Ht,yi)}subtract(x){return this.add(x.negate())}wNAF(x){return I.wNAFCached(this,x,S.normalizeZ)}multiply(x){const N=x;um("scalar",N,Xi,r);const{p:j,f:P}=this.wNAF(N);return S.normalizeZ([j,P])[0]}multiplyUnsafe(x,N=S.ZERO){const j=x;return um("scalar",j,Ua,r),j===Ua?C:this.is0()||j===Xi?this:I.wNAFCachedUnsafe(this,j,S.normalizeZ,N)}isSmallOrder(){return this.multiplyUnsafe(u).is0()}isTorsionFree(){return I.unsafeLadder(this,r).is0()}toAffine(x){return O(this,x)}clearCofactor(){const{h:x}=e;return x===Xi?this:this.multiplyUnsafe(x)}static fromHex(x,N=!1){const{d:j,a:P}=e,H=n.BYTES;x=xc("pointHex",x,H),Lx("zip215",N);const M=x.slice(),G=x[H-1];M[H-1]=G&-129;const J=e1(M),X=N?d:n.ORDER;um("pointHex.y",J,Ua,X);const Q=h(J*J),ge=h(Q-Xi),we=h(j*Q-P);let{isValid:Te,value:Ee}=m(ge,we);if(!Te)throw new Error("Point.fromHex: invalid y coordinate");const Pe=(Ee&Xi)===Xi,qe=(G&128)!==0;if(!N&&Ee===Ua&&qe)throw new Error("Point.fromHex: x=0 and x_0=1");return qe!==Pe&&(Ee=h(-Ee)),S.fromAffine({x:Ee,y:J})}static fromPrivateKey(x){return L(x).point}toRawBytes(){const{x,y:N}=this.toAffine(),j=U5(N,n.BYTES);return j[j.length-1]|=x&Xi?128:0,j}toHex(){return FC(this.toRawBytes())}}S.BASE=new S(e.Gx,e.Gy,Xi,h(e.Gx*e.Gy)),S.ZERO=new S(Ua,Xi,Xi,Ua);const{BASE:A,ZERO:C}=S,I=Gwe(S,c*8);function $(T){return kr(T,r)}function z(T){return $(e1(T))}function L(T){const x=n.BYTES;T=xc("private key",T,x);const N=xc("hashed private key",s(T),2*x),j=g(N.slice(0,x)),P=N.slice(x,2*x),H=z(j),M=A.multiply(H),G=M.toRawBytes();return{head:j,prefix:P,scalar:H,point:M,pointBytes:G}}function B(T){return L(T).pointBytes}function V(T=new Uint8Array,...x){const N=bD(...x);return z(s(b(N,xc("context",T),!!i)))}function D(T,x,N={}){T=xc("message",T),i&&(T=i(T));const{prefix:j,scalar:P,pointBytes:H}=L(x),M=V(N.context,j,T),G=A.multiply(M).toRawBytes(),J=V(N.context,G,H,T),X=$(M+J*P);um("signature.s",X,Ua,r);const Q=bD(G,U5(X,n.BYTES));return xc("result",Q,n.BYTES*2)}const F=Xwe;function K(T,x,N,j=F){const{context:P,zip215:H}=j,M=n.BYTES;T=xc("signature",T,2*M),x=xc("message",x),N=xc("publicKey",N,M),H!==void 0&&Lx("zip215",H),i&&(x=i(x));const G=e1(T.slice(M,2*M));let J,X,Q;try{J=S.fromHex(N,H),X=S.fromHex(T.slice(0,M),H),Q=A.multiplyUnsafe(G)}catch{return!1}if(!H&&J.isSmallOrder())return!1;const ge=V(P,X.toRawBytes(),J.toRawBytes(),x);return X.add(J.multiplyUnsafe(ge)).subtract(Q).clearCofactor().equals(S.ZERO)}return A._setWindowSize(8),{CURVE:e,getPublicKey:B,sign:D,verify:K,ExtendedPoint:S,utils:{getExtendedPublicKey:L,randomPrivateKey:()=>a(n.BYTES),precompute(T=8,x=S.BASE){return x._setWindowSize(T),x.multiply(BigInt(3)),x}}}}BigInt(0),BigInt(1);const WC=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),SD=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const eve=BigInt(1),xD=BigInt(2);BigInt(3);const tve=BigInt(5),nve=BigInt(8);function rve(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=WC,a=t*t%s*t%s,c=_o(a,xD,s)*a%s,u=_o(c,eve,s)*t%s,d=_o(u,tve,s)*u%s,h=_o(d,e,s)*d%s,p=_o(h,n,s)*h%s,m=_o(p,r,s)*p%s,g=_o(m,i,s)*m%s,b=_o(g,i,s)*m%s,v=_o(b,e,s)*d%s;return{pow_p_5_8:_o(v,xD,s)*t%s,b2:a}}function ive(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function sve(t,e){const n=WC,r=kr(e*e*e,n),i=kr(r*r*e,n),s=rve(t*i).pow_p_5_8;let a=kr(t*r*s,n);const c=kr(e*a*a,n),u=a,d=kr(a*SD,n),h=c===t,p=c===kr(-t,n),m=c===kr(-t*SD,n);return h&&(a=u),(p||m)&&(a=d),jwe(a,n)&&(a=kr(-a,n)),{isValid:h||p,value:a}}const ave=mW(WC,void 0,!0),ove={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:ave,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:nve,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Cwe,randomBytes:lW,adjustScalarBytes:ive,uvRatio:sve},wW=Qwe(ove),cve="EdDSA",lve="JWT",o_=".",OE="base64url",vW="utf8",_W="utf8",uve=":",dve="did",fve="key",TD="base58btc",hve="z",pve="K36",yve=32;function VC(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function EW(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?VC(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function AW(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const n=EW(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return VC(n)}function mve(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),a=s.charCodeAt(0);if(n[a]!==255)throw new TypeError(s+" is ambiguous");n[a]=i}var c=t.length,u=t.charAt(0),d=Math.log(c)/Math.log(256),h=Math.log(256)/Math.log(c);function p(b){if(b instanceof Uint8Array||(ArrayBuffer.isView(b)?b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength):Array.isArray(b)&&(b=Uint8Array.from(b))),!(b instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(b.length===0)return"";for(var v=0,E=0,O=0,k=b.length;O!==k&&b[O]===0;)O++,v++;for(var S=(k-O)*h+1>>>0,A=new Uint8Array(S);O!==k;){for(var C=b[O],I=0,$=S-1;(C!==0||I<E)&&$!==-1;$--,I++)C+=256*A[$]>>>0,A[$]=C%c>>>0,C=C/c>>>0;if(C!==0)throw new Error("Non-zero carry");E=I,O++}for(var z=S-E;z!==S&&A[z]===0;)z++;for(var L=u.repeat(v);z<S;++z)L+=t.charAt(A[z]);return L}function m(b){if(typeof b!="string")throw new TypeError("Expected String");if(b.length===0)return new Uint8Array;var v=0;if(b[v]!==" "){for(var E=0,O=0;b[v]===u;)E++,v++;for(var k=(b.length-v)*d+1>>>0,S=new Uint8Array(k);b[v];){var A=n[b.charCodeAt(v)];if(A===255)return;for(var C=0,I=k-1;(A!==0||C<O)&&I!==-1;I--,C++)A+=c*S[I]>>>0,S[I]=A%256>>>0,A=A/256>>>0;if(A!==0)throw new Error("Non-zero carry");O=C,v++}if(b[v]!==" "){for(var $=k-O;$!==k&&S[$]===0;)$++;for(var z=new Uint8Array(E+(k-$)),L=E;$!==k;)z[L++]=S[$++];return z}}}function g(b){var v=m(b);if(v)return v;throw new Error(`Non-${e} character`)}return{encode:p,decodeUnsafe:m,decode:g}}var gve=mve,bve=gve;const SW=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},wve=t=>new TextEncoder().encode(t),vve=t=>new TextDecoder().decode(t);let _ve=class{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Eve=class{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return xW(this,e)}},Ave=class{constructor(e){this.decoders=e}or(e){return xW(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const xW=(t,e)=>new Ave({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let Sve=class{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new _ve(e,n,r),this.decoder=new Eve(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const kE=({name:t,prefix:e,encode:n,decode:r})=>new Sve(t,e,n,r),pb=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=bve(n,e);return kE({prefix:t,name:e,encode:r,decode:s=>SW(i(s))})},xve=(t,e,n,r)=>{const i={};for(let h=0;h<e.length;++h)i[e[h]]=h;let s=t.length;for(;t[s-1]==="=";)--s;const a=new Uint8Array(s*n/8|0);let c=0,u=0,d=0;for(let h=0;h<s;++h){const p=i[t[h]];if(p===void 0)throw new SyntaxError(`Non-${r} character`);u=u<<n|p,c+=n,c>=8&&(c-=8,a[d++]=255&u>>c)}if(c>=n||255&u<<8-c)throw new SyntaxError("Unexpected end of data");return a},Tve=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let s="",a=0,c=0;for(let u=0;u<t.length;++u)for(c=c<<8|t[u],a+=8;a>n;)a-=n,s+=e[i&c>>a];if(a&&(s+=e[i&c<<n-a]),r)for(;s.length*n&7;)s+="=";return s},fi=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>kE({prefix:e,name:t,encode(i){return Tve(i,r,n)},decode(i){return xve(i,r,n,t)}}),Ive=kE({prefix:"\0",name:"identity",encode:t=>vve(t),decode:t=>wve(t)});var Cve=Object.freeze({__proto__:null,identity:Ive});const Ove=fi({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var kve=Object.freeze({__proto__:null,base2:Ove});const Rve=fi({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Nve=Object.freeze({__proto__:null,base8:Rve});const $ve=pb({prefix:"9",name:"base10",alphabet:"0123456789"});var Pve=Object.freeze({__proto__:null,base10:$ve});const Dve=fi({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Mve=fi({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Uve=Object.freeze({__proto__:null,base16:Dve,base16upper:Mve});const Bve=fi({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Lve=fi({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),jve=fi({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),zve=fi({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Fve=fi({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),qve=fi({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Wve=fi({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Vve=fi({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Hve=fi({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Gve=Object.freeze({__proto__:null,base32:Bve,base32upper:Lve,base32pad:jve,base32padupper:zve,base32hex:Fve,base32hexupper:qve,base32hexpad:Wve,base32hexpadupper:Vve,base32z:Hve});const Kve=pb({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Yve=pb({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Zve=Object.freeze({__proto__:null,base36:Kve,base36upper:Yve});const Xve=pb({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Jve=pb({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Qve=Object.freeze({__proto__:null,base58btc:Xve,base58flickr:Jve});const e1e=fi({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),t1e=fi({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),n1e=fi({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),r1e=fi({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var i1e=Object.freeze({__proto__:null,base64:e1e,base64pad:t1e,base64url:n1e,base64urlpad:r1e});const TW=Array.from(""),s1e=TW.reduce((t,e,n)=>(t[n]=e,t),[]),a1e=TW.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function o1e(t){return t.reduce((e,n)=>(e+=s1e[n],e),"")}function c1e(t){const e=[];for(const n of t){const r=a1e[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const l1e=kE({prefix:"",name:"base256emoji",encode:o1e,decode:c1e});var u1e=Object.freeze({__proto__:null,base256emoji:l1e}),d1e=IW,ID=128,f1e=-128,h1e=Math.pow(2,31);function IW(t,e,n){e=e||[],n=n||0;for(var r=n;t>=h1e;)e[n++]=t&255|ID,t/=128;for(;t&f1e;)e[n++]=t&255|ID,t>>>=7;return e[n]=t|0,IW.bytes=n-r+1,e}var p1e=L5,y1e=128,CD=127;function L5(t,r){var n=0,r=r||0,i=0,s=r,a,c=t.length;do{if(s>=c)throw L5.bytes=0,new RangeError("Could not decode varint");a=t[s++],n+=i<28?(a&CD)<<i:(a&CD)*Math.pow(2,i),i+=7}while(a>=y1e);return L5.bytes=s-r,n}var m1e=Math.pow(2,7),g1e=Math.pow(2,14),b1e=Math.pow(2,21),w1e=Math.pow(2,28),v1e=Math.pow(2,35),_1e=Math.pow(2,42),E1e=Math.pow(2,49),A1e=Math.pow(2,56),S1e=Math.pow(2,63),x1e=function(t){return t<m1e?1:t<g1e?2:t<b1e?3:t<w1e?4:t<v1e?5:t<_1e?6:t<E1e?7:t<A1e?8:t<S1e?9:10},T1e={encode:d1e,decode:p1e,encodingLength:x1e},CW=T1e;const OD=(t,e,n=0)=>(CW.encode(t,e,n),e),kD=t=>CW.encodingLength(t),j5=(t,e)=>{const n=e.byteLength,r=kD(t),i=r+kD(n),s=new Uint8Array(i+n);return OD(t,s,0),OD(n,s,r),s.set(e,i),new I1e(t,n,e,s)};let I1e=class{constructor(e,n,r,i){this.code=e,this.size=n,this.digest=r,this.bytes=i}};const OW=({name:t,code:e,encode:n})=>new C1e(t,e,n);let C1e=class{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?j5(this.code,n):n.then(r=>j5(this.code,r))}else throw Error("Unknown type, must be binary type")}};const kW=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),O1e=OW({name:"sha2-256",code:18,encode:kW("SHA-256")}),k1e=OW({name:"sha2-512",code:19,encode:kW("SHA-512")});var R1e=Object.freeze({__proto__:null,sha256:O1e,sha512:k1e});const RW=0,N1e="identity",NW=SW,$1e=t=>j5(RW,NW(t)),P1e={code:RW,name:N1e,encode:NW,digest:$1e};var D1e=Object.freeze({__proto__:null,identity:P1e});new TextEncoder,new TextDecoder;const RD={...Cve,...kve,...Nve,...Pve,...Uve,...Gve,...Zve,...Qve,...i1e,...u1e};({...R1e,...D1e});function $W(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const ND=$W("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Vx=$W("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=EW(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),PW={utf8:ND,"utf-8":ND,hex:RD.base16,latin1:Vx,ascii:Vx,binary:Vx,...RD};function RE(t,e="utf8"){const n=PW[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}function Gp(t,e="utf8"){const n=PW[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?VC(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function $D(t){return pf(RE(Gp(t,OE),vW))}function c_(t){return RE(Gp(hl(t),vW),OE)}function DW(t){const e=Gp(pve,TD),n=hve+RE(AW([e,t]),TD);return[dve,fve,n].join(uve)}function M1e(t){return RE(t,OE)}function U1e(t){return Gp(t,OE)}function B1e(t){return Gp([c_(t.header),c_(t.payload)].join(o_),_W)}function L1e(t){return[c_(t.header),c_(t.payload),M1e(t.signature)].join(o_)}function z5(t){const e=t.split(o_),n=$D(e[0]),r=$D(e[1]),i=U1e(e[2]),s=Gp(e.slice(0,2).join(o_),_W);return{header:n,payload:r,signature:i,data:s}}function PD(t=lW(yve)){const e=wW.getPublicKey(t);return{secretKey:AW([t,e]),publicKey:e}}async function j1e(t,e,n,r,i=Be.fromMiliseconds(Date.now())){const s={alg:cve,typ:lve},a=DW(r.publicKey),c=i+n,u={iss:a,sub:t,aud:e,iat:i,exp:c},d=B1e({header:s,payload:u}),h=wW.sign(d,r.secretKey.slice(0,32));return L1e({header:s,payload:u,signature:h})}function HC(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function MW(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?HC(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function Pg(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const n=MW(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return HC(n)}function z1e(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),a=s.charCodeAt(0);if(n[a]!==255)throw new TypeError(s+" is ambiguous");n[a]=i}var c=t.length,u=t.charAt(0),d=Math.log(c)/Math.log(256),h=Math.log(256)/Math.log(c);function p(b){if(b instanceof Uint8Array||(ArrayBuffer.isView(b)?b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength):Array.isArray(b)&&(b=Uint8Array.from(b))),!(b instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(b.length===0)return"";for(var v=0,E=0,O=0,k=b.length;O!==k&&b[O]===0;)O++,v++;for(var S=(k-O)*h+1>>>0,A=new Uint8Array(S);O!==k;){for(var C=b[O],I=0,$=S-1;(C!==0||I<E)&&$!==-1;$--,I++)C+=256*A[$]>>>0,A[$]=C%c>>>0,C=C/c>>>0;if(C!==0)throw new Error("Non-zero carry");E=I,O++}for(var z=S-E;z!==S&&A[z]===0;)z++;for(var L=u.repeat(v);z<S;++z)L+=t.charAt(A[z]);return L}function m(b){if(typeof b!="string")throw new TypeError("Expected String");if(b.length===0)return new Uint8Array;var v=0;if(b[v]!==" "){for(var E=0,O=0;b[v]===u;)E++,v++;for(var k=(b.length-v)*d+1>>>0,S=new Uint8Array(k);b[v];){var A=n[b.charCodeAt(v)];if(A===255)return;for(var C=0,I=k-1;(A!==0||C<O)&&I!==-1;I--,C++)A+=c*S[I]>>>0,S[I]=A%256>>>0,A=A/256>>>0;if(A!==0)throw new Error("Non-zero carry");O=C,v++}if(b[v]!==" "){for(var $=k-O;$!==k&&S[$]===0;)$++;for(var z=new Uint8Array(E+(k-$)),L=E;$!==k;)z[L++]=S[$++];return z}}}function g(b){var v=m(b);if(v)return v;throw new Error(`Non-${e} character`)}return{encode:p,decodeUnsafe:m,decode:g}}var F1e=z1e,q1e=F1e;const W1e=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},V1e=t=>new TextEncoder().encode(t),H1e=t=>new TextDecoder().decode(t);class G1e{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class K1e{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return UW(this,e)}}class Y1e{constructor(e){this.decoders=e}or(e){return UW(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const UW=(t,e)=>new Y1e({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class Z1e{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new G1e(e,n,r),this.decoder=new K1e(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const NE=({name:t,prefix:e,encode:n,decode:r})=>new Z1e(t,e,n,r),yb=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=q1e(n,e);return NE({prefix:t,name:e,encode:r,decode:s=>W1e(i(s))})},X1e=(t,e,n,r)=>{const i={};for(let h=0;h<e.length;++h)i[e[h]]=h;let s=t.length;for(;t[s-1]==="=";)--s;const a=new Uint8Array(s*n/8|0);let c=0,u=0,d=0;for(let h=0;h<s;++h){const p=i[t[h]];if(p===void 0)throw new SyntaxError(`Non-${r} character`);u=u<<n|p,c+=n,c>=8&&(c-=8,a[d++]=255&u>>c)}if(c>=n||255&u<<8-c)throw new SyntaxError("Unexpected end of data");return a},J1e=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let s="",a=0,c=0;for(let u=0;u<t.length;++u)for(c=c<<8|t[u],a+=8;a>n;)a-=n,s+=e[i&c>>a];if(a&&(s+=e[i&c<<n-a]),r)for(;s.length*n&7;)s+="=";return s},hi=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>NE({prefix:e,name:t,encode(i){return J1e(i,r,n)},decode(i){return X1e(i,r,n,t)}}),Q1e=NE({prefix:"\0",name:"identity",encode:t=>H1e(t),decode:t=>V1e(t)}),e_e=Object.freeze(Object.defineProperty({__proto__:null,identity:Q1e},Symbol.toStringTag,{value:"Module"})),t_e=hi({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),n_e=Object.freeze(Object.defineProperty({__proto__:null,base2:t_e},Symbol.toStringTag,{value:"Module"})),r_e=hi({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),i_e=Object.freeze(Object.defineProperty({__proto__:null,base8:r_e},Symbol.toStringTag,{value:"Module"})),s_e=yb({prefix:"9",name:"base10",alphabet:"0123456789"}),a_e=Object.freeze(Object.defineProperty({__proto__:null,base10:s_e},Symbol.toStringTag,{value:"Module"})),o_e=hi({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),c_e=hi({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),l_e=Object.freeze(Object.defineProperty({__proto__:null,base16:o_e,base16upper:c_e},Symbol.toStringTag,{value:"Module"})),u_e=hi({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),d_e=hi({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),f_e=hi({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),h_e=hi({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),p_e=hi({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),y_e=hi({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),m_e=hi({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),g_e=hi({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),b_e=hi({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),w_e=Object.freeze(Object.defineProperty({__proto__:null,base32:u_e,base32hex:p_e,base32hexpad:m_e,base32hexpadupper:g_e,base32hexupper:y_e,base32pad:f_e,base32padupper:h_e,base32upper:d_e,base32z:b_e},Symbol.toStringTag,{value:"Module"})),v_e=yb({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),__e=yb({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),E_e=Object.freeze(Object.defineProperty({__proto__:null,base36:v_e,base36upper:__e},Symbol.toStringTag,{value:"Module"})),A_e=yb({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),S_e=yb({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),x_e=Object.freeze(Object.defineProperty({__proto__:null,base58btc:A_e,base58flickr:S_e},Symbol.toStringTag,{value:"Module"})),T_e=hi({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),I_e=hi({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),C_e=hi({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),O_e=hi({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),k_e=Object.freeze(Object.defineProperty({__proto__:null,base64:T_e,base64pad:I_e,base64url:C_e,base64urlpad:O_e},Symbol.toStringTag,{value:"Module"})),BW=Array.from(""),R_e=BW.reduce((t,e,n)=>(t[n]=e,t),[]),N_e=BW.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function $_e(t){return t.reduce((e,n)=>(e+=R_e[n],e),"")}function P_e(t){const e=[];for(const n of t){const r=N_e[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const D_e=NE({prefix:"",name:"base256emoji",encode:$_e,decode:P_e}),M_e=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:D_e},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const DD={...e_e,...n_e,...i_e,...a_e,...l_e,...w_e,...E_e,...x_e,...k_e,...M_e};function LW(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const MD=LW("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Hx=LW("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=MW(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),jW={utf8:MD,"utf-8":MD,hex:DD.base16,latin1:Hx,ascii:Hx,binary:Hx,...DD};function ba(t,e="utf8"){const n=jW[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?HC(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function us(t,e="utf8"){const n=jW[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}const U_e={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var Gx,UD;function zW(){if(UD)return Gx;UD=1;const t="Input must be an string, Buffer or Uint8Array";function e(a){let c;if(a instanceof Uint8Array)c=a;else if(typeof a=="string")c=new TextEncoder().encode(a);else throw new Error(t);return c}function n(a){return Array.prototype.map.call(a,function(c){return(c<16?"0":"")+c.toString(16)}).join("")}function r(a){return(4294967296+a).toString(16).substring(1)}function i(a,c,u){let d=`
`+a+" = ";for(let h=0;h<c.length;h+=2){if(u===32)d+=r(c[h]).toUpperCase(),d+=" ",d+=r(c[h+1]).toUpperCase();else if(u===64)d+=r(c[h+1]).toUpperCase(),d+=r(c[h]).toUpperCase();else throw new Error("Invalid size "+u);h%6===4?d+=`
`+new Array(a.length+4).join(" "):h<c.length-2&&(d+=" ")}console.log(d)}function s(a,c,u){let d=new Date().getTime();const h=new Uint8Array(c);for(let m=0;m<c;m++)h[m]=m%256;const p=new Date().getTime();console.log("Generated random input in "+(p-d)+"ms"),d=p;for(let m=0;m<u;m++){const g=a(h),b=new Date().getTime(),v=b-d;d=b,console.log("Hashed in "+v+"ms: "+g.substring(0,20)+"..."),console.log(Math.round(c/(1<<20)/(v/1e3)*100)/100+" MB PER SECOND")}}return Gx={normalizeInput:e,toHex:n,debugPrint:i,testSpeed:s},Gx}var Kx,BD;function B_e(){if(BD)return Kx;BD=1;const t=zW();function e(O,k,S){const A=O[k]+O[S];let C=O[k+1]+O[S+1];A>=4294967296&&C++,O[k]=A,O[k+1]=C}function n(O,k,S,A){let C=O[k]+S;S<0&&(C+=4294967296);let I=O[k+1]+A;C>=4294967296&&I++,O[k]=C,O[k+1]=I}function r(O,k){return O[k]^O[k+1]<<8^O[k+2]<<16^O[k+3]<<24}function i(O,k,S,A,C,I){const $=d[C],z=d[C+1],L=d[I],B=d[I+1];e(u,O,k),n(u,O,$,z);let V=u[A]^u[O],D=u[A+1]^u[O+1];u[A]=D,u[A+1]=V,e(u,S,A),V=u[k]^u[S],D=u[k+1]^u[S+1],u[k]=V>>>24^D<<8,u[k+1]=D>>>24^V<<8,e(u,O,k),n(u,O,L,B),V=u[A]^u[O],D=u[A+1]^u[O+1],u[A]=V>>>16^D<<16,u[A+1]=D>>>16^V<<16,e(u,S,A),V=u[k]^u[S],D=u[k+1]^u[S+1],u[k]=D>>>31^V<<1,u[k+1]=V>>>31^D<<1}const s=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],c=new Uint8Array(a.map(function(O){return O*2})),u=new Uint32Array(32),d=new Uint32Array(32);function h(O,k){let S=0;for(S=0;S<16;S++)u[S]=O.h[S],u[S+16]=s[S];for(u[24]=u[24]^O.t,u[25]=u[25]^O.t/4294967296,k&&(u[28]=~u[28],u[29]=~u[29]),S=0;S<32;S++)d[S]=r(O.b,4*S);for(S=0;S<12;S++)i(0,8,16,24,c[S*16+0],c[S*16+1]),i(2,10,18,26,c[S*16+2],c[S*16+3]),i(4,12,20,28,c[S*16+4],c[S*16+5]),i(6,14,22,30,c[S*16+6],c[S*16+7]),i(0,10,20,30,c[S*16+8],c[S*16+9]),i(2,12,22,24,c[S*16+10],c[S*16+11]),i(4,14,16,26,c[S*16+12],c[S*16+13]),i(6,8,18,28,c[S*16+14],c[S*16+15]);for(S=0;S<16;S++)O.h[S]=O.h[S]^u[S]^u[S+16]}const p=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function m(O,k,S,A){if(O===0||O>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(k&&k.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(S&&S.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(A&&A.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const C={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:O};p.fill(0),p[0]=O,k&&(p[1]=k.length),p[2]=1,p[3]=1,S&&p.set(S,32),A&&p.set(A,48);for(let I=0;I<16;I++)C.h[I]=s[I]^r(p,I*4);return k&&(g(C,k),C.c=128),C}function g(O,k){for(let S=0;S<k.length;S++)O.c===128&&(O.t+=O.c,h(O,!1),O.c=0),O.b[O.c++]=k[S]}function b(O){for(O.t+=O.c;O.c<128;)O.b[O.c++]=0;h(O,!0);const k=new Uint8Array(O.outlen);for(let S=0;S<O.outlen;S++)k[S]=O.h[S>>2]>>8*(S&3);return k}function v(O,k,S,A,C){S=S||64,O=t.normalizeInput(O),A&&(A=t.normalizeInput(A)),C&&(C=t.normalizeInput(C));const I=m(S,k,A,C);return g(I,O),b(I)}function E(O,k,S,A,C){const I=v(O,k,S,A,C);return t.toHex(I)}return Kx={blake2b:v,blake2bHex:E,blake2bInit:m,blake2bUpdate:g,blake2bFinal:b},Kx}var Yx,LD;function L_e(){if(LD)return Yx;LD=1;const t=zW();function e(b,v){return b[v]^b[v+1]<<8^b[v+2]<<16^b[v+3]<<24}function n(b,v,E,O,k,S){a[b]=a[b]+a[v]+k,a[O]=r(a[O]^a[b],16),a[E]=a[E]+a[O],a[v]=r(a[v]^a[E],12),a[b]=a[b]+a[v]+S,a[O]=r(a[O]^a[b],8),a[E]=a[E]+a[O],a[v]=r(a[v]^a[E],7)}function r(b,v){return b>>>v^b<<32-v}const i=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),s=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),a=new Uint32Array(16),c=new Uint32Array(16);function u(b,v){let E=0;for(E=0;E<8;E++)a[E]=b.h[E],a[E+8]=i[E];for(a[12]^=b.t,a[13]^=b.t/4294967296,v&&(a[14]=~a[14]),E=0;E<16;E++)c[E]=e(b.b,4*E);for(E=0;E<10;E++)n(0,4,8,12,c[s[E*16+0]],c[s[E*16+1]]),n(1,5,9,13,c[s[E*16+2]],c[s[E*16+3]]),n(2,6,10,14,c[s[E*16+4]],c[s[E*16+5]]),n(3,7,11,15,c[s[E*16+6]],c[s[E*16+7]]),n(0,5,10,15,c[s[E*16+8]],c[s[E*16+9]]),n(1,6,11,12,c[s[E*16+10]],c[s[E*16+11]]),n(2,7,8,13,c[s[E*16+12]],c[s[E*16+13]]),n(3,4,9,14,c[s[E*16+14]],c[s[E*16+15]]);for(E=0;E<8;E++)b.h[E]^=a[E]^a[E+8]}function d(b,v){if(!(b>0&&b<=32))throw new Error("Incorrect output length, should be in [1, 32]");const E=v?v.length:0;if(v&&!(E>0&&E<=32))throw new Error("Incorrect key length, should be in [1, 32]");const O={h:new Uint32Array(i),b:new Uint8Array(64),c:0,t:0,outlen:b};return O.h[0]^=16842752^E<<8^b,E>0&&(h(O,v),O.c=64),O}function h(b,v){for(let E=0;E<v.length;E++)b.c===64&&(b.t+=b.c,u(b,!1),b.c=0),b.b[b.c++]=v[E]}function p(b){for(b.t+=b.c;b.c<64;)b.b[b.c++]=0;u(b,!0);const v=new Uint8Array(b.outlen);for(let E=0;E<b.outlen;E++)v[E]=b.h[E>>2]>>8*(E&3)&255;return v}function m(b,v,E){E=E||32,b=t.normalizeInput(b);const O=d(E,v);return h(O,b),p(O)}function g(b,v,E){const O=m(b,v,E);return t.toHex(O)}return Yx={blake2s:m,blake2sHex:g,blake2sInit:d,blake2sUpdate:h,blake2sFinal:p},Yx}var Zx,jD;function j_e(){if(jD)return Zx;jD=1;const t=B_e(),e=L_e();return Zx={blake2b:t.blake2b,blake2bHex:t.blake2bHex,blake2bInit:t.blake2bInit,blake2bUpdate:t.blake2bUpdate,blake2bFinal:t.blake2bFinal,blake2s:e.blake2s,blake2sHex:e.blake2sHex,blake2sInit:e.blake2sInit,blake2sUpdate:e.blake2sUpdate,blake2sFinal:e.blake2sFinal},Zx}var z_e=j_e(),dm={exports:{}},Xx,zD;function F_e(){if(zD)return Xx;zD=1;function t(n){try{return JSON.stringify(n)}catch{return'"[Circular]"'}}Xx=e;function e(n,r,i){var s=i&&i.stringify||t,a=1;if(typeof n=="object"&&n!==null){var c=r.length+a;if(c===1)return n;var u=new Array(c);u[0]=s(n);for(var d=1;d<c;d++)u[d]=s(r[d]);return u.join(" ")}if(typeof n!="string")return n;var h=r.length;if(h===0)return n;for(var p="",m=1-a,g=-1,b=n&&n.length||0,v=0;v<b;){if(n.charCodeAt(v)===37&&v+1<b){switch(g=g>-1?g:0,n.charCodeAt(v+1)){case 100:case 102:if(m>=h||r[m]==null)break;g<v&&(p+=n.slice(g,v)),p+=Number(r[m]),g=v+2,v++;break;case 105:if(m>=h||r[m]==null)break;g<v&&(p+=n.slice(g,v)),p+=Math.floor(Number(r[m])),g=v+2,v++;break;case 79:case 111:case 106:if(m>=h||r[m]===void 0)break;g<v&&(p+=n.slice(g,v));var E=typeof r[m];if(E==="string"){p+="'"+r[m]+"'",g=v+2,v++;break}if(E==="function"){p+=r[m].name||"<anonymous>",g=v+2,v++;break}p+=s(r[m]),g=v+2,v++;break;case 115:if(m>=h)break;g<v&&(p+=n.slice(g,v)),p+=String(r[m]),g=v+2,v++;break;case 37:g<v&&(p+=n.slice(g,v)),p+="%",g=v+2,v++,m--;break}++m}++v}return g===-1?n:(g<b&&(p+=n.slice(g)),p)}return Xx}var FD;function q_e(){if(FD)return dm.exports;FD=1;const t=F_e();dm.exports=h;const e=K().console||{},n={mapHttpRequest:$,mapHttpResponse:$,wrapRequestSerializer:z,wrapResponseSerializer:z,wrapErrorSerializer:z,req:$,res:$,err:C,errWithCause:C};function r(T,x){return T==="silent"?1/0:x.levels.values[T]}const i=Symbol("pino.logFuncs"),s=Symbol("pino.hierarchy"),a={error:"log",fatal:"error",warn:"error",info:"log",debug:"log",trace:"log"};function c(T,x){const N={logger:x,parent:T[s]};x[s]=N}function u(T,x,N){const j={};x.forEach(P=>{j[P]=N[P]?N[P]:e[P]||e[a[P]||"log"]||L}),T[i]=j}function d(T,x){return Array.isArray(T)?T.filter(function(j){return j!=="!stdSerializers.err"}):T===!0?Object.keys(x):!1}function h(T){T=T||{},T.browser=T.browser||{};const x=T.browser.transmit;if(x&&typeof x.send!="function")throw Error("pino: transmit option must have a send function");const N=T.browser.write||e;T.browser.write&&(T.browser.asObject=!0);const j=T.serializers||{},P=d(T.browser.serialize,j);let H=T.browser.serialize;Array.isArray(T.browser.serialize)&&T.browser.serialize.indexOf("!stdSerializers.err")>-1&&(H=!1);const M=Object.keys(T.customLevels||{}),G=["error","fatal","warn","info","debug","trace"].concat(M);typeof N=="function"&&G.forEach(function(Pe){N[Pe]=N}),(T.enabled===!1||T.browser.disabled)&&(T.level="silent");const J=T.level||"info",X=Object.create(N);X.log||(X.log=L),u(X,G,N),c({},X),Object.defineProperty(X,"levelVal",{get:ge}),Object.defineProperty(X,"level",{get:we,set:Te});const Q={transmit:x,serialize:P,asObject:T.browser.asObject,asObjectBindingsOnly:T.browser.asObjectBindingsOnly,formatters:T.browser.formatters,levels:G,timestamp:I(T),messageKey:T.messageKey||"msg",onChild:T.onChild||L};X.levels=p(T),X.level=J,X.isLevelEnabled=function(Pe){return this.levels.values[Pe]?this.levels.values[Pe]>=this.levels.values[this.level]:!1},X.setMaxListeners=X.getMaxListeners=X.emit=X.addListener=X.on=X.prependListener=X.once=X.prependOnceListener=X.removeListener=X.removeAllListeners=X.listeners=X.listenerCount=X.eventNames=X.write=X.flush=L,X.serializers=j,X._serialize=P,X._stdErrSerialize=H,X.child=function(...Pe){return Ee.call(this,Q,...Pe)},x&&(X._logEvent=A());function ge(){return r(this.level,this)}function we(){return this._level}function Te(Pe){if(Pe!=="silent"&&!this.levels.values[Pe])throw Error("unknown level "+Pe);this._level=Pe,b(this,Q,X,"error"),b(this,Q,X,"fatal"),b(this,Q,X,"warn"),b(this,Q,X,"info"),b(this,Q,X,"debug"),b(this,Q,X,"trace"),M.forEach(qe=>{b(this,Q,X,qe)})}function Ee(Pe,qe,rt){if(!qe)throw new Error("missing bindings for child Pino");rt=rt||{},P&&qe.serializers&&(rt.serializers=qe.serializers);const ye=rt.serializers;if(P&&ye){var Tt=Object.assign({},j,ye),Kt=T.browser.serialize===!0?Object.keys(Tt):P;delete qe.serializers,k([qe],Kt,Tt,this._stdErrSerialize)}function wt(Ht){this._childLevel=(Ht._childLevel|0)+1,this.bindings=qe,Tt&&(this.serializers=Tt,this._serialize=Kt),x&&(this._logEvent=A([].concat(Ht._logEvent.bindings,qe)))}wt.prototype=this;const yi=new wt(this);return c(this,yi),yi.child=function(...Ht){return Ee.call(this,Pe,...Ht)},yi.level=rt.level||this.level,Pe.onChild(yi),yi}return X}function p(T){const x=T.customLevels||{},N=Object.assign({},h.levels.values,x),j=Object.assign({},h.levels.labels,m(x));return{values:N,labels:j}}function m(T){const x={};return Object.keys(T).forEach(function(N){x[T[N]]=N}),x}h.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},h.stdSerializers=n,h.stdTimeFunctions=Object.assign({},{nullTime:B,epochTime:V,unixTime:D,isoTime:F});function g(T){const x=[];T.bindings&&x.push(T.bindings);let N=T[s];for(;N.parent;)N=N.parent,N.logger.bindings&&x.push(N.logger.bindings);return x.reverse()}function b(T,x,N,j){if(Object.defineProperty(T,j,{value:r(T.level,N)>r(j,N)?L:N[i][j],writable:!0,enumerable:!0,configurable:!0}),T[j]===L){if(!x.transmit)return;const H=x.transmit.level||T.level,M=r(H,N);if(r(j,N)<M)return}T[j]=E(T,x,N,j);const P=g(T);P.length!==0&&(T[j]=v(P,T[j]))}function v(T,x){return function(){return x.apply(this,[...T,...arguments])}}function E(T,x,N,j){return(function(P){return function(){const M=x.timestamp(),G=new Array(arguments.length),J=Object.getPrototypeOf&&Object.getPrototypeOf(this)===e?e:this;for(var X=0;X<G.length;X++)G[X]=arguments[X];var Q=!1;if(x.serialize&&(k(G,this._serialize,this.serializers,this._stdErrSerialize),Q=!0),x.asObject||x.formatters?P.call(J,...O(this,j,G,M,x)):P.apply(J,G),x.transmit){const ge=x.transmit.level||T._level,we=r(ge,N),Te=r(j,N);if(Te<we)return;S(this,{ts:M,methodLevel:j,methodValue:Te,transmitValue:N.levels.values[x.transmit.level||T._level],send:x.transmit.send,val:r(T._level,N)},G,Q)}}})(T[i][j])}function O(T,x,N,j,P){const{level:H,log:M=ge=>ge}=P.formatters||{},G=N.slice();let J=G[0];const X={};let Q=(T._childLevel|0)+1;if(Q<1&&(Q=1),j&&(X.time=j),H){const ge=H(x,T.levels.values[x]);Object.assign(X,ge)}else X.level=T.levels.values[x];if(P.asObjectBindingsOnly){if(J!==null&&typeof J=="object")for(;Q--&&typeof G[0]=="object";)Object.assign(X,G.shift());return[M(X),...G]}else{if(J!==null&&typeof J=="object"){for(;Q--&&typeof G[0]=="object";)Object.assign(X,G.shift());J=G.length?t(G.shift(),G):void 0}else typeof J=="string"&&(J=t(G.shift(),G));return J!==void 0&&(X[P.messageKey]=J),[M(X)]}}function k(T,x,N,j){for(const P in T)if(j&&T[P]instanceof Error)T[P]=h.stdSerializers.err(T[P]);else if(typeof T[P]=="object"&&!Array.isArray(T[P])&&x)for(const H in T[P])x.indexOf(H)>-1&&H in N&&(T[P][H]=N[H](T[P][H]))}function S(T,x,N,j=!1){const P=x.send,H=x.ts,M=x.methodLevel,G=x.methodValue,J=x.val,X=T._logEvent.bindings;j||k(N,T._serialize||Object.keys(T.serializers),T.serializers,T._stdErrSerialize===void 0?!0:T._stdErrSerialize),T._logEvent.ts=H,T._logEvent.messages=N.filter(function(Q){return X.indexOf(Q)===-1}),T._logEvent.level.label=M,T._logEvent.level.value=G,P(M,T._logEvent,J),T._logEvent=A(X)}function A(T){return{ts:0,messages:[],bindings:T||[],level:{label:"",value:0}}}function C(T){const x={type:T.constructor.name,msg:T.message,stack:T.stack};for(const N in T)x[N]===void 0&&(x[N]=T[N]);return x}function I(T){return typeof T.timestamp=="function"?T.timestamp:T.timestamp===!1?B:V}function $(){return{}}function z(T){return T}function L(){}function B(){return!1}function V(){return Date.now()}function D(){return Math.round(Date.now()/1e3)}function F(){return new Date(Date.now()).toISOString()}function K(){function T(x){return typeof x<"u"&&x}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return T(self)||T(window)||T(this)||{}}}return dm.exports.default=h,dm.exports.pino=h,dm.exports}var Bh=q_e();const FW=Uu(Bh),W_e={level:"info"},$E="custom_context",GC=1e3*1024;var V_e=Object.defineProperty,H_e=(t,e,n)=>e in t?V_e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,vu=(t,e,n)=>H_e(t,typeof e!="symbol"?e+"":e,n);let G_e=class{constructor(e){vu(this,"nodeValue"),vu(this,"sizeInBytes"),vu(this,"next"),this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},qD=class{constructor(e){vu(this,"lengthInNodes"),vu(this,"sizeInBytes"),vu(this,"head"),vu(this,"tail"),vu(this,"maxSizeInBytes"),this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const n=new G_e(e);if(n.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${n.size}`);for(;this.size+n.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=n),this.tail=n):(this.head=n,this.tail=n),this.lengthInNodes++,this.sizeInBytes+=n.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let n=this.head;for(;n!==null;)e.push(n.value),n=n.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const n=e.value;return e=e.next,{done:!1,value:n}}}}};var K_e=Object.defineProperty,Y_e=(t,e,n)=>e in t?K_e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,vv=(t,e,n)=>Y_e(t,typeof e!="symbol"?e+"":e,n);let qW=class{constructor(e,n=GC){vv(this,"logs"),vv(this,"level"),vv(this,"levelValue"),vv(this,"MAX_LOG_SIZE_IN_BYTES"),this.level=e??"error",this.levelValue=Bh.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new qD(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,n){n===Bh.levels.values.error?console.error(e):n===Bh.levels.values.warn?console.warn(e):n===Bh.levels.values.debug?console.debug(e):n===Bh.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(hl({timestamp:new Date().toISOString(),log:e}));const n=typeof e=="string"?JSON.parse(e).level:e.level;n>=this.levelValue&&this.forwardToConsole(e,n)}getLogs(){return this.logs}clearLogs(){this.logs=new qD(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const n=this.getLogArray();return n.push(hl({extraMetadata:e})),new Blob(n,{type:"application/json"})}};var Z_e=Object.defineProperty,X_e=(t,e,n)=>e in t?Z_e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,J_e=(t,e,n)=>X_e(t,e+"",n);let Q_e=class{constructor(e,n=GC){J_e(this,"baseChunkLogger"),this.baseChunkLogger=new qW(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const n=URL.createObjectURL(this.logsToBlob(e)),r=document.createElement("a");r.href=n,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}};var eEe=Object.defineProperty,tEe=(t,e,n)=>e in t?eEe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,nEe=(t,e,n)=>tEe(t,e+"",n);let rEe=class{constructor(e,n=GC){nEe(this,"baseChunkLogger"),this.baseChunkLogger=new qW(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var iEe=Object.defineProperty,sEe=Object.defineProperties,aEe=Object.getOwnPropertyDescriptors,WD=Object.getOwnPropertySymbols,oEe=Object.prototype.hasOwnProperty,cEe=Object.prototype.propertyIsEnumerable,VD=(t,e,n)=>e in t?iEe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,l_=(t,e)=>{for(var n in e||(e={}))oEe.call(e,n)&&VD(t,n,e[n]);if(WD)for(var n of WD(e))cEe.call(e,n)&&VD(t,n,e[n]);return t},u_=(t,e)=>sEe(t,aEe(e));function lEe(t){return u_(l_({},t),{level:t?.level||W_e.level})}function uEe(t,e,n=$E){return t[n]=e,t}function ys(t,e=$E){return t[e]||""}function dEe(t,e,n=$E){const r=ys(t,n);return r.trim()?`${r}/${e}`:e}function Ws(t,e,n=$E){const r=dEe(t,e,n),i=t.child({context:r});return uEe(i,r,n)}function fEe(t){var e,n;const r=new Q_e((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:FW(u_(l_({},t.opts),{level:"trace",browser:u_(l_({},(n=t.opts)==null?void 0:n.browser),{write:i=>r.write(i)})})),chunkLoggerController:r}}function hEe(t){var e;const n=new rEe((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:FW(u_(l_({},t.opts),{level:"trace"}),n),chunkLoggerController:n}}function WW(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?fEe(t):hEe(t)}var pEe={};const yEe=":";function il(t){const[e,n]=t.split(yEe);return{namespace:e,reference:n}}function HD(t,e=[]){const n=[];return Object.keys(t).forEach(r=>{if(e.length&&!e.includes(r))return;const i=t[r];n.push(...i.accounts)}),n}function VW(t,e){return t.includes(":")?[t]:e.chains||[]}var mEe=Object.defineProperty,gEe=Object.defineProperties,bEe=Object.getOwnPropertyDescriptors,GD=Object.getOwnPropertySymbols,wEe=Object.prototype.hasOwnProperty,vEe=Object.prototype.propertyIsEnumerable,F5=(t,e,n)=>e in t?mEe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,KD=(t,e)=>{for(var n in e||(e={}))wEe.call(e,n)&&F5(t,n,e[n]);if(GD)for(var n of GD(e))vEe.call(e,n)&&F5(t,n,e[n]);return t},_Ee=(t,e)=>gEe(t,bEe(e)),YD=(t,e,n)=>F5(t,typeof e!="symbol"?e+"":e,n);const EEe="ReactNative",Bs={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},AEe="js";function d_(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function Fu(){return!fl.getDocument()&&!!fl.getNavigator()&&navigator.product===EEe}function SEe(){return Fu()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function xEe(){return Fu()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function Kp(){return!d_()&&!!fl.getNavigator()&&!!fl.getDocument()}function mb(){return Fu()?Bs.reactNative:d_()?Bs.node:Kp()?Bs.browser:Bs.unknown}function ZD(){var t;try{return Fu()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function TEe(t,e){const n=new URLSearchParams(t);return Object.entries(e).sort(([r],[i])=>r.localeCompare(i)).forEach(([r,i])=>{i!=null&&n.set(r,String(i))}),n.toString()}function IEe(t){var e,n;const r=HW();try{return t!=null&&t.url&&r.url&&new URL(t.url).host!==new URL(r.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),t.url=r.url),(e=t?.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(i=>i!=="")),_Ee(KD(KD({},r),t),{url:t?.url||r.url,name:t?.name||r.name,description:t?.description||r.description,icons:(n=t?.icons)!=null&&n.length&&t.icons.length>0?t.icons:r.icons})}catch(i){return console.warn("Error populating app metadata",i),t||r}}function HW(){return fge.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function CEe(){if(mb()===Bs.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:n,Version:r}=global.Platform;return[n,r].join("-")}const t=kme();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function OEe(){var t;const e=mb();return e===Bs.browser?[e,((t=fl.getLocation())==null?void 0:t.host)||"unknown"].join(":"):e}function GW(t,e,n){const r=CEe(),i=OEe();return[[t,e].join("-"),[AEe,n].join("-"),r,i].join("/")}function kEe({protocol:t,version:e,relayUrl:n,sdkVersion:r,auth:i,projectId:s,useOnCloseEvent:a,bundleId:c,packageName:u}){const d=n.split("?"),h=GW(t,e,r),p={auth:i,ua:h,projectId:s,useOnCloseEvent:a,packageName:u||void 0,bundleId:c||void 0},m=TEe(d[1]||"",p);return d[0]+"?"+m}function Ld(t,e){return t.filter(n=>e.includes(n)).length===t.length}function q5(t){return Object.fromEntries(t.entries())}function W5(t){return new Map(Object.entries(t))}function Td(t=Be.FIVE_MINUTES,e){const n=Be.toMiliseconds(t||Be.FIVE_MINUTES);let r,i,s,a;return{resolve:c=>{s&&r&&(clearTimeout(s),r(c),a=Promise.resolve(c))},reject:c=>{s&&i&&(clearTimeout(s),i(c))},done:()=>new Promise((c,u)=>{if(a)return c(a);s=setTimeout(()=>{const d=new Error(e);a=Promise.reject(d),u(d)},n),r=c,i=u})}}function Do(t,e,n){return new Promise(async(r,i)=>{const s=setTimeout(()=>i(new Error(n)),e);try{const a=await t;r(a)}catch(a){i(a)}clearTimeout(s)})}function KW(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function REe(t){return KW("topic",t)}function NEe(t){return KW("id",t)}function YW(t){const[e,n]=t.split(":"),r={id:void 0,topic:void 0};if(e==="topic"&&typeof n=="string")r.topic=n;else if(e==="id"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${n}`);return r}function yr(t,e){return Be.fromMiliseconds(Date.now()+Be.toMiliseconds(t))}function $o(t){return Date.now()>=Be.toMiliseconds(t)}function cn(t,e){return`${t}${e?`:${e}`:""}`}function zo(t=[],e=[]){return[...new Set([...t,...e])]}async function $Ee({id:t,topic:e,wcDeepLink:n}){var r;try{if(!n)return;const i=typeof n=="string"?JSON.parse(n):n,s=i?.href;if(typeof s!="string")return;const a=PEe(s,t,e),c=mb();if(c===Bs.browser){if(!((r=fl.getDocument())!=null&&r.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}DEe(a)}else c===Bs.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(a)}catch(i){console.error(i)}}function PEe(t,e,n){const r=`requestId=${e}&sessionTopic=${n}`;t.endsWith("/")&&(t=t.slice(0,-1));let i=`${t}`;if(t.startsWith("https://t.me")){const s=t.includes("?")?"&startapp=":"?startapp=";i=`${i}${s}${LEe(r,!0)}`}else i=`${i}/wc?${r}`;return i}function DEe(t){let e="_self";BEe()?e="_top":(UEe()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function MEe(t,e){let n="";try{if(Kp()&&(n=localStorage.getItem(e),n))return n;n=await t.getItem(e)}catch(r){console.error(r)}return n}function XD(t,e){if(!t.includes(e))return null;const n=t.split(/([&,?,=])/),r=n.indexOf(e);return n[r+2]}function JD(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function KC(){return typeof process<"u"&&pEe.IS_VITEST==="true"}function UEe(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function BEe(){try{return window.self!==window.top}catch{return!1}}function LEe(t,e=!1){const n=Buffer.from(t).toString("base64");return e?n.replace(/[=]/g,""):n}function ZW(t){return Buffer.from(t,"base64").toString("utf-8")}function jEe(t){return new Promise(e=>setTimeout(e,t))}let zEe=class{constructor({limit:e}){YD(this,"limit"),YD(this,"set"),this.limit=e,this.set=new Set}add(e){if(!this.set.has(e)){if(this.set.size>=this.limit){const n=this.set.values().next().value;n&&this.set.delete(n)}this.set.add(e)}}has(e){return this.set.has(e)}};const _v=BigInt(2**32-1),QD=BigInt(32);function XW(t,e=!1){return e?{h:Number(t&_v),l:Number(t>>QD&_v)}:{h:Number(t>>QD&_v)|0,l:Number(t&_v)|0}}function JW(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let s=0;s<n;s++){const{h:a,l:c}=XW(t[s],e);[r[s],i[s]]=[a,c]}return[r,i]}const e9=(t,e,n)=>t>>>n,t9=(t,e,n)=>t<<32-n|e>>>n,fu=(t,e,n)=>t>>>n|e<<32-n,hu=(t,e,n)=>t<<32-n|e>>>n,wg=(t,e,n)=>t<<64-n|e>>>n-32,vg=(t,e,n)=>t>>>n-32|e<<64-n,FEe=(t,e)=>e,qEe=(t,e)=>t,WEe=(t,e,n)=>t<<n|e>>>32-n,VEe=(t,e,n)=>e<<n|t>>>32-n,HEe=(t,e,n)=>e<<n-32|t>>>64-n,GEe=(t,e,n)=>t<<n-32|e>>>64-n;function Ga(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const YC=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),ZC=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,KEe=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),YEe=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,ZEe=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),XEe=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,xh=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function PE(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function pl(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function co(t,...e){if(!PE(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function DE(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");pl(t.outputLen),pl(t.blockLen)}function Du(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function XC(t,e){co(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function x0(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Ea(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Jx(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Eo(t,e){return t<<32-e|t>>>e}const QW=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function eV(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}const Mc=QW?t=>t:t=>eV(t);function JEe(t){for(let e=0;e<t.length;e++)t[e]=eV(t[e]);return t}const pu=QW?t=>t:JEe,tV=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",QEe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function sp(t){if(co(t),tV)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=QEe[t[n]];return e}const Tc={_0:48,_9:57,A:65,F:70,a:97,f:102};function n9(t){if(t>=Tc._0&&t<=Tc._9)return t-Tc._0;if(t>=Tc.A&&t<=Tc.F)return t-(Tc.A-10);if(t>=Tc.a&&t<=Tc.f)return t-(Tc.a-10)}function f_(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(tV)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const a=n9(t.charCodeAt(s)),c=n9(t.charCodeAt(s+1));if(a===void 0||c===void 0){const u=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+u+'" at index '+s)}r[i]=a*16+c}return r}function nV(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function to(t){return typeof t=="string"&&(t=nV(t)),co(t),t}function _u(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];co(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}class ME{}function gb(t){const e=r=>t().update(to(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function e2e(t){const e=(r,i)=>t(i).update(to(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}function Tf(t=32){if(xh&&typeof xh.getRandomValues=="function")return xh.getRandomValues(new Uint8Array(t));if(xh&&typeof xh.randomBytes=="function")return Uint8Array.from(xh.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const t2e=BigInt(0),fm=BigInt(1),n2e=BigInt(2),r2e=BigInt(7),i2e=BigInt(256),s2e=BigInt(113),rV=[],iV=[],sV=[];for(let t=0,e=fm,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],rV.push(2*(5*r+n)),iV.push((t+1)*(t+2)/2%64);let i=t2e;for(let s=0;s<7;s++)e=(e<<fm^(e>>r2e)*s2e)%i2e,e&n2e&&(i^=fm<<(fm<<BigInt(s))-fm);sV.push(i)}const aV=JW(sV,!0),a2e=aV[0],o2e=aV[1],r9=(t,e,n)=>n>32?HEe(t,e,n):WEe(t,e,n),i9=(t,e,n)=>n>32?GEe(t,e,n):VEe(t,e,n);function c2e(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let a=0;a<10;a++)n[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(let a=0;a<10;a+=2){const c=(a+8)%10,u=(a+2)%10,d=n[u],h=n[u+1],p=r9(d,h,1)^n[c],m=i9(d,h,1)^n[c+1];for(let g=0;g<50;g+=10)t[a+g]^=p,t[a+g+1]^=m}let i=t[2],s=t[3];for(let a=0;a<24;a++){const c=iV[a],u=r9(i,s,c),d=i9(i,s,c),h=rV[a];i=t[h],s=t[h+1],t[h]=u,t[h+1]=d}for(let a=0;a<50;a+=10){for(let c=0;c<10;c++)n[c]=t[a+c];for(let c=0;c<10;c++)t[a+c]^=~n[(c+2)%10]&n[(c+4)%10]}t[0]^=a2e[r],t[1]^=o2e[r]}Ea(n)}let l2e=class oV extends ME{constructor(e,n,r,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,pl(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=x0(this.state)}clone(){return this._cloneInto()}keccak(){pu(this.state32),c2e(this.state32,this.rounds),pu(this.state32),this.posOut=0,this.pos=0}update(e){Du(this),e=to(e),co(e);const{blockLen:n,state:r}=this,i=e.length;for(let s=0;s<i;){const a=Math.min(n-this.pos,i-s);for(let c=0;c<a;c++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,(n&128)!==0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Du(this,!1),co(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const a=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+a),i),this.posOut+=a,i+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return pl(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(XC(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Ea(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:a}=this;return e||(e=new oV(n,r,i,a,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=a,e.destroyed=this.destroyed,e}};const u2e=(t,e,n)=>gb(()=>new l2e(e,t,n)),d2e=u2e(1,136,256/8);function f2e(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),a=Number(n>>i&s),c=Number(n&s),u=r?4:0,d=r?0:4;t.setUint32(e+u,a,r),t.setUint32(e+d,c,r)}function h2e(t,e,n){return t&e^~t&n}function p2e(t,e,n){return t&e^t&n^e&n}let cV=class extends ME{constructor(e,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=Jx(this.buffer)}update(e){Du(this),e=to(e),co(e);const{view:n,buffer:r,blockLen:i}=this,s=e.length;for(let a=0;a<s;){const c=Math.min(i-this.pos,s-a);if(c===i){const u=Jx(e);for(;i<=s-a;a+=i)this.process(u,a);continue}r.set(e.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Du(this),XC(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:a}=this;n[a++]=128,Ea(this.buffer.subarray(a)),this.padOffset>i-a&&(this.process(r,0),a=0);for(let p=a;p<i;p++)n[p]=0;f2e(r,i-8,BigInt(this.length*8),s),this.process(r,0);const c=Jx(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=u/4,h=this.get();if(d>h.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<d;p++)c.setUint32(4*p,h[p],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:a,pos:c}=this;return e.destroyed=a,e.finished=s,e.length=i,e.pos=c,i%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}};const nu=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),wi=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),vi=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),y2e=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ru=new Uint32Array(64);class m2e extends cV{constructor(e=32){super(64,e,8,!1),this.A=nu[0]|0,this.B=nu[1]|0,this.C=nu[2]|0,this.D=nu[3]|0,this.E=nu[4]|0,this.F=nu[5]|0,this.G=nu[6]|0,this.H=nu[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:a,G:c,H:u}=this;return[e,n,r,i,s,a,c,u]}set(e,n,r,i,s,a,c,u){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=c|0,this.H=u|0}process(e,n){for(let p=0;p<16;p++,n+=4)ru[p]=e.getUint32(n,!1);for(let p=16;p<64;p++){const m=ru[p-15],g=ru[p-2],b=Eo(m,7)^Eo(m,18)^m>>>3,v=Eo(g,17)^Eo(g,19)^g>>>10;ru[p]=v+ru[p-7]+b+ru[p-16]|0}let{A:r,B:i,C:s,D:a,E:c,F:u,G:d,H:h}=this;for(let p=0;p<64;p++){const m=Eo(c,6)^Eo(c,11)^Eo(c,25),g=h+m+h2e(c,u,d)+y2e[p]+ru[p]|0,b=(Eo(r,2)^Eo(r,13)^Eo(r,22))+p2e(r,i,s)|0;h=d,d=u,u=c,c=a+g|0,a=s,s=i,i=r,r=g+b|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,c=c+this.E|0,u=u+this.F|0,d=d+this.G|0,h=h+this.H|0,this.set(r,i,s,a,c,u,d,h)}roundClean(){Ea(ru)}destroy(){this.set(0,0,0,0,0,0,0,0),Ea(this.buffer)}}const lV=JW(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),g2e=lV[0],b2e=lV[1],iu=new Uint32Array(80),su=new Uint32Array(80);let JC=class extends cV{constructor(e=64){super(128,e,16,!1),this.Ah=vi[0]|0,this.Al=vi[1]|0,this.Bh=vi[2]|0,this.Bl=vi[3]|0,this.Ch=vi[4]|0,this.Cl=vi[5]|0,this.Dh=vi[6]|0,this.Dl=vi[7]|0,this.Eh=vi[8]|0,this.El=vi[9]|0,this.Fh=vi[10]|0,this.Fl=vi[11]|0,this.Gh=vi[12]|0,this.Gl=vi[13]|0,this.Hh=vi[14]|0,this.Hl=vi[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:a,Dh:c,Dl:u,Eh:d,El:h,Fh:p,Fl:m,Gh:g,Gl:b,Hh:v,Hl:E}=this;return[e,n,r,i,s,a,c,u,d,h,p,m,g,b,v,E]}set(e,n,r,i,s,a,c,u,d,h,p,m,g,b,v,E){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=a|0,this.Dh=c|0,this.Dl=u|0,this.Eh=d|0,this.El=h|0,this.Fh=p|0,this.Fl=m|0,this.Gh=g|0,this.Gl=b|0,this.Hh=v|0,this.Hl=E|0}process(e,n){for(let S=0;S<16;S++,n+=4)iu[S]=e.getUint32(n),su[S]=e.getUint32(n+=4);for(let S=16;S<80;S++){const A=iu[S-15]|0,C=su[S-15]|0,I=fu(A,C,1)^fu(A,C,8)^e9(A,C,7),$=hu(A,C,1)^hu(A,C,8)^t9(A,C,7),z=iu[S-2]|0,L=su[S-2]|0,B=fu(z,L,19)^wg(z,L,61)^e9(z,L,6),V=hu(z,L,19)^vg(z,L,61)^t9(z,L,6),D=KEe($,V,su[S-7],su[S-16]),F=YEe(D,I,B,iu[S-7],iu[S-16]);iu[S]=F|0,su[S]=D|0}let{Ah:r,Al:i,Bh:s,Bl:a,Ch:c,Cl:u,Dh:d,Dl:h,Eh:p,El:m,Fh:g,Fl:b,Gh:v,Gl:E,Hh:O,Hl:k}=this;for(let S=0;S<80;S++){const A=fu(p,m,14)^fu(p,m,18)^wg(p,m,41),C=hu(p,m,14)^hu(p,m,18)^vg(p,m,41),I=p&g^~p&v,$=m&b^~m&E,z=ZEe(k,C,$,b2e[S],su[S]),L=XEe(z,O,A,I,g2e[S],iu[S]),B=z|0,V=fu(r,i,28)^wg(r,i,34)^wg(r,i,39),D=hu(r,i,28)^vg(r,i,34)^vg(r,i,39),F=r&s^r&c^s&c,K=i&a^i&u^a&u;O=v|0,k=E|0,v=g|0,E=b|0,g=p|0,b=m|0,{h:p,l:m}=Ga(d|0,h|0,L|0,B|0),d=c|0,h=u|0,c=s|0,u=a|0,s=r|0,a=i|0;const T=YC(B,D,K);r=ZC(T,L,V,F),i=T|0}({h:r,l:i}=Ga(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:a}=Ga(this.Bh|0,this.Bl|0,s|0,a|0),{h:c,l:u}=Ga(this.Ch|0,this.Cl|0,c|0,u|0),{h:d,l:h}=Ga(this.Dh|0,this.Dl|0,d|0,h|0),{h:p,l:m}=Ga(this.Eh|0,this.El|0,p|0,m|0),{h:g,l:b}=Ga(this.Fh|0,this.Fl|0,g|0,b|0),{h:v,l:E}=Ga(this.Gh|0,this.Gl|0,v|0,E|0),{h:O,l:k}=Ga(this.Hh|0,this.Hl|0,O|0,k|0),this.set(r,i,s,a,c,u,d,h,p,m,g,b,v,E,O,k)}roundClean(){Ea(iu,su)}destroy(){Ea(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};class w2e extends JC{constructor(){super(48),this.Ah=wi[0]|0,this.Al=wi[1]|0,this.Bh=wi[2]|0,this.Bl=wi[3]|0,this.Ch=wi[4]|0,this.Cl=wi[5]|0,this.Dh=wi[6]|0,this.Dl=wi[7]|0,this.Eh=wi[8]|0,this.El=wi[9]|0,this.Fh=wi[10]|0,this.Fl=wi[11]|0,this.Gh=wi[12]|0,this.Gl=wi[13]|0,this.Hh=wi[14]|0,this.Hl=wi[15]|0}}const _i=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class v2e extends JC{constructor(){super(32),this.Ah=_i[0]|0,this.Al=_i[1]|0,this.Bh=_i[2]|0,this.Bl=_i[3]|0,this.Ch=_i[4]|0,this.Cl=_i[5]|0,this.Dh=_i[6]|0,this.Dl=_i[7]|0,this.Eh=_i[8]|0,this.El=_i[9]|0,this.Fh=_i[10]|0,this.Fl=_i[11]|0,this.Gh=_i[12]|0,this.Gl=_i[13]|0,this.Hh=_i[14]|0,this.Hl=_i[15]|0}}const UE=gb(()=>new m2e),_2e=gb(()=>new JC),E2e=gb(()=>new w2e),A2e=gb(()=>new v2e),S2e=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),Ir=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),je=new Uint32Array(32);function au(t,e,n,r,i,s){const a=i[s],c=i[s+1];let u=je[2*t],d=je[2*t+1],h=je[2*e],p=je[2*e+1],m=je[2*n],g=je[2*n+1],b=je[2*r],v=je[2*r+1],E=YC(u,h,a);d=ZC(E,d,p,c),u=E|0,{Dh:v,Dl:b}={Dh:v^d,Dl:b^u},{Dh:v,Dl:b}={Dh:FEe(v,b),Dl:qEe(v)},{h:g,l:m}=Ga(g,m,v,b),{Bh:p,Bl:h}={Bh:p^g,Bl:h^m},{Bh:p,Bl:h}={Bh:fu(p,h,24),Bl:hu(p,h,24)},je[2*t]=u,je[2*t+1]=d,je[2*e]=h,je[2*e+1]=p,je[2*n]=m,je[2*n+1]=g,je[2*r]=b,je[2*r+1]=v}function ou(t,e,n,r,i,s){const a=i[s],c=i[s+1];let u=je[2*t],d=je[2*t+1],h=je[2*e],p=je[2*e+1],m=je[2*n],g=je[2*n+1],b=je[2*r],v=je[2*r+1],E=YC(u,h,a);d=ZC(E,d,p,c),u=E|0,{Dh:v,Dl:b}={Dh:v^d,Dl:b^u},{Dh:v,Dl:b}={Dh:fu(v,b,16),Dl:hu(v,b,16)},{h:g,l:m}=Ga(g,m,v,b),{Bh:p,Bl:h}={Bh:p^g,Bl:h^m},{Bh:p,Bl:h}={Bh:wg(p,h,63),Bl:vg(p,h,63)},je[2*t]=u,je[2*t+1]=d,je[2*e]=h,je[2*e+1]=p,je[2*n]=m,je[2*n+1]=g,je[2*r]=b,je[2*r+1]=v}function x2e(t,e={},n,r,i){if(pl(n),t<0||t>n)throw new Error("outputLen bigger than keyLen");const{key:s,salt:a,personalization:c}=e;if(s!==void 0&&(s.length<1||s.length>n))throw new Error("key length must be undefined or 1.."+n);if(a!==void 0&&a.length!==r)throw new Error("salt must be undefined or "+r);if(c!==void 0&&c.length!==i)throw new Error("personalization must be undefined or "+i)}class T2e extends ME{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,pl(e),pl(n),this.blockLen=e,this.outputLen=n,this.buffer=new Uint8Array(e),this.buffer32=x0(this.buffer)}update(e){Du(this),e=to(e),co(e);const{blockLen:n,buffer:r,buffer32:i}=this,s=e.length,a=e.byteOffset,c=e.buffer;for(let u=0;u<s;){this.pos===n&&(pu(i),this.compress(i,0,!1),pu(i),this.pos=0);const d=Math.min(n-this.pos,s-u),h=a+u;if(d===n&&!(h%4)&&u+d<s){const p=new Uint32Array(c,h,Math.floor((s-u)/4));pu(p);for(let m=0;u+n<s;m+=i.length,u+=n)this.length+=n,this.compress(p,m,!1);pu(p);continue}r.set(e.subarray(u,u+d),this.pos),this.pos+=d,this.length+=d,u+=d}return this}digestInto(e){Du(this),XC(e,this);const{pos:n,buffer32:r}=this;this.finished=!0,Ea(this.buffer.subarray(n)),pu(r),this.compress(r,0,!0),pu(r);const i=x0(e);this.get().forEach((s,a)=>i[a]=Mc(s))}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){const{buffer:n,length:r,finished:i,destroyed:s,outputLen:a,pos:c}=this;return e||(e=new this.constructor({dkLen:a})),e.set(...this.get()),e.buffer.set(n),e.destroyed=s,e.finished=i,e.length=r,e.pos=c,e.outputLen=a,e}clone(){return this._cloneInto()}}class I2e extends T2e{constructor(e={}){const n=e.dkLen===void 0?64:e.dkLen;super(128,n),this.v0l=Ir[0]|0,this.v0h=Ir[1]|0,this.v1l=Ir[2]|0,this.v1h=Ir[3]|0,this.v2l=Ir[4]|0,this.v2h=Ir[5]|0,this.v3l=Ir[6]|0,this.v3h=Ir[7]|0,this.v4l=Ir[8]|0,this.v4h=Ir[9]|0,this.v5l=Ir[10]|0,this.v5h=Ir[11]|0,this.v6l=Ir[12]|0,this.v6h=Ir[13]|0,this.v7l=Ir[14]|0,this.v7h=Ir[15]|0,x2e(n,e,64,16,16);let{key:r,personalization:i,salt:s}=e,a=0;if(r!==void 0&&(r=to(r),a=r.length),this.v0l^=this.outputLen|a<<8|65536|1<<24,s!==void 0){s=to(s);const c=x0(s);this.v4l^=Mc(c[0]),this.v4h^=Mc(c[1]),this.v5l^=Mc(c[2]),this.v5h^=Mc(c[3])}if(i!==void 0){i=to(i);const c=x0(i);this.v6l^=Mc(c[0]),this.v6h^=Mc(c[1]),this.v7l^=Mc(c[2]),this.v7h^=Mc(c[3])}if(r!==void 0){const c=new Uint8Array(this.blockLen);c.set(r),this.update(c)}}get(){let{v0l:e,v0h:n,v1l:r,v1h:i,v2l:s,v2h:a,v3l:c,v3h:u,v4l:d,v4h:h,v5l:p,v5h:m,v6l:g,v6h:b,v7l:v,v7h:E}=this;return[e,n,r,i,s,a,c,u,d,h,p,m,g,b,v,E]}set(e,n,r,i,s,a,c,u,d,h,p,m,g,b,v,E){this.v0l=e|0,this.v0h=n|0,this.v1l=r|0,this.v1h=i|0,this.v2l=s|0,this.v2h=a|0,this.v3l=c|0,this.v3h=u|0,this.v4l=d|0,this.v4h=h|0,this.v5l=p|0,this.v5h=m|0,this.v6l=g|0,this.v6h=b|0,this.v7l=v|0,this.v7h=E|0}compress(e,n,r){this.get().forEach((u,d)=>je[d]=u),je.set(Ir,16);let{h:i,l:s}=XW(BigInt(this.length));je[24]=Ir[8]^s,je[25]=Ir[9]^i,r&&(je[28]=~je[28],je[29]=~je[29]);let a=0;const c=S2e;for(let u=0;u<12;u++)au(0,4,8,12,e,n+2*c[a++]),ou(0,4,8,12,e,n+2*c[a++]),au(1,5,9,13,e,n+2*c[a++]),ou(1,5,9,13,e,n+2*c[a++]),au(2,6,10,14,e,n+2*c[a++]),ou(2,6,10,14,e,n+2*c[a++]),au(3,7,11,15,e,n+2*c[a++]),ou(3,7,11,15,e,n+2*c[a++]),au(0,5,10,15,e,n+2*c[a++]),ou(0,5,10,15,e,n+2*c[a++]),au(1,6,11,12,e,n+2*c[a++]),ou(1,6,11,12,e,n+2*c[a++]),au(2,7,8,13,e,n+2*c[a++]),ou(2,7,8,13,e,n+2*c[a++]),au(3,4,9,14,e,n+2*c[a++]),ou(3,4,9,14,e,n+2*c[a++]);this.v0l^=je[0]^je[16],this.v0h^=je[1]^je[17],this.v1l^=je[2]^je[18],this.v1h^=je[3]^je[19],this.v2l^=je[4]^je[20],this.v2h^=je[5]^je[21],this.v3l^=je[6]^je[22],this.v3h^=je[7]^je[23],this.v4l^=je[8]^je[24],this.v4h^=je[9]^je[25],this.v5l^=je[10]^je[26],this.v5h^=je[11]^je[27],this.v6l^=je[12]^je[28],this.v6h^=je[13]^je[29],this.v7l^=je[14]^je[30],this.v7h^=je[15]^je[31],Ea(je)}destroy(){this.destroyed=!0,Ea(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const C2e=e2e(t=>new I2e(t)),O2e="https://rpc.walletconnect.org/v1";function uV(t){const e=`Ethereum Signed Message:
${t.length}`,n=new TextEncoder().encode(e+t);return"0x"+Buffer.from(d2e(n)).toString("hex")}async function k2e(t,e,n,r,i,s){switch(n.t){case"eip191":return await R2e(t,e,n.s);case"eip1271":return await N2e(t,e,n.s,r,i,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}function R2e(t,e,n){const r=ibe(n);return lbe({payload:uV(e),signature:r}).toLowerCase()===t.toLowerCase()}async function N2e(t,e,n,r,i,s){const a=il(r);if(!a.namespace||!a.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const c="0x1626ba7e",u="0000000000000000000000000000000000000000000000000000000000000040",d=n.substring(2),h=(d.length/2).toString(16).padStart(64,"0"),p=(e.startsWith("0x")?e:uV(e)).substring(2),m=c+p+u+h+d,g=await fetch(`${s||O2e}/?chainId=${r}&projectId=${i}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:$2e(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:m},"latest"]})}),{result:b}=await g.json();return b?b.slice(0,c.length).toLowerCase()===c.toLowerCase():!1}catch(c){return console.error("isValidEip1271Signature: ",c),!1}}function $2e(){return Date.now()+Math.floor(Math.random()*1e3)}function P2e(t){const e=atob(t),n=new Uint8Array(e.length);for(let a=0;a<e.length;a++)n[a]=e.charCodeAt(a);const r=n[0];if(r===0)throw new Error("No signatures found");const i=1+r*64;if(n.length<i)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");const s=Buffer.from(t,"base64").slice(1,65);return hb.encode(s)}function D2e(t){const e=new Uint8Array(Buffer.from(t,"base64")),n=Array.from("TransactionData::").map(s=>s.charCodeAt(0)),r=new Uint8Array(n.length+e.length);r.set(n),r.set(e,n.length);const i=C2e(r,{dkLen:32});return hb.encode(i)}function s9(t){const e=new Uint8Array(UE(M2e(t)));return hb.encode(e)}function M2e(t){if(t instanceof Uint8Array)return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="object"&&t!=null&&t.data)return new Uint8Array(Object.values(t.data));if(typeof t=="object"&&t)return new Uint8Array(Object.values(t));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function a9(t){const e=Buffer.from(t,"base64"),n=Kbe(e).txn;if(!n)throw new Error("Invalid signed transaction: missing 'txn' field");const r=Lbe(n),i=Buffer.from("TX"),s=Buffer.concat([i,Buffer.from(r)]),a=A2e(s);return fpe.encode(a).replace(/=+$/,"")}function Qx(t){const e=[];let n=BigInt(t);for(;n>=BigInt(128);)e.push(Number(n&BigInt(127)|BigInt(128))),n>>=BigInt(7);return e.push(Number(n)),Buffer.from(e)}function U2e(t){const e=Buffer.from(t.signed.bodyBytes,"base64"),n=Buffer.from(t.signed.authInfoBytes,"base64"),r=Buffer.from(t.signature.signature,"base64"),i=[];i.push(Buffer.from([10])),i.push(Qx(e.length)),i.push(e),i.push(Buffer.from([18])),i.push(Qx(n.length)),i.push(n),i.push(Buffer.from([26])),i.push(Qx(r.length)),i.push(r);const s=Buffer.concat(i),a=UE(s);return Buffer.from(a).toString("hex").toUpperCase()}function B2e(t){var e,n;const r=[];try{if(typeof t=="string")return r.push(t),r;if(typeof t!="object")return r;t!=null&&t.id&&r.push(t.id);const i=(n=(e=t?.capabilities)==null?void 0:e.caip345)==null?void 0:n.transactionHashes;i&&r.push(...i)}catch(i){console.warn("getWalletSendCallsHashes failed: ",i)}return r}var L2e=Object.defineProperty,j2e=Object.defineProperties,z2e=Object.getOwnPropertyDescriptors,o9=Object.getOwnPropertySymbols,F2e=Object.prototype.hasOwnProperty,q2e=Object.prototype.propertyIsEnumerable,c9=(t,e,n)=>e in t?L2e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,W2e=(t,e)=>{for(var n in e||(e={}))F2e.call(e,n)&&c9(t,n,e[n]);if(o9)for(var n of o9(e))q2e.call(e,n)&&c9(t,n,e[n]);return t},V2e=(t,e)=>j2e(t,z2e(e));const H2e="did:pkh:",QC=t=>t?.split(":"),G2e=t=>{const e=t&&QC(t);if(e)return t.includes(H2e)?e[3]:e[1]},V5=t=>{const e=t&&QC(t);if(e)return e[2]+":"+e[3]},h_=t=>{const e=t&&QC(t);if(e)return e.pop()};async function l9(t){const{cacao:e,projectId:n}=t,{s:r,p:i}=e,s=dV(i,i.iss),a=h_(i.iss);return await k2e(a,s,r,V5(i.iss),n)}const dV=(t,e)=>{const n=`${t.domain} wants you to sign in with your Ethereum account:`,r=h_(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=t.statement||void 0;const s=`URI: ${t.aud||t.uri}`,a=`Version: ${t.version}`,c=`Chain ID: ${G2e(e)}`,u=`Nonce: ${t.nonce}`,d=`Issued At: ${t.iat}`,h=t.exp?`Expiration Time: ${t.exp}`:void 0,p=t.nbf?`Not Before: ${t.nbf}`:void 0,m=t.requestId?`Request ID: ${t.requestId}`:void 0,g=t.resources?`Resources:${t.resources.map(v=>`
- ${v}`).join("")}`:void 0,b=t1(t.resources);if(b){const v=T0(b);i=nAe(i,v)}return[n,r,"",i,"",s,a,c,u,d,h,p,m,g].filter(v=>v!=null).join(`
`)};function K2e(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function Y2e(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function yf(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(n=>{const r=t.att[n];if(Array.isArray(r))throw new Error(`Resource must be an object: ${n}`);if(typeof r!="object")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(r).forEach(i=>{const s=r[i];if(!Array.isArray(s))throw new Error(`Ability limits ${i} must be an array of objects, found: ${s}`);if(!s.length)throw new Error(`Value of ${i} is empty array, must be an array with objects`);s.forEach(a=>{if(typeof a!="object")throw new Error(`Ability limits (${i}) must be an array of objects, found: ${a}`)})})})}function Z2e(t,e,n,r={}){return n?.sort((i,s)=>i.localeCompare(s)),{att:{[t]:X2e(e,n,r)}}}function X2e(t,e,n={}){e=e?.sort((i,s)=>i.localeCompare(s));const r=e.map(i=>({[`${t}/${i}`]:[n]}));return Object.assign({},...r)}function fV(t){return yf(t),`urn:recap:${K2e(t).replace(/=/g,"")}`}function T0(t){const e=Y2e(t.replace("urn:recap:",""));return yf(e),e}function J2e(t,e,n){const r=Z2e(t,e,n);return fV(r)}function Q2e(t){return t&&t.includes("urn:recap:")}function eAe(t,e){const n=T0(t),r=T0(e),i=tAe(n,r);return fV(i)}function tAe(t,e){yf(t),yf(e);const n=Object.keys(t.att).concat(Object.keys(e.att)).sort((i,s)=>i.localeCompare(s)),r={att:{}};return n.forEach(i=>{var s,a;Object.keys(((s=t.att)==null?void 0:s[i])||{}).concat(Object.keys(((a=e.att)==null?void 0:a[i])||{})).sort((c,u)=>c.localeCompare(u)).forEach(c=>{var u,d;r.att[i]=V2e(W2e({},r.att[i]),{[c]:((u=t.att[i])==null?void 0:u[c])||((d=e.att[i])==null?void 0:d[c])})})}),r}function nAe(t="",e){yf(e);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(n))return t;const r=[];let i=0;Object.keys(e.att).forEach(c=>{const u=Object.keys(e.att[c]).map(p=>({ability:p.split("/")[0],action:p.split("/")[1]}));u.sort((p,m)=>p.action.localeCompare(m.action));const d={};u.forEach(p=>{d[p.ability]||(d[p.ability]=[]),d[p.ability].push(p.action)});const h=Object.keys(d).map(p=>(i++,`(${i}) '${p}': '${d[p].join("', '")}' for '${c}'.`));r.push(h.join(", ").replace(".,","."))});const s=r.join(" "),a=`${n}${s}`;return`${t?t+" ":""}${a}`}function u9(t){var e;const n=T0(t);yf(n);const r=(e=n.att)==null?void 0:e.eip155;return r?Object.keys(r).map(i=>i.split("/")[1]):[]}function d9(t){const e=T0(t);yf(e);const n=[];return Object.values(e.att).forEach(r=>{Object.values(r).forEach(i=>{var s;(s=i?.[0])!=null&&s.chains&&n.push(i[0].chains)})}),[...new Set(n.flat())]}function t1(t){if(!t)return;const e=t?.[t.length-1];return Q2e(e)?e:void 0}function hV(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function H5(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function e6(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function rs(t,...e){if(!hV(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function f9(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function rAe(t,e){rs(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function ku(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Rp(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function iAe(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}const sAe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function aAe(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function G5(t){if(typeof t=="string")t=aAe(t);else if(hV(t))t=K5(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function oAe(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function cAe(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}const lAe=(t,e)=>{function n(r,...i){if(rs(r),!sAe)throw new Error("Non little-endian hardware is not yet supported");if(t.nonceLength!==void 0){const d=i[0];if(!d)throw new Error("nonce / iv required");t.varSizeNonce?rs(d):rs(d,t.nonceLength)}const s=t.tagLength;s&&i[1]!==void 0&&rs(i[1]);const a=e(r,...i),c=(d,h)=>{if(h!==void 0){if(d!==2)throw new Error("cipher output not supported");rs(h)}};let u=!1;return{encrypt(d,h){if(u)throw new Error("cannot encrypt() twice with same key + nonce");return u=!0,rs(d),c(a.encrypt.length,h),a.encrypt(d,h)},decrypt(d,h){if(rs(d),s&&d.length<s)throw new Error("invalid ciphertext length: smaller than tagLength="+s);return c(a.decrypt.length,h),a.decrypt(d,h)}}}return Object.assign(n,t),n};function h9(t,e,n=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(n&&!dAe(e))throw new Error("invalid output, must be aligned");return e}function p9(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),a=Number(n>>i&s),c=Number(n&s);t.setUint32(e+4,a,r),t.setUint32(e+0,c,r)}function uAe(t,e,n){H5(n);const r=new Uint8Array(16),i=iAe(r);return p9(i,0,BigInt(e),n),p9(i,8,BigInt(t),n),r}function dAe(t){return t.byteOffset%4===0}function K5(t){return Uint8Array.from(t)}const pV=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),fAe=pV("expand 16-byte k"),hAe=pV("expand 32-byte k"),pAe=ku(fAe),yAe=ku(hAe);function en(t,e){return t<<e|t>>>32-e}function Y5(t){return t.byteOffset%4===0}const Ev=64,mAe=16,yV=2**32-1,y9=new Uint32Array;function gAe(t,e,n,r,i,s,a,c){const u=i.length,d=new Uint8Array(Ev),h=ku(d),p=Y5(i)&&Y5(s),m=p?ku(i):y9,g=p?ku(s):y9;for(let b=0;b<u;a++){if(t(e,n,r,h,a,c),a>=yV)throw new Error("arx: counter overflow");const v=Math.min(Ev,u-b);if(p&&v===Ev){const E=b/4;if(b%4!==0)throw new Error("arx: invalid block position");for(let O=0,k;O<mAe;O++)k=E+O,g[k]=m[k]^h[O];b+=Ev;continue}for(let E=0,O;E<v;E++)O=b+E,s[O]=i[O]^d[E];b+=v}}function bAe(t,e){const{allowShortKeys:n,extendNonceFn:r,counterLength:i,counterRight:s,rounds:a}=oAe({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return e6(i),e6(a),H5(s),H5(n),(c,u,d,h,p=0)=>{rs(c),rs(u),rs(d);const m=d.length;if(h===void 0&&(h=new Uint8Array(m)),rs(h),e6(p),p<0||p>=yV)throw new Error("arx: counter overflow");if(h.length<m)throw new Error(`arx: output (${h.length}) is shorter than data (${m})`);const g=[];let b=c.length,v,E;if(b===32)g.push(v=K5(c)),E=yAe;else if(b===16&&n)v=new Uint8Array(32),v.set(c),v.set(c,16),E=pAe,g.push(v);else throw new Error(`arx: invalid 32-byte key, got length=${b}`);Y5(u)||g.push(u=K5(u));const O=ku(v);if(r){if(u.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(E,O,ku(u.subarray(0,16)),O),u=u.subarray(16)}const k=16-i;if(k!==u.length)throw new Error(`arx: nonce must be ${k} or 16 bytes`);if(k!==12){const A=new Uint8Array(12);A.set(u,s?0:12-u.length),u=A,g.push(u)}const S=ku(u);return gAe(t,E,O,S,d,h,p,a),Rp(...g),h}}const ri=(t,e)=>t[e++]&255|(t[e++]&255)<<8;class wAe{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=G5(e),rs(e,32);const n=ri(e,0),r=ri(e,2),i=ri(e,4),s=ri(e,6),a=ri(e,8),c=ri(e,10),u=ri(e,12),d=ri(e,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|i<<6)&7939,this.r[3]=(i>>>7|s<<9)&8191,this.r[4]=(s>>>4|a<<12)&255,this.r[5]=a>>>1&8190,this.r[6]=(a>>>14|c<<2)&8191,this.r[7]=(c>>>11|u<<5)&8065,this.r[8]=(u>>>8|d<<8)&8191,this.r[9]=d>>>5&127;for(let h=0;h<8;h++)this.pad[h]=ri(e,16+2*h)}process(e,n,r=!1){const i=r?0:2048,{h:s,r:a}=this,c=a[0],u=a[1],d=a[2],h=a[3],p=a[4],m=a[5],g=a[6],b=a[7],v=a[8],E=a[9],O=ri(e,n+0),k=ri(e,n+2),S=ri(e,n+4),A=ri(e,n+6),C=ri(e,n+8),I=ri(e,n+10),$=ri(e,n+12),z=ri(e,n+14);let L=s[0]+(O&8191),B=s[1]+((O>>>13|k<<3)&8191),V=s[2]+((k>>>10|S<<6)&8191),D=s[3]+((S>>>7|A<<9)&8191),F=s[4]+((A>>>4|C<<12)&8191),K=s[5]+(C>>>1&8191),T=s[6]+((C>>>14|I<<2)&8191),x=s[7]+((I>>>11|$<<5)&8191),N=s[8]+(($>>>8|z<<8)&8191),j=s[9]+(z>>>5|i),P=0,H=P+L*c+B*(5*E)+V*(5*v)+D*(5*b)+F*(5*g);P=H>>>13,H&=8191,H+=K*(5*m)+T*(5*p)+x*(5*h)+N*(5*d)+j*(5*u),P+=H>>>13,H&=8191;let M=P+L*u+B*c+V*(5*E)+D*(5*v)+F*(5*b);P=M>>>13,M&=8191,M+=K*(5*g)+T*(5*m)+x*(5*p)+N*(5*h)+j*(5*d),P+=M>>>13,M&=8191;let G=P+L*d+B*u+V*c+D*(5*E)+F*(5*v);P=G>>>13,G&=8191,G+=K*(5*b)+T*(5*g)+x*(5*m)+N*(5*p)+j*(5*h),P+=G>>>13,G&=8191;let J=P+L*h+B*d+V*u+D*c+F*(5*E);P=J>>>13,J&=8191,J+=K*(5*v)+T*(5*b)+x*(5*g)+N*(5*m)+j*(5*p),P+=J>>>13,J&=8191;let X=P+L*p+B*h+V*d+D*u+F*c;P=X>>>13,X&=8191,X+=K*(5*E)+T*(5*v)+x*(5*b)+N*(5*g)+j*(5*m),P+=X>>>13,X&=8191;let Q=P+L*m+B*p+V*h+D*d+F*u;P=Q>>>13,Q&=8191,Q+=K*c+T*(5*E)+x*(5*v)+N*(5*b)+j*(5*g),P+=Q>>>13,Q&=8191;let ge=P+L*g+B*m+V*p+D*h+F*d;P=ge>>>13,ge&=8191,ge+=K*u+T*c+x*(5*E)+N*(5*v)+j*(5*b),P+=ge>>>13,ge&=8191;let we=P+L*b+B*g+V*m+D*p+F*h;P=we>>>13,we&=8191,we+=K*d+T*u+x*c+N*(5*E)+j*(5*v),P+=we>>>13,we&=8191;let Te=P+L*v+B*b+V*g+D*m+F*p;P=Te>>>13,Te&=8191,Te+=K*h+T*d+x*u+N*c+j*(5*E),P+=Te>>>13,Te&=8191;let Ee=P+L*E+B*v+V*b+D*g+F*m;P=Ee>>>13,Ee&=8191,Ee+=K*p+T*h+x*d+N*u+j*c,P+=Ee>>>13,Ee&=8191,P=(P<<2)+P|0,P=P+H|0,H=P&8191,P=P>>>13,M+=P,s[0]=H,s[1]=M,s[2]=G,s[3]=J,s[4]=X,s[5]=Q,s[6]=ge,s[7]=we,s[8]=Te,s[9]=Ee}finalize(){const{h:e,pad:n}=this,r=new Uint16Array(10);let i=e[1]>>>13;e[1]&=8191;for(let c=2;c<10;c++)e[c]+=i,i=e[c]>>>13,e[c]&=8191;e[0]+=i*5,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,r[0]=e[0]+5,i=r[0]>>>13,r[0]&=8191;for(let c=1;c<10;c++)r[c]=e[c]+i,i=r[c]>>>13,r[c]&=8191;r[9]-=8192;let s=(i^1)-1;for(let c=0;c<10;c++)r[c]&=s;s=~s;for(let c=0;c<10;c++)e[c]=e[c]&s|r[c];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let a=e[0]+n[0];e[0]=a&65535;for(let c=1;c<8;c++)a=(e[c]+n[c]|0)+(a>>>16)|0,e[c]=a&65535;Rp(r)}update(e){f9(this),e=G5(e),rs(e);const{buffer:n,blockLen:r}=this,i=e.length;for(let s=0;s<i;){const a=Math.min(r-this.pos,i-s);if(a===r){for(;r<=i-s;s+=r)this.process(e,s);continue}n.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){Rp(this.h,this.r,this.buffer,this.pad)}digestInto(e){f9(this),rAe(e,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:i}=this;if(i){for(n[i++]=1;i<16;i++)n[i]=0;this.process(n,0,!0)}this.finalize();let s=0;for(let a=0;a<8;a++)e[s++]=r[a]>>>0,e[s++]=r[a]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}}function vAe(t){const e=(r,i)=>t(i).update(G5(r)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}const _Ae=vAe(t=>new wAe(t));function EAe(t,e,n,r,i,s=20){let a=t[0],c=t[1],u=t[2],d=t[3],h=e[0],p=e[1],m=e[2],g=e[3],b=e[4],v=e[5],E=e[6],O=e[7],k=i,S=n[0],A=n[1],C=n[2],I=a,$=c,z=u,L=d,B=h,V=p,D=m,F=g,K=b,T=v,x=E,N=O,j=k,P=S,H=A,M=C;for(let J=0;J<s;J+=2)I=I+B|0,j=en(j^I,16),K=K+j|0,B=en(B^K,12),I=I+B|0,j=en(j^I,8),K=K+j|0,B=en(B^K,7),$=$+V|0,P=en(P^$,16),T=T+P|0,V=en(V^T,12),$=$+V|0,P=en(P^$,8),T=T+P|0,V=en(V^T,7),z=z+D|0,H=en(H^z,16),x=x+H|0,D=en(D^x,12),z=z+D|0,H=en(H^z,8),x=x+H|0,D=en(D^x,7),L=L+F|0,M=en(M^L,16),N=N+M|0,F=en(F^N,12),L=L+F|0,M=en(M^L,8),N=N+M|0,F=en(F^N,7),I=I+V|0,M=en(M^I,16),x=x+M|0,V=en(V^x,12),I=I+V|0,M=en(M^I,8),x=x+M|0,V=en(V^x,7),$=$+D|0,j=en(j^$,16),N=N+j|0,D=en(D^N,12),$=$+D|0,j=en(j^$,8),N=N+j|0,D=en(D^N,7),z=z+F|0,P=en(P^z,16),K=K+P|0,F=en(F^K,12),z=z+F|0,P=en(P^z,8),K=K+P|0,F=en(F^K,7),L=L+B|0,H=en(H^L,16),T=T+H|0,B=en(B^T,12),L=L+B|0,H=en(H^L,8),T=T+H|0,B=en(B^T,7);let G=0;r[G++]=a+I|0,r[G++]=c+$|0,r[G++]=u+z|0,r[G++]=d+L|0,r[G++]=h+B|0,r[G++]=p+V|0,r[G++]=m+D|0,r[G++]=g+F|0,r[G++]=b+K|0,r[G++]=v+T|0,r[G++]=E+x|0,r[G++]=O+N|0,r[G++]=k+j|0,r[G++]=S+P|0,r[G++]=A+H|0,r[G++]=C+M|0}const AAe=bAe(EAe,{counterRight:!1,counterLength:4,allowShortKeys:!1}),SAe=new Uint8Array(16),m9=(t,e)=>{t.update(e);const n=e.length%16;n&&t.update(SAe.subarray(n))},xAe=new Uint8Array(32);function g9(t,e,n,r,i){const s=t(e,n,xAe),a=_Ae.create(s);i&&m9(a,i),m9(a,r);const c=uAe(r.length,i?i.length:0,!0);a.update(c);const u=a.digest();return Rp(s,c),u}const TAe=t=>(e,n,r)=>({encrypt(i,s){const a=i.length;s=h9(a+16,s,!1),s.set(i);const c=s.subarray(0,-16);t(e,n,c,c,1);const u=g9(t,e,n,c,r);return s.set(u,a),Rp(u),s},decrypt(i,s){s=h9(i.length-16,s,!1);const a=i.subarray(0,-16),c=i.subarray(-16),u=g9(t,e,n,a,r);if(!cAe(c,u))throw new Error("invalid tag");return s.set(i.subarray(0,-16)),t(e,n,s,s,1),Rp(u),s}}),mV=lAe({blockSize:64,nonceLength:12,tagLength:16},TAe(AAe));let gV=class extends ME{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,DE(e);const r=to(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=e.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),Ea(s)}update(e){return Du(this),this.iHash.update(e),this}digestInto(e){Du(this),co(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:a,outputLen:c}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=a,e.outputLen=c,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const BE=(t,e,n)=>new gV(t,e).update(n).digest();BE.create=(t,e)=>new gV(t,e);function IAe(t,e,n){return DE(t),n===void 0&&(n=new Uint8Array(t.outputLen)),BE(t,to(n),to(e))}const t6=Uint8Array.from([0]),b9=Uint8Array.of();function CAe(t,e,n,r=32){DE(t),pl(r);const i=t.outputLen;if(r>255*i)throw new Error("Length should be <= 255*HashLen");const s=Math.ceil(r/i);n===void 0&&(n=b9);const a=new Uint8Array(s*i),c=BE.create(t,e),u=c._cloneInto(),d=new Uint8Array(c.outputLen);for(let h=0;h<s;h++)t6[0]=h+1,u.update(h===0?b9:d).update(n).update(t6).digestInto(d),a.set(d,i*h),c._cloneInto(u);return c.destroy(),u.destroy(),Ea(d,t6),a.slice(0,r)}const OAe=(t,e,n,r,i)=>CAe(t,IAe(t,e,n),r,i),LE=UE,eO=BigInt(0),Z5=BigInt(1);function p_(t,e=""){if(typeof t!="boolean"){const n=e&&`"${e}"`;throw new Error(n+"expected boolean, got type="+typeof t)}return t}function jd(t,e,n=""){const r=PE(t),i=t?.length,s=e!==void 0;if(!r||s&&i!==e){const a=n&&`"${n}" `,c=s?` of length ${e}`:"",u=r?`length=${i}`:`type=${typeof t}`;throw new Error(a+"expected Uint8Array"+c+", got "+u)}return t}function Av(t){const e=t.toString(16);return e.length&1?"0"+e:e}function bV(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?eO:BigInt("0x"+t)}function jE(t){return bV(sp(t))}function y_(t){return co(t),bV(sp(Uint8Array.from(t).reverse()))}function tO(t,e){return f_(t.toString(16).padStart(e*2,"0"))}function nO(t,e){return tO(t,e).reverse()}function xi(t,e,n){let r;if(typeof e=="string")try{r=f_(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(PE(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}const n6=t=>typeof t=="bigint"&&eO<=t;function kAe(t,e,n){return n6(t)&&n6(e)&&n6(n)&&e<=t&&t<n}function X5(t,e,n,r){if(!kAe(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function wV(t){let e;for(e=0;t>eO;t>>=Z5,e+=1);return e}const bb=t=>(Z5<<BigInt(t))-Z5;function RAe(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=m=>new Uint8Array(m),i=m=>Uint8Array.of(m);let s=r(t),a=r(t),c=0;const u=()=>{s.fill(1),a.fill(0),c=0},d=(...m)=>n(a,s,...m),h=(m=r(0))=>{a=d(i(0),m),s=d(),m.length!==0&&(a=d(i(1),m),s=d())},p=()=>{if(c++>=1e3)throw new Error("drbg: tried 1000 values");let m=0;const g=[];for(;m<e;){s=d();const b=s.slice();g.push(b),m+=s.length}return _u(...g)};return(m,g)=>{u(),h(m);let b;for(;!(b=g(p()));)h();return u(),b}}function zE(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(i,s,a){const c=t[i];if(a&&c===void 0)return;const u=typeof c;if(u!==s||c===null)throw new Error(`param "${i}" is invalid: expected ${s}, got ${u}`)}Object.entries(e).forEach(([i,s])=>r(i,s,!1)),Object.entries(n).forEach(([i,s])=>r(i,s,!0))}function w9(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}const os=BigInt(0),Ui=BigInt(1),zd=BigInt(2),vV=BigInt(3),_V=BigInt(4),EV=BigInt(5),NAe=BigInt(7),AV=BigInt(8),$Ae=BigInt(9),SV=BigInt(16);function $s(t,e){const n=t%e;return n>=os?n:e+n}function Ha(t,e,n){let r=t;for(;e-- >os;)r*=r,r%=n;return r}function v9(t,e){if(t===os)throw new Error("invert: expected non-zero number");if(e<=os)throw new Error("invert: expected positive modulus, got "+e);let n=$s(t,e),r=e,i=os,s=Ui;for(;n!==os;){const a=r/n,c=r%n,u=i-s*a;r=n,n=c,i=s,s=u}if(r!==Ui)throw new Error("invert: does not exist");return $s(i,e)}function rO(t,e,n){if(!t.eql(t.sqr(e),n))throw new Error("Cannot find square root")}function xV(t,e){const n=(t.ORDER+Ui)/_V,r=t.pow(e,n);return rO(t,r,e),r}function PAe(t,e){const n=(t.ORDER-EV)/AV,r=t.mul(e,zd),i=t.pow(r,n),s=t.mul(e,i),a=t.mul(t.mul(s,zd),i),c=t.mul(s,t.sub(a,t.ONE));return rO(t,c,e),c}function DAe(t){const e=qu(t),n=TV(t),r=n(e,e.neg(e.ONE)),i=n(e,r),s=n(e,e.neg(r)),a=(t+NAe)/SV;return(c,u)=>{let d=c.pow(u,a),h=c.mul(d,r);const p=c.mul(d,i),m=c.mul(d,s),g=c.eql(c.sqr(h),u),b=c.eql(c.sqr(p),u);d=c.cmov(d,h,g),h=c.cmov(m,p,b);const v=c.eql(c.sqr(h),u),E=c.cmov(d,h,v);return rO(c,E,u),E}}function TV(t){if(t<vV)throw new Error("sqrt is not defined for small field");let e=t-Ui,n=0;for(;e%zd===os;)e/=zd,n++;let r=zd;const i=qu(t);for(;_9(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return xV;let s=i.pow(r,e);const a=(e+Ui)/zd;return function(c,u){if(c.is0(u))return u;if(_9(c,u)!==1)throw new Error("Cannot find square root");let d=n,h=c.mul(c.ONE,s),p=c.pow(u,e),m=c.pow(u,a);for(;!c.eql(p,c.ONE);){if(c.is0(p))return c.ZERO;let g=1,b=c.sqr(p);for(;!c.eql(b,c.ONE);)if(g++,b=c.sqr(b),g===d)throw new Error("Cannot find square root");const v=Ui<<BigInt(d-g-1),E=c.pow(h,v);d=g,h=c.sqr(E),p=c.mul(p,h),m=c.mul(m,E)}return m}}function MAe(t){return t%_V===vV?xV:t%AV===EV?PAe:t%SV===$Ae?DAe(t):TV(t)}const UAe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function BAe(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=UAe.reduce((r,i)=>(r[i]="function",r),e);return zE(t,n),t}function LAe(t,e,n){if(n<os)throw new Error("invalid exponent, negatives unsupported");if(n===os)return t.ONE;if(n===Ui)return e;let r=t.ONE,i=e;for(;n>os;)n&Ui&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Ui;return r}function IV(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((a,c,u)=>t.is0(c)?a:(r[u]=a,t.mul(a,c)),t.ONE),s=t.inv(i);return e.reduceRight((a,c,u)=>t.is0(c)?a:(r[u]=t.mul(a,r[u]),t.mul(a,c)),s),r}function _9(t,e){const n=(t.ORDER-Ui)/zd,r=t.pow(e,n),i=t.eql(r,t.ONE),s=t.eql(r,t.ZERO),a=t.eql(r,t.neg(t.ONE));if(!i&&!s&&!a)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function CV(t,e){e!==void 0&&pl(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function qu(t,e,n=!1,r={}){if(t<=os)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,s,a=!1,c;if(typeof e=="object"&&e!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const m=e;m.BITS&&(i=m.BITS),m.sqrt&&(s=m.sqrt),typeof m.isLE=="boolean"&&(n=m.isLE),typeof m.modFromBytes=="boolean"&&(a=m.modFromBytes),c=m.allowedLengths}else typeof e=="number"&&(i=e),r.sqrt&&(s=r.sqrt);const{nBitLength:u,nByteLength:d}=CV(t,i);if(d>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let h;const p=Object.freeze({ORDER:t,isLE:n,BITS:u,BYTES:d,MASK:bb(u),ZERO:os,ONE:Ui,allowedLengths:c,create:m=>$s(m,t),isValid:m=>{if(typeof m!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof m);return os<=m&&m<t},is0:m=>m===os,isValidNot0:m=>!p.is0(m)&&p.isValid(m),isOdd:m=>(m&Ui)===Ui,neg:m=>$s(-m,t),eql:(m,g)=>m===g,sqr:m=>$s(m*m,t),add:(m,g)=>$s(m+g,t),sub:(m,g)=>$s(m-g,t),mul:(m,g)=>$s(m*g,t),pow:(m,g)=>LAe(p,m,g),div:(m,g)=>$s(m*v9(g,t),t),sqrN:m=>m*m,addN:(m,g)=>m+g,subN:(m,g)=>m-g,mulN:(m,g)=>m*g,inv:m=>v9(m,t),sqrt:s||(m=>(h||(h=MAe(t)),h(p,m))),toBytes:m=>n?nO(m,d):tO(m,d),fromBytes:(m,g=!0)=>{if(c){if(!c.includes(m.length)||m.length>d)throw new Error("Field.fromBytes: expected "+c+" bytes, got "+m.length);const v=new Uint8Array(d);v.set(m,n?0:v.length-m.length),m=v}if(m.length!==d)throw new Error("Field.fromBytes: expected "+d+" bytes, got "+m.length);let b=n?y_(m):jE(m);if(a&&(b=$s(b,t)),!g&&!p.isValid(b))throw new Error("invalid field element: outside of range 0..ORDER");return b},invertBatch:m=>IV(p,m),cmov:(m,g,b)=>b?g:m});return Object.freeze(p)}function OV(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function kV(t){const e=OV(t);return e+Math.ceil(e/2)}function jAe(t,e,n=!1){const r=t.length,i=OV(e),s=kV(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const a=n?y_(t):jE(t),c=$s(a,e-Ui)+Ui;return n?nO(c,i):tO(c,i)}const Np=BigInt(0),Fd=BigInt(1);function m_(t,e){const n=e.negate();return t?n:e}function r6(t,e){const n=IV(t.Fp,e.map(r=>r.Z));return e.map((r,i)=>t.fromAffine(r.toAffine(n[i])))}function RV(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function i6(t,e){RV(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,s=bb(t),a=BigInt(t);return{windows:n,windowSize:r,mask:s,maxNumber:i,shiftBy:a}}function E9(t,e,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:a}=n;let c=Number(t&i),u=t>>a;c>r&&(c-=s,u+=Fd);const d=e*r,h=d+Math.abs(c)-1,p=c===0,m=c<0,g=e%2!==0;return{nextN:u,offset:h,isZero:p,isNeg:m,isNegF:g,offsetF:d}}function zAe(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function FAe(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const s6=new WeakMap,NV=new WeakMap;function a6(t){return NV.get(t)||1}function A9(t){if(t!==Np)throw new Error("invalid wNAF")}class qAe{constructor(e,n){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=n}_unsafeLadder(e,n,r=this.ZERO){let i=e;for(;n>Np;)n&Fd&&(r=r.add(i)),i=i.double(),n>>=Fd;return r}precomputeWindow(e,n){const{windows:r,windowSize:i}=i6(n,this.bits),s=[];let a=e,c=a;for(let u=0;u<r;u++){c=a,s.push(c);for(let d=1;d<i;d++)c=c.add(a),s.push(c);a=c.double()}return s}wNAF(e,n,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let i=this.ZERO,s=this.BASE;const a=i6(e,this.bits);for(let c=0;c<a.windows;c++){const{nextN:u,offset:d,isZero:h,isNeg:p,isNegF:m,offsetF:g}=E9(r,c,a);r=u,h?s=s.add(m_(m,n[g])):i=i.add(m_(p,n[d]))}return A9(r),{p:i,f:s}}wNAFUnsafe(e,n,r,i=this.ZERO){const s=i6(e,this.bits);for(let a=0;a<s.windows&&r!==Np;a++){const{nextN:c,offset:u,isZero:d,isNeg:h}=E9(r,a,s);if(r=c,!d){const p=n[u];i=i.add(h?p.negate():p)}}return A9(r),i}getPrecomputes(e,n,r){let i=s6.get(n);return i||(i=this.precomputeWindow(n,e),e!==1&&(typeof r=="function"&&(i=r(i)),s6.set(n,i))),i}cached(e,n,r){const i=a6(e);return this.wNAF(i,this.getPrecomputes(i,e,r),n)}unsafe(e,n,r,i){const s=a6(e);return s===1?this._unsafeLadder(e,n,i):this.wNAFUnsafe(s,this.getPrecomputes(s,e,r),n,i)}createCache(e,n){RV(n,this.bits),NV.set(e,n),s6.delete(e)}hasCache(e){return a6(e)!==1}}function WAe(t,e,n,r){let i=e,s=t.ZERO,a=t.ZERO;for(;n>Np||r>Np;)n&Fd&&(s=s.add(i)),r&Fd&&(a=a.add(i)),i=i.double(),n>>=Fd,r>>=Fd;return{p1:s,p2:a}}function VAe(t,e,n,r){zAe(n,t),FAe(r,e);const i=n.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const a=t.ZERO,c=wV(BigInt(i));let u=1;c>12?u=c-3:c>4?u=c-2:c>0&&(u=2);const d=bb(u),h=new Array(Number(d)+1).fill(a),p=Math.floor((e.BITS-1)/u)*u;let m=a;for(let g=p;g>=0;g-=u){h.fill(a);for(let v=0;v<s;v++){const E=r[v],O=Number(E>>BigInt(g)&d);h[O]=h[O].add(n[v])}let b=a;for(let v=h.length-1,E=a;v>0;v--)E=E.add(h[v]),b=b.add(E);if(m=m.add(b),g!==0)for(let v=0;v<u;v++)m=m.double()}return m}function S9(t,e,n){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return BAe(e),e}else return qu(t,{isLE:n})}function HAe(t,e,n={},r){if(r===void 0&&(r=t==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const c of["p","n","h"]){const u=e[c];if(!(typeof u=="bigint"&&u>Np))throw new Error(`CURVE.${c} must be positive bigint`)}const i=S9(e.p,n.Fp,r),s=S9(e.n,n.Fn,r),a=["Gx","Gy","a","b"];for(const c of a)if(!i.isValid(e[c]))throw new Error(`CURVE.${c} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:i,Fn:s}}BigInt(0),BigInt(1),BigInt(2),BigInt(8),nV("HashToScalar-");const hm=BigInt(0),Th=BigInt(1),Sv=BigInt(2);function GAe(t){return zE(t,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...t})}function KAe(t){const e=GAe(t),{P:n,type:r,adjustScalarBytes:i,powPminus2:s,randomBytes:a}=e,c=r==="x25519";if(!c&&r!=="x448")throw new Error("invalid type");const u=a||Tf,d=c?255:448,h=c?32:56,p=BigInt(c?9:5),m=BigInt(c?121665:39081),g=c?Sv**BigInt(254):Sv**BigInt(447),b=c?BigInt(8)*Sv**BigInt(251)-Th:BigInt(4)*Sv**BigInt(445)-Th,v=g+b+Th,E=D=>$s(D,n),O=k(p);function k(D){return nO(E(D),h)}function S(D){const F=xi("u coordinate",D,h);return c&&(F[31]&=127),E(y_(F))}function A(D){return y_(i(xi("scalar",D,h)))}function C(D,F){const K=z(S(F),A(D));if(K===hm)throw new Error("invalid private or public key received");return k(K)}function I(D){return C(D,O)}function $(D,F,K){const T=E(D*(F-K));return F=E(F-T),K=E(K+T),{x_2:F,x_3:K}}function z(D,F){X5("u",D,hm,n),X5("scalar",F,g,v);const K=F,T=D;let x=Th,N=hm,j=D,P=Th,H=hm;for(let G=BigInt(d-1);G>=hm;G--){const J=K>>G&Th;H^=J,{x_2:x,x_3:j}=$(H,x,j),{x_2:N,x_3:P}=$(H,N,P),H=J;const X=x+N,Q=E(X*X),ge=x-N,we=E(ge*ge),Te=Q-we,Ee=j+P,Pe=j-P,qe=E(Pe*X),rt=E(Ee*ge),ye=qe+rt,Tt=qe-rt;j=E(ye*ye),P=E(T*E(Tt*Tt)),x=E(Q*we),N=E(Te*(Q+E(m*Te)))}({x_2:x,x_3:j}=$(H,x,j)),{x_2:N,x_3:P}=$(H,N,P);const M=s(N);return E(x*M)}const L={secretKey:h,publicKey:h,seed:h},B=(D=u(h))=>(co(D,L.seed),D);function V(D){const F=B(D);return{secretKey:F,publicKey:I(F)}}return{keygen:V,getSharedSecret:(D,F)=>C(D,F),getPublicKey:D=>I(D),scalarMult:C,scalarMultBase:I,utils:{randomSecretKey:B,randomPrivateKey:B},GuBytes:O.slice(),lengths:L}}const YAe=BigInt(1),x9=BigInt(2),ZAe=BigInt(3),XAe=BigInt(5);BigInt(8);const $V=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),JAe={p:$V,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function QAe(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=$V,a=t*t%s*t%s,c=Ha(a,x9,s)*a%s,u=Ha(c,YAe,s)*t%s,d=Ha(u,XAe,s)*u%s,h=Ha(d,e,s)*d%s,p=Ha(h,n,s)*h%s,m=Ha(p,r,s)*p%s,g=Ha(m,i,s)*m%s,b=Ha(g,i,s)*m%s,v=Ha(b,e,s)*d%s;return{pow_p_5_8:Ha(v,x9,s)*t%s,b2:a}}function eSe(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const tSe=qu(JAe.p,{isLE:!0}),J5=(()=>{const t=tSe.ORDER;return KAe({P:t,type:"x25519",powPminus2:e=>{const{pow_p_5_8:n,b2:r}=QAe(e);return $s(Ha(n,ZAe,t)*r,t)},adjustScalarBytes:eSe})})(),T9=(t,e)=>(t+(t>=0?e:-e)/PV)/e;function nSe(t,e,n){const[[r,i],[s,a]]=e,c=T9(a*t,n),u=T9(-i*t,n);let d=t-c*r-u*s,h=-c*i-u*a;const p=d<Jc,m=h<Jc;p&&(d=-d),m&&(h=-h);const g=bb(Math.ceil(wV(n)/2))+ap;if(d<Jc||d>=g||h<Jc||h>=g)throw new Error("splitScalar (endomorphism): failed, k="+t);return{k1neg:p,k1:d,k2neg:m,k2:h}}function Q5(t){if(!["compact","recovered","der"].includes(t))throw new Error('Signature format must be "compact", "recovered", or "der"');return t}function o6(t,e){const n={};for(let r of Object.keys(e))n[r]=t[r]===void 0?e[r]:t[r];return p_(n.lowS,"lowS"),p_(n.prehash,"prehash"),n.format!==void 0&&Q5(n.format),n}class rSe extends Error{constructor(e=""){super(e)}}const Hc={Err:rSe,_tlv:{encode:(t,e)=>{const{Err:n}=Hc;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=Av(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?Av(i.length/2|128):"";return Av(t)+s+i+e},decode(t,e){const{Err:n}=Hc;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let a=0;if(!s)a=i;else{const u=i&127;if(!u)throw new n("tlv.decode(long): indefinite length not supported");if(u>4)throw new n("tlv.decode(long): byte length is too big");const d=e.subarray(r,r+u);if(d.length!==u)throw new n("tlv.decode: length bytes not complete");if(d[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const h of d)a=a<<8|h;if(r+=u,a<128)throw new n("tlv.decode(long): not minimal encoding")}const c=e.subarray(r,r+a);if(c.length!==a)throw new n("tlv.decode: wrong value length");return{v:c,l:e.subarray(r+a)}}},_int:{encode(t){const{Err:e}=Hc;if(t<Jc)throw new e("integer: negative integers are not allowed");let n=Av(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=Hc;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return jE(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=Hc,i=xi("signature",t),{v:s,l:a}=r.decode(48,i);if(a.length)throw new e("invalid signature: left bytes after parsing");const{v:c,l:u}=r.decode(2,s),{v:d,l:h}=r.decode(2,u);if(h.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(c),s:n.decode(d)}},hexFromSig(t){const{_tlv:e,_int:n}=Hc,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}},Jc=BigInt(0),ap=BigInt(1),PV=BigInt(2),xv=BigInt(3),iSe=BigInt(4);function Wh(t,e){const{BYTES:n}=t;let r;if(typeof e=="bigint")r=e;else{let i=xi("private key",e);try{r=t.fromBytes(i)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof e}`)}}if(!t.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function sSe(t,e={}){const n=HAe("weierstrass",t,e),{Fp:r,Fn:i}=n;let s=n.CURVE;const{h:a,n:c}=s;zE(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:u}=e;if(u&&(!r.is0(s.a)||typeof u.beta!="bigint"||!Array.isArray(u.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const d=MV(r,i);function h(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function p(D,F,K){const{x:T,y:x}=F.toAffine(),N=r.toBytes(T);if(p_(K,"isCompressed"),K){h();const j=!r.isOdd(x);return _u(DV(j),N)}else return _u(Uint8Array.of(4),N,r.toBytes(x))}function m(D){jd(D,void 0,"Point");const{publicKey:F,publicKeyUncompressed:K}=d,T=D.length,x=D[0],N=D.subarray(1);if(T===F&&(x===2||x===3)){const j=r.fromBytes(N);if(!r.isValid(j))throw new Error("bad point: is not on curve, wrong x");const P=v(j);let H;try{H=r.sqrt(P)}catch(G){const J=G instanceof Error?": "+G.message:"";throw new Error("bad point: is not on curve, sqrt error"+J)}h();const M=r.isOdd(H);return(x&1)===1!==M&&(H=r.neg(H)),{x:j,y:H}}else if(T===K&&x===4){const j=r.BYTES,P=r.fromBytes(N.subarray(0,j)),H=r.fromBytes(N.subarray(j,j*2));if(!E(P,H))throw new Error("bad point: is not on curve");return{x:P,y:H}}else throw new Error(`bad point: got length ${T}, expected compressed=${F} or uncompressed=${K}`)}const g=e.toBytes||p,b=e.fromBytes||m;function v(D){const F=r.sqr(D),K=r.mul(F,D);return r.add(r.add(K,r.mul(D,s.a)),s.b)}function E(D,F){const K=r.sqr(F),T=v(D);return r.eql(K,T)}if(!E(s.Gx,s.Gy))throw new Error("bad curve params: generator point");const O=r.mul(r.pow(s.a,xv),iSe),k=r.mul(r.sqr(s.b),BigInt(27));if(r.is0(r.add(O,k)))throw new Error("bad curve params: a or b");function S(D,F,K=!1){if(!r.isValid(F)||K&&r.is0(F))throw new Error(`bad point coordinate ${D}`);return F}function A(D){if(!(D instanceof L))throw new Error("ProjectivePoint expected")}function C(D){if(!u||!u.basises)throw new Error("no endo");return nSe(D,u.basises,i.ORDER)}const I=w9((D,F)=>{const{X:K,Y:T,Z:x}=D;if(r.eql(x,r.ONE))return{x:K,y:T};const N=D.is0();F==null&&(F=N?r.ONE:r.inv(x));const j=r.mul(K,F),P=r.mul(T,F),H=r.mul(x,F);if(N)return{x:r.ZERO,y:r.ZERO};if(!r.eql(H,r.ONE))throw new Error("invZ was invalid");return{x:j,y:P}}),$=w9(D=>{if(D.is0()){if(e.allowInfinityPoint&&!r.is0(D.Y))return;throw new Error("bad point: ZERO")}const{x:F,y:K}=D.toAffine();if(!r.isValid(F)||!r.isValid(K))throw new Error("bad point: x or y not field elements");if(!E(F,K))throw new Error("bad point: equation left != right");if(!D.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function z(D,F,K,T,x){return K=new L(r.mul(K.X,D),K.Y,K.Z),F=m_(T,F),K=m_(x,K),F.add(K)}class L{constructor(F,K,T){this.X=S("x",F),this.Y=S("y",K,!0),this.Z=S("z",T),Object.freeze(this)}static CURVE(){return s}static fromAffine(F){const{x:K,y:T}=F||{};if(!F||!r.isValid(K)||!r.isValid(T))throw new Error("invalid affine point");if(F instanceof L)throw new Error("projective point not allowed");return r.is0(K)&&r.is0(T)?L.ZERO:new L(K,T,r.ONE)}static fromBytes(F){const K=L.fromAffine(b(jd(F,void 0,"point")));return K.assertValidity(),K}static fromHex(F){return L.fromBytes(xi("pointHex",F))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(F=8,K=!0){return V.createCache(this,F),K||this.multiply(xv),this}assertValidity(){$(this)}hasEvenY(){const{y:F}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(F)}equals(F){A(F);const{X:K,Y:T,Z:x}=this,{X:N,Y:j,Z:P}=F,H=r.eql(r.mul(K,P),r.mul(N,x)),M=r.eql(r.mul(T,P),r.mul(j,x));return H&&M}negate(){return new L(this.X,r.neg(this.Y),this.Z)}double(){const{a:F,b:K}=s,T=r.mul(K,xv),{X:x,Y:N,Z:j}=this;let P=r.ZERO,H=r.ZERO,M=r.ZERO,G=r.mul(x,x),J=r.mul(N,N),X=r.mul(j,j),Q=r.mul(x,N);return Q=r.add(Q,Q),M=r.mul(x,j),M=r.add(M,M),P=r.mul(F,M),H=r.mul(T,X),H=r.add(P,H),P=r.sub(J,H),H=r.add(J,H),H=r.mul(P,H),P=r.mul(Q,P),M=r.mul(T,M),X=r.mul(F,X),Q=r.sub(G,X),Q=r.mul(F,Q),Q=r.add(Q,M),M=r.add(G,G),G=r.add(M,G),G=r.add(G,X),G=r.mul(G,Q),H=r.add(H,G),X=r.mul(N,j),X=r.add(X,X),G=r.mul(X,Q),P=r.sub(P,G),M=r.mul(X,J),M=r.add(M,M),M=r.add(M,M),new L(P,H,M)}add(F){A(F);const{X:K,Y:T,Z:x}=this,{X:N,Y:j,Z:P}=F;let H=r.ZERO,M=r.ZERO,G=r.ZERO;const J=s.a,X=r.mul(s.b,xv);let Q=r.mul(K,N),ge=r.mul(T,j),we=r.mul(x,P),Te=r.add(K,T),Ee=r.add(N,j);Te=r.mul(Te,Ee),Ee=r.add(Q,ge),Te=r.sub(Te,Ee),Ee=r.add(K,x);let Pe=r.add(N,P);return Ee=r.mul(Ee,Pe),Pe=r.add(Q,we),Ee=r.sub(Ee,Pe),Pe=r.add(T,x),H=r.add(j,P),Pe=r.mul(Pe,H),H=r.add(ge,we),Pe=r.sub(Pe,H),G=r.mul(J,Ee),H=r.mul(X,we),G=r.add(H,G),H=r.sub(ge,G),G=r.add(ge,G),M=r.mul(H,G),ge=r.add(Q,Q),ge=r.add(ge,Q),we=r.mul(J,we),Ee=r.mul(X,Ee),ge=r.add(ge,we),we=r.sub(Q,we),we=r.mul(J,we),Ee=r.add(Ee,we),Q=r.mul(ge,Ee),M=r.add(M,Q),Q=r.mul(Pe,Ee),H=r.mul(Te,H),H=r.sub(H,Q),Q=r.mul(Te,ge),G=r.mul(Pe,G),G=r.add(G,Q),new L(H,M,G)}subtract(F){return this.add(F.negate())}is0(){return this.equals(L.ZERO)}multiply(F){const{endo:K}=e;if(!i.isValidNot0(F))throw new Error("invalid scalar: out of range");let T,x;const N=j=>V.cached(this,j,P=>r6(L,P));if(K){const{k1neg:j,k1:P,k2neg:H,k2:M}=C(F),{p:G,f:J}=N(P),{p:X,f:Q}=N(M);x=J.add(Q),T=z(K.beta,G,X,j,H)}else{const{p:j,f:P}=N(F);T=j,x=P}return r6(L,[T,x])[0]}multiplyUnsafe(F){const{endo:K}=e,T=this;if(!i.isValid(F))throw new Error("invalid scalar: out of range");if(F===Jc||T.is0())return L.ZERO;if(F===ap)return T;if(V.hasCache(this))return this.multiply(F);if(K){const{k1neg:x,k1:N,k2neg:j,k2:P}=C(F),{p1:H,p2:M}=WAe(L,T,N,P);return z(K.beta,H,M,x,j)}else return V.unsafe(T,F)}multiplyAndAddUnsafe(F,K,T){const x=this.multiplyUnsafe(K).add(F.multiplyUnsafe(T));return x.is0()?void 0:x}toAffine(F){return I(this,F)}isTorsionFree(){const{isTorsionFree:F}=e;return a===ap?!0:F?F(L,this):V.unsafe(this,c).is0()}clearCofactor(){const{clearCofactor:F}=e;return a===ap?this:F?F(L,this):this.multiplyUnsafe(a)}isSmallOrder(){return this.multiplyUnsafe(a).is0()}toBytes(F=!0){return p_(F,"isCompressed"),this.assertValidity(),g(L,this,F)}toHex(F=!0){return sp(this.toBytes(F))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(F=!0){return this.toBytes(F)}_setWindowSize(F){this.precompute(F)}static normalizeZ(F){return r6(L,F)}static msm(F,K){return VAe(L,i,F,K)}static fromPrivateKey(F){return L.BASE.multiply(Wh(i,F))}}L.BASE=new L(s.Gx,s.Gy,r.ONE),L.ZERO=new L(r.ZERO,r.ONE,r.ZERO),L.Fp=r,L.Fn=i;const B=i.BITS,V=new qAe(L,e.endo?Math.ceil(B/2):B);return L.BASE.precompute(8),L}function DV(t){return Uint8Array.of(t?2:3)}function MV(t,e){return{secretKey:e.BYTES,publicKey:1+t.BYTES,publicKeyUncompressed:1+2*t.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function aSe(t,e={}){const{Fn:n}=t,r=e.randomBytes||Tf,i=Object.assign(MV(t.Fp,n),{seed:kV(n.ORDER)});function s(m){try{return!!Wh(n,m)}catch{return!1}}function a(m,g){const{publicKey:b,publicKeyUncompressed:v}=i;try{const E=m.length;return g===!0&&E!==b||g===!1&&E!==v?!1:!!t.fromBytes(m)}catch{return!1}}function c(m=r(i.seed)){return jAe(jd(m,i.seed,"seed"),n.ORDER)}function u(m,g=!0){return t.BASE.multiply(Wh(n,m)).toBytes(g)}function d(m){const g=c(m);return{secretKey:g,publicKey:u(g)}}function h(m){if(typeof m=="bigint")return!1;if(m instanceof t)return!0;const{secretKey:g,publicKey:b,publicKeyUncompressed:v}=i;if(n.allowedLengths||g===b)return;const E=xi("key",m).length;return E===b||E===v}function p(m,g,b=!0){if(h(m)===!0)throw new Error("first arg must be private key");if(h(g)===!1)throw new Error("second arg must be public key");const v=Wh(n,m);return t.fromHex(g).multiply(v).toBytes(b)}return Object.freeze({getPublicKey:u,getSharedSecret:p,keygen:d,Point:t,utils:{isValidSecretKey:s,isValidPublicKey:a,randomSecretKey:c,isValidPrivateKey:s,randomPrivateKey:c,normPrivateKeyToScalar:m=>Wh(n,m),precompute(m=8,g=t.BASE){return g.precompute(m,!1)}},lengths:i})}function oSe(t,e,n={}){DE(e),zE(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=n.randomBytes||Tf,i=n.hmac||((K,...T)=>BE(e,K,_u(...T))),{Fp:s,Fn:a}=t,{ORDER:c,BITS:u}=a,{keygen:d,getPublicKey:h,getSharedSecret:p,utils:m,lengths:g}=aSe(t,n),b={prehash:!1,lowS:typeof n.lowS=="boolean"?n.lowS:!1,format:void 0,extraEntropy:!1},v="compact";function E(K){const T=c>>ap;return K>T}function O(K,T){if(!a.isValidNot0(T))throw new Error(`invalid signature ${K}: out of range 1..Point.Fn.ORDER`);return T}function k(K,T){Q5(T);const x=g.signature,N=T==="compact"?x:T==="recovered"?x+1:void 0;return jd(K,N,`${T} signature`)}class S{constructor(T,x,N){this.r=O("r",T),this.s=O("s",x),N!=null&&(this.recovery=N),Object.freeze(this)}static fromBytes(T,x=v){k(T,x);let N;if(x==="der"){const{r:M,s:G}=Hc.toSig(jd(T));return new S(M,G)}x==="recovered"&&(N=T[0],x="compact",T=T.subarray(1));const j=a.BYTES,P=T.subarray(0,j),H=T.subarray(j,j*2);return new S(a.fromBytes(P),a.fromBytes(H),N)}static fromHex(T,x){return this.fromBytes(f_(T),x)}addRecoveryBit(T){return new S(this.r,this.s,T)}recoverPublicKey(T){const x=s.ORDER,{r:N,s:j,recovery:P}=this;if(P==null||![0,1,2,3].includes(P))throw new Error("recovery id invalid");if(c*PV<x&&P>1)throw new Error("recovery id is ambiguous for h>1 curve");const H=P===2||P===3?N+c:N;if(!s.isValid(H))throw new Error("recovery id 2 or 3 invalid");const M=s.toBytes(H),G=t.fromBytes(_u(DV((P&1)===0),M)),J=a.inv(H),X=C(xi("msgHash",T)),Q=a.create(-X*J),ge=a.create(j*J),we=t.BASE.multiplyUnsafe(Q).add(G.multiplyUnsafe(ge));if(we.is0())throw new Error("point at infinify");return we.assertValidity(),we}hasHighS(){return E(this.s)}toBytes(T=v){if(Q5(T),T==="der")return f_(Hc.hexFromSig(this));const x=a.toBytes(this.r),N=a.toBytes(this.s);if(T==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return _u(Uint8Array.of(this.recovery),x,N)}return _u(x,N)}toHex(T){return sp(this.toBytes(T))}assertValidity(){}static fromCompact(T){return S.fromBytes(xi("sig",T),"compact")}static fromDER(T){return S.fromBytes(xi("sig",T),"der")}normalizeS(){return this.hasHighS()?new S(this.r,a.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return sp(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return sp(this.toBytes("compact"))}}const A=n.bits2int||function(K){if(K.length>8192)throw new Error("input is too large");const T=jE(K),x=K.length*8-u;return x>0?T>>BigInt(x):T},C=n.bits2int_modN||function(K){return a.create(A(K))},I=bb(u);function $(K){return X5("num < 2^"+u,K,Jc,I),a.toBytes(K)}function z(K,T){return jd(K,void 0,"message"),T?jd(e(K),void 0,"prehashed message"):K}function L(K,T,x){if(["recovered","canonical"].some(ge=>ge in x))throw new Error("sign() legacy options not supported");const{lowS:N,prehash:j,extraEntropy:P}=o6(x,b);K=z(K,j);const H=C(K),M=Wh(a,T),G=[$(M),$(H)];if(P!=null&&P!==!1){const ge=P===!0?r(g.secretKey):P;G.push(xi("extraEntropy",ge))}const J=_u(...G),X=H;function Q(ge){const we=A(ge);if(!a.isValidNot0(we))return;const Te=a.inv(we),Ee=t.BASE.multiply(we).toAffine(),Pe=a.create(Ee.x);if(Pe===Jc)return;const qe=a.create(Te*a.create(X+Pe*M));if(qe===Jc)return;let rt=(Ee.x===Pe?0:2)|Number(Ee.y&ap),ye=qe;return N&&E(qe)&&(ye=a.neg(qe),rt^=1),new S(Pe,ye,rt)}return{seed:J,k2sig:Q}}function B(K,T,x={}){K=xi("message",K);const{seed:N,k2sig:j}=L(K,T,x);return RAe(e.outputLen,a.BYTES,i)(N,j)}function V(K){let T;const x=typeof K=="string"||PE(K),N=!x&&K!==null&&typeof K=="object"&&typeof K.r=="bigint"&&typeof K.s=="bigint";if(!x&&!N)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(N)T=new S(K.r,K.s);else if(x){try{T=S.fromBytes(xi("sig",K),"der")}catch(j){if(!(j instanceof Hc.Err))throw j}if(!T)try{T=S.fromBytes(xi("sig",K),"compact")}catch{return!1}}return T||!1}function D(K,T,x,N={}){const{lowS:j,prehash:P,format:H}=o6(N,b);if(x=xi("publicKey",x),T=z(xi("message",T),P),"strict"in N)throw new Error("options.strict was renamed to lowS");const M=H===void 0?V(K):S.fromBytes(xi("sig",K),H);if(M===!1)return!1;try{const G=t.fromBytes(x);if(j&&M.hasHighS())return!1;const{r:J,s:X}=M,Q=C(T),ge=a.inv(X),we=a.create(Q*ge),Te=a.create(J*ge),Ee=t.BASE.multiplyUnsafe(we).add(G.multiplyUnsafe(Te));return Ee.is0()?!1:a.create(Ee.x)===J}catch{return!1}}function F(K,T,x={}){const{prehash:N}=o6(x,b);return T=z(T,N),S.fromBytes(K,"recovered").recoverPublicKey(T).toBytes()}return Object.freeze({keygen:d,getPublicKey:h,getSharedSecret:p,utils:m,lengths:g,Point:t,sign:B,verify:D,recoverPublicKey:F,Signature:S,hash:e})}function cSe(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp;let r=t.allowedPrivateKeyLengths?Array.from(new Set(t.allowedPrivateKeyLengths.map(a=>Math.ceil(a/2)))):void 0;const i=qu(e.n,{BITS:t.nBitLength,allowedLengths:r,modFromBytes:t.wrapPrivateKey}),s={Fp:n,Fn:i,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:s}}function lSe(t){const{CURVE:e,curveOpts:n}=cSe(t),r={hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,hash:t.hash,ecdsaOpts:r}}function uSe(t,e){const n=e.Point;return Object.assign({},e,{ProjectivePoint:n,CURVE:Object.assign({},t,CV(n.Fn.ORDER,n.Fn.BITS))})}function dSe(t){const{CURVE:e,curveOpts:n,hash:r,ecdsaOpts:i}=lSe(t),s=sSe(e,n),a=oSe(s,r,i);return uSe(t,a)}function e3(t,e){const n=r=>dSe({...t,hash:r});return{...n(e),create:n}}const UV={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},BV={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},LV={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},fSe=qu(UV.p),hSe=qu(BV.p),pSe=qu(LV.p),ySe=e3({...UV,Fp:fSe,lowS:!1},UE);e3({...BV,Fp:hSe,lowS:!1},E2e),e3({...LV,Fp:pSe,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},_2e);const mSe=ySe,jV="base10",Bi="base16",is="base64pad",Eu="base64url",wb="utf8",zV=0,sl=1,vb=2,gSe=0,I9=1,Dg=12,iO=32;function bSe(){const t=J5.utils.randomPrivateKey(),e=J5.getPublicKey(t);return{privateKey:us(t,Bi),publicKey:us(e,Bi)}}function t3(){const t=Tf(iO);return us(t,Bi)}function wSe(t,e){const n=J5.getSharedSecret(ba(t,Bi),ba(e,Bi)),r=OAe(LE,n,void 0,void 0,iO);return us(r,Bi)}function n1(t){const e=LE(ba(t,Bi));return us(e,Bi)}function ya(t){const e=LE(ba(t,wb));return us(e,Bi)}function FV(t){return ba(`${t}`,jV)}function mf(t){return Number(us(t,jV))}function qV(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function WV(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=(4-e.length%4)%4;return e+"=".repeat(n)}function vSe(t){const e=FV(typeof t.type<"u"?t.type:zV);if(mf(e)===sl&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof t.senderPublicKey<"u"?ba(t.senderPublicKey,Bi):void 0,r=typeof t.iv<"u"?ba(t.iv,Bi):Tf(Dg),i=ba(t.symKey,Bi),s=mV(i,r).encrypt(ba(t.message,wb)),a=VV({type:e,sealed:s,iv:r,senderPublicKey:n});return t.encoding===Eu?qV(a):a}function _Se(t){const e=ba(t.symKey,Bi),{sealed:n,iv:r}=I0({encoded:t.encoded,encoding:t.encoding}),i=mV(e,r).decrypt(n);if(i===null)throw new Error("Failed to decrypt");return us(i,wb)}function ESe(t,e){const n=FV(vb),r=Tf(Dg),i=ba(t,wb),s=VV({type:n,sealed:i,iv:r});return e===Eu?qV(s):s}function ASe(t,e){const{sealed:n}=I0({encoded:t,encoding:e});return us(n,wb)}function VV(t){if(mf(t.type)===vb)return us(Pg([t.type,t.sealed]),is);if(mf(t.type)===sl){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return us(Pg([t.type,t.senderPublicKey,t.iv,t.sealed]),is)}return us(Pg([t.type,t.iv,t.sealed]),is)}function I0(t){const e=(t.encoding||is)===Eu?WV(t.encoded):t.encoded,n=ba(e,is),r=n.slice(gSe,I9),i=I9;if(mf(r)===sl){const u=i+iO,d=u+Dg,h=n.slice(i,u),p=n.slice(u,d),m=n.slice(d);return{type:r,sealed:m,iv:p,senderPublicKey:h}}if(mf(r)===vb){const u=n.slice(i),d=Tf(Dg);return{type:r,sealed:u,iv:d}}const s=i+Dg,a=n.slice(i,s),c=n.slice(s);return{type:r,sealed:c,iv:a}}function SSe(t,e){const n=I0({encoded:t,encoding:e?.encoding});return HV({type:mf(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?us(n.senderPublicKey,Bi):void 0,receiverPublicKey:e?.receiverPublicKey})}function HV(t){const e=t?.type||zV;if(e===sl){if(typeof t?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof t?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t?.senderPublicKey,receiverPublicKey:t?.receiverPublicKey}}function C9(t){return t.type===sl&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function O9(t){return t.type===vb}function xSe(t){const e=Buffer.from(t.x,"base64"),n=Buffer.from(t.y,"base64");return Pg([new Uint8Array([4]),e,n])}function TSe(t,e){const[n,r,i]=t.split("."),s=Buffer.from(WV(i),"base64");if(s.length!==64)throw new Error("Invalid signature length");const a=s.slice(0,32),c=s.slice(32,64),u=`${n}.${r}`,d=LE(u),h=xSe(e);if(!mSe.verify(Pg([a,c]),d,h))throw new Error("Invalid signature");return z5(t).payload}const ISe="irn";function g_(t){return t?.relay||{protocol:ISe}}function Vh(t){const e=U_e[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}var CSe=Object.defineProperty,OSe=Object.defineProperties,kSe=Object.getOwnPropertyDescriptors,k9=Object.getOwnPropertySymbols,RSe=Object.prototype.hasOwnProperty,NSe=Object.prototype.propertyIsEnumerable,R9=(t,e,n)=>e in t?CSe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,c6=(t,e)=>{for(var n in e||(e={}))RSe.call(e,n)&&R9(t,n,e[n]);if(k9)for(var n of k9(e))NSe.call(e,n)&&R9(t,n,e[n]);return t},$Se=(t,e)=>OSe(t,kSe(e));function PSe(t,e="-"){const n={},r="relay"+e;return Object.keys(t).forEach(i=>{if(i.startsWith(r)){const s=i.replace(r,""),a=t[i];n[s]=a}}),n}function N9(t){if(!t.includes("wc:")){const d=ZW(t);d!=null&&d.includes("wc:")&&(t=d)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),n=t.indexOf("?")!==-1?t.indexOf("?"):void 0,r=t.substring(0,e),i=t.substring(e+1,n).split("@"),s=typeof n<"u"?t.substring(n):"",a=new URLSearchParams(s),c=Object.fromEntries(a.entries()),u=typeof c.methods=="string"?c.methods.split(","):void 0;return{protocol:r,topic:DSe(i[0]),version:parseInt(i[1],10),symKey:c.symKey,relay:PSe(c),methods:u,expiryTimestamp:c.expiryTimestamp?parseInt(c.expiryTimestamp,10):void 0}}function DSe(t){return t.startsWith("//")?t.substring(2):t}function MSe(t,e="-"){const n="relay",r={};return Object.keys(t).forEach(i=>{const s=i,a=n+e+s;t[s]&&(r[a]=t[s])}),r}function $9(t){const e=new URLSearchParams,n=c6(c6($Se(c6({},MSe(t.relay)),{symKey:t.symKey}),t.expiryTimestamp&&{expiryTimestamp:t.expiryTimestamp.toString()}),t.methods&&{methods:t.methods.join(",")});return Object.entries(n).sort(([r],[i])=>r.localeCompare(i)).forEach(([r,i])=>{i!==void 0&&e.append(r,String(i))}),`${t.protocol}:${t.topic}@${t.version}?${e}`}function Tv(t,e,n){return`${t}?wc_ev=${n}&topic=${e}`}var USe=Object.defineProperty,BSe=Object.defineProperties,LSe=Object.getOwnPropertyDescriptors,P9=Object.getOwnPropertySymbols,jSe=Object.prototype.hasOwnProperty,zSe=Object.prototype.propertyIsEnumerable,D9=(t,e,n)=>e in t?USe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,FSe=(t,e)=>{for(var n in e||(e={}))jSe.call(e,n)&&D9(t,n,e[n]);if(P9)for(var n of P9(e))zSe.call(e,n)&&D9(t,n,e[n]);return t},qSe=(t,e)=>BSe(t,LSe(e));function Yp(t){const e=[];return t.forEach(n=>{const[r,i]=n.split(":");e.push(`${r}:${i}`)}),e}function WSe(t){const e=[];return Object.values(t).forEach(n=>{e.push(...Yp(n.accounts))}),e}function VSe(t,e){const n=[];return Object.values(t).forEach(r=>{Yp(r.accounts).includes(e)&&n.push(...r.methods)}),n}function HSe(t,e){const n=[];return Object.values(t).forEach(r=>{Yp(r.accounts).includes(e)&&n.push(...r.events)}),n}function FE(t){return t.includes(":")}function Hh(t){return FE(t)?t.split(":")[0]:t}function M9(t){var e,n,r;const i={};if(!Fo(t))return i;for(const[s,a]of Object.entries(t)){const c=FE(s)?[s]:a.chains,u=a.methods||[],d=a.events||[],h=Hh(s);i[h]=qSe(FSe({},i[h]),{chains:zo(c,(e=i[h])==null?void 0:e.chains),methods:zo(u,(n=i[h])==null?void 0:n.methods),events:zo(d,(r=i[h])==null?void 0:r.events)})}return i}function GSe(t){const e={};return t?.forEach(n=>{var r;const[i,s]=n.split(":");e[i]||(e[i]={accounts:[],chains:[],events:[],methods:[]}),e[i].accounts.push(n),(r=e[i].chains)==null||r.push(`${i}:${s}`)}),e}function U9(t,e){e=e.map(r=>r.replace("did:pkh:",""));const n=GSe(e);for(const[r,i]of Object.entries(n))i.methods?i.methods=zo(i.methods,t):i.methods=t,i.events=["chainChanged","accountsChanged"];return n}function KSe(t,e){var n,r,i,s,a,c;const u=M9(t),d=M9(e),h={},p=Object.keys(u).concat(Object.keys(d));for(const m of p)h[m]={chains:zo((n=u[m])==null?void 0:n.chains,(r=d[m])==null?void 0:r.chains),methods:zo((i=u[m])==null?void 0:i.methods,(s=d[m])==null?void 0:s.methods),events:zo((a=u[m])==null?void 0:a.events,(c=d[m])==null?void 0:c.events)};return h}const YSe={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},ZSe={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Ue(t,e){const{message:n,code:r}=ZSe[t];return{message:e?`${n} ${e}`:n,code:r}}function jn(t,e){const{message:n,code:r}=YSe[t];return{message:e?`${n} ${e}`:n,code:r}}function wa(t,e){return!!Array.isArray(t)}function Fo(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function Rr(t){return typeof t>"u"}function wr(t,e){return e&&Rr(t)?!0:typeof t=="string"&&!!t.trim().length}function sO(t,e){return e&&Rr(t)?!0:typeof t=="number"&&!isNaN(t)}function XSe(t,e){const{requiredNamespaces:n}=e,r=Object.keys(t.namespaces),i=Object.keys(n);let s=!0;return Ld(i,r)?(r.forEach(a=>{const{accounts:c,methods:u,events:d}=t.namespaces[a],h=Yp(c),p=n[a];(!Ld(VW(a,p),h)||!Ld(p.methods,u)||!Ld(p.events,d))&&(s=!1)}),s):!1}function b_(t){return wr(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function JSe(t){if(wr(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const n=e[0]+":"+e[1];return!!e[2]&&b_(n)}}return!1}function QSe(t){function e(n){try{return typeof new URL(n)<"u"}catch{return!1}}try{if(wr(t,!1)){if(e(t))return!0;const n=ZW(t);return e(n)}}catch{}return!1}function exe(t){var e;return(e=t?.proposer)==null?void 0:e.publicKey}function txe(t){return t?.topic}function nxe(t,e){let n=null;return wr(t?.publicKey,!1)||(n=Ue("MISSING_OR_INVALID",`${e} controller public key should be a string`)),n}function B9(t){let e=!0;return wa(t)?t.length&&(e=t.every(n=>wr(n,!1))):e=!1,e}function rxe(t,e,n){let r=null;return wa(e)&&e.length?e.forEach(i=>{r||b_(i)||(r=jn("UNSUPPORTED_CHAINS",`${n}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):b_(t)||(r=jn("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}function ixe(t,e,n){let r=null;return Object.entries(t).forEach(([i,s])=>{if(r)return;const a=rxe(i,VW(i,s),`${e} ${n}`);a&&(r=a)}),r}function sxe(t,e){let n=null;return wa(t)?t.forEach(r=>{n||JSe(r)||(n=jn("UNSUPPORTED_ACCOUNTS",`${e}, account ${r} should be a string and conform to "namespace:chainId:address" format`))}):n=jn("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function axe(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const i=sxe(r?.accounts,`${e} namespace`);i&&(n=i)}),n}function oxe(t,e){let n=null;return B9(t?.methods)?B9(t?.events)||(n=jn("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):n=jn("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),n}function GV(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const i=oxe(r,`${e}, namespace`);i&&(n=i)}),n}function cxe(t,e,n){let r=null;if(t&&Fo(t)){const i=GV(t,e);i&&(r=i);const s=ixe(t,e,n);s&&(r=s)}else r=Ue("MISSING_OR_INVALID",`${e}, ${n} should be an object with data`);return r}function l6(t,e){let n=null;if(t&&Fo(t)){const r=GV(t,e);r&&(n=r);const i=axe(t,e);i&&(n=i)}else n=Ue("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return n}function KV(t){return wr(t.protocol,!0)}function lxe(t,e){let n=!1;return t?t&&wa(t)&&t.length&&t.forEach(r=>{n=KV(r)}):n=!0,n}function uxe(t){return typeof t=="number"}function es(t){return typeof t<"u"&&typeof t!==null}function dxe(t){return!(!t||typeof t!="object"||!t.code||!sO(t.code,!1)||!t.message||!wr(t.message,!1))}function fxe(t){return!(Rr(t)||!wr(t.method,!1))}function hxe(t){return!(Rr(t)||Rr(t.result)&&Rr(t.error)||!sO(t.id,!1)||!wr(t.jsonrpc,!1))}function pxe(t){return!(Rr(t)||!wr(t.name,!1))}function L9(t,e){return!(!b_(e)||!WSe(t).includes(e))}function yxe(t,e,n){return wr(n,!1)?VSe(t,e).includes(n):!1}function mxe(t,e,n){return wr(n,!1)?HSe(t,e).includes(n):!1}function j9(t,e,n){let r=null;const i=gxe(t),s=bxe(e),a=Object.keys(i),c=Object.keys(s),u=z9(Object.keys(t)),d=z9(Object.keys(e)),h=u.filter(p=>!d.includes(p));return h.length&&(r=Ue("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.
      Required: ${h.toString()}
      Received: ${Object.keys(e).toString()}`)),Ld(a,c)||(r=Ue("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.
      Required: ${a.toString()}
      Approved: ${c.toString()}`)),Object.keys(e).forEach(p=>{if(!p.includes(":")||r)return;const m=Yp(e[p].accounts);m.includes(p)||(r=Ue("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${p}
        Required: ${p}
        Approved: ${m.toString()}`))}),a.forEach(p=>{r||(Ld(i[p].methods,s[p].methods)?Ld(i[p].events,s[p].events)||(r=Ue("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${p}`)):r=Ue("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${p}`))}),r}function gxe(t){const e={};return Object.keys(t).forEach(n=>{var r;n.includes(":")?e[n]=t[n]:(r=t[n].chains)==null||r.forEach(i=>{e[i]={methods:t[n].methods,events:t[n].events}})}),e}function z9(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function bxe(t){const e={};return Object.keys(t).forEach(n=>{n.includes(":")?e[n]=t[n]:Yp(t[n].accounts)?.forEach(i=>{e[i]={accounts:t[n].accounts.filter(s=>s.includes(`${i}:`)),methods:t[n].methods,events:t[n].events}})}),e}function wxe(t,e){return sO(t,!1)&&t<=e.max&&t>=e.min}function F9(){const t=mb();return new Promise(e=>{switch(t){case Bs.browser:e(vxe());break;case Bs.reactNative:e(_xe());break;case Bs.node:e(Exe());break;default:e(!0)}})}function vxe(){return Kp()&&navigator?.onLine}async function _xe(){return Fu()&&typeof global<"u"&&global!=null&&global.NetInfo?(await(global==null?void 0:global.NetInfo.fetch()))?.isConnected:!0}function Exe(){return!0}function Axe(t){switch(mb()){case Bs.browser:Sxe(t);break;case Bs.reactNative:xxe(t);break}}function Sxe(t){!Fu()&&Kp()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function xxe(t){Fu()&&typeof global<"u"&&global!=null&&global.NetInfo&&global?.NetInfo.addEventListener(e=>t(e?.isConnected))}function Txe(){var t;return Kp()&&fl.getDocument()?((t=fl.getDocument())==null?void 0:t.visibilityState)==="visible":!0}const u6={};class pm{static get(e){return u6[e]}static set(e,n){u6[e]=n}static delete(e){delete u6[e]}}function Ixe(t){const e=hb.decode(t);if(e.length<33)throw new Error("Too short to contain a public key");return e.slice(1,33)}function Cxe({publicKey:t,signature:e,payload:n}){var r;const i=n3(n.method),s=128|parseInt(((r=n.version)==null?void 0:r.toString())||"4"),a=Rxe(n.address),c=n.era==="00"?new Uint8Array([0]):n3(n.era);if(c.length!==1&&c.length!==2)throw new Error("Invalid era length");const u=parseInt(n.nonce,16),d=new Uint8Array([u&255,u>>8&255]),h=BigInt(`0x${kxe(n.tip)}`),p=$xe(h),m=new Uint8Array([0,...t,a,...e,...c,...d,...p,...i]),g=Nxe(m.length+1);return new Uint8Array([...g,s,...m])}function Oxe(t){const e=n3(t),n=z_e.blake2b(e,void 0,32);return"0x"+Buffer.from(n).toString("hex")}function n3(t){return new Uint8Array(t.replace(/^0x/,"").match(/.{1,2}/g).map(e=>parseInt(e,16)))}function kxe(t){return t.startsWith("0x")?t.slice(2):t}function Rxe(t){const e=hb.decode(t)[0];return e===42?0:e===60?2:1}function Nxe(t){if(t<64)return new Uint8Array([t<<2]);if(t<16384){const e=t<<2|1;return new Uint8Array([e&255,e>>8&255])}else if(t<1<<30){const e=t<<2|2;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}else throw new Error("Compact encoding > 2^30 not supported")}function $xe(t){if(t<BigInt(1)<<BigInt(6))return new Uint8Array([Number(t<<BigInt(2))]);if(t<BigInt(1)<<BigInt(14)){const e=t<<BigInt(2)|BigInt(1);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255))])}else if(t<BigInt(1)<<BigInt(30)){const e=t<<BigInt(2)|BigInt(2);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255)),Number(e>>BigInt(16)&BigInt(255)),Number(e>>BigInt(24)&BigInt(255))])}else throw new Error("BigInt compact encoding not supported > 2^30")}function Pxe(t){const e=Uint8Array.from(Buffer.from(t.signature,"hex")),n=Ixe(t.transaction.address),r=Cxe({publicKey:n,signature:e,payload:t.transaction}),i=Buffer.from(r).toString("hex");return Oxe(i)}function aO({logger:t,name:e}){const n=typeof t=="string"?WW({opts:{level:t,name:e}}).logger:t;return n.level=typeof t=="string"?t:t.level,n}class If{}let Dxe=class extends If{constructor(e){super()}};const q9=Be.FIVE_SECONDS,Cf={pulse:"heartbeat_pulse"};let Mxe=class YV extends Dxe{constructor(e){super(e),this.events=new qs.EventEmitter,this.interval=q9,this.interval=e?.interval||q9}static async init(e){const n=new YV(e);return await n.init(),n}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),Be.toMiliseconds(this.interval))}pulse(){this.events.emit(Cf.pulse)}};function Uxe(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function zr(t,...e){try{return Uxe(t(...e))}catch(n){return Promise.reject(n)}}function Bxe(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function Lxe(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function r1(t){if(Bxe(t))return String(t);if(Lxe(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return r1(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const r3="base64:";function jxe(t){return typeof t=="string"?t:r3+qxe(t)}function zxe(t){return typeof t!="string"||!t.startsWith(r3)?t:Fxe(t.slice(r3.length))}function Fxe(t){return globalThis.Buffer?Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function qxe(t){return globalThis.Buffer?Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function Qi(t){return t&&t.split("?")[0]?.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,"")||""}function Wxe(...t){return Qi(t.join(":"))}function Iv(t){return t=Qi(t),t?t+":":""}function Vxe(t,e){if(e===void 0)return!0;let n=0,r=t.indexOf(":");for(;r>-1;)n++,r=t.indexOf(":",r+1);return n<=e}function Hxe(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}const Gxe="memory",Kxe=()=>{const t=new Map;return{name:Gxe,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,n){t.set(e,n)},setItemRaw(e,n){t.set(e,n)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function Yxe(t={}){const e={mounts:{"":t.driver||Kxe()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},n=d=>{for(const h of e.mountpoints)if(d.startsWith(h))return{base:h,relativeKey:d.slice(h.length),driver:e.mounts[h]};return{base:"",relativeKey:d,driver:e.mounts[""]}},r=(d,h)=>e.mountpoints.filter(p=>p.startsWith(d)||h&&d.startsWith(p)).map(p=>({relativeBase:d.length>p.length?d.slice(p.length):void 0,mountpoint:p,driver:e.mounts[p]})),i=(d,h)=>{if(e.watching){h=Qi(h);for(const p of e.watchListeners)p(d,h)}},s=async()=>{if(!e.watching){e.watching=!0;for(const d in e.mounts)e.unwatch[d]=await W9(e.mounts[d],i,d)}},a=async()=>{if(e.watching){for(const d in e.unwatch)await e.unwatch[d]();e.unwatch={},e.watching=!1}},c=(d,h,p)=>{const m=new Map,g=b=>{let v=m.get(b.base);return v||(v={driver:b.driver,base:b.base,items:[]},m.set(b.base,v)),v};for(const b of d){const v=typeof b=="string",E=Qi(v?b:b.key),O=v?void 0:b.value,k=v||!b.options?h:{...h,...b.options},S=n(E);g(S).items.push({key:E,value:O,relativeKey:S.relativeKey,options:k})}return Promise.all([...m.values()].map(b=>p(b))).then(b=>b.flat())},u={hasItem(d,h={}){d=Qi(d);const{relativeKey:p,driver:m}=n(d);return zr(m.hasItem,p,h)},getItem(d,h={}){d=Qi(d);const{relativeKey:p,driver:m}=n(d);return zr(m.getItem,p,h).then(g=>hg(g))},getItems(d,h={}){return c(d,h,p=>p.driver.getItems?zr(p.driver.getItems,p.items.map(m=>({key:m.relativeKey,options:m.options})),h).then(m=>m.map(g=>({key:Wxe(p.base,g.key),value:hg(g.value)}))):Promise.all(p.items.map(m=>zr(p.driver.getItem,m.relativeKey,m.options).then(g=>({key:m.key,value:hg(g)})))))},getItemRaw(d,h={}){d=Qi(d);const{relativeKey:p,driver:m}=n(d);return m.getItemRaw?zr(m.getItemRaw,p,h):zr(m.getItem,p,h).then(g=>zxe(g))},async setItem(d,h,p={}){if(h===void 0)return u.removeItem(d);d=Qi(d);const{relativeKey:m,driver:g}=n(d);g.setItem&&(await zr(g.setItem,m,r1(h),p),g.watch||i("update",d))},async setItems(d,h){await c(d,h,async p=>{if(p.driver.setItems)return zr(p.driver.setItems,p.items.map(m=>({key:m.relativeKey,value:r1(m.value),options:m.options})),h);p.driver.setItem&&await Promise.all(p.items.map(m=>zr(p.driver.setItem,m.relativeKey,r1(m.value),m.options)))})},async setItemRaw(d,h,p={}){if(h===void 0)return u.removeItem(d,p);d=Qi(d);const{relativeKey:m,driver:g}=n(d);if(g.setItemRaw)await zr(g.setItemRaw,m,h,p);else if(g.setItem)await zr(g.setItem,m,jxe(h),p);else return;g.watch||i("update",d)},async removeItem(d,h={}){typeof h=="boolean"&&(h={removeMeta:h}),d=Qi(d);const{relativeKey:p,driver:m}=n(d);m.removeItem&&(await zr(m.removeItem,p,h),(h.removeMeta||h.removeMata)&&await zr(m.removeItem,p+"$",h),m.watch||i("remove",d))},async getMeta(d,h={}){typeof h=="boolean"&&(h={nativeOnly:h}),d=Qi(d);const{relativeKey:p,driver:m}=n(d),g=Object.create(null);if(m.getMeta&&Object.assign(g,await zr(m.getMeta,p,h)),!h.nativeOnly){const b=await zr(m.getItem,p+"$",h).then(v=>hg(v));b&&typeof b=="object"&&(typeof b.atime=="string"&&(b.atime=new Date(b.atime)),typeof b.mtime=="string"&&(b.mtime=new Date(b.mtime)),Object.assign(g,b))}return g},setMeta(d,h,p={}){return this.setItem(d+"$",h,p)},removeMeta(d,h={}){return this.removeItem(d+"$",h)},async getKeys(d,h={}){d=Iv(d);const p=r(d,!0);let m=[];const g=[];let b=!0;for(const E of p){E.driver.flags?.maxDepth||(b=!1);const O=await zr(E.driver.getKeys,E.relativeBase,h);for(const k of O){const S=E.mountpoint+Qi(k);m.some(A=>S.startsWith(A))||g.push(S)}m=[E.mountpoint,...m.filter(k=>!k.startsWith(E.mountpoint))]}const v=h.maxDepth!==void 0&&!b;return g.filter(E=>(!v||Vxe(E,h.maxDepth))&&Hxe(E,d))},async clear(d,h={}){d=Iv(d),await Promise.all(r(d,!1).map(async p=>{if(p.driver.clear)return zr(p.driver.clear,p.relativeBase,h);if(p.driver.removeItem){const m=await p.driver.getKeys(p.relativeBase||"",h);return Promise.all(m.map(g=>p.driver.removeItem(g,h)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(d=>V9(d)))},async watch(d){return await s(),e.watchListeners.push(d),async()=>{e.watchListeners=e.watchListeners.filter(h=>h!==d),e.watchListeners.length===0&&await a()}},async unwatch(){e.watchListeners=[],await a()},mount(d,h){if(d=Iv(d),d&&e.mounts[d])throw new Error(`already mounted at ${d}`);return d&&(e.mountpoints.push(d),e.mountpoints.sort((p,m)=>m.length-p.length)),e.mounts[d]=h,e.watching&&Promise.resolve(W9(h,i,d)).then(p=>{e.unwatch[d]=p}).catch(console.error),u},async unmount(d,h=!0){d=Iv(d),!(!d||!e.mounts[d])&&(e.watching&&d in e.unwatch&&(e.unwatch[d]?.(),delete e.unwatch[d]),h&&await V9(e.mounts[d]),e.mountpoints=e.mountpoints.filter(p=>p!==d),delete e.mounts[d])},getMount(d=""){d=Qi(d)+":";const h=n(d);return{driver:h.driver,base:h.base}},getMounts(d="",h={}){return d=Qi(d),r(d,h.parents).map(m=>({driver:m.driver,base:m.mountpoint}))},keys:(d,h={})=>u.getKeys(d,h),get:(d,h={})=>u.getItem(d,h),set:(d,h,p={})=>u.setItem(d,h,p),has:(d,h={})=>u.hasItem(d,h),del:(d,h={})=>u.removeItem(d,h),remove:(d,h={})=>u.removeItem(d,h)};return u}function W9(t,e,n){return t.watch?t.watch((r,i)=>e(r,n+i)):()=>{}}async function V9(t){typeof t.dispose=="function"&&await zr(t.dispose)}function Of(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function ZV(t,e){const n=indexedDB.open(t);n.onupgradeneeded=()=>n.result.createObjectStore(e);const r=Of(n);return(i,s)=>r.then(a=>s(a.transaction(e,i).objectStore(e)))}let d6;function _b(){return d6||(d6=ZV("keyval-store","keyval")),d6}function H9(t,e=_b()){return e("readonly",n=>Of(n.get(t)))}function Zxe(t,e,n=_b()){return n("readwrite",r=>(r.put(e,t),Of(r.transaction)))}function Xxe(t,e=_b()){return e("readwrite",n=>(n.delete(t),Of(n.transaction)))}function Jxe(t=_b()){return t("readwrite",e=>(e.clear(),Of(e.transaction)))}function Qxe(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},Of(t.transaction)}function e6e(t=_b()){return t("readonly",e=>{if(e.getAllKeys)return Of(e.getAllKeys());const n=[];return Qxe(e,r=>n.push(r.key)).then(()=>n)})}const t6e="idb-keyval";var n6e=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",n=i=>e+i;let r;return t.dbName&&t.storeName&&(r=ZV(t.dbName,t.storeName)),{name:t6e,options:t,async hasItem(i){return!(typeof await H9(n(i),r)>"u")},async getItem(i){return await H9(n(i),r)??null},setItem(i,s){return Zxe(n(i),s,r)},removeItem(i){return Xxe(n(i),r)},getKeys(){return e6e(r)},clear(){return Jxe(r)}}};const r6e="WALLET_CONNECT_V2_INDEXED_DB",i6e="keyvaluestorage";let s6e=class{constructor(){this.indexedDb=Yxe({driver:n6e({dbName:r6e,storeName:i6e})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const n=await this.indexedDb.getItem(e);if(n!==null)return n}async setItem(e,n){await this.indexedDb.setItem(e,hl(n))}async removeItem(e){await this.indexedDb.removeItem(e)}};var f6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},i1={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(n){return this.hasOwnProperty(n)?String(this[n]):null},t.prototype.setItem=function(n,r){this[n]=String(r)},t.prototype.removeItem=function(n){delete this[n]},t.prototype.clear=function(){const n=this;Object.keys(n).forEach(function(r){n[r]=void 0,delete n[r]})},t.prototype.key=function(n){return n=n||0,Object.keys(this)[n]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof f6<"u"&&f6.localStorage?i1.exports=f6.localStorage:typeof window<"u"&&window.localStorage?i1.exports=window.localStorage:i1.exports=new e})();function a6e(t){var e;return[t[0],pf((e=t[1])!=null?e:"")]}let o6e=class{constructor(){this.localStorage=i1.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(a6e)}async getItem(e){const n=this.localStorage.getItem(e);if(n!==null)return pf(n)}async setItem(e,n){this.localStorage.setItem(e,hl(n))}async removeItem(e){this.localStorage.removeItem(e)}};const c6e="wc_storage_version",G9=1,l6e=async(t,e,n)=>{const r=c6e,i=await e.getItem(r);if(i&&i>=G9){n(e);return}const s=await t.getKeys();if(!s.length){n(e);return}const a=[];for(;s.length;){const c=s.shift();if(!c)continue;const u=c.toLowerCase();if(u.includes("wc@")||u.includes("walletconnect")||u.includes("wc_")||u.includes("wallet_connect")){const d=await t.getItem(c);await e.setItem(c,d),a.push(c)}}await e.setItem(r,G9),n(e),u6e(t,a)},u6e=async(t,e)=>{e.length&&e.forEach(async n=>{await t.removeItem(n)})};let d6e=class{constructor(){this.initialized=!1,this.setInitialized=n=>{this.storage=n,this.initialized=!0};const e=new o6e;this.storage=e;try{const n=new s6e;l6e(e,n,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,n){return await this.initialize(),this.storage.setItem(e,n)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const n=setInterval(()=>{this.initialized&&(clearInterval(n),e())},20)})}};var f6e=Object.defineProperty,h6e=(t,e,n)=>e in t?f6e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,K9=(t,e,n)=>h6e(t,typeof e!="symbol"?e+"":e,n);let p6e=class extends If{constructor(e){super(),this.opts=e,K9(this,"protocol","wc"),K9(this,"version",2)}};var y6e=Object.defineProperty,m6e=(t,e,n)=>e in t?y6e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,g6e=(t,e,n)=>m6e(t,e+"",n);let b6e=class extends If{constructor(e,n){super(),this.core=e,this.logger=n,g6e(this,"records",new Map)}},w6e=class{constructor(e,n){this.logger=e,this.core=n}},v6e=class extends If{constructor(e,n){super(),this.relayer=e,this.logger=n}},_6e=class extends If{constructor(e){super()}},E6e=class{constructor(e,n,r,i){this.core=e,this.logger=n,this.name=r}},A6e=class extends If{constructor(e,n){super(),this.relayer=e,this.logger=n}},S6e=class extends If{constructor(e,n){super(),this.core=e,this.logger=n}},x6e=class{constructor(e,n,r){this.core=e,this.logger=n,this.store=r}},T6e=class{constructor(e,n){this.projectId=e,this.logger=n}},I6e=class{constructor(e,n,r){this.core=e,this.logger=n,this.telemetryEnabled=r}};var C6e=Object.defineProperty,O6e=(t,e,n)=>e in t?C6e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Y9=(t,e,n)=>O6e(t,typeof e!="symbol"?e+"":e,n);let k6e=class{constructor(e){this.opts=e,Y9(this,"protocol","wc"),Y9(this,"version",2)}},R6e=class{constructor(e){this.client=e}};const N6e="PARSE_ERROR",$6e="INVALID_REQUEST",P6e="METHOD_NOT_FOUND",D6e="INVALID_PARAMS",XV="INTERNAL_ERROR",oO="SERVER_ERROR",M6e=[-32700,-32600,-32601,-32602,-32603],Mg={[N6e]:{code:-32700,message:"Parse error"},[$6e]:{code:-32600,message:"Invalid Request"},[P6e]:{code:-32601,message:"Method not found"},[D6e]:{code:-32602,message:"Invalid params"},[XV]:{code:-32603,message:"Internal error"},[oO]:{code:-32e3,message:"Server error"}},JV=oO;function U6e(t){return M6e.includes(t)}function Z9(t){return Object.keys(Mg).includes(t)?Mg[t]:Mg[JV]}function B6e(t){const e=Object.values(Mg).find(n=>n.code===t);return e||Mg[JV]}function QV(t,e,n){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${e}`):t}var h6={};var i3=function(t,e){return i3=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},i3(t,e)};function L6e(t,e){i3(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var s3=function(){return s3=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},s3.apply(this,arguments)};function j6e(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function z6e(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(s=(i<3?a(s):i>3?a(e,n,s):a(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function F6e(t,e){return function(n,r){e(n,r,t)}}function q6e(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function W6e(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function c(h){try{d(r.next(h))}catch(p){a(p)}}function u(h){try{d(r.throw(h))}catch(p){a(p)}}function d(h){h.done?s(h.value):i(h.value).then(c,u)}d((r=r.apply(t,e||[])).next())})}function V6e(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(d){return function(h){return u([d,h])}}function u(d){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=d[0]&2?i.return:d[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,d[1])).done)return s;switch(i=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,i=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){n.label=d[1];break}if(d[0]===6&&n.label<s[1]){n.label=s[1],s=d;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(d);break}s[2]&&n.ops.pop(),n.trys.pop();continue}d=e.call(t,n)}catch(h){d=[6,h],i=0}finally{r=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function H6e(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function G6e(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function a3(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function eH(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(c){a={error:c}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return s}function K6e(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(eH(arguments[e]));return t}function Y6e(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],a=0,c=s.length;a<c;a++,i++)r[i]=s[a];return r}function C0(t){return this instanceof C0?(this.v=t,this):new C0(t)}function Z6e(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(m){r[m]&&(i[m]=function(g){return new Promise(function(b,v){s.push([m,g,b,v])>1||c(m,g)})})}function c(m,g){try{u(r[m](g))}catch(b){p(s[0][3],b)}}function u(m){m.value instanceof C0?Promise.resolve(m.value.v).then(d,h):p(s[0][2],m)}function d(m){c("next",m)}function h(m){c("throw",m)}function p(m,g){m(g),s.shift(),s.length&&c(s[0][0],s[0][1])}}function X6e(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(a){return(n=!n)?{value:C0(t[i](a)),done:i==="return"}:s?s(a):a}:s}}function J6e(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof a3=="function"?a3(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(a){return new Promise(function(c,u){a=t[s](a),i(c,u,a.done,a.value)})}}function i(s,a,c,u){Promise.resolve(u).then(function(d){s({value:d,done:c})},a)}}function Q6e(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function eTe(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function tTe(t){return t&&t.__esModule?t:{default:t}}function nTe(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function rTe(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const iTe=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return s3},__asyncDelegator:X6e,__asyncGenerator:Z6e,__asyncValues:J6e,__await:C0,__awaiter:W6e,__classPrivateFieldGet:nTe,__classPrivateFieldSet:rTe,__createBinding:H6e,__decorate:z6e,__exportStar:G6e,__extends:L6e,__generator:V6e,__importDefault:tTe,__importStar:eTe,__makeTemplateObject:Q6e,__metadata:q6e,__param:F6e,__read:eH,__rest:j6e,__spread:K6e,__spreadArrays:Y6e,__values:a3},Symbol.toStringTag,{value:"Module"})),sTe=hB(iTe);var Ic={},X9;function aTe(){if(X9)return Ic;X9=1,Object.defineProperty(Ic,"__esModule",{value:!0}),Ic.isBrowserCryptoAvailable=Ic.getSubtleCrypto=Ic.getBrowerCrypto=void 0;function t(){return Ro?.crypto||Ro?.msCrypto||{}}Ic.getBrowerCrypto=t;function e(){const r=t();return r.subtle||r.webkitSubtle}Ic.getSubtleCrypto=e;function n(){return!!t()&&!!e()}return Ic.isBrowserCryptoAvailable=n,Ic}var Cc={},J9;function oTe(){if(J9)return Cc;J9=1,Object.defineProperty(Cc,"__esModule",{value:!0}),Cc.isBrowser=Cc.isNode=Cc.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}Cc.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}Cc.isNode=e;function n(){return!t()&&!e()}return Cc.isBrowser=n,Cc}var Q9;function cTe(){return Q9||(Q9=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=sTe;e.__exportStar(aTe(),t),e.__exportStar(oTe(),t)})(h6)),h6}var lTe=cTe();function Oo(t=3){const e=Date.now()*Math.pow(10,t),n=Math.floor(Math.random()*Math.pow(10,t));return e+n}function Iu(t=6){return BigInt(Oo(t))}function Ya(t,e,n){return{id:n||Oo(),jsonrpc:"2.0",method:t,params:e}}function O0(t,e){return{id:t,jsonrpc:"2.0",result:e}}function qE(t,e,n){return{id:t,jsonrpc:"2.0",error:uTe(e)}}function uTe(t,e){return typeof t>"u"?Z9(XV):(typeof t=="string"&&(t=Object.assign(Object.assign({},Z9(oO)),{message:t})),U6e(t.code)&&(t=B6e(t.code)),t)}let dTe=class{};class fTe extends dTe{constructor(){super()}}let hTe=class extends fTe{constructor(e){super()}};const pTe="^https?:",yTe="^wss?:";function mTe(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function tH(t,e){const n=mTe(t);return typeof n>"u"?!1:new RegExp(e).test(n)}function eM(t){return tH(t,pTe)}function tM(t){return tH(t,yTe)}function gTe(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function nH(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function cO(t){return nH(t)&&"method"in t}function WE(t){return nH(t)&&(ko(t)||ma(t))}function ko(t){return"result"in t}function ma(t){return"error"in t}let lO=class extends hTe{constructor(e){super(e),this.events=new qs.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async request(e,n){return this.requestStrict(Ya(e.method,e.params||[],e.id||Iu().toString()),n)}async requestStrict(e,n){return new Promise(async(r,i)=>{if(!this.connection.connected)try{await this.open()}catch(s){i(s)}this.events.on(`${e.id}`,s=>{ma(s)?i(s.error):r(s.result)});try{await this.connection.send(e,n)}catch(s){i(s)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),WE(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const bTe=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),wTe=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",nM=t=>t.split("?")[0],rM=10,vTe=bTe();let _Te=class{constructor(e){if(this.url=e,this.events=new qs.EventEmitter,this.registering=!1,!tM(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,n)=>{if(typeof this.socket>"u"){n(new Error("Connection already closed"));return}this.socket.onclose=r=>{this.onClose(r),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(hl(e))}catch(n){this.onError(e.id,n)}}register(e=this.url){if(!tM(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));r(this.socket)})})}return this.url=e,this.registering=!0,new Promise((n,r)=>{const i=lTe.isReactNative()?void 0:{rejectUnauthorized:!gTe(e)},s=new vTe(e,[],i);wTe()?s.onerror=a=>{const c=a;r(this.emitError(c.error))}:s.on("error",a=>{r(this.emitError(a))}),s.onopen=()=>{this.onOpen(s),n(s)}})}onOpen(e){e.onmessage=n=>this.onPayload(n),e.onclose=n=>this.onClose(n),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?pf(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),i=r.message||r.toString(),s=qE(e,i);this.events.emit("payload",s)}parseError(e,n=this.url){return QV(e,nM(n),"WS")}resetMaxListeners(){this.events.getMaxListeners()>rM&&this.events.setMaxListeners(rM)}emitError(e){const n=this.parseError(new Error(e?.message||`WebSocket connection failed for host: ${nM(this.url)}`));return this.events.emit("register_error",n),n}};var ETe={};const rH="wc",iH=2,o3="core",Ko=`${rH}@2:${o3}:`,ATe={logger:"error"},STe={database:":memory:"},xTe="crypto",iM="client_ed25519_seed",TTe=Be.ONE_DAY,ITe="keychain",CTe="0.3",OTe="messages",kTe="0.3",RTe=Be.SIX_HOURS,NTe="publisher",sH="irn",$Te="error",aH="wss://relay.walletconnect.org",PTe="relayer",sr={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},DTe="_subscription",sa={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},MTe=.1,c3="2.22.4",Ln={link_mode:"link_mode",relay:"relay"},s1={inbound:"inbound",outbound:"outbound"},UTe="0.3",BTe="WALLETCONNECT_CLIENT_ID",sM="WALLETCONNECT_LINK_MODE_APPS",ks={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},LTe="subscription",jTe="0.3",zTe="pairing",FTe="0.3",ym={wc_pairingDelete:{req:{ttl:Be.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:Be.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:Be.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:Be.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:Be.ONE_DAY,prompt:!1,tag:0},res:{ttl:Be.ONE_DAY,prompt:!1,tag:0}}},Nd={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},Ba={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},qTe="history",WTe="0.3",VTe="expirer",da={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},HTe="0.3",GTe="verify-api",KTe="https://verify.walletconnect.com",oH="https://verify.walletconnect.org",Ug=oH,YTe=`${Ug}/v3`,ZTe=[KTe,oH],XTe="echo",JTe="https://echo.walletconnect.com",Co={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},Uc={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},La={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success",session_request_response_started:"session_request_response_started",session_request_response_validation_success:"session_request_response_validation_success",session_request_response_publish_started:"session_request_response_publish_started"},yd={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found",session_request_response_validation_failure:"session_request_response_validation_failure",session_request_response_publish_failure:"session_request_response_publish_failure"},md={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},mm={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},QTe=.1,e5e="event-client",t5e=86400,n5e="https://pulse.walletconnect.org/batch";function r5e(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),a=s.charCodeAt(0);if(n[a]!==255)throw new TypeError(s+" is ambiguous");n[a]=i}var c=t.length,u=t.charAt(0),d=Math.log(c)/Math.log(256),h=Math.log(256)/Math.log(c);function p(b){if(b instanceof Uint8Array||(ArrayBuffer.isView(b)?b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength):Array.isArray(b)&&(b=Uint8Array.from(b))),!(b instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(b.length===0)return"";for(var v=0,E=0,O=0,k=b.length;O!==k&&b[O]===0;)O++,v++;for(var S=(k-O)*h+1>>>0,A=new Uint8Array(S);O!==k;){for(var C=b[O],I=0,$=S-1;(C!==0||I<E)&&$!==-1;$--,I++)C+=256*A[$]>>>0,A[$]=C%c>>>0,C=C/c>>>0;if(C!==0)throw new Error("Non-zero carry");E=I,O++}for(var z=S-E;z!==S&&A[z]===0;)z++;for(var L=u.repeat(v);z<S;++z)L+=t.charAt(A[z]);return L}function m(b){if(typeof b!="string")throw new TypeError("Expected String");if(b.length===0)return new Uint8Array;var v=0;if(b[v]!==" "){for(var E=0,O=0;b[v]===u;)E++,v++;for(var k=(b.length-v)*d+1>>>0,S=new Uint8Array(k);b[v];){var A=n[b.charCodeAt(v)];if(A===255)return;for(var C=0,I=k-1;(A!==0||C<O)&&I!==-1;I--,C++)A+=c*S[I]>>>0,S[I]=A%256>>>0,A=A/256>>>0;if(A!==0)throw new Error("Non-zero carry");O=C,v++}if(b[v]!==" "){for(var $=k-O;$!==k&&S[$]===0;)$++;for(var z=new Uint8Array(E+(k-$)),L=E;$!==k;)z[L++]=S[$++];return z}}}function g(b){var v=m(b);if(v)return v;throw new Error(`Non-${e} character`)}return{encode:p,decodeUnsafe:m,decode:g}}var i5e=r5e,s5e=i5e;const cH=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},a5e=t=>new TextEncoder().encode(t),o5e=t=>new TextDecoder().decode(t);class c5e{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class l5e{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return lH(this,e)}}class u5e{constructor(e){this.decoders=e}or(e){return lH(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const lH=(t,e)=>new u5e({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class d5e{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new c5e(e,n,r),this.decoder=new l5e(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const VE=({name:t,prefix:e,encode:n,decode:r})=>new d5e(t,e,n,r),Eb=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=s5e(n,e);return VE({prefix:t,name:e,encode:r,decode:s=>cH(i(s))})},f5e=(t,e,n,r)=>{const i={};for(let h=0;h<e.length;++h)i[e[h]]=h;let s=t.length;for(;t[s-1]==="=";)--s;const a=new Uint8Array(s*n/8|0);let c=0,u=0,d=0;for(let h=0;h<s;++h){const p=i[t[h]];if(p===void 0)throw new SyntaxError(`Non-${r} character`);u=u<<n|p,c+=n,c>=8&&(c-=8,a[d++]=255&u>>c)}if(c>=n||255&u<<8-c)throw new SyntaxError("Unexpected end of data");return a},h5e=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let s="",a=0,c=0;for(let u=0;u<t.length;++u)for(c=c<<8|t[u],a+=8;a>n;)a-=n,s+=e[i&c>>a];if(a&&(s+=e[i&c<<n-a]),r)for(;s.length*n&7;)s+="=";return s},pi=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>VE({prefix:e,name:t,encode(i){return h5e(i,r,n)},decode(i){return f5e(i,r,n,t)}}),p5e=VE({prefix:"\0",name:"identity",encode:t=>o5e(t),decode:t=>a5e(t)});var y5e=Object.freeze({__proto__:null,identity:p5e});const m5e=pi({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var g5e=Object.freeze({__proto__:null,base2:m5e});const b5e=pi({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var w5e=Object.freeze({__proto__:null,base8:b5e});const v5e=Eb({prefix:"9",name:"base10",alphabet:"0123456789"});var _5e=Object.freeze({__proto__:null,base10:v5e});const E5e=pi({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),A5e=pi({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var S5e=Object.freeze({__proto__:null,base16:E5e,base16upper:A5e});const x5e=pi({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),T5e=pi({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),I5e=pi({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),C5e=pi({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),O5e=pi({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),k5e=pi({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),R5e=pi({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),N5e=pi({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),$5e=pi({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var P5e=Object.freeze({__proto__:null,base32:x5e,base32upper:T5e,base32pad:I5e,base32padupper:C5e,base32hex:O5e,base32hexupper:k5e,base32hexpad:R5e,base32hexpadupper:N5e,base32z:$5e});const D5e=Eb({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),M5e=Eb({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var U5e=Object.freeze({__proto__:null,base36:D5e,base36upper:M5e});const B5e=Eb({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),L5e=Eb({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var j5e=Object.freeze({__proto__:null,base58btc:B5e,base58flickr:L5e});const z5e=pi({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),F5e=pi({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),q5e=pi({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),W5e=pi({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var V5e=Object.freeze({__proto__:null,base64:z5e,base64pad:F5e,base64url:q5e,base64urlpad:W5e});const uH=Array.from(""),H5e=uH.reduce((t,e,n)=>(t[n]=e,t),[]),G5e=uH.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function K5e(t){return t.reduce((e,n)=>(e+=H5e[n],e),"")}function Y5e(t){const e=[];for(const n of t){const r=G5e[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const Z5e=VE({prefix:"",name:"base256emoji",encode:K5e,decode:Y5e});var X5e=Object.freeze({__proto__:null,base256emoji:Z5e}),J5e=dH,aM=128,Q5e=-128,e3e=Math.pow(2,31);function dH(t,e,n){e=e||[],n=n||0;for(var r=n;t>=e3e;)e[n++]=t&255|aM,t/=128;for(;t&Q5e;)e[n++]=t&255|aM,t>>>=7;return e[n]=t|0,dH.bytes=n-r+1,e}var t3e=l3,n3e=128,oM=127;function l3(t,r){var n=0,r=r||0,i=0,s=r,a,c=t.length;do{if(s>=c)throw l3.bytes=0,new RangeError("Could not decode varint");a=t[s++],n+=i<28?(a&oM)<<i:(a&oM)*Math.pow(2,i),i+=7}while(a>=n3e);return l3.bytes=s-r,n}var r3e=Math.pow(2,7),i3e=Math.pow(2,14),s3e=Math.pow(2,21),a3e=Math.pow(2,28),o3e=Math.pow(2,35),c3e=Math.pow(2,42),l3e=Math.pow(2,49),u3e=Math.pow(2,56),d3e=Math.pow(2,63),f3e=function(t){return t<r3e?1:t<i3e?2:t<s3e?3:t<a3e?4:t<o3e?5:t<c3e?6:t<l3e?7:t<u3e?8:t<d3e?9:10},h3e={encode:J5e,decode:t3e,encodingLength:f3e},fH=h3e;const cM=(t,e,n=0)=>(fH.encode(t,e,n),e),lM=t=>fH.encodingLength(t),u3=(t,e)=>{const n=e.byteLength,r=lM(t),i=r+lM(n),s=new Uint8Array(i+n);return cM(t,s,0),cM(n,s,r),s.set(e,i),new p3e(t,n,e,s)};class p3e{constructor(e,n,r,i){this.code=e,this.size=n,this.digest=r,this.bytes=i}}const hH=({name:t,code:e,encode:n})=>new y3e(t,e,n);class y3e{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?u3(this.code,n):n.then(r=>u3(this.code,r))}else throw Error("Unknown type, must be binary type")}}const pH=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),m3e=hH({name:"sha2-256",code:18,encode:pH("SHA-256")}),g3e=hH({name:"sha2-512",code:19,encode:pH("SHA-512")});var b3e=Object.freeze({__proto__:null,sha256:m3e,sha512:g3e});const yH=0,w3e="identity",mH=cH,v3e=t=>u3(yH,mH(t)),_3e={code:yH,name:w3e,encode:mH,digest:v3e};var E3e=Object.freeze({__proto__:null,identity:_3e});new TextEncoder,new TextDecoder;const uM={...y5e,...g5e,...w5e,..._5e,...S5e,...P5e,...U5e,...j5e,...V5e,...X5e};({...b3e,...E3e});function gH(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function A3e(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?gH(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function bH(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const dM=bH("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),p6=bH("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=A3e(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),S3e={utf8:dM,"utf-8":dM,hex:uM.base16,latin1:p6,ascii:p6,binary:p6,...uM};function x3e(t,e="utf8"){const n=S3e[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?gH(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}var T3e=Object.defineProperty,I3e=(t,e,n)=>e in t?T3e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ao=(t,e,n)=>I3e(t,typeof e!="symbol"?e+"":e,n);let C3e=class{constructor(e,n){this.core=e,this.logger=n,Ao(this,"keychain",new Map),Ao(this,"name",ITe),Ao(this,"version",CTe),Ao(this,"initialized",!1),Ao(this,"storagePrefix",Ko),Ao(this,"init",async()=>{if(!this.initialized){const r=await this.getKeyChain();typeof r<"u"&&(this.keychain=r),this.initialized=!0}}),Ao(this,"has",r=>(this.isInitialized(),this.keychain.has(r))),Ao(this,"set",async(r,i)=>{this.isInitialized(),this.keychain.set(r,i),await this.persist()}),Ao(this,"get",r=>{this.isInitialized();const i=this.keychain.get(r);if(typeof i>"u"){const{message:s}=Ue("NO_MATCHING_KEY",`${this.name}: ${r}`);throw new Error(s)}return i}),Ao(this,"del",async r=>{this.isInitialized(),this.keychain.delete(r),await this.persist()}),this.core=e,this.logger=Ws(n,this.name)}get context(){return ys(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,q5(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?W5(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=Ue("NOT_INITIALIZED",this.name);throw new Error(e)}}};var O3e=Object.defineProperty,k3e=(t,e,n)=>e in t?O3e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Lr=(t,e,n)=>k3e(t,typeof e!="symbol"?e+"":e,n);let R3e=class{constructor(e,n,r){this.core=e,this.logger=n,Lr(this,"name",xTe),Lr(this,"keychain"),Lr(this,"randomSessionIdentifier",t3()),Lr(this,"initialized",!1),Lr(this,"clientId"),Lr(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),Lr(this,"hasKeys",i=>(this.isInitialized(),this.keychain.has(i))),Lr(this,"getClientId",async()=>{if(this.isInitialized(),this.clientId)return this.clientId;const i=await this.getClientSeed(),s=PD(i),a=DW(s.publicKey);return this.clientId=a,a}),Lr(this,"generateKeyPair",()=>{this.isInitialized();const i=bSe();return this.setPrivateKey(i.publicKey,i.privateKey)}),Lr(this,"signJWT",async i=>{this.isInitialized();const s=await this.getClientSeed(),a=PD(s),c=this.randomSessionIdentifier;return await j1e(c,i,TTe,a)}),Lr(this,"generateSharedKey",(i,s,a)=>{this.isInitialized();const c=this.getPrivateKey(i),u=wSe(c,s);return this.setSymKey(u,a)}),Lr(this,"setSymKey",async(i,s)=>{this.isInitialized();const a=s||n1(i);return await this.keychain.set(a,i),a}),Lr(this,"deleteKeyPair",async i=>{this.isInitialized(),await this.keychain.del(i)}),Lr(this,"deleteSymKey",async i=>{this.isInitialized(),await this.keychain.del(i)}),Lr(this,"encode",async(i,s,a)=>{this.isInitialized();const c=HV(a),u=hl(s);if(O9(c))return ESe(u,a?.encoding);if(C9(c)){const m=c.senderPublicKey,g=c.receiverPublicKey;i=await this.generateSharedKey(m,g)}const d=this.getSymKey(i),{type:h,senderPublicKey:p}=c;return vSe({type:h,symKey:d,message:u,senderPublicKey:p,encoding:a?.encoding})}),Lr(this,"decode",async(i,s,a)=>{this.isInitialized();const c=SSe(s,a);if(O9(c)){const u=ASe(s,a?.encoding);return pf(u)}if(C9(c)){const u=c.receiverPublicKey,d=c.senderPublicKey;i=await this.generateSharedKey(u,d)}try{const u=this.getSymKey(i),d=_Se({symKey:u,encoded:s,encoding:a?.encoding});return pf(d)}catch(u){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(u)}}),Lr(this,"getPayloadType",(i,s=is)=>{const a=I0({encoded:i,encoding:s});return mf(a.type)}),Lr(this,"getPayloadSenderPublicKey",(i,s=is)=>{const a=I0({encoded:i,encoding:s});return a.senderPublicKey?us(a.senderPublicKey,Bi):void 0}),this.core=e,this.logger=Ws(n,this.name),this.keychain=r||new C3e(this.core,this.logger)}get context(){return ys(this.logger)}async setPrivateKey(e,n){return await this.keychain.set(e,n),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(iM)}catch{e=t3(),await this.keychain.set(iM,e)}return x3e(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=Ue("NOT_INITIALIZED",this.name);throw new Error(e)}}};var N3e=Object.defineProperty,$3e=Object.defineProperties,P3e=Object.getOwnPropertyDescriptors,fM=Object.getOwnPropertySymbols,D3e=Object.prototype.hasOwnProperty,M3e=Object.prototype.propertyIsEnumerable,d3=(t,e,n)=>e in t?N3e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,U3e=(t,e)=>{for(var n in e||(e={}))D3e.call(e,n)&&d3(t,n,e[n]);if(fM)for(var n of fM(e))M3e.call(e,n)&&d3(t,n,e[n]);return t},B3e=(t,e)=>$3e(t,P3e(e)),Ts=(t,e,n)=>d3(t,typeof e!="symbol"?e+"":e,n);let L3e=class extends w6e{constructor(e,n){super(e,n),this.logger=e,this.core=n,Ts(this,"messages",new Map),Ts(this,"messagesWithoutClientAck",new Map),Ts(this,"name",OTe),Ts(this,"version",kTe),Ts(this,"initialized",!1),Ts(this,"storagePrefix",Ko),Ts(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const r=await this.getRelayerMessages();typeof r<"u"&&(this.messages=r);const i=await this.getRelayerMessagesWithoutClientAck();typeof i<"u"&&(this.messagesWithoutClientAck=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(r){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(r)}finally{this.initialized=!0}}}),Ts(this,"set",async(r,i,s)=>{this.isInitialized();const a=ya(i);let c=this.messages.get(r);if(typeof c>"u"&&(c={}),typeof c[a]<"u")return a;if(c[a]=i,this.messages.set(r,c),s===s1.inbound){const u=this.messagesWithoutClientAck.get(r)||{};this.messagesWithoutClientAck.set(r,B3e(U3e({},u),{[a]:i}))}return await this.persist(),a}),Ts(this,"get",r=>{this.isInitialized();let i=this.messages.get(r);return typeof i>"u"&&(i={}),i}),Ts(this,"getWithoutAck",r=>{this.isInitialized();const i={};for(const s of r){const a=this.messagesWithoutClientAck.get(s)||{};i[s]=Object.values(a)}return i}),Ts(this,"has",(r,i)=>{this.isInitialized();const s=this.get(r),a=ya(i);return typeof s[a]<"u"}),Ts(this,"ack",async(r,i)=>{this.isInitialized();const s=this.messagesWithoutClientAck.get(r);if(typeof s>"u")return;const a=ya(i);delete s[a],Object.keys(s).length===0?this.messagesWithoutClientAck.delete(r):this.messagesWithoutClientAck.set(r,s),await this.persist()}),Ts(this,"del",async r=>{this.isInitialized(),this.messages.delete(r),this.messagesWithoutClientAck.delete(r),await this.persist()}),this.logger=Ws(e,this.name),this.core=n}get context(){return ys(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,q5(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,q5(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?W5(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?W5(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=Ue("NOT_INITIALIZED",this.name);throw new Error(e)}}};var j3e=Object.defineProperty,z3e=Object.defineProperties,F3e=Object.getOwnPropertyDescriptors,hM=Object.getOwnPropertySymbols,q3e=Object.prototype.hasOwnProperty,W3e=Object.prototype.propertyIsEnumerable,f3=(t,e,n)=>e in t?j3e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ih=(t,e)=>{for(var n in e||(e={}))q3e.call(e,n)&&f3(t,n,e[n]);if(hM)for(var n of hM(e))W3e.call(e,n)&&f3(t,n,e[n]);return t},pM=(t,e)=>z3e(t,F3e(e)),aa=(t,e,n)=>f3(t,typeof e!="symbol"?e+"":e,n);class V3e extends v6e{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,aa(this,"events",new qs.EventEmitter),aa(this,"name",NTe),aa(this,"queue",new Map),aa(this,"publishTimeout",Be.toMiliseconds(Be.ONE_MINUTE)),aa(this,"initialPublishTimeout",Be.toMiliseconds(Be.ONE_SECOND*15)),aa(this,"needsTransportRestart",!1),aa(this,"publish",async(r,i,s)=>{var a,c,u,d,h;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:r,message:i,opts:s}});const p=s?.ttl||RTe,m=s?.prompt||!1,g=s?.tag||0,b=s?.id||Iu().toString(),v=Vh(g_().protocol),E={id:b,method:s?.publishMethod||v.publish,params:Ih({topic:r,message:i,ttl:p,prompt:m,tag:g,attestation:s?.attestation},s?.tvf)},O=`Failed to publish payload, please try again. id:${b} tag:${g}`;try{Rr((a=E.params)==null?void 0:a.prompt)&&((c=E.params)==null||delete c.prompt),Rr((u=E.params)==null?void 0:u.tag)&&((d=E.params)==null||delete d.tag);const k=new Promise(async S=>{const A=({id:I})=>{var $;(($=E.id)==null?void 0:$.toString())===I.toString()&&(this.removeRequestFromQueue(I),this.relayer.events.removeListener(sr.publish,A),S())};this.relayer.events.on(sr.publish,A);const C=Do(new Promise((I,$)=>{this.rpcPublish(E,s).then(I).catch(z=>{this.logger.warn(z,z?.message),$(z)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${b} tag:${g}`);try{await C,this.events.removeListener(sr.publish,A)}catch(I){this.queue.set(b,{request:E,opts:s,attempt:1}),this.logger.warn(I,I?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:b,topic:r,message:i,opts:s}}),await Do(k,this.publishTimeout,O)}catch(k){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(k),(h=s?.internal)!=null&&h.throwOnFailedPublish)throw k}finally{this.queue.delete(b)}}),aa(this,"publishCustom",async r=>{var i,s,a,c,u;this.logger.debug("Publishing custom payload"),this.logger.trace({type:"method",method:"publishCustom",params:r});const{payload:d,opts:h={}}=r,{attestation:p,tvf:m,publishMethod:g,prompt:b,tag:v,ttl:E=Be.FIVE_MINUTES}=h,O=h.id||Iu().toString(),k=Vh(g_().protocol),S=g||k.publish,A={id:O,method:S,params:Ih(pM(Ih({},d),{ttl:E,prompt:b,tag:v,attestation:p}),m)},C=`Failed to publish custom payload, please try again. id:${O} tag:${v}`;try{Rr((i=A.params)==null?void 0:i.prompt)&&((s=A.params)==null||delete s.prompt),Rr((a=A.params)==null?void 0:a.tag)&&((c=A.params)==null||delete c.tag);const I=new Promise(async $=>{const z=({id:B})=>{var V;((V=A.id)==null?void 0:V.toString())===B.toString()&&(this.removeRequestFromQueue(B),this.relayer.events.removeListener(sr.publish,z),$())};this.relayer.events.on(sr.publish,z);const L=Do(new Promise((B,V)=>{this.rpcPublish(A,h).then(B).catch(D=>{this.logger.warn(D,D?.message),V(D)})}),this.initialPublishTimeout,`Failed initial custom payload publish, retrying.... method:${S} id:${O} tag:${v}`);try{await L,this.events.removeListener(sr.publish,z)}catch(B){this.queue.set(O,{request:A,opts:h,attempt:1}),this.logger.warn(B,B?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:O,payload:d,opts:h}}),await Do(I,this.publishTimeout,C)}catch(I){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(I),(u=h?.internal)!=null&&u.throwOnFailedPublish)throw I}finally{this.queue.delete(O)}}),aa(this,"on",(r,i)=>{this.events.on(r,i)}),aa(this,"once",(r,i)=>{this.events.once(r,i)}),aa(this,"off",(r,i)=>{this.events.off(r,i)}),aa(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.relayer=e,this.logger=Ws(n,this.name),this.registerEventListeners()}get context(){return ys(this.logger)}async rpcPublish(e,n){this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:e});const r=await this.relayer.request(e);return this.relayer.events.emit(sr.publish,Ih(Ih({},e),n)),this.logger.debug("Successfully Published Payload"),r}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,n)=>{var r;const i=e.attempt+1;this.queue.set(n,pM(Ih({},e),{attempt:i})),this.logger.warn({},`Publisher: queue->publishing: ${e.request.id}, tag: ${(r=e.request.params)==null?void 0:r.tag}, attempt: ${i}`),await this.rpcPublish(e.request,e.opts),this.logger.warn({},`Publisher: queue->published: ${e.request.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(Cf.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(sr.connection_stalled);return}this.checkQueue()}),this.relayer.on(sr.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var H3e=Object.defineProperty,G3e=(t,e,n)=>e in t?H3e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ch=(t,e,n)=>G3e(t,typeof e!="symbol"?e+"":e,n);class K3e{constructor(){Ch(this,"map",new Map),Ch(this,"set",(e,n)=>{const r=this.get(e);this.exists(e,n)||this.map.set(e,[...r,n])}),Ch(this,"get",e=>this.map.get(e)||[]),Ch(this,"exists",(e,n)=>this.get(e).includes(n)),Ch(this,"delete",(e,n)=>{if(typeof n>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const r=this.get(e);if(!this.exists(e,n))return;const i=r.filter(s=>s!==n);if(!i.length){this.map.delete(e);return}this.map.set(e,i)}),Ch(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var Y3e=Object.defineProperty,Z3e=Object.defineProperties,X3e=Object.getOwnPropertyDescriptors,yM=Object.getOwnPropertySymbols,J3e=Object.prototype.hasOwnProperty,Q3e=Object.prototype.propertyIsEnumerable,h3=(t,e,n)=>e in t?Y3e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,gm=(t,e)=>{for(var n in e||(e={}))J3e.call(e,n)&&h3(t,n,e[n]);if(yM)for(var n of yM(e))Q3e.call(e,n)&&h3(t,n,e[n]);return t},y6=(t,e)=>Z3e(t,X3e(e)),Tn=(t,e,n)=>h3(t,typeof e!="symbol"?e+"":e,n);let eIe=class extends A6e{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,Tn(this,"subscriptions",new Map),Tn(this,"topicMap",new K3e),Tn(this,"events",new qs.EventEmitter),Tn(this,"name",LTe),Tn(this,"version",jTe),Tn(this,"pending",new Map),Tn(this,"cached",[]),Tn(this,"initialized",!1),Tn(this,"storagePrefix",Ko),Tn(this,"subscribeTimeout",Be.toMiliseconds(Be.ONE_MINUTE)),Tn(this,"initialSubscribeTimeout",Be.toMiliseconds(Be.ONE_SECOND*15)),Tn(this,"clientId"),Tn(this,"batchSubscribeTopicsLimit",500),Tn(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),Tn(this,"subscribe",async(r,i)=>{var s;this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}});try{const a=g_(i),c={topic:r,relay:a,transportType:i?.transportType};(s=i?.internal)!=null&&s.skipSubscribe||this.pending.set(r,c);const u=await this.rpcSubscribe(r,a,i);return typeof u=="string"&&(this.onSubscribe(u,c),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}})),u}catch(a){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(a),a}}),Tn(this,"unsubscribe",async(r,i)=>{this.isInitialized(),typeof i?.id<"u"?await this.unsubscribeById(r,i.id,i):await this.unsubscribeByTopic(r,i)}),Tn(this,"isSubscribed",r=>new Promise(i=>{i(this.topicMap.topics.includes(r))})),Tn(this,"isKnownTopic",r=>new Promise(i=>{i(this.topicMap.topics.includes(r)||this.pending.has(r)||this.cached.some(s=>s.topic===r))})),Tn(this,"on",(r,i)=>{this.events.on(r,i)}),Tn(this,"once",(r,i)=>{this.events.once(r,i)}),Tn(this,"off",(r,i)=>{this.events.off(r,i)}),Tn(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),Tn(this,"start",async()=>{await this.onConnect()}),Tn(this,"stop",async()=>{await this.onDisconnect()}),Tn(this,"restart",async()=>{await this.restore(),await this.onRestart()}),Tn(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const r=[];this.pending.forEach(i=>{r.push(i)}),await this.batchSubscribe(r)}),Tn(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(Cf.pulse,async()=>{await this.checkPending()}),this.events.on(ks.created,async r=>{const i=ks.created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:r}),await this.persist()}),this.events.on(ks.deleted,async r=>{const i=ks.deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:r}),await this.persist()})}),this.relayer=e,this.logger=Ws(n,this.name),this.clientId=""}get context(){return ys(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,n){let r=!1;try{r=this.getSubscription(e).topic===n}catch{}return r}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,n){const r=this.topicMap.get(e);await Promise.all(r.map(async i=>await this.unsubscribeById(e,i,n)))}async unsubscribeById(e,n,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}});try{const i=g_(r);await this.restartToComplete({topic:e,id:n,relay:i}),await this.rpcUnsubscribe(e,n,i);const s=jn("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,n,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,n,r){var i,s;const a=await this.getSubscriptionId(e);if((i=r?.internal)!=null&&i.skipSubscribe)return a;(!r||r?.transportType===Ln.relay)&&await this.restartToComplete({topic:e,id:e,relay:n});const c={method:Vh(n.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:c});const u=(s=r?.internal)==null?void 0:s.throwOnFailedPublish;try{if(r?.transportType===Ln.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(c).catch(p=>this.logger.warn(p))},Be.toMiliseconds(Be.ONE_SECOND)),a;const d=new Promise(async p=>{const m=g=>{g.topic===e&&(this.events.removeListener(ks.created,m),p(g.id))};this.events.on(ks.created,m);try{const g=await Do(new Promise((b,v)=>{this.relayer.request(c).catch(E=>{this.logger.warn(E,E?.message),v(E)}).then(b)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(ks.created,m),p(g)}catch{}}),h=await Do(d,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!h&&u)throw new Error(`Subscribing to ${e} failed, please try again`);return h?a:null}catch(d){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(sr.connection_stalled),u)throw d}return null}async rpcBatchSubscribe(e){if(!e.length)return;const n=e[0].relay,r={method:Vh(n.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{await await Do(new Promise(i=>{this.relayer.request(r).catch(s=>this.logger.warn(s)).then(i)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(sr.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const n=e[0].relay,r={method:Vh(n.protocol).batchFetchMessages,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});let i;try{i=await await Do(new Promise((s,a)=>{this.relayer.request(r).catch(c=>{this.logger.warn(c),a(c)}).then(s)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(sr.connection_stalled)}return i}rpcUnsubscribe(e,n,r){const i={method:Vh(r.protocol).unsubscribe,params:{topic:e,id:n}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,n){this.setSubscription(e,y6(gm({},n),{id:e})),this.pending.delete(n.topic)}onBatchSubscribe(e){e.length&&e.forEach(n=>{this.setSubscription(n.id,gm({},n)),this.pending.delete(n.topic)})}async onUnsubscribe(e,n,r){this.events.removeAllListeners(n),this.hasSubscription(n,e)&&this.deleteSubscription(n,r),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,n){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:n}),this.addSubscription(e,n)}addSubscription(e,n){this.subscriptions.set(e,gm({},n)),this.topicMap.set(n.topic,e),this.events.emit(ks.created,n)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const n=this.subscriptions.get(e);if(!n){const{message:r}=Ue("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}deleteSubscription(e,n){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:n});const r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(ks.deleted,y6(gm({},r),{reason:n}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(ks.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],n=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<n;r++){const i=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(i)}}this.events.emit(ks.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size&&!e.every(n=>{var r;return n.topic===((r=this.subscriptions.get(n.id))==null?void 0:r.topic)})){const{message:n}=Ue("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async n=>y6(gm({},n),{id:await this.getSubscriptionId(n.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const n=await this.rpcBatchFetchMessages(e);n&&n.messages&&(await jEe(Be.toMiliseconds(Be.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(n.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=Ue("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return ya(e+await this.getClientId())}};var tIe=Object.defineProperty,mM=Object.getOwnPropertySymbols,nIe=Object.prototype.hasOwnProperty,rIe=Object.prototype.propertyIsEnumerable,p3=(t,e,n)=>e in t?tIe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,gM=(t,e)=>{for(var n in e||(e={}))nIe.call(e,n)&&p3(t,n,e[n]);if(mM)for(var n of mM(e))rIe.call(e,n)&&p3(t,n,e[n]);return t},tn=(t,e,n)=>p3(t,typeof e!="symbol"?e+"":e,n);let iIe=class extends _6e{constructor(e){var n;super(e),tn(this,"protocol","wc"),tn(this,"version",2),tn(this,"core"),tn(this,"logger"),tn(this,"events",new qs.EventEmitter),tn(this,"provider"),tn(this,"messages"),tn(this,"subscriber"),tn(this,"publisher"),tn(this,"name",PTe),tn(this,"transportExplicitlyClosed",!1),tn(this,"initialized",!1),tn(this,"connectionAttemptInProgress",!1),tn(this,"relayUrl"),tn(this,"projectId"),tn(this,"packageName"),tn(this,"bundleId"),tn(this,"hasExperiencedNetworkDisruption",!1),tn(this,"pingTimeout"),tn(this,"heartBeatTimeout",Be.toMiliseconds(Be.THIRTY_SECONDS+Be.FIVE_SECONDS)),tn(this,"reconnectTimeout"),tn(this,"connectPromise"),tn(this,"reconnectInProgress",!1),tn(this,"requestsInFlight",[]),tn(this,"connectTimeout",Be.toMiliseconds(Be.ONE_SECOND*15)),tn(this,"request",async r=>{var i,s;this.logger.debug("Publishing Request Payload");const a=r.id||Iu().toString();await this.toEstablishConnection();try{this.logger.trace({id:a,method:r.method,topic:(i=r.params)==null?void 0:i.topic},"relayer.request - publishing...");const c=`${a}:${((s=r.params)==null?void 0:s.tag)||""}`;this.requestsInFlight.push(c);const u=await this.provider.request(r);return this.requestsInFlight=this.requestsInFlight.filter(d=>d!==c),u}catch(c){throw this.logger.debug(`Failed to Publish Request: ${a}`),c}}),tn(this,"resetPingTimeout",()=>{d_()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var r,i,s,a;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(a=(s=(i=(r=this.provider)==null?void 0:r.connection)==null?void 0:i.socket)==null?void 0:s.terminate)==null||a.call(s)}catch(c){this.logger.warn(c,c?.message)}},this.heartBeatTimeout))}),tn(this,"onPayloadHandler",r=>{this.onProviderPayload(r),this.resetPingTimeout()}),tn(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected "),this.startPingTimeout(),this.events.emit(sr.connect)}),tn(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected "),this.requestsInFlight=[],this.onProviderDisconnect()}),tn(this,"onProviderErrorHandler",r=>{this.logger.fatal(`Fatal socket error: ${r.message}`),this.events.emit(sr.error,r),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),tn(this,"registerProviderListeners",()=>{this.provider.on(sa.payload,this.onPayloadHandler),this.provider.on(sa.connect,this.onConnectHandler),this.provider.on(sa.disconnect,this.onDisconnectHandler),this.provider.on(sa.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=aO({logger:(n=e.logger)!=null?n:$Te,name:this.name}),this.messages=new L3e(this.logger,e.core),this.subscriber=new eIe(this,this.logger),this.publisher=new V3e(this,this.logger),this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||aH,SEe()?this.packageName=ZD():xEe()&&(this.bundleId=ZD()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e?.message))}get context(){return ys(this.logger)}get connected(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===1||!1}get connecting(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,n,r){this.isInitialized(),await this.publisher.publish(e,n,r),await this.recordMessageEvent({topic:e,message:n,publishedAt:Date.now(),transportType:Ln.relay},s1.outbound)}async publishCustom(e){this.isInitialized(),await this.publisher.publishCustom(e)}async subscribe(e,n){var r,i,s;this.isInitialized(),(!(n!=null&&n.transportType)||n?.transportType==="relay")&&await this.toEstablishConnection();const a=typeof((r=n?.internal)==null?void 0:r.throwOnFailedPublish)>"u"?!0:(i=n?.internal)==null?void 0:i.throwOnFailedPublish;let c=((s=this.subscriber.topicMap.get(e))==null?void 0:s[0])||"",u;const d=h=>{h.topic===e&&(this.subscriber.off(ks.created,d),u())};return await Promise.all([new Promise(h=>{u=h,this.subscriber.on(ks.created,d)}),new Promise(async(h,p)=>{c=await this.subscriber.subscribe(e,gM({internal:{throwOnFailedPublish:a}},n)).catch(m=>{a&&p(m)})||c,h()})]),c}async unsubscribe(e,n){this.isInitialized(),await this.subscriber.unsubscribe(e,n)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await Do(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.info("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(n,r)=>{await this.connect(e).then(n).catch(r).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await F9())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if(e?.length===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const n=e.sort((r,i)=>r.publishedAt-i.publishedAt);this.logger.debug(`Batch of ${n.length} message events sorted`);for(const r of n)try{await this.onMessageEvent(r)}catch(i){this.logger.warn(i,"Error while processing batch message event: "+i?.message)}this.logger.trace(`Batch of ${n.length} message events processed`)}async onLinkMessageEvent(e,n){const{topic:r}=e;if(!n.sessionExists){const i=yr(Be.FIVE_MINUTES),s={topic:r,expiry:i,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(r,s)}this.events.emit(sr.message,e),await this.recordMessageEvent(e,s1.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let n=1;for(;n<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${n}...`),await this.createProvider(),await new Promise(async(r,i)=>{const s=()=>{i(new Error("Connection interrupted while trying to connect"))};this.provider.once(sa.disconnect,s),await Do(new Promise((a,c)=>{this.provider.connect().then(a).catch(c)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(a=>{i(a)}).finally(()=>{this.provider.off(sa.disconnect,s),clearTimeout(this.reconnectTimeout)}),await new Promise(async(a,c)=>{const u=()=>{i(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(sa.disconnect,u),await this.subscriber.start().then(a).catch(c).finally(()=>{this.provider.off(sa.disconnect,u)})}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){await this.subscriber.stop();const i=r;this.logger.warn({},i.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${n}`);break}await new Promise(r=>setTimeout(r,Be.toMiliseconds(n*1))),n++}}startPingTimeout(){var e,n,r,i,s;if(d_())try{(n=(e=this.provider)==null?void 0:e.connection)!=null&&n.socket&&((s=(i=(r=this.provider)==null?void 0:r.connection)==null?void 0:i.socket)==null||s.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(a){this.logger.warn(a,a?.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new lO(new _Te(kEe({sdkVersion:c3,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,n){const{topic:r,message:i}=e;await this.messages.set(r,i,n)}async shouldIgnoreMessageEvent(e){const{topic:n,message:r}=e;if(!r||r.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isKnownTopic(n))return this.logger.warn(`Ignoring message for unknown topic ${n}`),!0;const i=this.messages.has(n,r);return i&&this.logger.warn(`Ignoring duplicate message: ${r}`),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),cO(e)){if(!e.method.endsWith(DTe))return;const n=e.params,{topic:r,message:i,publishedAt:s,attestation:a}=n.data,c={topic:r,message:i,publishedAt:s,transportType:Ln.relay,attestation:a};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(gM({type:"event",event:n.id},c)),this.events.emit(n.id,c),await this.acknowledgePayload(e),await this.onMessageEvent(c)}else WE(e)&&this.events.emit(sr.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,s1.inbound),this.events.emit(sr.message,e))}async acknowledgePayload(e){const n=O0(e.id,!0);await this.provider.connection.send(n)}unregisterProviderListeners(){this.provider.off(sa.payload,this.onPayloadHandler),this.provider.off(sa.connect,this.onConnectHandler),this.provider.off(sa.disconnect,this.onDisconnectHandler),this.provider.off(sa.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await F9();Axe(async n=>{e!==n&&(e=n,n?await this.transportOpen().catch(r=>this.logger.error(r,r?.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(Cf.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&Txe())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(n){this.logger.warn(n,n?.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(sr.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e?.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},Be.toMiliseconds(MTe)))))}isInitialized(){if(!this.initialized){const{message:e}=Ue("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}};function sIe(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function bM(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function wM(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const aIe="[object RegExp]",oIe="[object String]",cIe="[object Number]",lIe="[object Boolean]",vM="[object Arguments]",uIe="[object Symbol]",dIe="[object Date]",fIe="[object Map]",hIe="[object Set]",pIe="[object Array]",yIe="[object Function]",mIe="[object ArrayBuffer]",m6="[object Object]",gIe="[object Error]",bIe="[object DataView]",wIe="[object Uint8Array]",vIe="[object Uint8ClampedArray]",_Ie="[object Uint16Array]",EIe="[object Uint32Array]",AIe="[object BigUint64Array]",SIe="[object Int8Array]",xIe="[object Int16Array]",TIe="[object Int32Array]",IIe="[object BigInt64Array]",CIe="[object Float32Array]",OIe="[object Float64Array]";function kIe(){}function _M(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function RIe(t,e,n){return _g(t,e,void 0,void 0,void 0,void 0,n)}function _g(t,e,n,r,i,s,a){const c=a(t,e,n,r,i,s);if(c!==void 0)return c;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return Bg(t,e,s,a)}return Bg(t,e,s,a)}function Bg(t,e,n,r){if(Object.is(t,e))return!0;let i=wM(t),s=wM(e);if(i===vM&&(i=m6),s===vM&&(s=m6),i!==s)return!1;switch(i){case oIe:return t.toString()===e.toString();case cIe:{const u=t.valueOf(),d=e.valueOf();return sIe(u,d)}case lIe:case dIe:case uIe:return Object.is(t.valueOf(),e.valueOf());case aIe:return t.source===e.source&&t.flags===e.flags;case yIe:return t===e}n=n??new Map;const a=n.get(t),c=n.get(e);if(a!=null&&c!=null)return a===e;n.set(t,e),n.set(e,t);try{switch(i){case fIe:{if(t.size!==e.size)return!1;for(const[u,d]of t.entries())if(!e.has(u)||!_g(d,e.get(u),u,t,e,n,r))return!1;return!0}case hIe:{if(t.size!==e.size)return!1;const u=Array.from(t.values()),d=Array.from(e.values());for(let h=0;h<u.length;h++){const p=u[h],m=d.findIndex(g=>_g(p,g,void 0,t,e,n,r));if(m===-1)return!1;d.splice(m,1)}return!0}case pIe:case wIe:case vIe:case _Ie:case EIe:case AIe:case SIe:case xIe:case TIe:case IIe:case CIe:case OIe:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let u=0;u<t.length;u++)if(!_g(t[u],e[u],u,t,e,n,r))return!1;return!0}case mIe:return t.byteLength!==e.byteLength?!1:Bg(new Uint8Array(t),new Uint8Array(e),n,r);case bIe:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:Bg(new Uint8Array(t),new Uint8Array(e),n,r);case gIe:return t.name===e.name&&t.message===e.message;case m6:{if(!(Bg(t.constructor,e.constructor,n,r)||_M(t)&&_M(e)))return!1;const u=[...Object.keys(t),...bM(t)],d=[...Object.keys(e),...bM(e)];if(u.length!==d.length)return!1;for(let h=0;h<u.length;h++){const p=u[h],m=t[p];if(!Object.hasOwn(e,p))return!1;const g=e[p];if(!_g(m,g,p,t,e,n,r))return!1}return!0}default:return!1}}finally{n.delete(t),n.delete(e)}}function NIe(t,e){return RIe(t,e,kIe)}var $Ie=Object.defineProperty,EM=Object.getOwnPropertySymbols,PIe=Object.prototype.hasOwnProperty,DIe=Object.prototype.propertyIsEnumerable,y3=(t,e,n)=>e in t?$Ie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,AM=(t,e)=>{for(var n in e||(e={}))PIe.call(e,n)&&y3(t,n,e[n]);if(EM)for(var n of EM(e))DIe.call(e,n)&&y3(t,n,e[n]);return t},Ji=(t,e,n)=>y3(t,typeof e!="symbol"?e+"":e,n);let kf=class extends E6e{constructor(e,n,r,i=Ko,s=void 0){super(e,n,r,i),this.core=e,this.logger=n,this.name=r,Ji(this,"map",new Map),Ji(this,"version",UTe),Ji(this,"cached",[]),Ji(this,"initialized",!1),Ji(this,"getKey"),Ji(this,"storagePrefix",Ko),Ji(this,"recentlyDeleted",[]),Ji(this,"recentlyDeletedLimit",200),Ji(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(a=>{this.getKey&&a!==null&&!Rr(a)?this.map.set(this.getKey(a),a):exe(a)?this.map.set(a.id,a):txe(a)&&this.map.set(a.topic,a)}),this.cached=[],this.initialized=!0)}),Ji(this,"set",async(a,c)=>{this.isInitialized(),this.map.has(a)?await this.update(a,c):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:a,value:c}),this.map.set(a,c),await this.persist())}),Ji(this,"get",a=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:a}),this.getData(a))),Ji(this,"getAll",a=>(this.isInitialized(),a?this.values.filter(c=>Object.keys(a).every(u=>NIe(c[u],a[u]))):this.values)),Ji(this,"update",async(a,c)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:a,update:c});const u=AM(AM({},this.getData(a)),c);this.map.set(a,u),await this.persist()}),Ji(this,"delete",async(a,c)=>{this.isInitialized(),this.map.has(a)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:a,reason:c}),this.map.delete(a),this.addToRecentlyDeleted(a),await this.persist())}),this.logger=Ws(n,this.name),this.storagePrefix=i,this.getKey=s}get context(){return ys(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const n=this.map.get(e);if(!n){if(this.recentlyDeleted.includes(e)){const{message:i}=Ue("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}const{message:r}=Ue("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(r),new Error(r)}return n}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:n}=Ue("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=Ue("NOT_INITIALIZED",this.name);throw new Error(e)}}};var MIe=Object.defineProperty,UIe=(t,e,n)=>e in t?MIe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Wt=(t,e,n)=>UIe(t,typeof e!="symbol"?e+"":e,n);let BIe=class{constructor(e,n){this.core=e,this.logger=n,Wt(this,"name",zTe),Wt(this,"version",FTe),Wt(this,"events",new OC),Wt(this,"pairings"),Wt(this,"initialized",!1),Wt(this,"storagePrefix",Ko),Wt(this,"ignoredPayloadTypes",[sl]),Wt(this,"registeredMethods",[]),Wt(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),Wt(this,"register",({methods:r})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...r])]}),Wt(this,"create",async r=>{this.isInitialized();const i=t3(),s=await this.core.crypto.setSymKey(i),a=yr(Be.FIVE_MINUTES),c={protocol:sH},u={topic:s,expiry:a,relay:c,active:!1,methods:r?.methods},d=$9({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:i,relay:c,expiryTimestamp:a,methods:r?.methods});return this.events.emit(Nd.create,u),this.core.expirer.set(s,a),await this.pairings.set(s,u),await this.core.relayer.subscribe(s,{transportType:r?.transportType,internal:r?.internal}),{topic:s,uri:d}}),Wt(this,"pair",async r=>{this.isInitialized();const i=this.core.eventClient.createEvent({properties:{topic:r?.uri,trace:[Co.pairing_started]}});this.isValidPair(r,i);const{topic:s,symKey:a,relay:c,expiryTimestamp:u,methods:d}=N9(r.uri);i.props.properties.topic=s,i.addTrace(Co.pairing_uri_validation_success),i.addTrace(Co.pairing_uri_not_expired);let h;if(this.pairings.keys.includes(s)){if(h=this.pairings.get(s),i.addTrace(Co.existing_pairing),h.active)throw i.setError(Uc.active_pairing_already_exists),new Error(`Pairing already exists: ${s}. Please try again with a new connection URI.`);i.addTrace(Co.pairing_not_expired)}const p=u||yr(Be.FIVE_MINUTES),m={topic:s,relay:c,expiry:p,active:!1,methods:d};this.core.expirer.set(s,p),await this.pairings.set(s,m),i.addTrace(Co.store_new_pairing),r.activatePairing&&await this.activate({topic:s}),this.events.emit(Nd.create,m),i.addTrace(Co.emit_inactive_pairing),this.core.crypto.keychain.has(s)||await this.core.crypto.setSymKey(a,s),i.addTrace(Co.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{i.setError(Uc.no_internet_connection)}try{await this.core.relayer.subscribe(s,{relay:c})}catch(g){throw i.setError(Uc.subscribe_pairing_topic_failure),g}return i.addTrace(Co.subscribe_pairing_topic_success),m}),Wt(this,"activate",async({topic:r})=>{this.isInitialized();const i=yr(Be.FIVE_MINUTES);this.core.expirer.set(r,i),await this.pairings.update(r,{active:!0,expiry:i})}),Wt(this,"ping",async r=>{this.isInitialized(),await this.isValidPing(r),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:i}=r;if(this.pairings.keys.includes(i)){const s=await this.sendRequest(i,"wc_pairingPing",{}),{done:a,resolve:c,reject:u}=Td();this.events.once(cn("pairing_ping",s),({error:d})=>{d?u(d):c()}),await a()}}),Wt(this,"updateExpiry",async({topic:r,expiry:i})=>{this.isInitialized(),await this.pairings.update(r,{expiry:i})}),Wt(this,"updateMetadata",async({topic:r,metadata:i})=>{this.isInitialized(),await this.pairings.update(r,{peerMetadata:i})}),Wt(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),Wt(this,"disconnect",async r=>{this.isInitialized(),await this.isValidDisconnect(r);const{topic:i}=r;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",jn("USER_DISCONNECTED")),await this.deletePairing(i))}),Wt(this,"formatUriFromPairing",r=>{this.isInitialized();const{topic:i,relay:s,expiry:a,methods:c}=r,u=this.core.crypto.keychain.get(i);return $9({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:u,relay:s,expiryTimestamp:a,methods:c})}),Wt(this,"sendRequest",async(r,i,s)=>{const a=Ya(i,s),c=await this.core.crypto.encode(r,a),u=ym[i].req;return this.core.history.set(r,a),this.core.relayer.publish(r,c,u),a.id}),Wt(this,"sendResult",async(r,i,s)=>{const a=O0(r,s),c=await this.core.crypto.encode(i,a),u=(await this.core.history.get(i,r)).request.method,d=ym[u].res;await this.core.relayer.publish(i,c,d),await this.core.history.resolve(a)}),Wt(this,"sendError",async(r,i,s)=>{const a=qE(r,s),c=await this.core.crypto.encode(i,a),u=(await this.core.history.get(i,r)).request.method,d=ym[u]?ym[u].res:ym.unregistered_method.res;await this.core.relayer.publish(i,c,d),await this.core.history.resolve(a)}),Wt(this,"deletePairing",async(r,i)=>{await this.core.relayer.unsubscribe(r),await Promise.all([this.pairings.delete(r,jn("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(r),i?Promise.resolve():this.core.expirer.del(r)])}),Wt(this,"cleanup",async()=>{const r=this.pairings.getAll().filter(i=>$o(i.expiry));await Promise.all(r.map(i=>this.deletePairing(i.topic)))}),Wt(this,"onRelayEventRequest",async r=>{const{topic:i,payload:s}=r;switch(s.method){case"wc_pairingPing":return await this.onPairingPingRequest(i,s);case"wc_pairingDelete":return await this.onPairingDeleteRequest(i,s);default:return await this.onUnknownRpcMethodRequest(i,s)}}),Wt(this,"onRelayEventResponse",async r=>{const{topic:i,payload:s}=r,a=(await this.core.history.get(i,s.id)).request.method;return a==="wc_pairingPing"?this.onPairingPingResponse(i,s):this.onUnknownRpcMethodResponse(a)}),Wt(this,"onPairingPingRequest",async(r,i)=>{const{id:s}=i;try{this.isValidPing({topic:r}),await this.sendResult(s,r,!0),this.events.emit(Nd.ping,{id:s,topic:r})}catch(a){await this.sendError(s,r,a),this.logger.error(a)}}),Wt(this,"onPairingPingResponse",(r,i)=>{const{id:s}=i;setTimeout(()=>{ko(i)?this.events.emit(cn("pairing_ping",s),{}):ma(i)&&this.events.emit(cn("pairing_ping",s),{error:i.error})},500)}),Wt(this,"onPairingDeleteRequest",async(r,i)=>{const{id:s}=i;try{this.isValidDisconnect({topic:r}),await this.deletePairing(r),this.events.emit(Nd.delete,{id:s,topic:r})}catch(a){await this.sendError(s,r,a),this.logger.error(a)}}),Wt(this,"onUnknownRpcMethodRequest",async(r,i)=>{const{id:s,method:a}=i;try{if(this.registeredMethods.includes(a))return;const c=jn("WC_METHOD_UNSUPPORTED",a);await this.sendError(s,r,c),this.logger.error(c)}catch(c){await this.sendError(s,r,c),this.logger.error(c)}}),Wt(this,"onUnknownRpcMethodResponse",r=>{this.registeredMethods.includes(r)||this.logger.error(jn("WC_METHOD_UNSUPPORTED",r))}),Wt(this,"isValidPair",(r,i)=>{var s;if(!es(r)){const{message:c}=Ue("MISSING_OR_INVALID",`pair() params: ${r}`);throw i.setError(Uc.malformed_pairing_uri),new Error(c)}if(!QSe(r.uri)){const{message:c}=Ue("MISSING_OR_INVALID",`pair() uri: ${r.uri}`);throw i.setError(Uc.malformed_pairing_uri),new Error(c)}const a=N9(r?.uri);if(!((s=a?.relay)!=null&&s.protocol)){const{message:c}=Ue("MISSING_OR_INVALID","pair() uri#relay-protocol");throw i.setError(Uc.malformed_pairing_uri),new Error(c)}if(!(a!=null&&a.symKey)){const{message:c}=Ue("MISSING_OR_INVALID","pair() uri#symKey");throw i.setError(Uc.malformed_pairing_uri),new Error(c)}if(a!=null&&a.expiryTimestamp&&Be.toMiliseconds(a?.expiryTimestamp)<Date.now()){i.setError(Uc.pairing_expired);const{message:c}=Ue("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(c)}}),Wt(this,"isValidPing",async r=>{if(!es(r)){const{message:s}=Ue("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(s)}const{topic:i}=r;await this.isValidPairingTopic(i)}),Wt(this,"isValidDisconnect",async r=>{if(!es(r)){const{message:s}=Ue("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(s)}const{topic:i}=r;await this.isValidPairingTopic(i)}),Wt(this,"isValidPairingTopic",async r=>{if(!wr(r,!1)){const{message:i}=Ue("MISSING_OR_INVALID",`pairing topic should be a string: ${r}`);throw new Error(i)}if(!this.pairings.keys.includes(r)){const{message:i}=Ue("NO_MATCHING_KEY",`pairing topic doesn't exist: ${r}`);throw new Error(i)}if($o(this.pairings.get(r).expiry)){await this.deletePairing(r);const{message:i}=Ue("EXPIRED",`pairing topic: ${r}`);throw new Error(i)}}),this.core=e,this.logger=Ws(n,this.name),this.pairings=new kf(this.core,this.logger,this.name,this.storagePrefix)}get context(){return ys(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=Ue("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(sr.message,async e=>{const{topic:n,message:r,transportType:i}=e;if(this.pairings.keys.includes(n)&&i!==Ln.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))try{const s=await this.core.crypto.decode(n,r);cO(s)?(this.core.history.set(n,s),await this.onRelayEventRequest({topic:n,payload:s})):WE(s)&&(await this.core.history.resolve(s),await this.onRelayEventResponse({topic:n,payload:s}),this.core.history.delete(n,s.id)),await this.core.relayer.messages.ack(n,r)}catch(s){this.logger.error(s)}})}registerExpirerEvents(){this.core.expirer.on(da.expired,async e=>{const{topic:n}=YW(e.target);n&&this.pairings.keys.includes(n)&&(await this.deletePairing(n,!0),this.events.emit(Nd.expire,{topic:n}))})}};var LIe=Object.defineProperty,jIe=(t,e,n)=>e in t?LIe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ii=(t,e,n)=>jIe(t,typeof e!="symbol"?e+"":e,n);let zIe=class extends b6e{constructor(e,n){super(e,n),this.core=e,this.logger=n,ii(this,"records",new Map),ii(this,"events",new qs.EventEmitter),ii(this,"name",qTe),ii(this,"version",WTe),ii(this,"cached",[]),ii(this,"initialized",!1),ii(this,"storagePrefix",Ko),ii(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.records.set(r.id,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),ii(this,"set",(r,i,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:r,request:i,chainId:s}),this.records.has(i.id))return;const a={id:i.id,topic:r,request:{method:i.method,params:i.params||null},chainId:s,expiry:yr(Be.THIRTY_DAYS)};this.records.set(a.id,a),this.persist(),this.events.emit(Ba.created,a)}),ii(this,"resolve",async r=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:r}),!this.records.has(r.id))return;const i=await this.getRecord(r.id);typeof i.response>"u"&&(i.response=ma(r)?{error:r.error}:{result:r.result},this.records.set(i.id,i),this.persist(),this.events.emit(Ba.updated,i))}),ii(this,"get",async(r,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:r,id:i}),await this.getRecord(i))),ii(this,"delete",(r,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(s=>{if(s.topic===r){if(typeof i<"u"&&s.id!==i)return;this.records.delete(s.id),this.events.emit(Ba.deleted,s)}}),this.persist()}),ii(this,"exists",async(r,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===r:!1)),ii(this,"on",(r,i)=>{this.events.on(r,i)}),ii(this,"once",(r,i)=>{this.events.once(r,i)}),ii(this,"off",(r,i)=>{this.events.off(r,i)}),ii(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.logger=Ws(n,this.name)}get context(){return ys(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(n=>{if(typeof n.response<"u")return;const r={topic:n.topic,request:Ya(n.request.method,n.request.params,n.id),chainId:n.chainId};return e.push(r)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const n=this.records.get(e);if(!n){const{message:r}=Ue("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Ba.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:n}=Ue("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(Ba.created,e=>{const n=Ba.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(Ba.updated,e=>{const n=Ba.updated;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(Ba.deleted,e=>{const n=Ba.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.core.heartbeat.on(Cf.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(n=>{Be.toMiliseconds(n.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${n.id}`),this.records.delete(n.id),this.events.emit(Ba.deleted,n,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=Ue("NOT_INITIALIZED",this.name);throw new Error(e)}}};var FIe=Object.defineProperty,qIe=(t,e,n)=>e in t?FIe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ei=(t,e,n)=>qIe(t,typeof e!="symbol"?e+"":e,n);let WIe=class extends S6e{constructor(e,n){super(e,n),this.core=e,this.logger=n,Ei(this,"expirations",new Map),Ei(this,"events",new qs.EventEmitter),Ei(this,"name",VTe),Ei(this,"version",HTe),Ei(this,"cached",[]),Ei(this,"initialized",!1),Ei(this,"storagePrefix",Ko),Ei(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.expirations.set(r.target,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Ei(this,"has",r=>{try{const i=this.formatTarget(r);return typeof this.getExpiration(i)<"u"}catch{return!1}}),Ei(this,"set",(r,i)=>{this.isInitialized();const s=this.formatTarget(r),a={target:s,expiry:i};this.expirations.set(s,a),this.checkExpiry(s,a),this.events.emit(da.created,{target:s,expiration:a})}),Ei(this,"get",r=>{this.isInitialized();const i=this.formatTarget(r);return this.getExpiration(i)}),Ei(this,"del",r=>{if(this.isInitialized(),this.has(r)){const i=this.formatTarget(r),s=this.getExpiration(i);this.expirations.delete(i),this.events.emit(da.deleted,{target:i,expiration:s})}}),Ei(this,"on",(r,i)=>{this.events.on(r,i)}),Ei(this,"once",(r,i)=>{this.events.once(r,i)}),Ei(this,"off",(r,i)=>{this.events.off(r,i)}),Ei(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.logger=Ws(n,this.name)}get context(){return ys(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return REe(e);if(typeof e=="number")return NEe(e);const{message:n}=Ue("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(n)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(da.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:n}=Ue("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const n=this.expirations.get(e);if(!n){const{message:r}=Ue("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(r),new Error(r)}return n}checkExpiry(e,n){const{expiry:r}=n;Be.toMiliseconds(r)-Date.now()<=0&&this.expire(e,n)}expire(e,n){this.expirations.delete(e),this.events.emit(da.expired,{target:e,expiration:n})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,n)=>this.checkExpiry(n,e))}registerEventListeners(){this.core.heartbeat.on(Cf.pulse,()=>this.checkExpirations()),this.events.on(da.created,e=>{const n=da.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(da.expired,e=>{const n=da.expired;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(da.deleted,e=>{const n=da.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=Ue("NOT_INITIALIZED",this.name);throw new Error(e)}}};var VIe=Object.defineProperty,HIe=(t,e,n)=>e in t?VIe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,hr=(t,e,n)=>HIe(t,typeof e!="symbol"?e+"":e,n);let GIe=class extends x6e{constructor(e,n,r){super(e,n,r),this.core=e,this.logger=n,this.store=r,hr(this,"name",GTe),hr(this,"abortController"),hr(this,"isDevEnv"),hr(this,"verifyUrlV3",YTe),hr(this,"storagePrefix",Ko),hr(this,"version",iH),hr(this,"publicKey"),hr(this,"fetchPromise"),hr(this,"init",async()=>{var i;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&Be.toMiliseconds((i=this.publicKey)==null?void 0:i.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),hr(this,"register",async i=>{if(!Kp()||this.isDevEnv)return;const s=window.location.origin,{id:a,decryptedId:c}=i,u=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${s}&id=${a}&decryptedId=${c}`;try{const d=fl.getDocument(),h=this.startAbortTimer(Be.ONE_SECOND*5),p=await new Promise((m,g)=>{const b=()=>{window.removeEventListener("message",E),d.body.removeChild(v),g("attestation aborted")};this.abortController.signal.addEventListener("abort",b);const v=d.createElement("iframe");v.src=u,v.style.display="none",v.addEventListener("error",b,{signal:this.abortController.signal});const E=O=>{if(O.data&&typeof O.data=="string")try{const k=JSON.parse(O.data);if(k.type==="verify_attestation"){if(z5(k.attestation).payload.id!==a)return;clearInterval(h),d.body.removeChild(v),this.abortController.signal.removeEventListener("abort",b),window.removeEventListener("message",E),m(k.attestation===null?"":k.attestation)}}catch(k){this.logger.warn(k)}};d.body.appendChild(v),window.addEventListener("message",E,{signal:this.abortController.signal})});return this.logger.debug(p,"jwt attestation"),p}catch(d){this.logger.warn(d)}return""}),hr(this,"resolve",async i=>{if(this.isDevEnv)return"";const{attestationId:s,hash:a,encryptedId:c}=i;if(s===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(s){if(z5(s).payload.id!==c)return;const d=await this.isValidJwtAttestation(s);if(d){if(!d.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return d}}if(!a)return;const u=this.getVerifyUrl(i?.verifyUrl);return this.fetchAttestation(a,u)}),hr(this,"fetchAttestation",async(i,s)=>{this.logger.debug(`resolving attestation: ${i} from url: ${s}`);const a=this.startAbortTimer(Be.ONE_SECOND*5),c=await fetch(`${s}/attestation/${i}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(a),c.status===200?await c.json():void 0}),hr(this,"getVerifyUrl",i=>{let s=i||Ug;return ZTe.includes(s)||(this.logger.info(`verify url: ${s}, not included in trusted list, assigning default: ${Ug}`),s=Ug),s}),hr(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const i=this.startAbortTimer(Be.FIVE_SECONDS),s=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(i),await s.json()}catch(i){this.logger.warn(i)}}),hr(this,"persistPublicKey",async i=>{this.logger.debug(i,"persisting public key to local storage"),await this.store.setItem(this.storeKey,i),this.publicKey=i}),hr(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),hr(this,"isValidJwtAttestation",async i=>{const s=await this.getPublicKey();try{if(s)return this.validateAttestation(i,s)}catch(c){this.logger.error(c),this.logger.warn("error validating attestation")}const a=await this.fetchAndPersistPublicKey();try{if(a)return this.validateAttestation(i,a)}catch(c){this.logger.error(c),this.logger.warn("error validating attestation")}}),hr(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),hr(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async s=>{const a=await this.fetchPublicKey();a&&(await this.persistPublicKey(a),s(a))});const i=await this.fetchPromise;return this.fetchPromise=void 0,i}),hr(this,"validateAttestation",(i,s)=>{const a=TSe(i,s.publicKey),c={hasExpired:Be.toMiliseconds(a.exp)<Date.now(),payload:a};if(c.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:c.payload.origin,isScam:c.payload.isScam,isVerified:c.payload.isVerified}}),this.logger=Ws(n,this.name),this.abortController=new AbortController,this.isDevEnv=KC(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return ys(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),Be.toMiliseconds(e))}};var KIe=Object.defineProperty,YIe=(t,e,n)=>e in t?KIe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,SM=(t,e,n)=>YIe(t,typeof e!="symbol"?e+"":e,n);let ZIe=class extends T6e{constructor(e,n){super(e,n),this.projectId=e,this.logger=n,SM(this,"context",XTe),SM(this,"registerDeviceToken",async r=>{const{clientId:i,token:s,notificationType:a,enableEncrypted:c=!1}=r,u=`${JTe}/${this.projectId}/clients`;await fetch(u,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:a,token:s,always_raw:c})})}),this.logger=Ws(n,this.context)}};var XIe=Object.defineProperty,xM=Object.getOwnPropertySymbols,JIe=Object.prototype.hasOwnProperty,QIe=Object.prototype.propertyIsEnumerable,m3=(t,e,n)=>e in t?XIe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,bm=(t,e)=>{for(var n in e||(e={}))JIe.call(e,n)&&m3(t,n,e[n]);if(xM)for(var n of xM(e))QIe.call(e,n)&&m3(t,n,e[n]);return t},jr=(t,e,n)=>m3(t,typeof e!="symbol"?e+"":e,n);let eCe=class extends I6e{constructor(e,n,r=!0){super(e,n,r),this.core=e,this.logger=n,jr(this,"context",e5e),jr(this,"storagePrefix",Ko),jr(this,"storageVersion",QTe),jr(this,"events",new Map),jr(this,"shouldPersist",!1),jr(this,"init",async()=>{if(!KC())try{const i={eventId:JD(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:GW(this.core.relayer.protocol,this.core.relayer.version,c3)}}};await this.sendEvent([i])}catch(i){this.logger.warn(i)}}),jr(this,"createEvent",i=>{const{event:s="ERROR",type:a="",properties:{topic:c,trace:u}}=i,d=JD(),h=this.core.projectId||"",p=Date.now(),m=bm({eventId:d,timestamp:p,props:{event:s,type:a,properties:{topic:c,trace:u}},bundleId:h,domain:this.getAppDomain()},this.setMethods(d));return this.telemetryEnabled&&(this.events.set(d,m),this.shouldPersist=!0),m}),jr(this,"getEvent",i=>{const{eventId:s,topic:a}=i;if(s)return this.events.get(s);const c=Array.from(this.events.values()).find(u=>u.props.properties.topic===a);if(c)return bm(bm({},c),this.setMethods(c.eventId))}),jr(this,"deleteEvent",i=>{const{eventId:s}=i;this.events.delete(s),this.shouldPersist=!0}),jr(this,"setEventListeners",()=>{this.core.heartbeat.on(Cf.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(i=>{Be.fromMiliseconds(Date.now())-Be.fromMiliseconds(i.timestamp)>t5e&&(this.events.delete(i.eventId),this.shouldPersist=!0)})})}),jr(this,"setMethods",i=>({addTrace:s=>this.addTrace(i,s),setError:s=>this.setError(i,s)})),jr(this,"addTrace",(i,s)=>{const a=this.events.get(i);a&&(a.props.properties.trace.push(s),this.events.set(i,a),this.shouldPersist=!0)}),jr(this,"setError",(i,s)=>{const a=this.events.get(i);a&&(a.props.type=s,a.timestamp=Date.now(),this.events.set(i,a),this.shouldPersist=!0)}),jr(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),jr(this,"restore",async()=>{try{const i=await this.core.storage.getItem(this.storageKey)||[];if(!i.length)return;i.forEach(s=>{this.events.set(s.eventId,bm(bm({},s),this.setMethods(s.eventId)))})}catch(i){this.logger.warn(i)}}),jr(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const i=[];for(const[s,a]of this.events)a.props.type&&i.push(a);if(i.length!==0)try{if((await this.sendEvent(i)).ok)for(const s of i)this.events.delete(s.eventId),this.shouldPersist=!0}catch(s){this.logger.warn(s)}}),jr(this,"sendEvent",async i=>{const s=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${n5e}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${c3}${s}`,{method:"POST",body:JSON.stringify(i)})}),jr(this,"getAppDomain",()=>HW().url),this.logger=Ws(n,this.context),this.telemetryEnabled=r,r?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}};var tCe=Object.defineProperty,TM=Object.getOwnPropertySymbols,nCe=Object.prototype.hasOwnProperty,rCe=Object.prototype.propertyIsEnumerable,g3=(t,e,n)=>e in t?tCe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,IM=(t,e)=>{for(var n in e||(e={}))nCe.call(e,n)&&g3(t,n,e[n]);if(TM)for(var n of TM(e))rCe.call(e,n)&&g3(t,n,e[n]);return t},kn=(t,e,n)=>g3(t,typeof e!="symbol"?e+"":e,n);let iCe=class wH extends p6e{constructor(e){var n;super(e),kn(this,"protocol",rH),kn(this,"version",iH),kn(this,"name",o3),kn(this,"relayUrl"),kn(this,"projectId"),kn(this,"customStoragePrefix"),kn(this,"events",new qs.EventEmitter),kn(this,"logger"),kn(this,"heartbeat"),kn(this,"relayer"),kn(this,"crypto"),kn(this,"storage"),kn(this,"history"),kn(this,"expirer"),kn(this,"pairing"),kn(this,"verify"),kn(this,"echoClient"),kn(this,"linkModeSupportedApps"),kn(this,"eventClient"),kn(this,"initialized",!1),kn(this,"logChunkController"),kn(this,"on",(c,u)=>this.events.on(c,u)),kn(this,"once",(c,u)=>this.events.once(c,u)),kn(this,"off",(c,u)=>this.events.off(c,u)),kn(this,"removeListener",(c,u)=>this.events.removeListener(c,u)),kn(this,"dispatchEnvelope",({topic:c,message:u,sessionExists:d})=>{if(!c||!u)return;const h={topic:c,message:u,publishedAt:Date.now(),transportType:Ln.link_mode};this.relayer.onLinkMessageEvent(h,{sessionExists:d})});const r=this.getGlobalCore(e?.customStoragePrefix);if(r)try{return this.customStoragePrefix=r.customStoragePrefix,this.logger=r.logger,this.heartbeat=r.heartbeat,this.crypto=r.crypto,this.history=r.history,this.expirer=r.expirer,this.storage=r.storage,this.relayer=r.relayer,this.pairing=r.pairing,this.verify=r.verify,this.echoClient=r.echoClient,this.linkModeSupportedApps=r.linkModeSupportedApps,this.eventClient=r.eventClient,this.initialized=r.initialized,this.logChunkController=r.logChunkController,r}catch(c){console.warn("Failed to copy global core",c)}this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||aH,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const i=lEe({level:typeof e?.logger=="string"&&e.logger?e.logger:ATe.logger,name:o3}),{logger:s,chunkLoggerController:a}=WW({opts:i,maxSizeInBytes:e?.maxLogBlobSizeInBytes,loggerOverride:e?.logger});this.logChunkController=a,(n=this.logChunkController)!=null&&n.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var c,u;(c=this.logChunkController)!=null&&c.downloadLogsBlobInBrowser&&((u=this.logChunkController)==null||u.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=Ws(s,this.name),this.heartbeat=new Mxe,this.crypto=new R3e(this,this.logger,e?.keychain),this.history=new zIe(this,this.logger),this.expirer=new WIe(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new d6e(IM(IM({},STe),e?.storageOptions)),this.relayer=new iIe({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new BIe(this,this.logger),this.verify=new GIe(this,this.logger,this.storage),this.echoClient=new ZIe(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new eCe(this,this.logger,e?.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const n=new wH(e);await n.initialize();const r=await n.crypto.getClientId();return await n.storage.setItem(BTe,r),n}get context(){return ys(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(sM,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(sM)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(e,`Core Initialization Failure at epoch ${Date.now()}`),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${e}`,r=`${n}_count`;return globalThis[r]=(globalThis[r]||0)+1,globalThis[r]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[r]} times.`),globalThis[n]}catch(n){console.warn("Failed to get global WalletConnect core",n);return}}setGlobalCore(e){var n;try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${((n=e.opts)==null?void 0:n.customStoragePrefix)||""}`;globalThis[r]=e}catch(r){console.warn("Failed to set global WalletConnect core",r)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&ETe.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const sCe=iCe,vH="wc",_H=2,EH="client",uO=`${vH}@${_H}:${EH}:`,g6={name:EH,logger:"error"},CM="WALLETCONNECT_DEEPLINK_CHOICE",aCe="proposal",OM="Proposal expired",oCe="session",Oh=Be.SEVEN_DAYS,cCe="engine",si={wc_sessionPropose:{req:{ttl:Be.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:Be.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:Be.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:Be.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:Be.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:Be.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:Be.ONE_DAY,prompt:!1,tag:1104},res:{ttl:Be.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:Be.ONE_DAY,prompt:!1,tag:1106},res:{ttl:Be.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:Be.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:Be.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:Be.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:Be.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:Be.ONE_DAY,prompt:!1,tag:1112},res:{ttl:Be.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:Be.ONE_DAY,prompt:!1,tag:1114},res:{ttl:Be.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:Be.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:Be.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:Be.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:Be.FIVE_MINUTES,prompt:!1,tag:1119}}},b6={min:Be.FIVE_MINUTES,max:Be.SEVEN_DAYS},So={idle:"IDLE",active:"ACTIVE"},lCe={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},uCe="request",dCe=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],fCe="wc",hCe="auth",pCe="authKeys",yCe="pairingTopics",mCe="requests",HE=`${fCe}@${1.5}:${hCe}:`,a1=`${HE}:PUB_KEY`;var gCe=Object.defineProperty,bCe=Object.defineProperties,wCe=Object.getOwnPropertyDescriptors,kM=Object.getOwnPropertySymbols,vCe=Object.prototype.hasOwnProperty,_Ce=Object.prototype.propertyIsEnumerable,b3=(t,e,n)=>e in t?gCe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,pn=(t,e)=>{for(var n in e||(e={}))vCe.call(e,n)&&b3(t,n,e[n]);if(kM)for(var n of kM(e))_Ce.call(e,n)&&b3(t,n,e[n]);return t},Ai=(t,e)=>bCe(t,wCe(e)),ke=(t,e,n)=>b3(t,typeof e!="symbol"?e+"":e,n);let ECe=class extends R6e{constructor(e){super(e),ke(this,"name",cCe),ke(this,"events",new OC),ke(this,"initialized",!1),ke(this,"requestQueue",{state:So.idle,queue:[]}),ke(this,"sessionRequestQueue",{state:So.idle,queue:[]}),ke(this,"emittedSessionRequests",new zEe({limit:500})),ke(this,"requestQueueDelay",Be.ONE_SECOND),ke(this,"expectedPairingMethodMap",new Map),ke(this,"recentlyDeletedMap",new Map),ke(this,"recentlyDeletedLimit",200),ke(this,"relayMessageCache",[]),ke(this,"pendingSessions",new Map),ke(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(si)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},Be.toMiliseconds(this.requestQueueDelay)))}),ke(this,"connect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const r=Ai(pn({},n),{requiredNamespaces:n.requiredNamespaces||{},optionalNamespaces:n.optionalNamespaces||{}});await this.isValidConnect(r),r.optionalNamespaces=KSe(r.requiredNamespaces,r.optionalNamespaces),r.requiredNamespaces={};const{pairingTopic:i,requiredNamespaces:s,optionalNamespaces:a,sessionProperties:c,scopedProperties:u,relays:d}=r;let h=i,p,m=!1;try{if(h){const I=this.client.core.pairing.pairings.get(h);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),m=I.active}}catch(I){throw this.client.logger.error(`connect() -> pairing.get(${h}) failed`),I}if(!h||!m){const{topic:I,uri:$}=await this.client.core.pairing.create({internal:{skipSubscribe:!0}});h=I,p=$}if(!h){const{message:I}=Ue("NO_MATCHING_KEY",`connect() pairing topic: ${h}`);throw new Error(I)}const g=await this.client.core.crypto.generateKeyPair(),b=si.wc_sessionPropose.req.ttl||Be.FIVE_MINUTES,v=yr(b),E=Ai(pn(pn({requiredNamespaces:s,optionalNamespaces:a,relays:d??[{protocol:sH}],proposer:{publicKey:g,metadata:this.client.metadata},expiryTimestamp:v,pairingTopic:h},c&&{sessionProperties:c}),u&&{scopedProperties:u}),{id:Oo()}),O=cn("session_connect",E.id),{reject:k,resolve:S,done:A}=Td(b,OM),C=({id:I})=>{I===E.id&&(this.client.events.off("proposal_expire",C),this.pendingSessions.delete(E.id),this.events.emit(O,{error:{message:OM,code:0}}))};return this.client.events.on("proposal_expire",C),this.events.once(O,({error:I,session:$})=>{this.client.events.off("proposal_expire",C),I?k(I):$&&S($)}),await this.sendProposeSession({proposal:E,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:E.id}}}),await this.setProposal(E.id,E),{uri:p,approval:A}}),ke(this,"pair",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(n)}catch(r){throw this.client.logger.error("pair() failed"),r}}),ke(this,"approve",async n=>{var r,i,s;const a=this.client.core.eventClient.createEvent({properties:{topic:(r=n?.id)==null?void 0:r.toString(),trace:[La.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(L){throw a.setError(yd.no_internet_connection),L}try{await this.isValidProposalId(n?.id)}catch(L){throw this.client.logger.error(`approve() -> proposal.get(${n?.id}) failed`),a.setError(yd.proposal_not_found),L}try{await this.isValidApprove(n)}catch(L){throw this.client.logger.error("approve() -> isValidApprove() failed"),a.setError(yd.session_approve_namespace_validation_failure),L}const{id:c,relayProtocol:u,namespaces:d,sessionProperties:h,scopedProperties:p,sessionConfig:m}=n,g=this.client.proposal.get(c);this.client.core.eventClient.deleteEvent({eventId:a.eventId});const{pairingTopic:b,proposer:v,requiredNamespaces:E,optionalNamespaces:O}=g;let k=(i=this.client.core.eventClient)==null?void 0:i.getEvent({topic:b});k||(k=(s=this.client.core.eventClient)==null?void 0:s.createEvent({type:La.session_approve_started,properties:{topic:b,trace:[La.session_approve_started,La.session_namespaces_validation_success]}}));const S=await this.client.core.crypto.generateKeyPair(),A=v.publicKey,C=await this.client.core.crypto.generateSharedKey(S,A),I=pn(pn(pn({relay:{protocol:u??"irn"},namespaces:d,controller:{publicKey:S,metadata:this.client.metadata},expiry:yr(Oh)},h&&{sessionProperties:h}),p&&{scopedProperties:p}),m&&{sessionConfig:m}),$=Ln.relay;k.addTrace(La.subscribing_session_topic);try{await this.client.core.relayer.subscribe(C,{transportType:$,internal:{skipSubscribe:!0}})}catch(L){throw k.setError(yd.subscribe_session_topic_failure),L}k.addTrace(La.subscribe_session_topic_success);const z=Ai(pn({},I),{topic:C,requiredNamespaces:E,optionalNamespaces:O,pairingTopic:b,acknowledged:!1,self:I.controller,peer:{publicKey:v.publicKey,metadata:v.metadata},controller:S,transportType:Ln.relay});await this.client.session.set(C,z),k.addTrace(La.store_session);try{await this.sendApproveSession({sessionTopic:C,proposal:g,pairingProposalResponse:{relay:{protocol:u??"irn"},responderPublicKey:S},sessionSettleRequest:I,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:c}}}),k.addTrace(La.session_approve_publish_success)}catch(L){throw this.client.logger.error(L),this.client.session.delete(C,jn("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(C),L}return this.client.core.eventClient.deleteEvent({eventId:k.eventId}),await this.client.core.pairing.updateMetadata({topic:b,metadata:v.metadata}),await this.deleteProposal(c),await this.client.core.pairing.activate({topic:b}),await this.setExpiry(C,yr(Oh)),{topic:C,acknowledged:()=>Promise.resolve(this.client.session.get(C))}}),ke(this,"reject",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(n)}catch(a){throw this.client.logger.error("reject() -> isValidReject() failed"),a}const{id:r,reason:i}=n;let s;try{s=this.client.proposal.get(r).pairingTopic}catch(a){throw this.client.logger.error(`reject() -> proposal.get(${r}) failed`),a}s&&await this.sendError({id:r,topic:s,error:i,rpcOpts:si.wc_sessionPropose.reject}),await this.deleteProposal(r)}),ke(this,"update",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(n)}catch(p){throw this.client.logger.error("update() -> isValidUpdate() failed"),p}const{topic:r,namespaces:i}=n,{done:s,resolve:a,reject:c}=Td(),u=Oo(),d=Iu().toString(),h=this.client.session.get(r).namespaces;return this.events.once(cn("session_update",u),({error:p})=>{p?c(p):a()}),await this.client.session.update(r,{namespaces:i}),await this.sendRequest({topic:r,method:"wc_sessionUpdate",params:{namespaces:i},throwOnFailedPublish:!0,clientRpcId:u,relayRpcId:d}).catch(p=>{this.client.logger.error(p),this.client.session.update(r,{namespaces:h}),c(p)}),{acknowledged:s}}),ke(this,"extend",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(n)}catch(u){throw this.client.logger.error("extend() -> isValidExtend() failed"),u}const{topic:r}=n,i=Oo(),{done:s,resolve:a,reject:c}=Td();return this.events.once(cn("session_extend",i),({error:u})=>{u?c(u):a()}),await this.setExpiry(r,yr(Oh)),this.sendRequest({topic:r,method:"wc_sessionExtend",params:{},clientRpcId:i,throwOnFailedPublish:!0}).catch(u=>{c(u)}),{acknowledged:s}}),ke(this,"request",async n=>{this.isInitialized();try{await this.isValidRequest(n)}catch(E){throw this.client.logger.error("request() -> isValidRequest() failed"),E}const{chainId:r,request:i,topic:s,expiry:a=si.wc_sessionRequest.req.ttl}=n,c=this.client.session.get(s);c?.transportType===Ln.relay&&await this.confirmOnlineStateOrThrow();const u=Oo(),d=Iu().toString(),{done:h,resolve:p,reject:m}=Td(a,"Request expired. Please try again.");this.events.once(cn("session_request",u),({error:E,result:O})=>{E?m(E):p(O)});const g="wc_sessionRequest",b=this.getAppLinkIfEnabled(c.peer.metadata,c.transportType);if(b)return await this.sendRequest({clientRpcId:u,relayRpcId:d,topic:s,method:g,params:{request:Ai(pn({},i),{expiryTimestamp:yr(a)}),chainId:r},expiry:a,throwOnFailedPublish:!0,appLink:b}).catch(E=>m(E)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:r,id:u}),await h();const v={request:Ai(pn({},i),{expiryTimestamp:yr(a)}),chainId:r};return await Promise.all([new Promise(async E=>{await this.sendRequest({clientRpcId:u,relayRpcId:d,topic:s,method:g,params:v,expiry:a,throwOnFailedPublish:!0,tvf:this.getTVFParams(u,v)}).catch(O=>m(O)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:r,id:u}),E()}),new Promise(async E=>{var O;if(!((O=c.sessionConfig)!=null&&O.disableDeepLink)){const k=await MEe(this.client.core.storage,CM);await $Ee({id:u,topic:s,wcDeepLink:k})}E()}),h()]).then(E=>E[2])}),ke(this,"respond",async n=>{var r,i;this.isInitialized();const s=this.client.core.eventClient.createEvent({properties:{topic:n?.topic||((i=(r=n?.response)==null?void 0:r.id)==null?void 0:i.toString()),trace:[La.session_request_response_started]}});try{await this.isValidRespond(n)}catch(p){throw s.addTrace(p?.message),s.setError(yd.session_request_response_validation_failure),p}s.addTrace(La.session_request_response_validation_success);const{topic:a,response:c}=n,{id:u}=c,d=this.client.session.get(a);d.transportType===Ln.relay&&await this.confirmOnlineStateOrThrow();const h=this.getAppLinkIfEnabled(d.peer.metadata,d.transportType);try{s.addTrace(La.session_request_response_publish_started),ko(c)?await this.sendResult({id:u,topic:a,result:c.result,throwOnFailedPublish:!0,appLink:h}):ma(c)&&await this.sendError({id:u,topic:a,error:c.error,appLink:h}),this.cleanupAfterResponse(n)}catch(p){throw s.addTrace(p?.message),s.setError(yd.session_request_response_publish_failure),p}}),ke(this,"ping",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(n)}catch(i){throw this.client.logger.error("ping() -> isValidPing() failed"),i}const{topic:r}=n;if(this.client.session.keys.includes(r)){const i=Oo(),s=Iu().toString(),{done:a,resolve:c,reject:u}=Td();this.events.once(cn("session_ping",i),({error:d})=>{d?u(d):c()}),await Promise.all([this.sendRequest({topic:r,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:i,relayRpcId:s}),a()])}else this.client.core.pairing.pairings.keys.includes(r)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:r}))}),ke(this,"emit",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(n);const{topic:r,event:i,chainId:s}=n,a=Iu().toString(),c=Oo();await this.sendRequest({topic:r,method:"wc_sessionEvent",params:{event:i,chainId:s},throwOnFailedPublish:!0,relayRpcId:a,clientRpcId:c})}),ke(this,"disconnect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(n);const{topic:r}=n;if(this.client.session.keys.includes(r))await this.sendRequest({topic:r,method:"wc_sessionDelete",params:jn("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:r,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(r))await this.client.core.pairing.disconnect({topic:r});else{const{message:i}=Ue("MISMATCHED_TOPIC",`Session or pairing topic not found: ${r}`);throw new Error(i)}}),ke(this,"find",n=>(this.isInitialized(),this.client.session.getAll().filter(r=>XSe(r,n)))),ke(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),ke(this,"authenticate",async(n,r)=>{var i;this.isInitialized(),this.isValidAuthenticate(n);const s=r&&this.client.core.linkModeSupportedApps.includes(r)&&((i=this.client.metadata.redirect)==null?void 0:i.linkMode),a=s?Ln.link_mode:Ln.relay;a===Ln.relay&&await this.confirmOnlineStateOrThrow();const{chains:c,statement:u="",uri:d,domain:h,nonce:p,type:m,exp:g,nbf:b,methods:v=[],expiry:E}=n,O=[...n.resources||[]],{topic:k,uri:S}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:a});this.client.logger.info({message:"Generated new pairing",pairing:{topic:k,uri:S}});const A=await this.client.core.crypto.generateKeyPair(),C=n1(A);if(await Promise.all([this.client.auth.authKeys.set(a1,{responseTopic:C,publicKey:A}),this.client.auth.pairingTopics.set(C,{topic:C,pairingTopic:k})]),await this.client.core.relayer.subscribe(C,{transportType:a}),this.client.logger.info(`sending request to new pairing topic: ${k}`),v.length>0){const{namespace:P}=il(c[0]);let H=J2e(P,"request",v);t1(O)&&(H=eAe(H,O.pop())),O.push(H)}const I=E&&E>si.wc_sessionAuthenticate.req.ttl?E:si.wc_sessionAuthenticate.req.ttl,$={authPayload:{type:m??"caip122",chains:c,statement:u,aud:d,domain:h,version:"1",nonce:p,iat:new Date().toISOString(),exp:g,nbf:b,resources:O},requester:{publicKey:A,metadata:this.client.metadata},expiryTimestamp:yr(I)},z={eip155:{chains:c,methods:[...new Set(["personal_sign",...v])],events:["chainChanged","accountsChanged"]}},L={requiredNamespaces:{},optionalNamespaces:z,relays:[{protocol:"irn"}],pairingTopic:k,proposer:{publicKey:A,metadata:this.client.metadata},expiryTimestamp:yr(si.wc_sessionPropose.req.ttl),id:Oo()},{done:B,resolve:V,reject:D}=Td(I,"Request expired"),F=Oo(),K=cn("session_connect",L.id),T=cn("session_request",F),x=async({error:P,session:H})=>{this.events.off(T,N),P?D(P):H&&V({session:H})},N=async P=>{var H,M,G;if(await this.deletePendingAuthRequest(F,{message:"fulfilled",code:0}),P.error){const Ee=jn("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return P.error.code===Ee.code?void 0:(this.events.off(K,x),D(P.error.message))}await this.deleteProposal(L.id),this.events.off(K,x);const{cacaos:J,responder:X}=P.result,Q=[],ge=[];for(const Ee of J){await l9({cacao:Ee,projectId:this.client.core.projectId})||(this.client.logger.error(Ee,"Signature verification failed"),D(jn("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:Pe}=Ee,qe=t1(Pe.resources),rt=[V5(Pe.iss)],ye=h_(Pe.iss);if(qe){const Tt=u9(qe),Kt=d9(qe);Q.push(...Tt),rt.push(...Kt)}for(const Tt of rt)ge.push(`${Tt}:${ye}`)}const we=await this.client.core.crypto.generateSharedKey(A,X.publicKey);let Te;Q.length>0&&(Te={topic:we,acknowledged:!0,self:{publicKey:A,metadata:this.client.metadata},peer:X,controller:X.publicKey,expiry:yr(Oh),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:k,namespaces:U9([...new Set(Q)],[...new Set(ge)]),transportType:a},await this.client.core.relayer.subscribe(we,{transportType:a}),await this.client.session.set(we,Te),k&&await this.client.core.pairing.updateMetadata({topic:k,metadata:X.metadata}),Te=this.client.session.get(we)),(H=this.client.metadata.redirect)!=null&&H.linkMode&&(M=X.metadata.redirect)!=null&&M.linkMode&&(G=X.metadata.redirect)!=null&&G.universal&&r&&(this.client.core.addLinkModeSupportedApp(X.metadata.redirect.universal),this.client.session.update(we,{transportType:Ln.link_mode})),V({auths:J,session:Te})};this.events.once(K,x),this.events.once(T,N);let j;try{if(s){const P=Ya("wc_sessionAuthenticate",$,F);this.client.core.history.set(k,P);const H=await this.client.core.crypto.encode("",P,{type:vb,encoding:Eu});j=Tv(r,k,H)}else await Promise.all([this.sendRequest({topic:k,method:"wc_sessionAuthenticate",params:$,expiry:n.expiry,throwOnFailedPublish:!0,clientRpcId:F}),this.sendRequest({topic:k,method:"wc_sessionPropose",params:L,expiry:si.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:L.id})])}catch(P){throw this.events.off(K,x),this.events.off(T,N),P}return await this.setProposal(L.id,L),await this.setAuthRequest(F,{request:Ai(pn({},$),{verifyContext:{}}),pairingTopic:k,transportType:a}),{uri:j??S,response:B}}),ke(this,"approveSessionAuthenticate",async n=>{const{id:r,auths:i}=n,s=this.client.core.eventClient.createEvent({properties:{topic:r.toString(),trace:[md.authenticated_session_approve_started]}});try{this.isInitialized()}catch(E){throw s.setError(mm.no_internet_connection),E}const a=this.getPendingAuthRequest(r);if(!a)throw s.setError(mm.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${r}`);const c=a.transportType||Ln.relay;c===Ln.relay&&await this.confirmOnlineStateOrThrow();const u=a.requester.publicKey,d=await this.client.core.crypto.generateKeyPair(),h=n1(u),p={type:sl,receiverPublicKey:u,senderPublicKey:d},m=[],g=[];for(const E of i){if(!await l9({cacao:E,projectId:this.client.core.projectId})){s.setError(mm.invalid_cacao);const C=jn("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:r,topic:h,error:C,encodeOpts:p}),new Error(C.message)}s.addTrace(md.cacaos_verified);const{p:O}=E,k=t1(O.resources),S=[V5(O.iss)],A=h_(O.iss);if(k){const C=u9(k),I=d9(k);m.push(...C),S.push(...I)}for(const C of S)g.push(`${C}:${A}`)}const b=await this.client.core.crypto.generateSharedKey(d,u);s.addTrace(md.create_authenticated_session_topic);let v;if(m?.length>0){v={topic:b,acknowledged:!0,self:{publicKey:d,metadata:this.client.metadata},peer:{publicKey:u,metadata:a.requester.metadata},controller:u,expiry:yr(Oh),authentication:i,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:a.pairingTopic,namespaces:U9([...new Set(m)],[...new Set(g)]),transportType:c},s.addTrace(md.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(b,{transportType:c})}catch(E){throw s.setError(mm.subscribe_authenticated_session_topic_failure),E}s.addTrace(md.subscribe_authenticated_session_topic_success),await this.client.session.set(b,v),s.addTrace(md.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:a.pairingTopic,metadata:a.requester.metadata})}s.addTrace(md.publishing_authenticated_session_approve);try{await this.sendResult({topic:h,id:r,result:{cacaos:i,responder:{publicKey:d,metadata:this.client.metadata}},encodeOpts:p,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(a.requester.metadata,c)})}catch(E){throw s.setError(mm.authenticated_session_approve_publish_failure),E}return await this.client.auth.requests.delete(r,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:a.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:s.eventId}),{session:v}}),ke(this,"rejectSessionAuthenticate",async n=>{this.isInitialized();const{id:r,reason:i}=n,s=this.getPendingAuthRequest(r);if(!s)throw new Error(`Could not find pending auth request with id ${r}`);s.transportType===Ln.relay&&await this.confirmOnlineStateOrThrow();const a=s.requester.publicKey,c=await this.client.core.crypto.generateKeyPair(),u=n1(a),d={type:sl,receiverPublicKey:a,senderPublicKey:c};await this.sendError({id:r,topic:u,error:i,encodeOpts:d,rpcOpts:si.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(s.requester.metadata,s.transportType)}),await this.client.auth.requests.delete(r,{message:"rejected",code:0}),await this.deleteProposal(r)}),ke(this,"formatAuthMessage",n=>{this.isInitialized();const{request:r,iss:i}=n;return dV(r,i)}),ke(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const n=this.relayMessageCache.shift();n&&await this.onRelayMessage(n)}catch(n){this.client.logger.error(n)}},50)}),ke(this,"cleanupDuplicatePairings",async n=>{if(n.pairingTopic)try{const r=this.client.core.pairing.pairings.get(n.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(s=>{var a,c;return((a=s.peerMetadata)==null?void 0:a.url)&&((c=s.peerMetadata)==null?void 0:c.url)===n.peer.metadata.url&&s.topic&&s.topic!==r.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(s=>this.client.core.pairing.disconnect({topic:s.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(r){this.client.logger.error(r)}}),ke(this,"deleteSession",async n=>{var r;const{topic:i,expirerHasDeleted:s=!1,emitEvent:a=!0,id:c=0}=n,{self:u}=this.client.session.get(i);await this.client.core.relayer.unsubscribe(i),await this.client.session.delete(i,jn("USER_DISCONNECTED")),this.addToRecentlyDeleted(i,"session"),this.client.core.crypto.keychain.has(u.publicKey)&&await this.client.core.crypto.deleteKeyPair(u.publicKey),this.client.core.crypto.keychain.has(i)&&await this.client.core.crypto.deleteSymKey(i),s||this.client.core.expirer.del(i),this.client.core.storage.removeItem(CM).catch(d=>this.client.logger.warn(d)),this.getPendingSessionRequests().forEach(d=>{d.topic===i&&this.deletePendingSessionRequest(d.id,jn("USER_DISCONNECTED"))}),i===((r=this.sessionRequestQueue.queue[0])==null?void 0:r.topic)&&(this.sessionRequestQueue.state=So.idle),a&&this.client.events.emit("session_delete",{id:c,topic:i})}),ke(this,"deleteProposal",async(n,r)=>{if(r)try{const i=this.client.proposal.get(n);this.client.core.eventClient.getEvent({topic:i.pairingTopic})?.setError(yd.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(n,jn("USER_DISCONNECTED")),r?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"proposal")}),ke(this,"deletePendingSessionRequest",async(n,r,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(n,r),i?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(s=>s.id!==n),i&&(this.sessionRequestQueue.state=So.idle,this.client.events.emit("session_request_expire",{id:n}))}),ke(this,"deletePendingAuthRequest",async(n,r,i=!1)=>{await Promise.all([this.client.auth.requests.delete(n,r),i?Promise.resolve():this.client.core.expirer.del(n)])}),ke(this,"setExpiry",async(n,r)=>{this.client.session.keys.includes(n)&&(this.client.core.expirer.set(n,r),await this.client.session.update(n,{expiry:r}))}),ke(this,"setProposal",async(n,r)=>{this.client.core.expirer.set(n,yr(si.wc_sessionPropose.req.ttl)),await this.client.proposal.set(n,r)}),ke(this,"setAuthRequest",async(n,r)=>{const{request:i,pairingTopic:s,transportType:a=Ln.relay}=r;this.client.core.expirer.set(n,i.expiryTimestamp),await this.client.auth.requests.set(n,{authPayload:i.authPayload,requester:i.requester,expiryTimestamp:i.expiryTimestamp,id:n,pairingTopic:s,verifyContext:i.verifyContext,transportType:a})}),ke(this,"setPendingSessionRequest",async n=>{const{id:r,topic:i,params:s,verifyContext:a}=n,c=s.request.expiryTimestamp||yr(si.wc_sessionRequest.req.ttl);this.client.core.expirer.set(r,c),await this.client.pendingRequest.set(r,{id:r,topic:i,params:s,verifyContext:a})}),ke(this,"sendRequest",async n=>{const{topic:r,method:i,params:s,expiry:a,relayRpcId:c,clientRpcId:u,throwOnFailedPublish:d,appLink:h,tvf:p,publishOpts:m={}}=n,g=Ya(i,s,u);let b;const v=!!h;try{const k=v?Eu:is;b=await this.client.core.crypto.encode(r,g,{encoding:k})}catch(k){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${r} failed`),k}let E;if(dCe.includes(i)){const k=ya(JSON.stringify(g)),S=ya(b);E=await this.client.core.verify.register({id:S,decryptedId:k})}const O=pn(pn({},si[i].req),m);if(O.attestation=E,a&&(O.ttl=a),c&&(O.id=c),this.client.core.history.set(r,g),v){const k=Tv(h,r,b);await global.Linking.openURL(k,this.client.name)}else O.tvf=Ai(pn({},p),{correlationId:g.id}),d?(O.internal=Ai(pn({},O.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,b,O)):this.client.core.relayer.publish(r,b,O).catch(k=>this.client.logger.error(k));return g.id}),ke(this,"sendProposeSession",async n=>{const{proposal:r,publishOpts:i}=n,s=Ya("wc_sessionPropose",r,r.id);this.client.core.history.set(r.pairingTopic,s);const a=await this.client.core.crypto.encode(r.pairingTopic,s,{encoding:is}),c=ya(JSON.stringify(s)),u=ya(a),d=await this.client.core.verify.register({id:u,decryptedId:c});await this.client.core.relayer.publishCustom({payload:{pairingTopic:r.pairingTopic,sessionProposal:a},opts:Ai(pn({},i),{publishMethod:"wc_proposeSession",attestation:d})})}),ke(this,"sendApproveSession",async n=>{const{sessionTopic:r,pairingProposalResponse:i,proposal:s,sessionSettleRequest:a,publishOpts:c}=n,u=O0(s.id,i),d=await this.client.core.crypto.encode(s.pairingTopic,u,{encoding:is}),h=Ya("wc_sessionSettle",a,c?.id),p=await this.client.core.crypto.encode(r,h,{encoding:is});this.client.core.history.set(r,h),await this.client.core.relayer.publishCustom({payload:{sessionTopic:r,pairingTopic:s.pairingTopic,sessionProposalResponse:d,sessionSettlementRequest:p},opts:Ai(pn({},c),{publishMethod:"wc_approveSession"})})}),ke(this,"sendResult",async n=>{const{id:r,topic:i,result:s,throwOnFailedPublish:a,encodeOpts:c,appLink:u}=n,d=O0(r,s);let h;const p=u&&typeof(global==null?void 0:global.Linking)<"u";try{const b=p?Eu:is;h=await this.client.core.crypto.encode(i,d,Ai(pn({},c||{}),{encoding:b}))}catch(b){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${i} failed`),b}let m,g;try{m=await this.client.core.history.get(i,r);const b=m.request;try{g=this.getTVFParams(r,b.params,s)}catch(v){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${v?.message}`)}}catch(b){throw this.client.logger.error(`sendResult() -> history.get(${i}, ${r}) failed`),b}if(p){const b=Tv(u,i,h);await global.Linking.openURL(b,this.client.name)}else{const b=m.request.method,v=si[b].res;v.tvf=Ai(pn({},g),{correlationId:r}),a?(v.internal=Ai(pn({},v.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,h,v)):this.client.core.relayer.publish(i,h,v).catch(E=>this.client.logger.error(E))}await this.client.core.history.resolve(d)}),ke(this,"sendError",async n=>{const{id:r,topic:i,error:s,encodeOpts:a,rpcOpts:c,appLink:u}=n,d=qE(r,s);let h;const p=u&&typeof(global==null?void 0:global.Linking)<"u";try{const g=p?Eu:is;h=await this.client.core.crypto.encode(i,d,Ai(pn({},a||{}),{encoding:g}))}catch(g){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${i} failed`),g}let m;try{m=await this.client.core.history.get(i,r)}catch(g){throw this.client.logger.error(`sendError() -> history.get(${i}, ${r}) failed`),g}if(p){const g=Tv(u,i,h);await global.Linking.openURL(g,this.client.name)}else{const g=m.request.method,b=c||si[g].res;this.client.core.relayer.publish(i,h,b)}await this.client.core.history.resolve(d)}),ke(this,"cleanup",async()=>{const n=[],r=[];this.client.session.getAll().forEach(i=>{let s=!1;$o(i.expiry)&&(s=!0),this.client.core.crypto.keychain.has(i.topic)||(s=!0),s&&n.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{$o(i.expiryTimestamp)&&r.push(i.id)}),await Promise.all([...n.map(i=>this.deleteSession({topic:i})),...r.map(i=>this.deleteProposal(i))])}),ke(this,"onProviderMessageEvent",async n=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(n):await this.onRelayMessage(n)}),ke(this,"onRelayEventRequest",async n=>{this.requestQueue.queue.push(n),await this.processRequestsQueue()}),ke(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===So.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=So.active;const n=this.requestQueue.queue.shift();if(n)try{await this.processRequest(n)}catch(r){this.client.logger.warn(r)}}this.requestQueue.state=So.idle}),ke(this,"processRequest",async n=>{const{topic:r,payload:i,attestation:s,transportType:a,encryptedId:c}=n,u=i.method;if(!this.shouldIgnorePairingRequest({topic:r,requestMethod:u}))switch(u){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:r,payload:i,attestation:s,encryptedId:c});case"wc_sessionSettle":return await this.onSessionSettleRequest(r,i);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(r,i);case"wc_sessionExtend":return await this.onSessionExtendRequest(r,i);case"wc_sessionPing":return await this.onSessionPingRequest(r,i);case"wc_sessionDelete":return await this.onSessionDeleteRequest(r,i);case"wc_sessionRequest":return await this.onSessionRequest({topic:r,payload:i,attestation:s,encryptedId:c,transportType:a});case"wc_sessionEvent":return await this.onSessionEventRequest(r,i);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:r,payload:i,attestation:s,encryptedId:c,transportType:a});default:return this.client.logger.info(`Unsupported request method ${u}`)}}),ke(this,"onRelayEventResponse",async n=>{const{topic:r,payload:i,transportType:s}=n,a=(await this.client.core.history.get(r,i.id)).request.method;switch(a){case"wc_sessionPropose":return this.onSessionProposeResponse(r,i,s);case"wc_sessionSettle":return this.onSessionSettleResponse(r,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(r,i);case"wc_sessionExtend":return this.onSessionExtendResponse(r,i);case"wc_sessionPing":return this.onSessionPingResponse(r,i);case"wc_sessionRequest":return this.onSessionRequestResponse(r,i);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(r,i);default:return this.client.logger.info(`Unsupported response method ${a}`)}}),ke(this,"onRelayEventUnknownPayload",n=>{const{topic:r}=n,{message:i}=Ue("MISSING_OR_INVALID",`Decoded payload on topic ${r} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)}),ke(this,"shouldIgnorePairingRequest",n=>{const{topic:r,requestMethod:i}=n,s=this.expectedPairingMethodMap.get(r);return!s||s.includes(i)?!1:!!(s.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),ke(this,"onSessionProposeRequest",async n=>{const{topic:r,payload:i,attestation:s,encryptedId:a}=n,{params:c,id:u}=i;try{const d=this.client.core.eventClient.getEvent({topic:r});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),d?.setError(Uc.proposal_listener_not_found)),this.isValidConnect(pn({},i.params));const h=c.expiryTimestamp||yr(si.wc_sessionPropose.req.ttl),p=pn({id:u,pairingTopic:r,expiryTimestamp:h,attestation:s,encryptedId:a},c);await this.setProposal(u,p);const m=await this.getVerifyContext({attestationId:s,hash:ya(JSON.stringify(i)),encryptedId:a,metadata:p.proposer.metadata});d?.addTrace(Co.emit_session_proposal),this.client.events.emit("session_proposal",{id:u,params:p,verifyContext:m})}catch(d){await this.sendError({id:u,topic:r,error:d,rpcOpts:si.wc_sessionPropose.autoReject}),this.client.logger.error(d)}}),ke(this,"onSessionProposeResponse",async(n,r,i)=>{const{id:s}=r;if(ko(r)){const{result:a}=r;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:a});const c=this.client.proposal.get(s);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:c});const u=c.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:u});const d=a.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:d});const h=await this.client.core.crypto.generateSharedKey(u,d);this.pendingSessions.set(s,{sessionTopic:h,pairingTopic:n,proposalId:s,publicKey:u});const p=await this.client.core.relayer.subscribe(h,{transportType:i});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:p}),await this.client.core.pairing.activate({topic:n})}else if(ma(r)){await this.deleteProposal(s);const a=cn("session_connect",s);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners, 954`);this.events.emit(a,{error:r.error})}}),ke(this,"onSessionSettleRequest",async(n,r)=>{const{id:i,params:s}=r;try{this.isValidSessionSettleRequest(s);const{relay:a,controller:c,expiry:u,namespaces:d,sessionProperties:h,scopedProperties:p,sessionConfig:m}=r.params,g=[...this.pendingSessions.values()].find(E=>E.sessionTopic===n);if(!g)return this.client.logger.error(`Pending session not found for topic ${n}`);const b=this.client.proposal.get(g.proposalId),v=Ai(pn(pn(pn({topic:n,relay:a,expiry:u,namespaces:d,acknowledged:!0,pairingTopic:g.pairingTopic,requiredNamespaces:b.requiredNamespaces,optionalNamespaces:b.optionalNamespaces,controller:c.publicKey,self:{publicKey:g.publicKey,metadata:this.client.metadata},peer:{publicKey:c.publicKey,metadata:c.metadata}},h&&{sessionProperties:h}),p&&{scopedProperties:p}),m&&{sessionConfig:m}),{transportType:Ln.relay});await this.client.session.set(v.topic,v),await this.setExpiry(v.topic,v.expiry),await this.client.core.pairing.updateMetadata({topic:g.pairingTopic,metadata:v.peer.metadata}),this.client.events.emit("session_connect",{session:v}),this.events.emit(cn("session_connect",g.proposalId),{session:v}),this.pendingSessions.delete(g.proposalId),this.deleteProposal(g.proposalId,!1),this.cleanupDuplicatePairings(v),await this.sendResult({id:r.id,topic:n,result:!0})}catch(a){await this.sendError({id:i,topic:n,error:a}),this.client.logger.error(a)}}),ke(this,"onSessionSettleResponse",async(n,r)=>{const{id:i}=r;ko(r)?(await this.client.session.update(n,{acknowledged:!0}),this.events.emit(cn("session_approve",i),{})):ma(r)&&(await this.client.session.delete(n,jn("USER_DISCONNECTED")),this.events.emit(cn("session_approve",i),{error:r.error}))}),ke(this,"onSessionUpdateRequest",async(n,r)=>{const{params:i,id:s}=r;try{const a=`${n}_session_update`,c=pm.get(a);if(c&&this.isRequestOutOfSync(c,s)){this.client.logger.warn(`Discarding out of sync request - ${s}`),this.sendError({id:s,topic:n,error:jn("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(pn({topic:n},i));try{pm.set(a,s),await this.client.session.update(n,{namespaces:i.namespaces}),await this.sendResult({id:s,topic:n,result:!0})}catch(u){throw pm.delete(a),u}this.client.events.emit("session_update",{id:s,topic:n,params:i})}catch(a){await this.sendError({id:s,topic:n,error:a}),this.client.logger.error(a)}}),ke(this,"isRequestOutOfSync",(n,r)=>r.toString().slice(0,-3)<n.toString().slice(0,-3)),ke(this,"onSessionUpdateResponse",(n,r)=>{const{id:i}=r,s=cn("session_update",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);ko(r)?this.events.emit(cn("session_update",i),{}):ma(r)&&this.events.emit(cn("session_update",i),{error:r.error})}),ke(this,"onSessionExtendRequest",async(n,r)=>{const{id:i}=r;try{this.isValidExtend({topic:n}),await this.setExpiry(n,yr(Oh)),await this.sendResult({id:i,topic:n,result:!0}),this.client.events.emit("session_extend",{id:i,topic:n})}catch(s){await this.sendError({id:i,topic:n,error:s}),this.client.logger.error(s)}}),ke(this,"onSessionExtendResponse",(n,r)=>{const{id:i}=r,s=cn("session_extend",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);ko(r)?this.events.emit(cn("session_extend",i),{}):ma(r)&&this.events.emit(cn("session_extend",i),{error:r.error})}),ke(this,"onSessionPingRequest",async(n,r)=>{const{id:i}=r;try{this.isValidPing({topic:n}),await this.sendResult({id:i,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:i,topic:n})}catch(s){await this.sendError({id:i,topic:n,error:s}),this.client.logger.error(s)}}),ke(this,"onSessionPingResponse",(n,r)=>{const{id:i}=r,s=cn("session_ping",i);setTimeout(()=>{if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners 2176`);ko(r)?this.events.emit(cn("session_ping",i),{}):ma(r)&&this.events.emit(cn("session_ping",i),{error:r.error})},500)}),ke(this,"onSessionDeleteRequest",async(n,r)=>{const{id:i}=r;try{this.isValidDisconnect({topic:n,reason:r.params}),await Promise.all([new Promise(s=>{this.client.core.relayer.once(sr.publish,async()=>{s(await this.deleteSession({topic:n,id:i}))})}),this.sendResult({id:i,topic:n,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:n,error:jn("USER_DISCONNECTED")})]).catch(s=>this.client.logger.error(s))}catch(s){this.client.logger.error(s)}}),ke(this,"onSessionRequest",async n=>{var r,i,s;const{topic:a,payload:c,attestation:u,encryptedId:d,transportType:h}=n,{id:p,params:m}=c;try{await this.isValidRequest(pn({topic:a},m));const g=this.client.session.get(a),b=await this.getVerifyContext({attestationId:u,hash:ya(JSON.stringify(Ya("wc_sessionRequest",m,p))),encryptedId:d,metadata:g.peer.metadata,transportType:h}),v={id:p,topic:a,params:m,verifyContext:b};await this.setPendingSessionRequest(v),h===Ln.link_mode&&(r=g.peer.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp((i=g.peer.metadata.redirect)==null?void 0:i.universal),(s=this.client.signConfig)!=null&&s.disableRequestQueue?this.emitSessionRequest(v):(this.addSessionRequestToSessionRequestQueue(v),this.processSessionRequestQueue())}catch(g){await this.sendError({id:p,topic:a,error:g}),this.client.logger.error(g)}}),ke(this,"onSessionRequestResponse",(n,r)=>{const{id:i}=r,s=cn("session_request",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);ko(r)?this.events.emit(cn("session_request",i),{result:r.result}):ma(r)&&this.events.emit(cn("session_request",i),{error:r.error})}),ke(this,"onSessionEventRequest",async(n,r)=>{const{id:i,params:s}=r;try{const a=`${n}_session_event_${s.event.name}`,c=pm.get(a);if(c&&this.isRequestOutOfSync(c,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(pn({topic:n},s)),this.client.events.emit("session_event",{id:i,topic:n,params:s}),pm.set(a,i)}catch(a){await this.sendError({id:i,topic:n,error:a}),this.client.logger.error(a)}}),ke(this,"onSessionAuthenticateResponse",(n,r)=>{const{id:i}=r;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:n,payload:r}),ko(r)?this.events.emit(cn("session_request",i),{result:r.result}):ma(r)&&this.events.emit(cn("session_request",i),{error:r.error})}),ke(this,"onSessionAuthenticateRequest",async n=>{var r;const{topic:i,payload:s,attestation:a,encryptedId:c,transportType:u}=n;try{const{requester:d,authPayload:h,expiryTimestamp:p}=s.params,m=await this.getVerifyContext({attestationId:a,hash:ya(JSON.stringify(s)),encryptedId:c,metadata:d.metadata,transportType:u}),g={requester:d,pairingTopic:i,id:s.id,authPayload:h,verifyContext:m,expiryTimestamp:p};await this.setAuthRequest(s.id,{request:g,pairingTopic:i,transportType:u}),u===Ln.link_mode&&(r=d.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp(d.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:i,params:s.params,id:s.id,verifyContext:m})}catch(d){this.client.logger.error(d);const h=s.params.requester.publicKey,p=await this.client.core.crypto.generateKeyPair(),m=this.getAppLinkIfEnabled(s.params.requester.metadata,u),g={type:sl,receiverPublicKey:h,senderPublicKey:p};await this.sendError({id:s.id,topic:i,error:d,encodeOpts:g,rpcOpts:si.wc_sessionAuthenticate.autoReject,appLink:m})}}),ke(this,"addSessionRequestToSessionRequestQueue",n=>{this.sessionRequestQueue.queue.push(n)}),ke(this,"cleanupAfterResponse",n=>{this.deletePendingSessionRequest(n.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=So.idle,this.processSessionRequestQueue()},Be.toMiliseconds(this.requestQueueDelay))}),ke(this,"cleanupPendingSentRequestsForTopic",({topic:n,error:r})=>{const i=this.client.core.history.pending;i.length>0&&i.filter(s=>s.topic===n&&s.request.method==="wc_sessionRequest").forEach(s=>{const a=s.request.id,c=cn("session_request",a);if(this.events.listenerCount(c)===0)throw new Error(`emitting ${c} without any listeners`);this.events.emit(cn("session_request",s.request.id),{error:r})})}),ke(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===So.active){this.client.logger.info("session request queue is already active.");return}const n=this.sessionRequestQueue.queue[0];if(!n){this.client.logger.info("session request queue is empty.");return}try{this.emitSessionRequest(n)}catch(r){this.client.logger.error(r)}}),ke(this,"emitSessionRequest",n=>{if(this.emittedSessionRequests.has(n.id)){this.client.logger.warn({id:n.id},`Skipping emitting \`session_request\` event for duplicate request. id: ${n.id}`);return}this.sessionRequestQueue.state=So.active,this.emittedSessionRequests.add(n.id),this.client.events.emit("session_request",n)}),ke(this,"onPairingCreated",n=>{if(n.methods&&this.expectedPairingMethodMap.set(n.topic,n.methods),n.active)return;const r=this.client.proposal.getAll().find(i=>i.pairingTopic===n.topic);r&&this.onSessionProposeRequest({topic:n.topic,payload:Ya("wc_sessionPropose",Ai(pn({},r),{requiredNamespaces:r.requiredNamespaces,optionalNamespaces:r.optionalNamespaces,relays:r.relays,proposer:r.proposer,sessionProperties:r.sessionProperties,scopedProperties:r.scopedProperties}),r.id),attestation:r.attestation,encryptedId:r.encryptedId})}),ke(this,"isValidConnect",async n=>{if(!es(n)){const{message:d}=Ue("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(n)}`);throw new Error(d)}const{pairingTopic:r,requiredNamespaces:i,optionalNamespaces:s,sessionProperties:a,scopedProperties:c,relays:u}=n;if(Rr(r)||await this.isValidPairingTopic(r),!lxe(u)){const{message:d}=Ue("MISSING_OR_INVALID",`connect() relays: ${u}`);throw new Error(d)}if(i&&!Rr(i)&&Fo(i)!==0){const d="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(d):this.client.logger.warn(d),this.validateNamespaces(i,"requiredNamespaces")}if(s&&!Rr(s)&&Fo(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),a&&!Rr(a)&&this.validateSessionProps(a,"sessionProperties"),c&&!Rr(c)){this.validateSessionProps(c,"scopedProperties");const d=Object.keys(i||{}).concat(Object.keys(s||{}));if(!Object.keys(c).every(h=>d.includes(h.split(":")[0])))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(c)}, required/optional namespaces: ${JSON.stringify(d)}`)}}),ke(this,"validateNamespaces",(n,r)=>{const i=cxe(n,"connect()",r);if(i)throw new Error(i.message)}),ke(this,"isValidApprove",async n=>{if(!es(n))throw new Error(Ue("MISSING_OR_INVALID",`approve() params: ${n}`).message);const{id:r,namespaces:i,relayProtocol:s,sessionProperties:a,scopedProperties:c}=n;this.checkRecentlyDeleted(r),await this.isValidProposalId(r);const u=this.client.proposal.get(r),d=l6(i,"approve()");if(d)throw new Error(d.message);const h=j9(u.requiredNamespaces,i,"approve()");if(h)throw new Error(h.message);if(!wr(s,!0)){const{message:p}=Ue("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(p)}if(a&&!Rr(a)&&this.validateSessionProps(a,"sessionProperties"),c&&!Rr(c)){this.validateSessionProps(c,"scopedProperties");const p=new Set(Object.keys(i));if(!Object.keys(c).every(m=>p.has(m.split(":")[0])))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(c)}, approved namespaces: ${Array.from(p).join(", ")}`)}}),ke(this,"isValidReject",async n=>{if(!es(n)){const{message:s}=Ue("MISSING_OR_INVALID",`reject() params: ${n}`);throw new Error(s)}const{id:r,reason:i}=n;if(this.checkRecentlyDeleted(r),await this.isValidProposalId(r),!dxe(i)){const{message:s}=Ue("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(s)}}),ke(this,"isValidSessionSettleRequest",n=>{if(!es(n)){const{message:d}=Ue("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${n}`);throw new Error(d)}const{relay:r,controller:i,namespaces:s,expiry:a}=n;if(!KV(r)){const{message:d}=Ue("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(d)}const c=nxe(i,"onSessionSettleRequest()");if(c)throw new Error(c.message);const u=l6(s,"onSessionSettleRequest()");if(u)throw new Error(u.message);if($o(a)){const{message:d}=Ue("EXPIRED","onSessionSettleRequest()");throw new Error(d)}}),ke(this,"isValidUpdate",async n=>{if(!es(n)){const{message:u}=Ue("MISSING_OR_INVALID",`update() params: ${n}`);throw new Error(u)}const{topic:r,namespaces:i}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const s=this.client.session.get(r),a=l6(i,"update()");if(a)throw new Error(a.message);const c=j9(s.requiredNamespaces,i,"update()");if(c)throw new Error(c.message)}),ke(this,"isValidExtend",async n=>{if(!es(n)){const{message:i}=Ue("MISSING_OR_INVALID",`extend() params: ${n}`);throw new Error(i)}const{topic:r}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r)}),ke(this,"isValidRequest",async n=>{if(!es(n)){const{message:u}=Ue("MISSING_OR_INVALID",`request() params: ${n}`);throw new Error(u)}const{topic:r,request:i,chainId:s,expiry:a}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const{namespaces:c}=this.client.session.get(r);if(!L9(c,s)){const{message:u}=Ue("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(u)}if(!fxe(i)){const{message:u}=Ue("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(u)}if(!yxe(c,s,i.method)){const{message:u}=Ue("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(u)}if(a&&!wxe(a,b6)){const{message:u}=Ue("MISSING_OR_INVALID",`request() expiry: ${a}. Expiry must be a number (in seconds) between ${b6.min} and ${b6.max}`);throw new Error(u)}}),ke(this,"isValidRespond",async n=>{var r;if(!es(n)){const{message:c}=Ue("MISSING_OR_INVALID",`respond() params: ${n}`);throw new Error(c)}const{topic:i,response:s}=n;try{await this.isValidSessionTopic(i)}catch(c){throw(r=n?.response)!=null&&r.id&&this.cleanupAfterResponse(n),c}if(!hxe(s)){const{message:c}=Ue("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(s)}`);throw new Error(c)}const a=this.client.pendingRequest.get(s.id);if(a.topic!==i){const{message:c}=Ue("MISMATCHED_TOPIC",`Request response topic mismatch. reqId: ${s.id}, expected topic: ${a.topic}, received topic: ${i}`);throw new Error(c)}}),ke(this,"isValidPing",async n=>{if(!es(n)){const{message:i}=Ue("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(i)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),ke(this,"isValidEmit",async n=>{if(!es(n)){const{message:c}=Ue("MISSING_OR_INVALID",`emit() params: ${n}`);throw new Error(c)}const{topic:r,event:i,chainId:s}=n;await this.isValidSessionTopic(r);const{namespaces:a}=this.client.session.get(r);if(!L9(a,s)){const{message:c}=Ue("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(c)}if(!pxe(i)){const{message:c}=Ue("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(c)}if(!mxe(a,s,i.name)){const{message:c}=Ue("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(c)}}),ke(this,"isValidDisconnect",async n=>{if(!es(n)){const{message:i}=Ue("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(i)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),ke(this,"isValidAuthenticate",n=>{const{chains:r,uri:i,domain:s,nonce:a}=n;if(!Array.isArray(r)||r.length===0)throw new Error("chains is required and must be a non-empty array");if(!wr(i,!1))throw new Error("uri is required parameter");if(!wr(s,!1))throw new Error("domain is required parameter");if(!wr(a,!1))throw new Error("nonce is required parameter");if([...new Set(r.map(u=>il(u).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:c}=il(r[0]);if(c!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),ke(this,"getVerifyContext",async n=>{const{attestationId:r,hash:i,encryptedId:s,metadata:a,transportType:c}=n,u={verified:{verifyUrl:a.verifyUrl||Ug,validation:"UNKNOWN",origin:a.url||""}};try{if(c===Ln.link_mode){const h=this.getAppLinkIfEnabled(a,c);return u.verified.validation=h&&new URL(h).origin===new URL(a.url).origin?"VALID":"INVALID",u}const d=await this.client.core.verify.resolve({attestationId:r,hash:i,encryptedId:s,verifyUrl:a.verifyUrl});d&&(u.verified.origin=d.origin,u.verified.isScam=d.isScam,u.verified.validation=d.origin===new URL(a.url).origin?"VALID":"INVALID")}catch(d){this.client.logger.warn(d)}return this.client.logger.debug(`Verify context: ${JSON.stringify(u)}`),u}),ke(this,"validateSessionProps",(n,r)=>{Object.values(n).forEach((i,s)=>{if(i==null){const{message:a}=Ue("MISSING_OR_INVALID",`${r} must contain an existing value for each key. Received: ${i} for key ${Object.keys(n)[s]}`);throw new Error(a)}})}),ke(this,"getPendingAuthRequest",n=>{const r=this.client.auth.requests.get(n);return typeof r=="object"?r:void 0}),ke(this,"addToRecentlyDeleted",(n,r)=>{if(this.recentlyDeletedMap.set(n,r),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let i=0;const s=this.recentlyDeletedLimit/2;for(const a of this.recentlyDeletedMap.keys()){if(i++>=s)break;this.recentlyDeletedMap.delete(a)}}}),ke(this,"checkRecentlyDeleted",n=>{const r=this.recentlyDeletedMap.get(n);if(r){const{message:i}=Ue("MISSING_OR_INVALID",`Record was recently deleted - ${r}: ${n}`);throw new Error(i)}}),ke(this,"isLinkModeEnabled",(n,r)=>{var i,s,a,c,u,d,h,p,m;return!n||r!==Ln.link_mode?!1:((s=(i=this.client.metadata)==null?void 0:i.redirect)==null?void 0:s.linkMode)===!0&&((c=(a=this.client.metadata)==null?void 0:a.redirect)==null?void 0:c.universal)!==void 0&&((d=(u=this.client.metadata)==null?void 0:u.redirect)==null?void 0:d.universal)!==""&&((h=n?.redirect)==null?void 0:h.universal)!==void 0&&((p=n?.redirect)==null?void 0:p.universal)!==""&&((m=n?.redirect)==null?void 0:m.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(n.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),ke(this,"getAppLinkIfEnabled",(n,r)=>{var i;return this.isLinkModeEnabled(n,r)?(i=n?.redirect)==null?void 0:i.universal:void 0}),ke(this,"handleLinkModeMessage",({url:n})=>{if(!n||!n.includes("wc_ev")||!n.includes("topic"))return;const r=XD(n,"topic")||"",i=decodeURIComponent(XD(n,"wc_ev")||""),s=this.client.session.keys.includes(r);s&&this.client.session.update(r,{transportType:Ln.link_mode}),this.client.core.dispatchEnvelope({topic:r,message:i,sessionExists:s})}),ke(this,"registerLinkModeListeners",async()=>{var n;if(KC()||Fu()&&(n=this.client.metadata.redirect)!=null&&n.linkMode){const r=global==null?void 0:global.Linking;if(typeof r<"u"){r.addEventListener("url",this.handleLinkModeMessage,this.client.name);const i=await r.getInitialURL();i&&setTimeout(()=>{this.handleLinkModeMessage({url:i})},50)}}}),ke(this,"getTVFParams",(n,r,i)=>{var s,a,c;if(!((s=r.request)!=null&&s.method))return{};const u={correlationId:n,rpcMethods:[r.request.method],chainId:r.chainId};try{const d=this.extractTxHashesFromResult(r.request,i);u.txHashes=d,u.contractAddresses=this.isValidContractData(r.request.params)?[(c=(a=r.request.params)==null?void 0:a[0])==null?void 0:c.to]:[]}catch(d){this.client.logger.warn(d,"Error getting TVF params")}return u}),ke(this,"isValidContractData",n=>{var r;if(!n)return!1;try{const i=n?.data||((r=n?.[0])==null?void 0:r.data);if(!i.startsWith("0x"))return!1;const s=i.slice(2);return/^[0-9a-fA-F]*$/.test(s)?s.length%2===0:!1}catch{}return!1}),ke(this,"extractTxHashesFromResult",(n,r)=>{var i;try{if(!r)return[];const s=n.method,a=lCe[s];if(s==="sui_signTransaction")return[D2e(r.transactionBytes)];if(s==="near_signTransaction")return[s9(r)];if(s==="near_signTransactions")return r.map(u=>s9(u));if(s==="xrpl_signTransactionFor"||s==="xrpl_signTransaction")return[(i=r.tx_json)==null?void 0:i.hash];if(s==="polkadot_signTransaction")return[Pxe({transaction:n.params.transactionPayload,signature:r.signature})];if(s==="algo_signTxn")return wa(r)?r.map(u=>a9(u)):[a9(r)];if(s==="cosmos_signDirect")return[U2e(r)];if(s==="wallet_sendCalls")return B2e(r);if(typeof r=="string")return[r];const c=r[a.key];if(wa(c))return s==="solana_signAllTransactions"?c.map(u=>P2e(u)):c;if(typeof c=="string")return[c]}catch(s){this.client.logger.warn(s,"Error extracting tx hashes from result")}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,n=this.client.core.relayer.messages.getWithoutAck(e);for(const[r,i]of Object.entries(n))for(const s of i)try{await this.onProviderMessageEvent({topic:r,message:s,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${r}, message: ${s}`)}}catch(e){this.client.logger.warn(e,"processPendingMessageEvents failed")}}isInitialized(){if(!this.initialized){const{message:e}=Ue("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(sr.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:n,message:r,attestation:i,transportType:s}=e,{publicKey:a}=this.client.auth.authKeys.keys.includes(a1)?this.client.auth.authKeys.get(a1):{publicKey:void 0};try{const c=await this.client.core.crypto.decode(n,r,{receiverPublicKey:a,encoding:s===Ln.link_mode?Eu:is});cO(c)?(this.client.core.history.set(n,c),await this.onRelayEventRequest({topic:n,payload:c,attestation:i,transportType:s,encryptedId:ya(r)})):WE(c)?(await this.client.core.history.resolve(c),await this.onRelayEventResponse({topic:n,payload:c,transportType:s}),this.client.core.history.delete(n,c.id)):await this.onRelayEventUnknownPayload({topic:n,payload:c,transportType:s}),await this.client.core.relayer.messages.ack(n,r)}catch(c){this.client.logger.error(c)}}registerExpirerEvents(){this.client.core.expirer.on(da.expired,async e=>{const{topic:n,id:r}=YW(e.target);if(r&&this.client.pendingRequest.keys.includes(r))return await this.deletePendingSessionRequest(r,Ue("EXPIRED"),!0);if(r&&this.client.auth.requests.keys.includes(r))return await this.deletePendingAuthRequest(r,Ue("EXPIRED"),!0);n?this.client.session.keys.includes(n)&&(await this.deleteSession({topic:n,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:n})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r}))})}registerPairingEvents(){this.client.core.pairing.events.on(Nd.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(Nd.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!wr(e,!1)){const{message:n}=Ue("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(n)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:n}=Ue("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(n)}if($o(this.client.core.pairing.pairings.get(e).expiry)){const{message:n}=Ue("EXPIRED",`pairing topic: ${e}`);throw new Error(n)}}async isValidSessionTopic(e){if(!wr(e,!1)){const{message:n}=Ue("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(n)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:n}=Ue("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(n)}if($o(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:n}=Ue("EXPIRED",`session topic: ${e}`);throw new Error(n)}if(!this.client.core.crypto.keychain.has(e)){const{message:n}=Ue("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(n)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(wr(e,!1)){const{message:n}=Ue("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(n)}else{const{message:n}=Ue("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(n)}}async isValidProposalId(e){if(!uxe(e)){const{message:n}=Ue("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(n)}if(!this.client.proposal.keys.includes(e)){const{message:n}=Ue("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(n)}if($o(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:n}=Ue("EXPIRED",`proposal id: ${e}`);throw new Error(n)}}};class ACe extends kf{constructor(e,n){super(e,n,aCe,uO),this.core=e,this.logger=n}}let SCe=class extends kf{constructor(e,n){super(e,n,oCe,uO),this.core=e,this.logger=n}},xCe=class extends kf{constructor(e,n){super(e,n,uCe,uO,r=>r.id),this.core=e,this.logger=n}};class TCe extends kf{constructor(e,n){super(e,n,pCe,HE,()=>a1),this.core=e,this.logger=n}}class ICe extends kf{constructor(e,n){super(e,n,yCe,HE),this.core=e,this.logger=n}}let CCe=class extends kf{constructor(e,n){super(e,n,mCe,HE,r=>r.id),this.core=e,this.logger=n}};var OCe=Object.defineProperty,kCe=(t,e,n)=>e in t?OCe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,w6=(t,e,n)=>kCe(t,typeof e!="symbol"?e+"":e,n);class RCe{constructor(e,n){this.core=e,this.logger=n,w6(this,"authKeys"),w6(this,"pairingTopics"),w6(this,"requests"),this.authKeys=new TCe(this.core,this.logger),this.pairingTopics=new ICe(this.core,this.logger),this.requests=new CCe(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var NCe=Object.defineProperty,$Ce=(t,e,n)=>e in t?NCe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Vt=(t,e,n)=>$Ce(t,typeof e!="symbol"?e+"":e,n);let PCe=class AH extends k6e{constructor(e){super(e),Vt(this,"protocol",vH),Vt(this,"version",_H),Vt(this,"name",g6.name),Vt(this,"metadata"),Vt(this,"core"),Vt(this,"logger"),Vt(this,"events",new qs.EventEmitter),Vt(this,"engine"),Vt(this,"session"),Vt(this,"proposal"),Vt(this,"pendingRequest"),Vt(this,"auth"),Vt(this,"signConfig"),Vt(this,"on",(r,i)=>this.events.on(r,i)),Vt(this,"once",(r,i)=>this.events.once(r,i)),Vt(this,"off",(r,i)=>this.events.off(r,i)),Vt(this,"removeListener",(r,i)=>this.events.removeListener(r,i)),Vt(this,"removeAllListeners",r=>this.events.removeAllListeners(r)),Vt(this,"connect",async r=>{try{return await this.engine.connect(r)}catch(i){throw this.logger.error(i.message),i}}),Vt(this,"pair",async r=>{try{return await this.engine.pair(r)}catch(i){throw this.logger.error(i.message),i}}),Vt(this,"approve",async r=>{try{return await this.engine.approve(r)}catch(i){throw this.logger.error(i.message),i}}),Vt(this,"reject",async r=>{try{return await this.engine.reject(r)}catch(i){throw this.logger.error(i.message),i}}),Vt(this,"update",async r=>{try{return await this.engine.update(r)}catch(i){throw this.logger.error(i.message),i}}),Vt(this,"extend",async r=>{try{return await this.engine.extend(r)}catch(i){throw this.logger.error(i.message),i}}),Vt(this,"request",async r=>{try{return await this.engine.request(r)}catch(i){throw this.logger.error(i.message),i}}),Vt(this,"respond",async r=>{try{return await this.engine.respond(r)}catch(i){throw this.logger.error(i.message),i}}),Vt(this,"ping",async r=>{try{return await this.engine.ping(r)}catch(i){throw this.logger.error(i.message),i}}),Vt(this,"emit",async r=>{try{return await this.engine.emit(r)}catch(i){throw this.logger.error(i.message),i}}),Vt(this,"disconnect",async r=>{try{return await this.engine.disconnect(r)}catch(i){throw this.logger.error(i.message),i}}),Vt(this,"find",r=>{try{return this.engine.find(r)}catch(i){throw this.logger.error(i.message),i}}),Vt(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(r){throw this.logger.error(r.message),r}}),Vt(this,"authenticate",async(r,i)=>{try{return await this.engine.authenticate(r,i)}catch(s){throw this.logger.error(s.message),s}}),Vt(this,"formatAuthMessage",r=>{try{return this.engine.formatAuthMessage(r)}catch(i){throw this.logger.error(i.message),i}}),Vt(this,"approveSessionAuthenticate",async r=>{try{return await this.engine.approveSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),Vt(this,"rejectSessionAuthenticate",async r=>{try{return await this.engine.rejectSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),this.name=e?.name||g6.name,this.metadata=IEe(e?.metadata),this.signConfig=e?.signConfig;const n=aO({logger:e?.logger||g6.logger,name:this.name});this.logger=n,this.core=e?.core||new sCe(e),this.session=new SCe(this.core,this.logger),this.proposal=new ACe(this.core,this.logger),this.pendingRequest=new xCe(this.core,this.logger),this.engine=new ECe(this),this.auth=new RCe(this.core,this.logger)}static async init(e){const n=new AH(e);return await n.initialize(),n}get context(){return ys(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};const DCe=PCe;var Cv={exports:{}},RM;function MCe(){return RM||(RM=1,(function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof Ro<"u"&&Ro,r=(function(){function s(){this.fetch=!1,this.DOMException=n.DOMException}return s.prototype=n,new s})();(function(s){(function(a){var c=typeof s<"u"&&s||typeof self<"u"&&self||typeof Ro<"u"&&Ro||{},u={searchParams:"URLSearchParams"in c,iterable:"Symbol"in c&&"iterator"in Symbol,blob:"FileReader"in c&&"Blob"in c&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:"FormData"in c,arrayBuffer:"ArrayBuffer"in c};function d(T){return T&&DataView.prototype.isPrototypeOf(T)}if(u.arrayBuffer)var h=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],p=ArrayBuffer.isView||function(T){return T&&h.indexOf(Object.prototype.toString.call(T))>-1};function m(T){if(typeof T!="string"&&(T=String(T)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(T)||T==="")throw new TypeError('Invalid character in header field name: "'+T+'"');return T.toLowerCase()}function g(T){return typeof T!="string"&&(T=String(T)),T}function b(T){var x={next:function(){var N=T.shift();return{done:N===void 0,value:N}}};return u.iterable&&(x[Symbol.iterator]=function(){return x}),x}function v(T){this.map={},T instanceof v?T.forEach(function(x,N){this.append(N,x)},this):Array.isArray(T)?T.forEach(function(x){if(x.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+x.length);this.append(x[0],x[1])},this):T&&Object.getOwnPropertyNames(T).forEach(function(x){this.append(x,T[x])},this)}v.prototype.append=function(T,x){T=m(T),x=g(x);var N=this.map[T];this.map[T]=N?N+", "+x:x},v.prototype.delete=function(T){delete this.map[m(T)]},v.prototype.get=function(T){return T=m(T),this.has(T)?this.map[T]:null},v.prototype.has=function(T){return this.map.hasOwnProperty(m(T))},v.prototype.set=function(T,x){this.map[m(T)]=g(x)},v.prototype.forEach=function(T,x){for(var N in this.map)this.map.hasOwnProperty(N)&&T.call(x,this.map[N],N,this)},v.prototype.keys=function(){var T=[];return this.forEach(function(x,N){T.push(N)}),b(T)},v.prototype.values=function(){var T=[];return this.forEach(function(x){T.push(x)}),b(T)},v.prototype.entries=function(){var T=[];return this.forEach(function(x,N){T.push([N,x])}),b(T)},u.iterable&&(v.prototype[Symbol.iterator]=v.prototype.entries);function E(T){if(!T._noBody){if(T.bodyUsed)return Promise.reject(new TypeError("Already read"));T.bodyUsed=!0}}function O(T){return new Promise(function(x,N){T.onload=function(){x(T.result)},T.onerror=function(){N(T.error)}})}function k(T){var x=new FileReader,N=O(x);return x.readAsArrayBuffer(T),N}function S(T){var x=new FileReader,N=O(x),j=/charset=([A-Za-z0-9_-]+)/.exec(T.type),P=j?j[1]:"utf-8";return x.readAsText(T,P),N}function A(T){for(var x=new Uint8Array(T),N=new Array(x.length),j=0;j<x.length;j++)N[j]=String.fromCharCode(x[j]);return N.join("")}function C(T){if(T.slice)return T.slice(0);var x=new Uint8Array(T.byteLength);return x.set(new Uint8Array(T)),x.buffer}function I(){return this.bodyUsed=!1,this._initBody=function(T){this.bodyUsed=this.bodyUsed,this._bodyInit=T,T?typeof T=="string"?this._bodyText=T:u.blob&&Blob.prototype.isPrototypeOf(T)?this._bodyBlob=T:u.formData&&FormData.prototype.isPrototypeOf(T)?this._bodyFormData=T:u.searchParams&&URLSearchParams.prototype.isPrototypeOf(T)?this._bodyText=T.toString():u.arrayBuffer&&u.blob&&d(T)?(this._bodyArrayBuffer=C(T.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):u.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(T)||p(T))?this._bodyArrayBuffer=C(T):this._bodyText=T=Object.prototype.toString.call(T):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof T=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):u.searchParams&&URLSearchParams.prototype.isPrototypeOf(T)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},u.blob&&(this.blob=function(){var T=E(this);if(T)return T;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var T=E(this);return T||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(u.blob)return this.blob().then(k);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var T=E(this);if(T)return T;if(this._bodyBlob)return S(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(A(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},u.formData&&(this.formData=function(){return this.text().then(B)}),this.json=function(){return this.text().then(JSON.parse)},this}var $=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function z(T){var x=T.toUpperCase();return $.indexOf(x)>-1?x:T}function L(T,x){if(!(this instanceof L))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');x=x||{};var N=x.body;if(T instanceof L){if(T.bodyUsed)throw new TypeError("Already read");this.url=T.url,this.credentials=T.credentials,x.headers||(this.headers=new v(T.headers)),this.method=T.method,this.mode=T.mode,this.signal=T.signal,!N&&T._bodyInit!=null&&(N=T._bodyInit,T.bodyUsed=!0)}else this.url=String(T);if(this.credentials=x.credentials||this.credentials||"same-origin",(x.headers||!this.headers)&&(this.headers=new v(x.headers)),this.method=z(x.method||this.method||"GET"),this.mode=x.mode||this.mode||null,this.signal=x.signal||this.signal||(function(){if("AbortController"in c){var H=new AbortController;return H.signal}})(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&N)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(N),(this.method==="GET"||this.method==="HEAD")&&(x.cache==="no-store"||x.cache==="no-cache")){var j=/([?&])_=[^&]*/;if(j.test(this.url))this.url=this.url.replace(j,"$1_="+new Date().getTime());else{var P=/\?/;this.url+=(P.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}L.prototype.clone=function(){return new L(this,{body:this._bodyInit})};function B(T){var x=new FormData;return T.trim().split("&").forEach(function(N){if(N){var j=N.split("="),P=j.shift().replace(/\+/g," "),H=j.join("=").replace(/\+/g," ");x.append(decodeURIComponent(P),decodeURIComponent(H))}}),x}function V(T){var x=new v,N=T.replace(/\r?\n[\t ]+/g," ");return N.split("\r").map(function(j){return j.indexOf(`
`)===0?j.substr(1,j.length):j}).forEach(function(j){var P=j.split(":"),H=P.shift().trim();if(H){var M=P.join(":").trim();try{x.append(H,M)}catch(G){console.warn("Response "+G.message)}}}),x}I.call(L.prototype);function D(T,x){if(!(this instanceof D))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(x||(x={}),this.type="default",this.status=x.status===void 0?200:x.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=x.statusText===void 0?"":""+x.statusText,this.headers=new v(x.headers),this.url=x.url||"",this._initBody(T)}I.call(D.prototype),D.prototype.clone=function(){return new D(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new v(this.headers),url:this.url})},D.error=function(){var T=new D(null,{status:200,statusText:""});return T.ok=!1,T.status=0,T.type="error",T};var F=[301,302,303,307,308];D.redirect=function(T,x){if(F.indexOf(x)===-1)throw new RangeError("Invalid status code");return new D(null,{status:x,headers:{location:T}})},a.DOMException=c.DOMException;try{new a.DOMException}catch{a.DOMException=function(x,N){this.message=x,this.name=N;var j=Error(x);this.stack=j.stack},a.DOMException.prototype=Object.create(Error.prototype),a.DOMException.prototype.constructor=a.DOMException}function K(T,x){return new Promise(function(N,j){var P=new L(T,x);if(P.signal&&P.signal.aborted)return j(new a.DOMException("Aborted","AbortError"));var H=new XMLHttpRequest;function M(){H.abort()}H.onload=function(){var X={statusText:H.statusText,headers:V(H.getAllResponseHeaders()||"")};P.url.indexOf("file://")===0&&(H.status<200||H.status>599)?X.status=200:X.status=H.status,X.url="responseURL"in H?H.responseURL:X.headers.get("X-Request-URL");var Q="response"in H?H.response:H.responseText;setTimeout(function(){N(new D(Q,X))},0)},H.onerror=function(){setTimeout(function(){j(new TypeError("Network request failed"))},0)},H.ontimeout=function(){setTimeout(function(){j(new TypeError("Network request timed out"))},0)},H.onabort=function(){setTimeout(function(){j(new a.DOMException("Aborted","AbortError"))},0)};function G(X){try{return X===""&&c.location.href?c.location.href:X}catch{return X}}if(H.open(P.method,G(P.url),!0),P.credentials==="include"?H.withCredentials=!0:P.credentials==="omit"&&(H.withCredentials=!1),"responseType"in H&&(u.blob?H.responseType="blob":u.arrayBuffer&&(H.responseType="arraybuffer")),x&&typeof x.headers=="object"&&!(x.headers instanceof v||c.Headers&&x.headers instanceof c.Headers)){var J=[];Object.getOwnPropertyNames(x.headers).forEach(function(X){J.push(m(X)),H.setRequestHeader(X,g(x.headers[X]))}),P.headers.forEach(function(X,Q){J.indexOf(Q)===-1&&H.setRequestHeader(Q,X)})}else P.headers.forEach(function(X,Q){H.setRequestHeader(Q,X)});P.signal&&(P.signal.addEventListener("abort",M),H.onreadystatechange=function(){H.readyState===4&&P.signal.removeEventListener("abort",M)}),H.send(typeof P._bodyInit>"u"?null:P._bodyInit)})}return K.polyfill=!0,c.fetch||(c.fetch=K,c.Headers=v,c.Request=L,c.Response=D),a.Headers=v,a.Request=L,a.Response=D,a.fetch=K,Object.defineProperty(a,"__esModule",{value:!0}),a})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=n.fetch?n:r;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(Cv,Cv.exports)),Cv.exports}var UCe=MCe();const NM=Uu(UCe);var BCe=Object.defineProperty,LCe=Object.defineProperties,jCe=Object.getOwnPropertyDescriptors,$M=Object.getOwnPropertySymbols,zCe=Object.prototype.hasOwnProperty,FCe=Object.prototype.propertyIsEnumerable,PM=(t,e,n)=>e in t?BCe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,DM=(t,e)=>{for(var n in e||(e={}))zCe.call(e,n)&&PM(t,n,e[n]);if($M)for(var n of $M(e))FCe.call(e,n)&&PM(t,n,e[n]);return t},MM=(t,e)=>LCe(t,jCe(e));const qCe={Accept:"application/json","Content-Type":"application/json"},WCe="POST",UM={headers:qCe,method:WCe},BM=10;let SH=class{constructor(e,n=!1){if(this.url=e,this.disableProviderPing=n,this.events=new qs.EventEmitter,this.isAvailable=!1,this.registering=!1,!eM(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=n}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const n=hl(e),r=await(await NM(this.url,MM(DM({},UM),{body:n}))).json();this.onPayload({data:r})}catch(n){this.onError(e.id,n)}}async register(e=this.url){if(!eM(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return i(new Error("HTTP connection is missing or invalid"));r()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const n=hl({id:1,jsonrpc:"2.0",method:"test",params:[]});await NM(e,MM(DM({},UM),{body:n}))}this.onOpen()}catch(n){const r=this.parseError(n);throw this.events.emit("register_error",r),this.onClose(),r}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?pf(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),i=r.message||r.toString(),s=qE(e,i);this.events.emit("payload",s)}parseError(e,n=this.url){return QV(e,n,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>BM&&this.events.setMaxListeners(BM)}};function dO(t){return t==null||typeof t!="object"&&typeof t!="function"}function xH(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function TH(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const VCe="[object RegExp]",IH="[object String]",CH="[object Number]",OH="[object Boolean]",kH="[object Arguments]",HCe="[object Symbol]",GCe="[object Date]",KCe="[object Map]",YCe="[object Set]",ZCe="[object Array]",XCe="[object ArrayBuffer]",JCe="[object Object]",QCe="[object DataView]",eOe="[object Uint8Array]",tOe="[object Uint8ClampedArray]",nOe="[object Uint16Array]",rOe="[object Uint32Array]",iOe="[object Int8Array]",sOe="[object Int16Array]",aOe="[object Int32Array]",oOe="[object Float32Array]",cOe="[object Float64Array]";function fO(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function lOe(t,e){return Gh(t,void 0,t,new Map,e)}function Gh(t,e,n,r=new Map,i=void 0){const s=i?.(t,e,n,r);if(s!=null)return s;if(dO(t))return t;if(r.has(t))return r.get(t);if(Array.isArray(t)){const a=new Array(t.length);r.set(t,a);for(let c=0;c<t.length;c++)a[c]=Gh(t[c],c,n,r,i);return Object.hasOwn(t,"index")&&(a.index=t.index),Object.hasOwn(t,"input")&&(a.input=t.input),a}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const a=new RegExp(t.source,t.flags);return a.lastIndex=t.lastIndex,a}if(t instanceof Map){const a=new Map;r.set(t,a);for(const[c,u]of t)a.set(c,Gh(u,c,n,r,i));return a}if(t instanceof Set){const a=new Set;r.set(t,a);for(const c of t)a.add(Gh(c,void 0,n,r,i));return a}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(fO(t)){const a=new(Object.getPrototypeOf(t)).constructor(t.length);r.set(t,a);for(let c=0;c<t.length;c++)a[c]=Gh(t[c],c,n,r,i);return a}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const a=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return r.set(t,a),$d(a,t,n,r,i),a}if(typeof File<"u"&&t instanceof File){const a=new File([t],t.name,{type:t.type});return r.set(t,a),$d(a,t,n,r,i),a}if(t instanceof Blob){const a=new Blob([t],{type:t.type});return r.set(t,a),$d(a,t,n,r,i),a}if(t instanceof Error){const a=new t.constructor;return r.set(t,a),a.message=t.message,a.name=t.name,a.stack=t.stack,a.cause=t.cause,$d(a,t,n,r,i),a}if(typeof t=="object"&&uOe(t)){const a=Object.create(Object.getPrototypeOf(t));return r.set(t,a),$d(a,t,n,r,i),a}return t}function $d(t,e,n=t,r,i){const s=[...Object.keys(e),...xH(e)];for(let a=0;a<s.length;a++){const c=s[a],u=Object.getOwnPropertyDescriptor(t,c);(u==null||u.writable)&&(t[c]=Gh(e[c],c,n,r,i))}}function uOe(t){switch(TH(t)){case kH:case ZCe:case XCe:case QCe:case OH:case GCe:case oOe:case cOe:case iOe:case sOe:case aOe:case KCe:case CH:case JCe:case VCe:case YCe:case IH:case HCe:case eOe:case tOe:case nOe:case rOe:return!0;default:return!1}}function dOe(t,e){return lOe(t,(n,r,i,s)=>{if(typeof t=="object")switch(Object.prototype.toString.call(t)){case CH:case IH:case OH:{const a=new t.constructor(t?.valueOf());return $d(a,t),a}case kH:{const a={};return $d(a,t),a.length=t.length,a[Symbol.iterator]=t[Symbol.iterator],a}default:return}})}function LM(t){return dOe(t)}function jM(t){return t!==null&&typeof t=="object"&&TH(t)==="[object Arguments]"}function zM(t){return typeof t=="object"&&t!==null}function fOe(){}function hOe(t){return fO(t)}function pOe(t){if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const n=t[Symbol.toStringTag];return n==null||!Object.getOwnPropertyDescriptor(t,Symbol.toStringTag)?.writable?!1:t.toString()===`[object ${n}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function yOe(t){if(dO(t))return t;if(Array.isArray(t)||fO(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),n=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new n(t);if(t instanceof RegExp){const r=new n(t);return r.lastIndex=t.lastIndex,r}if(t instanceof DataView)return new n(t.buffer.slice(0));if(t instanceof Error){const r=new n(t.message);return r.stack=t.stack,r.name=t.name,r.cause=t.cause,r}if(typeof File<"u"&&t instanceof File)return new n([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const r=Object.create(e);return Object.assign(r,t)}return t}function mOe(t,...e){const n=e.slice(0,-1),r=e[e.length-1];let i=t;for(let s=0;s<n.length;s++){const a=n[s];i=w3(i,a,r,new Map)}return i}function w3(t,e,n,r){if(dO(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(r.has(e))return yOe(r.get(e));if(r.set(e,t),Array.isArray(e)){e=e.slice();for(let s=0;s<e.length;s++)e[s]=e[s]??void 0}const i=[...Object.keys(e),...xH(e)];for(let s=0;s<i.length;s++){const a=i[s];let c=e[a],u=t[a];if(jM(c)&&(c={...c}),jM(u)&&(u={...u}),typeof Buffer<"u"&&Buffer.isBuffer(c)&&(c=LM(c)),Array.isArray(c))if(typeof u=="object"&&u!=null){const h=[],p=Reflect.ownKeys(u);for(let m=0;m<p.length;m++){const g=p[m];h[g]=u[g]}u=h}else u=[];const d=n(u,c,a,t,e,r);d!=null?t[a]=d:Array.isArray(c)||zM(u)&&zM(c)?t[a]=w3(u,c,n,r):u==null&&pOe(c)?t[a]=w3({},c,n,r):u==null&&hOe(c)?t[a]=LM(c):(u===void 0||c!==void 0)&&(t[a]=c)}return t}function gOe(t,...e){return mOe(t,...e,fOe)}const FM="error",bOe="wss://relay.walletconnect.org",wOe="wc",RH="universal_provider",Ov=`${wOe}@2:${RH}:`,NH="https://rpc.walletconnect.org/v1/",$H="generic",vOe=`${NH}bundler`,op="call_status",_Oe=86400,hO={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};var EOe=Object.defineProperty,AOe=Object.defineProperties,SOe=Object.getOwnPropertyDescriptors,qM=Object.getOwnPropertySymbols,xOe=Object.prototype.hasOwnProperty,TOe=Object.prototype.propertyIsEnumerable,WM=(t,e,n)=>e in t?EOe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,kv=(t,e)=>{for(var n in e||(e={}))xOe.call(e,n)&&WM(t,n,e[n]);if(qM)for(var n of qM(e))TOe.call(e,n)&&WM(t,n,e[n]);return t},IOe=(t,e)=>AOe(t,SOe(e));function PH(t,e,n){var r;const i=il(t);return((r=e.rpcMap)==null?void 0:r[i.reference])||`${NH}?chainId=${i.namespace}:${i.reference}&projectId=${n}`}function COe(t){return t.includes(":")?t.split(":")[1]:t}function DH(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function OOe(t,e){const n=Object.keys(e.namespaces).filter(i=>i.includes(t));if(!n.length)return[];const r=[];return n.forEach(i=>{const s=e.namespaces[i].accounts;r.push(...s)}),r}function VM(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>{var r,i;return((r=n?.chains)==null?void 0:r.length)&&((i=n?.chains)==null?void 0:i.length)>0}))}function Rv(t={},e={}){const n=VM(HM(t)),r=VM(HM(e));return gOe(n,r)}function HM(t){var e,n,r,i,s;const a={};if(!Fo(t))return a;for(const[c,u]of Object.entries(t)){const d=FE(c)?[c]:u.chains,h=u.methods||[],p=u.events||[],m=u.rpcMap||{},g=Hh(c);a[g]=IOe(kv(kv({},a[g]),u),{chains:zo(d,(e=a[g])==null?void 0:e.chains),methods:zo(h,(n=a[g])==null?void 0:n.methods),events:zo(p,(r=a[g])==null?void 0:r.events)}),(Fo(m)||Fo(((i=a[g])==null?void 0:i.rpcMap)||{}))&&(a[g].rpcMap=kv(kv({},m),(s=a[g])==null?void 0:s.rpcMap))}return a}function GM(t){return t.includes(":")?t.split(":")[2]:t}function KM(t){const e={};for(const[n,r]of Object.entries(t)){const i=r.methods||[],s=r.events||[],a=r.accounts||[],c=FE(n)?[n]:r.chains?r.chains:DH(r.accounts);e[n]={chains:c,methods:i,events:s,accounts:a}}return e}function v6(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}function kOe(t){try{const e=JSON.parse(t);return typeof e=="object"&&e!==null&&!Array.isArray(e)}catch{return!1}}const MH={},cp=t=>MH[t],_6=(t,e)=>{MH[t]=e};var ROe=Object.defineProperty,YM=Object.getOwnPropertySymbols,NOe=Object.prototype.hasOwnProperty,$Oe=Object.prototype.propertyIsEnumerable,ZM=(t,e,n)=>e in t?ROe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,XM=(t,e)=>{for(var n in e||(e={}))NOe.call(e,n)&&ZM(t,n,e[n]);if(YM)for(var n of YM(e))$Oe.call(e,n)&&ZM(t,n,e[n]);return t};const JM="eip155",POe=["atomic","flow-control","paymasterService","sessionKeys","auxiliaryFunds"],DOe=t=>t&&t.startsWith("0x")?BigInt(t).toString(10):t,E6=t=>t&&t.startsWith("0x")?t:`0x${BigInt(t).toString(16)}`,QM=t=>Object.keys(t).filter(e=>POe.includes(e)).reduce((e,n)=>(e[n]=MOe(t[n]),e),{}),MOe=t=>typeof t=="string"&&kOe(t)?JSON.parse(t):t,UOe=(t,e,n)=>{const{sessionProperties:r={},scopedProperties:i={}}=t,s={};if(!Fo(i)&&!Fo(r))return;const a=QM(r);for(const c of n){const u=DOe(c);if(!u)continue;s[E6(u)]=a;const d=i?.[`${JM}:${u}`];if(d){const h=d?.[`${JM}:${u}:${e}`];s[E6(u)]=XM(XM({},s[E6(u)]),QM(h||d))}}for(const[c,u]of Object.entries(s))Object.keys(u).length===0&&delete s[c];return Object.keys(s).length>0?s:void 0};var BOe=Object.defineProperty,LOe=(t,e,n)=>e in t?BOe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,jOe=(t,e,n)=>LOe(t,e+"",n);let A6,zOe=class UH{constructor(e){jOe(this,"storage"),this.storage=e}async getItem(e){return await this.storage.getItem(e)}async setItem(e,n){return await this.storage.setItem(e,n)}async removeItem(e){return await this.storage.removeItem(e)}static getStorage(e){return A6||(A6=new UH(e)),A6}};var FOe=Object.defineProperty,qOe=Object.defineProperties,WOe=Object.getOwnPropertyDescriptors,eU=Object.getOwnPropertySymbols,VOe=Object.prototype.hasOwnProperty,HOe=Object.prototype.propertyIsEnumerable,tU=(t,e,n)=>e in t?FOe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,GOe=(t,e)=>{for(var n in e||(e={}))VOe.call(e,n)&&tU(t,n,e[n]);if(eU)for(var n of eU(e))HOe.call(e,n)&&tU(t,n,e[n]);return t},KOe=(t,e)=>qOe(t,WOe(e));async function YOe(t,e){const n=il(t.result.capabilities.caip345.caip2),r=t.result.capabilities.caip345.transactionHashes,i=await Promise.allSettled(r.map(p=>ZOe(n.reference,p,e))),s=i.filter(p=>p.status==="fulfilled").map(p=>p.value).filter(p=>p);i.filter(p=>p.status==="rejected").forEach(p=>console.warn("Failed to fetch transaction receipt:",p.reason));const a=!s.length||s.some(p=>!p),c=s.every(p=>p?.status==="0x1"),u=s.every(p=>p?.status==="0x0"),d=s.some(p=>p?.status==="0x0");let h;return a?h=100:c?h=200:u?h=500:d&&(h=600),{id:t.result.id,version:t.request.version,atomic:t.request.atomicRequired,chainId:t.request.chainId,capabilities:t.result.capabilities,receipts:s,status:h}}async function ZOe(t,e,n){return await n(parseInt(t)).request(Ya("eth_getTransactionReceipt",[e]))}async function XOe({sendCalls:t,storage:e}){const n=await e.getItem(op);await e.setItem(op,KOe(GOe({},n),{[t.result.id]:{request:t.request,result:t.result,expiry:yr(_Oe)}}))}async function JOe({resultId:t,storage:e}){const n=await e.getItem(op);if(n){delete n[t],await e.setItem(op,n);for(const r in n)$o(n[r].expiry)&&delete n[r];await e.setItem(op,n)}}async function QOe({resultId:t,storage:e}){const n=await e.getItem(op),r=n?.[t];if(r&&!$o(r.expiry))return r;await JOe({resultId:t,storage:e})}var e8e=Object.defineProperty,t8e=Object.defineProperties,n8e=Object.getOwnPropertyDescriptors,nU=Object.getOwnPropertySymbols,r8e=Object.prototype.hasOwnProperty,i8e=Object.prototype.propertyIsEnumerable,v3=(t,e,n)=>e in t?e8e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,S6=(t,e)=>{for(var n in e||(e={}))r8e.call(e,n)&&v3(t,n,e[n]);if(nU)for(var n of nU(e))i8e.call(e,n)&&v3(t,n,e[n]);return t},x6=(t,e)=>t8e(t,n8e(e)),gd=(t,e,n)=>v3(t,typeof e!="symbol"?e+"":e,n);class s8e{constructor(e){gd(this,"name","eip155"),gd(this,"client"),gd(this,"chainId"),gd(this,"namespace"),gd(this,"httpProviders"),gd(this,"events"),gd(this,"storage"),this.namespace=e.namespace,this.events=cp("events"),this.client=cp("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain()),this.storage=zOe.getStorage(this.client.core.storage)}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e);case"wallet_sendCalls":return await this.sendCalls(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(parseInt(e),n);const r=this.chainId;this.chainId=parseInt(e),this.events.emit(hO.DEFAULT_CHAIN_CHANGED,{currentCaipChainId:`${this.name}:${e}`,previousCaipChainId:`${this.name}:${r}`})}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,n){const r=n||PH(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new lO(new SH(r,cp("disableProviderPing")))}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=parseInt(COe(n));e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}getHttpProvider(e){const n=e||this.chainId;return this.httpProviders[n]||(this.httpProviders=x6(S6({},this.httpProviders),{[n]:this.createHttpProvider(n)}),this.httpProviders[n])}async handleSwitchChain(e){var n,r;let i=e.request.params?(n=e.request.params[0])==null?void 0:n.chainId:"0x0";i=i.startsWith("0x")?i:`0x${i}`;const s=parseInt(i,16);if(this.isChainApproved(s))this.setDefaultChain(`${s}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:i}]},chainId:(r=this.namespace.chains)==null?void 0:r[0]}),this.setDefaultChain(`${s}`);else throw new Error(`Failed to switch to chain 'eip155:${s}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var n,r,i,s,a;const c=(r=(n=e.request)==null?void 0:n.params)==null?void 0:r[0],u=((s=(i=e.request)==null?void 0:i.params)==null?void 0:s[1])||[];if(!c)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const d=this.client.session.get(e.topic),h=((a=d?.sessionProperties)==null?void 0:a.capabilities)||{},p=`${c}${u.join(",")}`,m=h?.[p];if(m)return m;let g;try{g=UOe(d,c,u)}catch(v){console.warn("Failed to extract capabilities from session",v)}if(g)return g;const b=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:x6(S6({},d.sessionProperties||{}),{capabilities:x6(S6({},h||{}),{[p]:b})})})}catch(v){console.warn("Failed to update session with capabilities",v)}return b}async getCallStatus(e){var n,r,i;const s=this.client.session.get(e.topic),a=(n=s.sessionProperties)==null?void 0:n.bundler_name;if(a){const d=this.getBundlerUrl(e.chainId,a);try{return await this.getUserOperationReceipt(d,e)}catch(h){console.warn("Failed to fetch call status from bundler",h,d)}}const c=(r=s.sessionProperties)==null?void 0:r.bundler_url;if(c)try{return await this.getUserOperationReceipt(c,e)}catch(d){console.warn("Failed to fetch call status from custom bundler",d,c)}const u=await QOe({resultId:(i=e.request.params)==null?void 0:i[0],storage:this.storage});if(u)try{return await YOe(u,this.getHttpProvider.bind(this))}catch(d){console.warn("Failed to fetch call status from stored send calls",d,u)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,n){var r;const i=new URL(e),s=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ya("eth_getUserOperationReceipt",[(r=n.request.params)==null?void 0:r[0]]))});if(!s.ok)throw new Error(`Failed to fetch user operation receipt - ${s.status}`);return await s.json()}getBundlerUrl(e,n){return`${vOe}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${n}`}async sendCalls(e){var n,r,i;const s=await this.client.request(e),a=(n=e.request.params)==null?void 0:n[0],c=s?.id,u=s?.capabilities||{},d=(r=u?.caip345)==null?void 0:r.caip2,h=(i=u?.caip345)==null?void 0:i.transactionHashes;return!c||!d||!(h!=null&&h.length)||await XOe({sendCalls:{request:a,result:s},storage:this.storage}),s}}var a8e=Object.defineProperty,o8e=(t,e,n)=>e in t?a8e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,kh=(t,e,n)=>o8e(t,typeof e!="symbol"?e+"":e,n);class c8e{constructor(e){kh(this,"name",$H),kh(this,"client"),kh(this,"httpProviders"),kh(this,"events"),kh(this,"namespace"),kh(this,"chainId"),this.namespace=e.namespace,this.events=cp("events"),this.client=cp("client"),this.chainId=this.getDefaultChain(),this.name=this.getNamespaceName(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n);const r=this.chainId;this.chainId=e,this.events.emit(hO.DEFAULT_CHAIN_CHANGED,{currentCaipChainId:`${this.name}:${e}`,previousCaipChainId:`${this.name}:${r}`})}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getNamespaceName(){const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return il(e).namespace}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){var e,n;const r={};return(n=(e=this.namespace)==null?void 0:e.accounts)==null||n.forEach(i=>{var s,a;const c=il(i),u=(a=(s=this.namespace)==null?void 0:s.rpcMap)==null?void 0:a[`${c.namespace}:${c.reference}`];r[c.reference]=this.createHttpProvider(i,u)}),r}getHttpProvider(e){const n=il(e).reference,r=this.httpProviders[n];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||PH(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new lO(new SH(r,cp("disableProviderPing")))}}var l8e=Object.defineProperty,u8e=Object.defineProperties,d8e=Object.getOwnPropertyDescriptors,rU=Object.getOwnPropertySymbols,f8e=Object.prototype.hasOwnProperty,h8e=Object.prototype.propertyIsEnumerable,_3=(t,e,n)=>e in t?l8e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,wm=(t,e)=>{for(var n in e||(e={}))f8e.call(e,n)&&_3(t,n,e[n]);if(rU)for(var n of rU(e))h8e.call(e,n)&&_3(t,n,e[n]);return t},Nv=(t,e)=>u8e(t,d8e(e)),oa=(t,e,n)=>_3(t,typeof e!="symbol"?e+"":e,n);let p8e=class BH{constructor(e){oa(this,"client"),oa(this,"namespaces"),oa(this,"optionalNamespaces"),oa(this,"sessionProperties"),oa(this,"scopedProperties"),oa(this,"events",new OC),oa(this,"rpcProviders",{}),oa(this,"session"),oa(this,"providerOpts"),oa(this,"logger"),oa(this,"uri"),oa(this,"disableProviderPing",!1);var n,r;this.providerOpts=e,this.logger=aO({logger:(n=e.logger)!=null?n:FM,name:(r=this.providerOpts.name)!=null?r:RH}),this.disableProviderPing=e?.disableProviderPing||!1}static async init(e){const n=new BH(e);return await n.initialize(),n}async request(e,n,r){const[i,s]=this.validateChain(n);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(i).request({request:wm({},e),chainId:`${i}:${s}`,topic:this.session.topic,expiry:r})}sendAsync(e,n,r,i){const s=new Date().getTime();this.request(e,r,i).then(a=>n(null,O0(s,a))).catch(a=>n(a,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:jn("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,n){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:r,response:i}=await this.client.authenticate(e,n);r&&(this.uri=r,this.events.emit("display_uri",r));const s=await i();if(this.session=s.session,this.session){const a=KM(this.session.namespaces);this.namespaces=Rv(this.namespaces,a),await this.persist("namespaces",this.namespaces),this.onConnect()}return s}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}removeListener(e,n){this.events.removeListener(e,n)}off(e,n){this.events.off(e,n)}get isWalletConnect(){return!0}async pair(e){const{uri:n,approval:r}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});n&&(this.uri=n,this.events.emit("display_uri",n));const i=await r();this.session=i;const s=KM(i.namespaces);return this.namespaces=Rv(this.namespaces,s),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,n){try{if(!this.session)return;const[r,i]=this.validateChain(e);this.getProvider(r).setDefaultChain(i,n)}catch(r){if(!/Please call connect/.test(r.message))throw r}}async cleanupPendingPairings(e={}){try{this.logger.info("Cleaning up inactive pairings...");const n=this.client.pairing.getAll();if(!wa(n))return;for(const r of n)e.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${n.length}`)}catch(n){this.logger.warn(n,"Failed to cleanup pending pairings")}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,n;if(this.client=this.providerOpts.client||await DCe.init({core:this.providerOpts.core,logger:this.providerOpts.logger||FM,relayUrl:this.providerOpts.relayUrl||bOe,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(r){throw this.logger.error(r,"Failed to get session"),new Error(`The provided session: ${(n=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:n.topic} doesn't exist in the Sign client`)}else{const r=this.client.session.getAll();this.session=r[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(n=>Hh(n)))];_6("client",this.client),_6("events",this.events),_6("disableProviderPing",this.disableProviderPing),e.forEach(n=>{if(!this.session)return;const r=OOe(n,this.session);if(r?.length===0)return;const i=DH(r),s=Rv(this.namespaces,this.optionalNamespaces),a=Nv(wm({},s[n]),{accounts:r,chains:i});n==="eip155"?this.rpcProviders[n]=new s8e({namespace:a}):this.rpcProviders[n]=new c8e({namespace:a})})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var n;const{topic:r}=e;r===((n=this.session)==null?void 0:n.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var n;const{params:r,topic:i}=e;if(i!==((n=this.session)==null?void 0:n.topic))return;const{event:s}=r;if(s.name==="accountsChanged"){const a=s.data;a&&wa(a)&&this.events.emit("accountsChanged",a.map(GM))}else if(s.name==="chainChanged"){const a=r.chainId,c=r.event.data,u=Hh(a),d=v6(a)!==v6(c)?`${u}:${v6(c)}`:a;this.onChainChanged({currentCaipChainId:d})}else this.events.emit(s.name,s.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:n})=>{var r,i;if(e!==((r=this.session)==null?void 0:r.topic))return;const{namespaces:s}=n,a=(i=this.client)==null?void 0:i.session.get(e);this.session=Nv(wm({},a),{namespaces:s}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:n})}),this.client.on("session_delete",async e=>{var n;e.topic===((n=this.session)==null?void 0:n.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",Nv(wm({},jn("USER_DISCONNECTED")),{data:e.topic})))}),this.on(hO.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(Nv(wm({},e),{internal:!0}))})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[$H]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var n;this.getProvider(e).updateNamespace((n=this.session)==null?void 0:n.namespaces[e])})}setNamespaces(e){const{namespaces:n={},optionalNamespaces:r={},sessionProperties:i,scopedProperties:s}=e;this.optionalNamespaces=Rv(n,r),this.sessionProperties=i,this.scopedProperties=s}validateChain(e){const[n,r]=e?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[n,r];if(n&&!Object.keys(this.namespaces||{}).map(a=>Hh(a)).includes(n))throw new Error(`Namespace '${n}' is not configured. Please call connect() first with namespace config.`);if(n&&r)return[n,r];const i=Hh(Object.keys(this.namespaces)[0]),s=this.rpcProviders[i].getDefaultChain();return[i,s]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged({currentCaipChainId:e,previousCaipChainId:n,internal:r=!1}){if(!this.namespaces)return;const[i,s]=this.validateChain(e);s&&(this.updateNamespaceChain(i,s),r?(this.events.emit("chainChanged",s),this.emitAccountsChangedOnChainChange({namespace:i,currentCaipChainId:e,previousCaipChainId:n})):this.getProvider(i).setDefaultChain(s),await this.persist("namespaces",this.namespaces))}emitAccountsChangedOnChainChange({namespace:e,currentCaipChainId:n,previousCaipChainId:r}){var i,s;try{if(r===n)return;const a=(s=(i=this.session)==null?void 0:i.namespaces[e])==null?void 0:s.accounts;if(!a)return;const c=a.filter(u=>u.includes(`${n}:`)).map(GM);if(!wa(c))return;this.events.emit("accountsChanged",c)}catch(a){this.logger.warn(a,"Failed to emit accountsChanged on chain change")}}updateNamespaceChain(e,n){if(!this.namespaces)return;const r=this.namespaces[e]?e:`${e}:${n}`,i={chains:[],methods:[],events:[],defaultChain:n};this.namespaces[r]?this.namespaces[r]&&(this.namespaces[r].defaultChain=n):this.namespaces[r]=i}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,n){var r;const i=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.setItem(`${Ov}/${e}${i}`,n)}async getFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";return await this.client.core.storage.getItem(`${Ov}/${e}${r}`)}async deleteFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.removeItem(`${Ov}/${e}${r}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const n=await this.client.core.storage.getKeys();for(const r of n)r.startsWith(Ov)&&await this.client.core.storage.removeItem(r)}catch(n){this.logger.warn(n,"Failed to cleanup storage")}}};const LH=p8e,y8e="wc",m8e="ethereum_provider",g8e=`${y8e}@2:${m8e}:`,b8e="https://rpc.walletconnect.org/v1/",E3=["eth_sendTransaction","personal_sign"],jH=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_sendCalls","wallet_getCapabilities","wallet_getCallsStatus","wallet_showCallsStatus"],A3=["chainChanged","accountsChanged"],zH=["chainChanged","accountsChanged","message","disconnect","connect"],w8e=async()=>{const{createAppKit:t}=await Fe(()=>import("./core-d5_mHI0W.js").then(e=>e.ai),[]);return t};var v8e=Object.defineProperty,_8e=Object.defineProperties,E8e=Object.getOwnPropertyDescriptors,iU=Object.getOwnPropertySymbols,A8e=Object.prototype.hasOwnProperty,S8e=Object.prototype.propertyIsEnumerable,S3=(t,e,n)=>e in t?v8e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Id=(t,e)=>{for(var n in e||(e={}))A8e.call(e,n)&&S3(t,n,e[n]);if(iU)for(var n of iU(e))S8e.call(e,n)&&S3(t,n,e[n]);return t},vm=(t,e)=>_8e(t,E8e(e)),Is=(t,e,n)=>S3(t,typeof e!="symbol"?e+"":e,n);function w_(t){return Number(t[0].split(":")[1])}function $v(t){return`0x${t.toString(16)}`}function x8e(t){const{chains:e,optionalChains:n,methods:r,optionalMethods:i,events:s,optionalEvents:a,rpcMap:c}=t;if(!wa(e))throw new Error("Invalid chains");const u={chains:e,methods:r||E3,events:s||A3,rpcMap:Id({},e.length?{[w_(e)]:c[w_(e)]}:{})},d=s?.filter(g=>!A3.includes(g)),h=r?.filter(g=>!E3.includes(g));if(!n&&!a&&!i&&!(d!=null&&d.length)&&!(h!=null&&h.length))return{required:e.length?u:void 0};const p=d?.length&&h?.length||!n,m={chains:[...new Set(p?u.chains.concat(n||[]):n)],methods:[...new Set(u.methods.concat(i!=null&&i.length?i:jH))],events:[...new Set(u.events.concat(a!=null&&a.length?a:zH))],rpcMap:c};return{required:e.length?u:void 0,optional:n.length?m:void 0}}class pO{constructor(){Is(this,"events",new qs.EventEmitter),Is(this,"namespace","eip155"),Is(this,"accounts",[]),Is(this,"signer"),Is(this,"chainId",1),Is(this,"modal"),Is(this,"rpc"),Is(this,"STORAGE_KEY",g8e),Is(this,"on",(e,n)=>(this.events.on(e,n),this)),Is(this,"once",(e,n)=>(this.events.once(e,n),this)),Is(this,"removeListener",(e,n)=>(this.events.removeListener(e,n),this)),Is(this,"off",(e,n)=>(this.events.off(e,n),this)),Is(this,"parseAccount",e=>this.isCompatibleChainId(e)?this.parseAccountId(e).address:e),this.signer={},this.rpc={}}static async init(e){const n=new pO;return await n.initialize(e),n}async request(e,n){return await this.signer.request(e,this.formatChainId(this.chainId),n)}sendAsync(e,n,r){this.signer.sendAsync(e,n,this.formatChainId(this.chainId),r)}get connected(){return this.signer.client?this.signer.client.core.relayer.connected:!1}get connecting(){return this.signer.client?this.signer.client.core.relayer.connecting:!1}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(e){var n;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(e);const{required:r,optional:i}=x8e(this.rpc);try{const s=await new Promise(async(c,u)=>{var d,h;this.rpc.showQrModal&&((d=this.modal)==null||d.open(),(h=this.modal)==null||h.subscribeState(m=>{!m.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),u(new Error("Connection request reset. Please try again.")))}));const p=e!=null&&e.scopedProperties?{[this.namespace]:e.scopedProperties}:void 0;await this.signer.connect(vm(Id({namespaces:Id({},r&&{[this.namespace]:r})},i&&{optionalNamespaces:{[this.namespace]:i}}),{pairingTopic:e?.pairingTopic,scopedProperties:p})).then(m=>{c(m)}).catch(m=>{var g;(g=this.modal)==null||g.showErrorMessage("Unable to connect"),u(new Error(m.message))})});if(!s)return;const a=HD(s.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:a),this.setAccounts(a),this.events.emit("connect",{chainId:$v(this.chainId)})}catch(s){throw this.signer.logger.error(s),s}finally{(n=this.modal)==null||n.close()}}async authenticate(e,n){var r;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts({chains:e?.chains});try{const i=await new Promise(async(a,c)=>{var u,d;this.rpc.showQrModal&&((u=this.modal)==null||u.open(),(d=this.modal)==null||d.subscribeState(h=>{!h.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),c(new Error("Connection request reset. Please try again.")))})),await this.signer.authenticate(vm(Id({},e),{chains:this.rpc.chains}),n).then(h=>{a(h)}).catch(h=>{var p;(p=this.modal)==null||p.showErrorMessage("Unable to connect"),c(new Error(h.message))})}),s=i.session;if(s){const a=HD(s.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:a),this.setAccounts(a),this.events.emit("connect",{chainId:$v(this.chainId)})}return i}catch(i){throw this.signer.logger.error(i),i}finally{(r=this.modal)==null||r.close()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",e=>{const{params:n}=e,{event:r}=n;r.name==="accountsChanged"?(this.accounts=this.parseAccounts(r.data),this.events.emit("accountsChanged",this.accounts)):r.name==="chainChanged"?this.setChainId(this.formatChainId(r.data)):this.events.emit(r.name,r.data),this.events.emit("session_event",e)}),this.signer.on("accountsChanged",e=>{this.accounts=this.parseAccounts(e),this.events.emit("accountsChanged",this.accounts)}),this.signer.on("chainChanged",e=>{const n=parseInt(e);this.chainId=n,this.events.emit("chainChanged",$v(this.chainId)),this.persist()}),this.signer.on("session_update",e=>{this.events.emit("session_update",e)}),this.signer.on("session_delete",e=>{this.reset(),this.events.emit("session_delete",e),this.events.emit("disconnect",vm(Id({},jn("USER_DISCONNECTED")),{data:e.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",e=>{this.events.emit("display_uri",e)})}switchEthereumChain(e){this.request({method:"wallet_switchEthereumChain",params:[{chainId:e.toString(16)}]})}isCompatibleChainId(e){return typeof e=="string"?e.startsWith(`${this.namespace}:`):!1}formatChainId(e){return`${this.namespace}:${e}`}parseChainId(e){return Number(e.split(":")[1])}setChainIds(e){const n=e.filter(r=>this.isCompatibleChainId(r)).map(r=>this.parseChainId(r));n.length&&(this.chainId=n[0],this.events.emit("chainChanged",$v(this.chainId)),this.persist())}setChainId(e){if(this.isCompatibleChainId(e)){const n=this.parseChainId(e);this.chainId=n,this.switchEthereumChain(n)}}parseAccountId(e){const[n,r,i]=e.split(":");return{chainId:`${n}:${r}`,address:i}}setAccounts(e){this.accounts=e.filter(n=>this.parseChainId(this.parseAccountId(n).chainId)===this.chainId).map(n=>this.parseAccountId(n).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(e){var n,r;const i=(n=e?.chains)!=null?n:[],s=(r=e?.optionalChains)!=null?r:[],a=i.concat(s);if(!a.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const c=i.length?e?.methods||E3:[],u=i.length?e?.events||A3:[],d=e?.optionalMethods||[],h=e?.optionalEvents||[],p=e?.rpcMap||this.buildRpcMap(a,e.projectId),m=e?.qrModalOptions||void 0;return{chains:i?.map(g=>this.formatChainId(g)),optionalChains:s.map(g=>this.formatChainId(g)),methods:c,events:u,optionalMethods:d,optionalEvents:h,rpcMap:p,showQrModal:!!(e!=null&&e.showQrModal),qrModalOptions:m,projectId:e.projectId,metadata:e.metadata}}buildRpcMap(e,n){const r={};return e.forEach(i=>{r[i]=this.getRpcUrl(i,n)}),r}async initialize(e){var n;if(this.rpc=this.getRpcConfig(e),this.chainId=this.rpc.chains.length?w_(this.rpc.chains):w_(this.rpc.optionalChains),this.signer=await LH.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:e.disableProviderPing,relayUrl:e.relayUrl,storage:e.storage,storageOptions:e.storageOptions,customStoragePrefix:e.customStoragePrefix,telemetryEnabled:e.telemetryEnabled,logger:e.logger}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let r;try{const i=await w8e(),{convertWCMToAppKitOptions:s}=await Promise.resolve().then(function(){return M8e}),a=s(vm(Id({},this.rpc.qrModalOptions),{chains:[...new Set([...this.rpc.chains,...this.rpc.optionalChains])],metadata:this.rpc.metadata,projectId:this.rpc.projectId}));if(!a.networks.length)throw new Error("No networks found for WalletConnect");r=i(vm(Id({},a),{universalProvider:this.signer,manualWCControl:!0,enableMobileFullScreen:((n=this.rpc.qrModalOptions)==null?void 0:n.enableMobileFullScreen)===!0}))}catch(i){throw console.warn(i),new Error("To use QR modal, please install @reown/appkit package")}if(r)try{this.modal=r}catch(i){throw this.signer.logger.error(i),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(e){if(!e)return;const{chains:n,optionalChains:r,rpcMap:i}=e;n&&wa(n)&&(this.rpc.chains=n.map(s=>this.formatChainId(s)),n.forEach(s=>{this.rpc.rpcMap[s]=i?.[s]||this.getRpcUrl(s)})),r&&wa(r)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=r?.map(s=>this.formatChainId(s)),r.forEach(s=>{this.rpc.rpcMap[s]=i?.[s]||this.getRpcUrl(s)}))}getRpcUrl(e,n){var r;return((r=this.rpc.rpcMap)==null?void 0:r[e])||`${b8e}?chainId=eip155:${e}&projectId=${n||this.rpc.projectId}`}async loadPersistedSession(){if(this.session)try{const e=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),n=this.session.namespaces[`${this.namespace}:${e}`]?this.session.namespaces[`${this.namespace}:${e}`]:this.session.namespaces[this.namespace];this.setChainIds(e?[this.formatChainId(e)]:n?.accounts),this.setAccounts(n?.accounts)}catch(e){this.signer.logger.error("Failed to load persisted session, clearing state..."),this.signer.logger.error(e),await this.disconnect().catch(n=>this.signer.logger.warn(n))}}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(e){return typeof e=="string"||e instanceof String?[this.parseAccount(e)]:e.map(n=>this.parseAccount(n))}}const T8e=pO;var I8e=Object.defineProperty,C8e=Object.defineProperties,O8e=Object.getOwnPropertyDescriptors,sU=Object.getOwnPropertySymbols,k8e=Object.prototype.hasOwnProperty,R8e=Object.prototype.propertyIsEnumerable,aU=(t,e,n)=>e in t?I8e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,FH=(t,e)=>{for(var n in e||(e={}))k8e.call(e,n)&&aU(t,n,e[n]);if(sU)for(var n of sU(e))R8e.call(e,n)&&aU(t,n,e[n]);return t},N8e=(t,e)=>C8e(t,O8e(e));function $8e(t){if(t)return{"--w3m-font-family":t["--wcm-font-family"],"--w3m-accent":t["--wcm-accent-color"],"--w3m-color-mix":t["--wcm-background-color"],"--w3m-z-index":t["--wcm-z-index"]?Number(t["--wcm-z-index"]):void 0,"--w3m-qr-color":t["--wcm-accent-color"],"--w3m-font-size-master":t["--wcm-text-medium-regular-size"],"--w3m-border-radius-master":t["--wcm-container-border-radius"],"--w3m-color-mix-strength":0}}const P8e=t=>{const[e,n]=t.split(":");return qH({id:n,caipNetworkId:t,chainNamespace:e,name:"",nativeCurrency:{name:"",symbol:"",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}})};function D8e(t){var e,n,r,i,s,a,c;const u=(e=t.chains)==null?void 0:e.map(P8e).filter(Boolean);if(u.length===0)throw new Error("At least one chain must be specified");const d=u.find(p=>{var m;return p.id===((m=t.defaultChain)==null?void 0:m.id)}),h={projectId:t.projectId,networks:u,themeMode:t.themeMode,themeVariables:$8e(t.themeVariables),chainImages:t.chainImages,connectorImages:t.walletImages,defaultNetwork:d,metadata:N8e(FH({},t.metadata),{name:((n=t.metadata)==null?void 0:n.name)||"WalletConnect",description:((r=t.metadata)==null?void 0:r.description)||"Connect to WalletConnect-compatible wallets",url:((i=t.metadata)==null?void 0:i.url)||"https://walletconnect.org",icons:((s=t.metadata)==null?void 0:s.icons)||["https://walletconnect.org/walletconnect-logo.png"]}),showWallets:!0,featuredWalletIds:t.explorerRecommendedWalletIds==="NONE"?[]:Array.isArray(t.explorerRecommendedWalletIds)?t.explorerRecommendedWalletIds:[],excludeWalletIds:t.explorerExcludedWalletIds==="ALL"?[]:Array.isArray(t.explorerExcludedWalletIds)?t.explorerExcludedWalletIds:[],enableEIP6963:!1,enableInjected:!1,enableCoinbase:!0,enableWalletConnect:!0,features:{email:!1,socials:!1}};if((a=t.mobileWallets)!=null&&a.length||(c=t.desktopWallets)!=null&&c.length){const p=[...(t.mobileWallets||[]).map(b=>({id:b.id,name:b.name,links:b.links})),...(t.desktopWallets||[]).map(b=>({id:b.id,name:b.name,links:{native:b.links.native,universal:b.links.universal}}))],m=[...h.featuredWalletIds||[],...h.excludeWalletIds||[]],g=p.filter(b=>!m.includes(b.id));g.length&&(h.customWallets=g)}return h}function qH(t){return FH({formatters:void 0,fees:void 0,serializers:void 0},t)}var M8e=Object.freeze({__proto__:null,convertWCMToAppKitOptions:D8e,defineChain:qH});const U8e=({origin:t,path:e,query:n={},hash:r={}})=>{let i=new URL(e,t.endsWith("/")?t:`${t}/`);for(let[a,c]of Object.entries(n))c!==void 0&&i.searchParams.set(a,c);let s=Object.entries(r);if(s.length>0){let a=new URLSearchParams;for(let[c,u]of s)u!==void 0&&a.append(c,u);i.hash=a.toString()}return i.href};var B8e=Object.defineProperty,yO=(t,e)=>{for(var n in e)B8e(t,n,{get:e[n],enumerable:!0})},L8e={84532:{usdcAddress:"0x036CbD53842c5426634e7929541eC2318f3dCF7e",usdcName:"USDC"},8453:{usdcAddress:"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",usdcName:"USD Coin"},43113:{usdcAddress:"0x5425890298aed601595a70AB815c96711a31Bc65",usdcName:"USD Coin"},43114:{usdcAddress:"0xB97EF9Ef8734C71904D8002F8b6Bc66Dd9c48a6E",usdcName:"USD Coin"},4689:{usdcAddress:"0xcdf79194c6c285077a58da47641d4dbe51f63542",usdcName:"Bridged USDC"},103:{usdcAddress:"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU",usdcName:"USDC"},101:{usdcAddress:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",usdcName:"USDC"},1328:{usdcAddress:"0x4fcf1784b31630811181f670aea7a7bef803eaed",usdcName:"USDC"},1329:{usdcAddress:"0xe15fc38f6d8c56af07bbcbe3baf5708a2bf42392",usdcName:"USDC"},137:{usdcAddress:"0x3c499c542cef5e3811e1192ce70d8cc03d5c3359",usdcName:"USD Coin"},80002:{usdcAddress:"0x41E94Eb019C0762f9Bfcf9Fb1E58725BfB0e7582",usdcName:"USDC"},3338:{usdcAddress:"0xbbA60da06c2c5424f03f7434542280FCAd453d10",usdcName:"USDC"},2741:{usdcAddress:"0x84a71ccd554cc1b02749b35d22f684cc8ec987e1",usdcName:"Bridged USDC"},11124:{usdcAddress:"0xe4C7fBB0a626ed208021ccabA6Be1566905E2dFc",usdcName:"Bridged USDC"},1514:{usdcAddress:"0xF1815bd50389c46847f0Bda824eC8da914045D14",usdcName:"Bridged USDC"},41923:{usdcAddress:"0x12a272A581feE5577A5dFa371afEB4b2F3a8C2F8",usdcName:"Bridged USDC (Stargate)"},324705682:{usdcAddress:"0x2e08028E3C4c2356572E096d8EF835cD5C6030bD",usdcName:"Bridged USDC (SKALE Bridge)"}},j8e=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"authorizer",type:"address"},{indexed:!0,internalType:"bytes32",name:"nonce",type:"bytes32"}],name:"AuthorizationCanceled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"authorizer",type:"address"},{indexed:!0,internalType:"bytes32",name:"nonce",type:"bytes32"}],name:"AuthorizationUsed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_account",type:"address"}],name:"Blacklisted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newBlacklister",type:"address"}],name:"BlacklisterChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"burner",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Burn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newMasterMinter",type:"address"}],name:"MasterMinterChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"minter",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Mint",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"minter",type:"address"},{indexed:!1,internalType:"uint256",name:"minterAllowedAmount",type:"uint256"}],name:"MinterConfigured",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"oldMinter",type:"address"}],name:"MinterRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"previousOwner",type:"address"},{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[],name:"Pause",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newAddress",type:"address"}],name:"PauserChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newRescuer",type:"address"}],name:"RescuerChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_account",type:"address"}],name:"UnBlacklisted",type:"event"},{anonymous:!1,inputs:[],name:"Unpause",type:"event"},{inputs:[],name:"CANCEL_AUTHORIZATION_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"PERMIT_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"RECEIVE_WITH_AUTHORIZATION_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"TRANSFER_WITH_AUTHORIZATION_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"authorizer",type:"address"},{internalType:"bytes32",name:"nonce",type:"bytes32"}],name:"authorizationState",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"blacklist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"blacklister",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"authorizer",type:"address"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"cancelAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"authorizer",type:"address"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"cancelAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"minter",type:"address"},{internalType:"uint256",name:"minterAllowedAmount",type:"uint256"}],name:"configureMinter",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"currency",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"decrement",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"increment",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"tokenName",type:"string"},{internalType:"string",name:"tokenSymbol",type:"string"},{internalType:"string",name:"tokenCurrency",type:"string"},{internalType:"uint8",name:"tokenDecimals",type:"uint8"},{internalType:"address",name:"newMasterMinter",type:"address"},{internalType:"address",name:"newPauser",type:"address"},{internalType:"address",name:"newBlacklister",type:"address"},{internalType:"address",name:"newOwner",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"newName",type:"string"}],name:"initializeV2",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"lostAndFound",type:"address"}],name:"initializeV2_1",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"accountsToBlacklist",type:"address[]"},{internalType:"string",name:"newSymbol",type:"string"}],name:"initializeV2_2",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"isBlacklisted",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"isMinter",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"masterMinter",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"minter",type:"address"}],name:"minterAllowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"pauser",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"validAfter",type:"uint256"},{internalType:"uint256",name:"validBefore",type:"uint256"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"receiveWithAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"validAfter",type:"uint256"},{internalType:"uint256",name:"validBefore",type:"uint256"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"receiveWithAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"minter",type:"address"}],name:"removeMinter",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IERC20",name:"tokenContract",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"rescueERC20",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"rescuer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"validAfter",type:"uint256"},{internalType:"uint256",name:"validBefore",type:"uint256"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"transferWithAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"validAfter",type:"uint256"},{internalType:"uint256",name:"validBefore",type:"uint256"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"transferWithAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"unBlacklist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_newBlacklister",type:"address"}],name:"updateBlacklister",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_newMasterMinter",type:"address"}],name:"updateMasterMinter",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_newPauser",type:"address"}],name:"updatePauser",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newRescuer",type:"address"}],name:"updateRescuer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"version",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"pure",type:"function"}];const mO=50000n,oU=Tte*32n,WH={block:OL({format(t){const e=t.transactions?.map(n=>{if(typeof n=="string")return n;const r=WH.transaction?.format(n);return r.typeHex==="0x71"?r.type="eip712":r.typeHex==="0xff"&&(r.type="priority"),r});return{l1BatchNumber:t.l1BatchNumber?ln(t.l1BatchNumber):null,l1BatchTimestamp:t.l1BatchTimestamp?ln(t.l1BatchTimestamp):null,transactions:e}}}),transaction:CL({format(t){const e={};return t.type==="0x71"?e.type="eip712":t.type==="0xff"&&(e.type="priority"),{...e,l1BatchNumber:t.l1BatchNumber?ln(t.l1BatchNumber):null,l1BatchTxIndex:t.l1BatchTxIndex?ln(t.l1BatchTxIndex):null}}}),transactionReceipt:f7({format(t){return{l1BatchNumber:t.l1BatchNumber?ln(t.l1BatchNumber):null,l1BatchTxIndex:t.l1BatchTxIndex?ln(t.l1BatchTxIndex):null,logs:t.logs.map(e=>({...qo(e),l1BatchNumber:e.l1BatchNumber?ln(e.l1BatchNumber):null,transactionLogIndex:js(e.transactionLogIndex),logType:e.logType})),l2ToL1Logs:t.l2ToL1Logs.map(e=>({blockNumber:ln(e.blockHash),blockHash:e.blockHash,l1BatchNumber:e.l1BatchNumber?ln(e.l1BatchNumber):null,transactionIndex:ln(e.transactionIndex),shardId:ln(e.shardId),isService:e.isService,sender:e.sender,key:e.key,value:e.value,transactionHash:e.transactionHash,logIndex:ln(e.logIndex)}))}}}),transactionRequest:Ate({exclude:["customSignature","factoryDeps","gasPerPubdata","paymaster","paymasterInput"],format(t){return t.gasPerPubdata||t.paymaster&&t.paymasterInput||t.factoryDeps||t.customSignature?{eip712Meta:{...t.gasPerPubdata?{gasPerPubdata:xt(t.gasPerPubdata)}:{gasPerPubdata:xt(mO)},...t.paymaster&&t.paymasterInput?{paymasterParams:{paymaster:t.paymaster,paymasterInput:Array.from(Pi(t.paymasterInput))}}:{},...t.factoryDeps?{factoryDeps:t.factoryDeps.map(e=>Array.from(Pi(e)))}:{},...t.customSignature?{customSignature:Array.from(Pi(t.customSignature))}:{}},type:"0x71"}:{}}})};class VH extends _e{constructor(){super(["Transaction is not an EIP712 transaction.","","Transaction must:",'  - include `type: "eip712"`',"  - include one of the following: `customSignature`, `paymaster`, `paymasterInput`, `gasPerPubdata`, `factoryDeps`"].join(`
`),{name:"InvalidEip712TransactionError"})}}function Ab(t){return!!(t.type==="eip712"||"customSignature"in t&&t.customSignature||"paymaster"in t&&t.paymaster||"paymasterInput"in t&&t.paymasterInput||"gasPerPubdata"in t&&typeof t.gasPerPubdata=="bigint"||"factoryDeps"in t&&t.factoryDeps)}function HH(t){const{chainId:e,to:n,from:r,paymaster:i,paymasterInput:s}=t;if(!Ab(t))throw new VH;if(!e||e<=0)throw new J0({chainId:e});if(n&&!Nn(n))throw new Er({address:n});if(r&&!Nn(r))throw new Er({address:r});if(i&&!Nn(i))throw new Er({address:i});if(i&&!s)throw new _e("`paymasterInput` must be provided when `paymaster` is defined");if(!i&&s)throw new _e("`paymaster` must be provided when `paymasterInput` is defined")}function z8e(t,e){return Ab(t)?q8e(t):kI(t,e)}const F8e={transaction:z8e};function q8e(t){const{chainId:e,gas:n,nonce:r,to:i,from:s,value:a,maxFeePerGas:c,maxPriorityFeePerGas:u,customSignature:d,factoryDeps:h,paymaster:p,paymasterInput:m,gasPerPubdata:g,data:b}=t;HH(t);const v=[r?xt(r):"0x",u?xt(u):"0x",c?xt(c):"0x",n?xt(n):"0x",i??"0x",a?xt(a):"0x",b??"0x",xt(e),xt(""),xt(""),xt(e),s??"0x",xt(g||mO),h??[],d??"0x",p&&m?[p,m]:[]];return Sa(["0x71",ol(v)])}class W8e extends _e{constructor({givenLength:e,maxBytecodeSize:n}){super(`Bytecode cannot be longer than ${n} bytes. Given length: ${e}`,{name:"BytecodeLengthExceedsMaxSizeError"})}}class V8e extends _e{constructor({givenLengthInWords:e}){super(`Bytecode length in 32-byte words must be odd. Given length in words: ${e}`,{name:"BytecodeLengthInWordsMustBeOddError"})}}class H8e extends _e{constructor({givenLength:e}){super(`The bytecode length in bytes must be divisible by 32. Given length: ${e}`,{name:"BytecodeLengthMustBeDivisibleBy32Error"})}}function x3(t){const e=Qc(t);if(e.length%32!==0)throw new H8e({givenLength:e.length});if(e.length>oU)throw new W8e({givenLength:e.length,maxBytecodeSize:oU});const n=NL(e),r=Qc(n),i=e.length/32;if(i%2===0)throw new V8e({givenLengthInWords:i});const s=Qc(i),a=wf(s,{size:2}),c=new Uint8Array([1,0]);return r.set(c,0),r.set(a,2),r}const G8e=t=>{HH(t);const e=K8e(t);return{domain:{name:"zkSync",version:"2",chainId:t.chainId},types:{Transaction:[{name:"txType",type:"uint256"},{name:"from",type:"uint256"},{name:"to",type:"uint256"},{name:"gasLimit",type:"uint256"},{name:"gasPerPubdataByteLimit",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymaster",type:"uint256"},{name:"nonce",type:"uint256"},{name:"value",type:"uint256"},{name:"data",type:"bytes"},{name:"factoryDeps",type:"bytes32[]"},{name:"paymasterInput",type:"bytes"}]},primaryType:"Transaction",message:e}};function K8e(t){const{gas:e,nonce:n,to:r,from:i,value:s,maxFeePerGas:a,maxPriorityFeePerGas:c,factoryDeps:u,paymaster:d,paymasterInput:h,gasPerPubdata:p,data:m}=t;return{txType:113n,from:BigInt(i),to:r?BigInt(r):0n,gasLimit:e??0n,gasPerPubdataByteLimit:p??mO,maxFeePerGas:a??0n,maxPriorityFeePerGas:c??0n,paymaster:d?BigInt(d):0n,nonce:n?BigInt(n):0n,value:s??0n,data:m??"0x",factoryDeps:u?.map(g=>xt(x3(g)))??[],paymasterInput:h||"0x"}}const GH={blockTime:1e3,formatters:WH,serializers:F8e,custom:{getEip712Domain:G8e}},Y8e=di({...GH,blockTime:200,id:2741,name:"Abstract",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://api.mainnet.abs.xyz"],webSocket:["wss://api.mainnet.abs.xyz/ws"]}},blockExplorers:{default:{name:"Etherscan",url:"https://abscan.org"},native:{name:"Abstract Explorer",url:"https://explorer.mainnet.abs.xyz"}},contracts:{multicall3:{address:"0xAa4De41dba0Ca5dCBb288b7cC6b708F3aaC759E7",blockCreated:5288},erc6492Verifier:{address:"0xfB688330379976DA81eB64Fe4BF50d7401763B9C",blockCreated:5263}}}),Z8e=di({...GH,blockTime:200,id:11124,name:"Abstract Testnet",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://api.testnet.abs.xyz"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia.abscan.org"},native:{name:"Abstract Explorer",url:"https://explorer.testnet.abs.xyz"}},testnet:!0,contracts:{multicall3:{address:"0xF9cda624FBC7e059355ce98a31693d299FACd963",blockCreated:358349},erc6492Verifier:{address:"0xfB688330379976DA81eB64Fe4BF50d7401763B9C",blockCreated:431682}}}),X8e={gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}},J8e={block:OL({format(t){return{transactions:t.transactions?.map(n=>{if(typeof n=="string")return n;const r=H0(n);return r.typeHex==="0x7e"&&(r.isSystemTx=n.isSystemTx,r.mint=n.mint?ln(n.mint):void 0,r.sourceHash=n.sourceHash,r.type="deposit"),r}),stateRoot:t.stateRoot}}}),transaction:CL({format(t){const e={};return t.type==="0x7e"&&(e.isSystemTx=t.isSystemTx,e.mint=t.mint?ln(t.mint):void 0,e.sourceHash=t.sourceHash,e.type="deposit"),e}}),transactionReceipt:f7({format(t){return{l1GasPrice:t.l1GasPrice?ln(t.l1GasPrice):null,l1GasUsed:t.l1GasUsed?ln(t.l1GasUsed):null,l1Fee:t.l1Fee?ln(t.l1Fee):null,l1FeeScalar:t.l1FeeScalar?Number(t.l1FeeScalar):null}}})};function Q8e(t,e){return nke(t)?tke(t):kI(t,e)}const eke={transaction:Q8e};function tke(t){rke(t);const{sourceHash:e,data:n,from:r,gas:i,isSystemTx:s,mint:a,to:c,value:u}=t,d=[e,r,c??"0x",a?xt(a):"0x",u?xt(u):"0x",i?xt(i):"0x",s?"0x1":"0x",n??"0x"];return Sa(["0x7e",ol(d)])}function nke(t){return t.type==="deposit"||typeof t.sourceHash<"u"}function rke(t){const{from:e,to:n}=t;if(e&&!Nn(e))throw new Er({address:e});if(n&&!Nn(n))throw new Er({address:n})}const v_={blockTime:2e3,contracts:X8e,formatters:J8e,serializers:eke},ike=di({id:43114,name:"Avalanche",blockTime:1700,nativeCurrency:{decimals:18,name:"Avalanche",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax.network/ext/bc/C/rpc"]}},blockExplorers:{default:{name:"SnowTrace",url:"https://snowtrace.io",apiUrl:"https://api.snowtrace.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:11907934}}}),ske=di({id:43113,name:"Avalanche Fuji",nativeCurrency:{decimals:18,name:"Avalanche Fuji",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax-test.network/ext/bc/C/rpc"]}},blockExplorers:{default:{name:"SnowTrace",url:"https://testnet.snowtrace.io",apiUrl:"https://api-testnet.snowtrace.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7096959}},testnet:!0}),_m=1,KH=di({...v_,id:8453,name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://basescan.org",apiUrl:"https://api.basescan.org/api"}},contracts:{...v_.contracts,disputeGameFactory:{[_m]:{address:"0x43edB88C4B80fDD2AdFF2412A7BebF9dF42cB40e"}},l2OutputOracle:{[_m]:{address:"0x56315b90c40730925ec5485cf004d835058518A0"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:5022},portal:{[_m]:{address:"0x49048044D57e1C92A77f79988d21Fa8fAF74E97e",blockCreated:17482143}},l1StandardBridge:{[_m]:{address:"0x3154Cf16ccdb4C6d922629664174b904d80F2C35",blockCreated:17482143}}},sourceId:_m});({...KH});const Em=11155111,YH=di({...v_,id:84532,network:"base-sepolia",name:"Base Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://sepolia.basescan.org",apiUrl:"https://api-sepolia.basescan.org/api"}},contracts:{...v_.contracts,disputeGameFactory:{[Em]:{address:"0xd6E6dBf4F7EA0ac412fD8b65ED297e64BB7a06E1"}},l2OutputOracle:{[Em]:{address:"0x84457ca9D0163FbC4bbfe4Dfbb20ba46e48DF254"}},portal:{[Em]:{address:"0x49f53e41452c74589e85ca1677426ba426459e85",blockCreated:4446677}},l1StandardBridge:{[Em]:{address:"0xfd0Bf71F60660E2f608ed56e1659C450eB113120",blockCreated:4446677}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1059647}},testnet:!0,sourceId:Em});({...YH});const ake=di({id:41923,name:"EDU Chain",nativeCurrency:{decimals:18,name:"EDU",symbol:"EDU"},rpcUrls:{default:{http:["https://rpc.edu-chain.raas.gelato.cloud"]}},blockExplorers:{default:{name:"EDU Chain Explorer",url:"https://educhain.blockscout.com/"}},testnet:!1}),oke=di({id:4689,name:"IoTeX",nativeCurrency:{decimals:18,name:"IoTeX",symbol:"IOTX"},rpcUrls:{default:{http:["https://babel-api.mainnet.iotex.io"],webSocket:["wss://babel-api.mainnet.iotex.io"]}},blockExplorers:{default:{name:"IoTeXScan",url:"https://iotexscan.io"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:22163670}}}),cke=di({id:4690,name:"IoTeX Testnet",nativeCurrency:{decimals:18,name:"IoTeX",symbol:"IOTX"},rpcUrls:{default:{http:["https://babel-api.testnet.iotex.io"],webSocket:["wss://babel-api.testnet.iotex.io"]}},blockExplorers:{default:{name:"IoTeXScan",url:"https://testnet.iotexscan.io"}},contracts:{multicall3:{address:"0xb5cecD6894c6f473Ec726A176f1512399A2e355d",blockCreated:24347592}},testnet:!0}),lke=di({id:3338,name:"Peaq",nativeCurrency:{decimals:18,name:"peaq",symbol:"PEAQ"},rpcUrls:{default:{http:["https://quicknode1.peaq.xyz","https://quicknode2.peaq.xyz","https://quicknode3.peaq.xyz"],webSocket:["wss://quicknode1.peaq.xyz","wss://quicknode2.peaq.xyz","wss://quicknode3.peaq.xyz"]}},blockExplorers:{default:{name:"Subscan",url:"https://peaq.subscan.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:3566354}}}),uke=di({id:137,name:"Polygon",blockTime:2e3,nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{default:{http:["https://polygon-rpc.com"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://polygonscan.com",apiUrl:"https://api.etherscan.io/v2/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:25770160}}}),dke=di({id:80002,name:"Polygon Amoy",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{default:{http:["https://rpc-amoy.polygon.technology"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://amoy.polygonscan.com",apiUrl:"https://api.etherscan.io/v2/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:3127388}},testnet:!0}),fke=di({id:1329,name:"Sei Network",nativeCurrency:{name:"Sei",symbol:"SEI",decimals:18},rpcUrls:{default:{http:["https://evm-rpc.sei-apis.com/"],webSocket:["wss://evm-ws.sei-apis.com/"]}},blockExplorers:{default:{name:"Seitrace",url:"https://seitrace.com",apiUrl:"https://seitrace.com/pacific-1/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11"}}}),hke=di({id:1328,name:"Sei Testnet",nativeCurrency:{name:"Sei",symbol:"SEI",decimals:18},rpcUrls:{default:{http:["https://evm-rpc-testnet.sei-apis.com"],webSocket:["wss://evm-ws-testnet.sei-apis.com"]}},blockExplorers:{default:{name:"Seitrace",url:"https://seitrace.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:98697651}},testnet:!0}),pke=di({id:1514,name:"Story",nativeCurrency:{decimals:18,name:"IP Token",symbol:"IP"},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:340998},ensRegistry:{address:"0x5dc881dda4e4a8d312be3544ad13118d1a04cb17",blockCreated:648924},ensUniversalResolver:{address:"0xddfb18888a9466688235887dec2a10c4f5effee9",blockCreated:649114}},rpcUrls:{default:{http:["https://mainnet.storyrpc.io"]}},blockExplorers:{default:{name:"Story explorer",url:"https://storyscan.io",apiUrl:"https://storyscan.io/api/v2"}},ensTlds:[".ip"],testnet:!1});function yke(t){if(typeof t=="string"){if(!Nn(t,{strict:!1}))throw new Er({address:t});return{address:t,type:"json-rpc"}}if(!Nn(t.address,{strict:!1}))throw new Er({address:t.address});return{address:t.address,nonceManager:t.nonceManager,sign:t.sign,signAuthorization:t.signAuthorization,signMessage:t.signMessage,signTransaction:t.signTransaction,signTypedData:t.signTypedData,source:"custom",type:"local"}}let T6=!1;async function Sb({hash:t,privateKey:e,to:n="object"}){const{r,s:i,recovery:s}=Z_.sign(t.slice(2),e.slice(2),{lowS:!0,extraEntropy:$i(T6,{strict:!1})?Pi(T6):T6}),a={r:$e(r,{size:32}),s:$e(i,{size:32}),v:s?28n:27n,yParity:s};return n==="bytes"||n==="hex"?oj({...a,to:n}):a}async function mke(t){const{chainId:e,nonce:n,privateKey:r,to:i="object"}=t,s=t.contractAddress??t.address,a=await Sb({hash:SL({address:s,chainId:e,nonce:n}),privateKey:r,to:i});return i==="object"?{address:s,chainId:e,nonce:n,...a}:a}async function gke({message:t,privateKey:e}){return await Sb({hash:RI(t),privateKey:e,to:"hex"})}async function bke(t){const{privateKey:e,transaction:n,serializer:r=kI}=t,i=n.type==="eip4844"?{...n,sidecars:!1}:n,s=await Sb({hash:Hr(await r(i)),privateKey:e});return await r(n,s)}async function wke(t){const{privateKey:e,...n}=t;return await Sb({hash:O7(n),privateKey:e,to:"hex"})}function vke(t,e={}){const{nonceManager:n}=e,r=xt(Z_.getPublicKey(t.slice(2),!1)),i=vL(r);return{...yke({address:i,nonceManager:n,async sign({hash:a}){return Sb({hash:a,privateKey:t,to:"hex"})},async signAuthorization(a){return mke({...a,privateKey:t})},async signMessage({message:a}){return gke({message:a,privateKey:t})},async signTransaction(a,{serializer:c}={}){return bke({privateKey:t,transaction:a,serializer:c})},async signTypedData(a){return wke({...a,privateKey:t})}}),publicKey:r,source:"privateKey"}}const _ke="0x0000000000000000000000000000000000008006",Eke="0x0000000000000000000000000000000000010000",cU=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"accountAddress",type:"address"},{indexed:!1,internalType:"enum IContractDeployer.AccountNonceOrdering",name:"nonceOrdering",type:"uint8"}],name:"AccountNonceOrderingUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"accountAddress",type:"address"},{indexed:!1,internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"aaVersion",type:"uint8"}],name:"AccountVersionUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"deployerAddress",type:"address"},{indexed:!0,internalType:"bytes32",name:"bytecodeHash",type:"bytes32"},{indexed:!0,internalType:"address",name:"contractAddress",type:"address"}],name:"ContractDeployed",type:"event"},{inputs:[{internalType:"bytes32",name:"_salt",type:"bytes32"},{internalType:"bytes32",name:"_bytecodeHash",type:"bytes32"},{internalType:"bytes",name:"_input",type:"bytes"}],name:"create",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"_salt",type:"bytes32"},{internalType:"bytes32",name:"_bytecodeHash",type:"bytes32"},{internalType:"bytes",name:"_input",type:"bytes"}],name:"create2",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"_salt",type:"bytes32"},{internalType:"bytes32",name:"_bytecodeHash",type:"bytes32"},{internalType:"bytes",name:"_input",type:"bytes"},{internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"_aaVersion",type:"uint8"}],name:"create2Account",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"bytes32",name:"_bytecodeHash",type:"bytes32"},{internalType:"bytes",name:"_input",type:"bytes"},{internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"_aaVersion",type:"uint8"}],name:"createAccount",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"_address",type:"address"}],name:"extendedAccountVersion",outputs:[{internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_keccak256BytecodeHash",type:"bytes32"}],name:"forceDeployKeccak256",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"bytecodeHash",type:"bytes32"},{internalType:"address",name:"newAddress",type:"address"},{internalType:"bool",name:"callConstructor",type:"bool"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"input",type:"bytes"}],internalType:"struct ContractDeployer.ForceDeployment",name:"_deployment",type:"tuple"},{internalType:"address",name:"_sender",type:"address"}],name:"forceDeployOnAddress",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"bytecodeHash",type:"bytes32"},{internalType:"address",name:"newAddress",type:"address"},{internalType:"bool",name:"callConstructor",type:"bool"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"input",type:"bytes"}],internalType:"struct ContractDeployer.ForceDeployment[]",name:"_deployments",type:"tuple[]"}],name:"forceDeployOnAddresses",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"_address",type:"address"}],name:"getAccountInfo",outputs:[{components:[{internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"supportedAAVersion",type:"uint8"},{internalType:"enum IContractDeployer.AccountNonceOrdering",name:"nonceOrdering",type:"uint8"}],internalType:"struct IContractDeployer.AccountInfo",name:"info",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_sender",type:"address"},{internalType:"uint256",name:"_senderNonce",type:"uint256"}],name:"getNewAddressCreate",outputs:[{internalType:"address",name:"newAddress",type:"address"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"_sender",type:"address"},{internalType:"bytes32",name:"_bytecodeHash",type:"bytes32"},{internalType:"bytes32",name:"_salt",type:"bytes32"},{internalType:"bytes",name:"_input",type:"bytes"}],name:"getNewAddressCreate2",outputs:[{internalType:"address",name:"newAddress",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"_version",type:"uint8"}],name:"updateAccountVersion",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"enum IContractDeployer.AccountNonceOrdering",name:"_nonceOrdering",type:"uint8"}],name:"updateNonceOrdering",outputs:[],stateMutability:"nonpayable",type:"function"}],lU=1,I6="/docs/contract/encodeDeployData";function Ake(t){const{abi:e,args:n,bytecode:r,deploymentType:i,salt:s}=t;if(!n||n.length===0){const{functionName:h,argsContractDeployer:p}=uU(i,s??fN,xt(x3(r)),"0x");return Li({abi:cU,functionName:h,args:p})}const a=e.find(h=>"type"in h&&h.type==="constructor");if(!a)throw new zB({docsPath:I6});if(!("inputs"in a))throw new f1({docsPath:I6});if(!a.inputs||a.inputs.length===0)throw new f1({docsPath:I6});const c=Bu(a.inputs,n),{functionName:u,argsContractDeployer:d}=uU(i,s??fN,xt(x3(r)),c);return Li({abi:cU,functionName:u,args:d})}function uU(t,e,n,r){const i=[e,n,r];return{create:{functionName:"create",argsContractDeployer:i},create2:{functionName:"create2",argsContractDeployer:i},createAccount:{functionName:"createAccount",argsContractDeployer:[...i,lU]},create2Account:{functionName:"create2Account",argsContractDeployer:[...i,lU]}}[t||"create"]}function ZH(t){if(!Ab(t))throw new VH;Yo(t)}async function Ske(t,e){const{account:n=t.account,chain:r=t.chain,...i}=e,s=n?$n(n):t.account;if(!s)throw new Xo({docsPath:"/docs/actions/wallet/signTransaction"});if(ZH({account:s,chain:r,...e}),!r?.custom?.getEip712Domain)throw new _e("`getEip712Domain` not found on chain.");if(!r?.serializers?.transaction)throw new _e("transaction serializer not found on chain.");const a=await We(t,Zo,"getChainId")({});r!==null&&eb({currentChainId:a,chain:r});const c=r?.custom.getEip712Domain({...i,chainId:a,from:s.address,type:"eip712"}),u=await hj(t,{...c,account:s});return r?.serializers?.transaction({chainId:a,...i,customSignature:u,type:"eip712"},{r:"0x0",s:"0x0",v:0n})}async function XH(t,e){return Ab(e)?Ske(t,e):await fj(t,e)}async function JH(t,e){const{account:n=t.account,chain:r=t.chain}=e,i=n?$n(n):t.account;if(!i)throw new Xo({docsPath:"/docs/actions/wallet/sendTransaction"});try{ZH(e);const s=await Fp(t,{...e,nonceManager:i.nonceManager,parameters:["gas","nonce","fees"]});let a;r!==null&&(a=await We(t,Zo,"getChainId")({}),eb({currentChainId:a,chain:r}));const c=await XH(t,{...s,chainId:a});return await We(t,H_,"sendRawTransaction")({serializedTransaction:c})}catch(s){throw G0(s,{...e,account:i,chain:r})}}function xke(t,e){const{abi:n,args:r,bytecode:i,deploymentType:s,salt:a,...c}=e,u=Ake({abi:n,args:r,bytecode:i,deploymentType:s,salt:a});return c.factoryDeps=c.factoryDeps||[],c.factoryDeps.includes(i)||c.factoryDeps.push(i),JH(t,{...c,data:u,to:s==="create2"||s==="create2Account"?Eke:_ke})}async function dU(t,e){return Ab(e)?JH(t,e):tb(t,e)}function Tke(){return t=>({sendTransaction:e=>dU(t,e),signTransaction:e=>XH(t,e),deployContract:e=>xke(t,e),writeContract:e=>gp(Object.assign(t,{sendTransaction:n=>dU(t,n)}),e)})}var T3=8078012;function QH(t){return Array.isArray(t)?"%5B"+t.map(QH).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function Ike([t,e]){return`${t}=${QH(e)}`}function Cke(t){const e=Object.entries(t).map(Ike).join("&");return btoa(e)}function Oke(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${Cke(e)}'`),`${n}\``}}var I3=class extends Error{cause=this.cause;context;constructor(...[e,n]){let r,i;n&&Object.entries(Object.getOwnPropertyDescriptors(n)).forEach(([a,c])=>{a==="cause"?i={cause:c.value}:(r===void 0&&(r={__code:e}),Object.defineProperty(r,a,c))});const s=Oke(e,r);super(s,i),this.context=Object.freeze(r===void 0?{__code:e}:r),this.name="SolanaError"}};function kke(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}function eG(t){return Object.freeze({...t,encode:e=>{const n=new Uint8Array(kke(e,t));return t.write(e,n,0),n}})}function tG(t){return Object.freeze({...t,decode:(e,n=0)=>t.read(e,n)[0]})}function Rke(t,e,n=e){if(!e.match(new RegExp(`^[${t}]*$`)))throw new I3(T3,{alphabet:t,base:t.length,value:n})}var Nke=t=>eG({getSizeFromValue:e=>{const[n,r]=fU(e,t[0]);if(!r)return e.length;const i=hU(r,t);return n.length+Math.ceil(i.toString(16).length/2)},write(e,n,r){if(Rke(t,e),e==="")return r;const[i,s]=fU(e,t[0]);if(!s)return n.set(new Uint8Array(i.length).fill(0),r),r+i.length;let a=hU(s,t);const c=[];for(;a>0n;)c.unshift(Number(a%256n)),a/=256n;const u=[...Array(i.length).fill(0),...c];return n.set(u,r),r+u.length}}),$ke=t=>tG({read(e,n){const r=n===0?e:e.slice(n);if(r.length===0)return["",0];let i=r.findIndex(u=>u!==0);i=i===-1?r.length:i;const s=t[0].repeat(i);if(i===r.length)return[s,e.length];const a=r.slice(i).reduce((u,d)=>u*256n+BigInt(d),0n),c=Pke(a,t);return[s+c,e.length]}});function fU(t,e){const[n,r]=t.split(new RegExp(`((?!${e}).*)`));return[n,r]}function hU(t,e){const n=BigInt(e.length);let r=0n;for(const i of t)r*=n,r+=BigInt(e.indexOf(i));return r}function Pke(t,e){const n=BigInt(e.length),r=[];for(;t>0n;)r.unshift(e[Number(t%n)]),t/=n;return r.join("")}var nG="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",rG=()=>Nke(nG),iG=()=>$ke(nG),pU="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Dke=()=>eG({getSizeFromValue:t=>{try{return atob(t).length}catch{throw new I3(T3,{alphabet:pU,base:64,value:t})}},write(t,e,n){try{const r=atob(t).split("").map(i=>i.charCodeAt(0));return e.set(r,n),r.length+n}catch{throw new I3(T3,{alphabet:pU,base:64,value:t})}}}),gO=()=>tG({read(t,e=0){const n=t.slice(e);return[btoa(String.fromCharCode(...n)),t.length]}}),Mke=28e5,Uke=2800001,Bke=2800003,Lke=2800006,jke=2800007,sG=2800008,zke=2800009,Fke=8078001,qke=8078004,Wke=8078005,Vke=8078006;function aG(t){return Array.isArray(t)?"%5B"+t.map(aG).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function Hke([t,e]){return`${t}=${aG(e)}`}function Gke(t){const e=Object.entries(t).map(Hke).join("&");return btoa(e)}function Kke(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${Gke(e)}'`),`${n}\``}}function Yke(t,e){return t instanceof Error&&t.name==="SolanaError"?t.context.__code===e:!1}var no=class extends Error{cause=this.cause;context;constructor(...[e,n]){let r,i;n&&Object.entries(Object.getOwnPropertyDescriptors(n)).forEach(([a,c])=>{a==="cause"?i={cause:c.value}:(r===void 0&&(r={__code:e}),Object.defineProperty(r,a,c))});const s=Kke(e,r);super(s,i),this.context=Object.freeze(r===void 0?{__code:e}:r),this.name="SolanaError"}};function Zke(t,e){if(t.length>=e)return t;const n=new Uint8Array(e).fill(0);return n.set(t),n}var Xke=(t,e)=>Zke(t.length<=e?t:t.slice(0,e),e);function Jke(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}function oG(t){return Object.freeze({...t,encode:e=>{const n=new Uint8Array(Jke(e,t));return t.write(e,n,0),n}})}function Qke(t){return Object.freeze({...t,decode:(e,n=0)=>t.read(e,n)[0]})}function yu(t){return"fixedSize"in t&&typeof t.fixedSize=="number"}function eRe(t){return!yu(t)}function tRe(t,e){if(yu(t)!==yu(e))throw new no(qke);if(yu(t)&&yu(e)&&t.fixedSize!==e.fixedSize)throw new no(Wke,{decoderFixedSize:e.fixedSize,encoderFixedSize:t.fixedSize});if(!yu(t)&&!yu(e)&&t.maxSize!==e.maxSize)throw new no(Vke,{decoderMaxSize:e.maxSize,encoderMaxSize:t.maxSize});return{...e,...t,decode:e.decode,encode:t.encode,read:e.read,write:t.write}}function nRe(t,e,n,r=0){const i=n.length-r;if(i<e)throw new no(Fke,{bytesLength:i,codecDescription:t,expected:e})}function rRe(t,e){return oG({fixedSize:e,write:(n,r,i)=>{const s=t.encode(n),a=s.length>e?s.slice(0,e):s;return r.set(a,i),i+e}})}function iRe(t,e){return Qke({fixedSize:e,read:(n,r)=>{nRe("fixCodecSize",e,n,r),(r>0||n.length>e)&&(n=n.slice(r,r+e)),yu(t)&&(n=Xke(n,t.fixedSize));const[i]=t.read(n,0);return[i,r+e]}})}function sRe(t,e){return oG({...eRe(t)?{...t,getSizeFromValue:n=>t.getSizeFromValue(e(n))}:t,write:(n,r,i)=>t.write(e(n),r,i)})}var aRe=361e4,oRe=3610001,cRe=3610003,lRe=3610005,uRe=3610006,dRe=3611e3;function cG(t){return Array.isArray(t)?"%5B"+t.map(cG).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function fRe([t,e]){return`${t}=${cG(e)}`}function hRe(t){const e=Object.entries(t).map(fRe).join("&");return btoa(e)}function pRe(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${hRe(e)}'`),`${n}\``}}var Zp=class extends Error{cause=this.cause;context;constructor(...[e,n]){let r,i;n&&Object.entries(Object.getOwnPropertyDescriptors(n)).forEach(([a,c])=>{a==="cause"?i={cause:c.value}:(r===void 0&&(r={__code:e}),Object.defineProperty(r,a,c))});const s=pRe(e,r);super(s,i),this.context=Object.freeze(r===void 0?{__code:e}:r),this.name="SolanaError"}};function yRe(){if(typeof globalThis.crypto>"u"||typeof globalThis.crypto.getRandomValues!="function")throw new Zp(dRe)}function GE(){if(!globalThis.isSecureContext)throw new Zp(aRe)}function mRe(){if(GE(),typeof globalThis.crypto>"u"||typeof globalThis.crypto.subtle?.digest!="function")throw new Zp(oRe)}function lG(){if(GE(),typeof globalThis.crypto>"u"||typeof globalThis.crypto.subtle?.exportKey!="function")throw new Zp(cRe)}function gRe(){if(GE(),typeof globalThis.crypto>"u"||typeof globalThis.crypto.subtle?.sign!="function")throw new Zp(lRe)}function bRe(){if(GE(),typeof globalThis.crypto>"u"||typeof globalThis.crypto.subtle?.verify!="function")throw new Zp(uRe)}var C6,O6;function bO(){return C6||(C6=rG()),C6}function wRe(){return O6||(O6=iG()),O6}function vRe(t){if(t.length<32||t.length>44)return!1;const e=bO();try{return e.encode(t).byteLength===32}catch{return!1}}function C3(t){if(t.length<32||t.length>44)throw new no(Uke,{actualLength:t.length});const r=bO().encode(t).byteLength;if(r!==32)throw new no(Mke,{actualLength:r})}function uG(t){return C3(t),t}function lp(){return sRe(rRe(bO(),32),t=>uG(t))}function xb(){return iRe(wRe(),32)}function _Re(){return tRe(lp(),xb())}function wO(){return new Intl.Collator("en",{caseFirst:"lower",ignorePunctuation:!1,localeMatcher:"best fit",numeric:!1,sensitivity:"variant",usage:"sort"}).compare}var ERe=37095705934669439343138083508754565189542113879843219016388785533085940283555n,Ri=57896044618658097711785492504343953926634992332820282019728792003956564819949n,yU=19681161376707505956807079304988542015446066515923890162744021073123829784752n;function pa(t){const e=t%Ri;return e>=0n?e:Ri+e}function xo(t,e){let n=t;for(;e-- >0n;)n*=n,n%=Ri;return n}function ARe(t){const n=t*t%Ri*t%Ri,r=xo(n,2n)*n%Ri,i=xo(r,1n)*t%Ri,s=xo(i,5n)*i%Ri,a=xo(s,10n)*s%Ri,c=xo(a,20n)*a%Ri,u=xo(c,40n)*c%Ri,d=xo(u,80n)*u%Ri,h=xo(d,80n)*u%Ri,p=xo(h,10n)*s%Ri;return xo(p,2n)*t%Ri}function SRe(t,e){const n=pa(e*e*e),r=pa(n*n*e),i=ARe(t*r);let s=pa(t*n*i);const a=pa(e*s*s),c=s,u=pa(s*yU),d=a===t,h=a===pa(-t),p=a===pa(-t*yU);return d&&(s=c),(h||p)&&(s=u),(pa(s)&1n)===1n&&(s=pa(-s)),!d&&!h?null:s}function xRe(t,e){const n=pa(t*t),r=pa(n-1n),i=pa(ERe*n+1n),s=SRe(r,i);if(s===null)return!1;const a=(e&128)!==0;return!(s===0n&&a)}function TRe(t){const e=t.toString(16);return e.length===1?`0${e}`:e}function IRe(t){const n=`0x${t.reduce((r,i,s)=>`${TRe(s===31?i&-129:i)}${r}`,"")}`;return BigInt(n)}function CRe(t){if(t.byteLength!==32)return!1;const e=IRe(t);return xRe(e,t[31])}var mU=32,gU=16,ORe=[80,114,111,103,114,97,109,68,101,114,105,118,101,100,65,100,100,114,101,115,115];async function kRe({programAddress:t,seeds:e}){if(mRe(),e.length>gU)throw new no(Lke,{actual:e.length,maxSeeds:gU});let n;const r=e.reduce((u,d,h)=>{const p=typeof d=="string"?(n||=new TextEncoder).encode(d):d;if(p.byteLength>mU)throw new no(jke,{actual:p.byteLength,index:h,maxSeedLength:mU});return u.push(...p),u},[]),i=_Re(),s=i.encode(t),a=await crypto.subtle.digest("SHA-256",new Uint8Array([...r,...s,...ORe])),c=new Uint8Array(a);if(CRe(c))throw new no(sG);return i.decode(c)}async function RRe({programAddress:t,seeds:e}){let n=255;for(;n>0;)try{return[await kRe({programAddress:t,seeds:[...e,new Uint8Array([n])]}),n]}catch(r){if(Yke(r,sG))n--;else throw r}throw new no(zke)}async function dG(t){if(lG(),t.type!=="public"||t.algorithm.name!=="Ed25519")throw new no(Bke);const e=await crypto.subtle.exportKey("raw",t);return xb().decode(new Uint8Array(e))}var NRe=8078011;function fG(t){return Array.isArray(t)?"%5B"+t.map(fG).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function $Re([t,e]){return`${t}=${fG(e)}`}function PRe(t){const e=Object.entries(t).map($Re).join("&");return btoa(e)}function DRe(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${PRe(e)}'`),`${n}\``}}var MRe=class extends Error{cause=this.cause;context;constructor(...[e,n]){let r,i;n&&Object.entries(Object.getOwnPropertyDescriptors(n)).forEach(([a,c])=>{a==="cause"?i={cause:c.value}:(r===void 0&&(r={__code:e}),Object.defineProperty(r,a,c))});const s=DRe(e,r);super(s,i),this.context=Object.freeze(r===void 0?{__code:e}:r),this.name="SolanaError"}};function URe(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}function hG(t){return Object.freeze({...t,encode:e=>{const n=new Uint8Array(URe(e,t));return t.write(e,n,0),n}})}function BRe(t){return"fixedSize"in t&&typeof t.fixedSize=="number"}function LRe(t){return!BRe(t)}function pG(t,e){return hG({...LRe(t)?{...t,getSizeFromValue:n=>t.getSizeFromValue(e(n))}:t,write:(n,r,i)=>t.write(e(n),r,i)})}var jRe=8078e3,zRe=8078001,FRe=8078007,qRe=8078011,WRe=8078017;function yG(t){return Array.isArray(t)?"%5B"+t.map(yG).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function VRe([t,e]){return`${t}=${yG(e)}`}function HRe(t){const e=Object.entries(t).map(VRe).join("&");return btoa(e)}function GRe(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${HRe(e)}'`),`${n}\``}}var Tb=class extends Error{cause=this.cause;context;constructor(...[e,n]){let r,i;n&&Object.entries(Object.getOwnPropertyDescriptors(n)).forEach(([a,c])=>{a==="cause"?i={cause:c.value}:(r===void 0&&(r={__code:e}),Object.defineProperty(r,a,c))});const s=GRe(e,r);super(s,i),this.context=Object.freeze(r===void 0?{__code:e}:r),this.name="SolanaError"}};function k0(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}function gf(t){return Object.freeze({...t,encode:e=>{const n=new Uint8Array(k0(e,t));return t.write(e,n,0),n}})}function Ib(t){return Object.freeze({...t,decode:(e,n=0)=>t.read(e,n)[0]})}function __(t){return"fixedSize"in t&&typeof t.fixedSize=="number"}function KRe(t,e,n=0){if(e.length-n<=0)throw new Tb(jRe,{codecDescription:t})}function YRe(t,e,n,r=0){const i=n.length-r;if(i<e)throw new Tb(zRe,{bytesLength:i,codecDescription:t,expected:e})}function ZRe(t,e,n,r){if(r<e||r>n)throw new Tb(qRe,{codecDescription:t,max:n,min:e,value:r})}function mG(t){return t?.endian!==1}function XRe(t){return gf({fixedSize:t.size,write(e,n,r){t.range&&ZRe(t.name,t.range[0],t.range[1],e);const i=new ArrayBuffer(t.size);return t.set(new DataView(i),e,mG(t.config)),n.set(new Uint8Array(i),r),r+t.size}})}function JRe(t){return Ib({fixedSize:t.size,read(e,n=0){KRe(t.name,e,n),YRe(t.name,t.size,e,n);const r=new DataView(QRe(e,n,t.size));return[t.get(r,mG(t.config)),n+t.size]}})}function QRe(t,e,n){const r=t.byteOffset+(e??0),i=n??t.byteLength;return t.buffer.slice(r,r+i)}var e4e=(t={})=>XRe({config:t,name:"u32",range:[0,+"0xffffffff"],set:(e,n,r)=>e.setUint32(0,Number(n),r),size:4}),t4e=(t={})=>JRe({config:t,get:(e,n)=>e.getUint32(0,n),name:"u32",size:4});function n4e(t,e,n){if(e!==n)throw new Tb(FRe,{actual:n,codecDescription:t,expected:e})}function r4e(t){return t.reduce((e,n)=>e===null||n===null?null:Math.max(e,n),0)}function $p(t){return t.reduce((e,n)=>e===null||n===null?null:e+n,0)}function Cb(t){return __(t)?t.fixedSize:null}function Xp(t){return __(t)?t.fixedSize:t.maxSize??null}function Pp(t,e={}){const n=e.size??e4e(),r=E_(n,Cb(t)),i=E_(n,Xp(t))??void 0;return gf({...r!==null?{fixedSize:r}:{getSizeFromValue:s=>(typeof n=="object"?k0(s.length,n):0)+[...s].reduce((c,u)=>c+k0(u,t),0),maxSize:i},write:(s,a,c)=>(typeof n=="number"&&n4e("array",n,s.length),typeof n=="object"&&(c=n.write(s.length,a,c)),s.forEach(u=>{c=t.write(u,a,c)}),c)})}function bf(t,e={}){const n=e.size??t4e(),r=Cb(t),i=E_(n,r),s=E_(n,Xp(t))??void 0;return Ib({...i!==null?{fixedSize:i}:{maxSize:s},read:(a,c)=>{const u=[];if(typeof n=="object"&&a.slice(c).length===0)return[u,c];if(n==="remainder"){for(;c<a.length;){const[p,m]=t.read(a,c);c=m,u.push(p)}return[u,c]}const[d,h]=typeof n=="number"?[n,c]:n.read(a,c);c=h;for(let p=0;p<d;p+=1){const[m,g]=t.read(a,c);c=g,u.push(m)}return[u,c]}})}function E_(t,e){return typeof t!="number"?null:t===0?0:e===null?null:e*t}function vO(){return gf({getSizeFromValue:t=>t.length,write:(t,e,n)=>(e.set(t,n),n+t.length)})}function O3(){return Ib({read:(t,e)=>{const n=t.slice(e);return[n,e+n.length]}})}function i4e(t){return gf({fixedSize:t.length,write:(e,n,r)=>(n.set(t,r),r+t.length)})}function s4e(t){const e=$p(t.map(Cb)),n=$p(t.map(Xp))??void 0;return Ib({...e===null?{maxSize:n}:{fixedSize:e},read:(r,i)=>{const s=[];return t.forEach(a=>{const[c,u]=a.read(r,i);s.push(c),i=u}),[s,i]}})}function a4e(t,e){const n=o4e(t),r=(s,a,c)=>{const u=e(s);return bU(t,u),t[u].write(s,a,c)};if(n!==null)return gf({fixedSize:n,write:r});const i=c4e(t);return gf({...i!==null?{maxSize:i}:{},getSizeFromValue:s=>{const a=e(s);return bU(t,a),k0(s,t[a])},write:r})}function bU(t,e){if(typeof t[e]>"u")throw new Tb(WRe,{maxRange:t.length-1,minRange:0,variant:e})}function o4e(t){if(t.length===0)return 0;if(!__(t[0]))return null;const e=t[0].fixedSize;return t.every(r=>__(r)&&r.fixedSize===e)?e:null}function c4e(t){return r4e(t.map(e=>Xp(e)))}function Wu(t){const e=t.map(([,i])=>i),n=$p(e.map(Cb)),r=$p(e.map(Xp))??void 0;return gf({...n===null?{getSizeFromValue:i=>t.map(([s,a])=>k0(i[s],a)).reduce((s,a)=>s+a,0),maxSize:r}:{fixedSize:n},write:(i,s,a)=>(t.forEach(([c,u])=>{a=u.write(i[c],s,a)}),a)})}function Ob(t){const e=t.map(([,i])=>i),n=$p(e.map(Cb)),r=$p(e.map(Xp))??void 0;return Ib({...n===null?{maxSize:r}:{fixedSize:n},read:(i,s)=>{const a={};return t.forEach(([c,u])=>{const[d,h]=u.read(i,s);s=h,a[c]=d}),[a,s]}})}function l4e(t,e,n,r){if(r<e||r>n)throw new MRe(NRe,{codecDescription:t,max:n,min:e,value:r})}function u4e(t){return t?.endian!==1}function _O(t){return hG({fixedSize:t.size,write(e,n,r){t.range&&l4e(t.name,t.range[0],t.range[1],e);const i=new ArrayBuffer(t.size);return t.set(new DataView(i),e,u4e(t.config)),n.set(new Uint8Array(i),r),r+t.size}})}var hze=(t={})=>_O({config:t,name:"u32",range:[0,+"0xffffffff"],set:(e,n,r)=>e.setUint32(0,Number(n),r),size:4}),d4e=(t={})=>_O({config:t,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,n,r)=>e.setBigUint64(0,BigInt(n),r),size:8}),gG=()=>_O({name:"u8",range:[0,+"0xff"],set:(t,e)=>t.setUint8(0,Number(e)),size:1});function Rf(t,...e){return e.reduce((n,r)=>r(n),t)}var _r=(t=>(t[t.WRITABLE_SIGNER=3]="WRITABLE_SIGNER",t[t.READONLY_SIGNER=2]="READONLY_SIGNER",t[t.WRITABLE=1]="WRITABLE",t[t.READONLY=0]="READONLY",t))(_r||{}),f4e=2,h4e=1;function Dp(t){return t>=2}function R0(t){return(t&h4e)!==0}function wU(t,e){return t|e}function p4e(t){return t|f4e}var y4e=5663e3,vU=5663001,m4e=5663004,g4e=5663005,b4e=5663006,w4e=5663007,v4e=5663008,bG=5663021,_4e=8078e3,E4e=8078001,A4e=8078011,S4e=8078012;function wG(t){return Array.isArray(t)?"%5B"+t.map(wG).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function x4e([t,e]){return`${t}=${wG(e)}`}function T4e(t){const e=Object.entries(t).map(x4e).join("&");return btoa(e)}function I4e(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${T4e(e)}'`),`${n}\``}}var ds=class extends Error{cause=this.cause;context;constructor(...[e,n]){let r,i;n&&Object.entries(Object.getOwnPropertyDescriptors(n)).forEach(([a,c])=>{a==="cause"?i={cause:c.value}:(r===void 0&&(r={__code:e}),Object.defineProperty(r,a,c))});const s=I4e(e,r);super(s,i),this.context=Object.freeze(r===void 0?{__code:e}:r),this.name="SolanaError"}};function C4e(t){return vRe(t)}function O4e(t,e){if(t.length>=e)return t;const n=new Uint8Array(e).fill(0);return n.set(t),n}var k4e=(t,e)=>O4e(t.length<=e?t:t.slice(0,e),e);function k3(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}function yl(t){return Object.freeze({...t,encode:e=>{const n=new Uint8Array(k3(e,t));return t.write(e,n,0),n}})}function Mu(t){return Object.freeze({...t,decode:(e,n=0)=>t.read(e,n)[0]})}function Mo(t){return"fixedSize"in t&&typeof t.fixedSize=="number"}function R4e(t){return!Mo(t)}function N4e(t,e,n=0){if(e.length-n<=0)throw new ds(_4e,{codecDescription:t})}function EO(t,e,n,r=0){const i=n.length-r;if(i<e)throw new ds(E4e,{bytesLength:i,codecDescription:t,expected:e})}function $4e(t,e){const n=((a,c,u)=>{const d=t.encode(a);return u=e.write(d.length,c,u),c.set(d,u),u+d.length});if(Mo(e)&&Mo(t))return yl({...t,fixedSize:e.fixedSize+t.fixedSize,write:n});const r=Mo(e)?e.fixedSize:e.maxSize??null,i=Mo(t)?t.fixedSize:t.maxSize??null,s=r!==null&&i!==null?r+i:null;return yl({...t,...s!==null?{maxSize:s}:{},getSizeFromValue:a=>{const c=k3(a,t);return k3(c,e)+c},write:n})}function P4e(t,e){const n=((a,c)=>{const[u,d]=e.read(a,c),h=Number(u);return c=d,(c>0||a.length>h)&&(a=a.slice(c,c+h)),EO("addDecoderSizePrefix",h,a),[t.decode(a),c+h]});if(Mo(e)&&Mo(t))return Mu({...t,fixedSize:e.fixedSize+t.fixedSize,read:n});const r=Mo(e)?e.fixedSize:e.maxSize??null,i=Mo(t)?t.fixedSize:t.maxSize??null,s=r!==null&&i!==null?r+i:null;return Mu({...t,...s!==null?{maxSize:s}:{},read:n})}function D4e(t,e){return yl({fixedSize:e,write:(n,r,i)=>{const s=t.encode(n),a=s.length>e?s.slice(0,e):s;return r.set(a,i),i+e}})}function M4e(t,e){return Mu({fixedSize:e,read:(n,r)=>{EO("fixCodecSize",e,n,r),(r>0||n.length>e)&&(n=n.slice(r,r+e)),Mo(t)&&(n=k4e(n,t.fixedSize));const[i]=t.read(n,0);return[i,r+e]}})}function vG(t,e){return yl({...R4e(t)?{...t,getSizeFromValue:n=>t.getSizeFromValue(e(n))}:t,write:(n,r,i)=>t.write(e(n),r,i)})}function _G(t,e){return Mu({...t,read:(n,r)=>{const[i,s]=t.read(n,r);return[e(i,n,r),s]}})}function EG(t,e,n,r){if(r<e||r>n)throw new ds(A4e,{codecDescription:t,max:n,min:e,value:r})}function AG(t){return t?.endian!==1}function U4e(t){return yl({fixedSize:t.size,write(e,n,r){t.range&&EG(t.name,t.range[0],t.range[1],e);const i=new ArrayBuffer(t.size);return t.set(new DataView(i),e,AG(t.config)),n.set(new Uint8Array(i),r),r+t.size}})}function B4e(t){return Mu({fixedSize:t.size,read(e,n=0){N4e(t.name,e,n),EO(t.name,t.size,e,n);const r=new DataView(L4e(e,n,t.size));return[t.get(r,AG(t.config)),n+t.size]}})}function L4e(t,e,n){const r=t.byteOffset+(e??0),i=n??t.byteLength;return t.buffer.slice(r,r+i)}var Mp=()=>yl({getSizeFromValue:t=>t<=127?1:t<=16383?2:3,maxSize:3,write:(t,e,n)=>{EG("shortU16",0,65535,t);const r=[0];for(let i=0;;i+=1){const s=Number(t)>>i*7;if(s===0)break;const a=127&s;r[i]=a,i>0&&(r[i-1]|=128)}return e.set(r,n),n+r.length}}),Up=()=>Mu({maxSize:3,read:(t,e)=>{let n=0,r=0;for(;++r;){const i=r-1,s=t[e+i],a=127&s;if(n|=a<<i*7,(s&128)===0)break}return[n,e+r]}}),A_=()=>U4e({name:"u8",range:[0,+"0xff"],set:(t,e)=>t.setUint8(0,Number(e)),size:1}),S_=()=>B4e({get:t=>t.getUint8(0),name:"u8",size:1});function j4e(t){return"lifetimeConstraint"in t&&typeof t.lifetimeConstraint.blockhash=="string"&&typeof t.lifetimeConstraint.lastValidBlockHeight=="bigint"&&C4e(t.lifetimeConstraint.blockhash)}function z4e(t,e){return"lifetimeConstraint"in e&&e.lifetimeConstraint&&"blockhash"in e.lifetimeConstraint&&e.lifetimeConstraint.blockhash===t.blockhash&&e.lifetimeConstraint.lastValidBlockHeight===t.lastValidBlockHeight?e:Object.freeze({...e,lifetimeConstraint:Object.freeze(t)})}function F4e(t,e,n=e){if(!e.match(new RegExp(`^[${t}]*$`)))throw new ds(S4e,{alphabet:t,base:t.length,value:n})}var q4e=t=>yl({getSizeFromValue:e=>{const[n,r]=_U(e,t[0]);if(!r)return e.length;const i=EU(r,t);return n.length+Math.ceil(i.toString(16).length/2)},write(e,n,r){if(F4e(t,e),e==="")return r;const[i,s]=_U(e,t[0]);if(!s)return n.set(new Uint8Array(i.length).fill(0),r),r+i.length;let a=EU(s,t);const c=[];for(;a>0n;)c.unshift(Number(a%256n)),a/=256n;const u=[...Array(i.length).fill(0),...c];return n.set(u,r),r+u.length}}),W4e=t=>Mu({read(e,n){const r=n===0?e:e.slice(n);if(r.length===0)return["",0];let i=r.findIndex(u=>u!==0);i=i===-1?r.length:i;const s=t[0].repeat(i);if(i===r.length)return[s,e.length];const a=r.slice(i).reduce((u,d)=>u*256n+BigInt(d),0n),c=V4e(a,t);return[s+c,e.length]}});function _U(t,e){const[n,r]=t.split(new RegExp(`((?!${e}).*)`));return[n,r]}function EU(t,e){const n=BigInt(e.length);let r=0n;for(const i of t)r*=n,r+=BigInt(e.indexOf(i));return r}function V4e(t,e){const n=BigInt(e.length),r=[];for(;t>0n;)r.unshift(e[Number(t%n)]),t/=n;return r.join("")}var SG="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",H4e=()=>q4e(SG),G4e=()=>W4e(SG),k6;function K4e(){if(!k6){const t=Pp(A_(),{size:Mp()});k6=Wu([["lookupTableAddress",lp()],["writableIndexes",t],["readonlyIndexes",t]])}return k6}var R6;function Y4e(){if(!R6){const t=bf(S_(),{size:Up()});R6=Ob([["lookupTableAddress",xb()],["writableIndexes",t],["readonlyIndexes",t]])}return R6}var N6;function $6(){return N6||(N6=A_()),N6}var P6;function D6(){return P6||(P6=S_()),P6}function Z4e(){return Wu([["numSignerAccounts",$6()],["numReadonlySignerAccounts",$6()],["numReadonlyNonSignerAccounts",$6()]])}function X4e(){return Ob([["numSignerAccounts",D6()],["numReadonlySignerAccounts",D6()],["numReadonlyNonSignerAccounts",D6()]])}var M6;function J4e(){return M6||(M6=vG(Wu([["programAddressIndex",A_()],["accountIndices",Pp(A_(),{size:Mp()})],["data",$4e(vO(),Mp())]]),t=>t.accountIndices!==void 0&&t.data!==void 0?t:{...t,accountIndices:t.accountIndices??[],data:t.data??new Uint8Array(0)})),M6}var U6;function Q4e(){return U6||(U6=_G(Ob([["programAddressIndex",S_()],["accountIndices",bf(S_(),{size:Up()})],["data",P4e(O3(),Up())]]),t=>{if(t.accountIndices.length&&t.data.byteLength)return t;const{accountIndices:e,data:n,...r}=t;return{...r,...e.length?{accountIndices:e}:null,...n.byteLength?{data:n}:null}})),U6}var xG=0,R3=128;function eNe(){return yl({getSizeFromValue:t=>t==="legacy"?0:1,maxSize:1,write:(t,e,n)=>{if(t==="legacy")return n;if(t<0||t>127)throw new ds(m4e,{actualVersion:t});if(t>xG)throw new ds(bG,{unsupportedVersion:t});return e.set([t|R3],n),n+1}})}function TG(){return Mu({maxSize:1,read:(t,e)=>{const n=t[e];if((n&R3)===0)return["legacy",e];{const r=n^R3;if(r>xG)throw new ds(bG,{unsupportedVersion:r});return[r,e+1]}}})}function AU(){return Wu(IG())}function SU(){return vG(Wu([...IG(),["addressTableLookups",nNe()]]),t=>t.version==="legacy"?t:{...t,addressTableLookups:t.addressTableLookups??[]})}function IG(){const t=a4e([i4e(new Uint8Array(32)),D4e(H4e(),32)],e=>e===void 0?0:1);return[["version",eNe()],["header",Z4e()],["staticAccounts",Pp(lp(),{size:Mp()})],["lifetimeToken",t],["instructions",Pp(J4e(),{size:Mp()})]]}function tNe(){return[["version",TG()],["header",X4e()],["staticAccounts",bf(xb(),{size:Up()})],["lifetimeToken",M4e(G4e(),32)],["instructions",bf(Q4e(),{size:Up()})],["addressTableLookups",rNe()]]}function nNe(){return Pp(K4e(),{size:Mp()})}function rNe(){return bf(Y4e(),{size:Up()})}function iNe(){return yl({getSizeFromValue:t=>t.version==="legacy"?AU().getSizeFromValue(t):SU().getSizeFromValue(t),write:(t,e,n)=>t.version==="legacy"?AU().write(t,e,n):SU().write(t,e,n)})}function sNe(){return _G(Ob(tNe()),({addressTableLookups:t,...e})=>e.version==="legacy"||!t?.length?e:{...e,addressTableLookups:t})}function xU(t,e,n){t[e]=n(t[e]??{role:_r.READONLY})}var mr=Symbol("AddressMapTypeProperty");function aNe(t,e){const n={[t]:{[mr]:0,role:_r.WRITABLE_SIGNER}},r=new Set;for(const i of e){xU(n,i.programAddress,a=>{if(r.add(i.programAddress),mr in a){if(R0(a.role))throw a[mr]===0?new ds(y4e,{programAddress:i.programAddress}):new ds(vU,{programAddress:i.programAddress});if(a[mr]===2)return a}return{[mr]:2,role:_r.READONLY}});let s;if(i.accounts)for(const a of i.accounts)xU(n,a.address,c=>{const{address:u,...d}=a;if(mr in c)switch(c[mr]){case 0:return c;case 1:{const h=wU(c.role,d.role);if("lookupTableAddress"in d){if(c.lookupTableAddress!==d.lookupTableAddress&&(s||=wO())(d.lookupTableAddress,c.lookupTableAddress)<0)return{[mr]:1,...d,role:h}}else if(Dp(d.role))return{[mr]:2,role:h};return c.role!==h?{...c,role:h}:c}case 2:{const h=wU(c.role,d.role);if(r.has(a.address)){if(R0(d.role))throw new ds(vU,{programAddress:a.address});return c.role!==h?{...c,role:h}:c}else return"lookupTableAddress"in d&&!Dp(c.role)?{...d,[mr]:1,role:h}:c.role!==h?{...c,role:h}:c}}return"lookupTableAddress"in d?{...d,[mr]:1}:{...d,[mr]:2}})}return n}function oNe(t){let e;return Object.entries(t).sort(([r,i],[s,a])=>{if(i[mr]!==a[mr]){if(i[mr]===0)return-1;if(a[mr]===0)return 1;if(i[mr]===2)return-1;if(a[mr]===2)return 1}const c=Dp(i.role);if(c!==Dp(a.role))return c?-1:1;const u=R0(i.role);return u!==R0(a.role)?u?-1:1:(e||=wO(),i[mr]===1&&a[mr]===1&&i.lookupTableAddress!==a.lookupTableAddress?e(i.lookupTableAddress,a.lookupTableAddress):e(r,s))}).map(([r,i])=>({address:r,...i}))}function cNe(t){const e={};for(const n of t){if(!("lookupTableAddress"in n))continue;const r=e[n.lookupTableAddress]||={readonlyIndexes:[],writableIndexes:[]};n.role===_r.WRITABLE?r.writableIndexes.push(n.addressIndex):r.readonlyIndexes.push(n.addressIndex)}return Object.keys(e).sort(wO()).map(n=>({lookupTableAddress:n,...e[n]}))}function lNe(t){let e=0,n=0,r=0;for(const i of t){if("lookupTableAddress"in i)break;const s=R0(i.role);Dp(i.role)?(r++,s||n++):s||e++}return{numReadonlyNonSignerAccounts:e,numReadonlySignerAccounts:n,numSignerAccounts:r}}function uNe(t){const e={};for(const[n,r]of t.entries())e[r.address]=n;return e}function dNe(t,e){const n=uNe(e);return t.map(({accounts:r,data:i,programAddress:s})=>({programAddressIndex:n[s],...r?{accountIndices:r.map(({address:a})=>n[a])}:null,...i?{data:i}:null}))}function fNe(t){return"nonce"in t?t.nonce:t.blockhash}function hNe(t){const e=t.findIndex(r=>"lookupTableAddress"in r);return(e===-1?t:t.slice(0,e)).map(({address:r})=>r)}function pNe(t){const e=aNe(t.feePayer.address,t.instructions),n=oNe(e),r=t.lifetimeConstraint;return{...t.version!=="legacy"?{addressTableLookups:cNe(n)}:null,...r?{lifetimeToken:fNe(r)}:null,header:lNe(n),instructions:dNe(t.instructions,n),staticAccounts:hNe(n),version:t.version}}function yNe(t){return Object.freeze({instructions:Object.freeze([]),version:t.version})}var CG="SysvarRecentB1ockHashes11111111111111111111",OG="11111111111111111111111111111111";function TU(t,e){return{accounts:[{address:t,role:_r.WRITABLE},{address:CG,role:_r.READONLY},{address:e,role:_r.READONLY_SIGNER}],data:new Uint8Array([4,0,0,0]),programAddress:OG}}function AO(t){return t.programAddress===OG&&t.data!=null&&mNe(t.data)&&t.accounts?.length===3&&t.accounts[0].address!=null&&t.accounts[0].role===_r.WRITABLE&&t.accounts[1].address===CG&&t.accounts[1].role===_r.READONLY&&t.accounts[2].address!=null&&Dp(t.accounts[2].role)}function mNe(t){return t.byteLength===4&&t[0]===4&&t[1]===0&&t[2]===0&&t[3]===0}function kG(t){return"lifetimeConstraint"in t&&typeof t.lifetimeConstraint.nonce=="string"&&t.instructions[0]!=null&&AO(t.instructions[0])}function gNe(t,e,n){return t.accounts[0].address===e&&t.accounts[2].address===n}function bNe({nonce:t,nonceAccountAddress:e,nonceAuthorityAddress:n},r){let i;const s=r.instructions[0];if(s&&AO(s))if(gNe(s,e,n)){if(kG(r)&&r.lifetimeConstraint.nonce===t)return r;i=[s,...r.instructions.slice(1)]}else i=[Object.freeze(TU(e,n)),...r.instructions.slice(1)];else i=[Object.freeze(TU(e,n)),...r.instructions];return Object.freeze({...r,instructions:Object.freeze(i),lifetimeConstraint:Object.freeze({nonce:t})})}function wNe(t,e){if("feePayer"in e&&t===e.feePayer?.address&&vNe(e.feePayer))return e;const n={...e,feePayer:Object.freeze({address:t})};return Object.freeze(n),n}function vNe(t){return!!t&&"address"in t&&typeof t.address=="string"&&Object.keys(t).length===1}function _Ne(t,e){return ENe([t],e)}function ENe(t,e){return Object.freeze({...e,instructions:Object.freeze([...e.instructions,...t])})}function ANe(t){const{header:e}=t,n=e.numSignerAccounts-e.numReadonlySignerAccounts,r=t.staticAccounts.length-e.numSignerAccounts-e.numReadonlyNonSignerAccounts,i=[];let s=0;for(let a=0;a<n;a++)i.push({address:t.staticAccounts[s],role:_r.WRITABLE_SIGNER}),s++;for(let a=0;a<e.numReadonlySignerAccounts;a++)i.push({address:t.staticAccounts[s],role:_r.READONLY_SIGNER}),s++;for(let a=0;a<r;a++)i.push({address:t.staticAccounts[s],role:_r.WRITABLE}),s++;for(let a=0;a<e.numReadonlyNonSignerAccounts;a++)i.push({address:t.staticAccounts[s],role:_r.READONLY}),s++;return i}function SNe(t,e){const r=t.map(a=>a.lookupTableAddress).filter(a=>e[a]===void 0);if(r.length>0)throw new ds(g4e,{lookupTableAddresses:r});const i=[],s=[];for(const a of t){const c=e[a.lookupTableAddress],u=a.readonlyIndexes,d=a.writableIndexes,h=Math.max(...u,...d);if(h>=c.length)throw new ds(b4e,{highestKnownIndex:c.length-1,highestRequestedIndex:h,lookupTableAddress:a.lookupTableAddress});const p=u.map(g=>({address:c[g],addressIndex:g,lookupTableAddress:a.lookupTableAddress,role:_r.READONLY}));i.push(...p);const m=d.map(g=>({address:c[g],addressIndex:g,lookupTableAddress:a.lookupTableAddress,role:_r.WRITABLE}));s.push(...m)}return[...s,...i]}function xNe(t,e){const n=e[t.programAddressIndex]?.address;if(!n)throw new ds(w4e,{index:t.programAddressIndex});const r=t.accountIndices?.map(s=>e[s]),{data:i}=t;return Object.freeze({programAddress:n,...r&&r.length?{accounts:Object.freeze(r)}:{},...i&&i.length?{data:i}:{}})}function TNe(t,e,n){if(!e||!AO(e))return{blockhash:t,lastValidBlockHeight:2n**64n-1n};{const r=e.accounts[0].address;C3(r);const i=e.accounts[2].address;return C3(i),{nonce:t,nonceAccountAddress:r,nonceAuthorityAddress:i}}}function yze(t,e){const n=t.staticAccounts[0];if(!n)throw new ds(v4e);const r=ANe(t),i="addressTableLookups"in t&&t.addressTableLookups!==void 0&&t.addressTableLookups.length>0?SNe(t.addressTableLookups,{}):[],s=[...r,...i],a=t.instructions.map(d=>xNe(d,s)),c=a[0],u=TNe(t.lifetimeToken,c);return Rf(yNe({version:t.version}),d=>wNe(n,d),d=>a.reduce((h,p)=>_Ne(p,h),d),d=>"blockhash"in u?z4e(u,d):bNe(u,d))}var INe=5663015,CNe=5663016,ONe=5663017,kNe=8078e3,RNe=8078001,NNe=8078011,$Ne=8078013,PNe=8078014;function RG(t){return Array.isArray(t)?"%5B"+t.map(RG).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function DNe([t,e]){return`${t}=${RG(e)}`}function MNe(t){const e=Object.entries(t).map(DNe).join("&");return btoa(e)}function UNe(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${MNe(e)}'`),`${n}\``}}var Vu=class extends Error{cause=this.cause;context;constructor(...[e,n]){let r,i;n&&Object.entries(Object.getOwnPropertyDescriptors(n)).forEach(([a,c])=>{a==="cause"?i={cause:c.value}:(r===void 0&&(r={__code:e}),Object.defineProperty(r,a,c))});const s=UNe(e,r);super(s,i),this.context=Object.freeze(r===void 0?{__code:e}:r),this.name="SolanaError"}};function BNe(t,e){if(t.length>=e)return t;const n=new Uint8Array(e).fill(0);return n.set(t),n}var LNe=(t,e)=>BNe(t.length<=e?t:t.slice(0,e),e);function jNe(t,e){return t.length===e.length&&t.every((n,r)=>n===e[r])}function zNe(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}function SO(t){return Object.freeze({...t,encode:e=>{const n=new Uint8Array(zNe(e,t));return t.write(e,n,0),n}})}function Jp(t){return Object.freeze({...t,decode:(e,n=0)=>t.read(e,n)[0]})}function xO(t){return"fixedSize"in t&&typeof t.fixedSize=="number"}function FNe(t){return!xO(t)}function qNe(t,e,n=0){if(e.length-n<=0)throw new Vu(kNe,{codecDescription:t})}function NG(t,e,n,r=0){const i=n.length-r;if(i<e)throw new Vu(RNe,{bytesLength:i,codecDescription:t,expected:e})}function IU(t,e,n){if(e<0||e>n)throw new Vu(PNe,{bytesLength:n,codecDescription:t,offset:e})}function WNe(t,e){return SO({fixedSize:e,write:(n,r,i)=>{const s=t.encode(n),a=s.length>e?s.slice(0,e):s;return r.set(a,i),i+e}})}function VNe(t,e){return Jp({fixedSize:e,read:(n,r)=>{NG("fixCodecSize",e,n,r),(r>0||n.length>e)&&(n=n.slice(r,r+e)),xO(t)&&(n=LNe(n,t.fixedSize));const[i]=t.read(n,0);return[i,r+e]}})}function HNe(t,e){return Jp({...t,read:(n,r)=>{const i=d=>GNe(d,n.length),s=e.preOffset?e.preOffset({bytes:n,preOffset:r,wrapBytes:i}):r;IU("offsetDecoder",s,n.length);const[a,c]=t.read(n,s),u=e.postOffset?e.postOffset({bytes:n,newPreOffset:s,postOffset:c,preOffset:r,wrapBytes:i}):c;return IU("offsetDecoder",u,n.length),[a,u]}})}function GNe(t,e){return e===0?0:(t%e+e)%e}function KNe(t,e){if(xO(t)){const n=e(t.fixedSize);if(n<0)throw new Vu($Ne,{bytesLength:n,codecDescription:"resizeDecoder"});return Jp({...t,fixedSize:n})}return t}function YNe(t,e){return HNe(KNe(t,n=>n+e),{postOffset:({postOffset:n})=>n+e})}function ZNe(t,e){return SO({...FNe(t)?{...t,getSizeFromValue:n=>t.getSizeFromValue(e(n))}:t,write:(n,r,i)=>t.write(e(n),r,i)})}function XNe(t,e){return Jp({...t,read:(n,r)=>{const[i,s]=t.read(n,r);return[e(i,n,r),s]}})}function JNe(t,e,n,r){if(r<e||r>n)throw new Vu(NNe,{codecDescription:t,max:n,min:e,value:r})}function QNe(t){return t?.endian!==1}function e$e(t){return Jp({fixedSize:t.size,read(e,n=0){qNe(t.name,e,n),NG(t.name,t.size,e,n);const r=new DataView(t$e(e,n,t.size));return[t.get(r,QNe(t.config)),n+t.size]}})}function t$e(t,e,n){const r=t.byteOffset+(e??0),i=n??t.byteLength;return t.buffer.slice(r,r+i)}var n$e=()=>SO({getSizeFromValue:t=>t<=127?1:t<=16383?2:3,maxSize:3,write:(t,e,n)=>{JNe("shortU16",0,65535,t);const r=[0];for(let i=0;;i+=1){const s=Number(t)>>i*7;if(s===0)break;const a=127&s;r[i]=a,i>0&&(r[i-1]|=128)}return e.set(r,n),n+r.length}}),$G=()=>Jp({maxSize:3,read:(t,e)=>{let n=0,r=0;for(;++r;){const i=r-1,s=t[e+i],a=127&s;if(n|=a<<i*7,(s&128)===0)break}return[n,e+r]}}),r$e=()=>e$e({get:t=>t.getUint8(0),name:"u8",size:1}),i$e=3610007,s$e=3704e3,a$e=3704001,o$e=3704004;function PG(t){return Array.isArray(t)?"%5B"+t.map(PG).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function c$e([t,e]){return`${t}=${PG(e)}`}function l$e(t){const e=Object.entries(t).map(c$e).join("&");return btoa(e)}function u$e(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${l$e(e)}'`),`${n}\``}}var x_=class extends Error{cause=this.cause;context;constructor(...[e,n]){let r,i;n&&Object.entries(Object.getOwnPropertyDescriptors(n)).forEach(([a,c])=>{a==="cause"?i={cause:c.value}:(r===void 0&&(r={__code:e}),Object.defineProperty(r,a,c))});const s=u$e(e,r);super(s,i),this.context=Object.freeze(r===void 0?{__code:e}:r),this.name="SolanaError"}},KE=Object.freeze({name:"Ed25519"});function d$e(t){return new Uint8Array([48,46,2,1,0,48,5,6,3,43,101,112,4,34,4,32,...t])}async function N3(t,e=!1){const n=t.byteLength;if(n!==32)throw new x_(a$e,{actualLength:n});const r=d$e(t);return await crypto.subtle.importKey("pkcs8",r,KE,e,["sign"])}async function f$e(t,e=!1){if(lG(),t.extractable===!1)throw new x_(i$e,{key:t});const n=await crypto.subtle.exportKey("jwk",t);return await crypto.subtle.importKey("jwk",{crv:"Ed25519",ext:e,key_ops:["verify"],kty:"OKP",x:n.x},"Ed25519",e,["verify"])}async function TO(t,e){gRe();const n=await crypto.subtle.sign(KE,t,e);return new Uint8Array(n)}async function h$e(t,e,n){return bRe(),await crypto.subtle.verify(KE,t,e,n)}async function p$e(t,e=!1){if(yRe(),t.byteLength!==64)throw new x_(s$e,{byteLength:t.byteLength});const[n,r]=await Promise.all([crypto.subtle.importKey("raw",t.slice(32),KE,!0,["verify"]),N3(t.slice(0,32),e)]),i=new Uint8Array(32);crypto.getRandomValues(i);const s=await TO(r,i);if(!await h$e(n,s,i))throw new x_(o$e);return{privateKey:r,publicKey:n}}async function y$e(t,e=!1){const n=N3(t,e),[r,i]=await Promise.all([(e?n:N3(t,!0)).then(async s=>await f$e(s,!0)),n]);return{privateKey:i,publicKey:r}}function m$e(t){const e=Object.values(t);if(e.length===0)throw new Vu(CNe);return e.map(n=>n||new Uint8Array(64).fill(0))}function g$e(){return ZNe(Pp(WNe(vO(),64),{size:n$e()}),m$e)}function DG(){return Wu([["signatures",g$e()],["messageBytes",vO()]])}function IO(){return XNe(Ob([["signatures",bf(VNe(O3(),64),{size:$G()})],["messageBytes",O3()]]),b$e)}function b$e(t){const{messageBytes:e,signatures:n}=t,r=s4e([TG(),YNe(r$e(),2),bf(xb(),{size:$G()})]),[i,s,a]=r.decode(e),c=a.slice(0,s);if(c.length!==n.length)throw new Vu(ONe,{numRequiredSignatures:s,signaturesLength:n.length,signerAddresses:c});const u={};return c.forEach((d,h)=>{const p=n[h];p.every(m=>m===0)?u[d]=null:u[d]=p}),{messageBytes:e,signatures:Object.freeze(u)}}function bze(t){const e=pNe(t),n=iNe().encode(e),r=e.staticAccounts.slice(0,e.header.numSignerAccounts),i={};for(const a of r)i[a]=null;let s;return j4e(t)?s={blockhash:t.lifetimeConstraint.blockhash,lastValidBlockHeight:t.lifetimeConstraint.lastValidBlockHeight}:kG(t)&&(s={nonce:t.lifetimeConstraint.nonce,nonceAccountAddress:t.instructions[0].accounts[0].address}),Object.freeze({...s?{lifetimeConstraint:s}:void 0,messageBytes:n,signatures:Object.freeze(i)})}async function w$e(t,e){let n,r;if(await Promise.all(t.map(async i=>{const s=await dG(i.publicKey),a=e.signatures[s];if(a===void 0){r||=new Set,r.add(s);return}if(r)return;const c=await TO(i.privateKey,e.messageBytes);a!==null&&jNe(c,a)||(n||={},n[s]=c)})),r&&r.size>0){const i=Object.keys(e.signatures);throw new Vu(INe,{expectedAddresses:i,unexpectedAddresses:[...r]})}return n?Object.freeze({...e,signatures:Object.freeze({...e.signatures,...n})}):e}function v$e(t){const e=DG().encode(t);return gO().decode(e)}function CU(t){return t!==null&&(typeof t=="object"||typeof t=="function")}function _$e(t){const e=new Set,n={deferreds:e,settled:!1};return Promise.resolve(t).then(r=>{for(const{resolve:i}of e)i(r);e.clear(),n.settled=!0},r=>{for(const{reject:i}of e)i(r);e.clear(),n.settled=!0}),n}var B6=new WeakMap;async function E$e(t){let e;return await new Promise((r,i)=>{e={reject:i,resolve:r};for(const s of t){if(!CU(s)){Promise.resolve(s).then(r,i);continue}let a=B6.get(s);a===void 0?(a=_$e(s),a.deferreds.add(e),B6.set(s,a)):a.settled?Promise.resolve(s).then(r,i):a.deferreds.add(e)}}).finally(()=>{for(const r of t)CU(r)&&B6.get(r).deferreds.delete(e)})}var A$e=8100003;function MG(t){return Array.isArray(t)?"%5B"+t.map(MG).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function S$e([t,e]){return`${t}=${MG(e)}`}function x$e(t){const e=Object.entries(t).map(S$e).join("&");return btoa(e)}function T$e(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${x$e(e)}'`),`${n}\``}}var I$e=class extends Error{cause=this.cause;context;constructor(...[e,n]){let r,i;n&&Object.entries(Object.getOwnPropertyDescriptors(n)).forEach(([a,c])=>{a==="cause"?i={cause:c.value}:(r===void 0&&(r={__code:e}),Object.defineProperty(r,a,c))});const s=T$e(e,r);super(s,i),this.context=Object.freeze(r===void 0?{__code:e}:r),this.name="SolanaError"}};function UG(t){return JSON.parse(C$e(t),(e,n)=>N$e(n)?R$e(n):n)}function C$e(t){const e=[];let n=!1;for(let r=0;r<t.length;r++){let i=!1;if(t[r]==="\\"&&(e.push(t[r++]),i=!i),t[r]==='"'){e.push(t[r]),i||(n=!n);continue}if(!n){const s=O$e(t,r);if(s?.length){r+=s.length-1,s.match(/\.|[eE]-/)?e.push(s):e.push(k$e(s));continue}}e.push(t[r])}return e.join("")}function O$e(t,e){const n=/^-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?/;if(!t[e]?.match(/[-\d]/))return null;const r=t.slice(e).match(n);return r?r[0]:null}function k$e(t){return`{"$n":"${t}"}`}function R$e({$n:t}){if(t.match(/[eE]/)){const[e,n]=t.split(/[eE]/);return BigInt(e)*BigInt(10)**BigInt(n)}return BigInt(t)}function N$e(t){return!!t&&typeof t=="object"&&"$n"in t&&typeof t.$n=="string"}var OU=0n;function $$e(){const t=OU;return OU++,t.toString()}function $3(t){return{id:$$e(),jsonrpc:"2.0",method:t.methodName,params:t.params}}function BG(t,e){return D$e(JSON.stringify(t,(n,r)=>typeof r=="bigint"?P$e(r):r,e))}function P$e(t){return{$n:`${t}`}}function D$e(t){return t.replace(/\{\s*"\$n"\s*:\s*"(-?\d+)"\s*\}/g,"$1")}function M$e(t){return U$e(t)}function U$e(t){return new Proxy(t.api,{defineProperty(){return!1},deleteProperty(){return!1},get(e,n,r){if(n!=="then")return function(...i){const s=n.toString(),a=Reflect.get(e,s,r);if(!a)throw new I$e(A$e,{method:s,params:i});const c=a(...i);return B$e(t,c)}}})}function B$e({transport:t},e){return{async send(n){return await e.execute({signal:n?.abortSignal,transport:t})}}}function L$e(t){return new Proxy({},{defineProperty(){return!1},deleteProperty(){return!1},get(...e){const[n,r]=e,i=r.toString();return function(...s){const a=Object.freeze({methodName:i,params:s}),c=t?.requestTransformer?t?.requestTransformer(a):a;return Object.freeze({execute:async({signal:u,transport:d})=>{const h=$3(c),p=await d({payload:h,signal:u});return t?.responseTransformer?t.responseTransformer(p,c):p}})}}})}function LG(t){return t==null||typeof t!="object"||Array.isArray(t)?!1:"jsonrpc"in t&&t.jsonrpc==="2.0"&&"method"in t&&typeof t.method=="string"&&"params"in t}var j$e=10,z$e=-32700,F$e=-32603,q$e=-32602,W$e=-32601,V$e=-32600,H$e=-32015,G$e=-32014,K$e=-32012,Y$e=-32010,Z$e=-32009,X$e=-32007,J$e=-32006,Q$e=-32004,kU=-32002,ePe=-32001,tPe=4615e3,nPe=4615026,rPe=705e4,iPe=7050030,sPe=7050031,aPe=7050035;function jG(t){return Array.isArray(t)?"%5B"+t.map(jG).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function oPe([t,e]){return`${t}=${jG(e)}`}function cPe(t){const e=Object.entries(t).map(oPe).join("&");return btoa(e)}function lPe(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${cPe(e)}'`),`${n}\``}}var o1=class extends Error{cause=this.cause;context;constructor(...[e,n]){let r,i;n&&Object.entries(Object.getOwnPropertyDescriptors(n)).forEach(([a,c])=>{a==="cause"?i={cause:c.value}:(r===void 0&&(r={__code:e}),Object.defineProperty(r,a,c))});const s=lPe(e,r);super(s,i),this.context=Object.freeze(r===void 0?{__code:e}:r),this.name="SolanaError"}};function zG(...t){"captureStackTrace"in Error&&typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(...t)}function FG({errorCodeBaseOffset:t,getErrorContext:e,orderedErrorNames:n,rpcEnumError:r},i){let s,a;typeof r=="string"?s=r:(s=Object.keys(r)[0],a=r[s]);const c=n.indexOf(s),u=t+c,d=e(u,s,a),h=new o1(u,d);return zG(h,i),h}var uPe=["GenericError","InvalidArgument","InvalidInstructionData","InvalidAccountData","AccountDataTooSmall","InsufficientFunds","IncorrectProgramId","MissingRequiredSignature","AccountAlreadyInitialized","UninitializedAccount","UnbalancedInstruction","ModifiedProgramId","ExternalAccountLamportSpend","ExternalAccountDataModified","ReadonlyLamportChange","ReadonlyDataModified","DuplicateAccountIndex","ExecutableModified","RentEpochModified","NotEnoughAccountKeys","AccountDataSizeChanged","AccountNotExecutable","AccountBorrowFailed","AccountBorrowOutstanding","DuplicateAccountOutOfSync","Custom","InvalidError","ExecutableDataModified","ExecutableLamportChange","ExecutableAccountNotRentExempt","UnsupportedProgramId","CallDepth","MissingAccount","ReentrancyNotAllowed","MaxSeedLengthExceeded","InvalidSeeds","InvalidRealloc","ComputationalBudgetExceeded","PrivilegeEscalation","ProgramEnvironmentSetupFailure","ProgramFailedToComplete","ProgramFailedToCompile","Immutable","IncorrectAuthority","BorshIoError","AccountNotRentExempt","InvalidAccountOwner","ArithmeticOverflow","UnsupportedSysvar","IllegalOwner","MaxAccountsDataAllocationsExceeded","MaxAccountsExceeded","MaxInstructionTraceLengthExceeded","BuiltinProgramsMustConsumeComputeUnits"];function qG(t,e){const n=Number(t);return FG({errorCodeBaseOffset:4615001,getErrorContext(r,i,s){return r===tPe?{errorName:i,index:n,...s!==void 0?{instructionErrorContext:s}:null}:r===nPe?{code:Number(s),index:n}:{index:n}},orderedErrorNames:uPe,rpcEnumError:e},qG)}var dPe=["AccountInUse","AccountLoadedTwice","AccountNotFound","ProgramAccountNotFound","InsufficientFundsForFee","InvalidAccountForFee","AlreadyProcessed","BlockhashNotFound","CallChainTooDeep","MissingSignatureForFee","InvalidAccountIndex","SignatureFailure","InvalidProgramForExecution","SanitizeFailure","ClusterMaintenance","AccountBorrowOutstanding","WouldExceedMaxBlockCostLimit","UnsupportedVersion","InvalidWritableAccount","WouldExceedMaxAccountCostLimit","WouldExceedAccountDataBlockLimit","TooManyAccountLocks","AddressLookupTableNotFound","InvalidAddressLookupTableOwner","InvalidAddressLookupTableData","InvalidAddressLookupTableIndex","InvalidRentPayingAccount","WouldExceedMaxVoteCostLimit","WouldExceedAccountDataTotalLimit","DuplicateInstruction","InsufficientFundsForRent","MaxLoadedAccountsDataSizeExceeded","InvalidLoadedAccountsDataSizeLimit","ResanitizationNeeded","ProgramExecutionTemporarilyRestricted","UnbalancedTransaction"];function WG(t){return typeof t=="object"&&"InstructionError"in t?qG(...t.InstructionError):FG({errorCodeBaseOffset:7050001,getErrorContext(e,n,r){if(e===rPe)return{errorName:n,...r!==void 0?{transactionErrorContext:r}:null};if(e===iPe)return{index:Number(r)};if(e===sPe||e===aPe)return{accountIndex:Number(r.account_index)}},orderedErrorNames:dPe,rpcEnumError:t},WG)}function VG(t){let e;if(fPe(t)){const{code:n,data:r,message:i}=t,s=Number(n);if(s===kU){const{err:a,...c}=r,u=a?{cause:WG(a)}:null;e=new o1(kU,{...c,...u})}else{let a;switch(s){case F$e:case q$e:case V$e:case W$e:case z$e:case K$e:case ePe:case Q$e:case G$e:case Y$e:case Z$e:case X$e:case J$e:case H$e:a={__serverMessage:i};break;default:typeof r=="object"&&!Array.isArray(r)&&(a=r)}e=new o1(s,a)}}else{const n=typeof t=="object"&&t!==null&&"message"in t&&typeof t.message=="string"?t.message:"Malformed JSON-RPC error with no message attribute";e=new o1(j$e,{error:t,message:n})}return zG(e,VG),e}function fPe(t){return typeof t=="object"&&t!==null&&"code"in t&&"message"in t&&(typeof t.code=="number"||typeof t.code=="bigint")&&typeof t.message=="string"}function hPe(t){return typeof t=="bigint"?Number(t):t}var Me={};function HG(t){return function e(n,r){if(Array.isArray(n))return n.map((i,s)=>{const a={...r,keyPath:[...r.keyPath,s]};return e(i,a)});if(typeof n=="object"&&n!==null){const i={};for(const s in n){if(!Object.prototype.hasOwnProperty.call(n,s))continue;const a={...r,keyPath:[...r.keyPath,s]};i[s]=e(n[s],a)}return i}else return t.reduce((i,s)=>s(i,r),n)}}function GG(t,e){return n=>{const r=HG(t);return Object.freeze({...n,params:r(n.params,e)})}}function pPe(t,e){return n=>HG(t)(n,e)}function yPe(){return GG([hPe],{keyPath:[]})}function mPe({commitmentPropertyName:t,params:e,optionsObjectPositionInParams:n,overrideCommitment:r}){const i=e[n];if(i===void 0||i&&typeof i=="object"&&!Array.isArray(i)){if(i&&t in i){if(!i[t]||i[t]==="finalized"){const s=[...e],{[t]:a,...c}=i;return Object.keys(c).length>0?s[n]=c:n===s.length-1?s.length--:s[n]=void 0,s}}else if(r!=="finalized"){const s=[...e];return s[n]={...i,[t]:r},s}}return e}function gPe({defaultCommitment:t,optionsObjectPositionByMethod:e}){return n=>{const{params:r,methodName:i}=n;if(!Array.isArray(r))return n;const s=e[i];return s==null?n:Object.freeze({methodName:i,params:mPe({commitmentPropertyName:i==="sendTransaction"?"preflightCommitment":"commitment",optionsObjectPositionInParams:s,overrideCommitment:t,params:r})})}}function bPe(t){return(e,{keyPath:n})=>(typeof e=="bigint"&&t&&(e>Number.MAX_SAFE_INTEGER||e<-Number.MAX_SAFE_INTEGER)&&t(n,e),e)}function wPe(t){return e=>GG([bPe((...r)=>t(e,...r))],{keyPath:[]})(e)}var vPe={accountNotifications:1,blockNotifications:1,getAccountInfo:1,getBalance:1,getBlock:1,getBlockHeight:0,getBlockProduction:0,getBlocks:2,getBlocksWithLimit:2,getEpochInfo:0,getFeeForMessage:1,getInflationGovernor:0,getInflationReward:1,getLargestAccounts:0,getLatestBlockhash:0,getLeaderSchedule:1,getMinimumBalanceForRentExemption:1,getMultipleAccounts:1,getProgramAccounts:1,getSignaturesForAddress:1,getSlot:0,getSlotLeader:0,getStakeMinimumDelegation:0,getSupply:0,getTokenAccountBalance:1,getTokenAccountsByDelegate:2,getTokenAccountsByOwner:2,getTokenLargestAccounts:1,getTokenSupply:1,getTransaction:1,getTransactionCount:0,getVoteAccounts:0,isBlockhashValid:1,logsNotifications:1,programNotifications:1,requestAirdrop:2,sendTransaction:1,signatureNotifications:1,simulateTransaction:1};function KG(t){const e=t?.onIntegerOverflow;return n=>Rf(n,e?wPe(e):r=>r,yPe(),gPe({defaultCommitment:t?.defaultCommitment,optionsObjectPositionByMethod:vPe}))}function _Pe(t){return function(n,{keyPath:r}){return typeof n=="number"&&Number.isInteger(n)||typeof n=="bigint"?EPe(r,t)?Number(n):BigInt(n):n}}function EPe(t,e){return e.some(n=>{if(n.length!==t.length)return!1;for(let r=t.length-1;r>=0;r--){const i=t[r],s=n[r];if(s!==i&&(s!==Me||typeof i!="number"))return!1}return!0})}function YG(t){return pPe([_Pe(t)],{keyPath:[]})}function APe(){return t=>t.result}function SPe(){return t=>{const e=t;if("error"in e)throw VG(e.error);return e}}function xPe(t){return(e,n)=>{const r=n.methodName,i=t?.allowedNumericKeyPaths&&r?t.allowedNumericKeyPaths[r]:void 0;return Rf(e,s=>SPe()(s,n),s=>APe()(s,n),s=>YG(i??[])(s,n))}}function TPe(t){return(e,n)=>{const r=n.methodName,i=t?.allowedNumericKeyPaths&&r?t.allowedNumericKeyPaths[r]:void 0;return Rf(e,s=>YG(i??[])(s,n))}}var P3=[["data","parsed","info","tokenAmount","decimals"],["data","parsed","info","tokenAmount","uiAmount"],["data","parsed","info","rentExemptReserve","decimals"],["data","parsed","info","rentExemptReserve","uiAmount"],["data","parsed","info","delegatedAmount","decimals"],["data","parsed","info","delegatedAmount","uiAmount"],["data","parsed","info","extensions",Me,"state","olderTransferFee","transferFeeBasisPoints"],["data","parsed","info","extensions",Me,"state","newerTransferFee","transferFeeBasisPoints"],["data","parsed","info","extensions",Me,"state","preUpdateAverageRate"],["data","parsed","info","extensions",Me,"state","currentRate"]],Kh=[...P3,["data","parsed","info","lastExtendedSlotStartIndex"],["data","parsed","info","slashPenalty"],["data","parsed","info","warmupCooldownRate"],["data","parsed","info","decimals"],["data","parsed","info","numRequiredSigners"],["data","parsed","info","numValidSigners"],["data","parsed","info","stake","delegation","warmupCooldownRate"],["data","parsed","info","exemptionThreshold"],["data","parsed","info","burnPercent"],["data","parsed","info","commission"],["data","parsed","info","votes",Me,"confirmationCount"]],L6=[["index"],["instructions",Me,"accounts",Me],["instructions",Me,"programIdIndex"],["instructions",Me,"stackHeight"]],RU=[["addressTableLookups",Me,"writableIndexes",Me],["addressTableLookups",Me,"readonlyIndexes",Me],["header","numReadonlySignedAccounts"],["header","numReadonlyUnsignedAccounts"],["header","numRequiredSignatures"],["instructions",Me,"accounts",Me],["instructions",Me,"programIdIndex"],["instructions",Me,"stackHeight"]];function IPe(t){return L$e({requestTransformer:KG(t),responseTransformer:xPe({allowedNumericKeyPaths:CPe()})})}var j6;function CPe(){return j6||(j6={getAccountInfo:Kh.map(t=>["value",...t]),getBlock:[["transactions",Me,"meta","preTokenBalances",Me,"accountIndex"],["transactions",Me,"meta","preTokenBalances",Me,"uiTokenAmount","decimals"],["transactions",Me,"meta","postTokenBalances",Me,"accountIndex"],["transactions",Me,"meta","postTokenBalances",Me,"uiTokenAmount","decimals"],["transactions",Me,"meta","rewards",Me,"commission"],...L6.map(t=>["transactions",Me,"meta","innerInstructions",Me,...t]),...RU.map(t=>["transactions",Me,"transaction","message",...t]),["rewards",Me,"commission"]],getClusterNodes:[[Me,"featureSet"],[Me,"shredVersion"]],getInflationGovernor:[["initial"],["foundation"],["foundationTerm"],["taper"],["terminal"]],getInflationRate:[["foundation"],["total"],["validator"]],getInflationReward:[[Me,"commission"]],getMultipleAccounts:Kh.map(t=>["value",Me,...t]),getProgramAccounts:Kh.flatMap(t=>[["value",Me,"account",...t],[Me,"account",...t]]),getRecentPerformanceSamples:[[Me,"samplePeriodSecs"]],getTokenAccountBalance:[["value","decimals"],["value","uiAmount"]],getTokenAccountsByDelegate:P3.map(t=>["value",Me,"account",...t]),getTokenAccountsByOwner:P3.map(t=>["value",Me,"account",...t]),getTokenLargestAccounts:[["value",Me,"decimals"],["value",Me,"uiAmount"]],getTokenSupply:[["value","decimals"],["value","uiAmount"]],getTransaction:[["meta","preTokenBalances",Me,"accountIndex"],["meta","preTokenBalances",Me,"uiTokenAmount","decimals"],["meta","postTokenBalances",Me,"accountIndex"],["meta","postTokenBalances",Me,"uiTokenAmount","decimals"],["meta","rewards",Me,"commission"],...L6.map(t=>["meta","innerInstructions",Me,...t]),...RU.map(t=>["transaction","message",...t])],getVersion:[["feature-set"]],getVoteAccounts:[["current",Me,"commission"],["delinquent",Me,"commission"]],simulateTransaction:[["value","loadedAccountsDataSize"],...Kh.map(t=>["value","accounts",Me,...t]),...L6.map(t=>["value","innerInstructions",Me,...t])]}),j6}var OPe=81e5;function ZG(t){return Array.isArray(t)?"%5B"+t.map(ZG).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function kPe([t,e]){return`${t}=${ZG(e)}`}function RPe(t){const e=Object.entries(t).map(kPe).join("&");return btoa(e)}function NPe(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${RPe(e)}'`),`${n}\``}}var $Pe=class extends Error{cause=this.cause;context;constructor(...[e,n]){let r,i;n&&Object.entries(Object.getOwnPropertyDescriptors(n)).forEach(([a,c])=>{a==="cause"?i={cause:c.value}:(r===void 0&&(r={__code:e}),Object.defineProperty(r,a,c))});const s=NPe(e,r);super(s,i),this.context=Object.freeze(r===void 0?{__code:e}:r),this.name="SolanaError"}};function PPe(...t){"captureStackTrace"in Error&&typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(...t)}var DPe=8100002;function XG(t){return Array.isArray(t)?"%5B"+t.map(XG).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function MPe([t,e]){return`${t}=${XG(e)}`}function UPe(t){const e=Object.entries(t).map(MPe).join("&");return btoa(e)}function BPe(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${UPe(e)}'`),`${n}\``}}var LPe=class extends Error{cause=this.cause;context;constructor(...[e,n]){let r,i;n&&Object.entries(Object.getOwnPropertyDescriptors(n)).forEach(([a,c])=>{a==="cause"?i={cause:c.value}:(r===void 0&&(r={__code:e}),Object.defineProperty(r,a,c))});const s=BPe(e,r);super(s,i),this.context=Object.freeze(r===void 0?{__code:e}:r),this.name="SolanaError"}};function jPe(t){const e={};for(const n in t)e[n.toLowerCase()]=t[n];return e}function zPe(t){const{fromJson:e,headers:n,toJson:r,url:i}=t;let s;const a=n&&jPe(n);return async function({payload:u,signal:d}){const h=r?r(u):JSON.stringify(u),p={...s,body:h,headers:{...a,accept:"application/json","content-length":h.length.toString(),"content-type":"application/json; charset=utf-8"},method:"POST",signal:d},m=await fetch(i,p);if(!m.ok)throw new LPe(DPe,{headers:m.headers,message:m.statusText,statusCode:m.status});return e?e(await m.text(),u):await m.json()}}var FPe=["getAccountInfo","getBalance","getBlock","getBlockCommitment","getBlockHeight","getBlockProduction","getBlocks","getBlocksWithLimit","getBlockTime","getClusterNodes","getEpochInfo","getEpochSchedule","getFeeForMessage","getFirstAvailableBlock","getGenesisHash","getHealth","getHighestSnapshotSlot","getIdentity","getInflationGovernor","getInflationRate","getInflationReward","getLargestAccounts","getLatestBlockhash","getLeaderSchedule","getMaxRetransmitSlot","getMaxShredInsertSlot","getMinimumBalanceForRentExemption","getMultipleAccounts","getProgramAccounts","getRecentPerformanceSamples","getRecentPrioritizationFees","getSignaturesForAddress","getSignatureStatuses","getSlot","getSlotLeader","getSlotLeaders","getStakeMinimumDelegation","getSupply","getTokenAccountBalance","getTokenAccountsByDelegate","getTokenAccountsByOwner","getTokenLargestAccounts","getTokenSupply","getTransaction","getTransactionCount","getVersion","getVoteAccounts","index","isBlockhashValid","minimumLedgerSlot","requestAirdrop","sendTransaction","simulateTransaction"];function NU(t){return LG(t)&&FPe.includes(t.method)}function qPe(t){return zPe({...t,fromJson:(e,n)=>NU(n)?UG(e):JSON.parse(e),toJson:e=>NU(e)?BG(e):JSON.stringify(e)})}var WPe=Object.prototype.toString,VPe=Object.keys||function(t){const e=[];for(const n in t)e.push(n);return e};function Eg(t,e){let n,r,i,s,a,c,u;if(t===!0)return"true";if(t===!1)return"false";switch(typeof t){case"object":if(t===null)return null;if("toJSON"in t&&typeof t.toJSON=="function")return Eg(t.toJSON(),e);if(u=WPe.call(t),u==="[object Array]"){for(i="[",r=t.length-1,n=0;n<r;n++)i+=Eg(t[n],!0)+",";return r>-1&&(i+=Eg(t[n],!0)),i+"]"}else if(u==="[object Object]"){for(s=VPe(t).sort(),r=s.length,i="",n=0;n<r;)a=s[n],c=Eg(t[a],!1),c!==void 0&&(i&&(i+=","),i+=JSON.stringify(a)+":"+c),n++;return"{"+i+"}"}else return JSON.stringify(t);case"function":case"undefined":return e?null:void 0;case"bigint":return`${t.toString()}n`;case"string":return JSON.stringify(t);default:return isFinite(t)?t:null}}function JG(t){const e=Eg(t,!1);if(e!==void 0)return""+e}function QG(t,e,n){let r="";if(typeof e[0]=="number"){const a=e[0]+1,c=a%10,u=a%100;c==1&&u!=11?r=a+"st":c==2&&u!=12?r=a+"nd":c==3&&u!=13?r=a+"rd":r=a+"th"}else r=`\`${e[0].toString()}\``;const i=e.length>1?e.slice(1).map(a=>typeof a=="number"?`[${a}]`:a).join("."):void 0,s=new $Pe(OPe,{argumentLabel:r,keyPath:e,methodName:t,optionalPathLabel:i?` at path \`${i}\``:"",value:n,...i!==void 0?{path:i}:void 0});return PPe(s,QG),s}var HPe={defaultCommitment:"confirmed",onIntegerOverflow(t,e,n){throw QG(t.methodName,e,n)}},GPe=globalThis.AbortController,$U;function PU(){return{}}function KPe(t,e){let n;return async function(i){const{payload:s,signal:a}=i,c=e(s);if(c===void 0)return await t(i);if(n||(queueMicrotask(()=>{n=void 0}),n={}),n[c]==null){const d=new GPe,h=(async()=>{try{return await t({...i,signal:d.signal})}catch(p){if(p===($U||=PU()))return;throw p}})();n[c]={abortController:d,numConsumers:0,responsePromise:h}}const u=n[c];if(u.numConsumers++,a){const d=u.responsePromise;return await new Promise((h,p)=>{const m=g=>{a.removeEventListener("abort",m),u.numConsumers-=1,queueMicrotask(()=>{u.numConsumers===0&&u.abortController.abort($U||=PU())}),p(g.target.reason)};a.addEventListener("abort",m),d.then(h).catch(p).finally(()=>{a.removeEventListener("abort",m)})})}else return await u.responsePromise}}function YPe(t){return LG(t)?JG([t.method,t.params]):void 0}function ZPe(t){const e={};for(const n in t)e[n.toLowerCase()]=t[n];return e}function XPe(t){return Rf(qPe({...t,headers:{...t.headers?ZPe(t.headers):void 0,"solana-client":"js/5.1.0"}}),e=>KPe(e,YPe))}function eK(t,e){return JPe(XPe({url:t,...e}))}function JPe(t){return M$e({api:IPe(HPe),transport:t})}var QPe=10,eDe=-32700,tDe=-32603,nDe=-32602,rDe=-32601,iDe=-32600,sDe=-32015,aDe=-32014,oDe=-32012,cDe=-32010,lDe=-32009,uDe=-32007,dDe=-32006,fDe=-32004,DU=-32002,hDe=-32001,pDe=4615e3,yDe=4615026,mDe=705e4,gDe=7050030,bDe=7050031,wDe=7050035,vDe=819e4,_De=8190001,EDe=9900004;function tK(t){return Array.isArray(t)?"%5B"+t.map(tK).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function ADe([t,e]){return`${t}=${tK(e)}`}function SDe(t){const e=Object.entries(t).map(ADe).join("&");return btoa(e)}function xDe(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${SDe(e)}'`),`${n}\``}}var Zd=class extends Error{cause=this.cause;context;constructor(...[e,n]){let r,i;n&&Object.entries(Object.getOwnPropertyDescriptors(n)).forEach(([a,c])=>{a==="cause"?i={cause:c.value}:(r===void 0&&(r={__code:e}),Object.defineProperty(r,a,c))});const s=xDe(e,r);super(s,i),this.context=Object.freeze(r===void 0?{__code:e}:r),this.name="SolanaError"}};function nK(...t){"captureStackTrace"in Error&&typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(...t)}function rK({errorCodeBaseOffset:t,getErrorContext:e,orderedErrorNames:n,rpcEnumError:r},i){let s,a;typeof r=="string"?s=r:(s=Object.keys(r)[0],a=r[s]);const c=n.indexOf(s),u=t+c,d=e(u,s,a),h=new Zd(u,d);return nK(h,i),h}var TDe=["GenericError","InvalidArgument","InvalidInstructionData","InvalidAccountData","AccountDataTooSmall","InsufficientFunds","IncorrectProgramId","MissingRequiredSignature","AccountAlreadyInitialized","UninitializedAccount","UnbalancedInstruction","ModifiedProgramId","ExternalAccountLamportSpend","ExternalAccountDataModified","ReadonlyLamportChange","ReadonlyDataModified","DuplicateAccountIndex","ExecutableModified","RentEpochModified","NotEnoughAccountKeys","AccountDataSizeChanged","AccountNotExecutable","AccountBorrowFailed","AccountBorrowOutstanding","DuplicateAccountOutOfSync","Custom","InvalidError","ExecutableDataModified","ExecutableLamportChange","ExecutableAccountNotRentExempt","UnsupportedProgramId","CallDepth","MissingAccount","ReentrancyNotAllowed","MaxSeedLengthExceeded","InvalidSeeds","InvalidRealloc","ComputationalBudgetExceeded","PrivilegeEscalation","ProgramEnvironmentSetupFailure","ProgramFailedToComplete","ProgramFailedToCompile","Immutable","IncorrectAuthority","BorshIoError","AccountNotRentExempt","InvalidAccountOwner","ArithmeticOverflow","UnsupportedSysvar","IllegalOwner","MaxAccountsDataAllocationsExceeded","MaxAccountsExceeded","MaxInstructionTraceLengthExceeded","BuiltinProgramsMustConsumeComputeUnits"];function iK(t,e){const n=Number(t);return rK({errorCodeBaseOffset:4615001,getErrorContext(r,i,s){return r===pDe?{errorName:i,index:n,...s!==void 0?{instructionErrorContext:s}:null}:r===yDe?{code:Number(s),index:n}:{index:n}},orderedErrorNames:TDe,rpcEnumError:e},iK)}var IDe=["AccountInUse","AccountLoadedTwice","AccountNotFound","ProgramAccountNotFound","InsufficientFundsForFee","InvalidAccountForFee","AlreadyProcessed","BlockhashNotFound","CallChainTooDeep","MissingSignatureForFee","InvalidAccountIndex","SignatureFailure","InvalidProgramForExecution","SanitizeFailure","ClusterMaintenance","AccountBorrowOutstanding","WouldExceedMaxBlockCostLimit","UnsupportedVersion","InvalidWritableAccount","WouldExceedMaxAccountCostLimit","WouldExceedAccountDataBlockLimit","TooManyAccountLocks","AddressLookupTableNotFound","InvalidAddressLookupTableOwner","InvalidAddressLookupTableData","InvalidAddressLookupTableIndex","InvalidRentPayingAccount","WouldExceedMaxVoteCostLimit","WouldExceedAccountDataTotalLimit","DuplicateInstruction","InsufficientFundsForRent","MaxLoadedAccountsDataSizeExceeded","InvalidLoadedAccountsDataSizeLimit","ResanitizationNeeded","ProgramExecutionTemporarilyRestricted","UnbalancedTransaction"];function sK(t){return typeof t=="object"&&"InstructionError"in t?iK(...t.InstructionError):rK({errorCodeBaseOffset:7050001,getErrorContext(e,n,r){if(e===mDe)return{errorName:n,...r!==void 0?{transactionErrorContext:r}:null};if(e===gDe)return{index:Number(r)};if(e===bDe||e===wDe)return{accountIndex:Number(r.account_index)}},orderedErrorNames:IDe,rpcEnumError:t},sK)}function aK(t){let e;if(CDe(t)){const{code:n,data:r,message:i}=t,s=Number(n);if(s===DU){const{err:a,...c}=r,u=a?{cause:sK(a)}:null;e=new Zd(DU,{...c,...u})}else{let a;switch(s){case tDe:case nDe:case iDe:case rDe:case eDe:case oDe:case hDe:case fDe:case aDe:case cDe:case lDe:case uDe:case dDe:case sDe:a={__serverMessage:i};break;default:typeof r=="object"&&!Array.isArray(r)&&(a=r)}e=new Zd(s,a)}}else{const n=typeof t=="object"&&t!==null&&"message"in t&&typeof t.message=="string"?t.message:"Malformed JSON-RPC error with no message attribute";e=new Zd(QPe,{error:t,message:n})}return nK(e,aK),e}function CDe(t){return typeof t=="object"&&t!==null&&"code"in t&&"message"in t&&(typeof t.code=="number"||typeof t.code=="bigint")&&typeof t.message=="string"}var ODe=99e5,kDe=9900001;function oK(t){return Array.isArray(t)?"%5B"+t.map(oK).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function RDe([t,e]){return`${t}=${oK(e)}`}function NDe(t){const e=Object.entries(t).map(RDe).join("&");return btoa(e)}function $De(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${NDe(e)}'`),`${n}\``}}var MU=class extends Error{cause=this.cause;context;constructor(...[e,n]){let r,i;n&&Object.entries(Object.getOwnPropertyDescriptors(n)).forEach(([a,c])=>{a==="cause"?i={cause:c.value}:(r===void 0&&(r={__code:e}),Object.defineProperty(r,a,c))});const s=$De(e,r);super(s,i),this.context=Object.freeze(r===void 0?{__code:e}:r),this.name="SolanaError"}},PDe=globalThis.AbortController,DDe=globalThis.EventTarget,UU;function BU(){return Symbol(void 0)}var z6=Symbol();function MDe({abortSignal:t,dataChannelName:e,dataPublisher:n,errorChannelName:r}){const i=new Map;function s(d){for(const[h,p]of i.entries())p.__hasPolled?(i.delete(h),p.onError(d)):p.publishQueue.push({__type:1,err:d})}const a=new PDe;t.addEventListener("abort",()=>{a.abort(),s(UU||=BU())});const c={signal:a.signal};let u=z6;return n.on(r,d=>{u===z6&&(u=d,a.abort(),s(d))},c),n.on(e,d=>{i.forEach((h,p)=>{if(h.__hasPolled){const{onData:m}=h;i.set(p,{__hasPolled:!1,publishQueue:[]}),m(d)}else h.publishQueue.push({__type:0,data:d})})},c),{async*[Symbol.asyncIterator](){if(t.aborted)return;if(u!==z6)throw u;const d=Symbol();i.set(d,{__hasPolled:!1,publishQueue:[]});try{for(;;){const h=i.get(d);if(!h)throw new MU(ODe);if(h.__hasPolled)throw new MU(kDe);const p=h.publishQueue;try{if(p.length){h.publishQueue=[];for(const m of p)if(m.__type===0)yield m.data;else throw m.err}else yield await new Promise((m,g)=>{i.set(d,{__hasPolled:!0,onData:m,onError:g})})}catch(m){if(m===(UU||=BU()))return;throw m}}}finally{i.delete(d)}}}}function cK(t){return{on(e,n,r){function i(s){if(s instanceof CustomEvent){const a=s.detail;n(a)}else n()}return t.addEventListener(e,i,r),()=>{t.removeEventListener(e,i)}}}}function UDe(t,e,n){let r;const i=new DDe,s=cK(i);return{...s,on(a,c,u){r||(r={dispose:t.on(e,g=>{const b=n(g);if(!b)return;const[v,E]=b;i.dispatchEvent(new CustomEvent(v,{detail:E}))}),numSubscribers:0}),r.numSubscribers++;const d=s.on(a,c,u);let h=!0;function p(){h&&(h=!1,u?.signal.removeEventListener("abort",p),r.numSubscribers--,r.numSubscribers===0&&(r.dispose(),r=void 0),d())}return u?.signal.addEventListener("abort",p),p}}}function BDe(t){return new Proxy(t.api,{defineProperty(){return!1},deleteProperty(){return!1},get(e,n,r){if(n!=="then")return function(...i){const s=n.toString(),a=Reflect.get(e,s,r);if(!a)throw new Zd(vDe,{notificationName:s});const c=a(...i);return LDe(t.transport,c)}}})}function LDe(t,e){return{async subscribe({abortSignal:n}){const r=await t({signal:n,...e});return MDe({abortSignal:n,dataChannelName:"notification",dataPublisher:r,errorChannelName:"error"})}}}function jDe(t){return new Proxy({},{defineProperty(){return!1},deleteProperty(){return!1},get(...e){const[n,r]=e,i=r.toString();return function(...s){const a={methodName:i,params:s},c=t.requestTransformer?t.requestTransformer(a):a;return{execute(u){return t.planExecutor({...u,request:c})},request:c}}}})}function zDe(t,e){return Object.freeze({...t,on(n,r,i){return n!=="message"?t.on(n,r,i):t.on("message",s=>r(e(s)),i)}})}function FDe(t,e){return Object.freeze({...t,send:n=>t.send(e(n))})}var qDe=globalThis.AbortController,D3=new WeakMap;function WDe(t,e){return lK(-1,t,e)}function VDe(t,e){lK(1,t,e)}function HDe(t){let e=D3.get(t);return e||D3.set(t,e={}),e}function lK(t,e,n){if(n===void 0)return;const r=HDe(e);!r[n]&&t>0&&(r[n]=0);const i=t+r[n];return i<=0?delete r[n]:r[n]=i,i}var LU=new WeakMap;function GDe(t,e,n){let r=LU.get(t);r||LU.set(t,r=new WeakMap);const i=n??t;let s=r.get(i);return s||r.set(i,s=UDe(t,"message",a=>{const c=a;if(!("method"in c))return;const u=n?n(c.params.result,e):c.params.result;return[`notification:${c.params.subscription}`,u]})),s}async function KDe({channel:t,responseTransformer:e,signal:n,subscribeRequest:r,unsubscribeMethodName:i}){let s;t.on("error",()=>{s=void 0,D3.delete(t)},{signal:n});const a=new Promise((p,m)=>{function g(){if(WDe(t,s)===0){const b=$3({methodName:i,params:[s]});s=void 0,t.send(b).catch(()=>{})}m(this.reason)}n.aborted?g.call(n):n.addEventListener("abort",g)}),c=$3(r);await t.send(c);const u=new Promise((p,m)=>{const g=new qDe;n.addEventListener("abort",g.abort.bind(g));const b={signal:g.signal};t.on("error",v=>{g.abort(),m(v)},b),t.on("message",v=>{v&&typeof v=="object"&&"id"in v&&v.id===c.id&&(g.abort(),"error"in v?m(aK(v.error)):p(v.result))},b)});if(s=await E$e([a,u]),s==null)throw new Zd(_De);VDe(t,s);const d=GDe(t,r,e),h=`notification:${s}`;return{on(p,m,g){switch(p){case"notification":return d.on(h,m,g);case"error":return t.on("error",m,g);default:throw new Zd(EDe,{channelName:p,supportedChannelNames:["notification","error"]})}}}}function YDe(t){const e=KG(t),n=TPe({allowedNumericKeyPaths:XDe()});return jDe({planExecutor({request:r,...i}){return KDe({...i,responseTransformer:n,subscribeRequest:{...r,methodName:r.methodName.replace(/Notifications$/,"Subscribe")},unsubscribeMethodName:r.methodName.replace(/Notifications$/,"Unsubscribe")})},requestTransformer:e})}function ZDe(t){return YDe(t)}var F6;function XDe(){return F6||(F6={accountNotifications:Kh.map(t=>["value",...t]),blockNotifications:[["value","block","transactions",Me,"meta","preTokenBalances",Me,"accountIndex"],["value","block","transactions",Me,"meta","preTokenBalances",Me,"uiTokenAmount","decimals"],["value","block","transactions",Me,"meta","postTokenBalances",Me,"accountIndex"],["value","block","transactions",Me,"meta","postTokenBalances",Me,"uiTokenAmount","decimals"],["value","block","transactions",Me,"meta","rewards",Me,"commission"],["value","block","transactions",Me,"meta","innerInstructions",Me,"index"],["value","block","transactions",Me,"meta","innerInstructions",Me,"instructions",Me,"programIdIndex"],["value","block","transactions",Me,"meta","innerInstructions",Me,"instructions",Me,"accounts",Me],["value","block","transactions",Me,"transaction","message","addressTableLookups",Me,"writableIndexes",Me],["value","block","transactions",Me,"transaction","message","addressTableLookups",Me,"readonlyIndexes",Me],["value","block","transactions",Me,"transaction","message","instructions",Me,"programIdIndex"],["value","block","transactions",Me,"transaction","message","instructions",Me,"accounts",Me],["value","block","transactions",Me,"transaction","message","header","numReadonlySignedAccounts"],["value","block","transactions",Me,"transaction","message","header","numReadonlyUnsignedAccounts"],["value","block","transactions",Me,"transaction","message","header","numRequiredSignatures"],["value","block","rewards",Me,"commission"]],programNotifications:Kh.flatMap(t=>[["value",Me,"account",...t],[Me,"account",...t]])}),F6}var JDe=81e5,QDe=8190002,M3=8190003,e9e=8190004;function uK(t){return Array.isArray(t)?"%5B"+t.map(uK).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function t9e([t,e]){return`${t}=${uK(e)}`}function n9e(t){const e=Object.entries(t).map(t9e).join("&");return btoa(e)}function r9e(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${n9e(e)}'`),`${n}\``}}function i9e(t,e){return t instanceof Error&&t.name==="SolanaError"?t.context.__code===e:!1}var Ag=class extends Error{cause=this.cause;context;constructor(...[t,e]){let n,r;e&&Object.entries(Object.getOwnPropertyDescriptors(e)).forEach(([s,a])=>{s==="cause"?r={cause:a.value}:(n===void 0&&(n={__code:t}),Object.defineProperty(n,s,a))});const i=r9e(t,n);super(i,r),this.context=Object.freeze(n===void 0?{__code:t}:n),this.name="SolanaError"}};function s9e(...t){"captureStackTrace"in Error&&typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(...t)}var a9e=globalThis.EventTarget,Am=globalThis.WebSocket,jU=1e3;function o9e({sendBufferHighWatermark:t,signal:e,url:n}){if(e.aborted)return Promise.reject(e.reason);let r,i=!1;const s=new Set;function a(){s.forEach(O=>{O()}),s.clear()}function c(){a(),i||v(e.reason),b.readyState!==Am.CLOSED&&b.readyState!==Am.CLOSING&&b.close(jU)}function u(O){a(),r?.onCancel(),e.removeEventListener("abort",c),b.removeEventListener("close",u),b.removeEventListener("error",d),b.removeEventListener("message",h),b.removeEventListener("open",g),!e.aborted&&!(O.wasClean&&O.code===jU)&&p.dispatchEvent(new CustomEvent("error",{detail:new Ag(M3,{cause:O})}))}function d(O){if(!e.aborted&&!i){const k=new Ag(e9e,{errorEvent:O});v(k),p.dispatchEvent(new CustomEvent("error",{detail:k}))}}function h(O){e.aborted||p.dispatchEvent(new CustomEvent("message",{detail:O.data}))}const p=new a9e,m=cK(p);function g(){i=!0,E({...m,async send(O){if(b.readyState!==Am.OPEN)throw new Ag(M3);if(!r&&b.bufferedAmount>t){let k;const S=new Promise((A,C)=>{const I=setInterval(()=>{(b.readyState!==Am.OPEN||!(b.bufferedAmount>t))&&(clearInterval(I),r=void 0,A())},16);k=()=>{r=void 0,clearInterval(I),C(new Ag(QDe))}});r={onCancel:k,promise:S}}if(r){if(ArrayBuffer.isView(O)&&!(O instanceof DataView)){const k=O.constructor;O=new k(O)}await r.promise}b.send(O)}})}const b=new Am(n);e.addEventListener("abort",c),b.addEventListener("close",u),b.addEventListener("error",d),b.addEventListener("message",h),b.addEventListener("open",g);let v,E;return new Promise((O,k)=>{v=k,E=O})}function dK(t,e,n){let r="";if(typeof e[0]=="number"){const a=e[0]+1,c=a%10,u=a%100;c==1&&u!=11?r=a+"st":c==2&&u!=12?r=a+"nd":c==3&&u!=13?r=a+"rd":r=a+"th"}else r=`\`${e[0].toString()}\``;const i=e.length>1?e.slice(1).map(a=>typeof a=="number"?`[${a}]`:a).join("."):void 0,s=new Ag(JDe,{argumentLabel:r,keyPath:e,methodName:t,optionalPathLabel:i?` at path \`${i}\``:"",value:n,...i!==void 0?{path:i}:void 0});return s9e(s,dK),s}var c9e={defaultCommitment:"confirmed",onIntegerOverflow(t,e,n){throw dK(t.methodName,e,n)}},CO=globalThis.AbortController,l9e={jsonrpc:"2.0",method:"ping"};function u9e({abortSignal:t,channel:e,intervalMs:n}){let r;function i(){e.send(l9e).catch(c=>{i9e(c,M3)&&a.abort()})}function s(){clearInterval(r),r=setInterval(i,n)}const a=new CO;return a.signal.addEventListener("abort",()=>{clearInterval(r)}),t.addEventListener("abort",()=>{a.abort()}),e.on("error",()=>{a.abort()},{signal:a.signal}),e.on("message",s,{signal:a.signal}),globalThis.navigator.onLine&&s(),globalThis.addEventListener("offline",function(){clearInterval(r)},{signal:a.signal}),globalThis.addEventListener("online",function(){i(),s()},{signal:a.signal}),{...e,send(...c){return a.signal.aborted||s(),e.send(...c)}}}function d9e(){return{entries:[],freeChannelIndex:-1}}function f9e(t,{maxSubscriptionsPerChannel:e,minChannels:n}){const r=d9e();function i(){if(r.entries.length<n){r.freeChannelIndex=-1;return}let s;for(let a=0;a<r.entries.length;a++){const c=(r.freeChannelIndex+a+2)%r.entries.length,u=r.entries[c];u.subscriptionCount<e&&(!s||s.subscriptionCount>=u.subscriptionCount)&&(s={poolIndex:c,subscriptionCount:u.subscriptionCount})}r.freeChannelIndex=s?.poolIndex??-1}return function({abortSignal:a}){let c;function u(){const d=r.entries.findIndex(h=>h===c);r.entries.splice(d,1),c.dispose(),i()}if(r.freeChannelIndex===-1){const d=new CO,h=t({abortSignal:d.signal});h.then(p=>{p.on("error",u,{signal:d.signal})}).catch(u),c={channel:h,dispose(){d.abort()},subscriptionCount:0},r.entries.push(c)}else c=r.entries[r.freeChannelIndex];return c.subscriptionCount++,a.addEventListener("abort",function(){c.subscriptionCount--,c.subscriptionCount===0?u():r.freeChannelIndex!==-1&&(r.freeChannelIndex--,i())}),i(),c.channel}}function h9e(t){return Rf(t,e=>zDe(e,UG),e=>FDe(e,BG))}function p9e(t){return y9e({...t,jsonSerializer:h9e})}function y9e(t){if(/^wss?:/i.test(t.url)===!1){const i=t.url.match(/^([^:]+):/);throw new DOMException(i?`Failed to construct 'WebSocket': The URL's scheme must be either 'ws' or 'wss'. '${i[1]}:' is not allowed.`:`Failed to construct 'WebSocket': The URL '${t.url}' is invalid.`)}const{intervalMs:e,...n}=t;return f9e((({abortSignal:i})=>o9e({...n,sendBufferHighWatermark:t.sendBufferHighWatermark??131072,signal:i}).then(t.jsonSerializer).then(s=>u9e({abortSignal:i,channel:s,intervalMs:e??5e3}))),{maxSubscriptionsPerChannel:t.maxSubscriptionsPerChannel??100,minChannels:t.minChannels??1})}function m9e(t){const e=new Map;return function(r){const{request:i,signal:s}=r,a=JG([i.methodName,i.params]);let c=e.get(a);if(!c){const u=new CO,d=t({...r,signal:u.signal});d.then(h=>{h.on("error",()=>{e.delete(a),u.abort()},{signal:u.signal})}).catch(()=>{}),e.set(a,c={abortController:u,dataPublisherPromise:d,numSubscribers:0})}return c.numSubscribers++,s.addEventListener("abort",()=>{c.numSubscribers--,c.numSubscribers===0&&queueMicrotask(()=>{c.numSubscribers===0&&(e.delete(a),c.abortController.abort())})},{signal:c.abortController.signal}),c.dataPublisherPromise}}function g9e({createChannel:t}){return Rf(b9e(t),e=>m9e(e))}function b9e(t){return(async({execute:e,signal:n})=>{const r=await t({abortSignal:n});return await e({channel:r,signal:n})})}function w9e(t,e){const n=g9e({createChannel:p9e({...e,url:t})});return v9e(n)}function zU(t,e){return w9e(t,e)}function v9e(t){return BDe({api:ZDe(c9e),transport:t})}function fK(t){return"modifyAndSignTransactions"in t&&typeof t.modifyAndSignTransactions=="function"}function hK(t){return"signTransactions"in t&&typeof t.signTransactions=="function"}function _9e(t){return"signAndSendTransactions"in t&&typeof t.signAndSendTransactions=="function"}function pK(t){return hK(t)||fK(t)||_9e(t)}function xze(t,e){Object.freeze(t);const n={...e,feePayer:t};return Object.freeze(n),n}async function yK(t){const e=await dG(t.publicKey);return Object.freeze({address:e,keyPair:t,signMessages:r=>Promise.all(r.map(async i=>Object.freeze({[e]:await TO(t.privateKey,i.content)}))),signTransactions:r=>Promise.all(r.map(async i=>{const s=await w$e([t],i);return Object.freeze({[e]:s.signatures[e]})}))})}async function E9e(t,e){return await yK(await p$e(t,e))}async function A9e(t,e){return await yK(await y$e(t,e))}var S9e="ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL",mK="TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA";function x9e(t){if(!t)throw new Error("Expected a Address.");return typeof t=="object"&&"address"in t?t.address:Array.isArray(t)?t[0]:t}function gK(t,e){return n=>{if(!n.value)return Object.freeze({address:t,role:_r.READONLY});const r=n.isWritable?_r.WRITABLE:_r.READONLY;return Object.freeze({address:x9e(n.value),role:FU(n.value)?p4e(r):r,...FU(n.value)?{signer:n.value}:{}})}}function FU(t){return!!t&&typeof t=="object"&&"address"in t&&pK(t)}async function Tze(t,e={}){const{programAddress:n="ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"}=e;return await RRe({programAddress:n,seeds:[lp().encode(t.owner),lp().encode(t.tokenProgram),lp().encode(t.mint)]})}var T9e=1;function I9e(){return pG(Wu([["discriminator",gG()]]),t=>({...t,discriminator:T9e}))}function Ize(t,e){const n=S9e,i={payer:{value:t.payer??null,isWritable:!0},ata:{value:t.ata??null,isWritable:!0},owner:{value:t.owner??null,isWritable:!1},mint:{value:t.mint??null,isWritable:!1},systemProgram:{value:t.systemProgram??null,isWritable:!1},tokenProgram:{value:t.tokenProgram??null,isWritable:!1}};i.tokenProgram.value||(i.tokenProgram.value="TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),i.systemProgram.value||(i.systemProgram.value="11111111111111111111111111111111");const s=gK(n);return Object.freeze({accounts:[s(i.payer),s(i.ata),s(i.owner),s(i.mint),s(i.systemProgram),s(i.tokenProgram)],data:I9e().encode({}),programAddress:n})}var C9e=3;function O9e(){return pG(Wu([["discriminator",gG()],["amount",d4e()]]),t=>({...t,discriminator:C9e}))}function Cze(t,e){const n=mK,i={source:{value:t.source??null,isWritable:!0},destination:{value:t.destination??null,isWritable:!0},authority:{value:t.authority??null,isWritable:!1}},s={...t},a=(s.multiSigners??[]).map(u=>({address:u.address,role:_r.READONLY_SIGNER,signer:u})),c=gK(n);return Object.freeze({accounts:[c(i.source),c(i.destination),c(i.authority),...a],data:O9e().encode(s),programAddress:n})}var k9e="TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb";Ej([Rn().transform(t=>t.replace(/[^0-9.-]+/g,"")),ga()]).pipe(loe.number().min(1e-4).max(999999999));var YE=Jo(["abstract","abstract-testnet","base-sepolia","base","avalanche-fuji","avalanche","iotex","solana-devnet","solana","sei","sei-testnet","polygon","polygon-amoy","peaq","story","educhain","skale-base-sepolia"]),R9e=["abstract","abstract-testnet","base-sepolia","base","avalanche-fuji","avalanche","iotex","sei","sei-testnet","polygon","polygon-amoy","peaq","story","educhain","skale-base-sepolia"],N9e=new Map([["abstract",2741],["abstract-testnet",11124],["base-sepolia",84532],["base",8453],["avalanche-fuji",43113],["avalanche",43114],["iotex",4689],["sei",1329],["sei-testnet",1328],["polygon",137],["polygon-amoy",80002],["peaq",3338],["story",1514],["educhain",41923],["skale-base-sepolia",324705682]]),bK=["solana-devnet","solana"];Object.fromEntries([...R9e,...bK].map(t=>[N9e.get(t),t]));var $9e={id:324705682,name:"SKALE Base Sepolia",nativeCurrency:{name:"Credits",symbol:"CREDITS",decimals:18},rpcUrls:{default:{http:["https://base-sepolia-testnet.skalenodes.com/v1/jubilant-horrible-ancha"]}},blockExplorers:{default:{name:"Blockscout",url:"https://base-sepolia-testnet-explorer.skalenodes.com",apiUrl:"https://base-sepolia-testnet-explorer.skalenodes.com/api"}}};function OO(t){const e=RO(t);return FI({chain:e,transport:Q_()}).extend(v1)}function P9e(){return OO("base-sepolia")}function D9e(){return OO("avalanche-fuji")}function kO(t,e){const n=RO(t),r=aae({chain:n,transport:Q_(),account:vke(e)});return wK(n)?r.extend(v1).extend(Tke()):r.extend(v1)}function M9e(t){return kO("base-sepolia",t)}function U9e(t){return kO("avalanche-fuji",t)}function B9e(t){return typeof t=="object"&&t!==null&&"chain"in t&&"transport"in t}function L9e(t){const e=t;return typeof t=="object"&&t!==null&&typeof e.address=="string"&&typeof e.type=="string"&&typeof e.sign=="function"&&typeof e.signMessage=="function"&&typeof e.signTypedData=="function"&&typeof e.signTransaction=="function"}function RO(t){if(!t)throw new Error("NETWORK environment variable is not set");switch(t){case"abstract":return Y8e;case"abstract-testnet":return Z8e;case"base":return KH;case"base-sepolia":return YH;case"avalanche":return ike;case"avalanche-fuji":return ske;case"sei":return fke;case"sei-testnet":return hke;case"polygon":return uke;case"polygon-amoy":return dke;case"peaq":return lke;case"story":return pke;case"educhain":return ake;case"iotex":return oke;case"iotex-testnet":return cke;case"skale-base-sepolia":return $9e;default:throw new Error(`Unsupported network: ${t}`)}}var j9e=new Set([2741,11124]);function wK(t){return j9e.has(t.id)}var z9e="https://api.devnet.solana.com",F9e="https://api.mainnet-beta.solana.com",q9e="wss://api.devnet.solana.com",W9e="wss://api.mainnet-beta.solana.com";function vK(t){return eK(t||z9e)}function _K(t){return eK(t||F9e)}function EK(t,e){if(t==="solana-devnet")return vK(e);if(t==="solana")return _K(e);throw new Error("Invalid network")}function V9e(t,e){if(t==="solana-devnet")return zU(e?qU(e):q9e);if(t==="solana")return zU(e?qU(e):W9e);throw new Error("Invalid network")}function qU(t){return t.startsWith("http")?t.replace("http","ws"):t}function H9e(t){if(!bK.find(e=>e===t))throw new Error(`Unsupported SVM network: ${t}`);return EK(t)}async function G9e(t){const e=ul.decode(t);if(e.length===64)return await E9e(e);if(e.length===32)return await A9e(e);throw new Error(`Unexpected key length: ${e.length}. Expected 32 or 64 bytes.`)}function K9e(t){return typeof t=="object"&&t!==null&&pK(t)}var Y9e={};yO(Y9e,{authorizationPrimaryType:()=>X9e,authorizationTypes:()=>Z9e,config:()=>L8e,createClientAvalancheFuji:()=>D9e,createClientSepolia:()=>P9e,createConnectedClient:()=>OO,createSigner:()=>kO,createSignerAvalancheFuji:()=>U9e,createSignerSepolia:()=>M9e,getChainFromNetwork:()=>RO,isAccount:()=>L9e,isSignerWallet:()=>B9e,isZkStackChain:()=>wK,usdcABI:()=>j8e});var Z9e={TransferWithAuthorization:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"value",type:"uint256"},{name:"validAfter",type:"uint256"},{name:"validBefore",type:"uint256"},{name:"nonce",type:"bytes32"}]},X9e="TransferWithAuthorization",J9e={};yO(J9e,{SvmAddressRegex:()=>NO});var NO=/^[1-9A-HJ-NP-Za-km-z]{32,44}$/,Q9e=/^[A-Za-z0-9+/]*={0,2}$/,eMe=18,U3=/^0x[0-9a-fA-F]{40}$/,$O=/^0x[a-fA-F0-9]{40}|[A-Za-z0-9][A-Za-z0-9-]{0,34}[A-Za-z0-9]$/,tMe=/^0x[0-9a-fA-F]{64}$/,nMe=/^0x[0-9a-fA-F]+$/,PO=["exact"],kb=[1],DO=["insufficient_funds","invalid_exact_evm_payload_authorization_valid_after","invalid_exact_evm_payload_authorization_valid_before","invalid_exact_evm_payload_authorization_value","invalid_exact_evm_payload_signature","invalid_exact_evm_payload_undeployed_smart_wallet","invalid_exact_evm_payload_recipient_mismatch","invalid_exact_svm_payload_transaction","invalid_exact_svm_payload_transaction_amount_mismatch","invalid_exact_svm_payload_transaction_create_ata_instruction","invalid_exact_svm_payload_transaction_create_ata_instruction_incorrect_payee","invalid_exact_svm_payload_transaction_create_ata_instruction_incorrect_asset","invalid_exact_svm_payload_transaction_instructions","invalid_exact_svm_payload_transaction_instructions_length","invalid_exact_svm_payload_transaction_instructions_compute_limit_instruction","invalid_exact_svm_payload_transaction_instructions_compute_price_instruction","invalid_exact_svm_payload_transaction_instructions_compute_price_instruction_too_high","invalid_exact_svm_payload_transaction_instruction_not_spl_token_transfer_checked","invalid_exact_svm_payload_transaction_instruction_not_token_2022_transfer_checked","invalid_exact_svm_payload_transaction_fee_payer_included_in_instruction_accounts","invalid_exact_svm_payload_transaction_fee_payer_transferring_funds","invalid_exact_svm_payload_transaction_not_a_transfer_instruction","invalid_exact_svm_payload_transaction_receiver_ata_not_found","invalid_exact_svm_payload_transaction_sender_ata_not_found","invalid_exact_svm_payload_transaction_simulation_failed","invalid_exact_svm_payload_transaction_transfer_to_incorrect_ata","invalid_network","invalid_payload","invalid_payment_requirements","invalid_scheme","invalid_payment","payment_expired","unsupported_scheme","invalid_x402_version","invalid_transaction_state","invalid_x402_version","settle_exact_svm_block_height_exceeded","settle_exact_svm_transaction_confirmation_timed_out","unsupported_scheme","unexpected_settle_error","unexpected_verify_error"],c1=t=>Number.isInteger(Number(t))&&Number(t)>=0,rMe=t=>e=>e.length<=t,MO=Rn().regex(U3).or(Rn().regex(NO)),iMe=Rn().regex($O).or(Rn().regex(NO)),Rb=Kr({scheme:Jo(PO),network:YE,maxAmountRequired:Rn().refine(c1),resource:Rn().url(),description:Rn(),mimeType:Rn(),outputSchema:Hd(vp()).optional(),payTo:MO,maxTimeoutSeconds:ga().int(),asset:iMe,extra:Hd(vp()).optional()}),sMe=Kr({from:Rn().regex(U3),to:Rn().regex(U3),value:Rn().refine(c1).refine(rMe(eMe)),validAfter:Rn().refine(c1),validBefore:Rn().refine(c1),nonce:Rn().regex(tMe)}),aMe=Kr({signature:Rn().regex(nMe),authorization:sMe}),oMe=Kr({transaction:Rn().regex(Q9e)}),AK=Kr({x402Version:ga().refine(t=>kb.includes(t)),scheme:Jo(PO),network:YE,payload:Ej([aMe,oMe])});Kr({x402Version:ga().refine(t=>kb.includes(t)),error:Jo(DO).optional(),accepts:eE(Rb).optional(),payer:Rn().regex($O).optional()});var cMe=Jo(["GET","POST","PUT","DELETE","PATCH","OPTIONS","HEAD"]),lMe=Kr({type:coe("http"),method:cMe,queryParams:Hd(Rn(),Rn()).optional(),bodyType:Jo(["json","form-data","multipart-form-data","text","binary"]).optional(),bodyFields:Hd(Rn(),vp()).optional(),headerFields:Hd(Rn(),vp()).optional()});ooe("type",[lMe]);var uMe=Kr({resource:Rn(),type:Jo(["http"]),x402Version:ga().refine(t=>kb.includes(t)),accepts:eE(Rb),lastUpdated:aoe(),metadata:Hd(vp()).optional()});Kr({paymentPayload:AK,paymentRequirements:Rb});Kr({paymentPayload:AK,paymentRequirements:Rb});Kr({isValid:_j(),invalidReason:Jo(DO).optional(),payer:MO.optional()});Kr({success:_j(),errorReason:Jo(DO).optional(),payer:MO.optional(),transaction:Rn().regex($O),network:YE});Kr({type:Rn().optional(),limit:ga().optional(),offset:ga().optional()});Kr({x402Version:ga().refine(t=>kb.includes(t)),items:eE(uMe),pagination:Kr({limit:ga(),offset:ga(),total:ga()})});var dMe=Kr({x402Version:ga().refine(t=>kb.includes(t)),scheme:Jo(PO),network:YE,extra:Hd(vp()).optional()});Kr({kinds:eE(dMe)});var fMe={};yO(fMe,{createDevnetRpcClient:()=>vK,createMainnetRpcClient:()=>_K,createSignerFromBase58:()=>G9e,createSvmConnectedClient:()=>H9e,decodeTransactionFromPayload:()=>hMe,getRpcClient:()=>EK,getRpcSubscriptions:()=>V9e,getTokenPayerFromTransaction:()=>pMe,isSignerWallet:()=>K9e,signAndSimulateTransaction:()=>yMe,signTransactionWithSigner:()=>SK});function hMe(t){try{const n=Dke().encode(t.transaction);return IO().decode(n)}catch(e){throw console.error("error",e),new Error("invalid_exact_svm_payload_transaction")}}function pMe(t){const e=sNe().decode(t.messageBytes),n=e.staticAccounts??[],r=e.instructions??[];for(const i of r){const s=i.programAddressIndex,a=n[s].toString();if(a===mK.toString()||a===k9e.toString()){const c=i.accountIndices??[];if(c.length>=4){const u=c[3],d=n[u].toString();if(d)return d}}}return""}async function yMe(t,e,n){const r=await SK(t,e),i=v$e(r),s={sigVerify:!0,replaceRecentBlockhash:!1,commitment:"confirmed",encoding:"base64",accounts:void 0,innerInstructions:void 0,minContextSlot:void 0};return await n.simulateTransaction(i,s).send()}async function SK(t,e){if(fK(t)){const[n]=await t.modifyAndSignTransactions([e]);if(!n)throw new Error("transaction_signer_failed_to_return_transaction");return n}if(hK(t)){const[n]=await t.signTransactions([e]);if(!n)throw new Error("transaction_signer_failed_to_return_signatures");return mMe(e,n)}throw new Error("transaction_signer_must_support_offline_signing")}function mMe(t,e){return Object.freeze({...t,signatures:Object.freeze({...t.signatures,...e})})}Kr({paymentHeader:Rn(),paymentRequirements:Rb});const xK=()=>{let{walletProxy:t,client:e}=Ia();return Y.useMemo((()=>({signWithUserSigner:async({message:n,targetAppId:r})=>{if(!t)throw Error("Wallet proxy not initialized");let i=await e.getAccessToken();if(!i)throw Error("User must be authenticated");let{signature:s}=await t.signWithUserSigner({accessToken:i,message:n,targetAppId:r});return{signature:s}}})),[t,e])};class Au{static parse(e){try{return new Au(e)}catch{return null}}static throwIfNotWellFormedJwt(e){return Q6(e),e}get subject(){return this._decoded.sub}get expiration(){return this._decoded.exp}get issuer(){return this._decoded.iss}get audience(){return this._decoded.aud}isExpired(e=0){return Date.now()>=1e3*(this.expiration-e)}constructor(e){this.value=e,this._decoded=Q6(e)}}class UO extends Au{static parse(e){try{return new UO(e)}catch{return null}}get appId(){return this._decoded.aid?this._decoded.aid:this.audience}}const Oze=({style:t,...e})=>he.jsxs("svg",{viewBox:"0 0 1024 1024",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"28px",width:"28px",...t},...e,children:[he.jsx("rect",{width:"1024",height:"1024",fill:"#0052FF",rx:100,ry:100}),he.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z",fill:"white"})]}),gMe="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PScwIDAgMTAyNCAxMDI0JyBmaWxsPSdub25lJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHN0eWxlPSdoZWlnaHQ6MjhweDt3aWR0aDoyOHB4Jz48cmVjdCB3aWR0aD0nMTAyNCcgaGVpZ2h0PScxMDI0JyBmaWxsPScjMDA1MkZGJyByeD0nMTAwJyByeT0nMTAwJz48L3JlY3Q+PHBhdGggZmlsbC1ydWxlPSdldmVub2RkJyBjbGlwLXJ1bGU9J2V2ZW5vZGQnIGQ9J00xNTIgNTEyQzE1MiA3MTAuODIzIDMxMy4xNzcgODcyIDUxMiA4NzJDNzEwLjgyMyA4NzIgODcyIDcxMC44MjMgODcyIDUxMkM4NzIgMzEzLjE3NyA3MTAuODIzIDE1MiA1MTIgMTUyQzMxMy4xNzcgMTUyIDE1MiAzMTMuMTc3IDE1MiA1MTJaTTQyMCAzOTZDNDA2Ljc0NSAzOTYgMzk2IDQwNi43NDUgMzk2IDQyMFY2MDRDMzk2IDYxNy4yNTUgNDA2Ljc0NSA2MjggNDIwIDYyOEg2MDRDNjE3LjI1NSA2MjggNjI4IDYxNy4yNTUgNjI4IDYwNFY0MjBDNjI4IDQwNi43NDUgNjE3LjI1NSAzOTYgNjA0IDM5Nkg0MjBaJyBmaWxsPSd3aGl0ZSc+PC9wYXRoPjwvc3ZnPg==",bMe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAALZJREFUaEPtmjEOhDAMBNc/O14GvOzys3CAKK6eAlmaVGl2Zc+kTOU685vkc9/bnD2prZK5/TZY24z9P+g4F5hNh7/GdoG37WlAA5CATwgCxHENYISwQAMQII5rACOEBRqAAHFcAxghLNAABIjjGsAIYYEGIEAc1wBGCAs0AAHiuAYwQligAQgQxzWAEcICDUCAOK4BjBAWaAACxHENYISwQAMQII6fBjr+VHkW3+u+tfyxMpJaDgYzYxb/ALZVAAAAAElFTkSuQmCC";let Rh,Sm;class wMe extends Af{async initialize(){await this.importPromise,await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}disconnect(){this.proxyProvider.walletProvider.disconnect(),this.onDisconnect()}get walletBranding(){return{name:this.displayName,icon:bMe,id:"com.coinbase.wallet"}}async promptConnection(){try{await this.importPromise;let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new zn("Unable to retrieve accounts");this.connected=!0,await this.syncAccounts([e[0]])}catch(e){throw zu(e)}}constructor(e,n,r,i,s){super("base_account",e,n,r),this.connectorType="base_account",this.walletClientType="base_account",this.displayName="Base",this.setBaseAccountSdk=s,this.proxyProvider=new Sf(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.baseAccountConfig={...i,appChainIds:[n.id].concat(e.map((a=>a.id)))},Rh?(this.proxyProvider.setWalletProvider(Rh.getProvider()),this.setBaseAccountSdk(Rh)):this.importPromise=Fe(()=>import("./index-BeVI3Cw6.js"),__vite__mapDeps([0,1,2])).then((({createBaseAccountSDK:a})=>{Rh=a(this.baseAccountConfig),this.proxyProvider.setWalletProvider(Rh.getProvider()),this.setBaseAccountSdk(Rh)})).catch(console.error)}}let vMe=[1,11155111,137,10,8453,84532,42161,7777777,43114,56];class _Me extends Af{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}disconnect(){this.proxyProvider.walletProvider.disconnect(),this.onDisconnect()}get walletBranding(){return{name:this.displayName,icon:gMe,id:"com.coinbase.wallet"}}async promptConnection(){try{let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new zn("Unable to retrieve accounts");this.connected=!0,await this.syncAccounts([e[0]])}catch(e){throw zu(e)}}updateConnectionPreference(e){this.coinbaseWalletConfig={...this.coinbaseWalletConfig,preference:{...this.coinbaseWalletConfig.preference,options:e}},this.walletClientType=e==="smartWalletOnly"?"coinbase_smart_wallet":"coinbase_wallet",Sm=hP({...this.coinbaseWalletConfig}),this.proxyProvider.setWalletProvider(Sm.getProvider())}constructor(e,n,r,i){if(super("coinbase_wallet",e,n,r),this.connectorType="coinbase_wallet",this.displayName="Coinbase Wallet",this.proxyProvider=new Sf(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.coinbaseWalletConfig={...i,appChainIds:[n.id].concat(e.map((s=>s.id)))},this.walletClientType=this.coinbaseWalletConfig.preference?.options==="smartWalletOnly"?"coinbase_smart_wallet":"coinbase_wallet",this.walletClientType==="coinbase_smart_wallet"&&(this.displayName="Coinbase Smart Wallet"),!Sm){let s=this.coinbaseWalletConfig.preference?.options!=="eoaOnly"?(this.coinbaseWalletConfig.appChainIds??[]).filter((a=>!vMe.includes(a))):[];s.length>0&&!s.every((a=>MJ.has(a)))&&console.info(`The configured chains are not supported by Coinbase Smart Wallet: ${s.join(", ")}`),Sm=hP(this.coinbaseWalletConfig)}this.proxyProvider.setWalletProvider(Sm.getProvider())}}const EMe=({...t})=>he.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:he.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.37126 11.0323C2.37126 12.696 3.90598 13.4421 5.40654 13.4468C8.91753 13.4468 12.8021 11.2897 12.7819 7.67984C12.7673 5.07728 10.3748 2.86167 7.54357 2.88296C4.8495 2.88296 2.21821 4.6411 2.21803 7.03628C2.21803 7.67951 2.58722 8.30178 3.55231 8.37184C2.74763 9.16826 2.37126 10.1225 2.37126 11.0323ZM7.55283 8.68012C8.11562 8.68012 8.57186 8.13217 8.57186 7.45624C8.57186 6.78032 8.11562 6.23237 7.55283 6.23237C6.99003 6.23237 6.53379 6.78032 6.53379 7.45624C6.53379 8.13217 6.99003 8.68012 7.55283 8.68012ZM10.4747 8.68012C11.0375 8.68012 11.4937 8.13217 11.4937 7.45625C11.4937 6.78032 11.0375 6.23237 10.4747 6.23237C9.91186 6.23237 9.45562 6.78032 9.45562 7.45625C9.45562 8.13217 9.91186 8.68012 10.4747 8.68012Z",fill:t.color||"var(--privy-color-foreground-3)"})});class WU extends Af{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return await this.isConnected()?(await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[l5(e?.chainId||"0x1")]}),this.getConnectedWallet()):null}get walletBranding(){return{name:"Privy Wallet",icon:EMe,id:"io.privy.wallet"}}disconnect(){this.connected=!1}async promptConnection(){}constructor({provider:e,chains:n,defaultChain:r,rpcConfig:i,imported:s,walletIndex:a}){super("privy",n,r,i),this.connectorType="embedded",this.proxyProvider=e,this.walletIndex=a,s&&(this.connectorType="embedded_imported"),this.subscribeListeners()}}async function In(){let t=FK();return t?t.getAccessToken():Promise.resolve(nt.get(jv)||nt.get(dg)||null)}const AMe=["eth_sign","eth_populateTransactionRequest","eth_signTransaction","personal_sign","eth_signTypedData_v4","csw_signUserOperation","secp256k1_sign"];function N0(t){return t?{"privy-ui":"t"}:void 0}class Yh{async authenticate(){if(!this.api)throw new se("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode)throw new se("Email and email code must be set prior to calling authenticate.");try{return await this.api.post(yhe,{email:this.meta.email,code:this.meta.emailCode,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw Gt(e)}}async link(){if(!this.api)throw new se("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode)throw new se("Email and email code must be set prior to calling authenticate.");try{return await this.api.post(mhe,{email:this.meta.email,code:this.meta.emailCode})}catch(e){throw Gt(e)}}async sendCodeEmail({email:e,captchaToken:n,withPrivyUi:r}){if(!this.api)throw new se("Auth flow has no API instance");if(e&&(this.meta.email=e),n&&(this.meta.captchaToken=n),!this.meta.email)throw new se("Email must be set when initialzing authentication.");let i=N0(r);try{return await this.api.post(phe,{email:this.meta.email,token:this.meta.captchaToken},{headers:{...i}})}catch(s){throw Gt(s)}}constructor({email:e,captchaToken:n,disableSignup:r}){this.meta={email:e,captchaToken:n,disableSignup:r??!1}}}class SMe extends Yh{async link(){if(!this.api)throw new se("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode||!this.meta.oldAddress)throw new se("Email, email code, and an old email address must be set prior to calling update.");try{return await this.api.post(bhe,{oldAddress:this.meta.oldAddress,newAddress:this.meta.email,code:this.meta.emailCode})}catch(e){throw Gt(e)}}constructor(e,n,r){super({email:n,captchaToken:r}),this.meta={email:n,captchaToken:r,oldAddress:e,disableSignup:!1}}}class Qa{execute(e){return this.promise===null&&(this.promise=(async()=>{try{return await this.fn(e)}finally{this.promise=null}})()),this.promise}constructor(e){this.promise=null,this.fn=e}}class VU{get meta(){return this._meta}async authenticate(){if(!this.api)throw new se("Auth flow has no API instance");if(!this.meta.channelToken)throw new se("Auth flow must be initialized first");try{let e=await this.api.post(lhe,{channel_token:this.meta.channelToken,message:this.message,signature:this.signature,fid:this.fid,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"});if(!e)throw new se("No response from authentication");return e}catch(e){throw Gt(e)}}async link(){if(!this.api)throw new se("Auth flow has no API instance");try{return await this.api.post(uhe,{channel_token:this.meta.channelToken,message:this.message,signature:this.signature,fid:this.fid})}catch(e){throw Gt(e)}}async _startChannelOnce(){if(!this.api)throw new se("Auth flow has no API instance");let e=await this.api.post(che,{token:this.captchaToken});Vo.isMobile&&!Vo.isIOS&&e.connect_uri&&$F(e.connect_uri,"_blank"),this._meta={...this._meta,connectUri:e.connect_uri,channelToken:e.channel_token}}async initializeFarcasterConnect(){if(!this.api)throw new se("Auth flow has no API instance");await this.startChannelOnce.execute()}async _pollForReady(){if(!this.api)throw new se("Auth flow has no API instance");if(!this.meta.channelToken)throw new se("Auth flow must be initialized first");let e=await this.api.get(dhe,{headers:{"farcaster-channel-token":this.meta.channelToken}});return e.state==="completed"&&(this.message=e.message,this.signature=e.signature,this.fid=e.fid,!0)}constructor(e,n=!1){this._meta={disableSignup:!1},this.captchaToken=e,this.startChannelOnce=new Qa(this._startChannelOnce.bind(this)),this.pollForReady=new Qa(this._pollForReady.bind(this)),this._meta.disableSignup=n}}function BO(){return typeof window<"u"&&window.location.protocol==="chrome-extension:"&&"chrome"in window}function TK(){return BO()?window.chrome?.runtime?.id:void 0}function B3(){return BO()?typeof window.chrome?.identity?.launchWebAuthFlow=="function":!1}async function HU(t){return new Promise(((e,n)=>{B3()?window.chrome.identity.launchWebAuthFlow({url:t,interactive:!0},(async r=>{try{let i=(function(){return BO()?window.chrome?.runtime?.lastError?.message:void 0})();if(i||!r){let d=`WebAuthFlow failed: ${i||"Response URI missing"}`;throw Error(d)}let s=new URL(r),a=TK();if(!a)throw Error("Invalid extension context");if(s.protocol==="chrome-extension:"){if(s.hostname!==a)throw Error("Invalid responseUri origin")}else{if(s.protocol!=="https:")throw Error("Invalid responseUri protocol");{let d=s.hostname.split(".");if(d.length!==3||d[1]!=="chromiumapp"||d[2]!=="org"||d[0]!==a)throw Error("Invalid responseUri origin")}}let c=s.searchParams.get("privy_oauth_state"),u=s.searchParams.get("privy_oauth_code");if(!c||!u)throw Error("Invalid responseUri - missing required parameters");e({privyOAuthState:c,privyOAuthCode:u})}catch(i){n(i)}})):n(Error("Chrome identity API not available"))}))}function L3(t){return crypto.getRandomValues(new Uint8Array(t))}function LO(){return Xd(L3(36))}function IK(){return LO()}async function CK(t,e="S256"){if(e!="S256")return t;{let n=await(async function(r){let i=new TextEncoder().encode(r);return new Uint8Array(await crypto.subtle.digest("SHA-256",i))})(t);return Xd(n)}}class Lh{addCaptchaToken(e){this.meta.captchaToken=e}isActive(){return!!(this.meta.authorizationCode&&this.meta.stateCode&&this.meta.provider)}async authenticate(){if(!this.api)throw new se("Auth flow has no API instance");if(!this.meta.authorizationCode||!this.meta.stateCode)throw new se("[OAuth AuthFlow] Authorization and state codes code must be set prior to calling authenticate.");if(this.meta.authorizationCode==="undefined")throw new se("User denied confirmation during OAuth flow");let e=(function(){let n=nt.get(Qy);if(!n)throw new se("Authentication error.");return n})();try{let n=await this.api.post(TF,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:e,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"});return nt.del(Qy),nt.del(M1),nt.del(xg),n}catch(n){let r=Gt(n);throw r.privyErrorCode?new se(r.message||"Invalid code during OAuth flow.",void 0,r.privyErrorCode):r.message==="User denied confirmation during OAuth flow"?new se("Invalid code during oauth flow.",void 0,Ae.OAUTH_USER_DENIED):new se("Invalid code during OAuth flow.",void 0,Ae.UNKNOWN_AUTH_ERROR)}}async link(){if(!this.api)throw new se("Auth flow has no API instance");if(!this.meta.authorizationCode||!this.meta.stateCode)throw new se("[OAuth AuthFlow] Authorization and state codes code must be set prior to calling link.");if(this.meta.authorizationCode==="undefined")throw new se("User denied confirmation during OAuth flow");let e=nt.get(Qy);if(!e)throw new se("Authentication error.");try{let n=await this.api.post(IF,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:e});return nt.del(Qy),n}catch(n){throw Gt(n)}}async getAuthorizationUrl(){if(!this.api)throw new se("Auth flow has no API instance");if(!this.meta.provider)throw new se("Provider must be set when initializing OAuth authentication.");let e=LO();nt.put(Qy,e);let n=IK();nt.put(D1,n);let r=await CK(e);this.meta.withPrivyUi||nt.put(M1,!0),this.meta.disableSignup?nt.put(xg,!0):nt.del(xg);let i=N0(this.meta.withPrivyUi),s=window.location.href,a=(function(){let c=TK();if(c)return`https://${c}.chromiumapp.org`})();a&&(s=a);try{return await this.api.post(xF,{provider:this.meta.provider,redirect_to:this.meta.customOAuthRedirectUrl||s,token:this.meta.captchaToken,code_challenge:r,state_code:n},{headers:{...i}})}catch(c){throw Gt(c)}}constructor(e){this.meta=e}}function xMe(){let t=new URLSearchParams(window.location.search),e=t.get("privy_oauth_code"),n=t.get("privy_oauth_state"),r=t.get("privy_oauth_provider");if(!e||!n||!r)return{inProgress:!1};let i=!1;try{i=!!window.opener.location.origin}catch{}return{inProgress:!0,authorizationCode:e,stateCode:n,provider:r,withPrivyUi:!nt.get(M1),popupFlow:window.opener!==null&&i,disableSignup:!!nt.get(xg)}}function kze(){let t=new URL(window.location.href);t.searchParams.delete("privy_oauth_code"),t.searchParams.delete("privy_oauth_provider"),t.searchParams.delete("privy_oauth_state"),nt.del(D1),window.history.replaceState({},"",t)}class Nh{async initRegisterFlow(e){if(!this.api)throw new se("Auth flow has no API instance");this.authenticateForRegistration=!0,this.meta.initRegisterResponse=await this.initRegisterOnce.execute(e)}async initAuthenticationFlow(e){if(!this.api)throw new se("Auth flow has no API instance");this.authenticateForRegistration=!1,this.meta.initAuthenticateResponse=await this.initAuthenticateOnce.execute(e)}async initLinkFlow(){if(!this.api)throw new se("Auth flow has no API instance");this.meta.initLinkResponse=await this.initLinkOnce.execute()}async register(){let e=await Fe(()=>import("./index-D9std1Z8.js"),[]);if(!this.api)throw new se("Auth flow has no API instance");if(!e.browserSupportsWebAuthn())throw new se("WebAuthn is not supported in this browser");this.meta.initRegisterResponse||(this.meta.initRegisterResponse=await this.initRegisterOnce.execute());try{let n=this.meta.initRegisterResponse.options,r=await e.startRegistration({optionsJSON:this._transformInitLinkOptionsToCamelCase(n)});return this.meta.setPasskeyAuthState?.({status:"submitting-response"}),await this.api.post($he,{relying_party:this.meta.initRegisterResponse.relying_party,authenticator_response:this._transformRegistrationResponseToSnakeCase(r)})}catch(n){throw n.name==="NotAllowedError"?new se("Passkey request timed out or rejected by user.",void 0,Ae.PASSKEY_NOT_ALLOWED):Gt(n)}}async authenticate(){if(this.authenticateForRegistration)return this.register();let e=await Fe(()=>import("./index-D9std1Z8.js"),[]);if(!this.api)throw new se("Auth flow has no API instance");if(!e.browserSupportsWebAuthn())throw new se("WebAuthn is not supported in this browser");this.meta.initAuthenticateResponse||(this.meta.initAuthenticateResponse=await this.initAuthenticateOnce.execute());let n=this.meta.allowedCredentialsIds?.map((r=>({type:"public-key",id:r})))??this.meta.initAuthenticateResponse.options.allow_credentials;try{let r=await e.startAuthentication({optionsJSON:this._transformInitAuthenticateOptionsToCamelCase({...this.meta.initAuthenticateResponse.options,allow_credentials:n})});return this.meta.setPasskeyAuthState?.({status:"submitting-response"}),await this.api.post(Nhe,{relying_party:this.meta.initAuthenticateResponse.relying_party,challenge:this.meta.initAuthenticateResponse.options.challenge,authenticator_response:this._transformAuthenticationResponseToSnakeCase(r)})}catch(r){throw r.name==="NotAllowedError"?new se("Passkey request timed out or rejected by user.",void 0,Ae.PASSKEY_NOT_ALLOWED):Gt(r)}}async link(){let e=await Fe(()=>import("./index-D9std1Z8.js"),[]);if(!this.api)throw new se("Auth flow has no API instance");if(!e.browserSupportsWebAuthn())throw new se("WebAuthn is not supported in this browser");this.meta.initLinkResponse||(this.meta.initLinkResponse=await this.initLinkOnce.execute());try{let n=this.meta.initLinkResponse.options,r=await e.startRegistration({optionsJSON:this._transformInitLinkOptionsToCamelCase(n)});return this.meta.setPasskeyAuthState?.({status:"submitting-response"}),await this.api.post(Rhe,{relying_party:this.meta.initLinkResponse.relying_party,authenticator_response:this._transformRegistrationResponseToSnakeCase(r)})}catch(n){throw n.name==="NotAllowedError"?new se("Passkey request timed out or rejected by user.",void 0,Ae.PASSKEY_NOT_ALLOWED):Gt(n)}}async _initRegisterOnce(e){if(!this.api)throw new se("Auth flow has no API instance");let n=N0(e);return await this.api.post(khe,{token:this.meta.captchaToken},{headers:{...n}})}async _initAuthenticateOnce(e){if(!this.api)throw new se("Auth flow has no API instance");let n=N0(e);return await this.api.post(Ohe,{token:this.meta.captchaToken},{headers:{...n}})}async _initLinkOnce(){if(!this.api)throw new se("Auth flow has no API instance");return await this.api.post(Che,{})}_transformInitLinkOptionsToCamelCase(e){return{rp:e.rp,user:{id:e.user.id,name:e.user.name,displayName:e.user.display_name},challenge:e.challenge,pubKeyCredParams:e.pub_key_cred_params.map((n=>({type:n.type,alg:n.alg}))),timeout:e.timeout,excludeCredentials:e.exclude_credentials?.map((n=>({id:n.id,type:n.type,transports:n.transports}))),authenticatorSelection:{authenticatorAttachment:e.authenticator_selection?.authenticator_attachment,requireResidentKey:e.authenticator_selection?.require_resident_key,residentKey:e.authenticator_selection?.resident_key,userVerification:e.authenticator_selection?.user_verification},attestation:e.attestation,extensions:{appid:e.extensions?.app_id,credProps:e.extensions?.cred_props?.rk,hmacCreateSecret:e.extensions?.hmac_create_secret},hints:this.meta.hints}}_transformRegistrationResponseToSnakeCase(e){return{id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,attestation_object:e.response.attestationObject,authenticator_data:e.response.authenticatorData},authenticator_attachment:e.authenticatorAttachment,client_extension_results:{app_id:e.clientExtensionResults.appid,cred_props:e.clientExtensionResults.credProps,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret},type:e.type}}_transformInitAuthenticateOptionsToCamelCase(e){return{rpId:e.rp_id,challenge:e.challenge,allowCredentials:e.allow_credentials?.map((n=>({id:n.id,type:n.type,transports:n.transports})))||[],timeout:e.timeout,extensions:{appid:e.extensions?.app_id,credProps:e.extensions?.cred_props,hmacCreateSecret:e.extensions?.hmac_create_secret},userVerification:e.user_verification}}_transformAuthenticationResponseToSnakeCase(e){return{id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,authenticator_data:e.response.authenticatorData,signature:e.response.signature,user_handle:e.response.userHandle},authenticator_attachment:e.authenticatorAttachment,client_extension_results:{app_id:e.clientExtensionResults.appid,cred_props:e.clientExtensionResults.credProps,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret},type:e.type}}constructor({captchaToken:e,setPasskeyAuthState:n,hints:r}){this.authenticateForRegistration=!1,this.initRegisterOnce=new Qa(this._initRegisterOnce.bind(this)),this.initAuthenticateOnce=new Qa(this._initAuthenticateOnce.bind(this)),this.initLinkOnce=new Qa(this._initLinkOnce.bind(this)),this.meta={captchaToken:e,setPasskeyAuthState:n,hints:r}}}const j3=({address:t,chainId:e,nonce:n})=>`${window.location.host} wants you to sign in with your Ethereum account:
${t}

By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.

URI: ${window.location.origin}
Version: 1
Chain ID: ${e}
Nonce: ${n}
Issued At: ${new Date().toISOString()}
Resources:
- https://privy.io`;class l1{get meta(){return{connectorType:this.wallet?.connectorType,walletClientType:this.wallet?.walletClientType,chainId:this.wallet?.chainId,address:this.wallet?.address,disableSignup:this._meta.disableSignup}}async authenticate(){if(!this.client)throw new se("SiweFlow has no client instance");try{if(this.preparedMessage&&this.signature)return await this.client.authenticateWithSiweInternal({message:this.preparedMessage,signature:this.signature,chainId:this.wallet?.chainId,walletClientType:this.walletClientType??this.wallet?.walletClientType,connectorType:this.connectorType??this.wallet?.connectorType,mode:this._meta.disableSignup?"no-signup":"login-or-sign-up"});if(!this.wallet)throw new se("SiweFlow has no wallet instance");let{message:e,signature:n}=await this.sign();return await this.client.authenticateWithSiweInternal({message:e,signature:n,chainId:this.wallet.chainId,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw Gt(e)}}async link(){if(!this.client)throw new se("SiweFlow has no client instance");try{if(!this.wallet)throw new se("SiweFlow has no wallet instance");let{message:e,signature:n}=await this.sign();return await this.client.linkWithSiweInternal({message:e,signature:n,chainId:this.wallet.chainId,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType})}catch(e){throw Gt(e)}}async sign(){if(!this.client)throw new se("SiweFlow has no client instance");if(await this.buildMessage(),!this.preparedMessage)throw new se("Could not prepare SIWE message");if(!this.wallet)throw new se("SiweFlow has no wallet instance");let e=await this.wallet.sign(this.preparedMessage);return{message:this.preparedMessage,signature:e}}async _getNonceOnce(){if(!this.client)throw new se("SiweFlow has no client instance");if(!this.wallet)throw new se("UI SiweFlow has no wallet instance");return await this.client.generateSiweNonce({address:this.wallet.address,captchaToken:this.captchaToken})}async buildMessage(){if(!this.client)throw new se("SiweFlow has no client instance");if(!this.wallet)throw new se("SiweFlow has no wallet instance");let e=this.wallet.address,n=this.wallet.chainId.replace("eip155:","");return this.nonce||(this.nonce=await this.getNonceOnce.execute()),this.preparedMessage=j3({address:e,chainId:n,nonce:this.nonce}),this.preparedMessage}constructor(e,n,r,i=!1,s){this._meta={disableSignup:!1},this.getNonceOnce=new Qa(this._getNonceOnce.bind(this)),this.wallet=n,this.captchaToken=r,this.client=e,this._meta.disableSignup=i,this.preparedMessage=s?.message,this.signature=s?.signature,this.walletClientType=s?.walletClientType,this.connectorType=s?.connectorType}}class GU{get meta(){return{connectorType:this.wallet.connectorType,walletClientType:this.wallet.walletClientType,disableSignup:this._meta.disableSignup,messageType:this._meta.messageType,address:this.wallet?.address}}set messageType(e){this._meta.messageType=e}async authenticate(){if(!this.client)throw new se("SiwsFlow has no client instance");try{let{message:e,signature:n}=await this.sign();return await this.client.authenticateWithSiwsInternal({message:e,signature:n,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up",messageType:this.meta.messageType})}catch(e){throw Gt(e)}}async link(){if(!this.client)throw new se("SiwsFlow has no client instance");try{let{message:e,signature:n}=await this.sign();return await this.client.linkWithSiwsInternal({message:e,signature:n,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,messageType:this.meta.messageType})}catch(e){throw Gt(e)}}async sign(){let e,n;if(!this.client)throw new se("SiwsFlow has no client instance");await this.buildMessage();let r=this.meta.messageType==="transaction";if(!this.preparedMessage)throw new se("Could not prepare SIWS message");if(!r&&!this.wallet.provider.signMessage||r&&!this.wallet.provider.signTransaction)throw new se("Wallet does not support the necessary signing methods");if(r&&this._plugin){let i=await this.wallet.provider.signTransaction({transaction:Kd.decode(this.preparedMessage)});e=Kd.encode(i.signedTransaction),n=this._plugin.getSignatureFromTransaction(i.signedTransaction,this.wallet.address)}else{e=this.preparedMessage;let i=await this.wallet.provider.signMessage({message:new TextEncoder().encode(this.preparedMessage)});n=Kd.encode(i.signature)}return{message:e,signature:n}}async _getNonceOnce(){if(!this.client)throw new se("SiwsFlow has no client instance");return await this.client.generateSiwsNonce({address:this.wallet.address,captchaToken:this.captchaToken})}async buildMessage(){if(!this.client)throw new se("SiwsFlow has no client instance");let e=this.wallet.address;return this.nonce||(this.nonce=await this.getNonceOnce.execute()),this.meta.messageType==="transaction"&&this._plugin?this.preparedMessage=this._plugin.createSiwsMemoTransaction({address:e,nonce:this.nonce}):this.preparedMessage=Qhe({address:e,nonce:this.nonce}),this.preparedMessage}constructor(e,n,r,i=!1,s="plain",a){this._meta={disableSignup:!1,messageType:"plain"},this.getNonceOnce=new Qa(this._getNonceOnce.bind(this)),this.wallet=e,this.captchaToken=r,this.client=n,this._meta.disableSignup=i,this._meta.messageType=s,this._plugin=a}}class Zh{async authenticate(){if(!this.api)throw new se("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode)throw new se("phone number and sms code must be set prior to calling authenticate.");try{return await this.api.post(Ahe,{phoneNumber:this.meta.phoneNumber,code:this.meta.smsCode,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw Gt(e)}}async link(){if(!this.api)throw new se("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode)throw new se("phone number and sms code must be set prior to calling authenticate.");try{return await this.api.post(_he,{phoneNumber:this.meta.phoneNumber,code:this.meta.smsCode})}catch(e){throw Gt(e)}}async sendSmsCode({phoneNumber:e,captchaToken:n,withPrivyUi:r}){if(!this.api)throw new se("Auth flow has no API instance");if(e&&(this.meta.phoneNumber=e),n&&(this.meta.captchaToken=n),!this.meta.phoneNumber)throw new se("phone nNumber must be set when initialzing authentication.");let i=N0(r);try{return await this.api.post(vhe,{phoneNumber:this.meta.phoneNumber,token:this.meta.captchaToken},{headers:{...i}})}catch(s){throw Gt(s)}}constructor({phoneNumber:e,captchaToken:n,disableSignup:r}){this.meta={phoneNumber:e,captchaToken:n,disableSignup:r??!1}}}class TMe extends Zh{async link(){if(!this.api)throw new se("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode||!this.meta.oldPhoneNumber)throw new se("Phone number, sms code, and an old phone number must be set prior to calling update.");try{return await this.api.post(She,{old_phone_number:this.meta.oldPhoneNumber,new_phone_number:this.meta.phoneNumber,code:this.meta.smsCode})}catch(e){throw Gt(e)}}constructor(e,n,r){super({phoneNumber:n,captchaToken:r}),this.meta={phoneNumber:n,captchaToken:r,oldPhoneNumber:e,disableSignup:!1}}}const OK=Y.createContext({enabled:!1,siteKey:"",provider:void 0,appId:void 0,token:void 0,error:void 0,status:"disabled",setToken:fe,setError:fe,setExecuting:fe,waitForResult:()=>Promise.resolve(""),ref:{current:null},remove:Wj,reset:fe,execute:fe});class z3 extends ju{constructor(e,n,r){super(e||"Captcha failed"),this.type="Captcha",n instanceof Error&&(this.cause=n),this.privyErrorCode=r}}const IMe=({children:t,appId:e,captchaSiteKey:n,enabledCaptchaProvider:r})=>{let i=Y.useRef(null),s=Y.useRef(null),[a,c]=Y.useState(),[u,d]=Y.useState(),[h,p]=Y.useState(!1),m=Y.useMemo((()=>r?h||a||u?!h||a||u?a&&!u?{status:"success",token:a}:u?{status:"error",error:u}:{status:"ready"}:{status:"loading"}:{status:"ready"}:{status:"disabled"}),[r,a,u,h]),g=Y.useMemo((()=>r?r==="turnstile"?{remove:()=>{i.current?.remove(),p(!1),d(void 0),c(void 0)},reset:()=>{i.current?.reset(),p(!1),d(void 0),c(void 0)},execute:()=>{p(!0),i.current?.execute()},waitForResult:async()=>{try{return await T$((()=>i.current?.getResponse()),{interval:200,timeout:2e4})}catch{throw new z3("Captcha failed",null,Ae.CAPTCHA_TIMEOUT)}}}:{remove:()=>{s.current?.removeCaptcha(),p(!1),d(void 0),c(void 0)},reset:()=>{s.current?.resetCaptcha(),p(!1),d(void 0),c(void 0)},execute:()=>{p(!0),s.current?.execute()},waitForResult:async()=>{try{return await T$((()=>s.current?.getResponse()),{interval:200,timeout:2e4})}catch{throw new z3("Captcha failed",null,Ae.CAPTCHA_TIMEOUT)}}}:null),[r]),b=Y.useMemo((()=>{if(!r||!g)return{...m,enabled:!1,siteKey:"",appId:e,setToken:fe,setError:fe,setExecuting:fe,waitForResult:()=>Promise.resolve(void 0),remove:Wj,reset:fe,execute:fe,provider:void 0,ref:{current:null}};let v={...m,enabled:!0,appId:e,setToken:c,setError:d,setExecuting:p};return r==="turnstile"?{...v,provider:"turnstile",ref:i,siteKey:n.split("t:")[1]??"",...g}:{...v,provider:"hcaptcha",ref:s,siteKey:n.split("h:")[1]??"",...g}}),[m,r,g,e,n]);return he.jsx(OK.Provider,{value:b,children:t})},kK=()=>Y.useContext(OK);class xm{async authenticate(){if(!this.api)throw new se("Auth flow has no API instance");try{return await this.api.post(Phe,{captcha_token:this.meta.captchaToken,telegram_auth_result:this.meta.telegramAuthResult,telegram_web_app_data:this.meta.telegramWebAppData,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw Gt(e)}}async link(){if(!this.api)throw new se("Auth flow has no API instance");try{return await this.api.post(Dhe,{telegram_auth_result:this.meta.telegramAuthResult,telegram_web_app_data:this.meta.telegramWebAppData})}catch(e){throw Gt(e)}}constructor(e,n=!1){this.meta={disableSignup:!1},this.meta={captchaToken:e,disableSignup:!1},this.meta.disableSignup=n}}function Rze(t){let e={detail:"",retryable:!1};return t?.privyErrorCode===Ae.LINKED_TO_ANOTHER_USER&&(e.detail="This account has already been linked to another user."),t?.privyErrorCode===Ae.DISALLOWED_LOGIN_METHOD&&(e.detail="Login with Telegram not allowed."),t?.privyErrorCode===Ae.INVALID_DATA&&(e.retryable=!0,e.detail="Something went wrong. Try again."),t?.privyErrorCode===Ae.CANNOT_LINK_MORE_OF_TYPE&&(e.retryable=!0,e.detail="Something went wrong. Try again."),t?.privyErrorCode===Ae.INVALID_CREDENTIALS&&(e.retryable=!0,e.detail="Something went wrong. Try again."),t?.privyErrorCode===Ae.TOO_MANY_REQUESTS&&(e.detail="Too many requests. Please wait before trying again."),t?.privyErrorCode===Ae.TOO_MANY_REQUESTS&&t.message.includes("rate limit")&&(e.detail="Request limit reached for Telegram. Please wait a moment and try again."),t instanceof z3&&(e.retryable=!0,e.detail="Something went wrong. Try again."),e}function KU(t){return Object.fromEntries(decodeURIComponent(t).split("&").map((e=>e.split("=").map(decodeURIComponent))))}function YU(){let t=new URL(window.location.href);t.searchParams.delete("id"),t.searchParams.delete("hash"),t.searchParams.delete("auth_date"),t.searchParams.delete("first_name"),t.searchParams.delete("last_name"),t.searchParams.delete("username"),t.searchParams.delete("photo_url"),t.hash="",window.history.replaceState({},"",t)}let CMe=Y.lazy((()=>Fe(()=>import("./TurnstileWrapper-Co-t5mTh-DBQQfb1S.js"),[]))),OMe=Y.lazy((()=>Fe(()=>import("./HCaptchaWrapper-Dl2Jt_Df-C8c1Rekx.js"),[])));const kMe=t=>{let e=kK();return Y.useEffect((()=>e.remove),[e.remove]),e.enabled&&e.provider?he.jsx(Y.Suspense,{fallback:null,children:he.jsxs("div",{className:"hidden h-0 w-0",children:[e.provider==="turnstile"&&he.jsx(CMe,{...t,captchaContext:e}),e.provider==="hcaptcha"&&he.jsx(OMe,{...t,captchaContext:e})]})}):null};var ZE=Object.freeze({__proto__:null,AccountNotFoundScreen:()=>Fe(()=>import("./AccountNotFoundScreen-BzbvtCmu-DPOKelZa.js"),__vite__mapDeps([3,4,5,6,7,8,9])),AffirmativeConsentScreen:()=>Fe(()=>import("./AffirmativeConsentScreen-CrZKQjas-Bb6CDGuf.js"),__vite__mapDeps([10,5,11,4,6,7,8,9,12])),AllowlistRejectionScreen:()=>Fe(()=>import("./AllowlistRejectionScreen-DhhfJ6ai-DSBIJiWT.js"),__vite__mapDeps([13,4,5,6,7,8,14,9])),AuthenticateWithWalletScreen:()=>Fe(()=>import("./AuthenticateWithWalletScreen-BN0s1mtv-_rP5f-5_.js"),__vite__mapDeps([15,16,5,17,18,7,19,20,21,22,23,24,6,8])),AwaitingEvmToSolBridgingScreen:()=>Fe(()=>import("./AwaitingEvmToSolBridgingScreen-C7mp2-Hy-Dxk1rmla.js"),__vite__mapDeps([25,26,27,7,28,29,8,30,31,32,33,34,35,36,37,38,5,39,40,22,41,42,43,44,45,46,47,48,9,49,50,51,52,53,54,55,56,57])),AwaitingExternalEthereumTransferScreen:()=>Fe(()=>import("./AwaitingExternalEthereumTransferScreen-EqM4Kcsu-CDnNY-A3.js"),__vite__mapDeps([58,26,27,7,28,29,8,30,31,59,53,54,32,33,37,38,5,39,40,22,41,42,43,34,44,45,46,47,48,9,49,50,51,52,55,56,60,2,57])),AwaitingPasswordlessCodeScreen:()=>Fe(()=>import("./AwaitingPasswordlessCodeScreen-NAVmxM9--B6I9QEXc.js"),__vite__mapDeps([61,62,63,27,18,11,4,5,6,7,8])),AwaitingSolToEvmBridgingScreen:()=>Fe(()=>import("./AwaitingSolToEvmBridgingScreen-dC9b-wlg-C2QpBIxF.js"),__vite__mapDeps([64,26,27,7,28,29,8,32,33,45,46,43,39,40,47,5,48,9,49,50,60,2])),CaptchaScreen:()=>Fe(()=>import("./CaptchaScreen-CTRyyYc9-B9ma5rGR.js"),__vite__mapDeps([65,4,5,6,7,8,66,9,67])),CoinbaseOnrampStatusScreen:()=>Fe(()=>import("./CoinbaseOnrampStatusScreen-BNmvm8Bl-Cv8rGjgB.js"),__vite__mapDeps([68,69,70,5,27,7,32])),ConnectLedgerScreen:()=>Fe(()=>import("./ConnectLedgerScreen-BEhSz1FM-Jd5k9v-s.js"),__vite__mapDeps([71,4,5,6,7,8,9])),ConnectOnlyLandingScreen:()=>Fe(()=>import("./ConnectOnlyLandingScreen-ZnI9ReZJ-CYup--n3.js"),__vite__mapDeps([72,16,5,17,18,7,19,20,21,22,23,24,6,8])),ConnectOnlyStatusScreen:()=>Fe(()=>import("./ConnectOnlyStatusScreen-1oCuFsd6-BLwEJx0Y.js"),__vite__mapDeps([73,4,5,6,7,8,74,18,23,11])),ConnectOrCreateScreen:()=>Fe(()=>import("./ConnectOrCreateScreen-BOO4iaC6-CoUvszNz.js"),__vite__mapDeps([75,76,7,16,5,17,18,19,20,21,22,23,24,6,8,77,44,40,78,9,79,80,81,82,83,84,4])),ConnectionStatusScreen:()=>Fe(()=>import("./ConnectionStatusScreen-CZNBQeOQ-jVfKXm69.js"),__vite__mapDeps([74,18,23,11,4,5,6,7,8])),CrossAppAuthScreen:()=>Fe(()=>import("./CrossAppAuthScreen-Bno8NQSa-BMKbqETe.js"),__vite__mapDeps([85,11,4,5,6,7,8])),DelegatedActionsConsentScreen:()=>Fe(()=>import("./DelegatedActionsConsentScreen-B0AwZEKc-CF88SPmF.js"),__vite__mapDeps([86,87,5,22,88,47,48,9,49,51,4,6,7,8,89,66])),DelegatedActionsRevokeScreen:()=>Fe(()=>import("./DelegatedActionsRevokeScreen-D0mAKxDs-D04jn6rp.js"),__vite__mapDeps([90,4,5,6,7,8,89,9,66])),EmbeddedWalletConnectingScreen:()=>Fe(()=>import("./EmbeddedWalletConnectingScreen-9ADobSle-BtfdUJSq.js"),__vite__mapDeps([91,4,5,6,7,8,67,9])),EmbeddedWalletCreatedScreen:()=>Fe(()=>import("./EmbeddedWalletCreatedScreen-B7TnCst_-BEdhQeNz.js"),__vite__mapDeps([92,4,5,6,7,8,66,9])),EmbeddedWalletKeyExportScreen:()=>Fe(()=>import("./EmbeddedWalletKeyExportScreen-Cmp2CUOa-B41b1eev.js"),__vite__mapDeps([93,94,95,87,5,22,88,47,48,9,49,51,4,6,7,8])),EmbeddedWalletOnAccountCreateScreen:()=>Fe(()=>import("./EmbeddedWalletOnAccountCreateScreen-vxaCVWy1-DXa1V8zB.js"),__vite__mapDeps([96,97,4,5,6,7,8,67,9])),EmbeddedWalletPasswordCreateScreen:()=>Fe(()=>import("./RecoveryPasswordCreateScreen-jWT25C0X-CPKXUiQa.js"),__vite__mapDeps([98,97,99,95,27,7,100,5,101,70,28])),EmbeddedWalletPasswordUpdateScreen:()=>Fe(()=>import("./EmbeddedWalletPasswordUpdateScreen-C4dNnXVI-DPEOQcuH.js"),__vite__mapDeps([102,99,95,27,7,100,5,101,70,28])),EmbeddedWalletPasswordUpdateSplashScreen:()=>Fe(()=>import("./EmbeddedWalletPasswordUpdateSplashScreen-BPTp0nwT-BSpxziNM.js"),__vite__mapDeps([103,4,5,6,7,8,14,9])),ErrorScreen:()=>Fe(()=>import("./ErrorScreen-Yi-Rhs0v-h1mugG8k.js"),__vite__mapDeps([104,33,4,5,6,7,8,9,14])),FarcasterConnectStatusScreen:()=>Fe(()=>import("./FarcasterConnectStatusScreen-BfoDjDwg-gtlVZaF4.js"),__vite__mapDeps([105,106,19,20,5,88,11,4,6,7,8,79,48,9,49])),FarcasterSignerStatusScreen:()=>Fe(()=>import("./FarcasterSignerStatusScreen-CsSFmDry-BYE0Wzte.js"),__vite__mapDeps([107,108,17,106,19,20,4,5,6,7,8,79])),FundSolWalletWithExternalSolanaWallet:()=>Fe(()=>import("./FundSolWalletWithExternalSolanaWallet-BIk-6GIl-CWGYjkVn.js"),__vite__mapDeps([109,26,5,27,7,28,29,46,43,8,39,40,30,31,32,36,110,34,56])),FundingAmountEditScreen:()=>Fe(()=>import("./FundingEditAmountScreen-CzbuYpdw-CBQvS8FQ.js"),__vite__mapDeps([111,5,27,7,29,8,42,30,31,54,55])),FundingMethodSelectionScreen:()=>Fe(()=>import("./FundingMethodSelectionScreen-DdZxdcVe-CcnIAvjW.js"),__vite__mapDeps([112,69,7,29,113,114,115,24,116,117,32,55])),InAppBrowserLoginNotPossible:()=>Fe(()=>import("./InAppBrowserLoginNotPossible-COUNBN1W-Cdubqk3K.js"),__vite__mapDeps([118,4,5,6,7,8,12,9])),InstallWalletScreen:()=>Fe(()=>import("./InstallWalletScreen-BjprJkty-D492VhAR.js"),__vite__mapDeps([119,18,120,9,48,4,5,6,7,8])),LandingScreen:()=>Fe(()=>import("./LandingScreen-Dp4m_c2X-C7Ny65hB.js"),__vite__mapDeps([121,76,7,16,5,17,18,19,20,21,22,23,24,6,8,77,44,40,78,9,79,80,81,82,83,84,4])),LinkConflictScreen:()=>Fe(()=>import("./LinkConflictScreen-DMHPhlV7-i-0Yz-Ft.js"),__vite__mapDeps([122,95,43,5,7,123,47,48,9,49,124,114])),LinkEmailScreen:()=>Fe(()=>import("./LinkEmailScreen-D7VTyZrH-CNMHS6-_.js"),__vite__mapDeps([125,62,77,5,44,40,21,22,78,9,27,4,6,7,8])),LinkPasskeyScreen:()=>Fe(()=>import("./LinkPasskeyScreen-B5LWH116-CK5vb1M4.js"),__vite__mapDeps([126,120,9,48,4,5,6,7,8,66,127])),LinkPhoneScreen:()=>Fe(()=>import("./LinkPhoneScreen-DdRe154C-CinZPURV.js"),__vite__mapDeps([128,63,81,5,44,40,4,6,7,8])),LoginFailedScreen:()=>Fe(()=>import("./LoginFailedScreen-CZnzwKpB-DKliY5QC.js"),__vite__mapDeps([129,4,5,6,7,8,67,9])),ManualTransferScreen:()=>Fe(()=>import("./ManualTransferScreen-Bn2qhDAI-CHWeBmnR.js"),__vite__mapDeps([130,5,27,7,19,20,29,115,41,42,87,22,88,47,48,9,49,51,131,32,34,110,36,35,38,56])),MfaAuthEnrollmentFlowScreen:()=>Fe(()=>import("./MfaAuthEnrollmentFlowScreen-CWMULcQb-COFYjpb-.js"),__vite__mapDeps([132,7,133,5,134,135,80,63,44,40,104,33,4,6,8,9,14,126,120,48,66,127,108,17,27,88,41,42,51,19,20])),MfaAuthVerifyFlowScreen:()=>Fe(()=>import("./MfaAuthVerifyFlowScreen-B3Hw1YN--nfOodzRx.js"),__vite__mapDeps([136,137,135,80,63,133,7,4,5,6,8,95,123,30,31,138,139,54,36,35,27,52])),MfaEnrollmentFlowScreen:()=>Fe(()=>import("./MfaEnrollmentFlowScreen-DcnqGJ3O-BevAnA-Q.js"),__vite__mapDeps([140,7,133,5,134,135,80,63,44,40,104,33,4,6,8,9,14,126,120,48,66,127,108,17,27,88,41,42,51,19,20,26,81])),MoonpayStatusScreen:()=>Fe(()=>import("./MoonpayStatusScreen-lYMS5etL-aDrxybPN.js"),__vite__mapDeps([141,69,70,5,27,7,117,32])),OAuthStatusScreen:()=>Fe(()=>import("./OAuthStatusScreen-DEtT_t2P-BQ-j5VyE.js"),__vite__mapDeps([142,82,50,11,4,5,6,7,8,124])),PasskeySelectSignupOrLogin:()=>Fe(()=>import("./PasskeySelectSignupOrLogin-DgH-G2yO--G0GDmGY.js"),__vite__mapDeps([143,4,5,6,7,8,127,9])),PasskeyStatusScreen:()=>Fe(()=>import("./PasskeyStatusScreen-BOac_MoC-C1wfEbPs.js"),__vite__mapDeps([144,11,4,5,6,7,8,127,9])),PasswordRecoveryScreen:()=>Fe(()=>import("./PasswordRecoveryScreen-CT1bj8Gb-DX7O9Hu1.js"),__vite__mapDeps([145,133,5,27,100,6,7,8])),RecoveryOAuthScreen:()=>Fe(()=>import("./RecoveryOAuthStatusScreen-Ce6qiP-3-C8P6ZbOr.js"),__vite__mapDeps([146,5,7,28,97,147])),RecoverySelectionScreen:()=>Fe(()=>import("./RecoverySelectionScreen-_u02vomS-Dhaj65m1.js"),__vite__mapDeps([148,149,7,5,28,147])),SendTransactionScreen:()=>Fe(()=>import("./index-DNmMGazz-F4bxKRX2.js"),__vite__mapDeps([150,47,5,48,9,49,30,31,131,116,53,54,104,33,4,6,7,8,14,151,152,39,40,22,88,41,42,87,51,101,113,114,94,95,52,56,27,28,138,139,36,35,59])),SetAutomaticRecoveryScreen:()=>Fe(()=>import("./SetAutomaticRecoveryScreen-CUheSZ7h-CovOpVmD.js"),__vite__mapDeps([153,95,149,5,7,41,42])),SignRequestScreen:()=>Fe(()=>import("./SignRequestScreen-BNC2mYtk-BL1A7uNH.js"),__vite__mapDeps([154,108,17,27,151,4,5,6,7,8,9])),StandardSignAndSendTransactionScreen:()=>Fe(()=>import("./StandardSignAndSendTransactionScreen-Ckxfv32q-DvIDW_1d.js"),__vite__mapDeps([155,31,104,33,4,5,6,7,8,9,14,26,27,28,39,40,139,54,36,35,123,152,22,88,41,42,47,48,49,87,51,101,113,114,94,95,52,56])),TelegramAuthScreen:()=>Fe(()=>import("./TelegramAuthScreen-xobB3RHK-CzLApQoU.js"),__vite__mapDeps([156,11,4,5,6,7,8,83])),TransferFromWalletScreen:()=>Fe(()=>import("./TransferFromWalletScreen-CLqyv8Ra-C9QTv4fv.js"),__vite__mapDeps([157,7,28,29,44,40,41,84,9,46,43,55])),UpdateEmailScreen:()=>Fe(()=>import("./UpdateEmailScreen-BVzkFXeI-Cxtt_Arv.js"),__vite__mapDeps([158,62,27,5,21,22,4,6,7,8,78,9])),UpdatePhoneScreen:()=>Fe(()=>import("./UpdatePhoneScreen-DZ_resri-Bs4Drj2O.js"),__vite__mapDeps([159,63,81,5,44,40,4,6,7,8])),UserLimitReachedScreen:()=>Fe(()=>import("./UserLimitReachedScreen-CTmSitf0-1Jrt76L3.js"),__vite__mapDeps([160,4,5,6,7,8])),WalletInterstitialScreen:()=>Fe(()=>import("./WalletInterstitialScreen-tDCVxTFi-C-Dka66U.js"),__vite__mapDeps([161,4,5,6,7,8]))});function RMe(t){uE("configureMfa",t)}const $0=Ef((()=>({inProgressMfaFlow:void 0}))),NMe=Iue([":root{","};"],(t=>$Me(t.palette))),$Me=t=>sb(["",""],Object.entries((function(e){return{"--privy-color-background":e.background,"--privy-color-background-2":e.background2,"--privy-color-background-3":e.background3,"--privy-color-foreground":e.foreground,"--privy-color-foreground-2":e.foreground2,"--privy-color-foreground-3":e.foreground3,"--privy-color-foreground-4":e.foreground4,"--privy-color-foreground-accent":e.foregroundAccent,"--privy-color-accent":e.accent,"--privy-color-accent-light":e.accentLight,"--privy-color-accent-hover":e.accentHover,"--privy-color-accent-dark":e.accentDark,"--privy-color-accent-darkest":e.accentDarkest,"--privy-color-success":e.success,"--privy-color-success-dark":e.successDark,"--privy-color-success-light":e.successLight,"--privy-color-success-bg":e.successBg,"--privy-color-error":e.error,"--privy-color-error-light":e.errorLight,"--privy-color-error-bg":e.errorBg,"--privy-color-error-bg-hover":e.errorBgHover,"--privy-color-warn":e.warn,"--privy-color-warn-light":e.warnLight,"--privy-color-warn-bg":e.warnBg,"--privy-color-warning-dark":e.warningDark,"--privy-color-error-dark":e.errorDark,"--privy-color-info-bg":e.infoBg,"--privy-color-info-bg-hover":e.infoBgHover,"--privy-color-border-default":e.borderDefault,"--privy-color-border-hover":e.borderHover,"--privy-color-border-focus":e.borderFocus,"--privy-color-border-error":e.borderError,"--privy-color-border-success":e.borderSuccess,"--privy-color-border-warning":e.borderWarning,"--privy-color-border-info":e.borderInfo,"--privy-color-border-interactive":e.borderInteractive,"--privy-color-border-interactive-hover":e.borderInteractiveHover,"--privy-color-background-hover":e.backgroundHover,"--privy-color-background-clicked":e.backgroundClicked,"--privy-color-background-disabled":e.backgroundDisabled,"--privy-color-background-interactive":e.backgroundInteractive,"--privy-color-background-interactive-hover":e.backgroundInteractiveHover,"--privy-color-background-interactive-clicked":e.backgroundInteractiveClicked,"--privy-color-background-interactive-disabled":e.backgroundInteractiveDisabled,"--privy-color-foreground-hover":e.foregroundHover,"--privy-color-foreground-clicked":e.foregroundClicked,"--privy-color-foreground-disabled":e.foregroundDisabled,"--privy-color-foreground-interactive":e.foregroundInteractive,"--privy-color-foreground-interactive-hover":e.foregroundInteractiveHover,"--privy-link-navigation-color":e.linkNavigationColor,"--privy-link-navigation-decoration":e.linkNavigationDecoration,"--privy-accent-has-good-contrast":e.accentHasGoodContrast,"--privy-color-icon-default":e.iconDefault,"--privy-color-icon-muted":e.iconMuted,"--privy-color-icon-subtle":e.iconSubtle,"--privy-color-icon-inverse":e.iconInverse,"--privy-color-icon-success":e.iconSuccess,"--privy-color-icon-warning":e.iconWarning,"--privy-color-icon-error":e.iconError,"--privy-color-icon-interactive":e.iconInteractive,"--privy-color-icon-default-hover":e.iconDefaultHover,"--privy-color-icon-muted-hover":e.iconMutedHover,"--privy-color-icon-subtle-hover":e.iconSubtleHover,"--privy-color-icon-default-clicked":e.iconDefaultClicked,"--privy-color-icon-muted-clicked":e.iconMutedClicked,"--privy-color-icon-subtle-clicked":e.iconSubtleClicked,"--privy-color-icon-default-disabled":e.iconDefaultDisabled,"--privy-color-icon-muted-disabled":e.iconMutedDisabled,"--privy-color-icon-subtle-disabled":e.iconSubtleDisabled,"--privy-color-icon-error-hover":e.iconErrorHover,"--privy-color-icon-interactive-hover":e.iconInteractiveHover,"--privy-color-icon-error-clicked":e.iconErrorClicked,"--privy-color-icon-interactive-clicked":e.iconInteractiveClicked,"--privy-color-icon-muted-disabled-alt":e.iconMutedDisabledAlt,"--privy-color-icon-subtle-disabled-alt":e.iconSubtleDisabledAlt,"--privy-border-radius-xs":"6px","--privy-border-radius-sm":"8px","--privy-border-radius-md":"12px","--privy-border-radius-mdlg":"16px","--privy-border-radius-lg":"24px","--privy-border-radius-full":"9999px","--privy-height-modal-full":"620px","--privy-height-modal-compact":"480px"}})(t)).map((([e,n])=>`${e}: ${n};`)).join(`
`)),ZU=Gn.div.withConfig({displayName:"StylesWrapper",componentId:"sc-188229e4-0"})([""," color:var(--privy-color-foreground-2);h3{font-size:16px;line-height:24px;font-weight:500;color:var(--privy-color-foreground-2);}h4{font-size:14px;line-height:20px;font-weight:500;color:var(--privy-color-foreground);}p{font-size:13px;line-height:20px;color:var(--privy-color-foreground-2);}button:focus,input:focus,optgroup:focus,select:focus,textarea:focus{outline:none;border-color:var(--privy-color-accent-light);box-shadow:0 0 0 3px var(--privy-color-border-focus);}.mobile-only{@media (min-width:441px){display:none;}}@keyframes fadein{0%{opacity:0;}100%{opacity:1;}}"],`
  *,
  ::before,
  ::after {
    box-sizing: border-box;
    border-width: 0;
    border-style: solid;
  }

  line-height: 1.15;
  -webkit-text-size-adjust: 100%;
  -moz-tab-size: 4;
  tab-size: 4;
  font-feature-settings: normal;

  margin: 0;
  font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif,
    'Apple Color Emoji', 'Segoe UI Emoji';

  hr {
    height: 0;
    color: inherit;
    border-top-width: 1px;
  }

  abbr:where([title]) {
    text-decoration: underline dotted;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-size: inherit;
    font-weight: inherit;
    font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif,
    'Apple Color Emoji', 'Segoe UI Emoji';
    display: inline;
  }

  a {
    color: inherit;
    text-decoration: inherit;
  }

  b,
  strong {
    font-weight: bolder;
  }

  code,
  kbd,
  samp,
  pre {
    font-family: ui-monospace, SFMono-Regular, Consolas, 'Liberation Mono', Menlo, monospace;
    font-size: 1em;
  }

  small {
    font-size: 80%;
  }

  sub,
  sup {
    font-size: 75%;
    line-height: 0;
    position: relative;
    vertical-align: baseline;
  }

  sub {
    bottom: -0.25em;
  }

  sup {
    top: -0.5em;
  }

  table {
    text-indent: 0;
    border-color: inherit;
    border-collapse: collapse;
  }

  button,
  input,
  optgroup,
  select,
  textarea {
    font-family: inherit;
    font-size: 100%;
    font-weight: inherit;
    line-height: inherit;
    color: inherit;
    margin: 0;
    padding: 0;
  }

  button,
  select {
    text-transform: none;
  }

  button,
  [type='button'],
  [type='reset'],
  [type='submit'] {
    -webkit-appearance: button;
    background-color: transparent;
    background-image: none;
  }

  ::-moz-focus-inner {
    border-style: none;
    padding: 0;
  }

  :-moz-focusring {
    outline: 1px dotted ButtonText;
  }

  :-moz-ui-invalid {
    box-shadow: none;
  }

  legend {
    padding: 0;
  }

  progress {
    vertical-align: baseline;
  }

  ::-webkit-inner-spin-button,
  ::-webkit-outer-spin-button {
    height: auto;
  }

  [type='search'] {
    -webkit-appearance: textfield;
    outline-offset: -2px;
  }

  ::-webkit-search-decoration {
    -webkit-appearance: none;
  }

  ::-webkit-file-upload-button {
    -webkit-appearance: button;
    font: inherit;
  }

  summary {
    display: list-item;
  }

  blockquote,
  dl,
  dd,
  h1,
  h2,
  h3,
  h4,
  h5,
  h6,
  hr,
  figure,
  p,
  pre {
    margin: 0;
  }

  fieldset {
    margin: 0;
    padding: 0;
  }

  legend {
    padding: 0;
  }

  ol,
  ul,
  menu {
    list-style: none;
    margin: 0;
    padding: 0;
  }

  textarea {
    resize: vertical;
  }

  input::placeholder,
  textarea::placeholder {
    opacity: 1;
    color: #9ca3af;
  }

  button,
  [role='button'] {
    cursor: pointer;
  }

  :disabled {
    cursor: default;
  }

  img,
  svg,
  video,
  canvas,
  audio,
  iframe,
  embed,
  object {
    display: block;
  }

  img,
  video {
    max-width: 100%;
    height: auto;
  }

  [hidden] {
    display: none;
  }
`),PMe=({children:t,open:e,onClick:n,...r})=>he.jsx(mq,{show:e,as:et.Fragment,children:he.jsxs(vme,{onClose:n,...r,as:MMe,children:[he.jsx(v0,{as:et.Fragment,enterFrom:"entering",leaveTo:"leaving",children:he.jsx(DMe,{id:"privy-dialog-backdrop","aria-hidden":"true"})}),he.jsx(UMe,{children:he.jsx(v0,{as:et.Fragment,enterFrom:"entering",leaveTo:"leaving",children:he.jsx(gq,{as:BMe,children:t})})})]})});let DMe=Gn.div.withConfig({displayName:"Backdrop",componentId:"sc-3cfde0b5-0"})(["position:fixed;inset:0;transition:backdrop-filter 100ms ease;backdrop-filter:blur(3px);-webkit-backdrop-filter:blur(3px);&.entering,&.leaving{backdrop-filter:unset;-webkit-backdrop-filter:unset;}"]),MMe=Gn.div.withConfig({displayName:"DialogWrapper",componentId:"sc-3cfde0b5-1"})(["position:relative;z-index:999999;"]),UMe=Gn.div.withConfig({displayName:"DialogContainer",componentId:"sc-3cfde0b5-2"})(["position:fixed;inset:0;display:flex;align-items:center;justify-content:center;width:100vw;min-height:100vh;"]);const BMe=Gn.div.withConfig({displayName:"Panel",componentId:"sc-3cfde0b5-3"})(["padding:0;background:transparent;border:none;width:100%;pointer-events:auto;outline:none;display:block;@media (max-width:440px){opacity:1;transform:translate3d(0,0,0);transition:transform 200ms ease-in;position:fixed;bottom:0;&.entering,&.leaving{opacity:0;transform:translate3d(0,100%,0);transition:transform 150ms ease-in 0ms,opacity 0ms ease 150ms;}}@media (min-width:441px){opacity:1;transition:opacity 100ms ease-in;&.entering,&.leaving{opacity:0;transition-delay:5ms;}margin:auto;width:360px;box-shadow:0px 8px 36px rgba(55,65,81,0.15);border-radius:var(--privy-border-radius-lg);}"]),LMe=()=>{let{ready:t}=rb(),{currentScreen:e}=$u(),[n,r]=Y.useState(null),[i,s]=Y.useState(!1),a=(function(c){let[u,d]=Y.useState(!1),h=Y.useRef(null),p=Y.useRef(null),m=Y.useRef(null);return Y.useEffect((()=>{if(h.current&&(clearTimeout(h.current),h.current=null),p.current&&(clearTimeout(p.current),p.current=null),c)m.current=Date.now(),h.current=setTimeout((()=>{d(!0)}),150);else if(m.current!==null){let g=Date.now()-m.current;if(g>=150){let b=Math.max(0,400-(g-150));p.current=setTimeout((()=>{d(!1),m.current=null}),b)}else h.current&&(clearTimeout(h.current),h.current=null),d(!1),m.current=null}return()=>{h.current&&clearTimeout(h.current),p.current&&clearTimeout(p.current)}}),[c]),u})(i);return Y.useEffect((()=>{if(!e)return r(null),void s(!1);s(!0),ZE[e]().then((c=>{(!e||t||c.default.isShownBeforeReady)&&(r((()=>c.default.component)),s(!1))})).catch((()=>{r(null),s(!1)}))}),[e,t]),{component:n,isLoading:a}};let XU=Y.lazy((()=>Fe(()=>import("./MfaVerifyFlowScreen-BEt8Gfpb-Bo_t85fz.js"),__vite__mapDeps([162,137,135,80,63,133,7,4,5,6,8,95,123,30,31,138,139,54,36,35,27,52])))),jMe=Y.lazy((()=>(t=>ZE[t]().then((e=>({default:e.default.component}))))("MfaAuthVerifyFlowScreen"))),zMe=()=>he.jsx(VMe,{children:he.jsx(fE,{})}),RK=()=>{let{currentScreen:t}=$u(),e=$0((s=>s.inProgressMfaFlow)),n=()=>$0.setState({inProgressMfaFlow:void 0}),{component:r,isLoading:i}=LMe();return(function(){let{isModalOpen:s}=rb(),{headless:a}=Ta(),{currentScreen:c}=$u(),{status:u,execute:d,reset:h,enabled:p}=kK(),[m,g]=Y.useState(!1);Y.useEffect((()=>{!s&&p&&h()}),[s,p,h]),Y.useEffect((()=>{c?ZE[c]().then((b=>{g(!!b.default.isCaptchaRequired)})).catch((()=>{g(!1)})):g(!1)}),[c]),Y.useEffect((()=>{s&&m&&!a&&u==="ready"&&p&&d()}),[s,m,a,u,p,d])})(),t||e!=="txn"?i?he.jsx(zMe,{}):r?he.jsxs(he.Fragment,{children:[he.jsx(Mz,{$if:!!e,children:he.jsx(Y.Suspense,{children:he.jsx(r,{})})}),he.jsxs(Y.Suspense,{children:[e==="txn"&&he.jsx(XU,{onClose:n}),e==="auth"&&he.jsx(jMe,{})]})]}):null:he.jsxs(Y.Suspense,{children:[he.jsx(XU,{onClose:n}),";"]})},FMe=()=>{let t=Y.useRef(null);return he.jsx(WMe,{style:{height:Fue(t)},id:"privy-modal-content",children:he.jsx("div",{ref:t,children:he.jsx(RK,{})})})};const qMe=({open:t})=>{let e=Ta(),{gracefulClosePrivyModal:n}=(()=>{let{closePrivyModal:i}=Ia(),{onUserCloseViaDialogOrKeybindRef:s}=$u();return{gracefulClosePrivyModal:Y.useCallback((()=>{if(!s?.current)return i({shouldCallAuthOnSuccess:!1});s.current()}),[i])}})(),r=$0((i=>i.inProgressMfaFlow));return RMe({onMfaRequired:()=>{e.mfa.noPromptOnMfaRequired||$0.setState({inProgressMfaFlow:"txn"})}}),e.render.standalone?he.jsx(ZU,{children:he.jsx(NK,{id:"privy-modal-content",children:he.jsx(RK,{})})}):he.jsx(PMe,{open:!(!t&&!r),id:"privy-dialog","aria-label":"log in or sign up","aria-labelledby":"privy-dialog-title",onClick:()=>n(),children:he.jsx(ZU,{children:he.jsx(FMe,{})})})};let NK=Gn.div.withConfig({displayName:"ContentWrapper",componentId:"sc-9b080f09-0"})(["display:flex;flex-direction:column;text-align:center;font-size:14px;line-height:20px;width:100%;background:var(--privy-color-background);padding:0 16px;"]),WMe=Gn(NK).withConfig({displayName:"BaseModal",componentId:"sc-9b080f09-1"})(["transition:height 150ms ease-out;overflow-x:hidden;overflow-y:auto;scrollbar-width:none;max-height:calc(100svh - 32px);border-radius:var(--privy-border-radius-lg) var(--privy-border-radius-lg) 0 0;box-shadow:0px 0px 36px rgba(55,65,81,0.15);@media (min-width:441px){box-shadow:0px 8px 36px rgba(55,65,81,0.15);border-radius:var(--privy-border-radius-lg);}"]),VMe=Gn.div.withConfig({displayName:"LoadingScreenContainer",componentId:"sc-9b080f09-2"})(["display:flex;align-items:center;justify-content:center;min-height:300px;padding:2rem;"]);function HMe(t){let e=Y.useRef(null),n=Y.useRef();return Y.useEffect((()=>{n.current?.remove(),n.current=(function({botUsername:r,scriptHost:i}){let s=document.createElement("script"),{origin:a}=new URL(i);return s.async=!0,s.src=`${a}/js/telegram-login.js`,s.setAttribute("data-telegram-login",r),s.setAttribute("data-request-access","write"),s.setAttribute("data-lang","en"),s})(t),e.current?.after(n.current)}),[t]),he.jsx("div",{ref:e,hidden:!0})}const GMe=()=>{let{ready:t}=rC(),{client:e}=Ia();return Y.useEffect((()=>{let n=()=>{if(!e.connectors||!t)return;let r=e.connectors.wallets.map((i=>({address:i.address,connectorType:i.connectorType,walletClientType:i.walletClientType,connectedAt:i.connectedAt,id:i.meta.id})));nt.put(Dj,r)};return e.connectors?.on("walletsUpdated",n),()=>{e.connectors?.off("walletsUpdated",n)}}),[t,e.connectors]),null};class F3 extends Af{async initialize(){let e=await this.createProvider();this.provider=e,this.proxyProvider.setWalletProvider(e),this.subscribeListeners(),e.session&&(this.walletProvider?.session?.peer.metadata.url&&(this.walletEntry=tx(this.walletProvider?.session?.peer.metadata.url),this.walletClientType=this.walletEntry?.slug||"unknown"),this.connected=!0,await this.syncAccounts()),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),this.getConnectedWallet()}async isConnected(){return!!this.walletProvider?.connected}get walletBranding(){let e=this.walletProvider?.session?.peer.metadata.icons?.[0];return{name:Lue(this.walletProvider?.session?.peer.metadata.name||"")||"WalletConnect",icon:typeof e=="string"?e:Tz,id:this.walletProvider?.session?.peer.metadata.name.toLowerCase()||"wallet_connect_v2"}}async resetConnection(e){this.walletProvider&&this.walletProvider.connected&&(await this.walletProvider.disconnect(),this.walletProvider.signer.session=void 0,this.walletClientType=e,this.redirectUri=void 0,this.fallbackUniversalRedirectUri=void 0,Zhe(),this.onDisconnect())}async promptConnection(){if(this.provider)return new Promise(((e,n)=>{(async()=>{let r="",i=await Promise.race([this.walletProvider?.enable(),this.proxyProvider.walletTimeout()]);if(i?.length&&(r=i[0]),!r||r==="")throw new zn("Unable to retrieve address");this.walletProvider?.session?.peer.metadata.url&&(this.walletEntry=tx(this.walletProvider?.session?.peer.metadata.url),this.walletClientType=this.walletEntry?.slug||"unknown",this.proxyProvider.rpcTimeoutDuration=iC(this.rpcConfig,this.walletClientType)),this.connected=!0,await this.syncAccounts(i),e()})().catch((r=>{n(r?zu(r):new zn("Unknown error during connection"))}))}))}disconnect(){this.walletProvider?.disconnect().then((()=>this.onDisconnect())).catch((()=>console.warn("Unable to disconnect WalletConnect provider")))}get walletProvider(){return this.proxyProvider.walletProvider}setWalletProvider(e){this.proxyProvider.setWalletProvider(e)}async createProvider(){let e={};for(let s of this.chains){let a=zue(s.id,this.chains,this.rpcConfig,this.privyAppId);a&&(e[s.id]=a)}let n=this.shouldEnforceDefaultChainOnConnect?[this.defaultChain.id]:[],r=this.chains.map((s=>s.id)),i=await T8e.init({projectId:this.walletConnectCloudProjectId,chains:n,optionalChains:r,optionalEvents:zH,optionalMethods:jH,rpcMap:e,showQrModal:!1,metadata:{description:this.privyAppName,name:this.privyAppName,url:window.location.origin,icons:[]}});return i.on("display_uri",(s=>{if(i.signer.abortPairingAttempt(),Jhe(),!this.showPrivyQrModal)throw new zn("WalletConnect modal not available - Privy handles wallet connections through its own UI");if(Vo.isMobile&&this.walletEntry){let{redirect:a,href:c}=kF(s,this.walletEntry);$F(a,"_self"),Xhe({href:c,name:this.walletEntry.metadata?.shortName||this.walletEntry.name});let u=pP(s,this.walletEntry);return this.redirectUri=a,this.fallbackUniversalRedirectUri=u?.redirect,this.showPrivyQrModal({native:a,universal:a})}if(this.redirectUri=void 0,this.walletEntry){let a=pP(s,this.walletEntry);this.fallbackUniversalRedirectUri=a?.redirect}this.showPrivyQrModal({native:s,universal:void 0})})),i.on("connect",(()=>{i.session?.peer.metadata.url&&(this.walletEntry=tx(i.session?.peer.metadata.url),this.walletClientType=this.walletEntry?.slug||"unknown")})),i}async enableProvider(){return this.walletProvider?.connected?Promise.resolve(this.walletProvider.accounts):await this.walletProvider?.enable()}setWalletEntry(e,n){this.walletEntry=e,this.showPrivyQrModal=n}constructor({walletConnectCloudProjectId:e,rpcConfig:n,chains:r,defaultChain:i,shouldEnforceDefaultChainOnConnect:s,privyAppId:a,privyAppName:c,walletClientType:u}){super(u||"unknown",r,i,n),this.connectorType="wallet_connect_v2",this.privyAppId=a,this.privyAppName=c,this.walletConnectCloudProjectId=e,this.rpcConfig=n,this.shouldEnforceDefaultChainOnConnect=s,this.proxyProvider=new Sf(void 0,this.rpcTimeoutDuration),u&&(this.walletEntry=Uue(u),this.walletClientType=u)}}const KMe=["error","invalid_request_arguments","wallet_not_on_device","invalid_recovery_pin","insufficient_funds","missing_or_invalid_mfa","mfa_verification_max_attempts_reached","mfa_timeout","twilio_verification_failed"];class er extends Error{constructor(e,n){super(n),this.type=e}}function Qp(t){let e=t.type;return typeof e=="string"&&KMe.includes(e)}function T_(t){return Qp(t)&&t.type==="wallet_not_on_device"}function Nze(t){return Qp(t)&&(t.type==="invalid_recovery_pin"||t.type==="invalid_request_arguments")}function $ze(t){return!!Qp(t)&&t.type==="mfa_timeout"}function Pze(t){return!!Qp(t)&&t.type==="missing_or_invalid_mfa"}function Dze(t){return!!Qp(t)&&t.type==="mfa_verification_max_attempts_reached"}function Mze(t){return!(!Qp(t)||!t.message.includes("code 429"))}function Uze(t){return!!(function(e){let n=e.type;return typeof n=="string"&&n==="client_error"})(t)&&t.message==="MFA canceled"}async function ca(t,e,n,r,i,s=!1){let a=s,c=async d=>{if(a&&e&&e.length>0){d===(s?0:1)?i("configureMfa","onMfaRequired",{mfaMethods:e}):r.current?.reject(new er("missing_or_invalid_mfa","MFA verification failed, retry."));let h=await new Promise(((p,m)=>{n.current={resolve:p,reject:m},setTimeout((()=>{let g=new er("mfa_timeout","Timed out waiting for MFA code");r.current?.reject(g),m(g)}),3e5)}));return await t(h)}return await t()},u=null;for(let d=0;d<4;d++)try{u=await c(d),r.current?.resolve(void 0);break}catch(h){if(h.type!=="missing_or_invalid_mfa")throw r.current?.resolve(void 0),h;a=!0}if(u===null){let d=new er("mfa_verification_max_attempts_reached","Max MFA verification attempts reached");throw r.current?.reject(d),d}return u}var JU;let YMe=(JU=0,()=>"id-"+JU++);function Cr(t){return t.error!==void 0}let pr=new class{enqueue(t,e){this.callbacks[t]=e}dequeue(t,e){let n=this.callbacks[e];if(!n)throw Error(`cannot dequeue ${t} event: no event found for id ${e}`);switch(delete this.callbacks[e],t){case"privy:iframe:ready":case"privy:user-signer:sign":case"privy:wallets:add":case"privy:wallets:import":case"privy:wallets:set-recovery":case"privy:wallets:connect":case"privy:wallets:recover":case"privy:wallets:rpc":case"privy:wallet:create":case"privy:mfa:verify":case"privy:mfa:init-enrollment":case"privy:mfa:submit-enrollment":case"privy:mfa:unenroll":case"privy:mfa:clear":case"privy:auth:unlink-passkey":case"privy:farcaster:init-signer":case"privy:farcaster:sign":case"privy:solana-wallet:create":case"privy:delegated-actions:consent":return n;default:throw Error(`invalid wallet event type ${t}`)}}constructor(){this.callbacks={}}},q6=new Map,ZMe=(t,e)=>typeof e=="bigint"?e.toString():e;function Or(t,e,n,r){let i=n.contentWindow;if(!i)throw Error("iframe not initialized");let s=((c,u)=>`${c}${JSON.stringify(u,ZMe)}`)(t,e);if(t==="privy:wallet:create"){let c=q6.get(s);if(c)return c}let a=new Promise(((c,u)=>{let d=YMe();pr.enqueue(d,{resolve:c,reject:u}),i.postMessage({id:d,event:t,data:e},r)})).finally((()=>{q6.delete(s)}));return q6.set(s,a),a}function XMe(t){let e=Bj(),n=Y.useRef(null),r=Y.useRef(t.mfaMethods),i=dE(),[s,a]=Y.useState(!1);return Y.useEffect((()=>{r.current=t.mfaMethods}),[t.mfaMethods]),Y.useEffect((()=>{if(!s)return;let c=n.current;if(!c)return;function u(p){var m;p&&p.origin===t.origin&&typeof(m=p.data).event=="string"&&/^privy:.+/.test(m.event)&&(function(g){switch(g.event){case"privy:iframe:ready":let b=pr.dequeue(g.event,g.id);return Cr(g)?b.reject(new er(g.error.type,g.error.message)):b.resolve(g.data);case"privy:user-signer:sign":{let S=pr.dequeue(g.event,g.id);return Cr(g)?S.reject(new er(g.error.type,g.error.message)):S.resolve(g.data)}case"privy:wallets:add":{let S=pr.dequeue(g.event,g.id);return Cr(g)?S.reject(new er(g.error.type,g.error.message)):S.resolve(g.data)}case"privy:wallets:set-recovery":{let S=pr.dequeue(g.event,g.id);return Cr(g)?S.reject(new er(g.error.type,g.error.message)):S.resolve(g.data)}case"privy:wallets:connect":{let S=pr.dequeue(g.event,g.id);return Cr(g)?S.reject(new er(g.error.type,g.error.message)):S.resolve(g.data)}case"privy:wallets:recover":{let S=pr.dequeue(g.event,g.id);return Cr(g)?S.reject(new er(g.error.type,g.error.message)):S.resolve(g.data)}case"privy:wallets:rpc":{let S=pr.dequeue(g.event,g.id);return Cr(g)?S.reject(new er(g.error.type,g.error.message)):S.resolve(g.data)}case"privy:wallet:create":let v=pr.dequeue(g.event,g.id);return Cr(g)?v.reject(new er(g.error.type,g.error.message)):v.resolve(g.data);case"privy:wallets:import":let E=pr.dequeue(g.event,g.id);return Cr(g)?E.reject(new er(g.error.type,g.error.message)):E.resolve(g.data);case"privy:mfa:verify":let O=pr.dequeue(g.event,g.id);return Cr(g)?O.reject(new er(g.error.type,g.error.message)):O.resolve(g.data);case"privy:mfa:init-enrollment":{let S=pr.dequeue(g.event,g.id);return Cr(g)?S.reject(new er(g.error.type,g.error.message)):S.resolve(g.data)}case"privy:mfa:submit-enrollment":{let S=pr.dequeue(g.event,g.id);return Cr(g)?S.reject(new er(g.error.type,g.error.message)):S.resolve(g.data)}case"privy:mfa:unenroll":{let S=pr.dequeue(g.event,g.id);return Cr(g)?S.reject(new er(g.error.type,g.error.message)):S.resolve(g.data)}case"privy:mfa:clear":{let S=pr.dequeue(g.event,g.id);return Cr(g)?S.reject(new er(g.error.type,g.error.message)):S.resolve(g.data)}case"privy:auth:unlink-passkey":{let S=pr.dequeue(g.event,g.id);return Cr(g)?S.reject(new er(g.error.type,g.error.message)):S.resolve(g.data)}case"privy:solana-wallet:create":let k=pr.dequeue(g.event,g.id);return Cr(g)?k.reject(new er(g.error.type,g.error.message)):k.resolve(g.data);case"privy:farcaster:init-signer":{let S=pr.dequeue(g.event,g.id);return Cr(g)?S.reject(new er(g.error.type,g.error.message)):S.resolve(g.data)}case"privy:farcaster:sign":{let S=pr.dequeue(g.event,g.id);return Cr(g)?S.reject(new er(g.error.type,g.error.message)):S.resolve(g.data)}case"privy:delegated-actions:consent":{let S=pr.dequeue(g.event,g.id);return Cr(g)?S.reject(new er(g.error.type,g.error.message)):S.resolve(g.data)}default:console.warn("Unsupported wallet proxy method:",g)}})(p.data)}let d={signWithUserSigner:p=>ca((m=>Or("privy:user-signer:sign",{...p,...m},c,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i),addWallet:p=>ca((m=>Or("privy:wallets:add",{...p,...m},c,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i),setRecovery:p=>ca((m=>Or("privy:wallets:set-recovery",{...p,...m},c,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i),connect:p=>ca((m=>Or("privy:wallets:connect",{...p,...m},c,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i),recover:p=>ca((m=>Or("privy:wallets:recover",{...p,...m},c,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i,!p.recoveryAccessToken&&!p.recoveryPassword&&!p.recoverySecretOverride),rpc:p=>ca((m=>Or("privy:wallets:rpc",{...p,...m},c,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i),create:p=>Or("privy:wallet:create",p,c,t.origin),importWallet:p=>Or("privy:wallets:import",p,c,t.origin),createSolana:p=>ca((m=>Or("privy:solana-wallet:create",{...p,...m},c,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i),createDelegatedAction:p=>Or("privy:delegated-actions:consent",p,c,t.origin),verifyMfa:p=>ca((m=>Or("privy:mfa:verify",{...p,...m},c,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i,!0),initEnrollMfa:p=>ca((m=>Or("privy:mfa:init-enrollment",{...p,...m},c,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i),submitEnrollMfa:p=>ca((m=>Or("privy:mfa:submit-enrollment",{...p,...m},c,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i),unenrollMfa:p=>ca((m=>Or("privy:mfa:unenroll",{...p,...m},c,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i),clearMfa:p=>Or("privy:mfa:clear",p,c,t.origin),unlinkPasskeyAccount:p=>ca((m=>Or("privy:auth:unlink-passkey",{...p,...m},c,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i),initFarcasterSigner:p=>Or("privy:farcaster:init-signer",p,c,t.origin),signFarcasterMessage:p=>Or("privy:farcaster:sign",p,c,t.origin)};window.addEventListener("message",u);let h=new AbortController;return c5((()=>Or("privy:iframe:ready",{},c,t.origin)),{abortSignal:h.signal}).then((()=>t.onLoad(d)),((...p)=>{console.warn("Privy iframe failed to load: ",...p),t.onLoadFailed()})),()=>{window.removeEventListener("message",u),h.abort()}}),[s]),e?he.jsx("iframe",{ref:n,width:"0",height:"0",style:{display:"none",height:"0px",width:"0px"},onLoad:()=>a(!0),src:U8e({origin:t.origin,path:`/apps/${t.appId}/embedded-wallets`,query:{caid:t.clientAnalyticsId,client_id:t.appClientId}})}):null}const JMe=({address:t,user:e})=>{let n=e.linkedAccounts.find((r=>r.type==="wallet"&&r.walletClientType==="privy"&&r.address===t));if(!n)throw new se("Address to delegate is not associated with current user.");if(!lE(n))throw new se(`useDelegatedActions is not supported for ${n.chainType} wallets. Use the useSessionSigners hook to provision server side access on behalf of your users.`);return{address:n.address,chainType:n.chainType,walletIndex:n.walletIndex??0}},QMe=({address:t,user:e})=>{let n=e.linkedAccounts.find((i=>i.type==="wallet"&&i.walletClientType==="privy"&&i.address===t));if(!n)throw new se("Address to delegate is not associated with current user.");let r=n.imported?n:h0(e);if(!r)throw new se("Unable to determine root address for delegated address.");if(!lE(r))throw new se(`useDelegatedActions is not supported for ${r.chainType} wallets. Use the useSessionSigners hook to provision server side access on behalf of your users.`);return{address:r.address,chainType:r.chainType,imported:r.imported}},QU=t=>t.linkedAccounts.filter((e=>e.type==="wallet"&&e.walletClientType==="privy"&&e.delegated)),eB="popup-privy-oauth",tB="PRIVY_OAUTH_USE_BROADCAST_CHANNEL";class eUe{async authenticate(){if(!this.api)throw new se("Auth flow has no API instance");try{return await this.api.post(TF,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:this.meta.codeVerifier,provider:this.meta.provider})}catch(e){throw Gt(e)}}async link(){if(!this.api)throw new se("Auth flow has no API instance");try{return await this.api.post(IF,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:this.meta.codeVerifier,provider:this.meta.provider})}catch(e){throw Gt(e)}}constructor({authorizationCode:e,stateCode:n,codeVerifier:r,provider:i}){this.meta={authorizationCode:e,stateCode:n,codeVerifier:r,provider:i}}}async function $K({api:t,requesterAppId:e,providerAppId:n}){let r=(await t.get(`/api/v1/apps/${e}/cross-app/connections`)).connections.find((i=>i.provider_app_id===n));if(!r)throw new se("Invalid connected app");return{name:r.provider_app_name,logoUrl:r.provider_app_icon_url||void 0,apiUrl:r.provider_app_custom_api_url,readOnly:r.read_only,customAuthAuthorizeUrl:r.provider_app_custom_auth_authorize_url,customAuthTransactUrl:r.provider_app_custom_auth_transact_url}}const Pv=async({user:t,address:e,client:n,request:r,requesterAppId:i,reconnect:s})=>{n.createAnalyticsEvent({eventName:"cross_app_request_started",payload:{address:e,method:r.method}});let a=t?.linkedAccounts.find((p=>p.type==="cross_app"&&(p.embeddedWallets.some((m=>m.address===e))||p.smartWallets.some((m=>m.address===e)))));if(!t||!a)throw n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Cannot request a signature with this wallet address",address:e}}),new se("Cannot request a signature with this wallet address");let c=n.getProviderAccessToken(a.providerApp.id),u=await $K({api:n.api,requesterAppId:i,providerAppId:a.providerApp.id});if(!c){if(u.readOnly)throw console.error("cannot transact against a read-only provider app"),new se("Cannot transact against a read-only provider app");await s({appId:a.providerApp.id,action:"link"})&&(c=n.getProviderAccessToken(a.providerApp.id))}if(!c)throw n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Transactions require a valid token",address:e}}),new se("Transactions require a valid token");let d=new URL(u.customAuthTransactUrl||`${u.apiUrl}/oauth/transact`);d.searchParams.set("token",c||""),d.searchParams.set("request",tUe(r));let h=EF({location:d.href});if(!h)throw n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Missing token",address:e}}),new se("Failed to initialize signature request");return new Promise(((p,m)=>{let g=setTimeout((()=>{E(),m(new se("Request timeout")),n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Request timeout",address:e}})}),12e4),b=setInterval((()=>{h.closed&&(E(),m(new se("User rejected request")),n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"User rejected request",address:e}}))}),300),v=O=>{O.data&&(O.data.token?.action==="set"&&O.data.token?.value!==void 0?n.storeProviderAccessToken(a.providerApp.id,O.data.token.value):O.data.token?.action==="clear"&&n.storeProviderAccessToken(a.providerApp.id,null),O.data.type==="PRIVY_CROSS_APP_ACTION_RESPONSE"&&O.data.result&&(E(),p(O.data.result),n.createAnalyticsEvent({eventName:"cross_app_request_success",payload:{address:e,method:r.method}})),O.data.type==="PRIVY_CROSS_APP_ACTION_ERROR"&&O.data.error&&(E(),m(O.data.error),n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:O.data.error,address:e}})))};window.addEventListener("message",v);let E=()=>{h.close(),clearInterval(b),clearTimeout(g),window.removeEventListener("message",v)}}))};let tUe=t=>JSON.stringify({content:{request:{request:q3(t,xt)}},timestamp:Date.now(),callbackUrl:window.origin});const q3=(t,e)=>typeof t=="bigint"?e(t):Array.isArray(t)?t.map((n=>q3(n,e))):t&&typeof t=="object"?Object.fromEntries(Object.entries(t).map((([n,r])=>[n,q3(r,e)]))):t;function nUe({isCreatingWallet:t,skipSplashScreen:e}){return t?"EmbeddedWalletPasswordCreateScreen":e?"EmbeddedWalletPasswordUpdateScreen":"EmbeddedWalletPasswordUpdateSplashScreen"}function rUe({walletAction:t,availableRecoveryMethods:e,legacySetWalletPasswordFlow:n,isResettingPassword:r,showAutomaticRecovery:i}){return i?"SetAutomaticRecoveryScreen":n||e.length===1?nUe({isCreatingWallet:t==="create",skipSplashScreen:r}):"RecoverySelectionScreen"}function iUe(t){switch(t){case"user-passcode":return"PasswordRecoveryScreen";case"google-drive":case"icloud":return"RecoveryOAuthScreen";default:throw Error("Recovery method not supported")}}function Bze(t,e,n,r,i,s,a){return{...t,funding:t?.funding?{...t.funding,fundingResult:{status:e,address:t.funding.address,fundingMethod:void 0,transactionHash:n,amount:t.funding.amount,assetType:i?s?.symbol||"ETH":a.nativeCurrency.symbol||"ETH",metadata:{walletClientType:r}}}:void 0,solanaFundingData:t?.solanaFundingData,sendTransaction:t?.sendTransaction}}const W6=new Map([["FundingMethodSelectionScreen",null],["TransferFromWalletScreen","external"],["FundingAmountEditScreen","external"],["ConnectOnlyLandingScreen","external"],["ConnectOnlyStatusScreen","external"],["AwaitingExternalEthereumTransferScreen","external"],["AwaitingEvmToSolBridgingScreen","external"],["AwaitingSolToEvmBridgingScreen","external"],["ManualTransferScreen","manual"],["MoonpayStatusScreen","moonpay"]]);function nB(t){let e=t.toLowerCase();return!!window?.webkit?.messageHandlers?.ReactNativeWebView||!!window?.ReactNativeWebView||["fbav","fban","instagram","snapchat","linkedinapp"].some((n=>e.includes(n)))}async function sUe({rpc:t,address:e}){return(await t.getBalance(e,{commitment:"confirmed"}).send()).value??0n}let aUe={apple_oauth:"apple",custom_auth:"custom",discord_oauth:"discord",email:"email",farcaster:"farcaster",github_oauth:"github",google_oauth:"google",instagram_oauth:"instagram",linkedin_oauth:"linkedin",passkey:"passkey",phone:"sms",spotify_oauth:"spotify",telegram:"telegram",tiktok_oauth:"tiktok",line_oauth:"line",twitch_oauth:"twitch",twitter_oauth:"twitter",wallet:"siwe",smart_wallet:"siwe",cross_app:"privy:"};const oUe=t=>{if(Hj(t))return{displayName:t.replace("custom:",""),loginMethod:"custom"};let e=aUe[t];return t==="wallet"||t==="phone"?{displayName:t,loginMethod:e}:{displayName:e,loginMethod:e}},cUe=(t,e)=>!zc(t)&&(e==="all-users"||e==="users-without-wallets"&&!lUe(t).length);let lUe=t=>t.linkedAccounts.filter((e=>e.type==="wallet"&&e.chainType==="ethereum"));const uUe=(t,e)=>!KI(t)&&(e==="all-users"||e==="users-without-wallets"&&!dUe(t).length);let dUe=t=>t.linkedAccounts.filter((e=>e.type==="wallet"&&e.chainType==="solana"));async function rB(t,e,n,r){let i=_1(t),{chain:s,...a}=await(async()=>r?await r():await e.prepareTransactionRequest({...i,account:{address:n,type:"json-rpc"}}))();return{...a,type:pj[a.type]}}const fUe=()=>{let t=Ta(),{user:e}=rb(),{client:n,refreshSessionAndUser:r,walletProxy:i}=Ia();return{migrate:Y.useCallback((async()=>{if(t.embeddedWallets.mode==="legacy-embedded-wallets-only")return{success:!0};if(!e)throw new se("User must be authenticated before migrating wallets",Ae.MUST_BE_AUTHENTICATED);if(!i)throw new se("Cannot connect to wallet proxy");let s=await n.getAccessToken();if(!s)throw new se("User must be authenticated before migrating wallets",Ae.MUST_BE_AUTHENTICATED);let a=e.linkedAccounts.filter((d=>d.type==="wallet"&&d.walletClientType==="privy"&&lE(d)&&!Si(d)));if(a.length===0)return{success:!0};let c=a.filter((d=>d.imported)),u=a.filter((d=>!d.imported));if(u.length>0){let d=u.find((m=>m.chainType==="ethereum"&&m.walletIndex===0))??u.find((m=>m.chainType==="solana"&&m.walletIndex===0))??null;if(!d)throw new se("Primary wallet not found");let{entropyId:h,entropyIdVerifier:p}=V1(d);try{await i.connect({accessToken:s,entropyId:h,entropyIdVerifier:p})}catch(m){if(!T_(m)||d.recoveryMethod!=="privy")throw m;await i.recover({accessToken:s,entropyId:h,entropyIdVerifier:p})}await i.createDelegatedAction({accessToken:s,rootWallet:{address:d.address,chainType:d.chainType,imported:!1},delegatedWallets:u.map((m=>({address:m.address,chainType:m.chainType,walletIndex:m.walletIndex??0})))})}for(let d of c){let{entropyId:h,entropyIdVerifier:p}=V1(d);try{await i.connect({accessToken:s,entropyId:h,entropyIdVerifier:p})}catch(m){if(!T_(m)||d.recoveryMethod!=="privy")throw m;await i.recover({accessToken:s,entropyId:h,entropyIdVerifier:p})}await i.createDelegatedAction({accessToken:s,rootWallet:{address:d.address,chainType:d.chainType,imported:!0},delegatedWallets:[{address:d.address,chainType:d.chainType,walletIndex:d.walletIndex??0}]})}return await r(),{success:!0}}),[t.embeddedWallets.mode,e,i,n,r])}},hUe=({disabled:t})=>{let{migrate:e}=fUe(),{user:n}=rb(),{walletProxy:r}=Ia(),i=Y.useRef(!1);return Y.useEffect((()=>{!t&&!i.current&&n&&r&&(i.current=!0,e().catch((s=>{console.debug("Unable to migrate wallets: ",s)})).finally((()=>{i.current=!1})))}),[n,r,t,e]),null},pUe=t=>({id:t.id,raw_id:t.rawId,response:{client_data_json:t.response.clientDataJSON,authenticator_data:t.response.authenticatorData,signature:t.response.signature,user_handle:t.response.userHandle},authenticator_attachment:t.authenticatorAttachment,client_extension_results:{app_id:t.clientExtensionResults.appid,cred_props:t.clientExtensionResults.credProps,hmac_create_secret:t.clientExtensionResults.hmacCreateSecret},type:t.type}),W3=Ef((()=>({ethereum:[]}))),Dv=()=>W3.getState().ethereum;class PK{async authenticate(){if(!this.api)throw new se("Auth flow has no API instance");try{return await this.api.post(zhe,{token:this.meta.token})}catch(e){throw Gt(e)}}async link(){if(!this.api)throw new se("Auth flow has no API instance");try{return await this.api.post(Fhe,{token:this.meta.token})}catch(e){throw Gt(e)}}constructor(e){this.meta={token:e}}}function yUe({subscribe:t,getExternalJwt:e,enabled:n=!0,onAuthenticated:r,onUnauthenticated:i,onError:s}){let{client:a,onCustomAuthAuthenticated:c}=Ia(),{logout:u,authenticated:d,ready:h}=Cp();if(!a)throw new se("`useSyncJwtBasedAuthState` must be used within a `PrivyProvider`");let[p,m]=Y.useState({status:"initial"}),g=Y.useRef(),b=Y.useRef(!1),v=Y.useRef(e);Y.useEffect((()=>{v.current=e}),[e]);let E=Y.useRef(r);Y.useEffect((()=>{E.current=r}),[r]);let O=Y.useRef(i);Y.useEffect((()=>{O.current=i}),[i]);let k=Y.useRef(s);return Y.useEffect((()=>{k.current=s}),[s]),Y.useEffect((()=>{if(!n||!h)return;let S=async()=>{if(!b.current){b.current=!0;try{m({status:"loading"});let A=await v.current();if(g.current!==void 0&&g.current===A)return void m({status:"done"});if(!A)return d&&(await u(),O.current?.()),g.current=A,void m({status:"done"});a.startAuthFlow(new PK(A));let{user:C,isNewUser:I=!1}=await a.authenticate();if(!C)throw new se("Failed to sync with custom auth provider");E.current?.({user:C,isNewUser:I}),c(C,I),g.current=A,m({status:"done"})}catch(A){if(console.warn(A),await u().catch((()=>{})),O.current?.(),A instanceof B1&&A.privyErrorCode===Ae.LINKED_TO_ANOTHER_USER)return m({status:"initial"}),void setTimeout((()=>{S()}),0);k.current?.(A),m({status:"error",error:A})}finally{b.current=!1}}};return S(),t(S)}),[t,a,c,d,u,n,h]),n?{state:p}:{state:{status:"not-enabled"}}}let mUe=Ef((()=>({jwtAuthFlowState:{status:"not-enabled"}})));function gUe({customAuth:t}){let{jwtAuthFlowState:e}=(function({customAuth:n}){let r=dE(),i=Y.useRef(),s=Y.useCallback((u=>(i.current=u,()=>{i.current=void 0})),[]),a=n?.getCustomAccessToken??(()=>Promise.resolve(void 0)),{state:c}=yUe({enabled:n?.enabled===!0,subscribe:s,getExternalJwt:a,onAuthenticated:({user:u,isNewUser:d})=>{r("login","onComplete",{user:u,isNewUser:d,wasAlreadyAuthenticated:!1,loginMethod:"custom",loginAccount:null}),r("customAuth","onAuthenticated",{user:u})},onUnauthenticated:()=>{r("customAuth","onUnauthenticated")},onError:u=>{r("login","onError",u.privyErrorCode||Ae.UNKNOWN_AUTH_ERROR)}});return Y.useEffect((()=>{(async()=>n&&!n.isLoading&&i.current?.())()}),[n?.enabled,n?.getCustomAccessToken,n?.isLoading]),{jwtAuthFlowState:c}})({customAuth:t});return Y.useEffect((()=>{mUe.setState({jwtAuthFlowState:e})}),[e]),null}const DK=Y.createContext(!1);let MK,UK,BK,LK,jK;const bUe=t=>{let e=t.client,n=t.privy,r=tpe(),i=Ta();Nz(o5(i?.appearance.walletList??[]));let[s,a]=Y.useState(!1),c=$0((U=>U.inProgressMfaFlow)),[u,d]=Y.useState(!1),[h,p]=Y.useState(null),m=W3((U=>U.ethereum)),[g,b]=Y.useState(void 0),[v,E]=Y.useState(!1),[O,k]=Y.useState(null),[S,A]=Y.useState(!1),[C,I]=Y.useState({status:"disconnected",connectedWallet:null,connectError:null,connector:null,connectRetry:fe}),[$,z]=Y.useState({status:"initial"}),[L,B]=Y.useState({status:"initial"}),[V,D]=Y.useState({status:"initial"}),[F,K]=Y.useState({status:"initial"}),[T,x]=Y.useState({status:"initial"}),[N,j]=Y.useState({status:"initial"}),[P,H]=Y.useState(null),M=Bj(),[G,J]=Y.useState({}),[X,Q]=Y.useState(null),ge=Y.useRef(null),[we,Te]=Y.useState(!1),[Ee,Pe]=Y.useState(!1),qe=Y.useRef(null),rt=Y.useRef(null),ye=Y.useRef(Mue),[Tt,Kt]=Y.useState(!1),[wt,yi]=Y.useState(!1),Ht=Y.useCallback((U=>{yi(U),!U&&O&&ZE[O]().then((W=>{W.default.isUnauthenticatedScreem&&k(null)}))}),[O]);e.onStoreCustomerAccessToken=U=>{U&&Oe(ye,"accessToken","onAccessTokenGranted",{accessToken:U})},e.onDeleteCustomerAccessToken=()=>{p(null),Ht(!1),Oe(ye,"accessToken","onAccessTokenRemoved")};let Le=Y.useRef(null),He=Y.useRef(null),mi=Y.useRef(!1),gi=({showWalletUIs:U})=>mi.current?mi.current:U!==void 0?!U:!i.embeddedWallets.showWalletUIs,dt=U=>{k(U),setTimeout((()=>{a(!0)}),15)};Y.useEffect((()=>{if(!h)return void e.connectors?.removeEmbeddedWalletConnectors();let U=zc(h),W=Gj(h),te=XT(h);U&&W.length||e.connectors?.removeEmbeddedWalletConnectors(),te.length||e.connectors?.removeImportedWalletConnectors(),e.connectors?P?(U&&e.connectors.addEmbeddedWalletConnectors({walletProxy:P,user:h,embeddedWallets:W,defaultChain:i.defaultChain,appId:t.appId,privyClient:n}),te.forEach((ee=>e.connectors?.addImportedWalletConnector(P,ee.address,i.defaultChain,t.appId)))):console.debug("Failed to add embedded wallet connector: Wallet proxy not initialized"):console.debug("Failed to add embedded wallet connector: Client connectors not initialized")}),[P,h]),Y.useEffect((()=>{P&&ge.current?.(P)}),[P]);let _n=Y.useCallback(((U,W)=>{p(U),E(W),Ht(!0),Pe(!0)}),[]);Y.useEffect((()=>{Ee&&P&&h&&(async()=>{let U=cUe(h,i.embeddedWallets.ethereum.createOnLogin),W=uUe(h,i.embeddedWallets.solana.createOnLogin),te=await In();if(te){if(U&&W){let ee=await P.create({accessToken:te});return await P.createSolana({accessToken:te,ethereumAddress:ee?.address}),void Pe(!1)}if(W)return await P.createSolana({accessToken:te,ethereumAddress:zc(h)?.address}),await vt.refreshSessionAndUser(),void Pe(!1);if(U)return await P.create({accessToken:te}),void Pe(!1)}})().catch(console.error)}),[Ee&&P&&h]),Y.useEffect((()=>{if(i.externalWallets.solana.connectors)return i.externalWallets.solana.connectors.onMount(),()=>i.externalWallets.solana.connectors?.onUnmount()}),[i.externalWallets.solana.connectors]),Y.useEffect((()=>{!u&&M&&(async function(){let U,W=Oa(),te=ms(),ee=Yfe();e.initializeConnectorManager({walletConnectCloudProjectId:i.walletConnectCloudProjectId,rpcConfig:i.rpcConfig,chains:i.chains,defaultChain:i.defaultChain,store:ee,walletList:i.appearance.walletList,shouldEnforceDefaultChainOnConnect:i.shouldEnforceDefaultChainOnConnect,externalWalletConfig:i.externalWallets,appName:i.name??"Privy",walletChainType:i.appearance.walletChainType,setBaseAccountSdk:b}),e.connectors?.on("connectorInitialized",(()=>{U&&clearTimeout(U);let Ce=e.connectors.walletConnectors.length,Ne=e.connectors.walletConnectors.reduce(((Xe,yt)=>Xe+(yt.initialized?1:0)),0);Ne===Ce?Kt(!0):U=setTimeout((()=>{console.debug({message:"Unable to initialize all expected connectors before timeout",initialized:Ne,expected:Ce}),Kt(!0)}),1500)})),e.connectors?.initialize().then((()=>{It()}));let ae=await e.getAuthenticatedUser(),le=!!ae;i.legal.requireUsersAcceptTerms&&ae&&!ae.hasAcceptedTerms?(await e.logout(),vt.setReadyToTrue(!0),Oe(ye,"logout","onSuccess")):(i.customAuth?.enabled||(Ht(!!ae),ae&&Oe(ye,"login","onComplete",{user:ae,isNewUser:!1,wasAlreadyAuthenticated:!0,loginMethod:null,loginAccount:null}),p(ae)),W?He.current=le?"link":"login":te&&!le?(He.current="login",J({telegramAuthModalData:{seamlessAuth:!0}}),dt("TelegramAuthScreen")):vt.setReadyToTrue(!!ae))})()}),[e,X,u,M]),Y.useEffect((()=>{if(u){if(!h||!h.linkedAccounts.find((U=>U.type==="wallet"&&U.walletClientType==="privy")))return void Te(!!P);if([...m].some((U=>U.walletClientType==="privy")))return void Te(!0);Te(!!P)}}),[u,h,m,P]),Y.useEffect((()=>{e.connectors?.setWalletList(i.appearance.walletList)}),[i.appearance.walletList.join()]);let Oa=()=>{let U=xMe();return U.inProgress&&U.popupFlow?window.opener.location.origin!==window.location.origin?void window.opener.postMessage({type:"PRIVY_OAUTH_ERROR",error:"Origins between parent and child windows do not match."}):U.authorizationCode==="error"?void window.opener.postMessage({type:"PRIVY_OAUTH_ERROR",error:"Something went wrong. Try again."}):void window.opener.postMessage({type:"PRIVY_OAUTH_RESPONSE",stateCode:U.stateCode,authorizationCode:U.authorizationCode}):(U.inProgress&&U.provider.startsWith("privy:")&&!U.popupFlow&&(new BroadcastChannel(eB).postMessage({type:"PRIVY_OAUTH_RESPONSE",stateCode:U.stateCode,authorizationCode:U.authorizationCode}),window.close()),!!U.inProgress&&!!U.withPrivyUi&&(e.startAuthFlow(new Lh({...U,customOAuthRedirectUrl:i.customOAuthRedirectUrl})),dt("OAuthStatusScreen"),!0))},ms=()=>{let U=(function(){let te;return(te=(function(){let ee=new URLSearchParams(window.location.search),ae=Number(ee.get("id")||""),le=ee.get("hash"),Ce=Number(ee.get("auth_date")||""),Ne=ee.get("first_name");if(ae&&Ne&&Ce&&le)return Object.fromEntries(ee.entries())})())?(YU(),{flowType:"login-url",authData:te}):(te=(function(){let ee=window.location.hash;if(!ee||!ee.startsWith("#tgWebAppData"))return;let ae=KU(ee.replace("#tgWebAppData=","")),{user:le,auth_date:Ce,hash:Ne}=ae;return le&&Ce&&Ne?ae:void 0})())?(YU(),{flowType:"web-app",authData:te}):void 0})();if(!U||!i.loginMethods.telegram||!i.loginConfig.telegramAuthConfiguration?.seamlessAuthEnabled)return;let W=new xm;return e.startAuthFlow(W),U.flowType==="login-url"&&(W.meta.telegramWebAppData=void 0,W.meta.telegramAuthResult=U.authData),U.flowType==="web-app"&&(W.meta.telegramAuthResult=void 0,W.meta.telegramWebAppData=U.authData),!0},zi=async(U,W,te,ee)=>{if(U!=="solana_adapter")mn(await e.connectors?.createEthereumWalletConnector({connectorType:U,walletClientType:W})||null,W,te,ee);else{let ae=e.connectors?.findSolanaWalletConnector(W);if(!ae)return;mn(ae,W,te,ee)}};async function mn(U,W,te,ee){if(!U)return I({status:"disconnected",connectedWallet:null,connectError:new zn("Unable to connect to wallet."),connector:null,connectRetry:fe}),ee?.(null,te);I({status:"disconnected",connectedWallet:null,connectError:null,connector:U,connectRetry:fe}),U instanceof F3&&W&&await U.resetConnection(W),I({connector:U,status:"connecting",connectedWallet:null,connectError:null,connectRetry:()=>mn(U,W,te,ee)});try{let ae=await U.connect({showPrompt:!0});if((!ae||du(ae))&&i.shouldEnforceDefaultChainOnConnect&&!i.chains.find((le=>le.id===Number(ae?.chainId.replace("eip155:",""))))&&(ae?.connectorType!=="wallet_connect_v2"||ae?.walletClientType!=="metamask")){I((le=>({...le,connector:U,status:"switching_to_supported_chain",connectedWallet:null,connectError:null,connectRetry:fe})));try{await ae?.switchChain(i.defaultChain.id),ae&&(ae.chainId=Ig(xt(i.defaultChain.id)))}catch{console.warn(`Unable to switch to default chain: ${i.defaultChain.id}`)}}return I((le=>({...le,status:"connected",connectedWallet:ae,connectError:null,connectRetry:fe}))),ae&&Oe(ye,"connectWallet","onSuccess",{wallet:ae}),ee?.(ae,te)}catch(ae){return ae instanceof ju?(console.warn(ae.cause?ae.cause:ae.message),Oe(ye,"connectWallet","onError",ae.privyErrorCode||Ae.GENERIC_CONNECT_WALLET_ERROR)):(console.warn(ae),Oe(ye,"connectWallet","onError",Ae.UNKNOWN_CONNECT_WALLET_ERROR)),I((le=>({...le,status:"disconnected",connectedWallet:null,connectError:ae}))),ee?.(null,te)}}let $r=async(U,W,te)=>{if(U===null||!du(U))return;let ee=new l1(e,U,W,te);e.startAuthFlow(ee)},Yr=async(U,W,te,ee="plain")=>{let ae=r(rpe);if(ee==="transaction"&&!ae)throw new se("useSolanaLedger plugin hook must be mounted");if(U===null||!Jue(U))return;let le=new GU(U,e,W,te,ee,ae);e.startAuthFlow(le)},It=async()=>{let U=new URLSearchParams(window.location.search),W=U.get("privy_connector"),te=U.get("privy_wallet_client"),ee=U.get("privy_connect_only")==="true";if(!W||!te)return;let ae=Yue({connectorType:W,walletClientType:te});if(!ae||!ae.isInstalled)return dt("LoginFailedScreen");if(!e.connectors)throw new se("Connector not initialized");await dt(ee?"ConnectOnlyStatusScreen":"ConnectionStatusScreen");let le=new URL(window.location.href);le.searchParams.delete("privy_connector"),le.searchParams.delete("privy_wallet_client"),le.searchParams.delete("privy_connect_only"),window.history.pushState({},"",le),zi(W,te,void 0,ee?void 0:W==="solana_adapter"?Yr:$r)};Y.useEffect((()=>{u&&wt&&h===null&&e.getAuthenticatedUser().then(p)}),[u,wt,h,e]);let it=U=>{if(!wt)throw Oe(ye,"linkAccount","onError",Ae.MUST_BE_AUTHENTICATED,{linkMethod:U}),new se("User must be authenticated before linking an account.")},ct=U=>{if(!wt||!h)return!1;if(U.walletClientType==="privy")return!0;for(let W of h.linkedAccounts)if(W.type==="wallet"&&W.address===U.address&&W.walletClientType!=="privy")return!0;return!1},ht=()=>{W3.setState((U=>{let W=e.connectors?.wallets.filter(du).map((te=>({...te,linked:ct(te),loginOrLink:async()=>{if(!await te.isConnected())throw new se("Wallet is not connected");if(te.connectorType==="embedded"&&te.walletClientType==="privy")throw new se("Cannot link or login with embedded wallet");(async ee=>{let ae;if(!e.connectors)throw new se("Connector not initialized");ae=ee.type==="ethereum"?e.connectors.findWalletConnector(ee.connectorType,ee.walletClientType)||null:e.connectors.findSolanaWalletConnector(ee.walletClientType)||null,I((le=>({...le,connector:ae,status:"connected",connectedWallet:ee,connectError:null,connectRetry:fe}))),i.captcha.enabledProvider&&!wt?(J({captchaModalData:{callback:le=>du(ee)?$r(ee,le):Yr(ee,le),userIntentRequired:!1,onSuccessNavigateTo:"ConnectionStatusScreen",onErrorNavigateTo:"ErrorScreen"}}),await dt("CaptchaScreen")):(du(ee)?await $r(ee):await Yr(ee),await dt("ConnectionStatusScreen"))})(te)},fund:async ee=>{await vt.fundWallet(te.address,ee)},unlink:async()=>{if(!wt)throw new se("User is not authenticated.");if(te.connectorType==="embedded"&&te.walletClientType==="privy")throw new se("Cannot unlink an embedded wallet");p(await e.unlinkEthereumWallet(te.address))}})))||[];return Dz(U.ethereum,W)?{}:{ethereum:W}}))};Y.useEffect((()=>{ht()}),[h?.linkedAccounts,wt,u]),Y.useEffect((()=>{if(u){if(!e.connectors)throw new se("Connector not initialized");ht(),e.connectors.on("walletsUpdated",ht)}}),[u]),Y.useEffect((()=>{[...i.loginMethodsAndOrder?.primary??[],...i.loginMethodsAndOrder?.overflow??[]].filter((U=>U.startsWith("privy:"))).forEach((U=>e.getCrossAppProviderDetails(U.replace("privy:",""))))}),[!!e]);let On=({transaction:U,sponsor:W,uiOptions:te,fundWalletConfig:ee,address:ae,signOnly:le})=>new Promise((async(Ce,Ne)=>{let{requesterAppId:Xe}=te||{},yt=le?"signTransaction":"sendTransaction",Mt=ae?Fc(h,ae):zc(h);if(!Mt&&ae){let lt=YS(Dv(),ae);if(lt){if(W)throw new se("Cannot sponsor transactions for externally connected wallet.");try{let En=await lt.getEthereumProvider(),_t={...U,from:ae,chainId:U.chainId||Number(lt.chainId.replace("eip155:","")),value:U.value!==void 0?xt(U.value):void 0},dn=await En.request({method:yt==="sendTransaction"?"eth_sendTransaction":"eth_signTransaction",params:[_t]});return Oe(ye,yt,"onSuccess",{hash:dn}),void Ce({hash:dn})}catch(En){return Oe(ye,yt,"onError",Ae.TRANSACTION_FAILURE),void Ne(En??new To("Unable to "+yt+En))}}}if(!Mt)return Oe(ye,yt,"onError",Ae.EMBEDDED_WALLET_NOT_FOUND),void Ne(new se("No embedded or connected wallet found for address."));if(!wt||!h)return Oe(ye,yt,"onError",Ae.MUST_BE_AUTHENTICATED),void Ne(Error("User must be authenticated before signing with a Privy wallet"));let mt=Mt.address,Ct=Mt.walletIndex??0,{entropyId:Je,entropyIdVerifier:sn}=Ka(h,Mt),an=gs.wallets.find((lt=>lt.walletClientType==="privy"&&li(lt.address)===li(mt)));if(!an)return Oe(ye,yt,"onError",Ae.EMBEDDED_WALLET_NOT_FOUND),void Ne(Error("Must have a Privy wallet before signing"));let cr=await an.getEthereumProvider(),Sr=await cr.request({method:"eth_chainId"}),Yn=U.chainId?Number(U.chainId):Iz(Sr);(lt=>{if(!i.chains.map((En=>En.id)).includes(lt))throw new zn(`Chain ID ${lt} is not supported. It must be added to the config.supportedChains property of the PrivyProvider.`,Ae.UNSUPPORTED_CHAIN_ID)})(Yn);let un={...U,from:U.from??mt,chainId:Yn},Zn=await In();if(!Zn||!P)return Oe(ye,yt,"onError",Ae.EMBEDDED_WALLET_NOT_FOUND),void Ne(Error("Must have valid access token and Privy wallet to send transaction"));let Xn=W1(un.chainId,i.chains,i.rpcConfig,{appId:t.appId}),Vs=Si(Mt),ka=async({transactionRequest:lt})=>{try{let En;if(!await vt.recoverEmbeddedWallet({address:mt}))throw Oe(ye,yt,"onError",Ae.UNKNOWN_CONNECT_WALLET_ERROR),Ne(Error("Unable to connect to wallet")),Error("Unable to connect to wallet");if(W){let _t=await(async({transactionRequest:dn})=>{if(!Vs)throw new se("Sponsoring is only supported for wallets on the TEE stack");if(le)throw new se("Cannot sponsor a sign transaction request");let Dr=Ra=>Ra==null?void 0:xt(Ra),tc=await Ms(n,(async({message:Ra})=>await P.signWithUserSigner({accessToken:Zn,requesterAppId:Xe,message:Ra})),{chain_type:"ethereum",method:"eth_sendTransaction",caip2:Ig(xt(dn.chainId)),sponsor:!0,params:{transaction:{from:dn.from,to:dn.to,chain_id:Dr(dn.chainId),data:$i(dn.data)?dn.data?dn.data:xt(Uint8Array.from(dn.data)):void 0,value:Dr(dn.value)}},wallet_id:Mt.id});if(tc.data&&"hash"in tc.data)return tc.data.hash;throw new To("Unable to sign transaction")})({transactionRequest:lt});return Oe(ye,"sendTransaction","onSuccess",{hash:_t}),_t}if(Vs){let _t=Dr=>Dr==null?void 0:xt(Dr),dn=await Ms(n,(async({message:Dr})=>await P.signWithUserSigner({accessToken:Zn,requesterAppId:Xe,message:Dr})),{chain_type:"ethereum",method:"eth_signTransaction",params:{transaction:{from:lt.from,to:lt.to,nonce:_t(lt.nonce),chain_id:_t(lt.chainId),data:$i(lt.data)?lt.data?lt.data:xt(Uint8Array.from(lt.data)):void 0,value:_t(lt.value),type:lt.type,gas_limit:_t(lt.gasLimit??lt.gas),gas_price:_t(lt.gasPrice??lt.gas),max_fee_per_gas:_t(lt.maxFeePerGas),max_priority_fee_per_gas:_t(lt.maxPriorityFeePerGas)}},wallet_id:Mt.id});if(!dn.data||!("signed_transaction"in dn.data))throw new To("Unable to sign transaction");En=dn.data.signed_transaction}else En=await(async function({accessToken:_t,entropyId:dn,entropyIdVerifier:Dr,transactingWalletIndex:tc,walletProxy:Ra,transactionRequest:Nf,requesterAppId:ny}){return(await Ra.rpc({entropyId:dn,entropyIdVerifier:Dr,hdWalletIndex:tc??0,chainType:"ethereum",accessToken:_t,requesterAppId:ny,request:{method:"eth_signTransaction",params:[Nf]}})).response.data})({accessToken:Zn,entropyId:Je,entropyIdVerifier:sn,transactingWalletIndex:Ct,walletProxy:P,transactionRequest:lt,requesterAppId:Xe});if(le)return Oe(ye,"signTransaction","onSuccess",{signature:En}),En;{let _t=await Xn.sendRawTransaction({serializedTransaction:En});return Oe(ye,"sendTransaction","onSuccess",{hash:_t}),_t}}catch(En){throw Oe(ye,yt,"onError",Ae.TRANSACTION_FAILURE),En}};if(gi({showWalletUIs:te?.showWalletUIs})){let lt=le||W?un:await rB(un,Xn,un.from);try{let En=await ka({transactionRequest:lt});le?Oe(ye,"signTransaction","onSuccess",{signature:En}):Oe(ye,"sendTransaction","onSuccess",{hash:En}),Ce({hash:En})}catch(En){Oe(ye,yt,"onError",Ae.TRANSACTION_FAILURE),Ne(En)}}else{let lt={connectingWalletAddress:mt,recoveryMethod:Mt.recoveryMethod,entropyId:Je,entropyIdVerifier:sn,onCompleteNavigateTo:"SendTransactionScreen",isUnifiedWallet:Vs,onFailure:_t=>{Oe(ye,yt,"onError",Ae.UNKNOWN_CONNECT_WALLET_ERROR),Ne(_t)}},En=(_t=>!!_t.fundingConfig&&nC(_t.fundingConfig.options).length>=1)(i)?x$({address:mt,appConfig:i,fundWalletConfig:ee,methodScreen:"FundingMethodSelectionScreen",chainIdOverride:un.chainId,comingFromSendTransactionScreen:!0}):void 0;J({connectWallet:lt,sendTransaction:{transactionRequest:un,transactingWalletIndex:Ct,transactingWalletAddress:mt,entropyId:Je,entropyIdVerifier:sn,signOnly:le,scanTransaction:async()=>{let _t=await rB(un,Xn,un.from);return await e.scanTransaction({metadata:{domain:i.embeddedWallets.transactionScanning.domain},chain_id:_t.chainId.toString(),request:{method:"eth_sendTransaction",params:[{from:_t.from,to:_t.to,value:_t.value?.toString(),gas:_t.gas?.toString(),gasPrice:_t.gasPrice?.toString(),nonce:_t.nonce?.toString(),data:_t.data}]}})},getIsSponsored:async()=>!!W,onConfirm:({transactionRequest:_t})=>ka({transactionRequest:_t}),onSuccess:_t=>{le?Oe(ye,"signTransaction","onSuccess",{signature:_t.hash}):Oe(ye,"sendTransaction","onSuccess",{hash:_t.hash}),Ce(_t)},onFailure:_t=>{Oe(ye,yt,"onError",Ae.TRANSACTION_FAILURE),Ne(_t)},uiOptions:te||{},fundWalletConfig:ee,requesterAppId:Xe},funding:En}),dt("EmbeddedWalletConnectingScreen")}}));function Xt(){return new Promise((async(U,W)=>{let te=await In();if(!te||!P)throw Error("Must have valid access token to enroll in MFA");try{await P.verifyMfa({accessToken:te}),U()}catch(ee){W(ee)}}))}let $t=U=>U?.linkedAccounts.filter((W=>W.latestVerifiedAt!==null&&!(W.type==="wallet"&&W.walletClientType==="privy"))).sort(((W,te)=>te.latestVerifiedAt.getTime()-W.latestVerifiedAt.getTime()))[0],Ke=U=>{let W=h?.linkedAccounts.filter((ae=>ae.type===U)).length??0,{displayName:te,loginMethod:ee}=oUe(U);if(U==="passkey"&&W>=5||U!=="passkey"&&W>=1)throw Oe(ye,"linkAccount","onError",Ae.CANNOT_LINK_MORE_OF_TYPE,{linkMethod:ee}),new se(`User already has an account of type ${te} linked.`)};async function Pr({showAutomaticRecovery:U=!1,legacySetWalletPasswordFlow:W=!1}){k(null);let te=W?"setWalletPassword":"setWalletRecovery";if(!wt||!h)throw Oe(ye,te,"onError",Ae.MUST_BE_AUTHENTICATED),Error("User must be authenticated before adding recovery method to Privy wallet");let ee=h0(h);if(!ee||!P)throw Oe(ye,te,"onError",Ae.EMBEDDED_WALLET_NOT_FOUND),Error("Must have a Privy wallet to add a recovery method");let ae=Si(ee);if(ae)throw Oe(ye,te,"onError",Ae.UNSUPPORTED_WALLET_TYPE),new se("User owned wallet recovery is only supported for on-device execution and this app uses TEE execution. Learn more https://docs.privy.io/recipes/tee-wallet-migration-guide");try{await Xt()}catch(le){throw Oe(ye,te,"onError",Ae.MISSING_MFA_CREDENTIALS),le}return new Promise(((le,Ce)=>{let Ne=ee.recoveryMethod==="user-passcode",Xe=rUe({walletAction:"update",availableRecoveryMethods:i.embeddedWallets.userOwnedRecoveryOptions,legacySetWalletPasswordFlow:W,isResettingPassword:Ne,showAutomaticRecovery:U}),{entropyId:yt,entropyIdVerifier:Mt}=Ka(h),mt={recoveryMethod:ee.recoveryMethod,connectingWalletAddress:ee.address,onCompleteNavigateTo:Xe,shouldForceMFA:!1,entropyId:yt,isUnifiedWallet:ae,entropyIdVerifier:Mt,onFailure:Ct=>{Oe(ye,te,"onError",Ae.UNKNOWN_CONNECT_WALLET_ERROR),Ce(Ct)}};J({setWalletPassword:{onSuccess:Ct=>{Oe(ye,te,"onSuccess",{method:"user-passcode",wallet:Ct}),le(Ct)},onFailure:Ct=>{Oe(ye,te,"onError",Ae.USER_EXITED_SET_PASSWORD_FLOW),Ce(Ct)},callAuthOnSuccessOnClose:!1},recoverWallet:{entropyId:yt,entropyIdVerifier:Mt,onFailure:Ce},connectWallet:mt,recoverySelection:{isInAccountCreateFlow:!1,isResettingPassword:Ne,shouldCreateEth:!1,shouldCreateSol:!1}}),dt("EmbeddedWalletConnectingScreen")}))}async function Zr({appId:U,action:W}){let te=await In();if(W==="link"&&!te)throw Oe(ye,"linkAccount","onError",Ae.MUST_BE_AUTHENTICATED,{linkMethod:`privy:${U}`}),new se("User must be authenticated before linking an account.");if(W==="login"&&te)throw Oe(ye,"login","onError",Ae.UNKNOWN_AUTH_ERROR),new se("Attempted to log in, but user is already logged in. Use a `link` helper instead.");Le.current=`privy:${U}`,He.current=W;let ee=EF();return e.createAnalyticsEvent({eventName:"cross_app_auth_started",payload:{providerAppId:U}}),new Promise((async(ae,le)=>{let{name:Ce,logoUrl:Ne}=await $K({api:e.api,providerAppId:U,requesterAppId:i.id});J({crossAppAuth:{appId:U,name:Ce,logoUrl:Ne,action:W,popup:ee,onSuccess:ae,onError:le}}),dt("CrossAppAuthScreen")}))}let Fi={ready:u,authenticated:wt,user:h,walletConnectors:e.connectors||null,connectWallet:U=>{U&&"target"in U&&U&&(U=void 0),J({externalConnectWallet:{walletList:U?.walletList&&U?.walletList.length>0?U.walletList:void 0,walletChainType:U?.walletChainType,description:U?.description,hideHeader:U?.hideHeader}}),dt("ConnectOnlyLandingScreen")},linkWallet:U=>(U&&"target"in U&&U&&(U=void 0),it("siwe"),Le.current="siwe",He.current="link",J({...G,externalConnectWallet:{...G.externalConnectWallet,walletList:U?.walletList,walletChainType:U?.walletChainType,description:U?.description||`Link a wallet to your ${i?.name} account`}}),dt("AuthenticateWithWalletScreen")),startCrossAppAuthFlow:Zr,linkEmail:()=>{it("email"),Ke("email"),Le.current="email",He.current="link",dt("LinkEmailScreen")},linkPhone:()=>{it("sms"),Ke("phone"),Le.current="sms",He.current="link",dt("LinkPhoneScreen")},linkGoogle:async()=>{it("google"),Ke("google_oauth"),He.current="link",await vt.initLoginWithOAuth("google")},linkTwitter:async()=>{it("twitter"),Ke("twitter_oauth"),He.current="link",await vt.initLoginWithOAuth("twitter")},linkTwitch:async()=>{it("twitch"),Ke("twitch_oauth"),He.current="link",await vt.initLoginWithOAuth("twitch")},linkDiscord:async()=>{it("discord"),Ke("discord_oauth"),He.current="link",await vt.initLoginWithOAuth("discord")},linkGithub:async()=>{it("github"),Ke("github_oauth"),He.current="link",await vt.initLoginWithOAuth("github")},linkSpotify:async()=>{it("spotify"),Ke("spotify_oauth"),He.current="link",await vt.initLoginWithOAuth("spotify")},linkInstagram:async()=>{it("instagram"),Ke("instagram_oauth"),He.current="link",await vt.initLoginWithOAuth("instagram")},linkTiktok:async()=>{it("tiktok"),Ke("tiktok_oauth"),He.current="link",await vt.initLoginWithOAuth("tiktok")},linkLine:async()=>{it("line"),Ke("line_oauth"),He.current="link",await vt.initLoginWithOAuth("line")},linkLinkedIn:async()=>{it("linkedin"),Ke("linkedin_oauth"),He.current="link",await vt.initLoginWithOAuth("linkedin")},linkApple:async()=>{it("apple"),Ke("apple_oauth"),He.current="link",await vt.initLoginWithOAuth("apple")},linkPasskey:async()=>{it("passkey"),Ke("passkey"),await vt.initLinkWithPasskey(),dt("LinkPasskeyScreen")},linkTelegram:async U=>{if(it("telegram"),Ke("telegram"),He.current="link",Le.current="telegram",U?.launchParams)if(U.launchParams.initDataRaw){let W=new xm;e.startAuthFlow(W),W.meta.telegramAuthResult=void 0,W.meta.telegramWebAppData=KU(U.launchParams.initDataRaw),J({telegramAuthModalData:{seamlessAuth:!0}}),dt("TelegramAuthScreen")}else Oe(ye,"linkAccount","onError",Ae.INVALID_DATA,{linkMethod:"telegram"});else await vt.initLoginWithTelegram();dt("TelegramAuthScreen")},linkFarcaster:async()=>{it("farcaster"),Ke("farcaster"),await vt.initLoginWithFarcaster(),He.current="link",Le.current="farcaster",dt("FarcasterConnectStatusScreen")},updateEmail:()=>{if(it("email"),!h?.email)throw new se("User does not have an email linked to their account.");He.current="update",Le.current="email",dt("UpdateEmailScreen")},updatePhone:()=>{if(it("sms"),!h?.phone)throw new se("User does not have a phone number linked to their account.");He.current="update",Le.current="sms",dt("UpdatePhoneScreen")},login:async U=>{U&&"target"in U&&U&&(U=void 0);let W="Attempted to log in, but user is already logged in. Use a `link` helper instead.";if(!u){let te=await new Promise((ee=>{Q((ae=>ee.bind(ae)))}));if(Q(null),te)return void console.warn(W)}!h||h.isGuest?(He.current="login",J({login:U}),dt("LandingScreen")):console.warn(W)},connectOrCreateWallet:async()=>{u||(await new Promise((U=>{Q((()=>U))})),Q(null)),wt?console.warn("User must be unauthenticated to `connectOrCreateWallet`"):(He.current="connect-or-create",dt("ConnectOrCreateScreen"))},logout:async()=>{if(He.current=null,Le.current=null,h&&e.clearProviderAcccessTokens(h),k(null),await e.logout(),h&&P)try{await P.clearMfa({userId:h.id})}catch{}p(null),Ht(!1),B({status:"initial"}),D({status:"initial"}),z({status:"initial"}),K({status:"initial"}),x({status:"initial"}),j({status:"initial"}),Oe(ye,"logout","onSuccess"),a(!1),nt.del(YT),nt.del(Pj(i.id))},getAccessToken:Y.useCallback((async()=>{let U=await e.getCustomerAccessToken();return U&&!wt&&Ht(!0),U}),[e,wt]),unlinkWallet:async U=>{let W;return p(W=U.startsWith("0x")?await e.unlinkEthereumWallet(U):await e.unlinkSolanaWallet(U)),W},unlinkEmail:async U=>{let W=await e.unlinkEmail(U);return p(W),W},unlinkPhone:async U=>{let W=await e.unlinkPhone(U);return p(W),W},unlinkGoogle:async U=>{let W=await e.unlinkOAuth("google",U);return p(W),W},unlinkTwitter:async U=>{let W=await e.unlinkOAuth("twitter",U);return p(W),W},unlinkTwitch:async U=>{let W=await e.unlinkOAuth("twitch",U);return p(W),W},unlinkDiscord:async U=>{let W=await e.unlinkOAuth("discord",U);return p(W),W},unlinkGithub:async U=>{let W=await e.unlinkOAuth("github",U);return p(W),W},unlinkSpotify:async U=>{let W=await e.unlinkOAuth("spotify",U);return p(W),W},unlinkInstagram:async U=>{let W=await e.unlinkOAuth("instagram",U);return p(W),W},unlinkTiktok:async U=>{let W=await e.unlinkOAuth("tiktok",U);return p(W),W},unlinkLine:async U=>{let W=await e.unlinkOAuth("line",U);return p(W),W},unlinkLinkedIn:async U=>{let W=await e.unlinkOAuth("linkedin",U);return p(W),W},unlinkApple:async U=>{let W=await e.unlinkOAuth("apple",U);return p(W),W},unlinkFarcaster:async U=>{let W=await e.unlinkFarcaster(U);return p(W),W},unlinkTelegram:async U=>{let W=await e.unlinkTelegram(U);return p(W),W},unlinkPasskey:async U=>{let W=await In();if(!W)throw Error("Must have valid access token to enroll in MFA");if(!P)throw Error("Wallet proxy not initialized.");let te=i.passkeys.shouldUnenrollMfaOnUnlink;await P.unlinkPasskeyAccount({credentialId:U,accessToken:W,removeAsMfa:te});let ee=await e.getAuthenticatedUser();return p(ee),ee},unlinkCrossAppAccount:async({subject:U})=>{let W=h?.linkedAccounts.find((ee=>ee.type==="cross_app"&&ee.subject===U))?.providerApp;if(!W)throw new se("Invalid subject");e.storeProviderAccessToken(W.id,null);let te=await e.unlinkOAuth(`privy:${W.id}`,U);return p(te),te},setWalletRecovery:async U=>Pr({legacySetWalletPasswordFlow:!1,showAutomaticRecovery:U?.showAutomaticRecovery??!1}),setWalletPassword:async()=>Pr({legacySetWalletPasswordFlow:!0,showAutomaticRecovery:!1}),signMessage:(U,W)=>new Promise((async(te,ee)=>{let{requesterAppId:ae}=W?.uiOptions||{},le=U.message,Ce=W?.address?Fc(h,W.address):zc(h);if(!Ce&&W?.address!==void 0){let Je=YS(Dv(),W.address);if(Je)try{let sn=await Je.getEthereumProvider(),an=await sn.request({method:"personal_sign",params:[le,Je.address]});return Oe(ye,"signMessage","onSuccess",{signature:an}),void te({signature:an})}catch(sn){return Oe(ye,"signMessage","onError",Ae.UNABLE_TO_SIGN),void ee(sn??new To("Unable to sign message"))}}if(!Ce)throw new se("No embedded or connected wallet found for address.");if(!wt||!h)return Oe(ye,"signMessage","onError",Ae.MUST_BE_AUTHENTICATED),void ee(Error("User must be authenticated before signing with a Privy wallet"));let Ne=Ce.address,Xe=Ce.walletIndex??0,{entropyId:yt,entropyIdVerifier:Mt}=Ka(h,Ce),mt=Si(Ce);if(typeof le!="string"||le.length<1)return Oe(ye,"signMessage","onError",Ae.INVALID_MESSAGE),void ee(Error("Message must be a non-empty string"));let Ct=async()=>{let Je;if(!wt)throw Error("User must be authenticated before signing with a Privy wallet");let sn=await In();if(!P||!sn||!await vt.recoverEmbeddedWallet({address:Ne}))throw Error("Unable to connect to wallet");if(e.createAnalyticsEvent({eventName:"embedded_wallet_sign_message_started",payload:{walletAddress:Ne,requesterAppId:ae}}),mt){let an=$i(U.message,{strict:!0}),cr=await Ms(n,(async({message:Sr})=>await P.signWithUserSigner({accessToken:sn,requesterAppId:ae,message:Sr})),{chain_type:"ethereum",method:"personal_sign",params:an?{message:le.slice(2),encoding:"hex"}:{message:le,encoding:"utf-8"},wallet_id:Ce.id});if(!cr.data||!("signature"in cr.data))throw new To("Unable to sign message");Je=cr.data.signature}else{let{response:an}=await P.rpc({accessToken:sn,entropyId:yt,entropyIdVerifier:Mt,chainType:"ethereum",hdWalletIndex:Xe,requesterAppId:ae,request:{method:"personal_sign",params:[le,Ne]}});Je=an.data}return e.createAnalyticsEvent({eventName:"embedded_wallet_sign_message_completed",payload:{walletAddress:Ne,requesterAppId:ae}}),Je};if(gi({showWalletUIs:W?.uiOptions?.showWalletUIs}))try{let Je=await Ct();Oe(ye,"signMessage","onSuccess",{signature:Je}),te({signature:Je})}catch(Je){Oe(ye,"signMessage","onError",Ae.UNABLE_TO_SIGN),ee(Je??new To("Unable to sign message"))}else J({signMessage:{method:"personal_sign",data:le,confirmAndSign:Ct,onSuccess:Je=>{Oe(ye,"signMessage","onSuccess",{signature:Je}),te({signature:Je})},onFailure:Je=>{Oe(ye,"signMessage","onError",Ae.UNABLE_TO_SIGN),ee(Je)},uiOptions:W?.uiOptions||{}},connectWallet:{recoveryMethod:Ce.recoveryMethod,connectingWalletAddress:Ne,entropyId:yt,entropyIdVerifier:Mt,onCompleteNavigateTo:"SignRequestScreen",isUnifiedWallet:mt,onFailure:Je=>{Oe(ye,"signMessage","onError",Ae.UNKNOWN_CONNECT_WALLET_ERROR),ee(Je)}}}),dt("EmbeddedWalletConnectingScreen")})),signTypedData:(U,W)=>new Promise((async(te,ee)=>{let{requesterAppId:ae}=W?.uiOptions||{},le=W?.address?Fc(h,W.address):zc(h);if(!le&&W?.address){let Je=YS(Dv(),W.address);if(Je)try{let sn=await Je.getEthereumProvider(),an=Yv(U),cr=await sn.request({method:"eth_signTypedData_v4",params:[Je.address,an]});return Oe(ye,"signTypedData","onSuccess",{signature:cr}),void te({signature:cr})}catch(sn){return Oe(ye,"signTypedData","onError",Ae.UNABLE_TO_SIGN),void ee(sn??new To("Unable to sign typed data "+sn))}}if(!le)throw new se("No embedded or connected wallet found for address.");if(!wt||!h)return Oe(ye,"signTypedData","onError",Ae.MUST_BE_AUTHENTICATED),void ee(Error("User must be authenticated before signing with a Privy wallet"));let Ce=le.address,Ne=le.walletIndex??0,{entropyId:Xe,entropyIdVerifier:yt}=Ka(h,le),Mt=Si(le),mt=Yv(U),Ct=async()=>{let Je;if(!wt)throw Error("User must be authenticated before signing with a Privy wallet");let sn=await In();if(!P||!sn||!await vt.recoverEmbeddedWallet({address:Ce}))throw Error("Unable to connect to wallet");if(e.createAnalyticsEvent({eventName:"embedded_wallet_sign_typed_data_started",payload:{walletAddress:Ce,requesterAppId:ae}}),Mt){let{domain:an,types:cr,primaryType:Sr,message:Yn}=mt,un=await Ms(n,(async({message:Zn})=>await P.signWithUserSigner({accessToken:sn,requesterAppId:ae,message:Zn})),{chain_type:"ethereum",method:"eth_signTypedData_v4",params:{typed_data:{domain:an,types:cr,primary_type:Sr,message:Yn}},wallet_id:le.id});if(!un.data||!("signature"in un.data))throw new To("Unable to sign message");Je=un.data.signature}else{let{response:an}=await P.rpc({accessToken:sn,entropyId:Xe,entropyIdVerifier:yt,chainType:"ethereum",hdWalletIndex:Ne,requesterAppId:ae,request:{method:"eth_signTypedData_v4",params:[Ce,mt]}});Je=an.data}return e.createAnalyticsEvent({eventName:"embedded_wallet_sign_typed_data_completed",payload:{walletAddress:Ce,requesterAppId:ae}}),Je};if(gi({showWalletUIs:W?.uiOptions?.showWalletUIs}))try{let Je=await Ct();Oe(ye,"signTypedData","onSuccess",{signature:Je}),te({signature:Je})}catch(Je){Oe(ye,"signTypedData","onError",Ae.UNABLE_TO_SIGN),ee(Je??new To("Unable to sign message"))}else J({signMessage:{method:"eth_signTypedData_v4",data:mt,confirmAndSign:Ct,onSuccess:Je=>{Oe(ye,"signTypedData","onSuccess",{signature:Je}),te({signature:Je})},onFailure:Je=>{Oe(ye,"signTypedData","onError",Ae.UNABLE_TO_SIGN),ee(Je)},uiOptions:W?.uiOptions||{}},connectWallet:{recoveryMethod:le.recoveryMethod,connectingWalletAddress:le.address,entropyId:Xe,isUnifiedWallet:Mt,entropyIdVerifier:yt,onCompleteNavigateTo:"SignRequestScreen",onFailure:Je=>{Oe(ye,"signMessage","onError",Ae.UNKNOWN_CONNECT_WALLET_ERROR),ee(Je)}}}),dt("EmbeddedWalletConnectingScreen")})),sendTransaction:async(U,W)=>await On({transaction:U,sponsor:W?.sponsor,uiOptions:W?.uiOptions,fundWalletConfig:W?.fundWalletConfig,address:W?.address,signOnly:!1}),signTransaction:async(U,W)=>({signature:(await On({transaction:U,uiOptions:W?.uiOptions,address:W?.address,signOnly:!0})).hash}),exportWallet:U=>new Promise((async(W,te)=>{if(!wt||!h)return void te(Error("User must be authenticated before exporting their Privy wallet"));U&&"target"in U&&U&&(U=void 0);let ee=U?.address?Fc(h,U.address):zc(h);if(!ee)return void te(new se("User must have an embedded wallet."));let ae=ee.address,{entropyId:le,entropyIdVerifier:Ce}=Ka(h,ee),Ne=Si(ee);if(!ae)return void te(Error("User does not have an HD Ethereum wallet. To export an imported wallet, pass the `address` of the wallet to `exportWallet`."));if(!Nn(ae))return void te(Error("Must provide a valid Ethereum address."));let Xe={recoveryMethod:ee.recoveryMethod,connectingWalletAddress:ee.address,isUnifiedWallet:Ne,entropyId:le,entropyIdVerifier:Ce,onCompleteNavigateTo:"EmbeddedWalletKeyExportScreen",onFailure:te,shouldForceMFA:!0};J(G),await In()&&P?P?lE(ee)?(J({keyExport:{appId:t.appId,appClientId:t.clientId,origin:e.apiUrl,address:ee.address,entropyId:le,entropyIdVerifier:Ce,hdWalletIndex:ee.walletIndex,chainType:ee.chainType,walletId:ee.id,isUnifiedWallet:Ne,imported:ee.imported,onSuccess:W,onFailure:te},connectWallet:Xe}),dt("EmbeddedWalletConnectingScreen")):te(Error(`Export is not supported for ${ee.chainType} wallets`)):te(Error("Must have a Privy wallet before exporting")):te(Error("Must have valid access token to enroll in MFA"))})),promptMfa:Xt,async init(U){switch(U){case"sms":return void await e.initMfaSmsVerification();case"passkey":return await e.initMfaPasskeyVerification();case"totp":return;default:throw Error(`Unsupported MFA method: ${U}`)}},async submit(U,W){switch(U){case"totp":case"sms":if(typeof W!="string")throw new se("Invalid MFA code");qe.current?.resolve({mfaMethod:U,mfaCode:W,relyingParty:window.origin}),await new Promise(((ae,le)=>{rt.current={resolve:ae,reject:le}}));break;case"passkey":if(typeof W=="string")throw new se("Invalid authenticator response");let te=await Fe(()=>import("./index-D9std1Z8.js"),[]),ee=pUe(await te.startAuthentication({optionsJSON:W}));qe.current?.resolve({mfaMethod:U,mfaCode:ee,relyingParty:window.origin}),await new Promise(((ae,le)=>{rt.current={resolve:ae,reject:le}}));break;default:throw qe.current?.reject(new se("Unsupported MFA method")),new se(`Unsupported MFA method: ${U}`)}},cancel(){qe.current?.reject(new se("MFA canceled"))},async initEnrollmentWithSms(U){let W=await In();if(!W||!P)throw Error("Must have valid access token to enroll in MFA");await P.initEnrollMfa({method:"sms",accessToken:W,phoneNumber:U.phoneNumber})},enrollInMfa:U=>new Promise(((W,te)=>{if(!U)return vt.closePrivyModal(),void W();i.mfa.noPromptOnMfaRequired&&console.warn("[Privy Warning] Triggering the 'showMfaEnrollmentModal' function when 'noPromptOnMfaRequired' is set to true is unexpected. If this is intentional, ensure that you are building custom UIs for MFA verification."),J({mfaEnrollmentFlow:{mfaMethods:i.mfa.methods,shouldUnlinkOnUnenrollMfa:i.passkeys.shouldUnlinkOnUnenrollMfa,onSuccess:W,onFailure:te}}),dt("MfaEnrollmentFlowScreen")})),async initEnrollmentWithTotp(){let U=await In();if(!U||!P)throw Error("Must have valid access token to enroll in MFA");let W=await P.initEnrollMfa({method:"totp",accessToken:U});return{secret:W.secret,authUrl:W.authUrl}},async submitEnrollmentWithSms(U){let W=await In();if(!W||!P)throw Error("Must have valid access token to enroll in MFA");await P.submitEnrollMfa({method:"sms",accessToken:W,phoneNumber:U.phoneNumber,code:U.mfaCode}),p(await e.getAuthenticatedUser())},async submitEnrollmentWithTotp(U){let W=await In();if(!W||!P)throw Error("Must have valid access token to enroll in MFA");await P.submitEnrollMfa({method:"totp",accessToken:W,code:U.mfaCode}),p(await e.getAuthenticatedUser())},async initEnrollmentWithPasskey(){},async submitEnrollmentWithPasskey({credentialIds:U},W={}){let te=await In();if(!te||!P)throw Error("Must have valid access token to enroll in MFA");await P.submitEnrollMfa({method:"passkey",accessToken:te,credentialIds:U,removeForLogin:W.removeForLogin}),p(await e.getAuthenticatedUser())},async unenroll(U,W={}){let te=await In();if(!te||!P)throw Error("Must have valid access token to remove MFA");U==="passkey"?await P.submitEnrollMfa({method:"passkey",accessToken:te,credentialIds:[],removeForLogin:W.removeForLogin}):await P.unenrollMfa({method:U,accessToken:te}),p(await e.getAuthenticatedUser())},requestFarcasterSignerFromWarpcast:async()=>{let U=await In(),W=h?.linkedAccounts.find((ee=>ee.type==="wallet"&&ee.walletClientType==="privy"));if(!U)throw Error("Must have valid access token to connect with Farcaster");if(!P||!W)throw Error("Must have an embedded wallet to use Farcaster signers");if(Si(W))throw new se("Farcaster signers are only supported for on-device execution and this app uses TEE execution. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");if(!h?.farcaster?.fid)throw Error("Must have Farcaster account to use Farcaster signers");if(!await vt.recoverEmbeddedWallet({address:W.address}))throw Error("Unable to connect to wallet");let te=await P.initFarcasterSigner({address:W.address,hdWalletIndex:null,accessToken:U,mfaCode:null,mfaMethod:null,relyingParty:window.origin});te.status==="approved"&&p(await e.getAuthenticatedUser()||h||null),J({farcasterSigner:te}),dt("FarcasterSignerStatusScreen")},getFarcasterSignerPublicKey:async()=>{let U,W=await In(),te=h?.linkedAccounts.find((ee=>ee.type==="wallet"&&ee.walletClientType==="privy"));if(!W)throw Error("Must have valid access token to connect with Farcaster");if(!P||!te)throw Error("Must have an embedded wallet to use Farcaster signers");if(Si(te))throw new se("Farcaster signers are only supported for on-device execution and this app uses TEE execution. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");if(!h?.farcaster?.fid)throw Error("Must have Farcaster account to use Farcaster signers");if(!await vt.recoverEmbeddedWallet({address:te.address}))throw Error("Unable to connect to wallet");if(!h.farcaster?.signerPublicKey)throw Error("Must have a Farcaster signer public key to sign");return U=h.farcaster.signerPublicKey.slice(2),Uint8Array.from(U.match(/.{1,2}/g).map((ee=>parseInt(ee,16))))},signFarcasterMessage:async U=>{let W=await In(),te=h?.linkedAccounts.find((le=>le.type==="wallet"&&le.walletClientType==="privy"));if(!W)throw Error("Must have valid access token to connect with Farcaster");if(!P||!te)throw Error("Must have an embedded wallet to use Farcaster signers");if(Si(te))throw new se("Farcaster signers are only supported for on-device execution and this app uses TEE execution. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");if(!h?.farcaster?.fid)throw Error("Must have Farcaster account to use Farcaster signers");if(!await vt.recoverEmbeddedWallet({address:te.address}))throw Error("Unable to connect to wallet");if(!h.farcaster?.signerPublicKey)throw Error("Must have a Farcaster signer public key to sign");let ee=await Fe(()=>import("./index-D9std1Z8.js"),[]),ae=await P.signFarcasterMessage({address:te.address,hdWalletIndex:null,accessToken:W,mfaCode:null,mfaMethod:null,payload:{hash:ee.bufferToBase64URLString(U)},fid:BigInt(h.farcaster.fid),relyingParty:window.origin});return new Uint8Array(ee.base64URLStringToBuffer(ae.signature))},signMessageWithCrossAppWallet(U,{address:W,chainId:te}){let ee=h?.linkedAccounts.some((ae=>ae.type==="cross_app"&&ae.smartWallets.some((le=>le.address===W))));return Pv({user:h,client:e,address:W,requesterAppId:i.id,request:{method:ee?"privy_signSmartWalletMessage":"personal_sign",params:[U,W],chainId:te},reconnect:Zr})},signTypedDataWithCrossAppWallet(U,{address:W,chainId:te}){let ee=h?.linkedAccounts.some((le=>le.type==="cross_app"&&le.smartWallets.some((Ce=>Ce.address===W)))),ae=Yv(U);return Pv({user:h,client:e,address:W,requesterAppId:i.id,request:{method:ee?"privy_signSmartWalletTypedData":"eth_signTypedData_v4",params:[W,ae],chainId:te},reconnect:Zr})},sendTransactionWithCrossAppWallet(U,{address:W}){let te=h?.linkedAccounts.some((ee=>ee.type==="cross_app"&&ee.smartWallets.some((ae=>ae.address===W))));return Pv({user:h,client:e,address:W,requesterAppId:i.id,request:{method:te?"privy_sendSmartWalletTx":"eth_sendTransaction",params:[U],chainId:U.chainId},reconnect:Zr})},signTransactionWithCrossAppWallet(U,{address:W}){let te=h?.linkedAccounts.some((ee=>ee.type==="cross_app"&&ee.smartWallets.some((ae=>ae.address===W))));return Pv({user:h,client:e,address:W,requesterAppId:i.id,request:{method:te?"privy_signSmartWalletTx":"eth_signTransaction",params:[U],chainId:U.chainId},reconnect:Zr})},isModalOpen:s||!!c,mfaMethods:i.mfa.methods};MK=Fi.signMessage,UK=Fi.signTypedData,LK=async(U,W)=>await On({transaction:U,...W,signOnly:!1}),BK=async(U,W)=>({signature:(await On({transaction:U,...W,signOnly:!0})).hash});let vt={privy:n,setAuthenticated:Ht,setUser:p,setIsNewUser:E,isNewUserThisSession:v,pendingTransaction:null,walletConnectionStatus:C,setWalletConnectionStatus:I,connectors:e.connectors?.walletConnectors??[],rpcConfig:i.rpcConfig,chains:i.chains,appId:t.appId,showFiatPrices:i.embeddedWallets.priceDisplay.primary!=="native-token",clientAnalyticsId:e.clientAnalyticsId,onCustomAuthAuthenticated:_n,hideWalletUIs:mi,isHeadlessSigning:Y.useCallback(gi,[i.embeddedWallets.showWalletUIs]),emailOtpState:L,setEmailOtpState:B,smsOtpState:V,setSmsOtpState:D,oAuthState:T,setOAuthState:x,telegramAuthState:N,setTelegramAuthState:j,siweState:F,setSiweState:K,isHeadlessOAuthLoading:S,baseAccountSdk:g,setBaseAccountSdk:b,nativeTokenSymbolForChainId:U=>i.chains.find((W=>W.id===Number(U)))?.nativeCurrency.symbol,initializeWalletProxy:async U=>{if(P)return P;let W=new Promise((ae=>{ge.current=ae})),te=new Promise((ae=>setTimeout((()=>ae(null)),U))),ee=await Promise.race([W,te]);return ge.current=null,ee},getAuthFlow:()=>e.authFlow,getAuthMeta:()=>e.authFlow?.meta,client:e,closePrivyModal:async(U={shouldCallAuthOnSuccess:!0,isSuccess:!1})=>{let W,te=u&&wt&&h;if(te&&Le.current&&(W=$t(h)),He.current==="login")U.shouldCallAuthOnSuccess&&te&&Le.current?Oe(ye,"login","onComplete",{user:h,isNewUser:v,wasAlreadyAuthenticated:!1,loginMethod:Le.current,loginAccount:W??null}):Oe(ye,"login","onError",Ae.USER_EXITED_AUTH_FLOW);else if(He.current==="link"&&W)U.isSuccess&&te&&Le.current?Oe(ye,"linkAccount","onSuccess",{user:h,linkMethod:Le.current,linkedAccount:W}):Le.current&&Oe(ye,"linkAccount","onError",Ae.USER_EXITED_LINK_FLOW,{linkMethod:Le.current});else if(He.current==="update"&&W)U.isSuccess&&te&&Le.current?Oe(ye,"update","onSuccess",{user:h,updateMethod:Le.current,updatedAccount:W}):Le.current&&Oe(ye,"update","onError",Ae.USER_EXITED_UPDATE_FLOW,{linkMethod:Le.current});else if(He.current==="connect-or-create"){let le=Dv();le[0]?Oe(ye,"connectOrCreateWallet","onSuccess",{wallet:le[0]}):Oe(ye,"connectOrCreateWallet","onError",Ae.USER_EXITED_AUTH_FLOW)}let ee=O&&W6.has(O),ae=O==="ErrorScreen"&&G.errorModalData&&W6.has(G.errorModalData.previousScreen);if((ee||ae)&&G.funding){let le,Ce=W6.get(O)??null;if(ae&&G.funding?.onError){let Ne=G.errorModalData?.error,Xe=Ne?.privyErrorCode||Ae.UNKNOWN_FUNDING_ERROR,yt=new se(Ne?.message||"Funding failed",Ne,Xe);G.funding?.onError?.(yt)}if(G.funding.chainType==="solana"){let Ne=i.solanaRpcs[G.funding.chain];if(!Ne)return void console.warn("Unable to load solana rpc, skipping balance");if(r(npe))try{le=await sUe({rpc:Ne.rpc,address:G.funding.address})}catch{console.error("Unable to pull wallet balance")}else console.warn("Unable to load solana plugin, skipping balance");Oe(ye,"fundSolanaWallet","onUserExited",{address:G.funding.address,fundingMethod:Ce,chain:G.funding.chain,balance:le})}else{let Ne=W1(G.funding.chain.id,i.chains,i.rpcConfig,{appId:t.appId});try{le=await Ne.getBalance({address:G.funding.address})}catch{console.error("Unable to pull wallet balance")}Oe(ye,"fundWallet","onUserExited",{address:G.funding.address,chain:G.funding.chain,fundingMethod:Ce,balance:le}),(function(Xe,yt){if(Xe.onComplete)switch(yt){case"external":Xe.fundingResult?Xe.onComplete({...Xe.fundingResult,fundingMethod:yt}):Xe.onComplete({status:"cancelled",address:Xe.address,fundingMethod:yt,amount:Xe.amount});break;case null:Xe.onComplete({status:"cancelled",address:Xe.address,fundingMethod:void 0,amount:Xe.amount});break;default:Xe.onComplete({status:"completed",address:Xe.address,fundingMethod:yt,amount:Xe.amount})}})(G.funding,Ce)}}J((le=>({...le,externalConnectWallet:{}}))),He.current=null,Le.current=null,E(!1),a(!1),I({status:"disconnected",connectedWallet:null,connector:null,connectError:null,connectRetry:()=>{}}),setTimeout((()=>{e.authFlow=void 0}),200)},openPrivyModal:dt,connectWallet:mn,initLoginWithWallet:async(U,W,te,ee)=>{du(U)?(Le.current="siwe",$r(U,W,te)):(Le.current="siws",Yr(U,W,te,ee))},loginWithWallet:async()=>{let U,W,te;if(!u)throw new fd;if(e.authFlow instanceof l1?U="siwe":e.authFlow instanceof GU&&(U="siws"),!U)throw new se("Must initialize SIWE/SIWS flow first.");if(await e.getAccessToken()!==null)try{({user:W}=await e.link()),Le.current=U}catch(ee){throw Oe(ye,"linkAccount","onError",ee.privyErrorCode||Ae.FAILED_TO_LINK_ACCOUNT,{linkMethod:U}),ee}else try{({user:W,isNewUser:te}=await e.authenticate()),Le.current=U}catch(ee){throw Oe(ye,"login","onError",ee.privyErrorCode||Ae.GENERIC_CONNECT_WALLET_ERROR),ee}p(W||h||null),E(te||!1),Ht(!0)},delegateWallet:async({address:U,chainType:W,showDelegationUIs:te})=>new Promise((async(ee,ae)=>{let le=await In();if(!wt||!h||!le)throw new se("User must be authenticated and have an embedded wallet to delegate actions.");if(W!=="solana"&&W!=="ethereum")throw new se("Only Solana and Ethereum embedded wallets are supported for delegation and revocation.");let Ce=vt.walletProxy??await vt.initializeWalletProxy(15e3);if(!Ce)throw new se("Wallet proxy not initialized.");if((({address:mt,user:Ct})=>!!QU(Ct).find((Je=>Je.address===mt)))({address:U,user:h}))return ee();let Ne=Fc(h,U);if(!Ne)throw new se("Address to delegate is not associated with current user.");if(Si(Ne))throw new se("useDelegatedActions is only supported for on-device execution and this app uses TEE execution. Use the useSessionSigners hook to provision server side access on behalf of your users. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");let Xe=JMe({address:U,user:h}),yt=QMe({address:U,user:h}),Mt=async()=>{await Ce.createDelegatedAction({accessToken:le,rootWallet:yt,delegatedWallets:[Xe]}),await vt.refreshSessionAndUser()};if(await vt.recoverEmbeddedWallet({address:U}),te)J({delegatedActions:{consent:{address:U,onDelegate:Mt,onSuccess:async()=>{ee()},onError:async mt=>{ae(mt)}}}}),dt("DelegatedActionsConsentScreen");else try{await Mt(),ee()}catch(mt){ae(mt)}})),revokeDelegatedWallets:async({showDelegationUIs:U})=>new Promise((async(W,te)=>{if(!wt||!h)throw new se("User must be authenticated and have an embedded wallet to revoke a delegated wallet.");let ee=QU(h);if(ee.length===0)throw new se("User has no delegated wallets to revoke.");if(ee.some(Si))throw new se("useDelegatedActions is only supported for on-device execution and this app uses TEE execution. Use the useSessionSigners hook to provision server side access on behalf of your users. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");let ae=async()=>{await e.revokeDelegatedWallet(),await vt.refreshSessionAndUser()};if(U)J({delegatedActions:{revoke:{onRevoke:ae,onSuccess:async()=>{W()},onError:async le=>{te(le)}}}}),dt("DelegatedActionsRevokeScreen");else try{await ae(),W()}catch(le){te(le)}})),initLoginWithFarcaster:async(U,W)=>{let te=new VU(U,W);e.startAuthFlow(te);try{Le.current="farcaster",await te.initializeFarcasterConnect()}catch(ee){throw He.current==="login"?Oe(ye,"login","onError",ee.privyErrorCode||Ae.UNKNOWN_AUTH_ERROR):He.current==="link"&&Oe(ye,"linkAccount","onError",ee.privyErrorCode||Ae.UNKNOWN_AUTH_ERROR,{linkMethod:"farcaster"}),ee}},loginWithFarcaster:async()=>{let U,W;if(!u)throw new fd;if(!(e.authFlow instanceof VU))throw new se("Must initialize Farcaster flow first.");if(await e.getAccessToken()!==null)try{({user:U}=await e.link()),Le.current="farcaster"}catch(te){throw Oe(ye,"linkAccount","onError",te.privyErrorCode||Ae.FAILED_TO_LINK_ACCOUNT,{linkMethod:"farcaster"}),te}else try{({user:U,isNewUser:W}=await e.authenticate()),Le.current="farcaster"}catch(te){throw Oe(ye,"login","onError",te.privyErrorCode||Ae.UNKNOWN_AUTH_ERROR),te}p(U||null),E(W||!1),Ht(!0)},async crossAppAuthFlow({appId:U,popup:W,action:te}){let ee=`privy:${U}`;Le.current=ee;let{url:ae,stateCode:le,codeVerifier:Ce}=await(async function({api:Ne,appId:Xe}){let yt=LO(),Mt=IK(),mt=await CK(yt);try{let{url:Ct}=await Ne.post(xF,{provider:`privy:${Xe}`,redirect_to:window.location.href,code_challenge:mt,state_code:Mt});return{url:Ct,stateCode:Mt,codeVerifier:yt}}catch(Ct){throw Gt(Ct)}})({api:e.api,appId:U});if(!ae)throw e.createAnalyticsEvent({eventName:"cross_app_auth_error",payload:{error:"Unable to open cross-app auth popup",appId:U}}),new se("No authorization URL returned for cross-app auth.");try{let Ne=await(async function({url:Ct,popup:Je}){return Je.location=Ct,new Promise(((sn,an)=>{let cr,Sr=setTimeout((()=>{an(new se("Authorization request timed out after 2 minutes.")),Yn()}),12e4);function Yn(){Je?.close(),window.removeEventListener("message",Zn)}let un=setInterval((()=>{Je?.closed&&!cr&&(Yn(),clearInterval(un),clearTimeout(Sr),an(new se("User rejected request")))}),300);function Zn(Xn){Xn.data&&(Xn.data.type==="PRIVY_OAUTH_RESPONSE"&&Xn.data.stateCode&&Xn.data.authorizationCode&&(clearTimeout(Sr),sn(Xn.data),Yn()),Xn.data.type==="PRIVY_OAUTH_ERROR"&&(clearTimeout(Sr),an(new se(Xn.data.error)),Yn()),Xn.data.type===tB&&((cr=new BroadcastChannel(eB)).onmessage=Zn))}window.addEventListener("message",Zn)}))})({url:ae,popup:W,provider:ee}),Xe=Ne.stateCode,yt=Ne.authorizationCode;if(Xe!==le)throw e.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:ee,storedStateCode:le??"",returnedStateCode:Xe??""}}),new se("Unexpected auth flow. This may be a phishing attempt.",void 0,Ae.OAUTH_UNEXPECTED);let Mt=await(async function({appId:Ct,stateCode:Je,codeVerifier:sn,authorizationCode:an,action:cr,client:Sr}){if(!an||!Je)throw new se("[Cross-App AuthFlow] Authorization and state codes code must be set prior to calling authenicate.");if(an==="undefined")throw new se("User denied confirmation during cross-app auth flow");try{let Yn=new eUe({authorizationCode:an,stateCode:Je,codeVerifier:sn,provider:`privy:${Ct}`});Sr.startAuthFlow(Yn);let un=cr==="link"?await Sr.link():await Sr.authenticate(),Zn=un.oAuthTokens?.accessToken;return console.debug(),Zn}catch(Yn){let un=Gt(Yn);throw un.privyErrorCode===Ae.ACCOUNT_TRANSFER_REQUIRED?un:un.privyErrorCode?new se(un.message||"Invalid code during cross-app auth flow.",void 0,un.privyErrorCode):un.message==="User denied confirmation during cross-app auth flow"?new se("Invalid code during cross-app auth flow.",void 0,Ae.OAUTH_USER_DENIED):new se("Invalid code during cross-app auth flow.",void 0,Ae.UNKNOWN_AUTH_ERROR)}})({appId:U,codeVerifier:Ce,stateCode:Xe,authorizationCode:yt,action:te,client:e});Mt&&e.storeProviderAccessToken(U,Mt);let mt=await vt.refreshSessionAndUser();if(!mt)throw new se("Unable to update user");return e.createAnalyticsEvent({eventName:"cross_app_auth_completed",payload:{providerAppId:U}}),mt}catch(Ne){throw e.createAnalyticsEvent({eventName:"cross_app_auth_error",payload:{error:Ne.toString(),provider:ee}}),Ne}},async initLoginWithOAuth(U,W,te){if(Le.current=U,!a5()||U==="google"&&!i.allowOAuthInEmbeddedBrowsers&&nB(window.navigator.userAgent))return void dt("InAppBrowserLoginNotPossible");U==="twitter"&&window.opener&&window.opener.postMessage({type:tB},"*"),nt.del(M1),nt.del(xg);let ee=new Lh({provider:U,disableSignup:!!te,withPrivyUi:!0,customOAuthRedirectUrl:i.customOAuthRedirectUrl});W&&ee.addCaptchaToken(W),e.startAuthFlow(ee);let ae=await e.authFlow.getAuthorizationUrl();if(ae&&ae.url)if(U==="twitter"&&Vo.isAndroid&&(ae.url=ae.url.replace("x.com","twitter.com")),window.location.protocol==="chrome-extension:"&&B3())try{let{privyOAuthCode:le,privyOAuthState:Ce}=await HU(ae.url);dt("OAuthStatusScreen"),ee.meta.stateCode=Ce,ee.meta.authorizationCode=le}catch(le){throw console.error("OAuth in chrome extension flow failed:",le),le}else window.location.assign(ae.url)},async initLoginWithTelegram(U,W){if(!u)throw new fd;Le.current="telegram";let te=new xm(U,W);e.startAuthFlow(te),j({status:"loading"}),te.meta.telegramWebAppData=void 0,te.meta.telegramAuthResult=await new Promise(((ee,ae)=>i.loginConfig.telegramAuthConfiguration?window.Telegram?void window.Telegram.Login.auth({bot_id:i.loginConfig.telegramAuthConfiguration.botId,request_access:!0},(le=>le?ee(le):(He.current==="link"?Oe(ye,"linkAccount","onError",Ae.FAILED_TO_LINK_ACCOUNT,{linkMethod:"telegram"}):He.current==="login"?Oe(ye,"login","onError",Ae.INVALID_CREDENTIALS):He.current==="update"&&Oe(ye,"login","onError",Ae.FAILED_TO_UPDATE_ACCOUNT),ae(new se("Telegram auth failed or was canceled by the client"))))):ae(new se("Telegram was not initialized")):ae(new se("Telegram Auth configuration is not loaded"))))},async loginWithTelegram(U){let W,te;if(!(e.authFlow instanceof xm))throw new se("Must initialize Telegram flow before calling loginWithTelegram");e.authFlow.meta.captchaToken||=U?.captchaToken;let ee=await In(),ae=U?.intent||He.current;if(ae==="login")try{let Ce=await e.authenticate();W=Ce.user,te=Ce.isNewUser,Le.current="telegram"}catch(Ce){throw Oe(ye,"login","onError",Ce.privyErrorCode||Ae.UNKNOWN_AUTH_ERROR),Ce}else{if(ae!=="link")throw new se("Unknown auth intent");try{W=(await e.link()).user,Le.current="telegram"}catch(Ce){throw Oe(ye,"linkAccount","onError",Ce.privyErrorCode||Ae.FAILED_TO_LINK_ACCOUNT,{linkMethod:"telegram"}),Ce}}p(W),E(te||!1),Ht(!0),j({status:"done"});let le=W?.linkedAccounts.find((({type:Ce})=>Ce==="telegram"))||null;return{user:W,isNewUser:te||!1,wasAlreadyAuthenticated:!!ee,loginAccount:le}},async loginWithOAuth(U){let W,te,ee;if(!(e.authFlow instanceof Lh))throw new se("Must initialize OAuth flow before calling loginWithOAuth");let ae=nt.get(D1),le=e.authFlow.meta.stateCode;if(ae!==le)throw e.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:U,storedStateCode:ae??"",returnedStateCode:le??""}}),new se("Unexpected auth flow. This may be a phishing attempt.",void 0,Ae.OAUTH_UNEXPECTED);if(await e.getAccessToken()!==null)try{let Ce=await e.link();W=Ce.user,ee=Ce.oAuthTokens,Le.current=U}catch(Ce){throw Oe(ye,"linkAccount","onError",Ce.privyErrorCode||Ae.FAILED_TO_LINK_ACCOUNT,{linkMethod:U}),Ce}else try{let Ce=await e.authenticate();W=Ce.user,te=Ce.isNewUser,ee=Ce.oAuthTokens,Le.current=U}catch(Ce){throw He.current==="login"?Oe(ye,"login","onError",Ce.privyErrorCode||Ae.UNKNOWN_AUTH_ERROR):He.current==="link"&&Oe(ye,"linkAccount","onError",Ce.privyErrorCode||Ae.FAILED_TO_LINK_ACCOUNT,{linkMethod:U}),Ce}return p(W),E(te||!1),Ht(!0),ee&&W&&Oe(ye,"oAuthAuthorization","onOAuthTokenGrant",{oAuthTokens:ee,user:W}),ee},passkeyAuthState:$,setPasskeyAuthState:z,async initSignupWithPasskey({captchaToken:U,withPrivyUi:W}){let te=new Nh({captchaToken:U,setPasskeyAuthState:z,hints:i.passkeys.registration?.hints});e.startAuthFlow(te),He.current="login";try{Le.current="passkey",z({status:"generating-challenge"}),await te.initRegisterFlow(W),z({status:"awaiting-passkey"})}catch(ee){throw z({status:"error",error:ee}),Oe(ye,"login","onError",ee.privyErrorCode||Ae.UNKNOWN_AUTH_ERROR),ee}},async signupWithPasskey(){let U,W;if(!u)throw new fd;if(!(e.authFlow instanceof Nh))throw new se("Must initialize Passkey flow first.");if(Le.current!=="passkey"){let ae=new se("Must init login with Passkey flow first.");throw z({status:"error",error:ae}),ae}let te=await In();try{Le.current="passkey",z({status:"awaiting-passkey"}),{user:U,isNewUser:W}=await e.authenticate()}catch(ae){throw z({status:"error",error:ae}),Oe(ye,"login","onError",ae.privyErrorCode||Ae.UNKNOWN_AUTH_ERROR),ae}p(U),E(W||!1),Ht(!0),z({status:"done"});let ee=U?.linkedAccounts.find((({type:ae})=>ae==="passkey"))||null;return{user:U,isNewUser:W||!1,wasAlreadyAuthenticated:!!te,loginAccount:ee}},async initLoginWithPasskey({captchaToken:U,withPrivyUi:W}){let te=new Nh({captchaToken:U,setPasskeyAuthState:z,hints:void 0});e.startAuthFlow(te),He.current="login";try{Le.current="passkey",z({status:"generating-challenge"}),await te.initAuthenticationFlow(W),z({status:"awaiting-passkey"})}catch(ee){throw z({status:"error",error:ee}),Oe(ye,"login","onError",ee.privyErrorCode||Ae.UNKNOWN_AUTH_ERROR),ee}},async loginWithPasskey(U){let W,te;if(!u)throw new fd;if(!(e.authFlow instanceof Nh))throw new se("Must initialize Passkey flow first.");if(U?.credentialIds&&(e.authFlow.meta.allowedCredentialsIds=U.credentialIds),Le.current!=="passkey"){let le=new se("Must init login with Passkey flow first.");throw z({status:"error",error:le}),le}let ee=await In();try{Le.current="passkey",z({status:"awaiting-passkey"}),{user:W,isNewUser:te}=await e.authenticate()}catch(le){throw z({status:"error",error:le}),Oe(ye,"login","onError",le.privyErrorCode||Ae.UNKNOWN_AUTH_ERROR),le}p(W),E(te||!1),Ht(!0),z({status:"done"});let ae=W?.linkedAccounts.find((({type:le})=>le==="passkey"))||null;return{user:W,isNewUser:te||!1,wasAlreadyAuthenticated:!!ee,loginAccount:ae}},async initLinkWithPasskey(U){let W=new Nh({captchaToken:U,hints:i.passkeys.registration?.hints});e.startAuthFlow(W),He.current="link",Le.current="passkey",z({status:"generating-challenge"});try{await W.initLinkFlow(),z({status:"awaiting-passkey"})}catch(te){throw Oe(ye,"linkAccount","onError",te.privyErrorCode||Ae.UNKNOWN_AUTH_ERROR,{linkMethod:"passkey"}),z({status:"error",error:te}),te}},async linkWithPasskey(){let U;if(!u)throw new fd;if(!(e.authFlow instanceof Nh))throw new se("Must initialize Passkey flow first.");if(Le.current!=="passkey")throw new se("Must init login with Passkey flow first.");try{Le.current="passkey",{user:U}=await e.link()}catch(W){throw Oe(ye,"linkAccount","onError",W.privyErrorCode||Ae.FAILED_TO_LINK_ACCOUNT,{linkMethod:"passkey"}),W}return p(U||h||null),z({status:"done"}),U},async initLoginWithHeadlessOAuth(U,W,te){if(!a5()||U==="google"&&!i.allowOAuthInEmbeddedBrowsers&&nB(window.navigator.userAgent))throw Error("It looks like you're using an in-app browser.  To log in, please try again using an external browser.");let ee=new Lh({provider:U,withPrivyUi:!1,disableSignup:te??!1,customOAuthRedirectUrl:i.customOAuthRedirectUrl});W&&ee.addCaptchaToken(W),x({status:"loading"});let ae=await e.startAuthFlow(ee).getAuthorizationUrl();if(ae?.url)if(window.location.protocol==="chrome-extension:"&&B3())try{let{privyOAuthCode:le,privyOAuthState:Ce}=await HU(ae.url);ee.meta.stateCode=Ce,ee.meta.authorizationCode=le,await this.loginWithHeadlessOAuth(ee.meta)}catch(le){throw x({status:"error",error:le}),le}else window.location.assign(ae.url)},async loginWithHeadlessOAuth(U){let W,te,ee;A(!0),x({status:"loading"}),e.startAuthFlow(new Lh({...U,customOAuthRedirectUrl:i.customOAuthRedirectUrl}));let ae=nt.get(D1),le=U.stateCode;if(ae!==le)throw e.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:U.provider,storedStateCode:ae??"",returnedStateCode:le??""}}),A(!1),new se("Unexpected auth flow. This may be a phishing attempt.",void 0,Ae.OAUTH_UNEXPECTED);if(await e.getAccessToken()!==null)try{({user:W,oAuthTokens:ee}=await e.link()),Le.current=U.provider;let Ce=$t(W);W&&Ce&&Oe(ye,"linkAccount","onSuccess",{user:W,linkMethod:Le.current,linkedAccount:Ce})}catch(Ce){throw A(!1),Oe(ye,"linkAccount","onError",Ce.privyErrorCode||Ae.FAILED_TO_LINK_ACCOUNT,{linkMethod:U.provider}),Ce}else try{({user:W,isNewUser:te,oAuthTokens:ee}=await e.authenticate()),Le.current=U.provider;let Ce=$t(W);W&&Ce&&te!==void 0&&Oe(ye,"login","onComplete",{user:W,isNewUser:te,wasAlreadyAuthenticated:!1,loginMethod:Le.current,loginAccount:Ce})}catch(Ce){throw A(!1),x({status:"error",error:Ce}),Oe(ye,"login","onError",Ce.privyErrorCode||Ae.UNKNOWN_AUTH_ERROR),Ce}return p(W),E(te||!1),Ht(!0),A(!1),x({status:"done"}),ee&&W&&Oe(ye,"oAuthAuthorization","onOAuthTokenGrant",{oAuthTokens:ee,user:W}),W??void 0},initLoginWithEmail:async({email:U,captchaToken:W,disableSignup:te,withPrivyUi:ee})=>{let ae=new Yh({email:U,captchaToken:W,disableSignup:te});e.startAuthFlow(ae);try{Le.current="email",B({status:"sending-code"});let le=await ae.sendCodeEmail({withPrivyUi:ee});if(le?.ssoRedirectUrl)return window.location.href=le.ssoRedirectUrl,void await G1(1e4);B({status:"awaiting-code-input"})}catch(le){throw B({status:"error",error:le}),He.current==="login"?Oe(ye,"login","onError",le.privyErrorCode||Ae.UNKNOWN_AUTH_ERROR):He.current==="link"&&Oe(ye,"linkAccount","onError",le.privyErrorCode||Ae.FAILED_TO_LINK_ACCOUNT,{linkMethod:"email"}),le}},initUpdateEmail:async({oldAddress:U,newAddress:W,captchaToken:te})=>{let ee=new SMe(U,W,te);e.startAuthFlow(ee);try{await ee.sendCodeEmail({withPrivyUi:!0})}catch(ae){throw Oe(ye,"update","onError",ae.privyErrorCode||Ae.UNKNOWN_AUTH_ERROR,{linkMethod:Le.current}),ae}},initUpdatePhone:async(U,W,te)=>{let ee=new TMe(U,W,te);e.startAuthFlow(ee);try{await ee.sendSmsCode({withPrivyUi:!0})}catch(ae){Oe(ye,"update","onError",ae.privyErrorCode||Ae.UNKNOWN_AUTH_ERROR,{linkMethod:Le.current})}},initLoginWithSms:async({phoneNumber:U,captchaToken:W,disableSignup:te,withPrivyUi:ee})=>{D({status:"sending-code"});let ae=new Zh({phoneNumber:U,captchaToken:W,disableSignup:te});e.startAuthFlow(ae);try{Le.current="sms",await ae.sendSmsCode({withPrivyUi:ee}),D({status:"awaiting-code-input"})}catch(le){throw D({status:"error",error:le}),He.current==="login"?Oe(ye,"login","onError",le.privyErrorCode||Ae.UNKNOWN_AUTH_ERROR):He.current==="link"&&Oe(ye,"linkAccount","onError",le.privyErrorCode||Ae.FAILED_TO_LINK_ACCOUNT,{linkMethod:"sms"}),le}},resendEmailCode:async()=>{await e.authFlow?.sendCodeEmail({withPrivyUi:!0})},resendSmsCode:async()=>{await e.authFlow?.sendSmsCode({withPrivyUi:!0})},loginWithCode:async U=>{let W,te;function ee(Ne){e.authFlow instanceof Yh?B(Ne):e.authFlow instanceof Zh&&D(Ne)}if(ee({status:"submitting-code"}),!u){let Ne=new fd;throw ee({status:"error",error:Ne}),Ne}if(e.authFlow instanceof Yh)e.authFlow.meta.emailCode=U.trim();else{if(!(e.authFlow instanceof Zh)){let Ne=new se("Must initialize a passwordless code flow first");throw ee({status:"error",error:Ne}),Ne}e.authFlow.meta.smsCode=U.trim()}let ae=await In();if(He.current==="link")try{({user:W}=await e.link())}catch(Ne){throw ee({status:"error",error:Ne}),Oe(ye,"linkAccount","onError",Ne.privyErrorCode||Ae.FAILED_TO_LINK_ACCOUNT,{linkMethod:Le.current}),Ne}else if(He.current==="update")try{({user:W}=await e.link())}catch(Ne){throw ee({status:"error",error:Ne}),Oe(ye,"update","onError",Ne.privyErrorCode||Ae.FAILED_TO_UPDATE_ACCOUNT,{linkMethod:Le.current}),Ne}else try{({user:W,isNewUser:te}=await e.authenticate())}catch(Ne){throw ee({status:"error",error:Ne}),Oe(ye,"login","onError",Ne.privyErrorCode||Ae.UNKNOWN_AUTH_ERROR),Ne}let le=W||h;p(le||null),E(te||!1),Ht(!0),ee({status:"done"});let Ce=null;return e.authFlow instanceof Yh?Ce=le?.linkedAccounts.find((({type:Ne})=>Ne==="email"))||null:e.authFlow instanceof Zh&&(Ce=le?.linkedAccounts.find((({type:Ne})=>Ne==="phone"))||null),{user:le,isNewUser:te||!1,wasAlreadyAuthenticated:!!ae,linkedAccount:Ce}},generateSiweMessage:async({address:U,chainId:W,captchaToken:te})=>{He.current=wt?"link":"login",Le.current="siwe",K({status:"generating-message"});let ee=await e.generateSiweNonce({address:U,captchaToken:te});return K({status:"awaiting-signature"}),j3({address:U,chainId:W.replace("eip155:",""),nonce:ee})},generateSiweMessageForSmartWallet:async({address:U,chainId:W})=>{let te=await e.generateSiweNonce({address:U});return j3({address:U,chainId:W.replace("eip155:",""),nonce:te})},linkSmartWallet:async({message:U,signature:W,smartWalletType:te,smartWalletVersion:ee})=>{let ae;ae=await e.linkSmartWallet({message:U,signature:W,smartWalletType:te,smartWalletVersion:ee}),p((ae=await vt.refreshSessionAndUser()??ae)||h||null)},loginWithSiwe:async({message:U,signature:W,captchaToken:te,disableSignup:ee,walletClientType:ae,connectorType:le})=>{let Ce,Ne=null;try{if(h)throw Error("User already authenticated");let Xe=new l1(e,void 0,te,ee,{message:U,signature:W,walletClientType:ae,connectorType:le});if(e.startAuthFlow(Xe),Le.current="siwe",He.current="login",K({status:"submitting-signature"}),{user:Ne,isNewUser:Ce}=await e.authenticate(),!Ne)throw Error("Authentication failed - no user returned")}catch(Xe){throw Oe(ye,"login","onError",Xe.privyErrorCode||Ae.UNKNOWN_AUTH_ERROR),K({status:"error",error:Xe}),Xe}return p(Ne),E(Ce||!1),Ht(!0),K({status:"done"}),He.current=null,Le.current=null,{user:Ne,isNewUser:Ce||!1}},linkWithSiwe:async({message:U,signature:W,chainId:te,walletClientType:ee,connectorType:ae})=>{let le;it("siwe");let Ce=null;try{K({status:"submitting-signature"}),le=await e.linkWithSiwe({message:U,signature:W,chainId:te,walletClientType:ee,connectorType:ae}),le=await vt.refreshSessionAndUser()??le,K({status:"done"}),(Ce=$t(le)||null)&&Oe(ye,"linkAccount","onSuccess",{user:le,linkMethod:"siwe",linkedAccount:Ce})}catch(Xe){throw Oe(ye,"linkAccount","onError",Xe.privyErrorCode||Ae.FAILED_TO_LINK_ACCOUNT,{linkMethod:"siwe"}),He.current=null,Le.current=null,K({status:"error",error:Xe}),Xe}let Ne=le||h;return p(Ne||null),He.current=null,Le.current=null,{user:Ne,linkedAccount:Ce}},refreshSessionAndUser:async()=>{let U=await e.getAuthenticatedUser();return Ht(!!U),p(U),U},walletProxy:P,createAnalyticsEvent:({eventName:U,payload:W,timestamp:te})=>e.createAnalyticsEvent({eventName:U,payload:W,timestamp:te}),acceptTerms:async()=>{let U=await e.acceptTerms();return p(U),U},getUsdTokenPrice:U=>e.getUsdTokenPrice(U),getUsdPriceForSol:()=>e.getUsdPriceForSol(),getSplTokenMetadata:U=>e.getSplTokenMetadata(U),recoverEmbeddedWallet:async U=>new Promise((async(W,te)=>{if(!h)return void W(!0);let ee=U?.address?Fc(h,U.address):h0(h)||XT(h).at(0)||Zj(h).at(0);if(!ee||Si(ee))return void W(!0);let ae=await In();if(!ae||!P||!ee)return void te(Error("Must have valid access token and Privy wallet to recover wallet"));let{entropyId:le,entropyIdVerifier:Ce}=Ka(h,ee);try{await P.connect({accessToken:ae,entropyId:le,entropyIdVerifier:Ce}),W(!0)}catch(Ne){if(T_(Ne)&&ee.recoveryMethod==="privy"){let Xe;e.createAnalyticsEvent({eventName:"embedded_wallet_pinless_recovery_started",payload:{walletAddress:ee.address}});try{Xe=await P.recover({entropyId:le,entropyIdVerifier:Ce,accessToken:ae})}catch(yt){return void te(yt)}Xe.entropyId||te(Error("Unable to recover wallet")),e.createAnalyticsEvent({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:ee.address}}),W(!0)}else T_(Ne)&&ee.recoveryMethod!=="privy"&&ee.recoveryMethod!=="privy-v2"?(J({recoverWallet:{entropyId:le,entropyIdVerifier:Ce,onFailure:te,onSuccess:()=>W(!0)},recoveryOAuthStatus:{provider:ee.recoveryMethod,action:"recover",shouldCreateEth:!1,shouldCreateSol:!1}}),dt(iUe(ee.recoveryMethod))):te(Ne)}})),setReadyToTrue:U=>{d(!0),X?.(U)},updateWallets:()=>ht(),fundWallet:async(U,W)=>{let te="FundingMethodSelectionScreen";return new Promise(((ee,ae)=>{J({funding:{...x$({address:U,appConfig:i,fundWalletConfig:W,methodScreen:te,onComplete:ee,onError:ae})}}),dt(te)}))},openModal:dt,requestFarcasterSignerStatus:async U=>{let W=await In(),te=h?.linkedAccounts.find((ae=>ae.type==="wallet"&&ae.walletClientType==="privy"));if(!W)throw Error("Must have valid access token to connect with Farcaster");if(!P||!te)throw Error("Must have an embedded wallet to use Farcaster signers");if(!h?.farcaster?.fid)throw Error("Must have Farcaster account to use Farcaster signers");let ee=await e.requestFarcasterSignerStatus(U);return ee.status==="approved"&&p(await e.getAuthenticatedUser()||h||null),ee},connectCoinbaseSmartWallet:async()=>{i.externalWallets.coinbaseWallet.config.preference={...i.externalWallets.coinbaseWallet.config.preference,options:"smartWalletOnly"};let U=e.connectors?.findWalletConnector("coinbase_wallet","coinbase_smart_wallet")||e.connectors?.findWalletConnector("coinbase_wallet","coinbase_wallet");if(U)return U.updateConnectionPreference("smartWalletOnly"),mn(U);await zi("coinbase_wallet","coinbase_smart_wallet")},connectBaseAccount:async()=>{let U=e.connectors?.findWalletConnector("base_account","base_account");if(U)return mn(U);await zi("base_account","base_account")},initiateAccountTransfer:async({nonce:U,account:W,accountType:te,externalWalletMetadata:ee,telegramAuthResult:ae,telegramWebAppData:le,farcasterEmbeddedAddress:Ce,oAuthUserInfo:Ne})=>{let Xe=await e.sendAccountTransferRequest({nonce:U,account:W,accountType:te,externalWalletMetadata:ee,telegramAuthResult:ae,telegramWebAppData:le,farcasterEmbeddedAddress:Ce,oAuthUserInfo:Ne});return p(Xe),Xe},inProgressAuthFlowRef:He,inProgressLoginOrLinkMethodRef:Le};jK=vt.recoverEmbeddedWallet,vt.recoverEmbeddedWallet;let gs=Y.useMemo((()=>({wallets:m,ready:we&&Tt})),[m,we,Tt]),ec=e.authFlow instanceof xm,{siteKey:uo,enabledProvider:Hu}=i.captcha,Gu=!i.headless&&Hu&&!wt&&(u||ec);return he.jsx(DK.Provider,{value:!0,children:he.jsx(Vp.Provider,{value:Fi,children:he.jsx(Cz.Provider,{value:ye,children:he.jsx(Rz.Provider,{value:gs,children:he.jsx(IMe,{appId:i.id,captchaSiteKey:uo,enabledCaptchaProvider:Hu,children:he.jsxs(Vj.Provider,{value:vt,children:[he.jsx(Que,{children:he.jsxs(Sle,{data:G,setModalData:J,setInitialScreen:k,initialScreen:O,authenticated:wt,open:s,children:[t.children,he.jsx(gUe,{customAuth:i.customAuth}),Gu&&he.jsx(kMe,{delayedExecution:!1}),he.jsx(GMe,{}),he.jsx(hUe,{disabled:i.embeddedWallets.disableAutomaticMigration}),he.jsx(NMe,{palette:i.appearance.palette||{}}),!i.render.standalone&&he.jsx(qMe,{open:s})]})}),he.jsx(XMe,{appId:t.appId,appClientId:t.clientId,clientAnalyticsId:e.clientAnalyticsId,origin:e.apiUrl,mfaMethods:h?.mfaMethods,mfaPromise:qe,mfaSubmitPromise:rt,onLoad:H,onLoadFailed:()=>null}),i.loginConfig.telegramAuthConfiguration&&he.jsx(Mz,{$if:!0,children:he.jsx(HMe,{scriptHost:t.apiUrl||KT,botUsername:i.loginConfig.telegramAuthConfiguration.botName})})]})})})})})})},wUe=t=>jK(t);class ja extends Error{constructor(e,n,r){super(e),this.code=n,this.data=r}}class iB extends Lu{async handleSendTransaction(e){if(!e.params||!Array.isArray(e.params))throw new ja(`Invalid params for ${e.method}`,4200);let n=e.params[0];if(!await In()||!this.address)throw new ja("Disconnected",4900);let{hash:r}=await((i,s)=>LK(i,s))(n,{address:this.address});return r}async handleSignTransaction(e){if(!e.params||!Array.isArray(e.params))throw new ja(`Invalid params for ${e.method}`,4200);let n=e.params[0];if(!await In()||!this.address)throw new ja("Disconnected",4900);let{signature:r}=await((i,s)=>BK(i,s))(n,{address:this.address});return r}handleSwitchEthereumChain(e){let n;if(!e.params||!Array.isArray(e.params))throw new ja(`Invalid params for ${e.method}`,4200);if(typeof e.params[0]=="string")n=e.params[0];else{if(!("chainId"in e.params[0])||typeof e.params[0].chainId!="string")throw new ja(`Invalid params for ${e.method}`,4200);n=e.params[0].chainId}this.chainId=Number(n),this.publicClient=W1(this.chainId,this.chains,this.rpcConfig,{appId:this.appId}),this.emit("chainChanged",n)}async handlePersonalSign(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for personal_sign");let n=e.params[0],r=e.params[1],{signature:i}=await((s,a)=>MK(s,a))({message:n},{address:r});return i}async handleSignedTypedData(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_signTypedData_v4");let n=e.params[0],r=typeof e.params[1]=="string"?JSON.parse(e.params[1]):e.params[1],{signature:i}=await((s,a)=>UK(s,a))(Yv(r),{address:n});return i}async handleEstimateGas(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_estimateGas");delete e.params[0].gasPrice,delete e.params[0].maxFeePerGas,delete e.params[0].maxPriorityFeePerGas;let n={...e.params[0],chainId:l5(this.chainId)};return await this.publicClient.estimateGas({account:n.from??this.address,..._1(n)})}async request(e){switch(console.debug("Embedded1193Provider.request() called with args",e),e.method){case"eth_accounts":case"eth_requestAccounts":return this.address?[this.address]:[];case"eth_chainId":return l5(this.chainId);case"eth_estimateGas":return this.handleEstimateGas(e);case"eth_sendTransaction":return this.handleSendTransaction(e);case"eth_signTransaction":return this.handleSignTransaction(e);case"wallet_switchEthereumChain":return this.handleSwitchEthereumChain(e);case"personal_sign":return this.handlePersonalSign(e);case"eth_signTypedData_v4":return this.handleSignedTypedData(e)}if(!(n=>AMe.includes(n))(e.method))return this.publicClient.request({method:e.method,params:e.params});{let n=await In();if(await wUe({address:this.address}),!n||!this.address)throw new ja("Disconnected",4900);try{let r={method:e.method,params:e.params},i=this.walletAccount;return i&&Si(i)?this.handleWalletApiRequest(r,i,n):(await this.walletProxy.rpc({accessToken:n,entropyId:this.entropyId,entropyIdVerifier:this.entropyIdVerifier,chainType:"ethereum",hdWalletIndex:this.walletIndex,request:r})).response.data}catch(r){throw console.error(r),new ja("Disconnected",4900)}}}async handleWalletApiRequest(e,n,r){let i=this.privyClient;if(!i)throw new ja("Disconnected",4900);if(e.method==="secp256k1_sign"){let s=await Ms(i,(async({message:a})=>this.walletProxy.signWithUserSigner({accessToken:r,message:a})),{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:n.id,params:{hash:e.params[0]}});if(s.method!=="secp256k1_sign")throw new ja(`Invalid params for ${e.method}`,4200);return s.data.signature}throw new ja(`Method not supported: ${e.method}`,4200)}constructor({walletProxy:e,address:n,entropyId:r,entropyIdVerifier:i,rpcConfig:s,chains:a,appId:c,chainId:u=1,walletIndex:d,privyClient:h,walletAccount:p}){super(),this.walletProxy=e,this.address=n,this.entropyId=r,this.entropyIdVerifier=i,this.chainId=u,this.rpcConfig=s,this.chains=a,this.publicClient=W1(u,this.chains,s,{appId:c}),this.rpcTimeoutDuration=iC(s,"privy"),this.appId=c,this.walletIndex=d,this.privyClient=h,this.walletAccount=p}}const vUe=({style:t,...e})=>he.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",strokeWidth:1.5,viewBox:"0 0 24 24",style:{...t},...e,children:he.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17.25v1.007a3 3 0 01-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0115 18.257V17.25m6-12V15a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 15V5.25m18 0A2.25 2.25 0 0018.75 3H5.25A2.25 2.25 0 003 5.25m18 0V12a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 12V5.25"})}),_Ue=({style:t,...e})=>he.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"108",height:"108",viewBox:"0 0 108 108",fill:"none",style:{height:"28px",width:"28px",...t},...e,children:[he.jsx("rect",{width:"108",height:"108",rx:"23",fill:"#AB9FF2"}),he.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M46.5267 69.9229C42.0054 76.8509 34.4292 85.6182 24.348 85.6182C19.5824 85.6182 15 83.6563 15 75.1342C15 53.4305 44.6326 19.8327 72.1268 19.8327C87.768 19.8327 94 30.6846 94 43.0079C94 58.8258 83.7355 76.9122 73.5321 76.9122C70.2939 76.9122 68.7053 75.1342 68.7053 72.314C68.7053 71.5783 68.8275 70.7812 69.0719 69.9229C65.5893 75.8699 58.8685 81.3878 52.5754 81.3878C47.993 81.3878 45.6713 78.5063 45.6713 74.4598C45.6713 72.9884 45.9768 71.4556 46.5267 69.9229ZM83.6761 42.5794C83.6761 46.1704 81.5575 47.9658 79.1875 47.9658C76.7816 47.9658 74.6989 46.1704 74.6989 42.5794C74.6989 38.9885 76.7816 37.1931 79.1875 37.1931C81.5575 37.1931 83.6761 38.9885 83.6761 42.5794ZM70.2103 42.5795C70.2103 46.1704 68.0916 47.9658 65.7216 47.9658C63.3157 47.9658 61.233 46.1704 61.233 42.5795C61.233 38.9885 63.3157 37.1931 65.7216 37.1931C68.0916 37.1931 70.2103 38.9885 70.2103 42.5795Z",fill:"#FFFDF8"})]});function V6(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw TypeError("attempted to use private field on non-instance");return t}var EUe=0;class zK extends Af{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}get walletBranding(){return{name:this.providerDetail.info.name,icon:this.providerDetail.info.icon,id:this.providerDetail.info.rdns}}disconnect(){console.warn(`Programmatic disconnect with ${this.providerDetail.info.name} is not yet supported.`)}async promptConnection(){try{let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new zn("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw zu(e)}}constructor(e,n,r,i,s){super(s||"unknown",e,n,r),this.connectorType="injected",this.proxyProvider=new Sf(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.providerDetail=i;let a=i.provider;this.proxyProvider.setWalletProvider(a)}}var bd="__private_"+EUe+++"__walletBranding";class H6 extends Af{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}get walletBranding(){return V6(this,bd)[bd]??{name:"Browser Extension",icon:vUe,id:"extension"}}disconnect(){console.warn("Programmatic disconnect with browser wallets is not yet supported.")}async promptConnection(){try{let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new zn("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw zu(e)}}constructor(e,n,r,i,s){super(s??"unknown",e,n,r),Object.defineProperty(this,bd,{writable:!0,value:void 0}),this.connectorType="injected",this.proxyProvider=new Sf(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.proxyProvider.setWalletProvider(i),s==="metamask"?V6(this,bd)[bd]={name:"MetaMask",icon:tde,id:"io.metamask"}:s==="phantom"&&(V6(this,bd)[bd]={name:"Phantom",icon:_Ue,id:"phantom"})}}class AUe extends zK{disconnect(){console.warn("MetaMask does not support programmatic disconnect.")}async promptConnection(){try{Vo.isMobile||await this.proxyProvider.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]});let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new zn("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw zu(e)}}}class SUe extends Lu{get wallets(){let e=new Set;return this.walletConnectors.flatMap((n=>n.wallets)).sort(((n,r)=>n.connectedAt&&r.connectedAt?r.connectedAt-n.connectedAt:0)).filter((n=>{let r=`${n.address}${n.walletClientType}${n.connectorType}${n.meta.id}`;return!e.has(r)&&(e.add(r),!0)}))}async initialize(e){if(this.initialized&&!e||(e&&this.removeAllConnectors(),this.externalWalletConfig.disableAllExternalWallets))return;let n=jue({store:this.store,walletList:this.walletList,externalWalletConfig:this.externalWalletConfig,walletChainType:this.walletChainType}).then((a=>{a.forEach((({type:c,eip6963InjectedProvider:u,legacyInjectedProvider:d})=>{this.createEthereumWalletConnector({connectorType:"injected",walletClientType:c,providers:{eip6963InjectedProvider:u,legacyInjectedProvider:d}})}))}));for(let a of(this.walletList.includes("coinbase_wallet")&&this.createEthereumWalletConnector({connectorType:"coinbase_wallet",walletClientType:"coinbase_wallet"}),this.walletList.includes("base_account")&&this.createEthereumWalletConnector({connectorType:"base_account",walletClientType:"base_account"}),Object.values(Uz)))!a.isInstalled&&this.walletList.includes(a.client)&&(["ethereum-only","ethereum-and-solana"].includes(this.walletChainType)&&a.chainTypes.includes("ethereum")&&this.createEthereumWalletConnector({connectorType:"null",walletClientType:a.client,walletConfig:a}),["ethereum-and-solana","solana-only"].includes(this.walletChainType)&&a.chainTypes.includes("solana")&&this.addSolanaWalletConnector(new Zue({id:a.client,name:a.name})));this.externalWalletConfig.walletConnect.enabled&&(this.walletList.includes("wallet_connect_qr")||o5(this.walletList))&&this.walletChainType!=="solana-only"&&this.createEthereumWalletConnector({connectorType:"wallet_connect_v2",walletClientType:"unknown"});let r=this.walletList.includes("wallet_connect_qr_solana")||o5(this.walletList)&&this.walletChainType!=="ethereum-only",i=this.externalWalletConfig.solana.connectors?.get()||[],s=async a=>{if(!r)return;let c=a.find((u=>u.walletBranding?.id==="walletconnect_solana"));c&&c.wallet&&await c.wallet.initialize({walletConnectCloudProjectId:this.walletConnectCloudProjectId,privyAppName:this.privyAppName})};s(i),i.filter((a=>r||a.walletBranding?.id!=="walletconnect_solana")).forEach(this.addSolanaWalletConnector),this.externalWalletConfig.solana.connectors?._setOnConnectorsUpdated?.((a=>{s(a),a?.filter((c=>r||c.walletBranding?.id!=="walletconnect_solana")).forEach(this.addSolanaWalletConnector)})),await n,this.initialized=!0}findWalletConnector(e,n,r){return e==="wallet_connect_v2"?this.walletConnectors.filter(em).find((i=>i.connectorType===e&&(!r||i.wallets.some((s=>s.address===r)))))??null:this.walletConnectors.filter(em).find((i=>i.connectorType===e&&i.walletClientType===n&&(!r||i.wallets.some((s=>s.address===r)))))??null}findSolanaWalletConnector(e){return this.walletConnectors.filter(Xue).find((n=>n.walletClientType==="unknown"?n.walletBranding.id===e:n.walletClientType===e))??null}findEmbeddedWalletConnectors(){return this.walletConnectors.filter((e=>e.connectorType==="embedded"))}findImportedWalletConnectors(){return this.walletConnectors.filter((e=>e.connectorType==="embedded_imported"))}onInitialized(e){e.wallets.forEach((n=>{let r=this.storedConnections.find((i=>i.address===n.address&&i.connectorType===n.connectorType&&(n.type==="solana"&&i.walletClientType==="unknown"&&n.walletClientType==="unknown"?n.meta.id===i.id:i.walletClientType===n.walletClientType)));r&&(n.connectedAt=r.connectedAt)})),this.emit("walletsUpdated"),this.emit("connectorInitialized")}onWalletsUpdated(e){e.initialized&&this.emit("walletsUpdated")}addEmbeddedWalletConnectors({walletProxy:e,user:n,embeddedWallets:r,defaultChain:i,appId:s,privyClient:a}){let{entropyId:c,entropyIdVerifier:u}=Ka(n);for(let d of r){let h=this.findEmbeddedWalletConnectors().find((p=>p.walletIndex===d.walletIndex));if(h&&em(h))h.proxyProvider.walletProxy=e;else{let p=new WU({provider:new iB({walletProxy:e,address:d.address,entropyId:c,entropyIdVerifier:u,rpcConfig:this.rpcConfig,chains:this.chains,appId:s,chainId:i.id,walletIndex:d.walletIndex,privyClient:a,walletAccount:d}),chains:this.chains,defaultChain:i,rpcConfig:this.rpcConfig,imported:!1,walletIndex:d.walletIndex});this.addWalletConnector(p)}}}addImportedWalletConnector(e,n,r,i){let s=this.findWalletConnector("embedded_imported","privy",n);if(s&&em(s))s.proxyProvider.walletProxy=e;else{let a=new WU({provider:new iB({walletProxy:e,address:n,entropyId:n,entropyIdVerifier:"ethereum-address-verifier",walletIndex:0,rpcConfig:this.rpcConfig,chains:this.chains,appId:i,chainId:r.id}),chains:this.chains,walletIndex:0,defaultChain:r,rpcConfig:this.rpcConfig,imported:!0});this.addWalletConnector(a)}}removeEmbeddedWalletConnectors(){this.walletConnectors=this.walletConnectors.filter((e=>e.connectorType!=="embedded")),this.storedConnections=Gv(),this.emit("walletsUpdated")}removeImportedWalletConnectors(){let e=this.findImportedWalletConnectors();e.length&&(e.forEach((n=>{let r=this.walletConnectors.indexOf(n);this.walletConnectors.splice(r,1)})),this.storedConnections=Gv(),this.emit("walletsUpdated"))}async createEthereumWalletConnector({connectorType:e,walletClientType:n,providers:r,walletConfig:i}){let s=this.findWalletConnector(e,n);if(s&&em(s))return s instanceof F3&&s.resetConnection(n),s;let a=e!=="injected"?e==="coinbase_wallet"?new _Me(this.chains,this.defaultChain,this.rpcConfig,this.externalWalletConfig.coinbaseWallet.config):e==="base_account"?new wMe(this.chains,this.defaultChain,this.rpcConfig,this.externalWalletConfig.baseAccount.config,this.setBaseAccountSdk):e!=="null"?new F3({walletConnectCloudProjectId:this.walletConnectCloudProjectId,rpcConfig:this.rpcConfig,chains:this.chains,defaultChain:this.defaultChain,shouldEnforceDefaultChainOnConnect:this.shouldEnforceDefaultChainOnConnect,privyAppId:this.privyAppId,privyAppName:this.privyAppName,walletClientType:n}):i?new ede({id:i.client,name:i.name,defaultChain:this.defaultChain,walletClientType:i.client}):null:n==="metamask"&&r?.eip6963InjectedProvider?new AUe(this.chains,this.defaultChain,this.rpcConfig,r?.eip6963InjectedProvider,"metamask"):n==="metamask"&&r?.legacyInjectedProvider?new H6(this.chains,this.defaultChain,this.rpcConfig,r?.legacyInjectedProvider,"metamask"):n==="phantom"&&r?.legacyInjectedProvider?new H6(this.chains,this.defaultChain,this.rpcConfig,r?.legacyInjectedProvider,"phantom"):r?.legacyInjectedProvider&&n==="unknown_browser_extension"?new H6(this.chains,this.defaultChain,this.rpcConfig,r?.legacyInjectedProvider):r?.eip6963InjectedProvider?new zK(this.chains,this.defaultChain,this.rpcConfig,r?.eip6963InjectedProvider,n):void 0;return a&&this.addWalletConnector(a),a||null}addWalletConnector(e){this.walletConnectors.push(e),e.on("initialized",(()=>this.onInitialized(e))),e.on("walletsUpdated",(()=>this.onWalletsUpdated(e))),e.initialize().catch((n=>{console.debug("Failed to initialize connector",n)}))}setWalletList(e){this.walletList=e,this.initialized&&this.initialize(!0).catch(console.error)}removeAllConnectors(){for(let e of this.walletConnectors)e.removeAllListeners();this.walletConnectors=[]}constructor(e,n,r,i,s,a,c,u,d,h,p,m){super(),this.addSolanaWalletConnector=async g=>{let b=this.findSolanaWalletConnector(g.walletClientType);if(!b||b.connectorType==="null"){if(b?.connectorType==="null"){let v=this.walletConnectors.indexOf(b);this.walletConnectors.splice(v,1)}this.addWalletConnector(g)}},this.privyAppId=e,this.walletConnectCloudProjectId=n,this.rpcConfig=r,this.chains=i,this.defaultChain=s,this.walletConnectors=[],this.initialized=!1,this.store=a,this.walletList=c,this.shouldEnforceDefaultChainOnConnect=u,this.externalWalletConfig=d,this.privyAppName=h,this.walletChainType=m||"ethereum-only",this.setBaseAccountSdk=p,this.storedConnections=Gv()}}const sB=Ef((()=>({identityToken:null})));let xUe=[AF,SF,CF];class TUe{async get(e,n){try{return await this.baseFetch(e,n)}catch(r){throw Gt(r)}}async post(e,n,r){try{return await this.baseFetch(e,{method:"POST",...n?{body:n}:{},...r})}catch(i){throw Gt(i)}}async delete(e,n){try{return await this.baseFetch(e,{method:"DELETE",...n})}catch(r){throw Gt(r)}}constructor({appId:e,appClientId:n,client:r,defaults:i}){this.appId=e,this.appClientId=n,this.clientAnalyticsId=r.clientAnalyticsId,this.sdkVersion=gce,this.client=r,this.defaults=i,this.fallbackApiUrl=r.fallbackApiUrl,this.baseFetch=_le.create({baseURL:this.defaults.baseURL,timeout:this.defaults.timeout,retry:3,retryDelay:500,retryStatusCodes:[408,409,425,500,502,503,504],credentials:"include",onRequest:async({request:s,options:a})=>{let c=new Headers(a.headers);c.set("privy-app-id",this.appId),this.appClientId&&c.set("privy-client-id",this.appClientId),c.set("privy-ca-id",this.clientAnalyticsId||""),c.set("privy-client",`react-auth:${this.sdkVersion}`);let u=xUe.includes(s.toString());if(!c.has("authorization")){let d=await this.client.getAccessToken({disableAutoRefresh:u});d!==null&&c.set("authorization",`Bearer ${d}`)}a.headers=c,a.retryDelay&&typeof a.retryDelay=="number"&&(a.retryDelay=3*a.retryDelay)},onRequestError:({error:s})=>{if(s instanceof DOMException&&s.name==="AbortError")throw new Ele}})}}const IUe=t=>({rpId:t.rp_id,challenge:t.challenge,allowCredentials:t.allow_credentials?.map((e=>({id:e.id,type:e.type,transports:e.transports})))||[],timeout:t.timeout,extensions:{appid:t.extensions?.app_id,credProps:t.extensions?.cred_props,hmacCreateSecret:t.extensions?.hmac_create_secret},userVerification:t.user_verification});class CUe{getOrCreateGuestCredential(e){let n=Pj(e);if(a5()){if(nt.get(n))return nt.get(n);{let r=Xd(L3(32));return nt.put(n,r),r}}return Xd(L3(32))}async authenticate(){if(!this.api)throw new se("Auth flow has no API instance");try{return await this.api.post(qhe,{guest_credential:this.meta.guestCredential})}catch(e){throw Gt(e)}}async link(){throw Error("Linking is not supported for the guest flow")}constructor(e){this.meta={guestCredential:this.getOrCreateGuestCredential(e)}}}function G6(){return!(Vo.isSafari&&window.location.origin.startsWith("http://localhost"))}var K6,aB=((K6={}).PRIVY="privy_access_token",K6.CUSTOMER="customer_access_token",K6);class OUe{get token(){return this.privyAccessToken||this.customerAccessToken}getToken(e){return e==="privy_access_token"?this.privyAccessToken:this.customerAccessToken}get customerAccessToken(){return this._getToken(dg)}get privyAccessToken(){return this._getToken(jv)}_getToken(e){try{let n=nt.get(e);return typeof n=="string"?Au.throwIfNotWellFormedJwt(n):null}catch(n){return console.error(n),this.destroyLocalState(),null}}get refreshToken(){try{let e=nt.get(qS);return typeof e=="string"?e:null}catch(e){return console.error(e),this.destroyLocalState(),null}}getProviderAccessToken(e){try{let n=nt.get(nv(e));if(typeof n!="string")return null;{let r=new Au(n);return r.isExpired()?(nt.del(nv(e)),null):r.value}}catch(n){return console.error(n),null}}get mightHaveServerCookies(){try{let e=ir.get(WS);return e!==void 0&&e.length>0}catch(e){console.error(e)}return!1}hasRefreshCredentials(e="privy_access_token"){let n=typeof this.getToken(e)=="string",r=typeof this.refreshToken=="string"&&this.refreshToken!==vce;return this.mightHaveServerCookies||n&&r}hasActiveAccessToken(e){let n=Au.parse(this.getToken(e));return n!==null&&!n.isExpired(30)}authenticate(e){return this.authenticateOnce.execute(e)}link(e){return this.linkOnce.execute(e)}refresh(){return this.refreshOnce.execute()}destroy(){return this.destroyOnce.execute()}storeProviderAccessToken(e,n){typeof n=="string"?nt.put(nv(e),n):nt.del(nv(e))}updateIdentityToken(e){typeof e=="string"?this.storeIdentityToken(e):this.clearIdentityToken()}async _authenticate(e){try{let n=await e.authenticate(),{user:r,is_new_user:i,oauth_tokens:s}=n;this.handleTokenResponse(n);let a=s?{provider:s.provider,accessToken:s.access_token,accessTokenExpiresInSeconds:s.access_token_expires_in_seconds,refreshToken:s.refresh_token,refreshTokenExpiresInSeconds:s.refresh_token_expires_in_seconds,scopes:s.scopes}:void 0;return this._trackAuthenticateEvents(e,i),{user:ci(r),isNewUser:i,oAuthTokens:a}}catch(n){throw console.warn("Error authenticating session"),Wn(n)}}_trackAuthenticateEvents(e,n){let r=(function(i){return i instanceof Yh?"email":i instanceof Zh?"sms":i instanceof l1?"siwe":i instanceof CUe?"guest":i instanceof PK?"custom_auth":i instanceof Lh?i.meta.provider:null})(e);r&&this.client&&this.client.createAnalyticsEvent({eventName:"sdk_authenticate",payload:{method:r,isNewUser:n}}),r==="siwe"&&this.client&&this.client.createAnalyticsEvent({eventName:"sdk_authenticate_siwe",payload:{connectorType:e.meta.connectorType,walletClientType:e.meta.walletClientType}})}async _link(e){try{let n=await e.link(),r=n.oauth_tokens,i=r?{provider:r.provider,accessToken:r.access_token,accessTokenExpiresInSeconds:r.access_token_expires_in_seconds,refreshToken:r.refresh_token,refreshTokenExpiresInSeconds:r.refresh_token_expires_in_seconds,scopes:r.scopes}:void 0;return{user:ci(n),oAuthTokens:i}}catch(n){throw console.warn("Error linking account"),Wn(n)}}async _refresh(){if(!this.api)throw new se("Session has no API instance");if(!this.client)throw new se("Session has no PrivyClient instance");await this.client.getAccessToken({disableAutoRefresh:!0});let e=this.token,n=this.refreshToken;if(this.client.useServerCookies&&!this.mightHaveServerCookies&&this.token&&window.location.origin===this.client.apiUrl)return this.destroyLocalState(),null;try{let r;if(!(e&&n||this.mightHaveServerCookies))return null;{let i={};e&&(i.authorization=`Bearer ${e}`),r=await this.api.post(AF,n?{refresh_token:n}:{},{headers:i})}return this.handleTokenResponse(r),ci(r.user)}catch(r){if(r instanceof B1&&r.privyErrorCode===Ae.MISSING_OR_INVALID_TOKEN)return console.warn("Unable to refresh tokens - token is missing or no longer valid"),this.destroyLocalState(),null;throw Wn(r)}}handleTokenResponse(e){e.session_update_action&&e.session_update_action!=="set"?e.session_update_action==="clear"?this.destroyLocalState():e.session_update_action==="ignore"&&(e.token&&(this.storeCustomerAccessToken(e.token),this.storePrivyAccessToken(e.privy_access_token)),e.identity_token&&this.storeIdentityToken(e.identity_token)):this._storeAllTokens(e)}_storeAllTokens(e){this.storeRefreshToken(e.refresh_token),this.storeCustomerAccessToken(e.token),this.storePrivyAccessToken(e.privy_access_token),e.identity_token&&this.storeIdentityToken(e.identity_token)}async _destroy(){try{await this.api?.post(SF,{refresh_token:this.refreshToken})}catch{console.warn("Error destroying session")}this.destroyLocalState()}destroyLocalState(){this.storeRefreshToken(null),this.storeCustomerAccessToken(null),this.storePrivyAccessToken(null),this.clearIdentityToken()}storeCustomerAccessToken(e){if(typeof e=="string"){let n=nt.get(dg);if(nt.put(dg,e),!this.client?.useServerCookies){let r=Au.parse(e)?.expiration;ir.set(XN,e,{sameSite:"Strict",secure:G6(),expires:r?new Date(1e3*r):void 0})}n!==e&&this.client?.onStoreCustomerAccessToken?.(e)}else nt.del(dg),ir.remove(XN),this.client?.onDeleteCustomerAccessToken?.()}storeRefreshToken(e){typeof e=="string"?(nt.put(qS,e),this.client?.useServerCookies||ir.set(WS,"t",{sameSite:"Strict",secure:G6(),expires:30})):(nt.del(qS),ir.remove(bce),ir.remove(WS))}storePrivyAccessToken(e){typeof e=="string"?nt.put(jv,e):nt.del(jv)}storeIdentityToken(e){if(sB.setState({identityToken:e}),this.client?.useServerCookies)return;nt.put(JN,e);let n=Au.parse(e)?.expiration;ir.set(QN,e,{sameSite:"Strict",secure:G6(),expires:n?new Date(1e3*n):void 0})}clearIdentityToken(){nt.del(JN),sB.setState({identityToken:null}),ir.remove(QN)}constructor(){this.authenticateOnce=new Qa((async e=>this._authenticate(e))),this.linkOnce=new Qa((async e=>this._link(e))),this.refreshOnce=new Qa(this._refresh.bind(this)),this.destroyOnce=new Qa(this._destroy.bind(this))}}let Y6,I_;var kUe=0,Z6="__private_"+kUe+++"__getOrGenerateClientAnalyticsId";class RUe{getAppId(){return this.appId}initializeConnectorManager({walletConnectCloudProjectId:e,rpcConfig:n,chains:r,defaultChain:i,store:s,walletList:a,shouldEnforceDefaultChainOnConnect:c,externalWalletConfig:u,appName:d,walletChainType:h,setBaseAccountSdk:p}){this.connectors||(this.connectors=new SUe(this.appId,e,n,r,i,s,a,c,u,d,p,h))}generateApi(){let e=new TUe({appId:this.appId,appClientId:this.appClientId,client:this,defaults:{baseURL:this.apiUrl,timeout:this.timeout}});return this.session.api=e,e}updateApiUrl(e){this.apiUrl=e||this.fallbackApiUrl,this.api=this.generateApi(),e&&(this.useServerCookies=!0)}authenticate(){if(!this.authFlow)throw new se("No auth flow in progress.");return this.session.authenticate(this.authFlow)}async link(){if(!this.authFlow)throw new se("No auth flow in progress.");let{oAuthTokens:e}=await this.session.link(this.authFlow);return{user:await this.getAuthenticatedUser(),oAuthTokens:e}}storeProviderAccessToken(e,n){this.session.storeProviderAccessToken(e,n)}getProviderAccessToken(e){return this.session.getProviderAccessToken(e)}async logout(){await this.session.destroy(),this.authFlow=void 0}clearProviderAcccessTokens(e){e.linkedAccounts.filter((n=>n.type==="cross_app")).forEach((n=>{this.storeProviderAccessToken(n.providerApp.id,null)}))}startAuthFlow(e){return e.api=this.api,this.authFlow=e,this.authFlow}async initMfaSmsVerification(){try{await this.api.post(Bhe,{action:"verify"})}catch(e){throw Gt(e)}}async initMfaPasskeyVerification(){try{let e=await this.api.post(Lhe,{});return IUe(e.options)}catch(e){throw Gt(e)}}async getCrossAppProviderDetails(e){try{return this._cachedProviderAppDetails[e]||(this._cachedProviderAppDetails[e]=await this.api.get(`/api/v1/apps/${e}/cross-app/details`)),this._cachedProviderAppDetails[e]}catch(n){console.error("Error fetching cross app provider details",n)}}async acceptTerms(){try{let e=await this.api.post(jhe,{});return ci(e)}catch(e){throw Wn(e)}}async unlinkEmail(e){try{let n=await this.api.post(ghe,{address:e});return await this.getAuthenticatedUser()??ci(n)}catch(n){throw Wn(n)}}async unlinkPhone(e){try{let n=await this.api.post(Ehe,{phoneNumber:e});return await this.getAuthenticatedUser()??ci(n)}catch(n){throw Wn(n)}}async unlinkEthereumWallet(e){try{let n=await this.api.post(the,{address:e});return await this.getAuthenticatedUser()??ci(n)}catch(n){throw Wn(n)}}async unlinkSolanaWallet(e){try{let n=await this.api.post(ahe,{address:e});return await this.getAuthenticatedUser()??ci(n)}catch(n){throw Wn(n)}}async unlinkOAuth(e,n){try{let r=await this.api.post(The,{provider:e,subject:n});return await this.getAuthenticatedUser()??ci(r)}catch(r){throw Wn(r)}}async unlinkFarcaster(e){try{let n=await this.api.post(fhe,{fid:e});return await this.getAuthenticatedUser()??ci(n)}catch(n){throw Wn(n)}}async unlinkTelegram(e){try{let n=await this.api.post(Mhe,{telegram_user_id:e});return await this.getAuthenticatedUser()??ci(n)}catch(n){throw Wn(n)}}async revokeDelegatedWallet(){try{await this.api.post(Ghe,{})}catch(e){throw Wn(e)}}async createAnalyticsEvent({eventName:e,payload:n,timestamp:r,options:i}){if(typeof window<"u")try{this.clientAnalyticsId||console.warn("No client analytics id set, refusing to send analytics event"),await this.api.post(CF,{event_name:e,client_id:this.clientAnalyticsId,payload:{...n||{},clientTimestamp:r?r.toISOString():new Date().toISOString()}},{retry:-1,keepalive:i?.keepAlive??!1})}catch{console.log("Unable to submit event. This is not an issue.")}}async signMoonpayOnRampUrl(e){try{return this.api.post(Whe,e)}catch(n){throw Wn(n)}}async initCoinbaseOnRamp(e){try{return this.api.post(Vhe,e)}catch(n){throw Wn(n)}}async getCoinbaseOnRampStatus({partnerUserId:e}){try{return this.api.get(`${Hhe}?partnerUserId=${e}`)}catch(n){throw Wn(n)}}async getAuthenticatedUser(){return this.session.hasRefreshCredentials()?this.session.refresh():null}async getAccessToken(e){return await this.getPrivyAccessToken(e)||await this.getCustomerAccessToken(e)}async getCustomerAccessToken(e){return await this._getToken(aB.CUSTOMER,e)}async getPrivyAccessToken(e){return await this._getToken(aB.PRIVY,e)}async _getToken(e,n){return this.session.getToken(e)?this.session.hasActiveAccessToken(e)?this.session.hasRefreshCredentials(e)?UO.parse(this.session.getToken(e))?.appId!==this.appId?(await this.logout(),null):this.session.getToken(e):(this.session.destroyLocalState(),null):!n?.disableAutoRefresh&&this.session.hasRefreshCredentials(e)?(await this.session.refresh(),this.session.getToken(e)):null:null}async getUsdTokenPrice(e){try{return(await this.api.get(`/api/v1/token_price?chainId=${e.id}&tokenSymbol=${e.nativeCurrency.symbol}`)).usd}catch{return void console.error(`Unable to fetch token price for chain with id ${e.id}`)}}async getUsdPriceForSol(){try{return(await this.api.get("/api/v1/token_price?chainId=0&tokenSymbol=SOL")).usd}catch{return void console.error("Unable to fetch token price for SOL")}}async getSplTokenMetadata({mintAddress:e,cluster:n}){try{return await this.api.get(`/api/v1/spl_token_info?mint_address=${e}&cluster=${n}`)}catch{return void console.error(`Unable to fetch token metadata for ${n}:${e}`)}}async requestFarcasterSignerStatus(e){try{return await this.api.post("/api/v1/farcaster/signer/status",{ed25519_public_key:e})}catch(n){throw console.error("Unable to fetch Farcaster signer status"),n}}async generateSiweNonce({address:e,captchaToken:n}){try{return(await this.api.post(Xfe,{address:e,token:n})).nonce}catch(r){throw Wn(r)}}async authenticateWithSiweInternal({message:e,signature:n,chainId:r,walletClientType:i,connectorType:s,mode:a}){return await this.api.post(Jfe,{message:e,signature:n,chainId:r,walletClientType:i,connectorType:s,mode:a})}async linkWithSiweInternal({message:e,signature:n,chainId:r,walletClientType:i,connectorType:s}){return await this.api.post(Qfe,{message:e,signature:n,chainId:r,walletClientType:i,connectorType:s})}async linkSmartWallet({message:e,signature:n,smartWalletType:r,smartWalletVersion:i}){try{let s=await this.api.post(ehe,{message:e,signature:n,smart_wallet_type:r,smart_wallet_version:i});return ci(s)}catch(s){throw Wn(s)}}async linkWithSiwe({message:e,signature:n,chainId:r,walletClientType:i,connectorType:s}){try{let a=await this.linkWithSiweInternal({message:e,signature:n,chainId:r,walletClientType:i,connectorType:s});return ci(a)}catch(a){throw Wn(a)}}async generateSiwsNonce({address:e,captchaToken:n}){try{return(await this.api.post(rhe,{address:e,token:n})).nonce}catch(r){throw Wn(r)}}async authenticateWithSiwsInternal({message:e,signature:n,walletClientType:r,connectorType:i,mode:s,messageType:a="plain"}){return await this.api.post(ihe,{message:e,signature:n,walletClientType:r,connectorType:i,mode:s,message_type:a})}async authenticateWithSiws({message:e,signature:n,walletClientType:r,connectorType:i,mode:s,messageType:a="plain"}){let c=await this.authenticateWithSiwsInternal({message:e,signature:n,walletClientType:r,connectorType:i,mode:s,messageType:a});this.session.handleTokenResponse(c);let u=ci(c.user);if(!u)throw Error("Authentication failed - no user returned");return{user:u,isNewUser:c.is_new_user||!1}}async sendAccountTransferRequest({nonce:e,account:n,accountType:r,externalWalletMetadata:i,telegramAuthResult:s,telegramWebAppData:a,farcasterEmbeddedAddress:c,oAuthUserInfo:u}){try{let d,h;switch(r){case"email":d=whe,h={nonce:e,email:n};break;case"sms":d=xhe,h={nonce:e,phoneNumber:n};break;case"siwe":if(d=nhe,!i)throw Error("Wallet parameters must be defined");h={nonce:e,address:n,...i};break;case"farcaster":d=hhe,h={nonce:e,farcaster_id:n,farcaster_embedded_address:c};break;case"telegram":d=Uhe,h={nonce:e,telegram_auth_result:s,telegram_web_app_data:a};break;case"siws":d=ohe,h={nonce:e,address:n,...i};break;case"custom":case"guest":case"passkey":throw Error("Invalid transfer account type");default:d=Ihe,h={nonce:e,userInfo:u}}let p=await this.api.post(d,h);return await this.getAuthenticatedUser()??ci(p)}catch(d){throw Wn(d)}}async linkWithSiwsInternal({message:e,signature:n,walletClientType:r,connectorType:i,messageType:s="plain"}){return await this.api.post(she,{message:e,signature:n,walletClientType:r,connectorType:i,message_type:s})}async linkWithSiws({message:e,signature:n,walletClientType:r,connectorType:i,messageType:s="plain"}){try{let a=await this.linkWithSiwsInternal({message:e,signature:n,walletClientType:r,connectorType:i,messageType:s});return ci(a)}catch(a){throw Wn(a)}}async updateUserAndIdToken(){try{let e=await this.api.get(Khe);return this.session.updateIdentityToken(e.identity_token),ci(e.user)}catch(e){throw Wn(e)}}async scanTransaction(e){try{return await this.api.post(Yhe,e)}catch(n){throw Wn(n)}}constructor({apiUrl:e=KT,appId:n,appClientId:r,timeout:i=mce}){Object.defineProperty(this,Z6,{value:NUe}),this._cachedProviderAppDetails={},this.apiUrl=e,this.fallbackApiUrl=this.apiUrl,this.useServerCookies=e!==KT&&e.startsWith("https://privy."),this.timeout=i,this.appId=n,this.appClientId=r,this.clientAnalyticsId=(function(s,a){if(!Object.prototype.hasOwnProperty.call(s,a))throw TypeError("attempted to use private field on non-instance");return s})(this,Z6)[Z6](),Y6||(Y6=new OUe),this.session=Y6,this.api=this.generateApi(),this.session.client=this}}function NUe(){if(typeof window>"u")return null;try{let e=nt.get(YT);if(typeof e=="string"&&e.length>0)return e}catch{}let t=BT();try{return nt.put(YT,t),t}catch{return t}}function FK(){if(!I_)throw new se("No global PrivyClient instance found. Please ensure you have initialized the PrivyProvider.");return I_}const $Ue=({config:t,...e})=>{(()=>{if(Y.useContext(DK))throw new se("Multiple PrivyProvider instances found","Found multiple instances of PrivyProvider, ensure there is only one mounted in your application tree.")})(),(function(){if(typeof window>"u")return;let s=["localhost","127.0.0.1"].includes(window.location.hostname),a=window.location.protocol==="https:"||window.location.protocol==="chrome-extension:";if(!s&&!a)throw new se("Embedded wallet is only available over HTTPS")})(),(function(s){if(typeof s!="string"||s.length!==25)throw new se("Cannot initialize the Privy provider with an invalid Privy app ID")})(e.appId),(function(s){I_||(I_=new RUe({appId:s.appId,appClientId:s.clientId,apiUrl:s.apiUrl}))})(e);let n=Y.useMemo((()=>new Oj({appId:e.appId,clientId:e.clientId,storage:nt,baseUrl:e.apiUrl,sdkVersion:"react-auth:3.10.0"})),[]),r=FK(),i=Object.assign({},t);return he.jsx(Cce,{client:n,legacyClient:r,appClientId:e.clientId,clientConfig:i,children:he.jsx(epe,{children:he.jsx(bUe,{...e,client:r,privy:n})})})};function Lze(){let{promptMfa:t,init:e,submit:n,cancel:r,mfaMethods:i}=Y.useContext(Vp);return{promptMfa:t,init:e,submit:n,cancel:r,mfaMethods:i}}function jze(){let{initEnrollmentWithSms:t,initEnrollmentWithTotp:e,initEnrollmentWithPasskey:n,submitEnrollmentWithSms:r,submitEnrollmentWithTotp:i,submitEnrollmentWithPasskey:s,unenroll:a,enrollInMfa:c}=Y.useContext(Vp);return{initEnrollmentWithSms:t,initEnrollmentWithTotp:e,initEnrollmentWithPasskey:n,submitEnrollmentWithSms:r,submitEnrollmentWithTotp:i,submitEnrollmentWithPasskey:s,unenrollWithSms:()=>a("sms"),unenrollWithTotp:()=>a("totp"),unenrollWithPasskey:u=>a("passkey",u),showMfaEnrollmentModal:()=>c(!0),closeMfaEnrollmentModal:()=>c(!1)}}function qK(t){return new Uint8Array(IO().decode(t).messageBytes)}async function zze({solanaClient:t,tx:e}){let n=gO().decode(qK(e)),{value:r}=await t.rpc.getFeeForMessage(n).send();return r??0n}async function PUe({solanaClient:t,tx:e,replaceRecentBlockhash:n}){let{value:r}=await t.rpc.simulateTransaction(gO().decode(e),{commitment:"confirmed",encoding:"base64",sigVerify:!1,replaceRecentBlockhash:n}).send();if(r.err==="BlockhashNotFound"&&n)throw Error("Simulation failed: Blockhash not found");return r.err==="BlockhashNotFound"?await PUe({solanaClient:t,tx:e,replaceRecentBlockhash:!0}):{logs:r.logs??[],error:r.err,hasError:!!r.err,hasFunds:r.logs?.every((i=>!/insufficient funds/gi.test(i)&&!/insufficient lamports/gi.test(i)))??!0}}const Lg=(...t)=>{if(typeof Buffer>"u")throw new se("Buffer is not defined.",void 0,Ae.BUFFER_NOT_DEFINED);return Buffer.from(...t)};async function DUe({rpcSubscriptions:t,signature:e,timeout:n}){let r=new AbortController,i=await t.signatureNotifications(e,{commitment:"confirmed"}).subscribe({abortSignal:r.signal}),s=await Promise.race([new Promise((a=>{setTimeout((()=>{r.abort(),a(Error("Transaction confirmation timed out"))}),n)})),new Promise((async a=>{for await(let c of i){if(r.abort(),c.value.err)return a(Error("Transaction confirmation failed"));a(void 0)}}))]);if(s instanceof Error)throw s}function MUe({rpc:t,rpcSubscriptions:e,chain:n,blockExplorerUrl:r}){let i=(function({rpc:s,rpcSubscriptions:a}){return async c=>new Promise((async(u,d)=>{try{let h=await s.sendTransaction(Lg(c).toString("base64"),{preflightCommitment:"confirmed",encoding:"base64"}).send();await DUe({rpcSubscriptions:a,signature:h,timeout:1e4}),u({signature:new Uint8Array(rG().encode(h))})}catch(h){d(h)}}))})({rpc:t,rpcSubscriptions:e});return{rpc:t,rpcSubscriptions:e,chain:n,blockExplorerUrl:r,sendAndConfirmTransaction:i}}function UUe(){let t=Ta(),e=Y.useMemo((()=>Object.fromEntries(["solana:mainnet","solana:devnet","solana:testnet"].map((n=>[n,t.solanaRpcs[n]?MUe({chain:n,rpc:t.solanaRpcs[n].rpc,rpcSubscriptions:t.solanaRpcs[n].rpcSubscriptions,blockExplorerUrl:t.solanaRpcs[n].blockExplorerUrl??`https://explorer.solana.com?cluster=${n.replace("solana:","")}`}):null])))),[t.solanaRpcs]);return Y.useCallback((n=>{if(!e[n])throw Error(`No RPC configuration found for chain ${n}`);return e[n]}),[e])}const XE=["solana:mainnet","solana:devnet","solana:testnet"];function Fze(t){return iG().decode(t)}function Tm(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw TypeError("attempted to use private field on non-instance");return t}var BUe=0,za="__private_"+BUe+++"__implementation";function la(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw TypeError("attempted to use private field on non-instance");return t}var LUe=0;function ey(t){return"__private_"+LUe+++"_"+t}var Im=ey("_address"),Cm=ey("_publicKey"),Om=ey("_chains"),km=ey("_features"),Rm=ey("_label"),Nm=ey("_icon");let jUe=class WK{get address(){return la(this,Im)[Im]}get publicKey(){return la(this,Cm)[Cm].slice()}get chains(){return la(this,Om)[Om].slice()}get features(){return la(this,km)[km].slice()}get label(){return la(this,Rm)[Rm]}get icon(){return la(this,Nm)[Nm]}constructor({address:e,publicKey:n,label:r,icon:i}){Object.defineProperty(this,Im,{writable:!0,value:void 0}),Object.defineProperty(this,Cm,{writable:!0,value:void 0}),Object.defineProperty(this,Om,{writable:!0,value:void 0}),Object.defineProperty(this,km,{writable:!0,value:void 0}),Object.defineProperty(this,Rm,{writable:!0,value:void 0}),Object.defineProperty(this,Nm,{writable:!0,value:void 0}),la(this,Im)[Im]=e,la(this,Cm)[Cm]=n,la(this,Om)[Om]=XE,la(this,Rm)[Rm]=r,la(this,Nm)[Nm]=i,la(this,km)[km]=["solana:signAndSendTransaction","solana:signTransaction","solana:signMessage"],new.target===WK&&Object.freeze(this)}};function St(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw TypeError("attempted to use private field on non-instance");return t}var zUe=0;function Ii(t){return"__private_"+zUe+++"_"+t}var Ps=Ii("_listeners"),$m=Ii("_version"),Pm=Ii("_name"),Dm=Ii("_icon"),Oi=Ii("_injection"),Mm=Ii("_isPrivyWallet"),wd=Ii("_accounts"),Um=Ii("_on"),vd=Ii("_emit"),X6=Ii("_off"),_d=Ii("_connected"),Bm=Ii("_connect"),Lm=Ii("_disconnect"),jm=Ii("_signMessage"),zm=Ii("_signAndSendTransaction"),Fm=Ii("_signTransaction");function FUe(t,...e){St(this,Ps)[Ps][t]?.forEach((n=>n.apply(null,e)))}function qUe(t,e){St(this,Ps)[Ps][t]=St(this,Ps)[Ps][t]?.filter((n=>e!==n))}function WUe(t,e,n){let r=structuredClone(IO().decode(t)),i=uG(e);return i in r.signatures&&(r.signatures[i]=n),new Uint8Array(DG().encode(r))}function VK(){let{isHeadlessSigning:t,walletProxy:e,initializeWalletProxy:n,recoverEmbeddedWallet:r,openModal:i,privy:s,client:a}=Ia(),{user:c}=Cp(),{setModalData:u}=$u(),{signWithUserSigner:d}=xK();return{signMessage:({message:h,address:p,options:m})=>new Promise((async(g,b)=>{let v=Fc(c,p);if(v?.walletClientType!=="privy")return void b(new se("Wallet is not a Privy wallet",void 0,Ae.EMBEDDED_WALLET_NOT_FOUND));let{entropyId:E,entropyIdVerifier:O}=Ka(c,v),k=Si(v),S=Lg(h).toString("base64");if(S.length<1)return void b(new se("Message must be a non-empty string",void 0,Ae.INVALID_MESSAGE));let A=async()=>{let C;if(!c)throw Error("User must be authenticated before signing with a Privy wallet");let I=await a.getAccessToken();if(!I)throw Error("User must be authenticated to use their embedded wallet.");let $=e??await n(15e3);if(!$)throw Error("Failed to initialize embedded wallet proxy.");if(!await r({address:v.address}))throw Error("Unable to connect to wallet");if(k){let z=await Ms(s,d,{chain_type:"solana",method:"signMessage",params:{message:S,encoding:"base64"},wallet_id:v.id});if(!z.data||!("signature"in z.data))throw Error("Failed to sign message");C=z.data.signature}else{let{response:z}=await $.rpc({accessToken:I,entropyId:E,entropyIdVerifier:O,chainType:"solana",hdWalletIndex:v.walletIndex??0,requesterAppId:m?.uiOptions?.requesterAppId,request:{method:"signMessage",params:{message:S}}});C=z.data.signature}return C};if(t({showWalletUIs:m?.uiOptions?.showWalletUIs}))try{let C=await A(),I=new Uint8Array(Lg(C,"base64"));g({signature:I})}catch(C){b(C)}else u({signMessage:{method:"solana_signMessage",data:S,confirmAndSign:A,onSuccess:C=>{g({signature:new Uint8Array(Lg(C,"base64"))})},onFailure:C=>{b(C)},uiOptions:m?.uiOptions??{}},connectWallet:{recoveryMethod:v.recoveryMethod,connectingWalletAddress:v.address,entropyId:E,entropyIdVerifier:O,isUnifiedWallet:k,onCompleteNavigateTo:"SignRequestScreen",onFailure:C=>{b(new se("Failed to connect to wallet",C,Ae.UNKNOWN_CONNECT_WALLET_ERROR))}}}),i("EmbeddedWalletConnectingScreen")}))}}function oB(){let{isHeadlessSigning:t,openModal:e}=Ia(),{setModalData:n}=$u(),{signMessage:r}=VK(),{user:i}=Cp();return{signTransaction:async({transaction:s,options:a,chain:c="solana:mainnet",address:u})=>{async function d(h){let{signature:p}=await r({message:qK(h),address:u,options:{...a,uiOptions:{...a?.uiOptions,showWalletUIs:!1}}});return{signedTransaction:WUe(h,u,p)}}return t({showWalletUIs:a?.uiOptions?.showWalletUIs})?d(s):new Promise((async(h,p)=>{let m=Fc(i,u);if(m?.walletClientType!=="privy")return void p(new se("Wallet is not a Privy wallet",void 0,Ae.EMBEDDED_WALLET_NOT_FOUND));let{entropyId:g,entropyIdVerifier:b}=Ka(i,m),v=Si(m);function E(k){return S=>{p(S instanceof se?S:new se("Failed to connect to wallet",S,k))}}let O={account:m,transaction:s,chain:c,signOnly:!0,uiOptions:a?.uiOptions||{},onConfirm:d,onSuccess:h,onFailure:E(Ae.TRANSACTION_FAILURE)};n({connectWallet:{recoveryMethod:m.recoveryMethod,connectingWalletAddress:m.address,entropyId:g,entropyIdVerifier:b,isUnifiedWallet:v,onCompleteNavigateTo:"StandardSignAndSendTransactionScreen",onFailure:E(Ae.UNKNOWN_CONNECT_WALLET_ERROR)},standardSignAndSendTransaction:O}),e("EmbeddedWalletConnectingScreen")}))}}}let V3=new class extends Lu{setImplementation(t){Tm(this,za)[za]=t}async signMessage(t){return Tm(this,za)[za].signMessage(t)}async signAndSendTransaction(t){return Tm(this,za)[za].signAndSendTransaction(t)}async signTransaction(t){return Tm(this,za)[za].signTransaction(t)}constructor(t){super(),Object.defineProperty(this,za,{writable:!0,value:void 0}),Tm(this,za)[za]=t}}({signTransaction:KS("signTransaction was not injected"),signAndSendTransaction:KS("signAndSendTransaction was not injected"),signMessage:KS("signMessage was not injected")}),cB=new class{get version(){return St(this,$m)[$m]}get name(){return St(this,Pm)[Pm]}get icon(){return St(this,Dm)[Dm]}get chains(){return XE.slice()}get features(){return{"standard:connect":{version:"1.0.0",connect:St(this,Bm)[Bm]},"standard:disconnect":{version:"1.0.0",disconnect:St(this,Lm)[Lm]},"standard:events":{version:"1.0.0",on:St(this,Um)[Um]},"solana:signAndSendTransaction":{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:St(this,zm)[zm]},"solana:signTransaction":{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:St(this,Fm)[Fm]},"solana:signMessage":{version:"1.0.0",signMessage:St(this,jm)[jm]},"privy:":{privy:{signMessage:St(this,Oi)[Oi].signMessage,signTransaction:St(this,Oi)[Oi].signTransaction,signAndSendTransaction:St(this,Oi)[Oi].signAndSendTransaction}}}}get accounts(){return St(this,wd)[wd].slice()}get isPrivyWallet(){return St(this,Mm)[Mm]}constructor({name:t,icon:e,version:n,injection:r,wallets:i}){Object.defineProperty(this,vd,{value:FUe}),Object.defineProperty(this,X6,{value:qUe}),Object.defineProperty(this,Ps,{writable:!0,value:void 0}),Object.defineProperty(this,$m,{writable:!0,value:void 0}),Object.defineProperty(this,Pm,{writable:!0,value:void 0}),Object.defineProperty(this,Dm,{writable:!0,value:void 0}),Object.defineProperty(this,Oi,{writable:!0,value:void 0}),Object.defineProperty(this,Mm,{writable:!0,value:void 0}),Object.defineProperty(this,wd,{writable:!0,value:void 0}),Object.defineProperty(this,Um,{writable:!0,value:void 0}),Object.defineProperty(this,_d,{writable:!0,value:void 0}),Object.defineProperty(this,Bm,{writable:!0,value:void 0}),Object.defineProperty(this,Lm,{writable:!0,value:void 0}),Object.defineProperty(this,jm,{writable:!0,value:void 0}),Object.defineProperty(this,zm,{writable:!0,value:void 0}),Object.defineProperty(this,Fm,{writable:!0,value:void 0}),St(this,Ps)[Ps]={},St(this,Um)[Um]=(s,a)=>(St(this,Ps)[Ps][s]?.push(a)||(St(this,Ps)[Ps][s]=[a]),()=>St(this,X6)[X6](s,a)),St(this,_d)[_d]=s=>{s!=null&&(St(this,wd)[wd]=s.map((({address:a})=>new jUe({address:a,publicKey:ul.decode(a)})))),St(this,vd)[vd]("change",{accounts:this.accounts})},St(this,Bm)[Bm]=async()=>(St(this,vd)[vd]("change",{accounts:this.accounts}),{accounts:this.accounts}),St(this,Lm)[Lm]=async()=>{St(this,vd)[vd]("change",{accounts:this.accounts})},St(this,jm)[jm]=async(...s)=>{let a=[];for(let{account:c,...u}of s){let{signature:d}=await St(this,Oi)[Oi].signMessage({...u,address:c.address});a.push({signedMessage:u.message,signature:d})}return a},St(this,zm)[zm]=async(...s)=>{let a=[];for(let c of s){let{signature:u}=await St(this,Oi)[Oi].signAndSendTransaction({...c,transaction:c.transaction,address:c.account.address,chain:c.chain||"solana:mainnet",options:c.options});a.push({signature:u})}return a},St(this,Fm)[Fm]=async(...s)=>{let a=[];for(let{transaction:c,account:u,options:d,chain:h}of s){let{signedTransaction:p}=await St(this,Oi)[Oi].signTransaction({transaction:c,address:u.address,chain:h||"solana:mainnet",options:d});a.push({signedTransaction:p})}return a},St(this,Pm)[Pm]=t,St(this,Dm)[Dm]=e,St(this,$m)[$m]=n,St(this,Oi)[Oi]=r,St(this,wd)[wd]=[],St(this,Mm)[Mm]=!0,r.on("accountChanged",St(this,_d)[_d],this),St(this,_d)[_d](i)}}({name:"Privy",version:"1.0.0",icon:"data:image/png;base64,AAABAAEAFBQAAAAAIABlAQAAFgAAAIlQTkcNChoKAAAADUlIRFIAAAAUAAAAFAgGAAAAjYkdDQAAAAlwSFlzAAAOwwAADsMBx2+oZAAAAQVJREFUeJxiYMANZIC4E4ivAPFPIP4FxDeAuB+IlfDowwBMQFwJxF+B+D8O/AOI66Bq8QJGIF6ExyB0vAqImfEZmEeCYTDcgMswPiB+T4aB34FYApuBsWQYBsP52AycToGBK7EZuJECAw9jM3AVBQbuwWZgIwUGTsZmoDkFBnpiMxAEjpJh2FV8iVsbiD+TYBgoDVrgMgwGnID4HRGGgTKBGyHDYEAaiBdCSxh0g/5AU4Q8sYYhAzEgjoGmABBOgFo2eACowFABYn0oVgViAVINkQTiZUD8DIj/ATF6GILEXgLxCiCWIsZAbiAuBeKtQHwHiEHJ6C8UfwHie0C8E4jLoWpRAAAAAP//rcbhsQAAAAZJREFUAwBYFs3VKJ0cuQAAAABJRU5ErkJggg==",wallets:[],injection:V3});function VUe(){let{ready:t}=rC(),{user:e}=Cp(),{signMessage:n}=VK(),{signTransaction:r}=oB(),{signAndSendTransaction:i}=(function(){let c=Ta(),{isHeadlessSigning:u,openModal:d}=Ia(),{setModalData:h}=$u(),{signTransaction:p}=oB(),m=UUe(),{user:g}=Cp(),{signWithUserSigner:b}=xK();return{signAndSendTransaction:async({transaction:v,address:E,chain:O="solana:mainnet",options:k})=>{let S=Fc(g,E);if(S?.walletClientType!=="privy")throw new se("Wallet is not a Privy wallet",void 0,Ae.EMBEDDED_WALLET_NOT_FOUND);let A=Si(S);async function C(I){if(k?.sponsor)return await(async L=>{if(!A)throw new se("Sponsoring transactions is only supported for wallets on the TEE stack",Ae.INVALID_DATA);let B=new Oj({appId:c.id,clientId:c.appClientId,storage:nt}),V=await Ms(B,b,{chain_type:"solana",method:"signAndSendTransaction",sponsor:!0,params:{transaction:Lg(L).toString("base64"),encoding:"base64"},caip2:`solana:${(await m(O).rpc.getGenesisHash().send()).substring(0,32)}`,wallet_id:S.id});if(V.data&&"hash"in V.data)return{signature:ul.decode(V.data.hash)};throw Error("Failed to sign and send transaction")})(I);let{signedTransaction:$}=await p({transaction:I,address:E,chain:O,options:{...k,uiOptions:{...k?.uiOptions,showWalletUIs:!1}}}),{signature:z}=await m(O).sendAndConfirmTransaction($);return{signature:z}}return u({showWalletUIs:k?.uiOptions?.showWalletUIs})?C(v):new Promise((async(I,$)=>{let z,L,{entropyId:B,entropyIdVerifier:V}=Ka(g,S);function D(T){return x=>{$(x instanceof se?x:new se("Failed to connect to wallet",x,T))}}let F={account:S,transaction:v,chain:O,signOnly:!1,uiOptions:k?.uiOptions||{},onConfirm:C,onSuccess:I,onFailure:D(Ae.TRANSACTION_FAILURE),isSponsored:!!k?.sponsor},K={recoveryMethod:S.recoveryMethod,connectingWalletAddress:S.address,entropyId:B,entropyIdVerifier:V,isUnifiedWallet:A,onCompleteNavigateTo:"StandardSignAndSendTransactionScreen",onFailure:D(Ae.UNKNOWN_CONNECT_WALLET_ERROR)};c.fundingConfig&&(z=Due({address:E,appConfig:c,methodScreen:"FundingMethodSelectionScreen",fundWalletConfig:{...k,asset:"native-currency",chain:O},externalSolanaFundingScreen:"FundSolWalletWithExternalSolanaWallet"}),L={amount:c.fundingConfig.defaultRecommendedAmount,asset:"SOL",chain:O,destinationAddress:E,afterSuccessScreen:"StandardSignAndSendTransactionScreen",sourceWalletData:void 0}),h({connectWallet:K,standardSignAndSendTransaction:F,funding:z,solanaFundingData:L}),d("EmbeddedWalletConnectingScreen")}))}}})(),s=Y.useMemo((()=>{let c=[...Yj(e).sort(((d,h)=>(d.walletIndex??0)-(h.walletIndex??0)))],u=Zj(e);return u.length?[...c,...u]:c}),[e]),a=Y.useMemo((()=>({signMessage:async({message:c,address:u,options:d})=>await n({message:c,address:u,options:d}),signTransaction:async({transaction:c,address:u,chain:d,options:h})=>await r({transaction:c,address:u,chain:d,options:h}),async signAndSendTransaction({transaction:c,address:u,chain:d,options:h}){let{signature:p}=await i({transaction:c,address:u,chain:d,options:h});return{signature:p}}})),[n,r,i]);return Y.useEffect((()=>{V3?.setImplementation(a)}),[a]),Y.useEffect((()=>{var c;!t||(c=cB.accounts).length===s.length&&c.every(((u,d)=>u.address===s[d]?.address))||V3?.emit("accountChanged",s)}),[t,s]),{ready:t,wallet:cB}}function HUe(){let{client:t}=Ia(),{ready:e,wallet:n}=VUe(),[r,i]=Y.useState([]),[s,a]=Y.useState([]);return Y.useEffect((()=>{let c=[n,...r.filter((h=>h.chainType==="solana"&&!!h.wallet.features)).map((h=>h.wallet))];a(c);let u=r.flatMap((h=>{let p=()=>a([...c]);return h.on("walletsUpdated",p),{connector:h,off:p}})),d=c.map((h=>h.features["standard:events"]?.on("change",(()=>{a([...c])}))));return()=>{d.forEach((h=>h?.())),u.forEach((({connector:h,off:p})=>h.off("walletsUpdated",p)))}}),[r]),Y.useEffect((()=>{i(t.connectors?.walletConnectors.filter((u=>u.chainType==="solana"))??[]);let c=()=>{i(t.connectors?.walletConnectors.filter((u=>u.chainType==="solana"))??[])};return t.connectors?.on("connectorInitialized",c),()=>{t.connectors?.off("connectorInitialized",c)}}),[e,t.connectors]),{ready:e,wallets:s}}function qze(){let{ready:t,wallets:e}=HUe();return{ready:t,wallets:Y.useMemo((()=>e.flatMap((n=>n.accounts.map((r=>new Rj({wallet:n,account:r})))))),[e])}}var GUe=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},KUe=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},u1;let qm;const JE=new Set;function YUe(t){jg=void 0,JE.add(t)}function ZUe(t){jg=void 0,JE.delete(t)}const Xh={};function XUe(){if(qm||(qm=Object.freeze({register:lB,get:JUe,on:QUe}),typeof window>"u"))return qm;const t=Object.freeze({register:lB});try{window.addEventListener("wallet-standard:register-wallet",({detail:e})=>e(t))}catch(e){console.error(`wallet-standard:register-wallet event listener could not be added
`,e)}try{window.dispatchEvent(new eBe(t))}catch(e){console.error(`wallet-standard:app-ready event could not be dispatched
`,e)}return qm}function lB(...t){return t=t.filter(e=>!JE.has(e)),t.length?(t.forEach(e=>YUe(e)),Xh.register?.forEach(e=>uB(()=>e(...t))),function(){t.forEach(n=>ZUe(n)),Xh.unregister?.forEach(n=>uB(()=>n(...t)))}):()=>{}}let jg;function JUe(){return jg||(jg=[...JE]),jg}function QUe(t,e){return Xh[t]?.push(e)||(Xh[t]=[e]),function(){Xh[t]=Xh[t]?.filter(r=>e!==r)}}function uB(t){try{t()}catch(e){console.error(e)}}class eBe extends Event{get detail(){return GUe(this,u1,"f")}get type(){return"wallet-standard:app-ready"}constructor(e){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),u1.set(this,void 0),KUe(this,u1,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}u1=new WeakMap;const tBe=t=>{let e,{get:n,on:r}=XUe(),i=t?.shouldAutoConnect,s=new Kv(new sBe,i),a=new Map,c=[];function u(...p){p.forEach((m=>{!(m.features["privy:"]&&"isPrivyWallet"in m&&m.isPrivyWallet||a.has(m.name))&&m.chains.some((g=>typeof g=="string"&&g.startsWith("solana:")))&&a.set(m.name,m)})),c=Array.from(a.values()).map((m=>new Kv(m,i))).concat(s),e?.(c)}function d(...p){Array.from(a.values()).forEach((m=>!p.includes(m)&&a.delete(m.name))),c=Array.from(a.values()).map((m=>new Kv(m,i))).concat(s),e?.(c)}let h=[r("register",u),r("unregister",d)];return u(...n()),{_setOnConnectorsUpdated:p=>{e=p},onMount:()=>{h[0]||(h[0]=r("register",u)),h[1]||(h[1]=r("unregister",d))},onUnmount:()=>{let p=h.pop();for(;p;)p(),p=h.pop()},get:()=>c}};function ua(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw TypeError("attempted to use private field on non-instance");return t}var nBe=0;function ty(t){return"__private_"+nBe+++"_"+t}var Wm=ty("_address"),Vm=ty("_publicKey"),Hm=ty("_chains"),Gm=ty("_features"),Km=ty("_label"),Ym=ty("_icon");class rBe{get address(){return ua(this,Wm)[Wm]}get publicKey(){return ua(this,Vm)[Vm].slice()}get chains(){return ua(this,Hm)[Hm].slice()}get features(){return ua(this,Gm)[Gm].slice()}get label(){return ua(this,Km)[Km]}get icon(){return ua(this,Ym)[Ym]}constructor({address:e,publicKey:n,label:r,icon:i}){Object.defineProperty(this,Wm,{writable:!0,value:void 0}),Object.defineProperty(this,Vm,{writable:!0,value:void 0}),Object.defineProperty(this,Hm,{writable:!0,value:void 0}),Object.defineProperty(this,Gm,{writable:!0,value:void 0}),Object.defineProperty(this,Km,{writable:!0,value:void 0}),Object.defineProperty(this,Ym,{writable:!0,value:void 0}),ua(this,Wm)[Wm]=e,ua(this,Vm)[Vm]=n,ua(this,Hm)[Hm]=XE,ua(this,Gm)[Gm]=["solana:signAndSendTransaction","solana:signTransaction","solana:signMessage"],ua(this,Km)[Km]=r,ua(this,Ym)[Ym]=i}}function Mv(t){if(typeof t=="string")return ul.decode(t);if(t instanceof Uint8Array)return t;let e=t.signature;return typeof e=="string"?ul.decode(e):e}function dB(t){if(typeof t=="string"){try{return ul.decode(t)}catch{}return Kd.decode(t)}if(t instanceof Uint8Array)return t;let e=t.transaction??t.signature;if(!e)throw Error("Invalid result from signTransaction or signAndSendTransaction attempt");if(typeof e=="string"){try{return ul.decode(e)}catch{}return Kd.decode(e)}return e}function Ie(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw TypeError("attempted to use private field on non-instance");return t}var iBe=0;function yn(t){return"__private_"+iBe+++"_"+t}let HK="solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",GK="solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1";var Ds=yn("_listeners"),Zm=yn("_version"),Oc=yn("_name"),Fa=yn("_icon"),ft=yn("_provider"),kc=yn("_accounts"),Rc=yn("_privyAppName"),Nc=yn("_walletConnectCloudProjectId"),qa=yn("_walletEntry"),Wa=yn("_onDisplayUriCallback"),$c=yn("_providerEventListeners"),Xm=yn("_on"),Ed=yn("_emit"),J6=yn("_off"),Ad=yn("_connected"),Sd=yn("_disconnected"),Jm=yn("_connect"),Qm=yn("_disconnect"),eg=yn("_signMessage"),tg=yn("_signAndSendTransaction"),ng=yn("_signTransaction"),rg=yn("_getOrCreateProvider"),ig=yn("_getOrCreateSession"),sg=yn("_restoreSession"),Cs=yn("_addProviderEventListener"),ag=yn("_destroySession"),ki=yn("_makeRpcRequest"),og=yn("_onDisplayUri"),cg=yn("_onSessionDelete");class sBe{get version(){return Ie(this,Zm)[Zm]}get name(){return Ie(this,Oc)[Oc]}get icon(){return Ie(this,Fa)[Fa]}get chains(){return XE.slice()}get features(){return{"standard:connect":{version:"1.0.0",connect:Ie(this,Jm)[Jm]},"standard:disconnect":{version:"1.0.0",disconnect:Ie(this,Qm)[Qm]},"standard:events":{version:"1.0.0",on:Ie(this,Xm)[Xm]},"solana:signAndSendTransaction":{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:Ie(this,tg)[tg]},"solana:signTransaction":{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:Ie(this,ng)[ng]},"solana:signMessage":{version:"1.0.0",signMessage:Ie(this,eg)[eg]}}}get accounts(){return Ie(this,kc)[kc].slice()}get isWalletConnectSolana(){return!0}async initialize({walletConnectCloudProjectId:e,privyAppName:n}){Ie(this,Nc)[Nc]=e,Ie(this,Rc)[Rc]=n,await Ie(this,rg)[rg](),await Ie(this,sg)[sg]()}setWalletEntry(e,n){Ie(this,qa)[qa]=e,Ie(this,Wa)[Wa]=n}constructor(){Object.defineProperty(this,Ed,{value:aBe}),Object.defineProperty(this,J6,{value:oBe}),Object.defineProperty(this,Ds,{writable:!0,value:void 0}),Object.defineProperty(this,Zm,{writable:!0,value:void 0}),Object.defineProperty(this,Oc,{writable:!0,value:void 0}),Object.defineProperty(this,Fa,{writable:!0,value:void 0}),Object.defineProperty(this,ft,{writable:!0,value:void 0}),Object.defineProperty(this,kc,{writable:!0,value:void 0}),Object.defineProperty(this,Rc,{writable:!0,value:void 0}),Object.defineProperty(this,Nc,{writable:!0,value:void 0}),Object.defineProperty(this,qa,{writable:!0,value:void 0}),Object.defineProperty(this,Wa,{writable:!0,value:void 0}),Object.defineProperty(this,$c,{writable:!0,value:void 0}),Object.defineProperty(this,Xm,{writable:!0,value:void 0}),Object.defineProperty(this,Ad,{writable:!0,value:void 0}),Object.defineProperty(this,Sd,{writable:!0,value:void 0}),Object.defineProperty(this,Jm,{writable:!0,value:void 0}),Object.defineProperty(this,Qm,{writable:!0,value:void 0}),Object.defineProperty(this,eg,{writable:!0,value:void 0}),Object.defineProperty(this,tg,{writable:!0,value:void 0}),Object.defineProperty(this,ng,{writable:!0,value:void 0}),Object.defineProperty(this,rg,{writable:!0,value:void 0}),Object.defineProperty(this,ig,{writable:!0,value:void 0}),Object.defineProperty(this,sg,{writable:!0,value:void 0}),Object.defineProperty(this,Cs,{writable:!0,value:void 0}),Object.defineProperty(this,ag,{writable:!0,value:void 0}),Object.defineProperty(this,ki,{writable:!0,value:void 0}),Object.defineProperty(this,og,{writable:!0,value:void 0}),Object.defineProperty(this,cg,{writable:!0,value:void 0}),Ie(this,Ds)[Ds]={},Ie(this,Zm)[Zm]="1.0.0",Ie(this,Oc)[Oc]="WalletConnect",Ie(this,Fa)[Fa]=Tz,Ie(this,ft)[ft]=null,Ie(this,kc)[kc]=[],Ie(this,Rc)[Rc]="",Ie(this,Nc)[Nc]="",Ie(this,$c)[$c]=new Map,Ie(this,Xm)[Xm]=(e,n)=>(Ie(this,Ds)[Ds][e]?.push(n)||(Ie(this,Ds)[Ds][e]=[n]),()=>Ie(this,J6)[J6](e,n)),Ie(this,Ad)[Ad]=e=>{Ie(this,Oc)[Oc]=Ie(this,ft)[ft]?.session?.peer?.metadata?.name||Ie(this,qa)[qa]?.name||"WalletConnect",Ie(this,Fa)[Fa]=Ie(this,ft)[ft]?.session?.peer?.metadata?.icons?.[0]||Ie(this,qa)[qa]?.image_url?.sm||Ie(this,Fa)[Fa],Ie(this,kc)[kc]=e.map((n=>new rBe({address:n,publicKey:ul.decode(n),label:Ie(this,Oc)[Oc],icon:Ie(this,Fa)[Fa]}))),Ie(this,Ed)[Ed]("change",{accounts:this.accounts})},Ie(this,Sd)[Sd]=()=>{Ie(this,kc)[kc]=[],Ie(this,Ed)[Ed]("change",{accounts:this.accounts})},Ie(this,Jm)[Jm]=async()=>(this.accounts.length||await Ie(this,ig)[ig](),{accounts:this.accounts}),Ie(this,Qm)[Qm]=async()=>{await Ie(this,ag)[ag](),Ie(this,Ed)[Ed]("change",{accounts:this.accounts})},Ie(this,eg)[eg]=async(...e)=>{let n=[];for(let{account:r,message:i}of e){let s=ul.encode(i);try{let a=await Ie(this,ki)[ki]("solana_signMessage",{message:s,pubkey:r.address},$h("solana:mainnet"));n.push({signedMessage:i,signature:Mv(a)})}catch(a){if(a?.message?.includes("Missing or invalid")){let c=await Ie(this,ki)[ki]("solana:signMessage",{message:s,pubkey:r.address},$h("solana:mainnet"));n.push({signedMessage:i,signature:Mv(c)})}throw a}}return n},Ie(this,tg)[tg]=async(...e)=>{let n=[];for(let{account:r,chain:i,transaction:s,options:a}of e){let c=Kd.encode(s);try{let u=await Ie(this,ki)[ki]("solana_signAndSendTransaction",{transaction:c,pubkey:r.address,sendOptions:a},$h(i));n.push({signature:Mv(u)})}catch(u){if(u?.message?.includes("Missing or invalid")){let d=await Ie(this,ki)[ki]("solana:signAndSendTransaction",{transaction:c,pubkey:r.address,sendOptions:a},$h(i));n.push({signature:Mv(d)})}}}return n},Ie(this,ng)[ng]=async(...e)=>{let n=[];for(let{account:r,chain:i,transaction:s}of e){let a=Kd.encode(s);try{let c=await Ie(this,ki)[ki]("solana_signTransaction",{transaction:a,pubkey:r.address},$h(i||"solana:mainnet"));n.push({signedTransaction:dB(c)})}catch(c){if(c?.message?.includes("Missing or invalid")){let u=await Ie(this,ki)[ki]("solana:signTransaction",{transaction:a,pubkey:r.address},$h(i||"solana:mainnet"));n.push({signedTransaction:dB(u)})}}}return n},Ie(this,rg)[rg]=async()=>{if(Ie(this,ft)[ft])return Ie(this,ft)[ft];if(!Ie(this,Nc)[Nc])throw Error("WalletConnect Cloud Project ID is required");return Ie(this,ft)[ft]=await LH.init({projectId:Ie(this,Nc)[Nc],metadata:{name:Ie(this,Rc)[Rc],description:Ie(this,Rc)[Rc],url:window.location.origin,icons:[]},relayUrl:"wss://relay.walletconnect.com",telemetryEnabled:!1}),Ie(this,Cs)[Cs]("display_uri",Ie(this,og)[og]),Ie(this,Cs)[Cs]("session_delete",Ie(this,cg)[cg]),Ie(this,Cs)[Cs]("session_ping",(()=>{})),Ie(this,Cs)[Cs]("session_event",(()=>{})),Ie(this,Cs)[Cs]("session_update",(()=>{})),Ie(this,ft)[ft]},Ie(this,ig)[ig]=async()=>{if(!Ie(this,ft)[ft])throw Error("WalletConnectSolana: Failed to get or create session. Provider not initialized");if(Ie(this,ft)[ft].session)return Ie(this,ft)[ft].session;let e=await Ie(this,ft)[ft].connect({optionalNamespaces:{solana:{chains:[HK,GK],methods:["solana_signMessage","solana_signTransaction","solana_signAndSendTransaction"],events:[]}}});if(!e)throw Error("WalletConnectSolana: Failed to create new session");return Ie(this,Ad)[Ad](fB(e)),e},Ie(this,sg)[sg]=async()=>{let e=Ie(this,ft)[ft]?.session;if(e){if(!e.namespaces?.solana)return await Ie(this,ft)[ft]?.disconnect().catch((n=>console.error("WalletConnectSolana: Error disconnecting session",n))),void(Ie(this,ft)[ft].session=void 0);Ie(this,Ad)[Ad](fB(e))}},Ie(this,Cs)[Cs]=(e,n)=>{let r=Ie(this,$c)[$c].get(e);r&&(Ie(this,ft)[ft]?.off(e,r),Ie(this,$c)[$c].delete(e)),Ie(this,ft)[ft]?.on(e,n),Ie(this,$c)[$c].set(e,n)},Ie(this,ag)[ag]=async()=>{try{if(Ie(this,ft)[ft]?.session&&await Ie(this,ft)[ft]?.disconnect().catch((e=>console.error("WalletConnectSolana: Error disconnecting session",e))),Ie(this,ft)[ft]?.client){let e=Ie(this,ft)[ft].client.proposal.getAll();await Promise.allSettled(e.map((r=>Ie(this,ft)[ft]?.client.proposal.delete(r.id,{code:6e3,message:"User disconnected"}))));let n=Ie(this,ft)[ft].client.pairing.getAll();await Promise.allSettled(n.map((r=>Ie(this,ft)[ft]?.client.pairing.delete(r.topic,{code:6e3,message:"User disconnected"}))))}Ie(this,Sd)[Sd]()}catch(e){console.error("WalletConnectSolana: Error destroying session",e)}},Ie(this,ki)[ki]=async(e,n,r)=>{try{return await Ie(this,ft)[ft].request({method:e,params:n},r)}catch(i){if(console.error(`WalletConnectSolana: RPC Error - ${e}:`,i),i?.message?.includes("without any listeners")&&i.result)return i.result;throw i?.message?.includes("session topic does not exist in keychain")?Error("WalletConnectSolana: Wallet connection lost. Please reconnect."):i}},Ie(this,og)[og]=e=>{if(Vo.isMobile&&Ie(this,qa)[qa]){let{redirect:n}=kF(e,Ie(this,qa)[qa]);Ie(this,Wa)[Wa]==null||Ie(this,Wa)[Wa].call(this,{native:n,universal:n})}else Ie(this,Wa)[Wa]==null||Ie(this,Wa)[Wa].call(this,{native:e,universal:void 0})},Ie(this,cg)[cg]=()=>{Ie(this,Sd)[Sd]()}}}function aBe(t,...e){Ie(this,Ds)[Ds][t]?.forEach((n=>n.apply(null,e)))}function oBe(t,e){Ie(this,Ds)[Ds][t]=Ie(this,Ds)[Ds][t]?.filter((n=>e!==n))}function fB(t){return t.namespaces.solana.accounts.reduce(((e,n)=>{let r=n.split(":").at(-1);return e.includes(r)||e.push(r),e}),[])}function $h(t){switch(t){case"solana:mainnet":return HK;case"solana:devnet":return GK;default:return t}}const ai=(...t)=>console.log("[PRIVY-DEBUG]",...t);function cBe(){const{ready:t,authenticated:e,user:n,login:r,logout:i}=Cp(),{wallets:s}=rC();Y.useEffect(()=>{ai("=== STATE UPDATE ==="),ai("ready:",t),ai("authenticated:",e),ai("user:",n),ai("wallets:",s),ai("window.solana:",window.solana),ai("window.solana?.isPhantom:",window.solana?.isPhantom),ai("window.phantom:",window.phantom),ai("linkedAccounts:",n?.linkedAccounts)},[t,e,n,s]);const a=Y.useMemo(()=>{ai("=== FINDING WALLET ===");const d=n?.linkedAccounts?.find(m=>m.type==="wallet"&&m.chainType==="solana");if(ai("linkedSolana:",d),d?.address)return ai("Using linkedSolana address:",d.address),d.address;const h=s?.find(m=>!m.address?.startsWith("0x"));if(ai("solanaWallet from wallets:",h),h?.address)return ai("Using solanaWallet address:",h.address),h.address;const p=n?.linkedAccounts?.find(m=>m.type==="wallet"&&m.address&&!m.address.startsWith("0x"));return ai("anyWallet:",p),p?.address?(ai("Using anyWallet address:",p.address),p.address):(ai("No wallet found!"),null)},[n,s]),c=!!window.opener,u=window.location.pathname==="/auth";return Y.useEffect(()=>{e&&a&&c&&window.opener&&(window.opener.postMessage({type:"privy-auth-success",address:a},"*"),setTimeout(()=>window.close(),500))},[e,a,c]),Y.useEffect(()=>{u&&t&&!e&&r()},[u,t,e,r]),Y.useEffect(()=>{if(e&&t&&!a){const d=setTimeout(()=>{a||(console.log("[AUTH] No Solana wallet found, logging out..."),i())},2e3);return()=>clearTimeout(d)}},[e,t,a,i]),t?u||c?he.jsx("div",{className:"auth-popup",children:he.jsxs("div",{className:"auth-container",children:[he.jsx("img",{src:"/website/logo-icon.jpg",alt:"LAUNCHR",className:"auth-logo"}),he.jsx("h2",{children:"LAUNCHR Auth"}),e?he.jsx("div",{className:"auth-success",children:a?he.jsxs(he.Fragment,{children:[he.jsx("p",{children:"Connected!"}),he.jsxs("p",{className:"address",children:[a.slice(0,8),"...",a.slice(-4)]}),he.jsx("p",{className:"hint",children:"Session active. Return to dashboard to continue."}),he.jsx("button",{onClick:()=>window.location.href="/dashboard",className:"btn-connect",children:"Return to Dashboard"}),c&&he.jsx("button",{onClick:()=>window.close(),className:"btn-close",children:"Close"})]}):he.jsxs(he.Fragment,{children:[he.jsx("p",{children:"No Solana Wallet Found"}),he.jsx("p",{className:"hint",children:"Please connect a Solana wallet (Phantom, Solflare, etc.)"}),he.jsx("button",{onClick:i,className:"btn-disconnect",children:"Try Again"}),he.jsx("button",{onClick:()=>window.location.href="/dashboard",className:"btn-close",children:"Back to Dashboard"})]})}):he.jsxs("div",{className:"auth-prompt",children:[he.jsx("p",{children:"Connect your Solana wallet"}),he.jsx("button",{onClick:r,className:"btn-connect",children:"Connect Wallet"})]})]})}):he.jsxs("div",{className:"dashboard",children:[he.jsxs("header",{className:"header",children:[he.jsxs("div",{className:"logo",children:[he.jsx("img",{src:"/website/logo-icon.jpg",alt:"LAUNCHR"}),he.jsx("span",{children:"LAUNCHR"})]}),he.jsxs("nav",{children:[he.jsx("a",{href:"/",children:"Home"}),he.jsx("a",{href:"/launchpad",children:"Launchpad"}),he.jsx("a",{href:"/dashboard",className:"active",children:"Dashboard"})]}),e?he.jsxs("div",{className:"wallet-info",children:[he.jsxs("span",{className:"address",children:[a?.slice(0,4),"...",a?.slice(-4)]}),he.jsx("button",{onClick:i,className:"btn-disconnect",children:"Disconnect"})]}):he.jsx("button",{onClick:r,className:"btn-connect",children:"Connect Wallet"})]}),he.jsxs("main",{className:"main",children:[he.jsx("h1",{children:"Creator Dashboard"}),e?he.jsx("div",{className:"connected-content",children:he.jsxs("div",{className:"wallet-card",children:[he.jsx("h2",{children:"Wallet Connected"}),he.jsxs("p",{children:[he.jsx("strong",{children:"Address:"})," ",a||"No wallet"]}),he.jsxs("p",{children:[he.jsx("strong",{children:"Email:"})," ",n?.email?.address||"N/A"]})]})}):he.jsxs("div",{className:"connect-prompt",children:[he.jsx("h2",{children:"Connect Your Wallet"}),he.jsx("p",{children:"Connect with email or your existing wallet to access the dashboard."}),he.jsx("button",{onClick:r,className:"btn-connect-large",children:"Connect with Privy"})]})]})]}):he.jsx("div",{className:"loading",children:"Loading Privy..."})}const Fr=(...t)=>console.log("[PRIVY-INIT]",...t);Fr("=== MAIN.JSX LOADING ===");Fr("window.LAUNCHR_CONFIG:",window.LAUNCHR_CONFIG);Fr("window.solana:",window.solana);Fr("window.phantom:",window.phantom);Fr("Creating Solana connectors...");const KK=tBe({shouldAutoConnect:!1});Fr("Solana connectors created:",KK);function lBe({children:t}){const[e,n]=Y.useState(null),[r,i]=Y.useState(null);if(Y.useEffect(()=>{if(Fr("PrivyGate useEffect running..."),Fr("window.LAUNCHR_CONFIG:",window.LAUNCHR_CONFIG),typeof window<"u"){const a=window.LAUNCHR_CONFIG?.PRIVY_APP_ID,c=window.LAUNCHR_CONFIG?.SOLANA_RPC;Fr("PRIVY_APP_ID:",a),Fr("SOLANA_RPC:",c),a?(n(a),i(c||"https://api.mainnet-beta.solana.com"),Fr("Config set! appId:",a,"rpcUrl:",c||"https://api.mainnet-beta.solana.com")):Fr("ERROR: No PRIVY_APP_ID found!")}},[]),!e)return Fr("Waiting for appId..."),he.jsx("div",{className:"loading",children:"Loading..."});const s={loginMethods:["wallet"],appearance:{theme:"dark",accentColor:"#FFD966",walletChainType:"solana-only",walletList:["phantom","solflare","detected_solana_wallets"]},embeddedWallets:{createOnLogin:"off"},externalWallets:{solana:{connectors:KK}},solanaClusters:[{name:"mainnet-beta",rpcUrl:r}]};return Fr("=== INITIALIZING PRIVY PROVIDER ==="),Fr("appId:",e),Fr("config:",s),he.jsx($Ue,{appId:e,config:s,onSuccess:a=>Fr("Privy onSuccess:",a),onError:a=>Fr("Privy onError:",a),children:t})}sX.createRoot(document.getElementById("root")).render(he.jsx(Y.StrictMode,{children:he.jsx(lBe,{children:he.jsx(cBe,{})})}));export{MQ as $,Tne as A,Ine as B,pQ as C,Tte as D,B_ as E,Lre as F,tte as G,nte as H,rQ as I,zB as J,f1 as K,FB as L,L0 as M,kQ as N,RQ as O,NQ as P,$Q as Q,N4 as R,cQ as S,qB as T,fQ as U,$4 as V,qne as W,PQ as X,DQ as Y,up as Z,WB as _,aQ as a,Vg as a$,BQ as a0,h1 as a1,Z3 as a2,jQ as a3,LQ as a4,VB as a5,zQ as a6,EBe as a7,Er as a8,_e as a9,FQ as aA,jh as aB,nf as aC,dT as aD,yT as aE,mT as aF,gT as aG,pT as aH,fT as aI,hT as aJ,o0 as aK,bT as aL,V0 as aM,Sg as aN,iI as aO,H4 as aP,mp as aQ,a0 as aR,s0 as aS,e0 as aT,r0 as aU,ef as aV,Ru as aW,Hg as aX,Wg as aY,Zg as aZ,pp as a_,TL as aa,Fne as ab,ET as ac,Cne as ad,One as ae,o7 as af,J0 as ag,bL as ah,wL as ai,uT as aj,fte as ak,hte as al,P_ as am,GB as an,HB as ao,KB as ap,WQ as aq,VQ as ar,HQ as as,Jy as at,Jne as au,II as av,vte as aw,xL as ax,aI as ay,Ite as az,dQ as b,Kn as b$,Pd as b0,qg as b1,Qg as b2,Fs as b3,Gg as b4,Kg as b5,hs as b6,t0 as b7,Yg as b8,Xg as b9,lN as bA,F0 as bB,Li as bC,Vne as bD,vf as bE,mI as bF,Lee as bG,j0 as bH,li as bI,Nn as bJ,K0 as bK,uI as bL,dI as bM,$L as bN,Bte as bO,BL as bP,Fte as bQ,eb as bR,di as bS,qp as bT,va as bU,Oee as bV,Sa as bW,$i as bX,wf as bY,qQ as bZ,Cu as b_,i0 as ba,yte as bb,n0 as bc,yp as bd,Jg as be,Qh as bf,rte as bg,ite as bh,ate as bi,ote as bj,cte as bk,lte as bl,yL as bm,mL as bn,ute as bo,cae as bp,zre as bq,Fre as br,qre as bs,q0 as bt,ete as bu,p1 as bv,Wne as bw,_f as bx,Bu as by,F_ as bz,uQ as c,Wre as c$,Qd as c0,oL as c1,oT as c2,Ls as c3,Wee as c4,Vee as c5,el as c6,Hee as c7,ln as c8,GQ as c9,Ete as cA,Hr as cB,NL as cC,iL as cD,N_ as cE,Iee as cF,z0 as cG,Lne as cH,b1 as cI,Mre as cJ,RI as cK,Hre as cL,k7 as cM,O7 as cN,_L as cO,gte as cP,oj as cQ,jre as cR,Nr as cS,Yo as cT,OI as cU,Sre as cV,xre as cW,LL as cX,K_ as cY,kI as cZ,C7 as c_,js as ca,CBe as cb,XQ as cc,Pi as cd,JQ as ce,qd as cf,Qc as cg,YB as ch,Ar as ci,$e as cj,dp as ck,xt as cl,ol as cm,Yne as cn,xT as co,tf as cp,OL as cq,oI as cr,qo as cs,CL as ct,H0 as cu,IL as cv,f7 as cw,SI as cx,Ate as cy,gl as cz,lQ as d,sb as d$,I7 as d0,nI as d1,cs as d2,pL as d3,he as d4,$u as d5,Ta as d6,Ia as d7,dE as d8,Y as d9,rb as dA,rpe as dB,GU as dC,G1 as dD,F3 as dE,y7e as dF,To as dG,Rue as dH,l1 as dI,n7e as dJ,U7e as dK,Qa as dL,B1 as dM,T_ as dN,iUe as dO,LLe as dP,zc as dQ,KI as dR,U8e as dS,cUe as dT,uUe as dU,rUe as dV,JLe as dW,h0 as dX,e7e as dY,Ka as dZ,$7e as d_,ju as da,Ae as db,rC as dc,p7e as dd,sUe as de,se as df,Bue as dg,kz as dh,jLe as di,Bze as dj,tpe as dk,Rj as dl,npe as dm,Pue as dn,w7e as dp,kK as dq,z3 as dr,Gn as ds,fE as dt,Hue as du,Oze as dv,BLe as dw,vUe as dx,Vo as dy,l7e as dz,oQ as e,DG as e$,et as e0,N7e as e1,s7e as e2,v7e as e3,D7e as e4,g7e as e5,O7e as e6,spe as e7,_le as e8,qLe as e9,que as eA,C7e as eB,Yue as eC,nB as eD,Lze as eE,$J as eF,B0 as eG,G3 as eH,Bp as eI,OJ as eJ,H3 as eK,U0 as eL,M0 as eM,D0 as eN,_Ue as eO,MJ as eP,C_ as eQ,pG as eR,Wu as eS,hze as eT,d4e as eU,_r as eV,p4e as eW,pK as eX,qze as eY,UUe as eZ,Rf as e_,FLe as ea,VLe as eb,WLe as ec,Xue as ed,EMe as ee,zLe as ef,kze as eg,Hj as eh,Fc as ei,Nze as ej,LO as ek,IK as el,CK as em,W7e as en,q7e as eo,Gt as ep,V7e as eq,lae as er,W1 as es,Nue as et,Dh as eu,rB as ev,S7e as ew,Rze as ex,gMe as ey,bMe as ez,yQ as f,vB as f$,Tze as f0,Ize as f1,yNe as f2,PUe as f3,Fze as f4,DUe as f5,bze as f6,_Ne as f7,z4e as f8,xze as f9,Zj as fA,sNe as fB,qK as fC,iG as fD,Lg as fE,yze as fF,oUe as fG,Nz as fH,m7e as fI,I7e as fJ,x7e as fK,T7e as fL,o5 as fM,k7e as fN,R7e as fO,Mz as fP,mpe as fQ,zn as fR,B7e as fS,tde as fT,h7e as fU,Uz as fV,ede as fW,Zue as fX,Tz as fY,Uu as fZ,wB as f_,Cze as fa,zze as fb,Dze as fc,Pze as fd,$ze as fe,nUe as ff,wce as fg,Kd as fh,rI as fi,G_ as fj,Hne as fk,q_ as fl,er as fm,jze as fn,Mze as fo,Uze as fp,cL as fq,kee as fr,NBe as fs,jp as ft,GBe as fu,Z_ as fv,TLe as fw,EF as fx,ILe as fy,Dke as fz,Lp as g,Lu as g$,_B as g0,AB as g1,EB as g2,SB as g3,gE as g4,Cn as g5,cb as g6,Y7e as g7,Z7e as g8,ps as g9,nye as gA,bye as gB,tye as gC,vpe as gD,Eye as gE,Lye as gF,Dpe as gG,dye as gH,Cye as gI,Ja as gJ,e_ as gK,tje as gL,qF as gM,nje as gN,Kc as gO,JF as gP,XF as gQ,_7e as gR,b7e as gS,Fe as gT,Fn as gU,g5 as gV,vn as gW,sP as gX,kg as gY,ufe as gZ,F7e as g_,Epe as ga,Qo as gb,ls as gc,X7e as gd,K7e as ge,$pe as gf,lb as gg,Ca as gh,lo as gi,dv as gj,kpe as gk,Xc as gl,b4 as gm,Go as gn,Vpe as go,eje as gp,KF as gq,Kpe as gr,dl as gs,lye as gt,nq as gu,YF as gv,G7e as gw,xC as gx,wE as gy,Aye as gz,hQ as h,We as h0,TT as h1,ao as h2,W0 as h3,Xo as h4,$n as h5,kte as h6,uj as h7,Zo as h8,sI as h9,d6e as hA,Ya as hB,Cf as hC,lO as hD,_Te as hE,cO as hF,WE as hG,O0 as hH,OC as hI,PD as hJ,DW as hK,j1e as hL,pf as hM,Iu as hN,qE as hO,ko as hP,ma as hQ,Oo as hR,SH as hS,cl as ha,Wp as hb,ZV as hc,Zxe as hd,Xxe as he,H9 as hf,g7 as hg,AT as hh,F_e as hi,hl as hj,If as hk,fge as hl,ba as hm,us as hn,Be as ho,fl as hp,U_e as hq,kme as hr,Pg as hs,z5 as ht,Kbe as hu,Lbe as hv,fpe as hw,z_e as hx,qs as hy,Mxe as hz,k4 as i,R4 as j,iQ as k,w7 as l,FI as m,aae as n,v1 as o,BB as p,oae as q,Q_ as r,HBe as s,oN as t,g1 as u,xse as v,sae as w,fN as x,a7 as y,go as z};
