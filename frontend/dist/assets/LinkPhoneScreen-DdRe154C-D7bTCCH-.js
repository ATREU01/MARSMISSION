import{d5 as d,d6 as p,d7 as S,d9 as m,d4 as s}from"./index-B4-LruoG.js";import{F as b}from"./PhoneIcon-Dn_7BK6H.js";import{w as h}from"./ConnectPhoneForm-OQSgPQxP-DlQVabSE.js";import{n as f}from"./ScreenLayout-CNho46nP-D6C5Lh0T.js";import"./Button-BCV6mjvS-DdwUXkRg.js";import"./Chip-Bsgj4Yc--DLvCxFhp.js";import"./LoadingSkeleton-CHdaq3pb-DqeABnzr.js";import"./Screen-_0H_rCdH-84nYgpso.js";import"./ModalHeader-BTru6YQw-mNrl3KWP.js";import"./index-CJMgUOnw-CX4nbFWI.js";const y=({title:n="Connect your phone",subtitle:a="Add your number to your account",onSubmit:t,isSubmitting:r=!1})=>{let[e,u]=m.useState(null),i=async()=>{e?.qualifiedPhoneNumber&&await t(e)};return s.jsx(f,{title:n,subtitle:a,icon:b,primaryCta:{label:r?"Submitting":"Submit",onClick:i,disabled:!e?.isValid||r},watermark:!0,children:s.jsx(h,{onChange:o=>{u(o)},onSubmit:i,noIncludeSubmitButton:!0,hideRecent:!0})})},D={component:()=>{let{currentScreen:n,data:a,navigate:t,setModalData:r}=d(),e=p(),{initLoginWithSms:u}=S(),[i,o]=m.useState(!1);return s.jsx(y,{subtitle:`Add your number to your ${e?.name} account`,onSubmit:async l=>{o(!0);try{await u({phoneNumber:l.qualifiedPhoneNumber,withPrivyUi:!0}),t("AwaitingPasswordlessCodeScreen")}catch(c){r({errorModalData:{error:c,previousScreen:a?.errorModalData?.previousScreen||n||"LinkPhoneScreen"}}),t("ErrorScreen")}finally{o(!1)}},isSubmitting:i})}};export{D as LinkPhoneScreen,y as LinkPhoneScreenView,D as default};
