import{d4 as e,dA as f,d5 as h,d6 as v,d7 as g,ds as C}from"./index-Vvf53c4X.js";import{c as p}from"./Button-BCV6mjvS-BsI8yr8B.js";import{a as k}from"./shouldProceedtoEmbeddedWalletCreationFlow-BI33jNSF-BEcveiP6.js";import{n as A}from"./ScreenLayout-CNho46nP-DPUaR44_.js";import{c as x}from"./createLucideIcon-BZ_bsS7i.js";import{E as m}from"./external-link-Cn2Q5pGH.js";import"./Screen-_0H_rCdH-DGZ7Sh5t.js";import"./ModalHeader-BTru6YQw-WDfruZEC.js";import"./index-CJMgUOnw-CUV7ALYK.js";const b=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],w=x("file-check",b),z={component:()=>{let{user:t,logout:a}=f(),{onUserCloseViaDialogOrKeybindRef:n,setModalData:i,navigate:s}=h(),r=v(),{acceptTerms:u,closePrivyModal:l,createAnalyticsEvent:y}=g(),c=o=>{o?.preventDefault(),l({shouldCallAuthOnSuccess:!1}),a()};return n.current=c,e.jsx(j,{termsAndConditionsUrl:r?.legal.termsAndConditionsUrl,privacyPolicyUrl:r?.legal.privacyPolicyUrl,onAccept:async o=>{o?.preventDefault(),await u(),t&&k(t,r.embeddedWallets)?(i({createWallet:{onSuccess:()=>{},onFailure:d=>{console.error(d),y({eventName:"embedded_wallet_creation_failure_logout",payload:{error:d,screen:"AffirmativeConsentScreen"}}),a()},callAuthOnSuccessOnClose:!0}}),s("EmbeddedWalletOnAccountCreateScreen")):l()},onDecline:c})}},j=({termsAndConditionsUrl:t,privacyPolicyUrl:a,onAccept:n,onDecline:i,title:s="One last step",subtitle:r="By signing up, you agree to our terms and privacy policy."})=>e.jsx(A,{title:s,subtitle:r,icon:w,primaryCta:{label:"Accept",onClick:n},secondaryCta:{label:"No thanks",onClick:i},watermark:!0,children:(t||a)&&e.jsxs(_,{children:[t&&e.jsxs(p,{variant:"muted",href:t,target:"_blank",size:"lg",style:{justifyContent:"space-between"},as:"a",children:["View Terms",e.jsx(m,{width:16,height:16,strokeWidth:2.25})]}),a&&e.jsxs(p,{variant:"muted",href:a,target:"_blank",size:"lg",style:{justifyContent:"space-between"},as:"a",children:["View Privacy Policy",e.jsx(m,{width:16,height:16,strokeWidth:2.25})]})]})});let _=C.div.withConfig({displayName:"LinksContainer",componentId:"sc-d5115275-0"})(["display:flex;flex-direction:column;gap:12px;margin-top:var(--screen-space);"]);export{z as AffirmativeConsentScreen,j as AffirmativeConsentScreenView,z as default};
