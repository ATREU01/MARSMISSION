const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CBwrc2qI.js","assets/parseSignature-Bh0JWmSK.js","assets/parseUnits-DMbLnPvF.js","assets/AccountNotFoundScreen-BzbvtCmu-CBvjEw_a.js","assets/ScreenLayout-CNho46nP-B4LKwwT1.js","assets/Button-BCV6mjvS-Ds3dQ567.js","assets/Screen-_0H_rCdH-BcqDJQ68.js","assets/ModalHeader-BTru6YQw-VHe3yaAt.js","assets/index-CJMgUOnw-Caq7k6r0.js","assets/createLucideIcon-DHaPZvrP.js","assets/AffirmativeConsentScreen-CrZKQjas-BJT1NGbQ.js","assets/shouldProceedtoEmbeddedWalletCreationFlow-BI33jNSF-CfYwSlzi.js","assets/external-link-BC6oTowh.js","assets/AllowlistRejectionScreen-DhhfJ6ai-DrSC9me4.js","assets/lock-D7dCaFSp.js","assets/AuthenticateWithWalletScreen-BN0s1mtv-CLRDAEwI.js","assets/ConnectWalletView-Cmm9Ulis-CjbJQJUl.js","assets/copy-Bx2Jwc5_-DXv3zOQr.js","assets/Link-DwjLfHwW-Bj-OPv03.js","assets/QrCode-Oxn5GT3C-CYKkwLTa.js","assets/dijkstra-COg3n3zL.js","assets/EmailInputForm-B4hjCxRU-CnVrCSgL.js","assets/ErrorMessage-Cx8GKGhL-B_a68wd5.js","assets/useI18n-99pFPsz3-DAqSuZM0.js","assets/WalletCards-DH1rqayz-JTYFZm3U.js","assets/AwaitingEvmToSolBridgingScreen-C7mp2-Hy-BnADZHDw.js","assets/CheckCircleIcon-BH4koDZb.js","assets/Layouts-Bmf8DxNP-u0w-Y0s6.js","assets/ScreenHeader-Biz1wq02-C3WSGbab.js","assets/FundWalletMethodHeader-CS84Ots9-3P3unRw1.js","assets/useGetTokenPrice-CDPxMEO--D9xt0_z6.js","assets/useGetSolPrice-Cfm8o9C5-DDR-Hj0i.js","assets/analytics-mkkvFRju-DOXuftJB.js","assets/reservoir-kvLjIrEo-B6ffr3ps.js","assets/getChainName-DjpPdUSc-c2urPd0g.js","assets/transaction-CnfuREWo-nROljJQP.js","assets/getFormattedUsdFromLamports-B6EqSEho-C-HCdwKa.js","assets/BridgeNetworkSelectionView-BXBCujiq-LJhHqmDY.js","assets/getErc20Balance-CaKjNAs9-BPxHg_jV.js","assets/Value-B4M62ove-BgzEA0H6.js","assets/LoadingSkeleton-CHdaq3pb-fa6j6V42.js","assets/Subtitle-DkvfP2Ev-BiW9eJSH.js","assets/Title-D0pfZff--Cl_QhNjE.js","assets/WalletIcon-Yn_PGyBq.js","assets/Chip-Bsgj4Yc--D8GzEHcn.js","assets/TransferOrBridgeLoadingScreen-BY7Eot6x-Bggfbthh.js","assets/InjectedWalletIcon-DLcYOGDj-BZNGoMw_.js","assets/Address-BUmpXgsy-C3dnFLAv.js","assets/check-wa4k6I-2.js","assets/copy-B9b3vyLt.js","assets/GlobeAltIcon-gS7VzHE6.js","assets/shared-CtYf3O54-DNlg-LYi.js","assets/ChevronDownIcon-CHUfi2NN.js","assets/formatErc20TokenAmount-BuPk9xcy-CkAr4Oc0.js","assets/ethers-Bl5aM5Gz-ChpXCOJr.js","assets/styles-DY17fuAX-BbmqH2m_.js","assets/formatters-B5zHO9Bo.js","assets/custom-CXNY0VYg.js","assets/AwaitingExternalEthereumTransferScreen-EqM4Kcsu-CSc4aCk6.js","assets/transfer-CMPmjPsM-Cjofo3yZ.js","assets/parseEther-B1hqWis6.js","assets/AwaitingPasswordlessCodeScreen-NAVmxM9--hiYAqgZ0.js","assets/EnvelopeIcon-Ba61jYe-.js","assets/PhoneIcon-C0Vx93PS.js","assets/AwaitingSolToEvmBridgingScreen-dC9b-wlg-By025plb.js","assets/CaptchaScreen-CTRyyYc9-BMAgh9qd.js","assets/circle-check-big-C4WmM-x0.js","assets/circle-x-4CU2wnQ2.js","assets/CoinbaseOnrampStatusScreen-BNmvm8Bl-DfwngwaG.js","assets/ArrowsRightLeftIcon-CLXGRL6M.js","assets/CheckCircleIcon-rlKt5lFH.js","assets/ConnectLedgerScreen-BEhSz1FM-DUwn-AMA.js","assets/ConnectOnlyLandingScreen-ZnI9ReZJ-B1KF-Vdd.js","assets/ConnectOnlyStatusScreen-1oCuFsd6-DPSEKAUw.js","assets/ConnectionStatusScreen-CZNBQeOQ-_QGX4ht4.js","assets/ConnectOrCreateScreen-BOO4iaC6-BSljGLg6.js","assets/CustomLandingScreenView-B_ZwsVad-HbsCOoPs.js","assets/ConnectEmailForm-DtLW0rv7-pg3UOYE3.js","assets/mail-B3s4Fxs9.js","assets/farcaster-DPlSjvF5-K3A2suus.js","assets/FingerPrintIcon-BEKZ1cc6.js","assets/ConnectPhoneForm-OQSgPQxP-kIxiCsF2.js","assets/twitch-5IOe4sIQ-CnrkAzl8.js","assets/telegram-B-JqnkqZ-D9X07XUj.js","assets/WalletOverflowButton-BT_VMZP5-C24pG4xi.js","assets/CrossAppAuthScreen-Bno8NQSa-D5MfQH_Y.js","assets/DelegatedActionsConsentScreen-B0AwZEKc-DVgZbW1q.js","assets/WalletInfoCard-COAfUoX0-Cz_56LNA.js","assets/LabelXs-BOisBtqT-DLnPQAeV.js","assets/circle-alert-fTH7YJ9Y.js","assets/DelegatedActionsRevokeScreen-D0mAKxDs-B5oZ4Hsc.js","assets/EmbeddedWalletConnectingScreen-9ADobSle-NF4EtMzx.js","assets/EmbeddedWalletCreatedScreen-B7TnCst_-BYR5ajDx.js","assets/EmbeddedWalletKeyExportScreen-Cmp2CUOa-B1krhQpr.js","assets/WarningBanner-BDp-QC9i-BkTN-aS9.js","assets/ExclamationTriangleIcon-D57cRKwY.js","assets/EmbeddedWalletOnAccountCreateScreen-vxaCVWy1-LzSYMMky.js","assets/use-create-wallet-without-fallback-C0dI_RFZ-DZRjJ4R8.js","assets/RecoveryPasswordCreateScreen-jWT25C0X-BDVtLeG9.js","assets/SetWalletPasswordForm-vaG_68V0-Brgxzsy2.js","assets/shared-D8TfUpfU-DDWRFGze.js","assets/Checkbox-NmGCZeKL-s2WjpOuR.js","assets/EmbeddedWalletPasswordUpdateScreen-C4dNnXVI-B0OlP8J0.js","assets/EmbeddedWalletPasswordUpdateSplashScreen-BPTp0nwT-CMBpQ8ly.js","assets/ErrorScreen-Yi-Rhs0v-1em1Pt3Z.js","assets/FarcasterConnectStatusScreen-BfoDjDwg-DuIrbV37.js","assets/OpenLink-BpeNYBKs-DvdtUVSk.js","assets/FarcasterSignerStatusScreen-CsSFmDry-Bmr__Km-.js","assets/CopyToClipboard-DatKc59_-BOesD5mZ.js","assets/FundSolWalletWithExternalSolanaWallet-BIk-6GIl-CLofgfrX.js","assets/getUsdcMintAddress-DFI1hv05-jlhpBW9a.js","assets/FundingEditAmountScreen-CzbuYpdw-DLwRx3Gn.js","assets/FundingMethodSelectionScreen-DdZxdcVe-CAb-tGqq.js","assets/ErrorBanner-BdiArMwu-DG-tlCCG.js","assets/ExclamationCircleIcon-CGOaeacX.js","assets/InfoBanner-D6C6Bt8L-CG0IAZZs.js","assets/getErc20TokenInfo-BFoeg5F6-NUvF3a59.js","assets/index-D9w4UYos-DRULTpJj.js","assets/InAppBrowserLoginNotPossible-COUNBN1W-DSfXPyrl.js","assets/InstallWalletScreen-BjprJkty-DcdJ2aTz.js","assets/TodoList-Dn0Qu-vv-kEi6P_kw.js","assets/LandingScreen-Dp4m_c2X-DpGXsGm1.js","assets/LinkConflictScreen-DMHPhlV7-Cc0VDc9I.js","assets/StackedContainer-BrIQsdas-B0acW-UG.js","assets/capitalizeFirstLetter-DmLYqXsO-tV1Idewc.js","assets/LinkEmailScreen-D7VTyZrH-Bu28bnga.js","assets/LinkPasskeyScreen-B5LWH116-C6LhZMuw.js","assets/fingerprint-pattern-D_JtdeUA.js","assets/LinkPhoneScreen-DdRe154C-CurFU3Sa.js","assets/LoginFailedScreen-CZnzwKpB-SJr7J-vK.js","assets/ManualTransferScreen-Bn2qhDAI-CRDXgyBi.js","assets/useWalletBalance-CkNw6kj0-BMcMcrwl.js","assets/MfaAuthEnrollmentFlowScreen-CWMULcQb-6LhSK-to.js","assets/ShieldCheckIcon-wK5CydYC.js","assets/EnrollTotp-CMtBCJbR-NbTq3zBv.js","assets/PinInput-C3_MNxMt-CtZPM0gD.js","assets/MfaAuthVerifyFlowScreen-B3Hw1YN--B3HfDnj5.js","assets/to-ui-error-CYFXznYy-nXQ85FiF.js","assets/TransactionDetails-BdW2lq_B-OBOHl6sU.js","assets/WalletLink-Cj92ni3W-Ey4XKi8F.js","assets/MfaEnrollmentFlowScreen-DcnqGJ3O-CO2yXOc_.js","assets/MoonpayStatusScreen-lYMS5etL-66pYLWxs.js","assets/OAuthStatusScreen-DEtT_t2P-ayMpHex3.js","assets/PasskeySelectSignupOrLogin-DgH-G2yO-DO7-_96W.js","assets/PasskeyStatusScreen-BOac_MoC-BnRCoTU-.js","assets/PasswordRecoveryScreen-CT1bj8Gb-WQ3q6FFU.js","assets/RecoveryOAuthStatusScreen-Ce6qiP-3-DhOYhCs2.js","assets/styles-BxA7nKxI-BrawZjzG.js","assets/RecoverySelectionScreen-_u02vomS-DVl1Z457.js","assets/LockClosedIcon-BDsSCnue.js","assets/index-DNmMGazz-CRXeCp6p.js","assets/JsonTree-Bvd2C29R-50jVNKIs.js","assets/TransactionErrorView-RLIeHdul-3_--FYTs.js","assets/SetAutomaticRecoveryScreen-CUheSZ7h-BvTBfFEI.js","assets/SignRequestScreen-BNC2mYtk-jfsJWwmr.js","assets/StandardSignAndSendTransactionScreen-Ckxfv32q-B8RIjG0V.js","assets/TelegramAuthScreen-xobB3RHK-dqKgMIqV.js","assets/TransferFromWalletScreen-CLqyv8Ra-pC7x8ONL.js","assets/UpdateEmailScreen-BVzkFXeI-h0OrxvDr.js","assets/UpdatePhoneScreen-DZ_resri-BKFOoCBp.js","assets/UserLimitReachedScreen-CTmSitf0-CMqoLNwB.js","assets/WalletInterstitialScreen-tDCVxTFi-Bv9go9H7.js","assets/MfaVerifyFlowScreen-BEt8Gfpb-Cf5Q3Bzy.js"])))=>i.map(i=>d[i]);
function GZ(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Oo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Du(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function dB(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var JA={exports:{}},Gy={};var f4;function KZ(){if(f4)return Gy;f4=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var a=null;if(s!==void 0&&(a=""+s),i.key!==void 0&&(a=""+i.key),"key"in i){s={};for(var c in i)c!=="key"&&(s[c]=i[c])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:a,ref:i!==void 0?i:null,props:s}}return Gy.Fragment=e,Gy.jsx=n,Gy.jsxs=n,Gy}var h4;function YZ(){return h4||(h4=1,JA.exports=KZ()),JA.exports}var he=YZ(),QA={exports:{}},Et={};var p4;function ZZ(){if(p4)return Et;p4=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),m=Symbol.iterator;function g(M){return M===null||typeof M!="object"?null:(M=m&&M[m]||M["@@iterator"],typeof M=="function"?M:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,E={};function O(M,G,J){this.props=M,this.context=G,this.refs=E,this.updater=J||b}O.prototype.isReactComponent={},O.prototype.setState=function(M,G){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,G,"setState")},O.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function k(){}k.prototype=O.prototype;function S(M,G,J){this.props=M,this.context=G,this.refs=E,this.updater=J||b}var A=S.prototype=new k;A.constructor=S,v(A,O.prototype),A.isPureReactComponent=!0;var C=Array.isArray;function I(){}var N={H:null,A:null,T:null,S:null},z=Object.prototype.hasOwnProperty;function L(M,G,J){var X=J.ref;return{$$typeof:t,type:M,key:G,ref:X!==void 0?X:null,props:J}}function B(M,G){return L(M.type,G,M.props)}function H(M){return typeof M=="object"&&M!==null&&M.$$typeof===t}function D(M){var G={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(J){return G[J]})}var F=/\/+/g;function K(M,G){return typeof M=="object"&&M!==null&&M.key!=null?D(""+M.key):G.toString(36)}function T(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(I,I):(M.status="pending",M.then(function(G){M.status==="pending"&&(M.status="fulfilled",M.value=G)},function(G){M.status==="pending"&&(M.status="rejected",M.reason=G)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function x(M,G,J,X,Q){var ge=typeof M;(ge==="undefined"||ge==="boolean")&&(M=null);var we=!1;if(M===null)we=!0;else switch(ge){case"bigint":case"string":case"number":we=!0;break;case"object":switch(M.$$typeof){case t:case e:we=!0;break;case h:return we=M._init,x(we(M._payload),G,J,X,Q)}}if(we)return Q=Q(M),we=X===""?"."+K(M,0):X,C(Q)?(J="",we!=null&&(J=we.replace(F,"$&/")+"/"),x(Q,G,J,"",function(Pe){return Pe})):Q!=null&&(H(Q)&&(Q=B(Q,J+(Q.key==null||M&&M.key===Q.key?"":(""+Q.key).replace(F,"$&/")+"/")+we)),G.push(Q)),1;we=0;var Te=X===""?".":X+":";if(C(M))for(var Ee=0;Ee<M.length;Ee++)X=M[Ee],ge=Te+K(X,Ee),we+=x(X,G,J,ge,Q);else if(Ee=g(M),typeof Ee=="function")for(M=Ee.call(M),Ee=0;!(X=M.next()).done;)X=X.value,ge=Te+K(X,Ee++),we+=x(X,G,J,ge,Q);else if(ge==="object"){if(typeof M.then=="function")return x(T(M),G,J,X,Q);throw G=String(M),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return we}function $(M,G,J){if(M==null)return M;var X=[],Q=0;return x(M,X,"","",function(ge){return G.call(J,ge,Q++)}),X}function j(M){if(M._status===-1){var G=M._result;G=G(),G.then(function(J){(M._status===0||M._status===-1)&&(M._status=1,M._result=J)},function(J){(M._status===0||M._status===-1)&&(M._status=2,M._result=J)}),M._status===-1&&(M._status=0,M._result=G)}if(M._status===1)return M._result.default;throw M._result}var P=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},V={map:$,forEach:function(M,G,J){$(M,function(){G.apply(this,arguments)},J)},count:function(M){var G=0;return $(M,function(){G++}),G},toArray:function(M){return $(M,function(G){return G})||[]},only:function(M){if(!H(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Et.Activity=p,Et.Children=V,Et.Component=O,Et.Fragment=n,Et.Profiler=i,Et.PureComponent=S,Et.StrictMode=r,Et.Suspense=u,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Et.__COMPILER_RUNTIME={__proto__:null,c:function(M){return N.H.useMemoCache(M)}},Et.cache=function(M){return function(){return M.apply(null,arguments)}},Et.cacheSignal=function(){return null},Et.cloneElement=function(M,G,J){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var X=v({},M.props),Q=M.key;if(G!=null)for(ge in G.key!==void 0&&(Q=""+G.key),G)!z.call(G,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&G.ref===void 0||(X[ge]=G[ge]);var ge=arguments.length-2;if(ge===1)X.children=J;else if(1<ge){for(var we=Array(ge),Te=0;Te<ge;Te++)we[Te]=arguments[Te+2];X.children=we}return L(M.type,Q,X)},Et.createContext=function(M){return M={$$typeof:a,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:s,_context:M},M},Et.createElement=function(M,G,J){var X,Q={},ge=null;if(G!=null)for(X in G.key!==void 0&&(ge=""+G.key),G)z.call(G,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(Q[X]=G[X]);var we=arguments.length-2;if(we===1)Q.children=J;else if(1<we){for(var Te=Array(we),Ee=0;Ee<we;Ee++)Te[Ee]=arguments[Ee+2];Q.children=Te}if(M&&M.defaultProps)for(X in we=M.defaultProps,we)Q[X]===void 0&&(Q[X]=we[X]);return L(M,ge,Q)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(M){return{$$typeof:c,render:M}},Et.isValidElement=H,Et.lazy=function(M){return{$$typeof:h,_payload:{_status:-1,_result:M},_init:j}},Et.memo=function(M,G){return{$$typeof:d,type:M,compare:G===void 0?null:G}},Et.startTransition=function(M){var G=N.T,J={};N.T=J;try{var X=M(),Q=N.S;Q!==null&&Q(J,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(I,P)}catch(ge){P(ge)}finally{G!==null&&J.types!==null&&(G.types=J.types),N.T=G}},Et.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Et.use=function(M){return N.H.use(M)},Et.useActionState=function(M,G,J){return N.H.useActionState(M,G,J)},Et.useCallback=function(M,G){return N.H.useCallback(M,G)},Et.useContext=function(M){return N.H.useContext(M)},Et.useDebugValue=function(){},Et.useDeferredValue=function(M,G){return N.H.useDeferredValue(M,G)},Et.useEffect=function(M,G){return N.H.useEffect(M,G)},Et.useEffectEvent=function(M){return N.H.useEffectEvent(M)},Et.useId=function(){return N.H.useId()},Et.useImperativeHandle=function(M,G,J){return N.H.useImperativeHandle(M,G,J)},Et.useInsertionEffect=function(M,G){return N.H.useInsertionEffect(M,G)},Et.useLayoutEffect=function(M,G){return N.H.useLayoutEffect(M,G)},Et.useMemo=function(M,G){return N.H.useMemo(M,G)},Et.useOptimistic=function(M,G){return N.H.useOptimistic(M,G)},Et.useReducer=function(M,G,J){return N.H.useReducer(M,G,J)},Et.useRef=function(M){return N.H.useRef(M)},Et.useState=function(M){return N.H.useState(M)},Et.useSyncExternalStore=function(M,G,J){return N.H.useSyncExternalStore(M,G,J)},Et.useTransition=function(){return N.H.useTransition()},Et.version="19.2.3",Et}var y4;function $0(){return y4||(y4=1,QA.exports=ZZ()),QA.exports}var Y=$0();const et=Du(Y),m4=GZ({__proto__:null,default:et},[Y]);var eS={exports:{}},Ky={},tS={exports:{}},nS={};var g4;function XZ(){return g4||(g4=1,(function(t){function e(x,$){var j=x.length;x.push($);e:for(;0<j;){var P=j-1>>>1,V=x[P];if(0<i(V,$))x[P]=$,x[j]=V,j=P;else break e}}function n(x){return x.length===0?null:x[0]}function r(x){if(x.length===0)return null;var $=x[0],j=x.pop();if(j!==$){x[0]=j;e:for(var P=0,V=x.length,M=V>>>1;P<M;){var G=2*(P+1)-1,J=x[G],X=G+1,Q=x[X];if(0>i(J,j))X<V&&0>i(Q,J)?(x[P]=Q,x[X]=j,P=X):(x[P]=J,x[G]=j,P=G);else if(X<V&&0>i(Q,j))x[P]=Q,x[X]=j,P=X;else break e}}return $}function i(x,$){var j=x.sortIndex-$.sortIndex;return j!==0?j:x.id-$.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var u=[],d=[],h=1,p=null,m=3,g=!1,b=!1,v=!1,E=!1,O=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function A(x){for(var $=n(d);$!==null;){if($.callback===null)r(d);else if($.startTime<=x)r(d),$.sortIndex=$.expirationTime,e(u,$);else break;$=n(d)}}function C(x){if(v=!1,A(x),!b)if(n(u)!==null)b=!0,I||(I=!0,D());else{var $=n(d);$!==null&&T(C,$.startTime-x)}}var I=!1,N=-1,z=5,L=-1;function B(){return E?!0:!(t.unstable_now()-L<z)}function H(){if(E=!1,I){var x=t.unstable_now();L=x;var $=!0;try{e:{b=!1,v&&(v=!1,k(N),N=-1),g=!0;var j=m;try{t:{for(A(x),p=n(u);p!==null&&!(p.expirationTime>x&&B());){var P=p.callback;if(typeof P=="function"){p.callback=null,m=p.priorityLevel;var V=P(p.expirationTime<=x);if(x=t.unstable_now(),typeof V=="function"){p.callback=V,A(x),$=!0;break t}p===n(u)&&r(u),A(x)}else r(u);p=n(u)}if(p!==null)$=!0;else{var M=n(d);M!==null&&T(C,M.startTime-x),$=!1}}break e}finally{p=null,m=j,g=!1}$=void 0}}finally{$?D():I=!1}}}var D;if(typeof S=="function")D=function(){S(H)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,K=F.port2;F.port1.onmessage=H,D=function(){K.postMessage(null)}}else D=function(){O(H,0)};function T(x,$){N=O(function(){x(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(x){x.callback=null},t.unstable_forceFrameRate=function(x){0>x||125<x?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<x?Math.floor(1e3/x):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_next=function(x){switch(m){case 1:case 2:case 3:var $=3;break;default:$=m}var j=m;m=$;try{return x()}finally{m=j}},t.unstable_requestPaint=function(){E=!0},t.unstable_runWithPriority=function(x,$){switch(x){case 1:case 2:case 3:case 4:case 5:break;default:x=3}var j=m;m=x;try{return $()}finally{m=j}},t.unstable_scheduleCallback=function(x,$,j){var P=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?P+j:P):j=P,x){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=j+V,x={id:h++,callback:$,priorityLevel:x,startTime:j,expirationTime:V,sortIndex:-1},j>P?(x.sortIndex=j,e(d,x),n(u)===null&&x===n(d)&&(v?(k(N),N=-1):v=!0,T(C,j-P))):(x.sortIndex=V,e(u,x),b||g||(b=!0,I||(I=!0,D()))),x},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(x){var $=m;return function(){var j=m;m=$;try{return x.apply(this,arguments)}finally{m=j}}}})(nS)),nS}var b4;function JZ(){return b4||(b4=1,tS.exports=XZ()),tS.exports}var rS={exports:{}},mi={};var w4;function QZ(){if(w4)return mi;w4=1;var t=$0();function e(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(u,d,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:u,containerInfo:d,implementation:h}}var a=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(u,d){if(u==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return mi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,mi.createPortal=function(u,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return s(u,d,null,h)},mi.flushSync=function(u){var d=a.T,h=r.p;try{if(a.T=null,r.p=2,u)return u()}finally{a.T=d,r.p=h,r.d.f()}},mi.preconnect=function(u,d){typeof u=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(u,d))},mi.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},mi.preinit=function(u,d){if(typeof u=="string"&&d&&typeof d.as=="string"){var h=d.as,p=c(h,d.crossOrigin),m=typeof d.integrity=="string"?d.integrity:void 0,g=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?r.d.S(u,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:p,integrity:m,fetchPriority:g}):h==="script"&&r.d.X(u,{crossOrigin:p,integrity:m,fetchPriority:g,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},mi.preinitModule=function(u,d){if(typeof u=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=c(d.as,d.crossOrigin);r.d.M(u,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(u)},mi.preload=function(u,d){if(typeof u=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,p=c(h,d.crossOrigin);r.d.L(u,h,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},mi.preloadModule=function(u,d){if(typeof u=="string")if(d){var h=c(d.as,d.crossOrigin);r.d.m(u,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(u)},mi.requestFormReset=function(u){r.d.r(u)},mi.unstable_batchedUpdates=function(u,d){return u(d)},mi.useFormState=function(u,d,h){return a.H.useFormState(u,d,h)},mi.useFormStatus=function(){return a.H.useHostTransitionStatus()},mi.version="19.2.3",mi}var v4;function fB(){if(v4)return rS.exports;v4=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),rS.exports=QZ(),rS.exports}var _4;function eX(){if(_4)return Ky;_4=1;var t=JZ(),e=$0(),n=fB();function r(o){var l="https://react.dev/errors/"+o;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)l+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function s(o){var l=o,f=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(f=l.return),o=l.return;while(o)}return l.tag===3?f:null}function a(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function c(o){if(o.tag===31){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function u(o){if(s(o)!==o)throw Error(r(188))}function d(o){var l=o.alternate;if(!l){if(l=s(o),l===null)throw Error(r(188));return l!==o?null:o}for(var f=o,y=l;;){var w=f.return;if(w===null)break;var _=w.alternate;if(_===null){if(y=w.return,y!==null){f=y;continue}break}if(w.child===_.child){for(_=w.child;_;){if(_===f)return u(w),o;if(_===y)return u(w),l;_=_.sibling}throw Error(r(188))}if(f.return!==y.return)f=w,y=_;else{for(var R=!1,q=w.child;q;){if(q===f){R=!0,f=w,y=_;break}if(q===y){R=!0,y=w,f=_;break}q=q.sibling}if(!R){for(q=_.child;q;){if(q===f){R=!0,f=_,y=w;break}if(q===y){R=!0,y=_,f=w;break}q=q.sibling}if(!R)throw Error(r(189))}}if(f.alternate!==y)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?o:l}function h(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o;for(o=o.child;o!==null;){if(l=h(o),l!==null)return l;o=o.sibling}return null}var p=Object.assign,m=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),S=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function D(o){return o===null||typeof o!="object"?null:(o=H&&o[H]||o["@@iterator"],typeof o=="function"?o:null)}var F=Symbol.for("react.client.reference");function K(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===F?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case v:return"Fragment";case O:return"Profiler";case E:return"StrictMode";case C:return"Suspense";case I:return"SuspenseList";case L:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case b:return"Portal";case S:return o.displayName||"Context";case k:return(o._context.displayName||"Context")+".Consumer";case A:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case N:return l=o.displayName||null,l!==null?l:K(o.type)||"Memo";case z:l=o._payload,o=o._init;try{return K(o(l))}catch{}}return null}var T=Array.isArray,x=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j={pending:!1,data:null,method:null,action:null},P=[],V=-1;function M(o){return{current:o}}function G(o){0>V||(o.current=P[V],P[V]=null,V--)}function J(o,l){V++,P[V]=o.current,o.current=l}var X=M(null),Q=M(null),ge=M(null),we=M(null);function Te(o,l){switch(J(ge,l),J(Q,o),J(X,null),l.nodeType){case 9:case 11:o=(o=l.documentElement)&&(o=o.namespaceURI)?DR(o):0;break;default:if(o=l.tagName,l=l.namespaceURI)l=DR(l),o=MR(l,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}G(X),J(X,o)}function Ee(){G(X),G(Q),G(ge)}function Pe(o){o.memoizedState!==null&&J(we,o);var l=X.current,f=MR(l,o.type);l!==f&&(J(Q,o),J(X,f))}function qe(o){Q.current===o&&(G(X),G(Q)),we.current===o&&(G(we),qy._currentValue=j)}var rt,ye;function Tt(o){if(rt===void 0)try{throw Error()}catch(f){var l=f.stack.trim().match(/\n( *(at )?)/);rt=l&&l[1]||"",ye=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+rt+o+ye}var Kt=!1;function wt(o,l){if(!o||Kt)return"";Kt=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var y={DetermineComponentFrameRoot:function(){try{if(l){var xe=function(){throw Error()};if(Object.defineProperty(xe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(xe,[])}catch(me){var pe=me}Reflect.construct(o,[],xe)}else{try{xe.call()}catch(me){pe=me}o.call(xe.prototype)}}else{try{throw Error()}catch(me){pe=me}(xe=o())&&typeof xe.catch=="function"&&xe.catch(function(){})}}catch(me){if(me&&pe&&typeof me.stack=="string")return[me.stack,pe.stack]}return[null,null]}};y.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(y.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(y.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=y.DetermineComponentFrameRoot(),R=_[0],q=_[1];if(R&&q){var ne=R.split(`
`),de=q.split(`
`);for(w=y=0;y<ne.length&&!ne[y].includes("DetermineComponentFrameRoot");)y++;for(;w<de.length&&!de[w].includes("DetermineComponentFrameRoot");)w++;if(y===ne.length||w===de.length)for(y=ne.length-1,w=de.length-1;1<=y&&0<=w&&ne[y]!==de[w];)w--;for(;1<=y&&0<=w;y--,w--)if(ne[y]!==de[w]){if(y!==1||w!==1)do if(y--,w--,0>w||ne[y]!==de[w]){var ve=`
`+ne[y].replace(" at new "," at ");return o.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",o.displayName)),ve}while(1<=y&&0<=w);break}}}finally{Kt=!1,Error.prepareStackTrace=f}return(f=o?o.displayName||o.name:"")?Tt(f):""}function hi(o,l){switch(o.tag){case 26:case 27:case 5:return Tt(o.type);case 16:return Tt("Lazy");case 13:return o.child!==l&&l!==null?Tt("Suspense Fallback"):Tt("Suspense");case 19:return Tt("SuspenseList");case 0:case 15:return wt(o.type,!1);case 11:return wt(o.type.render,!1);case 1:return wt(o.type,!0);case 31:return Tt("Activity");default:return""}}function Vt(o){try{var l="",f=null;do l+=hi(o,f),f=o,o=o.return;while(o);return l}catch(y){return`
Error generating stack: `+y.message+`
`+y.stack}}var Le=Object.prototype.hasOwnProperty,Ve=t.unstable_scheduleCallback,pi=t.unstable_cancelCallback,yi=t.unstable_shouldYield,dt=t.unstable_requestPaint,_n=t.unstable_now,Ia=t.unstable_getCurrentPriorityLevel,ps=t.unstable_ImmediatePriority,Li=t.unstable_UserBlockingPriority,mn=t.unstable_NormalPriority,Nr=t.unstable_LowPriority,Kr=t.unstable_IdlePriority,It=t.log,it=t.unstable_setDisableYieldValue,ct=null,ht=null;function On(o){if(typeof It=="function"&&it(o),ht&&typeof ht.setStrictMode=="function")try{ht.setStrictMode(ct,o)}catch{}}var Xt=Math.clz32?Math.clz32:Pr,Nt=Math.log,Ke=Math.LN2;function Pr(o){return o>>>=0,o===0?32:31-(Nt(o)/Ke|0)|0}var Yr=256,ji=262144,vt=4194304;function ys(o){var l=o&42;if(l!==0)return l;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Jo(o,l,f){var y=o.pendingLanes;if(y===0)return 0;var w=0,_=o.suspendedLanes,R=o.pingedLanes;o=o.warmLanes;var q=y&134217727;return q!==0?(y=q&~_,y!==0?w=ys(y):(R&=q,R!==0?w=ys(R):f||(f=q&~o,f!==0&&(w=ys(f))))):(q=y&~_,q!==0?w=ys(q):R!==0?w=ys(R):f||(f=y&~o,f!==0&&(w=ys(f)))),w===0?0:l!==0&&l!==w&&(l&_)===0&&(_=w&-w,f=l&-l,_>=f||_===32&&(f&4194048)!==0)?l:w}function co(o,l){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&l)===0}function Wu(o,l){switch(o){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hu(){var o=vt;return vt<<=1,(vt&62914560)===0&&(vt=4194304),o}function U(o){for(var l=[],f=0;31>f;f++)l.push(o);return l}function W(o,l){o.pendingLanes|=l,l!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function te(o,l,f,y,w,_){var R=o.pendingLanes;o.pendingLanes=f,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=f,o.entangledLanes&=f,o.errorRecoveryDisabledLanes&=f,o.shellSuspendCounter=0;var q=o.entanglements,ne=o.expirationTimes,de=o.hiddenUpdates;for(f=R&~f;0<f;){var ve=31-Xt(f),xe=1<<ve;q[ve]=0,ne[ve]=-1;var pe=de[ve];if(pe!==null)for(de[ve]=null,ve=0;ve<pe.length;ve++){var me=pe[ve];me!==null&&(me.lane&=-536870913)}f&=~xe}y!==0&&ee(o,y,0),_!==0&&w===0&&o.tag!==0&&(o.suspendedLanes|=_&~(R&~l))}function ee(o,l,f){o.pendingLanes|=l,o.suspendedLanes&=~l;var y=31-Xt(l);o.entangledLanes|=l,o.entanglements[y]=o.entanglements[y]|1073741824|f&261930}function ae(o,l){var f=o.entangledLanes|=l;for(o=o.entanglements;f;){var y=31-Xt(f),w=1<<y;w&l|o[y]&l&&(o[y]|=l),f&=~w}}function le(o,l){var f=l&-l;return f=(f&42)!==0?1:Ce(f),(f&(o.suspendedLanes|l))!==0?0:f}function Ce(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function $e(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Xe(){var o=$.p;return o!==0?o:(o=window.event,o===void 0?32:s4(o.type))}function yt(o,l){var f=$.p;try{return $.p=o,l()}finally{$.p=f}}var Mt=Math.random().toString(36).slice(2),mt="__reactFiber$"+Mt,Ct="__reactProps$"+Mt,Je="__reactContainer$"+Mt,sn="__reactEvents$"+Mt,an="__reactListeners$"+Mt,cr="__reactHandles$"+Mt,Sr="__reactResources$"+Mt,Yn="__reactMarker$"+Mt;function un(o){delete o[mt],delete o[Ct],delete o[sn],delete o[an],delete o[cr]}function Zn(o){var l=o[mt];if(l)return l;for(var f=o.parentNode;f;){if(l=f[Je]||f[mt]){if(f=l.alternate,l.child!==null||f!==null&&f.child!==null)for(o=qR(o);o!==null;){if(f=o[mt])return f;o=qR(o)}return l}o=f,f=o.parentNode}return null}function Xn(o){if(o=o[mt]||o[Je]){var l=o.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return o}return null}function qs(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o.stateNode;throw Error(r(33))}function Ca(o){var l=o[Sr];return l||(l=o[Sr]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function lt(o){o[Yn]=!0}var En=new Set,_t={};function dn(o,l){Dr(o,l),Dr(o+"Capture",l)}function Dr(o,l){for(_t[o]=l,o=0;o<l.length;o++)En.add(l[o])}var Qo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Oa={},kf={};function ey(o){return Le.call(kf,o)?!0:Le.call(Oa,o)?!1:Qo.test(o)?kf[o]=!0:(Oa[o]=!0,!1)}function Rf(o,l,f){if(ey(l))if(f===null)o.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":o.removeAttribute(l);return;case"boolean":var y=l.toLowerCase().slice(0,5);if(y!=="data-"&&y!=="aria-"){o.removeAttribute(l);return}}o.setAttribute(l,""+f)}}function $f(o,l,f){if(f===null)o.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(l);return}o.setAttribute(l,""+f)}}function ka(o,l,f,y){if(y===null)o.removeAttribute(f);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(f);return}o.setAttributeNS(l,f,""+y)}}function zi(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function kb(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function XE(o,l,f){var y=Object.getOwnPropertyDescriptor(o.constructor.prototype,l);if(!o.hasOwnProperty(l)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var w=y.get,_=y.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return w.call(this)},set:function(R){f=""+R,_.call(this,R)}}),Object.defineProperty(o,l,{enumerable:y.enumerable}),{getValue:function(){return f},setValue:function(R){f=""+R},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function ty(o){if(!o._valueTracker){var l=kb(o)?"checked":"value";o._valueTracker=XE(o,l,""+o[l])}}function Rb(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var f=l.getValue(),y="";return o&&(y=kb(o)?o.checked?"true":"false":o.value),o=y,o!==f?(l.setValue(o),!0):!1}function Nf(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var JE=/[\n"\\]/g;function Fi(o){return o.replace(JE,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function ny(o,l,f,y,w,_,R,q){o.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?o.type=R:o.removeAttribute("type"),l!=null?R==="number"?(l===0&&o.value===""||o.value!=l)&&(o.value=""+zi(l)):o.value!==""+zi(l)&&(o.value=""+zi(l)):R!=="submit"&&R!=="reset"||o.removeAttribute("value"),l!=null?ry(o,R,zi(l)):f!=null?ry(o,R,zi(f)):y!=null&&o.removeAttribute("value"),w==null&&_!=null&&(o.defaultChecked=!!_),w!=null&&(o.checked=w&&typeof w!="function"&&typeof w!="symbol"),q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"?o.name=""+zi(q):o.removeAttribute("name")}function $b(o,l,f,y,w,_,R,q){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(o.type=_),l!=null||f!=null){if(!(_!=="submit"&&_!=="reset"||l!=null)){ty(o);return}f=f!=null?""+zi(f):"",l=l!=null?""+zi(l):f,q||l===o.value||(o.value=l),o.defaultValue=l}y=y??w,y=typeof y!="function"&&typeof y!="symbol"&&!!y,o.checked=q?o.checked:!!y,o.defaultChecked=!!y,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(o.name=R),ty(o)}function ry(o,l,f){l==="number"&&Nf(o.ownerDocument)===o||o.defaultValue===""+f||(o.defaultValue=""+f)}function ml(o,l,f,y){if(o=o.options,l){l={};for(var w=0;w<f.length;w++)l["$"+f[w]]=!0;for(f=0;f<o.length;f++)w=l.hasOwnProperty("$"+o[f].value),o[f].selected!==w&&(o[f].selected=w),w&&y&&(o[f].defaultSelected=!0)}else{for(f=""+zi(f),l=null,w=0;w<o.length;w++){if(o[w].value===f){o[w].selected=!0,y&&(o[w].defaultSelected=!0);return}l!==null||o[w].disabled||(l=o[w])}l!==null&&(l.selected=!0)}}function Nb(o,l,f){if(l!=null&&(l=""+zi(l),l!==o.value&&(o.value=l),f==null)){o.defaultValue!==l&&(o.defaultValue=l);return}o.defaultValue=f!=null?""+zi(f):""}function Pb(o,l,f,y){if(l==null){if(y!=null){if(f!=null)throw Error(r(92));if(T(y)){if(1<y.length)throw Error(r(93));y=y[0]}f=y}f==null&&(f=""),l=f}f=zi(l),o.defaultValue=f,y=o.textContent,y===f&&y!==""&&y!==null&&(o.value=y),ty(o)}function gl(o,l){if(l){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=l;return}}o.textContent=l}var QE=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Db(o,l,f){var y=l.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?y?o.setProperty(l,""):l==="float"?o.cssFloat="":o[l]="":y?o.setProperty(l,f):typeof f!="number"||f===0||QE.has(l)?l==="float"?o.cssFloat=f:o[l]=(""+f).trim():o[l]=f+"px"}function Mb(o,l,f){if(l!=null&&typeof l!="object")throw Error(r(62));if(o=o.style,f!=null){for(var y in f)!f.hasOwnProperty(y)||l!=null&&l.hasOwnProperty(y)||(y.indexOf("--")===0?o.setProperty(y,""):y==="float"?o.cssFloat="":o[y]="");for(var w in l)y=l[w],l.hasOwnProperty(w)&&f[w]!==y&&Db(o,w,y)}else for(var _ in l)l.hasOwnProperty(_)&&Db(o,_,l[_])}function iy(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var e2=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),t2=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pf(o){return t2.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function Ra(){}var sy=null;function ay(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var bl=null,wl=null;function Ub(o){var l=Xn(o);if(l&&(o=l.stateNode)){var f=o[Ct]||null;e:switch(o=l.stateNode,l.type){case"input":if(ny(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),l=f.name,f.type==="radio"&&l!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+Fi(""+l)+'"][type="radio"]'),l=0;l<f.length;l++){var y=f[l];if(y!==o&&y.form===o.form){var w=y[Ct]||null;if(!w)throw Error(r(90));ny(y,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(l=0;l<f.length;l++)y=f[l],y.form===o.form&&Rb(y)}break e;case"textarea":Nb(o,f.value,f.defaultValue);break e;case"select":l=f.value,l!=null&&ml(o,!!f.multiple,l,!1)}}}var oy=!1;function Bb(o,l,f){if(oy)return o(l,f);oy=!0;try{var y=o(l);return y}finally{if(oy=!1,(bl!==null||wl!==null)&&(Ew(),bl&&(l=bl,o=wl,wl=bl=null,Ub(l),o)))for(l=0;l<o.length;l++)Ub(o[l])}}function Vu(o,l){var f=o.stateNode;if(f===null)return null;var y=f[Ct]||null;if(y===null)return null;f=y[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(o=o.type,y=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!y;break e;default:o=!1}if(o)return null;if(f&&typeof f!="function")throw Error(r(231,l,typeof f));return f}var Ws=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cy=!1;if(Ws)try{var ce={};Object.defineProperty(ce,"passive",{get:function(){cy=!0}}),window.addEventListener("test",ce,ce),window.removeEventListener("test",ce,ce)}catch{cy=!1}var Z=null,re=null,be=null;function Re(){if(be)return be;var o,l=re,f=l.length,y,w="value"in Z?Z.value:Z.textContent,_=w.length;for(o=0;o<f&&l[o]===w[o];o++);var R=f-o;for(y=1;y<=R&&l[f-y]===w[_-y];y++);return be=w.slice(o,1<y?1-y:void 0)}function Ot(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function Pn(){return!0}function Zr(){return!1}function xr(o){function l(f,y,w,_,R){this._reactName=f,this._targetInst=w,this.type=y,this.nativeEvent=_,this.target=R,this.currentTarget=null;for(var q in o)o.hasOwnProperty(q)&&(f=o[q],this[q]=f?f(_):_[q]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Pn:Zr,this.isPropagationStopped=Zr,this}return p(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Pn)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Pn)},persist:function(){},isPersistent:Pn}),l}var ec={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Df=xr(ec),vl=p({},ec,{view:0,detail:0}),Lb=xr(vl),Mf,Uf,ly,jb=p({},vl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:r2,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==ly&&(ly&&o.type==="mousemove"?(Mf=o.screenX-ly.screenX,Uf=o.screenY-ly.screenY):Uf=Mf=0,ly=o),Mf)},movementY:function(o){return"movementY"in o?o.movementY:Uf}}),BO=xr(jb),VK=p({},jb,{dataTransfer:0}),GK=xr(VK),KK=p({},vl,{relatedTarget:0}),n2=xr(KK),YK=p({},ec,{animationName:0,elapsedTime:0,pseudoElement:0}),ZK=xr(YK),XK=p({},ec,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),JK=xr(XK),QK=p({},ec,{data:0}),LO=xr(QK),eY={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tY={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nY={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rY(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=nY[o])?!!l[o]:!1}function r2(){return rY}var iY=p({},vl,{key:function(o){if(o.key){var l=eY[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=Ot(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?tY[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:r2,charCode:function(o){return o.type==="keypress"?Ot(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Ot(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),sY=xr(iY),aY=p({},jb,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jO=xr(aY),oY=p({},vl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:r2}),cY=xr(oY),lY=p({},ec,{propertyName:0,elapsedTime:0,pseudoElement:0}),uY=xr(lY),dY=p({},jb,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),fY=xr(dY),hY=p({},ec,{newState:0,oldState:0}),pY=xr(hY),yY=[9,13,27,32],i2=Ws&&"CompositionEvent"in window,uy=null;Ws&&"documentMode"in document&&(uy=document.documentMode);var mY=Ws&&"TextEvent"in window&&!uy,zO=Ws&&(!i2||uy&&8<uy&&11>=uy),FO=" ",qO=!1;function WO(o,l){switch(o){case"keyup":return yY.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function HO(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Bf=!1;function gY(o,l){switch(o){case"compositionend":return HO(l);case"keypress":return l.which!==32?null:(qO=!0,FO);case"textInput":return o=l.data,o===FO&&qO?null:o;default:return null}}function bY(o,l){if(Bf)return o==="compositionend"||!i2&&WO(o,l)?(o=Re(),be=re=Z=null,Bf=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return zO&&l.locale!=="ko"?null:l.data;default:return null}}var wY={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function VO(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!wY[o.type]:l==="textarea"}function GO(o,l,f,y){bl?wl?wl.push(y):wl=[y]:bl=y,l=Ow(l,"onChange"),0<l.length&&(f=new Df("onChange","change",null,f,y),o.push({event:f,listeners:l}))}var dy=null,fy=null;function vY(o){OR(o,0)}function zb(o){var l=qs(o);if(Rb(l))return o}function KO(o,l){if(o==="change")return l}var YO=!1;if(Ws){var s2;if(Ws){var a2="oninput"in document;if(!a2){var ZO=document.createElement("div");ZO.setAttribute("oninput","return;"),a2=typeof ZO.oninput=="function"}s2=a2}else s2=!1;YO=s2&&(!document.documentMode||9<document.documentMode)}function XO(){dy&&(dy.detachEvent("onpropertychange",JO),fy=dy=null)}function JO(o){if(o.propertyName==="value"&&zb(fy)){var l=[];GO(l,fy,o,ay(o)),Bb(vY,l)}}function _Y(o,l,f){o==="focusin"?(XO(),dy=l,fy=f,dy.attachEvent("onpropertychange",JO)):o==="focusout"&&XO()}function EY(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return zb(fy)}function AY(o,l){if(o==="click")return zb(l)}function SY(o,l){if(o==="input"||o==="change")return zb(l)}function xY(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var ms=typeof Object.is=="function"?Object.is:xY;function hy(o,l){if(ms(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var f=Object.keys(o),y=Object.keys(l);if(f.length!==y.length)return!1;for(y=0;y<f.length;y++){var w=f[y];if(!Le.call(l,w)||!ms(o[w],l[w]))return!1}return!0}function QO(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function e8(o,l){var f=QO(o);o=0;for(var y;f;){if(f.nodeType===3){if(y=o+f.textContent.length,o<=l&&y>=l)return{node:f,offset:l-o};o=y}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=QO(f)}}function t8(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?t8(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function n8(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var l=Nf(o.document);l instanceof o.HTMLIFrameElement;){try{var f=typeof l.contentWindow.location.href=="string"}catch{f=!1}if(f)o=l.contentWindow;else break;l=Nf(o.document)}return l}function o2(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}var TY=Ws&&"documentMode"in document&&11>=document.documentMode,Lf=null,c2=null,py=null,l2=!1;function r8(o,l,f){var y=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;l2||Lf==null||Lf!==Nf(y)||(y=Lf,"selectionStart"in y&&o2(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),py&&hy(py,y)||(py=y,y=Ow(c2,"onSelect"),0<y.length&&(l=new Df("onSelect","select",null,l,f),o.push({event:l,listeners:y}),l.target=Lf)))}function Gu(o,l){var f={};return f[o.toLowerCase()]=l.toLowerCase(),f["Webkit"+o]="webkit"+l,f["Moz"+o]="moz"+l,f}var jf={animationend:Gu("Animation","AnimationEnd"),animationiteration:Gu("Animation","AnimationIteration"),animationstart:Gu("Animation","AnimationStart"),transitionrun:Gu("Transition","TransitionRun"),transitionstart:Gu("Transition","TransitionStart"),transitioncancel:Gu("Transition","TransitionCancel"),transitionend:Gu("Transition","TransitionEnd")},u2={},i8={};Ws&&(i8=document.createElement("div").style,"AnimationEvent"in window||(delete jf.animationend.animation,delete jf.animationiteration.animation,delete jf.animationstart.animation),"TransitionEvent"in window||delete jf.transitionend.transition);function Ku(o){if(u2[o])return u2[o];if(!jf[o])return o;var l=jf[o],f;for(f in l)if(l.hasOwnProperty(f)&&f in i8)return u2[o]=l[f];return o}var s8=Ku("animationend"),a8=Ku("animationiteration"),o8=Ku("animationstart"),IY=Ku("transitionrun"),CY=Ku("transitionstart"),OY=Ku("transitioncancel"),c8=Ku("transitionend"),l8=new Map,d2="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");d2.push("scrollEnd");function $a(o,l){l8.set(o,l),dn(l,[o])}var Fb=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},Hs=[],zf=0,f2=0;function qb(){for(var o=zf,l=f2=zf=0;l<o;){var f=Hs[l];Hs[l++]=null;var y=Hs[l];Hs[l++]=null;var w=Hs[l];Hs[l++]=null;var _=Hs[l];if(Hs[l++]=null,y!==null&&w!==null){var R=y.pending;R===null?w.next=w:(w.next=R.next,R.next=w),y.pending=w}_!==0&&u8(f,w,_)}}function Wb(o,l,f,y){Hs[zf++]=o,Hs[zf++]=l,Hs[zf++]=f,Hs[zf++]=y,f2|=y,o.lanes|=y,o=o.alternate,o!==null&&(o.lanes|=y)}function h2(o,l,f,y){return Wb(o,l,f,y),Hb(o)}function Yu(o,l){return Wb(o,null,null,l),Hb(o)}function u8(o,l,f){o.lanes|=f;var y=o.alternate;y!==null&&(y.lanes|=f);for(var w=!1,_=o.return;_!==null;)_.childLanes|=f,y=_.alternate,y!==null&&(y.childLanes|=f),_.tag===22&&(o=_.stateNode,o===null||o._visibility&1||(w=!0)),o=_,_=_.return;return o.tag===3?(_=o.stateNode,w&&l!==null&&(w=31-Xt(f),o=_.hiddenUpdates,y=o[w],y===null?o[w]=[l]:y.push(l),l.lane=f|536870912),_):null}function Hb(o){if(50<My)throw My=0,EA=null,Error(r(185));for(var l=o.return;l!==null;)o=l,l=o.return;return o.tag===3?o.stateNode:null}var Ff={};function kY(o,l,f,y){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gs(o,l,f,y){return new kY(o,l,f,y)}function p2(o){return o=o.prototype,!(!o||!o.isReactComponent)}function tc(o,l){var f=o.alternate;return f===null?(f=gs(o.tag,l,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=l,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&65011712,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,l=o.dependencies,f.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f.refCleanup=o.refCleanup,f}function d8(o,l){o.flags&=65011714;var f=o.alternate;return f===null?(o.childLanes=0,o.lanes=l,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=f.childLanes,o.lanes=f.lanes,o.child=f.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=f.memoizedProps,o.memoizedState=f.memoizedState,o.updateQueue=f.updateQueue,o.type=f.type,l=f.dependencies,o.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),o}function Vb(o,l,f,y,w,_){var R=0;if(y=o,typeof o=="function")p2(o)&&(R=1);else if(typeof o=="string")R=DZ(o,f,X.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case L:return o=gs(31,f,l,w),o.elementType=L,o.lanes=_,o;case v:return Zu(f.children,w,_,l);case E:R=8,w|=24;break;case O:return o=gs(12,f,l,w|2),o.elementType=O,o.lanes=_,o;case C:return o=gs(13,f,l,w),o.elementType=C,o.lanes=_,o;case I:return o=gs(19,f,l,w),o.elementType=I,o.lanes=_,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case S:R=10;break e;case k:R=9;break e;case A:R=11;break e;case N:R=14;break e;case z:R=16,y=null;break e}R=29,f=Error(r(130,o===null?"null":typeof o,"")),y=null}return l=gs(R,f,l,w),l.elementType=o,l.type=y,l.lanes=_,l}function Zu(o,l,f,y){return o=gs(7,o,y,l),o.lanes=f,o}function y2(o,l,f){return o=gs(6,o,null,l),o.lanes=f,o}function f8(o){var l=gs(18,null,null,0);return l.stateNode=o,l}function m2(o,l,f){return l=gs(4,o.children!==null?o.children:[],o.key,l),l.lanes=f,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}var h8=new WeakMap;function Vs(o,l){if(typeof o=="object"&&o!==null){var f=h8.get(o);return f!==void 0?f:(l={value:o,source:l,stack:Vt(l)},h8.set(o,l),l)}return{value:o,source:l,stack:Vt(l)}}var qf=[],Wf=0,Gb=null,yy=0,Gs=[],Ks=0,_l=null,lo=1,uo="";function nc(o,l){qf[Wf++]=yy,qf[Wf++]=Gb,Gb=o,yy=l}function p8(o,l,f){Gs[Ks++]=lo,Gs[Ks++]=uo,Gs[Ks++]=_l,_l=o;var y=lo;o=uo;var w=32-Xt(y)-1;y&=~(1<<w),f+=1;var _=32-Xt(l)+w;if(30<_){var R=w-w%5;_=(y&(1<<R)-1).toString(32),y>>=R,w-=R,lo=1<<32-Xt(l)+w|f<<w|y,uo=_+o}else lo=1<<_|f<<w|y,uo=o}function g2(o){o.return!==null&&(nc(o,1),p8(o,1,0))}function b2(o){for(;o===Gb;)Gb=qf[--Wf],qf[Wf]=null,yy=qf[--Wf],qf[Wf]=null;for(;o===_l;)_l=Gs[--Ks],Gs[Ks]=null,uo=Gs[--Ks],Gs[Ks]=null,lo=Gs[--Ks],Gs[Ks]=null}function y8(o,l){Gs[Ks++]=lo,Gs[Ks++]=uo,Gs[Ks++]=_l,lo=l.id,uo=l.overflow,_l=o}var Xr=null,Dn=null,qt=!1,El=null,Ys=!1,w2=Error(r(519));function Al(o){var l=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw my(Vs(l,o)),w2}function m8(o){var l=o.stateNode,f=o.type,y=o.memoizedProps;switch(l[mt]=o,l[Ct]=y,f){case"dialog":Lt("cancel",l),Lt("close",l);break;case"iframe":case"object":case"embed":Lt("load",l);break;case"video":case"audio":for(f=0;f<By.length;f++)Lt(By[f],l);break;case"source":Lt("error",l);break;case"img":case"image":case"link":Lt("error",l),Lt("load",l);break;case"details":Lt("toggle",l);break;case"input":Lt("invalid",l),$b(l,y.value,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name,!0);break;case"select":Lt("invalid",l);break;case"textarea":Lt("invalid",l),Pb(l,y.value,y.defaultValue,y.children)}f=y.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||l.textContent===""+f||y.suppressHydrationWarning===!0||NR(l.textContent,f)?(y.popover!=null&&(Lt("beforetoggle",l),Lt("toggle",l)),y.onScroll!=null&&Lt("scroll",l),y.onScrollEnd!=null&&Lt("scrollend",l),y.onClick!=null&&(l.onclick=Ra),l=!0):l=!1,l||Al(o,!0)}function g8(o){for(Xr=o.return;Xr;)switch(Xr.tag){case 5:case 31:case 13:Ys=!1;return;case 27:case 3:Ys=!0;return;default:Xr=Xr.return}}function Hf(o){if(o!==Xr)return!1;if(!qt)return g8(o),qt=!0,!1;var l=o.tag,f;if((f=l!==3&&l!==27)&&((f=l===5)&&(f=o.type,f=!(f!=="form"&&f!=="button")||UA(o.type,o.memoizedProps)),f=!f),f&&Dn&&Al(o),g8(o),l===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));Dn=FR(o)}else if(l===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));Dn=FR(o)}else l===27?(l=Dn,Ul(o.type)?(o=FA,FA=null,Dn=o):Dn=l):Dn=Xr?Xs(o.stateNode.nextSibling):null;return!0}function Xu(){Dn=Xr=null,qt=!1}function v2(){var o=El;return o!==null&&(Vi===null?Vi=o:Vi.push.apply(Vi,o),El=null),o}function my(o){El===null?El=[o]:El.push(o)}var _2=M(null),Ju=null,rc=null;function Sl(o,l,f){J(_2,l._currentValue),l._currentValue=f}function ic(o){o._currentValue=_2.current,G(_2)}function E2(o,l,f){for(;o!==null;){var y=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,y!==null&&(y.childLanes|=l)):y!==null&&(y.childLanes&l)!==l&&(y.childLanes|=l),o===f)break;o=o.return}}function A2(o,l,f,y){var w=o.child;for(w!==null&&(w.return=o);w!==null;){var _=w.dependencies;if(_!==null){var R=w.child;_=_.firstContext;e:for(;_!==null;){var q=_;_=w;for(var ne=0;ne<l.length;ne++)if(q.context===l[ne]){_.lanes|=f,q=_.alternate,q!==null&&(q.lanes|=f),E2(_.return,f,o),y||(R=null);break e}_=q.next}}else if(w.tag===18){if(R=w.return,R===null)throw Error(r(341));R.lanes|=f,_=R.alternate,_!==null&&(_.lanes|=f),E2(R,f,o),R=null}else R=w.child;if(R!==null)R.return=w;else for(R=w;R!==null;){if(R===o){R=null;break}if(w=R.sibling,w!==null){w.return=R.return,R=w;break}R=R.return}w=R}}function Vf(o,l,f,y){o=null;for(var w=l,_=!1;w!==null;){if(!_){if((w.flags&524288)!==0)_=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var R=w.alternate;if(R===null)throw Error(r(387));if(R=R.memoizedProps,R!==null){var q=w.type;ms(w.pendingProps.value,R.value)||(o!==null?o.push(q):o=[q])}}else if(w===we.current){if(R=w.alternate,R===null)throw Error(r(387));R.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(o!==null?o.push(qy):o=[qy])}w=w.return}o!==null&&A2(l,o,f,y),l.flags|=262144}function Kb(o){for(o=o.firstContext;o!==null;){if(!ms(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Qu(o){Ju=o,rc=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Jr(o){return b8(Ju,o)}function Yb(o,l){return Ju===null&&Qu(o),b8(o,l)}function b8(o,l){var f=l._currentValue;if(l={context:l,memoizedValue:f,next:null},rc===null){if(o===null)throw Error(r(308));rc=l,o.dependencies={lanes:0,firstContext:l},o.flags|=524288}else rc=rc.next=l;return f}var RY=typeof AbortController<"u"?AbortController:function(){var o=[],l=this.signal={aborted:!1,addEventListener:function(f,y){o.push(y)}};this.abort=function(){l.aborted=!0,o.forEach(function(f){return f()})}},$Y=t.unstable_scheduleCallback,NY=t.unstable_NormalPriority,lr={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function S2(){return{controller:new RY,data:new Map,refCount:0}}function gy(o){o.refCount--,o.refCount===0&&$Y(NY,function(){o.controller.abort()})}var by=null,x2=0,Gf=0,Kf=null;function PY(o,l){if(by===null){var f=by=[];x2=0,Gf=CA(),Kf={status:"pending",value:void 0,then:function(y){f.push(y)}}}return x2++,l.then(w8,w8),l}function w8(){if(--x2===0&&by!==null){Kf!==null&&(Kf.status="fulfilled");var o=by;by=null,Gf=0,Kf=null;for(var l=0;l<o.length;l++)(0,o[l])()}}function DY(o,l){var f=[],y={status:"pending",value:null,reason:null,then:function(w){f.push(w)}};return o.then(function(){y.status="fulfilled",y.value=l;for(var w=0;w<f.length;w++)(0,f[w])(l)},function(w){for(y.status="rejected",y.reason=w,w=0;w<f.length;w++)(0,f[w])(void 0)}),y}var v8=x.S;x.S=function(o,l){rR=_n(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&PY(o,l),v8!==null&&v8(o,l)};var ed=M(null);function T2(){var o=ed.current;return o!==null?o:An.pooledCache}function Zb(o,l){l===null?J(ed,ed.current):J(ed,l.pool)}function _8(){var o=T2();return o===null?null:{parent:lr._currentValue,pool:o}}var Yf=Error(r(460)),I2=Error(r(474)),Xb=Error(r(542)),Jb={then:function(){}};function E8(o){return o=o.status,o==="fulfilled"||o==="rejected"}function A8(o,l,f){switch(f=o[f],f===void 0?o.push(l):f!==l&&(l.then(Ra,Ra),l=f),l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,x8(o),o;default:if(typeof l.status=="string")l.then(Ra,Ra);else{if(o=An,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=l,o.status="pending",o.then(function(y){if(l.status==="pending"){var w=l;w.status="fulfilled",w.value=y}},function(y){if(l.status==="pending"){var w=l;w.status="rejected",w.reason=y}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,x8(o),o}throw nd=l,Yf}}function td(o){try{var l=o._init;return l(o._payload)}catch(f){throw f!==null&&typeof f=="object"&&typeof f.then=="function"?(nd=f,Yf):f}}var nd=null;function S8(){if(nd===null)throw Error(r(459));var o=nd;return nd=null,o}function x8(o){if(o===Yf||o===Xb)throw Error(r(483))}var Zf=null,wy=0;function Qb(o){var l=wy;return wy+=1,Zf===null&&(Zf=[]),A8(Zf,o,l)}function vy(o,l){l=l.props.ref,o.ref=l!==void 0?l:null}function ew(o,l){throw l.$$typeof===m?Error(r(525)):(o=Object.prototype.toString.call(l),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o)))}function T8(o){function l(oe,ie){if(o){var ue=oe.deletions;ue===null?(oe.deletions=[ie],oe.flags|=16):ue.push(ie)}}function f(oe,ie){if(!o)return null;for(;ie!==null;)l(oe,ie),ie=ie.sibling;return null}function y(oe){for(var ie=new Map;oe!==null;)oe.key!==null?ie.set(oe.key,oe):ie.set(oe.index,oe),oe=oe.sibling;return ie}function w(oe,ie){return oe=tc(oe,ie),oe.index=0,oe.sibling=null,oe}function _(oe,ie,ue){return oe.index=ue,o?(ue=oe.alternate,ue!==null?(ue=ue.index,ue<ie?(oe.flags|=67108866,ie):ue):(oe.flags|=67108866,ie)):(oe.flags|=1048576,ie)}function R(oe){return o&&oe.alternate===null&&(oe.flags|=67108866),oe}function q(oe,ie,ue,Se){return ie===null||ie.tag!==6?(ie=y2(ue,oe.mode,Se),ie.return=oe,ie):(ie=w(ie,ue),ie.return=oe,ie)}function ne(oe,ie,ue,Se){var st=ue.type;return st===v?ve(oe,ie,ue.props.children,Se,ue.key):ie!==null&&(ie.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===z&&td(st)===ie.type)?(ie=w(ie,ue.props),vy(ie,ue),ie.return=oe,ie):(ie=Vb(ue.type,ue.key,ue.props,null,oe.mode,Se),vy(ie,ue),ie.return=oe,ie)}function de(oe,ie,ue,Se){return ie===null||ie.tag!==4||ie.stateNode.containerInfo!==ue.containerInfo||ie.stateNode.implementation!==ue.implementation?(ie=m2(ue,oe.mode,Se),ie.return=oe,ie):(ie=w(ie,ue.children||[]),ie.return=oe,ie)}function ve(oe,ie,ue,Se,st){return ie===null||ie.tag!==7?(ie=Zu(ue,oe.mode,Se,st),ie.return=oe,ie):(ie=w(ie,ue),ie.return=oe,ie)}function xe(oe,ie,ue){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return ie=y2(""+ie,oe.mode,ue),ie.return=oe,ie;if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case g:return ue=Vb(ie.type,ie.key,ie.props,null,oe.mode,ue),vy(ue,ie),ue.return=oe,ue;case b:return ie=m2(ie,oe.mode,ue),ie.return=oe,ie;case z:return ie=td(ie),xe(oe,ie,ue)}if(T(ie)||D(ie))return ie=Zu(ie,oe.mode,ue,null),ie.return=oe,ie;if(typeof ie.then=="function")return xe(oe,Qb(ie),ue);if(ie.$$typeof===S)return xe(oe,Yb(oe,ie),ue);ew(oe,ie)}return null}function pe(oe,ie,ue,Se){var st=ie!==null?ie.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return st!==null?null:q(oe,ie,""+ue,Se);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case g:return ue.key===st?ne(oe,ie,ue,Se):null;case b:return ue.key===st?de(oe,ie,ue,Se):null;case z:return ue=td(ue),pe(oe,ie,ue,Se)}if(T(ue)||D(ue))return st!==null?null:ve(oe,ie,ue,Se,null);if(typeof ue.then=="function")return pe(oe,ie,Qb(ue),Se);if(ue.$$typeof===S)return pe(oe,ie,Yb(oe,ue),Se);ew(oe,ue)}return null}function me(oe,ie,ue,Se,st){if(typeof Se=="string"&&Se!==""||typeof Se=="number"||typeof Se=="bigint")return oe=oe.get(ue)||null,q(ie,oe,""+Se,st);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case g:return oe=oe.get(Se.key===null?ue:Se.key)||null,ne(ie,oe,Se,st);case b:return oe=oe.get(Se.key===null?ue:Se.key)||null,de(ie,oe,Se,st);case z:return Se=td(Se),me(oe,ie,ue,Se,st)}if(T(Se)||D(Se))return oe=oe.get(ue)||null,ve(ie,oe,Se,st,null);if(typeof Se.then=="function")return me(oe,ie,ue,Qb(Se),st);if(Se.$$typeof===S)return me(oe,ie,ue,Yb(ie,Se),st);ew(ie,Se)}return null}function Ze(oe,ie,ue,Se){for(var st=null,Jt=null,Qe=ie,Rt=ie=0,zt=null;Qe!==null&&Rt<ue.length;Rt++){Qe.index>Rt?(zt=Qe,Qe=null):zt=Qe.sibling;var Qt=pe(oe,Qe,ue[Rt],Se);if(Qt===null){Qe===null&&(Qe=zt);break}o&&Qe&&Qt.alternate===null&&l(oe,Qe),ie=_(Qt,ie,Rt),Jt===null?st=Qt:Jt.sibling=Qt,Jt=Qt,Qe=zt}if(Rt===ue.length)return f(oe,Qe),qt&&nc(oe,Rt),st;if(Qe===null){for(;Rt<ue.length;Rt++)Qe=xe(oe,ue[Rt],Se),Qe!==null&&(ie=_(Qe,ie,Rt),Jt===null?st=Qe:Jt.sibling=Qe,Jt=Qe);return qt&&nc(oe,Rt),st}for(Qe=y(Qe);Rt<ue.length;Rt++)zt=me(Qe,oe,Rt,ue[Rt],Se),zt!==null&&(o&&zt.alternate!==null&&Qe.delete(zt.key===null?Rt:zt.key),ie=_(zt,ie,Rt),Jt===null?st=zt:Jt.sibling=zt,Jt=zt);return o&&Qe.forEach(function(Fl){return l(oe,Fl)}),qt&&nc(oe,Rt),st}function ut(oe,ie,ue,Se){if(ue==null)throw Error(r(151));for(var st=null,Jt=null,Qe=ie,Rt=ie=0,zt=null,Qt=ue.next();Qe!==null&&!Qt.done;Rt++,Qt=ue.next()){Qe.index>Rt?(zt=Qe,Qe=null):zt=Qe.sibling;var Fl=pe(oe,Qe,Qt.value,Se);if(Fl===null){Qe===null&&(Qe=zt);break}o&&Qe&&Fl.alternate===null&&l(oe,Qe),ie=_(Fl,ie,Rt),Jt===null?st=Fl:Jt.sibling=Fl,Jt=Fl,Qe=zt}if(Qt.done)return f(oe,Qe),qt&&nc(oe,Rt),st;if(Qe===null){for(;!Qt.done;Rt++,Qt=ue.next())Qt=xe(oe,Qt.value,Se),Qt!==null&&(ie=_(Qt,ie,Rt),Jt===null?st=Qt:Jt.sibling=Qt,Jt=Qt);return qt&&nc(oe,Rt),st}for(Qe=y(Qe);!Qt.done;Rt++,Qt=ue.next())Qt=me(Qe,oe,Rt,Qt.value,Se),Qt!==null&&(o&&Qt.alternate!==null&&Qe.delete(Qt.key===null?Rt:Qt.key),ie=_(Qt,ie,Rt),Jt===null?st=Qt:Jt.sibling=Qt,Jt=Qt);return o&&Qe.forEach(function(VZ){return l(oe,VZ)}),qt&&nc(oe,Rt),st}function wn(oe,ie,ue,Se){if(typeof ue=="object"&&ue!==null&&ue.type===v&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case g:e:{for(var st=ue.key;ie!==null;){if(ie.key===st){if(st=ue.type,st===v){if(ie.tag===7){f(oe,ie.sibling),Se=w(ie,ue.props.children),Se.return=oe,oe=Se;break e}}else if(ie.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===z&&td(st)===ie.type){f(oe,ie.sibling),Se=w(ie,ue.props),vy(Se,ue),Se.return=oe,oe=Se;break e}f(oe,ie);break}else l(oe,ie);ie=ie.sibling}ue.type===v?(Se=Zu(ue.props.children,oe.mode,Se,ue.key),Se.return=oe,oe=Se):(Se=Vb(ue.type,ue.key,ue.props,null,oe.mode,Se),vy(Se,ue),Se.return=oe,oe=Se)}return R(oe);case b:e:{for(st=ue.key;ie!==null;){if(ie.key===st)if(ie.tag===4&&ie.stateNode.containerInfo===ue.containerInfo&&ie.stateNode.implementation===ue.implementation){f(oe,ie.sibling),Se=w(ie,ue.children||[]),Se.return=oe,oe=Se;break e}else{f(oe,ie);break}else l(oe,ie);ie=ie.sibling}Se=m2(ue,oe.mode,Se),Se.return=oe,oe=Se}return R(oe);case z:return ue=td(ue),wn(oe,ie,ue,Se)}if(T(ue))return Ze(oe,ie,ue,Se);if(D(ue)){if(st=D(ue),typeof st!="function")throw Error(r(150));return ue=st.call(ue),ut(oe,ie,ue,Se)}if(typeof ue.then=="function")return wn(oe,ie,Qb(ue),Se);if(ue.$$typeof===S)return wn(oe,ie,Yb(oe,ue),Se);ew(oe,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint"?(ue=""+ue,ie!==null&&ie.tag===6?(f(oe,ie.sibling),Se=w(ie,ue),Se.return=oe,oe=Se):(f(oe,ie),Se=y2(ue,oe.mode,Se),Se.return=oe,oe=Se),R(oe)):f(oe,ie)}return function(oe,ie,ue,Se){try{wy=0;var st=wn(oe,ie,ue,Se);return Zf=null,st}catch(Qe){if(Qe===Yf||Qe===Xb)throw Qe;var Jt=gs(29,Qe,null,oe.mode);return Jt.lanes=Se,Jt.return=oe,Jt}}}var rd=T8(!0),I8=T8(!1),xl=!1;function C2(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function O2(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Tl(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Il(o,l,f){var y=o.updateQueue;if(y===null)return null;if(y=y.shared,(rn&2)!==0){var w=y.pending;return w===null?l.next=l:(l.next=w.next,w.next=l),y.pending=l,l=Hb(o),u8(o,null,f),l}return Wb(o,y,l,f),Hb(o)}function _y(o,l,f){if(l=l.updateQueue,l!==null&&(l=l.shared,(f&4194048)!==0)){var y=l.lanes;y&=o.pendingLanes,f|=y,l.lanes=f,ae(o,f)}}function k2(o,l){var f=o.updateQueue,y=o.alternate;if(y!==null&&(y=y.updateQueue,f===y)){var w=null,_=null;if(f=f.firstBaseUpdate,f!==null){do{var R={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};_===null?w=_=R:_=_.next=R,f=f.next}while(f!==null);_===null?w=_=l:_=_.next=l}else w=_=l;f={baseState:y.baseState,firstBaseUpdate:w,lastBaseUpdate:_,shared:y.shared,callbacks:y.callbacks},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=l:o.next=l,f.lastBaseUpdate=l}var R2=!1;function Ey(){if(R2){var o=Kf;if(o!==null)throw o}}function Ay(o,l,f,y){R2=!1;var w=o.updateQueue;xl=!1;var _=w.firstBaseUpdate,R=w.lastBaseUpdate,q=w.shared.pending;if(q!==null){w.shared.pending=null;var ne=q,de=ne.next;ne.next=null,R===null?_=de:R.next=de,R=ne;var ve=o.alternate;ve!==null&&(ve=ve.updateQueue,q=ve.lastBaseUpdate,q!==R&&(q===null?ve.firstBaseUpdate=de:q.next=de,ve.lastBaseUpdate=ne))}if(_!==null){var xe=w.baseState;R=0,ve=de=ne=null,q=_;do{var pe=q.lane&-536870913,me=pe!==q.lane;if(me?(jt&pe)===pe:(y&pe)===pe){pe!==0&&pe===Gf&&(R2=!0),ve!==null&&(ve=ve.next={lane:0,tag:q.tag,payload:q.payload,callback:null,next:null});e:{var Ze=o,ut=q;pe=l;var wn=f;switch(ut.tag){case 1:if(Ze=ut.payload,typeof Ze=="function"){xe=Ze.call(wn,xe,pe);break e}xe=Ze;break e;case 3:Ze.flags=Ze.flags&-65537|128;case 0:if(Ze=ut.payload,pe=typeof Ze=="function"?Ze.call(wn,xe,pe):Ze,pe==null)break e;xe=p({},xe,pe);break e;case 2:xl=!0}}pe=q.callback,pe!==null&&(o.flags|=64,me&&(o.flags|=8192),me=w.callbacks,me===null?w.callbacks=[pe]:me.push(pe))}else me={lane:pe,tag:q.tag,payload:q.payload,callback:q.callback,next:null},ve===null?(de=ve=me,ne=xe):ve=ve.next=me,R|=pe;if(q=q.next,q===null){if(q=w.shared.pending,q===null)break;me=q,q=me.next,me.next=null,w.lastBaseUpdate=me,w.shared.pending=null}}while(!0);ve===null&&(ne=xe),w.baseState=ne,w.firstBaseUpdate=de,w.lastBaseUpdate=ve,_===null&&(w.shared.lanes=0),$l|=R,o.lanes=R,o.memoizedState=xe}}function C8(o,l){if(typeof o!="function")throw Error(r(191,o));o.call(l)}function O8(o,l){var f=o.callbacks;if(f!==null)for(o.callbacks=null,o=0;o<f.length;o++)C8(f[o],l)}var Xf=M(null),tw=M(0);function k8(o,l){o=hc,J(tw,o),J(Xf,l),hc=o|l.baseLanes}function $2(){J(tw,hc),J(Xf,Xf.current)}function N2(){hc=tw.current,G(Xf),G(tw)}var bs=M(null),Zs=null;function Cl(o){var l=o.alternate;J(tr,tr.current&1),J(bs,o),Zs===null&&(l===null||Xf.current!==null||l.memoizedState!==null)&&(Zs=o)}function P2(o){J(tr,tr.current),J(bs,o),Zs===null&&(Zs=o)}function R8(o){o.tag===22?(J(tr,tr.current),J(bs,o),Zs===null&&(Zs=o)):Ol()}function Ol(){J(tr,tr.current),J(bs,bs.current)}function ws(o){G(bs),Zs===o&&(Zs=null),G(tr)}var tr=M(0);function nw(o){for(var l=o;l!==null;){if(l.tag===13){var f=l.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||jA(f)||zA(f)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var sc=0,kt=null,gn=null,ur=null,rw=!1,Jf=!1,id=!1,iw=0,Sy=0,Qf=null,MY=0;function Jn(){throw Error(r(321))}function D2(o,l){if(l===null)return!1;for(var f=0;f<l.length&&f<o.length;f++)if(!ms(o[f],l[f]))return!1;return!0}function M2(o,l,f,y,w,_){return sc=_,kt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,x.H=o===null||o.memoizedState===null?pk:X2,id=!1,_=f(y,w),id=!1,Jf&&(_=N8(l,f,y,w)),$8(o),_}function $8(o){x.H=Iy;var l=gn!==null&&gn.next!==null;if(sc=0,ur=gn=kt=null,rw=!1,Sy=0,Qf=null,l)throw Error(r(300));o===null||dr||(o=o.dependencies,o!==null&&Kb(o)&&(dr=!0))}function N8(o,l,f,y){kt=o;var w=0;do{if(Jf&&(Qf=null),Sy=0,Jf=!1,25<=w)throw Error(r(301));if(w+=1,ur=gn=null,o.updateQueue!=null){var _=o.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}x.H=yk,_=l(f,y)}while(Jf);return _}function UY(){var o=x.H,l=o.useState()[0];return l=typeof l.then=="function"?xy(l):l,o=o.useState()[0],(gn!==null?gn.memoizedState:null)!==o&&(kt.flags|=1024),l}function U2(){var o=iw!==0;return iw=0,o}function B2(o,l,f){l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~f}function L2(o){if(rw){for(o=o.memoizedState;o!==null;){var l=o.queue;l!==null&&(l.pending=null),o=o.next}rw=!1}sc=0,ur=gn=kt=null,Jf=!1,Sy=iw=0,Qf=null}function Ti(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ur===null?kt.memoizedState=ur=o:ur=ur.next=o,ur}function nr(){if(gn===null){var o=kt.alternate;o=o!==null?o.memoizedState:null}else o=gn.next;var l=ur===null?kt.memoizedState:ur.next;if(l!==null)ur=l,gn=o;else{if(o===null)throw kt.alternate===null?Error(r(467)):Error(r(310));gn=o,o={memoizedState:gn.memoizedState,baseState:gn.baseState,baseQueue:gn.baseQueue,queue:gn.queue,next:null},ur===null?kt.memoizedState=ur=o:ur=ur.next=o}return ur}function sw(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xy(o){var l=Sy;return Sy+=1,Qf===null&&(Qf=[]),o=A8(Qf,o,l),l=kt,(ur===null?l.memoizedState:ur.next)===null&&(l=l.alternate,x.H=l===null||l.memoizedState===null?pk:X2),o}function aw(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return xy(o);if(o.$$typeof===S)return Jr(o)}throw Error(r(438,String(o)))}function j2(o){var l=null,f=kt.updateQueue;if(f!==null&&(l=f.memoCache),l==null){var y=kt.alternate;y!==null&&(y=y.updateQueue,y!==null&&(y=y.memoCache,y!=null&&(l={data:y.data.map(function(w){return w.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),f===null&&(f=sw(),kt.updateQueue=f),f.memoCache=l,f=l.data[l.index],f===void 0)for(f=l.data[l.index]=Array(o),y=0;y<o;y++)f[y]=B;return l.index++,f}function ac(o,l){return typeof l=="function"?l(o):l}function ow(o){var l=nr();return z2(l,gn,o)}function z2(o,l,f){var y=o.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=f;var w=o.baseQueue,_=y.pending;if(_!==null){if(w!==null){var R=w.next;w.next=_.next,_.next=R}l.baseQueue=w=_,y.pending=null}if(_=o.baseState,w===null)o.memoizedState=_;else{l=w.next;var q=R=null,ne=null,de=l,ve=!1;do{var xe=de.lane&-536870913;if(xe!==de.lane?(jt&xe)===xe:(sc&xe)===xe){var pe=de.revertLane;if(pe===0)ne!==null&&(ne=ne.next={lane:0,revertLane:0,gesture:null,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null}),xe===Gf&&(ve=!0);else if((sc&pe)===pe){de=de.next,pe===Gf&&(ve=!0);continue}else xe={lane:0,revertLane:de.revertLane,gesture:null,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null},ne===null?(q=ne=xe,R=_):ne=ne.next=xe,kt.lanes|=pe,$l|=pe;xe=de.action,id&&f(_,xe),_=de.hasEagerState?de.eagerState:f(_,xe)}else pe={lane:xe,revertLane:de.revertLane,gesture:de.gesture,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null},ne===null?(q=ne=pe,R=_):ne=ne.next=pe,kt.lanes|=xe,$l|=xe;de=de.next}while(de!==null&&de!==l);if(ne===null?R=_:ne.next=q,!ms(_,o.memoizedState)&&(dr=!0,ve&&(f=Kf,f!==null)))throw f;o.memoizedState=_,o.baseState=R,o.baseQueue=ne,y.lastRenderedState=_}return w===null&&(y.lanes=0),[o.memoizedState,y.dispatch]}function F2(o){var l=nr(),f=l.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=o;var y=f.dispatch,w=f.pending,_=l.memoizedState;if(w!==null){f.pending=null;var R=w=w.next;do _=o(_,R.action),R=R.next;while(R!==w);ms(_,l.memoizedState)||(dr=!0),l.memoizedState=_,l.baseQueue===null&&(l.baseState=_),f.lastRenderedState=_}return[_,y]}function P8(o,l,f){var y=kt,w=nr(),_=qt;if(_){if(f===void 0)throw Error(r(407));f=f()}else f=l();var R=!ms((gn||w).memoizedState,f);if(R&&(w.memoizedState=f,dr=!0),w=w.queue,H2(U8.bind(null,y,w,o),[o]),w.getSnapshot!==l||R||ur!==null&&ur.memoizedState.tag&1){if(y.flags|=2048,eh(9,{destroy:void 0},M8.bind(null,y,w,f,l),null),An===null)throw Error(r(349));_||(sc&127)!==0||D8(y,l,f)}return f}function D8(o,l,f){o.flags|=16384,o={getSnapshot:l,value:f},l=kt.updateQueue,l===null?(l=sw(),kt.updateQueue=l,l.stores=[o]):(f=l.stores,f===null?l.stores=[o]:f.push(o))}function M8(o,l,f,y){l.value=f,l.getSnapshot=y,B8(l)&&L8(o)}function U8(o,l,f){return f(function(){B8(l)&&L8(o)})}function B8(o){var l=o.getSnapshot;o=o.value;try{var f=l();return!ms(o,f)}catch{return!0}}function L8(o){var l=Yu(o,2);l!==null&&Gi(l,o,2)}function q2(o){var l=Ti();if(typeof o=="function"){var f=o;if(o=f(),id){On(!0);try{f()}finally{On(!1)}}}return l.memoizedState=l.baseState=o,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ac,lastRenderedState:o},l}function j8(o,l,f,y){return o.baseState=f,z2(o,gn,typeof y=="function"?y:ac)}function BY(o,l,f,y,w){if(uw(o))throw Error(r(485));if(o=l.action,o!==null){var _={payload:w,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){_.listeners.push(R)}};x.T!==null?f(!0):_.isTransition=!1,y(_),f=l.pending,f===null?(_.next=l.pending=_,z8(l,_)):(_.next=f.next,l.pending=f.next=_)}}function z8(o,l){var f=l.action,y=l.payload,w=o.state;if(l.isTransition){var _=x.T,R={};x.T=R;try{var q=f(w,y),ne=x.S;ne!==null&&ne(R,q),F8(o,l,q)}catch(de){W2(o,l,de)}finally{_!==null&&R.types!==null&&(_.types=R.types),x.T=_}}else try{_=f(w,y),F8(o,l,_)}catch(de){W2(o,l,de)}}function F8(o,l,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(y){q8(o,l,y)},function(y){return W2(o,l,y)}):q8(o,l,f)}function q8(o,l,f){l.status="fulfilled",l.value=f,W8(l),o.state=f,l=o.pending,l!==null&&(f=l.next,f===l?o.pending=null:(f=f.next,l.next=f,z8(o,f)))}function W2(o,l,f){var y=o.pending;if(o.pending=null,y!==null){y=y.next;do l.status="rejected",l.reason=f,W8(l),l=l.next;while(l!==y)}o.action=null}function W8(o){o=o.listeners;for(var l=0;l<o.length;l++)(0,o[l])()}function H8(o,l){return l}function V8(o,l){if(qt){var f=An.formState;if(f!==null){e:{var y=kt;if(qt){if(Dn){t:{for(var w=Dn,_=Ys;w.nodeType!==8;){if(!_){w=null;break t}if(w=Xs(w.nextSibling),w===null){w=null;break t}}_=w.data,w=_==="F!"||_==="F"?w:null}if(w){Dn=Xs(w.nextSibling),y=w.data==="F!";break e}}Al(y)}y=!1}y&&(l=f[0])}}return f=Ti(),f.memoizedState=f.baseState=l,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:H8,lastRenderedState:l},f.queue=y,f=dk.bind(null,kt,y),y.dispatch=f,y=q2(!1),_=Z2.bind(null,kt,!1,y.queue),y=Ti(),w={state:l,dispatch:null,action:o,pending:null},y.queue=w,f=BY.bind(null,kt,w,_,f),w.dispatch=f,y.memoizedState=o,[l,f,!1]}function G8(o){var l=nr();return K8(l,gn,o)}function K8(o,l,f){if(l=z2(o,l,H8)[0],o=ow(ac)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var y=xy(l)}catch(R){throw R===Yf?Xb:R}else y=l;l=nr();var w=l.queue,_=w.dispatch;return f!==l.memoizedState&&(kt.flags|=2048,eh(9,{destroy:void 0},LY.bind(null,w,f),null)),[y,_,o]}function LY(o,l){o.action=l}function Y8(o){var l=nr(),f=gn;if(f!==null)return K8(l,f,o);nr(),l=l.memoizedState,f=nr();var y=f.queue.dispatch;return f.memoizedState=o,[l,y,!1]}function eh(o,l,f,y){return o={tag:o,create:f,deps:y,inst:l,next:null},l=kt.updateQueue,l===null&&(l=sw(),kt.updateQueue=l),f=l.lastEffect,f===null?l.lastEffect=o.next=o:(y=f.next,f.next=o,o.next=y,l.lastEffect=o),o}function Z8(){return nr().memoizedState}function cw(o,l,f,y){var w=Ti();kt.flags|=o,w.memoizedState=eh(1|l,{destroy:void 0},f,y===void 0?null:y)}function lw(o,l,f,y){var w=nr();y=y===void 0?null:y;var _=w.memoizedState.inst;gn!==null&&y!==null&&D2(y,gn.memoizedState.deps)?w.memoizedState=eh(l,_,f,y):(kt.flags|=o,w.memoizedState=eh(1|l,_,f,y))}function X8(o,l){cw(8390656,8,o,l)}function H2(o,l){lw(2048,8,o,l)}function jY(o){kt.flags|=4;var l=kt.updateQueue;if(l===null)l=sw(),kt.updateQueue=l,l.events=[o];else{var f=l.events;f===null?l.events=[o]:f.push(o)}}function J8(o){var l=nr().memoizedState;return jY({ref:l,nextImpl:o}),function(){if((rn&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}function Q8(o,l){return lw(4,2,o,l)}function ek(o,l){return lw(4,4,o,l)}function tk(o,l){if(typeof l=="function"){o=o();var f=l(o);return function(){typeof f=="function"?f():l(null)}}if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function nk(o,l,f){f=f!=null?f.concat([o]):null,lw(4,4,tk.bind(null,l,o),f)}function V2(){}function rk(o,l){var f=nr();l=l===void 0?null:l;var y=f.memoizedState;return l!==null&&D2(l,y[1])?y[0]:(f.memoizedState=[o,l],o)}function ik(o,l){var f=nr();l=l===void 0?null:l;var y=f.memoizedState;if(l!==null&&D2(l,y[1]))return y[0];if(y=o(),id){On(!0);try{o()}finally{On(!1)}}return f.memoizedState=[y,l],y}function G2(o,l,f){return f===void 0||(sc&1073741824)!==0&&(jt&261930)===0?o.memoizedState=l:(o.memoizedState=f,o=sR(),kt.lanes|=o,$l|=o,f)}function sk(o,l,f,y){return ms(f,l)?f:Xf.current!==null?(o=G2(o,f,y),ms(o,l)||(dr=!0),o):(sc&42)===0||(sc&1073741824)!==0&&(jt&261930)===0?(dr=!0,o.memoizedState=f):(o=sR(),kt.lanes|=o,$l|=o,l)}function ak(o,l,f,y,w){var _=$.p;$.p=_!==0&&8>_?_:8;var R=x.T,q={};x.T=q,Z2(o,!1,l,f);try{var ne=w(),de=x.S;if(de!==null&&de(q,ne),ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var ve=DY(ne,y);Ty(o,l,ve,Es(o))}else Ty(o,l,y,Es(o))}catch(xe){Ty(o,l,{then:function(){},status:"rejected",reason:xe},Es())}finally{$.p=_,R!==null&&q.types!==null&&(R.types=q.types),x.T=R}}function zY(){}function K2(o,l,f,y){if(o.tag!==5)throw Error(r(476));var w=ok(o).queue;ak(o,w,l,j,f===null?zY:function(){return ck(o),f(y)})}function ok(o){var l=o.memoizedState;if(l!==null)return l;l={memoizedState:j,baseState:j,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ac,lastRenderedState:j},next:null};var f={};return l.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ac,lastRenderedState:f},next:null},o.memoizedState=l,o=o.alternate,o!==null&&(o.memoizedState=l),l}function ck(o){var l=ok(o);l.next===null&&(l=o.alternate.memoizedState),Ty(o,l.next.queue,{},Es())}function Y2(){return Jr(qy)}function lk(){return nr().memoizedState}function uk(){return nr().memoizedState}function FY(o){for(var l=o.return;l!==null;){switch(l.tag){case 24:case 3:var f=Es();o=Tl(f);var y=Il(l,o,f);y!==null&&(Gi(y,l,f),_y(y,l,f)),l={cache:S2()},o.payload=l;return}l=l.return}}function qY(o,l,f){var y=Es();f={lane:y,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},uw(o)?fk(l,f):(f=h2(o,l,f,y),f!==null&&(Gi(f,o,y),hk(f,l,y)))}function dk(o,l,f){var y=Es();Ty(o,l,f,y)}function Ty(o,l,f,y){var w={lane:y,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null};if(uw(o))fk(l,w);else{var _=o.alternate;if(o.lanes===0&&(_===null||_.lanes===0)&&(_=l.lastRenderedReducer,_!==null))try{var R=l.lastRenderedState,q=_(R,f);if(w.hasEagerState=!0,w.eagerState=q,ms(q,R))return Wb(o,l,w,0),An===null&&qb(),!1}catch{}if(f=h2(o,l,w,y),f!==null)return Gi(f,o,y),hk(f,l,y),!0}return!1}function Z2(o,l,f,y){if(y={lane:2,revertLane:CA(),gesture:null,action:y,hasEagerState:!1,eagerState:null,next:null},uw(o)){if(l)throw Error(r(479))}else l=h2(o,f,y,2),l!==null&&Gi(l,o,2)}function uw(o){var l=o.alternate;return o===kt||l!==null&&l===kt}function fk(o,l){Jf=rw=!0;var f=o.pending;f===null?l.next=l:(l.next=f.next,f.next=l),o.pending=l}function hk(o,l,f){if((f&4194048)!==0){var y=l.lanes;y&=o.pendingLanes,f|=y,l.lanes=f,ae(o,f)}}var Iy={readContext:Jr,use:aw,useCallback:Jn,useContext:Jn,useEffect:Jn,useImperativeHandle:Jn,useLayoutEffect:Jn,useInsertionEffect:Jn,useMemo:Jn,useReducer:Jn,useRef:Jn,useState:Jn,useDebugValue:Jn,useDeferredValue:Jn,useTransition:Jn,useSyncExternalStore:Jn,useId:Jn,useHostTransitionStatus:Jn,useFormState:Jn,useActionState:Jn,useOptimistic:Jn,useMemoCache:Jn,useCacheRefresh:Jn};Iy.useEffectEvent=Jn;var pk={readContext:Jr,use:aw,useCallback:function(o,l){return Ti().memoizedState=[o,l===void 0?null:l],o},useContext:Jr,useEffect:X8,useImperativeHandle:function(o,l,f){f=f!=null?f.concat([o]):null,cw(4194308,4,tk.bind(null,l,o),f)},useLayoutEffect:function(o,l){return cw(4194308,4,o,l)},useInsertionEffect:function(o,l){cw(4,2,o,l)},useMemo:function(o,l){var f=Ti();l=l===void 0?null:l;var y=o();if(id){On(!0);try{o()}finally{On(!1)}}return f.memoizedState=[y,l],y},useReducer:function(o,l,f){var y=Ti();if(f!==void 0){var w=f(l);if(id){On(!0);try{f(l)}finally{On(!1)}}}else w=l;return y.memoizedState=y.baseState=w,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:w},y.queue=o,o=o.dispatch=qY.bind(null,kt,o),[y.memoizedState,o]},useRef:function(o){var l=Ti();return o={current:o},l.memoizedState=o},useState:function(o){o=q2(o);var l=o.queue,f=dk.bind(null,kt,l);return l.dispatch=f,[o.memoizedState,f]},useDebugValue:V2,useDeferredValue:function(o,l){var f=Ti();return G2(f,o,l)},useTransition:function(){var o=q2(!1);return o=ak.bind(null,kt,o.queue,!0,!1),Ti().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,l,f){var y=kt,w=Ti();if(qt){if(f===void 0)throw Error(r(407));f=f()}else{if(f=l(),An===null)throw Error(r(349));(jt&127)!==0||D8(y,l,f)}w.memoizedState=f;var _={value:f,getSnapshot:l};return w.queue=_,X8(U8.bind(null,y,_,o),[o]),y.flags|=2048,eh(9,{destroy:void 0},M8.bind(null,y,_,f,l),null),f},useId:function(){var o=Ti(),l=An.identifierPrefix;if(qt){var f=uo,y=lo;f=(y&~(1<<32-Xt(y)-1)).toString(32)+f,l="_"+l+"R_"+f,f=iw++,0<f&&(l+="H"+f.toString(32)),l+="_"}else f=MY++,l="_"+l+"r_"+f.toString(32)+"_";return o.memoizedState=l},useHostTransitionStatus:Y2,useFormState:V8,useActionState:V8,useOptimistic:function(o){var l=Ti();l.memoizedState=l.baseState=o;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=f,l=Z2.bind(null,kt,!0,f),f.dispatch=l,[o,l]},useMemoCache:j2,useCacheRefresh:function(){return Ti().memoizedState=FY.bind(null,kt)},useEffectEvent:function(o){var l=Ti(),f={impl:o};return l.memoizedState=f,function(){if((rn&2)!==0)throw Error(r(440));return f.impl.apply(void 0,arguments)}}},X2={readContext:Jr,use:aw,useCallback:rk,useContext:Jr,useEffect:H2,useImperativeHandle:nk,useInsertionEffect:Q8,useLayoutEffect:ek,useMemo:ik,useReducer:ow,useRef:Z8,useState:function(){return ow(ac)},useDebugValue:V2,useDeferredValue:function(o,l){var f=nr();return sk(f,gn.memoizedState,o,l)},useTransition:function(){var o=ow(ac)[0],l=nr().memoizedState;return[typeof o=="boolean"?o:xy(o),l]},useSyncExternalStore:P8,useId:lk,useHostTransitionStatus:Y2,useFormState:G8,useActionState:G8,useOptimistic:function(o,l){var f=nr();return j8(f,gn,o,l)},useMemoCache:j2,useCacheRefresh:uk};X2.useEffectEvent=J8;var yk={readContext:Jr,use:aw,useCallback:rk,useContext:Jr,useEffect:H2,useImperativeHandle:nk,useInsertionEffect:Q8,useLayoutEffect:ek,useMemo:ik,useReducer:F2,useRef:Z8,useState:function(){return F2(ac)},useDebugValue:V2,useDeferredValue:function(o,l){var f=nr();return gn===null?G2(f,o,l):sk(f,gn.memoizedState,o,l)},useTransition:function(){var o=F2(ac)[0],l=nr().memoizedState;return[typeof o=="boolean"?o:xy(o),l]},useSyncExternalStore:P8,useId:lk,useHostTransitionStatus:Y2,useFormState:Y8,useActionState:Y8,useOptimistic:function(o,l){var f=nr();return gn!==null?j8(f,gn,o,l):(f.baseState=o,[o,f.queue.dispatch])},useMemoCache:j2,useCacheRefresh:uk};yk.useEffectEvent=J8;function J2(o,l,f,y){l=o.memoizedState,f=f(y,l),f=f==null?l:p({},l,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var Q2={enqueueSetState:function(o,l,f){o=o._reactInternals;var y=Es(),w=Tl(y);w.payload=l,f!=null&&(w.callback=f),l=Il(o,w,y),l!==null&&(Gi(l,o,y),_y(l,o,y))},enqueueReplaceState:function(o,l,f){o=o._reactInternals;var y=Es(),w=Tl(y);w.tag=1,w.payload=l,f!=null&&(w.callback=f),l=Il(o,w,y),l!==null&&(Gi(l,o,y),_y(l,o,y))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var f=Es(),y=Tl(f);y.tag=2,l!=null&&(y.callback=l),l=Il(o,y,f),l!==null&&(Gi(l,o,f),_y(l,o,f))}};function mk(o,l,f,y,w,_,R){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(y,_,R):l.prototype&&l.prototype.isPureReactComponent?!hy(f,y)||!hy(w,_):!0}function gk(o,l,f,y){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(f,y),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(f,y),l.state!==o&&Q2.enqueueReplaceState(l,l.state,null)}function sd(o,l){var f=l;if("ref"in l){f={};for(var y in l)y!=="ref"&&(f[y]=l[y])}if(o=o.defaultProps){f===l&&(f=p({},f));for(var w in o)f[w]===void 0&&(f[w]=o[w])}return f}function bk(o){Fb(o)}function wk(o){console.error(o)}function vk(o){Fb(o)}function dw(o,l){try{var f=o.onUncaughtError;f(l.value,{componentStack:l.stack})}catch(y){setTimeout(function(){throw y})}}function _k(o,l,f){try{var y=o.onCaughtError;y(f.value,{componentStack:f.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function eA(o,l,f){return f=Tl(f),f.tag=3,f.payload={element:null},f.callback=function(){dw(o,l)},f}function Ek(o){return o=Tl(o),o.tag=3,o}function Ak(o,l,f,y){var w=f.type.getDerivedStateFromError;if(typeof w=="function"){var _=y.value;o.payload=function(){return w(_)},o.callback=function(){_k(l,f,y)}}var R=f.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(o.callback=function(){_k(l,f,y),typeof w!="function"&&(Nl===null?Nl=new Set([this]):Nl.add(this));var q=y.stack;this.componentDidCatch(y.value,{componentStack:q!==null?q:""})})}function WY(o,l,f,y,w){if(f.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){if(l=f.alternate,l!==null&&Vf(l,f,w,!0),f=bs.current,f!==null){switch(f.tag){case 31:case 13:return Zs===null?Aw():f.alternate===null&&Qn===0&&(Qn=3),f.flags&=-257,f.flags|=65536,f.lanes=w,y===Jb?f.flags|=16384:(l=f.updateQueue,l===null?f.updateQueue=new Set([y]):l.add(y),xA(o,y,w)),!1;case 22:return f.flags|=65536,y===Jb?f.flags|=16384:(l=f.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([y])},f.updateQueue=l):(f=l.retryQueue,f===null?l.retryQueue=new Set([y]):f.add(y)),xA(o,y,w)),!1}throw Error(r(435,f.tag))}return xA(o,y,w),Aw(),!1}if(qt)return l=bs.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=w,y!==w2&&(o=Error(r(422),{cause:y}),my(Vs(o,f)))):(y!==w2&&(l=Error(r(423),{cause:y}),my(Vs(l,f))),o=o.current.alternate,o.flags|=65536,w&=-w,o.lanes|=w,y=Vs(y,f),w=eA(o.stateNode,y,w),k2(o,w),Qn!==4&&(Qn=2)),!1;var _=Error(r(520),{cause:y});if(_=Vs(_,f),Dy===null?Dy=[_]:Dy.push(_),Qn!==4&&(Qn=2),l===null)return!0;y=Vs(y,f),f=l;do{switch(f.tag){case 3:return f.flags|=65536,o=w&-w,f.lanes|=o,o=eA(f.stateNode,y,o),k2(f,o),!1;case 1:if(l=f.type,_=f.stateNode,(f.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Nl===null||!Nl.has(_))))return f.flags|=65536,w&=-w,f.lanes|=w,w=Ek(w),Ak(w,o,f,y),k2(f,w),!1}f=f.return}while(f!==null);return!1}var tA=Error(r(461)),dr=!1;function Qr(o,l,f,y){l.child=o===null?I8(l,null,f,y):rd(l,o.child,f,y)}function Sk(o,l,f,y,w){f=f.render;var _=l.ref;if("ref"in y){var R={};for(var q in y)q!=="ref"&&(R[q]=y[q])}else R=y;return Qu(l),y=M2(o,l,f,R,_,w),q=U2(),o!==null&&!dr?(B2(o,l,w),oc(o,l,w)):(qt&&q&&g2(l),l.flags|=1,Qr(o,l,y,w),l.child)}function xk(o,l,f,y,w){if(o===null){var _=f.type;return typeof _=="function"&&!p2(_)&&_.defaultProps===void 0&&f.compare===null?(l.tag=15,l.type=_,Tk(o,l,_,y,w)):(o=Vb(f.type,null,y,l,l.mode,w),o.ref=l.ref,o.return=l,l.child=o)}if(_=o.child,!lA(o,w)){var R=_.memoizedProps;if(f=f.compare,f=f!==null?f:hy,f(R,y)&&o.ref===l.ref)return oc(o,l,w)}return l.flags|=1,o=tc(_,y),o.ref=l.ref,o.return=l,l.child=o}function Tk(o,l,f,y,w){if(o!==null){var _=o.memoizedProps;if(hy(_,y)&&o.ref===l.ref)if(dr=!1,l.pendingProps=y=_,lA(o,w))(o.flags&131072)!==0&&(dr=!0);else return l.lanes=o.lanes,oc(o,l,w)}return nA(o,l,f,y,w)}function Ik(o,l,f,y){var w=y.children,_=o!==null?o.memoizedState:null;if(o===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),y.mode==="hidden"){if((l.flags&128)!==0){if(_=_!==null?_.baseLanes|f:f,o!==null){for(y=l.child=o.child,w=0;y!==null;)w=w|y.lanes|y.childLanes,y=y.sibling;y=w&~_}else y=0,l.child=null;return Ck(o,l,_,f,y)}if((f&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},o!==null&&Zb(l,_!==null?_.cachePool:null),_!==null?k8(l,_):$2(),R8(l);else return y=l.lanes=536870912,Ck(o,l,_!==null?_.baseLanes|f:f,f,y)}else _!==null?(Zb(l,_.cachePool),k8(l,_),Ol(),l.memoizedState=null):(o!==null&&Zb(l,null),$2(),Ol());return Qr(o,l,w,f),l.child}function Cy(o,l){return o!==null&&o.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function Ck(o,l,f,y,w){var _=T2();return _=_===null?null:{parent:lr._currentValue,pool:_},l.memoizedState={baseLanes:f,cachePool:_},o!==null&&Zb(l,null),$2(),R8(l),o!==null&&Vf(o,l,y,!0),l.childLanes=w,null}function fw(o,l){return l=pw({mode:l.mode,children:l.children},o.mode),l.ref=o.ref,o.child=l,l.return=o,l}function Ok(o,l,f){return rd(l,o.child,null,f),o=fw(l,l.pendingProps),o.flags|=2,ws(l),l.memoizedState=null,o}function HY(o,l,f){var y=l.pendingProps,w=(l.flags&128)!==0;if(l.flags&=-129,o===null){if(qt){if(y.mode==="hidden")return o=fw(l,y),l.lanes=536870912,Cy(null,o);if(P2(l),(o=Dn)?(o=zR(o,Ys),o=o!==null&&o.data==="&"?o:null,o!==null&&(l.memoizedState={dehydrated:o,treeContext:_l!==null?{id:lo,overflow:uo}:null,retryLane:536870912,hydrationErrors:null},f=f8(o),f.return=l,l.child=f,Xr=l,Dn=null)):o=null,o===null)throw Al(l);return l.lanes=536870912,null}return fw(l,y)}var _=o.memoizedState;if(_!==null){var R=_.dehydrated;if(P2(l),w)if(l.flags&256)l.flags&=-257,l=Ok(o,l,f);else if(l.memoizedState!==null)l.child=o.child,l.flags|=128,l=null;else throw Error(r(558));else if(dr||Vf(o,l,f,!1),w=(f&o.childLanes)!==0,dr||w){if(y=An,y!==null&&(R=le(y,f),R!==0&&R!==_.retryLane))throw _.retryLane=R,Yu(o,R),Gi(y,o,R),tA;Aw(),l=Ok(o,l,f)}else o=_.treeContext,Dn=Xs(R.nextSibling),Xr=l,qt=!0,El=null,Ys=!1,o!==null&&y8(l,o),l=fw(l,y),l.flags|=4096;return l}return o=tc(o.child,{mode:y.mode,children:y.children}),o.ref=l.ref,l.child=o,o.return=l,o}function hw(o,l){var f=l.ref;if(f===null)o!==null&&o.ref!==null&&(l.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(r(284));(o===null||o.ref!==f)&&(l.flags|=4194816)}}function nA(o,l,f,y,w){return Qu(l),f=M2(o,l,f,y,void 0,w),y=U2(),o!==null&&!dr?(B2(o,l,w),oc(o,l,w)):(qt&&y&&g2(l),l.flags|=1,Qr(o,l,f,w),l.child)}function kk(o,l,f,y,w,_){return Qu(l),l.updateQueue=null,f=N8(l,y,f,w),$8(o),y=U2(),o!==null&&!dr?(B2(o,l,_),oc(o,l,_)):(qt&&y&&g2(l),l.flags|=1,Qr(o,l,f,_),l.child)}function Rk(o,l,f,y,w){if(Qu(l),l.stateNode===null){var _=Ff,R=f.contextType;typeof R=="object"&&R!==null&&(_=Jr(R)),_=new f(y,_),l.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Q2,l.stateNode=_,_._reactInternals=l,_=l.stateNode,_.props=y,_.state=l.memoizedState,_.refs={},C2(l),R=f.contextType,_.context=typeof R=="object"&&R!==null?Jr(R):Ff,_.state=l.memoizedState,R=f.getDerivedStateFromProps,typeof R=="function"&&(J2(l,f,R,y),_.state=l.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(R=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),R!==_.state&&Q2.enqueueReplaceState(_,_.state,null),Ay(l,y,_,w),Ey(),_.state=l.memoizedState),typeof _.componentDidMount=="function"&&(l.flags|=4194308),y=!0}else if(o===null){_=l.stateNode;var q=l.memoizedProps,ne=sd(f,q);_.props=ne;var de=_.context,ve=f.contextType;R=Ff,typeof ve=="object"&&ve!==null&&(R=Jr(ve));var xe=f.getDerivedStateFromProps;ve=typeof xe=="function"||typeof _.getSnapshotBeforeUpdate=="function",q=l.pendingProps!==q,ve||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(q||de!==R)&&gk(l,_,y,R),xl=!1;var pe=l.memoizedState;_.state=pe,Ay(l,y,_,w),Ey(),de=l.memoizedState,q||pe!==de||xl?(typeof xe=="function"&&(J2(l,f,xe,y),de=l.memoizedState),(ne=xl||mk(l,f,ne,y,pe,de,R))?(ve||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(l.flags|=4194308)):(typeof _.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=y,l.memoizedState=de),_.props=y,_.state=de,_.context=R,y=ne):(typeof _.componentDidMount=="function"&&(l.flags|=4194308),y=!1)}else{_=l.stateNode,O2(o,l),R=l.memoizedProps,ve=sd(f,R),_.props=ve,xe=l.pendingProps,pe=_.context,de=f.contextType,ne=Ff,typeof de=="object"&&de!==null&&(ne=Jr(de)),q=f.getDerivedStateFromProps,(de=typeof q=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(R!==xe||pe!==ne)&&gk(l,_,y,ne),xl=!1,pe=l.memoizedState,_.state=pe,Ay(l,y,_,w),Ey();var me=l.memoizedState;R!==xe||pe!==me||xl||o!==null&&o.dependencies!==null&&Kb(o.dependencies)?(typeof q=="function"&&(J2(l,f,q,y),me=l.memoizedState),(ve=xl||mk(l,f,ve,y,pe,me,ne)||o!==null&&o.dependencies!==null&&Kb(o.dependencies))?(de||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(y,me,ne),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(y,me,ne)),typeof _.componentDidUpdate=="function"&&(l.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof _.componentDidUpdate!="function"||R===o.memoizedProps&&pe===o.memoizedState||(l.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||R===o.memoizedProps&&pe===o.memoizedState||(l.flags|=1024),l.memoizedProps=y,l.memoizedState=me),_.props=y,_.state=me,_.context=ne,y=ve):(typeof _.componentDidUpdate!="function"||R===o.memoizedProps&&pe===o.memoizedState||(l.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||R===o.memoizedProps&&pe===o.memoizedState||(l.flags|=1024),y=!1)}return _=y,hw(o,l),y=(l.flags&128)!==0,_||y?(_=l.stateNode,f=y&&typeof f.getDerivedStateFromError!="function"?null:_.render(),l.flags|=1,o!==null&&y?(l.child=rd(l,o.child,null,w),l.child=rd(l,null,f,w)):Qr(o,l,f,w),l.memoizedState=_.state,o=l.child):o=oc(o,l,w),o}function $k(o,l,f,y){return Xu(),l.flags|=256,Qr(o,l,f,y),l.child}var rA={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function iA(o){return{baseLanes:o,cachePool:_8()}}function sA(o,l,f){return o=o!==null?o.childLanes&~f:0,l&&(o|=_s),o}function Nk(o,l,f){var y=l.pendingProps,w=!1,_=(l.flags&128)!==0,R;if((R=_)||(R=o!==null&&o.memoizedState===null?!1:(tr.current&2)!==0),R&&(w=!0,l.flags&=-129),R=(l.flags&32)!==0,l.flags&=-33,o===null){if(qt){if(w?Cl(l):Ol(),(o=Dn)?(o=zR(o,Ys),o=o!==null&&o.data!=="&"?o:null,o!==null&&(l.memoizedState={dehydrated:o,treeContext:_l!==null?{id:lo,overflow:uo}:null,retryLane:536870912,hydrationErrors:null},f=f8(o),f.return=l,l.child=f,Xr=l,Dn=null)):o=null,o===null)throw Al(l);return zA(o)?l.lanes=32:l.lanes=536870912,null}var q=y.children;return y=y.fallback,w?(Ol(),w=l.mode,q=pw({mode:"hidden",children:q},w),y=Zu(y,w,f,null),q.return=l,y.return=l,q.sibling=y,l.child=q,y=l.child,y.memoizedState=iA(f),y.childLanes=sA(o,R,f),l.memoizedState=rA,Cy(null,y)):(Cl(l),aA(l,q))}var ne=o.memoizedState;if(ne!==null&&(q=ne.dehydrated,q!==null)){if(_)l.flags&256?(Cl(l),l.flags&=-257,l=oA(o,l,f)):l.memoizedState!==null?(Ol(),l.child=o.child,l.flags|=128,l=null):(Ol(),q=y.fallback,w=l.mode,y=pw({mode:"visible",children:y.children},w),q=Zu(q,w,f,null),q.flags|=2,y.return=l,q.return=l,y.sibling=q,l.child=y,rd(l,o.child,null,f),y=l.child,y.memoizedState=iA(f),y.childLanes=sA(o,R,f),l.memoizedState=rA,l=Cy(null,y));else if(Cl(l),zA(q)){if(R=q.nextSibling&&q.nextSibling.dataset,R)var de=R.dgst;R=de,y=Error(r(419)),y.stack="",y.digest=R,my({value:y,source:null,stack:null}),l=oA(o,l,f)}else if(dr||Vf(o,l,f,!1),R=(f&o.childLanes)!==0,dr||R){if(R=An,R!==null&&(y=le(R,f),y!==0&&y!==ne.retryLane))throw ne.retryLane=y,Yu(o,y),Gi(R,o,y),tA;jA(q)||Aw(),l=oA(o,l,f)}else jA(q)?(l.flags|=192,l.child=o.child,l=null):(o=ne.treeContext,Dn=Xs(q.nextSibling),Xr=l,qt=!0,El=null,Ys=!1,o!==null&&y8(l,o),l=aA(l,y.children),l.flags|=4096);return l}return w?(Ol(),q=y.fallback,w=l.mode,ne=o.child,de=ne.sibling,y=tc(ne,{mode:"hidden",children:y.children}),y.subtreeFlags=ne.subtreeFlags&65011712,de!==null?q=tc(de,q):(q=Zu(q,w,f,null),q.flags|=2),q.return=l,y.return=l,y.sibling=q,l.child=y,Cy(null,y),y=l.child,q=o.child.memoizedState,q===null?q=iA(f):(w=q.cachePool,w!==null?(ne=lr._currentValue,w=w.parent!==ne?{parent:ne,pool:ne}:w):w=_8(),q={baseLanes:q.baseLanes|f,cachePool:w}),y.memoizedState=q,y.childLanes=sA(o,R,f),l.memoizedState=rA,Cy(o.child,y)):(Cl(l),f=o.child,o=f.sibling,f=tc(f,{mode:"visible",children:y.children}),f.return=l,f.sibling=null,o!==null&&(R=l.deletions,R===null?(l.deletions=[o],l.flags|=16):R.push(o)),l.child=f,l.memoizedState=null,f)}function aA(o,l){return l=pw({mode:"visible",children:l},o.mode),l.return=o,o.child=l}function pw(o,l){return o=gs(22,o,null,l),o.lanes=0,o}function oA(o,l,f){return rd(l,o.child,null,f),o=aA(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function Pk(o,l,f){o.lanes|=l;var y=o.alternate;y!==null&&(y.lanes|=l),E2(o.return,l,f)}function cA(o,l,f,y,w,_){var R=o.memoizedState;R===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:y,tail:f,tailMode:w,treeForkCount:_}:(R.isBackwards=l,R.rendering=null,R.renderingStartTime=0,R.last=y,R.tail=f,R.tailMode=w,R.treeForkCount=_)}function Dk(o,l,f){var y=l.pendingProps,w=y.revealOrder,_=y.tail;y=y.children;var R=tr.current,q=(R&2)!==0;if(q?(R=R&1|2,l.flags|=128):R&=1,J(tr,R),Qr(o,l,y,f),y=qt?yy:0,!q&&o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&Pk(o,f,l);else if(o.tag===19)Pk(o,f,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(w){case"forwards":for(f=l.child,w=null;f!==null;)o=f.alternate,o!==null&&nw(o)===null&&(w=f),f=f.sibling;f=w,f===null?(w=l.child,l.child=null):(w=f.sibling,f.sibling=null),cA(l,!1,w,f,_,y);break;case"backwards":case"unstable_legacy-backwards":for(f=null,w=l.child,l.child=null;w!==null;){if(o=w.alternate,o!==null&&nw(o)===null){l.child=w;break}o=w.sibling,w.sibling=f,f=w,w=o}cA(l,!0,f,null,_,y);break;case"together":cA(l,!1,null,null,void 0,y);break;default:l.memoizedState=null}return l.child}function oc(o,l,f){if(o!==null&&(l.dependencies=o.dependencies),$l|=l.lanes,(f&l.childLanes)===0)if(o!==null){if(Vf(o,l,f,!1),(f&l.childLanes)===0)return null}else return null;if(o!==null&&l.child!==o.child)throw Error(r(153));if(l.child!==null){for(o=l.child,f=tc(o,o.pendingProps),l.child=f,f.return=l;o.sibling!==null;)o=o.sibling,f=f.sibling=tc(o,o.pendingProps),f.return=l;f.sibling=null}return l.child}function lA(o,l){return(o.lanes&l)!==0?!0:(o=o.dependencies,!!(o!==null&&Kb(o)))}function VY(o,l,f){switch(l.tag){case 3:Te(l,l.stateNode.containerInfo),Sl(l,lr,o.memoizedState.cache),Xu();break;case 27:case 5:Pe(l);break;case 4:Te(l,l.stateNode.containerInfo);break;case 10:Sl(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,P2(l),null;break;case 13:var y=l.memoizedState;if(y!==null)return y.dehydrated!==null?(Cl(l),l.flags|=128,null):(f&l.child.childLanes)!==0?Nk(o,l,f):(Cl(l),o=oc(o,l,f),o!==null?o.sibling:null);Cl(l);break;case 19:var w=(o.flags&128)!==0;if(y=(f&l.childLanes)!==0,y||(Vf(o,l,f,!1),y=(f&l.childLanes)!==0),w){if(y)return Dk(o,l,f);l.flags|=128}if(w=l.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),J(tr,tr.current),y)break;return null;case 22:return l.lanes=0,Ik(o,l,f,l.pendingProps);case 24:Sl(l,lr,o.memoizedState.cache)}return oc(o,l,f)}function Mk(o,l,f){if(o!==null)if(o.memoizedProps!==l.pendingProps)dr=!0;else{if(!lA(o,f)&&(l.flags&128)===0)return dr=!1,VY(o,l,f);dr=(o.flags&131072)!==0}else dr=!1,qt&&(l.flags&1048576)!==0&&p8(l,yy,l.index);switch(l.lanes=0,l.tag){case 16:e:{var y=l.pendingProps;if(o=td(l.elementType),l.type=o,typeof o=="function")p2(o)?(y=sd(o,y),l.tag=1,l=Rk(null,l,o,y,f)):(l.tag=0,l=nA(null,l,o,y,f));else{if(o!=null){var w=o.$$typeof;if(w===A){l.tag=11,l=Sk(null,l,o,y,f);break e}else if(w===N){l.tag=14,l=xk(null,l,o,y,f);break e}}throw l=K(o)||o,Error(r(306,l,""))}}return l;case 0:return nA(o,l,l.type,l.pendingProps,f);case 1:return y=l.type,w=sd(y,l.pendingProps),Rk(o,l,y,w,f);case 3:e:{if(Te(l,l.stateNode.containerInfo),o===null)throw Error(r(387));y=l.pendingProps;var _=l.memoizedState;w=_.element,O2(o,l),Ay(l,y,null,f);var R=l.memoizedState;if(y=R.cache,Sl(l,lr,y),y!==_.cache&&A2(l,[lr],f,!0),Ey(),y=R.element,_.isDehydrated)if(_={element:y,isDehydrated:!1,cache:R.cache},l.updateQueue.baseState=_,l.memoizedState=_,l.flags&256){l=$k(o,l,y,f);break e}else if(y!==w){w=Vs(Error(r(424)),l),my(w),l=$k(o,l,y,f);break e}else for(o=l.stateNode.containerInfo,o.nodeType===9?o=o.body:o=o.nodeName==="HTML"?o.ownerDocument.body:o,Dn=Xs(o.firstChild),Xr=l,qt=!0,El=null,Ys=!0,f=I8(l,null,y,f),l.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(Xu(),y===w){l=oc(o,l,f);break e}Qr(o,l,y,f)}l=l.child}return l;case 26:return hw(o,l),o===null?(f=GR(l.type,null,l.pendingProps,null))?l.memoizedState=f:qt||(f=l.type,o=l.pendingProps,y=kw(ge.current).createElement(f),y[mt]=l,y[Ct]=o,ei(y,f,o),lt(y),l.stateNode=y):l.memoizedState=GR(l.type,o.memoizedProps,l.pendingProps,o.memoizedState),null;case 27:return Pe(l),o===null&&qt&&(y=l.stateNode=WR(l.type,l.pendingProps,ge.current),Xr=l,Ys=!0,w=Dn,Ul(l.type)?(FA=w,Dn=Xs(y.firstChild)):Dn=w),Qr(o,l,l.pendingProps.children,f),hw(o,l),o===null&&(l.flags|=4194304),l.child;case 5:return o===null&&qt&&((w=y=Dn)&&(y=EZ(y,l.type,l.pendingProps,Ys),y!==null?(l.stateNode=y,Xr=l,Dn=Xs(y.firstChild),Ys=!1,w=!0):w=!1),w||Al(l)),Pe(l),w=l.type,_=l.pendingProps,R=o!==null?o.memoizedProps:null,y=_.children,UA(w,_)?y=null:R!==null&&UA(w,R)&&(l.flags|=32),l.memoizedState!==null&&(w=M2(o,l,UY,null,null,f),qy._currentValue=w),hw(o,l),Qr(o,l,y,f),l.child;case 6:return o===null&&qt&&((o=f=Dn)&&(f=AZ(f,l.pendingProps,Ys),f!==null?(l.stateNode=f,Xr=l,Dn=null,o=!0):o=!1),o||Al(l)),null;case 13:return Nk(o,l,f);case 4:return Te(l,l.stateNode.containerInfo),y=l.pendingProps,o===null?l.child=rd(l,null,y,f):Qr(o,l,y,f),l.child;case 11:return Sk(o,l,l.type,l.pendingProps,f);case 7:return Qr(o,l,l.pendingProps,f),l.child;case 8:return Qr(o,l,l.pendingProps.children,f),l.child;case 12:return Qr(o,l,l.pendingProps.children,f),l.child;case 10:return y=l.pendingProps,Sl(l,l.type,y.value),Qr(o,l,y.children,f),l.child;case 9:return w=l.type._context,y=l.pendingProps.children,Qu(l),w=Jr(w),y=y(w),l.flags|=1,Qr(o,l,y,f),l.child;case 14:return xk(o,l,l.type,l.pendingProps,f);case 15:return Tk(o,l,l.type,l.pendingProps,f);case 19:return Dk(o,l,f);case 31:return HY(o,l,f);case 22:return Ik(o,l,f,l.pendingProps);case 24:return Qu(l),y=Jr(lr),o===null?(w=T2(),w===null&&(w=An,_=S2(),w.pooledCache=_,_.refCount++,_!==null&&(w.pooledCacheLanes|=f),w=_),l.memoizedState={parent:y,cache:w},C2(l),Sl(l,lr,w)):((o.lanes&f)!==0&&(O2(o,l),Ay(l,null,null,f),Ey()),w=o.memoizedState,_=l.memoizedState,w.parent!==y?(w={parent:y,cache:y},l.memoizedState=w,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=w),Sl(l,lr,y)):(y=_.cache,Sl(l,lr,y),y!==w.cache&&A2(l,[lr],f,!0))),Qr(o,l,l.pendingProps.children,f),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function cc(o){o.flags|=4}function uA(o,l,f,y,w){if((l=(o.mode&32)!==0)&&(l=!1),l){if(o.flags|=16777216,(w&335544128)===w)if(o.stateNode.complete)o.flags|=8192;else if(lR())o.flags|=8192;else throw nd=Jb,I2}else o.flags&=-16777217}function Uk(o,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!JR(l))if(lR())o.flags|=8192;else throw nd=Jb,I2}function yw(o,l){l!==null&&(o.flags|=4),o.flags&16384&&(l=o.tag!==22?Hu():536870912,o.lanes|=l,ih|=l)}function Oy(o,l){if(!qt)switch(o.tailMode){case"hidden":l=o.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var y=null;f!==null;)f.alternate!==null&&(y=f),f=f.sibling;y===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:y.sibling=null}}function Mn(o){var l=o.alternate!==null&&o.alternate.child===o.child,f=0,y=0;if(l)for(var w=o.child;w!==null;)f|=w.lanes|w.childLanes,y|=w.subtreeFlags&65011712,y|=w.flags&65011712,w.return=o,w=w.sibling;else for(w=o.child;w!==null;)f|=w.lanes|w.childLanes,y|=w.subtreeFlags,y|=w.flags,w.return=o,w=w.sibling;return o.subtreeFlags|=y,o.childLanes=f,l}function GY(o,l,f){var y=l.pendingProps;switch(b2(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mn(l),null;case 1:return Mn(l),null;case 3:return f=l.stateNode,y=null,o!==null&&(y=o.memoizedState.cache),l.memoizedState.cache!==y&&(l.flags|=2048),ic(lr),Ee(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(o===null||o.child===null)&&(Hf(l)?cc(l):o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,v2())),Mn(l),null;case 26:var w=l.type,_=l.memoizedState;return o===null?(cc(l),_!==null?(Mn(l),Uk(l,_)):(Mn(l),uA(l,w,null,y,f))):_?_!==o.memoizedState?(cc(l),Mn(l),Uk(l,_)):(Mn(l),l.flags&=-16777217):(o=o.memoizedProps,o!==y&&cc(l),Mn(l),uA(l,w,o,y,f)),null;case 27:if(qe(l),f=ge.current,w=l.type,o!==null&&l.stateNode!=null)o.memoizedProps!==y&&cc(l);else{if(!y){if(l.stateNode===null)throw Error(r(166));return Mn(l),null}o=X.current,Hf(l)?m8(l):(o=WR(w,y,f),l.stateNode=o,cc(l))}return Mn(l),null;case 5:if(qe(l),w=l.type,o!==null&&l.stateNode!=null)o.memoizedProps!==y&&cc(l);else{if(!y){if(l.stateNode===null)throw Error(r(166));return Mn(l),null}if(_=X.current,Hf(l))m8(l);else{var R=kw(ge.current);switch(_){case 1:_=R.createElementNS("http://www.w3.org/2000/svg",w);break;case 2:_=R.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;default:switch(w){case"svg":_=R.createElementNS("http://www.w3.org/2000/svg",w);break;case"math":_=R.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;case"script":_=R.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof y.is=="string"?R.createElement("select",{is:y.is}):R.createElement("select"),y.multiple?_.multiple=!0:y.size&&(_.size=y.size);break;default:_=typeof y.is=="string"?R.createElement(w,{is:y.is}):R.createElement(w)}}_[mt]=l,_[Ct]=y;e:for(R=l.child;R!==null;){if(R.tag===5||R.tag===6)_.appendChild(R.stateNode);else if(R.tag!==4&&R.tag!==27&&R.child!==null){R.child.return=R,R=R.child;continue}if(R===l)break e;for(;R.sibling===null;){if(R.return===null||R.return===l)break e;R=R.return}R.sibling.return=R.return,R=R.sibling}l.stateNode=_;e:switch(ei(_,w,y),w){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}y&&cc(l)}}return Mn(l),uA(l,l.type,o===null?null:o.memoizedProps,l.pendingProps,f),null;case 6:if(o&&l.stateNode!=null)o.memoizedProps!==y&&cc(l);else{if(typeof y!="string"&&l.stateNode===null)throw Error(r(166));if(o=ge.current,Hf(l)){if(o=l.stateNode,f=l.memoizedProps,y=null,w=Xr,w!==null)switch(w.tag){case 27:case 5:y=w.memoizedProps}o[mt]=l,o=!!(o.nodeValue===f||y!==null&&y.suppressHydrationWarning===!0||NR(o.nodeValue,f)),o||Al(l,!0)}else o=kw(o).createTextNode(y),o[mt]=l,l.stateNode=o}return Mn(l),null;case 31:if(f=l.memoizedState,o===null||o.memoizedState!==null){if(y=Hf(l),f!==null){if(o===null){if(!y)throw Error(r(318));if(o=l.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(557));o[mt]=l}else Xu(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Mn(l),o=!1}else f=v2(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=f),o=!0;if(!o)return l.flags&256?(ws(l),l):(ws(l),null);if((l.flags&128)!==0)throw Error(r(558))}return Mn(l),null;case 13:if(y=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(w=Hf(l),y!==null&&y.dehydrated!==null){if(o===null){if(!w)throw Error(r(318));if(w=l.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(r(317));w[mt]=l}else Xu(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Mn(l),w=!1}else w=v2(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=w),w=!0;if(!w)return l.flags&256?(ws(l),l):(ws(l),null)}return ws(l),(l.flags&128)!==0?(l.lanes=f,l):(f=y!==null,o=o!==null&&o.memoizedState!==null,f&&(y=l.child,w=null,y.alternate!==null&&y.alternate.memoizedState!==null&&y.alternate.memoizedState.cachePool!==null&&(w=y.alternate.memoizedState.cachePool.pool),_=null,y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(_=y.memoizedState.cachePool.pool),_!==w&&(y.flags|=2048)),f!==o&&f&&(l.child.flags|=8192),yw(l,l.updateQueue),Mn(l),null);case 4:return Ee(),o===null&&$A(l.stateNode.containerInfo),Mn(l),null;case 10:return ic(l.type),Mn(l),null;case 19:if(G(tr),y=l.memoizedState,y===null)return Mn(l),null;if(w=(l.flags&128)!==0,_=y.rendering,_===null)if(w)Oy(y,!1);else{if(Qn!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(_=nw(o),_!==null){for(l.flags|=128,Oy(y,!1),o=_.updateQueue,l.updateQueue=o,yw(l,o),l.subtreeFlags=0,o=f,f=l.child;f!==null;)d8(f,o),f=f.sibling;return J(tr,tr.current&1|2),qt&&nc(l,y.treeForkCount),l.child}o=o.sibling}y.tail!==null&&_n()>vw&&(l.flags|=128,w=!0,Oy(y,!1),l.lanes=4194304)}else{if(!w)if(o=nw(_),o!==null){if(l.flags|=128,w=!0,o=o.updateQueue,l.updateQueue=o,yw(l,o),Oy(y,!0),y.tail===null&&y.tailMode==="hidden"&&!_.alternate&&!qt)return Mn(l),null}else 2*_n()-y.renderingStartTime>vw&&f!==536870912&&(l.flags|=128,w=!0,Oy(y,!1),l.lanes=4194304);y.isBackwards?(_.sibling=l.child,l.child=_):(o=y.last,o!==null?o.sibling=_:l.child=_,y.last=_)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=_n(),o.sibling=null,f=tr.current,J(tr,w?f&1|2:f&1),qt&&nc(l,y.treeForkCount),o):(Mn(l),null);case 22:case 23:return ws(l),N2(),y=l.memoizedState!==null,o!==null?o.memoizedState!==null!==y&&(l.flags|=8192):y&&(l.flags|=8192),y?(f&536870912)!==0&&(l.flags&128)===0&&(Mn(l),l.subtreeFlags&6&&(l.flags|=8192)):Mn(l),f=l.updateQueue,f!==null&&yw(l,f.retryQueue),f=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),y=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(y=l.memoizedState.cachePool.pool),y!==f&&(l.flags|=2048),o!==null&&G(ed),null;case 24:return f=null,o!==null&&(f=o.memoizedState.cache),l.memoizedState.cache!==f&&(l.flags|=2048),ic(lr),Mn(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function KY(o,l){switch(b2(l),l.tag){case 1:return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return ic(lr),Ee(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 26:case 27:case 5:return qe(l),null;case 31:if(l.memoizedState!==null){if(ws(l),l.alternate===null)throw Error(r(340));Xu()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 13:if(ws(l),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Xu()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return G(tr),null;case 4:return Ee(),null;case 10:return ic(l.type),null;case 22:case 23:return ws(l),N2(),o!==null&&G(ed),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 24:return ic(lr),null;case 25:return null;default:return null}}function Bk(o,l){switch(b2(l),l.tag){case 3:ic(lr),Ee();break;case 26:case 27:case 5:qe(l);break;case 4:Ee();break;case 31:l.memoizedState!==null&&ws(l);break;case 13:ws(l);break;case 19:G(tr);break;case 10:ic(l.type);break;case 22:case 23:ws(l),N2(),o!==null&&G(ed);break;case 24:ic(lr)}}function ky(o,l){try{var f=l.updateQueue,y=f!==null?f.lastEffect:null;if(y!==null){var w=y.next;f=w;do{if((f.tag&o)===o){y=void 0;var _=f.create,R=f.inst;y=_(),R.destroy=y}f=f.next}while(f!==w)}}catch(q){hn(l,l.return,q)}}function kl(o,l,f){try{var y=l.updateQueue,w=y!==null?y.lastEffect:null;if(w!==null){var _=w.next;y=_;do{if((y.tag&o)===o){var R=y.inst,q=R.destroy;if(q!==void 0){R.destroy=void 0,w=l;var ne=f,de=q;try{de()}catch(ve){hn(w,ne,ve)}}}y=y.next}while(y!==_)}}catch(ve){hn(l,l.return,ve)}}function Lk(o){var l=o.updateQueue;if(l!==null){var f=o.stateNode;try{O8(l,f)}catch(y){hn(o,o.return,y)}}}function jk(o,l,f){f.props=sd(o.type,o.memoizedProps),f.state=o.memoizedState;try{f.componentWillUnmount()}catch(y){hn(o,l,y)}}function Ry(o,l){try{var f=o.ref;if(f!==null){switch(o.tag){case 26:case 27:case 5:var y=o.stateNode;break;case 30:y=o.stateNode;break;default:y=o.stateNode}typeof f=="function"?o.refCleanup=f(y):f.current=y}}catch(w){hn(o,l,w)}}function fo(o,l){var f=o.ref,y=o.refCleanup;if(f!==null)if(typeof y=="function")try{y()}catch(w){hn(o,l,w)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(w){hn(o,l,w)}else f.current=null}function zk(o){var l=o.type,f=o.memoizedProps,y=o.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":f.autoFocus&&y.focus();break e;case"img":f.src?y.src=f.src:f.srcSet&&(y.srcset=f.srcSet)}}catch(w){hn(o,o.return,w)}}function dA(o,l,f){try{var y=o.stateNode;mZ(y,o.type,f,l),y[Ct]=l}catch(w){hn(o,o.return,w)}}function Fk(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Ul(o.type)||o.tag===4}function fA(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Fk(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Ul(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function hA(o,l,f){var y=o.tag;if(y===5||y===6)o=o.stateNode,l?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(o,l):(l=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,l.appendChild(o),f=f._reactRootContainer,f!=null||l.onclick!==null||(l.onclick=Ra));else if(y!==4&&(y===27&&Ul(o.type)&&(f=o.stateNode,l=null),o=o.child,o!==null))for(hA(o,l,f),o=o.sibling;o!==null;)hA(o,l,f),o=o.sibling}function mw(o,l,f){var y=o.tag;if(y===5||y===6)o=o.stateNode,l?f.insertBefore(o,l):f.appendChild(o);else if(y!==4&&(y===27&&Ul(o.type)&&(f=o.stateNode),o=o.child,o!==null))for(mw(o,l,f),o=o.sibling;o!==null;)mw(o,l,f),o=o.sibling}function qk(o){var l=o.stateNode,f=o.memoizedProps;try{for(var y=o.type,w=l.attributes;w.length;)l.removeAttributeNode(w[0]);ei(l,y,f),l[mt]=o,l[Ct]=f}catch(_){hn(o,o.return,_)}}var lc=!1,fr=!1,pA=!1,Wk=typeof WeakSet=="function"?WeakSet:Set,Mr=null;function YY(o,l){if(o=o.containerInfo,DA=Uw,o=n8(o),o2(o)){if("selectionStart"in o)var f={start:o.selectionStart,end:o.selectionEnd};else e:{f=(f=o.ownerDocument)&&f.defaultView||window;var y=f.getSelection&&f.getSelection();if(y&&y.rangeCount!==0){f=y.anchorNode;var w=y.anchorOffset,_=y.focusNode;y=y.focusOffset;try{f.nodeType,_.nodeType}catch{f=null;break e}var R=0,q=-1,ne=-1,de=0,ve=0,xe=o,pe=null;t:for(;;){for(var me;xe!==f||w!==0&&xe.nodeType!==3||(q=R+w),xe!==_||y!==0&&xe.nodeType!==3||(ne=R+y),xe.nodeType===3&&(R+=xe.nodeValue.length),(me=xe.firstChild)!==null;)pe=xe,xe=me;for(;;){if(xe===o)break t;if(pe===f&&++de===w&&(q=R),pe===_&&++ve===y&&(ne=R),(me=xe.nextSibling)!==null)break;xe=pe,pe=xe.parentNode}xe=me}f=q===-1||ne===-1?null:{start:q,end:ne}}else f=null}f=f||{start:0,end:0}}else f=null;for(MA={focusedElem:o,selectionRange:f},Uw=!1,Mr=l;Mr!==null;)if(l=Mr,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,Mr=o;else for(;Mr!==null;){switch(l=Mr,_=l.alternate,o=l.flags,l.tag){case 0:if((o&4)!==0&&(o=l.updateQueue,o=o!==null?o.events:null,o!==null))for(f=0;f<o.length;f++)w=o[f],w.ref.impl=w.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&_!==null){o=void 0,f=l,w=_.memoizedProps,_=_.memoizedState,y=f.stateNode;try{var Ze=sd(f.type,w);o=y.getSnapshotBeforeUpdate(Ze,_),y.__reactInternalSnapshotBeforeUpdate=o}catch(ut){hn(f,f.return,ut)}}break;case 3:if((o&1024)!==0){if(o=l.stateNode.containerInfo,f=o.nodeType,f===9)LA(o);else if(f===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":LA(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=l.sibling,o!==null){o.return=l.return,Mr=o;break}Mr=l.return}}function Hk(o,l,f){var y=f.flags;switch(f.tag){case 0:case 11:case 15:dc(o,f),y&4&&ky(5,f);break;case 1:if(dc(o,f),y&4)if(o=f.stateNode,l===null)try{o.componentDidMount()}catch(R){hn(f,f.return,R)}else{var w=sd(f.type,l.memoizedProps);l=l.memoizedState;try{o.componentDidUpdate(w,l,o.__reactInternalSnapshotBeforeUpdate)}catch(R){hn(f,f.return,R)}}y&64&&Lk(f),y&512&&Ry(f,f.return);break;case 3:if(dc(o,f),y&64&&(o=f.updateQueue,o!==null)){if(l=null,f.child!==null)switch(f.child.tag){case 27:case 5:l=f.child.stateNode;break;case 1:l=f.child.stateNode}try{O8(o,l)}catch(R){hn(f,f.return,R)}}break;case 27:l===null&&y&4&&qk(f);case 26:case 5:dc(o,f),l===null&&y&4&&zk(f),y&512&&Ry(f,f.return);break;case 12:dc(o,f);break;case 31:dc(o,f),y&4&&Kk(o,f);break;case 13:dc(o,f),y&4&&Yk(o,f),y&64&&(o=f.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(f=iZ.bind(null,f),SZ(o,f))));break;case 22:if(y=f.memoizedState!==null||lc,!y){l=l!==null&&l.memoizedState!==null||fr,w=lc;var _=fr;lc=y,(fr=l)&&!_?fc(o,f,(f.subtreeFlags&8772)!==0):dc(o,f),lc=w,fr=_}break;case 30:break;default:dc(o,f)}}function Vk(o){var l=o.alternate;l!==null&&(o.alternate=null,Vk(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&un(l)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var qn=null,qi=!1;function uc(o,l,f){for(f=f.child;f!==null;)Gk(o,l,f),f=f.sibling}function Gk(o,l,f){if(ht&&typeof ht.onCommitFiberUnmount=="function")try{ht.onCommitFiberUnmount(ct,f)}catch{}switch(f.tag){case 26:fr||fo(f,l),uc(o,l,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:fr||fo(f,l);var y=qn,w=qi;Ul(f.type)&&(qn=f.stateNode,qi=!1),uc(o,l,f),jy(f.stateNode),qn=y,qi=w;break;case 5:fr||fo(f,l);case 6:if(y=qn,w=qi,qn=null,uc(o,l,f),qn=y,qi=w,qn!==null)if(qi)try{(qn.nodeType===9?qn.body:qn.nodeName==="HTML"?qn.ownerDocument.body:qn).removeChild(f.stateNode)}catch(_){hn(f,l,_)}else try{qn.removeChild(f.stateNode)}catch(_){hn(f,l,_)}break;case 18:qn!==null&&(qi?(o=qn,LR(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,f.stateNode),fh(o)):LR(qn,f.stateNode));break;case 4:y=qn,w=qi,qn=f.stateNode.containerInfo,qi=!0,uc(o,l,f),qn=y,qi=w;break;case 0:case 11:case 14:case 15:kl(2,f,l),fr||kl(4,f,l),uc(o,l,f);break;case 1:fr||(fo(f,l),y=f.stateNode,typeof y.componentWillUnmount=="function"&&jk(f,l,y)),uc(o,l,f);break;case 21:uc(o,l,f);break;case 22:fr=(y=fr)||f.memoizedState!==null,uc(o,l,f),fr=y;break;default:uc(o,l,f)}}function Kk(o,l){if(l.memoizedState===null&&(o=l.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{fh(o)}catch(f){hn(l,l.return,f)}}}function Yk(o,l){if(l.memoizedState===null&&(o=l.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{fh(o)}catch(f){hn(l,l.return,f)}}function ZY(o){switch(o.tag){case 31:case 13:case 19:var l=o.stateNode;return l===null&&(l=o.stateNode=new Wk),l;case 22:return o=o.stateNode,l=o._retryCache,l===null&&(l=o._retryCache=new Wk),l;default:throw Error(r(435,o.tag))}}function gw(o,l){var f=ZY(o);l.forEach(function(y){if(!f.has(y)){f.add(y);var w=sZ.bind(null,o,y);y.then(w,w)}})}function Wi(o,l){var f=l.deletions;if(f!==null)for(var y=0;y<f.length;y++){var w=f[y],_=o,R=l,q=R;e:for(;q!==null;){switch(q.tag){case 27:if(Ul(q.type)){qn=q.stateNode,qi=!1;break e}break;case 5:qn=q.stateNode,qi=!1;break e;case 3:case 4:qn=q.stateNode.containerInfo,qi=!0;break e}q=q.return}if(qn===null)throw Error(r(160));Gk(_,R,w),qn=null,qi=!1,_=w.alternate,_!==null&&(_.return=null),w.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)Zk(l,o),l=l.sibling}var Na=null;function Zk(o,l){var f=o.alternate,y=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Wi(l,o),Hi(o),y&4&&(kl(3,o,o.return),ky(3,o),kl(5,o,o.return));break;case 1:Wi(l,o),Hi(o),y&512&&(fr||f===null||fo(f,f.return)),y&64&&lc&&(o=o.updateQueue,o!==null&&(y=o.callbacks,y!==null&&(f=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=f===null?y:f.concat(y))));break;case 26:var w=Na;if(Wi(l,o),Hi(o),y&512&&(fr||f===null||fo(f,f.return)),y&4){var _=f!==null?f.memoizedState:null;if(y=o.memoizedState,f===null)if(y===null)if(o.stateNode===null){e:{y=o.type,f=o.memoizedProps,w=w.ownerDocument||w;t:switch(y){case"title":_=w.getElementsByTagName("title")[0],(!_||_[Yn]||_[mt]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=w.createElement(y),w.head.insertBefore(_,w.querySelector("head > title"))),ei(_,y,f),_[mt]=o,lt(_),y=_;break e;case"link":var R=ZR("link","href",w).get(y+(f.href||""));if(R){for(var q=0;q<R.length;q++)if(_=R[q],_.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&_.getAttribute("rel")===(f.rel==null?null:f.rel)&&_.getAttribute("title")===(f.title==null?null:f.title)&&_.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){R.splice(q,1);break t}}_=w.createElement(y),ei(_,y,f),w.head.appendChild(_);break;case"meta":if(R=ZR("meta","content",w).get(y+(f.content||""))){for(q=0;q<R.length;q++)if(_=R[q],_.getAttribute("content")===(f.content==null?null:""+f.content)&&_.getAttribute("name")===(f.name==null?null:f.name)&&_.getAttribute("property")===(f.property==null?null:f.property)&&_.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&_.getAttribute("charset")===(f.charSet==null?null:f.charSet)){R.splice(q,1);break t}}_=w.createElement(y),ei(_,y,f),w.head.appendChild(_);break;default:throw Error(r(468,y))}_[mt]=o,lt(_),y=_}o.stateNode=y}else XR(w,o.type,o.stateNode);else o.stateNode=YR(w,y,o.memoizedProps);else _!==y?(_===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):_.count--,y===null?XR(w,o.type,o.stateNode):YR(w,y,o.memoizedProps)):y===null&&o.stateNode!==null&&dA(o,o.memoizedProps,f.memoizedProps)}break;case 27:Wi(l,o),Hi(o),y&512&&(fr||f===null||fo(f,f.return)),f!==null&&y&4&&dA(o,o.memoizedProps,f.memoizedProps);break;case 5:if(Wi(l,o),Hi(o),y&512&&(fr||f===null||fo(f,f.return)),o.flags&32){w=o.stateNode;try{gl(w,"")}catch(Ze){hn(o,o.return,Ze)}}y&4&&o.stateNode!=null&&(w=o.memoizedProps,dA(o,w,f!==null?f.memoizedProps:w)),y&1024&&(pA=!0);break;case 6:if(Wi(l,o),Hi(o),y&4){if(o.stateNode===null)throw Error(r(162));y=o.memoizedProps,f=o.stateNode;try{f.nodeValue=y}catch(Ze){hn(o,o.return,Ze)}}break;case 3:if(Nw=null,w=Na,Na=Rw(l.containerInfo),Wi(l,o),Na=w,Hi(o),y&4&&f!==null&&f.memoizedState.isDehydrated)try{fh(l.containerInfo)}catch(Ze){hn(o,o.return,Ze)}pA&&(pA=!1,Xk(o));break;case 4:y=Na,Na=Rw(o.stateNode.containerInfo),Wi(l,o),Hi(o),Na=y;break;case 12:Wi(l,o),Hi(o);break;case 31:Wi(l,o),Hi(o),y&4&&(y=o.updateQueue,y!==null&&(o.updateQueue=null,gw(o,y)));break;case 13:Wi(l,o),Hi(o),o.child.flags&8192&&o.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(ww=_n()),y&4&&(y=o.updateQueue,y!==null&&(o.updateQueue=null,gw(o,y)));break;case 22:w=o.memoizedState!==null;var ne=f!==null&&f.memoizedState!==null,de=lc,ve=fr;if(lc=de||w,fr=ve||ne,Wi(l,o),fr=ve,lc=de,Hi(o),y&8192)e:for(l=o.stateNode,l._visibility=w?l._visibility&-2:l._visibility|1,w&&(f===null||ne||lc||fr||ad(o)),f=null,l=o;;){if(l.tag===5||l.tag===26){if(f===null){ne=f=l;try{if(_=ne.stateNode,w)R=_.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{q=ne.stateNode;var xe=ne.memoizedProps.style,pe=xe!=null&&xe.hasOwnProperty("display")?xe.display:null;q.style.display=pe==null||typeof pe=="boolean"?"":(""+pe).trim()}}catch(Ze){hn(ne,ne.return,Ze)}}}else if(l.tag===6){if(f===null){ne=l;try{ne.stateNode.nodeValue=w?"":ne.memoizedProps}catch(Ze){hn(ne,ne.return,Ze)}}}else if(l.tag===18){if(f===null){ne=l;try{var me=ne.stateNode;w?jR(me,!0):jR(ne.stateNode,!1)}catch(Ze){hn(ne,ne.return,Ze)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===o)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break e;for(;l.sibling===null;){if(l.return===null||l.return===o)break e;f===l&&(f=null),l=l.return}f===l&&(f=null),l.sibling.return=l.return,l=l.sibling}y&4&&(y=o.updateQueue,y!==null&&(f=y.retryQueue,f!==null&&(y.retryQueue=null,gw(o,f))));break;case 19:Wi(l,o),Hi(o),y&4&&(y=o.updateQueue,y!==null&&(o.updateQueue=null,gw(o,y)));break;case 30:break;case 21:break;default:Wi(l,o),Hi(o)}}function Hi(o){var l=o.flags;if(l&2){try{for(var f,y=o.return;y!==null;){if(Fk(y)){f=y;break}y=y.return}if(f==null)throw Error(r(160));switch(f.tag){case 27:var w=f.stateNode,_=fA(o);mw(o,_,w);break;case 5:var R=f.stateNode;f.flags&32&&(gl(R,""),f.flags&=-33);var q=fA(o);mw(o,q,R);break;case 3:case 4:var ne=f.stateNode.containerInfo,de=fA(o);hA(o,de,ne);break;default:throw Error(r(161))}}catch(ve){hn(o,o.return,ve)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function Xk(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var l=o;Xk(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),o=o.sibling}}function dc(o,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)Hk(o,l.alternate,l),l=l.sibling}function ad(o){for(o=o.child;o!==null;){var l=o;switch(l.tag){case 0:case 11:case 14:case 15:kl(4,l,l.return),ad(l);break;case 1:fo(l,l.return);var f=l.stateNode;typeof f.componentWillUnmount=="function"&&jk(l,l.return,f),ad(l);break;case 27:jy(l.stateNode);case 26:case 5:fo(l,l.return),ad(l);break;case 22:l.memoizedState===null&&ad(l);break;case 30:ad(l);break;default:ad(l)}o=o.sibling}}function fc(o,l,f){for(f=f&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var y=l.alternate,w=o,_=l,R=_.flags;switch(_.tag){case 0:case 11:case 15:fc(w,_,f),ky(4,_);break;case 1:if(fc(w,_,f),y=_,w=y.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(de){hn(y,y.return,de)}if(y=_,w=y.updateQueue,w!==null){var q=y.stateNode;try{var ne=w.shared.hiddenCallbacks;if(ne!==null)for(w.shared.hiddenCallbacks=null,w=0;w<ne.length;w++)C8(ne[w],q)}catch(de){hn(y,y.return,de)}}f&&R&64&&Lk(_),Ry(_,_.return);break;case 27:qk(_);case 26:case 5:fc(w,_,f),f&&y===null&&R&4&&zk(_),Ry(_,_.return);break;case 12:fc(w,_,f);break;case 31:fc(w,_,f),f&&R&4&&Kk(w,_);break;case 13:fc(w,_,f),f&&R&4&&Yk(w,_);break;case 22:_.memoizedState===null&&fc(w,_,f),Ry(_,_.return);break;case 30:break;default:fc(w,_,f)}l=l.sibling}}function yA(o,l){var f=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),o=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(o=l.memoizedState.cachePool.pool),o!==f&&(o!=null&&o.refCount++,f!=null&&gy(f))}function mA(o,l){o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&gy(o))}function Pa(o,l,f,y){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)Jk(o,l,f,y),l=l.sibling}function Jk(o,l,f,y){var w=l.flags;switch(l.tag){case 0:case 11:case 15:Pa(o,l,f,y),w&2048&&ky(9,l);break;case 1:Pa(o,l,f,y);break;case 3:Pa(o,l,f,y),w&2048&&(o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&gy(o)));break;case 12:if(w&2048){Pa(o,l,f,y),o=l.stateNode;try{var _=l.memoizedProps,R=_.id,q=_.onPostCommit;typeof q=="function"&&q(R,l.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(ne){hn(l,l.return,ne)}}else Pa(o,l,f,y);break;case 31:Pa(o,l,f,y);break;case 13:Pa(o,l,f,y);break;case 23:break;case 22:_=l.stateNode,R=l.alternate,l.memoizedState!==null?_._visibility&2?Pa(o,l,f,y):$y(o,l):_._visibility&2?Pa(o,l,f,y):(_._visibility|=2,th(o,l,f,y,(l.subtreeFlags&10256)!==0||!1)),w&2048&&yA(R,l);break;case 24:Pa(o,l,f,y),w&2048&&mA(l.alternate,l);break;default:Pa(o,l,f,y)}}function th(o,l,f,y,w){for(w=w&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var _=o,R=l,q=f,ne=y,de=R.flags;switch(R.tag){case 0:case 11:case 15:th(_,R,q,ne,w),ky(8,R);break;case 23:break;case 22:var ve=R.stateNode;R.memoizedState!==null?ve._visibility&2?th(_,R,q,ne,w):$y(_,R):(ve._visibility|=2,th(_,R,q,ne,w)),w&&de&2048&&yA(R.alternate,R);break;case 24:th(_,R,q,ne,w),w&&de&2048&&mA(R.alternate,R);break;default:th(_,R,q,ne,w)}l=l.sibling}}function $y(o,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var f=o,y=l,w=y.flags;switch(y.tag){case 22:$y(f,y),w&2048&&yA(y.alternate,y);break;case 24:$y(f,y),w&2048&&mA(y.alternate,y);break;default:$y(f,y)}l=l.sibling}}var Ny=8192;function nh(o,l,f){if(o.subtreeFlags&Ny)for(o=o.child;o!==null;)Qk(o,l,f),o=o.sibling}function Qk(o,l,f){switch(o.tag){case 26:nh(o,l,f),o.flags&Ny&&o.memoizedState!==null&&MZ(f,Na,o.memoizedState,o.memoizedProps);break;case 5:nh(o,l,f);break;case 3:case 4:var y=Na;Na=Rw(o.stateNode.containerInfo),nh(o,l,f),Na=y;break;case 22:o.memoizedState===null&&(y=o.alternate,y!==null&&y.memoizedState!==null?(y=Ny,Ny=16777216,nh(o,l,f),Ny=y):nh(o,l,f));break;default:nh(o,l,f)}}function eR(o){var l=o.alternate;if(l!==null&&(o=l.child,o!==null)){l.child=null;do l=o.sibling,o.sibling=null,o=l;while(o!==null)}}function Py(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var f=0;f<l.length;f++){var y=l[f];Mr=y,nR(y,o)}eR(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)tR(o),o=o.sibling}function tR(o){switch(o.tag){case 0:case 11:case 15:Py(o),o.flags&2048&&kl(9,o,o.return);break;case 3:Py(o);break;case 12:Py(o);break;case 22:var l=o.stateNode;o.memoizedState!==null&&l._visibility&2&&(o.return===null||o.return.tag!==13)?(l._visibility&=-3,bw(o)):Py(o);break;default:Py(o)}}function bw(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var f=0;f<l.length;f++){var y=l[f];Mr=y,nR(y,o)}eR(o)}for(o=o.child;o!==null;){switch(l=o,l.tag){case 0:case 11:case 15:kl(8,l,l.return),bw(l);break;case 22:f=l.stateNode,f._visibility&2&&(f._visibility&=-3,bw(l));break;default:bw(l)}o=o.sibling}}function nR(o,l){for(;Mr!==null;){var f=Mr;switch(f.tag){case 0:case 11:case 15:kl(8,f,l);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var y=f.memoizedState.cachePool.pool;y!=null&&y.refCount++}break;case 24:gy(f.memoizedState.cache)}if(y=f.child,y!==null)y.return=f,Mr=y;else e:for(f=o;Mr!==null;){y=Mr;var w=y.sibling,_=y.return;if(Vk(y),y===f){Mr=null;break e}if(w!==null){w.return=_,Mr=w;break e}Mr=_}}}var XY={getCacheForType:function(o){var l=Jr(lr),f=l.data.get(o);return f===void 0&&(f=o(),l.data.set(o,f)),f},cacheSignal:function(){return Jr(lr).controller.signal}},JY=typeof WeakMap=="function"?WeakMap:Map,rn=0,An=null,Bt=null,jt=0,fn=0,vs=null,Rl=!1,rh=!1,gA=!1,hc=0,Qn=0,$l=0,od=0,bA=0,_s=0,ih=0,Dy=null,Vi=null,wA=!1,ww=0,rR=0,vw=1/0,_w=null,Nl=null,Tr=0,Pl=null,sh=null,pc=0,vA=0,_A=null,iR=null,My=0,EA=null;function Es(){return(rn&2)!==0&&jt!==0?jt&-jt:x.T!==null?CA():Xe()}function sR(){if(_s===0)if((jt&536870912)===0||qt){var o=ji;ji<<=1,(ji&3932160)===0&&(ji=262144),_s=o}else _s=536870912;return o=bs.current,o!==null&&(o.flags|=32),_s}function Gi(o,l,f){(o===An&&(fn===2||fn===9)||o.cancelPendingCommit!==null)&&(ah(o,0),Dl(o,jt,_s,!1)),W(o,f),((rn&2)===0||o!==An)&&(o===An&&((rn&2)===0&&(od|=f),Qn===4&&Dl(o,jt,_s,!1)),ho(o))}function aR(o,l,f){if((rn&6)!==0)throw Error(r(327));var y=!f&&(l&127)===0&&(l&o.expiredLanes)===0||co(o,l),w=y?tZ(o,l):SA(o,l,!0),_=y;do{if(w===0){rh&&!y&&Dl(o,l,0,!1);break}else{if(f=o.current.alternate,_&&!QY(f)){w=SA(o,l,!1),_=!1;continue}if(w===2){if(_=l,o.errorRecoveryDisabledLanes&_)var R=0;else R=o.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){l=R;e:{var q=o;w=Dy;var ne=q.current.memoizedState.isDehydrated;if(ne&&(ah(q,R).flags|=256),R=SA(q,R,!1),R!==2){if(gA&&!ne){q.errorRecoveryDisabledLanes|=_,od|=_,w=4;break e}_=Vi,Vi=w,_!==null&&(Vi===null?Vi=_:Vi.push.apply(Vi,_))}w=R}if(_=!1,w!==2)continue}}if(w===1){ah(o,0),Dl(o,l,0,!0);break}e:{switch(y=o,_=w,_){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:Dl(y,l,_s,!Rl);break e;case 2:Vi=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(w=ww+300-_n(),10<w)){if(Dl(y,l,_s,!Rl),Jo(y,0,!0)!==0)break e;pc=l,y.timeoutHandle=UR(oR.bind(null,y,f,Vi,_w,wA,l,_s,od,ih,Rl,_,"Throttled",-0,0),w);break e}oR(y,f,Vi,_w,wA,l,_s,od,ih,Rl,_,null,-0,0)}}break}while(!0);ho(o)}function oR(o,l,f,y,w,_,R,q,ne,de,ve,xe,pe,me){if(o.timeoutHandle=-1,xe=l.subtreeFlags,xe&8192||(xe&16785408)===16785408){xe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ra},Qk(l,_,xe);var Ze=(_&62914560)===_?ww-_n():(_&4194048)===_?rR-_n():0;if(Ze=UZ(xe,Ze),Ze!==null){pc=_,o.cancelPendingCommit=Ze(yR.bind(null,o,l,_,f,y,w,R,q,ne,ve,xe,null,pe,me)),Dl(o,_,R,!de);return}}yR(o,l,_,f,y,w,R,q,ne)}function QY(o){for(var l=o;;){var f=l.tag;if((f===0||f===11||f===15)&&l.flags&16384&&(f=l.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var y=0;y<f.length;y++){var w=f[y],_=w.getSnapshot;w=w.value;try{if(!ms(_(),w))return!1}catch{return!1}}if(f=l.child,l.subtreeFlags&16384&&f!==null)f.return=l,l=f;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Dl(o,l,f,y){l&=~bA,l&=~od,o.suspendedLanes|=l,o.pingedLanes&=~l,y&&(o.warmLanes|=l),y=o.expirationTimes;for(var w=l;0<w;){var _=31-Xt(w),R=1<<_;y[_]=-1,w&=~R}f!==0&&ee(o,f,l)}function Ew(){return(rn&6)===0?(Uy(0),!1):!0}function AA(){if(Bt!==null){if(fn===0)var o=Bt.return;else o=Bt,rc=Ju=null,L2(o),Zf=null,wy=0,o=Bt;for(;o!==null;)Bk(o.alternate,o),o=o.return;Bt=null}}function ah(o,l){var f=o.timeoutHandle;f!==-1&&(o.timeoutHandle=-1,wZ(f)),f=o.cancelPendingCommit,f!==null&&(o.cancelPendingCommit=null,f()),pc=0,AA(),An=o,Bt=f=tc(o.current,null),jt=l,fn=0,vs=null,Rl=!1,rh=co(o,l),gA=!1,ih=_s=bA=od=$l=Qn=0,Vi=Dy=null,wA=!1,(l&8)!==0&&(l|=l&32);var y=o.entangledLanes;if(y!==0)for(o=o.entanglements,y&=l;0<y;){var w=31-Xt(y),_=1<<w;l|=o[w],y&=~_}return hc=l,qb(),f}function cR(o,l){kt=null,x.H=Iy,l===Yf||l===Xb?(l=S8(),fn=3):l===I2?(l=S8(),fn=4):fn=l===tA?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,vs=l,Bt===null&&(Qn=1,dw(o,Vs(l,o.current)))}function lR(){var o=bs.current;return o===null?!0:(jt&4194048)===jt?Zs===null:(jt&62914560)===jt||(jt&536870912)!==0?o===Zs:!1}function uR(){var o=x.H;return x.H=Iy,o===null?Iy:o}function dR(){var o=x.A;return x.A=XY,o}function Aw(){Qn=4,Rl||(jt&4194048)!==jt&&bs.current!==null||(rh=!0),($l&134217727)===0&&(od&134217727)===0||An===null||Dl(An,jt,_s,!1)}function SA(o,l,f){var y=rn;rn|=2;var w=uR(),_=dR();(An!==o||jt!==l)&&(_w=null,ah(o,l)),l=!1;var R=Qn;e:do try{if(fn!==0&&Bt!==null){var q=Bt,ne=vs;switch(fn){case 8:AA(),R=6;break e;case 3:case 2:case 9:case 6:bs.current===null&&(l=!0);var de=fn;if(fn=0,vs=null,oh(o,q,ne,de),f&&rh){R=0;break e}break;default:de=fn,fn=0,vs=null,oh(o,q,ne,de)}}eZ(),R=Qn;break}catch(ve){cR(o,ve)}while(!0);return l&&o.shellSuspendCounter++,rc=Ju=null,rn=y,x.H=w,x.A=_,Bt===null&&(An=null,jt=0,qb()),R}function eZ(){for(;Bt!==null;)fR(Bt)}function tZ(o,l){var f=rn;rn|=2;var y=uR(),w=dR();An!==o||jt!==l?(_w=null,vw=_n()+500,ah(o,l)):rh=co(o,l);e:do try{if(fn!==0&&Bt!==null){l=Bt;var _=vs;t:switch(fn){case 1:fn=0,vs=null,oh(o,l,_,1);break;case 2:case 9:if(E8(_)){fn=0,vs=null,hR(l);break}l=function(){fn!==2&&fn!==9||An!==o||(fn=7),ho(o)},_.then(l,l);break e;case 3:fn=7;break e;case 4:fn=5;break e;case 7:E8(_)?(fn=0,vs=null,hR(l)):(fn=0,vs=null,oh(o,l,_,7));break;case 5:var R=null;switch(Bt.tag){case 26:R=Bt.memoizedState;case 5:case 27:var q=Bt;if(R?JR(R):q.stateNode.complete){fn=0,vs=null;var ne=q.sibling;if(ne!==null)Bt=ne;else{var de=q.return;de!==null?(Bt=de,Sw(de)):Bt=null}break t}}fn=0,vs=null,oh(o,l,_,5);break;case 6:fn=0,vs=null,oh(o,l,_,6);break;case 8:AA(),Qn=6;break e;default:throw Error(r(462))}}nZ();break}catch(ve){cR(o,ve)}while(!0);return rc=Ju=null,x.H=y,x.A=w,rn=f,Bt!==null?0:(An=null,jt=0,qb(),Qn)}function nZ(){for(;Bt!==null&&!yi();)fR(Bt)}function fR(o){var l=Mk(o.alternate,o,hc);o.memoizedProps=o.pendingProps,l===null?Sw(o):Bt=l}function hR(o){var l=o,f=l.alternate;switch(l.tag){case 15:case 0:l=kk(f,l,l.pendingProps,l.type,void 0,jt);break;case 11:l=kk(f,l,l.pendingProps,l.type.render,l.ref,jt);break;case 5:L2(l);default:Bk(f,l),l=Bt=d8(l,hc),l=Mk(f,l,hc)}o.memoizedProps=o.pendingProps,l===null?Sw(o):Bt=l}function oh(o,l,f,y){rc=Ju=null,L2(l),Zf=null,wy=0;var w=l.return;try{if(WY(o,w,l,f,jt)){Qn=1,dw(o,Vs(f,o.current)),Bt=null;return}}catch(_){if(w!==null)throw Bt=w,_;Qn=1,dw(o,Vs(f,o.current)),Bt=null;return}l.flags&32768?(qt||y===1?o=!0:rh||(jt&536870912)!==0?o=!1:(Rl=o=!0,(y===2||y===9||y===3||y===6)&&(y=bs.current,y!==null&&y.tag===13&&(y.flags|=16384))),pR(l,o)):Sw(l)}function Sw(o){var l=o;do{if((l.flags&32768)!==0){pR(l,Rl);return}o=l.return;var f=GY(l.alternate,l,hc);if(f!==null){Bt=f;return}if(l=l.sibling,l!==null){Bt=l;return}Bt=l=o}while(l!==null);Qn===0&&(Qn=5)}function pR(o,l){do{var f=KY(o.alternate,o);if(f!==null){f.flags&=32767,Bt=f;return}if(f=o.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!l&&(o=o.sibling,o!==null)){Bt=o;return}Bt=o=f}while(o!==null);Qn=6,Bt=null}function yR(o,l,f,y,w,_,R,q,ne){o.cancelPendingCommit=null;do xw();while(Tr!==0);if((rn&6)!==0)throw Error(r(327));if(l!==null){if(l===o.current)throw Error(r(177));if(_=l.lanes|l.childLanes,_|=f2,te(o,f,_,R,q,ne),o===An&&(Bt=An=null,jt=0),sh=l,Pl=o,pc=f,vA=_,_A=w,iR=y,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,aZ(mn,function(){return vR(),null})):(o.callbackNode=null,o.callbackPriority=0),y=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||y){y=x.T,x.T=null,w=$.p,$.p=2,R=rn,rn|=4;try{YY(o,l,f)}finally{rn=R,$.p=w,x.T=y}}Tr=1,mR(),gR(),bR()}}function mR(){if(Tr===1){Tr=0;var o=Pl,l=sh,f=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||f){f=x.T,x.T=null;var y=$.p;$.p=2;var w=rn;rn|=4;try{Zk(l,o);var _=MA,R=n8(o.containerInfo),q=_.focusedElem,ne=_.selectionRange;if(R!==q&&q&&q.ownerDocument&&t8(q.ownerDocument.documentElement,q)){if(ne!==null&&o2(q)){var de=ne.start,ve=ne.end;if(ve===void 0&&(ve=de),"selectionStart"in q)q.selectionStart=de,q.selectionEnd=Math.min(ve,q.value.length);else{var xe=q.ownerDocument||document,pe=xe&&xe.defaultView||window;if(pe.getSelection){var me=pe.getSelection(),Ze=q.textContent.length,ut=Math.min(ne.start,Ze),wn=ne.end===void 0?ut:Math.min(ne.end,Ze);!me.extend&&ut>wn&&(R=wn,wn=ut,ut=R);var oe=e8(q,ut),ie=e8(q,wn);if(oe&&ie&&(me.rangeCount!==1||me.anchorNode!==oe.node||me.anchorOffset!==oe.offset||me.focusNode!==ie.node||me.focusOffset!==ie.offset)){var ue=xe.createRange();ue.setStart(oe.node,oe.offset),me.removeAllRanges(),ut>wn?(me.addRange(ue),me.extend(ie.node,ie.offset)):(ue.setEnd(ie.node,ie.offset),me.addRange(ue))}}}}for(xe=[],me=q;me=me.parentNode;)me.nodeType===1&&xe.push({element:me,left:me.scrollLeft,top:me.scrollTop});for(typeof q.focus=="function"&&q.focus(),q=0;q<xe.length;q++){var Se=xe[q];Se.element.scrollLeft=Se.left,Se.element.scrollTop=Se.top}}Uw=!!DA,MA=DA=null}finally{rn=w,$.p=y,x.T=f}}o.current=l,Tr=2}}function gR(){if(Tr===2){Tr=0;var o=Pl,l=sh,f=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||f){f=x.T,x.T=null;var y=$.p;$.p=2;var w=rn;rn|=4;try{Hk(o,l.alternate,l)}finally{rn=w,$.p=y,x.T=f}}Tr=3}}function bR(){if(Tr===4||Tr===3){Tr=0,dt();var o=Pl,l=sh,f=pc,y=iR;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Tr=5:(Tr=0,sh=Pl=null,wR(o,o.pendingLanes));var w=o.pendingLanes;if(w===0&&(Nl=null),$e(f),l=l.stateNode,ht&&typeof ht.onCommitFiberRoot=="function")try{ht.onCommitFiberRoot(ct,l,void 0,(l.current.flags&128)===128)}catch{}if(y!==null){l=x.T,w=$.p,$.p=2,x.T=null;try{for(var _=o.onRecoverableError,R=0;R<y.length;R++){var q=y[R];_(q.value,{componentStack:q.stack})}}finally{x.T=l,$.p=w}}(pc&3)!==0&&xw(),ho(o),w=o.pendingLanes,(f&261930)!==0&&(w&42)!==0?o===EA?My++:(My=0,EA=o):My=0,Uy(0)}}function wR(o,l){(o.pooledCacheLanes&=l)===0&&(l=o.pooledCache,l!=null&&(o.pooledCache=null,gy(l)))}function xw(){return mR(),gR(),bR(),vR()}function vR(){if(Tr!==5)return!1;var o=Pl,l=vA;vA=0;var f=$e(pc),y=x.T,w=$.p;try{$.p=32>f?32:f,x.T=null,f=_A,_A=null;var _=Pl,R=pc;if(Tr=0,sh=Pl=null,pc=0,(rn&6)!==0)throw Error(r(331));var q=rn;if(rn|=4,tR(_.current),Jk(_,_.current,R,f),rn=q,Uy(0,!1),ht&&typeof ht.onPostCommitFiberRoot=="function")try{ht.onPostCommitFiberRoot(ct,_)}catch{}return!0}finally{$.p=w,x.T=y,wR(o,l)}}function _R(o,l,f){l=Vs(f,l),l=eA(o.stateNode,l,2),o=Il(o,l,2),o!==null&&(W(o,2),ho(o))}function hn(o,l,f){if(o.tag===3)_R(o,o,f);else for(;l!==null;){if(l.tag===3){_R(l,o,f);break}else if(l.tag===1){var y=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(Nl===null||!Nl.has(y))){o=Vs(f,o),f=Ek(2),y=Il(l,f,2),y!==null&&(Ak(f,y,l,o),W(y,2),ho(y));break}}l=l.return}}function xA(o,l,f){var y=o.pingCache;if(y===null){y=o.pingCache=new JY;var w=new Set;y.set(l,w)}else w=y.get(l),w===void 0&&(w=new Set,y.set(l,w));w.has(f)||(gA=!0,w.add(f),o=rZ.bind(null,o,l,f),l.then(o,o))}function rZ(o,l,f){var y=o.pingCache;y!==null&&y.delete(l),o.pingedLanes|=o.suspendedLanes&f,o.warmLanes&=~f,An===o&&(jt&f)===f&&(Qn===4||Qn===3&&(jt&62914560)===jt&&300>_n()-ww?(rn&2)===0&&ah(o,0):bA|=f,ih===jt&&(ih=0)),ho(o)}function ER(o,l){l===0&&(l=Hu()),o=Yu(o,l),o!==null&&(W(o,l),ho(o))}function iZ(o){var l=o.memoizedState,f=0;l!==null&&(f=l.retryLane),ER(o,f)}function sZ(o,l){var f=0;switch(o.tag){case 31:case 13:var y=o.stateNode,w=o.memoizedState;w!==null&&(f=w.retryLane);break;case 19:y=o.stateNode;break;case 22:y=o.stateNode._retryCache;break;default:throw Error(r(314))}y!==null&&y.delete(l),ER(o,f)}function aZ(o,l){return Ve(o,l)}var Tw=null,ch=null,TA=!1,Iw=!1,IA=!1,Ml=0;function ho(o){o!==ch&&o.next===null&&(ch===null?Tw=ch=o:ch=ch.next=o),Iw=!0,TA||(TA=!0,cZ())}function Uy(o,l){if(!IA&&Iw){IA=!0;do for(var f=!1,y=Tw;y!==null;){if(o!==0){var w=y.pendingLanes;if(w===0)var _=0;else{var R=y.suspendedLanes,q=y.pingedLanes;_=(1<<31-Xt(42|o)+1)-1,_&=w&~(R&~q),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(f=!0,TR(y,_))}else _=jt,_=Jo(y,y===An?_:0,y.cancelPendingCommit!==null||y.timeoutHandle!==-1),(_&3)===0||co(y,_)||(f=!0,TR(y,_));y=y.next}while(f);IA=!1}}function oZ(){AR()}function AR(){Iw=TA=!1;var o=0;Ml!==0&&bZ()&&(o=Ml);for(var l=_n(),f=null,y=Tw;y!==null;){var w=y.next,_=SR(y,l);_===0?(y.next=null,f===null?Tw=w:f.next=w,w===null&&(ch=f)):(f=y,(o!==0||(_&3)!==0)&&(Iw=!0)),y=w}Tr!==0&&Tr!==5||Uy(o),Ml!==0&&(Ml=0)}function SR(o,l){for(var f=o.suspendedLanes,y=o.pingedLanes,w=o.expirationTimes,_=o.pendingLanes&-62914561;0<_;){var R=31-Xt(_),q=1<<R,ne=w[R];ne===-1?((q&f)===0||(q&y)!==0)&&(w[R]=Wu(q,l)):ne<=l&&(o.expiredLanes|=q),_&=~q}if(l=An,f=jt,f=Jo(o,o===l?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),y=o.callbackNode,f===0||o===l&&(fn===2||fn===9)||o.cancelPendingCommit!==null)return y!==null&&y!==null&&pi(y),o.callbackNode=null,o.callbackPriority=0;if((f&3)===0||co(o,f)){if(l=f&-f,l===o.callbackPriority)return l;switch(y!==null&&pi(y),$e(f)){case 2:case 8:f=Li;break;case 32:f=mn;break;case 268435456:f=Kr;break;default:f=mn}return y=xR.bind(null,o),f=Ve(f,y),o.callbackPriority=l,o.callbackNode=f,l}return y!==null&&y!==null&&pi(y),o.callbackPriority=2,o.callbackNode=null,2}function xR(o,l){if(Tr!==0&&Tr!==5)return o.callbackNode=null,o.callbackPriority=0,null;var f=o.callbackNode;if(xw()&&o.callbackNode!==f)return null;var y=jt;return y=Jo(o,o===An?y:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),y===0?null:(aR(o,y,l),SR(o,_n()),o.callbackNode!=null&&o.callbackNode===f?xR.bind(null,o):null)}function TR(o,l){if(xw())return null;aR(o,l,!0)}function cZ(){vZ(function(){(rn&6)!==0?Ve(ps,oZ):AR()})}function CA(){if(Ml===0){var o=Gf;o===0&&(o=Yr,Yr<<=1,(Yr&261888)===0&&(Yr=256)),Ml=o}return Ml}function IR(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Pf(""+o)}function CR(o,l){var f=l.ownerDocument.createElement("input");return f.name=l.name,f.value=l.value,o.id&&f.setAttribute("form",o.id),l.parentNode.insertBefore(f,l),o=new FormData(o),f.parentNode.removeChild(f),o}function lZ(o,l,f,y,w){if(l==="submit"&&f&&f.stateNode===w){var _=IR((w[Ct]||null).action),R=y.submitter;R&&(l=(l=R[Ct]||null)?IR(l.formAction):R.getAttribute("formAction"),l!==null&&(_=l,R=null));var q=new Df("action","action",null,y,w);o.push({event:q,listeners:[{instance:null,listener:function(){if(y.defaultPrevented){if(Ml!==0){var ne=R?CR(w,R):new FormData(w);K2(f,{pending:!0,data:ne,method:w.method,action:_},null,ne)}}else typeof _=="function"&&(q.preventDefault(),ne=R?CR(w,R):new FormData(w),K2(f,{pending:!0,data:ne,method:w.method,action:_},_,ne))},currentTarget:w}]})}}for(var OA=0;OA<d2.length;OA++){var kA=d2[OA],uZ=kA.toLowerCase(),dZ=kA[0].toUpperCase()+kA.slice(1);$a(uZ,"on"+dZ)}$a(s8,"onAnimationEnd"),$a(a8,"onAnimationIteration"),$a(o8,"onAnimationStart"),$a("dblclick","onDoubleClick"),$a("focusin","onFocus"),$a("focusout","onBlur"),$a(IY,"onTransitionRun"),$a(CY,"onTransitionStart"),$a(OY,"onTransitionCancel"),$a(c8,"onTransitionEnd"),Dr("onMouseEnter",["mouseout","mouseover"]),Dr("onMouseLeave",["mouseout","mouseover"]),Dr("onPointerEnter",["pointerout","pointerover"]),Dr("onPointerLeave",["pointerout","pointerover"]),dn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),dn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),dn("onBeforeInput",["compositionend","keypress","textInput","paste"]),dn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),dn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),dn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var By="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fZ=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(By));function OR(o,l){l=(l&4)!==0;for(var f=0;f<o.length;f++){var y=o[f],w=y.event;y=y.listeners;e:{var _=void 0;if(l)for(var R=y.length-1;0<=R;R--){var q=y[R],ne=q.instance,de=q.currentTarget;if(q=q.listener,ne!==_&&w.isPropagationStopped())break e;_=q,w.currentTarget=de;try{_(w)}catch(ve){Fb(ve)}w.currentTarget=null,_=ne}else for(R=0;R<y.length;R++){if(q=y[R],ne=q.instance,de=q.currentTarget,q=q.listener,ne!==_&&w.isPropagationStopped())break e;_=q,w.currentTarget=de;try{_(w)}catch(ve){Fb(ve)}w.currentTarget=null,_=ne}}}}function Lt(o,l){var f=l[sn];f===void 0&&(f=l[sn]=new Set);var y=o+"__bubble";f.has(y)||(kR(l,o,2,!1),f.add(y))}function RA(o,l,f){var y=0;l&&(y|=4),kR(f,o,y,l)}var Cw="_reactListening"+Math.random().toString(36).slice(2);function $A(o){if(!o[Cw]){o[Cw]=!0,En.forEach(function(f){f!=="selectionchange"&&(fZ.has(f)||RA(f,!1,o),RA(f,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[Cw]||(l[Cw]=!0,RA("selectionchange",!1,l))}}function kR(o,l,f,y){switch(s4(l)){case 2:var w=jZ;break;case 8:w=zZ;break;default:w=GA}f=w.bind(null,l,f,o),w=void 0,!cy||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(w=!0),y?w!==void 0?o.addEventListener(l,f,{capture:!0,passive:w}):o.addEventListener(l,f,!0):w!==void 0?o.addEventListener(l,f,{passive:w}):o.addEventListener(l,f,!1)}function NA(o,l,f,y,w){var _=y;if((l&1)===0&&(l&2)===0&&y!==null)e:for(;;){if(y===null)return;var R=y.tag;if(R===3||R===4){var q=y.stateNode.containerInfo;if(q===w)break;if(R===4)for(R=y.return;R!==null;){var ne=R.tag;if((ne===3||ne===4)&&R.stateNode.containerInfo===w)return;R=R.return}for(;q!==null;){if(R=Zn(q),R===null)return;if(ne=R.tag,ne===5||ne===6||ne===26||ne===27){y=_=R;continue e}q=q.parentNode}}y=y.return}Bb(function(){var de=_,ve=ay(f),xe=[];e:{var pe=l8.get(o);if(pe!==void 0){var me=Df,Ze=o;switch(o){case"keypress":if(Ot(f)===0)break e;case"keydown":case"keyup":me=sY;break;case"focusin":Ze="focus",me=n2;break;case"focusout":Ze="blur",me=n2;break;case"beforeblur":case"afterblur":me=n2;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=BO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=GK;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=cY;break;case s8:case a8:case o8:me=ZK;break;case c8:me=uY;break;case"scroll":case"scrollend":me=Lb;break;case"wheel":me=fY;break;case"copy":case"cut":case"paste":me=JK;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=jO;break;case"toggle":case"beforetoggle":me=pY}var ut=(l&4)!==0,wn=!ut&&(o==="scroll"||o==="scrollend"),oe=ut?pe!==null?pe+"Capture":null:pe;ut=[];for(var ie=de,ue;ie!==null;){var Se=ie;if(ue=Se.stateNode,Se=Se.tag,Se!==5&&Se!==26&&Se!==27||ue===null||oe===null||(Se=Vu(ie,oe),Se!=null&&ut.push(Ly(ie,Se,ue))),wn)break;ie=ie.return}0<ut.length&&(pe=new me(pe,Ze,null,f,ve),xe.push({event:pe,listeners:ut}))}}if((l&7)===0){e:{if(pe=o==="mouseover"||o==="pointerover",me=o==="mouseout"||o==="pointerout",pe&&f!==sy&&(Ze=f.relatedTarget||f.fromElement)&&(Zn(Ze)||Ze[Je]))break e;if((me||pe)&&(pe=ve.window===ve?ve:(pe=ve.ownerDocument)?pe.defaultView||pe.parentWindow:window,me?(Ze=f.relatedTarget||f.toElement,me=de,Ze=Ze?Zn(Ze):null,Ze!==null&&(wn=s(Ze),ut=Ze.tag,Ze!==wn||ut!==5&&ut!==27&&ut!==6)&&(Ze=null)):(me=null,Ze=de),me!==Ze)){if(ut=BO,Se="onMouseLeave",oe="onMouseEnter",ie="mouse",(o==="pointerout"||o==="pointerover")&&(ut=jO,Se="onPointerLeave",oe="onPointerEnter",ie="pointer"),wn=me==null?pe:qs(me),ue=Ze==null?pe:qs(Ze),pe=new ut(Se,ie+"leave",me,f,ve),pe.target=wn,pe.relatedTarget=ue,Se=null,Zn(ve)===de&&(ut=new ut(oe,ie+"enter",Ze,f,ve),ut.target=ue,ut.relatedTarget=wn,Se=ut),wn=Se,me&&Ze)t:{for(ut=hZ,oe=me,ie=Ze,ue=0,Se=oe;Se;Se=ut(Se))ue++;Se=0;for(var st=ie;st;st=ut(st))Se++;for(;0<ue-Se;)oe=ut(oe),ue--;for(;0<Se-ue;)ie=ut(ie),Se--;for(;ue--;){if(oe===ie||ie!==null&&oe===ie.alternate){ut=oe;break t}oe=ut(oe),ie=ut(ie)}ut=null}else ut=null;me!==null&&RR(xe,pe,me,ut,!1),Ze!==null&&wn!==null&&RR(xe,wn,Ze,ut,!0)}}e:{if(pe=de?qs(de):window,me=pe.nodeName&&pe.nodeName.toLowerCase(),me==="select"||me==="input"&&pe.type==="file")var Jt=KO;else if(VO(pe))if(YO)Jt=SY;else{Jt=EY;var Qe=_Y}else me=pe.nodeName,!me||me.toLowerCase()!=="input"||pe.type!=="checkbox"&&pe.type!=="radio"?de&&iy(de.elementType)&&(Jt=KO):Jt=AY;if(Jt&&(Jt=Jt(o,de))){GO(xe,Jt,f,ve);break e}Qe&&Qe(o,pe,de),o==="focusout"&&de&&pe.type==="number"&&de.memoizedProps.value!=null&&ry(pe,"number",pe.value)}switch(Qe=de?qs(de):window,o){case"focusin":(VO(Qe)||Qe.contentEditable==="true")&&(Lf=Qe,c2=de,py=null);break;case"focusout":py=c2=Lf=null;break;case"mousedown":l2=!0;break;case"contextmenu":case"mouseup":case"dragend":l2=!1,r8(xe,f,ve);break;case"selectionchange":if(TY)break;case"keydown":case"keyup":r8(xe,f,ve)}var Rt;if(i2)e:{switch(o){case"compositionstart":var zt="onCompositionStart";break e;case"compositionend":zt="onCompositionEnd";break e;case"compositionupdate":zt="onCompositionUpdate";break e}zt=void 0}else Bf?WO(o,f)&&(zt="onCompositionEnd"):o==="keydown"&&f.keyCode===229&&(zt="onCompositionStart");zt&&(zO&&f.locale!=="ko"&&(Bf||zt!=="onCompositionStart"?zt==="onCompositionEnd"&&Bf&&(Rt=Re()):(Z=ve,re="value"in Z?Z.value:Z.textContent,Bf=!0)),Qe=Ow(de,zt),0<Qe.length&&(zt=new LO(zt,o,null,f,ve),xe.push({event:zt,listeners:Qe}),Rt?zt.data=Rt:(Rt=HO(f),Rt!==null&&(zt.data=Rt)))),(Rt=mY?gY(o,f):bY(o,f))&&(zt=Ow(de,"onBeforeInput"),0<zt.length&&(Qe=new LO("onBeforeInput","beforeinput",null,f,ve),xe.push({event:Qe,listeners:zt}),Qe.data=Rt)),lZ(xe,o,de,f,ve)}OR(xe,l)})}function Ly(o,l,f){return{instance:o,listener:l,currentTarget:f}}function Ow(o,l){for(var f=l+"Capture",y=[];o!==null;){var w=o,_=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||_===null||(w=Vu(o,f),w!=null&&y.unshift(Ly(o,w,_)),w=Vu(o,l),w!=null&&y.push(Ly(o,w,_))),o.tag===3)return y;o=o.return}return[]}function hZ(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function RR(o,l,f,y,w){for(var _=l._reactName,R=[];f!==null&&f!==y;){var q=f,ne=q.alternate,de=q.stateNode;if(q=q.tag,ne!==null&&ne===y)break;q!==5&&q!==26&&q!==27||de===null||(ne=de,w?(de=Vu(f,_),de!=null&&R.unshift(Ly(f,de,ne))):w||(de=Vu(f,_),de!=null&&R.push(Ly(f,de,ne)))),f=f.return}R.length!==0&&o.push({event:l,listeners:R})}var pZ=/\r\n?/g,yZ=/\u0000|\uFFFD/g;function $R(o){return(typeof o=="string"?o:""+o).replace(pZ,`
`).replace(yZ,"")}function NR(o,l){return l=$R(l),$R(o)===l}function bn(o,l,f,y,w,_){switch(f){case"children":typeof y=="string"?l==="body"||l==="textarea"&&y===""||gl(o,y):(typeof y=="number"||typeof y=="bigint")&&l!=="body"&&gl(o,""+y);break;case"className":$f(o,"class",y);break;case"tabIndex":$f(o,"tabindex",y);break;case"dir":case"role":case"viewBox":case"width":case"height":$f(o,f,y);break;case"style":Mb(o,y,_);break;case"data":if(l!=="object"){$f(o,"data",y);break}case"src":case"href":if(y===""&&(l!=="a"||f!=="href")){o.removeAttribute(f);break}if(y==null||typeof y=="function"||typeof y=="symbol"||typeof y=="boolean"){o.removeAttribute(f);break}y=Pf(""+y),o.setAttribute(f,y);break;case"action":case"formAction":if(typeof y=="function"){o.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(f==="formAction"?(l!=="input"&&bn(o,l,"name",w.name,w,null),bn(o,l,"formEncType",w.formEncType,w,null),bn(o,l,"formMethod",w.formMethod,w,null),bn(o,l,"formTarget",w.formTarget,w,null)):(bn(o,l,"encType",w.encType,w,null),bn(o,l,"method",w.method,w,null),bn(o,l,"target",w.target,w,null)));if(y==null||typeof y=="symbol"||typeof y=="boolean"){o.removeAttribute(f);break}y=Pf(""+y),o.setAttribute(f,y);break;case"onClick":y!=null&&(o.onclick=Ra);break;case"onScroll":y!=null&&Lt("scroll",o);break;case"onScrollEnd":y!=null&&Lt("scrollend",o);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(r(61));if(f=y.__html,f!=null){if(w.children!=null)throw Error(r(60));o.innerHTML=f}}break;case"multiple":o.multiple=y&&typeof y!="function"&&typeof y!="symbol";break;case"muted":o.muted=y&&typeof y!="function"&&typeof y!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(y==null||typeof y=="function"||typeof y=="boolean"||typeof y=="symbol"){o.removeAttribute("xlink:href");break}f=Pf(""+y),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":y!=null&&typeof y!="function"&&typeof y!="symbol"?o.setAttribute(f,""+y):o.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":y&&typeof y!="function"&&typeof y!="symbol"?o.setAttribute(f,""):o.removeAttribute(f);break;case"capture":case"download":y===!0?o.setAttribute(f,""):y!==!1&&y!=null&&typeof y!="function"&&typeof y!="symbol"?o.setAttribute(f,y):o.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":y!=null&&typeof y!="function"&&typeof y!="symbol"&&!isNaN(y)&&1<=y?o.setAttribute(f,y):o.removeAttribute(f);break;case"rowSpan":case"start":y==null||typeof y=="function"||typeof y=="symbol"||isNaN(y)?o.removeAttribute(f):o.setAttribute(f,y);break;case"popover":Lt("beforetoggle",o),Lt("toggle",o),Rf(o,"popover",y);break;case"xlinkActuate":ka(o,"http://www.w3.org/1999/xlink","xlink:actuate",y);break;case"xlinkArcrole":ka(o,"http://www.w3.org/1999/xlink","xlink:arcrole",y);break;case"xlinkRole":ka(o,"http://www.w3.org/1999/xlink","xlink:role",y);break;case"xlinkShow":ka(o,"http://www.w3.org/1999/xlink","xlink:show",y);break;case"xlinkTitle":ka(o,"http://www.w3.org/1999/xlink","xlink:title",y);break;case"xlinkType":ka(o,"http://www.w3.org/1999/xlink","xlink:type",y);break;case"xmlBase":ka(o,"http://www.w3.org/XML/1998/namespace","xml:base",y);break;case"xmlLang":ka(o,"http://www.w3.org/XML/1998/namespace","xml:lang",y);break;case"xmlSpace":ka(o,"http://www.w3.org/XML/1998/namespace","xml:space",y);break;case"is":Rf(o,"is",y);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=e2.get(f)||f,Rf(o,f,y))}}function PA(o,l,f,y,w,_){switch(f){case"style":Mb(o,y,_);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(r(61));if(f=y.__html,f!=null){if(w.children!=null)throw Error(r(60));o.innerHTML=f}}break;case"children":typeof y=="string"?gl(o,y):(typeof y=="number"||typeof y=="bigint")&&gl(o,""+y);break;case"onScroll":y!=null&&Lt("scroll",o);break;case"onScrollEnd":y!=null&&Lt("scrollend",o);break;case"onClick":y!=null&&(o.onclick=Ra);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_t.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(w=f.endsWith("Capture"),l=f.slice(2,w?f.length-7:void 0),_=o[Ct]||null,_=_!=null?_[f]:null,typeof _=="function"&&o.removeEventListener(l,_,w),typeof y=="function")){typeof _!="function"&&_!==null&&(f in o?o[f]=null:o.hasAttribute(f)&&o.removeAttribute(f)),o.addEventListener(l,y,w);break e}f in o?o[f]=y:y===!0?o.setAttribute(f,""):Rf(o,f,y)}}}function ei(o,l,f){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Lt("error",o),Lt("load",o);var y=!1,w=!1,_;for(_ in f)if(f.hasOwnProperty(_)){var R=f[_];if(R!=null)switch(_){case"src":y=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:bn(o,l,_,R,f,null)}}w&&bn(o,l,"srcSet",f.srcSet,f,null),y&&bn(o,l,"src",f.src,f,null);return;case"input":Lt("invalid",o);var q=_=R=w=null,ne=null,de=null;for(y in f)if(f.hasOwnProperty(y)){var ve=f[y];if(ve!=null)switch(y){case"name":w=ve;break;case"type":R=ve;break;case"checked":ne=ve;break;case"defaultChecked":de=ve;break;case"value":_=ve;break;case"defaultValue":q=ve;break;case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(r(137,l));break;default:bn(o,l,y,ve,f,null)}}$b(o,_,q,ne,de,R,w,!1);return;case"select":Lt("invalid",o),y=R=_=null;for(w in f)if(f.hasOwnProperty(w)&&(q=f[w],q!=null))switch(w){case"value":_=q;break;case"defaultValue":R=q;break;case"multiple":y=q;default:bn(o,l,w,q,f,null)}l=_,f=R,o.multiple=!!y,l!=null?ml(o,!!y,l,!1):f!=null&&ml(o,!!y,f,!0);return;case"textarea":Lt("invalid",o),_=w=y=null;for(R in f)if(f.hasOwnProperty(R)&&(q=f[R],q!=null))switch(R){case"value":y=q;break;case"defaultValue":w=q;break;case"children":_=q;break;case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(91));break;default:bn(o,l,R,q,f,null)}Pb(o,y,w,_);return;case"option":for(ne in f)f.hasOwnProperty(ne)&&(y=f[ne],y!=null)&&(ne==="selected"?o.selected=y&&typeof y!="function"&&typeof y!="symbol":bn(o,l,ne,y,f,null));return;case"dialog":Lt("beforetoggle",o),Lt("toggle",o),Lt("cancel",o),Lt("close",o);break;case"iframe":case"object":Lt("load",o);break;case"video":case"audio":for(y=0;y<By.length;y++)Lt(By[y],o);break;case"image":Lt("error",o),Lt("load",o);break;case"details":Lt("toggle",o);break;case"embed":case"source":case"link":Lt("error",o),Lt("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(de in f)if(f.hasOwnProperty(de)&&(y=f[de],y!=null))switch(de){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:bn(o,l,de,y,f,null)}return;default:if(iy(l)){for(ve in f)f.hasOwnProperty(ve)&&(y=f[ve],y!==void 0&&PA(o,l,ve,y,f,void 0));return}}for(q in f)f.hasOwnProperty(q)&&(y=f[q],y!=null&&bn(o,l,q,y,f,null))}function mZ(o,l,f,y){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,_=null,R=null,q=null,ne=null,de=null,ve=null;for(me in f){var xe=f[me];if(f.hasOwnProperty(me)&&xe!=null)switch(me){case"checked":break;case"value":break;case"defaultValue":ne=xe;default:y.hasOwnProperty(me)||bn(o,l,me,null,y,xe)}}for(var pe in y){var me=y[pe];if(xe=f[pe],y.hasOwnProperty(pe)&&(me!=null||xe!=null))switch(pe){case"type":_=me;break;case"name":w=me;break;case"checked":de=me;break;case"defaultChecked":ve=me;break;case"value":R=me;break;case"defaultValue":q=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(r(137,l));break;default:me!==xe&&bn(o,l,pe,me,y,xe)}}ny(o,R,q,ne,de,ve,_,w);return;case"select":me=R=q=pe=null;for(_ in f)if(ne=f[_],f.hasOwnProperty(_)&&ne!=null)switch(_){case"value":break;case"multiple":me=ne;default:y.hasOwnProperty(_)||bn(o,l,_,null,y,ne)}for(w in y)if(_=y[w],ne=f[w],y.hasOwnProperty(w)&&(_!=null||ne!=null))switch(w){case"value":pe=_;break;case"defaultValue":q=_;break;case"multiple":R=_;default:_!==ne&&bn(o,l,w,_,y,ne)}l=q,f=R,y=me,pe!=null?ml(o,!!f,pe,!1):!!y!=!!f&&(l!=null?ml(o,!!f,l,!0):ml(o,!!f,f?[]:"",!1));return;case"textarea":me=pe=null;for(q in f)if(w=f[q],f.hasOwnProperty(q)&&w!=null&&!y.hasOwnProperty(q))switch(q){case"value":break;case"children":break;default:bn(o,l,q,null,y,w)}for(R in y)if(w=y[R],_=f[R],y.hasOwnProperty(R)&&(w!=null||_!=null))switch(R){case"value":pe=w;break;case"defaultValue":me=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:w!==_&&bn(o,l,R,w,y,_)}Nb(o,pe,me);return;case"option":for(var Ze in f)pe=f[Ze],f.hasOwnProperty(Ze)&&pe!=null&&!y.hasOwnProperty(Ze)&&(Ze==="selected"?o.selected=!1:bn(o,l,Ze,null,y,pe));for(ne in y)pe=y[ne],me=f[ne],y.hasOwnProperty(ne)&&pe!==me&&(pe!=null||me!=null)&&(ne==="selected"?o.selected=pe&&typeof pe!="function"&&typeof pe!="symbol":bn(o,l,ne,pe,y,me));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ut in f)pe=f[ut],f.hasOwnProperty(ut)&&pe!=null&&!y.hasOwnProperty(ut)&&bn(o,l,ut,null,y,pe);for(de in y)if(pe=y[de],me=f[de],y.hasOwnProperty(de)&&pe!==me&&(pe!=null||me!=null))switch(de){case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(r(137,l));break;default:bn(o,l,de,pe,y,me)}return;default:if(iy(l)){for(var wn in f)pe=f[wn],f.hasOwnProperty(wn)&&pe!==void 0&&!y.hasOwnProperty(wn)&&PA(o,l,wn,void 0,y,pe);for(ve in y)pe=y[ve],me=f[ve],!y.hasOwnProperty(ve)||pe===me||pe===void 0&&me===void 0||PA(o,l,ve,pe,y,me);return}}for(var oe in f)pe=f[oe],f.hasOwnProperty(oe)&&pe!=null&&!y.hasOwnProperty(oe)&&bn(o,l,oe,null,y,pe);for(xe in y)pe=y[xe],me=f[xe],!y.hasOwnProperty(xe)||pe===me||pe==null&&me==null||bn(o,l,xe,pe,y,me)}function PR(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function gZ(){if(typeof performance.getEntriesByType=="function"){for(var o=0,l=0,f=performance.getEntriesByType("resource"),y=0;y<f.length;y++){var w=f[y],_=w.transferSize,R=w.initiatorType,q=w.duration;if(_&&q&&PR(R)){for(R=0,q=w.responseEnd,y+=1;y<f.length;y++){var ne=f[y],de=ne.startTime;if(de>q)break;var ve=ne.transferSize,xe=ne.initiatorType;ve&&PR(xe)&&(ne=ne.responseEnd,R+=ve*(ne<q?1:(q-de)/(ne-de)))}if(--y,l+=8*(_+R)/(w.duration/1e3),o++,10<o)break}}if(0<o)return l/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var DA=null,MA=null;function kw(o){return o.nodeType===9?o:o.ownerDocument}function DR(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function MR(o,l){if(o===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&l==="foreignObject"?0:o}function UA(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var BA=null;function bZ(){var o=window.event;return o&&o.type==="popstate"?o===BA?!1:(BA=o,!0):(BA=null,!1)}var UR=typeof setTimeout=="function"?setTimeout:void 0,wZ=typeof clearTimeout=="function"?clearTimeout:void 0,BR=typeof Promise=="function"?Promise:void 0,vZ=typeof queueMicrotask=="function"?queueMicrotask:typeof BR<"u"?function(o){return BR.resolve(null).then(o).catch(_Z)}:UR;function _Z(o){setTimeout(function(){throw o})}function Ul(o){return o==="head"}function LR(o,l){var f=l,y=0;do{var w=f.nextSibling;if(o.removeChild(f),w&&w.nodeType===8)if(f=w.data,f==="/$"||f==="/&"){if(y===0){o.removeChild(w),fh(l);return}y--}else if(f==="$"||f==="$?"||f==="$~"||f==="$!"||f==="&")y++;else if(f==="html")jy(o.ownerDocument.documentElement);else if(f==="head"){f=o.ownerDocument.head,jy(f);for(var _=f.firstChild;_;){var R=_.nextSibling,q=_.nodeName;_[Yn]||q==="SCRIPT"||q==="STYLE"||q==="LINK"&&_.rel.toLowerCase()==="stylesheet"||f.removeChild(_),_=R}}else f==="body"&&jy(o.ownerDocument.body);f=w}while(f);fh(l)}function jR(o,l){var f=o;o=0;do{var y=f.nextSibling;if(f.nodeType===1?l?(f._stashedDisplay=f.style.display,f.style.display="none"):(f.style.display=f._stashedDisplay||"",f.getAttribute("style")===""&&f.removeAttribute("style")):f.nodeType===3&&(l?(f._stashedText=f.nodeValue,f.nodeValue=""):f.nodeValue=f._stashedText||""),y&&y.nodeType===8)if(f=y.data,f==="/$"){if(o===0)break;o--}else f!=="$"&&f!=="$?"&&f!=="$~"&&f!=="$!"||o++;f=y}while(f)}function LA(o){var l=o.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var f=l;switch(l=l.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":LA(f),un(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}o.removeChild(f)}}function EZ(o,l,f,y){for(;o.nodeType===1;){var w=f;if(o.nodeName.toLowerCase()!==l.toLowerCase()){if(!y&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(y){if(!o[Yn])switch(l){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(_=o.getAttribute("rel"),_==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(_!==w.rel||o.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||o.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||o.getAttribute("title")!==(w.title==null?null:w.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(_=o.getAttribute("src"),(_!==(w.src==null?null:w.src)||o.getAttribute("type")!==(w.type==null?null:w.type)||o.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&_&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(l==="input"&&o.type==="hidden"){var _=w.name==null?null:""+w.name;if(w.type==="hidden"&&o.getAttribute("name")===_)return o}else return o;if(o=Xs(o.nextSibling),o===null)break}return null}function AZ(o,l,f){if(l==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!f||(o=Xs(o.nextSibling),o===null))return null;return o}function zR(o,l){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!l||(o=Xs(o.nextSibling),o===null))return null;return o}function jA(o){return o.data==="$?"||o.data==="$~"}function zA(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function SZ(o,l){var f=o.ownerDocument;if(o.data==="$~")o._reactRetry=l;else if(o.data!=="$?"||f.readyState!=="loading")l();else{var y=function(){l(),f.removeEventListener("DOMContentLoaded",y)};f.addEventListener("DOMContentLoaded",y),o._reactRetry=y}}function Xs(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return o}var FA=null;function FR(o){o=o.nextSibling;for(var l=0;o;){if(o.nodeType===8){var f=o.data;if(f==="/$"||f==="/&"){if(l===0)return Xs(o.nextSibling);l--}else f!=="$"&&f!=="$!"&&f!=="$?"&&f!=="$~"&&f!=="&"||l++}o=o.nextSibling}return null}function qR(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var f=o.data;if(f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"){if(l===0)return o;l--}else f!=="/$"&&f!=="/&"||l++}o=o.previousSibling}return null}function WR(o,l,f){switch(l=kw(f),o){case"html":if(o=l.documentElement,!o)throw Error(r(452));return o;case"head":if(o=l.head,!o)throw Error(r(453));return o;case"body":if(o=l.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function jy(o){for(var l=o.attributes;l.length;)o.removeAttributeNode(l[0]);un(o)}var Js=new Map,HR=new Set;function Rw(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var yc=$.d;$.d={f:xZ,r:TZ,D:IZ,C:CZ,L:OZ,m:kZ,X:$Z,S:RZ,M:NZ};function xZ(){var o=yc.f(),l=Ew();return o||l}function TZ(o){var l=Xn(o);l!==null&&l.tag===5&&l.type==="form"?ck(l):yc.r(o)}var lh=typeof document>"u"?null:document;function VR(o,l,f){var y=lh;if(y&&typeof l=="string"&&l){var w=Fi(l);w='link[rel="'+o+'"][href="'+w+'"]',typeof f=="string"&&(w+='[crossorigin="'+f+'"]'),HR.has(w)||(HR.add(w),o={rel:o,crossOrigin:f,href:l},y.querySelector(w)===null&&(l=y.createElement("link"),ei(l,"link",o),lt(l),y.head.appendChild(l)))}}function IZ(o){yc.D(o),VR("dns-prefetch",o,null)}function CZ(o,l){yc.C(o,l),VR("preconnect",o,l)}function OZ(o,l,f){yc.L(o,l,f);var y=lh;if(y&&o&&l){var w='link[rel="preload"][as="'+Fi(l)+'"]';l==="image"&&f&&f.imageSrcSet?(w+='[imagesrcset="'+Fi(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(w+='[imagesizes="'+Fi(f.imageSizes)+'"]')):w+='[href="'+Fi(o)+'"]';var _=w;switch(l){case"style":_=uh(o);break;case"script":_=dh(o)}Js.has(_)||(o=p({rel:"preload",href:l==="image"&&f&&f.imageSrcSet?void 0:o,as:l},f),Js.set(_,o),y.querySelector(w)!==null||l==="style"&&y.querySelector(zy(_))||l==="script"&&y.querySelector(Fy(_))||(l=y.createElement("link"),ei(l,"link",o),lt(l),y.head.appendChild(l)))}}function kZ(o,l){yc.m(o,l);var f=lh;if(f&&o){var y=l&&typeof l.as=="string"?l.as:"script",w='link[rel="modulepreload"][as="'+Fi(y)+'"][href="'+Fi(o)+'"]',_=w;switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=dh(o)}if(!Js.has(_)&&(o=p({rel:"modulepreload",href:o},l),Js.set(_,o),f.querySelector(w)===null)){switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(Fy(_)))return}y=f.createElement("link"),ei(y,"link",o),lt(y),f.head.appendChild(y)}}}function RZ(o,l,f){yc.S(o,l,f);var y=lh;if(y&&o){var w=Ca(y).hoistableStyles,_=uh(o);l=l||"default";var R=w.get(_);if(!R){var q={loading:0,preload:null};if(R=y.querySelector(zy(_)))q.loading=5;else{o=p({rel:"stylesheet",href:o,"data-precedence":l},f),(f=Js.get(_))&&qA(o,f);var ne=R=y.createElement("link");lt(ne),ei(ne,"link",o),ne._p=new Promise(function(de,ve){ne.onload=de,ne.onerror=ve}),ne.addEventListener("load",function(){q.loading|=1}),ne.addEventListener("error",function(){q.loading|=2}),q.loading|=4,$w(R,l,y)}R={type:"stylesheet",instance:R,count:1,state:q},w.set(_,R)}}}function $Z(o,l){yc.X(o,l);var f=lh;if(f&&o){var y=Ca(f).hoistableScripts,w=dh(o),_=y.get(w);_||(_=f.querySelector(Fy(w)),_||(o=p({src:o,async:!0},l),(l=Js.get(w))&&WA(o,l),_=f.createElement("script"),lt(_),ei(_,"link",o),f.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},y.set(w,_))}}function NZ(o,l){yc.M(o,l);var f=lh;if(f&&o){var y=Ca(f).hoistableScripts,w=dh(o),_=y.get(w);_||(_=f.querySelector(Fy(w)),_||(o=p({src:o,async:!0,type:"module"},l),(l=Js.get(w))&&WA(o,l),_=f.createElement("script"),lt(_),ei(_,"link",o),f.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},y.set(w,_))}}function GR(o,l,f,y){var w=(w=ge.current)?Rw(w):null;if(!w)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(l=uh(f.href),f=Ca(w).hoistableStyles,y=f.get(l),y||(y={type:"style",instance:null,count:0,state:null},f.set(l,y)),y):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){o=uh(f.href);var _=Ca(w).hoistableStyles,R=_.get(o);if(R||(w=w.ownerDocument||w,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(o,R),(_=w.querySelector(zy(o)))&&!_._p&&(R.instance=_,R.state.loading=5),Js.has(o)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},Js.set(o,f),_||PZ(w,o,f,R.state))),l&&y===null)throw Error(r(528,""));return R}if(l&&y!==null)throw Error(r(529,""));return null;case"script":return l=f.async,f=f.src,typeof f=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=dh(f),f=Ca(w).hoistableScripts,y=f.get(l),y||(y={type:"script",instance:null,count:0,state:null},f.set(l,y)),y):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function uh(o){return'href="'+Fi(o)+'"'}function zy(o){return'link[rel="stylesheet"]['+o+"]"}function KR(o){return p({},o,{"data-precedence":o.precedence,precedence:null})}function PZ(o,l,f,y){o.querySelector('link[rel="preload"][as="style"]['+l+"]")?y.loading=1:(l=o.createElement("link"),y.preload=l,l.addEventListener("load",function(){return y.loading|=1}),l.addEventListener("error",function(){return y.loading|=2}),ei(l,"link",f),lt(l),o.head.appendChild(l))}function dh(o){return'[src="'+Fi(o)+'"]'}function Fy(o){return"script[async]"+o}function YR(o,l,f){if(l.count++,l.instance===null)switch(l.type){case"style":var y=o.querySelector('style[data-href~="'+Fi(f.href)+'"]');if(y)return l.instance=y,lt(y),y;var w=p({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return y=(o.ownerDocument||o).createElement("style"),lt(y),ei(y,"style",w),$w(y,f.precedence,o),l.instance=y;case"stylesheet":w=uh(f.href);var _=o.querySelector(zy(w));if(_)return l.state.loading|=4,l.instance=_,lt(_),_;y=KR(f),(w=Js.get(w))&&qA(y,w),_=(o.ownerDocument||o).createElement("link"),lt(_);var R=_;return R._p=new Promise(function(q,ne){R.onload=q,R.onerror=ne}),ei(_,"link",y),l.state.loading|=4,$w(_,f.precedence,o),l.instance=_;case"script":return _=dh(f.src),(w=o.querySelector(Fy(_)))?(l.instance=w,lt(w),w):(y=f,(w=Js.get(_))&&(y=p({},f),WA(y,w)),o=o.ownerDocument||o,w=o.createElement("script"),lt(w),ei(w,"link",y),o.head.appendChild(w),l.instance=w);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(y=l.instance,l.state.loading|=4,$w(y,f.precedence,o));return l.instance}function $w(o,l,f){for(var y=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=y.length?y[y.length-1]:null,_=w,R=0;R<y.length;R++){var q=y[R];if(q.dataset.precedence===l)_=q;else if(_!==w)break}_?_.parentNode.insertBefore(o,_.nextSibling):(l=f.nodeType===9?f.head:f,l.insertBefore(o,l.firstChild))}function qA(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.title==null&&(o.title=l.title)}function WA(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.integrity==null&&(o.integrity=l.integrity)}var Nw=null;function ZR(o,l,f){if(Nw===null){var y=new Map,w=Nw=new Map;w.set(f,y)}else w=Nw,y=w.get(f),y||(y=new Map,w.set(f,y));if(y.has(o))return y;for(y.set(o,null),f=f.getElementsByTagName(o),w=0;w<f.length;w++){var _=f[w];if(!(_[Yn]||_[mt]||o==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var R=_.getAttribute(l)||"";R=o+R;var q=y.get(R);q?q.push(_):y.set(R,[_])}}return y}function XR(o,l,f){o=o.ownerDocument||o,o.head.insertBefore(f,l==="title"?o.querySelector("head > title"):null)}function DZ(o,l,f){if(f===1||l.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;return l.rel==="stylesheet"?(o=l.disabled,typeof l.precedence=="string"&&o==null):!0;case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function JR(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function MZ(o,l,f,y){if(f.type==="stylesheet"&&(typeof y.media!="string"||matchMedia(y.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var w=uh(y.href),_=l.querySelector(zy(w));if(_){l=_._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(o.count++,o=Pw.bind(o),l.then(o,o)),f.state.loading|=4,f.instance=_,lt(_);return}_=l.ownerDocument||l,y=KR(y),(w=Js.get(w))&&qA(y,w),_=_.createElement("link"),lt(_);var R=_;R._p=new Promise(function(q,ne){R.onload=q,R.onerror=ne}),ei(_,"link",y),f.instance=_}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(f,l),(l=f.state.preload)&&(f.state.loading&3)===0&&(o.count++,f=Pw.bind(o),l.addEventListener("load",f),l.addEventListener("error",f))}}var HA=0;function UZ(o,l){return o.stylesheets&&o.count===0&&Mw(o,o.stylesheets),0<o.count||0<o.imgCount?function(f){var y=setTimeout(function(){if(o.stylesheets&&Mw(o,o.stylesheets),o.unsuspend){var _=o.unsuspend;o.unsuspend=null,_()}},6e4+l);0<o.imgBytes&&HA===0&&(HA=62500*gZ());var w=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&Mw(o,o.stylesheets),o.unsuspend)){var _=o.unsuspend;o.unsuspend=null,_()}},(o.imgBytes>HA?50:800)+l);return o.unsuspend=f,function(){o.unsuspend=null,clearTimeout(y),clearTimeout(w)}}:null}function Pw(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Mw(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Dw=null;function Mw(o,l){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Dw=new Map,l.forEach(BZ,o),Dw=null,Pw.call(o))}function BZ(o,l){if(!(l.state.loading&4)){var f=Dw.get(o);if(f)var y=f.get(null);else{f=new Map,Dw.set(o,f);for(var w=o.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<w.length;_++){var R=w[_];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(f.set(R.dataset.precedence,R),y=R)}y&&f.set(null,y)}w=l.instance,R=w.getAttribute("data-precedence"),_=f.get(R)||y,_===y&&f.set(null,w),f.set(R,w),this.count++,y=Pw.bind(this),w.addEventListener("load",y),w.addEventListener("error",y),_?_.parentNode.insertBefore(w,_.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(w,o.firstChild)),l.state.loading|=4}}var qy={$$typeof:S,Provider:null,Consumer:null,_currentValue:j,_currentValue2:j,_threadCount:0};function LZ(o,l,f,y,w,_,R,q,ne){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=U(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=U(0),this.hiddenUpdates=U(null),this.identifierPrefix=y,this.onUncaughtError=w,this.onCaughtError=_,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ne,this.incompleteTransitions=new Map}function QR(o,l,f,y,w,_,R,q,ne,de,ve,xe){return o=new LZ(o,l,f,R,ne,de,ve,xe,q),l=1,_===!0&&(l|=24),_=gs(3,null,null,l),o.current=_,_.stateNode=o,l=S2(),l.refCount++,o.pooledCache=l,l.refCount++,_.memoizedState={element:y,isDehydrated:f,cache:l},C2(_),o}function e4(o){return o?(o=Ff,o):Ff}function t4(o,l,f,y,w,_){w=e4(w),y.context===null?y.context=w:y.pendingContext=w,y=Tl(l),y.payload={element:f},_=_===void 0?null:_,_!==null&&(y.callback=_),f=Il(o,y,l),f!==null&&(Gi(f,o,l),_y(f,o,l))}function n4(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<l?f:l}}function VA(o,l){n4(o,l),(o=o.alternate)&&n4(o,l)}function r4(o){if(o.tag===13||o.tag===31){var l=Yu(o,67108864);l!==null&&Gi(l,o,67108864),VA(o,67108864)}}function i4(o){if(o.tag===13||o.tag===31){var l=Es();l=Ce(l);var f=Yu(o,l);f!==null&&Gi(f,o,l),VA(o,l)}}var Uw=!0;function jZ(o,l,f,y){var w=x.T;x.T=null;var _=$.p;try{$.p=2,GA(o,l,f,y)}finally{$.p=_,x.T=w}}function zZ(o,l,f,y){var w=x.T;x.T=null;var _=$.p;try{$.p=8,GA(o,l,f,y)}finally{$.p=_,x.T=w}}function GA(o,l,f,y){if(Uw){var w=KA(y);if(w===null)NA(o,l,y,Bw,f),a4(o,y);else if(qZ(w,o,l,f,y))y.stopPropagation();else if(a4(o,y),l&4&&-1<FZ.indexOf(o)){for(;w!==null;){var _=Xn(w);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var R=ys(_.pendingLanes);if(R!==0){var q=_;for(q.pendingLanes|=2,q.entangledLanes|=2;R;){var ne=1<<31-Xt(R);q.entanglements[1]|=ne,R&=~ne}ho(_),(rn&6)===0&&(vw=_n()+500,Uy(0))}}break;case 31:case 13:q=Yu(_,2),q!==null&&Gi(q,_,2),Ew(),VA(_,2)}if(_=KA(y),_===null&&NA(o,l,y,Bw,f),_===w)break;w=_}w!==null&&y.stopPropagation()}else NA(o,l,y,null,f)}}function KA(o){return o=ay(o),YA(o)}var Bw=null;function YA(o){if(Bw=null,o=Zn(o),o!==null){var l=s(o);if(l===null)o=null;else{var f=l.tag;if(f===13){if(o=a(l),o!==null)return o;o=null}else if(f===31){if(o=c(l),o!==null)return o;o=null}else if(f===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null)}}return Bw=o,null}function s4(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ia()){case ps:return 2;case Li:return 8;case mn:case Nr:return 32;case Kr:return 268435456;default:return 32}default:return 32}}var ZA=!1,Bl=null,Ll=null,jl=null,Wy=new Map,Hy=new Map,zl=[],FZ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function a4(o,l){switch(o){case"focusin":case"focusout":Bl=null;break;case"dragenter":case"dragleave":Ll=null;break;case"mouseover":case"mouseout":jl=null;break;case"pointerover":case"pointerout":Wy.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hy.delete(l.pointerId)}}function Vy(o,l,f,y,w,_){return o===null||o.nativeEvent!==_?(o={blockedOn:l,domEventName:f,eventSystemFlags:y,nativeEvent:_,targetContainers:[w]},l!==null&&(l=Xn(l),l!==null&&r4(l)),o):(o.eventSystemFlags|=y,l=o.targetContainers,w!==null&&l.indexOf(w)===-1&&l.push(w),o)}function qZ(o,l,f,y,w){switch(l){case"focusin":return Bl=Vy(Bl,o,l,f,y,w),!0;case"dragenter":return Ll=Vy(Ll,o,l,f,y,w),!0;case"mouseover":return jl=Vy(jl,o,l,f,y,w),!0;case"pointerover":var _=w.pointerId;return Wy.set(_,Vy(Wy.get(_)||null,o,l,f,y,w)),!0;case"gotpointercapture":return _=w.pointerId,Hy.set(_,Vy(Hy.get(_)||null,o,l,f,y,w)),!0}return!1}function o4(o){var l=Zn(o.target);if(l!==null){var f=s(l);if(f!==null){if(l=f.tag,l===13){if(l=a(f),l!==null){o.blockedOn=l,yt(o.priority,function(){i4(f)});return}}else if(l===31){if(l=c(f),l!==null){o.blockedOn=l,yt(o.priority,function(){i4(f)});return}}else if(l===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Lw(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var f=KA(o.nativeEvent);if(f===null){f=o.nativeEvent;var y=new f.constructor(f.type,f);sy=y,f.target.dispatchEvent(y),sy=null}else return l=Xn(f),l!==null&&r4(l),o.blockedOn=f,!1;l.shift()}return!0}function c4(o,l,f){Lw(o)&&f.delete(l)}function WZ(){ZA=!1,Bl!==null&&Lw(Bl)&&(Bl=null),Ll!==null&&Lw(Ll)&&(Ll=null),jl!==null&&Lw(jl)&&(jl=null),Wy.forEach(c4),Hy.forEach(c4)}function jw(o,l){o.blockedOn===l&&(o.blockedOn=null,ZA||(ZA=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,WZ)))}var zw=null;function l4(o){zw!==o&&(zw=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){zw===o&&(zw=null);for(var l=0;l<o.length;l+=3){var f=o[l],y=o[l+1],w=o[l+2];if(typeof y!="function"){if(YA(y||f)===null)continue;break}var _=Xn(f);_!==null&&(o.splice(l,3),l-=3,K2(_,{pending:!0,data:w,method:f.method,action:y},y,w))}}))}function fh(o){function l(ne){return jw(ne,o)}Bl!==null&&jw(Bl,o),Ll!==null&&jw(Ll,o),jl!==null&&jw(jl,o),Wy.forEach(l),Hy.forEach(l);for(var f=0;f<zl.length;f++){var y=zl[f];y.blockedOn===o&&(y.blockedOn=null)}for(;0<zl.length&&(f=zl[0],f.blockedOn===null);)o4(f),f.blockedOn===null&&zl.shift();if(f=(o.ownerDocument||o).$$reactFormReplay,f!=null)for(y=0;y<f.length;y+=3){var w=f[y],_=f[y+1],R=w[Ct]||null;if(typeof _=="function")R||l4(f);else if(R){var q=null;if(_&&_.hasAttribute("formAction")){if(w=_,R=_[Ct]||null)q=R.formAction;else if(YA(w)!==null)continue}else q=R.action;typeof q=="function"?f[y+1]=q:(f.splice(y,3),y-=3),l4(f)}}}function u4(){function o(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(R){return w=R})},focusReset:"manual",scroll:"manual"})}function l(){w!==null&&(w(),w=null),y||setTimeout(f,20)}function f(){if(!y&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var y=!1,w=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(f,100),function(){y=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),w!==null&&(w(),w=null)}}}function XA(o){this._internalRoot=o}Fw.prototype.render=XA.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(r(409));var f=l.current,y=Es();t4(f,y,o,l,null,null)},Fw.prototype.unmount=XA.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;t4(o.current,2,null,o,null,null),Ew(),l[Je]=null}};function Fw(o){this._internalRoot=o}Fw.prototype.unstable_scheduleHydration=function(o){if(o){var l=Xe();o={blockedOn:null,target:o,priority:l};for(var f=0;f<zl.length&&l!==0&&l<zl[f].priority;f++);zl.splice(f,0,o),f===0&&o4(o)}};var d4=e.version;if(d4!=="19.2.3")throw Error(r(527,d4,"19.2.3"));$.findDOMNode=function(o){var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=d(l),o=o!==null?h(o):null,o=o===null?null:o.stateNode,o};var HZ={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:x,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qw=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qw.isDisabled&&qw.supportsFiber)try{ct=qw.inject(HZ),ht=qw}catch{}}return Ky.createRoot=function(o,l){if(!i(o))throw Error(r(299));var f=!1,y="",w=bk,_=wk,R=vk;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onUncaughtError!==void 0&&(w=l.onUncaughtError),l.onCaughtError!==void 0&&(_=l.onCaughtError),l.onRecoverableError!==void 0&&(R=l.onRecoverableError)),l=QR(o,1,!1,null,null,f,y,null,w,_,R,u4),o[Je]=l.current,$A(o),new XA(l)},Ky.hydrateRoot=function(o,l,f){if(!i(o))throw Error(r(299));var y=!1,w="",_=bk,R=wk,q=vk,ne=null;return f!=null&&(f.unstable_strictMode===!0&&(y=!0),f.identifierPrefix!==void 0&&(w=f.identifierPrefix),f.onUncaughtError!==void 0&&(_=f.onUncaughtError),f.onCaughtError!==void 0&&(R=f.onCaughtError),f.onRecoverableError!==void 0&&(q=f.onRecoverableError),f.formState!==void 0&&(ne=f.formState)),l=QR(o,1,!0,l,f??null,y,w,ne,_,R,q,u4),l.context=e4(null),f=l.current,y=Es(),y=Ce(y),w=Tl(y),w.callback=null,Il(f,w,y),f=y,l.current.lanes=f,W(l,f),ho(l),o[Je]=l.current,$A(o),new Fw(l)},Ky.version="19.2.3",Ky}var E4;function tX(){if(E4)return eS.exports;E4=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),eS.exports=eX(),eS.exports}var nX=tX();const rX="modulepreload",iX=function(t){return"/"+t},A4={},Fe=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let u=function(d){return Promise.all(d.map(h=>Promise.resolve(h).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),c=a?.nonce||a?.getAttribute("nonce");i=u(n.map(d=>{if(d=iX(d),d in A4)return;A4[d]=!0;const h=d.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${p}`))return;const m=document.createElement("link");if(m.rel=h?"stylesheet":rX,h||(m.as="script"),m.crossOrigin="",m.href=d,c&&m.setAttribute("nonce",c),document.head.appendChild(m),h)return new Promise((g,b)=>{m.addEventListener("load",g),m.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(a){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=a,window.dispatchEvent(c),!c.defaultPrevented)throw a}return i.then(a=>{for(const c of a||[])c.status==="rejected"&&s(c.reason);return e().catch(s)})},sX={path:"/api/v1/analytics_events",method:"POST"},aX={path:"/api/v1/apps/:app_id",method:"GET"},oX={path:"/api/v1/funding/coinbase_on_ramp/init",method:"POST"},cX={path:"/api/v1/funding/coinbase_on_ramp/status",method:"GET"},lX={path:"/api/v1/apps/:app_id/cross-app/connections",method:"GET"},uX={path:"/api/v1/custom_jwt_account/authenticate",method:"POST"},dX={path:"/api/v1/farcaster/init",method:"POST"},fX={path:"/api/v1/farcaster/authenticate",method:"POST"},hX={path:"/api/v1/farcaster/link",method:"POST"},pX={path:"/api/v1/farcaster/unlink",method:"POST"},yX={path:"/api/v1/farcaster/status",method:"GET"},mX={path:"/api/v2/farcaster/init",method:"POST"},gX={path:"/api/v2/farcaster/authenticate",method:"POST"},bX={path:"/api/v1/guest/authenticate",method:"POST"},wX={path:"/api/v1/mfa/passkeys/init",method:"POST"},vX={path:"/api/v1/mfa/passwordless_sms/init",method:"POST"},_X={path:"/api/v1/oauth/authenticate",method:"POST"},EX={path:"/api/v1/oauth/init",method:"POST"},AX={path:"/api/v1/oauth/link",method:"POST"},SX={path:"/api/v1/oauth/unlink",method:"POST"},xX={path:"/api/v1/passkeys/link",method:"POST"},TX={path:"/api/v1/passkeys/authenticate",method:"POST"},IX={path:"/api/v1/passkeys/register",method:"POST"},CX={path:"/api/v1/passkeys/authenticate/init",method:"POST"},OX={path:"/api/v1/passkeys/register/init",method:"POST"},kX={path:"/api/v1/passkeys/link/init",method:"POST"},RX={path:"/api/v1/passwordless/authenticate",method:"POST"},$X={path:"/api/v1/passwordless/init",method:"POST"},NX={path:"/api/v1/passwordless/link",method:"POST"},PX={path:"/api/v1/passwordless/unlink",method:"POST"},DX={path:"/api/v1/passwordless/update",method:"POST"},MX={path:"/api/v1/passwordless_sms/authenticate",method:"POST"},UX={path:"/api/v1/passwordless_sms/init",method:"POST"},BX={path:"/api/v1/passwordless_sms/link",method:"POST"},LX={path:"/api/v1/passwordless_sms/unlink",method:"POST"},jX={path:"/api/v1/passwordless_sms/update",method:"POST"},zX={path:"/api/v1/embedded_wallets/:address/recovery/key_material",method:"POST"},FX={path:"/api/v1/recovery/oauth/init",method:"POST"},qX={path:"/api/v1/recovery/oauth/authenticate",method:"POST"},WX={path:"/api/v1/recovery/oauth/init_icloud",method:"POST"},HX={path:"/api/v1/recovery/configuration_icloud",method:"POST"},VX=(t,e)=>e?Object.entries(e).reduce(((n,[r,i])=>n.replace(`:${r}`,`${i}`)),t):t,S4={path:"/api/v1/sessions",method:"POST"},GX={path:"/api/v1/sessions/logout",method:"POST"},KX={path:"/api/v1/apps/:app_id/smart_wallets",method:"GET"},hB={path:"/api/v1/siwe/init",method:"POST"},YX={path:"/api/v1/siwe/authenticate",method:"POST"},ZX={path:"/api/v1/siwe/link",method:"POST"},XX={path:"/api/v1/siwe/link_smart_wallet",method:"POST"},JX={path:"/api/v1/siwe/unlink",method:"POST"},QX={path:"/api/v1/siws/init",method:"POST"},eJ={path:"/api/v1/siws/authenticate",method:"POST"},tJ={path:"/api/v1/siws/link",method:"POST"},nJ={path:"/api/v1/siws/unlink",method:"POST"},rJ={path:"/api/v1/users/me/accept_terms",method:"POST"},iJ={path:"/api/v1/plugins/moonpay_on_ramp/sign",method:"POST"},sJ={path:"/api/v1/wallets",method:"POST"},iS={path:"/api/v1/wallets/:wallet_id/rpc",method:"POST"},aJ={path:"/api/v1/wallets/revoke",method:"POST"};let oJ=class{getConfig(){return this._privyInternal.config}async getSmartWalletConfig(){return this._smartWalletConfig||(this._smartWalletConfig=await this._privyInternal.fetch(KX,{params:{app_id:this.appId}})),this._smartWalletConfig}get appId(){return this._privyInternal.appId}constructor(e){this._privyInternal=e}};const cJ=new TextEncoder,pB=new TextDecoder,lJ=t=>{let e=t;typeof e=="string"&&(e=cJ.encode(e));const n=32768,r=[];for(let i=0;i<e.length;i+=n)r.push(String.fromCharCode.apply(null,e.subarray(i,i+n)));return btoa(r.join(""))},uJ=t=>lJ(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),dJ=t=>{const e=atob(t),n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n},fJ=t=>{let e=t;e instanceof Uint8Array&&(e=pB.decode(e)),e=e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return dJ(e)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};class hJ extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(e){var n;super(e),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(n=Error.captureStackTrace)===null||n===void 0||n.call(Error,this,this.constructor)}}class cd extends hJ{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}}function pJ(t){return typeof t=="object"&&t!==null}function yJ(t){if(!pJ(t)||Object.prototype.toString.call(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}const Yd=uJ,mJ=fJ;function X6(t){if(typeof t!="string")throw new cd("JWTs must use Compact JWS serialization, JWT must be a string");const{1:e,length:n}=t.split(".");if(n===5)throw new cd("Only JWTs using Compact JWS serialization can be decoded");if(n!==3)throw new cd("Invalid JWT");if(!e)throw new cd("JWTs must contain a payload");let r;try{r=mJ(e)}catch{throw new cd("Failed to base64url decode the payload")}let i;try{i=JSON.parse(pB.decode(r))}catch{throw new cd("Failed to parse the decoded payload as JSON")}if(!yJ(i))throw new cd("Invalid JWT Claims Set");return i}let $h=class yB{static parse(e){try{return new yB(e)}catch{return null}}get subject(){return this._decoded.sub}get expiration(){return this._decoded.exp}get issuer(){return this._decoded.iss}get audience(){return this._decoded.aud}isExpired(e=0){return Date.now()>=1e3*(this.expiration-e)}constructor(e){this.value=e,this._decoded=X6(e)}},mB=class J6{async updateOnCrossAppAuthentication(e,n){let r=n.access_token,i=J6.providerAccessTokenStorageKey(e);await this._storage.put(i,r)}async getProviderAccessToken(e){let n=J6.providerAccessTokenStorageKey(e),r=await this._storage.get(n);if(typeof r!="string")return null;try{if(new $h(r).isExpired())throw Error("JWT is expired");return r}catch{return await this._storage.del(n),null}}async getCrossAppConnections(){return await this._privyInternal.fetch(lX,{params:{app_id:this._privyInternal.appId}})}constructor(e,n){this._privyInternal=e,this._storage=n}};mB.providerAccessTokenStorageKey=t=>`privy:cross-app:${t}`;let gJ=class{async revoke(){await this._privyInternal.fetch(aJ,{})}constructor(e){this._privyInternal=e}};function bJ(t,e){return{...t,rpcUrls:{...t.rpcUrls,privy:{http:[e]}}}}const N0={id:42161,name:"Arbitrum One",network:"arbitrum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://arbitrum-mainnet.rpc.privy.systems"]},alchemy:{http:["https://arb-mainnet.g.alchemy.com/v2"],webSocket:["wss://arb-mainnet.g.alchemy.com/v2"]},infura:{http:["https://arbitrum-mainnet.infura.io/v3"],webSocket:["wss://arbitrum-mainnet.infura.io/ws/v3"]},default:{http:["https://arb1.arbitrum.io/rpc"]},public:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{etherscan:{name:"Arbiscan",url:"https://arbiscan.io"},default:{name:"Arbiscan",url:"https://arbiscan.io"}}},gB={id:421614,name:"Arbitrum Sepolia",network:"arbitrum-sepolia",nativeCurrency:{name:"Arbitrum Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://arbitrum-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia-rollup.arbitrum.io/rpc"]},public:{http:["https://sepolia-rollup.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Blockscout",url:"https://sepolia-explorer.arbitrum.io"}},testnet:!0},P0={id:43114,name:"Avalanche",network:"avalanche",nativeCurrency:{decimals:18,name:"Avalanche",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax.network/ext/bc/C/rpc"]},public:{http:["https://api.avax.network/ext/bc/C/rpc"]}},blockExplorers:{etherscan:{name:"SnowTrace",url:"https://snowtrace.io"},default:{name:"SnowTrace",url:"https://snowtrace.io"}}},bB={id:43113,name:"Avalanche Fuji",network:"avalanche-fuji",nativeCurrency:{decimals:18,name:"Avalanche Fuji",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax-test.network/ext/bc/C/rpc"]},public:{http:["https://api.avax-test.network/ext/bc/C/rpc"]}},blockExplorers:{etherscan:{name:"SnowTrace",url:"https://testnet.snowtrace.io"},default:{name:"SnowTrace",url:"https://testnet.snowtrace.io"}},testnet:!0},D0={id:8453,network:"base",name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://base-mainnet.rpc.privy.systems"]},default:{http:["https://mainnet.base.org"]},public:{http:["https://mainnet.base.org"]}},blockExplorers:{etherscan:{name:"Basescan",url:"https://basescan.org"},default:{name:"Basescan",url:"https://basescan.org"}}},wB={id:84532,network:"base-sepolia",name:"Base Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://base-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia.base.org"]},public:{http:["https://sepolia.base.org"]}},blockExplorers:{default:{name:"Blockscout",url:"https://base-sepolia.blockscout.com"}},testnet:!0},wJ={id:80085,network:"berachain-artio",name:"Berachain Artio",nativeCurrency:{name:"BERA",symbol:"BERA",decimals:18},rpcUrls:{default:{http:["https://berachain-artio.rpc.privy.systems"]},public:{http:["https://berachain-artio.rpc.privy.systems"]}},blockExplorers:{default:{name:"Beratrail",url:"https://artio.beratrail.io"}},testnet:!0},vJ={id:56,network:"bsc",name:"Binance Smart Chain",nativeCurrency:{name:"BNB",symbol:"BNB",decimals:18},rpcUrls:{privy:{http:["https://bsc-mainnet.rpc.privy.systems"]},default:{http:["https://56.rpc.thirdweb.com"]},public:{http:["https://56.rpc.thirdweb.com"]}},blockExplorers:{etherscan:{name:"BscScan",url:"https://bscscan.com"},default:{name:"BscScan",url:"https://bscscan.com"}}},W3={id:42220,name:"Celo Mainnet",network:"celo",nativeCurrency:{decimals:18,name:"CELO",symbol:"CELO"},rpcUrls:{default:{http:["https://forno.celo.org"]},infura:{http:["https://celo-mainnet.infura.io/v3"]},public:{http:["https://forno.celo.org"]}},blockExplorers:{default:{name:"Celo Explorer",url:"https://explorer.celo.org/mainnet"},etherscan:{name:"CeloScan",url:"https://celoscan.io"}},testnet:!1},_J={id:44787,name:"Celo Alfajores Testnet",network:"celo-alfajores",nativeCurrency:{decimals:18,name:"CELO",symbol:"CELO"},rpcUrls:{default:{http:["https://alfajores-forno.celo-testnet.org"]},infura:{http:["https://celo-alfajores.infura.io/v3"]},public:{http:["https://alfajores-forno.celo-testnet.org"]}},blockExplorers:{default:{name:"Celo Explorer",url:"https://explorer.celo.org/alfajores"},etherscan:{name:"CeloScan",url:"https://alfajores.celoscan.io/"}},testnet:!0},EJ={id:314,name:"Filecoin - Mainnet",network:"filecoin-mainnet",nativeCurrency:{decimals:18,name:"filecoin",symbol:"FIL"},rpcUrls:{default:{http:["https://api.node.glif.io/rpc/v1"]},public:{http:["https://api.node.glif.io/rpc/v1"]}},blockExplorers:{default:{name:"Filfox",url:"https://filfox.info/en"},filscan:{name:"Filscan",url:"https://filscan.io"},filscout:{name:"Filscout",url:"https://filscout.io/en"},glif:{name:"Glif",url:"https://explorer.glif.io"}}},AJ={id:314159,name:"Filecoin - Calibration testnet",network:"filecoin-calibration",nativeCurrency:{decimals:18,name:"testnet filecoin",symbol:"tFIL"},rpcUrls:{default:{http:["https://api.calibration.node.glif.io/rpc/v1"]},public:{http:["https://api.calibration.node.glif.io/rpc/v1"]}},blockExplorers:{default:{name:"Filscan",url:"https://calibration.filscan.io"}}},SJ={id:17069,name:"Garnet Holesky",network:"garnet-holesky",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.garnetchain.com"]},public:{http:["https://rpc.garnetchain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.garnetchain.com"}}},xJ={id:17e3,name:"Holesky",network:"holesky",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://ethereum-holesky.publicnode.com"]},public:{http:["https://ethereum-holesky.publicnode.com"]}},blockExplorers:{etherscan:{name:"EtherScan",url:"https://holesky.etherscan.io"},default:{name:"EtherScan",url:"https://holesky.etherscan.io"}}},TJ={id:59144,network:"linea-mainnet",name:"Linea Mainnet",nativeCurrency:{name:"Linea Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.linea.build"],webSocket:["wss://rpc.linea.build"]},public:{http:["https://rpc.linea.build"],webSocket:["wss://rpc.linea.build"]}},blockExplorers:{default:{name:"Etherscan",url:"https://lineascan.build"},etherscan:{name:"Etherscan",url:"https://lineascan.build"}},testnet:!1},IJ={id:59140,network:"linea-testnet",name:"Linea Goerli Testnet",nativeCurrency:{name:"Linea Ether",symbol:"ETH",decimals:18},rpcUrls:{infura:{http:["https://linea-goerli.infura.io/v3"],webSocket:["wss://linea-goerli.infura.io/ws/v3"]},default:{http:["https://rpc.goerli.linea.build"],webSocket:["wss://rpc.goerli.linea.build"]},public:{http:["https://rpc.goerli.linea.build"],webSocket:["wss://rpc.goerli.linea.build"]}},blockExplorers:{default:{name:"Etherscan",url:"https://goerli.lineascan.build"},etherscan:{name:"Etherscan",url:"https://goerli.lineascan.build"}},testnet:!0},CJ={id:42,network:"lukso",name:"LUKSO",nativeCurrency:{name:"LUKSO",symbol:"LYX",decimals:18},rpcUrls:{default:{http:["https://rpc.mainnet.lukso.network"],webSocket:["wss://ws-rpc.mainnet.lukso.network"]}},blockExplorers:{default:{name:"LUKSO Mainnet Explorer",url:"https://explorer.execution.mainnet.lukso.network"}}},Mp={id:1,network:"homestead",name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://mainnet.rpc.privy.systems"]},alchemy:{http:["https://eth-mainnet.g.alchemy.com/v2"],webSocket:["wss://eth-mainnet.g.alchemy.com/v2"]},infura:{http:["https://mainnet.infura.io/v3"],webSocket:["wss://mainnet.infura.io/ws/v3"]},default:{http:["https://cloudflare-eth.com"]},public:{http:["https://cloudflare-eth.com"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://etherscan.io"},default:{name:"Etherscan",url:"https://etherscan.io"}}},H3={id:10,name:"OP Mainnet",network:"optimism",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://optimism-mainnet.rpc.privy.systems"]},alchemy:{http:["https://opt-mainnet.g.alchemy.com/v2"],webSocket:["wss://opt-mainnet.g.alchemy.com/v2"]},infura:{http:["https://optimism-mainnet.infura.io/v3"],webSocket:["wss://optimism-mainnet.infura.io/ws/v3"]},default:{http:["https://mainnet.optimism.io"]},public:{http:["https://mainnet.optimism.io"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://optimistic.etherscan.io"},default:{name:"Optimism Explorer",url:"https://explorer.optimism.io"}}},vB={id:11155420,name:"Optimism Sepolia",network:"optimism-sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://optimism-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia.optimism.io"]},public:{http:["https://sepolia.optimism.io"]},infura:{http:["https://optimism-sepolia.infura.io/v3"]}},blockExplorers:{default:{name:"Blockscout",url:"https://optimism-sepolia.blockscout.com"}},testnet:!0},M0={id:137,name:"Polygon Mainnet",network:"polygon",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{privy:{http:["https://polygon-mainnet.rpc.privy.systems"]},alchemy:{http:["https://polygon-mainnet.g.alchemy.com/v2"],webSocket:["wss://polygon-mainnet.g.alchemy.com/v2"]},infura:{http:["https://polygon-mainnet.infura.io/v3"],webSocket:["wss://polygon-mainnet.infura.io/ws/v3"]},default:{http:["https://polygon-rpc.com"]},public:{http:["https://polygon-rpc.com"]}},blockExplorers:{etherscan:{name:"PolygonScan",url:"https://polygonscan.com"},default:{name:"PolygonScan",url:"https://polygonscan.com"}}},_B={id:80002,name:"Polygon Amoy",network:"polygon-amoy",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{privy:{http:["https://polygon-amoy.rpc.privy.systems"]},infura:{http:["https://polygon-amoy.infura.io/v3"],webSocket:["wss://polygon-amoy.infura.io/ws/v3"]},default:{http:["https://rpc-amoy.polygon.technology"]}},blockExplorers:{default:{name:"OK LINK",url:"https://www.oklink.com/amoy"}},testnet:!0},OJ={id:690,name:"Redstone",network:"redstone",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.redstonechain.com"]},public:{http:["https://rpc.redstonechain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.redstone.xyz/"}}},EB={id:11155111,network:"sepolia",name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"SEP",decimals:18},rpcUrls:{privy:{http:["https://sepolia.rpc.privy.systems"]},alchemy:{http:["https://eth-sepolia.g.alchemy.com/v2"],webSocket:["wss://eth-sepolia.g.alchemy.com/v2"]},infura:{http:["https://sepolia.infura.io/v3"],webSocket:["wss://sepolia.infura.io/ws/v3"]},default:{http:["https://rpc.sepolia.org"]},public:{http:["https://rpc.sepolia.org"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://sepolia.etherscan.io"},default:{name:"Etherscan",url:"https://sepolia.etherscan.io"}},testnet:!0},kJ={id:7777777,name:"Zora",network:"zora",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.zora.energy"],webSocket:["wss://rpc.zora.energy"]},public:{http:["https://rpc.zora.energy"],webSocket:["wss://rpc.zora.energy"]}},blockExplorers:{default:{name:"Explorer",url:"https://explorer.zora.energy"}}},RJ={id:999999999,name:"Zora Sepolia",network:"zora-sepolia",nativeCurrency:{decimals:18,name:"Zora Sepolia",symbol:"ETH"},rpcUrls:{default:{http:["https://sepolia.rpc.zora.energy"],webSocket:["wss://sepolia.rpc.zora.energy"]},public:{http:["https://sepolia.rpc.zora.energy"],webSocket:["wss://sepolia.rpc.zora.energy"]}},blockExplorers:{default:{name:"Zora Sepolia Explorer",url:"https://sepolia.explorer.zora.energy/"}},testnet:!0},$J={id:999,name:"Zora Goerli Testnet",network:"zora-testnet",nativeCurrency:{decimals:18,name:"Zora Goerli",symbol:"ETH"},rpcUrls:{default:{http:["https://testnet.rpc.zora.energy"],webSocket:["wss://testnet.rpc.zora.energy"]},public:{http:["https://testnet.rpc.zora.energy"],webSocket:["wss://testnet.rpc.zora.energy"]}},blockExplorers:{default:{name:"Explorer",url:"https://testnet.explorer.zora.energy"}},testnet:!0},T_=[Mp,EB,xJ,N0,gB,H3,vB,M0,_B,W3,_J,EJ,AJ,D0,wB,wJ,vJ,CJ,TJ,IJ,P0,bB,kJ,$J,RJ,OJ,SJ],NJ=new Set(T_.map((t=>t.id))),AB=t=>t.map((e=>{if(e.rpcUrls.privyWalletOverride)return e;let n=T_.find((i=>i.id===e.id)),r=n?.rpcUrls.privy?.http[0];return r?bJ(e,r):e}));let sS=class extends Error{constructor({error:e,code:n}){super(e),this.error=e,this.code=n}},nn=class extends Error{constructor({error:e,code:n}){super(e),this.code=n,this.error=e}},PJ=class extends Error{constructor({error:e,code:n,response:r}){super(e),this.code=n,this.error=e,this.response=r}};const pu=t=>!!t.id&&t.recovery_method==="privy-v2";let DJ=class{async sign({message:e}){return await this.request({method:"sign",params:{message:new TextDecoder("utf8").decode(e)}})}async signTransaction({psbt:e}){return await this.request({method:"signTransaction",params:{psbt:e}})}async request(e){if(pu(this._account))throw new nn({code:"unsupported_wallet_type",error:"Bitcoin wallet providers are only supported for on-device execution and this app uses TEE execution. Use the useSignRawHash hook from @privy-io/expo/extended-chains to sign over a hash with this wallet. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide"});if(!await this._privyInternal.getAccessTokenInternal())throw new nn({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});return this.handleIFrameRpc(e)}async handleIFrameRpc(e){try{let n=await this._privyInternal.getAccessTokenInternal();if(!n)throw Error("Missing access token. User must be authenticated.");return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),(await this._proxy.rpcWallet({accessToken:n,request:e,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,hdWalletIndex:this._account.wallet_index,chainType:this._account.chain_type})).response.data}catch(n){console.error(n);let r=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:r}),new nn({code:"embedded_wallet_request_error",error:r})}}toJSON(){return`PrivyEmbeddedBitcoinProvider { address: '${this._account.address}', request: [Function] }`}constructor({proxy:e,privyInternal:n,account:r,entropyId:i,entropyIdVerifier:s}){this._proxy=e,this._privyInternal=n,this._account=r,this._entropyId=i,this._entropyIdVerifier=s}};const MJ=["error","invalid_request_arguments","wallet_not_on_device","invalid_recovery_pin","insufficient_funds","mfa_timeout","missing_or_invalid_mfa","mfa_verification_max_attempts_reached"];var Ki;(Ki={}).MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",Ki.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",Ki.INVALID_DATA="invalid_data",Ki.LINKED_TO_ANOTHER_USER="linked_to_another_user",Ki.ALLOWLIST_REJECTED="allowlist_rejected",Ki.OAUTH_USER_DENIED="oauth_user_denied",Ki.UNKNOWN_AUTH_ERROR="unknown_auth_error",Ki.USER_EXITED_AUTH_FLOW="exited_auth_flow",Ki.MUST_BE_AUTHENTICATED="must_be_authenticated",Ki.UNKNOWN_CONNECT_WALLET_ERROR="unknown_connect_wallet_error",Ki.GENERIC_CONNECT_WALLET_ERROR="generic_connect_wallet_error",Ki.CLIENT_REQUEST_TIMEOUT="client_request_timeout",Ki.INVALID_CREDENTIALS="invalid_credentials";let UJ=class extends Error{toString(){return`${this.type}${this.privyErrorCode?`-${this.privyErrorCode}`:""}: ${this.message}${this.cause?` [cause: ${this.cause}]`:""}`}constructor(e,n,r){super(e),n instanceof Error&&(this.cause=n),this.privyErrorCode=r}},Dv=class extends Error{constructor(e,n){super(n),this.type=e}},SB=class extends UJ{constructor(e,n,r){super(e,n,r),this.type="connector_error"}},x4=class extends Error{constructor(e,n,r){super(e),this.code=n,this.data=r}};const Nh={UNKNOWN_ERROR:{eipCode:0,message:"Unknown error",detail:"Unknown error",retryable:!0},E4001_DEFAULT_USER_REJECTED_REQUEST:{eipCode:4001,message:"User Rejected Request",detail:"The user rejected the request.",default:!0,retryable:!0},E4100_DEFAULT_UNAUTHORIZED:{eipCode:4100,message:"Unauthorized",detail:"The requested method and/or account has not been authorized by the user.",default:!0,retryable:!1},E4200_DEFAULT_UNSUPPORTED_METHOD:{eipCode:4200,message:"Unsupported Method",detail:"The Provider does not support the requested method.",default:!0,retryable:!1},E4900_DEFAULT_DISCONNECTED:{eipCode:4900,message:"Disconnected",detail:"The Provider is disconnected from all chains.",default:!0,retryable:!0},E4901_DEFAULT_CHAIN_DISCONNECTED:{eipCode:4901,message:"Chain Disconnected",detail:"The Provider is not connected to the requested chain.",default:!0,retryable:!0},E32700_DEFAULT_PARSE_ERROR:{eipCode:-32700,message:"Parse error",detail:"Invalid JSON",default:!0,retryable:!1},E32600_DEFAULT_INVALID_REQUEST:{eipCode:-32600,message:"Invalid request",detail:"JSON is not a valid request object",default:!0,retryable:!1},E32601_DEFAULT_METHOD_NOT_FOUND:{eipCode:-32601,message:"Method not found",detail:"Method does not exist",default:!0,retryable:!1},E32602_DEFAULT_INVALID_PARAMS:{eipCode:-32602,message:"Invalid params",detail:"Invalid method parameters",default:!0,retryable:!1},E32603_DEFAULT_INTERNAL_ERROR:{eipCode:-32603,message:"Internal error",detail:"Internal JSON-RPC error",default:!0,retryable:!0},E32000_DEFAULT_INVALID_INPUT:{eipCode:-32e3,message:"Invalid input",detail:"Missing or invalid parameters",default:!0,retryable:!1},E32001_DEFAULT_RESOURCE_NOT_FOUND:{eipCode:-32001,message:"Resource not found",detail:"Requested resource not found",default:!0,retryable:!1},E32002_DEFAULT_RESOURCE_UNAVAILABLE:{eipCode:-32002,message:"Resource unavailable",detail:"Requested resource not available",default:!0,retryable:!0},E32003_DEFAULT_TRANSACTION_REJECTED:{eipCode:-32003,message:"Transaction rejected",detail:"Transaction creation failed",default:!0,retryable:!0},E32004_DEFAULT_METHOD_NOT_SUPPORTED:{eipCode:-32004,message:"Method not supported",detail:"Method is not implemented",default:!0,retryable:!1},E32005_DEFAULT_LIMIT_EXCEEDED:{eipCode:-32005,message:"Limit exceeded",detail:"Request exceeds defined limit",default:!0,retryable:!1},E32006_DEFAULT_JSON_RPC_VERSION_NOT_SUPPORTED:{eipCode:-32006,message:"JSON-RPC version not supported",detail:"Version of JSON-RPC protocol is not supported",default:!0,retryable:!1},E32002_CONNECTION_ALREADY_PENDING:{eipCode:-32002,message:"Connection request already pending",detail:"Dont see your wallet? Check your other browser windows.",retryable:!1},E32002_REQUEST_ALREADY_PENDING:{eipCode:-32002,message:"Resource request already pending",detail:"Dont see your wallet? Check your other browser windows.",retryable:!1},E32002_WALLET_LOCKED:{eipCode:-32002,message:"Wallet might be locked",detail:"Dont see your wallet? Check your other browser windows.",retryable:!1},E4001_USER_REJECTED_REQUEST:{eipCode:4001,message:"Signature rejected",detail:"Please try signing again.",retryable:!0}};function BJ(t){let e=t.type;return typeof e=="string"&&MJ.includes(e)}function V3(t){return BJ(t)&&t.type==="wallet_not_on_device"}async function Q6(t,{request:e}){return await t.fetchPrivyRoute(sJ,{body:e})}async function aS({context:t,chainType:e}){return{wallet:await Q6(t,{request:{chain_type:e,owner_id:void 0}})}}const LJ="1.2.3";let us=class eT extends Error{constructor(e,n={}){const r=n.cause instanceof eT?n.cause.details:n.cause?.message?n.cause.message:n.details,i=n.cause instanceof eT&&n.cause.docsPath||n.docsPath,s=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: https://abitype.dev${i}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${LJ}`].join(`
`);super(s),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.shortMessage=e}};function pl(t,e){return t.exec(e)?.groups}const xB=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,TB=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,IB=/^\(.+?\).*?$/,T4=/^tuple(?<array>(\[(\d*)\])*)$/;function tT(t){let e=t.type;if(T4.test(t.type)&&"components"in t){e="(";const n=t.components.length;for(let i=0;i<n;i++){const s=t.components[i];e+=tT(s),i<n-1&&(e+=", ")}const r=pl(T4,t.type);return e+=`)${r?.array||""}`,tT({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function Ph(t){let e="";const n=t.length;for(let r=0;r<n;r++){const i=t[r];e+=tT(i),r!==n-1&&(e+=", ")}return e}function l1(t){return t.type==="function"?`function ${t.name}(${Ph(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${t.outputs?.length?` returns (${Ph(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${Ph(t.inputs)})`:t.type==="error"?`error ${t.name}(${Ph(t.inputs)})`:t.type==="constructor"?`constructor(${Ph(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?`fallback() external${t.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const CB=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function jJ(t){return CB.test(t)}function zJ(t){return pl(CB,t)}const OB=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function FJ(t){return OB.test(t)}function qJ(t){return pl(OB,t)}const kB=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function WJ(t){return kB.test(t)}function HJ(t){return pl(kB,t)}const RB=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function I_(t){return RB.test(t)}function VJ(t){return pl(RB,t)}const $B=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function GJ(t){return $B.test(t)}function KJ(t){return pl($B,t)}const NB=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function YJ(t){return NB.test(t)}function ZJ(t){return pl(NB,t)}const XJ=/^receive\(\) external payable$/;function JJ(t){return XJ.test(t)}const I4=new Set(["memory","indexed","storage","calldata"]),QJ=new Set(["indexed"]),nT=new Set(["calldata","memory","storage"]);class eQ extends us{constructor({signature:e}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class tQ extends us{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class nQ extends us{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class rQ extends us{constructor({params:e}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class iQ extends us{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class sQ extends us{constructor({param:e,name:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class aQ extends us{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class oQ extends us{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class cQ extends us{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class Up extends us{constructor({signature:e,type:n}){super(`Invalid ${n} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class lQ extends us{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class uQ extends us{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class dQ extends us{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class fQ extends us{constructor({current:e,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function hQ(t,e,n){let r="";if(n)for(const i of Object.entries(n)){if(!i)continue;let s="";for(const a of i[1])s+=`[${a.type}${a.name?`:${a.name}`:""}]`;r+=`(${i[0]}{${s}})`}return e?`${e}:${t}${r}`:`${t}${r}`}const oS=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function rT(t,e={}){if(WJ(t))return pQ(t,e);if(FJ(t))return yQ(t,e);if(jJ(t))return mQ(t,e);if(GJ(t))return gQ(t,e);if(YJ(t))return bQ(t);if(JJ(t))return{type:"receive",stateMutability:"payable"};throw new lQ({signature:t})}function pQ(t,e={}){const n=HJ(t);if(!n)throw new Up({signature:t,type:"function"});const r=Ds(n.parameters),i=[],s=r.length;for(let c=0;c<s;c++)i.push(il(r[c],{modifiers:nT,structs:e,type:"function"}));const a=[];if(n.returns){const c=Ds(n.returns),u=c.length;for(let d=0;d<u;d++)a.push(il(c[d],{modifiers:nT,structs:e,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:i,outputs:a}}function yQ(t,e={}){const n=qJ(t);if(!n)throw new Up({signature:t,type:"event"});const r=Ds(n.parameters),i=[],s=r.length;for(let a=0;a<s;a++)i.push(il(r[a],{modifiers:QJ,structs:e,type:"event"}));return{name:n.name,type:"event",inputs:i}}function mQ(t,e={}){const n=zJ(t);if(!n)throw new Up({signature:t,type:"error"});const r=Ds(n.parameters),i=[],s=r.length;for(let a=0;a<s;a++)i.push(il(r[a],{structs:e,type:"error"}));return{name:n.name,type:"error",inputs:i}}function gQ(t,e={}){const n=KJ(t);if(!n)throw new Up({signature:t,type:"constructor"});const r=Ds(n.parameters),i=[],s=r.length;for(let a=0;a<s;a++)i.push(il(r[a],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:i}}function bQ(t){const e=ZJ(t);if(!e)throw new Up({signature:t,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}const wQ=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,vQ=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,_Q=/^u?int$/;function il(t,e){const n=hQ(t,e?.type,e?.structs);if(oS.has(n))return oS.get(n);const r=IB.test(t),i=pl(r?vQ:wQ,t);if(!i)throw new iQ({param:t});if(i.name&&AQ(i.name))throw new sQ({param:t,name:i.name});const s=i.name?{name:i.name}:{},a=i.modifier==="indexed"?{indexed:!0}:{},c=e?.structs??{};let u,d={};if(r){u="tuple";const p=Ds(i.type),m=[],g=p.length;for(let b=0;b<g;b++)m.push(il(p[b],{structs:c}));d={components:m}}else if(i.type in c)u="tuple",d={components:c[i.type]};else if(_Q.test(i.type))u=`${i.type}256`;else if(i.type==="address payable")u="address";else if(u=i.type,e?.type!=="struct"&&!PB(u))throw new nQ({type:u});if(i.modifier){if(!e?.modifiers?.has?.(i.modifier))throw new aQ({param:t,type:e?.type,modifier:i.modifier});if(nT.has(i.modifier)&&!SQ(u,!!i.array))throw new oQ({param:t,type:e?.type,modifier:i.modifier})}const h={type:`${u}${i.array??""}`,...s,...a,...d};return oS.set(n,h),h}function Ds(t,e=[],n="",r=0){const i=t.trim().length;for(let s=0;s<i;s++){const a=t[s],c=t.slice(s+1);switch(a){case",":return r===0?Ds(c,[...e,n.trim()]):Ds(c,e,`${n}${a}`,r);case"(":return Ds(c,e,`${n}${a}`,r+1);case")":return Ds(c,e,`${n}${a}`,r-1);default:return Ds(c,e,`${n}${a}`,r)}}if(n==="")return e;if(r!==0)throw new fQ({current:n,depth:r});return e.push(n.trim()),e}function PB(t){return t==="address"||t==="bool"||t==="function"||t==="string"||xB.test(t)||TB.test(t)}const EQ=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function AQ(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||xB.test(t)||TB.test(t)||EQ.test(t)}function SQ(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function G3(t){const e={},n=t.length;for(let a=0;a<n;a++){const c=t[a];if(!I_(c))continue;const u=VJ(c);if(!u)throw new Up({signature:c,type:"struct"});const d=u.properties.split(";"),h=[],p=d.length;for(let m=0;m<p;m++){const b=d[m].trim();if(!b)continue;const v=il(b,{type:"struct"});h.push(v)}if(!h.length)throw new uQ({signature:c});e[u.name]=h}const r={},i=Object.entries(e),s=i.length;for(let a=0;a<s;a++){const[c,u]=i[a];r[c]=DB(u,e)}return r}const xQ=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function DB(t=[],e={},n=new Set){const r=[],i=t.length;for(let s=0;s<i;s++){const a=t[s];if(IB.test(a.type))r.push(a);else{const u=pl(xQ,a.type);if(!u?.type)throw new cQ({abiParameter:a});const{array:d,type:h}=u;if(h in e){if(n.has(h))throw new dQ({type:h});r.push({...a,type:`tuple${d??""}`,components:DB(e[h],e,new Set([...n,h]))})}else if(PB(h))r.push(a);else throw new tQ({type:h})}}return r}function MB(t){const e=G3(t),n=[],r=t.length;for(let i=0;i<r;i++){const s=t[i];I_(s)||n.push(rT(s,e))}return n}function C4(t){let e;if(typeof t=="string")e=rT(t);else{const n=G3(t),r=t.length;for(let i=0;i<r;i++){const s=t[i];if(!I_(s)){e=rT(s,n);break}}}if(!e)throw new eQ({signature:t});return e}function O4(t){const e=[];if(typeof t=="string"){const n=Ds(t),r=n.length;for(let i=0;i<r;i++)e.push(il(n[i],{modifiers:I4}))}else{const n=G3(t),r=t.length;for(let i=0;i<r;i++){const s=t[i];if(I_(s))continue;const a=Ds(s),c=a.length;for(let u=0;u<c;u++)e.push(il(a[u],{modifiers:I4,structs:n}))}}if(e.length===0)throw new rQ({params:t});return e}function We(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const i=t[n];return typeof i=="function"?i:s=>e(t,s)}function to(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new BQ(t.type);return`${t.name}(${C_(t.inputs,{includeName:e})})`}function C_(t,{includeName:e=!1}={}){return t?t.map(n=>TQ(n,{includeName:e})).join(e?", ":","):""}function TQ(t,{includeName:e}){return t.type.startsWith("tuple")?`(${C_(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}function Ri(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function Kn(t){return Ri(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const UB="2.43.3";let cS={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${UB}`},_e=class iT extends Error{constructor(e,n={}){const r=n.cause instanceof iT?n.cause.details:n.cause?.message?n.cause.message:n.details,i=n.cause instanceof iT&&n.cause.docsPath||n.docsPath,s=cS.getDocsUrl?.({...n,docsPath:i}),a=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...r?[`Details: ${r}`]:[],...cS.version?[`Version: ${cS.version}`]:[]].join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=UB}walk(e){return BB(this,e)}};function BB(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?BB(t.cause,e):e?null:t}class LB extends _e{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class u1 extends _e{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class jB extends _e{constructor({data:e,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${C_(n,{includeName:!0})})`,`Data:   ${e} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=n,this.size=r}}class U0 extends _e{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class IQ extends _e{constructor({expectedLength:e,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${e}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class CQ extends _e{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${Kn(n)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class OQ extends _e{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class kQ extends _e{constructor(e,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class k4 extends _e{constructor(e,{docsPath:n}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class zB extends _e{constructor(e,{docsPath:n}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class RQ extends _e{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class $Q extends _e{constructor(e,{docsPath:n}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class R4 extends _e{constructor(e,{docsPath:n}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class cp extends _e{constructor(e,{docsPath:n}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class FB extends _e{constructor(e,{docsPath:n}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class NQ extends _e{constructor(e,{docsPath:n}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class PQ extends _e{constructor(e,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${to(e.abiItem)}\`, and`,`\`${n.type}\` in \`${to(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let DQ=class extends _e{constructor({expectedSize:e,givenSize:n}){super(`Expected bytes${e}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}};class d1 extends _e{constructor({abiItem:e,data:n,params:r,size:i}){super([`Data size of ${i} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${C_(r,{includeName:!0})})`,`Data:   ${n} (${i} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=n,this.params=r,this.size=i}}class K3 extends _e{constructor({abiItem:e,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${to(e,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class MQ extends _e{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class UQ extends _e{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}let qB=class extends _e{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class BQ extends _e{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class vBe extends _e{constructor(e){super(`Type "${e}" is not supported for packed encoding.`,{name:"UnsupportedPackedAbiType"})}}class LQ extends _e{constructor(e){super(`Filter type "${e}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}let WB=class extends _e{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}},HB=class extends _e{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class $4 extends _e{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${e} ${r} long.`,{name:"InvalidBytesLengthError"})}}function gf(t,{dir:e,size:n=32}={}){return typeof t=="string"?Tu(t,{dir:e,size:n}):jQ(t,{dir:e,size:n})}function Tu(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new HB({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function jQ(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new HB({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const s=e==="right";r[s?i:n-i-1]=t[s?i:t.length-i-1]}return r}let VB=class extends _e{constructor({max:e,min:n,signed:r,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}},zQ=class extends _e{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}};class FQ extends _e{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let qQ=class extends _e{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};function Us(t,{dir:e="left"}={}){let n=typeof t=="string"?t.replace("0x",""):t,r=0;for(let i=0;i<n.length-1&&n[e==="left"?i:n.length-i-1].toString()==="0";i++)r++;return n=e==="left"?n.slice(r):n.slice(0,n.length-r),typeof t=="string"?(n.length===1&&e==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function _a(t,{size:e}){if(Kn(t)>e)throw new qQ({givenSize:Kn(t),maxSize:e})}function ln(t,e={}){const{signed:n}=e;e.size&&_a(t,{size:e.size});const r=BigInt(t);if(!n)return r;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return r<=s?r:r-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function WQ(t,e={}){let n=t;if(e.size&&(_a(n,{size:e.size}),n=Us(n)),Us(n)==="0x00")return!1;if(Us(n)==="0x01")return!0;throw new FQ(n)}function Bs(t,e={}){return Number(ln(t,e))}function TBe(t,e={}){let n=$i(t);return e.size&&(_a(n,{size:e.size}),n=Us(n,{dir:"right"})),new TextDecoder().decode(n)}const HQ=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function xt(t,e={}){return typeof t=="number"||typeof t=="bigint"?Ne(t,e):typeof t=="string"?lp(t,e):typeof t=="boolean"?GB(t,e):Ar(t,e)}function GB(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(_a(n,{size:e.size}),gf(n,{size:e.size})):n}function Ar(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=HQ[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(_a(r,{size:e.size}),gf(r,{dir:"right",size:e.size})):r}function Ne(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const a=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<a){const u=typeof t=="bigint"?"n":"";throw new VB({max:s?`${s}${u}`:void 0,min:`${a}${u}`,signed:n,size:r,value:`${t}${u}`})}const c=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?gf(c,{size:r}):c}const VQ=new TextEncoder;function lp(t,e={}){const n=VQ.encode(t);return Ar(n,e)}const GQ=new TextEncoder;function Xc(t,e={}){return typeof t=="number"||typeof t=="bigint"?YQ(t,e):typeof t=="boolean"?KQ(t,e):Ri(t)?$i(t,e):zd(t,e)}function KQ(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(_a(n,{size:e.size}),gf(n,{size:e.size})):n}const mc={zero:48,nine:57,A:65,F:70,a:97,f:102};function N4(t){if(t>=mc.zero&&t<=mc.nine)return t-mc.zero;if(t>=mc.A&&t<=mc.F)return t-(mc.A-10);if(t>=mc.a&&t<=mc.f)return t-(mc.a-10)}function $i(t,e={}){let n=t;e.size&&(_a(n,{size:e.size}),n=gf(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const i=r.length/2,s=new Uint8Array(i);for(let a=0,c=0;a<i;a++){const u=N4(r.charCodeAt(c++)),d=N4(r.charCodeAt(c++));if(u===void 0||d===void 0)throw new _e(`Invalid byte sequence ("${r[c-2]}${r[c-1]}" in "${r}").`);s[a]=u*16+d}return s}function YQ(t,e){const n=Ne(t,e);return $i(n)}function zd(t,e={}){const n=GQ.encode(t);return typeof e.size=="number"?(_a(n,{size:e.size}),gf(n,{dir:"right",size:e.size})):n}const Ww=BigInt(2**32-1),P4=BigInt(32);function ZQ(t,e=!1){return e?{h:Number(t&Ww),l:Number(t>>P4&Ww)}:{h:Number(t>>P4&Ww)|0,l:Number(t&Ww)|0}}function XQ(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let s=0;s<n;s++){const{h:a,l:c}=ZQ(t[s],e);[r[s],i[s]]=[a,c]}return[r,i]}const JQ=(t,e,n)=>t<<n|e>>>32-n,QQ=(t,e,n)=>e<<n|t>>>32-n,eee=(t,e,n)=>e<<n-32|t>>>64-n,tee=(t,e,n)=>t<<n-32|e>>>64-n,hh=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function nee(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Lg(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Zd(t,...e){if(!nee(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function ree(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Lg(t.outputLen),Lg(t.blockLen)}function up(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function KB(t,e){Zd(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function iee(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function dp(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function lS(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function po(t,e){return t<<32-e|t>>>e}const see=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function aee(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function oee(t){for(let e=0;e<t.length;e++)t[e]=aee(t[e]);return t}const D4=see?t=>t:oee;function cee(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function O_(t){return typeof t=="string"&&(t=cee(t)),Zd(t),t}function lee(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];Zd(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}let Y3=class{};function YB(t){const e=r=>t().update(O_(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function uee(t=32){if(hh&&typeof hh.getRandomValues=="function")return hh.getRandomValues(new Uint8Array(t));if(hh&&typeof hh.randomBytes=="function")return Uint8Array.from(hh.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const dee=BigInt(0),Yy=BigInt(1),fee=BigInt(2),hee=BigInt(7),pee=BigInt(256),yee=BigInt(113),ZB=[],XB=[],JB=[];for(let t=0,e=Yy,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],ZB.push(2*(5*r+n)),XB.push((t+1)*(t+2)/2%64);let i=dee;for(let s=0;s<7;s++)e=(e<<Yy^(e>>hee)*yee)%pee,e&fee&&(i^=Yy<<(Yy<<BigInt(s))-Yy);JB.push(i)}const QB=XQ(JB,!0),mee=QB[0],gee=QB[1],M4=(t,e,n)=>n>32?eee(t,e,n):JQ(t,e,n),U4=(t,e,n)=>n>32?tee(t,e,n):QQ(t,e,n);function bee(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let a=0;a<10;a++)n[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(let a=0;a<10;a+=2){const c=(a+8)%10,u=(a+2)%10,d=n[u],h=n[u+1],p=M4(d,h,1)^n[c],m=U4(d,h,1)^n[c+1];for(let g=0;g<50;g+=10)t[a+g]^=p,t[a+g+1]^=m}let i=t[2],s=t[3];for(let a=0;a<24;a++){const c=XB[a],u=M4(i,s,c),d=U4(i,s,c),h=ZB[a];i=t[h],s=t[h+1],t[h]=u,t[h+1]=d}for(let a=0;a<50;a+=10){for(let c=0;c<10;c++)n[c]=t[a+c];for(let c=0;c<10;c++)t[a+c]^=~n[(c+2)%10]&n[(c+4)%10]}t[0]^=mee[r],t[1]^=gee[r]}dp(n)}let wee=class eL extends Y3{constructor(e,n,r,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,Lg(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=iee(this.state)}clone(){return this._cloneInto()}keccak(){D4(this.state32),bee(this.state32,this.rounds),D4(this.state32),this.posOut=0,this.pos=0}update(e){up(this),e=O_(e),Zd(e);const{blockLen:n,state:r}=this,i=e.length;for(let s=0;s<i;){const a=Math.min(n-this.pos,i-s);for(let c=0;c<a;c++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,(n&128)!==0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){up(this,!1),Zd(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const a=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+a),i),this.posOut+=a,i+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Lg(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(KB(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,dp(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:a}=this;return e||(e=new eL(n,r,i,a,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=a,e.destroyed=this.destroyed,e}};const vee=(t,e,n)=>YB(()=>new wee(e,t,n)),tL=vee(1,136,256/8);function Hr(t,e){const n=e||"hex",r=tL(Ri(t,{strict:!1})?Xc(t):t);return n==="bytes"?r:xt(r)}const _ee=t=>Hr(Xc(t));function Eee(t){return _ee(t)}function Aee(t){let e=!0,n="",r=0,i="",s=!1;for(let a=0;a<t.length;a++){const c=t[a];if(["(",")",","].includes(c)&&(e=!0),c==="("&&r++,c===")"&&r--,!!e){if(r===0){if(c===" "&&["event","function",""].includes(i))i="";else if(i+=c,c===")"){s=!0;break}continue}if(c===" "){t[a-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}i+=c,n+=c}}if(!s)throw new _e("Unable to normalize signature.");return i}const See=t=>{const e=typeof t=="string"?t:l1(t);return Aee(e)};function nL(t){return Eee(See(t))}const k_=nL;let Er=class extends _e{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}},Bp=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const uS=new Bp(8192);function B0(t,e){if(uS.has(`${t}.${e}`))return uS.get(`${t}.${e}`);const n=t.substring(2).toLowerCase(),r=Hr(zd(n),"bytes"),i=n.split("");for(let a=0;a<40;a+=2)r[a>>1]>>4>=8&&i[a]&&(i[a]=i[a].toUpperCase()),(r[a>>1]&15)>=8&&i[a+1]&&(i[a+1]=i[a+1].toUpperCase());const s=`0x${i.join("")}`;return uS.set(`${t}.${e}`,s),s}function oi(t,e){if(!$n(t,{strict:!1}))throw new Er({address:t});return B0(t,e)}const xee=/^0x[a-fA-F0-9]{40}$/,dS=new Bp(8192);function $n(t,e){const{strict:n=!0}=e??{},r=`${t}.${n}`;if(dS.has(r))return dS.get(r);const i=xee.test(t)?t.toLowerCase()===t?!0:n?B0(t)===t:!0:!1;return dS.set(r,i),i}function ba(t){return typeof t[0]=="string"?Ea(t):Tee(t)}function Tee(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}function Ea(t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}function Xd(t,e,n,{strict:r}={}){return Ri(t,{strict:!1})?sT(t,e,n,{strict:r}):sL(t,e,n,{strict:r})}function rL(t,e){if(typeof e=="number"&&e>0&&e>Kn(t)-1)throw new WB({offset:e,position:"start",size:Kn(t)})}function iL(t,e,n){if(typeof e=="number"&&typeof n=="number"&&Kn(t)!==n-e)throw new WB({offset:n,position:"end",size:Kn(t)})}function sL(t,e,n,{strict:r}={}){rL(t,e);const i=t.slice(e,n);return r&&iL(i,e,n),i}function sT(t,e,n,{strict:r}={}){rL(t,e);const i=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return r&&iL(i,e,n),i}const kBe=/^(.*)\[([0-9]*)\]$/,Iee=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,aL=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function Mu(t,e){if(t.length!==e.length)throw new OQ({expectedLength:t.length,givenLength:e.length});const n=Cee({params:t,values:e}),r=X3(n);return r.length===0?"0x":r}function Cee({params:t,values:e}){const n=[];for(let r=0;r<t.length;r++)n.push(Z3({param:t[r],value:e[r]}));return n}function Z3({param:t,value:e}){const n=J3(t.type);if(n){const[r,i]=n;return kee(e,{length:r,param:{...t,type:i}})}if(t.type==="tuple")return Dee(e,{param:t});if(t.type==="address")return Oee(e);if(t.type==="bool")return $ee(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const r=t.type.startsWith("int"),[,,i="256"]=aL.exec(t.type)??[];return Nee(e,{signed:r,size:Number(i)})}if(t.type.startsWith("bytes"))return Ree(e,{param:t});if(t.type==="string")return Pee(e);throw new MQ(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function X3(t){let e=0;for(let s=0;s<t.length;s++){const{dynamic:a,encoded:c}=t[s];a?e+=32:e+=Kn(c)}const n=[],r=[];let i=0;for(let s=0;s<t.length;s++){const{dynamic:a,encoded:c}=t[s];a?(n.push(Ne(e+i,{size:32})),r.push(c),i+=Kn(c)):n.push(c)}return ba([...n,...r])}function Oee(t){if(!$n(t))throw new Er({address:t});return{dynamic:!1,encoded:Tu(t.toLowerCase())}}function kee(t,{length:e,param:n}){const r=e===null;if(!Array.isArray(t))throw new qB(t);if(!r&&t.length!==e)throw new IQ({expectedLength:e,givenLength:t.length,type:`${n.type}[${e}]`});let i=!1;const s=[];for(let a=0;a<t.length;a++){const c=Z3({param:n,value:t[a]});c.dynamic&&(i=!0),s.push(c)}if(r||i){const a=X3(s);if(r){const c=Ne(s.length,{size:32});return{dynamic:!0,encoded:s.length>0?ba([c,a]):c}}if(i)return{dynamic:!0,encoded:a}}return{dynamic:!1,encoded:ba(s.map(({encoded:a})=>a))}}function Ree(t,{param:e}){const[,n]=e.type.split("bytes"),r=Kn(t);if(!n){let i=t;return r%32!==0&&(i=Tu(i,{dir:"right",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:ba([Tu(Ne(r,{size:32})),i])}}if(r!==Number.parseInt(n,10))throw new CQ({expectedSize:Number.parseInt(n,10),value:t});return{dynamic:!1,encoded:Tu(t,{dir:"right"})}}function $ee(t){if(typeof t!="boolean")throw new _e(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Tu(GB(t))}}function Nee(t,{signed:e,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,i=e?-r-1n:0n;if(t>r||t<i)throw new VB({max:r.toString(),min:i.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:Ne(t,{size:32,signed:e})}}function Pee(t){const e=lp(t),n=Math.ceil(Kn(e)/32),r=[];for(let i=0;i<n;i++)r.push(Tu(Xd(e,i*32,(i+1)*32),{dir:"right"}));return{dynamic:!0,encoded:ba([Tu(Ne(Kn(e),{size:32})),...r])}}function Dee(t,{param:e}){let n=!1;const r=[];for(let i=0;i<e.components.length;i++){const s=e.components[i],a=Array.isArray(t)?i:s.name,c=Z3({param:s,value:t[a]});r.push(c),c.dynamic&&(n=!0)}return{dynamic:n,encoded:n?X3(r):ba(r.map(({encoded:i})=>i))}}function J3(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}const L0=t=>Xd(nL(t),0,4);function bf(t){const{abi:e,args:n=[],name:r}=t,i=Ri(r,{strict:!1}),s=e.filter(c=>i?c.type==="function"?L0(c)===r:c.type==="event"?k_(c)===r:!1:"name"in c&&c.name===r);if(s.length===0)return;if(s.length===1)return s[0];let a;for(const c of s){if(!("inputs"in c))continue;if(!n||n.length===0){if(!c.inputs||c.inputs.length===0)return c;continue}if(!c.inputs||c.inputs.length===0||c.inputs.length!==n.length)continue;if(n.every((d,h)=>{const p="inputs"in c&&c.inputs[h];return p?aT(d,p):!1})){if(a&&"inputs"in a&&a.inputs){const d=oL(c.inputs,a.inputs,n);if(d)throw new PQ({abiItem:c,type:d[0]},{abiItem:a,type:d[1]})}a=c}}return a||s[0]}function aT(t,e){const n=typeof t,r=e.type;switch(r){case"address":return $n(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((i,s)=>aT(Object.values(t)[s],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(i=>aT(i,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function oL(t,e,n){for(const r in t){const i=t[r],s=e[r];if(i.type==="tuple"&&s.type==="tuple"&&"components"in i&&"components"in s)return oL(i.components,s.components,n[r]);const a=[i.type,s.type];if(a.includes("address")&&a.includes("bytes20")?!0:a.includes("address")&&a.includes("string")?$n(n[r],{strict:!1}):a.includes("address")&&a.includes("bytes")?$n(n[r],{strict:!1}):!1)return a}}const B4="/docs/contract/encodeEventTopics";function j0(t){const{abi:e,eventName:n,args:r}=t;let i=e[0];if(n){const u=bf({abi:e,name:n});if(!u)throw new R4(n,{docsPath:B4});i=u}if(i.type!=="event")throw new R4(void 0,{docsPath:B4});const s=to(i),a=k_(s);let c=[];if(r&&"inputs"in i){const u=i.inputs?.filter(h=>"indexed"in h&&h.indexed),d=Array.isArray(r)?r:Object.values(r).length>0?u?.map(h=>r[h.name])??[]:[];d.length>0&&(c=u?.map((h,p)=>Array.isArray(d[p])?d[p].map((m,g)=>L4({param:h,value:d[p][g]})):typeof d[p]<"u"&&d[p]!==null?L4({param:h,value:d[p]}):null)??[])}return[a,...c]}function L4({param:t,value:e}){if(t.type==="string"||t.type==="bytes")return Hr(Xc(e));if(t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/))throw new LQ(t.type);return Mu([t],[e])}function R_(t,{method:e}){const n={};return t.transport.type==="fallback"&&t.transport.onResponse?.(({method:r,response:i,status:s,transport:a})=>{s==="success"&&e===r&&(n[i]=a.request)}),(r=>n[r]||t.request)}async function cL(t,e){const{address:n,abi:r,args:i,eventName:s,fromBlock:a,strict:c,toBlock:u}=e,d=R_(t,{method:"eth_newFilter"}),h=s?j0({abi:r,args:i,eventName:s}):void 0,p=await t.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof a=="bigint"?Ne(a):a,toBlock:typeof u=="bigint"?Ne(u):u,topics:h}]});return{abi:r,args:i,eventName:s,id:p,request:d(p),strict:!!c,type:"event"}}function Nn(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}const j4="/docs/contract/encodeFunctionData";function Mee(t){const{abi:e,args:n,functionName:r}=t;let i=e[0];if(r){const s=bf({abi:e,args:n,name:r});if(!s)throw new cp(r,{docsPath:j4});i=s}if(i.type!=="function")throw new cp(void 0,{docsPath:j4});return{abi:[i],functionName:L0(to(i))}}function Ui(t){const{args:e}=t,{abi:n,functionName:r}=t.abi.length===1&&t.functionName?.startsWith("0x")?t:Mee(t),i=n[0],s=r,a="inputs"in i&&i.inputs?Mu(i.inputs,e??[]):void 0;return Ea([s,a??"0x"])}const Uee={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},lL={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},Bee={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};let z4=class extends _e{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}},uL=class extends _e{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}},Lee=class extends _e{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}};const jee={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new Lee({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new uL({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new z4({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new z4({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function Q3(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(jee);return n.bytes=t,n.dataView=new DataView(t.buffer??t,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}function zee(t,e={}){typeof e.size<"u"&&_a(t,{size:e.size});const n=Ar(t,e);return ln(n,e)}function Fee(t,e={}){let n=t;if(typeof e.size<"u"&&(_a(n,{size:e.size}),n=Us(n)),n.length>1||n[0]>1)throw new zQ(n);return!!n[0]}function Jc(t,e={}){typeof e.size<"u"&&_a(t,{size:e.size});const n=Ar(t,e);return Bs(n,e)}function qee(t,e={}){let n=t;return typeof e.size<"u"&&(_a(n,{size:e.size}),n=Us(n,{dir:"right"})),new TextDecoder().decode(n)}function z0(t,e){const n=typeof e=="string"?$i(e):e,r=Q3(n);if(Kn(n)===0&&t.length>0)throw new U0;if(Kn(e)&&Kn(e)<32)throw new jB({data:typeof e=="string"?e:Ar(e),params:t,size:Kn(e)});let i=0;const s=[];for(let a=0;a<t.length;++a){const c=t[a];r.setPosition(i);const[u,d]=Zh(r,c,{staticPosition:0});i+=d,s.push(u)}return s}function Zh(t,e,{staticPosition:n}){const r=J3(e.type);if(r){const[i,s]=r;return Hee(t,{...e,type:s},{length:i,staticPosition:n})}if(e.type==="tuple")return Yee(t,e,{staticPosition:n});if(e.type==="address")return Wee(t);if(e.type==="bool")return Vee(t);if(e.type.startsWith("bytes"))return Gee(t,e,{staticPosition:n});if(e.type.startsWith("uint")||e.type.startsWith("int"))return Kee(t,e);if(e.type==="string")return Zee(t,{staticPosition:n});throw new UQ(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const F4=32,oT=32;function Wee(t){const e=t.readBytes(32);return[B0(Ar(sL(e,-20))),32]}function Hee(t,e,{length:n,staticPosition:r}){if(!n){const a=Jc(t.readBytes(oT)),c=r+a,u=c+F4;t.setPosition(c);const d=Jc(t.readBytes(F4)),h=jg(e);let p=0;const m=[];for(let g=0;g<d;++g){t.setPosition(u+(h?g*32:p));const[b,v]=Zh(t,e,{staticPosition:u});p+=v,m.push(b)}return t.setPosition(r+32),[m,32]}if(jg(e)){const a=Jc(t.readBytes(oT)),c=r+a,u=[];for(let d=0;d<n;++d){t.setPosition(c+d*32);const[h]=Zh(t,e,{staticPosition:c});u.push(h)}return t.setPosition(r+32),[u,32]}let i=0;const s=[];for(let a=0;a<n;++a){const[c,u]=Zh(t,e,{staticPosition:r+i});i+=u,s.push(c)}return[s,i]}function Vee(t){return[Fee(t.readBytes(32),{size:32}),32]}function Gee(t,e,{staticPosition:n}){const[r,i]=e.type.split("bytes");if(!i){const a=Jc(t.readBytes(32));t.setPosition(n+a);const c=Jc(t.readBytes(32));if(c===0)return t.setPosition(n+32),["0x",32];const u=t.readBytes(c);return t.setPosition(n+32),[Ar(u),32]}return[Ar(t.readBytes(Number.parseInt(i,10),32)),32]}function Kee(t,e){const n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256",10),i=t.readBytes(32);return[r>48?zee(i,{signed:n}):Jc(i,{signed:n}),32]}function Yee(t,e,{staticPosition:n}){const r=e.components.length===0||e.components.some(({name:a})=>!a),i=r?[]:{};let s=0;if(jg(e)){const a=Jc(t.readBytes(oT)),c=n+a;for(let u=0;u<e.components.length;++u){const d=e.components[u];t.setPosition(c+s);const[h,p]=Zh(t,d,{staticPosition:c});s+=p,i[r?u:d?.name]=h}return t.setPosition(n+32),[i,32]}for(let a=0;a<e.components.length;++a){const c=e.components[a],[u,d]=Zh(t,c,{staticPosition:n});i[r?a:c?.name]=u,s+=d}return[i,s]}function Zee(t,{staticPosition:e}){const n=Jc(t.readBytes(32)),r=e+n;t.setPosition(r);const i=Jc(t.readBytes(32));if(i===0)return t.setPosition(e+32),["",32];const s=t.readBytes(i,32),a=qee(Us(s));return t.setPosition(e+32),[a,32]}function jg(t){const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return t.components?.some(jg);const n=J3(t.type);return!!(n&&jg({...t,type:n[1]}))}function Xee(t){const{abi:e,data:n}=t,r=Xd(n,0,4);if(r==="0x")throw new U0;const s=[...e||[],lL,Bee].find(a=>a.type==="error"&&r===L0(to(a)));if(!s)throw new zB(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:s,args:"inputs"in s&&s.inputs&&s.inputs.length>0?z0(s.inputs,Xd(n,4)):void 0,errorName:s.name}}const $r=(t,e,n)=>JSON.stringify(t,(r,i)=>typeof i=="bigint"?i.toString():i,n);function dL({abiItem:t,args:e,includeFunctionName:n=!0,includeName:r=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${n?t.name:""}(${t.inputs.map((i,s)=>`${r&&i.name?`${i.name}: `:""}${typeof e[s]=="object"?$r(e[s]):e[s]}`).join(", ")})`}const Jee={gwei:9,wei:18},Qee={ether:-9,wei:9};function fL(t,e){let n=t.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(e,"0");let[i,s]=[n.slice(0,n.length-e),n.slice(n.length-e)];return s=s.replace(/(0+)$/,""),`${r?"-":""}${i||"0"}${s?`.${s}`:""}`}function eI(t,e="wei"){return fL(t,Jee[e])}function as(t,e="wei"){return fL(t,Qee[e])}class ete extends _e{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class tte extends _e{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function q4(t){return t.reduce((e,{slot:n,value:r})=>`${e}        ${n}: ${r}
`,"")}function nte(t){return t.reduce((e,{address:n,...r})=>{let i=`${e}    ${n}:
`;return r.nonce&&(i+=`      nonce: ${r.nonce}
`),r.balance&&(i+=`      balance: ${r.balance}
`),r.code&&(i+=`      code: ${r.code}
`),r.state&&(i+=`      state:
`,i+=q4(r.state)),r.stateDiff&&(i+=`      stateDiff:
`,i+=q4(r.stateDiff)),i},`  State Override:
`).slice(0,-1)}function F0(t){const e=Object.entries(t).map(([r,i])=>i===void 0||i===!1?null:[r,i]).filter(Boolean),n=e.reduce((r,[i])=>Math.max(r,i.length),0);return e.map(([r,i])=>`  ${`${r}:`.padEnd(n+1)}  ${i}`).join(`
`)}class rte extends _e{constructor({v:e}){super(`Invalid \`v\` value "${e}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class ite extends _e{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",F0(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class ste extends _e{constructor({storageKey:e}){super(`Size for storage key "${e}" is invalid. Expected 32 bytes. Got ${Math.floor((e.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}class ate extends _e{constructor(e,{account:n,docsPath:r,chain:i,data:s,gas:a,gasPrice:c,maxFeePerGas:u,maxPriorityFeePerGas:d,nonce:h,to:p,value:m}){const g=F0({chain:i&&`${i?.name} (id: ${i?.id})`,from:n?.address,to:p,value:typeof m<"u"&&`${eI(m)} ${i?.nativeCurrency?.symbol||"ETH"}`,data:s,gas:a,gasPrice:typeof c<"u"&&`${as(c)} gwei`,maxFeePerGas:typeof u<"u"&&`${as(u)} gwei`,maxPriorityFeePerGas:typeof d<"u"&&`${as(d)} gwei`,nonce:h});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",g].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class hL extends _e{constructor({blockHash:e,blockNumber:n,blockTag:r,hash:i,index:s}){let a="Transaction";r&&s!==void 0&&(a=`Transaction at block time "${r}" at index "${s}"`),e&&s!==void 0&&(a=`Transaction at block hash "${e}" at index "${s}"`),n&&s!==void 0&&(a=`Transaction at block number "${n}" at index "${s}"`),i&&(a=`Transaction with hash "${i}"`),super(`${a} could not be found.`,{name:"TransactionNotFoundError"})}}class pL extends _e{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class yL extends _e{constructor({receipt:e}){super(`Transaction with hash "${e.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=e}}class ote extends _e{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const cte=t=>t,tI=t=>t;class mL extends _e{constructor(e,{account:n,docsPath:r,chain:i,data:s,gas:a,gasPrice:c,maxFeePerGas:u,maxPriorityFeePerGas:d,nonce:h,to:p,value:m,stateOverride:g}){const b=n?Nn(n):void 0;let v=F0({from:b?.address,to:p,value:typeof m<"u"&&`${eI(m)} ${i?.nativeCurrency?.symbol||"ETH"}`,data:s,gas:a,gasPrice:typeof c<"u"&&`${as(c)} gwei`,maxFeePerGas:typeof u<"u"&&`${as(u)} gwei`,maxPriorityFeePerGas:typeof d<"u"&&`${as(d)} gwei`,nonce:h});g&&(v+=`
${nte(g)}`),super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",v].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class gL extends _e{constructor(e,{abi:n,args:r,contractAddress:i,docsPath:s,functionName:a,sender:c}){const u=bf({abi:n,args:r,name:a}),d=u?dL({abiItem:u,args:r,includeFunctionName:!1,includeName:!1}):void 0,h=u?to(u,{includeName:!0}):void 0,p=F0({address:i&&cte(i),function:h,args:d&&d!=="()"&&`${[...Array(a?.length??0).keys()].map(()=>" ").join("")}${d}`,sender:c});super(e.shortMessage||`An unknown error occurred while executing the contract function "${a}".`,{cause:e,docsPath:s,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],p&&"Contract Call:",p].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=e,this.contractAddress=i,this.functionName=a,this.sender=c}}class cT extends _e{constructor({abi:e,data:n,functionName:r,message:i}){let s,a,c,u;if(n&&n!=="0x")try{a=Xee({abi:e,data:n});const{abiItem:h,errorName:p,args:m}=a;if(p==="Error")u=m[0];else if(p==="Panic"){const[g]=m;u=Uee[g]}else{const g=h?to(h,{includeName:!0}):void 0,b=h&&m?dL({abiItem:h,args:m,includeFunctionName:!1,includeName:!1}):void 0;c=[g?`Error: ${g}`:"",b&&b!=="()"?`       ${[...Array(p?.length??0).keys()].map(()=>" ").join("")}${b}`:""]}}catch(h){s=h}else i&&(u=i);let d;s instanceof zB&&(d=s.signature,c=[`Unable to decode signature "${d}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${d}.`]),super(u&&u!=="execution reverted"||d?[`The contract function "${r}" reverted with the following ${d?"signature":"reason"}:`,u||d].join(`
`):`The contract function "${r}" reverted.`,{cause:s,metaMessages:c,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=a,this.raw=n,this.reason=u,this.signature=d}}class lte extends _e{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class ute extends _e{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class $_ extends _e{constructor({data:e,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}class Eg extends _e{constructor({body:e,cause:n,details:r,headers:i,status:s,url:a}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[s&&`Status: ${s}`,`URL: ${tI(a)}`,e&&`Request body: ${$r(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=i,this.status=s,this.url=a}}class nI extends _e{constructor({body:e,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${tI(r)}`,`Request body: ${$r(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data,this.url=r}}class W4 extends _e{constructor({body:e,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${tI(n)}`,`Request body: ${$r(e)}`],name:"TimeoutError"}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.url=n}}const dte=-1;class ds extends _e{constructor(e,{code:n,docsPath:r,metaMessages:i,name:s,shortMessage:a}){super(a,{cause:e,docsPath:r,metaMessages:i||e?.metaMessages,name:s||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=s||e.name,this.code=e instanceof nI?e.code:n??dte}}class js extends ds{constructor(e,n){super(e,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class zg extends ds{constructor(e){super(e,{code:zg.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(zg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Fg extends ds{constructor(e){super(e,{code:Fg.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(Fg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class qg extends ds{constructor(e,{method:n}={}){super(e,{code:qg.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(qg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Wg extends ds{constructor(e){super(e,{code:Wg.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Wg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Jd extends ds{constructor(e){super(e,{code:Jd.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(Jd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Ou extends ds{constructor(e){super(e,{code:Ou.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Ou,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Hg extends ds{constructor(e){super(e,{code:Hg.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Hg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Vg extends ds{constructor(e){super(e,{code:Vg.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Vg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Gg extends ds{constructor(e){super(e,{code:Gg.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Gg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class $d extends ds{constructor(e,{method:n}={}){super(e,{code:$d.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty($d,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class fp extends ds{constructor(e){super(e,{code:fp.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(fp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Kg extends ds{constructor(e){super(e,{code:Kg.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(Kg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class Xh extends js{constructor(e){super(e,{code:Xh.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(Xh,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class Yg extends js{constructor(e){super(e,{code:Yg.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(Yg,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Zg extends js{constructor(e,{method:n}={}){super(e,{code:Zg.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(Zg,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Xg extends js{constructor(e){super(e,{code:Xg.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(Xg,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Jg extends js{constructor(e){super(e,{code:Jg.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(Jg,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Qg extends js{constructor(e){super(e,{code:Qg.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(Qg,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class hp extends js{constructor(e){super(e,{code:hp.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(hp,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class e0 extends js{constructor(e){super(e,{code:e0.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(e0,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class t0 extends js{constructor(e){super(e,{code:t0.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(t0,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class n0 extends js{constructor(e){super(e,{code:n0.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(n0,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class r0 extends js{constructor(e){super(e,{code:r0.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(r0,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class i0 extends js{constructor(e){super(e,{code:i0.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(i0,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class pp extends js{constructor(e){super(e,{code:pp.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(pp,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class fte extends ds{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const hte=3;function Qd(t,{abi:e,address:n,args:r,docsPath:i,functionName:s,sender:a}){const c=t instanceof $_?t:t instanceof _e?t.walk(b=>"data"in b)||t.walk():{},{code:u,data:d,details:h,message:p,shortMessage:m}=c,g=t instanceof U0?new lte({functionName:s}):[hte,Jd.code].includes(u)&&(d||h||p||m)||u===Ou.code&&h==="execution reverted"&&d?new cT({abi:e,data:typeof d=="object"?d.data:d,functionName:s,message:c instanceof nI?h:m??p}):t;return new gL(g,{abi:e,args:r,contractAddress:n,docsPath:i,functionName:s,sender:a})}function bL(t){const e=Hr(`0x${t.substring(4)}`).substring(26);return B0(`0x${e}`)}async function pte({hash:t,signature:e}){const n=Ri(t)?t:xt(t),{secp256k1:r}=await Fe(async()=>{const{secp256k1:a}=await Promise.resolve().then(()=>Vie);return{secp256k1:a}},void 0);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:d,s:h,v:p,yParity:m}=e,g=Number(m??p),b=H4(g);return new r.Signature(ln(d),ln(h)).addRecoveryBit(b)}const a=Ri(e)?e:xt(e);if(Kn(a)!==65)throw new Error("invalid signature length");const c=Bs(`0x${a.slice(130)}`),u=H4(c);return r.Signature.fromCompact(a.substring(2,130)).addRecoveryBit(u)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function H4(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function wL({hash:t,signature:e}){return bL(await pte({hash:t,signature:e}))}function sl(t,e="hex"){const n=vL(t),r=Q3(new Uint8Array(n.length));return n.encode(r),e==="hex"?Ar(r.bytes):r.bytes}function vL(t){return Array.isArray(t)?yte(t.map(e=>vL(e))):mte(t)}function yte(t){const e=t.reduce((i,s)=>i+s.length,0),n=_L(e);return{length:e<=55?1+e:1+n+e,encode(i){e<=55?i.pushByte(192+e):(i.pushByte(247+n),n===1?i.pushUint8(e):n===2?i.pushUint16(e):n===3?i.pushUint24(e):i.pushUint32(e));for(const{encode:s}of t)s(i)}}}function mte(t){const e=typeof t=="string"?$i(t):t,n=_L(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+n+e.length,encode(i){e.length===1&&e[0]<128?i.pushBytes(e):e.length<=55?(i.pushByte(128+e.length),i.pushBytes(e)):(i.pushByte(183+n),n===1?i.pushUint8(e.length):n===2?i.pushUint16(e.length):n===3?i.pushUint24(e.length):i.pushUint32(e.length),i.pushBytes(e))}}}function _L(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new _e("Length is too large.")}function EL(t){const{chainId:e,nonce:n,to:r}=t,i=t.contractAddress??t.address,s=Hr(Ea(["0x05",sl([e?Ne(e):"0x",i,n?Ne(n):"0x"])]));return r==="bytes"?$i(s):s}async function N_(t){const{authorization:e,signature:n}=t;return wL({hash:EL(e),signature:n??e})}class gte extends _e{constructor(e,{account:n,docsPath:r,chain:i,data:s,gas:a,gasPrice:c,maxFeePerGas:u,maxPriorityFeePerGas:d,nonce:h,to:p,value:m}){const g=F0({from:n?.address,to:p,value:typeof m<"u"&&`${eI(m)} ${i?.nativeCurrency?.symbol||"ETH"}`,data:s,gas:a,gasPrice:typeof c<"u"&&`${as(c)} gwei`,maxFeePerGas:typeof u<"u"&&`${as(u)} gwei`,maxPriorityFeePerGas:typeof d<"u"&&`${as(d)} gwei`,nonce:h});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",g].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class Bh extends _e{constructor({cause:e,message:n}={}){const r=n?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(Bh,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(Bh,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted|gas required exceeds allowance/});class ef extends _e{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${as(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(ef,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class lT extends _e{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${as(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(lT,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class uT extends _e{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(uT,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class dT extends _e{constructor({cause:e,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(dT,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class fT extends _e{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(fT,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class hT extends _e{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(hT,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class pT extends _e{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(pT,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class yT extends _e{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(yT,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class mT extends _e{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(mT,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class s0 extends _e{constructor({cause:e,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${as(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${as(r)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(s0,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class q0 extends _e{constructor({cause:e}){super(`An error occurred while executing: ${e?.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function P_(t,e){const n=(t.details||"").toLowerCase(),r=t instanceof _e?t.walk(i=>i?.code===Bh.code):t;return r instanceof _e?new Bh({cause:t,message:r.details}):Bh.nodeMessage.test(n)?new Bh({cause:t,message:t.details}):ef.nodeMessage.test(n)?new ef({cause:t,maxFeePerGas:e?.maxFeePerGas}):lT.nodeMessage.test(n)?new lT({cause:t,maxFeePerGas:e?.maxFeePerGas}):uT.nodeMessage.test(n)?new uT({cause:t,nonce:e?.nonce}):dT.nodeMessage.test(n)?new dT({cause:t,nonce:e?.nonce}):fT.nodeMessage.test(n)?new fT({cause:t,nonce:e?.nonce}):hT.nodeMessage.test(n)?new hT({cause:t}):pT.nodeMessage.test(n)?new pT({cause:t,gas:e?.gas}):yT.nodeMessage.test(n)?new yT({cause:t,gas:e?.gas}):mT.nodeMessage.test(n)?new mT({cause:t}):s0.nodeMessage.test(n)?new s0({cause:t,maxFeePerGas:e?.maxFeePerGas,maxPriorityFeePerGas:e?.maxPriorityFeePerGas}):new q0({cause:t})}function bte(t,{docsPath:e,...n}){const r=(()=>{const i=P_(t,n);return i instanceof q0?t:i})();return new gte(r,{docsPath:e,...n})}function Lp(t,{format:e}){if(!e)return{};const n={};function r(s){const a=Object.keys(s);for(const c of a)c in t&&(n[c]=t[c]),s[c]&&typeof s[c]=="object"&&!Array.isArray(s[c])&&r(s[c])}const i=e(t||{});return r(i),n}function D_(t,e){return({exclude:n,format:r})=>({exclude:n,format:(i,s)=>{const a=e(i,s);if(n)for(const c of n)delete a[c];return{...a,...r(i,s)}},type:t})}const wte={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function yl(t,e){const n={};return typeof t.authorizationList<"u"&&(n.authorizationList=_te(t.authorizationList)),typeof t.accessList<"u"&&(n.accessList=t.accessList),typeof t.blobVersionedHashes<"u"&&(n.blobVersionedHashes=t.blobVersionedHashes),typeof t.blobs<"u"&&(typeof t.blobs[0]!="string"?n.blobs=t.blobs.map(r=>Ar(r)):n.blobs=t.blobs),typeof t.data<"u"&&(n.data=t.data),t.account&&(n.from=t.account.address),typeof t.from<"u"&&(n.from=t.from),typeof t.gas<"u"&&(n.gas=Ne(t.gas)),typeof t.gasPrice<"u"&&(n.gasPrice=Ne(t.gasPrice)),typeof t.maxFeePerBlobGas<"u"&&(n.maxFeePerBlobGas=Ne(t.maxFeePerBlobGas)),typeof t.maxFeePerGas<"u"&&(n.maxFeePerGas=Ne(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(n.maxPriorityFeePerGas=Ne(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(n.nonce=Ne(t.nonce)),typeof t.to<"u"&&(n.to=t.to),typeof t.type<"u"&&(n.type=wte[t.type]),typeof t.value<"u"&&(n.value=Ne(t.value)),n}const vte=D_("transactionRequest",yl);function _te(t){return t.map(e=>({address:e.address,r:e.r?Ne(BigInt(e.r)):e.r,s:e.s?Ne(BigInt(e.s)):e.s,chainId:Ne(e.chainId),nonce:Ne(e.nonce),...typeof e.yParity<"u"?{yParity:Ne(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:Ne(e.v)}:{}}))}function V4(t){if(!(!t||t.length===0))return t.reduce((e,{slot:n,value:r})=>{if(n.length!==66)throw new $4({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new $4({size:r.length,targetSize:66,type:"hex"});return e[n]=r,e},{})}function Ete(t){const{balance:e,nonce:n,state:r,stateDiff:i,code:s}=t,a={};if(s!==void 0&&(a.code=s),e!==void 0&&(a.balance=Ne(e)),n!==void 0&&(a.nonce=Ne(n)),r!==void 0&&(a.state=V4(r)),i!==void 0){if(a.state)throw new tte;a.stateDiff=V4(i)}return a}function rI(t){if(!t)return;const e={};for(const{address:n,...r}of t){if(!$n(n,{strict:!1}))throw new Er({address:n});if(e[n])throw new ete({address:n});e[n]=Ete(r)}return e}const Ate=2n**16n-1n,M_=2n**256n-1n;function Go(t){const{account:e,maxFeePerGas:n,maxPriorityFeePerGas:r,to:i}=t,s=e?Nn(e):void 0;if(s&&!$n(s.address))throw new Er({address:s.address});if(i&&!$n(i))throw new Er({address:i});if(n&&n>M_)throw new ef({maxFeePerGas:n});if(r&&n&&r>n)throw new s0({maxFeePerGas:n,maxPriorityFeePerGas:r})}class AL extends _e{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class iI extends _e{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class Ste extends _e{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${as(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class SL extends _e{constructor({blockHash:e,blockNumber:n}){let r="Block";e&&(r=`Block at hash "${e}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const xL={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function W0(t,e){const n={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?Bs(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?Bs(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?xL[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(n.authorizationList=xte(t.authorizationList)),n.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof n.v=="bigint"){if(n.v===0n||n.v===27n)return 0;if(n.v===1n||n.v===28n)return 1;if(n.v>=35n)return n.v%2n===0n?1:0}})(),n.type==="legacy"&&(delete n.accessList,delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.yParity),n.type==="eip2930"&&(delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas),n.type==="eip1559"&&delete n.maxFeePerBlobGas,n}const TL=D_("transaction",W0);function xte(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function sI(t,e){const n=(t.transactions??[]).map(r=>typeof r=="string"?r:W0(r));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:n,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}const IL=D_("block",sI);async function Ka(t,{blockHash:e,blockNumber:n,blockTag:r=t.experimental_blockTag??"latest",includeTransactions:i}={}){const s=i??!1,a=n!==void 0?Ne(n):void 0;let c=null;if(e?c=await t.request({method:"eth_getBlockByHash",params:[e,s]},{dedupe:!0}):c=await t.request({method:"eth_getBlockByNumber",params:[a||r,s]},{dedupe:!!a}),!c)throw new SL({blockHash:e,blockNumber:n});return(t.chain?.formatters?.block?.format||sI)(c,"getBlock")}async function aI(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function Tte(t,e){return CL(t,e)}async function CL(t,e){const{block:n,chain:r=t.chain,request:i}=e||{};try{const s=r?.fees?.maxPriorityFeePerGas??r?.fees?.defaultPriorityFee;if(typeof s=="function"){const c=n||await We(t,Ka,"getBlock")({}),u=await s({block:c,client:t,request:i});if(u===null)throw new Error;return u}if(typeof s<"u")return s;const a=await t.request({method:"eth_maxPriorityFeePerGas"});return ln(a)}catch{const[s,a]=await Promise.all([n?Promise.resolve(n):We(t,Ka,"getBlock")({}),We(t,aI,"getGasPrice")({})]);if(typeof s.baseFeePerGas!="bigint")throw new iI;const c=a-s.baseFeePerGas;return c<0n?0n:c}}async function Ite(t,e){return gT(t,e)}async function gT(t,e){const{block:n,chain:r=t.chain,request:i,type:s="eip1559"}=e||{},a=await(async()=>typeof r?.fees?.baseFeeMultiplier=="function"?r.fees.baseFeeMultiplier({block:n,client:t,request:i}):r?.fees?.baseFeeMultiplier??1.2)();if(a<1)throw new AL;const u=10**(a.toString().split(".")[1]?.length??0),d=m=>m*BigInt(Math.ceil(a*u))/BigInt(u),h=n||await We(t,Ka,"getBlock")({});if(typeof r?.fees?.estimateFeesPerGas=="function"){const m=await r.fees.estimateFeesPerGas({block:n,client:t,multiply:d,request:i,type:s});if(m!==null)return m}if(s==="eip1559"){if(typeof h.baseFeePerGas!="bigint")throw new iI;const m=typeof i?.maxPriorityFeePerGas=="bigint"?i.maxPriorityFeePerGas:await CL(t,{block:h,chain:r,request:i}),g=d(h.baseFeePerGas);return{maxFeePerGas:i?.maxFeePerGas??g+m,maxPriorityFeePerGas:m}}return{gasPrice:i?.gasPrice??d(await We(t,aI,"getGasPrice")({}))}}async function oI(t,{address:e,blockTag:n="latest",blockNumber:r}){const i=await t.request({method:"eth_getTransactionCount",params:[e,typeof r=="bigint"?Ne(r):n]},{dedupe:!!r});return Bs(i)}function cI(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(s=>$i(s)):t.blobs,i=[];for(const s of r)i.push(Uint8Array.from(e.blobToKzgCommitment(s)));return n==="bytes"?i:i.map(s=>Ar(s))}function lI(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(a=>$i(a)):t.blobs,i=typeof t.commitments[0]=="string"?t.commitments.map(a=>$i(a)):t.commitments,s=[];for(let a=0;a<r.length;a++){const c=r[a],u=i[a];s.push(Uint8Array.from(e.computeBlobKzgProof(c,u)))}return n==="bytes"?s:s.map(a=>Ar(a))}function Cte(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),a=Number(n>>i&s),c=Number(n&s),u=r?4:0,d=r?0:4;t.setUint32(e+u,a,r),t.setUint32(e+d,c,r)}function Ote(t,e,n){return t&e^~t&n}function kte(t,e,n){return t&e^t&n^e&n}let Rte=class extends Y3{constructor(e,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=lS(this.buffer)}update(e){up(this),e=O_(e),Zd(e);const{view:n,buffer:r,blockLen:i}=this,s=e.length;for(let a=0;a<s;){const c=Math.min(i-this.pos,s-a);if(c===i){const u=lS(e);for(;i<=s-a;a+=i)this.process(u,a);continue}r.set(e.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){up(this),KB(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:a}=this;n[a++]=128,dp(this.buffer.subarray(a)),this.padOffset>i-a&&(this.process(r,0),a=0);for(let p=a;p<i;p++)n[p]=0;Cte(r,i-8,BigInt(this.length*8),s),this.process(r,0);const c=lS(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=u/4,h=this.get();if(d>h.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<d;p++)c.setUint32(4*p,h[p],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:a,pos:c}=this;return e.destroyed=a,e.finished=s,e.length=i,e.pos=c,i%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}};const ql=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),$te=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Wl=new Uint32Array(64);let Nte=class extends Rte{constructor(e=32){super(64,e,8,!1),this.A=ql[0]|0,this.B=ql[1]|0,this.C=ql[2]|0,this.D=ql[3]|0,this.E=ql[4]|0,this.F=ql[5]|0,this.G=ql[6]|0,this.H=ql[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:a,G:c,H:u}=this;return[e,n,r,i,s,a,c,u]}set(e,n,r,i,s,a,c,u){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=c|0,this.H=u|0}process(e,n){for(let p=0;p<16;p++,n+=4)Wl[p]=e.getUint32(n,!1);for(let p=16;p<64;p++){const m=Wl[p-15],g=Wl[p-2],b=po(m,7)^po(m,18)^m>>>3,v=po(g,17)^po(g,19)^g>>>10;Wl[p]=v+Wl[p-7]+b+Wl[p-16]|0}let{A:r,B:i,C:s,D:a,E:c,F:u,G:d,H:h}=this;for(let p=0;p<64;p++){const m=po(c,6)^po(c,11)^po(c,25),g=h+m+Ote(c,u,d)+$te[p]+Wl[p]|0,v=(po(r,2)^po(r,13)^po(r,22))+kte(r,i,s)|0;h=d,d=u,u=c,c=a+g|0,a=s,s=i,i=r,r=g+v|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,c=c+this.E|0,u=u+this.F|0,d=d+this.G|0,h=h+this.H|0,this.set(r,i,s,a,c,u,d,h)}roundClean(){dp(Wl)}destroy(){this.set(0,0,0,0,0,0,0,0),dp(this.buffer)}};const OL=YB(()=>new Nte),Pte=OL;function kL(t,e){const n=e||"hex",r=Pte(Ri(t,{strict:!1})?Xc(t):t);return n==="bytes"?r:xt(r)}function Dte(t){const{commitment:e,version:n=1}=t,r=t.to??(typeof e=="string"?"hex":"bytes"),i=kL(e,"bytes");return i.set([n],0),r==="bytes"?i:Ar(i)}function RL(t){const{commitments:e,version:n}=t,r=t.to??(typeof e[0]=="string"?"hex":"bytes"),i=[];for(const s of e)i.push(Dte({commitment:s,to:r,version:n}));return i}const G4=6,$L=32,uI=4096,NL=$L*uI,K4=NL*G4-1-1*uI*G4,PL=1;class Mte extends _e{constructor({maxSize:e,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class DL extends _e{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class Ute extends _e{constructor({hash:e,size:n}){super(`Versioned hash "${e}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${n}`],name:"InvalidVersionedHashSizeError"})}}class Bte extends _e{constructor({hash:e,version:n}){super(`Versioned hash "${e}" version is invalid.`,{metaMessages:[`Expected: ${PL}`,`Received: ${n}`],name:"InvalidVersionedHashVersionError"})}}function Lte(t){const e=t.to??(typeof t.data=="string"?"hex":"bytes"),n=typeof t.data=="string"?$i(t.data):t.data,r=Kn(n);if(!r)throw new DL;if(r>K4)throw new Mte({maxSize:K4,size:r});const i=[];let s=!0,a=0;for(;s;){const c=Q3(new Uint8Array(NL));let u=0;for(;u<uI;){const d=n.slice(a,a+($L-1));if(c.pushByte(0),c.pushBytes(d),d.length<31){c.pushByte(128),s=!1;break}u++,a+=31}i.push(c)}return e==="bytes"?i.map(c=>c.bytes):i.map(c=>Ar(c.bytes))}function ML(t){const{data:e,kzg:n,to:r}=t,i=t.blobs??Lte({data:e,to:r}),s=t.commitments??cI({blobs:i,kzg:n,to:r}),a=t.proofs??lI({blobs:i,commitments:s,kzg:n,to:r}),c=[];for(let u=0;u<i.length;u++)c.push({blob:i[u],commitment:s[u],proof:a[u]});return c}function UL(t){if(t.type)return t.type;if(typeof t.authorizationList<"u")return"eip7702";if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new ite({transaction:t})}function H0(t,{docsPath:e,...n}){const r=(()=>{const i=P_(t,n);return i instanceof q0?t:i})();return new ate(r,{docsPath:e,...n})}async function Ko(t){const e=await t.request({method:"eth_chainId"},{dedupe:!0});return Bs(e)}async function dI(t,e){const{account:n=t.account,accessList:r,authorizationList:i,chain:s=t.chain,blobVersionedHashes:a,blobs:c,data:u,gas:d,gasPrice:h,maxFeePerBlobGas:p,maxFeePerGas:m,maxPriorityFeePerGas:g,nonce:b,nonceManager:v,to:E,type:O,value:k,...S}=e,A=await(async()=>{if(!n||!v||typeof b<"u")return b;const z=Nn(n),L=s?s.id:await We(t,Ko,"getChainId")({});return await v.consume({address:z.address,chainId:L,client:t})})();Go(e);const C=s?.formatters?.transactionRequest?.format,N=(C||yl)({...Lp(S,{format:C}),account:n?Nn(n):void 0,accessList:r,authorizationList:i,blobs:c,blobVersionedHashes:a,data:u,gas:d,gasPrice:h,maxFeePerBlobGas:p,maxFeePerGas:m,maxPriorityFeePerGas:g,nonce:A,to:E,type:O,value:k},"fillTransaction");try{const z=await t.request({method:"eth_fillTransaction",params:[N]}),B=(s?.formatters?.transaction?.format||W0)(z.tx);delete B.blockHash,delete B.blockNumber,delete B.r,delete B.s,delete B.transactionIndex,delete B.v,delete B.yParity,B.data=B.input,B.gas&&(B.gas=e.gas??B.gas),B.gasPrice&&(B.gasPrice=e.gasPrice??B.gasPrice),B.maxFeePerBlobGas&&(B.maxFeePerBlobGas=e.maxFeePerBlobGas??B.maxFeePerBlobGas),B.maxFeePerGas&&(B.maxFeePerGas=e.maxFeePerGas??B.maxFeePerGas),B.maxPriorityFeePerGas&&(B.maxPriorityFeePerGas=e.maxPriorityFeePerGas??B.maxPriorityFeePerGas),B.nonce&&(B.nonce=e.nonce??B.nonce);const H=await(async()=>{if(typeof s?.fees?.baseFeeMultiplier=="function"){const T=await We(t,Ka,"getBlock")({});return s.fees.baseFeeMultiplier({block:T,client:t,request:e})}return s?.fees?.baseFeeMultiplier??1.2})();if(H<1)throw new AL;const F=10**(H.toString().split(".")[1]?.length??0),K=T=>T*BigInt(Math.ceil(H*F))/BigInt(F);return B.maxFeePerGas&&!e.maxFeePerGas&&(B.maxFeePerGas=K(B.maxFeePerGas)),B.gasPrice&&!e.gasPrice&&(B.gasPrice=K(B.gasPrice)),{raw:z.raw,transaction:{from:N.from,...B}}}catch(z){throw H0(z,{...e,chain:t.chain})}}const fI=["blobVersionedHashes","chainId","fees","gas","nonce","type"],Y4=new Map,fS=new Bp(128);async function jp(t,e){let n=e;n.account??=t.account,n.parameters??=fI;const{account:r,chain:i=t.chain,nonceManager:s,parameters:a}=n,c=(()=>{if(typeof i?.prepareTransactionRequest=="function")return{fn:i.prepareTransactionRequest,runAt:["beforeFillTransaction"]};if(Array.isArray(i?.prepareTransactionRequest))return{fn:i.prepareTransactionRequest[0],runAt:i.prepareTransactionRequest[1].runAt}})();let u;async function d(){return u||(typeof n.chainId<"u"?n.chainId:i?i.id:(u=await We(t,Ko,"getChainId")({}),u))}const h=r&&Nn(r);let p=n.nonce;if(a.includes("nonce")&&typeof p>"u"&&h&&s){const A=await d();p=await s.consume({address:h.address,chainId:A,client:t})}c?.fn&&c.runAt?.includes("beforeFillTransaction")&&(n=await c.fn({...n,chain:i},{phase:"beforeFillTransaction"}),p??=n.nonce);const g=((a.includes("blobVersionedHashes")||a.includes("sidecars"))&&n.kzg&&n.blobs||fS.get(t.uid)===!1||!["fees","gas"].some(C=>a.includes(C))?!1:!!(a.includes("chainId")&&typeof n.chainId!="number"||a.includes("nonce")&&typeof p!="number"||a.includes("fees")&&typeof n.gasPrice!="bigint"&&(typeof n.maxFeePerGas!="bigint"||typeof n.maxPriorityFeePerGas!="bigint")||a.includes("gas")&&typeof n.gas!="bigint"))?await We(t,dI,"fillTransaction")({...n,nonce:p}).then(A=>{const{chainId:C,from:I,gas:N,gasPrice:z,nonce:L,maxFeePerBlobGas:B,maxFeePerGas:H,maxPriorityFeePerGas:D,type:F,...K}=A.transaction;return fS.set(t.uid,!0),{...n,...I?{from:I}:{},...F?{type:F}:{},...typeof C<"u"?{chainId:C}:{},...typeof N<"u"?{gas:N}:{},...typeof z<"u"?{gasPrice:z}:{},...typeof L<"u"?{nonce:L}:{},...typeof B<"u"?{maxFeePerBlobGas:B}:{},...typeof H<"u"?{maxFeePerGas:H}:{},...typeof D<"u"?{maxPriorityFeePerGas:D}:{},..."nonceKey"in K&&typeof K.nonceKey<"u"?{nonceKey:K.nonceKey}:{}}}).catch(A=>{const C=A;return C.name!=="TransactionExecutionError"||C.walk?.(N=>{const z=N;return z.name==="MethodNotFoundRpcError"||z.name==="MethodNotSupportedRpcError"})&&fS.set(t.uid,!1),n}):n;p??=g.nonce,n={...g,...h?{from:h?.address}:{},...p?{nonce:p}:{}};const{blobs:b,gas:v,kzg:E,type:O}=n;c?.fn&&c.runAt?.includes("beforeFillParameters")&&(n=await c.fn({...n,chain:i},{phase:"beforeFillParameters"}));let k;async function S(){return k||(k=await We(t,Ka,"getBlock")({blockTag:"latest"}),k)}if(a.includes("nonce")&&typeof p>"u"&&h&&!s&&(n.nonce=await We(t,oI,"getTransactionCount")({address:h.address,blockTag:"pending"})),(a.includes("blobVersionedHashes")||a.includes("sidecars"))&&b&&E){const A=cI({blobs:b,kzg:E});if(a.includes("blobVersionedHashes")){const C=RL({commitments:A,to:"hex"});n.blobVersionedHashes=C}if(a.includes("sidecars")){const C=lI({blobs:b,commitments:A,kzg:E}),I=ML({blobs:b,commitments:A,proofs:C,to:"hex"});n.sidecars=I}}if(a.includes("chainId")&&(n.chainId=await d()),(a.includes("fees")||a.includes("type"))&&typeof O>"u")try{n.type=UL(n)}catch{let A=Y4.get(t.uid);typeof A>"u"&&(A=typeof(await S())?.baseFeePerGas=="bigint",Y4.set(t.uid,A)),n.type=A?"eip1559":"legacy"}if(a.includes("fees"))if(n.type!=="legacy"&&n.type!=="eip2930"){if(typeof n.maxFeePerGas>"u"||typeof n.maxPriorityFeePerGas>"u"){const A=await S(),{maxFeePerGas:C,maxPriorityFeePerGas:I}=await gT(t,{block:A,chain:i,request:n});if(typeof n.maxPriorityFeePerGas>"u"&&n.maxFeePerGas&&n.maxFeePerGas<I)throw new Ste({maxPriorityFeePerGas:I});n.maxPriorityFeePerGas=I,n.maxFeePerGas=C}}else{if(typeof n.maxFeePerGas<"u"||typeof n.maxPriorityFeePerGas<"u")throw new iI;if(typeof n.gasPrice>"u"){const A=await S(),{gasPrice:C}=await gT(t,{block:A,chain:i,request:n,type:"legacy"});n.gasPrice=C}}return a.includes("gas")&&typeof v>"u"&&(n.gas=await We(t,hI,"estimateGas")({...n,account:h,prepare:h?.type==="local"?[]:["blobVersionedHashes"]})),c?.fn&&c.runAt?.includes("afterFillParameters")&&(n=await c.fn({...n,chain:i},{phase:"afterFillParameters"})),Go(n),delete n.parameters,n}async function hI(t,e){const{account:n=t.account,prepare:r=!0}=e,i=n?Nn(n):void 0,s=(()=>{if(Array.isArray(r))return r;if(i?.type!=="local")return["blobVersionedHashes"]})();try{const a=await(async()=>{if(e.to)return e.to;if(e.authorizationList&&e.authorizationList.length>0)return await N_({authorization:e.authorizationList[0]}).catch(()=>{throw new _e("`to` is required. Could not infer from `authorizationList`")})})(),{accessList:c,authorizationList:u,blobs:d,blobVersionedHashes:h,blockNumber:p,blockTag:m,data:g,gas:b,gasPrice:v,maxFeePerBlobGas:E,maxFeePerGas:O,maxPriorityFeePerGas:k,nonce:S,value:A,stateOverride:C,...I}=r?await jp(t,{...e,parameters:s,to:a}):e;if(b&&e.gas!==b)return b;const z=(typeof p=="bigint"?Ne(p):void 0)||m,L=rI(C);Go(e);const B=t.chain?.formatters?.transactionRequest?.format,D=(B||yl)({...Lp(I,{format:B}),account:i,accessList:c,authorizationList:u,blobs:d,blobVersionedHashes:h,data:g,gasPrice:v,maxFeePerBlobGas:E,maxFeePerGas:O,maxPriorityFeePerGas:k,nonce:S,to:a,value:A},"estimateGas");return BigInt(await t.request({method:"eth_estimateGas",params:L?[D,z??t.experimental_blockTag??"latest",L]:z?[D,z]:[D]}))}catch(a){throw bte(a,{...e,account:i,chain:t.chain})}}async function jte(t,e){const{abi:n,address:r,args:i,functionName:s,dataSuffix:a,...c}=e,u=Ui({abi:n,args:i,functionName:s});try{return await We(t,hI,"estimateGas")({data:`${u}${a?a.replace("0x",""):""}`,to:r,...c})}catch(d){const h=c.account?Nn(c.account):void 0;throw Qd(d,{abi:n,address:r,args:i,docsPath:"/docs/contract/estimateContractGas",functionName:s,sender:h?.address})}}function V0(t,e){if(!$n(t,{strict:!1}))throw new Er({address:t});if(!$n(e,{strict:!1}))throw new Er({address:e});return t.toLowerCase()===e.toLowerCase()}const Z4="/docs/contract/decodeEventLog";function f1(t){const{abi:e,data:n,strict:r,topics:i}=t,s=r??!0,[a,...c]=i;if(!a)throw new RQ({docsPath:Z4});const u=e.find(v=>v.type==="event"&&a===k_(to(v)));if(!(u&&"name"in u)||u.type!=="event")throw new $Q(a,{docsPath:Z4});const{name:d,inputs:h}=u,p=h?.some(v=>!("name"in v&&v.name)),m=p?[]:{},g=h.map((v,E)=>[v,E]).filter(([v])=>"indexed"in v&&v.indexed);for(let v=0;v<g.length;v++){const[E,O]=g[v],k=c[v];if(!k)throw new K3({abiItem:u,param:E});m[p?O:E.name||O]=zte({param:E,value:k})}const b=h.filter(v=>!("indexed"in v&&v.indexed));if(b.length>0){if(n&&n!=="0x")try{const v=z0(b,n);if(v)if(p)for(let E=0;E<h.length;E++)m[E]=m[E]??v.shift();else for(let E=0;E<b.length;E++)m[b[E].name]=v[E]}catch(v){if(s)throw v instanceof jB||v instanceof uL?new d1({abiItem:u,data:n,params:b,size:Kn(n)}):v}else if(s)throw new d1({abiItem:u,data:"0x",params:b,size:0})}return{eventName:d,args:Object.values(m).length>0?m:void 0}}function zte({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(z0([t],e)||[])[0]}function pI(t){const{abi:e,args:n,logs:r,strict:i=!0}=t,s=(()=>{if(t.eventName)return Array.isArray(t.eventName)?t.eventName:[t.eventName]})();return r.map(a=>{const c=e.filter(h=>h.type==="event"&&a.topics[0]===k_(h));if(c.length===0)return null;let u,d;for(const h of c)try{u=f1({...a,abi:[h],strict:!0}),d=h;break}catch{}if(!u&&!i){d=c[0];try{u=f1({...a,abi:[d],strict:!1})}catch{const h=d.inputs?.some(p=>!("name"in p&&p.name));return{...a,args:h?[]:{},eventName:d.name}}}return!u||!d||s&&!s.includes(u.eventName)||!Fte({args:u.args,inputs:d.inputs,matchArgs:n})?null:{...u,...a}}).filter(Boolean)}function Fte(t){const{args:e,inputs:n,matchArgs:r}=t;if(!r)return!0;if(!e)return!1;function i(s,a,c){try{return s.type==="address"?V0(a,c):s.type==="string"||s.type==="bytes"?Hr(Xc(a))===c:a===c}catch{return!1}}return Array.isArray(e)&&Array.isArray(r)?r.every((s,a)=>{if(s==null)return!0;const c=n[a];return c?(Array.isArray(s)?s:[s]).some(d=>i(c,d,e[a])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([s,a])=>{if(a==null)return!0;const c=n.find(d=>d.name===s);return c?(Array.isArray(a)?a:[a]).some(d=>i(c,d,e[s])):!1}):!1}function zo(t,{args:e,eventName:n}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,blockTimestamp:t.blockTimestamp?BigInt(t.blockTimestamp):t.blockTimestamp===null?null:void 0,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...n?{args:e,eventName:n}:{}}}async function yI(t,{address:e,blockHash:n,fromBlock:r,toBlock:i,event:s,events:a,args:c,strict:u}={}){const d=u??!1,h=a??(s?[s]:void 0);let p=[];h&&(p=[h.flatMap(v=>j0({abi:[v],eventName:v.name,args:a?void 0:c}))],s&&(p=p[0]));let m;n?m=await t.request({method:"eth_getLogs",params:[{address:e,topics:p,blockHash:n}]}):m=await t.request({method:"eth_getLogs",params:[{address:e,topics:p,fromBlock:typeof r=="bigint"?Ne(r):r,toBlock:typeof i=="bigint"?Ne(i):i}]});const g=m.map(b=>zo(b));return h?pI({abi:h,args:c,logs:g,strict:d}):g}async function BL(t,e){const{abi:n,address:r,args:i,blockHash:s,eventName:a,fromBlock:c,toBlock:u,strict:d}=e,h=a?bf({abi:n,name:a}):void 0,p=h?void 0:n.filter(m=>m.type==="event");return We(t,yI,"getLogs")({address:r,args:i,blockHash:s,event:h,events:p,fromBlock:c,toBlock:u,strict:d})}const hS="/docs/contract/decodeFunctionResult";function wf(t){const{abi:e,args:n,functionName:r,data:i}=t;let s=e[0];if(r){const c=bf({abi:e,args:n,name:r});if(!c)throw new cp(r,{docsPath:hS});s=c}if(s.type!=="function")throw new cp(void 0,{docsPath:hS});if(!s.outputs)throw new FB(s.name,{docsPath:hS});const a=z0(s.outputs,i);if(a&&a.length>1)return a;if(a&&a.length===1)return a[0]}const mI=BigInt(0),bT=BigInt(1);function G0(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function gI(t){if(!G0(t))throw new Error("Uint8Array expected")}function a0(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function Hw(t){const e=t.toString(16);return e.length&1?"0"+e:e}function LL(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?mI:BigInt("0x"+t)}const jL=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",qte=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function o0(t){if(gI(t),jL)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=qte[t[n]];return e}const gc={_0:48,_9:57,A:65,F:70,a:97,f:102};function X4(t){if(t>=gc._0&&t<=gc._9)return t-gc._0;if(t>=gc.A&&t<=gc.F)return t-(gc.A-10);if(t>=gc.a&&t<=gc.f)return t-(gc.a-10)}function h1(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(jL)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const a=X4(t.charCodeAt(s)),c=X4(t.charCodeAt(s+1));if(a===void 0||c===void 0){const u=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+u+'" at index '+s)}r[i]=a*16+c}return r}function Fd(t){return LL(o0(t))}function zL(t){return gI(t),LL(o0(Uint8Array.from(t).reverse()))}function K0(t,e){return h1(t.toString(16).padStart(e*2,"0"))}function FL(t,e){return K0(t,e).reverse()}function ua(t,e,n){let r;if(typeof e=="string")try{r=h1(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(G0(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function p1(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];gI(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}const pS=t=>typeof t=="bigint"&&mI<=t;function bI(t,e,n){return pS(t)&&pS(e)&&pS(n)&&e<=t&&t<n}function Jh(t,e,n,r){if(!bI(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function Wte(t){let e;for(e=0;t>mI;t>>=bT,e+=1);return e}const U_=t=>(bT<<BigInt(t))-bT,yS=t=>new Uint8Array(t),J4=t=>Uint8Array.from(t);function Hte(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=yS(t),i=yS(t),s=0;const a=()=>{r.fill(1),i.fill(0),s=0},c=(...p)=>n(i,r,...p),u=(p=yS(0))=>{i=c(J4([0]),p),r=c(),p.length!==0&&(i=c(J4([1]),p),r=c())},d=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let p=0;const m=[];for(;p<e;){r=c();const g=r.slice();m.push(g),p+=r.length}return p1(...m)};return(p,m)=>{a(),u(p);let g;for(;!(g=m(d()));)u();return a(),g}}const Vte={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||G0(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function B_(t,e,n={}){const r=(i,s,a)=>{const c=Vte[s];if(typeof c!="function")throw new Error("invalid validator function");const u=t[i];if(!(a&&u===void 0)&&!c(u,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+u)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}function Q4(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}const Gte="0.1.1";function Kte(){return Gte}let Ut=class $c extends Error{static setStaticOptions(e){$c.prototype.docsOrigin=e.docsOrigin,$c.prototype.showVersion=e.showVersion,$c.prototype.version=e.version}constructor(e,n={}){const r=(()=>{if(n.cause instanceof $c){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:n.cause?.message?n.cause.message:n.details})(),i=n.cause instanceof $c&&n.cause.docsPath||n.docsPath,s=n.docsOrigin??$c.prototype.docsOrigin,a=`${s}${i??""}`,c=!!(n.version??$c.prototype.showVersion),u=n.version??$c.prototype.version,d=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||i||c?["",r?`Details: ${r}`:void 0,i?`See: ${a}`:void 0,c?`Version: ${u}`:void 0]:[]].filter(h=>typeof h=="string").join(`
`);super(d,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsOrigin",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"showVersion",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.cause=n.cause,this.details=r,this.docs=a,this.docsOrigin=s,this.docsPath=i,this.shortMessage=e,this.showVersion=c,this.version=u}walk(e){return qL(this,e)}};Object.defineProperty(Ut,"defaultStaticOptions",{enumerable:!0,configurable:!0,writable:!0,value:{docsOrigin:"https://oxlib.sh",showVersion:!1,version:`ox@${Kte()}`}});Ut.setStaticOptions(Ut.defaultStaticOptions);function qL(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?qL(t.cause,e):e?null:t}function Y0(t,e){if(Lh(t)>e)throw new dne({givenSize:Lh(t),maxSize:e})}const bc={zero:48,nine:57,A:65,F:70,a:97,f:102};function e$(t){if(t>=bc.zero&&t<=bc.nine)return t-bc.zero;if(t>=bc.A&&t<=bc.F)return t-(bc.A-10);if(t>=bc.a&&t<=bc.f)return t-(bc.a-10)}function Yte(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;if(t.length>r)throw new fne({size:t.length,targetSize:r,type:"Bytes"});const i=new Uint8Array(r);for(let s=0;s<r;s++){const a=n==="right";i[a?s:r-s-1]=t[a?s:t.length-s-1]}return i}function WL(t,e={}){const{dir:n="left"}=e;let r=t,i=0;for(let s=0;s<r.length-1&&r[n==="left"?s:r.length-s-1].toString()==="0";s++)i++;return r=n==="left"?r.slice(i):r.slice(0,r.length-i),r}function L_(t,e){if(Ls(t)>e)throw new bne({givenSize:Ls(t),maxSize:e})}function Zte(t,e){if(typeof e=="number"&&e>0&&e>Ls(t)-1)throw new QL({offset:e,position:"start",size:Ls(t)})}function Xte(t,e,n){if(typeof e=="number"&&typeof n=="number"&&Ls(t)!==n-e)throw new QL({offset:n,position:"end",size:Ls(t)})}function HL(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;const i=t.replace("0x","");if(i.length>r*2)throw new wne({size:Math.ceil(i.length/2),targetSize:r,type:"Hex"});return`0x${i[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const Jte="#__bigint";function VL(t,e,n){return JSON.stringify(t,(r,i)=>typeof i=="bigint"?i.toString()+Jte:i,n)}const Qte=new TextDecoder,ene=new TextEncoder;function tne(t){return t instanceof Uint8Array?t:typeof t=="string"?GL(t):nne(t)}function nne(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function GL(t,e={}){const{size:n}=e;let r=t;n&&(L_(t,n),r=nf(t,n));let i=r.slice(2);i.length%2&&(i=`0${i}`);const s=i.length/2,a=new Uint8Array(s);for(let c=0,u=0;c<s;c++){const d=e$(i.charCodeAt(u++)),h=e$(i.charCodeAt(u++));if(d===void 0||h===void 0)throw new Ut(`Invalid byte sequence ("${i[u-2]}${i[u-1]}" in "${i}").`);a[c]=d<<4|h}return a}function rne(t,e={}){const{size:n}=e,r=ene.encode(t);return typeof n=="number"?(Y0(r,n),ine(r,n)):r}function ine(t,e){return Yte(t,{dir:"right",size:e})}function Lh(t){return t.length}function sne(t,e,n,r={}){const{strict:i}=r;return t.slice(e,n)}function ane(t,e={}){const{size:n}=e;typeof n<"u"&&Y0(t,n);const r=ro(t,e);return ZL(r,e)}function one(t,e={}){const{size:n}=e;let r=t;if(typeof n<"u"&&(Y0(r,n),r=KL(r)),r.length>1||r[0]>1)throw new une(r);return!!r[0]}function Qc(t,e={}){const{size:n}=e;typeof n<"u"&&Y0(t,n);const r=ro(t,e);return XL(r,e)}function cne(t,e={}){const{size:n}=e;let r=t;return typeof n<"u"&&(Y0(r,n),r=lne(r)),Qte.decode(r)}function KL(t){return WL(t,{dir:"left"})}function lne(t){return WL(t,{dir:"right"})}class une extends Ut{constructor(e){super(`Bytes value \`${e}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}let dne=class extends Ut{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},fne=class extends Ut{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const hne=new TextEncoder,pne=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function yne(t,e={}){const{strict:n=!1}=e;if(!t)throw new t$(t);if(typeof t!="string")throw new t$(t);if(n&&!/^0x[0-9a-fA-F]*$/.test(t))throw new n$(t);if(!t.startsWith("0x"))throw new n$(t)}function no(...t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}function mne(t){return t instanceof Uint8Array?ro(t):Array.isArray(t)?ro(new Uint8Array(t)):t}function YL(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(L_(n,e.size),tf(n,e.size)):n}function ro(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=pne[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(L_(r,e.size),nf(r,e.size)):r}function ki(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const a=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<a){const d=typeof t=="bigint"?"n":"";throw new JL({max:s?`${s}${d}`:void 0,min:`${a}${d}`,signed:n,size:r,value:`${t}${d}`})}const u=`0x${(n&&i<0?BigInt.asUintN(r*8,BigInt(i)):i).toString(16)}`;return r?tf(u,r):u}function wI(t,e={}){return ro(hne.encode(t),e)}function tf(t,e){return HL(t,{dir:"left",size:e})}function nf(t,e){return HL(t,{dir:"right",size:e})}function Do(t,e,n,r={}){const{strict:i}=r;Zte(t,e);const s=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return i&&Xte(s,e,n),s}function Ls(t){return Math.ceil((t.length-2)/2)}function ZL(t,e={}){const{signed:n}=e;e.size&&L_(t,e.size);const r=BigInt(t);if(!n)return r;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n)-1n,a=s>>1n;return r<=a?r:r-s-1n}function XL(t,e={}){const{signed:n,size:r}=e;return Number(!n&&!r?t:ZL(t,e))}function gne(t,e={}){const{strict:n=!1}=e;try{return yne(t,{strict:n}),!0}catch{return!1}}let JL=class extends Ut{constructor({max:e,min:n,signed:r,size:i,value:s}){super(`Number \`${s}\` is not in safe${i?` ${i*8}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${n}\` to \`${e}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}},t$=class extends Ut{constructor(e){super(`Value \`${typeof e=="object"?VL(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}},n$=class extends Ut{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}},bne=class extends Ut{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}},QL=class extends Ut{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}},wne=class extends Ut{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}};function vne(t){return{address:t.address,amount:ki(t.amount),index:ki(t.index),validatorIndex:ki(t.validatorIndex)}}function e7(t){return{...typeof t.baseFeePerGas=="bigint"&&{baseFeePerGas:ki(t.baseFeePerGas)},...typeof t.blobBaseFee=="bigint"&&{blobBaseFee:ki(t.blobBaseFee)},...typeof t.feeRecipient=="string"&&{feeRecipient:t.feeRecipient},...typeof t.gasLimit=="bigint"&&{gasLimit:ki(t.gasLimit)},...typeof t.number=="bigint"&&{number:ki(t.number)},...typeof t.prevRandao=="bigint"&&{prevRandao:ki(t.prevRandao)},...typeof t.time=="bigint"&&{time:ki(t.time)},...t.withdrawals&&{withdrawals:t.withdrawals.map(vne)}}}const y1=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],wT=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],t7=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],n7=[...t7,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],_ne=[...t7,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],r$=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],i$=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],r7=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],s$=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],WBe=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],Ene="0x82ad56cb",i7="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",Ane="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",Sne="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",vI="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033";class vT extends _e{constructor({blockNumber:e,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...e&&r.blockCreated&&r.blockCreated>e?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class xne extends _e{constructor({chain:e,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${e.id}  ${e.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e.id}  ${e.name}`],name:"ChainMismatchError"})}}class Tne extends _e{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class s7 extends _e{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class Z0 extends _e{constructor({chainId:e}){super(typeof e=="number"?`Chain ID "${e}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}const mS="/docs/contract/encodeDeployData";function j_(t){const{abi:e,args:n,bytecode:r}=t;if(!n||n.length===0)return r;const i=e.find(a=>"type"in a&&a.type==="constructor");if(!i)throw new LB({docsPath:mS});if(!("inputs"in i))throw new u1({docsPath:mS});if(!i.inputs||i.inputs.length===0)throw new u1({docsPath:mS});const s=Mu(i.inputs,n);return Ea([r,s])}function zp({blockNumber:t,chain:e,contract:n}){const r=e?.contracts?.[n];if(!r)throw new vT({chain:e,contract:{name:n}});if(t&&r.blockCreated&&r.blockCreated>t)throw new vT({blockNumber:t,chain:e,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function a7(t,{docsPath:e,...n}){const r=(()=>{const i=P_(t,n);return i instanceof q0?t:i})();return new mL(r,{docsPath:e,...n})}function _I(){let t=()=>{},e=()=>{};return{promise:new Promise((r,i)=>{t=r,e=i}),resolve:t,reject:e}}const gS=new Map;function o7({fn:t,id:e,shouldSplitBatch:n,wait:r=0,sort:i}){const s=async()=>{const h=u();a();const p=h.map(({args:m})=>m);p.length!==0&&t(p).then(m=>{i&&Array.isArray(m)&&m.sort(i);for(let g=0;g<h.length;g++){const{resolve:b}=h[g];b?.([m[g],m])}}).catch(m=>{for(let g=0;g<h.length;g++){const{reject:b}=h[g];b?.(m)}})},a=()=>gS.delete(e),c=()=>u().map(({args:h})=>h),u=()=>gS.get(e)||[],d=h=>gS.set(e,[...u(),h]);return{flush:a,async schedule(h){const{promise:p,resolve:m,reject:g}=_I();return n?.([...c(),h])&&s(),u().length>0?(d({args:h,resolve:m,reject:g}),p):(d({args:h,resolve:m,reject:g}),setTimeout(s,r),p)}}}async function z_(t,e){const{account:n=t.account,authorizationList:r,batch:i=!!t.batch?.multicall,blockNumber:s,blockTag:a=t.experimental_blockTag??"latest",accessList:c,blobs:u,blockOverrides:d,code:h,data:p,factory:m,factoryData:g,gas:b,gasPrice:v,maxFeePerBlobGas:E,maxFeePerGas:O,maxPriorityFeePerGas:k,nonce:S,to:A,value:C,stateOverride:I,...N}=e,z=n?Nn(n):void 0;if(h&&(m||g))throw new _e("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(h&&A)throw new _e("Cannot provide both `code` & `to` as parameters.");const L=h&&p,B=m&&g&&A&&p,H=L||B,D=L?c7({code:h,data:p}):B?One({data:p,factory:m,factoryData:g,to:A}):p;try{Go(e);const K=(typeof s=="bigint"?Ne(s):void 0)||a,T=d?e7(d):void 0,x=rI(I),$=t.chain?.formatters?.transactionRequest?.format,P=($||yl)({...Lp(N,{format:$}),accessList:c,account:z,authorizationList:r,blobs:u,data:D,gas:b,gasPrice:v,maxFeePerBlobGas:E,maxFeePerGas:O,maxPriorityFeePerGas:k,nonce:S,to:H?void 0:A,value:C},"call");if(i&&Ine({request:P})&&!x&&!T)try{return await Cne(t,{...P,blockNumber:s,blockTag:a})}catch(G){if(!(G instanceof s7)&&!(G instanceof vT))throw G}const V=(()=>{const G=[P,K];return x&&T?[...G,x,T]:x?[...G,x]:T?[...G,{},T]:G})(),M=await t.request({method:"eth_call",params:V});return M==="0x"?{data:void 0}:{data:M}}catch(F){const K=kne(F),{offchainLookup:T,offchainLookupSignature:x}=await Fe(async()=>{const{offchainLookup:$,offchainLookupSignature:j}=await import("./ccip-COKvnRtP.js");return{offchainLookup:$,offchainLookupSignature:j}},[]);if(t.ccipRead!==!1&&K?.slice(0,10)===x&&A)return{data:await T(t,{data:K,to:A})};throw H&&K?.slice(0,10)==="0x101bb98d"?new ute({factory:m}):a7(F,{...e,account:z,chain:t.chain})}}function Ine({request:t}){const{data:e,to:n,...r}=t;return!(!e||e.startsWith(Ene)||!n||Object.values(r).filter(i=>typeof i<"u").length>0)}async function Cne(t,e){const{batchSize:n=1024,deployless:r=!1,wait:i=0}=typeof t.batch?.multicall=="object"?t.batch.multicall:{},{blockNumber:s,blockTag:a=t.experimental_blockTag??"latest",data:c,to:u}=e,d=(()=>{if(r)return null;if(e.multicallAddress)return e.multicallAddress;if(t.chain)return zp({blockNumber:s,chain:t.chain,contract:"multicall3"});throw new s7})(),p=(typeof s=="bigint"?Ne(s):void 0)||a,{schedule:m}=o7({id:`${t.uid}.${p}`,wait:i,shouldSplitBatch(v){return v.reduce((O,{data:k})=>O+(k.length-2),0)>n*2},fn:async v=>{const E=v.map(S=>({allowFailure:!0,callData:S.data,target:S.to})),O=Ui({abi:y1,args:[E],functionName:"aggregate3"}),k=await t.request({method:"eth_call",params:[{...d===null?{data:c7({code:vI,data:O})}:{to:d,data:O}},p]});return wf({abi:y1,args:[E],functionName:"aggregate3",data:k||"0x"})}}),[{returnData:g,success:b}]=await m({data:c,to:u});if(!b)throw new $_({data:g});return g==="0x"?{data:void 0}:{data:g}}function c7(t){const{code:e,data:n}=t;return j_({abi:MB(["constructor(bytes, bytes)"]),bytecode:i7,args:[e,n]})}function One(t){const{data:e,factory:n,factoryData:r,to:i}=t;return j_({abi:MB(["constructor(address, bytes, address, bytes)"]),bytecode:Ane,args:[i,e,n,r]})}function kne(t){if(!(t instanceof _e))return;const e=t.walk();return typeof e?.data=="object"?e.data?.data:e.data}async function io(t,e){const{abi:n,address:r,args:i,functionName:s,...a}=e,c=Ui({abi:n,args:i,functionName:s});try{const{data:u}=await We(t,z_,"call")({...a,data:c,to:r});return wf({abi:n,args:i,functionName:s,data:u||"0x"})}catch(u){throw Qd(u,{abi:n,address:r,args:i,docsPath:"/docs/contract/readContract",functionName:s})}}async function Rne(t,e){const{abi:n,address:r,args:i,dataSuffix:s,functionName:a,...c}=e,u=c.account?Nn(c.account):t.account,d=Ui({abi:n,args:i,functionName:a});try{const{data:h}=await We(t,z_,"call")({batch:!1,data:`${d}${s?s.replace("0x",""):""}`,to:r,...c,account:u}),p=wf({abi:n,args:i,functionName:a,data:h||"0x"}),m=n.filter(g=>"name"in g&&g.name===e.functionName);return{result:p,request:{abi:m,address:r,args:i,dataSuffix:s,functionName:a,...c,account:u}}}catch(h){throw Qd(h,{abi:n,address:r,args:i,docsPath:"/docs/contract/simulateContract",functionName:a,sender:u?.address})}}const bS=new Map,a$=new Map;let $ne=0;function al(t,e,n){const r=++$ne,i=()=>bS.get(t)||[],s=()=>{const h=i();bS.set(t,h.filter(p=>p.id!==r))},a=()=>{const h=i();if(!h.some(m=>m.id===r))return;const p=a$.get(t);if(h.length===1&&p){const m=p();m instanceof Promise&&m.catch(()=>{})}s()},c=i();if(bS.set(t,[...c,{id:r,fns:e}]),c&&c.length>0)return a;const u={};for(const h in e)u[h]=((...p)=>{const m=i();if(m.length!==0)for(const g of m)g.fns[h]?.(...p)});const d=n(u);return typeof d=="function"&&a$.set(t,d),a}async function _T(t){return new Promise(e=>setTimeout(e,t))}function Fp(t,{emitOnBegin:e,initialWaitTime:n,interval:r}){let i=!0;const s=()=>i=!1;return(async()=>{let c;e&&(c=await t({unpoll:s}));const u=await n?.(c)??r;await _T(u);const d=async()=>{i&&(await t({unpoll:s}),await _T(r),d())};d()})(),s}const Nne=new Map,Pne=new Map;function Dne(t){const e=(i,s)=>({clear:()=>s.delete(i),get:()=>s.get(i),set:a=>s.set(i,a)}),n=e(t,Nne),r=e(t,Pne);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function Mne(t,{cacheKey:e,cacheTime:n=Number.POSITIVE_INFINITY}){const r=Dne(e),i=r.response.get();if(i&&n>0&&Date.now()-i.created.getTime()<n)return i.data;let s=r.promise.get();s||(s=t(),r.promise.set(s));try{const a=await s;return r.response.set({created:new Date,data:a}),a}finally{r.promise.clear()}}const Une=t=>`blockNumber.${t}`;async function X0(t,{cacheTime:e=t.cacheTime}={}){const n=await Mne(()=>t.request({method:"eth_blockNumber"}),{cacheKey:Une(t.uid),cacheTime:e});return BigInt(n)}async function F_(t,{filter:e}){const n="strict"in e&&e.strict,r=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof r[0]=="string")return r;const i=r.map(s=>zo(s));return!("abi"in e)||!e.abi?i:pI({abi:e.abi,logs:i,strict:n})}async function q_(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}function Bne(t,e){const{abi:n,address:r,args:i,batch:s=!0,eventName:a,fromBlock:c,onError:u,onLogs:d,poll:h,pollingInterval:p=t.pollingInterval,strict:m}=e;return(typeof h<"u"?h:typeof c=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")))?(()=>{const E=m??!1,O=$r(["watchContractEvent",r,i,s,t.uid,a,p,E,c]);return al(O,{onLogs:d,onError:u},k=>{let S;c!==void 0&&(S=c-1n);let A,C=!1;const I=Fp(async()=>{if(!C){try{A=await We(t,cL,"createContractEventFilter")({abi:n,address:r,args:i,eventName:a,strict:E,fromBlock:c})}catch{}C=!0;return}try{let N;if(A)N=await We(t,F_,"getFilterChanges")({filter:A});else{const z=await We(t,X0,"getBlockNumber")({});S&&S<z?N=await We(t,BL,"getContractEvents")({abi:n,address:r,args:i,eventName:a,fromBlock:S+1n,toBlock:z,strict:E}):N=[],S=z}if(N.length===0)return;if(s)k.onLogs(N);else for(const z of N)k.onLogs([z])}catch(N){A&&N instanceof Ou&&(C=!1),k.onError?.(N)}},{emitOnBegin:!0,interval:p});return async()=>{A&&await We(t,q_,"uninstallFilter")({filter:A}),I()}})})():(()=>{const E=m??!1,O=$r(["watchContractEvent",r,i,s,t.uid,a,p,E]);let k=!0,S=()=>k=!1;return al(O,{onLogs:d,onError:u},A=>((async()=>{try{const C=(()=>{if(t.transport.type==="fallback"){const z=t.transport.transports.find(L=>L.config.type==="webSocket"||L.config.type==="ipc");return z?z.value:t.transport}return t.transport})(),I=a?j0({abi:n,eventName:a,args:i}):[],{unsubscribe:N}=await C.subscribe({params:["logs",{address:r,topics:I}],onData(z){if(!k)return;const L=z.result;try{const{eventName:B,args:H}=f1({abi:n,data:L.data,topics:L.topics,strict:m}),D=zo(L,{args:H,eventName:B});A.onLogs([D])}catch(B){let H,D;if(B instanceof d1||B instanceof K3){if(m)return;H=B.abiItem.name,D=B.abiItem.inputs?.some(K=>!("name"in K&&K.name))}const F=zo(L,{args:D?[]:{},eventName:H});A.onLogs([F])}},onError(z){A.onError?.(z)}});S=N,k||S()}catch(C){u?.(C)}})(),()=>S()))})()}class Yo extends _e{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class qd extends _e{constructor({docsPath:e,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:e,metaMessages:n,name:"AccountTypeNotSupportedError"})}}function J0({chain:t,currentChainId:e}){if(!t)throw new Tne;if(e!==t.id)throw new xne({chain:t,currentChainId:e})}async function W_(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}const wS=new Bp(128);async function Q0(t,e){const{account:n=t.account,chain:r=t.chain,accessList:i,authorizationList:s,blobs:a,data:c,gas:u,gasPrice:d,maxFeePerBlobGas:h,maxFeePerGas:p,maxPriorityFeePerGas:m,nonce:g,type:b,value:v,...E}=e;if(typeof n>"u")throw new Yo({docsPath:"/docs/actions/wallet/sendTransaction"});const O=n?Nn(n):null;try{Go(e);const k=await(async()=>{if(e.to)return e.to;if(e.to!==null&&s&&s.length>0)return await N_({authorization:s[0]}).catch(()=>{throw new _e("`to` is required. Could not infer from `authorizationList`.")})})();if(O?.type==="json-rpc"||O===null){let S;r!==null&&(S=await We(t,Ko,"getChainId")({}),J0({currentChainId:S,chain:r}));const A=t.chain?.formatters?.transactionRequest?.format,I=(A||yl)({...Lp(E,{format:A}),accessList:i,account:O,authorizationList:s,blobs:a,chainId:S,data:c,gas:u,gasPrice:d,maxFeePerBlobGas:h,maxFeePerGas:p,maxPriorityFeePerGas:m,nonce:g,to:k,type:b,value:v},"sendTransaction"),N=wS.get(t.uid),z=N?"wallet_sendTransaction":"eth_sendTransaction";try{return await t.request({method:z,params:[I]},{retryCount:0})}catch(L){if(N===!1)throw L;const B=L;if(B.name==="InvalidInputRpcError"||B.name==="InvalidParamsRpcError"||B.name==="MethodNotFoundRpcError"||B.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[I]},{retryCount:0}).then(H=>(wS.set(t.uid,!0),H)).catch(H=>{const D=H;throw D.name==="MethodNotFoundRpcError"||D.name==="MethodNotSupportedRpcError"?(wS.set(t.uid,!1),B):D});throw B}}if(O?.type==="local"){const S=await We(t,jp,"prepareTransactionRequest")({account:O,accessList:i,authorizationList:s,blobs:a,chain:r,data:c,gas:u,gasPrice:d,maxFeePerBlobGas:h,maxFeePerGas:p,maxPriorityFeePerGas:m,nonce:g,nonceManager:O.nonceManager,parameters:[...fI,"sidecars"],type:b,value:v,...E,to:k}),A=r?.serializers?.transaction,C=await O.signTransaction(S,{serializer:A});return await We(t,W_,"sendRawTransaction")({serializedTransaction:C})}throw O?.type==="smart"?new qd({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new qd({docsPath:"/docs/actions/wallet/sendTransaction",type:O?.type})}catch(k){throw k instanceof qd?k:H0(k,{...e,account:O,chain:e.chain||void 0})}}async function yp(t,e){return yp.internal(t,Q0,"sendTransaction",e)}(function(t){async function e(n,r,i,s){const{abi:a,account:c=n.account,address:u,args:d,dataSuffix:h,functionName:p,...m}=s;if(typeof c>"u")throw new Yo({docsPath:"/docs/contract/writeContract"});const g=c?Nn(c):null,b=Ui({abi:a,args:d,functionName:p});try{return await We(n,r,i)({data:`${b}${h?h.replace("0x",""):""}`,to:u,account:g,...m})}catch(v){throw Qd(v,{abi:a,address:u,args:d,docsPath:"/docs/contract/writeContract",functionName:p,sender:g?.address})}}t.internal=e})(yp||(yp={}));class Lne extends _e{constructor(e){super(`Call bundle failed with status: ${e.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=e}}function m1(t,{delay:e=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((i,s)=>{const a=async({count:c=0}={})=>{const u=async({error:d})=>{const h=typeof e=="function"?e({count:c,error:d}):e;h&&await _T(h),a({count:c+1})};try{const d=await t();i(d)}catch(d){if(c<n&&await r({count:c,error:d}))return u({error:d});s(d)}};a()})}const l7={"0x0":"reverted","0x1":"success"};function EI(t,e){const n={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(r=>zo(r)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Bs(t.transactionIndex):null,status:t.status?l7[t.status]:null,type:t.type?xL[t.type]||t.type:null};return t.blobGasPrice&&(n.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(n.blobGasUsed=BigInt(t.blobGasUsed)),n}const u7=D_("transactionReceipt",EI),d7="0x5792579257925792579257925792579257925792579257925792579257925792",f7=Ne(0,{size:32});async function h7(t,e){const{account:n=t.account,capabilities:r,chain:i=t.chain,experimental_fallback:s,experimental_fallbackDelay:a=32,forceAtomic:c=!1,id:u,version:d="2.0.0"}=e,h=n?Nn(n):null,p=e.calls.map(m=>{const g=m,b=g.abi?Ui({abi:g.abi,functionName:g.functionName,args:g.args}):g.data;return{data:g.dataSuffix&&b?ba([b,g.dataSuffix]):b,to:g.to,value:g.value?Ne(g.value):void 0}});try{const m=await t.request({method:"wallet_sendCalls",params:[{atomicRequired:c,calls:p,capabilities:r,chainId:Ne(i.id),from:h?.address,id:u,version:d}]},{retryCount:0});return typeof m=="string"?{id:m}:m}catch(m){const g=m;if(s&&(g.name==="MethodNotFoundRpcError"||g.name==="MethodNotSupportedRpcError"||g.name==="UnknownRpcError"||g.details.toLowerCase().includes("does not exist / is not available")||g.details.toLowerCase().includes("missing or invalid. request()")||g.details.toLowerCase().includes("did not match any variant of untagged enum")||g.details.toLowerCase().includes("account upgraded to unsupported contract")||g.details.toLowerCase().includes("eip-7702 not supported")||g.details.toLowerCase().includes("unsupported wc_ method")||g.details.toLowerCase().includes("feature toggled misconfigured")||g.details.toLowerCase().includes("jsonrpcengine: response has no error or result for request"))){if(r&&Object.values(r).some(k=>!k.optional)){const k="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new hp(new _e(k,{details:k}))}if(c&&p.length>1){const O="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new pp(new _e(O,{details:O}))}const b=[];for(const O of p){const k=Q0(t,{account:h,chain:i,data:O.data,to:O.to,value:O.value?ln(O.value):void 0});b.push(k),a>0&&await new Promise(S=>setTimeout(S,a))}const v=await Promise.allSettled(b);if(v.every(O=>O.status==="rejected"))throw v[0].reason;const E=v.map(O=>O.status==="fulfilled"?O.value:f7);return{id:ba([...E,Ne(i.id,{size:32}),d7])}}throw H0(m,{...e,account:h,chain:e.chain})}}async function p7(t,e){async function n(h){if(h.endsWith(d7.slice(2))){const m=Us(sT(h,-64,-32)),g=sT(h,0,-64).slice(2).match(/.{1,64}/g),b=await Promise.all(g.map(E=>f7.slice(2)!==E?t.request({method:"eth_getTransactionReceipt",params:[`0x${E}`]},{dedupe:!0}):void 0)),v=b.some(E=>E===null)?100:b.every(E=>E?.status==="0x1")?200:b.every(E=>E?.status==="0x0")?500:600;return{atomic:!1,chainId:Bs(m),receipts:b.filter(Boolean),status:v,version:"2.0.0"}}return t.request({method:"wallet_getCallsStatus",params:[h]})}const{atomic:r=!1,chainId:i,receipts:s,version:a="2.0.0",...c}=await n(e.id),[u,d]=(()=>{const h=c.status;return h>=100&&h<200?["pending",h]:h>=200&&h<300?["success",h]:h>=300&&h<700?["failure",h]:h==="CONFIRMED"?["success",200]:h==="PENDING"?["pending",100]:[void 0,h]})();return{...c,atomic:r,chainId:i?Bs(i):void 0,receipts:s?.map(h=>({...h,blockNumber:ln(h.blockNumber),gasUsed:ln(h.gasUsed),status:l7[h.status]}))??[],statusCode:d,status:u,version:a}}async function y7(t,e){const{id:n,pollingInterval:r=t.pollingInterval,status:i=({statusCode:v})=>v===200||v>=300,retryCount:s=4,retryDelay:a=({count:v})=>~~(1<<v)*200,timeout:c=6e4,throwOnFailure:u=!1}=e,d=$r(["waitForCallsStatus",t.uid,n]),{promise:h,resolve:p,reject:m}=_I();let g;const b=al(d,{resolve:p,reject:m},v=>{const E=Fp(async()=>{const O=k=>{clearTimeout(g),E(),k(),b()};try{const k=await m1(async()=>{const S=await We(t,p7,"getCallsStatus")({id:n});if(u&&S.status==="failure")throw new Lne(S);return S},{retryCount:s,delay:a});if(!i(k))return;O(()=>v.resolve(k))}catch(k){O(()=>v.reject(k))}},{interval:r,emitOnBegin:!0});return E});return g=c?setTimeout(()=>{b(),clearTimeout(g),m(new jne({id:n}))},c):void 0,await h}class jne extends _e{constructor({id:e}){super(`Timed out while waiting for call bundle with id "${e}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}const ET=256;let Vw=ET,Gw;function m7(t=11){if(!Gw||Vw+t>ET*2){Gw="",Vw=0;for(let e=0;e<ET;e++)Gw+=(256+Math.random()*256|0).toString(16).substring(1)}return Gw.substring(Vw,Vw+++t)}function g7(t){const{batch:e,chain:n,ccipRead:r,key:i="base",name:s="Base Client",type:a="base"}=t,c=t.experimental_blockTag??(typeof n?.experimental_preconfirmationTime=="number"?"pending":void 0),u=n?.blockTime??12e3,d=Math.min(Math.max(Math.floor(u/2),500),4e3),h=t.pollingInterval??d,p=t.cacheTime??h,m=t.account?Nn(t.account):void 0,{config:g,request:b,value:v}=t.transport({account:m,chain:n,pollingInterval:h}),E={...g,...v},O={account:m,batch:e,cacheTime:p,ccipRead:r,chain:n,key:i,name:s,pollingInterval:h,request:b,transport:E,type:a,uid:m7(),...c?{experimental_blockTag:c}:{}};function k(S){return A=>{const C=A(S);for(const N in O)delete C[N];const I={...S,...C};return Object.assign(I,{extend:k(I)})}}return Object.assign(O,{extend:k(O)})}function AI(t){if(!(t instanceof _e))return!1;const e=t.walk(n=>n instanceof cT);return e instanceof cT?e.data?.errorName==="HttpError"||e.data?.errorName==="ResolverError"||e.data?.errorName==="ResolverNotContract"||e.data?.errorName==="ResolverNotFound"||e.data?.errorName==="ReverseAddressMismatch"||e.data?.errorName==="UnsupportedResolverProfile":!1}function zne(t){const{abi:e,data:n}=t,r=Xd(n,0,4),i=e.find(s=>s.type==="function"&&r===L0(to(s)));if(!i)throw new NQ(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:i.name,args:"inputs"in i&&i.inputs&&i.inputs.length>0?z0(i.inputs,Xd(n,4)):void 0}}const vS="/docs/contract/encodeErrorResult";function o$(t){const{abi:e,errorName:n,args:r}=t;let i=e[0];if(n){const u=bf({abi:e,args:r,name:n});if(!u)throw new k4(n,{docsPath:vS});i=u}if(i.type!=="error")throw new k4(void 0,{docsPath:vS});const s=to(i),a=L0(s);let c="0x";if(r&&r.length>0){if(!i.inputs)throw new kQ(i.name,{docsPath:vS});c=Mu(i.inputs,r)}return Ea([a,c])}const _S="/docs/contract/encodeFunctionResult";function Fne(t){const{abi:e,functionName:n,result:r}=t;let i=e[0];if(n){const a=bf({abi:e,name:n});if(!a)throw new cp(n,{docsPath:_S});i=a}if(i.type!=="function")throw new cp(void 0,{docsPath:_S});if(!i.outputs)throw new FB(i.name,{docsPath:_S});const s=(()=>{if(i.outputs.length===0)return[];if(i.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new qB(r)})();return Mu(i.outputs,s)}const H_="x-batch-gateway:true";async function qne(t){const{data:e,ccipRequest:n}=t,{args:[r]}=zne({abi:wT,data:e}),i=[],s=[];return await Promise.all(r.map(async(a,c)=>{try{s[c]=a.urls.includes(H_)?await qne({data:a.data,ccipRequest:n}):await n(a),i[c]=!1}catch(u){i[c]=!0,s[c]=Wne(u)}})),Fne({abi:wT,functionName:"query",result:[i,s]})}function Wne(t){return t.name==="HttpRequestError"&&t.status?o$({abi:wT,errorName:"HttpError",args:[t.status,t.shortMessage]}):o$({abi:[lL],errorName:"Error",args:["shortMessage"in t?t.shortMessage:t.message]})}function b7(t){if(t.length!==66||t.indexOf("[")!==0||t.indexOf("]")!==65)return null;const e=`0x${t.slice(1,65)}`;return Ri(e)?e:null}function AT(t){let e=new Uint8Array(32).fill(0);if(!t)return Ar(e);const n=t.split(".");for(let r=n.length-1;r>=0;r-=1){const i=b7(n[r]),s=i?Xc(i):Hr(zd(n[r]),"bytes");e=Hr(ba([e,s]),"bytes")}return Ar(e)}function Hne(t){return`[${t.slice(2)}]`}function Vne(t){const e=new Uint8Array(32).fill(0);return t?b7(t)||Hr(zd(t)):Ar(e)}function SI(t){const e=t.replace(/^\.|\.$/gm,"");if(e.length===0)return new Uint8Array(1);const n=new Uint8Array(zd(e).byteLength+2);let r=0;const i=e.split(".");for(let s=0;s<i.length;s++){let a=zd(i[s]);a.byteLength>255&&(a=zd(Hne(Vne(i[s])))),n[r]=a.length,n.set(a,r+1),r+=a.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function Gne(t,e){const{blockNumber:n,blockTag:r,coinType:i,name:s,gatewayUrls:a,strict:c}=e,{chain:u}=t,d=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!u)throw new Error("client chain not configured. universalResolverAddress is required.");return zp({blockNumber:n,chain:u,contract:"ensUniversalResolver"})})(),h=u?.ensTlds;if(h&&!h.some(m=>s.endsWith(m)))return null;const p=i!=null?[AT(s),BigInt(i)]:[AT(s)];try{const m=Ui({abi:i$,functionName:"addr",args:p}),g={address:d,abi:n7,functionName:"resolveWithGateways",args:[xt(SI(s)),m,a??[H_]],blockNumber:n,blockTag:r},v=await We(t,io,"readContract")(g);if(v[0]==="0x")return null;const E=wf({abi:i$,args:p,functionName:"addr",data:v[0]});return E==="0x"||Us(E)==="0x00"?null:E}catch(m){if(c)throw m;if(AI(m))return null;throw m}}class Kne extends _e{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}}class Zy extends _e{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}}class xI extends _e{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class Yne extends _e{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const Zne=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,Xne=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,Jne=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,Qne=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function ere(t){try{const e=await fetch(t,{method:"HEAD"});return e.status===200?e.headers.get("content-type")?.startsWith("image/"):!1}catch(e){return typeof e=="object"&&typeof e.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=t})}}function c$(t,e){return t?t.endsWith("/")?t.slice(0,-1):t:e}function w7({uri:t,gatewayUrls:e}){const n=Jne.test(t);if(n)return{uri:t,isOnChain:!0,isEncoded:n};const r=c$(e?.ipfs,"https://ipfs.io"),i=c$(e?.arweave,"https://arweave.net"),s=t.match(Zne),{protocol:a,subpath:c,target:u,subtarget:d=""}=s?.groups||{},h=a==="ipns:/"||c==="ipns/",p=a==="ipfs:/"||c==="ipfs/"||Xne.test(t);if(t.startsWith("http")&&!h&&!p){let g=t;return e?.arweave&&(g=t.replace(/https:\/\/arweave.net/g,e?.arweave)),{uri:g,isOnChain:!1,isEncoded:!1}}if((h||p)&&u)return{uri:`${r}/${h?"ipns":"ipfs"}/${u}${d}`,isOnChain:!1,isEncoded:!1};if(a==="ar:/"&&u)return{uri:`${i}/${u}${d||""}`,isOnChain:!1,isEncoded:!1};let m=t.replace(Qne,"");if(m.startsWith("<svg")&&(m=`data:image/svg+xml;base64,${btoa(m)}`),m.startsWith("data:")||m.startsWith("{"))return{uri:m,isOnChain:!0,isEncoded:!1};throw new xI({uri:t})}function v7(t){if(typeof t!="object"||!("image"in t)&&!("image_url"in t)&&!("image_data"in t))throw new Kne({data:t});return t.image||t.image_url||t.image_data}async function tre({gatewayUrls:t,uri:e}){try{const n=await fetch(e).then(i=>i.json());return await TI({gatewayUrls:t,uri:v7(n)})}catch{throw new xI({uri:e})}}async function TI({gatewayUrls:t,uri:e}){const{uri:n,isOnChain:r}=w7({uri:e,gatewayUrls:t});if(r||await ere(n))return n;throw new xI({uri:e})}function nre(t){let e=t;e.startsWith("did:nft:")&&(e=e.replace("did:nft:","").replace(/_/g,"/"));const[n,r,i]=e.split("/"),[s,a]=n.split(":"),[c,u]=r.split(":");if(!s||s.toLowerCase()!=="eip155")throw new Zy({reason:"Only EIP-155 supported"});if(!a)throw new Zy({reason:"Chain ID not found"});if(!u)throw new Zy({reason:"Contract address not found"});if(!i)throw new Zy({reason:"Token ID not found"});if(!c)throw new Zy({reason:"ERC namespace not found"});return{chainID:Number.parseInt(a,10),namespace:c.toLowerCase(),contractAddress:u,tokenID:i}}async function rre(t,{nft:e}){if(e.namespace==="erc721")return io(t,{address:e.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(e.tokenID)]});if(e.namespace==="erc1155")return io(t,{address:e.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(e.tokenID)]});throw new Yne({namespace:e.namespace})}async function ire(t,{gatewayUrls:e,record:n}){return/eip155:/i.test(n)?sre(t,{gatewayUrls:e,record:n}):TI({uri:n,gatewayUrls:e})}async function sre(t,{gatewayUrls:e,record:n}){const r=nre(n),i=await rre(t,{nft:r}),{uri:s,isOnChain:a,isEncoded:c}=w7({uri:i,gatewayUrls:e});if(a&&(s.includes("data:application/json;base64,")||s.startsWith("{"))){const d=c?atob(s.replace("data:application/json;base64,","")):s,h=JSON.parse(d);return TI({uri:v7(h),gatewayUrls:e})}let u=r.tokenID;return r.namespace==="erc1155"&&(u=u.replace("0x","").padStart(64,"0")),tre({gatewayUrls:e,uri:s.replace(/(?:0x)?{id}/,u)})}async function _7(t,e){const{blockNumber:n,blockTag:r,key:i,name:s,gatewayUrls:a,strict:c}=e,{chain:u}=t,d=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!u)throw new Error("client chain not configured. universalResolverAddress is required.");return zp({blockNumber:n,chain:u,contract:"ensUniversalResolver"})})(),h=u?.ensTlds;if(h&&!h.some(p=>s.endsWith(p)))return null;try{const p={address:d,abi:n7,args:[xt(SI(s)),Ui({abi:r$,functionName:"text",args:[AT(s),i]}),a??[H_]],functionName:"resolveWithGateways",blockNumber:n,blockTag:r},g=await We(t,io,"readContract")(p);if(g[0]==="0x")return null;const b=wf({abi:r$,functionName:"text",data:g[0]});return b===""?null:b}catch(p){if(c)throw p;if(AI(p))return null;throw p}}async function are(t,{blockNumber:e,blockTag:n,assetGatewayUrls:r,name:i,gatewayUrls:s,strict:a,universalResolverAddress:c}){const u=await We(t,_7,"getEnsText")({blockNumber:e,blockTag:n,key:"avatar",name:i,universalResolverAddress:c,gatewayUrls:s,strict:a});if(!u)return null;try{return await ire(t,{record:u,gatewayUrls:r})}catch{return null}}async function ore(t,e){const{address:n,blockNumber:r,blockTag:i,coinType:s=60n,gatewayUrls:a,strict:c}=e,{chain:u}=t,d=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!u)throw new Error("client chain not configured. universalResolverAddress is required.");return zp({blockNumber:r,chain:u,contract:"ensUniversalResolver"})})();try{const h={address:d,abi:_ne,args:[n,s,a??[H_]],functionName:"reverseWithGateways",blockNumber:r,blockTag:i},p=We(t,io,"readContract"),[m]=await p(h);return m||null}catch(h){if(c)throw h;if(AI(h))return null;throw h}}async function cre(t,e){const{blockNumber:n,blockTag:r,name:i}=e,{chain:s}=t,a=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!s)throw new Error("client chain not configured. universalResolverAddress is required.");return zp({blockNumber:n,chain:s,contract:"ensUniversalResolver"})})(),c=s?.ensTlds;if(c&&!c.some(d=>i.endsWith(d)))throw new Error(`${i} is not a valid ENS TLD (${c?.join(", ")}) for chain "${s.name}" (id: ${s.id}).`);const[u]=await We(t,io,"readContract")({address:a,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[xt(SI(i))],blockNumber:n,blockTag:r});return u}async function E7(t,e){const{account:n=t.account,blockNumber:r,blockTag:i="latest",blobs:s,data:a,gas:c,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:h,maxPriorityFeePerGas:p,to:m,value:g,...b}=e,v=n?Nn(n):void 0;try{Go(e);const O=(typeof r=="bigint"?Ne(r):void 0)||i,k=t.chain?.formatters?.transactionRequest?.format,A=(k||yl)({...Lp(b,{format:k}),account:v,blobs:s,data:a,gas:c,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:h,maxPriorityFeePerGas:p,to:m,value:g},"createAccessList"),C=await t.request({method:"eth_createAccessList",params:[A,O]});return{accessList:C.accessList,gasUsed:BigInt(C.gasUsed)}}catch(E){throw a7(E,{...e,account:v,chain:t.chain})}}async function lre(t){const e=R_(t,{method:"eth_newBlockFilter"}),n=await t.request({method:"eth_newBlockFilter"});return{id:n,request:e(n),type:"block"}}async function A7(t,{address:e,args:n,event:r,events:i,fromBlock:s,strict:a,toBlock:c}={}){const u=i??(r?[r]:void 0),d=R_(t,{method:"eth_newFilter"});let h=[];u&&(h=[u.flatMap(g=>j0({abi:[g],eventName:g.name,args:n}))],r&&(h=h[0]));const p=await t.request({method:"eth_newFilter",params:[{address:e,fromBlock:typeof s=="bigint"?Ne(s):s,toBlock:typeof c=="bigint"?Ne(c):c,...h.length?{topics:h}:{}}]});return{abi:u,args:n,eventName:r?r.name:void 0,fromBlock:s,id:p,request:d(p),strict:!!a,toBlock:c,type:"event"}}async function S7(t){const e=R_(t,{method:"eth_newPendingTransactionFilter"}),n=await t.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:e(n),type:"transaction"}}async function ure(t,{address:e,blockNumber:n,blockTag:r=t.experimental_blockTag??"latest"}){const i=typeof n=="bigint"?Ne(n):void 0,s=await t.request({method:"eth_getBalance",params:[e,i||r]});return BigInt(s)}async function dre(t){const e=await t.request({method:"eth_blobBaseFee"});return BigInt(e)}async function fre(t,{blockHash:e,blockNumber:n,blockTag:r="latest"}={}){const i=n!==void 0?Ne(n):void 0;let s;return e?s=await t.request({method:"eth_getBlockTransactionCountByHash",params:[e]},{dedupe:!0}):s=await t.request({method:"eth_getBlockTransactionCountByNumber",params:[i||r]},{dedupe:!!i}),Bs(s)}async function ST(t,{address:e,blockNumber:n,blockTag:r="latest"}){const i=n!==void 0?Ne(n):void 0,s=await t.request({method:"eth_getCode",params:[e,i||r]},{dedupe:!!i});if(s!=="0x")return s}class hre extends _e{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function pre(t,e){const{address:n,factory:r,factoryData:i}=e;try{const[s,a,c,u,d,h,p]=await We(t,io,"readContract")({abi:yre,address:n,functionName:"eip712Domain",factory:r,factoryData:i});return{domain:{name:a,version:c,chainId:Number(u),verifyingContract:d,salt:h},extensions:p,fields:s}}catch(s){const a=s;throw a.name==="ContractFunctionExecutionError"&&a.cause.name==="ContractFunctionZeroDataError"?new hre({address:n}):a}}const yre=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function mre(t){return{baseFeePerGas:t.baseFeePerGas.map(e=>BigInt(e)),gasUsedRatio:t.gasUsedRatio,oldestBlock:BigInt(t.oldestBlock),reward:t.reward?.map(e=>e.map(n=>BigInt(n)))}}async function gre(t,{blockCount:e,blockNumber:n,blockTag:r="latest",rewardPercentiles:i}){const s=typeof n=="bigint"?Ne(n):void 0,a=await t.request({method:"eth_feeHistory",params:[Ne(e),s||r,i]},{dedupe:!!s});return mre(a)}async function bre(t,{filter:e}){const n=e.strict??!1,i=(await e.request({method:"eth_getFilterLogs",params:[e.id]})).map(s=>zo(s));return e.abi?pI({abi:e.abi,logs:i,strict:n}):i}function wre(t){const{authorizationList:e}=t;if(e)for(const n of e){const{chainId:r}=n,i=n.address;if(!$n(i))throw new Er({address:i});if(r<0)throw new Z0({chainId:r})}II(t)}function vre(t){const{blobVersionedHashes:e}=t;if(e){if(e.length===0)throw new DL;for(const n of e){const r=Kn(n),i=Bs(Xd(n,0,1));if(r!==32)throw new Ute({hash:n,size:r});if(i!==PL)throw new Bte({hash:n,version:i})}}II(t)}function II(t){const{chainId:e,maxPriorityFeePerGas:n,maxFeePerGas:r,to:i}=t;if(e<=0)throw new Z0({chainId:e});if(i&&!$n(i))throw new Er({address:i});if(r&&r>M_)throw new ef({maxFeePerGas:r});if(n&&r&&n>r)throw new s0({maxFeePerGas:r,maxPriorityFeePerGas:n})}function _re(t){const{chainId:e,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:i,to:s}=t;if(e<=0)throw new Z0({chainId:e});if(s&&!$n(s))throw new Er({address:s});if(n||i)throw new _e("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(r&&r>M_)throw new ef({maxFeePerGas:r})}function Ere(t){const{chainId:e,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:i,to:s}=t;if(s&&!$n(s))throw new Er({address:s});if(typeof e<"u"&&e<=0)throw new Z0({chainId:e});if(n||i)throw new _e("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(r&&r>M_)throw new ef({maxFeePerGas:r})}function V_(t){if(!t||t.length===0)return[];const e=[];for(let n=0;n<t.length;n++){const{address:r,storageKeys:i}=t[n];for(let s=0;s<i.length;s++)if(i[s].length-2!==64)throw new ste({storageKey:i[s]});if(!$n(r,{strict:!1}))throw new Er({address:r});e.push([r,i])}return e}function CI(t,e){const n=UL(t);return n==="eip1559"?xre(t,e):n==="eip2930"?Tre(t,e):n==="eip4844"?Sre(t,e):n==="eip7702"?Are(t,e):Ire(t,e)}function Are(t,e){const{authorizationList:n,chainId:r,gas:i,nonce:s,to:a,value:c,maxFeePerGas:u,maxPriorityFeePerGas:d,accessList:h,data:p}=t;wre(t);const m=V_(h),g=Cre(n);return Ea(["0x04",sl([Ne(r),s?Ne(s):"0x",d?Ne(d):"0x",u?Ne(u):"0x",i?Ne(i):"0x",a??"0x",c?Ne(c):"0x",p??"0x",m,g,...eb(t,e)])])}function Sre(t,e){const{chainId:n,gas:r,nonce:i,to:s,value:a,maxFeePerBlobGas:c,maxFeePerGas:u,maxPriorityFeePerGas:d,accessList:h,data:p}=t;vre(t);let m=t.blobVersionedHashes,g=t.sidecars;if(t.blobs&&(typeof m>"u"||typeof g>"u")){const S=typeof t.blobs[0]=="string"?t.blobs:t.blobs.map(I=>Ar(I)),A=t.kzg,C=cI({blobs:S,kzg:A});if(typeof m>"u"&&(m=RL({commitments:C})),typeof g>"u"){const I=lI({blobs:S,commitments:C,kzg:A});g=ML({blobs:S,commitments:C,proofs:I})}}const b=V_(h),v=[Ne(n),i?Ne(i):"0x",d?Ne(d):"0x",u?Ne(u):"0x",r?Ne(r):"0x",s??"0x",a?Ne(a):"0x",p??"0x",b,c?Ne(c):"0x",m??[],...eb(t,e)],E=[],O=[],k=[];if(g)for(let S=0;S<g.length;S++){const{blob:A,commitment:C,proof:I}=g[S];E.push(A),O.push(C),k.push(I)}return Ea(["0x03",sl(g?[v,E,O,k]:v)])}function xre(t,e){const{chainId:n,gas:r,nonce:i,to:s,value:a,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:d,data:h}=t;II(t);const p=V_(d),m=[Ne(n),i?Ne(i):"0x",u?Ne(u):"0x",c?Ne(c):"0x",r?Ne(r):"0x",s??"0x",a?Ne(a):"0x",h??"0x",p,...eb(t,e)];return Ea(["0x02",sl(m)])}function Tre(t,e){const{chainId:n,gas:r,data:i,nonce:s,to:a,value:c,accessList:u,gasPrice:d}=t;_re(t);const h=V_(u),p=[Ne(n),s?Ne(s):"0x",d?Ne(d):"0x",r?Ne(r):"0x",a??"0x",c?Ne(c):"0x",i??"0x",h,...eb(t,e)];return Ea(["0x01",sl(p)])}function Ire(t,e){const{chainId:n=0,gas:r,data:i,nonce:s,to:a,value:c,gasPrice:u}=t;Ere(t);let d=[s?Ne(s):"0x",u?Ne(u):"0x",r?Ne(r):"0x",a??"0x",c?Ne(c):"0x",i??"0x"];if(e){const h=(()=>{if(e.v>=35n)return(e.v-35n)/2n>0?e.v:27n+(e.v===35n?0n:1n);if(n>0)return BigInt(n*2)+BigInt(35n+e.v-27n);const g=27n+(e.v===27n?0n:1n);if(e.v!==g)throw new rte({v:e.v});return g})(),p=Us(e.r),m=Us(e.s);d=[...d,Ne(h),p==="0x00"?"0x":p,m==="0x00"?"0x":m]}else n>0&&(d=[...d,Ne(n),"0x","0x"]);return sl(d)}function eb(t,e){const n=e??t,{v:r,yParity:i}=n;if(typeof n.r>"u")return[];if(typeof n.s>"u")return[];if(typeof r>"u"&&typeof i>"u")return[];const s=Us(n.r),a=Us(n.s);return[typeof i=="number"?i?Ne(1):"0x":r===0n?"0x":r===1n?Ne(1):r===27n?"0x":Ne(1),s==="0x00"?"0x":s,a==="0x00"?"0x":a]}function Cre(t){if(!t||t.length===0)return[];const e=[];for(const n of t){const{chainId:r,nonce:i,...s}=n,a=n.address;e.push([r?xt(r):"0x",a,i?xt(i):"0x",...eb({},s)])}return e}async function Ore({address:t,authorization:e,signature:n}){return V0(oi(t),await N_({authorization:e,signature:n}))}const Kw=new Bp(8192);function kre(t,{enabled:e=!0,id:n}){if(!e||!n)return t();if(Kw.get(n))return Kw.get(n);const r=t().finally(()=>Kw.delete(n));return Kw.set(n,r),r}function Rre(t,e={}){return async(n,r={})=>{const{dedupe:i=!1,methods:s,retryDelay:a=150,retryCount:c=3,uid:u}={...e,...r},{method:d}=n;if(s?.exclude?.includes(d))throw new $d(new Error("method not supported"),{method:d});if(s?.include&&!s.include.includes(d))throw new $d(new Error("method not supported"),{method:d});const h=i?lp(`${u}.${$r(n)}`):void 0;return kre(()=>m1(async()=>{try{return await t(n)}catch(p){const m=p;switch(m.code){case zg.code:throw new zg(m);case Fg.code:throw new Fg(m);case qg.code:throw new qg(m,{method:n.method});case Wg.code:throw new Wg(m);case Jd.code:throw new Jd(m);case Ou.code:throw new Ou(m);case Hg.code:throw new Hg(m);case Vg.code:throw new Vg(m);case Gg.code:throw new Gg(m);case $d.code:throw new $d(m,{method:n.method});case fp.code:throw new fp(m);case Kg.code:throw new Kg(m);case Xh.code:throw new Xh(m);case Yg.code:throw new Yg(m);case Zg.code:throw new Zg(m);case Xg.code:throw new Xg(m);case Jg.code:throw new Jg(m);case Qg.code:throw new Qg(m);case hp.code:throw new hp(m);case e0.code:throw new e0(m);case t0.code:throw new t0(m);case n0.code:throw new n0(m);case r0.code:throw new r0(m);case i0.code:throw new i0(m);case pp.code:throw new pp(m);case 5e3:throw new Xh(m);default:throw p instanceof _e?p:new fte(m)}}},{delay:({count:p,error:m})=>{if(m&&m instanceof Eg){const g=m?.headers?.get("Retry-After");if(g?.match(/\d/))return Number.parseInt(g,10)*1e3}return~~(1<<p)*a},retryCount:c,shouldRetry:({error:p})=>$re(p)}),{enabled:i,id:h})}}function $re(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===fp.code||t.code===Jd.code:t instanceof Eg&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function li(t){const e={formatters:void 0,fees:void 0,serializers:void 0,...t};function n(r){return i=>{const s=typeof i=="function"?i(r):i,a={...r,...s};return Object.assign(a,{extend:n(a)})}}return Object.assign(e,{extend:n(e)})}function Nre(t,{errorInstance:e=new Error("timed out"),timeout:n,signal:r}){return new Promise((i,s)=>{(async()=>{let a;try{const c=new AbortController;n>0&&(a=setTimeout(()=>{r&&c.abort()},n)),i(await t({signal:c?.signal||null}))}catch(c){c?.name==="AbortError"&&s(e),s(c)}finally{clearTimeout(a)}})()})}function Pre(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const l$=Pre();function Dre(t,e={}){return{async request(n){const{body:r,fetchFn:i=e.fetchFn??fetch,onRequest:s=e.onRequest,onResponse:a=e.onResponse,timeout:c=e.timeout??1e4}=n,u={...e.fetchOptions??{},...n.fetchOptions??{}},{headers:d,method:h,signal:p}=u;try{const m=await Nre(async({signal:b})=>{const v={...u,body:Array.isArray(r)?$r(r.map(S=>({jsonrpc:"2.0",id:S.id??l$.take(),...S}))):$r({jsonrpc:"2.0",id:r.id??l$.take(),...r}),headers:{"Content-Type":"application/json",...d},method:h||"POST",signal:p||(c>0?b:null)},E=new Request(t,v),O=await s?.(E,v)??{...v,url:t};return await i(O.url??t,O)},{errorInstance:new W4({body:r,url:t}),timeout:c,signal:!0});a&&await a(m);let g;if(m.headers.get("Content-Type")?.startsWith("application/json"))g=await m.json();else{g=await m.text();try{g=JSON.parse(g||"{}")}catch(b){if(m.ok)throw b;g={error:g}}}if(!m.ok)throw new Eg({body:r,details:$r(g.error)||m.statusText,headers:m.headers,status:m.status,url:t});return g}catch(m){throw m instanceof Eg||m instanceof W4?m:new Eg({body:r,cause:m,url:t})}}}}const Mre=`Ethereum Signed Message:
`;function Ure(t){const e=typeof t=="string"?lp(t):typeof t.raw=="string"?t.raw:Ar(t.raw),n=lp(`${Mre}${Kn(e)}`);return ba([n,e])}function OI(t,e){return Hr(Ure(t),e)}class Bre extends _e{constructor({domain:e}){super(`Invalid domain "${$r(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class Lre extends _e{constructor({primaryType:e,types:n}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class jre extends _e{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function zre(t){const{domain:e,message:n,primaryType:r,types:i}=t,s=(u,d)=>{const h={...d};for(const p of u){const{name:m,type:g}=p;g==="address"&&(h[m]=h[m].toLowerCase())}return h},a=i.EIP712Domain?e?s(i.EIP712Domain,e):{}:{},c=(()=>{if(r!=="EIP712Domain")return s(i[r],n)})();return $r({domain:a,message:c,primaryType:r,types:i})}function x7(t){const{domain:e,message:n,primaryType:r,types:i}=t,s=(a,c)=>{for(const u of a){const{name:d,type:h}=u,p=c[d],m=h.match(aL);if(m&&(typeof p=="number"||typeof p=="bigint")){const[v,E,O]=m;Ne(p,{signed:E==="int",size:Number.parseInt(O,10)/8})}if(h==="address"&&typeof p=="string"&&!$n(p))throw new Er({address:p});const g=h.match(Iee);if(g){const[v,E]=g;if(E&&Kn(p)!==Number.parseInt(E,10))throw new DQ({expectedSize:Number.parseInt(E,10),givenSize:Kn(p)})}const b=i[h];b&&(Fre(h),s(b,p))}};if(i.EIP712Domain&&e){if(typeof e!="object")throw new Bre({domain:e});s(i.EIP712Domain,e)}if(r!=="EIP712Domain")if(i[r])s(i[r],n);else throw new Lre({primaryType:r,types:i})}function T7({domain:t}){return[typeof t?.name=="string"&&{name:"name",type:"string"},t?.version&&{name:"version",type:"string"},(typeof t?.chainId=="number"||typeof t?.chainId=="bigint")&&{name:"chainId",type:"uint256"},t?.verifyingContract&&{name:"verifyingContract",type:"address"},t?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function Fre(t){if(t==="address"||t==="bool"||t==="string"||t.startsWith("bytes")||t.startsWith("uint")||t.startsWith("int"))throw new jre({type:t})}function I7(t){const{domain:e={},message:n,primaryType:r}=t,i={EIP712Domain:T7({domain:e}),...t.types};x7({domain:e,message:n,primaryType:r,types:i});const s=["0x1901"];return e&&s.push(qre({domain:e,types:i})),r!=="EIP712Domain"&&s.push(C7({data:n,primaryType:r,types:i})),Hr(ba(s))}function qre({domain:t,types:e}){return C7({data:t,primaryType:"EIP712Domain",types:e})}function C7({data:t,primaryType:e,types:n}){const r=O7({data:t,primaryType:e,types:n});return Hr(r)}function O7({data:t,primaryType:e,types:n}){const r=[{type:"bytes32"}],i=[Wre({primaryType:e,types:n})];for(const s of n[e]){const[a,c]=R7({types:n,name:s.name,type:s.type,value:t[s.name]});r.push(a),i.push(c)}return Mu(r,i)}function Wre({primaryType:t,types:e}){const n=xt(Hre({primaryType:t,types:e}));return Hr(n)}function Hre({primaryType:t,types:e}){let n="";const r=k7({primaryType:t,types:e});r.delete(t);const i=[t,...Array.from(r).sort()];for(const s of i)n+=`${s}(${e[s].map(({name:a,type:c})=>`${c} ${a}`).join(",")})`;return n}function k7({primaryType:t,types:e},n=new Set){const i=t.match(/^\w*/u)?.[0];if(n.has(i)||e[i]===void 0)return n;n.add(i);for(const s of e[i])k7({primaryType:s.type,types:e},n);return n}function R7({types:t,name:e,type:n,value:r}){if(t[n]!==void 0)return[{type:"bytes32"},Hr(O7({data:r,primaryType:n,types:t}))];if(n==="bytes")return[{type:"bytes32"},Hr(r)];if(n==="string")return[{type:"bytes32"},Hr(xt(r))];if(n.lastIndexOf("]")===n.length-1){const i=n.slice(0,n.lastIndexOf("[")),s=r.map(a=>R7({name:e,type:i,types:t,value:a}));return[{type:"bytes32"},Hr(Mu(s.map(([a])=>a),s.map(([,a])=>a)))]}return[{type:n},r]}const HBe="0x6492649264926492649264926492649264926492649264926492649264926492",u$="0x0000000000000000000000000000000000000000000000000000000000000000";let Vre=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const Gre={checksum:new Vre(8192)},ES=Gre.checksum;function $7(t,e={}){const{as:n=typeof t=="string"?"Hex":"Bytes"}=e,r=tL(tne(t));return n==="Bytes"?r:ro(r)}const Kre=/^0x[a-fA-F0-9]{40}$/;function G_(t,e={}){const{strict:n=!0}=e;if(!Kre.test(t))throw new d$({address:t,cause:new Yre});if(n){if(t.toLowerCase()===t)return;if(N7(t)!==t)throw new d$({address:t,cause:new Zre})}}function N7(t){if(ES.has(t))return ES.get(t);G_(t,{strict:!1});const e=t.substring(2).toLowerCase(),n=$7(rne(e),{as:"Bytes"}),r=e.split("");for(let s=0;s<40;s+=2)n[s>>1]>>4>=8&&r[s]&&(r[s]=r[s].toUpperCase()),(n[s>>1]&15)>=8&&r[s+1]&&(r[s+1]=r[s+1].toUpperCase());const i=`0x${r.join("")}`;return ES.set(t,i),i}function xT(t,e={}){const{strict:n=!0}=e??{};try{return G_(t,{strict:n}),!0}catch{return!1}}let d$=class extends Ut{constructor({address:e,cause:n}){super(`Address "${e}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}},Yre=class extends Ut{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}},Zre=class extends Ut{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}};const Xre=/^(.*)\[([0-9]*)\]$/,Jre=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,P7=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,f$=2n**256n-1n;function Qh(t,e,n){const{checksumAddress:r,staticPosition:i}=n,s=$I(e.type);if(s){const[a,c]=s;return eie(t,{...e,type:c},{checksumAddress:r,length:a,staticPosition:i})}if(e.type==="tuple")return iie(t,e,{checksumAddress:r,staticPosition:i});if(e.type==="address")return Qre(t,{checksum:r});if(e.type==="bool")return tie(t);if(e.type.startsWith("bytes"))return nie(t,e,{staticPosition:i});if(e.type.startsWith("uint")||e.type.startsWith("int"))return rie(t,e);if(e.type==="string")return sie(t,{staticPosition:i});throw new PI(e.type)}const h$=32,TT=32;function Qre(t,e={}){const{checksum:n=!1}=e,r=t.readBytes(32);return[(s=>n?N7(s):s)(ro(sne(r,-20))),32]}function eie(t,e,n){const{checksumAddress:r,length:i,staticPosition:s}=n;if(!i){const u=Qc(t.readBytes(TT)),d=s+u,h=d+h$;t.setPosition(d);const p=Qc(t.readBytes(h$)),m=c0(e);let g=0;const b=[];for(let v=0;v<p;++v){t.setPosition(h+(m?v*32:g));const[E,O]=Qh(t,e,{checksumAddress:r,staticPosition:h});g+=O,b.push(E)}return t.setPosition(s+32),[b,32]}if(c0(e)){const u=Qc(t.readBytes(TT)),d=s+u,h=[];for(let p=0;p<i;++p){t.setPosition(d+p*32);const[m]=Qh(t,e,{checksumAddress:r,staticPosition:d});h.push(m)}return t.setPosition(s+32),[h,32]}let a=0;const c=[];for(let u=0;u<i;++u){const[d,h]=Qh(t,e,{checksumAddress:r,staticPosition:s+a});a+=h,c.push(d)}return[c,a]}function tie(t){return[one(t.readBytes(32),{size:32}),32]}function nie(t,e,{staticPosition:n}){const[r,i]=e.type.split("bytes");if(!i){const a=Qc(t.readBytes(32));t.setPosition(n+a);const c=Qc(t.readBytes(32));if(c===0)return t.setPosition(n+32),["0x",32];const u=t.readBytes(c);return t.setPosition(n+32),[ro(u),32]}return[ro(t.readBytes(Number.parseInt(i,10),32)),32]}function rie(t,e){const n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256",10),i=t.readBytes(32);return[r>48?ane(i,{signed:n}):Qc(i,{signed:n}),32]}function iie(t,e,n){const{checksumAddress:r,staticPosition:i}=n,s=e.components.length===0||e.components.some(({name:u})=>!u),a=s?[]:{};let c=0;if(c0(e)){const u=Qc(t.readBytes(TT)),d=i+u;for(let h=0;h<e.components.length;++h){const p=e.components[h];t.setPosition(d+c);const[m,g]=Qh(t,p,{checksumAddress:r,staticPosition:d});c+=g,a[s?h:p?.name]=m}return t.setPosition(i+32),[a,32]}for(let u=0;u<e.components.length;++u){const d=e.components[u],[h,p]=Qh(t,d,{checksumAddress:r,staticPosition:i});a[s?u:d?.name]=h,c+=p}return[a,c]}function sie(t,{staticPosition:e}){const n=Qc(t.readBytes(32)),r=e+n;t.setPosition(r);const i=Qc(t.readBytes(32));if(i===0)return t.setPosition(e+32),["",32];const s=t.readBytes(i,32),a=cne(KL(s));return t.setPosition(e+32),[a,32]}function aie({checksumAddress:t,parameters:e,values:n}){const r=[];for(let i=0;i<e.length;i++)r.push(kI({checksumAddress:t,parameter:e[i],value:n[i]}));return r}function kI({checksumAddress:t=!1,parameter:e,value:n}){const r=e,i=$I(r.type);if(i){const[s,a]=i;return cie(n,{checksumAddress:t,length:s,parameter:{...r,type:a}})}if(r.type==="tuple")return hie(n,{checksumAddress:t,parameter:r});if(r.type==="address")return oie(n,{checksum:t});if(r.type==="bool")return uie(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const s=r.type.startsWith("int"),[,,a="256"]=P7.exec(r.type)??[];return die(n,{signed:s,size:Number(a)})}if(r.type.startsWith("bytes"))return lie(n,{type:r.type});if(r.type==="string")return fie(n);throw new PI(r.type)}function RI(t){let e=0;for(let s=0;s<t.length;s++){const{dynamic:a,encoded:c}=t[s];a?e+=32:e+=Ls(c)}const n=[],r=[];let i=0;for(let s=0;s<t.length;s++){const{dynamic:a,encoded:c}=t[s];a?(n.push(ki(e+i,{size:32})),r.push(c),i+=Ls(c)):n.push(c)}return no(...n,...r)}function oie(t,e){const{checksum:n=!1}=e;return G_(t,{strict:n}),{dynamic:!1,encoded:tf(t.toLowerCase())}}function cie(t,e){const{checksumAddress:n,length:r,parameter:i}=e,s=r===null;if(!Array.isArray(t))throw new Eie(t);if(!s&&t.length!==r)throw new _ie({expectedLength:r,givenLength:t.length,type:`${i.type}[${r}]`});let a=!1;const c=[];for(let u=0;u<t.length;u++){const d=kI({checksumAddress:n,parameter:i,value:t[u]});d.dynamic&&(a=!0),c.push(d)}if(s||a){const u=RI(c);if(s){const d=ki(c.length,{size:32});return{dynamic:!0,encoded:c.length>0?no(d,u):d}}if(a)return{dynamic:!0,encoded:u}}return{dynamic:!1,encoded:no(...c.map(({encoded:u})=>u))}}function lie(t,{type:e}){const[,n]=e.split("bytes"),r=Ls(t);if(!n){let i=t;return r%32!==0&&(i=nf(i,Math.ceil((t.length-2)/2/32)*32)),{dynamic:!0,encoded:no(tf(ki(r,{size:32})),i)}}if(r!==Number.parseInt(n,10))throw new M7({expectedSize:Number.parseInt(n,10),value:t});return{dynamic:!1,encoded:nf(t)}}function uie(t){if(typeof t!="boolean")throw new Ut(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:tf(YL(t))}}function die(t,{signed:e,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,i=e?-r-1n:0n;if(t>r||t<i)throw new JL({max:r.toString(),min:i.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:ki(t,{size:32,signed:e})}}function fie(t){const e=wI(t),n=Math.ceil(Ls(e)/32),r=[];for(let i=0;i<n;i++)r.push(nf(Do(e,i*32,(i+1)*32)));return{dynamic:!0,encoded:no(nf(ki(Ls(e),{size:32})),...r)}}function hie(t,e){const{checksumAddress:n,parameter:r}=e;let i=!1;const s=[];for(let a=0;a<r.components.length;a++){const c=r.components[a],u=Array.isArray(t)?a:c.name,d=kI({checksumAddress:n,parameter:c,value:t[u]});s.push(d),d.dynamic&&(i=!0)}return{dynamic:i,encoded:i?RI(s):no(...s.map(({encoded:a})=>a))}}function $I(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function c0(t){const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return t.components?.some(c0);const n=$I(t.type);return!!(n&&c0({...t,type:n[1]}))}const pie={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new gie({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new mie({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new p$({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new p$({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function yie(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(pie);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}class p$ extends Ut{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class mie extends Ut{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class gie extends Ut{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function bie(t,e,n={}){const{as:r="Array",checksumAddress:i=!1}=n,s=typeof e=="string"?GL(e):e,a=yie(s);if(Lh(s)===0&&t.length>0)throw new vie;if(Lh(s)&&Lh(s)<32)throw new wie({data:typeof e=="string"?e:ro(e),parameters:t,size:Lh(s)});let c=0;const u=r==="Array"?[]:{};for(let d=0;d<t.length;++d){const h=t[d];a.setPosition(c);const[p,m]=Qh(a,h,{checksumAddress:i,staticPosition:0});c+=m,r==="Array"?u.push(p):u[h.name??d]=p}return u}function NI(t,e,n){const{checksumAddress:r=!1}={};if(t.length!==e.length)throw new U7({expectedLength:t.length,givenLength:e.length});const i=aie({checksumAddress:r,parameters:t,values:e}),s=RI(i);return s.length===0?"0x":s}function IT(t,e){if(t.length!==e.length)throw new U7({expectedLength:t.length,givenLength:e.length});const n=[];for(let r=0;r<t.length;r++){const i=t[r],s=e[r];n.push(IT.encode(i,s))}return no(...n)}(function(t){function e(n,r,i=!1){if(n==="address"){const u=r;return G_(u),tf(u.toLowerCase(),i?32:0)}if(n==="string")return wI(r);if(n==="bytes")return r;if(n==="bool")return tf(YL(r),i?32:1);const s=n.match(P7);if(s){const[u,d,h="256"]=s,p=Number.parseInt(h,10)/8;return ki(r,{size:i?32:p,signed:d==="int"})}const a=n.match(Jre);if(a){const[u,d]=a;if(Number.parseInt(d,10)!==(r.length-2)/2)throw new M7({expectedSize:Number.parseInt(d,10),value:r});return nf(r,i?32:0)}const c=n.match(Xre);if(c&&Array.isArray(r)){const[u,d]=c,h=[];for(let p=0;p<r.length;p++)h.push(e(d,r[p],!0));return h.length===0?"0x":no(...h)}throw new PI(n)}t.encode=e})(IT||(IT={}));function D7(t){return Array.isArray(t)&&typeof t[0]=="string"||typeof t=="string"?O4(t):t}class wie extends Ut{constructor({data:e,parameters:n,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${Ph(n)})`,`Data:   ${e} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class vie extends Ut{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class _ie extends Ut{constructor({expectedLength:e,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${e}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class M7 extends Ut{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${Ls(n)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class U7 extends Ut{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${e}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class Eie extends Ut{constructor(e){super(`Value \`${e}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class PI extends Ut{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}let B7=class extends Y3{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,ree(e);const r=O_(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=e.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),dp(s)}update(e){return up(this),this.iHash.update(e),this}digestInto(e){up(this),Zd(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:a,outputLen:c}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=a,e.outputLen=c,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const L7=(t,e,n)=>new B7(t,e).update(n).digest();L7.create=(t,e)=>new B7(t,e);const rs=BigInt(0),Ni=BigInt(1),Nd=BigInt(2),Aie=BigInt(3),j7=BigInt(4),z7=BigInt(5),F7=BigInt(8);function Qi(t,e){const n=t%e;return n>=rs?n:e+n}function Qs(t,e,n){let r=t;for(;e-- >rs;)r*=r,r%=n;return r}function CT(t,e){if(t===rs)throw new Error("invert: expected non-zero number");if(e<=rs)throw new Error("invert: expected positive modulus, got "+e);let n=Qi(t,e),r=e,i=rs,s=Ni;for(;n!==rs;){const c=r/n,u=r%n,d=i-s*c;r=n,n=u,i=s,s=d}if(r!==Ni)throw new Error("invert: does not exist");return Qi(i,e)}function q7(t,e){const n=(t.ORDER+Ni)/j7,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function Sie(t,e){const n=(t.ORDER-z7)/F7,r=t.mul(e,Nd),i=t.pow(r,n),s=t.mul(e,i),a=t.mul(t.mul(s,Nd),i),c=t.mul(s,t.sub(a,t.ONE));if(!t.eql(t.sqr(c),e))throw new Error("Cannot find square root");return c}function xie(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-Ni,n=0;for(;e%Nd===rs;)e/=Nd,n++;let r=Nd;const i=DI(t);for(;y$(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return q7;let s=i.pow(r,e);const a=(e+Ni)/Nd;return function(u,d){if(u.is0(d))return d;if(y$(u,d)!==1)throw new Error("Cannot find square root");let h=n,p=u.mul(u.ONE,s),m=u.pow(d,e),g=u.pow(d,a);for(;!u.eql(m,u.ONE);){if(u.is0(m))return u.ZERO;let b=1,v=u.sqr(m);for(;!u.eql(v,u.ONE);)if(b++,v=u.sqr(v),b===h)throw new Error("Cannot find square root");const E=Ni<<BigInt(h-b-1),O=u.pow(p,E);h=b,p=u.sqr(O),m=u.mul(m,p),g=u.mul(g,O)}return g}}function Tie(t){return t%j7===Aie?q7:t%F7===z7?Sie:xie(t)}const Iie=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Cie(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Iie.reduce((r,i)=>(r[i]="function",r),e);return B_(t,n)}function Oie(t,e,n){if(n<rs)throw new Error("invalid exponent, negatives unsupported");if(n===rs)return t.ONE;if(n===Ni)return e;let r=t.ONE,i=e;for(;n>rs;)n&Ni&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Ni;return r}function W7(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((a,c,u)=>t.is0(c)?a:(r[u]=a,t.mul(a,c)),t.ONE),s=t.inv(i);return e.reduceRight((a,c,u)=>t.is0(c)?a:(r[u]=t.mul(a,r[u]),t.mul(a,c)),s),r}function y$(t,e){const n=(t.ORDER-Ni)/Nd,r=t.pow(e,n),i=t.eql(r,t.ONE),s=t.eql(r,t.ZERO),a=t.eql(r,t.neg(t.ONE));if(!i&&!s&&!a)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function H7(t,e){e!==void 0&&Lg(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function DI(t,e,n=!1,r={}){if(t<=rs)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=H7(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let a;const c=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:U_(i),ZERO:rs,ONE:Ni,create:u=>Qi(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return rs<=u&&u<t},is0:u=>u===rs,isOdd:u=>(u&Ni)===Ni,neg:u=>Qi(-u,t),eql:(u,d)=>u===d,sqr:u=>Qi(u*u,t),add:(u,d)=>Qi(u+d,t),sub:(u,d)=>Qi(u-d,t),mul:(u,d)=>Qi(u*d,t),pow:(u,d)=>Oie(c,u,d),div:(u,d)=>Qi(u*CT(d,t),t),sqrN:u=>u*u,addN:(u,d)=>u+d,subN:(u,d)=>u-d,mulN:(u,d)=>u*d,inv:u=>CT(u,t),sqrt:r.sqrt||(u=>(a||(a=Tie(t)),a(c,u))),toBytes:u=>n?FL(u,s):K0(u,s),fromBytes:u=>{if(u.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+u.length);return n?zL(u):Fd(u)},invertBatch:u=>W7(c,u),cmov:(u,d,h)=>h?d:u});return Object.freeze(c)}function V7(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function G7(t){const e=V7(t);return e+Math.ceil(e/2)}function kie(t,e,n=!1){const r=t.length,i=V7(e),s=G7(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const a=n?zL(t):Fd(t),c=Qi(a,e-Ni)+Ni;return n?FL(c,i):K0(c,i)}const m$=BigInt(0),OT=BigInt(1);function AS(t,e){const n=e.negate();return t?n:e}function K7(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function SS(t,e){K7(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,s=U_(t),a=BigInt(t);return{windows:n,windowSize:r,mask:s,maxNumber:i,shiftBy:a}}function g$(t,e,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:a}=n;let c=Number(t&i),u=t>>a;c>r&&(c-=s,u+=OT);const d=e*r,h=d+Math.abs(c)-1,p=c===0,m=c<0,g=e%2!==0;return{nextN:u,offset:h,isZero:p,isNeg:m,isNegF:g,offsetF:d}}function Rie(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function $ie(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const xS=new WeakMap,Y7=new WeakMap;function TS(t){return Y7.get(t)||1}function Nie(t,e){return{constTimeNegate:AS,hasPrecomputes(n){return TS(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>m$;)r&OT&&(i=i.add(s)),s=s.double(),r>>=OT;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=SS(r,e),a=[];let c=n,u=c;for(let d=0;d<i;d++){u=c,a.push(u);for(let h=1;h<s;h++)u=u.add(c),a.push(u);c=u.double()}return a},wNAF(n,r,i){let s=t.ZERO,a=t.BASE;const c=SS(n,e);for(let u=0;u<c.windows;u++){const{nextN:d,offset:h,isZero:p,isNeg:m,isNegF:g,offsetF:b}=g$(i,u,c);i=d,p?a=a.add(AS(g,r[b])):s=s.add(AS(m,r[h]))}return{p:s,f:a}},wNAFUnsafe(n,r,i,s=t.ZERO){const a=SS(n,e);for(let c=0;c<a.windows&&i!==m$;c++){const{nextN:u,offset:d,isZero:h,isNeg:p}=g$(i,c,a);if(i=u,!h){const m=r[d];s=s.add(p?m.negate():m)}}return s},getPrecomputes(n,r,i){let s=xS.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&xS.set(r,i(s))),s},wNAFCached(n,r,i){const s=TS(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const a=TS(n);return a===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(a,this.getPrecomputes(a,n,i),r,s)},setWindowSize(n,r){K7(r,e),Y7.set(n,r),xS.delete(n)}}}function Pie(t,e,n,r){Rie(n,t),$ie(r,e);const i=n.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const a=t.ZERO,c=Wte(BigInt(i));let u=1;c>12?u=c-3:c>4?u=c-2:c>0&&(u=2);const d=U_(u),h=new Array(Number(d)+1).fill(a),p=Math.floor((e.BITS-1)/u)*u;let m=a;for(let g=p;g>=0;g-=u){h.fill(a);for(let v=0;v<s;v++){const E=r[v],O=Number(E>>BigInt(g)&d);h[O]=h[O].add(n[v])}let b=a;for(let v=h.length-1,E=a;v>0;v--)E=E.add(h[v]),b=b.add(E);if(m=m.add(b),g!==0)for(let v=0;v<u;v++)m=m.double()}return m}function Z7(t){return Cie(t.Fp),B_(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...H7(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}function b$(t){t.lowS!==void 0&&a0("lowS",t.lowS),t.prehash!==void 0&&a0("prehash",t.prehash)}function Die(t){const e=Z7(t);B_(e,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...e})}let Mie=class extends Error{constructor(e=""){super(e)}};const Bc={Err:Mie,_tlv:{encode:(t,e)=>{const{Err:n}=Bc;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=Hw(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?Hw(i.length/2|128):"";return Hw(t)+s+i+e},decode(t,e){const{Err:n}=Bc;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let a=0;if(!s)a=i;else{const u=i&127;if(!u)throw new n("tlv.decode(long): indefinite length not supported");if(u>4)throw new n("tlv.decode(long): byte length is too big");const d=e.subarray(r,r+u);if(d.length!==u)throw new n("tlv.decode: length bytes not complete");if(d[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const h of d)a=a<<8|h;if(r+=u,a<128)throw new n("tlv.decode(long): not minimal encoding")}const c=e.subarray(r,r+a);if(c.length!==a)throw new n("tlv.decode: wrong value length");return{v:c,l:e.subarray(r+a)}}},_int:{encode(t){const{Err:e}=Bc;if(t<Hc)throw new e("integer: negative integers are not allowed");let n=Hw(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=Bc;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Fd(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=Bc,i=ua("signature",t),{v:s,l:a}=r.decode(48,i);if(a.length)throw new e("invalid signature: left bytes after parsing");const{v:c,l:u}=r.decode(2,s),{v:d,l:h}=r.decode(2,u);if(h.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(c),s:n.decode(d)}},hexFromSig(t){const{_tlv:e,_int:n}=Bc,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}};function IS(t,e){return o0(K0(t,e))}const Hc=BigInt(0),Fr=BigInt(1);BigInt(2);const CS=BigInt(3),Uie=BigInt(4);function Bie(t){const e=Die(t),{Fp:n}=e,r=DI(e.n,e.nBitLength),i=e.toBytes||((S,A,C)=>{const I=A.toAffine();return p1(Uint8Array.from([4]),n.toBytes(I.x),n.toBytes(I.y))}),s=e.fromBytes||(S=>{const A=S.subarray(1),C=n.fromBytes(A.subarray(0,n.BYTES)),I=n.fromBytes(A.subarray(n.BYTES,2*n.BYTES));return{x:C,y:I}});function a(S){const{a:A,b:C}=e,I=n.sqr(S),N=n.mul(I,S);return n.add(n.add(N,n.mul(S,A)),C)}function c(S,A){const C=n.sqr(A),I=a(S);return n.eql(C,I)}if(!c(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const u=n.mul(n.pow(e.a,CS),Uie),d=n.mul(n.sqr(e.b),BigInt(27));if(n.is0(n.add(u,d)))throw new Error("bad curve params: a or b");function h(S){return bI(S,Fr,e.n)}function p(S){const{allowedPrivateKeyLengths:A,nByteLength:C,wrapPrivateKey:I,n:N}=e;if(A&&typeof S!="bigint"){if(G0(S)&&(S=o0(S)),typeof S!="string"||!A.includes(S.length))throw new Error("invalid private key");S=S.padStart(C*2,"0")}let z;try{z=typeof S=="bigint"?S:Fd(ua("private key",S,C))}catch{throw new Error("invalid private key, expected hex or "+C+" bytes, got "+typeof S)}return I&&(z=Qi(z,N)),Jh("private key",z,Fr,N),z}function m(S){if(!(S instanceof v))throw new Error("ProjectivePoint expected")}const g=Q4((S,A)=>{const{px:C,py:I,pz:N}=S;if(n.eql(N,n.ONE))return{x:C,y:I};const z=S.is0();A==null&&(A=z?n.ONE:n.inv(N));const L=n.mul(C,A),B=n.mul(I,A),H=n.mul(N,A);if(z)return{x:n.ZERO,y:n.ZERO};if(!n.eql(H,n.ONE))throw new Error("invZ was invalid");return{x:L,y:B}}),b=Q4(S=>{if(S.is0()){if(e.allowInfinityPoint&&!n.is0(S.py))return;throw new Error("bad point: ZERO")}const{x:A,y:C}=S.toAffine();if(!n.isValid(A)||!n.isValid(C))throw new Error("bad point: x or y not FE");if(!c(A,C))throw new Error("bad point: equation left != right");if(!S.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class v{constructor(A,C,I){if(A==null||!n.isValid(A))throw new Error("x required");if(C==null||!n.isValid(C)||n.is0(C))throw new Error("y required");if(I==null||!n.isValid(I))throw new Error("z required");this.px=A,this.py=C,this.pz=I,Object.freeze(this)}static fromAffine(A){const{x:C,y:I}=A||{};if(!A||!n.isValid(C)||!n.isValid(I))throw new Error("invalid affine point");if(A instanceof v)throw new Error("projective point not allowed");const N=z=>n.eql(z,n.ZERO);return N(C)&&N(I)?v.ZERO:new v(C,I,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(A){const C=W7(n,A.map(I=>I.pz));return A.map((I,N)=>I.toAffine(C[N])).map(v.fromAffine)}static fromHex(A){const C=v.fromAffine(s(ua("pointHex",A)));return C.assertValidity(),C}static fromPrivateKey(A){return v.BASE.multiply(p(A))}static msm(A,C){return Pie(v,r,A,C)}_setWindowSize(A){k.setWindowSize(this,A)}assertValidity(){b(this)}hasEvenY(){const{y:A}=this.toAffine();if(n.isOdd)return!n.isOdd(A);throw new Error("Field doesn't support isOdd")}equals(A){m(A);const{px:C,py:I,pz:N}=this,{px:z,py:L,pz:B}=A,H=n.eql(n.mul(C,B),n.mul(z,N)),D=n.eql(n.mul(I,B),n.mul(L,N));return H&&D}negate(){return new v(this.px,n.neg(this.py),this.pz)}double(){const{a:A,b:C}=e,I=n.mul(C,CS),{px:N,py:z,pz:L}=this;let B=n.ZERO,H=n.ZERO,D=n.ZERO,F=n.mul(N,N),K=n.mul(z,z),T=n.mul(L,L),x=n.mul(N,z);return x=n.add(x,x),D=n.mul(N,L),D=n.add(D,D),B=n.mul(A,D),H=n.mul(I,T),H=n.add(B,H),B=n.sub(K,H),H=n.add(K,H),H=n.mul(B,H),B=n.mul(x,B),D=n.mul(I,D),T=n.mul(A,T),x=n.sub(F,T),x=n.mul(A,x),x=n.add(x,D),D=n.add(F,F),F=n.add(D,F),F=n.add(F,T),F=n.mul(F,x),H=n.add(H,F),T=n.mul(z,L),T=n.add(T,T),F=n.mul(T,x),B=n.sub(B,F),D=n.mul(T,K),D=n.add(D,D),D=n.add(D,D),new v(B,H,D)}add(A){m(A);const{px:C,py:I,pz:N}=this,{px:z,py:L,pz:B}=A;let H=n.ZERO,D=n.ZERO,F=n.ZERO;const K=e.a,T=n.mul(e.b,CS);let x=n.mul(C,z),$=n.mul(I,L),j=n.mul(N,B),P=n.add(C,I),V=n.add(z,L);P=n.mul(P,V),V=n.add(x,$),P=n.sub(P,V),V=n.add(C,N);let M=n.add(z,B);return V=n.mul(V,M),M=n.add(x,j),V=n.sub(V,M),M=n.add(I,N),H=n.add(L,B),M=n.mul(M,H),H=n.add($,j),M=n.sub(M,H),F=n.mul(K,V),H=n.mul(T,j),F=n.add(H,F),H=n.sub($,F),F=n.add($,F),D=n.mul(H,F),$=n.add(x,x),$=n.add($,x),j=n.mul(K,j),V=n.mul(T,V),$=n.add($,j),j=n.sub(x,j),j=n.mul(K,j),V=n.add(V,j),x=n.mul($,V),D=n.add(D,x),x=n.mul(M,V),H=n.mul(P,H),H=n.sub(H,x),x=n.mul(P,$),F=n.mul(M,F),F=n.add(F,x),new v(H,D,F)}subtract(A){return this.add(A.negate())}is0(){return this.equals(v.ZERO)}wNAF(A){return k.wNAFCached(this,A,v.normalizeZ)}multiplyUnsafe(A){const{endo:C,n:I}=e;Jh("scalar",A,Hc,I);const N=v.ZERO;if(A===Hc)return N;if(this.is0()||A===Fr)return this;if(!C||k.hasPrecomputes(this))return k.wNAFCachedUnsafe(this,A,v.normalizeZ);let{k1neg:z,k1:L,k2neg:B,k2:H}=C.splitScalar(A),D=N,F=N,K=this;for(;L>Hc||H>Hc;)L&Fr&&(D=D.add(K)),H&Fr&&(F=F.add(K)),K=K.double(),L>>=Fr,H>>=Fr;return z&&(D=D.negate()),B&&(F=F.negate()),F=new v(n.mul(F.px,C.beta),F.py,F.pz),D.add(F)}multiply(A){const{endo:C,n:I}=e;Jh("scalar",A,Fr,I);let N,z;if(C){const{k1neg:L,k1:B,k2neg:H,k2:D}=C.splitScalar(A);let{p:F,f:K}=this.wNAF(B),{p:T,f:x}=this.wNAF(D);F=k.constTimeNegate(L,F),T=k.constTimeNegate(H,T),T=new v(n.mul(T.px,C.beta),T.py,T.pz),N=F.add(T),z=K.add(x)}else{const{p:L,f:B}=this.wNAF(A);N=L,z=B}return v.normalizeZ([N,z])[0]}multiplyAndAddUnsafe(A,C,I){const N=v.BASE,z=(B,H)=>H===Hc||H===Fr||!B.equals(N)?B.multiplyUnsafe(H):B.multiply(H),L=z(this,C).add(z(A,I));return L.is0()?void 0:L}toAffine(A){return g(this,A)}isTorsionFree(){const{h:A,isTorsionFree:C}=e;if(A===Fr)return!0;if(C)return C(v,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:A,clearCofactor:C}=e;return A===Fr?this:C?C(v,this):this.multiplyUnsafe(e.h)}toRawBytes(A=!0){return a0("isCompressed",A),this.assertValidity(),i(v,this,A)}toHex(A=!0){return a0("isCompressed",A),o0(this.toRawBytes(A))}}v.BASE=new v(e.Gx,e.Gy,n.ONE),v.ZERO=new v(n.ZERO,n.ONE,n.ZERO);const{endo:E,nBitLength:O}=e,k=Nie(v,E?Math.ceil(O/2):O);return{CURVE:e,ProjectivePoint:v,normPrivateKeyToScalar:p,weierstrassEquation:a,isWithinCurveOrder:h}}function Lie(t){const e=Z7(t);return B_(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function jie(t){const e=Lie(t),{Fp:n,n:r,nByteLength:i,nBitLength:s}=e,a=n.BYTES+1,c=2*n.BYTES+1;function u(T){return Qi(T,r)}function d(T){return CT(T,r)}const{ProjectivePoint:h,normPrivateKeyToScalar:p,weierstrassEquation:m,isWithinCurveOrder:g}=Bie({...e,toBytes(T,x,$){const j=x.toAffine(),P=n.toBytes(j.x),V=p1;return a0("isCompressed",$),$?V(Uint8Array.from([x.hasEvenY()?2:3]),P):V(Uint8Array.from([4]),P,n.toBytes(j.y))},fromBytes(T){const x=T.length,$=T[0],j=T.subarray(1);if(x===a&&($===2||$===3)){const P=Fd(j);if(!bI(P,Fr,n.ORDER))throw new Error("Point is not on curve");const V=m(P);let M;try{M=n.sqrt(V)}catch(X){const Q=X instanceof Error?": "+X.message:"";throw new Error("Point is not on curve"+Q)}const G=(M&Fr)===Fr;return($&1)===1!==G&&(M=n.neg(M)),{x:P,y:M}}else if(x===c&&$===4){const P=n.fromBytes(j.subarray(0,n.BYTES)),V=n.fromBytes(j.subarray(n.BYTES,2*n.BYTES));return{x:P,y:V}}else{const P=a,V=c;throw new Error("invalid Point, expected length of "+P+", or uncompressed "+V+", got "+x)}}});function b(T){const x=r>>Fr;return T>x}function v(T){return b(T)?u(-T):T}const E=(T,x,$)=>Fd(T.slice(x,$));class O{constructor(x,$,j){Jh("r",x,Fr,r),Jh("s",$,Fr,r),this.r=x,this.s=$,j!=null&&(this.recovery=j),Object.freeze(this)}static fromCompact(x){const $=i;return x=ua("compactSignature",x,$*2),new O(E(x,0,$),E(x,$,2*$))}static fromDER(x){const{r:$,s:j}=Bc.toSig(ua("DER",x));return new O($,j)}assertValidity(){}addRecoveryBit(x){return new O(this.r,this.s,x)}recoverPublicKey(x){const{r:$,s:j,recovery:P}=this,V=N(ua("msgHash",x));if(P==null||![0,1,2,3].includes(P))throw new Error("recovery id invalid");const M=P===2||P===3?$+e.n:$;if(M>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const G=(P&1)===0?"02":"03",J=h.fromHex(G+IS(M,n.BYTES)),X=d(M),Q=u(-V*X),ge=u(j*X),we=h.BASE.multiplyAndAddUnsafe(J,Q,ge);if(!we)throw new Error("point at infinify");return we.assertValidity(),we}hasHighS(){return b(this.s)}normalizeS(){return this.hasHighS()?new O(this.r,u(-this.s),this.recovery):this}toDERRawBytes(){return h1(this.toDERHex())}toDERHex(){return Bc.hexFromSig(this)}toCompactRawBytes(){return h1(this.toCompactHex())}toCompactHex(){const x=i;return IS(this.r,x)+IS(this.s,x)}}const k={isValidPrivateKey(T){try{return p(T),!0}catch{return!1}},normPrivateKeyToScalar:p,randomPrivateKey:()=>{const T=G7(e.n);return kie(e.randomBytes(T),e.n)},precompute(T=8,x=h.BASE){return x._setWindowSize(T),x.multiply(BigInt(3)),x}};function S(T,x=!0){return h.fromPrivateKey(T).toRawBytes(x)}function A(T){if(typeof T=="bigint")return!1;if(T instanceof h)return!0;const $=ua("key",T).length,j=n.BYTES,P=j+1,V=2*j+1;if(!(e.allowedPrivateKeyLengths||i===P))return $===P||$===V}function C(T,x,$=!0){if(A(T)===!0)throw new Error("first arg must be private key");if(A(x)===!1)throw new Error("second arg must be public key");return h.fromHex(x).multiply(p(T)).toRawBytes($)}const I=e.bits2int||function(T){if(T.length>8192)throw new Error("input is too large");const x=Fd(T),$=T.length*8-s;return $>0?x>>BigInt($):x},N=e.bits2int_modN||function(T){return u(I(T))},z=U_(s);function L(T){return Jh("num < 2^"+s,T,Hc,z),K0(T,i)}function B(T,x,$=H){if(["recovered","canonical"].some(Ee=>Ee in $))throw new Error("sign() legacy options not supported");const{hash:j,randomBytes:P}=e;let{lowS:V,prehash:M,extraEntropy:G}=$;V==null&&(V=!0),T=ua("msgHash",T),b$($),M&&(T=ua("prehashed msgHash",j(T)));const J=N(T),X=p(x),Q=[L(X),L(J)];if(G!=null&&G!==!1){const Ee=G===!0?P(n.BYTES):G;Q.push(ua("extraEntropy",Ee))}const ge=p1(...Q),we=J;function Te(Ee){const Pe=I(Ee);if(!g(Pe))return;const qe=d(Pe),rt=h.BASE.multiply(Pe).toAffine(),ye=u(rt.x);if(ye===Hc)return;const Tt=u(qe*u(we+ye*X));if(Tt===Hc)return;let Kt=(rt.x===ye?0:2)|Number(rt.y&Fr),wt=Tt;return V&&b(Tt)&&(wt=v(Tt),Kt^=1),new O(ye,wt,Kt)}return{seed:ge,k2sig:Te}}const H={lowS:e.lowS,prehash:!1},D={lowS:e.lowS,prehash:!1};function F(T,x,$=H){const{seed:j,k2sig:P}=B(T,x,$),V=e;return Hte(V.hash.outputLen,V.nByteLength,V.hmac)(j,P)}h.BASE._setWindowSize(8);function K(T,x,$,j=D){const P=T;x=ua("msgHash",x),$=ua("publicKey",$);const{lowS:V,prehash:M,format:G}=j;if(b$(j),"strict"in j)throw new Error("options.strict was renamed to lowS");if(G!==void 0&&G!=="compact"&&G!=="der")throw new Error("format must be compact or der");const J=typeof P=="string"||G0(P),X=!J&&!G&&typeof P=="object"&&P!==null&&typeof P.r=="bigint"&&typeof P.s=="bigint";if(!J&&!X)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let Q,ge;try{if(X&&(Q=new O(P.r,P.s)),J){try{G!=="compact"&&(Q=O.fromDER(P))}catch(Kt){if(!(Kt instanceof Bc.Err))throw Kt}!Q&&G!=="der"&&(Q=O.fromCompact(P))}ge=h.fromHex($)}catch{return!1}if(!Q||V&&Q.hasHighS())return!1;M&&(x=e.hash(x));const{r:we,s:Te}=Q,Ee=N(x),Pe=d(Te),qe=u(Ee*Pe),rt=u(we*Pe),ye=h.BASE.multiplyAndAddUnsafe(ge,qe,rt)?.toAffine();return ye?u(ye.x)===we:!1}return{CURVE:e,getPublicKey:S,getSharedSecret:C,sign:F,verify:K,ProjectivePoint:h,Signature:O,utils:k}}function zie(t){return{hash:t,hmac:(e,...n)=>L7(t,e,lee(...n)),randomBytes:uee}}function Fie(t,e){const n=r=>jie({...t,...zie(r)});return{...n(e),create:n}}const X7=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),w$=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),qie=BigInt(0),Wie=BigInt(1),kT=BigInt(2),v$=(t,e)=>(t+e/kT)/e;function Hie(t){const e=X7,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),a=BigInt(23),c=BigInt(44),u=BigInt(88),d=t*t*t%e,h=d*d*t%e,p=Qs(h,n,e)*h%e,m=Qs(p,n,e)*h%e,g=Qs(m,kT,e)*d%e,b=Qs(g,i,e)*g%e,v=Qs(b,s,e)*b%e,E=Qs(v,c,e)*v%e,O=Qs(E,u,e)*E%e,k=Qs(O,c,e)*v%e,S=Qs(k,n,e)*h%e,A=Qs(S,a,e)*b%e,C=Qs(A,r,e)*d%e,I=Qs(C,kT,e);if(!RT.eql(RT.sqr(I),t))throw new Error("Cannot find square root");return I}const RT=DI(X7,void 0,void 0,{sqrt:Hie}),K_=Fie({a:qie,b:BigInt(7),Fp:RT,n:w$,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=w$,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Wie*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,a=BigInt("0x100000000000000000000000000000000"),c=v$(s*t,e),u=v$(-r*t,e);let d=Qi(t-c*n-u*i,e),h=Qi(-c*r-u*s,e);const p=d>a,m=h>a;if(p&&(d=e-d),m&&(h=e-h),d>a||h>a)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:p,k1:d,k2neg:m,k2:h}}}},OL),Vie=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:K_},Symbol.toStringTag,{value:"Module"}));function J7(t,e={}){const{recovered:n}=e;if(typeof t.r>"u")throw new OS({signature:t});if(typeof t.s>"u")throw new OS({signature:t});if(n&&typeof t.yParity>"u")throw new OS({signature:t});if(t.r<0n||t.r>f$)throw new Qie({value:t.r});if(t.s<0n||t.s>f$)throw new ese({value:t.s});if(typeof t.yParity=="number"&&t.yParity!==0&&t.yParity!==1)throw new UI({value:t.yParity})}function Gie(t){return Q7(ro(t))}function Q7(t){if(t.length!==130&&t.length!==132)throw new Jie({signature:t});const e=BigInt(Do(t,0,32)),n=BigInt(Do(t,32,64)),r=(()=>{const i=+`0x${t.slice(130)}`;if(!Number.isNaN(i))try{return MI(i)}catch{throw new UI({value:i})}})();return typeof r>"u"?{r:e,s:n}:{r:e,s:n,yParity:r}}function Kie(t){if(!(typeof t.r>"u")&&!(typeof t.s>"u"))return Yie(t)}function Yie(t){const e=typeof t=="string"?Q7(t):t instanceof Uint8Array?Gie(t):typeof t.r=="string"?Xie(t):t.v?Zie(t):{r:t.r,s:t.s,...typeof t.yParity<"u"?{yParity:t.yParity}:{}};return J7(e),e}function Zie(t){return{r:t.r,s:t.s,yParity:MI(t.v)}}function Xie(t){const e=(()=>{const n=t.v?Number(t.v):void 0;let r=t.yParity?Number(t.yParity):void 0;if(typeof n=="number"&&typeof r!="number"&&(r=MI(n)),typeof r!="number")throw new UI({value:t.yParity});return r})();return{r:BigInt(t.r),s:BigInt(t.s),yParity:e}}function MI(t){if(t===0||t===27)return 0;if(t===1||t===28)return 1;if(t>=35)return t%2===0?1:0;throw new tse({value:t})}let Jie=class extends Ut{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${Ls(mne(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}};class OS extends Ut{constructor({signature:e}){super(`Signature \`${VL(e)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class Qie extends Ut{constructor({value:e}){super(`Value \`${e}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class ese extends Ut{constructor({value:e}){super(`Value \`${e}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}let UI=class extends Ut{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}},tse=class extends Ut{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}};function nse(t,e={}){return typeof t.chainId=="string"?rse(t):{...t,...e.signature}}function rse(t){const{address:e,chainId:n,nonce:r}=t,i=Kie(t);return{address:e,chainId:Number(n),nonce:BigInt(r),...i}}const ise="0x8010801080108010801080108010801080108010801080108010801080108010",sse=D7("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function ej(t){if(typeof t=="string"){if(Do(t,-32)!==ise)throw new cse(t)}else J7(t.authorization)}function ase(t){ej(t);const e=XL(Do(t,-64,-32)),n=Do(t,-e-64,-64),r=Do(t,0,-e-64),[i,s,a]=bie(sse,n);return{authorization:nse({address:i.delegation,chainId:Number(i.chainId),nonce:i.nonce,yParity:i.yParity,r:i.r,s:i.s}),signature:r,...a&&a!=="0x"?{data:a,to:s}:{}}}function ose(t){try{return ej(t),!0}catch{return!1}}let cse=class extends Ut{constructor(e){super(`Value \`${e}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};function lse(t){return t.map(e=>({...e,value:BigInt(e.value)}))}function use(t){return{...t,balance:t.balance?BigInt(t.balance):void 0,nonce:t.nonce?Bs(t.nonce):void 0,storageProof:t.storageProof?lse(t.storageProof):void 0}}async function dse(t,{address:e,blockNumber:n,blockTag:r,storageKeys:i}){const s=r??"latest",a=n!==void 0?Ne(n):void 0,c=await t.request({method:"eth_getProof",params:[e,i,a||s]});return use(c)}async function fse(t,{address:e,blockNumber:n,blockTag:r="latest",slot:i}){const s=n!==void 0?Ne(n):void 0;return await t.request({method:"eth_getStorageAt",params:[e,i,s||r]})}async function BI(t,{blockHash:e,blockNumber:n,blockTag:r,hash:i,index:s,sender:a,nonce:c}){const u=r||"latest",d=n!==void 0?Ne(n):void 0;let h=null;if(i?h=await t.request({method:"eth_getTransactionByHash",params:[i]},{dedupe:!0}):e?h=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,Ne(s)]},{dedupe:!0}):typeof s=="number"?h=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[d||u,Ne(s)]},{dedupe:!!d}):a&&typeof c=="number"&&(h=await t.request({method:"eth_getTransactionBySenderAndNonce",params:[a,Ne(c)]},{dedupe:!0})),!h)throw new hL({blockHash:e,blockNumber:n,blockTag:u,hash:i,index:s});return(t.chain?.formatters?.transaction?.format||W0)(h,"getTransaction")}async function hse(t,{hash:e,transactionReceipt:n}){const[r,i]=await Promise.all([We(t,X0,"getBlockNumber")({}),e?We(t,BI,"getTransaction")({hash:e}):void 0]),s=n?.blockNumber||i?.blockNumber;return s?r-s+1n:0n}async function Mv(t,{hash:e}){const n=await t.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!n)throw new pL({hash:e});return(t.chain?.formatters?.transactionReceipt?.format||EI)(n,"getTransactionReceipt")}async function pse(t,e){const{account:n,authorizationList:r,allowFailure:i=!0,blockNumber:s,blockOverrides:a,blockTag:c,stateOverride:u}=e,d=e.contracts,{batchSize:h=e.batchSize??1024,deployless:p=e.deployless??!1}=typeof t.batch?.multicall=="object"?t.batch.multicall:{},m=(()=>{if(e.multicallAddress)return e.multicallAddress;if(p)return null;if(t.chain)return zp({blockNumber:s,chain:t.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),g=[[]];let b=0,v=0;for(let k=0;k<d.length;k++){const{abi:S,address:A,args:C,functionName:I}=d[k];try{const N=Ui({abi:S,args:C,functionName:I});v+=(N.length-2)/2,h>0&&v>h&&g[b].length>0&&(b++,v=(N.length-2)/2,g[b]=[]),g[b]=[...g[b],{allowFailure:!0,callData:N,target:A}]}catch(N){const z=Qd(N,{abi:S,address:A,args:C,docsPath:"/docs/contract/multicall",functionName:I,sender:n});if(!i)throw z;g[b]=[...g[b],{allowFailure:!0,callData:"0x",target:A}]}}const E=await Promise.allSettled(g.map(k=>We(t,io,"readContract")({...m===null?{code:vI}:{address:m},abi:y1,account:n,args:[k],authorizationList:r,blockNumber:s,blockOverrides:a,blockTag:c,functionName:"aggregate3",stateOverride:u}))),O=[];for(let k=0;k<E.length;k++){const S=E[k];if(S.status==="rejected"){if(!i)throw S.reason;for(let C=0;C<g[k].length;C++)O.push({status:"failure",error:S.reason,result:void 0});continue}const A=S.value;for(let C=0;C<A.length;C++){const{returnData:I,success:N}=A[C],{callData:z}=g[k][C],{abi:L,address:B,functionName:H,args:D}=d[O.length];try{if(z==="0x")throw new U0;if(!N)throw new $_({data:I});const F=wf({abi:L,args:D,data:I,functionName:H});O.push(i?{result:F,status:"success"}:F)}catch(F){const K=Qd(F,{abi:L,address:B,args:D,docsPath:"/docs/contract/multicall",functionName:H});if(!i)throw K;O.push({error:K,result:void 0,status:"failure"})}}}if(O.length!==d.length)throw new _e("multicall results mismatch");return O}async function $T(t,e){const{blockNumber:n,blockTag:r=t.experimental_blockTag??"latest",blocks:i,returnFullTransactions:s,traceTransfers:a,validation:c}=e;try{const u=[];for(const m of i){const g=m.blockOverrides?e7(m.blockOverrides):void 0,b=m.calls.map(E=>{const O=E,k=O.account?Nn(O.account):void 0,S=O.abi?Ui(O):O.data,A={...O,account:k,data:O.dataSuffix?ba([S||"0x",O.dataSuffix]):S,from:O.from??k?.address};return Go(A),yl(A)}),v=m.stateOverrides?rI(m.stateOverrides):void 0;u.push({blockOverrides:g,calls:b,stateOverrides:v})}const h=(typeof n=="bigint"?Ne(n):void 0)||r;return(await t.request({method:"eth_simulateV1",params:[{blockStateCalls:u,returnFullTransactions:s,traceTransfers:a,validation:c},h]})).map((m,g)=>({...sI(m),calls:m.calls.map((b,v)=>{const{abi:E,args:O,functionName:k,to:S}=i[g].calls[v],A=b.error?.data??b.returnData,C=BigInt(b.gasUsed),I=b.logs?.map(B=>zo(B)),N=b.status==="0x1"?"success":"failure",z=E&&N==="success"&&A!=="0x"?wf({abi:E,data:A,functionName:k}):null,L=(()=>{if(N==="success")return;let B;if(b.error?.data==="0x"?B=new U0:b.error&&(B=new $_(b.error)),!!B)return Qd(B,{abi:E??[],address:S??"0x",args:O,functionName:k??"<unknown>"})})();return{data:A,gasUsed:C,logs:I,status:N,...N==="success"?{result:z}:{error:L}}})}))}catch(u){const d=u,h=P_(d,{});throw h instanceof q0?d:h}}function NT(t){let e=!0,n="",r=0,i="",s=!1;for(let a=0;a<t.length;a++){const c=t[a];if(["(",")",","].includes(c)&&(e=!0),c==="("&&r++,c===")"&&r--,!!e){if(r===0){if(c===" "&&["event","function","error",""].includes(i))i="";else if(i+=c,c===")"){s=!0;break}continue}if(c===" "){t[a-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}i+=c,n+=c}}if(!s)throw new Ut("Unable to normalize signature.");return i}function PT(t,e){const n=typeof t,r=e.type;switch(r){case"address":return xT(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((i,s)=>PT(Object.values(t)[s],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(i=>PT(i,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function tj(t,e,n){for(const r in t){const i=t[r],s=e[r];if(i.type==="tuple"&&s.type==="tuple"&&"components"in i&&"components"in s)return tj(i.components,s.components,n[r]);const a=[i.type,s.type];if(a.includes("address")&&a.includes("bytes20")?!0:a.includes("address")&&a.includes("string")?xT(n[r],{strict:!1}):a.includes("address")&&a.includes("bytes")?xT(n[r],{strict:!1}):!1)return a}}function nj(t,e={}){const{prepare:n=!0}=e,r=Array.isArray(t)||typeof t=="string"?C4(t):t;return{...r,...n?{hash:jh(r)}:{}}}function Y_(t,e,n){const{args:r=[],prepare:i=!0}=n??{},s=gne(e,{strict:!1}),a=t.filter(d=>s?d.type==="function"||d.type==="error"?rj(d)===Do(e,0,4):d.type==="event"?jh(d)===e:!1:"name"in d&&d.name===e);if(a.length===0)throw new g1({name:e});if(a.length===1)return{...a[0],...i?{hash:jh(a[0])}:{}};let c;for(const d of a){if(!("inputs"in d))continue;if(!r||r.length===0){if(!d.inputs||d.inputs.length===0)return{...d,...i?{hash:jh(d)}:{}};continue}if(!d.inputs||d.inputs.length===0||d.inputs.length!==r.length)continue;if(r.every((p,m)=>{const g="inputs"in d&&d.inputs[m];return g?PT(p,g):!1})){if(c&&"inputs"in c&&c.inputs){const p=tj(d.inputs,c.inputs,r);if(p)throw new mse({abiItem:d,type:p[0]},{abiItem:c,type:p[1]})}c=d}}const u=(()=>{if(c)return c;const[d,...h]=a;return{...d,overloads:h}})();if(!u)throw new g1({name:e});return{...u,...i?{hash:jh(u)}:{}}}function rj(...t){const e=(()=>{if(Array.isArray(t[0])){const[n,r]=t;return Y_(n,r)}return t[0]})();return Do(jh(e),0,4)}function yse(...t){const e=(()=>{if(Array.isArray(t[0])){const[r,i]=t;return Y_(r,i)}return t[0]})(),n=typeof e=="string"?e:l1(e);return NT(n)}function jh(...t){const e=(()=>{if(Array.isArray(t[0])){const[n,r]=t;return Y_(n,r)}return t[0]})();return typeof e!="string"&&"hash"in e&&e.hash?e.hash:$7(wI(yse(e)))}class mse extends Ut{constructor(e,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${e.type}\` in \`${NT(l1(e.abiItem))}\`, and`,`\`${n.type}\` in \`${NT(l1(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class g1 extends Ut{constructor({name:e,data:n,type:r="item"}){const i=e?` with name "${e}"`:n?` with data "${n}"`:"";super(`ABI ${r}${i} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function gse(...t){const[e,n]=(()=>{if(Array.isArray(t[0])){const[s,a]=t;return[wse(s),a]}return t})(),{bytecode:r,args:i}=n;return no(r,e.inputs?.length&&i?.length?NI(e.inputs,i):"0x")}function bse(t){return nj(t)}function wse(t){const e=t.find(n=>n.type==="constructor");if(!e)throw new g1({name:"constructor"});return e}function vse(...t){const[e,n=[]]=(()=>{if(Array.isArray(t[0])){const[d,h,p]=t;return[_$(d,h,{args:p}),p]}const[c,u]=t;return[c,u]})(),{overloads:r}=e,i=r?_$([e,...r],e.name,{args:n}):e,s=_se(i),a=n.length>0?NI(i.inputs,n):void 0;return a?no(s,a):s}function ph(t,e={}){return nj(t,e)}function _$(t,e,n){const r=Y_(t,e,n);if(r.type!=="function")throw new g1({name:e,type:"function"});return r}function _se(t){return rj(t)}const Ese="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",yo="0x0000000000000000000000000000000000000000",Ase="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function Sse(t,e){const{blockNumber:n,blockTag:r,calls:i,stateOverrides:s,traceAssetChanges:a,traceTransfers:c,validation:u}=e,d=e.account?Nn(e.account):void 0;if(a&&!d)throw new _e("`account` is required when `traceAssetChanges` is true");const h=d?gse(bse("constructor(bytes, bytes)"),{bytecode:i7,args:[Ase,vse(ph("function getBalance(address)"),[d.address])]}):void 0,p=a?await Promise.all(e.calls.map(async j=>{if(!j.data&&!j.abi)return;const{accessList:P}=await E7(t,{account:d.address,...j,data:j.abi?Ui(j):j.data});return P.map(({address:V,storageKeys:M})=>M.length>0?V:null)})).then(j=>j.flat().filter(Boolean)):[],m=await $T(t,{blockNumber:n,blockTag:r,blocks:[...a?[{calls:[{data:h}],stateOverrides:s},{calls:p.map((j,P)=>({abi:[ph("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[d.address],to:j,from:yo,nonce:P})),stateOverrides:[{address:yo,nonce:0}]}]:[],{calls:[...i,{}].map(j=>({...j,from:d?.address})),stateOverrides:s},...a?[{calls:[{data:h}]},{calls:p.map((j,P)=>({abi:[ph("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[d.address],to:j,from:yo,nonce:P})),stateOverrides:[{address:yo,nonce:0}]},{calls:p.map((j,P)=>({to:j,abi:[ph("function decimals() returns (uint256)")],functionName:"decimals",from:yo,nonce:P})),stateOverrides:[{address:yo,nonce:0}]},{calls:p.map((j,P)=>({to:j,abi:[ph("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:yo,nonce:P})),stateOverrides:[{address:yo,nonce:0}]},{calls:p.map((j,P)=>({to:j,abi:[ph("function symbol() returns (string)")],functionName:"symbol",from:yo,nonce:P})),stateOverrides:[{address:yo,nonce:0}]}]:[]],traceTransfers:c,validation:u}),g=a?m[2]:m[0],[b,v,,E,O,k,S,A]=a?m:[],{calls:C,...I}=g,N=C.slice(0,-1)??[],z=b?.calls??[],L=v?.calls??[],B=[...z,...L].map(j=>j.status==="success"?ln(j.data):null),H=E?.calls??[],D=O?.calls??[],F=[...H,...D].map(j=>j.status==="success"?ln(j.data):null),K=(k?.calls??[]).map(j=>j.status==="success"?j.result:null),T=(A?.calls??[]).map(j=>j.status==="success"?j.result:null),x=(S?.calls??[]).map(j=>j.status==="success"?j.result:null),$=[];for(const[j,P]of F.entries()){const V=B[j];if(typeof P!="bigint"||typeof V!="bigint")continue;const M=K[j-1],G=T[j-1],J=x[j-1],X=j===0?{address:Ese,decimals:18,symbol:"ETH"}:{address:p[j-1],decimals:J||M?Number(M??1):void 0,symbol:G??void 0};$.some(Q=>Q.token.address===X.address)||$.push({token:X,value:{pre:V,post:P,diff:P-V}})}return{assetChanges:$,block:I,results:N}}const ij="0x6492649264926492649264926492649264926492649264926492649264926492";function xse(t){if(Do(t,-32)!==ij)throw new Cse(t)}function Tse(t){const{data:e,signature:n,to:r}=t;return no(NI(D7("address, bytes, bytes"),[r,e,n]),ij)}function Ise(t){try{return xse(t),!0}catch{return!1}}class Cse extends Ut{constructor(e){super(`Value \`${e}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}function sj({r:t,s:e,to:n="hex",v:r,yParity:i}){const s=(()=>{if(i===0||i===1)return i;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),a=`0x${new K_.Signature(ln(t),ln(e)).toCompactHex()}${s===0?"1b":"1c"}`;return n==="hex"?a:$i(a)}async function Z_(t,e){const{address:n,chain:r=t.chain,hash:i,erc6492VerifierAddress:s=e.universalSignatureVerifierAddress??r?.contracts?.erc6492Verifier?.address,multicallAddress:a=e.multicallAddress??r?.contracts?.multicall3?.address}=e;if(r?.verifyHash)return await r.verifyHash(t,e);const c=(()=>{const u=e.signature;return Ri(u)?u:typeof u=="object"&&"r"in u&&"s"in u?sj(u):Ar(u)})();try{return ose(c)?await Ose(t,{...e,multicallAddress:a,signature:c}):await kse(t,{...e,verifierAddress:s,signature:c})}catch(u){try{if(V0(oi(n),await wL({hash:i,signature:c})))return!0}catch{}if(u instanceof rf)return!1;throw u}}async function Ose(t,e){const{address:n,blockNumber:r,blockTag:i,hash:s,multicallAddress:a}=e,{authorization:c,data:u,signature:d,to:h}=ase(e.signature);if(await ST(t,{address:n,blockNumber:r,blockTag:i})===Ea(["0xef0100",c.address]))return await Rse(t,{address:n,blockNumber:r,blockTag:i,hash:s,signature:d});const m={address:c.address,chainId:Number(c.chainId),nonce:Number(c.nonce),r:Ne(c.r,{size:32}),s:Ne(c.s,{size:32}),yParity:c.yParity};if(!await Ore({address:n,authorization:m}))throw new rf;const b=await We(t,io,"readContract")({...a?{address:a}:{code:vI},authorizationList:[m],abi:y1,blockNumber:r,blockTag:"pending",functionName:"aggregate3",args:[[...u?[{allowFailure:!0,target:h??n,callData:u}]:[],{allowFailure:!0,target:n,callData:Ui({abi:r7,functionName:"isValidSignature",args:[s,d]})}]]});if(b[b.length-1]?.returnData?.startsWith("0x1626ba7e"))return!0;throw new rf}async function kse(t,e){const{address:n,factory:r,factoryData:i,hash:s,signature:a,verifierAddress:c,...u}=e,d=await(async()=>!r&&!i||Ise(a)?a:Tse({data:i,signature:a,to:r}))(),h=c?{to:c,data:Ui({abi:s$,functionName:"isValidSig",args:[n,s,d]}),...u}:{data:j_({abi:s$,args:[n,s,d],bytecode:Sne}),...u},{data:p}=await We(t,z_,"call")(h).catch(m=>{throw m instanceof mL?new rf:m});if(WQ(p??"0x0"))return!0;throw new rf}async function Rse(t,e){const{address:n,blockNumber:r,blockTag:i,hash:s,signature:a}=e;if((await We(t,io,"readContract")({address:n,abi:r7,args:[s,a],blockNumber:r,blockTag:i,functionName:"isValidSignature"}).catch(u=>{throw u instanceof gL?new rf:u})).startsWith("0x1626ba7e"))return!0;throw new rf}class rf extends Error{}async function $se(t,{address:e,message:n,factory:r,factoryData:i,signature:s,...a}){const c=OI(n);return We(t,Z_,"verifyHash")({address:e,factory:r,factoryData:i,hash:c,signature:s,...a})}async function Nse(t,e){const{address:n,factory:r,factoryData:i,signature:s,message:a,primaryType:c,types:u,domain:d,...h}=e,p=I7({message:a,primaryType:c,types:u,domain:d});return We(t,Z_,"verifyHash")({address:n,factory:r,factoryData:i,hash:p,signature:s,...h})}function aj(t,{emitOnBegin:e=!1,emitMissed:n=!1,onBlockNumber:r,onError:i,poll:s,pollingInterval:a=t.pollingInterval}){const c=typeof s<"u"?s:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc"));let u;return c?(()=>{const p=$r(["watchBlockNumber",t.uid,e,n,a]);return al(p,{onBlockNumber:r,onError:i},m=>Fp(async()=>{try{const g=await We(t,X0,"getBlockNumber")({cacheTime:0});if(u!==void 0){if(g===u)return;if(g-u>1&&n)for(let b=u+1n;b<g;b++)m.onBlockNumber(b,u),u=b}(u===void 0||g>u)&&(m.onBlockNumber(g,u),u=g)}catch(g){m.onError?.(g)}},{emitOnBegin:e,interval:a}))})():(()=>{const p=$r(["watchBlockNumber",t.uid,e,n]);return al(p,{onBlockNumber:r,onError:i},m=>{let g=!0,b=()=>g=!1;return(async()=>{try{const v=(()=>{if(t.transport.type==="fallback"){const O=t.transport.transports.find(k=>k.config.type==="webSocket"||k.config.type==="ipc");return O?O.value:t.transport}return t.transport})(),{unsubscribe:E}=await v.subscribe({params:["newHeads"],onData(O){if(!g)return;const k=ln(O.result?.number);m.onBlockNumber(k,u),u=k},onError(O){m.onError?.(O)}});b=E,g||b()}catch(v){i?.(v)}})(),()=>b()})})()}async function oj(t,e){const{checkReplacement:n=!0,confirmations:r=1,hash:i,onReplaced:s,retryCount:a=6,retryDelay:c=({count:C})=>~~(1<<C)*200,timeout:u=18e4}=e,d=$r(["waitForTransactionReceipt",t.uid,i]),h=e.pollingInterval?e.pollingInterval:t.chain?.experimental_preconfirmationTime?t.chain.experimental_preconfirmationTime:t.pollingInterval;let p,m,g,b=!1,v,E;const{promise:O,resolve:k,reject:S}=_I(),A=u?setTimeout(()=>{E?.(),v?.(),S(new ote({hash:i}))},u):void 0;return v=al(d,{onReplaced:s,resolve:k,reject:S},async C=>{if(g=await We(t,Mv,"getTransactionReceipt")({hash:i}).catch(()=>{}),g&&r<=1){clearTimeout(A),C.resolve(g),v?.();return}E=We(t,aj,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:h,async onBlockNumber(I){const N=L=>{clearTimeout(A),E?.(),L(),v?.()};let z=I;if(!b)try{if(g){if(r>1&&(!g.blockNumber||z-g.blockNumber+1n<r))return;N(()=>C.resolve(g));return}if(n&&!p&&(b=!0,await m1(async()=>{p=await We(t,BI,"getTransaction")({hash:i}),p.blockNumber&&(z=p.blockNumber)},{delay:c,retryCount:a}),b=!1),g=await We(t,Mv,"getTransactionReceipt")({hash:i}),r>1&&(!g.blockNumber||z-g.blockNumber+1n<r))return;N(()=>C.resolve(g))}catch(L){if(L instanceof hL||L instanceof pL){if(!p){b=!1;return}try{m=p,b=!0;const B=await m1(()=>We(t,Ka,"getBlock")({blockNumber:z,includeTransactions:!0}),{delay:c,retryCount:a,shouldRetry:({error:F})=>F instanceof SL});b=!1;const H=B.transactions.find(({from:F,nonce:K})=>F===m.from&&K===m.nonce);if(!H||(g=await We(t,Mv,"getTransactionReceipt")({hash:H.hash}),r>1&&(!g.blockNumber||z-g.blockNumber+1n<r)))return;let D="replaced";H.to===m.to&&H.value===m.value&&H.input===m.input?D="repriced":H.from===H.to&&H.value===0n&&(D="cancelled"),N(()=>{C.onReplaced?.({reason:D,replacedTransaction:m,transaction:H,transactionReceipt:g}),C.resolve(g)})}catch(B){N(()=>C.reject(B))}}else N(()=>C.reject(L))}}})}),O}function Pse(t,{blockTag:e=t.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:i,onError:s,includeTransactions:a,poll:c,pollingInterval:u=t.pollingInterval}){const d=typeof c<"u"?c:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),h=a??!1;let p;return d?(()=>{const b=$r(["watchBlocks",t.uid,e,n,r,h,u]);return al(b,{onBlock:i,onError:s},v=>Fp(async()=>{try{const E=await We(t,Ka,"getBlock")({blockTag:e,includeTransactions:h});if(E.number!==null&&p?.number!=null){if(E.number===p.number)return;if(E.number-p.number>1&&n)for(let O=p?.number+1n;O<E.number;O++){const k=await We(t,Ka,"getBlock")({blockNumber:O,includeTransactions:h});v.onBlock(k,p),p=k}}(p?.number==null||e==="pending"&&E?.number==null||E.number!==null&&E.number>p.number)&&(v.onBlock(E,p),p=E)}catch(E){v.onError?.(E)}},{emitOnBegin:r,interval:u}))})():(()=>{let b=!0,v=!0,E=()=>b=!1;return(async()=>{try{r&&We(t,Ka,"getBlock")({blockTag:e,includeTransactions:h}).then(S=>{b&&v&&(i(S,void 0),v=!1)}).catch(s);const O=(()=>{if(t.transport.type==="fallback"){const S=t.transport.transports.find(A=>A.config.type==="webSocket"||A.config.type==="ipc");return S?S.value:t.transport}return t.transport})(),{unsubscribe:k}=await O.subscribe({params:["newHeads"],async onData(S){if(!b)return;const A=await We(t,Ka,"getBlock")({blockNumber:S.result?.number,includeTransactions:h}).catch(()=>{});b&&(i(A,p),v=!1,p=A)},onError(S){s?.(S)}});E=k,b||E()}catch(O){s?.(O)}})(),()=>E()})()}function Dse(t,{address:e,args:n,batch:r=!0,event:i,events:s,fromBlock:a,onError:c,onLogs:u,poll:d,pollingInterval:h=t.pollingInterval,strict:p}){const m=typeof d<"u"?d:typeof a=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),g=p??!1;return m?(()=>{const E=$r(["watchEvent",e,n,r,t.uid,i,h,a]);return al(E,{onLogs:u,onError:c},O=>{let k;a!==void 0&&(k=a-1n);let S,A=!1;const C=Fp(async()=>{if(!A){try{S=await We(t,A7,"createEventFilter")({address:e,args:n,event:i,events:s,strict:g,fromBlock:a})}catch{}A=!0;return}try{let I;if(S)I=await We(t,F_,"getFilterChanges")({filter:S});else{const N=await We(t,X0,"getBlockNumber")({});k&&k!==N?I=await We(t,yI,"getLogs")({address:e,args:n,event:i,events:s,fromBlock:k+1n,toBlock:N}):I=[],k=N}if(I.length===0)return;if(r)O.onLogs(I);else for(const N of I)O.onLogs([N])}catch(I){S&&I instanceof Ou&&(A=!1),O.onError?.(I)}},{emitOnBegin:!0,interval:h});return async()=>{S&&await We(t,q_,"uninstallFilter")({filter:S}),C()}})})():(()=>{let E=!0,O=()=>E=!1;return(async()=>{try{const k=(()=>{if(t.transport.type==="fallback"){const I=t.transport.transports.find(N=>N.config.type==="webSocket"||N.config.type==="ipc");return I?I.value:t.transport}return t.transport})(),S=s??(i?[i]:void 0);let A=[];S&&(A=[S.flatMap(N=>j0({abi:[N],eventName:N.name,args:n}))],i&&(A=A[0]));const{unsubscribe:C}=await k.subscribe({params:["logs",{address:e,topics:A}],onData(I){if(!E)return;const N=I.result;try{const{eventName:z,args:L}=f1({abi:S??[],data:N.data,topics:N.topics,strict:g}),B=zo(N,{args:L,eventName:z});u([B])}catch(z){let L,B;if(z instanceof d1||z instanceof K3){if(p)return;L=z.abiItem.name,B=z.abiItem.inputs?.some(D=>!("name"in D&&D.name))}const H=zo(N,{args:B?[]:{},eventName:L});u([H])}},onError(I){c?.(I)}});O=C,E||O()}catch(k){c?.(k)}})(),()=>O()})()}function Mse(t,{batch:e=!0,onError:n,onTransactions:r,poll:i,pollingInterval:s=t.pollingInterval}){return(typeof i<"u"?i:t.transport.type!=="webSocket"&&t.transport.type!=="ipc")?(()=>{const d=$r(["watchPendingTransactions",t.uid,e,s]);return al(d,{onTransactions:r,onError:n},h=>{let p;const m=Fp(async()=>{try{if(!p)try{p=await We(t,S7,"createPendingTransactionFilter")({});return}catch(b){throw m(),b}const g=await We(t,F_,"getFilterChanges")({filter:p});if(g.length===0)return;if(e)h.onTransactions(g);else for(const b of g)h.onTransactions([b])}catch(g){h.onError?.(g)}},{emitOnBegin:!0,interval:s});return async()=>{p&&await We(t,q_,"uninstallFilter")({filter:p}),m()}})})():(()=>{let d=!0,h=()=>d=!1;return(async()=>{try{const{unsubscribe:p}=await t.transport.subscribe({params:["newPendingTransactions"],onData(m){if(!d)return;const g=m.result;r([g])},onError(m){n?.(m)}});h=p,d||h()}catch(p){n?.(p)}})(),()=>h()})()}function Use(t){const{scheme:e,statement:n,...r}=t.match(Bse)?.groups??{},{chainId:i,expirationTime:s,issuedAt:a,notBefore:c,requestId:u,...d}=t.match(Lse)?.groups??{},h=t.split("Resources:")[1]?.split(`
- `).slice(1);return{...r,...d,...i?{chainId:Number(i)}:{},...s?{expirationTime:new Date(s)}:{},...a?{issuedAt:new Date(a)}:{},...c?{notBefore:new Date(c)}:{},...u?{requestId:u}:{},...h?{resources:h}:{},...e?{scheme:e}:{},...n?{statement:n}:{}}}const Bse=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,Lse=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function jse(t){const{address:e,domain:n,message:r,nonce:i,scheme:s,time:a=new Date}=t;if(n&&r.domain!==n||i&&r.nonce!==i||s&&r.scheme!==s||r.expirationTime&&a>=r.expirationTime||r.notBefore&&a<r.notBefore)return!1;try{if(!r.address||!$n(r.address,{strict:!1})||e&&!V0(r.address,e))return!1}catch{return!1}return!0}async function zse(t,e){const{address:n,domain:r,message:i,nonce:s,scheme:a,signature:c,time:u=new Date,...d}=e,h=Use(i);if(!h.address||!jse({address:n,domain:r,message:h,nonce:s,scheme:a,time:u}))return!1;const m=OI(i);return Z_(t,{address:h.address,hash:m,signature:c,...d})}async function LI(t,{serializedTransaction:e,throwOnReceiptRevert:n,timeout:r}){const i=await t.request({method:"eth_sendRawTransactionSync",params:r?[e,Ne(r)]:[e]},{retryCount:0}),a=(t.chain?.formatters?.transactionReceipt?.format||EI)(i);if(a.status==="reverted"&&n)throw new yL({receipt:a});return a}function b1(t){return{call:e=>z_(t,e),createAccessList:e=>E7(t,e),createBlockFilter:()=>lre(t),createContractEventFilter:e=>cL(t,e),createEventFilter:e=>A7(t,e),createPendingTransactionFilter:()=>S7(t),estimateContractGas:e=>jte(t,e),estimateGas:e=>hI(t,e),getBalance:e=>ure(t,e),getBlobBaseFee:()=>dre(t),getBlock:e=>Ka(t,e),getBlockNumber:e=>X0(t,e),getBlockTransactionCount:e=>fre(t,e),getBytecode:e=>ST(t,e),getChainId:()=>Ko(t),getCode:e=>ST(t,e),getContractEvents:e=>BL(t,e),getEip712Domain:e=>pre(t,e),getEnsAddress:e=>Gne(t,e),getEnsAvatar:e=>are(t,e),getEnsName:e=>ore(t,e),getEnsResolver:e=>cre(t,e),getEnsText:e=>_7(t,e),getFeeHistory:e=>gre(t,e),estimateFeesPerGas:e=>Ite(t,e),getFilterChanges:e=>F_(t,e),getFilterLogs:e=>bre(t,e),getGasPrice:()=>aI(t),getLogs:e=>yI(t,e),getProof:e=>dse(t,e),estimateMaxPriorityFeePerGas:e=>Tte(t,e),fillTransaction:e=>dI(t,e),getStorageAt:e=>fse(t,e),getTransaction:e=>BI(t,e),getTransactionConfirmations:e=>hse(t,e),getTransactionCount:e=>oI(t,e),getTransactionReceipt:e=>Mv(t,e),multicall:e=>pse(t,e),prepareTransactionRequest:e=>jp(t,e),readContract:e=>io(t,e),sendRawTransaction:e=>W_(t,e),sendRawTransactionSync:e=>LI(t,e),simulate:e=>$T(t,e),simulateBlocks:e=>$T(t,e),simulateCalls:e=>Sse(t,e),simulateContract:e=>Rne(t,e),verifyHash:e=>Z_(t,e),verifyMessage:e=>$se(t,e),verifySiweMessage:e=>zse(t,e),verifyTypedData:e=>Nse(t,e),uninstallFilter:e=>q_(t,e),waitForTransactionReceipt:e=>oj(t,e),watchBlocks:e=>Pse(t,e),watchBlockNumber:e=>aj(t,e),watchContractEvent:e=>Bne(t,e),watchEvent:e=>Dse(t,e),watchPendingTransactions:e=>Mse(t,e)}}function jI(t){const{key:e="public",name:n="Public Client"}=t;return g7({...t,key:e,name:n,type:"publicClient"}).extend(b1)}async function Fse(t,{chain:e}){const{id:n,name:r,nativeCurrency:i,rpcUrls:s,blockExplorers:a}=e;await t.request({method:"wallet_addEthereumChain",params:[{chainId:Ne(n),chainName:r,nativeCurrency:i,rpcUrls:s.default.http,blockExplorerUrls:a?Object.values(a).map(({url:c})=>c):void 0}]},{dedupe:!0,retryCount:0})}function qse(t,e){const{abi:n,args:r,bytecode:i,...s}=e,a=j_({abi:n,args:r,bytecode:i});return Q0(t,{...s,...s.authorizationList?{to:null}:{},data:a})}async function Wse(t){return t.account?.type==="local"?[t.account.address]:(await t.request({method:"eth_accounts"},{dedupe:!0})).map(n=>B0(n))}async function Hse(t,e={}){const{account:n=t.account,chainId:r}=e,i=n?Nn(n):void 0,s=r?[i?.address,[Ne(r)]]:[i?.address],a=await t.request({method:"wallet_getCapabilities",params:s}),c={};for(const[u,d]of Object.entries(a)){c[Number(u)]={};for(let[h,p]of Object.entries(d))h==="addSubAccount"&&(h="unstable_addSubAccount"),c[Number(u)][h]=p}return typeof r=="number"?c[r]:c}async function Vse(t){return await t.request({method:"wallet_getPermissions"},{dedupe:!0})}async function cj(t,e){const{account:n=t.account,chainId:r,nonce:i}=e;if(!n)throw new Yo({docsPath:"/docs/eip7702/prepareAuthorization"});const s=Nn(n),a=(()=>{if(e.executor)return e.executor==="self"?e.executor:Nn(e.executor)})(),c={address:e.contractAddress??e.address,chainId:r,nonce:i};return typeof c.chainId>"u"&&(c.chainId=t.chain?.id??await We(t,Ko,"getChainId")({})),typeof c.nonce>"u"&&(c.nonce=await We(t,oI,"getTransactionCount")({address:s.address,blockTag:"pending"}),(a==="self"||a?.address&&V0(a.address,s.address))&&(c.nonce+=1)),c}async function Gse(t){return(await t.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>oi(n))}async function Kse(t,e){return t.request({method:"wallet_requestPermissions",params:[e]},{retryCount:0})}async function Yse(t,e){const{chain:n=t.chain}=e,r=e.timeout??Math.max((n?.blockTime??0)*3,5e3),i=await h7(t,e);return await y7(t,{...e,id:i.id,timeout:r})}const kS=new Bp(128);async function lj(t,e){const{account:n=t.account,chain:r=t.chain,accessList:i,authorizationList:s,blobs:a,data:c,gas:u,gasPrice:d,maxFeePerBlobGas:h,maxFeePerGas:p,maxPriorityFeePerGas:m,nonce:g,pollingInterval:b,throwOnReceiptRevert:v,type:E,value:O,...k}=e,S=e.timeout??Math.max((r?.blockTime??0)*3,5e3);if(typeof n>"u")throw new Yo({docsPath:"/docs/actions/wallet/sendTransactionSync"});const A=n?Nn(n):null;try{Go(e);const C=await(async()=>{if(e.to)return e.to;if(e.to!==null&&s&&s.length>0)return await N_({authorization:s[0]}).catch(()=>{throw new _e("`to` is required. Could not infer from `authorizationList`.")})})();if(A?.type==="json-rpc"||A===null){let I;r!==null&&(I=await We(t,Ko,"getChainId")({}),J0({currentChainId:I,chain:r}));const N=t.chain?.formatters?.transactionRequest?.format,L=(N||yl)({...Lp(k,{format:N}),accessList:i,account:A,authorizationList:s,blobs:a,chainId:I,data:c,gas:u,gasPrice:d,maxFeePerBlobGas:h,maxFeePerGas:p,maxPriorityFeePerGas:m,nonce:g,to:C,type:E,value:O},"sendTransaction"),B=kS.get(t.uid),H=B?"wallet_sendTransaction":"eth_sendTransaction",D=await(async()=>{try{return await t.request({method:H,params:[L]},{retryCount:0})}catch(K){if(B===!1)throw K;const T=K;if(T.name==="InvalidInputRpcError"||T.name==="InvalidParamsRpcError"||T.name==="MethodNotFoundRpcError"||T.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[L]},{retryCount:0}).then(x=>(kS.set(t.uid,!0),x)).catch(x=>{const $=x;throw $.name==="MethodNotFoundRpcError"||$.name==="MethodNotSupportedRpcError"?(kS.set(t.uid,!1),T):$});throw T}})(),F=await We(t,oj,"waitForTransactionReceipt")({checkReplacement:!1,hash:D,pollingInterval:b,timeout:S});if(v&&F.status==="reverted")throw new yL({receipt:F});return F}if(A?.type==="local"){const I=await We(t,jp,"prepareTransactionRequest")({account:A,accessList:i,authorizationList:s,blobs:a,chain:r,data:c,gas:u,gasPrice:d,maxFeePerBlobGas:h,maxFeePerGas:p,maxPriorityFeePerGas:m,nonce:g,nonceManager:A.nonceManager,parameters:[...fI,"sidecars"],type:E,value:O,...k,to:C}),N=r?.serializers?.transaction,z=await A.signTransaction(I,{serializer:N});return await We(t,LI,"sendRawTransactionSync")({serializedTransaction:z,throwOnReceiptRevert:v})}throw A?.type==="smart"?new qd({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new qd({docsPath:"/docs/actions/wallet/sendTransactionSync",type:A?.type})}catch(C){throw C instanceof qd?C:H0(C,{...e,account:A,chain:e.chain||void 0})}}async function Zse(t,e){const{id:n}=e;await t.request({method:"wallet_showCallsStatus",params:[n]})}async function Xse(t,e){const{account:n=t.account}=e;if(!n)throw new Yo({docsPath:"/docs/eip7702/signAuthorization"});const r=Nn(n);if(!r.signAuthorization)throw new qd({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:r.type});const i=await cj(t,e);return r.signAuthorization(i)}async function Jse(t,{account:e=t.account,message:n}){if(!e)throw new Yo({docsPath:"/docs/actions/wallet/signMessage"});const r=Nn(e);if(r.signMessage)return r.signMessage({message:n});const i=typeof n=="string"?lp(n):n.raw instanceof Uint8Array?xt(n.raw):n.raw;return t.request({method:"personal_sign",params:[i,r.address]},{retryCount:0})}async function uj(t,e){const{account:n=t.account,chain:r=t.chain,...i}=e;if(!n)throw new Yo({docsPath:"/docs/actions/wallet/signTransaction"});const s=Nn(n);Go({account:s,...e});const a=await We(t,Ko,"getChainId")({});r!==null&&J0({currentChainId:a,chain:r});const u=(r?.formatters||t.chain?.formatters)?.transactionRequest?.format||yl;return s.signTransaction?s.signTransaction({...i,chainId:a},{serializer:t.chain?.serializers?.transaction}):await t.request({method:"eth_signTransaction",params:[{...u({...i,account:s},"signTransaction"),chainId:Ne(a),from:s.address}]},{retryCount:0})}async function dj(t,e){const{account:n=t.account,domain:r,message:i,primaryType:s}=e;if(!n)throw new Yo({docsPath:"/docs/actions/wallet/signTypedData"});const a=Nn(n),c={EIP712Domain:T7({domain:r}),...e.types};if(x7({domain:r,message:i,primaryType:s,types:c}),a.signTypedData)return a.signTypedData({domain:r,message:i,primaryType:s,types:c});const u=zre({domain:r,message:i,primaryType:s,types:c});return t.request({method:"eth_signTypedData_v4",params:[a.address,u]},{retryCount:0})}async function Qse(t,{id:e}){await t.request({method:"wallet_switchEthereumChain",params:[{chainId:Ne(e)}]},{retryCount:0})}async function eae(t,e){return await t.request({method:"wallet_watchAsset",params:e},{retryCount:0})}async function tae(t,e){return yp.internal(t,lj,"sendTransactionSync",e)}function nae(t){return{addChain:e=>Fse(t,e),deployContract:e=>qse(t,e),fillTransaction:e=>dI(t,e),getAddresses:()=>Wse(t),getCallsStatus:e=>p7(t,e),getCapabilities:e=>Hse(t,e),getChainId:()=>Ko(t),getPermissions:()=>Vse(t),prepareAuthorization:e=>cj(t,e),prepareTransactionRequest:e=>jp(t,e),requestAddresses:()=>Gse(t),requestPermissions:e=>Kse(t,e),sendCalls:e=>h7(t,e),sendCallsSync:e=>Yse(t,e),sendRawTransaction:e=>W_(t,e),sendRawTransactionSync:e=>LI(t,e),sendTransaction:e=>Q0(t,e),sendTransactionSync:e=>lj(t,e),showCallsStatus:e=>Zse(t,e),signAuthorization:e=>Xse(t,e),signMessage:e=>Jse(t,e),signTransaction:e=>uj(t,e),signTypedData:e=>dj(t,e),switchChain:e=>Qse(t,e),waitForCallsStatus:e=>y7(t,e),watchAsset:e=>eae(t,e),writeContract:e=>yp(t,e),writeContractSync:e=>tae(t,e)}}function rae(t){const{key:e="wallet",name:n="Wallet Client",transport:r}=t;return g7({...t,key:e,name:n,transport:r,type:"walletClient"}).extend(nae)}function iae({key:t,methods:e,name:n,request:r,retryCount:i=3,retryDelay:s=150,timeout:a,type:c},u){const d=m7();return{config:{key:t,methods:e,name:n,request:r,retryCount:i,retryDelay:s,timeout:a,type:c},request:Rre(r,{methods:e,retryCount:i,retryDelay:s,uid:d}),value:u}}class sae extends _e{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function X_(t,e={}){const{batch:n,fetchFn:r,fetchOptions:i,key:s="http",methods:a,name:c="HTTP JSON-RPC",onFetchRequest:u,onFetchResponse:d,retryDelay:h,raw:p}=e;return({chain:m,retryCount:g,timeout:b})=>{const{batchSize:v=1e3,wait:E=0}=typeof n=="object"?n:{},O=e.retryCount??g,k=b??e.timeout??1e4,S=t||m?.rpcUrls.default.http[0];if(!S)throw new sae;const A=Dre(S,{fetchFn:r,fetchOptions:i,onRequest:u,onResponse:d,timeout:k});return iae({key:s,methods:a,name:c,async request({method:C,params:I}){const N={method:C,params:I},{schedule:z}=o7({id:S,wait:E,shouldSplitBatch(D){return D.length>v},fn:D=>A.request({body:D}),sort:(D,F)=>D.id-F.id}),L=async D=>n?z(D):[await A.request({body:D})],[{error:B,result:H}]=await L(N);if(p)return{error:B,result:H};if(B)throw new nI({body:N,error:B,url:S});return H},retryCount:O,retryDelay:h,timeout:k,type:"http"},{fetchOptions:i,url:S})}}const E$=(t,e,n,r)=>{let i=Number(t),s=e.find((a=>a.id===i));if(!s)throw new SB(`Unsupported chainId ${t}`,4901);return jI({transport:X_(aae(s,n,r.appId)),chain:s})},aae=(t,e,n)=>{let r,i=t.id,s=Number(t.id);if(t.rpcUrls.privyWalletOverride&&t.rpcUrls.privyWalletOverride.http[0])r=t.rpcUrls.privyWalletOverride.http[0];else if(e.rpcUrls&&e.rpcUrls[s])r=e.rpcUrls[s];else if(t.rpcUrls.privy?.http[0]){let a=new URL(t.rpcUrls.privy.http[0]);a.searchParams.append("privyAppId",n),r=a.toString()}else r=t.rpcUrls.public?.http[0]?t.rpcUrls.public.http[0]:t.rpcUrls.default?.http[0];if(!r)throw new SB(`No RPC url found for ${i}`);return r};function oae({currentRecoveryMethod:t,upgradeToRecoveryMethod:e}){switch(t){case"privy":case"user-passcode":case"recovery-encryption-key":return!0;case"icloud":case"google-drive":if(t===e)throw Error("Cannot upgrade to the existing cloud platform");return!0;default:throw Error("Unknown recovery method")}}function cae(t){return new Promise((e=>{setTimeout((()=>{e()}),t)}))}let lae=class{enqueue(e,n){this.callbacks[e]=n}dequeue(e,n){let r=this.callbacks[n];if(!r)throw Error(`cannot dequeue ${e} event: no event found for id ${n}`);switch(delete this.callbacks[n],e){case"privy:iframe:ready":case"privy:wallets:create":case"privy:user-signer:sign":case"privy:wallets:add":case"privy:wallets:set-recovery":case"privy:wallets:connect":case"privy:wallets:recover":case"privy:wallets:rpc":case"privy:wallet:create":case"privy:wallet:connect":case"privy:wallet:recover":case"privy:wallet:rpc":case"privy:solana-wallet:create":case"privy:solana-wallet:create-additional":case"privy:solana-wallet:connect":case"privy:solana-wallet:recover":case"privy:solana-wallet:rpc":case"privy:delegated-actions:consent":case"privy:mfa:verify":case"privy:mfa:init-enrollment":case"privy:mfa:submit-enrollment":case"privy:mfa:unenroll":case"privy:mfa:clear":return r;default:throw Error(`invalid wallet event type ${e}`)}}constructor(){this.callbacks={}}};async function uae(t,e,n,r,i=!1,s,a){let c=i,u=async h=>{if(c){h===(i?0:1)?r():n.current?.reject(new Dv("missing_or_invalid_mfa","MFA verification failed, retry."));let p=await new Promise(((m,g)=>{e.current={resolve:m,reject:g},setTimeout((()=>{let b=new Dv("mfa_timeout","Timed out waiting for MFA code");n.current?.reject(b),g(b)}),a)}));return await t(p)}return await t()},d=null;for(let h=0;h<s;h++)try{d=await u(h),n.current?.resolve(void 0);break}catch(p){if(p.type!=="missing_or_invalid_mfa")throw n.current?.resolve(void 0),p;c=!0}if(d===null){let h=new Dv("mfa_verification_max_attempts_reached","Max MFA verification attempts reached");throw n.current?.reject(h),h}return d}var A$;let dae=(A$=0,()=>"id-"+A$++),fae=(t,e)=>typeof e=="bigint"?e.toString():e,Hl=async(t,{ms:e,msg:n})=>{let r,i=new Promise(((s,a)=>{r=setTimeout((()=>{a(Error(n))}),e??15e3)}));try{return await Promise.race([t,i])}finally{r!==void 0&&clearTimeout(r)}},S$=new lae,x$=class{invokeWithMfa(e,n){return Hl(uae((r=>Hl(this.waitForReady().then((()=>e(r))),{msg:n.timeoutMsg,ms:n.timeoutMs})),this.mfa.rootPromise,this.mfa.submitPromise,(()=>this.mfa.emit("mfaRequired")),n.mfaAlwaysRequired??!1,4,3e5),{msg:"Operation reached timeout: MFA verification",ms:126e4})}reload(){return this.ready=!1,this._embeddedWalletMessagePoster.reload()}ping(e=15e3){return Hl(this.invoke("privy:iframe:ready",{}),{msg:"Ping reached timeout",ms:e})}create(e){return Hl(this.waitForReady().then((()=>this.invoke("privy:wallet:create",e))),{msg:"Operation reached timeout: create"})}rpc(e){return this.invokeWithMfa((n=>this.invoke("privy:wallet:rpc",{...n,...e})),{timeoutMsg:"Operation reached timeout: rpc"})}createSolana(e){return this.invokeWithMfa((n=>this.invoke("privy:solana-wallet:create",{...n,...e})),{timeoutMsg:"Operation reached timeout: create",timeoutMs:6e4})}createAdditionalSolana(e){return Hl(this.waitForReady().then((()=>this.invoke("privy:solana-wallet:create-additional",e))),{msg:"Operation reached timeout: create"})}solanaRpc(e){return this.invokeWithMfa((n=>this.invoke("privy:solana-wallet:rpc",{...n,...e})),{timeoutMsg:"Operation reached timeout: solana-rpc"})}delegateWallets(e){return this.invokeWithMfa((n=>this.invoke("privy:delegated-actions:consent",{...n,...e})),{timeoutMsg:"Operation reached timeout: delegated-actions:consent"})}verifyMfa(e){return this.invokeWithMfa((n=>this.invoke("privy:mfa:verify",{...n,...e})),{timeoutMsg:"Operation reached timeout: mfa:verify",mfaAlwaysRequired:!0})}initEnrollMfa(e){return this.invokeWithMfa((n=>this.invoke("privy:mfa:init-enrollment",{...n,...e})),{timeoutMsg:"Operation reached timeout: mfa:init-enrollment"})}submitEnrollMfa(e){return this.invokeWithMfa((n=>this.invoke("privy:mfa:submit-enrollment",{...n,...e})),{timeoutMsg:"Operation reached timeout: mfa:submit-enrollment"})}unenrollMfa(e){return this.invokeWithMfa((n=>this.invoke("privy:mfa:unenroll",{...n,...e})),{timeoutMsg:"Operation reached timeout: mfa:unenroll",mfaAlwaysRequired:!0})}clearMfa(e){return Hl(this.waitForReady().then((()=>this.invoke("privy:mfa:clear",e))),{msg:"Operation reached timeout: mfa:clear"})}createWallet(e){return this.invokeWithMfa((n=>this.invoke("privy:wallets:create",{...n,...e})),{timeoutMsg:"Operation reached timeout: create",timeoutMs:6e4})}signWithUserSigner(e){return this.invokeWithMfa((n=>this.invoke("privy:user-signer:sign",{...n,...e})),{timeoutMsg:"Operation reached timeout: user-signer:sign"})}addWallet(e){return Hl(this.waitForReady().then((()=>this.invoke("privy:wallets:add",e))),{msg:"Operation reached timeout: wallets:add"})}setRecovery(e){return this.invokeWithMfa((n=>this.invoke("privy:wallets:set-recovery",{...n,...e})),{timeoutMsg:"Operation reached timeout: wallets:set-recovery",timeoutMs:6e4})}connect(e){return Hl(this.waitForReady().then((()=>this.invoke("privy:wallets:connect",e))),{msg:"Operation reached timeout: wallets:connect"})}recover(e){return this.invokeWithMfa((n=>this.invoke("privy:wallets:recover",{...n,...e})),{timeoutMsg:"Operation reached timeout: wallets:recover",timeoutMs:6e4})}rpcWallet(e){return this.invokeWithMfa((n=>this.invoke("privy:wallets:rpc",{...n,...e})),{timeoutMsg:"Operation reached timeout: wallets:rpc"})}handleEmbeddedWalletMessages(e){if(!e.event.startsWith("privy:"))return void console.warn(`Unsupported event type: ${e.event}`);let{reject:n,resolve:r}=S$.dequeue(e.event,e.id);return e.error!==void 0?n(new Dv(e.error.type,e.error.message)):r(e.data)}waitForReady(){return this.ready?Promise.resolve():new Promise((async(e,n)=>{for(;!this.ready;)this.invoke("privy:iframe:ready",{}).then((()=>{this.ready=!0,e()})).catch(n),await cae(150)}))}invoke(e,n){let r=((s,a)=>`${s}${JSON.stringify(a,fae)}`)(e,n);if(e==="privy:wallet:create"||e==="privy:solana-wallet:create"){let s=this.cache.get(r);if(s)return s}let i=new Promise(((s,a)=>{let c=dae();S$.enqueue(c,{resolve:s,reject:a}),this._embeddedWalletMessagePoster.postMessage(JSON.stringify({id:c,event:e,data:n}),"*")})).finally((()=>{this.cache.delete(r)}));return this.cache.set(r,i),i}constructor(e,n){this.ready=!1,this.cache=new Map,this._embeddedWalletMessagePoster=e,this.mfa=n}};var RS={exports:{}},T$;function hae(){return T$||(T$=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,d,h){this.fn=u,this.context=d,this.once=h||!1}function s(u,d,h,p,m){if(typeof h!="function")throw new TypeError("The listener must be a function");var g=new i(h,p||u,m),b=n?n+d:d;return u._events[b]?u._events[b].fn?u._events[b]=[u._events[b],g]:u._events[b].push(g):(u._events[b]=g,u._eventsCount++),u}function a(u,d){--u._eventsCount===0?u._events=new r:delete u._events[d]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var d=[],h,p;if(this._eventsCount===0)return d;for(p in h=this._events)e.call(h,p)&&d.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},c.prototype.listeners=function(d){var h=n?n+d:d,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var m=0,g=p.length,b=new Array(g);m<g;m++)b[m]=p[m].fn;return b},c.prototype.listenerCount=function(d){var h=n?n+d:d,p=this._events[h];return p?p.fn?1:p.length:0},c.prototype.emit=function(d,h,p,m,g,b){var v=n?n+d:d;if(!this._events[v])return!1;var E=this._events[v],O=arguments.length,k,S;if(E.fn){switch(E.once&&this.removeListener(d,E.fn,void 0,!0),O){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,h),!0;case 3:return E.fn.call(E.context,h,p),!0;case 4:return E.fn.call(E.context,h,p,m),!0;case 5:return E.fn.call(E.context,h,p,m,g),!0;case 6:return E.fn.call(E.context,h,p,m,g,b),!0}for(S=1,k=new Array(O-1);S<O;S++)k[S-1]=arguments[S];E.fn.apply(E.context,k)}else{var A=E.length,C;for(S=0;S<A;S++)switch(E[S].once&&this.removeListener(d,E[S].fn,void 0,!0),O){case 1:E[S].fn.call(E[S].context);break;case 2:E[S].fn.call(E[S].context,h);break;case 3:E[S].fn.call(E[S].context,h,p);break;case 4:E[S].fn.call(E[S].context,h,p,m);break;default:if(!k)for(C=1,k=new Array(O-1);C<O;C++)k[C-1]=arguments[C];E[S].fn.apply(E[S].context,k)}}return!0},c.prototype.on=function(d,h,p){return s(this,d,h,p,!1)},c.prototype.once=function(d,h,p){return s(this,d,h,p,!0)},c.prototype.removeListener=function(d,h,p,m){var g=n?n+d:d;if(!this._events[g])return this;if(!h)return a(this,g),this;var b=this._events[g];if(b.fn)b.fn===h&&(!m||b.once)&&(!p||b.context===p)&&a(this,g);else{for(var v=0,E=[],O=b.length;v<O;v++)(b[v].fn!==h||m&&!b[v].once||p&&b[v].context!==p)&&E.push(b[v]);E.length?this._events[g]=E.length===1?E[0]:E:a(this,g)}return this},c.prototype.removeAllListeners=function(d){var h;return d?(h=n?n+d:d,this._events[h]&&a(this,h)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c})(RS)),RS.exports}var pae=hae();const Uu=Du(pae);let $S={0:"legacy",1:"eip2930",2:"eip1559",3:"eip4844",4:"eip7702"};const fj={legacy:0,eip2930:1,eip1559:2,eip4844:3,eip7702:4};let yh=t=>t!==void 0?BigInt(t):void 0;function w1(t){let e,{type:n=2,...r}=typeof t=="string"?JSON.parse(t):t;r.accessList&&Array.isArray(r.accessList)?e=r.accessList.map((d=>Array.isArray(d)?{address:d[0],storageKeys:d[1]}:d)):r.accessList&&(e=Object.entries(r.accessList).map((d=>({address:d[0],storageKeys:d[1]}))));let i=Number(r.chainId??1),s=Ri(r.data)?r.data:r.data?xt(Uint8Array.from(r.data)):void 0,a=r.nonce?Number(r.nonce):void 0,c={chainId:i,data:s,nonce:a,value:yh(r.value),gas:yh(r.gas??r.gasLimit)},u=Number(n);if(u===0)return{...r,type:$S[u],...c,gasPrice:yh(r.gasPrice),accessList:void 0,maxFeePerGas:void 0,maxPriorityFeePerGas:void 0};if(u===1)return{...r,type:$S[u],...c,gasPrice:yh(r.gasPrice),accessList:e,maxFeePerGas:void 0,maxPriorityFeePerGas:void 0};if(u===2)return{...r,type:$S[u],...c,nonce:a,accessList:e,maxFeePerGas:yh(r.maxFeePerGas),maxPriorityFeePerGas:yh(r.maxPriorityFeePerGas),gasPrice:void 0,maxFeePerBlobGas:void 0};throw Error(`Unsupported transaction type: ${n}`)}const v1=t=>/^0x[0-9a-fA-F]*$/.test(t),_1=t=>Buffer.from(t,"utf8"),l0=t=>`0x${t.toString("hex")}`;var NS,I$;function yae(){return I$||(I$=1,NS=function t(e){if(typeof e=="number"&&isNaN(e))throw new Error("NaN is not allowed");if(typeof e=="number"&&!isFinite(e))throw new Error("Infinity is not allowed");return e===null||typeof e!="object"?JSON.stringify(e):e.toJSON instanceof Function?t(e.toJSON()):Array.isArray(e)?`[${e.reduce((i,s,a)=>`${i}${a===0?"":","}${t(s===void 0||typeof s=="symbol"?null:s)}`,"")}]`:`{${Object.keys(e).sort().reduce((r,i)=>{if(e[i]===void 0||typeof e[i]=="symbol")return r;const s=r.length===0?"":",";return`${r}${s}${t(i)}:${t(e[i])}`},"")}}`}),NS}var mae=yae();const gae=Du(mae);async function bae(t,e){let n=gae(e);if(n===void 0)throw new nn({error:"Failed to prepare the payload for signing",code:"invalid_input"});let r=Buffer.from(n).toString("base64"),{signature:i}=await t({message:r});return{signature:i}}async function Ps(t,e,{wallet_id:n,...r}){let i={version:1,url:t.getCompiledPath(iS,{params:{wallet_id:n}}),method:iS.method,headers:{"privy-app-id":t.app.appId},body:{...r}},{signature:s}=await bae(e,i);return await t.fetchPrivyRoute(iS,{body:r,params:{wallet_id:n},headers:{"privy-authorization-signature":s}})}function wae(t){return{from:t.from,to:t.to??void 0,nonce:ld(t.nonce),chain_id:ld(t.chainId),data:(function(e){if(e!==void 0)return typeof e=="string"?v1(e)?e:l0(_1(e)):l0(Buffer.from(Uint8Array.from(e)))})(t.data),value:ld(t.value),type:t.type,gas_limit:ld(t.gasLimit),gas_price:ld(t.gasPrice),max_fee_per_gas:ld(t.maxFeePerGas),max_priority_fee_per_gas:ld(t.maxPriorityFeePerGas)}}function ld(t){if(typeof t=="number"||typeof t=="bigint")return`0x${BigInt(t).toString(16)}`;if(typeof t=="string")return v1(t)?t:l0(_1(t))}function vae(t){return typeof t=="string"&&(t=JSON.parse(t)),{types:t.types,primary_type:String(t.primaryType),domain:t.domain,message:t.message}}async function hj({context:t,account:e,rpcRequest:n}){switch(n.chainType){case"ethereum":return(async function({context:r,account:i,rpcRequest:s}){switch(s.method){case"personal_sign":{let[a]=s.params,c=await Ps(r,r.signRequest,{chain_type:"ethereum",method:"personal_sign",wallet_id:i.id,params:a.startsWith("0x")?{message:a.slice(2),encoding:"hex"}:{message:a,encoding:"utf-8"}});if(c.method!=="personal_sign")throw Error("Unable to sign message");return{data:c.data.signature}}case"eth_signTransaction":{let[a]=s.params,c=await Ps(r,r.signRequest,{chain_type:"ethereum",method:"eth_signTransaction",wallet_id:i.id,params:{transaction:wae(a)}});if(c.method!=="eth_signTransaction")throw Error("Unable to sign transaction");return{data:c.data.signed_transaction}}case"eth_signTypedData_v4":{let[,a]=s.params,c=await Ps(r,r.signRequest,{chain_type:"ethereum",method:s.method,wallet_id:i.id,params:{typed_data:vae(a)}});if(c.method!=="eth_signTypedData_v4")throw Error("Unable to sign typed data");return{data:c.data.signature}}case"eth_sign":{let[,a]=s.params,c=await Ps(r,r.signRequest,{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:i.id,params:{hash:v1(a)?a:l0(_1(a))}});if(c.method!=="secp256k1_sign")throw Error("Unable to sign message");return{data:c.data.signature}}case"secp256k1_sign":{let[a]=s.params,c=await Ps(r,r.signRequest,{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:i.id,params:{hash:v1(a)?a:l0(_1(a))}});if(c.method!=="secp256k1_sign")throw Error("Unable to sign message");return{data:c.data.signature}}case"csw_signUserOperation":case"eth_sendTransaction":case"eth_populateTransactionRequest":throw Error(`This wallet does not support the method: ${s.method}`)}})({context:t,account:e,rpcRequest:n.request});case"solana":return(async function({context:r,account:i,rpcRequest:s}){if(s.method==="signMessage"){let{message:a}=s.params,c=await Ps(r,r.signRequest,{chain_type:"solana",method:"signMessage",wallet_id:i.id,params:{message:a,encoding:"base64"}});if(c.method!=="signMessage")throw Error("Unable to sign message");return{data:c.data.signature}}})({context:t,account:e,rpcRequest:n.request})}}let _ae=new Set(["eth_sign","personal_sign","eth_signTypedData_v4","csw_signUserOperation","secp256k1_sign"]),PS=class extends Uu{async request(e){if(_ae.has(e.method))return this.handleIFrameRpc(e);switch(e.method){case"eth_accounts":case"eth_requestAccounts":return this._account.address?[this._account.address]:[];case"eth_chainId":return`0x${this._chainId.toString(16)}`;case"wallet_switchEthereumChain":return this.handleSwitchEthereumChain(e);case"eth_estimateGas":return this.handleEstimateGas(e);case"eth_signTransaction":{let n=e.params?.[0];return this.handleSignTransaction(n)}case"eth_sendTransaction":{let n=e.params?.[0];return this.handleSendTransaction(n)}case"eth_populateTransactionRequest":{let n=e.params?.[0];return this.handlePopulateTransaction(n)}default:return this.handleJsonRpc(e)}}ensureChainId(e){let n={chainId:this._chainId,...e};return this.internalSwitchEthereumChain(n.chainId),n}internalSwitchEthereumChain(e){e&&Number(e)!==this._chainId&&(this._chainId=Number(e),this._client=E$(this._chainId,this._chains,{rpcUrls:[]},{appId:this._privyInternal.appId}),this.emit("chainChanged",e))}async handlePopulateTransaction(e){let n=this.ensureChainId(e),r=w1(n),{type:i,...s}=await this._client.prepareTransactionRequest({account:n.from??this._account.address,...r});return{...s,type:fj[i]}}async handleSignTransaction(e){let n={...e};for(let r of Object.keys(n)){let i=n[r];i&&typeof i=="bigint"&&(n[r]=xt(i))}return await this.handleIFrameRpc({method:"eth_signTransaction",params:[n]})}async handleSendTransaction(e){let n=await this.handlePopulateTransaction(e),r=await this.handleSignTransaction(n);return await this.handleJsonRpc({method:"eth_sendRawTransaction",params:[r]})}async handleEstimateGas(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_estimateGas");let n=e.params?.[0],r=this.ensureChainId(n),i=w1(r);return await this._client.estimateGas({account:r.from??this._account.address,...i})}handleSwitchEthereumChain(e){let n;if(!e.params||!Array.isArray(e.params))throw new x4(`Invalid params for ${e.method}`,4200);if(typeof e.params[0]=="string")n=e.params[0];else{if(!("chainId"in e.params[0])||typeof e.params[0].chainId!="string")throw new x4(`Invalid params for ${e.method}`,4200);n=e.params[0].chainId}this.internalSwitchEthereumChain(n)}async handleIFrameRpc(e){try{let n=await this._privyInternal.getAccessTokenInternal();if(!n)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address});let r=this._account;if(pu(r)){let{data:i}=await hj({context:{app:this._appApi,fetchPrivyRoute:(...s)=>this._privyInternal.fetch(...s),getCompiledPath:(...s)=>this._privyInternal.getPath(...s),signRequest:({message:s})=>this._walletProxy.signWithUserSigner({accessToken:n,message:s})},account:r,rpcRequest:{chainType:"ethereum",request:e}});return i}try{await this._walletProxy.connect({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:n})}catch(i){let s=V3(i);if(s&&this._account.recovery_method==="privy")await this._walletProxy.recover({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:n});else{if(!s||!this._onNeedsRecovery)throw i;{let a;await new Promise((async(c,u)=>{a=setTimeout((()=>u(new nn({code:"embedded_wallet_recovery_error",error:"User-owned recovery timed out"}))),12e4),await this._onNeedsRecovery?.({recoveryMethod:this._account.recovery_method,onRecovered:()=>c(!0)})})).finally((()=>clearTimeout(a)))}}}return(await this._walletProxy.rpcWallet({accessToken:n,request:e,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,hdWalletIndex:this._account.wallet_index,chainType:"ethereum"})).response.data}catch(n){console.error(n);let r=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:r}),new nn({code:"embedded_wallet_request_error",error:r})}}async handleJsonRpc(e){return this._client.request(e)}toJSON(){return`PrivyEIP1193Provider { address: '${this._account.address}', chainId: ${this._chainId}, request: [Function] }`}constructor({walletProxy:e,privyInternal:n,account:r,entropyId:i,entropyIdVerifier:s,chains:a,onNeedsRecovery:c,chainId:u=a[0].id,appApi:d}){super(),this._walletProxy=e,this._privyInternal=n,this._account=r,this._entropyId=i,this._entropyIdVerifier=s,this._chainId=u,this._chains=a,this._onNeedsRecovery=c,this._client=E$(u,a,{rpcUrls:[]},{appId:d.appId}),this._appApi=d}};function DT(t){return"version"in t}function C$(t,e){let n=(DT(t)?t.message:t.compileMessage()).staticAccountKeys.find((r=>r.toBase58()===e));if(!n)throw Error(`Transaction does not contain public key ${e}`);return n}let Eae=class{async request(e){if(!await this._privyInternal.getAccessTokenInternal())throw new nn({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});switch(e.method){case"signAndSendTransaction":return await this.handleSignAndSendTransaction(e);case"signTransaction":return await this.handleSignTransaction(e);default:return await this.handleIFrameRpc(e)}}get _publicKey(){return this._account.address}async connectAndRecover(e){if(this._account.recovery_method!=="privy-v2")try{await this._proxy.connect({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:e})}catch(n){let r=V3(n);if(r&&this._account.recovery_method==="privy")await this._proxy.recover({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:e});else{if(!r||!this._onNeedsRecovery)throw n;{let i;await new Promise((async(s,a)=>{i=setTimeout((()=>a(new nn({code:"embedded_wallet_recovery_error",error:"User-owned recovery timed out"}))),12e4),await this._onNeedsRecovery?.({recoveryMethod:this._account.recovery_method,onRecovered:()=>s(!0)})})).finally((()=>clearTimeout(i)))}}}}async signMessageRpc(e,n){let r=this._account;if(!pu(r))return(await this._proxy.rpcWallet({accessToken:n,request:e,chainType:"solana",hdWalletIndex:this._account.wallet_index,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier})).response.data;{let{data:i}=await hj({context:{app:this._app,fetchPrivyRoute:(...s)=>this._privyInternal.fetch(...s),getCompiledPath:(...s)=>this._privyInternal.getPath(...s),signRequest:({message:s})=>this._proxy.signWithUserSigner({accessToken:n,message:s})},account:r,rpcRequest:{chainType:"solana",request:e}});return{signature:i}}}async handleIFrameRpc(e){try{let n=await this._privyInternal.getAccessTokenInternal();if(!n)throw Error("Missing privy token. User must be logged in");return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(n),await this.signMessageRpc(e,n)}catch(n){console.error(n);let r=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:r}),new nn({code:"embedded_wallet_request_error",error:r})}}async handleSignAndSendTransaction(e){try{let n=await this._privyInternal.getAccessTokenInternal();if(!n)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(n);let{transaction:r,connection:i,options:s}=e.params,a=C$(r,this._account.address),c=DT(r)?Buffer.from(r.message.serialize()):r.serializeMessage(),{signature:u}=await this.signMessageRpc({method:"signMessage",params:{message:c.toString("base64")}},n);return r.addSignature(a,Buffer.from(u,"base64")),{signature:await i.sendRawTransaction(r.serialize(),s)}}catch(n){console.error(n);let r=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:r}),new nn({code:"embedded_wallet_request_error",error:r})}}async handleSignTransaction(e){try{let n=await this._privyInternal.getAccessTokenInternal();if(!n)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(n);let{transaction:r}=e.params,i=C$(r,this._account.address),s=DT(r)?Buffer.from(r.message.serialize()):r.serializeMessage(),{signature:a}=await this.signMessageRpc({method:"signMessage",params:{message:s.toString("base64")}},n);return r.addSignature(i,Buffer.from(a,"base64")),{signedTransaction:r}}catch(n){console.error(n);let r=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.wallet_index,error:r}),new nn({code:"embedded_wallet_request_error",error:r})}}toJSON(){return`PrivyEmbeddedSolanaProvider { address: '${this._account.address}', request: [Function] }`}constructor({proxy:e,privyInternal:n,account:r,entropyId:i,entropyIdVerifier:s,onNeedsRecovery:a,app:c}){this._proxy=e,this._privyInternal=n,this._account=r,this._entropyId=i,this._entropyIdVerifier=s,this._onNeedsRecovery=a,this._app=c}},Aae=class{setMessagePoster(e){this._proxy=new x$(e,this._mfaPromises),this._mfa.setProxy(this._proxy)}async signWithUserSigner(e){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");let n=await this._privyInternal.getAccessTokenInternal();if(!n)throw new nn({error:"User must be logged in to sign a message with the user signer",code:"user_signer_sign_error"});let{signature:r}=await this._proxy.signWithUserSigner({accessToken:n,message:e.message});return{signature:r}}async add(e){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(this._privyInternal.config?.embedded_wallet_config.mode==="user-controlled-server-wallets-only")await aS({context:{app:this._appApi,fetchPrivyRoute:(...r)=>this._privyInternal.fetch(...r),getCompiledPath:(...r)=>this._privyInternal.getPath(...r)},chainType:e.chainType});else{let r=await this._privyInternal.getAccessTokenInternal();if(!r)throw new nn({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});await this._proxy.addWallet({accessToken:r,...e})}let{user:n}=await this._privyInternal.refreshSession();return{user:n}}async getBitcoinProvider({wallet:e,entropyId:n,entropyIdVerifier:r,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:a}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(!await this._privyInternal.getAccessTokenInternal())throw Error("User must be logged in to create an embedded wallet");return pu(e)||await this._load({entropyId:n,entropyIdVerifier:r,wallet:e,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:a}),new DJ({account:e,privyInternal:this._privyInternal,proxy:this._proxy,entropyId:n,entropyIdVerifier:r})}async create({password:e,recoveryMethod:n,recoveryToken:r,recoveryKey:i,recoverySecretOverride:s,iCloudRecordNameOverride:a,solanaAccount:c,skipCallbacks:u}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(this._privyInternal.config?.embedded_wallet_config.mode==="user-controlled-server-wallets-only"){if(n&&!n.startsWith("privy"))throw new nn({error:"User-controlled server wallets do not support custom recovery methods",code:"embedded_wallet_creation_error"});await aS({context:{app:this._appApi,fetchPrivyRoute:(...d)=>this._privyInternal.fetch(...d),getCompiledPath:(...d)=>this._privyInternal.getPath(...d)},chainType:"ethereum"})}else{let d;if(d=n||(e?"user-passcode":"privy"),e&&typeof e!="string")throw Error("Invalid recovery password, must be a string");if(d==="privy"&&this._privyInternal.config?.embedded_wallet_config.require_user_password_on_create)throw Error("Password not provided yet is required by App configuration");let h=await this._privyInternal.getAccessTokenInternal();if(!h)throw Error("User must be logged in to create an embedded wallet");let{address:p}=await this._proxy.create({accessToken:h,recoveryMethod:d,recoveryKey:i,recoveryPassword:e,recoveryAccessToken:r,recoverySecretOverride:s,iCloudRecordNameOverride:a,solanaAddress:c?.address});if(!p)throw Error("Failed to create wallet")}return await this._privyInternal.refreshSession(u)}async createSolana(e){if(!this._proxy)throw new nn({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_creation_error"});if(this._privyInternal.config?.embedded_wallet_config.mode==="user-controlled-server-wallets-only")await aS({context:{app:this._appApi,fetchPrivyRoute:(...n)=>this._privyInternal.fetch(...n),getCompiledPath:(...n)=>this._privyInternal.getPath(...n)},chainType:"solana"});else{let n=await this._privyInternal.getAccessTokenInternal();if(!n)throw new nn({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});e?.ethereumAccount&&await this.getProvider(e.ethereumAccount);let{publicKey:r}=await this._proxy.createSolana({accessToken:n,ethereumAddress:e?.ethereumAccount?.address});if(!r)throw new nn({error:"Failed to create wallet",code:"embedded_wallet_creation_error"})}return await this._privyInternal.refreshSession()}async delegateWallets({delegatedWallets:e,rootWallet:n}){if(!this._proxy)throw new nn({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_creation_error"});let r=await this._privyInternal.getAccessTokenInternal();if(!r)throw new nn({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});await this._proxy.delegateWallets({accessToken:r,delegatedWallets:e,rootWallet:n})}async getProvider(e,n,r,i,s){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return pu(e)||await this._load({wallet:e,entropyId:e.address,entropyIdVerifier:"ethereum-address-verifier",recoveryPassword:n,recoveryKey:s,recoveryAccessToken:r,recoverySecretOverride:i}),new PS({account:e,entropyId:e.address,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,appApi:this._appApi})}async getEthereumProvider({wallet:e,entropyId:n,entropyIdVerifier:r,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:a,recoveryKey:c,onNeedsRecovery:u}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(!await this._privyInternal.getAccessTokenInternal())throw Error("User must be logged in to create an embedded wallet");return pu(e)||(!u||i||s||a||c)&&await this._load({entropyId:n,entropyIdVerifier:r,wallet:e,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:a,recoveryKey:c}),new PS({account:e,entropyId:n,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,onNeedsRecovery:u,appApi:this._appApi})}async getSolanaProvider(e,n,r,i,s,a,c){if(!this._proxy)throw new nn({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return pu(e)||(!c||i||s||a)&&await this._load({wallet:e,entropyId:n,entropyIdVerifier:r,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:a}),new Eae({account:e,privyInternal:this._privyInternal,proxy:this._proxy,entropyId:n,entropyIdVerifier:r,onNeedsRecovery:c,app:this._appApi})}async setRecovery(e){let{wallet:n,...r}=e;if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(pu(n))throw new nn({error:"This wallet does not support setting recovery methods",code:"unsupported_recovery_method"});oae({currentRecoveryMethod:n.recovery_method,upgradeToRecoveryMethod:r.recoveryMethod==="icloud-native"?"icloud":r.recoveryMethod}),await this._load(n.chain_type==="solana"?{wallet:n,entropyId:n.address,entropyIdVerifier:"solana-address-verifier"}:{wallet:n,entropyId:n.address,entropyIdVerifier:"ethereum-address-verifier"});let i=await this._privyInternal.getAccessTokenInternal();if(!i)throw Error("User must be logged in to interact with embedded wallets");let s=n.recovery_method;this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_started",{address:n.address,target_recovery_method:r.recoveryMethod,existing_recovery_method:s});try{let a;if(r.recoveryMethod==="user-passcode")a={recoveryMethod:"user-passcode",recoveryPassword:r.password};else if(r.recoveryMethod==="google-drive")a={recoveryMethod:"google-drive",recoveryAccessToken:r.recoveryAccessToken};else if(r.recoveryMethod==="icloud")a={recoveryMethod:"icloud",recoveryAccessToken:r.recoveryAccessToken};else if(r.recoveryMethod==="icloud-native")a={recoveryMethod:"icloud-native",iCloudRecordNameOverride:r.iCloudRecordNameOverride,recoverySecretOverride:r.recoverySecretOverride};else if(r.recoveryMethod==="recovery-encryption-key")a={recoveryMethod:"recovery-encryption-key",recoveryKey:r.recoveryKey};else{if(r.recoveryMethod!=="privy")throw Error(`Unknown recovery method: ${r.recoveryMethod}`);a={recoveryMethod:"privy"}}await this._proxy.setRecovery({accessToken:i,entropyId:n.address,entropyIdVerifier:n.chain_type==="solana"?"solana-address-verifier":"ethereum-address-verifier",...a}),this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_completed",{address:n.address,target_recovery_method:r.recoveryMethod,existing_recovery_method:s});let{user:c}=await this._privyInternal.refreshSession();return{user:c,provider:n.chain_type!=="ethereum"?null:new PS({account:n,entropyId:n.address,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,appApi:this._appApi})}}catch(a){throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_failed",{address:n.address,recovery_method:n.recovery_method,error:a instanceof Error?a.message:"Unable to recover wallet"}),a}}getURL(){let e=new URL(`${this._privyInternal.baseUrl}/apps/${this._privyInternal.appId}/embedded-wallets`);return this._privyInternal.caid&&e.searchParams.append("caid",this._privyInternal.caid),this._privyInternal.appClientId&&e.searchParams.append("client_id",this._privyInternal.appClientId),e.href}get chains(){return this._chains}onMessage(e){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return this._proxy.handleEmbeddedWalletMessages(e)}reload(){this._proxy?this._proxy.reload():console.warn("Attempted to reload proxy before initialized")}async ping(e){try{if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return await this._proxy.ping(e),!0}catch(n){return console.error(n),!1}}async _load({entropyId:e,entropyIdVerifier:n,wallet:r,recoveryPassword:i,recoveryKey:s,recoveryAccessToken:a,recoverySecretOverride:c}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");let u=await this._privyInternal.getAccessTokenInternal();if(!u)throw Error("User must be logged in to interact with embedded wallets");try{return await this._proxy.connect({accessToken:u,entropyId:e,entropyIdVerifier:n}),e}catch(d){if(V3(d))try{if(r.recovery_method==="privy"){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:r.recovery_method});let h=await this._proxy.recover({accessToken:u,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:r.recovery_method}),h.entropyId}if(r.recovery_method==="user-passcode"&&i){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:r.recovery_method});let h=await this._proxy.recover({accessToken:u,recoveryPassword:i,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:r.recovery_method}),h.entropyId}if(["google-drive","icloud"].includes(r.recovery_method)&&a){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:r.recovery_method});let h=await this._proxy.recover({accessToken:u,recoveryAccessToken:a,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:r.recovery_method}),h.entropyId}if(r.recovery_method==="icloud"&&c){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:"icloud-native"});let h=await this._proxy.recover({accessToken:u,recoverySecretOverride:c,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:"icloud-native"}),h.entropyId}if(r.recovery_method==="recovery-encryption-key"&&s){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:r.recovery_method});let h=await this._proxy.recover({accessToken:u,recoveryKey:s,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:r.recovery_method}),h.entropyId}}catch(h){throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_failed",{address:r.address,recovery_method:r.recovery_method,error:h instanceof Error?h.message:`Unable to recover wallet: ${e}`}),h}throw d}}constructor(e,n,r,i,s,a){if(this._chains=Array.from(T_),this._privyInternal=e,n&&(this._proxy=new x$(n,s),i.setProxy(this._proxy)),r){let c=AB(r);this._chains=c}this._mfa=i,this._mfaPromises=s,this._appApi=a}},Sae=class extends Uu{constructor(){super(),this.rootPromise={current:null},this.submitPromise={current:null}}};var Uv={exports:{}},xae=Uv.exports,O$;function Tae(){return O$||(O$=1,(function(t,e){(function(n,r){t.exports=r()})(xae,(function(){var n=function(s,a){if(a=a||{},typeof s!="function")throw new i("fetch must be a function");if(typeof a!="object")throw new i("defaults must be an object");if(a.retries!==void 0&&!r(a.retries))throw new i("retries must be a positive integer");if(a.retryDelay!==void 0&&!r(a.retryDelay)&&typeof a.retryDelay!="function")throw new i("retryDelay must be a positive integer or a function returning a positive integer");if(a.retryOn!==void 0&&!Array.isArray(a.retryOn)&&typeof a.retryOn!="function")throw new i("retryOn property expects an array or function");var c={retries:3,retryDelay:1e3,retryOn:[]};return a=Object.assign(c,a),function(d,h){var p=a.retries,m=a.retryDelay,g=a.retryOn;if(h&&h.retries!==void 0)if(r(h.retries))p=h.retries;else throw new i("retries must be a positive integer");if(h&&h.retryDelay!==void 0)if(r(h.retryDelay)||typeof h.retryDelay=="function")m=h.retryDelay;else throw new i("retryDelay must be a positive integer or a function returning a positive integer");if(h&&h.retryOn)if(Array.isArray(h.retryOn)||typeof h.retryOn=="function")g=h.retryOn;else throw new i("retryOn property expects an array or function");return new Promise(function(b,v){var E=function(k){var S=typeof Request<"u"&&d instanceof Request?d.clone():d;s(S,h).then(function(A){if(Array.isArray(g)&&g.indexOf(A.status)===-1)b(A);else if(typeof g=="function")try{return Promise.resolve(g(k,null,A)).then(function(C){C?O(k,null,A):b(A)}).catch(v)}catch(C){v(C)}else k<p?O(k,null,A):b(A)}).catch(function(A){if(typeof g=="function")try{Promise.resolve(g(k,A,null)).then(function(C){C?O(k,A,null):v(A)}).catch(function(C){v(C)})}catch(C){v(C)}else k<p?O(k,A,null):v(A)})};function O(k,S,A){var C=typeof m=="function"?m(k,S,A):m;setTimeout(function(){E(++k)},C)}E(0)})}};function r(s){return Number.isInteger(s)&&s>=0}function i(s){this.name="ArgumentError",this.message=s}return n}))})(Uv)),Uv.exports}var Iae=Tae();const pj=Du(Iae);let Yw;const Cae=new Uint8Array(16);function Oae(){if(!Yw&&(Yw=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Yw))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Yw(Cae)}const si=[];for(let t=0;t<256;++t)si.push((t+256).toString(16).slice(1));function kae(t,e=0){return si[t[e+0]]+si[t[e+1]]+si[t[e+2]]+si[t[e+3]]+"-"+si[t[e+4]]+si[t[e+5]]+"-"+si[t[e+6]]+si[t[e+7]]+"-"+si[t[e+8]]+si[t[e+9]]+"-"+si[t[e+10]]+si[t[e+11]]+si[t[e+12]]+si[t[e+13]]+si[t[e+14]]+si[t[e+15]]}const Rae=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),k$={randomUUID:Rae};function MT(t,e,n){if(k$.randomUUID&&!t)return k$.randomUUID();t=t||{};const r=t.random||(t.rng||Oae)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,kae(r)}var at,R$=((at={}).OAUTH_ACCOUNT_SUSPENDED="oauth_account_suspended",at.MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",at.MISSING_OR_INVALID_PRIVY_CLIENT_ID="missing_or_invalid_privy_client_id",at.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",at.MISSING_OR_INVALID_TOKEN="missing_or_invalid_token",at.MISSING_MFA_ENROLLMENT="missing_mfa_enrollment",at.MISSING_OR_INVALID_MFA="missing_or_invalid_mfa",at.EXPIRED_OR_INVALID_MFA_TOKEN="expired_or_invalid_mfa_token",at.INVALID_DATA="invalid_data",at.INVALID_CREDENTIALS="invalid_credentials",at.INVALID_CAPTCHA="invalid_captcha",at.LINKED_TO_ANOTHER_USER="linked_to_another_user",at.ALLOWLIST_REJECTED="allowlist_rejected",at.CANNOT_UNLINK_EMBEDDED_WALLET="cannot_unlink_embedded_wallet",at.CANNOT_UNLINK_SOLE_ACCOUNT="cannot_unlink_sole_account",at.CANNOT_LINK_MORE_OF_TYPE="cannot_link_more_of_type",at.LINKED_ACCOUNT_NOT_FOUND="linked_account_not_found",at.TOO_MANY_REQUESTS="too_many_requests",at.RESOURCE_CONFLICT="resource_conflict",at.INVALID_ORIGIN="invalid_origin",at.MISSING_ORIGIN="missing_origin",at.INVALID_NATIVE_APP_ID="invalid_native_app_id",at.TOKEN_ALREADY_USED="token_already_used",at.ALREADY_LOGGED_OUT="already_logged_out",at.NOT_SUPPORTED="not_supported",at.USER_UNSUBSCRIBED="user_unsubscribed",at.MAX_APPS_REACHED="max_apps_reached",at.USER_LIMIT_REACHED="max_accounts_reached",at.DEVICE_REVOKED="device_revoked",at.WALLET_PASSWORD_EXISTS="wallet_password_exists",at.OAUTH_STATE_MISMATCH="oauth_state_mismatch",at.MAX_DENYLIST_ENTRIES_REACHED="max_denylist_entries_reached",at.MAX_TEST_ACCOUNTS_REACHED="max_test_accounts_reached",at.DISALLOWED_LOGIN_METHOD="disallowed_login_method",at.DISALLOWED_PLUS_EMAIL="disallowed_plus_email",at.DISALLOWED_RECOVERY_METHOD="disallowed_recovery_method",at.LEGACY_DASHBOARD_LOGIN_CONFIGURATION="legacy_dashboard_login_configuration",at.CANNOT_SET_PASSWORD="cannot_set_password",at.INVALID_PKCE_PARAMETERS="invalid_pkce_parameters",at.INVALID_APP_URL_SCHEME_CONFIGURATION="invalid_app_url_scheme_configuration",at.CROSS_APP_CONNECTION_NOT_ALLOWED="cross_app_connection_not_allowed",at.USER_DOES_NOT_EXIST="user_does_not_exist",at.ALREADY_EXISTS="resource_already_exists",at.ACCOUNT_TRANSFER_REQUIRED="account_transfer_required",at.USER_HAS_NOT_DELEGATED_WALLET="user_has_not_delegated_wallet",at.FEATURE_NOT_ENABLED="feature_not_enabled",at.INSUFFICIENT_FUNDS="insufficient_funds",at.TRANSACTION_BROADCAST_FAILURE="transaction_broadcast_failure",at.TRANSACTION_EXECUTION_FAILURE="transaction_execution_failure",at.INVALID_POLICY_FORMAT="invalid_policy_format",at.POLICY_VIOLATION="policy_violation",at.AUTHORIZATION_KEY_HAS_ASSOCIATED_WALLETS="authorization_key_has_associated_wallets",at.INVALID_REQUEST="invalid_request",at.SIGNUP_DISABLED="signup_disabled",at),Zt;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const a of i)s[a]=a;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(c=>typeof i[i[c]]!="number"),a={};for(const c of s)a[c]=i[c];return t.objectValues(a)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&s.push(a);return s},t.find=(i,s)=>{for(const a of i)if(s(a))return a},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(a=>typeof a=="string"?`'${a}'`:a).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(Zt||(Zt={}));var $$;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})($$||($$={}));const Ye=Zt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),cu=t=>{switch(typeof t){case"undefined":return Ye.undefined;case"string":return Ye.string;case"number":return Number.isNaN(t)?Ye.nan:Ye.number;case"boolean":return Ye.boolean;case"function":return Ye.function;case"bigint":return Ye.bigint;case"symbol":return Ye.symbol;case"object":return Array.isArray(t)?Ye.array:t===null?Ye.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Ye.promise:typeof Map<"u"&&t instanceof Map?Ye.map:typeof Set<"u"&&t instanceof Set?Ye.set:typeof Date<"u"&&t instanceof Date?Ye.date:Ye.object;default:return Ye.unknown}},De=Zt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class ol extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const a of s.issues)if(a.code==="invalid_union")a.unionErrors.map(i);else if(a.code==="invalid_return_type")i(a.returnTypeError);else if(a.code==="invalid_arguments")i(a.argumentsError);else if(a.path.length===0)r._errors.push(n(a));else{let c=r,u=0;for(;u<a.path.length;){const d=a.path[u];u===a.path.length-1?(c[d]=c[d]||{_errors:[]},c[d]._errors.push(n(a))):c[d]=c[d]||{_errors:[]},c=c[d],u++}}};return i(this),r}static assert(e){if(!(e instanceof ol))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Zt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)if(i.path.length>0){const s=i.path[0];n[s]=n[s]||[],n[s].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}ol.create=t=>new ol(t);const UT=(t,e)=>{let n;switch(t.code){case De.invalid_type:t.received===Ye.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case De.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Zt.jsonStringifyReplacer)}`;break;case De.unrecognized_keys:n=`Unrecognized key(s) in object: ${Zt.joinValues(t.keys,", ")}`;break;case De.invalid_union:n="Invalid input";break;case De.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Zt.joinValues(t.options)}`;break;case De.invalid_enum_value:n=`Invalid enum value. Expected ${Zt.joinValues(t.options)}, received '${t.received}'`;break;case De.invalid_arguments:n="Invalid function arguments";break;case De.invalid_return_type:n="Invalid function return type";break;case De.invalid_date:n="Invalid date";break;case De.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Zt.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case De.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case De.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case De.custom:n="Invalid input";break;case De.invalid_intersection_types:n="Intersection results could not be merged";break;case De.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case De.not_finite:n="Number must be finite";break;default:n=e.defaultError,Zt.assertNever(t)}return{message:n}};let $ae=UT;function Nae(){return $ae}const Pae=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],a={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let c="";const u=r.filter(d=>!!d).slice().reverse();for(const d of u)c=d(a,{data:e,defaultError:c}).message;return{...i,path:s,message:c}};function ze(t,e){const n=Nae(),r=Pae({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===UT?void 0:UT].filter(i=>!!i)});t.common.issues.push(r)}class Bi{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return gt;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const s=await i.key,a=await i.value;r.push({key:s,value:a})}return Bi.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:a}=i;if(s.status==="aborted"||a.status==="aborted")return gt;s.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof a.value<"u"||i.alwaysSet)&&(r[s.value]=a.value)}return{status:e.value,value:r}}}const gt=Object.freeze({status:"aborted"}),og=t=>({status:"dirty",value:t}),Aa=t=>({status:"valid",value:t}),N$=t=>t.status==="aborted",P$=t=>t.status==="dirty",mp=t=>t.status==="valid",E1=t=>typeof Promise<"u"&&t instanceof Promise;var tt;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(tt||(tt={}));class Fo{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const D$=(t,e)=>{if(mp(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new ol(t.common.issues);return this._error=n,this._error}}};function $t(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(a,c)=>{const{message:u}=t;return a.code==="invalid_enum_value"?{message:u??c.defaultError}:typeof c.data>"u"?{message:u??r??c.defaultError}:a.code!=="invalid_type"?{message:c.defaultError}:{message:u??n??c.defaultError}},description:i}}class Ft{get description(){return this._def.description}_getType(e){return cu(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:cu(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Bi,ctx:{common:e.parent.common,data:e.data,parsedType:cu(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(E1(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:n?.async??!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:cu(e)},i=this._parseSync({data:e,path:r.path,parent:r});return D$(r,i)}"~validate"(e){const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:cu(e)};if(!this["~standard"].async)try{const r=this._parseSync({data:e,path:[],parent:n});return mp(r)?{value:r.value}:{issues:n.common.issues}}catch(r){r?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(r=>mp(r)?{value:r.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:cu(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(E1(i)?i:Promise.resolve(i));return D$(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const a=e(i),c=()=>s.addIssue({code:De.custom,...r(i)});return typeof Promise<"u"&&a instanceof Promise?a.then(u=>u?!0:(c(),!1)):a?!0:(c(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new lf({schema:this,typeName:bt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return el.create(this,this._def)}nullable(){return uf.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Mo.create(this)}promise(){return C1.create(this,this._def)}or(e){return S1.create([this,e],this._def)}and(e){return x1.create(this,e,this._def)}transform(e){return new lf({...$t(this._def),schema:this,typeName:bt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new O1({...$t(this._def),innerType:this,defaultValue:n,typeName:bt.ZodDefault})}brand(){return new bj({typeName:bt.ZodBranded,type:this,...$t(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new k1({...$t(this._def),innerType:this,catchValue:n,typeName:bt.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return FI.create(this,e)}readonly(){return R1.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Dae=/^c[^\s-]{8,}$/i,Mae=/^[0-9a-z]+$/,Uae=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Bae=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Lae=/^[a-z0-9_-]{21}$/i,jae=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,zae=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Fae=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,qae="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let DS;const Wae=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Hae=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Vae=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Gae=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Kae=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Yae=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,yj="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Zae=new RegExp(`^${yj}$`);function mj(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function Xae(t){return new RegExp(`^${mj(t)}$`)}function Jae(t){let e=`${yj}T${mj(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function Qae(t,e){return!!((e==="v4"||!e)&&Wae.test(t)||(e==="v6"||!e)&&Vae.test(t))}function eoe(t,e){if(!jae.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&i?.typ!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function toe(t,e){return!!((e==="v4"||!e)&&Hae.test(t)||(e==="v6"||!e)&&Gae.test(t))}class $o extends Ft{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Ye.string){const s=this._getOrReturnCtx(e);return ze(s,{code:De.invalid_type,expected:Ye.string,received:s.parsedType}),gt}const r=new Bi;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),ze(i,{code:De.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),ze(i,{code:De.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const a=e.data.length>s.value,c=e.data.length<s.value;(a||c)&&(i=this._getOrReturnCtx(e,i),a?ze(i,{code:De.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):c&&ze(i,{code:De.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")Fae.test(e.data)||(i=this._getOrReturnCtx(e,i),ze(i,{validation:"email",code:De.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")DS||(DS=new RegExp(qae,"u")),DS.test(e.data)||(i=this._getOrReturnCtx(e,i),ze(i,{validation:"emoji",code:De.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")Bae.test(e.data)||(i=this._getOrReturnCtx(e,i),ze(i,{validation:"uuid",code:De.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")Lae.test(e.data)||(i=this._getOrReturnCtx(e,i),ze(i,{validation:"nanoid",code:De.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")Dae.test(e.data)||(i=this._getOrReturnCtx(e,i),ze(i,{validation:"cuid",code:De.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")Mae.test(e.data)||(i=this._getOrReturnCtx(e,i),ze(i,{validation:"cuid2",code:De.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")Uae.test(e.data)||(i=this._getOrReturnCtx(e,i),ze(i,{validation:"ulid",code:De.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),ze(i,{validation:"url",code:De.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),ze(i,{validation:"regex",code:De.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),ze(i,{code:De.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),ze(i,{code:De.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),ze(i,{code:De.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?Jae(s).test(e.data)||(i=this._getOrReturnCtx(e,i),ze(i,{code:De.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?Zae.test(e.data)||(i=this._getOrReturnCtx(e,i),ze(i,{code:De.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?Xae(s).test(e.data)||(i=this._getOrReturnCtx(e,i),ze(i,{code:De.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?zae.test(e.data)||(i=this._getOrReturnCtx(e,i),ze(i,{validation:"duration",code:De.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?Qae(e.data,s.version)||(i=this._getOrReturnCtx(e,i),ze(i,{validation:"ip",code:De.invalid_string,message:s.message}),r.dirty()):s.kind==="jwt"?eoe(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),ze(i,{validation:"jwt",code:De.invalid_string,message:s.message}),r.dirty()):s.kind==="cidr"?toe(e.data,s.version)||(i=this._getOrReturnCtx(e,i),ze(i,{validation:"cidr",code:De.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?Kae.test(e.data)||(i=this._getOrReturnCtx(e,i),ze(i,{validation:"base64",code:De.invalid_string,message:s.message}),r.dirty()):s.kind==="base64url"?Yae.test(e.data)||(i=this._getOrReturnCtx(e,i),ze(i,{validation:"base64url",code:De.invalid_string,message:s.message}),r.dirty()):Zt.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:De.invalid_string,...tt.errToObj(r)})}_addCheck(e){return new $o({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...tt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...tt.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...tt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...tt.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...tt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...tt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...tt.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...tt.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...tt.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...tt.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...tt.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...tt.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...tt.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...tt.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...tt.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...tt.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...tt.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n?.position,...tt.errToObj(n?.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...tt.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...tt.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...tt.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...tt.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...tt.errToObj(n)})}nonempty(e){return this.min(1,tt.errToObj(e))}trim(){return new $o({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new $o({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new $o({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}$o.create=t=>new $o({checks:[],typeName:bt.ZodString,coerce:t?.coerce??!1,...$t(t)});function noe(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=Number.parseInt(t.toFixed(i).replace(".","")),a=Number.parseInt(e.toFixed(i).replace(".",""));return s%a/10**i}class sf extends Ft{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Ye.number){const s=this._getOrReturnCtx(e);return ze(s,{code:De.invalid_type,expected:Ye.number,received:s.parsedType}),gt}let r;const i=new Bi;for(const s of this._def.checks)s.kind==="int"?Zt.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),ze(r,{code:De.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),ze(r,{code:De.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),ze(r,{code:De.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?noe(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),ze(r,{code:De.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),ze(r,{code:De.not_finite,message:s.message}),i.dirty()):Zt.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,tt.toString(n))}gt(e,n){return this.setLimit("min",e,!1,tt.toString(n))}lte(e,n){return this.setLimit("max",e,!0,tt.toString(n))}lt(e,n){return this.setLimit("max",e,!1,tt.toString(n))}setLimit(e,n,r,i){return new sf({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:tt.toString(i)}]})}_addCheck(e){return new sf({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:tt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:tt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:tt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:tt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:tt.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:tt.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:tt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:tt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:tt.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Zt.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}sf.create=t=>new sf({checks:[],typeName:bt.ZodNumber,coerce:t?.coerce||!1,...$t(t)});class af extends Ft{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Ye.bigint)return this._getInvalidInput(e);let r;const i=new Bi;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),ze(r,{code:De.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),ze(r,{code:De.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),ze(r,{code:De.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Zt.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return ze(n,{code:De.invalid_type,expected:Ye.bigint,received:n.parsedType}),gt}gte(e,n){return this.setLimit("min",e,!0,tt.toString(n))}gt(e,n){return this.setLimit("min",e,!1,tt.toString(n))}lte(e,n){return this.setLimit("max",e,!0,tt.toString(n))}lt(e,n){return this.setLimit("max",e,!1,tt.toString(n))}setLimit(e,n,r,i){return new af({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:tt.toString(i)}]})}_addCheck(e){return new af({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:tt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:tt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:tt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:tt.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:tt.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}af.create=t=>new af({checks:[],typeName:bt.ZodBigInt,coerce:t?.coerce??!1,...$t(t)});class A1 extends Ft{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Ye.boolean){const r=this._getOrReturnCtx(e);return ze(r,{code:De.invalid_type,expected:Ye.boolean,received:r.parsedType}),gt}return Aa(e.data)}}A1.create=t=>new A1({typeName:bt.ZodBoolean,coerce:t?.coerce||!1,...$t(t)});class gp extends Ft{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Ye.date){const s=this._getOrReturnCtx(e);return ze(s,{code:De.invalid_type,expected:Ye.date,received:s.parsedType}),gt}if(Number.isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return ze(s,{code:De.invalid_date}),gt}const r=new Bi;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),ze(i,{code:De.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),ze(i,{code:De.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):Zt.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new gp({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:tt.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:tt.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}gp.create=t=>new gp({checks:[],coerce:t?.coerce||!1,typeName:bt.ZodDate,...$t(t)});class M$ extends Ft{_parse(e){if(this._getType(e)!==Ye.symbol){const r=this._getOrReturnCtx(e);return ze(r,{code:De.invalid_type,expected:Ye.symbol,received:r.parsedType}),gt}return Aa(e.data)}}M$.create=t=>new M$({typeName:bt.ZodSymbol,...$t(t)});class BT extends Ft{_parse(e){if(this._getType(e)!==Ye.undefined){const r=this._getOrReturnCtx(e);return ze(r,{code:De.invalid_type,expected:Ye.undefined,received:r.parsedType}),gt}return Aa(e.data)}}BT.create=t=>new BT({typeName:bt.ZodUndefined,...$t(t)});class LT extends Ft{_parse(e){if(this._getType(e)!==Ye.null){const r=this._getOrReturnCtx(e);return ze(r,{code:De.invalid_type,expected:Ye.null,received:r.parsedType}),gt}return Aa(e.data)}}LT.create=t=>new LT({typeName:bt.ZodNull,...$t(t)});class jT extends Ft{constructor(){super(...arguments),this._any=!0}_parse(e){return Aa(e.data)}}jT.create=t=>new jT({typeName:bt.ZodAny,...$t(t)});class U$ extends Ft{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Aa(e.data)}}U$.create=t=>new U$({typeName:bt.ZodUnknown,...$t(t)});class ku extends Ft{_parse(e){const n=this._getOrReturnCtx(e);return ze(n,{code:De.invalid_type,expected:Ye.never,received:n.parsedType}),gt}}ku.create=t=>new ku({typeName:bt.ZodNever,...$t(t)});class B$ extends Ft{_parse(e){if(this._getType(e)!==Ye.undefined){const r=this._getOrReturnCtx(e);return ze(r,{code:De.invalid_type,expected:Ye.void,received:r.parsedType}),gt}return Aa(e.data)}}B$.create=t=>new B$({typeName:bt.ZodVoid,...$t(t)});class Mo extends Ft{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==Ye.array)return ze(n,{code:De.invalid_type,expected:Ye.array,received:n.parsedType}),gt;if(i.exactLength!==null){const a=n.data.length>i.exactLength.value,c=n.data.length<i.exactLength.value;(a||c)&&(ze(n,{code:a?De.too_big:De.too_small,minimum:c?i.exactLength.value:void 0,maximum:a?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(ze(n,{code:De.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(ze(n,{code:De.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((a,c)=>i.type._parseAsync(new Fo(n,a,n.path,c)))).then(a=>Bi.mergeArray(r,a));const s=[...n.data].map((a,c)=>i.type._parseSync(new Fo(n,a,n.path,c)));return Bi.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new Mo({...this._def,minLength:{value:e,message:tt.toString(n)}})}max(e,n){return new Mo({...this._def,maxLength:{value:e,message:tt.toString(n)}})}length(e,n){return new Mo({...this._def,exactLength:{value:e,message:tt.toString(n)}})}nonempty(e){return this.min(1,e)}}Mo.create=(t,e)=>new Mo({type:t,minLength:null,maxLength:null,exactLength:null,typeName:bt.ZodArray,...$t(e)});function Dh(t){if(t instanceof gr){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=el.create(Dh(r))}return new gr({...t._def,shape:()=>e})}else return t instanceof Mo?new Mo({...t._def,type:Dh(t.element)}):t instanceof el?el.create(Dh(t.unwrap())):t instanceof uf?uf.create(Dh(t.unwrap())):t instanceof of?of.create(t.items.map(e=>Dh(e))):t}class gr extends Ft{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Zt.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==Ye.object){const d=this._getOrReturnCtx(e);return ze(d,{code:De.invalid_type,expected:Ye.object,received:d.parsedType}),gt}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:a}=this._getCached(),c=[];if(!(this._def.catchall instanceof ku&&this._def.unknownKeys==="strip"))for(const d in i.data)a.includes(d)||c.push(d);const u=[];for(const d of a){const h=s[d],p=i.data[d];u.push({key:{status:"valid",value:d},value:h._parse(new Fo(i,p,i.path,d)),alwaysSet:d in i.data})}if(this._def.catchall instanceof ku){const d=this._def.unknownKeys;if(d==="passthrough")for(const h of c)u.push({key:{status:"valid",value:h},value:{status:"valid",value:i.data[h]}});else if(d==="strict")c.length>0&&(ze(i,{code:De.unrecognized_keys,keys:c}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const h of c){const p=i.data[h];u.push({key:{status:"valid",value:h},value:d._parse(new Fo(i,p,i.path,h)),alwaysSet:h in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const d=[];for(const h of u){const p=await h.key,m=await h.value;d.push({key:p,value:m,alwaysSet:h.alwaysSet})}return d}).then(d=>Bi.mergeObjectSync(r,d)):Bi.mergeObjectSync(r,u)}get shape(){return this._def.shape()}strict(e){return tt.errToObj,new gr({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{const i=this._def.errorMap?.(n,r).message??r.defaultError;return n.code==="unrecognized_keys"?{message:tt.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new gr({...this._def,unknownKeys:"strip"})}passthrough(){return new gr({...this._def,unknownKeys:"passthrough"})}extend(e){return new gr({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new gr({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:bt.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new gr({...this._def,catchall:e})}pick(e){const n={};for(const r of Zt.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new gr({...this._def,shape:()=>n})}omit(e){const n={};for(const r of Zt.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new gr({...this._def,shape:()=>n})}deepPartial(){return Dh(this)}partial(e){const n={};for(const r of Zt.objectKeys(this.shape)){const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}return new gr({...this._def,shape:()=>n})}required(e){const n={};for(const r of Zt.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof el;)s=s._def.innerType;n[r]=s}return new gr({...this._def,shape:()=>n})}keyof(){return gj(Zt.objectKeys(this.shape))}}gr.create=(t,e)=>new gr({shape:()=>t,unknownKeys:"strip",catchall:ku.create(),typeName:bt.ZodObject,...$t(e)});gr.strictCreate=(t,e)=>new gr({shape:()=>t,unknownKeys:"strict",catchall:ku.create(),typeName:bt.ZodObject,...$t(e)});gr.lazycreate=(t,e)=>new gr({shape:t,unknownKeys:"strip",catchall:ku.create(),typeName:bt.ZodObject,...$t(e)});class S1 extends Ft{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const c of s)if(c.result.status==="valid")return c.result;for(const c of s)if(c.result.status==="dirty")return n.common.issues.push(...c.ctx.common.issues),c.result;const a=s.map(c=>new ol(c.ctx.common.issues));return ze(n,{code:De.invalid_union,unionErrors:a}),gt}if(n.common.async)return Promise.all(r.map(async s=>{const a={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:a}),ctx:a}})).then(i);{let s;const a=[];for(const u of r){const d={...n,common:{...n.common,issues:[]},parent:null},h=u._parseSync({data:n.data,path:n.path,parent:d});if(h.status==="valid")return h;h.status==="dirty"&&!s&&(s={result:h,ctx:d}),d.common.issues.length&&a.push(d.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const c=a.map(u=>new ol(u));return ze(n,{code:De.invalid_union,unionErrors:c}),gt}}get options(){return this._def.options}}S1.create=(t,e)=>new S1({options:t,typeName:bt.ZodUnion,...$t(e)});const Nc=t=>t instanceof FT?Nc(t.schema):t instanceof lf?Nc(t.innerType()):t instanceof I1?[t.value]:t instanceof cf?t.options:t instanceof qT?Zt.objectValues(t.enum):t instanceof O1?Nc(t._def.innerType):t instanceof BT?[void 0]:t instanceof LT?[null]:t instanceof el?[void 0,...Nc(t.unwrap())]:t instanceof uf?[null,...Nc(t.unwrap())]:t instanceof bj||t instanceof R1?Nc(t.unwrap()):t instanceof k1?Nc(t._def.innerType):[];class zI extends Ft{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Ye.object)return ze(n,{code:De.invalid_type,expected:Ye.object,received:n.parsedType}),gt;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(ze(n,{code:De.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),gt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const s of n){const a=Nc(s.shape[e]);if(!a.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const c of a){if(i.has(c))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(c)}`);i.set(c,s)}}return new zI({typeName:bt.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...$t(r)})}}function zT(t,e){const n=cu(t),r=cu(e);if(t===e)return{valid:!0,data:t};if(n===Ye.object&&r===Ye.object){const i=Zt.objectKeys(e),s=Zt.objectKeys(t).filter(c=>i.indexOf(c)!==-1),a={...t,...e};for(const c of s){const u=zT(t[c],e[c]);if(!u.valid)return{valid:!1};a[c]=u.data}return{valid:!0,data:a}}else if(n===Ye.array&&r===Ye.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const a=t[s],c=e[s],u=zT(a,c);if(!u.valid)return{valid:!1};i.push(u.data)}return{valid:!0,data:i}}else return n===Ye.date&&r===Ye.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class x1 extends Ft{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,a)=>{if(N$(s)||N$(a))return gt;const c=zT(s.value,a.value);return c.valid?((P$(s)||P$(a))&&n.dirty(),{status:n.value,value:c.data}):(ze(r,{code:De.invalid_intersection_types}),gt)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,a])=>i(s,a)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}x1.create=(t,e,n)=>new x1({left:t,right:e,typeName:bt.ZodIntersection,...$t(n)});class of extends Ft{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ye.array)return ze(r,{code:De.invalid_type,expected:Ye.array,received:r.parsedType}),gt;if(r.data.length<this._def.items.length)return ze(r,{code:De.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),gt;!this._def.rest&&r.data.length>this._def.items.length&&(ze(r,{code:De.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((a,c)=>{const u=this._def.items[c]||this._def.rest;return u?u._parse(new Fo(r,a,r.path,c)):null}).filter(a=>!!a);return r.common.async?Promise.all(s).then(a=>Bi.mergeArray(n,a)):Bi.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new of({...this._def,rest:e})}}of.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new of({items:t,typeName:bt.ZodTuple,rest:null,...$t(e)})};class T1 extends Ft{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ye.object)return ze(r,{code:De.invalid_type,expected:Ye.object,received:r.parsedType}),gt;const i=[],s=this._def.keyType,a=this._def.valueType;for(const c in r.data)i.push({key:s._parse(new Fo(r,c,r.path,c)),value:a._parse(new Fo(r,r.data[c],r.path,c)),alwaysSet:c in r.data});return r.common.async?Bi.mergeObjectAsync(n,i):Bi.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Ft?new T1({keyType:e,valueType:n,typeName:bt.ZodRecord,...$t(r)}):new T1({keyType:$o.create(),valueType:e,typeName:bt.ZodRecord,...$t(n)})}}class L$ extends Ft{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ye.map)return ze(r,{code:De.invalid_type,expected:Ye.map,received:r.parsedType}),gt;const i=this._def.keyType,s=this._def.valueType,a=[...r.data.entries()].map(([c,u],d)=>({key:i._parse(new Fo(r,c,r.path,[d,"key"])),value:s._parse(new Fo(r,u,r.path,[d,"value"]))}));if(r.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const u of a){const d=await u.key,h=await u.value;if(d.status==="aborted"||h.status==="aborted")return gt;(d.status==="dirty"||h.status==="dirty")&&n.dirty(),c.set(d.value,h.value)}return{status:n.value,value:c}})}else{const c=new Map;for(const u of a){const d=u.key,h=u.value;if(d.status==="aborted"||h.status==="aborted")return gt;(d.status==="dirty"||h.status==="dirty")&&n.dirty(),c.set(d.value,h.value)}return{status:n.value,value:c}}}}L$.create=(t,e,n)=>new L$({valueType:e,keyType:t,typeName:bt.ZodMap,...$t(n)});class u0 extends Ft{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ye.set)return ze(r,{code:De.invalid_type,expected:Ye.set,received:r.parsedType}),gt;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(ze(r,{code:De.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(ze(r,{code:De.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function a(u){const d=new Set;for(const h of u){if(h.status==="aborted")return gt;h.status==="dirty"&&n.dirty(),d.add(h.value)}return{status:n.value,value:d}}const c=[...r.data.values()].map((u,d)=>s._parse(new Fo(r,u,r.path,d)));return r.common.async?Promise.all(c).then(u=>a(u)):a(c)}min(e,n){return new u0({...this._def,minSize:{value:e,message:tt.toString(n)}})}max(e,n){return new u0({...this._def,maxSize:{value:e,message:tt.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}u0.create=(t,e)=>new u0({valueType:t,minSize:null,maxSize:null,typeName:bt.ZodSet,...$t(e)});class FT extends Ft{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}FT.create=(t,e)=>new FT({getter:t,typeName:bt.ZodLazy,...$t(e)});class I1 extends Ft{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return ze(n,{received:n.data,code:De.invalid_literal,expected:this._def.value}),gt}return{status:"valid",value:e.data}}get value(){return this._def.value}}I1.create=(t,e)=>new I1({value:t,typeName:bt.ZodLiteral,...$t(e)});function gj(t,e){return new cf({values:t,typeName:bt.ZodEnum,...$t(e)})}class cf extends Ft{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return ze(n,{expected:Zt.joinValues(r),received:n.parsedType,code:De.invalid_type}),gt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return ze(n,{received:n.data,code:De.invalid_enum_value,options:r}),gt}return Aa(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return cf.create(e,{...this._def,...n})}exclude(e,n=this._def){return cf.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}cf.create=gj;class qT extends Ft{_parse(e){const n=Zt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Ye.string&&r.parsedType!==Ye.number){const i=Zt.objectValues(n);return ze(r,{expected:Zt.joinValues(i),received:r.parsedType,code:De.invalid_type}),gt}if(this._cache||(this._cache=new Set(Zt.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=Zt.objectValues(n);return ze(r,{received:r.data,code:De.invalid_enum_value,options:i}),gt}return Aa(e.data)}get enum(){return this._def.values}}qT.create=(t,e)=>new qT({values:t,typeName:bt.ZodNativeEnum,...$t(e)});class C1 extends Ft{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Ye.promise&&n.common.async===!1)return ze(n,{code:De.invalid_type,expected:Ye.promise,received:n.parsedType}),gt;const r=n.parsedType===Ye.promise?n.data:Promise.resolve(n.data);return Aa(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}C1.create=(t,e)=>new C1({type:t,typeName:bt.ZodPromise,...$t(e)});class lf extends Ft{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===bt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:a=>{ze(r,a),a.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const a=i.transform(r.data,s);if(r.common.async)return Promise.resolve(a).then(async c=>{if(n.value==="aborted")return gt;const u=await this._def.schema._parseAsync({data:c,path:r.path,parent:r});return u.status==="aborted"?gt:u.status==="dirty"||n.value==="dirty"?og(u.value):u});{if(n.value==="aborted")return gt;const c=this._def.schema._parseSync({data:a,path:r.path,parent:r});return c.status==="aborted"?gt:c.status==="dirty"||n.value==="dirty"?og(c.value):c}}if(i.type==="refinement"){const a=c=>{const u=i.refinement(c,s);if(r.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(r.common.async===!1){const c=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return c.status==="aborted"?gt:(c.status==="dirty"&&n.dirty(),a(c.value),{status:n.value,value:c.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(c=>c.status==="aborted"?gt:(c.status==="dirty"&&n.dirty(),a(c.value).then(()=>({status:n.value,value:c.value}))))}if(i.type==="transform")if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!mp(a))return gt;const c=i.transform(a.value,s);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:c}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>mp(a)?Promise.resolve(i.transform(a.value,s)).then(c=>({status:n.value,value:c})):gt);Zt.assertNever(i)}}lf.create=(t,e,n)=>new lf({schema:t,typeName:bt.ZodEffects,effect:e,...$t(n)});lf.createWithPreprocess=(t,e,n)=>new lf({schema:e,effect:{type:"preprocess",transform:t},typeName:bt.ZodEffects,...$t(n)});class el extends Ft{_parse(e){return this._getType(e)===Ye.undefined?Aa(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}el.create=(t,e)=>new el({innerType:t,typeName:bt.ZodOptional,...$t(e)});class uf extends Ft{_parse(e){return this._getType(e)===Ye.null?Aa(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}uf.create=(t,e)=>new uf({innerType:t,typeName:bt.ZodNullable,...$t(e)});class O1 extends Ft{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===Ye.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}O1.create=(t,e)=>new O1({innerType:t,typeName:bt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...$t(e)});class k1 extends Ft{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return E1(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new ol(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ol(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}k1.create=(t,e)=>new k1({innerType:t,typeName:bt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...$t(e)});class j$ extends Ft{_parse(e){if(this._getType(e)!==Ye.nan){const r=this._getOrReturnCtx(e);return ze(r,{code:De.invalid_type,expected:Ye.nan,received:r.parsedType}),gt}return{status:"valid",value:e.data}}}j$.create=t=>new j$({typeName:bt.ZodNaN,...$t(t)});class bj extends Ft{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class FI extends Ft{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?gt:s.status==="dirty"?(n.dirty(),og(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?gt:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new FI({in:e,out:n,typeName:bt.ZodPipeline})}}class R1 extends Ft{_parse(e){const n=this._def.innerType._parse(e),r=i=>(mp(i)&&(i.value=Object.freeze(i.value)),i);return E1(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}R1.create=(t,e)=>new R1({innerType:t,typeName:bt.ZodReadonly,...$t(e)});var bt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(bt||(bt={}));const Rn=$o.create,ya=sf.create;af.create;const wj=A1.create,roe=gp.create,bp=jT.create;ku.create;const J_=Mo.create,Gr=gr.create,vj=S1.create,ioe=zI.create;x1.create;of.create;const Wd=T1.create,soe=I1.create,Zo=cf.create;C1.create;el.create;uf.create;const aoe={string:(t=>$o.create({...t,coerce:!0})),number:(t=>sf.create({...t,coerce:!0})),boolean:(t=>A1.create({...t,coerce:!0})),bigint:(t=>af.create({...t,coerce:!0})),date:(t=>gp.create({...t,coerce:!0}))};function Zw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}var ooe={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function WT(t,e){function n(i,s,a){if(!(typeof document>"u")){a=Zw({},e,a),typeof a.expires=="number"&&(a.expires=new Date(Date.now()+a.expires*864e5)),a.expires&&(a.expires=a.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var c="";for(var u in a)a[u]&&(c+="; "+u,a[u]!==!0&&(c+="="+a[u].split(";")[0]));return document.cookie=i+"="+t.write(s,i)+c}}function r(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var s=document.cookie?document.cookie.split("; "):[],a={},c=0;c<s.length;c++){var u=s[c].split("="),d=u.slice(1).join("=");try{var h=decodeURIComponent(u[0]);if(a[h]=t.read(d,h),i===h)break}catch{}}return i?a[i]:a}}return Object.create({set:n,get:r,remove:function(i,s){n(i,"",Zw({},s,{expires:-1}))},withAttributes:function(i){return WT(this.converter,Zw({},this.attributes,i))},withConverter:function(i){return WT(Zw({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var ir=WT(ooe,{path:"/"});const z$=Promise.allSettled.bind(Promise)??(t=>Promise.all(t.map((e=>e.then((n=>({status:"fulfilled",value:n}))).catch((n=>({status:"rejected",reason:n})))))));let mh="privy:token",MS="privy-token",US="privy:pat",Xw="privy:refresh_token",BS="privy-refresh-token",gh="privy:id-token",LS="privy-id-token",Jw="privy-session",_j=class extends Uu{set isUsingServerCookies(e){this._isUsingServerCookies=e}async getCustomerAccessToken(){let e=await this._storage.get(mh);try{return typeof e=="string"?new $h(e).value:null}catch(n){return console.error(n),await this.destroyLocalState({reason:"getToken_error"}),null}}async getPrivyAccessToken(){let e=await this._storage.get(US);try{return typeof e=="string"?new $h(e).value:null}catch(n){return console.error(n),await this.destroyLocalState({reason:"getToken_error"}),null}}async getRefreshToken(){let e=await this._storage.get(Xw);return typeof e=="string"?e:null}async getIdentityToken(){let e=await this._storage.get(gh);return typeof e=="string"?e:null}get mightHaveServerCookies(){try{let e=ir.get(Jw);return e!==void 0&&e.length>0}catch(e){console.error(e)}return!1}hasRefreshCredentials(e,n){return this.mightHaveServerCookies||typeof e=="string"&&typeof n=="string"}tokenIsActive(e){if(!e)return!1;let n=$h.parse(e);return n!==null&&!n.isExpired(30)}async destroyLocalState(e){await z$([this._storage.del(mh),this._storage.del(Xw),this._storage.del(gh),this._storage.del(this.GUEST_CREDENTIAL_STORAGE_KEY)]),ir.remove(MS),ir.remove(BS),ir.remove(LS),ir.remove(Jw),e?.reason&&this.emit("storage_cleared",{reason:e.reason})}async storeCustomerAccessToken(e){if(typeof e=="string"){let n=await this._storage.get(mh);if(await this._storage.put(mh,e),!this._isUsingServerCookies){let r=$h.parse(e)?.expiration;ir.set(MS,e,{sameSite:"Strict",secure:!0,expires:r?new Date(1e3*r):void 0})}n!==e&&this.emit("token_stored",{cookiesEnabled:this._isUsingServerCookies})}else{let n=await this._storage.get(mh);await this._storage.del(mh),ir.remove(MS),n!==null&&this.emit("token_cleared",{reason:"set_with_non_string_value"})}}async storePrivyAccessToken(e){typeof e=="string"?await this._storage.put(US,e):await this._storage.del(US)}async storeRefreshToken(e){typeof e=="string"?(await this._storage.put(Xw,e),this._isUsingServerCookies||(ir.set(Jw,"t",{sameSite:"Strict",secure:!0,expires:30}),ir.set(BS,e,{sameSite:"Strict",secure:!0,expires:30})),this.emit("refresh_token_stored",{cookiesEnabled:this._isUsingServerCookies})):(await this._storage.del(Xw),ir.remove(BS),ir.remove(Jw),this.emit("refresh_token_cleared",{reason:"set_with_non_string_value"}))}async updateWithTokensResponse(e){let n=(await z$([this.storeCustomerAccessToken(e.token),this.storePrivyAccessToken(e.privy_access_token),this.storeRefreshToken(e.refresh_token),this.storeIdentityToken(e.identity_token),this.processOAuthTokens(e.oauth_tokens)])).filter((r=>r.status==="rejected"));n.length>0&&this.emit("error_storing_tokens",n.map((r=>String(r.reason))).join(", "))}async processOAuthTokens(e){e&&this.emit("oauth_tokens_granted",e)}async storeIdentityToken(e){if(typeof e=="string"){let n=await this._storage.get(gh);if(await this._storage.put(gh,e),!this._isUsingServerCookies){let r=$h.parse(e)?.expiration;ir.set(LS,e,{sameSite:"Strict",secure:!0,expires:r?new Date(1e3*r):void 0})}n!==e&&this.emit("identity_token_stored",{cookiesEnabled:this._isUsingServerCookies})}else{let n=await this._storage.get(gh);await this._storage.del(gh),ir.remove(LS),n!==null&&this.emit("identity_token_cleared",{reason:"set_with_non_string_value"})}}async getOrCreateGuestCredential(){let e=this._storage.get(this.GUEST_CREDENTIAL_STORAGE_KEY);if(e&&typeof e=="string")return e;let n=Yd(crypto.getRandomValues(new Uint8Array(32)));return await this._storage.put(this.GUEST_CREDENTIAL_STORAGE_KEY,n),n}constructor(e){super(),this._isUsingServerCookies=!1,this._storage=e.storage,this.GUEST_CREDENTIAL_STORAGE_KEY=`privy:guest:${e.appId}`}};_j.events=["storage_cleared","token_cleared","refresh_token_cleared","identity_token_cleared","token_stored","refresh_token_stored","identity_token_stored","oauth_tokens_granted","error_storing_tokens"];var coe=t=>{let e=new AbortController;return setTimeout((()=>e.abort()),t),e.signal};function loe(t){let e=new URLSearchParams;for(let n in t)t[n]!=null&&e.append(n,String(t[n]));return Array.from(e).length?"?"+e.toString():""}const Qw=()=>{};let Vl={NONE:Number.NEGATIVE_INFINITY,ERROR:1,WARN:2,INFO:3,DEBUG:Number.POSITIVE_INFINITY};const uoe=({level:t}={level:"ERROR"})=>({get level(){return t},error:Vl[t]>=Vl.ERROR?console.error:Qw,warn:Vl[t]>=Vl.WARN?console.warn:Qw,info:Vl[t]>=Vl.INFO?console.info:Qw,debug:Vl[t]>=Vl.DEBUG?console.debug:Qw});let jS="privy:caid",doe=class{setCallbacks(e){this.callbacks={...this.callbacks,...e}}get isReady(){return!!this._config}get config(){return this._config}get caid(){return this._analyticsId}async _initialize(){if(this.isReady)this.callbacks?.setIsReady?.(!0);else{if(!await this.isStorageAccessible())throw new nn({code:"storage_error",error:"Unable to access storage"});this._config=await this.getAppConfig(),this._config?.custom_api_url&&(this.baseUrl=this._config.custom_api_url,this.session.isUsingServerCookies=!0),this.callbacks?.setIsReady?.(!0),this._sdkVersion.startsWith("react-auth:")||this.createAnalyticsEvent("sdk_initialize",{})}}getPath(e,{params:n,query:r}){return`${this.baseUrl}${VX(e.path,n)}${loe(r)}`}async fetch(e,{body:n,params:r,query:i,headers:s,onRequest:a=this._beforeRequest.bind(this)}){let c=new Request(this.getPath(e,{params:r,query:i}),{method:e.method,body:JSON.stringify(n),headers:s}),u=await a(c),d=await this._fetch(c,u),h=await d.json();if(d.status>299)throw new sS(h);return h}async _beforeRequestWithoutInitialize(e){let n=await this.session.getPrivyAccessToken()??await this.session.getCustomerAccessToken(),r=new Headers(e.headers);r.set("privy-app-id",this.appId),this.appClientId&&r.set("privy-client-id",this.appClientId),r.set("privy-client",this._sdkVersion),n&&r.set("Authorization",`Bearer ${n}`),r.set("Content-Type","application/json"),r.set("Accept","application/json");let i=await this._getOrGenerateClientAnalyticsId();return i&&r.set("privy-ca-id",i),this.nativeAppIdentifier&&r.set("x-native-app-identifier",this.nativeAppIdentifier),{signal:coe(2e4),headers:r,credentials:"include"}}async beforeRequestWithoutRefresh(e){return await this._initialize(),this._beforeRequestWithoutInitialize(e)}async _beforeRequest(e){return await this._initialize(),await this.getAccessTokenInternal(),this.beforeRequestWithoutRefresh(e)}async getAppConfig(){return await this.fetch(aX,{params:{app_id:this.appId},onRequest:this._beforeRequestWithoutInitialize.bind(this)})}async _getOrGenerateClientAnalyticsId(){if(this._analyticsId)return this._analyticsId;try{let e=await this._storage.get(jS);if(typeof e=="string"&&e.length>0)return this._analyticsId=e,e}catch(e){this.logger.error("Unable to load clientId",e)}try{this._analyticsId=MT()}catch(e){this.logger.error("Unable to generate uuidv4",e)}if(this._analyticsId){try{await this._storage.put(jS,this._analyticsId)}catch(e){this.logger.error(`Unable to store clientId: ${this._analyticsId}`,e)}return this._analyticsId}}async destroyClientAnalyticsId(){try{return await this._storage.del(jS)}catch(e){this.logger.error("Unable to delete clientId",e)}}async createAnalyticsEvent(e,n){try{await this.fetch(sX,{body:{event_name:e,client_id:await this._getOrGenerateClientAnalyticsId(),payload:n},onRequest:this.beforeRequestWithoutRefresh.bind(this)})}catch{}}async refreshSession(e=!1){if(!await this.isStorageAccessible())throw new nn({code:"storage_error",error:"Unable to access storage"});let n=await this.session.getRefreshToken()??void 0,r=n??"key",i=this._cache.get(r);if(i)return this.logger.debug("[privy:refresh] found in-flight session refresh request, deduping"),await i;let s=this._refreshSession(n,e);this._cache.set(r,s);try{return await s}finally{this._cache.delete(r)}}async _refreshSession(e,n){let r=await this.session.getCustomerAccessToken();if(!this.session.hasRefreshCredentials(r,e??null))throw this.logger.debug("[privy:refresh] missing tokens, skipping request"),await this._initialize(),new sS({code:R$.MISSING_OR_INVALID_TOKEN,error:"No tokens found in storage"});try{this.logger.debug(`[privy:refresh] fetching: ${S4.path}`);let i=await this.fetch(S4,{body:{refresh_token:e},onRequest:this.beforeRequestWithoutRefresh.bind(this)}),s=i.session_update_action;return this.logger.debug(`[privy:refresh] response: ${s}`),n||this.callbacks?.setUser?.(i.user),s==="set"&&(await this.session.updateWithTokensResponse(i),this.logger.debug("[privy:refresh] tokens stored")),s==="clear"&&(await this.session.destroyLocalState(),this.logger.debug("[privy:refresh] tokens cleared"),n||this.callbacks?.setUser?.(null)),s==="ignore"&&i.token&&(await this.session.storeCustomerAccessToken(i.token),await this.session.storePrivyAccessToken(i.privy_access_token),this.logger.debug("[privy:refresh] access token stored"),i.identity_token&&(this.logger.debug("[privy:refresh] identity token stored"),await this.session.storeIdentityToken(i.identity_token))),this.logger.debug("[privy:refresh] returning response"),i}catch(i){throw this.logger.debug(`[privy:refresh] error: ${i.message??"unknown error"}`),i instanceof sS&&i.code===R$.MISSING_OR_INVALID_TOKEN&&(await this.session.destroyLocalState(),n||this.callbacks?.setUser?.(null)),i}}async getAccessToken(){let[e,n]=await Promise.all([this.session.getCustomerAccessToken(),this.session.getRefreshToken()]);if(!this.session.tokenIsActive(e)&&this.session.hasRefreshCredentials(e,n)){let r=await this.refreshSession(),i=await this.session.getCustomerAccessToken();return r.token||this.logger.debug("[privy:getAccessToken] expected token received null"),r.token===e&&this.logger.debug("[privy:getAccessToken] expected new token in response received existing"),i===e&&this.logger.debug("[privy:getAccessToken] expected new token in storage received existing"),r.token??i}return e}async getAccessTokenInternal(){let e=await this.getAccessToken();return await this.session.getPrivyAccessToken()??e}async getIdentityToken(){return await this.session.getIdentityToken()}async isStorageAccessible(){try{let e=`privy:__storage__test-${MT()}`,n="blobby";await this._storage.put(e,n);let r=await this._storage.get(e);return await this._storage.del(e),r===n}catch(e){return this.logger.error(e),!1}}constructor(e){this._sdkVersion="js-sdk-core:0.58.5",this._cache=new Map,this.logger=uoe({level:e.logLevel??"ERROR"}),this._storage=e.storage,this._analyticsId=null,this._getOrGenerateClientAnalyticsId(),this.baseUrl=e.baseUrl??"https://auth.privy.io",this.appId=e.appId,this.appClientId=e.appClientId,this._sdkVersion=e.sdkVersion??this._sdkVersion,this.callbacks=e.callbacks,this.nativeAppIdentifier=e.nativeAppIdentifier,this.session=new _j({storage:this._storage,isUsingServerCookies:!1,appId:e.appId}),this._fetch=pj(globalThis.fetch,{retries:3,retryDelay:n=>3**n*500,retryOn:[408,409,425,500,502,503,504]}),this.session.on("error_storing_tokens",(n=>{this.createAnalyticsEvent("error_updating_tokens_in_storage",{reason:n})}))}},foe=class{async get(){let{user:e}=await this._privyInternal.refreshSession();return{user:e}}async acceptTerms(){return{user:await this._privyInternal.fetch(rJ,{})}}constructor(e){this._privyInternal=e}};const Ej=t=>t.type==="wallet"&&t.wallet_client_type==="privy"&&t.connector_type==="embedded",Aj=t=>t?t.linked_accounts.filter(Ej).filter((e=>e.chain_type==="ethereum")).sort(((e,n)=>e.wallet_index-n.wallet_index)):[],F$=t=>Aj(t).find((e=>e.wallet_index===0))??null,Sj=t=>t?t.linked_accounts.filter(Ej).filter((e=>e.chain_type==="solana")).sort(((e,n)=>e.wallet_index-n.wallet_index)):[],hoe=t=>Sj(t).find((e=>e.wallet_index===0))??null,poe=(t,e)=>!(e==="off"||Aj(t).length>0||t.linked_accounts.filter((n=>n.type==="wallet"&&n.chain_type==="ethereum")).length>0&&e!=="all-users"),yoe=(t,e)=>!(e==="off"||Sj(t).length>0||t.linked_accounts.filter((n=>n.type==="wallet"&&n.chain_type==="solana")).length>0&&e!=="all-users"),so=async(t,e,n)=>{let r=poe(e.user,n?.ethereum?.createOnLogin??"off"),i=yoe(e.user,n?.solana?.createOnLogin??"off");if(r&&i){let s=await t.create({recoveryMethod:"privy",skipCallbacks:!0});return{...await t.createSolana({ethereumAccount:F$(s.user)??void 0}),is_new_user:e.is_new_user,oauth_tokens:e.oauth_tokens}}return r?{...await t.create({recoveryMethod:"privy",solanaAccount:hoe(e.user)??void 0}),is_new_user:e.is_new_user,oauth_tokens:e.oauth_tokens}:i?{...await t.createSolana({ethereumAccount:F$(e.user)??void 0}),is_new_user:e.is_new_user,oauth_tokens:e.oauth_tokens}:e};let moe=class{async syncWithToken(e,n,r){let i=await this._privyInternal.fetch(uX,{body:{token:e,mode:r}});await this._privyInternal.session.updateWithTokensResponse(i);let s=await so(this._embedded,i,n?.embedded);return this._privyInternal.callbacks?.setUser?.(s.user),s}constructor(e,n){this._privyInternal=e,this._embedded=n}},goe=class{async sendCode(e,n){return this._privyInternal.fetch($X,{body:{email:e,token:n}})}async loginWithCode(e,n,r,i){let s=await this._privyInternal.fetch(RX,{body:{email:e,code:n,mode:r}});await this._privyInternal.session.updateWithTokensResponse(s);let a=await so(this._embedded,s,i?.embedded);return this._privyInternal.callbacks?.setUser?.(a.user),a}async linkWithCode(e,n){await this._privyInternal.fetch(NX,{body:{email:e,code:n}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}async updateEmail({oldEmailAddress:e,newEmailAddress:n,code:r}){await this._privyInternal.fetch(DX,{body:{oldAddress:e,newAddress:n,code:r}});let i=await this._privyInternal.refreshSession();return{user:i.user,identity_token:i.identity_token}}async unlink(e){await this._privyInternal.fetch(PX,{body:{address:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}constructor(e,n){this._privyInternal=e,this._embedded=n}},boe=class{async initializeAuth({relyingParty:e,redirectUrl:n,token:r}){return await this._privyInternal.fetch(dX,{body:{relying_party:e,redirect_url:n,token:r}})}async getFarcasterStatus({channel_token:e}){return await this._privyInternal.fetch(yX,{headers:{"farcaster-channel-token":e}})}async authenticate({channel_token:e,message:n,signature:r,fid:i,mode:s},a){let c=await this._privyInternal.fetch(fX,{body:{channel_token:e,message:n,signature:r,fid:i,mode:s}});await this._privyInternal.session.updateWithTokensResponse(c);let u=await so(this._embedded,c,a?.embedded);return this._privyInternal.callbacks?.setUser?.(u.user),u}async link({channel_token:e,message:n,signature:r,fid:i}){await this._privyInternal.fetch(hX,{body:{channel_token:e,message:n,signature:r,fid:i}});let s=await this._privyInternal.refreshSession();return{user:s.user,identity_token:s.identity_token}}async unlink({fid:e}){await this._privyInternal.fetch(pX,{body:{fid:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}constructor(e,n){this._privyInternal=e,this._embedded=n}},woe=class{async initializeAuth(){return await this._privyInternal.fetch(mX,{body:{}})}async authenticate({message:e,signature:n,fid:r},i){let s=await this._privyInternal.fetch(gX,{body:{message:e,signature:n,fid:r}});await this._privyInternal.session.updateWithTokensResponse(s);let a=await so(this._embedded,s,i?.embedded);return this._privyInternal.callbacks?.setUser?.(a.user),a}constructor(e,n){this._privyInternal=e,this._embedded=n}},voe=class{async create(e){let n=await this._privyInternal.session.getOrCreateGuestCredential(),r=await this._privyInternal.fetch(bX,{body:{guest_credential:n}});await this._privyInternal.session.updateWithTokensResponse(r);let i=await so(this._embedded,r,e?.embedded);return this._privyInternal.callbacks?.setUser?.(i.user),i}constructor(e,n){this._privyInternal=e,this._embedded=n}};const yu="privy:state_code",mu="privy:code_verifier";async function _oe(t,e){let n=new TextEncoder().encode(t);return new Uint8Array(await e("SHA-256",n))}function Eoe(t){return crypto.getRandomValues(new Uint8Array(t))}function qI(){return Yd(Eoe(36))}function xj(){return qI()}async function Tj({codeVerifier:t,method:e="S256",digest:n=crypto.subtle.digest.bind(crypto.subtle)}){if(e!="S256")return t;{let r=await _oe(t,n);return Yd(r)}}let Aoe=class{async generateURL(e,n){let r=qI(),i=xj(),s=await Tj({codeVerifier:r,digest:this._crypto?.digest});return await Promise.all([this._storage.put(mu,r),this._storage.put(yu,i)]),this._privyInternal.fetch(EX,{body:{redirect_to:n,provider:e,code_challenge:s,state_code:i}})}async loginWithCode(e,n,r,i,s,a){let[c,u]=await Promise.all([this._storage.get(mu),this._storage.get(yu)]);if(u!==n)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"oauth",provider:r,storedStateCode:u??"",returnedStateCode:n??""}),new nn({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let d=await this._privyInternal.fetch(_X,{body:{authorization_code:e,code_type:i,state_code:u,code_verifier:c,mode:s}});await this._privyInternal.session.updateWithTokensResponse(d);let h=await so(this._embedded,d,a?.embedded);return await Promise.all([this._storage.del(mu),this._storage.del(yu)]),this._privyInternal.callbacks?.setUser?.(h.user),h}async linkWithCode(e,n,r,i){let[s,a]=await Promise.all([this._storage.get(mu),this._storage.get(yu)]);if(a!==n)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"oauth",provider:r,storedStateCode:a??"",returnedStateCode:n??""}),new nn({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let c=await this._privyInternal.fetch(AX,{body:{authorization_code:e,code_type:i,state_code:a,code_verifier:s}});await this._privyInternal.session.processOAuthTokens(c.oauth_tokens);let u=await this._privyInternal.refreshSession();return await Promise.all([this._storage.del(mu),this._storage.del(yu)]),{user:u.user,identity_token:u.identity_token}}async unlink(e,n){await this._privyInternal.fetch(SX,{body:{provider:e,subject:n}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}constructor(e,n,r,i){this._privyInternal=e,this._embedded=n,this._storage=r,this._crypto=i}},Soe=class{async generateRegistrationOptions(e){return await this._privyInternal.fetch(kX,{body:{relying_party:e}})}async generateAuthenticationOptions(e){return await this._privyInternal.fetch(CX,{body:{relying_party:e}})}async generateSignupOptions(e){return await this._privyInternal.fetch(OX,{body:{relying_party:e}})}async loginWithPasskey(e,n,r,i){let s=await this._privyInternal.fetch(TX,{body:{relying_party:r,challenge:n,authenticator_response:this._transformAuthenticationResponseToSnakeCase(e)}});await this._privyInternal.session.updateWithTokensResponse(s);let a=await so(this._embedded,s,i?.embedded);return this._privyInternal.callbacks?.setUser?.(a.user),a}async signupWithPasskey(e,n,r){let i=await this._privyInternal.fetch(IX,{body:{relying_party:n,authenticator_response:this._transformRegistrationResponseToSnakeCase(e)}});await this._privyInternal.session.updateWithTokensResponse(i);let s=await so(this._embedded,i,r?.embedded);return this._privyInternal.callbacks?.setUser?.(s.user),s}async linkWithPasskey(e,n){await this._privyInternal.fetch(xX,{body:{relying_party:n,authenticator_response:this._transformRegistrationResponseToSnakeCase(e)}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}_transformRegistrationResponseToSnakeCase(e){return{type:e.type,id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,attestation_object:e.response.attestationObject,authenticator_data:e.response.authenticatorData||void 0,transports:e.response.transports||void 0,public_key:e.response.publicKey||void 0,public_key_algorithm:e.response.publicKeyAlgorithm||void 0},authenticator_attachment:e.authenticatorAttachment||void 0,client_extension_results:{app_id:e.clientExtensionResults.appid||void 0,cred_props:e.clientExtensionResults.credProps||void 0,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret||void 0}}}_transformAuthenticationResponseToSnakeCase(e){return{type:e.type,id:e.id,raw_id:e.rawId,response:{signature:e.response.signature,client_data_json:e.response.clientDataJSON,authenticator_data:e.response.authenticatorData,user_handle:e.response.userHandle||void 0},authenticator_attachment:e.authenticatorAttachment||void 0,client_extension_results:{app_id:e.clientExtensionResults.appid||void 0,cred_props:e.clientExtensionResults.credProps||void 0,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret||void 0}}}constructor(e,n){this._privyInternal=e,this._embedded=n}},xoe=class{async sendCode(e,n){return this._privyInternal.fetch(UX,{body:{phoneNumber:e,token:n}})}async loginWithCode(e,n,r,i){let s=await this._privyInternal.fetch(MX,{body:{phoneNumber:e,code:n,mode:r}});await this._privyInternal.session.updateWithTokensResponse(s);let a=await so(this._embedded,s,i?.embedded);return this._privyInternal.callbacks?.setUser?.(a.user),a}async linkWithCode(e,n){await this._privyInternal.fetch(BX,{body:{phoneNumber:e,code:n}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}async updatePhone({oldPhoneNumber:e,newPhoneNumber:n,code:r}){await this._privyInternal.fetch(jX,{body:{old_phone_number:e,new_phone_number:n,code:r}});let i=await this._privyInternal.refreshSession();return{user:i.user,identity_token:i.identity_token}}async unlink(e){await this._privyInternal.fetch(LX,{body:{phoneNumber:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}constructor(e,n){this._privyInternal=e,this._embedded=n}},Toe=class{async unlinkWallet(e){await this._privyInternal.fetch(JX,{body:{address:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}async linkWithSiwe(e,n,r){let i=n||this._wallet,s=r||this._preparedMessage;if(!i)throw Error("A wallet must be provided in the init step or as an argument to linkWithSiwe");if(!s)throw Error("A message must be generated and signed before being used to link a wallet to privy");await this._privyInternal.fetch(ZX,{body:{message:s,signature:e,chainId:i.chainId,walletClientType:i.walletClientType??null,connectorType:i.connectorType??null}});let a=await this._privyInternal.refreshSession();return{user:a.user,identity_token:a.identity_token}}async loginWithSiwe(e,n,r,i,s){let a=n||this._wallet,c=r||this._preparedMessage;if(!a)throw Error("A wallet must be provided in the init step or as an argument to loginWithSiwe");if(!c)throw Error("A message must be generated and signed before being used to login to privy with a wallet");let u=await this._privyInternal.fetch(YX,{body:{signature:e,message:c,chainId:a.chainId,walletClientType:a.walletClientType??null,connectorType:a.connectorType??null,mode:i}});await this._privyInternal.session.updateWithTokensResponse(u);let d=await so(this._embedded,u,s?.embedded);return this._privyInternal.callbacks?.setUser?.(d.user),d}async init(e,n,r){var i;this._wallet=e;let{nonce:s}=await this._privyInternal.fetch(hB,{body:{address:e.address}}),a=`${(i={chainId:e.chainId.toString().replace("eip155:",""),address:e.address,issuedAt:new Date().toISOString(),statement:"By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.",domain:n,nonce:s,uri:r}).domain} wants you to sign in with your Ethereum account:
${i.address}

${i.statement}

URI: ${i.uri}
Version: 1
Chain ID: ${i.chainId}
Nonce: ${i.nonce}
Issued At: ${i.issuedAt}
Resources:
- https://privy.io`;return this._preparedMessage=a,{nonce:s,message:a}}constructor(e,n){this._wallet=void 0,this._privyInternal=e,this._embedded=n}},Ioe=class{async unlink({address:e}){await this._privyInternal.fetch(nJ,{body:{address:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}async link({message:e,signature:n,walletClientType:r,connectorType:i}){await this._privyInternal.fetch(tJ,{body:{message:e,signature:n,walletClientType:r??null,connectorType:i??null}});let s=await this._privyInternal.refreshSession();return{user:s.user,identity_token:s.identity_token}}async login({mode:e,message:n,signature:r,walletClientType:i,connectorType:s,opts:a}){let c=await this._privyInternal.fetch(eJ,{body:{signature:r,message:n,walletClientType:i??null,connectorType:s??null,mode:e}});await this._privyInternal.session.updateWithTokensResponse(c);let u=await so(this._embedded,c,a?.embedded);return this._privyInternal.callbacks?.setUser?.(u.user),u}async fetchNonce({address:e}){let{nonce:n}=await this._privyInternal.fetch(QX,{body:{address:e}});return{nonce:n}}constructor(e,n){this._privyInternal=e,this._embedded=n}},Coe=class{async link(e,n,r,i){await this._privyInternal.fetch(XX,{body:{message:e,signature:n,smart_wallet_type:r,smart_wallet_version:i}});let s=await this._privyInternal.refreshSession();return{user:s.user,identity_token:s.identity_token}}async init(e){var n;let{nonce:r}=await this._privyInternal.fetch(hB,{body:{address:e.address}});return{nonce:r,message:`${(n={chainId:e.chainId.toString().replace("eip155:",""),address:e.address,issuedAt:new Date().toISOString(),statement:"By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.",domain:"privy.io",uri:"https://auth.privy.io",nonce:r}).domain} wants you to sign in with your Ethereum account:
${n.address}

${n.statement}

URI: ${n.uri}
Version: 1
Chain ID: ${n.chainId}
Nonce: ${n.nonce}
Issued At: ${n.issuedAt}
Resources:
- https://privy.io`}}constructor(e){this._privyInternal=e}},Ooe=class{async logout(e){try{let n=await this._privyInternal.session.getRefreshToken()??void 0;await this._privyInternal.fetch(GX,{body:{refresh_token:n}})}catch{console.warn("Error destroying session")}await Promise.all([this._privyInternal.session.destroyLocalState({reason:"logout"}),this._privyInternal.destroyClientAnalyticsId(),e?.userId&&this._mfa.clearMfa({userId:e.userId})]),this._privyInternal.callbacks?.setUser?.(null)}constructor(e,n,r,i,s){this._privyInternal=e,this._mfa=s,this.customProvider=new moe(this._privyInternal,n),this.phone=new xoe(this._privyInternal,n),this.email=new goe(this._privyInternal,n),this.oauth=new Aoe(this._privyInternal,n,r,i),this.guest=new voe(this._privyInternal,n),this.siwe=new Toe(this._privyInternal,n),this.siws=new Ioe(this._privyInternal,n),this.smartWallet=new Coe(this._privyInternal),this.passkey=new Soe(this._privyInternal,n),this.farcaster=new boe(this._privyInternal,n),this.farcasterV2=new woe(this._privyInternal,n)}},koe=class{async initOnRampSession(e){return await this._privyInternal.fetch(oX,{body:e})}async getStatus(e){return await this._privyInternal.fetch(cX,{query:{partnerUserId:e}})}constructor(e){this._privyInternal=e}};const Roe={prod:{url:"https://api.moonpay.com/v1",key:"pk_live_hirbpu0cVcLHrjktC9l7fbc9ctjv0SL"},sandbox:{url:"https://api.moonpay.com/v1",key:"pk_test_fqWjXZMSFwloh7orvJsRfjiUHXJqFzI"}};let $oe=new Set([Mp.id,N0.id,D0.id,M0.id,P0.id,W3.id]),Noe=new Set([Mp.id,N0.id,H3.id,D0.id,M0.id,P0.id]);function SLe(t,e){switch(e){case"native-currency":return $oe.has(t);case"USDC":return Noe.has(t);default:return console.warn("Unknown asset passed to MoonPay Onramp"),!1}}function xLe(t,e){switch(t){case N0.id:return e==="native-currency"?"ETH_ARBITRUM":"USDC_ARBITRUM";case P0.id:return e==="native-currency"?"AVAX_CCHAIN":"USDC_CCHAIN";case D0.id:return e==="native-currency"?"ETH_BASE":"USDC_BASE";case W3.id:return"CELO_CELO";case M0.id:return e==="native-currency"?"MATIC_POLYGON":"USDC_POLYGON";case Mp.id:return e==="native-currency"?"ETH_ETHEREUM":"USDC_ETHEREUM";default:return console.warn(`Chain ${t} not supported by Moonpay, defaulting to Ethereum mainnet`),"ETH_ETHEREUM"}}let Poe=class{async sign(e){return await this._privyInternal.fetch(iJ,{body:e})}async getTransactionStatus({transactionId:e,useSandbox:n}){let{url:r,key:i}=Roe[n?"sandbox":"prod"],s=await pj(fetch,{retries:3,retryDelay:500})(`${r}/transactions/ext/${e}?apiKey=${i}`);if(!s.ok)throw new PJ({error:`Failed to fetch transaction status for Transaction ${e}`,code:"failed_to_fetch_moonpay_transaction_status",response:s});let a=await s.json();return Array.isArray(a)?a.at(0):void 0}constructor(e){this._privyInternal=e}},Doe=class{constructor(e){this.moonpay=new Poe(e),this.coinbase=new koe(e)}},Moe=class{async generateAuthenticationOptions(e){return await this._privyInternal.fetch(wX,{body:e})}constructor(e){this._privyInternal=e}},Uoe=class{async sendCode(e){return await this._privyInternal.fetch(vX,{body:e})}constructor(e){this._privyInternal=e}},Boe=class{setProxy(e){this.proxy=e}async getAccessTokenInternal(){let e=await this.privyInternal.getAccessTokenInternal();if(!e)throw new nn({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});return e}async verifyMfa(){if(!this.proxy)throw new nn({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.verifyMfa({accessToken:await this.getAccessTokenInternal()})}async initEnrollMfa(e){if(!this.proxy)throw new nn({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.initEnrollMfa({...e,accessToken:await this.getAccessTokenInternal()})}async submitEnrollMfa(e){if(!this.proxy)throw new nn({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});let n=await this.proxy.submitEnrollMfa({...e,accessToken:await this.getAccessTokenInternal()});return await this.privyInternal.refreshSession(),n}async unenrollMfa(e){if(!this.proxy)throw new nn({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});let n=await this.proxy.unenrollMfa({method:e,accessToken:await this.getAccessTokenInternal()});return await this.privyInternal.refreshSession(),n}async clearMfa(e){if(!this.proxy)throw new nn({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.clearMfa(e)}constructor(e,n){this.proxy=n,this.privyInternal=e,this.sms=new Uoe(e),this.passkey=new Moe(e)}},Loe=class{async init(e){return this._privyInternal.fetch(WX,{body:{client_type:e}})}async getICloudConfiguration(e){return this._privyInternal.fetch(HX,{body:{client_type:e}})}constructor(e){this._privyInternal=e}},joe=class{async generateURL(e){let n=qI(),r=xj(),i=await Tj({codeVerifier:n,digest:this._crypto?.digest});return await Promise.all([this._storage.put(mu,n),this._storage.put(yu,r)]),this._privyInternal.fetch(FX,{body:{redirect_to:e,code_challenge:i,state_code:r}})}async authorize(e,n){let[r,i]=await Promise.all([this._storage.get(mu),this._storage.get(yu)]);if(i!==n)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"recovery_oauth",storedStateCode:i??"",returnedStateCode:n??""}),new nn({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let s=await this._privyInternal.fetch(qX,{body:{authorization_code:e,state_code:i,code_verifier:r}});return await Promise.all([this._storage.del(mu),this._storage.del(yu)]),s}constructor(e,n,r){this._privyInternal=e,this._storage=n,this._crypto=r}},zoe=class{async getRecoveryKeyMaterial(e,n){return this._privyInternal.fetch(zX,{body:{chain_type:n},params:{address:e}})}constructor(e,n,r){this._privyInternal=e,this.auth=new joe(this._privyInternal,n,r),this.icloudAuth=new Loe(this._privyInternal)}},Ij=class{async initialize(){await this._privyInternal._initialize()}setMessagePoster(e){this.embeddedWallet.setMessagePoster(e)}addOAuthTokensListener(e){return this._privyInternal.session.on("oauth_tokens_granted",e),{unsubscribe:()=>{this._privyInternal.session.removeListener("oauth_tokens_granted",e)}}}setCallbacks(e){this._privyInternal.setCallbacks(e)}getAccessToken(){return this._privyInternal.getAccessToken()}getIdentityToken(){return this._privyInternal.getIdentityToken()}getCompiledPath(e,n){return this._privyInternal.getPath(e,n)}async fetchPrivyRoute(e,n){return this._privyInternal.fetch(e,n)}get logger(){return this._privyInternal.logger}constructor({clientId:e,...n}){this._privyInternal=new doe({...n,appClientId:e}),this.mfa=new Boe(this._privyInternal),this.mfaPromises=new Sae,this.app=new oJ(this._privyInternal),this.embeddedWallet=new Aae(this._privyInternal,n.embeddedWalletMessagePoster,n.supportedChains,this.mfa,this.mfaPromises,this.app),this.user=new foe(this._privyInternal),this.auth=new Ooe(this._privyInternal,this.embeddedWallet,n.storage,n.crypto,this.mfa),this.recovery=new zoe(this._privyInternal,n.storage,n.crypto),this.funding=new Doe(this._privyInternal),this.delegated=new gJ(this._privyInternal),this.crossApp=new mB(this._privyInternal,n.storage)}};function Ur(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw TypeError("attempted to use private field on non-instance");return t}var Foe=0;function Cj(t){return"__private_"+Foe+++"_"+t}var Un=Cj("_wallet"),As=Cj("_account");let Oj=class{get standardWallet(){return Ur(this,Un)[Un]}get address(){return Ur(this,As)[As].address}async disconnect(){if(!Ur(this,Un)[Un].features["standard:disconnect"]?.disconnect)throw Error("Wallet does not support disconnect");await Ur(this,Un)[Un].features["standard:disconnect"].disconnect()}async signMessage(...e){if(!Ur(this,Un)[Un].features["solana:signMessage"]?.signMessage)throw Error("Wallet does not support signMessage");let n=await Ur(this,Un)[Un].features["solana:signMessage"].signMessage(...e.map((r=>({...r,account:Ur(this,As)[As]}))));return e.length===1?n[0]:[...n]}async signTransaction(...e){if(!Ur(this,Un)[Un].features["solana:signTransaction"]?.signTransaction)throw Error("Wallet does not support signTransaction");let n=await Ur(this,Un)[Un].features["solana:signTransaction"].signTransaction(...e.map((r=>({...r,account:Ur(this,As)[As]}))));return e.length===1?n[0]:[...n]}async signAndSendTransaction(...e){if(!Ur(this,Un)[Un].features["solana:signAndSendTransaction"]?.signAndSendTransaction)throw Error("Wallet does not support signAndSendTransaction");let n=await Ur(this,Un)[Un].features["solana:signAndSendTransaction"].signAndSendTransaction(...e.map((r=>({...r,account:Ur(this,As)[As]}))));return e.length===1?n[0]:[...n]}async signAndSendAllTransactions(e){if(!Ur(this,Un)[Un].features["solana:signAndSendTransaction"]?.signAndSendTransaction)throw Error("Wallet does not support signAndSendTransaction");return[...await Ur(this,Un)[Un].features["solana:signAndSendTransaction"].signAndSendTransaction(...e.map((n=>({...n,account:Ur(this,As)[As]}))))]}constructor({wallet:e,account:n}){Object.defineProperty(this,Un,{writable:!0,value:void 0}),Object.defineProperty(this,As,{writable:!0,value:void 0}),Ur(this,Un)[Un]=e,Ur(this,As)[As]=n}};function $1(t){"@babel/helpers - typeof";return $1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$1(t)}var qoe=/^\s+/,Woe=/\s+$/;function He(t,e){if(t=t||"",e=e||{},t instanceof He)return t;if(!(this instanceof He))return new He(t,e);var n=Hoe(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}He.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),n,r,i,s,a,c;return n=e.r/255,r=e.g/255,i=e.b/255,n<=.03928?s=n/12.92:s=Math.pow((n+.055)/1.055,2.4),r<=.03928?a=r/12.92:a=Math.pow((r+.055)/1.055,2.4),i<=.03928?c=i/12.92:c=Math.pow((i+.055)/1.055,2.4),.2126*s+.7152*a+.0722*c},setAlpha:function(e){return this._a=kj(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=W$(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=W$(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=q$(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=q$(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return H$(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return Yoe(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Hn(this._r,255)*100)+"%",g:Math.round(Hn(this._g,255)*100)+"%",b:Math.round(Hn(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Hn(this._r,255)*100)+"%, "+Math.round(Hn(this._g,255)*100)+"%, "+Math.round(Hn(this._b,255)*100)+"%)":"rgba("+Math.round(Hn(this._r,255)*100)+"%, "+Math.round(Hn(this._g,255)*100)+"%, "+Math.round(Hn(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:oce[H$(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var n="#"+V$(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(e){var s=He(e);r="#"+V$(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(e){var n=!!e;e=e||this._format;var r=!1,i=this._a<1&&this._a>=0,s=!n&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return s?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return He(this.toString())},_applyModification:function(e,n){var r=e.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(Qoe,arguments)},brighten:function(){return this._applyModification(ece,arguments)},darken:function(){return this._applyModification(tce,arguments)},desaturate:function(){return this._applyModification(Zoe,arguments)},saturate:function(){return this._applyModification(Xoe,arguments)},greyscale:function(){return this._applyModification(Joe,arguments)},spin:function(){return this._applyModification(nce,arguments)},_applyCombination:function(e,n){return e.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(sce,arguments)},complement:function(){return this._applyCombination(rce,arguments)},monochromatic:function(){return this._applyCombination(ace,arguments)},splitcomplement:function(){return this._applyCombination(ice,arguments)},triad:function(){return this._applyCombination(G$,[3])},tetrad:function(){return this._applyCombination(G$,[4])}};He.fromRatio=function(t,e){if($1(t)=="object"){var n={};for(var r in t)t.hasOwnProperty(r)&&(r==="a"?n[r]=t[r]:n[r]=cg(t[r]));t=n}return He(t,e)};function Hoe(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,s=null,a=!1,c=!1;return typeof t=="string"&&(t=dce(t)),$1(t)=="object"&&(wc(t.r)&&wc(t.g)&&wc(t.b)?(e=Voe(t.r,t.g,t.b),a=!0,c=String(t.r).substr(-1)==="%"?"prgb":"rgb"):wc(t.h)&&wc(t.s)&&wc(t.v)?(r=cg(t.s),i=cg(t.v),e=Koe(t.h,r,i),a=!0,c="hsv"):wc(t.h)&&wc(t.s)&&wc(t.l)&&(r=cg(t.s),s=cg(t.l),e=Goe(t.h,r,s),a=!0,c="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=kj(n),{ok:a,format:t.format||c,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}function Voe(t,e,n){return{r:Hn(t,255)*255,g:Hn(e,255)*255,b:Hn(n,255)*255}}function q$(t,e,n){t=Hn(t,255),e=Hn(e,255),n=Hn(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s,a,c=(r+i)/2;if(r==i)s=a=0;else{var u=r-i;switch(a=c>.5?u/(2-r-i):u/(r+i),r){case t:s=(e-n)/u+(e<n?6:0);break;case e:s=(n-t)/u+2;break;case n:s=(t-e)/u+4;break}s/=6}return{h:s,s:a,l:c}}function Goe(t,e,n){var r,i,s;t=Hn(t,360),e=Hn(e,100),n=Hn(n,100);function a(d,h,p){return p<0&&(p+=1),p>1&&(p-=1),p<1/6?d+(h-d)*6*p:p<1/2?h:p<2/3?d+(h-d)*(2/3-p)*6:d}if(e===0)r=i=s=n;else{var c=n<.5?n*(1+e):n+e-n*e,u=2*n-c;r=a(u,c,t+1/3),i=a(u,c,t),s=a(u,c,t-1/3)}return{r:r*255,g:i*255,b:s*255}}function W$(t,e,n){t=Hn(t,255),e=Hn(e,255),n=Hn(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s,a,c=r,u=r-i;if(a=r===0?0:u/r,r==i)s=0;else{switch(r){case t:s=(e-n)/u+(e<n?6:0);break;case e:s=(n-t)/u+2;break;case n:s=(t-e)/u+4;break}s/=6}return{h:s,s:a,v:c}}function Koe(t,e,n){t=Hn(t,360)*6,e=Hn(e,100),n=Hn(n,100);var r=Math.floor(t),i=t-r,s=n*(1-e),a=n*(1-i*e),c=n*(1-(1-i)*e),u=r%6,d=[n,a,s,s,c,n][u],h=[c,n,n,a,s,s][u],p=[s,s,c,n,n,a][u];return{r:d*255,g:h*255,b:p*255}}function H$(t,e,n,r){var i=[Ya(Math.round(t).toString(16)),Ya(Math.round(e).toString(16)),Ya(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function Yoe(t,e,n,r,i){var s=[Ya(Math.round(t).toString(16)),Ya(Math.round(e).toString(16)),Ya(Math.round(n).toString(16)),Ya(Rj(r))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function V$(t,e,n,r){var i=[Ya(Rj(r)),Ya(Math.round(t).toString(16)),Ya(Math.round(e).toString(16)),Ya(Math.round(n).toString(16))];return i.join("")}He.equals=function(t,e){return!t||!e?!1:He(t).toRgbString()==He(e).toRgbString()};He.random=function(){return He.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function Zoe(t,e){e=e===0?0:e||10;var n=He(t).toHsl();return n.s-=e/100,n.s=Q_(n.s),He(n)}function Xoe(t,e){e=e===0?0:e||10;var n=He(t).toHsl();return n.s+=e/100,n.s=Q_(n.s),He(n)}function Joe(t){return He(t).desaturate(100)}function Qoe(t,e){e=e===0?0:e||10;var n=He(t).toHsl();return n.l+=e/100,n.l=Q_(n.l),He(n)}function ece(t,e){e=e===0?0:e||10;var n=He(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),He(n)}function tce(t,e){e=e===0?0:e||10;var n=He(t).toHsl();return n.l-=e/100,n.l=Q_(n.l),He(n)}function nce(t,e){var n=He(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,He(n)}function rce(t){var e=He(t).toHsl();return e.h=(e.h+180)%360,He(e)}function G$(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=He(t).toHsl(),r=[He(t)],i=360/e,s=1;s<e;s++)r.push(He({h:(n.h+s*i)%360,s:n.s,l:n.l}));return r}function ice(t){var e=He(t).toHsl(),n=e.h;return[He(t),He({h:(n+72)%360,s:e.s,l:e.l}),He({h:(n+216)%360,s:e.s,l:e.l})]}function sce(t,e,n){e=e||6,n=n||30;var r=He(t).toHsl(),i=360/n,s=[He(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,s.push(He(r));return s}function ace(t,e){e=e||6;for(var n=He(t).toHsv(),r=n.h,i=n.s,s=n.v,a=[],c=1/e;e--;)a.push(He({h:r,s:i,v:s})),s=(s+c)%1;return a}He.mix=function(t,e,n){n=n===0?0:n||50;var r=He(t).toRgb(),i=He(e).toRgb(),s=n/100,a={r:(i.r-r.r)*s+r.r,g:(i.g-r.g)*s+r.g,b:(i.b-r.b)*s+r.b,a:(i.a-r.a)*s+r.a};return He(a)};He.readability=function(t,e){var n=He(t),r=He(e);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};He.isReadable=function(t,e,n){var r=He.readability(t,e),i,s;switch(s=!1,i=fce(n),i.level+i.size){case"AAsmall":case"AAAlarge":s=r>=4.5;break;case"AAlarge":s=r>=3;break;case"AAAsmall":s=r>=7;break}return s};He.mostReadable=function(t,e,n){var r=null,i=0,s,a,c,u;n=n||{},a=n.includeFallbackColors,c=n.level,u=n.size;for(var d=0;d<e.length;d++)s=He.readability(t,e[d]),s>i&&(i=s,r=He(e[d]));return He.isReadable(t,r,{level:c,size:u})||!a?r:(n.includeFallbackColors=!1,He.mostReadable(t,["#fff","#000"],n))};var HT=He.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},oce=He.hexNames=cce(HT);function cce(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function kj(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function Hn(t,e){lce(t)&&(t="100%");var n=uce(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function Q_(t){return Math.min(1,Math.max(0,t))}function Is(t){return parseInt(t,16)}function lce(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function uce(t){return typeof t=="string"&&t.indexOf("%")!=-1}function Ya(t){return t.length==1?"0"+t:""+t}function cg(t){return t<=1&&(t=t*100+"%"),t}function Rj(t){return Math.round(parseFloat(t)*255).toString(16)}function K$(t){return Is(t)/255}var qa=(function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}})();function wc(t){return!!qa.CSS_UNIT.exec(t)}function dce(t){t=t.replace(qoe,"").replace(Woe,"").toLowerCase();var e=!1;if(HT[t])t=HT[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=qa.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=qa.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=qa.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=qa.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=qa.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=qa.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=qa.hex8.exec(t))?{r:Is(n[1]),g:Is(n[2]),b:Is(n[3]),a:K$(n[4]),format:e?"name":"hex8"}:(n=qa.hex6.exec(t))?{r:Is(n[1]),g:Is(n[2]),b:Is(n[3]),format:e?"name":"hex"}:(n=qa.hex4.exec(t))?{r:Is(n[1]+""+n[1]),g:Is(n[2]+""+n[2]),b:Is(n[3]+""+n[3]),a:K$(n[4]+""+n[4]),format:e?"name":"hex8"}:(n=qa.hex3.exec(t))?{r:Is(n[1]+""+n[1]),g:Is(n[2]+""+n[2]),b:Is(n[3]+""+n[3]),format:e?"name":"hex"}:!1}function fce(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:e,size:n}}const VT="https://auth.privy.io",hce=2e4,MLe=1400,ULe=2500,BLe=4e3,pce="3.10.0",lg="privy:token",Y$="privy-token",zS="privy:refresh_token",yce="privy-refresh-token",Bv="privy:pat",Z$="privy:id_token",X$="privy-id-token",FS="privy-session",GT="privy:caid",$j=t=>`privy:guest:${t}`,ev=t=>`privy:cross-app:${t}`,N1="privy:state_code",Xy="privy:code_verifier",P1="privy:headless_oauth",Ag="privy:oauth_disable_signup",qS=t=>`privy:wallet:${t}`,Nj="privy:connections",eE=12e4,LLe=1,J$="0x1",mce=3e4,jLe="https://api.moonpay.com/v1",zLe="https://api.moonpay.com/v1",FLe="pk_live_hirbpu0cVcLHrjktC9l7fbc9ctjv0SL",qLe="pk_test_fqWjXZMSFwloh7orvJsRfjiUHXJqFzI",gce="deprecated",au={appearance:{landingHeader:"Log in or sign up",theme:"light",walletList:["detected_ethereum_wallets","detected_solana_wallets","metamask","coinbase_wallet","rainbow","base_account","wallet_connect","phantom"]},walletConnectCloudProjectId:"34357d3c125c2bcf2ce2bc3309d98715",_render:{standalone:!1},fundingMethodConfig:{moonpay:{useSandbox:!1}}};let bce=new Set(["coinbase_wallet","base_account","cryptocom","metamask","okx_wallet","phantom","rainbow","uniswap","zerion","universal_profile","bybit_wallet","ronin_wallet","haha_wallet","wallet_connect","wallet_connect_qr","wallet_connect_qr_solana","detected_solana_wallets","detected_ethereum_wallets","rabby_wallet","safe","solflare","backpack","jupiter","binance","binanceus","bitget_wallet","kraken_wallet"]),Q$=t=>bce.has(t),eN=(t,e,n)=>n.indexOf(t)===e;const wce=({input:t,overrides:e})=>e?e.primary.concat(e.overflow??[]).filter(Q$).filter(eN):t?t.filter(Q$).filter(eN):au.appearance.walletList;let vce=/paymaster\.biconomy\.io\/api/i,_ce={mode:"SPONSORED",calculateGasLimits:!0,expiryDuration:300,sponsorshipInfo:{webhookData:{},smartAccountInfo:{name:"BICONOMY",version:"2.0.0"}}};const Ece=(t,e)=>t&&vce.test(t)?_ce:e&&e.policy_id?{policyId:e.policy_id}:void 0;function tv(t,e){let n=Math.max(0,Math.min(1,t.toHsl().l+e));return He({...t.toHsl(),l:n})}function WS(t,e){let n=t.getLuminance(),r=e.getLuminance();return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function Ace(t,e){if(!t){let r=e?ug:Lv;return{accent:He(r.background.interactive),accentLight:He(r.background.interactive),accentHover:He(r.background["interactive-hover"]),accentDark:He(r.background["interactive-clicked"]),accentDarkest:He(r.background["interactive-disabled"])}}let n=He(t);return{accent:n,accentLight:tv(n,.15),accentHover:tv(n,.3),accentDark:tv(n,-.06),accentDarkest:tv(n,-.6)}}function Sce({backgroundTheme:t,accentHex:e}){let n,r;t==="light"?n=!1:t==="dark"?n=!0:(n=.5>=He(t).getLuminance(),r=He(t).toHslString());let i=n?"dark":"light",s=n?ug:Lv,{accent:a,accentLight:c,accentHover:u,accentDark:d,accentDarkest:h}=Ace(e,n),p=(function(b){let v=He(Lv.text.default),E=He(ug.text.default),O=WS(b,v),k=WS(b,E),S=b.toHsl();return S.h>=220&&S.h<=300&&k>=3?ug.text.default:O>k?Lv.text.default:ug.text.default})(a),m=He(p),g=WS(a,He(s.background.default))>=3;return{colorScheme:i,background:r||s.background.default,background2:s.background.elevated,background3:s.background.interactive,foreground:s.text.default,foreground2:s.text.muted,foreground3:s.text.placeholder,foreground4:s.border.default,accent:a.toHslString(),accentLight:c.toHslString(),accentHover:u.toHslString(),accentDark:d.toHslString(),accentDarkest:h.toHslString(),foregroundAccent:m.toHslString(),success:s.background.success,successDark:s.text.success,successLight:s.background.success,error:s.text.error,errorLight:s.background.error,warn:s.background.warning,warnLight:s.background.warning,warningDark:s.text.warning,errorDark:s.text.error,successBg:s.background.success,errorBg:s.background.error,errorBgHover:s.background["error-hover"],warnBg:s.background.warning,infoBg:s.background.info,infoBgHover:s.background["info-hover"],borderDefault:s.border.default,borderHover:s.border["default-hover"],borderFocus:s.border.focused,borderError:s.border.error,borderSuccess:s.border.success,borderWarning:s.border.warning,borderInfo:s.border.info,borderInteractive:s.border.interactive,borderInteractiveHover:s.border["interactive-hover"],backgroundHover:s.background["default-hover"],backgroundClicked:s.background["default-clicked"],backgroundDisabled:s.background["default-disabled"],backgroundInteractive:s.background.interactive,backgroundInteractiveHover:s.background["interactive-hover"],backgroundInteractiveClicked:s.background["interactive-clicked"],backgroundInteractiveDisabled:s.background["interactive-disabled"],foregroundHover:s.text.default,foregroundClicked:s.text.default,foregroundDisabled:s.text["default-disabled"],foregroundInteractive:s.text.interactive,foregroundInteractiveHover:s.text["interactive-hover"],accentHasGoodContrast:g?"1":"0",linkNavigationColor:g?a.toHslString():s.text.default,linkNavigationDecoration:g?"none":"underline",iconDefault:s.icon.default,iconMuted:s.icon.muted,iconSubtle:s.icon.subtle,iconInverse:s.icon.inverse,iconSuccess:s.icon.success,iconWarning:s.icon.warning,iconError:s.icon.error,iconInteractive:s.icon.interactive,iconDefaultHover:s.icon["default-hover"],iconMutedHover:s.icon["muted-hover"],iconSubtleHover:s.icon["subtle-hover"],iconDefaultClicked:s.icon["default-clicked"],iconMutedClicked:s.icon["muted-clicked"],iconSubtleClicked:s.icon["subtle-clicked"],iconDefaultDisabled:s.icon["default-disabled"],iconMutedDisabled:s.icon["muted-disabled"],iconSubtleDisabled:s.icon["subtle-disabled"],iconErrorHover:s.icon["error-hover"],iconInteractiveHover:s.icon["interactive-hover"],iconErrorClicked:s.icon["error-clicked"],iconInteractiveClicked:s.icon["interactive-clicked"],iconMutedDisabledAlt:s.icon["muted-disabled"],iconSubtleDisabledAlt:s.icon["subtle-disabled"]}}const ug={background:{default:"#020713",elevated:"#1A2230","default-hover":"#101724","default-clicked":"#1A2230","default-disabled":"#020713",success:"#0E3E2D",warning:"#373827",error:"#2E0C18",interactive:"#8B86FF","error-hover":"#441821","interactive-hover":"#7B73E5","interactive-clicked":"#6560CC","interactive-disabled":"#141824",info:"#1F2937","info-hover":"#141824"},icon:{default:"#F8F8F8",muted:"#9BA2AE",subtle:"#7B8491",inverse:"#020713",success:"#88E3B5",warning:"#FDF27B",error:"#EF4444",interactive:"#88B6FF","default-hover":"#F8F8F8","muted-hover":"#AEB3BD","subtle-hover":"#8B939E","default-clicked":"#F8F8F8","muted-clicked":"#9097A5","subtle-clicked":"#78818E","default-disabled":"#404452","muted-disabled":"#404452","subtle-disabled":"#404452","error-hover":"#F05555","interactive-hover":"#7B73E5","error-clicked":"#EF4444","interactive-clicked":"#6560CC"},text:{default:"#F8F8F8",muted:"#9BA2AE",placeholder:"#7B8491",success:"#ACEECB",warning:"#FEF9A0",error:"#FCA5A5",interactive:"#A29EFF","default-disabled":"#404452","interactive-hover":"#8C88E5"},border:{default:"#1F2937",interactive:"#88B0FF",focused:"#F8F8FC",info:"#5B83D3",success:"#317056",warning:"#FBBF24",error:"#F87171","default-hover":"#34304A","interactive-hover":"#88B0FF"}},Lv={background:{default:"#FFFFFF",elevated:"#F1F2F9","default-hover":"#F8F9FC","default-clicked":"#F1F2F9","default-disabled":"#FFFFFF",success:"#DCFCE7",warning:"#FEF3C7",error:"#FEE2E2",interactive:"#5B4FFF","error-hover":"#FECACA","interactive-hover":"#4F46E5","interactive-clicked":"#4338CA","interactive-disabled":"#F1F2F9",info:"#E0E7FF","info-hover":"#EEF2FF"},icon:{default:"#110F2A",muted:"#64668B",subtle:"#9498B8",inverse:"#FFFFFF",success:"#33B287",warning:"#F59E0B",error:"#EF4444",interactive:"#564FFF","default-hover":"#1D1B35","muted-hover":"#64668B","subtle-hover":"#888AAE","default-clicked":"#060C23","muted-clicked":"#64668B","subtle-clicked":"#788804","default-disabled":"#CBCDE1","muted-disabled":"#CBCDE1","subtle-disabled":"#CBCDE1","error-hover":"#F06060","interactive-hover":"#4F46E5","error-clicked":"#DC3838","interactive-clicked":"#2BA482"},text:{default:"#040217",muted:"#64668B",placeholder:"#9498B8",success:"#135638",warning:"#906218",error:"#991B1B",interactive:"#5B4FFF","default-disabled":"#CBCDE1","interactive-hover":"#5B4FFF"},border:{default:"#E2E3F0",interactive:"#5B4FFF",focused:"#949DF9",info:"#F1F2F9",success:"#87D7B7",warning:"#FACD63",error:"#F69393","default-hover":"#E2E3F0","interactive-hover":"#5B4FFF"}};function Pj(t,e,n,r,i){let s,a,c,u,d,h,p,m,g,b,v,E,O,k,S,A,C,I=n?console.warn:()=>{},N=[];if(e?.loginMethods)for(let Te of(s=e.loginMethods.includes("email"),a=e.loginMethods.includes("sms"),u=e.loginMethods.includes("wallet"),d=e.loginMethods.includes("google"),h=e.loginMethods.includes("twitter"),p=e.loginMethods.includes("discord"),v=e.loginMethods.includes("spotify"),E=e.loginMethods.includes("instagram"),m=e.loginMethods.includes("tiktok"),g=e.loginMethods.includes("line"),b=e.loginMethods.includes("twitch"),k=e.loginMethods.includes("github"),O=e.loginMethods.includes("linkedin"),S=e.loginMethods.includes("apple"),A=e.loginMethods.includes("farcaster"),C=e.loginMethods.includes("telegram"),c=e.loginMethods.includes("passkey"),e.loginMethods))typeof Te=="string"&&Te.startsWith("privy:")&&N.push(Te);else s=t.email_auth,a=t.sms_auth,u=t.wallet_auth||t.solana_wallet_auth,d=t.google_oauth,h=t.twitter_oauth,p=t.discord_oauth,k=t.github_oauth,v=t.spotify_oauth,E=t.instagram_oauth,m=t.tiktok_oauth,g=t.line_oauth,b=t.twitch_oauth,O=t.linkedin_oauth,S=t.apple_oauth,A=t.farcaster_auth,C=t.telegram_auth,c=t.passkey_auth;t.passkey_auth&&(c=!0),typeof window<"u"&&typeof window.PublicKeyCredential!="function"&&(c=!1);let z=[s,a].filter(Boolean),L=[d,h,p,k,v,E,m,g,O,S,A,C].filter(Boolean),B=[u].filter(Boolean),H=e?.loginMethods?.includes("passkey")??!1,D=t.passkeys_for_signup_enabled??!1,F=[c&&(D||H)].filter(Boolean);if(z.length+L.length+B.length+F.length+N.length===0)throw Error("You must enable at least one login method");let K=e?.appearance?.showWalletLoginFirst!==void 0?e?.appearance?.showWalletLoginFirst:t.show_wallet_login_first;K&&B.length===0?(I("You should only enable `showWalletLoginFirst` when `wallet` logins are also enabled. `showWalletLoginFirst` has been set to false"),K=!1):K||L.length+z.length!==0||(I("You should only disable `showWalletLoginFirst` when `email`, `sms`, or social logins are also enabled. `showWalletLoginFirst` has been set to true"),K=!0);let T=e?.externalWallets?.walletConnect?.enabled??!0;e?.loginMethods&&e.loginMethodsAndOrder&&I("You should only configure one of `loginMethods` or `loginMethodsAndOrder`");let x=wce({input:e?.appearance?.walletList,overrides:e?.loginMethodsAndOrder});if((x.includes("wallet_connect_qr")||x.includes("wallet_connect"))&&x.includes("wallet_connect_qr_solana"))throw Error("wallet_connect_qr and wallet_connect_qr_solana cannot both be present in walletList due to WalletConnect session conflicts.");let $=(({input:Te})=>{if(!Te||!Te.primary[0])return;let Ee=[Te.primary[0]],Pe=[];for(let qe of(Te.primary.length>4&&console.warn("You should not specify greater than 4 login methods in `loginMethodsAndOrder.primary`"),Te.primary.slice(1)))Ee.includes(qe)?console.warn(`Duplicated login method: ${qe}`):Ee.push(qe);for(let qe of Te.overflow??[])Ee.includes(qe)||Pe.includes(qe)?console.warn(`Duplicated login method: ${qe}`):Pe.push(qe);return{primary:Ee,overflow:Pe}})({input:e?.loginMethodsAndOrder}),j=e?.intl?.defaultCountry??"US",{chains:P,defaultChain:V}=(function({supportedChains:Te,defaultChainFromConfig:Ee}){let Pe;if(Te){if(Te.length===0)throw Error("`supportedChains` must contain at least one chain");Pe=AB(Te)}else Pe=[...T_];let qe=Te?Pe[0]:Mp,rt=Ee??qe;if(!Pe.find((ye=>ye.id===rt.id)))throw Error("`defaultChain` must be included in `supportedChains`");return{chains:Pe,defaultChain:rt}})({supportedChains:e?.supportedChains,defaultChainFromConfig:e?.defaultChain}),M=!!e?.defaultChain,G=e?.customAuth?.getCustomAccessToken&&e?.customAuth?.enabled!==!1,J=G?"all-users":t.embedded_wallet_config.ethereum.create_on_login,X=t.embedded_wallet_config.solana.create_on_login;t.solana_wallet_auth&&!e?.externalWallets?.solana?.connectors&&console.warn("App configuration has Solana wallet login enabled, but no Solana wallet connectors have been passed to Privy. Make sure to pass Solana connectors to the `config.externalWallets.solana.connectors` field of the `PrivyProvider`");let Q=t.telegram_auth_config?{botId:t.telegram_auth_config.bot_id,botName:t.telegram_auth_config.bot_name,linkEnabled:t.telegram_auth_config.link_enabled,seamlessAuthEnabled:t.telegram_auth_config.seamless_auth_enabled}:void 0,ge=t.funding_config?{methods:t.funding_config.methods,options:t.funding_config.options,defaultRecommendedAmount:t.funding_config.default_recommended_amount,defaultRecommendedCurrency:t.funding_config.default_recommended_currency,promptFundingOnWalletCreation:t.funding_config.prompt_funding_on_wallet_creation,crossChainBridgingEnabled:t.funding_config.cross_chain_bridging_enabled}:void 0,we=t.smart_wallet_config;return{id:t.id,appClientId:i,name:t.name,allowlistConfig:{errorTitle:t.allowlist_config.error_title,errorDetail:t.allowlist_config.error_detail,errorCtaText:t.allowlist_config.cta_text,errorCtaLink:t.allowlist_config.cta_link},legacyWalletUiConfig:t.legacy_wallet_ui_config,appearance:{logo:e?.appearance?.logo??t.logo_url??void 0,landingHeader:e?.appearance?.landingHeader??au.appearance.landingHeader,loginMessage:typeof e?.appearance?.loginMessage=="string"?e?.appearance?.loginMessage.slice(0,100):e?.appearance?.loginMessage,footerLogo:e?.appearance?.footerLogo,palette:Sce({backgroundTheme:e?.appearance?.theme??au.appearance.theme,accentHex:e?.appearance?.accentColor??t.accent_color}),loginGroupPriority:K?"web3-first":"web2-first",hideDirectWeb2Inputs:!!e?.appearance?.hideDirectWeb2Inputs,walletList:x,walletChainType:e?.appearance?.walletChainType??(({evmWalletAuth:Te,solanaWalletAuth:Ee})=>Te&&Ee?"ethereum-and-solana":Te?"ethereum-only":Ee?"solana-only":"ethereum-only")({evmWalletAuth:t.wallet_auth??!1,solanaWalletAuth:t.solana_wallet_auth??!1})},loginMethods:{wallet:u,email:s,sms:a,passkey:c,google:d,twitter:h,discord:p,github:k,spotify:v,instagram:E,tiktok:m,line:g,twitch:b,linkedin:O,apple:S,farcaster:A,telegram:C},customOAuthProviders:(t.custom_oauth_providers??[]).filter((Te=>Te.enabled!==!1)),crossAppProviders:N,disablePlusEmails:t.disable_plus_emails,loginMethodsAndOrder:$,legal:{termsAndConditionsUrl:e?.legal?.termsAndConditionsUrl??t.terms_and_conditions_url,privacyPolicyUrl:e?.legal?.privacyPolicyUrl??t.privacy_policy_url,requireUsersAcceptTerms:t.require_users_accept_terms??!1},walletConnectCloudProjectId:e?.walletConnectCloudProjectId??t.wallet_connect_cloud_project_id??au.walletConnectCloudProjectId,rpcConfig:{rpcUrls:{},rpcTimeouts:e?.externalWallets?.signatureRequestTimeouts??{}},chains:P,defaultChain:V,intl:{defaultCountry:j,textLocalization:e?.intl?.textLocalization},shouldEnforceDefaultChainOnConnect:M,captcha:{enabledProvider:t.enabled_captcha_provider??null,siteKey:t.captcha_site_key},externalWallets:{coinbaseWallet:{config:{appName:t.name,appLogoUrl:t.logo_url,preference:{options:"all",...e?.externalWallets?.coinbaseWallet?.config?.preference},...e?.externalWallets?.coinbaseWallet?.config}},baseAccount:{config:{appName:t.name,appLogoUrl:t.logo_url,...e?.externalWallets?.baseAccount?.config,preference:{...e?.externalWallets?.baseAccount?.config?.preference,telemetry:!1}}},walletConnect:{enabled:T},solana:{connectors:e?.externalWallets?.solana?.connectors},disableAllExternalWallets:e?.externalWallets?.disableAllExternalWallets??!1},embeddedWallets:{requireUserOwnedRecoveryOnCreate:!G&&(t.embedded_wallet_config.require_user_owned_recovery_on_create??!1),userOwnedRecoveryOptions:G?["user-passcode"]:t.embedded_wallet_config.user_owned_recovery_options,priceDisplay:e?.embeddedWallets?.priceDisplay??{primary:"fiat-currency",secondary:"native-token"},ethereum:{createOnLogin:e?.embeddedWallets?.ethereum?.createOnLogin??J},solana:{createOnLogin:e?.embeddedWallets?.solana?.createOnLogin??X},disableAutomaticMigration:e?.embeddedWallets?.disableAutomaticMigration??!1,mode:t.embedded_wallet_config.mode,showWalletUIs:e?.embeddedWallets?.showWalletUIs??t.enforce_wallet_uis??!0,extendedCalldataDecoding:e?.embeddedWallets?.extendedCalldataDecoding??!1,transactionScanning:{enabled:e?.embeddedWallets?.transactionScanning?.enabled??!1,domain:e?.embeddedWallets?.transactionScanning?.domain??r??"https://auth.privy.io"}},mfa:{methods:t.mfa_methods??[],noPromptOnMfaRequired:e?.mfa?.noPromptOnMfaRequired??!1},passkeys:{shouldUnlinkOnUnenrollMfa:e?.passkeys?.shouldUnlinkOnUnenrollMfa,shouldUnenrollMfaOnUnlink:e?.passkeys?.shouldUnenrollMfaOnUnlink,registration:e?.passkeys?.registration},customAuth:G?{enabled:!0,...e.customAuth}:void 0,loginConfig:{telegramAuthConfiguration:Q,passkeysForSignupEnabled:t.passkeys_for_signup_enabled},headless:!!e?.headless,render:{standalone:e?._render?.standalone??au._render.standalone},fundingConfig:ge,fundingMethodConfig:{...e?.fundingMethodConfig??au.fundingMethodConfig,moonpay:{...e?.fundingMethodConfig?.moonpay??au.fundingMethodConfig.moonpay,useSandbox:e?.fundingMethodConfig?.moonpay.useSandbox??au.fundingMethodConfig.moonpay.useSandbox}},whatsAppEnabled:!!t.whatsapp_enabled,customOAuthRedirectUrl:e?.customOAuthRedirectUrl,allowOAuthInEmbeddedBrowsers:e?.allowOAuthInEmbeddedBrowsers??!1,solanaRpcs:{"solana:mainnet":e?.solana?.rpcs?.["solana:mainnet"]??null,"solana:devnet":e?.solana?.rpcs?.["solana:devnet"]??null,"solana:testnet":e?.solana?.rpcs?.["solana:testnet"]??null},smartWallets:we?.enabled?{enabled:we.enabled,smartWalletVersion:we.smart_wallet_version,smartWalletType:we.smart_wallet_type,configuredNetworks:we.configured_networks.map((Te=>({chainId:Te.chain_id,bundlerUrl:Te.bundler_url,paymasterUrl:Te.paymaster_url,paymasterContext:Ece(Te.paymaster_url,Te.paymaster_context)})))}:{enabled:we?.enabled??!1}}}const Dj={show_wallet_login_first:!0,allowlist_config:{error_title:null,error_detail:null,cta_text:null,cta_link:null},wallet_auth:!0,email_auth:!0,sms_auth:!1,google_oauth:!1,twitter_oauth:!1,discord_oauth:!1,github_oauth:!1,linkedin_oauth:!1,apple_oauth:!1,disable_plus_emails:!1,terms_and_conditions_url:null,privacy_policy_url:null,embedded_wallet_config:{create_on_login:"off",ethereum:{create_on_login:"off"},solana:{create_on_login:"off"},require_user_owned_recovery_on_create:!1,user_owned_recovery_options:["user-passcode"],mode:"user-controlled-server-wallets-only"},captcha_site_key:"",enforce_wallet_uis:!1,legacy_wallet_ui_config:!1,id:"",name:"",passkeys_for_signup_enabled:!1,whatsapp_enabled:!1};let WI=Y.createContext({appConfig:Pj(Dj,void 0,!1),isServerConfigLoaded:!1});const xce=({children:t,client:e,legacyClient:n,clientConfig:r,appClientId:i})=>{let[s,a]=Y.useState(null),c=Y.useMemo((()=>Pj(s??Dj,r,!!s,typeof window<"u"?window.location.origin:void 0,i)),[s,r,i]);return Y.useEffect((()=>{if(!s)return;let u=(function(p){if(!p)return{};let{appearance:m,supportedChains:g,defaultChain:b,externalWallets:v,...E}=p;return{...E,...g?{supportedChains:g.map((O=>O.id))}:void 0,...b?{defaultChain:b.id}:void 0,...v?{walletConnect:v.walletConnect?{enabled:v.walletConnect.enabled}:void 0,coinbaseWallet:v.coinbaseWallet,solana:{connectors:v.solana?.connectors?.get().map((O=>O.walletClientType))}}:void 0}})(r),d=(function(p,m=0){let g=3735928559^m,b=1103547991^m;for(let v,E=0;E<p.length;E++)g=Math.imul(g^(v=p.charCodeAt(E)),2654435761),b=Math.imul(b^v,1597334677);return g=Math.imul(g^g>>>16,2246822507)^Math.imul(b^b>>>13,3266489909),4294967296*(2097151&(b=Math.imul(b^b>>>16,2246822507)^Math.imul(g^g>>>13,3266489909)))+(g>>>0)})(JSON.stringify(u)).toString(),h=`privy:sent:${s.id}:${d}`;localStorage.getItem(h)||(n.createAnalyticsEvent({eventName:"sdk_initialize",payload:u}),localStorage.setItem(h,"t"))}),[r,s]),Y.useEffect((()=>{s||(async()=>{try{await e.initialize();let u=e.app.getConfig();u.custom_api_url&&n.updateApiUrl(u.custom_api_url),a(u)}catch(u){console.warn("Error generating app config: ",u)}})()}),[]),he.jsx(WI.Provider,{value:{appConfig:c,isServerConfigLoaded:!!s},children:t})},Sa=()=>{let{appConfig:t}=Y.useContext(WI);return t},Mj=()=>{let{isServerConfigLoaded:t}=Y.useContext(WI);return t},Tce=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,Ice=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,Cce=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function Oce(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){kce(t);return}return e}function kce(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function dg(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const n=t.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!Cce.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(Tce.test(t)||Ice.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,Oce)}return JSON.parse(t)}catch(r){if(e.strict)throw r;return t}}const Rce=/#/g,$ce=/&/g,Nce=/\//g,Pce=/=/g,HI=/\+/g,Dce=/%5e/gi,Mce=/%60/gi,Uce=/%7c/gi,Bce=/%20/gi;function Lce(t){return encodeURI(""+t).replace(Uce,"|")}function KT(t){return Lce(typeof t=="string"?t:JSON.stringify(t)).replace(HI,"%2B").replace(Bce,"+").replace(Rce,"%23").replace($ce,"%26").replace(Mce,"`").replace(Dce,"^").replace(Nce,"%2F")}function HS(t){return KT(t).replace(Pce,"%3D")}function Uj(t=""){try{return decodeURIComponent(""+t)}catch{return""+t}}function jce(t){return Uj(t.replace(HI," "))}function zce(t){return Uj(t.replace(HI," "))}function Fce(t=""){const e=Object.create(null);t[0]==="?"&&(t=t.slice(1));for(const n of t.split("&")){const r=n.match(/([^=]+)=?(.*)/)||[];if(r.length<2)continue;const i=jce(r[1]);if(i==="__proto__"||i==="constructor")continue;const s=zce(r[2]||"");e[i]===void 0?e[i]=s:Array.isArray(e[i])?e[i].push(s):e[i]=[e[i],s]}return e}function qce(t,e){return(typeof e=="number"||typeof e=="boolean")&&(e=String(e)),e?Array.isArray(e)?e.map(n=>`${HS(t)}=${KT(n)}`).join("&"):`${HS(t)}=${KT(e)}`:HS(t)}function Wce(t){return Object.keys(t).filter(e=>t[e]!==void 0).map(e=>qce(e,t[e])).filter(Boolean).join("&")}const Hce=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,Vce=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,Gce=/^([/\\]\s*){2,}[^/\\]/,Kce=/^\.?\//;function Bj(t,e={}){return typeof e=="boolean"&&(e={acceptRelative:e}),e.strict?Hce.test(t):Vce.test(t)||(e.acceptRelative?Gce.test(t):!1)}function Yce(t="",e){return t.endsWith("/")}function Zce(t="",e){return(Yce(t)?t.slice(0,-1):t)||"/"}function Xce(t="",e){return t.endsWith("/")?t:t+"/"}function Jce(t,e){if(ele(e)||Bj(t))return t;const n=Zce(e);return t.startsWith(n)?t:nle(n,t)}function Qce(t,e){const n=rle(t),r={...Fce(n.search),...e};return n.search=Wce(r),ile(n)}function ele(t){return!t||t==="/"}function tle(t){return t&&t!=="/"}function nle(t,...e){let n=t||"";for(const r of e.filter(i=>tle(i)))if(n){const i=r.replace(Kce,"");n=Xce(n)+i}else n=r;return n}const Lj=Symbol.for("ufo:protocolRelative");function rle(t="",e){const n=t.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(n){const[,p,m=""]=n;return{protocol:p.toLowerCase(),pathname:m,href:p+m,auth:"",host:"",search:"",hash:""}}if(!Bj(t,{acceptRelative:!0}))return tN(t);const[,r="",i,s=""]=t.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,a="",c=""]=s.match(/([^#/?]*)(.*)?/)||[];r==="file:"&&(c=c.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:u,search:d,hash:h}=tN(c);return{protocol:r.toLowerCase(),auth:i?i.slice(0,Math.max(0,i.length-1)):"",host:a,pathname:u,search:d,hash:h,[Lj]:!r}}function tN(t=""){const[e="",n="",r=""]=(t.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:e,search:n,hash:r}}function ile(t){const e=t.pathname||"",n=t.search?(t.search.startsWith("?")?"":"?")+t.search:"",r=t.hash||"",i=t.auth?t.auth+"@":"",s=t.host||"";return(t.protocol||t[Lj]?(t.protocol||"")+"//":"")+i+s+e+n+r}class jj extends Error{constructor(e,n){super(e,n),this.name="FetchError",n?.cause&&!this.cause&&(this.cause=n.cause)}}function sle(t){const e=t.error?.message||t.error?.toString()||"",n=t.request?.method||t.options?.method||"GET",r=t.request?.url||String(t.request)||"/",i=`[${n}] ${JSON.stringify(r)}`,s=t.response?`${t.response.status} ${t.response.statusText}`:"<no response>",a=`${i}: ${s}${e?` ${e}`:""}`,c=new jj(a,t.error?{cause:t.error}:void 0);for(const u of["request","options","response"])Object.defineProperty(c,u,{get(){return t[u]}});for(const[u,d]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(c,u,{get(){return t.response&&t.response[d]}});return c}const ale=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function nN(t="GET"){return ale.has(t.toUpperCase())}function ole(t){if(t===void 0)return!1;const e=typeof t;return e==="string"||e==="number"||e==="boolean"||e===null?!0:e!=="object"?!1:Array.isArray(t)?!0:t.buffer||t instanceof FormData||t instanceof URLSearchParams?!1:t.constructor&&t.constructor.name==="Object"||typeof t.toJSON=="function"}const cle=new Set(["image/svg","application/xml","application/xhtml","application/html"]),lle=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function ule(t=""){if(!t)return"json";const e=t.split(";").shift()||"";return lle.test(e)?"json":e==="text/event-stream"?"stream":cle.has(e)||e.startsWith("text/")?"text":"blob"}function dle(t,e,n,r){const i=fle(e?.headers??t?.headers,n?.headers,r);let s;return(n?.query||n?.params||e?.params||e?.query)&&(s={...n?.params,...n?.query,...e?.params,...e?.query}),{...n,...e,query:s,params:s,headers:i}}function fle(t,e,n){if(!e)return new n(t);const r=new n(e);if(t)for(const[i,s]of Symbol.iterator in t||Array.isArray(t)?t:new n(t))r.set(i,s);return r}async function nv(t,e){if(e)if(Array.isArray(e))for(const n of e)await n(t);else await e(t)}const hle=new Set([408,409,425,429,500,502,503,504]),ple=new Set([101,204,205,304]);function zj(t={}){const{fetch:e=globalThis.fetch,Headers:n=globalThis.Headers,AbortController:r=globalThis.AbortController}=t;async function i(c){const u=c.error&&c.error.name==="AbortError"&&!c.options.timeout||!1;if(c.options.retry!==!1&&!u){let h;typeof c.options.retry=="number"?h=c.options.retry:h=nN(c.options.method)?0:1;const p=c.response&&c.response.status||500;if(h>0&&(Array.isArray(c.options.retryStatusCodes)?c.options.retryStatusCodes.includes(p):hle.has(p))){const m=typeof c.options.retryDelay=="function"?c.options.retryDelay(c):c.options.retryDelay||0;return m>0&&await new Promise(g=>setTimeout(g,m)),s(c.request,{...c.options,retry:h-1})}}const d=sle(c);throw Error.captureStackTrace&&Error.captureStackTrace(d,s),d}const s=async function(u,d={}){const h={request:u,options:dle(u,d,t.defaults,n),response:void 0,error:void 0};if(h.options.method&&(h.options.method=h.options.method.toUpperCase()),h.options.onRequest&&(await nv(h,h.options.onRequest),h.options.headers instanceof n||(h.options.headers=new n(h.options.headers||{}))),typeof h.request=="string"&&(h.options.baseURL&&(h.request=Jce(h.request,h.options.baseURL)),h.options.query&&(h.request=Qce(h.request,h.options.query),delete h.options.query),"query"in h.options&&delete h.options.query,"params"in h.options&&delete h.options.params),h.options.body&&nN(h.options.method))if(ole(h.options.body)){const g=h.options.headers.get("content-type");typeof h.options.body!="string"&&(h.options.body=g==="application/x-www-form-urlencoded"?new URLSearchParams(h.options.body).toString():JSON.stringify(h.options.body)),g||h.options.headers.set("content-type","application/json"),h.options.headers.has("accept")||h.options.headers.set("accept","application/json")}else("pipeTo"in h.options.body&&typeof h.options.body.pipeTo=="function"||typeof h.options.body.pipe=="function")&&("duplex"in h.options||(h.options.duplex="half"));let p;if(!h.options.signal&&h.options.timeout){const g=new r;p=setTimeout(()=>{const b=new Error("[TimeoutError]: The operation was aborted due to timeout");b.name="TimeoutError",b.code=23,g.abort(b)},h.options.timeout),h.options.signal=g.signal}try{h.response=await e(h.request,h.options)}catch(g){return h.error=g,h.options.onRequestError&&await nv(h,h.options.onRequestError),await i(h)}finally{p&&clearTimeout(p)}if((h.response.body||h.response._bodyInit)&&!ple.has(h.response.status)&&h.options.method!=="HEAD"){const g=(h.options.parseResponse?"json":h.options.responseType)||ule(h.response.headers.get("content-type")||"");switch(g){case"json":{const b=await h.response.text(),v=h.options.parseResponse||dg;h.response._data=v(b);break}case"stream":{h.response._data=h.response.body||h.response._bodyInit;break}default:h.response._data=await h.response[g]()}}return h.options.onResponse&&await nv(h,h.options.onResponse),!h.options.ignoreResponseError&&h.response.status>=400&&h.response.status<600?(h.options.onResponseError&&await nv(h,h.options.onResponseError),await i(h)):h.response},a=async function(u,d){return(await s(u,d))._data};return a.raw=s,a.native=(...c)=>e(...c),a.create=(c={},u={})=>zj({...t,...u,defaults:{...t.defaults,...u.defaults,...c}}),a}const D1=(function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")})(),yle=D1.fetch?(...t)=>D1.fetch(...t):()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!")),mle=D1.Headers,gle=D1.AbortController,ble=zj({fetch:yle,Headers:mle,AbortController:gle});var ot;let Bu=class extends Error{toString(){return`${this.type}${this.privyErrorCode?`-${this.privyErrorCode}`:""}: ${this.message}${this.cause?` [cause: ${this.cause}]`:""}`}constructor(e,n,r){super(e),n instanceof Error&&(this.cause=n),this.privyErrorCode=r}},M1=class extends Bu{constructor(e,n,r,i,s,a){super(r,i,s),this.type=e,this.status=n,this.data=a}},se=class extends Bu{constructor(e,n,r){super(e,n,r),this.type="client_error"}},wle=class extends se{constructor(){super("Request timed out",void 0,"client_request_timeout")}},zn=class extends Bu{constructor(e,n,r){super(e,n,r),this.type="connector_error"}};const Gt=t=>{if(t instanceof Bu)return t;if(!(t instanceof jj))return Wn(t);if(!t.response)return new M1("api_error",null,t.message,t);let{type:e,message:n,error:r,code:i}=t.data;return new M1(e||"ApiError",t.response.status,n||r,t,i,t.data)},Wn=t=>t instanceof Bu?t:t instanceof Error?new se(t.message,t):new se(`Internal error: ${t}`);var Ae=((ot={}).OAUTH_ACCOUNT_SUSPENDED="oauth_account_suspended",ot.MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",ot.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",ot.MISSING_OR_INVALID_TOKEN="missing_or_invalid_token",ot.INVALID_DATA="invalid_data",ot.INVALID_CAPTCHA="invalid_captcha",ot.LINKED_TO_ANOTHER_USER="linked_to_another_user",ot.CANNOT_LINK_MORE_OF_TYPE="cannot_link_more_of_type",ot.FAILED_TO_LINK_ACCOUNT="failed_to_link_account",ot.FAILED_TO_UPDATE_ACCOUNT="failed_to_update_account",ot.USER_EXITED_UPDATE_FLOW="exited_update_flow",ot.ALLOWLIST_REJECTED="allowlist_rejected",ot.OAUTH_USER_DENIED="oauth_user_denied",ot.OAUTH_UNEXPECTED="oauth_unexpected",ot.UNKNOWN_AUTH_ERROR="unknown_auth_error",ot.USER_EXITED_AUTH_FLOW="exited_auth_flow",ot.USER_EXITED_LINK_FLOW="exited_link_flow",ot.USER_EXITED_SET_PASSWORD_FLOW="user_exited_set_password_flow",ot.MUST_BE_AUTHENTICATED="must_be_authenticated",ot.UNKNOWN_CONNECT_WALLET_ERROR="unknown_connect_wallet_error",ot.GENERIC_CONNECT_WALLET_ERROR="generic_connect_wallet_error",ot.CLIENT_REQUEST_TIMEOUT="client_request_timeout",ot.INVALID_CREDENTIALS="invalid_credentials",ot.MISSING_MFA_CREDENTIALS="missing_or_invalid_mfa",ot.UNKNOWN_MFA_ERROR="unknown_mfa_error",ot.EMBEDDED_WALLET_ALREADY_EXISTS="embedded_wallet_already_exists",ot.EMBEDDED_WALLET_NOT_FOUND="embedded_wallet_not_found",ot.EMBEDDED_WALLET_CREATE_ERROR="embedded_wallet_create_error",ot.UNKNOWN_EMBEDDED_WALLET_ERROR="unknown_embedded_wallet_error",ot.EMBEDDED_WALLET_PASSWORD_UNCONFIRMED="embedded_wallet_password_unconfirmed",ot.EMBEDDED_WALLET_PASSWORD_ALREADY_EXISTS="embedded_wallet_password_already_exists",ot.EMBEDDED_WALLET_RECOVERY_ALREADY_EXISTS="embedded_wallet_recovery_already_exists",ot.TRANSACTION_FAILURE="transaction_failure",ot.UNSUPPORTED_CHAIN_ID="unsupported_chain_id",ot.NOT_SUPPORTED="not_supported",ot.CAPTCHA_TIMEOUT="captcha_timeout",ot.INVALID_MESSAGE="invalid_message",ot.UNABLE_TO_SIGN="unable_to_sign",ot.CAPTCHA_FAILURE="captcha_failure",ot.CAPTCHA_DISABLED="captcha_disabled",ot.SESSION_STORAGE_UNAVAILABLE="session_storage_unavailable",ot.TOO_MANY_REQUESTS="too_many_requests",ot.USER_LIMIT_REACHED="max_accounts_reached",ot.DISALLOWED_LOGIN_METHOD="disallowed_login_method",ot.DISALLOWED_PLUS_EMAIL="disallowed_plus_email",ot.PASSKEY_NOT_ALLOWED="passkey_not_allowed",ot.USER_DOES_NOT_EXIST="user_does_not_exist",ot.INSUFFICIENT_BALANCE="insufficient_balance",ot.ACCOUNT_TRANSFER_REQUIRED="account_transfer_required",ot.BUFFER_NOT_DEFINED="buffer_not_defined",ot.UNSUPPORTED_WALLET_TYPE="unsupported_wallet_type",ot.NO_SOLANA_ACCOUNTS="no_solana_accounts",ot.UNKNOWN_FUNDING_ERROR="unknown_funding_error",ot);let ud=class extends se{constructor(){super("Method called before `ready`. Ensure you wait until `ready` is true before calling.")}},ZLe=class extends se{constructor(e="Embedded wallet error",n){super(e,n,"unknown_embedded_wallet_error")}},JLe=class extends se{constructor(e="User must be authenticated"){super(e,void 0,"must_be_authenticated")}},e7e=class extends se{constructor(e){super("This application is in development mode and must be upgraded to production to log in new users.",e,"max_accounts_reached")}},rN=class extends zn{constructor(){super("No Solana accounts found in wallet",void 0,"no_solana_accounts")}};const fe=()=>{throw Error("You need to wrap your application with the <PrivyProvider> initialized with your app id.")},VS=t=>()=>{throw Error(t.trim())},Fj=()=>{},qj=Y.createContext({setAuthenticated:fe,setUser:fe,setIsNewUser:fe,isNewUserThisSession:!1,walletConnectionStatus:null,setWalletConnectionStatus:fe,connectors:[],rpcConfig:{rpcUrls:{}},showFiatPrices:!0,chains:[],clientAnalyticsId:null,pendingTransaction:null,client:null,privy:null,appId:"notAdded",onCustomAuthAuthenticated:fe,hideWalletUIs:{current:!1},nativeTokenSymbolForChainId:fe,initializeWalletProxy:fe,getAuthMeta:fe,getAuthFlow:fe,closePrivyModal:fe,openPrivyModal:fe,connectWallet:fe,initLoginWithWallet:fe,loginWithWallet:fe,initLoginWithFarcaster:fe,loginWithFarcaster:fe,loginWithCode:fe,initLoginWithEmail:fe,initLoginWithSms:fe,initUpdateEmail:fe,initUpdatePhone:fe,resendEmailCode:fe,resendSmsCode:fe,initLoginWithHeadlessOAuth:fe,loginWithHeadlessOAuth:fe,crossAppAuthFlow:fe,initLoginWithOAuth:fe,loginWithOAuth:fe,passkeyAuthState:{status:"initial"},setPasskeyAuthState:fe,initSignupWithPasskey:fe,signupWithPasskey:fe,initLoginWithPasskey:fe,loginWithPasskey:fe,initLinkWithPasskey:fe,linkWithPasskey:fe,refreshSessionAndUser:fe,walletProxy:null,createAnalyticsEvent:fe,acceptTerms:fe,getUsdTokenPrice:fe,getUsdPriceForSol:fe,getSplTokenMetadata:fe,recoverEmbeddedWallet:fe,updateWallets:fe,fundWallet:fe,openModal:fe,setReadyToTrue:fe,requestFarcasterSignerStatus:fe,initLoginWithTelegram:fe,loginWithTelegram:fe,generateSiweMessage:fe,generateSiweMessageForSmartWallet:fe,loginWithSiwe:fe,linkWithSiwe:fe,linkSmartWallet:fe,delegateWallet:fe,revokeDelegatedWallets:fe,connectCoinbaseSmartWallet:fe,connectBaseAccount:fe,initiateAccountTransfer:fe,emailOtpState:{status:"initial"},setEmailOtpState:fe,smsOtpState:{status:"initial"},setSmsOtpState:fe,siweState:{status:"initial"},setSiweState:fe,oAuthState:{status:"initial"},setOAuthState:fe,telegramAuthState:{status:"initial"},setTelegramAuthState:fe,isHeadlessOAuthLoading:!1,isHeadlessSigning:fe,inProgressAuthFlowRef:{current:null},inProgressLoginOrLinkMethodRef:{current:null},baseAccountSdk:void 0,setBaseAccountSdk:fe}),xa=()=>Y.useContext(qj);function Wj(t){return typeof t=="string"&&/^custom:[a-zA-Z0-9_-]+$/i.test(t)}function At(t){return t?new Date(1e3*t):null}function ti(t,e){return t.slice().sort(((n,r)=>(n.firstVerifiedAt?.getTime()??0)-(r.firstVerifiedAt?.getTime()??0))).find((n=>n.type===e))}const Lc=t=>t?Hj(t).find((e=>e.walletIndex===0))??null:null,Hj=t=>t?Vj(t,"ethereum"):[],Vj=(t,e)=>t.linkedAccounts.filter((n=>n.type==="wallet"&&n.walletClientType==="privy"&&!n.imported&&n.chainType===e)),Gj=t=>t?Vj(t,"solana"):[],VI=t=>t?Gj(t).find((e=>e.walletIndex===0))??null:null,YT=t=>(t?.linkedAccounts??[]).filter((e=>e.type==="wallet"&&e.walletClientType==="privy"&&e.imported&&e.chainType==="ethereum")),Kj=t=>(t?.linkedAccounts??[]).filter((e=>e.type==="wallet"&&e.imported&&e.walletClientType==="privy"&&e.chainType==="solana")),Yj=(t,e)=>t===e||!(!t.startsWith("0x")||!e.startsWith("0x"))&&oi(t)===oi(e),jc=(t,e)=>t?.linkedAccounts.find((n=>n.type==="wallet"&&n.walletClientType==="privy"&&Yj(n.address,e)))||null,GS=(t,e)=>t.find((n=>Yj(n.address,e)))||null,d0=t=>Lc(t)??VI(t);function ai(t){if(!t)return null;let e=(function(A){let C=[];for(let I of A){let N=I.type;switch(I.type){case"wallet":let z={id:I.id,address:I.address,type:I.type,imported:I.imported,delegated:I.delegated,firstVerifiedAt:At(I.first_verified_at),latestVerifiedAt:At(I.latest_verified_at),chainType:I.chain_type,walletClientType:I.wallet_client_type,connectorType:I.connector_type,recoveryMethod:I.recovery_method,walletIndex:I.wallet_index,publicKey:I.public_key};C.push(z);break;case"smart_wallet":let L={address:I.address,type:I.type,firstVerifiedAt:At(I.first_verified_at),latestVerifiedAt:At(I.latest_verified_at),smartWalletType:I.smart_wallet_type,smartWalletVersion:I.smart_wallet_version};C.push(L);break;case"cross_app":let B={type:I.type,subject:I.subject,embeddedWallets:I.embedded_wallets,smartWallets:I.smart_wallets,providerApp:{id:I.provider_app_id},firstVerifiedAt:At(I.first_verified_at),latestVerifiedAt:At(I.latest_verified_at)};C.push(B);break;case"email":let H={address:I.address,type:I.type,firstVerifiedAt:At(I.first_verified_at),latestVerifiedAt:At(I.latest_verified_at)};C.push(H);break;case"phone":let D={number:I.phoneNumber,type:I.type,firstVerifiedAt:At(I.first_verified_at),latestVerifiedAt:At(I.latest_verified_at)};C.push(D);break;case"google_oauth":let F={subject:I.subject,email:I.email,name:I.name,type:I.type,firstVerifiedAt:At(I.first_verified_at),latestVerifiedAt:At(I.latest_verified_at)};C.push(F);break;case"spotify_oauth":let K={subject:I.subject,email:I.email,name:I.name,type:I.type,firstVerifiedAt:At(I.first_verified_at),latestVerifiedAt:At(I.latest_verified_at)};C.push(K);break;case"instagram_oauth":let T={subject:I.subject,username:I.username,type:I.type,firstVerifiedAt:At(I.first_verified_at),latestVerifiedAt:At(I.latest_verified_at)};C.push(T);break;case"twitter_oauth":let x={subject:I.subject,username:I.username,name:I.name,type:I.type,profilePictureUrl:I.profile_picture_url,firstVerifiedAt:At(I.first_verified_at),latestVerifiedAt:At(I.latest_verified_at)};C.push(x);break;case"discord_oauth":let $={subject:I.subject,username:I.username,email:I.email,type:I.type,firstVerifiedAt:At(I.first_verified_at),latestVerifiedAt:At(I.latest_verified_at)};C.push($);break;case"github_oauth":let j={subject:I.subject,username:I.username,name:I.name,email:I.email,type:I.type,firstVerifiedAt:At(I.first_verified_at),latestVerifiedAt:At(I.latest_verified_at)};C.push(j);break;case"tiktok_oauth":let P={subject:I.subject,username:I.username,name:I.name,type:I.type,firstVerifiedAt:At(I.first_verified_at),latestVerifiedAt:At(I.latest_verified_at)};C.push(P);break;case"line_oauth":let V={subject:I.subject,name:I.name,email:I.email,profilePictureUrl:I.profile_picture_url,type:I.type,firstVerifiedAt:At(I.first_verified_at),latestVerifiedAt:At(I.latest_verified_at)};C.push(V);break;case"twitch_oauth":let M={subject:I.subject,username:I.username,type:I.type,firstVerifiedAt:At(I.first_verified_at),latestVerifiedAt:At(I.latest_verified_at)};C.push(M);break;case"linkedin_oauth":let G={subject:I.subject,name:I.name,email:I.email,vanityName:I.vanity_name,type:I.type,firstVerifiedAt:At(I.first_verified_at),latestVerifiedAt:At(I.latest_verified_at)};C.push(G);break;case"apple_oauth":let J={subject:I.subject,email:I.email,type:I.type,firstVerifiedAt:At(I.first_verified_at),latestVerifiedAt:At(I.latest_verified_at)};C.push(J);break;case"custom_auth":C.push({type:I.type,customUserId:I.custom_user_id,firstVerifiedAt:At(I.first_verified_at),latestVerifiedAt:At(I.latest_verified_at)});break;case"farcaster":let X={type:I.type,fid:I.fid,ownerAddress:I.owner_address,displayName:I.display_name,username:I.username,bio:I.bio,pfp:I.profile_picture_url,url:I.homepage_url,firstVerifiedAt:At(I.first_verified_at),latestVerifiedAt:At(I.latest_verified_at),signerPublicKey:I.signer_public_key};C.push(X);break;case"passkey":let Q={type:I.type,enrolledInMfa:I.enrolled_in_mfa,credentialId:I.credential_id,publicKey:I.public_key,authenticatorName:I.authenticator_name,createdWithDevice:I.created_with_device,createdWithOs:I.created_with_os,createdWithBrowser:I.created_with_browser,firstVerifiedAt:At(I.first_verified_at),latestVerifiedAt:At(I.latest_verified_at)};C.push(Q);break;case"telegram":let ge={type:I.type,telegramUserId:I.telegram_user_id,firstName:I.first_name,lastName:I.last_name,username:I.username,photoUrl:I.photo_url,firstVerifiedAt:At(I.first_verified_at),latestVerifiedAt:At(I.latest_verified_at)};C.push(ge);break;default:if(Wj(I.type)){let we={type:I.type,subject:I.subject,name:I.name,username:I.username,email:I.email,profilePictureUrl:I.profile_picture_url,firstVerifiedAt:At(I.first_verified_at),latestVerifiedAt:At(I.latest_verified_at)};C.push(we);break}console.warn(`Unrecognized account type: ${N}. Please consider upgrading the Privy SDK.`)}}return C})(t.linked_accounts),n=ti(e,"wallet"),r=ti(e,"smart_wallet"),i=ti(e,"email"),s=ti(e,"phone"),a=ti(e,"google_oauth"),c=ti(e,"twitter_oauth"),u=ti(e,"discord_oauth"),d=ti(e,"github_oauth"),h=ti(e,"spotify_oauth"),p=ti(e,"instagram_oauth"),m=ti(e,"tiktok_oauth"),g=ti(e,"line_oauth"),b=ti(e,"twitch_oauth"),v=ti(e,"linkedin_oauth"),E=ti(e,"apple_oauth"),O=ti(e,"farcaster"),k=ti(e,"telegram"),S=t.mfa_methods.map((({type:A,verified_at:C})=>({type:A,verifiedAt:At(C)})));return{id:t.id,createdAt:At(t.created_at),linkedAccounts:e,email:i&&{address:i?.address},phone:s&&{number:s?.number},wallet:n&&{id:n.id,address:n.address,chainType:n.chainType,walletClientType:n.walletClientType,connectorType:n.connectorType,recoveryMethod:n.recoveryMethod,imported:n.imported,delegated:n.delegated,walletIndex:n.walletIndex,publicKey:n.publicKey},smartWallet:r&&{address:r.address,smartWalletType:r.smartWalletType,smartWalletVersion:r.smartWalletVersion},google:a&&{subject:a.subject,email:a.email,name:a.name},twitter:c&&{subject:c.subject,username:c.username,name:c.name,profilePictureUrl:c.profilePictureUrl},discord:u&&{subject:u.subject,username:u.username,email:u.email},github:d&&{subject:d.subject,username:d.username,name:d.name,email:d.email},spotify:h&&{subject:h.subject,email:h.email,name:h.name},instagram:p&&{subject:p.subject,username:p.username},tiktok:m&&{subject:m.subject,username:m.username,name:m.name},line:g&&{subject:g.subject,name:g.name,email:g.email,profilePictureUrl:g.profilePictureUrl},twitch:b&&{subject:b.subject,username:b.username},linkedin:v&&{subject:v.subject,name:v.name,email:v.email,vanityName:v.vanityName},apple:E&&{subject:E.subject,email:E.email},farcaster:O&&{fid:O.fid,ownerAddress:O.ownerAddress,displayName:O.displayName,username:O.username,bio:O.bio,pfp:O.pfp,url:O.url,signerPublicKey:O.signerPublicKey},telegram:k&&{telegramUserId:k.telegramUserId,firstName:k.firstName,lastName:k.lastName,username:k.username,photoUrl:k.photoUrl},delegatedWallets:[],mfaMethods:S.map((A=>A.type)),hasAcceptedTerms:t.has_accepted_terms??!1,isGuest:t.is_guest,customMetadata:t.custom_metadata}}function vle({src:t,...e}){return he.jsx("img",{src:t,...e,style:{display:"none"}})}const Zj=Y.createContext({currentScreen:null,lastScreen:null,navigate:fe,navigateBack:fe,resetNavigation:fe,setModalData:fe,onUserCloseViaDialogOrKeybindRef:void 0}),_le=t=>{let e=Sa(),[n,r]=Y.useState(t.initialScreen),i=Y.useRef(null);Y.useEffect((()=>{t.open||(i.current=null)}),[t.open]),Y.useEffect((()=>{i.current=null}),[t.initialScreen]);let s={data:t.data,setModalData:t.setModalData,currentScreen:t.initialScreen,lastScreen:n,navigate:(a,c=!0)=>{t.setInitialScreen(a),c&&r(t.initialScreen)},navigateBack:()=>{t.setInitialScreen(n)},resetNavigation:()=>{t.setInitialScreen(null),r(null)},onUserCloseViaDialogOrKeybindRef:i};return he.jsxs(Zj.Provider,{value:s,children:[(typeof e.appearance.logo=="string"||e.appearance.logo?.type==="img")&&he.jsx(vle,{src:typeof e.appearance.logo=="string"?e.appearance.logo:e.appearance.logo.props.src}),t.children]})},Ru=()=>Y.useContext(Zj),qp=Y.createContext({ready:!1,authenticated:!1,user:null,walletConnectors:null,connectWallet:fe,login:fe,connectOrCreateWallet:fe,linkEmail:fe,linkPhone:fe,linkFarcaster:fe,linkWallet:fe,startCrossAppAuthFlow:fe,linkGoogle:fe,linkTwitter:fe,linkTwitch:fe,linkDiscord:fe,linkGithub:fe,linkSpotify:fe,linkInstagram:fe,linkTelegram:fe,linkTiktok:fe,linkLine:fe,linkLinkedIn:fe,linkApple:fe,linkPasskey:fe,updateEmail:fe,updatePhone:fe,logout:fe,getAccessToken:fe,unlinkEmail:fe,unlinkPhone:fe,unlinkWallet:fe,unlinkGoogle:fe,unlinkTwitter:fe,unlinkTwitch:fe,unlinkDiscord:fe,unlinkGithub:fe,unlinkSpotify:fe,unlinkInstagram:fe,unlinkTiktok:fe,unlinkLine:fe,unlinkLinkedIn:fe,unlinkApple:fe,unlinkCrossAppAccount:fe,unlinkFarcaster:fe,unlinkTelegram:fe,unlinkPasskey:fe,signMessage:fe,signTypedData:fe,enrollInMfa:fe,initEnrollmentWithSms:fe,initEnrollmentWithTotp:fe,initEnrollmentWithPasskey:fe,promptMfa:fe,init:fe,submitEnrollmentWithSms:fe,submitEnrollmentWithTotp:fe,submitEnrollmentWithPasskey:fe,unenroll:fe,submit:fe,cancel:fe,sendTransaction:fe,signTransaction:fe,exportWallet:fe,setWalletPassword:fe,setWalletRecovery:fe,requestFarcasterSignerFromWarpcast:fe,getFarcasterSignerPublicKey:fe,signFarcasterMessage:fe,signMessageWithCrossAppWallet:fe,signTypedDataWithCrossAppWallet:fe,sendTransactionWithCrossAppWallet:fe,signTransactionWithCrossAppWallet:fe,isModalOpen:!1,mfaMethods:[]}),tb=()=>Y.useContext(qp),Ei=t=>!!t.id&&t.recoveryMethod==="privy-v2",iN=t=>{let e;const n=new Set,r=(d,h)=>{const p=typeof d=="function"?d(e):d;if(!Object.is(p,e)){const m=e;e=h??(typeof p!="object"||p===null)?p:Object.assign({},e,p),n.forEach(g=>g(e,m))}},i=()=>e,c={setState:r,getState:i,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d))},u=e=t(r,i,c);return c},Ele=(t=>t?iN(t):iN),Ale=t=>t;function Sle(t,e=Ale){const n=et.useSyncExternalStore(t.subscribe,et.useCallback(()=>e(t.getState()),[t,e]),et.useCallback(()=>e(t.getInitialState()),[t,e]));return et.useDebugValue(n),n}const sN=t=>{const e=Ele(t),n=r=>Sle(e,r);return Object.assign(n,e),n},vf=(t=>t?sN(t):sN);var Si=function(){return Si=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Si.apply(this,arguments)};function wp(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var Bn="-ms-",Sg="-moz-",on="-webkit-",Xj="comm",tE="rule",GI="decl",xle="@import",Jj="@keyframes",Tle="@layer",Qj=Math.abs,KI=String.fromCharCode,ZT=Object.assign;function Ile(t,e){return Wr(t,0)^45?(((e<<2^Wr(t,0))<<2^Wr(t,1))<<2^Wr(t,2))<<2^Wr(t,3):0}function ez(t){return t.trim()}function Mc(t,e){return(t=e.exec(t))?t[0]:t}function Dt(t,e,n){return t.replace(e,n)}function jv(t,e,n){return t.indexOf(e,n)}function Wr(t,e){return t.charCodeAt(e)|0}function vp(t,e,n){return t.slice(e,n)}function ko(t){return t.length}function tz(t){return t.length}function fg(t,e){return e.push(t),t}function Cle(t,e){return t.map(e).join("")}function aN(t,e){return t.filter(function(n){return!Mc(n,e)})}var nE=1,_p=1,nz=0,wa=0,vr=0,Wp="";function rE(t,e,n,r,i,s,a,c){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:nE,column:_p,length:a,return:"",siblings:c}}function ou(t,e){return ZT(rE("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function bh(t){for(;t.root;)t=ou(t.root,{children:[t]});fg(t,t.siblings)}function Ole(){return vr}function kle(){return vr=wa>0?Wr(Wp,--wa):0,_p--,vr===10&&(_p=1,nE--),vr}function Ja(){return vr=wa<nz?Wr(Wp,wa++):0,_p++,vr===10&&(_p=1,nE++),vr}function Hd(){return Wr(Wp,wa)}function zv(){return wa}function iE(t,e){return vp(Wp,t,e)}function XT(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Rle(t){return nE=_p=1,nz=ko(Wp=t),wa=0,[]}function $le(t){return Wp="",t}function KS(t){return ez(iE(wa-1,JT(t===91?t+2:t===40?t+1:t)))}function Nle(t){for(;(vr=Hd())&&vr<33;)Ja();return XT(t)>2||XT(vr)>3?"":" "}function Ple(t,e){for(;--e&&Ja()&&!(vr<48||vr>102||vr>57&&vr<65||vr>70&&vr<97););return iE(t,zv()+(e<6&&Hd()==32&&Ja()==32))}function JT(t){for(;Ja();)switch(vr){case t:return wa;case 34:case 39:t!==34&&t!==39&&JT(vr);break;case 40:t===41&&JT(t);break;case 92:Ja();break}return wa}function Dle(t,e){for(;Ja()&&t+vr!==57;)if(t+vr===84&&Hd()===47)break;return"/*"+iE(e,wa-1)+"*"+KI(t===47?t:Ja())}function Mle(t){for(;!XT(Hd());)Ja();return iE(t,wa)}function Ule(t){return $le(Fv("",null,null,null,[""],t=Rle(t),0,[0],t))}function Fv(t,e,n,r,i,s,a,c,u){for(var d=0,h=0,p=a,m=0,g=0,b=0,v=1,E=1,O=1,k=0,S="",A=i,C=s,I=r,N=S;E;)switch(b=k,k=Ja()){case 40:if(b!=108&&Wr(N,p-1)==58){jv(N+=Dt(KS(k),"&","&\f"),"&\f",Qj(d?c[d-1]:0))!=-1&&(O=-1);break}case 34:case 39:case 91:N+=KS(k);break;case 9:case 10:case 13:case 32:N+=Nle(b);break;case 92:N+=Ple(zv()-1,7);continue;case 47:switch(Hd()){case 42:case 47:fg(Ble(Dle(Ja(),zv()),e,n,u),u);break;default:N+="/"}break;case 123*v:c[d++]=ko(N)*O;case 125*v:case 59:case 0:switch(k){case 0:case 125:E=0;case 59+h:O==-1&&(N=Dt(N,/\f/g,"")),g>0&&ko(N)-p&&fg(g>32?cN(N+";",r,n,p-1,u):cN(Dt(N," ","")+";",r,n,p-2,u),u);break;case 59:N+=";";default:if(fg(I=oN(N,e,n,d,h,i,c,S,A=[],C=[],p,s),s),k===123)if(h===0)Fv(N,e,I,I,A,s,p,c,C);else switch(m===99&&Wr(N,3)===110?100:m){case 100:case 108:case 109:case 115:Fv(t,I,I,r&&fg(oN(t,I,I,0,0,i,c,S,i,A=[],p,C),C),i,C,p,c,r?A:C);break;default:Fv(N,I,I,I,[""],C,0,c,C)}}d=h=g=0,v=O=1,S=N="",p=a;break;case 58:p=1+ko(N),g=b;default:if(v<1){if(k==123)--v;else if(k==125&&v++==0&&kle()==125)continue}switch(N+=KI(k),k*v){case 38:O=h>0?1:(N+="\f",-1);break;case 44:c[d++]=(ko(N)-1)*O,O=1;break;case 64:Hd()===45&&(N+=KS(Ja())),m=Hd(),h=p=ko(S=N+=Mle(zv())),k++;break;case 45:b===45&&ko(N)==2&&(v=0)}}return s}function oN(t,e,n,r,i,s,a,c,u,d,h,p){for(var m=i-1,g=i===0?s:[""],b=tz(g),v=0,E=0,O=0;v<r;++v)for(var k=0,S=vp(t,m+1,m=Qj(E=a[v])),A=t;k<b;++k)(A=ez(E>0?g[k]+" "+S:Dt(S,/&\f/g,g[k])))&&(u[O++]=A);return rE(t,e,n,i===0?tE:c,u,d,h,p)}function Ble(t,e,n,r){return rE(t,e,n,Xj,KI(Ole()),vp(t,2,-2),0,r)}function cN(t,e,n,r,i){return rE(t,e,n,GI,vp(t,0,r),vp(t,r+1,-1),r,i)}function rz(t,e,n){switch(Ile(t,e)){case 5103:return on+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return on+t+t;case 4789:return Sg+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return on+t+Sg+t+Bn+t+t;case 5936:switch(Wr(t,e+11)){case 114:return on+t+Bn+Dt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return on+t+Bn+Dt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return on+t+Bn+Dt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return on+t+Bn+t+t;case 6165:return on+t+Bn+"flex-"+t+t;case 5187:return on+t+Dt(t,/(\w+).+(:[^]+)/,on+"box-$1$2"+Bn+"flex-$1$2")+t;case 5443:return on+t+Bn+"flex-item-"+Dt(t,/flex-|-self/g,"")+(Mc(t,/flex-|baseline/)?"":Bn+"grid-row-"+Dt(t,/flex-|-self/g,""))+t;case 4675:return on+t+Bn+"flex-line-pack"+Dt(t,/align-content|flex-|-self/g,"")+t;case 5548:return on+t+Bn+Dt(t,"shrink","negative")+t;case 5292:return on+t+Bn+Dt(t,"basis","preferred-size")+t;case 6060:return on+"box-"+Dt(t,"-grow","")+on+t+Bn+Dt(t,"grow","positive")+t;case 4554:return on+Dt(t,/([^-])(transform)/g,"$1"+on+"$2")+t;case 6187:return Dt(Dt(Dt(t,/(zoom-|grab)/,on+"$1"),/(image-set)/,on+"$1"),t,"")+t;case 5495:case 3959:return Dt(t,/(image-set\([^]*)/,on+"$1$`$1");case 4968:return Dt(Dt(t,/(.+:)(flex-)?(.*)/,on+"box-pack:$3"+Bn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+on+t+t;case 4200:if(!Mc(t,/flex-|baseline/))return Bn+"grid-column-align"+vp(t,e)+t;break;case 2592:case 3360:return Bn+Dt(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,i){return e=i,Mc(r.props,/grid-\w+-end/)})?~jv(t+(n=n[e].value),"span",0)?t:Bn+Dt(t,"-start","")+t+Bn+"grid-row-span:"+(~jv(n,"span",0)?Mc(n,/\d+/):+Mc(n,/\d+/)-+Mc(t,/\d+/))+";":Bn+Dt(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return Mc(r.props,/grid-\w+-start/)})?t:Bn+Dt(Dt(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return Dt(t,/(.+)-inline(.+)/,on+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ko(t)-1-e>6)switch(Wr(t,e+1)){case 109:if(Wr(t,e+4)!==45)break;case 102:return Dt(t,/(.+:)(.+)-([^]+)/,"$1"+on+"$2-$3$1"+Sg+(Wr(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~jv(t,"stretch",0)?rz(Dt(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return Dt(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,s,a,c,u,d){return Bn+i+":"+s+d+(a?Bn+i+"-span:"+(c?u:+u-+s)+d:"")+t});case 4949:if(Wr(t,e+6)===121)return Dt(t,":",":"+on)+t;break;case 6444:switch(Wr(t,Wr(t,14)===45?18:11)){case 120:return Dt(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+on+(Wr(t,14)===45?"inline-":"")+"box$3$1"+on+"$2$3$1"+Bn+"$2box$3")+t;case 100:return Dt(t,":",":"+Bn)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Dt(t,"scroll-","scroll-snap-")+t}return t}function U1(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function Lle(t,e,n,r){switch(t.type){case Tle:if(t.children.length)break;case xle:case GI:return t.return=t.return||t.value;case Xj:return"";case Jj:return t.return=t.value+"{"+U1(t.children,r)+"}";case tE:if(!ko(t.value=t.props.join(",")))return""}return ko(n=U1(t.children,r))?t.return=t.value+"{"+n+"}":""}function jle(t){var e=tz(t);return function(n,r,i,s){for(var a="",c=0;c<e;c++)a+=t[c](n,r,i,s)||"";return a}}function zle(t){return function(e){e.root||(e=e.return)&&t(e)}}function Fle(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case GI:t.return=rz(t.value,t.length,n);return;case Jj:return U1([ou(t,{value:Dt(t.value,"@","@"+on)})],r);case tE:if(t.length)return Cle(n=t.props,function(i){switch(Mc(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":bh(ou(t,{props:[Dt(i,/:(read-\w+)/,":"+Sg+"$1")]})),bh(ou(t,{props:[i]})),ZT(t,{props:aN(n,r)});break;case"::placeholder":bh(ou(t,{props:[Dt(i,/:(plac\w+)/,":"+on+"input-$1")]})),bh(ou(t,{props:[Dt(i,/:(plac\w+)/,":"+Sg+"$1")]})),bh(ou(t,{props:[Dt(i,/:(plac\w+)/,Bn+"input-$1")]})),bh(ou(t,{props:[i]})),ZT(t,{props:aN(n,r)});break}return""})}}var qle={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Os={},Ep=typeof process<"u"&&Os!==void 0&&(Os.REACT_APP_SC_ATTR||Os.SC_ATTR)||"data-styled",iz="active",sz="data-styled-version",sE="6.1.19",YI=`/*!sc*/
`,B1=typeof window<"u"&&typeof document<"u",Wle=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Os!==void 0&&Os.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Os.REACT_APP_SC_DISABLE_SPEEDY!==""?Os.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Os.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Os!==void 0&&Os.SC_DISABLE_SPEEDY!==void 0&&Os.SC_DISABLE_SPEEDY!==""&&Os.SC_DISABLE_SPEEDY!=="false"&&Os.SC_DISABLE_SPEEDY),Hle={},aE=Object.freeze([]),Ap=Object.freeze({});function az(t,e,n){return n===void 0&&(n=Ap),t.theme!==n.theme&&t.theme||e||n.theme}var oz=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),Vle=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Gle=/(^-|-$)/g;function lN(t){return t.replace(Vle,"-").replace(Gle,"")}var Kle=/(a)(d)/gi,rv=52,uN=function(t){return String.fromCharCode(t+(t>25?39:97))};function QT(t){var e,n="";for(e=Math.abs(t);e>rv;e=e/rv|0)n=uN(e%rv)+n;return(uN(e%rv)+n).replace(Kle,"$1-$2")}var YS,cz=5381,zh=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},lz=function(t){return zh(cz,t)};function ZI(t){return QT(lz(t)>>>0)}function Yle(t){return t.displayName||t.name||"Component"}function ZS(t){return typeof t=="string"&&!0}var uz=typeof Symbol=="function"&&Symbol.for,dz=uz?Symbol.for("react.memo"):60115,Zle=uz?Symbol.for("react.forward_ref"):60112,Xle={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Jle={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},fz={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Qle=((YS={})[Zle]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},YS[dz]=fz,YS);function dN(t){return("type"in(e=t)&&e.type.$$typeof)===dz?fz:"$$typeof"in t?Qle[t.$$typeof]:Xle;var e}var eue=Object.defineProperty,tue=Object.getOwnPropertyNames,fN=Object.getOwnPropertySymbols,nue=Object.getOwnPropertyDescriptor,rue=Object.getPrototypeOf,hN=Object.prototype;function hz(t,e,n){if(typeof e!="string"){if(hN){var r=rue(e);r&&r!==hN&&hz(t,r,n)}var i=tue(e);fN&&(i=i.concat(fN(e)));for(var s=dN(t),a=dN(e),c=0;c<i.length;++c){var u=i[c];if(!(u in Jle||n&&n[u]||a&&u in a||s&&u in s)){var d=nue(e,u);try{eue(t,u,d)}catch{}}}}return t}function Sp(t){return typeof t=="function"}function XI(t){return typeof t=="object"&&"styledComponentId"in t}function Pd(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function L1(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=t[r];return n}function f0(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function e5(t,e,n){if(n===void 0&&(n=!1),!n&&!f0(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=e5(t[r],e[r]);else if(f0(e))for(var r in e)t[r]=e5(t[r],e[r]);return t}function JI(t,e){Object.defineProperty(t,"toString",{value:e})}function nb(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var iue=(function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,s=i;e>=s;)if((s<<=1)<0)throw nb(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(r),this.length=s;for(var a=i;a<s;a++)this.groupSizes[a]=0}for(var c=this.indexOfGroup(e+1),u=(a=0,n.length);a<u;a++)this.tag.insertRule(c,n[a])&&(this.groupSizes[e]++,c++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n;this.groupSizes[e]=0;for(var s=r;s<i;s++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),s=i+r,a=i;a<s;a++)n+="".concat(this.tag.getRule(a)).concat(YI);return n},t})(),qv=new Map,j1=new Map,Wv=1,iv=function(t){if(qv.has(t))return qv.get(t);for(;j1.has(Wv);)Wv++;var e=Wv++;return qv.set(t,e),j1.set(e,t),e},sue=function(t,e){Wv=e+1,qv.set(t,e),j1.set(e,t)},aue="style[".concat(Ep,"][").concat(sz,'="').concat(sE,'"]'),oue=new RegExp("^".concat(Ep,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),cue=function(t,e,n){for(var r,i=n.split(","),s=0,a=i.length;s<a;s++)(r=i[s])&&t.registerName(e,r)},lue=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(YI),i=[],s=0,a=r.length;s<a;s++){var c=r[s].trim();if(c){var u=c.match(oue);if(u){var d=0|parseInt(u[1],10),h=u[2];d!==0&&(sue(h,d),cue(t,h,u[3]),t.getTag().insertRules(d,i)),i.length=0}else i.push(c)}}},pN=function(t){for(var e=document.querySelectorAll(aue),n=0,r=e.length;n<r;n++){var i=e[n];i&&i.getAttribute(Ep)!==iz&&(lue(t,i),i.parentNode&&i.parentNode.removeChild(i))}};function uue(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var pz=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=(function(c){var u=Array.from(c.querySelectorAll("style[".concat(Ep,"]")));return u[u.length-1]})(n),s=i!==void 0?i.nextSibling:null;r.setAttribute(Ep,iz),r.setAttribute(sz,sE);var a=uue();return a&&r.setAttribute("nonce",a),n.insertBefore(r,s),r},due=(function(){function t(e){this.element=pz(e),this.element.appendChild(document.createTextNode("")),this.sheet=(function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,s=r.length;i<s;i++){var a=r[i];if(a.ownerNode===n)return a}throw nb(17)})(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t})(),fue=(function(){function t(e){this.element=pz(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t})(),hue=(function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t})(),yN=B1,pue={isServer:!B1,useCSSOMInjection:!Wle},z1=(function(){function t(e,n,r){e===void 0&&(e=Ap),n===void 0&&(n={});var i=this;this.options=Si(Si({},pue),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&B1&&yN&&(yN=!1,pN(this)),JI(this,function(){return(function(s){for(var a=s.getTag(),c=a.length,u="",d=function(p){var m=(function(O){return j1.get(O)})(p);if(m===void 0)return"continue";var g=s.names.get(m),b=a.getGroup(p);if(g===void 0||!g.size||b.length===0)return"continue";var v="".concat(Ep,".g").concat(p,'[id="').concat(m,'"]'),E="";g!==void 0&&g.forEach(function(O){O.length>0&&(E+="".concat(O,","))}),u+="".concat(b).concat(v,'{content:"').concat(E,'"}').concat(YI)},h=0;h<c;h++)d(h);return u})(i)})}return t.registerId=function(e){return iv(e)},t.prototype.rehydrate=function(){!this.server&&B1&&pN(this)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(Si(Si({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=(function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new hue(i):r?new due(i):new fue(i)})(this.options),new iue(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(iv(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(iv(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(iv(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t})(),yue=/&/g,mue=/^\s*\/\/.*$/gm;function yz(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=yz(n.children,e)),n})}function gue(t){var e,n,r,i=Ap,s=i.options,a=s===void 0?Ap:s,c=i.plugins,u=c===void 0?aE:c,d=function(m,g,b){return b.startsWith(n)&&b.endsWith(n)&&b.replaceAll(n,"").length>0?".".concat(e):m},h=u.slice();h.push(function(m){m.type===tE&&m.value.includes("&")&&(m.props[0]=m.props[0].replace(yue,n).replace(r,d))}),a.prefix&&h.push(Fle),h.push(Lle);var p=function(m,g,b,v){g===void 0&&(g=""),b===void 0&&(b=""),v===void 0&&(v="&"),e=v,n=g,r=new RegExp("\\".concat(n,"\\b"),"g");var E=m.replace(mue,""),O=Ule(b||g?"".concat(b," ").concat(g," { ").concat(E," }"):E);a.namespace&&(O=yz(O,a.namespace));var k=[];return U1(O,jle(h.concat(zle(function(S){return k.push(S)})))),k};return p.hash=u.length?u.reduce(function(m,g){return g.name||nb(15),zh(m,g.name)},cz).toString():"",p}var bue=new z1,t5=gue(),mz=et.createContext({shouldForwardProp:void 0,styleSheet:bue,stylis:t5});mz.Consumer;et.createContext(void 0);function n5(){return Y.useContext(mz)}var gz=(function(){function t(e,n){var r=this;this.inject=function(i,s){s===void 0&&(s=t5);var a=r.name+s.hash;i.hasNameForId(r.id,a)||i.insertRules(r.id,a,s(r.rules,a,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,JI(this,function(){throw nb(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=t5),this.name+e.hash},t})(),wue=function(t){return t>="A"&&t<="Z"};function mN(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;wue(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var bz=function(t){return t==null||t===!1||t===""},wz=function(t){var e,n,r=[];for(var i in t){var s=t[i];t.hasOwnProperty(i)&&!bz(s)&&(Array.isArray(s)&&s.isCss||Sp(s)?r.push("".concat(mN(i),":"),s,";"):f0(s)?r.push.apply(r,wp(wp(["".concat(i," {")],wz(s),!1),["}"],!1)):r.push("".concat(mN(i),": ").concat((e=i,(n=s)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in qle||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function Iu(t,e,n,r){if(bz(t))return[];if(XI(t))return[".".concat(t.styledComponentId)];if(Sp(t)){if(!Sp(s=t)||s.prototype&&s.prototype.isReactComponent||!e)return[t];var i=t(e);return Iu(i,e,n,r)}var s;return t instanceof gz?n?(t.inject(n,r),[t.getName(r)]):[t]:f0(t)?wz(t):Array.isArray(t)?Array.prototype.concat.apply(aE,t.map(function(a){return Iu(a,e,n,r)})):[t.toString()]}function vz(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(Sp(n)&&!XI(n))return!1}return!0}var vue=lz(sE),_ue=(function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&vz(e),this.componentId=n,this.baseHash=zh(vue,n),this.baseStyle=r,z1.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=Pd(i,this.staticRulesId);else{var s=L1(Iu(this.rules,e,n,r)),a=QT(zh(this.baseHash,s)>>>0);if(!n.hasNameForId(this.componentId,a)){var c=r(s,".".concat(a),void 0,this.componentId);n.insertRules(this.componentId,a,c)}i=Pd(i,a),this.staticRulesId=a}else{for(var u=zh(this.baseHash,r.hash),d="",h=0;h<this.rules.length;h++){var p=this.rules[h];if(typeof p=="string")d+=p;else if(p){var m=L1(Iu(p,e,n,r));u=zh(u,m+h),d+=m}}if(d){var g=QT(u>>>0);n.hasNameForId(this.componentId,g)||n.insertRules(this.componentId,g,r(d,".".concat(g),void 0,this.componentId)),i=Pd(i,g)}}return i},t})(),QI=et.createContext(void 0);QI.Consumer;var XS={};function Eue(t,e,n){var r=XI(t),i=t,s=!ZS(t),a=e.attrs,c=a===void 0?aE:a,u=e.componentId,d=u===void 0?(function(A,C){var I=typeof A!="string"?"sc":lN(A);XS[I]=(XS[I]||0)+1;var N="".concat(I,"-").concat(ZI(sE+I+XS[I]));return C?"".concat(C,"-").concat(N):N})(e.displayName,e.parentComponentId):u,h=e.displayName,p=h===void 0?(function(A){return ZS(A)?"styled.".concat(A):"Styled(".concat(Yle(A),")")})(t):h,m=e.displayName&&e.componentId?"".concat(lN(e.displayName),"-").concat(e.componentId):e.componentId||d,g=r&&i.attrs?i.attrs.concat(c).filter(Boolean):c,b=e.shouldForwardProp;if(r&&i.shouldForwardProp){var v=i.shouldForwardProp;if(e.shouldForwardProp){var E=e.shouldForwardProp;b=function(A,C){return v(A,C)&&E(A,C)}}else b=v}var O=new _ue(n,m,r?i.componentStyle:void 0);function k(A,C){return(function(I,N,z){var L=I.attrs,B=I.componentStyle,H=I.defaultProps,D=I.foldedComponentIds,F=I.styledComponentId,K=I.target,T=et.useContext(QI),x=n5(),$=I.shouldForwardProp||x.shouldForwardProp,j=az(N,T,H)||Ap,P=(function(Q,ge,we){for(var Te,Ee=Si(Si({},ge),{className:void 0,theme:we}),Pe=0;Pe<Q.length;Pe+=1){var qe=Sp(Te=Q[Pe])?Te(Ee):Te;for(var rt in qe)Ee[rt]=rt==="className"?Pd(Ee[rt],qe[rt]):rt==="style"?Si(Si({},Ee[rt]),qe[rt]):qe[rt]}return ge.className&&(Ee.className=Pd(Ee.className,ge.className)),Ee})(L,N,j),V=P.as||K,M={};for(var G in P)P[G]===void 0||G[0]==="$"||G==="as"||G==="theme"&&P.theme===j||(G==="forwardedAs"?M.as=P.forwardedAs:$&&!$(G,V)||(M[G]=P[G]));var J=(function(Q,ge){var we=n5(),Te=Q.generateAndInjectStyles(ge,we.styleSheet,we.stylis);return Te})(B,P),X=Pd(D,F);return J&&(X+=" "+J),P.className&&(X+=" "+P.className),M[ZS(V)&&!oz.has(V)?"class":"className"]=X,z&&(M.ref=z),Y.createElement(V,M)})(S,A,C)}k.displayName=p;var S=et.forwardRef(k);return S.attrs=g,S.componentStyle=O,S.displayName=p,S.shouldForwardProp=b,S.foldedComponentIds=r?Pd(i.foldedComponentIds,i.styledComponentId):"",S.styledComponentId=m,S.target=r?i.target:t,Object.defineProperty(S,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(A){this._foldedDefaultProps=r?(function(C){for(var I=[],N=1;N<arguments.length;N++)I[N-1]=arguments[N];for(var z=0,L=I;z<L.length;z++)e5(C,L[z],!0);return C})({},i.defaultProps,A):A}}),JI(S,function(){return".".concat(S.styledComponentId)}),s&&hz(S,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),S}function gN(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n}var bN=function(t){return Object.assign(t,{isCss:!0})};function rb(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Sp(t)||f0(t))return bN(Iu(gN(aE,wp([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?Iu(r):bN(Iu(gN(r,e)))}function r5(t,e,n){if(n===void 0&&(n=Ap),!e)throw nb(1,e);var r=function(i){for(var s=[],a=1;a<arguments.length;a++)s[a-1]=arguments[a];return t(e,n,rb.apply(void 0,wp([i],s,!1)))};return r.attrs=function(i){return r5(t,e,Si(Si({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return r5(t,e,Si(Si({},n),i))},r}var _z=function(t){return r5(Eue,t)},Gn=_z;oz.forEach(function(t){Gn[t]=_z(t)});var Aue=(function(){function t(e,n){this.rules=e,this.componentId=n,this.isStatic=vz(e),z1.registerId(this.componentId+1)}return t.prototype.createStyles=function(e,n,r,i){var s=i(L1(Iu(this.rules,n,r,i)),""),a=this.componentId+e;r.insertRules(a,a,s)},t.prototype.removeStyles=function(e,n){n.clearRules(this.componentId+e)},t.prototype.renderStyles=function(e,n,r,i){e>2&&z1.registerId(this.componentId+e),this.removeStyles(e,r),this.createStyles(e,n,r,i)},t})();function Sue(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=rb.apply(void 0,wp([t],e,!1)),i="sc-global-".concat(ZI(JSON.stringify(r))),s=new Aue(r,i),a=function(u){var d=n5(),h=et.useContext(QI),p=et.useRef(d.styleSheet.allocateGSInstance(i)).current;return d.styleSheet.server&&c(p,u,d.styleSheet,h,d.stylis),et.useLayoutEffect(function(){if(!d.styleSheet.server)return c(p,u,d.styleSheet,h,d.stylis),function(){return s.removeStyles(p,d.styleSheet)}},[p,u,d.styleSheet,h,d.stylis]),null};function c(u,d,h,p,m){if(s.isStatic)s.renderStyles(u,Hle,h,m);else{var g=Si(Si({},d),{theme:az(d,p,a.defaultProps)});s.renderStyles(u,g,h,m)}}return et.memo(a)}function r7e(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=L1(rb.apply(void 0,wp([t],e,!1))),i=ZI(r);return new gz(i,r)}var Ge={},hg={exports:{}},xue=hg.exports,wN;function Tue(){return wN||(wN=1,(function(t,e){(function(n,r){var i="1.0.41",s="",a="?",c="function",u="undefined",d="object",h="string",p="major",m="model",g="name",b="type",v="vendor",E="version",O="architecture",k="console",S="mobile",A="tablet",C="smarttv",I="wearable",N="embedded",z=500,L="Amazon",B="Apple",H="ASUS",D="BlackBerry",F="Browser",K="Chrome",T="Edge",x="Firefox",$="Google",j="Honor",P="Huawei",V="Lenovo",M="LG",G="Microsoft",J="Motorola",X="Nvidia",Q="OnePlus",ge="Opera",we="OPPO",Te="Samsung",Ee="Sharp",Pe="Sony",qe="Xiaomi",rt="Zebra",ye="Facebook",Tt="Chromium OS",Kt="Mac OS",wt=" Browser",hi=function(It,it){var ct={};for(var ht in It)it[ht]&&it[ht].length%2===0?ct[ht]=it[ht].concat(It[ht]):ct[ht]=It[ht];return ct},Vt=function(It){for(var it={},ct=0;ct<It.length;ct++)it[It[ct].toUpperCase()]=It[ct];return it},Le=function(It,it){return typeof It===h?Ve(it).indexOf(Ve(It))!==-1:!1},Ve=function(It){return It.toLowerCase()},pi=function(It){return typeof It===h?It.replace(/[^\d\.]/g,s).split(".")[0]:r},yi=function(It,it){if(typeof It===h)return It=It.replace(/^\s\s*/,s),typeof it===u?It:It.substring(0,z)},dt=function(It,it){for(var ct=0,ht,On,Xt,Nt,Ke,Pr;ct<it.length&&!Ke;){var Yr=it[ct],ji=it[ct+1];for(ht=On=0;ht<Yr.length&&!Ke&&Yr[ht];)if(Ke=Yr[ht++].exec(It),Ke)for(Xt=0;Xt<ji.length;Xt++)Pr=Ke[++On],Nt=ji[Xt],typeof Nt===d&&Nt.length>0?Nt.length===2?typeof Nt[1]==c?this[Nt[0]]=Nt[1].call(this,Pr):this[Nt[0]]=Nt[1]:Nt.length===3?typeof Nt[1]===c&&!(Nt[1].exec&&Nt[1].test)?this[Nt[0]]=Pr?Nt[1].call(this,Pr,Nt[2]):r:this[Nt[0]]=Pr?Pr.replace(Nt[1],Nt[2]):r:Nt.length===4&&(this[Nt[0]]=Pr?Nt[3].call(this,Pr.replace(Nt[1],Nt[2])):r):this[Nt]=Pr||r;ct+=2}},_n=function(It,it){for(var ct in it)if(typeof it[ct]===d&&it[ct].length>0){for(var ht=0;ht<it[ct].length;ht++)if(Le(it[ct][ht],It))return ct===a?r:ct}else if(Le(it[ct],It))return ct===a?r:ct;return it.hasOwnProperty("*")?it["*"]:It},Ia={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},ps={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Li={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[E,[g,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[E,[g,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[g,E],[/opios[\/ ]+([\w\.]+)/i],[E,[g,ge+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[E,[g,ge+" GX"]],[/\bopr\/([\w\.]+)/i],[E,[g,ge]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[E,[g,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[E,[g,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[g,E],[/quark(?:pc)?\/([-\w\.]+)/i],[E,[g,"Quark"]],[/\bddg\/([\w\.]+)/i],[E,[g,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[E,[g,"UC"+F]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[E,[g,"WeChat"]],[/konqueror\/([\w\.]+)/i],[E,[g,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[E,[g,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[E,[g,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[E,[g,"Smart Lenovo "+F]],[/(avast|avg)\/([\w\.]+)/i],[[g,/(.+)/,"$1 Secure "+F],E],[/\bfocus\/([\w\.]+)/i],[E,[g,x+" Focus"]],[/\bopt\/([\w\.]+)/i],[E,[g,ge+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[E,[g,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[E,[g,"Dolphin"]],[/coast\/([\w\.]+)/i],[E,[g,ge+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[E,[g,"MIUI"+wt]],[/fxios\/([\w\.-]+)/i],[E,[g,x]],[/\bqihoobrowser\/?([\w\.]*)/i],[E,[g,"360"]],[/\b(qq)\/([\w\.]+)/i],[[g,/(.+)/,"$1Browser"],E],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[g,/(.+)/,"$1"+wt],E],[/samsungbrowser\/([\w\.]+)/i],[E,[g,Te+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[E,[g,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[g,"Sogou Mobile"],E],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[g,E],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[g],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[E,g],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[g,ye],E],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/(daum)apps[\/ ]([\w\.]+)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[g,E],[/\bgsa\/([\w\.]+) .*safari\//i],[E,[g,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[E,[g,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[E,[g,K+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[g,K+" WebView"],E],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[E,[g,"Android "+F]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[g,E],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[E,[g,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[E,g],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[g,[E,_n,Ia]],[/(webkit|khtml)\/([\w\.]+)/i],[g,E],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[g,"Netscape"],E],[/(wolvic|librewolf)\/([\w\.]+)/i],[g,E],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[E,[g,x+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[g,[E,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[g,[E,/master.|lts./,""]]],cpu:[[/\b((amd|x|x86[-_]?|wow|win)64)\b/i],[[O,"amd64"]],[/(ia32(?=;))/i,/\b((i[346]|x)86)(pc)?\b/i],[[O,"ia32"]],[/\b(aarch64|arm(v?[89]e?l?|_?64))\b/i],[[O,"arm64"]],[/\b(arm(v[67])?ht?n?[fl]p?)\b/i],[[O,"armhf"]],[/( (ce|mobile); ppc;|\/[\w\.]+arm\b)/i],[[O,"arm"]],[/((ppc|powerpc)(64)?)( mac|;|\))/i],[[O,/ower/,s,Ve]],[/ sun4\w[;\)]/i],[[O,"sparc"]],[/\b(avr32|ia64(?=;)|68k(?=\))|\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\b|pa-risc)/i],[[O,Ve]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[m,[v,Te],[b,A]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[m,[v,Te],[b,S]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[m,[v,B],[b,S]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[m,[v,B],[b,A]],[/(macintosh);/i],[m,[v,B]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[m,[v,Ee],[b,S]],[/\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\)|;)/i],[m,[v,j],[b,A]],[/honor([-\w ]+)[;\)]/i],[m,[v,j],[b,S]],[/\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\w\. ]*(?= bui|\)))\b(?!.+d\/s)/i],[m,[v,P],[b,A]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[m,[v,P],[b,S]],[/oid[^\)]+; (2[\dbc]{4}(182|283|rp\w{2})[cgl]|m2105k81a?c)(?: bui|\))/i,/\b((?:red)?mi[-_ ]?pad[\w- ]*)(?: bui|\))/i],[[m,/_/g," "],[v,qe],[b,A]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i,/ ([\w ]+) miui\/v?\d/i],[[m,/_/g," "],[v,qe],[b,S]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[m,[v,we],[b,S]],[/\b(opd2(\d{3}a?))(?: bui|\))/i],[m,[v,_n,{OnePlus:["304","403","203"],"*":we}],[b,A]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[m,[v,"Vivo"],[b,S]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[m,[v,"Realme"],[b,S]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto(?! 360)[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[m,[v,J],[b,S]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[m,[v,J],[b,A]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[m,[v,M],[b,A]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv|watch)\w+)/i,/\blg-?([\d\w]+) bui/i],[m,[v,M],[b,S]],[/(ideatab[-\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\d{3,4}(?:f[cu]|xu|[av])|yt\d?-[jx]?\d+[lfmx])( bui|;|\)|\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\w- ]+?)|tb[\w-]{6,7})( bui|;|\)|\/)/i],[m,[v,V],[b,A]],[/(nokia) (t[12][01])/i],[v,m,[b,A]],[/(?:maemo|nokia).*(n900|lumia \d+|rm-\d+)/i,/nokia[-_ ]?(([-\w\. ]*))/i],[[m,/_/g," "],[b,S],[v,"Nokia"]],[/(pixel (c|tablet))\b/i],[m,[v,$],[b,A]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[m,[v,$],[b,S]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[m,[v,Pe],[b,S]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[m,"Xperia Tablet"],[v,Pe],[b,A]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[m,[v,Q],[b,S]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[m,[v,L],[b,A]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[m,/(.+)/g,"Fire Phone $1"],[v,L],[b,S]],[/(playbook);[-\w\),; ]+(rim)/i],[m,v,[b,A]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[m,[v,D],[b,S]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[m,[v,H],[b,A]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[m,[v,H],[b,S]],[/(nexus 9)/i],[m,[v,"HTC"],[b,A]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[v,[m,/_/g," "],[b,S]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[m,[v,"TCL"],[b,A]],[/(itel) ((\w+))/i],[[v,Ve],m,[b,_n,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[m,[v,"Acer"],[b,A]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[m,[v,"Meizu"],[b,S]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[m,[v,"Ulefone"],[b,S]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[m,[v,"Energizer"],[b,S]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[m,[v,"Cat"],[b,S]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[m,[v,"Smartfren"],[b,S]],[/droid.+; (a(?:015|06[35]|142p?))/i],[m,[v,"Nothing"],[b,S]],[/; (x67 5g|tikeasy \w+|ac[1789]\d\w+)( b|\))/i,/archos ?(5|gamepad2?|([\w ]*[t1789]|hello) ?\d+[\w ]*)( b|\))/i],[m,[v,"Archos"],[b,A]],[/archos ([\w ]+)( b|\))/i,/; (ac[3-6]\d\w{2,8})( b|\))/i],[m,[v,"Archos"],[b,S]],[/(imo) (tab \w+)/i,/(infinix) (x1101b?)/i],[v,m,[b,A]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (hmd|imo) ([\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w ]+?)(?: bui|\)|\/)/i,/(oppo) ?([\w ]+) bui/i],[v,m,[b,S]],[/(kobo)\s(ereader|touch)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[v,m,[b,A]],[/(surface duo)/i],[m,[v,G],[b,A]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[m,[v,"Fairphone"],[b,S]],[/(u304aa)/i],[m,[v,"AT&T"],[b,S]],[/\bsie-(\w*)/i],[m,[v,"Siemens"],[b,S]],[/\b(rct\w+) b/i],[m,[v,"RCA"],[b,A]],[/\b(venue[\d ]{2,7}) b/i],[m,[v,"Dell"],[b,A]],[/\b(q(?:mv|ta)\w+) b/i],[m,[v,"Verizon"],[b,A]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[m,[v,"Barnes & Noble"],[b,A]],[/\b(tm\d{3}\w+) b/i],[m,[v,"NuVision"],[b,A]],[/\b(k88) b/i],[m,[v,"ZTE"],[b,A]],[/\b(nx\d{3}j) b/i],[m,[v,"ZTE"],[b,S]],[/\b(gen\d{3}) b.+49h/i],[m,[v,"Swiss"],[b,S]],[/\b(zur\d{3}) b/i],[m,[v,"Swiss"],[b,A]],[/\b((zeki)?tb.*\b) b/i],[m,[v,"Zeki"],[b,A]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[v,"Dragon Touch"],m,[b,A]],[/\b(ns-?\w{0,9}) b/i],[m,[v,"Insignia"],[b,A]],[/\b((nxa|next)-?\w{0,9}) b/i],[m,[v,"NextBook"],[b,A]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[v,"Voice"],m,[b,S]],[/\b(lvtel\-)?(v1[12]) b/i],[[v,"LvTel"],m,[b,S]],[/\b(ph-1) /i],[m,[v,"Essential"],[b,S]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[m,[v,"Envizen"],[b,A]],[/\b(trio[-\w\. ]+) b/i],[m,[v,"MachSpeed"],[b,A]],[/\btu_(1491) b/i],[m,[v,"Rotor"],[b,A]],[/((?:tegranote|shield t(?!.+d tv))[\w- ]*?)(?: b|\))/i],[m,[v,X],[b,A]],[/(sprint) (\w+)/i],[v,m,[b,S]],[/(kin\.[onetw]{3})/i],[[m,/\./g," "],[v,G],[b,S]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[m,[v,rt],[b,A]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[m,[v,rt],[b,S]],[/smart-tv.+(samsung)/i],[v,[b,C]],[/hbbtv.+maple;(\d+)/i],[[m,/^/,"SmartTV"],[v,Te],[b,C]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[v,M],[b,C]],[/(apple) ?tv/i],[v,[m,B+" TV"],[b,C]],[/crkey/i],[[m,K+"cast"],[v,$],[b,C]],[/droid.+aft(\w+)( bui|\))/i],[m,[v,L],[b,C]],[/(shield \w+ tv)/i],[m,[v,X],[b,C]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[m,[v,Ee],[b,C]],[/(bravia[\w ]+)( bui|\))/i],[m,[v,Pe],[b,C]],[/(mi(tv|box)-?\w+) bui/i],[m,[v,qe],[b,C]],[/Hbbtv.*(technisat) (.*);/i],[v,m,[b,C]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[v,yi],[m,yi],[b,C]],[/droid.+; ([\w- ]+) (?:android tv|smart[- ]?tv)/i],[m,[b,C]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[b,C]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[v,m,[b,k]],[/droid.+; (shield)( bui|\))/i],[m,[v,X],[b,k]],[/(playstation \w+)/i],[m,[v,Pe],[b,k]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[m,[v,G],[b,k]],[/\b(sm-[lr]\d\d[0156][fnuw]?s?|gear live)\b/i],[m,[v,Te],[b,I]],[/((pebble))app/i,/(asus|google|lg|oppo) ((pixel |zen)?watch[\w ]*)( bui|\))/i],[v,m,[b,I]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[m,[v,we],[b,I]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[m,[v,B],[b,I]],[/(opwwe\d{3})/i],[m,[v,Q],[b,I]],[/(moto 360)/i],[m,[v,J],[b,I]],[/(smartwatch 3)/i],[m,[v,Pe],[b,I]],[/(g watch r)/i],[m,[v,M],[b,I]],[/droid.+; (wt63?0{2,3})\)/i],[m,[v,rt],[b,I]],[/droid.+; (glass) \d/i],[m,[v,$],[b,I]],[/(pico) (4|neo3(?: link|pro)?)/i],[v,m,[b,I]],[/; (quest( \d| pro)?)/i],[m,[v,ye],[b,I]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[v,[b,N]],[/(aeobc)\b/i],[m,[v,L],[b,N]],[/(homepod).+mac os/i],[m,[v,B],[b,N]],[/windows iot/i],[[b,N]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[m,[b,S]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[m,[b,A]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[b,A]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[b,S]],[/droid .+?; ([\w\. -]+)( bui|\))/i],[m,[v,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[E,[g,T+"HTML"]],[/(arkweb)\/([\w\.]+)/i],[g,E],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[E,[g,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[g,E],[/ladybird\//i],[[g,"LibWeb"]],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[E,g]],os:[[/microsoft (windows) (vista|xp)/i],[g,E],[/(windows (?:phone(?: os)?|mobile|iot))[\/ ]?([\d\.\w ]*)/i],[g,[E,_n,ps]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[E,_n,ps],[g,"Windows"]],[/[adehimnop]{4,7}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[E,/_/g,"."],[g,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[g,Kt],[E,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[E,g],[/(ubuntu) ([\w\.]+) like android/i],[[g,/(.+)/,"$1 Touch"],E],[/(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen|webos)\w*[-\/; ]?([\d\.]*)/i],[g,E],[/\(bb(10);/i],[E,[g,D]],[/(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\/ ]?([\w\.]*)/i],[E,[g,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[E,[g,x+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[E,[g,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[E,[g,"watchOS"]],[/crkey\/([\d\.]+)/i],[E,[g,K+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[g,Tt],E],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux)(?: arm\w*| x86\w*| ?)([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[g,E],[/(sunos) ?([\w\.\d]*)/i],[[g,"Solaris"],E],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[g,E]]},mn=function(It,it){if(typeof It===d&&(it=It,It=r),!(this instanceof mn))return new mn(It,it).getResult();var ct=typeof n!==u&&n.navigator?n.navigator:r,ht=It||(ct&&ct.userAgent?ct.userAgent:s),On=ct&&ct.userAgentData?ct.userAgentData:r,Xt=it?hi(Li,it):Li,Nt=ct&&ct.userAgent==ht;return this.getBrowser=function(){var Ke={};return Ke[g]=r,Ke[E]=r,dt.call(Ke,ht,Xt.browser),Ke[p]=pi(Ke[E]),Nt&&ct&&ct.brave&&typeof ct.brave.isBrave==c&&(Ke[g]="Brave"),Ke},this.getCPU=function(){var Ke={};return Ke[O]=r,dt.call(Ke,ht,Xt.cpu),Ke},this.getDevice=function(){var Ke={};return Ke[v]=r,Ke[m]=r,Ke[b]=r,dt.call(Ke,ht,Xt.device),Nt&&!Ke[b]&&On&&On.mobile&&(Ke[b]=S),Nt&&Ke[m]=="Macintosh"&&ct&&typeof ct.standalone!==u&&ct.maxTouchPoints&&ct.maxTouchPoints>2&&(Ke[m]="iPad",Ke[b]=A),Ke},this.getEngine=function(){var Ke={};return Ke[g]=r,Ke[E]=r,dt.call(Ke,ht,Xt.engine),Ke},this.getOS=function(){var Ke={};return Ke[g]=r,Ke[E]=r,dt.call(Ke,ht,Xt.os),Nt&&!Ke[g]&&On&&On.platform&&On.platform!="Unknown"&&(Ke[g]=On.platform.replace(/chrome os/i,Tt).replace(/macos/i,Kt)),Ke},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return ht},this.setUA=function(Ke){return ht=typeof Ke===h&&Ke.length>z?yi(Ke,z):Ke,this},this.setUA(ht),this};mn.VERSION=i,mn.BROWSER=Vt([g,E,p]),mn.CPU=Vt([O]),mn.DEVICE=Vt([m,v,b,k,S,C,A,I,N]),mn.ENGINE=mn.OS=Vt([g,E]),t.exports&&(e=t.exports=mn),e.UAParser=mn;var Nr=typeof n!==u&&(n.jQuery||n.Zepto);if(Nr&&!Nr.ua){var Kr=new mn;Nr.ua=Kr.getResult(),Nr.ua.get=function(){return Kr.getUA()},Nr.ua.set=function(It){Kr.setUA(It);var it=Kr.getResult();for(var ct in it)Nr.ua[ct]=it[ct]}}})(typeof window=="object"?window:xue)})(hg,hg.exports)),hg.exports}var vN;function Iue(){if(vN)return Ge;vN=1,Object.defineProperty(Ge,"__esModule",{value:!0});function t(ce){return ce&&typeof ce=="object"&&"default"in ce?ce.default:ce}var e=$0(),n=t(e),r=Tue(),i=new r,s=i.getBrowser(),a=i.getCPU(),c=i.getDevice(),u=i.getEngine(),d=i.getOS(),h=i.getUA(),p=function(Z){return i.setUA(Z)},m=function(Z){if(!Z){console.error("No userAgent string was provided");return}var re=new r(Z);return{UA:re,browser:re.getBrowser(),cpu:re.getCPU(),device:re.getDevice(),engine:re.getEngine(),os:re.getOS(),ua:re.getUA(),setUserAgent:function(Re){return re.setUA(Re)}}},g=Object.freeze({ClientUAInstance:i,browser:s,cpu:a,device:c,engine:u,os:d,ua:h,setUa:p,parseUserAgent:m});function b(ce,Z){var re=Object.keys(ce);if(Object.getOwnPropertySymbols){var be=Object.getOwnPropertySymbols(ce);Z&&(be=be.filter(function(Re){return Object.getOwnPropertyDescriptor(ce,Re).enumerable})),re.push.apply(re,be)}return re}function v(ce){for(var Z=1;Z<arguments.length;Z++){var re=arguments[Z]!=null?arguments[Z]:{};Z%2?b(Object(re),!0).forEach(function(be){A(ce,be,re[be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ce,Object.getOwnPropertyDescriptors(re)):b(Object(re)).forEach(function(be){Object.defineProperty(ce,be,Object.getOwnPropertyDescriptor(re,be))})}return ce}function E(ce){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?E=function(Z){return typeof Z}:E=function(Z){return Z&&typeof Symbol=="function"&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z},E(ce)}function O(ce,Z){if(!(ce instanceof Z))throw new TypeError("Cannot call a class as a function")}function k(ce,Z){for(var re=0;re<Z.length;re++){var be=Z[re];be.enumerable=be.enumerable||!1,be.configurable=!0,"value"in be&&(be.writable=!0),Object.defineProperty(ce,be.key,be)}}function S(ce,Z,re){return Z&&k(ce.prototype,Z),ce}function A(ce,Z,re){return Z in ce?Object.defineProperty(ce,Z,{value:re,enumerable:!0,configurable:!0,writable:!0}):ce[Z]=re,ce}function C(){return C=Object.assign||function(ce){for(var Z=1;Z<arguments.length;Z++){var re=arguments[Z];for(var be in re)Object.prototype.hasOwnProperty.call(re,be)&&(ce[be]=re[be])}return ce},C.apply(this,arguments)}function I(ce,Z){if(typeof Z!="function"&&Z!==null)throw new TypeError("Super expression must either be null or a function");ce.prototype=Object.create(Z&&Z.prototype,{constructor:{value:ce,writable:!0,configurable:!0}}),Z&&z(ce,Z)}function N(ce){return N=Object.setPrototypeOf?Object.getPrototypeOf:function(re){return re.__proto__||Object.getPrototypeOf(re)},N(ce)}function z(ce,Z){return z=Object.setPrototypeOf||function(be,Re){return be.__proto__=Re,be},z(ce,Z)}function L(ce,Z){if(ce==null)return{};var re={},be=Object.keys(ce),Re,Ot;for(Ot=0;Ot<be.length;Ot++)Re=be[Ot],!(Z.indexOf(Re)>=0)&&(re[Re]=ce[Re]);return re}function B(ce,Z){if(ce==null)return{};var re=L(ce,Z),be,Re;if(Object.getOwnPropertySymbols){var Ot=Object.getOwnPropertySymbols(ce);for(Re=0;Re<Ot.length;Re++)be=Ot[Re],!(Z.indexOf(be)>=0)&&Object.prototype.propertyIsEnumerable.call(ce,be)&&(re[be]=ce[be])}return re}function H(ce){if(ce===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ce}function D(ce,Z){if(Z&&(typeof Z=="object"||typeof Z=="function"))return Z;if(Z!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return H(ce)}function F(ce,Z){return K(ce)||T(ce,Z)||x(ce,Z)||j()}function K(ce){if(Array.isArray(ce))return ce}function T(ce,Z){var re=ce==null?null:typeof Symbol<"u"&&ce[Symbol.iterator]||ce["@@iterator"];if(re!=null){var be=[],Re=!0,Ot=!1,Pn,Zr;try{for(re=re.call(ce);!(Re=(Pn=re.next()).done)&&(be.push(Pn.value),!(Z&&be.length===Z));Re=!0);}catch(xr){Ot=!0,Zr=xr}finally{try{!Re&&re.return!=null&&re.return()}finally{if(Ot)throw Zr}}return be}}function x(ce,Z){if(ce){if(typeof ce=="string")return $(ce,Z);var re=Object.prototype.toString.call(ce).slice(8,-1);if(re==="Object"&&ce.constructor&&(re=ce.constructor.name),re==="Map"||re==="Set")return Array.from(ce);if(re==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(re))return $(ce,Z)}}function $(ce,Z){(Z==null||Z>ce.length)&&(Z=ce.length);for(var re=0,be=new Array(Z);re<Z;re++)be[re]=ce[re];return be}function j(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var P={Mobile:"mobile",Tablet:"tablet",SmartTv:"smarttv",Console:"console",Wearable:"wearable",Embedded:"embedded",Browser:void 0},V={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",EdgeChromium:"Edge Chromium",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},M={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},G={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},J=function(Z){switch(Z){case P.Mobile:return{isMobile:!0};case P.Tablet:return{isTablet:!0};case P.SmartTv:return{isSmartTV:!0};case P.Console:return{isConsole:!0};case P.Wearable:return{isWearable:!0};case P.Browser:return{isBrowser:!0};case P.Embedded:return{isEmbedded:!0};default:return G}},X=function(Z){return p(Z)},Q=function(Z){var re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none";return Z||re},ge=function(){return typeof window<"u"&&(window.navigator||navigator)?window.navigator||navigator:!1},we=function(Z){var re=ge();return re&&re.platform&&(re.platform.indexOf(Z)!==-1||re.platform==="MacIntel"&&re.maxTouchPoints>1&&!window.MSStream)},Te=function(Z,re,be,Re,Ot){return{isBrowser:Z,browserMajorVersion:Q(re.major),browserFullVersion:Q(re.version),browserName:Q(re.name),engineName:Q(be.name),engineVersion:Q(be.version),osName:Q(Re.name),osVersion:Q(Re.version),userAgent:Q(Ot)}},Ee=function(Z,re,be,Re){return v({},Z,{vendor:Q(re.vendor),model:Q(re.model),os:Q(be.name),osVersion:Q(be.version),ua:Q(Re)})},Pe=function(Z,re,be,Re){return{isSmartTV:Z,engineName:Q(re.name),engineVersion:Q(re.version),osName:Q(be.name),osVersion:Q(be.version),userAgent:Q(Re)}},qe=function(Z,re,be,Re){return{isConsole:Z,engineName:Q(re.name),engineVersion:Q(re.version),osName:Q(be.name),osVersion:Q(be.version),userAgent:Q(Re)}},rt=function(Z,re,be,Re){return{isWearable:Z,engineName:Q(re.name),engineVersion:Q(re.version),osName:Q(be.name),osVersion:Q(be.version),userAgent:Q(Re)}},ye=function(Z,re,be,Re,Ot){return{isEmbedded:Z,vendor:Q(re.vendor),model:Q(re.model),engineName:Q(be.name),engineVersion:Q(be.version),osName:Q(Re.name),osVersion:Q(Re.version),userAgent:Q(Ot)}};function Tt(ce){var Z=ce?m(ce):g,re=Z.device,be=Z.browser,Re=Z.engine,Ot=Z.os,Pn=Z.ua,Zr=J(re.type),xr=Zr.isBrowser,ec=Zr.isMobile,Df=Zr.isTablet,vl=Zr.isSmartTV,Lb=Zr.isConsole,Mf=Zr.isWearable,Uf=Zr.isEmbedded;if(xr)return Te(xr,be,Re,Ot,Pn);if(vl)return Pe(vl,Re,Ot,Pn);if(Lb)return qe(Lb,Re,Ot,Pn);if(ec||Df)return Ee(Zr,re,Ot,Pn);if(Mf)return rt(Mf,Re,Ot,Pn);if(Uf)return ye(Uf,re,Re,Ot,Pn)}var Kt=function(Z){var re=Z.type;return re===P.Mobile},wt=function(Z){var re=Z.type;return re===P.Tablet},hi=function(Z){var re=Z.type;return re===P.Mobile||re===P.Tablet},Vt=function(Z){var re=Z.type;return re===P.SmartTv},Le=function(Z){var re=Z.type;return re===P.Browser},Ve=function(Z){var re=Z.type;return re===P.Wearable},pi=function(Z){var re=Z.type;return re===P.Console},yi=function(Z){var re=Z.type;return re===P.Embedded},dt=function(Z){var re=Z.vendor;return Q(re)},_n=function(Z){var re=Z.model;return Q(re)},Ia=function(Z){var re=Z.type;return Q(re,"browser")},ps=function(Z){var re=Z.name;return re===M.Android},Li=function(Z){var re=Z.name;return re===M.Windows},mn=function(Z){var re=Z.name;return re===M.MAC_OS},Nr=function(Z){var re=Z.name;return re===M.WindowsPhone},Kr=function(Z){var re=Z.name;return re===M.IOS},It=function(Z){var re=Z.version;return Q(re)},it=function(Z){var re=Z.name;return Q(re)},ct=function(Z){var re=Z.name;return re===V.Chrome},ht=function(Z){var re=Z.name;return re===V.Firefox},On=function(Z){var re=Z.name;return re===V.Chromium},Xt=function(Z){var re=Z.name;return re===V.Edge},Nt=function(Z){var re=Z.name;return re===V.Yandex},Ke=function(Z){var re=Z.name;return re===V.Safari||re===V.MobileSafari},Pr=function(Z){var re=Z.name;return re===V.MobileSafari},Yr=function(Z){var re=Z.name;return re===V.Opera},ji=function(Z){var re=Z.name;return re===V.InternetExplorer||re===V.Ie},vt=function(Z){var re=Z.name;return re===V.MIUI},ys=function(Z){var re=Z.name;return re===V.SamsungBrowser},Jo=function(Z){var re=Z.version;return Q(re)},co=function(Z){var re=Z.major;return Q(re)},Wu=function(Z){var re=Z.name;return Q(re)},Hu=function(Z){var re=Z.name;return Q(re)},U=function(Z){var re=Z.version;return Q(re)},W=function(){var Z=ge(),re=Z&&Z.userAgent&&Z.userAgent.toLowerCase();return typeof re=="string"?/electron/.test(re):!1},te=function(Z){return typeof Z=="string"&&Z.indexOf("Edg/")!==-1},ee=function(){var Z=ge();return Z&&(/iPad|iPhone|iPod/.test(Z.platform)||Z.platform==="MacIntel"&&Z.maxTouchPoints>1)&&!window.MSStream},ae=function(){return we("iPad")},le=function(){return we("iPhone")},Ce=function(){return we("iPod")},$e=function(Z){return Q(Z)};function Xe(ce){var Z=ce||g,re=Z.device,be=Z.browser,Re=Z.os,Ot=Z.engine,Pn=Z.ua;return{isSmartTV:Vt(re),isConsole:pi(re),isWearable:Ve(re),isEmbedded:yi(re),isMobileSafari:Pr(be)||ae(),isChromium:On(be),isMobile:hi(re)||ae(),isMobileOnly:Kt(re),isTablet:wt(re)||ae(),isBrowser:Le(re),isDesktop:Le(re),isAndroid:ps(Re),isWinPhone:Nr(Re),isIOS:Kr(Re)||ae(),isChrome:ct(be),isFirefox:ht(be),isSafari:Ke(be),isOpera:Yr(be),isIE:ji(be),osVersion:It(Re),osName:it(Re),fullBrowserVersion:Jo(be),browserVersion:co(be),browserName:Wu(be),mobileVendor:dt(re),mobileModel:_n(re),engineName:Hu(Ot),engineVersion:U(Ot),getUA:$e(Pn),isEdge:Xt(be)||te(Pn),isYandex:Nt(be),deviceType:Ia(re),isIOS13:ee(),isIPad13:ae(),isIPhone13:le(),isIPod13:Ce(),isElectron:W(),isEdgeChromium:te(Pn),isLegacyEdge:Xt(be)&&!te(Pn),isWindows:Li(Re),isMacOs:mn(Re),isMIUI:vt(be),isSamsungBrowser:ys(be)}}var yt=Vt(c),Mt=pi(c),mt=Ve(c),Ct=yi(c),Je=Pr(s)||ae(),sn=On(s),an=hi(c)||ae(),cr=Kt(c),Sr=wt(c)||ae(),Yn=Le(c),un=Le(c),Zn=ps(d),Xn=Nr(d),qs=Kr(d)||ae(),Ca=ct(s),lt=ht(s),En=Ke(s),_t=Yr(s),dn=ji(s),Dr=It(d),Qo=it(d),Oa=Jo(s),kf=co(s),ey=Wu(s),Rf=dt(c),$f=_n(c),ka=Hu(u),zi=U(u),kb=$e(h),XE=Xt(s)||te(h),ty=Nt(s),Rb=Ia(c),Nf=ee(),JE=ae(),Fi=le(),ny=Ce(),$b=W(),ry=te(h),ml=Xt(s)&&!te(h),Nb=Li(d),Pb=mn(d),gl=vt(s),QE=ys(s),Db=function(Z){if(!Z||typeof Z!="string"){console.error("No valid user agent string was provided");return}var re=m(Z),be=re.device,Re=re.browser,Ot=re.os,Pn=re.engine,Zr=re.ua;return Xe({device:be,browser:Re,os:Ot,engine:Pn,ua:Zr})},Mb=function(Z){var re=Z.renderWithFragment,be=Z.children,Re=B(Z,["renderWithFragment","children"]);return Zn?re?n.createElement(e.Fragment,null,be):n.createElement("div",Re,be):null},iy=function(Z){var re=Z.renderWithFragment,be=Z.children,Re=B(Z,["renderWithFragment","children"]);return Yn?re?n.createElement(e.Fragment,null,be):n.createElement("div",Re,be):null},e2=function(Z){var re=Z.renderWithFragment,be=Z.children,Re=B(Z,["renderWithFragment","children"]);return dn?re?n.createElement(e.Fragment,null,be):n.createElement("div",Re,be):null},t2=function(Z){var re=Z.renderWithFragment,be=Z.children,Re=B(Z,["renderWithFragment","children"]);return qs?re?n.createElement(e.Fragment,null,be):n.createElement("div",Re,be):null},Pf=function(Z){var re=Z.renderWithFragment,be=Z.children,Re=B(Z,["renderWithFragment","children"]);return an?re?n.createElement(e.Fragment,null,be):n.createElement("div",Re,be):null},Ra=function(Z){var re=Z.renderWithFragment,be=Z.children,Re=B(Z,["renderWithFragment","children"]);return Sr?re?n.createElement(e.Fragment,null,be):n.createElement("div",Re,be):null},sy=function(Z){var re=Z.renderWithFragment,be=Z.children,Re=B(Z,["renderWithFragment","children"]);return Xn?re?n.createElement(e.Fragment,null,be):n.createElement("div",Re,be):null},ay=function(Z){var re=Z.renderWithFragment,be=Z.children;Z.viewClassName,Z.style;var Re=B(Z,["renderWithFragment","children","viewClassName","style"]);return cr?re?n.createElement(e.Fragment,null,be):n.createElement("div",Re,be):null},bl=function(Z){var re=Z.renderWithFragment,be=Z.children,Re=B(Z,["renderWithFragment","children"]);return yt?re?n.createElement(e.Fragment,null,be):n.createElement("div",Re,be):null},wl=function(Z){var re=Z.renderWithFragment,be=Z.children,Re=B(Z,["renderWithFragment","children"]);return Mt?re?n.createElement(e.Fragment,null,be):n.createElement("div",Re,be):null},Ub=function(Z){var re=Z.renderWithFragment,be=Z.children,Re=B(Z,["renderWithFragment","children"]);return mt?re?n.createElement(e.Fragment,null,be):n.createElement("div",Re,be):null},oy=function(Z){var re=Z.renderWithFragment,be=Z.children;Z.viewClassName,Z.style;var Re=Z.condition,Ot=B(Z,["renderWithFragment","children","viewClassName","style","condition"]);return Re?re?n.createElement(e.Fragment,null,be):n.createElement("div",Ot,be):null};function Bb(ce){return(function(Z){I(re,Z);function re(be){var Re;return O(this,re),Re=D(this,N(re).call(this,be)),Re.isEventListenerAdded=!1,Re.handleOrientationChange=Re.handleOrientationChange.bind(H(Re)),Re.onOrientationChange=Re.onOrientationChange.bind(H(Re)),Re.onPageLoad=Re.onPageLoad.bind(H(Re)),Re.state={isLandscape:!1,isPortrait:!1},Re}return S(re,[{key:"handleOrientationChange",value:function(){this.isEventListenerAdded||(this.isEventListenerAdded=!0);var Re=window.innerWidth>window.innerHeight?90:0;this.setState({isPortrait:Re===0,isLandscape:Re===90})}},{key:"onOrientationChange",value:function(){this.handleOrientationChange()}},{key:"onPageLoad",value:function(){this.handleOrientationChange()}},{key:"componentDidMount",value:function(){(typeof window>"u"?"undefined":E(window))!==void 0&&an&&(this.isEventListenerAdded?window.removeEventListener("load",this.onPageLoad,!1):(this.handleOrientationChange(),window.addEventListener("load",this.onPageLoad,!1)),window.addEventListener("resize",this.onOrientationChange,!1))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onOrientationChange,!1)}},{key:"render",value:function(){return n.createElement(ce,C({},this.props,{isLandscape:this.state.isLandscape,isPortrait:this.state.isPortrait}))}}]),re})(n.Component)}function Vu(){var ce=e.useState(function(){var Ot=window.innerWidth>window.innerHeight?90:0;return{isPortrait:Ot===0,isLandscape:Ot===90,orientation:Ot===0?"portrait":"landscape"}}),Z=F(ce,2),re=Z[0],be=Z[1],Re=e.useCallback(function(){var Ot=window.innerWidth>window.innerHeight?90:0,Pn={isPortrait:Ot===0,isLandscape:Ot===90,orientation:Ot===0?"portrait":"landscape"};re.orientation!==Pn.orientation&&be(Pn)},[re.orientation]);return e.useEffect(function(){return(typeof window>"u"?"undefined":E(window))!==void 0&&an&&(Re(),window.addEventListener("load",Re,!1),window.addEventListener("resize",Re,!1)),function(){window.removeEventListener("resize",Re,!1),window.removeEventListener("load",Re,!1)}},[Re]),re}function Ws(ce){var Z=ce||window.navigator.userAgent;return m(Z)}function cy(ce){var Z=ce||window.navigator.userAgent,re=Ws(Z),be=Xe(re);return[be,re]}return Ge.AndroidView=Mb,Ge.BrowserTypes=V,Ge.BrowserView=iy,Ge.ConsoleView=wl,Ge.CustomView=oy,Ge.IEView=e2,Ge.IOSView=t2,Ge.MobileOnlyView=ay,Ge.MobileView=Pf,Ge.OsTypes=M,Ge.SmartTVView=bl,Ge.TabletView=Ra,Ge.WearableView=Ub,Ge.WinPhoneView=sy,Ge.browserName=ey,Ge.browserVersion=kf,Ge.deviceDetect=Tt,Ge.deviceType=Rb,Ge.engineName=ka,Ge.engineVersion=zi,Ge.fullBrowserVersion=Oa,Ge.getSelectorsByUserAgent=Db,Ge.getUA=kb,Ge.isAndroid=Zn,Ge.isBrowser=Yn,Ge.isChrome=Ca,Ge.isChromium=sn,Ge.isConsole=Mt,Ge.isDesktop=un,Ge.isEdge=XE,Ge.isEdgeChromium=ry,Ge.isElectron=$b,Ge.isEmbedded=Ct,Ge.isFirefox=lt,Ge.isIE=dn,Ge.isIOS=qs,Ge.isIOS13=Nf,Ge.isIPad13=JE,Ge.isIPhone13=Fi,Ge.isIPod13=ny,Ge.isLegacyEdge=ml,Ge.isMIUI=gl,Ge.isMacOs=Pb,Ge.isMobile=an,Ge.isMobileOnly=cr,Ge.isMobileSafari=Je,Ge.isOpera=_t,Ge.isSafari=En,Ge.isSamsungBrowser=QE,Ge.isSmartTV=yt,Ge.isTablet=Sr,Ge.isWearable=mt,Ge.isWinPhone=Xn,Ge.isWindows=Nb,Ge.isYandex=ty,Ge.mobileModel=$f,Ge.mobileVendor=Rf,Ge.osName=Qo,Ge.osVersion=Dr,Ge.parseUserAgent=m,Ge.setUserAgent=X,Ge.useDeviceData=Ws,Ge.useDeviceSelectors=cy,Ge.useMobileOrientation=Vu,Ge.withOrientationChange=Bb,Ge}var qo=Iue();let Cue=class extends zn{constructor(){super("Wallet timeout"),this.type="wallet_error"}};const Lu=t=>t instanceof zn?t:t?.code?new So(t):new zn("Unknown connector error",t);let Oue=class extends Bu{constructor(e,n,r){super(e),this.type="provider_error",this.code=n,this.data=r}},So=class extends Oue{constructor(e){super(e.message,e.code,e.data);let n=Object.values(Nh).find((r=>r.eipCode===e.code));this.details=n||Nh.UNKNOWN_ERROR,e.code===-32002&&(e.message?.includes("already pending for origin")?e.message?.includes("wallet_requestPermissions")?this.details=Nh.E32002_CONNECTION_ALREADY_PENDING:this.details=Nh.E32002_REQUEST_ALREADY_PENDING:e.message?.includes("Already processing")&&e.message.includes("eth_requestAccounts")&&(this.details=Nh.E32002_WALLET_LOCKED))}};const o7e={ERROR_USER_EXISTS:{message:"User already exists for this address",detail:"Try another address!",retryable:!1},ERROR_TIMED_OUT:{message:"Wallet request timed out",detail:"Please try connecting again.",retryable:!0},ERROR_WALLET_CONNECTION:{message:"Could not log in with wallet",detail:"Please try connecting again.",retryable:!0},ERROR_USER_LIMIT_REACHED:{message:"Unable to link",detail:"You've reached the maximum number of linked wallets.",retryable:!1},...Nh};let Ez=class{get(e){let n=localStorage.getItem(e);return n===null?void 0:JSON.parse(n)}put(e,n){n!==void 0?localStorage.setItem(e,JSON.stringify(n)):this.del(e)}del(e){localStorage.removeItem(e)}getKeys(){return Object.entries(localStorage).map((([e])=>e))}};function i5(){try{let t="privy:__session_storage__test",e=new Ez;return e.put(t,"blobby"),e.del(t),!0}catch{return!1}}var nt=typeof window<"u"&&window.localStorage?new Ez:new class{get(t){return this._cache[t]}put(t,e){e!==void 0?this._cache[t]=e:this.del(t)}del(t){delete this._cache[t]}getKeys(){return Object.keys(this._cache)}constructor(){this._cache={}}};let Az=class extends Uu{constructor(e){super(),this.walletClientType=e,this.connected=!1,this.initialized=!1}};const Hv=()=>{let t=nt.get(Nj);return t&&Array.isArray(t)&&t.map((e=>(n=>n&&typeof n.address=="string"&&typeof n.connectorType=="string"&&typeof n.walletClientType=="string"&&typeof n.connectedAt=="number")(e))).every(Boolean)?t:[]};let kue=["phantom","glow","solflare","backpack","okx_wallet","walletconnect","mobile_wallet_adapter","jupiter"];function Rue(t){return t.toLowerCase().split(" ").join("_")}let Vv=class extends Az{get isInstalled(){return!0}get wallet(){return this._wallet}buildConnectedWallet(){return this._wallet.accounts.map((e=>({type:"solana",provider:new Oj({wallet:this._wallet,account:e}),address:e.address,connectedAt:Date.now(),walletClientType:this._wallet.name,connectorType:this.connectorType,imported:!1,meta:{name:this._wallet.name,id:this._wallet.name,icon:this._wallet.icon},isConnected:async()=>this._wallet.accounts.length>0,disconnect:async()=>{await this.disconnect()}})))}async syncAccounts(){this.wallets=this.buildConnectedWallet(),this.emit("walletsUpdated")}get walletBranding(){return{id:_N(this.wallet)?"walletconnect_solana":this.wallet.name,name:this.wallet.name,icon:this.wallet.icon}}async initialize(){this.subscribeListeners(),await this.syncAccounts(),this.shouldAttemptAutoConnect()&&(await this.wallet.features["standard:connect"]?.connect({silent:!0}).catch((()=>{})),await this.isConnected()&&await this.syncAccounts()),this.initialized=!0,this.emit("initialized")}async connect(e){if(e.showPrompt)try{await this.promptConnection()}catch(n){throw this._wallet.accounts.length===0?new rN:n}if(!await this.isConnected())throw new rN;return await this.syncAccounts(),this.getConnectedWallet()}async getConnectedWallet(){return this.wallets.sort(((e,n)=>n.connectedAt-e.connectedAt))[0]||null}async isConnected(){return this._wallet.accounts.length>0}subscribeListeners(){this._unsubscribeListeners=this.wallet.features["standard:events"]?.on("change",this.onChange)}unsubscribeListeners(){this._unsubscribeListeners?.()}shouldAttemptAutoConnect(){return!(!this.autoConnectEnabled||!kue.includes(this.walletClientType))&&(this.walletClientType!=="phantom"&&this.walletClientType.toLowerCase()!=="metamask"||Hv().some((({walletClientType:e})=>e==="phantom"||e.toLowerCase()==="metamask")))}constructor(e,n){super(Rue(_N(e)?"walletconnect_solana":e.name)),this.chainType="solana",this.connectorType="solana_adapter",this.disconnect=async()=>{await this.wallet.features["standard:disconnect"]?.disconnect().catch((r=>console.error("Error disconnecting",r))),await this.syncAccounts()},this.promptConnection=async()=>{try{await this.wallet.features["standard:connect"]?.connect()}catch(r){throw Lu(r)}},this.onChange=()=>{this.syncAccounts()},this._wallet=e,this.autoConnectEnabled=n,this.wallets=[]}};function _N(t){return"isWalletConnectSolana"in t&&t.isWalletConnectSolana}const d7e=({style:t,...e})=>{let n=Sa();return he.jsxs("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"28px",width:"28px",...t},...e,children:[he.jsx("rect",{width:"28",height:"28",rx:"3",fill:n?.appearance.palette.colorScheme==="dark"?"#3396ff":"#141414"}),he.jsx("g",{clipPath:"url(#clip0_1765_9946)",children:he.jsx("path",{d:"M8.09448 10.3941C11.3558 7.20196 16.6442 7.20196 19.9055 10.3941L20.2982 10.7782C20.3369 10.8157 20.3677 10.8606 20.3887 10.9102C20.4097 10.9599 20.4206 11.0132 20.4206 11.0671C20.4206 11.121 20.4097 11.1744 20.3887 11.224C20.3677 11.2737 20.3369 11.3186 20.2982 11.3561L18.9554 12.6702C18.9158 12.7086 18.8628 12.7301 18.8077 12.7301C18.7526 12.7301 18.6996 12.7086 18.66 12.6702L18.1198 12.1415C15.8448 9.91503 12.1557 9.91503 9.88015 12.1415L9.30167 12.7075C9.26207 12.7459 9.20909 12.7673 9.15395 12.7673C9.0988 12.7673 9.04582 12.7459 9.00622 12.7075L7.66346 11.3934C7.62475 11.3559 7.59397 11.3109 7.57295 11.2613C7.55193 11.2117 7.5411 11.1583 7.5411 11.1044C7.5411 11.0505 7.55193 10.9971 7.57295 10.9475C7.59397 10.8979 7.62475 10.8529 7.66346 10.8154L8.09448 10.3941ZM22.6829 13.1115L23.8776 14.2814C23.9163 14.319 23.9471 14.3639 23.9681 14.4135C23.9892 14.4632 24 14.5165 24 14.5704C24 14.6243 23.9892 14.6777 23.9681 14.7273C23.9471 14.777 23.9163 14.8219 23.8776 14.8594L18.4893 20.1332C18.4102 20.2101 18.3042 20.2531 18.1938 20.2531C18.0835 20.2531 17.9775 20.2101 17.8984 20.1332L14.0743 16.3901C14.0545 16.3708 14.0279 16.36 14.0003 16.36C13.9726 16.36 13.9461 16.3708 13.9263 16.3901L10.1021 20.1332C10.023 20.2101 9.91703 20.2531 9.8067 20.2531C9.69636 20.2531 9.59038 20.2101 9.51124 20.1332L4.12236 14.8594C4.08365 14.8219 4.05287 14.777 4.03185 14.7273C4.01083 14.6777 4 14.6243 4 14.5704C4 14.5165 4.01083 14.4632 4.03185 14.4135C4.05287 14.3639 4.08365 14.319 4.12236 14.2814L5.31767 13.1115C5.39678 13.0348 5.50265 12.9919 5.61285 12.9919C5.72305 12.9919 5.82892 13.0348 5.90803 13.1115L9.73216 16.8546C9.75194 16.874 9.7785 16.8848 9.80616 16.8848C9.83381 16.8848 9.86037 16.874 9.88015 16.8546L13.7043 13.1115C13.7834 13.0346 13.8894 12.9916 13.9997 12.9916C14.1101 12.9916 14.216 13.0346 14.2952 13.1115L18.1198 16.8546C18.1396 16.874 18.1662 16.8848 18.1938 16.8848C18.2215 16.8848 18.2481 16.874 18.2678 16.8546L22.092 13.1115C22.1711 13.0346 22.2771 12.9916 22.3874 12.9916C22.4977 12.9916 22.6037 13.0346 22.6829 13.1115Z",fill:"white"})}),he.jsx("defs",{children:he.jsx("clipPath",{id:"clip0_1765_9946",children:he.jsx("rect",{width:"20",height:"12.2531",fill:"white",transform:"translate(4 8)"})})})]})},Sz="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAHdElNRQfoDAIVODUC+w+GAAAGsUlEQVRYw6WXbYwWVxXHf+fOLAtCXYS2QJdIaClipGCTknXXNqBQMVHbfmhItH4Aral+IAEaG03UxJgYKQJGTUxtDWjaxDSNtcZqIGDwpRuW1oYiVqpdpZSlpC3qysu+PHPP3w/3mXnmeXZbPzjJZO7cefn/z/mfe865xlscq3dGDIguGiHLaMQVLja4s87FShcLo5jtApdddnHexUmHIy475JmdUkPRAQMu7gzT4ljnxJpdk0QPmMFkyAKN2OfOFpc2uuh1J3MZDrjAvXmVEQUuoosRxw642FcEG7IoDxiFxNiu8NYE+vcUYIFYRKKs113bXWx2Z34CoQZsVHOiCZ7mopdzdsFhv8NexEgRDHMxUSNREbh1bwNZwBsFblmfu/a4a6AEENYO5i3AOoEWeEUCF4MOOxBDMQAOk99OJALA2u80sBCwWGBZWG/yRwMaCAbBIAsQTJT3gea1OWfNeaPzvjoHEI85rA8ObtB1v7cIdJkIHgkh9AXpocy0LJjIKvB2wPpZB0v3wkrw5jdNEjeYeMhFX3BAyfn2ke9NUrgB9LrrcZcGJFCld4fWNddXbvbWfWzGR6xJFZsBGh0cBh3bBIxIEGTQ3W0h4NuDaSAzyAxCmGq11Vzf5uaa1aG8p+WFtrEYQGwvjICJkAEqvC+YNmcmMlMNvEaCdrcbyUvQAWDTjVuESHObM6cPGWHmzDwLaEtmzG9Z3qF1zUpXmuuZBb1z4bqeNC6f0WE1NtUTwHzEloiy3BvFisy0sYoLlQtT6XW15md2Qf9SY+2Ngfdca/TMSm/9ewz+/Boc/It45h/i4kSTsKw90SQJsPTvjSZbkWemDW7qTRZ0JEYJWSKxZJ7xmf6M224MzMzbX1s8F1YugjtvMg6eErt/4/z1jUrz1rXUKxnZC2zIg2mdBTK1mFUOKC1fOt/48kdzVixIz86Nij+eEacvpJWyZJ5xy7th8VzjjpuMJfMCW58QL73ekXPVlhsyE+vyzFiplJyauEIyrGIquruMq7qTxk+dcB495rzyTzFepCUWLIFv/kBg081Gd55WUk1IDGFTS89K++TDYxddzKnWcbluHd450xgdh7EGrOo1rr868PMTzqWJRGZ2d8oB/xpL33Xnxl2rjeNn4blXRXduzJ4B5y+28kWscAwXl+yeR654FFZPHoUb710YuPeDOUdPO48di1xptKpeEeHqOcYXNwQKGd88EDk3mqxtxPSfGRlsXRtYt8z4ytPOH/7eqpg1Aso7fYKgK4NPrMpYvsC4/poMA34yVJIQC3sCD9yecdsNyaV5yPj6ryJnR1PAvSNP4J+/1cgDfLbfePaMGGtM7Qdyl12WmKOmXgKKAp54vmBRTxfLrjE+tSYjBPjRM5FrrzIeuD2jf2lLzw8vN4JlfPVp581LsO1DgXv7jSzAiXPw/d+JiYLpjsu26Yfjf5O0rF5WoxsNT9G/bX0XKxakmPjlSee6HlizJJXSX7/oRDc+vjKR+f2wODcKd78/gR8/C9uedF44myJxmhh4OY/ipMQyqaWxmjn95TfEroMFOzbkvG+RceeqViPx1Aln1yEnOow1AnffHCpJAJ5/Vex4UvzptZRdY/O/1dJIS/NkcNmR6MTYah6qzseA4TfFtw4UvHBW1bc/O+7sPhwZHYf/jMODh5yfPudVbXj2TAJ/8XxrOZagNamj4Ei2/GNfuyRxh8t6BG2l15up+MIVODEiFr8rcPS0+O6RBF6mrrEGHHtFzOo2Lo7Dl37hvPQ6mNV6R9JYKgnYWcE37K5HlE2OT/5A0udaPUBHH+BQOMzuNsYLuDyZflTW+fTcmJFDHhJhaZqewMuewXDxcDR9IYyPN6Jj+6K4MF2vV8qBtZJScqVRNi6lpGONVJis5mpKi1WbgwsY+zIsBpcR8mzIZfuTRVZrtdu9odrptR/Xx5XONXJqBmCN0P6YMUQq9WJiwt0Je102WHdbpxSqydMObBWYdwDWLVcqcIMYe3NPjg0Ht84od0Ajju1w2XCr9e6QoqM9V23ZtnmI6cfAMMb9AY0YEHdb6oobEh4y3H3Ize6LsmGvN5IdUnhttdQ9UVrfLk/ljWEZ9wXsqAdQk1EA+O22GcgdZTke/bAs3OPY4HSdcB20HhvVtTMu0jmI8ekAhz2IICj2hKpNqI60NcuIRUHEej1quzubXa2tmZhenrfZmv3YYQ9ipDAIgvHptmblccuDjdRcmjFpWbDi/9ycZjZkRbk5jYztai/AUwiUx+qdEQB/m+25i9lxyvbcjrg45Lmd0uT/3p7/Fw6ODf+WO019AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDI0LTEyLTAyVDIxOjU2OjQ4KzAwOjAwMVpslgAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyNC0xMi0wMlQyMTo1Njo0OCswMDowMEAH1CoAAAAodEVYdGRhdGU6dGltZXN0YW1wADIwMjQtMTItMDJUMjE6NTY6NTMrMDA6MDDZv6GRAAAAAElFTkSuQmCC";function oE(t){return["ethereum","solana"].includes(t.chainType)}function xz(t){let e=t.replace("eip155:","");if(e)return parseInt(e);throw Error("Chain ID not compatible with CAIP-2 format.")}const eC=t=>t.filter((e=>e.method==="wallets"||(e.method==="exchange"?e.provider==="coinbase":e.method==="card"||e.method==="payment-request"?e.provider==="coinbase"||e.provider==="moonpay":(e.method,!1)))),EN={[Mp.id]:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",[EB.id]:"0x1c7D4B196Cb0C7B01d743Fbc6116a902379C7238",[H3.id]:"0x0b2c639c533813f4aa9d7837caf62653d097ff85",[vB.id]:"0x5fd84259d66Cd46123540766Be93DFE6D43130D7",[M0.id]:"0x3c499c542cef5e3811e1192ce70d8cc03d5c3359",[_B.id]:"0x41e94eb019c0762f9bfcf9fb1e58725bfb0e7582",[D0.id]:"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",[wB.id]:"0x036CbD53842c5426634e7929541eC2318f3dCF7e",[P0.id]:"0xB97EF9Ef8734C71904D8002F8b6Bc66Dd9c48a6E",[bB.id]:"0x5425890298aed601595a70ab815c96711a31bc65",[N0.id]:"0xaf88d065e77c8cC2239327C5EDb3A432268e5831",[gB.id]:"0x75faf114eafb1BDbe2F0316DF893fd58CE46AA4d"},AN=({address:t,appConfig:e,fundWalletConfig:n,methodScreen:r,chainIdOverride:i,comingFromSendTransactionScreen:s=!1,onComplete:a,onError:c})=>{let u,d;if(!e.fundingConfig)throw Error("Wallet funding is not enabled");let h=eC(e.fundingConfig.options);if(h.length<1)throw Error("Wallet funding is not enabled");u=i||(n?.chain?n.chain.id:xz(e.fundingConfig.defaultRecommendedCurrency.chain));let p=e.chains.find((E=>E.id===u));if(!p)throw new se(`Funding chain ${u} is not in PrivyProvider chains list`);let m=n?.amount??e.fundingConfig.defaultRecommendedAmount,g=!1;function b(){if(!u)return;let E=EN[u];h.find((O=>O.method==="wallets"))&&!E&&console.warn("Attempting to fund with USDC on chain where USDC address is not known. Funding via external wallet will be disabled."),d=E,g=!0}n&&"asset"in n?n.asset==="USDC"?b():typeof n.asset!="string"&&"erc20"in n.asset&&(g=((E,O)=>E===EN[O.id])(d=n.asset.erc20,p)):e.fundingConfig.defaultRecommendedCurrency.asset==="USDC"&&b();let v=n?.defaultFundingMethod;return{chainType:"ethereum",address:t,amount:m,chain:p,erc20Address:d,erc20ContractInfo:g?{symbol:"USDC",decimals:6}:void 0,isUSDC:g,methodScreen:r,supportedOptions:h,comingFromSendTransactionScreen:s,defaultFundingMethod:v,usingDefaultFundingMethod:!!v,preferredCardProvider:n?.card?.preferredProvider,crossChainBridgingEnabled:e.fundingConfig.crossChainBridgingEnabled??!1,solanaChain:"solana:mainnet",uiConfig:n&&"uiConfig"in n?n.uiConfig:void 0,externalSolanaFundingScreen:null,onComplete:a??(()=>{}),onError:c??(()=>{})}};function $ue({address:t,fundWalletConfig:e,appConfig:n,comingFromSendTransactionScreen:r,externalSolanaFundingScreen:i,methodScreen:s}){if(!n.fundingConfig)throw Error("Wallet funding is not enabled");let a=eC(n.fundingConfig.options);if(a.length<1)throw Error("Wallet funding is not enabled");let c=e?.amount??n.fundingConfig.defaultRecommendedAmount,u=e?.defaultFundingMethod;return{chainType:"solana",address:t,supportedOptions:a,amount:c,isUSDC:e?.asset==="USDC",methodScreen:s,comingFromSendTransactionScreen:r,chain:e?.chain||"solana:mainnet",crossChainBridgingEnabled:n.fundingConfig.crossChainBridgingEnabled??!1,defaultFundingMethod:u,preferredCardProvider:e?.card?.preferredProvider,usingDefaultFundingMethod:!!u,uiConfig:e?.uiConfig,externalSolanaFundingScreen:i,onComplete:()=>{},onError:()=>{}}}const Nue={login:{onComplete:[],onError:[]},logout:{onSuccess:[]},connectWallet:{onSuccess:[],onError:[]},connectOrCreateWallet:{onSuccess:[],onError:[]},createWallet:{onSuccess:[],onError:[]},linkAccount:{onSuccess:[],onError:[]},update:{onSuccess:[],onError:[]},configureMfa:{onMfaRequired:[]},setWalletPassword:{onSuccess:[],onError:[]},setWalletRecovery:{onSuccess:[],onError:[]},signMessage:{onSuccess:[],onError:[]},signTypedData:{onSuccess:[],onError:[]},sendTransaction:{onSuccess:[],onError:[]},signTransaction:{onSuccess:[],onError:[]},accessToken:{onAccessTokenGranted:[],onAccessTokenRemoved:[]},oAuthAuthorization:{onOAuthTokenGrant:[]},fundWallet:{onUserExited:[]},fundSolanaWallet:{onUserExited:[]},customAuth:{onAuthenticated:[],onUnauthenticated:[]}},Tz=Y.createContext(void 0);let Iz=()=>Y.useContext(Tz);function cE(t,e){if(!e)return;let n=Iz().current[t];return Y.useEffect((()=>{for(let[r,i]of Object.entries(e))Object.prototype.hasOwnProperty.call(n,r)||console.warn(`Invalid event type "${r}" for action "${t}"`),n[r]?.push(i);return()=>{for(let[r,i]of Object.entries(e))Object.prototype.hasOwnProperty.call(n,r)||console.warn(`Invalid event type "${r}" for action "${t}"`),n[r]=n[r]?.filter((s=>s!==i))}}),[e])}function Oe(t,e,n,...r){for(let i of t.current[e][n])i(...r)}function lE(){let t=Iz();return(e,n,...r)=>Oe(t,e,n,...r)}const F1=(t,e,n,r)=>{let i=Number(t),s=e.find((a=>a.id===i));if(!s)throw new zn(`Unsupported chainId ${t}`,4901);return jI({transport:X_(Cz(s,n,r.appId)),chain:s})},Cz=(t,e,n)=>{let r,i=t.id,s=Number(t.id);if(t.rpcUrls.privyWalletOverride&&t.rpcUrls.privyWalletOverride.http[0])r=t.rpcUrls.privyWalletOverride.http[0];else if(e.rpcUrls&&e.rpcUrls[s])r=e.rpcUrls[s];else if(t.rpcUrls.privy?.http[0]){let a=new URL(t.rpcUrls.privy.http[0]);a.searchParams.append("privyAppId",n),r=a.toString()}else r=t.rpcUrls.public?.http[0]?t.rpcUrls.public.http[0]:t.rpcUrls.default?.http[0];if(!r)throw new zn(`No RPC url found for ${i}`);return r},q1=t=>{if(t.chainType==="ethereum")return{entropyId:t.address,entropyIdVerifier:"ethereum-address-verifier"};if(t.chainType==="solana")return{entropyId:t.address,entropyIdVerifier:"solana-address-verifier"};throw Error("Failed to get account entropy details")},Va=(t,e)=>{if(e?.imported)return q1(e);let n=d0(t);if(!n)throw Error("Failed to find primary wallet");return q1(n)},Oz=Y.createContext(null);function tC(){let t=Y.useContext(Oz);return t===null?(console.warn("`useWallets` was called outside the PrivyProvider component"),{wallets:[],ready:!1}):t}const h0=vf((()=>({listings:[],loading:!1}))),JS=h0.setState,Pue=t=>h0.getState().listings.find((({slug:e})=>W1(e)===W1(t))),QS=t=>{let e;try{e=new URL(t).hostname}catch{return}return h0.getState().listings.find((({homepage:n})=>{let r;try{r=new URL(n).hostname}catch{return!1}return e.includes(r)}))},kz=(t=!0)=>{let e=Sa(),n=h0((s=>s.listings)),r=h0((s=>s.loading)),i=!!n.length;return Y.useEffect((()=>{t&&!i&&(JS({listings:[],loading:!0}),(async s=>{let a=new URL("v3/wallets","https://explorer-api.walletconnect.com");a.searchParams.append("projectId",s);let c=await fetch(a);return c.ok?Object.values((await c.json()).listings).sort((({slug:u},{slug:d})=>u==="rainbow"&&d==="metamask"?1:u==="metamask"||u==="rainbow"?-1:1)):(console.debug(`Failed to fetch WalletConnect listings: ${await c.text().catch((()=>"No response."))}`),[])})(e.walletConnectCloudProjectId).then((s=>JS({listings:s,loading:!1}))).catch((s=>{console.error(s),JS({listings:[],loading:!1})})))}),[t,i,e.walletConnectCloudProjectId]),{listings:n,loading:r}},f7e=t=>{let{listings:e}=kz();return e.find((({slug:n})=>W1(n)===W1(t)))};function W1(t){return t==="cryptocom"?"cryptocom-defi":t==="binance"?"binance-defi":t.replace(/[-_]wallet$/,"")}function s5(t){return["wallet_connect","backpack","binance","binanceus","bitget_wallet","bybit_wallet","cryptocom","haha_wallet","jupiter","metamask","okx_wallet","phantom","rabby_wallet","rainbow","ronin_wallet","safe","solflare","uniswap","zerion","kraken_wallet"].some((e=>t?.includes(e)))}const Rz=t=>t.isApexWallet?"Apex Wallet":t.isAvalanche?"Core Wallet":t.isBackpack?"Backpack":t.isBifrost?"Bifrost Wallet":t.isBitKeep?"BitKeep":t.isBitski?"Bitski":t.isBlockWallet?"BlockWallet":t.isBraveWallet?"Brave Wallet":t.isClover?"Clover":t.isCoin98?"Coin98 Wallet":t.isCoinbaseWallet?"Coinbase Wallet":t.isDawn?"Dawn Wallet":t.isDefiant?"Defiant":t.isDesig?"Desig Wallet":t.isEnkrypt?"Enkrypt":t.isExodus?"Exodus":t.isFordefi?"Fordefi":t.isFrame?"Frame":t.isFrontier?"Frontier Wallet":t.isGamestop?"GameStop Wallet":t.isHaqqWallet?"HAQQ Wallet":t.isHyperPay?"HyperPay Wallet":t.isImToken?"ImToken":t.isHaloWallet?"Halo Wallet":t.isKuCoinWallet?"KuCoin Wallet":t.isMathWallet?"MathWallet":t.isNovaWallet?"Nova Wallet":t.isOkxWallet||t.isOKExWallet?"OKX Wallet":t.isOneInchIOSWallet||t.isOneInchAndroidWallet?"1inch Wallet":t.isOneKey?"OneKey Wallet":t.isOpera?"Opera":t.isPhantom||"isPhantom"in t?"Phantom":t.isPortal?"Ripio Portal":t.isRabby?"Rabby Wallet":t.isRainbow?"Rainbow":t.isSafePal?"SafePal Wallet":t.isStatus?"Status":t.isSubWallet?"SubWallet":t.isTalisman?"Talisman":t.isTally||t.isTaho?"Taho":t.isTokenPocket?"TokenPocket":t.isTokenary?"Tokenary":t.isTrust||t.isTrustWallet?"Trust Wallet":t.isTTWallet?"TTWallet":t.isXDEFI?"XDEFI Wallet":t.isZeal?"Zeal":t.isZerion?"Zerion":t.isMetaMask?"MetaMask":void 0,$z=(t,e)=>{if(!t.isMetaMask)return!1;if(t.isMetaMask&&!e)return!0;if(t.isBraveWallet&&!t._events&&!t._state||Rz(t)!=="MetaMask")return!1;if(t.providers){for(let n of t.providers)if(!$z(n))return!1}return!0},h7e=()=>{let t=window;if(!t.ethereum)return!1;if(t.ethereum.isCoinbaseWallet)return!0;if(t.ethereum.providers){for(let e of t.ethereum.providers)if(e&&e.isCoinbaseWallet)return!0}return!1},p7e=(t,e)=>{let n=[],r=[];for(let[i,s]of t.entries())i<e?n.push(s):r.push(s);return[n,r]},y7e=t=>!!String(t).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),m7e=(t,e)=>{let n=t.slice(0),r=[];for(;n.length;)r.push(n.splice(0,e));return r},Due=(t,e=3,n=4,r="ethereum")=>{if(!t)return"";let i=r==="ethereum"?2:0;return e+n+i+3>=t.length?t:`${t.slice(0,i+e)}...${t.slice(t.length-n,t.length)}`},g7e=(t,e=3,n=4)=>Due(t,e,n,"solana"),H1=t=>new Promise((e=>setTimeout(e,t)));function SN(t,{interval:e=100,timeout:n=5e3}={}){return new Promise(((r,i)=>{let s,a=0,c=()=>{a>=n?i("Max attempts reached without result"):(s=t(),a+=e,s==null?setTimeout(c,e):r(s))};c()}))}const a5=(t,e={})=>{let n=e.delayMs||150,r=e.maxAttempts||270;return new Promise((async(i,s)=>{let a=!1,c=0;for(;!a&&c<r;){if(e.abortSignal?.aborted)return;t().then((u=>{a=!0,i(u)}),((...u)=>{a=!0,s(...u)})),c+=1,await H1(n)}a||s(Error("Exceeded max attempts before resolving function"))}))},Mue=t=>t.replace(/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g,""),o5=t=>typeof t=="string"?t:"0x"+t.toString(16);async function Uue({store:t,walletList:e,externalWalletConfig:n,walletChainType:r,timeout:i=3e3}){let s=!1,a=window;return new Promise((c=>{function u(){if(s)return;s=!0,window.removeEventListener("ethereum#initialized",u);let d=t.getProviders();console.debug("Detected injected providers:",d.map((p=>p.info)));let h=[];for(let p of d)e.includes("coinbase_wallet")&&p.info.rdns==="com.coinbase.wallet"||r==="solana-only"&&p.info.rdns==="app.phantom"||h.push({type:p.info.name.toLowerCase().replace(/\s/g,"_"),eip6963InjectedProvider:p});if(r!=="solana-only")for(let p of(function(){let m=window,g=m.ethereum;if(!g)return[];let b=[];if(g.providers?.length)for(let v of g.providers)v&&b.push(v);return b.push(m.ethereum),b})()){let m=Rz(p);if(!d.some((g=>g.info.name===m))){if($z(p,!0)&&!h.find((g=>g.type==="metamask"))){h.push({type:"metamask",legacyInjectedProvider:p});continue}if(m==="Phantom"&&!h.find((g=>g.type==="phantom"))){h.push({type:"phantom",legacyInjectedProvider:p});continue}if(m==="Coinbase Wallet"&&!h.find((g=>g.type==="coinbase_wallet"&&n.coinbaseWallet?.config?.preference?.options!=="smartWalletOnly"))){h.push({type:"coinbase_wallet",legacyInjectedProvider:p});continue}h.find((g=>g.type==="unknown_browser_extension"))||h.push({type:"unknown_browser_extension",legacyInjectedProvider:p})}}c(h)}a.ethereum?u():(window.addEventListener("ethereum#initialized",u,{once:!0}),setTimeout((()=>{u()}),i))}))}function xg(t){return`eip155:${String(Number(t))}`}const Bue=(t,e,n,r)=>{let i=Number(t),s=e.find((a=>a.id===i));if(!s)throw new zn(`Unsupported chainId ${t}`,4901);return Cz(s,n,r)},b7e=(t,e)=>{let n=Number(t),r=e.find((i=>i.id===n));if(!r)throw new zn(`Unsupported chainId ${t}`,4901);return r.blockExplorers?.default.url},Gv=t=>{let e={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},n=t.types.EIP712Domain??Object.entries(t.domain).map((([r,i])=>{if(i!=null&&typeof r=="string"&&r in e)return{name:r,type:e[r]}})).filter((r=>r!==void 0));return{...t,types:{...t.types,EIP712Domain:n}}};function w7e(t,{min:e,max:n}){return Math.min(Math.max(t,e),n)}function lu(t){return t.type==="ethereum"}function Nz(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],i=e[n];if(r?.address!==i?.address||r&&i&&lu(r)&&lu(i)&&r?.chainId!==i?.chainId||r?.connectorType!==i?.connectorType||r?.connectedAt!==i?.connectedAt||r?.walletClientType!==i?.walletClientType||r?.isConnected!==i?.isConnected||r?.linked!==i?.linked)return!1}return!0}const nC=(t,e)=>t.rpcTimeouts&&t.rpcTimeouts[e]||eE;function Jy(t){return t.chainType==="ethereum"}let _f=class extends Az{buildConnectedWallet(e,n,r,i){let s=async()=>!!this.wallets.find((a=>oi(a.address)===oi(e)));return{type:"ethereum",address:oi(e),chainId:n,meta:r,imported:i,switchChain:async a=>{let c,u;if(!s)throw new zn("Wallet is not currently connected.");let d=this.wallets.find((m=>oi(m.address)===oi(e)))?.chainId;if(!d)throw new zn("Unable to determine current chainId.");if(typeof a=="number"?(c=`0x${a.toString(16)}`,u=a):(c=a,u=Number(a)),d===xg(c))return;let h=this.chains.find((m=>m.id===u));if(!h)throw new zn(`Unsupported chainId: ${a}`);let p=async()=>{await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[{chainId:c}]})};try{return await p()}catch(m){if(((g,b)=>{switch(b){case"coinbase_wallet":case"base_account":return g.message.includes("addEthereumChain");case"rabby_wallet":return g.message.includes("Unrecognized chain ID");default:return g.code===4902||g.message?.includes("4902")}})(m,this.walletClientType))return this.walletClientType==="rabby_wallet"&&await H1(300),await this.proxyProvider.request({method:"wallet_addEthereumChain",params:[{chainId:c,chainName:h.name,nativeCurrency:h.nativeCurrency,rpcUrls:[h.rpcUrls.default?.http[0]??""],blockExplorerUrls:[h.blockExplorers?.default.url??""]}]}),p();throw this.walletClientType==="rainbow"&&m.message?.includes("wallet_switchEthereumChain")?new zn(`Rainbow does not support the chainId ${n}`):m}},connectedAt:Date.now(),walletClientType:this.walletClientType,connectorType:this.connectorType,isConnected:s,getEthereumProvider:async()=>{if(!await s())throw new zn("Wallet is not currently connected.");return this.proxyProvider},sign:async a=>{if(!await s())throw new zn("Wallet is not currently connected.");return await this.sign(a)},disconnect:()=>{this.disconnect()}}}async syncAccounts(e){let n,r=e;try{if(r===void 0){let u=await a5((()=>this.proxyProvider.request({method:"eth_accounts"})),{maxAttempts:10,delayMs:500});console.debug(`eth_accounts for ${this.walletClientType}:`,u),Array.isArray(u)&&(r=u)}}catch(u){console.debug("Wallet did not respond to eth_accounts. Defaulting to prefetched accounts.",u)}if(!r||!Array.isArray(r)||r.length<=0||!r[0])return;let i=r[0];if(!$n(i))return void console.warn(`Invalid ethereum address reported by ${this.walletClientType}: ${i}`);let s=oi(i),a=[];if(this.walletClientType==="privy"){let u=nt.get(qS(s));this.chains.find((d=>d.id===Number(u)))||(nt.del(qS(s)),u=null),n=u||`0x${this.defaultChain.id.toString(16)}`;try{await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[{chainId:n}]})}catch{console.warn(`Unable to switch embedded wallet to chain ID ${n} on initialization`)}}else try{let u=await a5((()=>this.proxyProvider.request({method:"eth_chainId"})),{maxAttempts:10,delayMs:500});if(console.debug(`eth_chainId for ${this.walletClientType}:`,u),typeof u=="string")n=u;else{if(typeof u!="number")throw Error("Invalid chainId returned from provider");n=`0x${u.toString(16)}`}}catch(u){console.warn(`Failed to get chainId from provider, defaulting to ${J$}`,u),n=J$}let c=xg(n);if(!a.find((u=>oi(u.address)===s))){let u={name:this.walletBranding.name,icon:typeof this.walletBranding.icon=="string"?this.walletBranding.icon:void 0,id:this.walletBranding.id};a.push(this.buildConnectedWallet(oi(i),c,u,this.connectorType==="embedded_imported"))}Nz(a,this.wallets)||(this.wallets=a,this.emit("walletsUpdated"))}async getConnectedWallet(){let e=await this.proxyProvider.request({method:"eth_accounts"});return this.wallets.sort(((n,r)=>r.connectedAt-n.connectedAt)).find((n=>e.find((r=>oi(r)===oi(n.address)))))||null}async isConnected(){let e=await this.proxyProvider.request({method:"eth_accounts"});return Array.isArray(e)&&e.length>0}async sign(e){return await this.connect({showPrompt:!1}),this.proxyProvider.request({method:"personal_sign",params:[xt(e),this.wallets[0]?.address]})}subscribeListeners(){this.proxyProvider.on("accountsChanged",this.onAccountsChanged),this.proxyProvider.on("chainChanged",this.onChainChanged),this.proxyProvider.on("disconnect",this.onDisconnect),this.proxyProvider.on("connect",this.onConnect)}unsubscribeListeners(){this.proxyProvider.removeListener("accountsChanged",this.onAccountsChanged),this.proxyProvider.removeListener("chainChanged",this.onChainChanged),this.proxyProvider.removeListener("disconnect",this.onDisconnect),this.proxyProvider.removeListener("connect",this.onConnect)}constructor(e,n,r,i){super(e),this.chainType="ethereum",this.onAccountsChanged=s=>{s.length===0?this.onDisconnect():this.syncAccounts(s)},this.onChainChanged=s=>{this.wallets.forEach((a=>{a.chainId=xg(s),this.walletClientType==="privy"&&nt.put(qS(a.address),s)})),this.emit("walletsUpdated")},this.onDisconnect=()=>{this.connected=!1,this.wallets=[],this.emit("walletsUpdated")},this.onConnect=async()=>{this.connectorType==="base_account"&&this.connected||(this.connected=!0,this.connectorType==="coinbase_wallet"&&await H1(500),this.syncAccounts())},this.wallets=[],this.walletClientType=e,this.chains=n,this.defaultChain=r,this.rpcConfig=i,this.rpcTimeoutDuration=nC(i,e),this.connected=!1,this.initialized=!1}},Ef=class{on(e,n){if(this.walletProvider)return this.walletProvider.on(e,n);this._subscriptions.push({eventName:e,listener:n})}async request(e){if(!this.walletProvider)throw new zn(`A wallet request of type ${e.method} was made before setting a wallet provider.`);return Promise.race([this.walletProvider.request(e),this.walletTimeout()]).catch((n=>{throw Lu(n)}))}constructor(e,n){this.removeListener=(r,i)=>{if(this.walletProvider)try{return this.walletProvider.removeListener(r,i)}catch{console.warn("Unable to remove wallet provider listener")}},this.walletTimeout=(r=new Cue,i=this.rpcTimeoutDuration)=>new Promise(((s,a)=>setTimeout((()=>{a(r)}),i))),this.setWalletProvider=r=>{this.walletProvider&&this._subscriptions.forEach((i=>{this.removeListener(i.eventName,i.listener)})),this.walletProvider=r,this._subscriptions.forEach((i=>{this.walletProvider?.on(i.eventName,i.listener)}))},this.walletProvider=e,this.rpcTimeoutDuration=n||eE,this._subscriptions=[]}};const Lue=t=>{let[e,n]=Y.useState("auto");return Y.useEffect((()=>{let r=new ResizeObserver((i=>{n(i[0]?.contentRect.height??"auto")}));return t.current&&r.observe(t.current),()=>{t.current&&r.unobserve(t.current)}}),[t.current]),e},E7e=Gn.div.withConfig({displayName:"Grow",componentId:"sc-681ff332-0"})(["text-align:left;flex-grow:1;"]),A7e=Gn.div.withConfig({displayName:"AlignBottom",componentId:"sc-681ff332-1"})(["display:flex;flex-direction:column;justify-content:flex-end;flex-grow:1;"]),jue=Gn.div.withConfig({displayName:"LoginMethodContainer",componentId:"sc-681ff332-2"})(["display:flex;flex-direction:column;gap:8px;-ms-overflow-style:none;scrollbar-width:none;&::-webkit-scrollbar{display:none;}"]),S7e=Gn(jue).withConfig({displayName:"LoginMethodContainerWithScrollShadows",componentId:"sc-681ff332-3"})([""," background-repeat:no-repeat;background-size:100% 32px,100% 16px;background-attachment:local,scroll;max-height:400px;overflow-y:auto;scrollbar-width:none;padding:3px;"],(t=>t.$colorScheme==="light"?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(0, 0, 0, 0) 20%, rgba(0, 0, 0, 0.06)) bottom;":t.$colorScheme==="dark"?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(255, 255, 255, 0) 20%, rgba(255, 255, 255, 0.06)) bottom;":void 0));let zue=rb(["&&{width:100%;font-size:16px;line-height:24px;min-height:56px;@media (min-width:440px){font-size:14px;}display:flex;gap:12px;align-items:center;color:var(--privy-color-foreground);padding:10px 12px;border:1px solid var(--privy-color-foreground-4) !important;border-radius:var(--privy-border-radius-md);transition:background-color 200ms ease;cursor:pointer;&:hover{background-color:var(--privy-color-background-2);}&:disabled{cursor:pointer;background-color:var(--privy-color-background-2);}}"]);const x7e=Gn.div.withConfig({displayName:"Subtitle",componentId:"sc-681ff332-4"})(["text-align:center;font-size:14px;margin-bottom:24px;"]),T7e=Gn.button.attrs({className:"login-method-button"}).withConfig({displayName:"LoginMethodButton",componentId:"sc-681ff332-5"})(["",""],zue),I7e=Gn.div.withConfig({displayName:"LoginMethodIconWrapper",componentId:"sc-681ff332-7"})(["width:32px;height:32px;border-radius:",";background:",";display:flex;align-items:center;justify-content:center;flex-shrink:0;svg{width:",";height:",";color:",";}"],(t=>t.$fullSize?"0":"4px"),(t=>t.$fullSize?"transparent":"var(--privy-color-background-2)"),(t=>t.$fullSize?"32px":"18px"),(t=>t.$fullSize?"32px":"18px"),(t=>t.$fullSize?"inherit":"var(--privy-color-icon-muted)")),Pz=Gn.div.withConfig({displayName:"Hide",componentId:"sc-681ff332-8"})(["width:100%;height:100%;min-height:inherit;display:flex;flex-direction:column;",""],(t=>t.$if?"display: none;":"")),C7e=Gn.div.withConfig({displayName:"EmptyWalletState",componentId:"sc-681ff332-9"})(["width:100%;height:100%;padding:",";"],(t=>t.$withPadding?"64px 0px":"0px")),O7e=Gn.div.withConfig({displayName:"Header",componentId:"sc-681ff332-10"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-bottom:32px;gap:12px;& h3{font-size:18px;font-style:normal;font-weight:600;line-height:24px;}& p{max-width:300px;font-size:14px;font-style:normal;font-weight:400;line-height:20px;}"]),k7e=({success:t,fail:e})=>he.jsxs(Fue,{children:[he.jsx(xN,{children:he.jsx(que,{className:t?"success":e?"fail":""})}),he.jsx(xN,{children:he.jsx(uE,{className:t?"success":e?"fail":""})})]});let xN=Gn.span.withConfig({displayName:"PositionedAbsoluteLoader",componentId:"sc-aba6339d-0"})(["&&{position:absolute;top:0;left:0;z-index:2;}"]),Fue=Gn.span.withConfig({displayName:"ConnectionLoaderContainer",componentId:"sc-aba6339d-1"})(["position:relative;width:82px;height:82px;display:inline-block;"]);const uE=Gn.span.withConfig({displayName:"Loader",componentId:"sc-aba6339d-2"})(["&&{width:82px;height:82px;border-width:4px;border-style:solid;border-color:",";border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:rotation 1.2s linear infinite;transition:border-color 800ms;}@keyframes rotation{0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}}&&&.success{border-color:var(--privy-color-icon-success);border-bottom-color:var(--privy-color-icon-success);}&&&.fail{border-color:var(--privy-color-icon-error);border-bottom-color:var(--privy-color-icon-error);}"],(t=>t.color??"var(--privy-color-icon-subtle)")),que=Gn(uE).withConfig({displayName:"LoaderFaint",componentId:"sc-aba6339d-3"})(["&&{border-bottom-color:",";border-color:",";animation:none;opacity:0.5;}"],(t=>t.color??"var(--privy-color-border-default)"),(t=>t.color??"var(--privy-color-border-default)")),R7e=t=>he.jsx(Wue,{color:t.color||"var(--privy-color-foreground-3)"});let Wue=Gn(uE).withConfig({displayName:"StyledButtonLoader",componentId:"sc-aba6339d-4"})(["&&{height:1rem;width:1rem;margin:2px 0;border-width:1.5px;transition:border-color 200ms ease;}"]);const Hue=["metamask","phantom","brave_wallet","rainbow","uniswap_wallet_extension","uniswap_extension","rabby_wallet","bybit_wallet","ronin_wallet","haha_wallet","crypto.com_wallet_extension","crypto.com_onchain","binance","bitget_wallet","coinbase_wallet","coinbase_smart_wallet","base_account","metamask","trust","safe","rainbow","uniswap","zerion","argent","spot","omni","cryptocom","blockchain","safepal","bitget_wallet","zengo","1inch","binance","exodus","mew_wallet","alphawallet","keyring_pro","mathwallet","unstoppable","obvious","ambire","internet_money_wallet","coin98","abc_wallet","arculus_wallet","haha","cling_wallet","broearn","copiosa","burrito_wallet","enjin_wallet","plasma_wallet","avacus","bee","pitaka","pltwallet","minerva","kryptogo","prema","slingshot","kriptonio","timeless","secux","bitizen","blocto","okx_wallet","safemoon","rabby_wallet","bybit_wallet","ronin_wallet","haha_wallet","privy","unknown","phantom","solflare","glow","backpack","jupiter","mobile_wallet_adapter"],Dz=Object.freeze({phantom:{client:"phantom",name:"Phantom",installLink:qo.isFirefox?"https://addons.mozilla.org/en-US/firefox/addon/phantom-app/":"https://chrome.google.com/webstore/detail/phantom/bfnaelmomeimhlpmgjnjophhpkkoljpa?hl=en",chainTypes:["ethereum","solana"],get isInstalled(){if("phantom"in window){let t=window;if(t?.phantom?.ethereum?.isPhantom&&t?.phantom?.ethereum?.chainId||t?.phantom?.solana?.isPhantom)return!0}return!1},getMobileRedirect({useUniversalLink:t,isSolana:e,connectOnly:n}){let r=Qy({client:this.client,isSolana:e,connectOnly:n});return`${t?"phantom://":"https://phantom.app/ul/"}browse/${r}?ref=${r}`}},solflare:{client:"solflare",name:"Solflare",installLink:qo.isFirefox?"https://addons.mozilla.org/es/firefox/addon/solflare-wallet/":"https://chromewebstore.google.com/detail/solflare-wallet/bhhhlbepdkbapadjdnnojkbgioiodbic",chainTypes:["solana"],get isInstalled(){return"solflare"in window&&!!window?.solflare?.isSolflare},getMobileRedirect({useUniversalLink:t,isSolana:e,connectOnly:n}){let r=Qy({client:this.client,isSolana:e,connectOnly:n});return`${t?"solflare://ul/v1/":"https://solflare.com/ul/v1/"}browse/${r}?ref=${r}`}},jupiter:{client:"jupiter",name:"Jupiter Wallet",installLink:"https://chromewebstore.google.com/detail/jupiter-wallet/iledlaeogohbilgbfhmbgkgmpplbfboh",chainTypes:["solana"],get isInstalled(){return"jupiter"in window&&!!window?.jupiter?.isJupiter},getMobileRedirect({isSolana:t,connectOnly:e}){let n=Qy({client:this.client,isSolana:t,connectOnly:e});return`jupjupjup://jup.ag/browse/${n}?ref=${n}`}},backpack:{client:"backpack",name:"Backpack",installLink:"https://chromewebstore.google.com/detail/backpack/aflkmfhebedbjioipglgcbcmnbpgliof",chainTypes:["ethereum","solana"],get isInstalled(){return!(!("backpack"in window)||!window?.backpack?.ethereum?.isBackpack&&!window?.backpack?.solana?.isBackpack)},getMobileRedirect({useUniversalLink:t,isSolana:e,connectOnly:n}){let r=Qy({client:this.client,isSolana:e,connectOnly:n});return`${t?"backpack://ul/v1/":"https://backpack.app/ul/v1/"}browse/${r}?ref=${r}`}},okx_wallet:{client:"okx_wallet",name:"OKX Wallet",installLink:"https://chromewebstore.google.com/detail/okx-wallet/mcohilncbfahbmgdjkbpemcciiolgcge",chainTypes:["ethereum","solana"],get isInstalled(){return"okxwallet"in window&&!!window?.okxwallet?.isOkxWallet},getMobileRedirect({isSolana:t,connectOnly:e}){return`okx://wallet/dapp/url?dappUrl=${Qy({client:this.client,isSolana:t,connectOnly:e})}`}}});function Vue({connectorType:t,walletClientType:e}){for(let n of Hue)if(t===n||e===n)return Dz[n]}function Qy({client:t,isSolana:e,connectOnly:n}){let r=new URL(window.location.href);return r.searchParams.set("privy_connector",e?"solana_adapter":"injected"),r.searchParams.set("privy_wallet_client",t),r.searchParams.set("privy_connect_only",String(n)),encodeURIComponent(r.href.replace(/\/$/g,""))}let Gue=class extends Vv{get walletBranding(){return{id:this.id,name:this.name,icon:this.icon}}async initialize(){this.initialized=!0,this.emit("initialized")}async connect(){throw Error("connect called for an uninstalled wallet via the SolanaNullConnector")}constructor({id:e,name:n,icon:r}){super({name:n},!1),this.connectorType="null",this.proxyProvider=new Ef(void 0,eE),this.disconnect=async()=>{throw Error("disconnect called for an uninstalled wallet via the SolanaNullConnector")},this.promptConnection=async()=>{throw Error("promptConnection called for an uninstalled wallet via the SolanaNullConnector")},this.id=e,this.name=n,this.icon=r}};function Kue(t){return t.chainType==="solana"}function Yue(t){return t.type==="solana"}let Mz=Y.createContext({});const Zue=({children:t})=>{let e=Sa(),[n,r]=Y.useState({});return cE("login",{onComplete:({loginAccount:i})=>{i&&i.type!=="passkey"&&i.type!=="cross_app"&&(i.type!=="wallet"||i.walletClientType!=="privy")&&(nt.put(TN(e.id),i.type),i.type==="wallet"?(nt.put(ex(e.id),i.walletClientType),nt.put(tx(e.id),i.chainType),r({accountType:i.type,walletClientType:i.walletClientType,chainType:i.chainType})):(nt.del(ex(e.id)),nt.del(tx(e.id)),r({accountType:i.type})))}}),Y.useEffect((()=>{if(!e.id)return;let i=nt.get(TN(e.id)),s=nt.get(ex(e.id)),a=nt.get(tx(e.id));i&&r(i==="wallet"?{accountType:i,walletClientType:s,chainType:a}:{accountType:i})}),[e.id]),he.jsx(Mz.Provider,{value:n,children:t})};let TN=t=>`privy:${t}:recent-login-method`,ex=t=>`privy:${t}:recent-login-wallet-client`,tx=t=>`privy:${t}:recent-login-chain-type`;const N7e=()=>Y.useContext(Mz);let Xue=class extends _f{get walletBranding(){return{id:this.id,name:this.name,icon:this.icon}}async initialize(){this.initialized=!0,this.emit("initialized")}async connect(){throw Error("connect called for an uninstalled wallet via the EthereumNullConnector")}disconnect(){throw Error("disconnect called for an uninstalled wallet via the EthereumNullConnector")}promptConnection(e){throw Error(`promptConnection called for an uninstalled wallet via the EthereumNullConnector for ${e}`)}constructor({id:e,name:n,icon:r,walletClientType:i,defaultChain:s}){super(i,[],s,{}),this.connectorType="null",this.proxyProvider=new Ef(void 0,eE),this.id=e,this.name=n,this.icon=r}};const Jue=({...t})=>he.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",...t,children:[he.jsx("rect",{width:"32",height:"32",rx:"6",fill:"#121314"}),he.jsx("g",{transform:"translate(4, 4)",children:he.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 318.6 318.6",children:[he.jsx("style",{children:".s1{stroke-linecap:round;stroke-linejoin:round}.s2{fill:#e4761b;stroke:#e4761b}.s3{fill:#f6851b;stroke:#f6851b}"}),he.jsx("path",{fill:"#e2761b",stroke:"#e2761b",className:"s1",d:"m274.1 35.5-99.5 73.9L193 65.8z"}),he.jsx("path",{d:"m44.4 35.5 98.7 74.6-17.5-44.3zm193.9 171.3-26.5 40.6 56.7 15.6 16.3-55.3zm-204.4.9L50.1 263l56.7-15.6-26.5-40.6z",className:"s1 s2"}),he.jsx("path",{d:"m103.6 138.2-15.8 23.9 56.3 2.5-2-60.5zm111.3 0-39-34.8-1.3 61.2 56.2-2.5zM106.8 247.4l33.8-16.5-29.2-22.8zm71.1-16.5 33.9 16.5-4.7-39.3z",className:"s1 s2"}),he.jsx("path",{fill:"#d7c1b3",stroke:"#d7c1b3",className:"s1",d:"m211.8 247.4-33.9-16.5 2.7 22.1-.3 9.3zm-105 0 31.5 14.9-.2-9.3 2.5-22.1z"}),he.jsx("path",{fill:"#233447",stroke:"#233447",className:"s1",d:"m138.8 193.5-28.2-8.3 19.9-9.1zm40.9 0 8.3-17.4 20 9.1z"}),he.jsx("path",{fill:"#cd6116",stroke:"#cd6116",className:"s1",d:"m106.8 247.4 4.8-40.6-31.3.9zM207 206.8l4.8 40.6 26.5-39.7zm23.8-44.7-56.2 2.5 5.2 28.9 8.3-17.4 20 9.1zm-120.2 23.1 20-9.1 8.2 17.4 5.3-28.9-56.3-2.5z"}),he.jsx("path",{fill:"#e4751f",stroke:"#e4751f",className:"s1",d:"m87.8 162.1 23.6 46-.8-22.9zm120.3 23.1-1 22.9 23.7-46zm-64-20.6-5.3 28.9 6.6 34.1 1.5-44.9zm30.5 0-2.7 18 1.2 45 6.7-34.1z"}),he.jsx("path",{d:"m179.8 193.5-6.7 34.1 4.8 3.3 29.2-22.8 1-22.9zm-69.2-8.3.8 22.9 29.2 22.8 4.8-3.3-6.6-34.1z",className:"s3"}),he.jsx("path",{fill:"#c0ad9e",stroke:"#c0ad9e",className:"s1",d:"m180.3 262.3.3-9.3-2.5-2.2h-37.7l-2.3 2.2.2 9.3-31.5-14.9 11 9 22.3 15.5h38.3l22.4-15.5 11-9z"}),he.jsx("path",{fill:"#161616",stroke:"#161616",className:"s1",d:"m177.9 230.9-4.8-3.3h-27.7l-4.8 3.3-2.5 22.1 2.3-2.2h37.7l2.5 2.2z"}),he.jsx("path",{fill:"#763d16",stroke:"#763d16",className:"s1",d:"m278.3 114.2 8.5-40.8-12.7-37.9-96.2 71.4 37 31.3 52.3 15.3 11.6-13.5-5-3.6 8-7.3-6.2-4.8 8-6.1zM31.8 73.4l8.5 40.8-5.4 4 8 6.1-6.1 4.8 8 7.3-5 3.6 11.5 13.5 52.3-15.3 37-31.3-96.2-71.4z"}),he.jsx("path",{d:"m267.2 153.5-52.3-15.3 15.9 23.9-23.7 46 31.2-.4h46.5zm-163.6-15.3-52.3 15.3-17.4 54.2h46.4l31.1.4-23.6-46zm71 26.4 3.3-57.7 15.2-41.1h-67.5l15 41.1 3.5 57.7 1.2 18.2.1 44.8h27.7l.2-44.8z",className:"s3"})]})})]});function D7e(t){let{logout:e}=Y.useContext(qp);return cE("logout",t),{logout:e}}const Que=vf((()=>({isModalOpen:!1,resolvers:null})));vf((()=>({})));const M7e=({address:t,client:e,appId:n})=>{let r=`${e}:${t}`;n&&nt.put(ede(n),r),Que.setState({wallet:r})},ede=t=>`privy:${t}:active-wallet-connection`;class Wo{constructor(e,n){this.scope=e,this.module=n}storeObject(e,n){this.setItem(e,JSON.stringify(n))}loadObject(e){const n=this.getItem(e);return n?JSON.parse(n):void 0}setItem(e,n){localStorage.setItem(this.scopedKey(e),n)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),n=[];for(let r=0;r<localStorage.length;r++){const i=localStorage.key(r);typeof i=="string"&&i.startsWith(e)&&n.push(i)}n.forEach(r=>localStorage.removeItem(r))}scopedKey(e){return`-${this.scope}${this.module?`:${this.module}`:""}:${e}`}static clearAll(){new Wo("CBWSDK").clear(),new Wo("walletlink").clear()}}const rr={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901,unsupportedChain:4902}},c5={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."},4902:{standard:"EIP-3085",message:"Unrecognized chain ID."}},Uz="Unspecified error message.",tde="Unspecified server error.";function rC(t,e=Uz){if(t&&Number.isInteger(t)){const n=t.toString();if(l5(c5,n))return c5[n].message;if(Bz(t))return tde}return e}function nde(t){if(!Number.isInteger(t))return!1;const e=t.toString();return!!(c5[e]||Bz(t))}function rde(t,{shouldIncludeStack:e=!1}={}){const n={};if(t&&typeof t=="object"&&!Array.isArray(t)&&l5(t,"code")&&nde(t.code)){const r=t;n.code=r.code,r.message&&typeof r.message=="string"?(n.message=r.message,l5(r,"data")&&(n.data=r.data)):(n.message=rC(n.code),n.data={originalError:IN(t)})}else n.code=rr.rpc.internal,n.message=CN(t,"message")?t.message:Uz,n.data={originalError:IN(t)};return e&&(n.stack=CN(t,"stack")?t.stack:void 0),n}function Bz(t){return t>=-32099&&t<=-32e3}function IN(t){return t&&typeof t=="object"&&!Array.isArray(t)?Object.assign({},t):t}function l5(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function CN(t,e){return typeof t=="object"&&t!==null&&e in t&&typeof t[e]=="string"}const Yt={rpc:{parse:t=>ea(rr.rpc.parse,t),invalidRequest:t=>ea(rr.rpc.invalidRequest,t),invalidParams:t=>ea(rr.rpc.invalidParams,t),methodNotFound:t=>ea(rr.rpc.methodNotFound,t),internal:t=>ea(rr.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return ea(e,t)},invalidInput:t=>ea(rr.rpc.invalidInput,t),resourceNotFound:t=>ea(rr.rpc.resourceNotFound,t),resourceUnavailable:t=>ea(rr.rpc.resourceUnavailable,t),transactionRejected:t=>ea(rr.rpc.transactionRejected,t),methodNotSupported:t=>ea(rr.rpc.methodNotSupported,t),limitExceeded:t=>ea(rr.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>wh(rr.provider.userRejectedRequest,t),unauthorized:t=>wh(rr.provider.unauthorized,t),unsupportedMethod:t=>wh(rr.provider.unsupportedMethod,t),disconnected:t=>wh(rr.provider.disconnected,t),chainDisconnected:t=>wh(rr.provider.chainDisconnected,t),unsupportedChain:t=>wh(rr.provider.unsupportedChain,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:n,data:r}=t;if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string');return new zz(e,n,r)}}};function ea(t,e){const[n,r]=Lz(e);return new jz(t,n||rC(t),r)}function wh(t,e){const[n,r]=Lz(e);return new zz(t,n||rC(t),r)}function Lz(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:n}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,n]}}return[]}class jz extends Error{constructor(e,n,r){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string.');super(n),this.code=e,r!==void 0&&(this.data=r)}}class zz extends jz{constructor(e,n,r){if(!ide(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,n,r)}}function ide(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function iC(){return t=>t}const p0=iC(),sde=iC(),ade=iC();function zc(t){return Math.floor(t)}const Fz=/^[0-9]*$/,qz=/^[a-f0-9]*$/;function Td(t){return sC(crypto.getRandomValues(new Uint8Array(t)))}function sC(t){return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}function Kv(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>Number.parseInt(e,16)))}function Tg(t,e=!1){const n=t.toString("hex");return p0(e?`0x${n}`:n)}function nx(t){return Tg(u5(t),!0)}function mo(t){return ade(t.toString(10))}function Eu(t){return p0(`0x${BigInt(t).toString(16)}`)}function Wz(t){return t.startsWith("0x")||t.startsWith("0X")}function aC(t){return Wz(t)?t.slice(2):t}function Hz(t){return Wz(t)?`0x${t.slice(2)}`:`0x${t}`}function dE(t){if(typeof t!="string")return!1;const e=aC(t).toLowerCase();return qz.test(e)}function ode(t,e=!1){if(typeof t=="string"){const n=aC(t).toLowerCase();if(qz.test(n))return p0(e?`0x${n}`:n)}throw Yt.rpc.invalidParams(`"${String(t)}" is not a hexadecimal string`)}function oC(t,e=!1){let n=ode(t,!1);return n.length%2===1&&(n=p0(`0${n}`)),e?p0(`0x${n}`):n}function Gl(t){if(typeof t=="string"){const e=aC(t).toLowerCase();if(dE(e)&&e.length===40)return sde(Hz(e))}throw Yt.rpc.invalidParams(`Invalid Ethereum address: ${String(t)}`)}function u5(t){if(Buffer.isBuffer(t))return t;if(typeof t=="string"){if(dE(t)){const e=oC(t,!1);return Buffer.from(e,"hex")}return Buffer.from(t,"utf8")}throw Yt.rpc.invalidParams(`Not binary data: ${String(t)}`)}function Ig(t){if(typeof t=="number"&&Number.isInteger(t))return zc(t);if(typeof t=="string"){if(Fz.test(t))return zc(Number(t));if(dE(t))return zc(Number(BigInt(oC(t,!0))))}throw Yt.rpc.invalidParams(`Not an integer: ${String(t)}`)}function em(t){if(t!==null&&(typeof t=="bigint"||lde(t)))return BigInt(t.toString(10));if(typeof t=="number")return BigInt(Ig(t));if(typeof t=="string"){if(Fz.test(t))return BigInt(t);if(dE(t))return BigInt(oC(t,!0))}throw Yt.rpc.invalidParams(`Not an integer: ${String(t)}`)}function cde(t){if(typeof t=="string")return JSON.parse(t);if(typeof t=="object")return t;throw Yt.rpc.invalidParams(`Not a JSON string or an object: ${String(t)}`)}function lde(t){if(t==null||typeof t.constructor!="function")return!1;const{constructor:e}=t;return typeof e.config=="function"&&typeof e.EUCLID=="number"}async function ude(){return crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!0,["deriveKey"])}async function dde(t,e){return crypto.subtle.deriveKey({name:"ECDH",public:e},t,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}async function fde(t,e){const n=crypto.getRandomValues(new Uint8Array(12)),r=await crypto.subtle.encrypt({name:"AES-GCM",iv:n},t,new TextEncoder().encode(e));return{iv:n,cipherText:r}}async function hde(t,{iv:e,cipherText:n}){const r=await crypto.subtle.decrypt({name:"AES-GCM",iv:e},t,n);return new TextDecoder().decode(r)}function Vz(t){switch(t){case"public":return"spki";case"private":return"pkcs8"}}async function Gz(t,e){const n=Vz(t),r=await crypto.subtle.exportKey(n,e);return sC(new Uint8Array(r))}async function Kz(t,e){const n=Vz(t),r=Kv(e).buffer;return await crypto.subtle.importKey(n,new Uint8Array(r),{name:"ECDH",namedCurve:"P-256"},!0,t==="private"?["deriveKey"]:[])}async function pde(t,e){const n=JSON.stringify(t,(r,i)=>{if(!(i instanceof Error))return i;const s=i;return Object.assign(Object.assign({},s.code?{code:s.code}:{}),{message:s.message})});return fde(e,n)}async function yde(t,e){return JSON.parse(await hde(e,t))}const rx={storageKey:"ownPrivateKey",keyType:"private"},ix={storageKey:"ownPublicKey",keyType:"public"},sx={storageKey:"peerPublicKey",keyType:"public"};class mde{constructor(){this.storage=new Wo("CBWSDK","SCWKeyManager"),this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null}async getOwnPublicKey(){return await this.loadKeysIfNeeded(),this.ownPublicKey}async getSharedSecret(){return await this.loadKeysIfNeeded(),this.sharedSecret}async setPeerPublicKey(e){this.sharedSecret=null,this.peerPublicKey=e,await this.storeKey(sx,e),await this.loadKeysIfNeeded()}async clear(){this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null,this.storage.removeItem(ix.storageKey),this.storage.removeItem(rx.storageKey),this.storage.removeItem(sx.storageKey)}async generateKeyPair(){const e=await ude();this.ownPrivateKey=e.privateKey,this.ownPublicKey=e.publicKey,await this.storeKey(rx,e.privateKey),await this.storeKey(ix,e.publicKey)}async loadKeysIfNeeded(){if(this.ownPrivateKey===null&&(this.ownPrivateKey=await this.loadKey(rx)),this.ownPublicKey===null&&(this.ownPublicKey=await this.loadKey(ix)),(this.ownPrivateKey===null||this.ownPublicKey===null)&&await this.generateKeyPair(),this.peerPublicKey===null&&(this.peerPublicKey=await this.loadKey(sx)),this.sharedSecret===null){if(this.ownPrivateKey===null||this.peerPublicKey===null)return;this.sharedSecret=await dde(this.ownPrivateKey,this.peerPublicKey)}}async loadKey(e){const n=this.storage.getItem(e.storageKey);return n?Kz(e.keyType,n):null}async storeKey(e,n){const r=await Gz(e.keyType,n);this.storage.setItem(e.storageKey,r)}}const ib="4.3.2",Yz="@coinbase/wallet-sdk";async function cC(t,e){const n=Object.assign(Object.assign({},t),{jsonrpc:"2.0",id:crypto.randomUUID()}),r=await window.fetch(e,{method:"POST",body:JSON.stringify(n),mode:"cors",headers:{"Content-Type":"application/json","X-Cbw-Sdk-Version":ib,"X-Cbw-Sdk-Platform":Yz}}),{result:i,error:s}=await r.json();if(s)throw s;return i}function gde(){return globalThis.coinbaseWalletExtension}function bde(){var t,e;try{const n=globalThis;return(t=n.ethereum)!==null&&t!==void 0?t:(e=n.top)===null||e===void 0?void 0:e.ethereum}catch{return}}function wde({metadata:t,preference:e}){var n,r;const{appName:i,appLogoUrl:s,appChainIds:a}=t;if(e.options!=="smartWalletOnly"){const u=gde();if(u)return(n=u.setAppInfo)===null||n===void 0||n.call(u,i,s,a,e),u}const c=bde();if(c?.isCoinbaseBrowser)return(r=c.setAppInfo)===null||r===void 0||r.call(c,i,s,a,e),c}function vde(t){if(!t||typeof t!="object"||Array.isArray(t))throw Yt.rpc.invalidParams({message:"Expected a single, non-array, object argument.",data:t});const{method:e,params:n}=t;if(typeof e!="string"||e.length===0)throw Yt.rpc.invalidParams({message:"'args.method' must be a non-empty string.",data:t});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw Yt.rpc.invalidParams({message:"'args.params' must be an object or array if provided.",data:t});switch(e){case"eth_sign":case"eth_signTypedData_v2":case"eth_subscribe":case"eth_unsubscribe":throw Yt.provider.unsupportedMethod()}}const ON="accounts",kN="activeChain",RN="availableChains",$N="walletCapabilities";class _de{constructor(e){var n,r,i;this.metadata=e.metadata,this.communicator=e.communicator,this.callback=e.callback,this.keyManager=new mde,this.storage=new Wo("CBWSDK","SCWStateManager"),this.accounts=(n=this.storage.loadObject(ON))!==null&&n!==void 0?n:[],this.chain=this.storage.loadObject(kN)||{id:(i=(r=e.metadata.appChainIds)===null||r===void 0?void 0:r[0])!==null&&i!==void 0?i:1},this.handshake=this.handshake.bind(this),this.request=this.request.bind(this),this.createRequestMessage=this.createRequestMessage.bind(this),this.decryptResponseMessage=this.decryptResponseMessage.bind(this)}async handshake(e){var n,r,i,s;await((r=(n=this.communicator).waitForPopupLoaded)===null||r===void 0?void 0:r.call(n));const a=await this.createRequestMessage({handshake:{method:e.method,params:Object.assign({},this.metadata,(i=e.params)!==null&&i!==void 0?i:{})}}),c=await this.communicator.postRequestAndWaitForResponse(a);if("failure"in c.content)throw c.content.failure;const u=await Kz("public",c.sender);await this.keyManager.setPeerPublicKey(u);const h=(await this.decryptResponseMessage(c)).result;if("error"in h)throw h.error;if(e.method==="eth_requestAccounts"){const p=h.value;this.accounts=p,this.storage.storeObject(ON,p),(s=this.callback)===null||s===void 0||s.call(this,"accountsChanged",p)}}async request(e){var n;if(this.accounts.length===0){if(e.method==="wallet_sendCalls")return this.sendRequestToPopup(e);throw Yt.provider.unauthorized()}switch(e.method){case"eth_requestAccounts":return(n=this.callback)===null||n===void 0||n.call(this,"connect",{chainId:Eu(this.chain.id)}),this.accounts;case"eth_accounts":return this.accounts;case"eth_coinbase":return this.accounts[0];case"net_version":return this.chain.id;case"eth_chainId":return Eu(this.chain.id);case"wallet_getCapabilities":return this.storage.loadObject($N);case"wallet_switchEthereumChain":return this.handleSwitchChainRequest(e);case"eth_ecRecover":case"personal_sign":case"wallet_sign":case"personal_ecRecover":case"eth_signTransaction":case"eth_sendTransaction":case"eth_signTypedData_v1":case"eth_signTypedData_v3":case"eth_signTypedData_v4":case"eth_signTypedData":case"wallet_addEthereumChain":case"wallet_watchAsset":case"wallet_sendCalls":case"wallet_showCallsStatus":case"wallet_grantPermissions":return this.sendRequestToPopup(e);default:if(!this.chain.rpcUrl)throw Yt.rpc.internal("No RPC URL set for chain");return cC(e,this.chain.rpcUrl)}}async sendRequestToPopup(e){var n,r;await((r=(n=this.communicator).waitForPopupLoaded)===null||r===void 0?void 0:r.call(n));const i=await this.sendEncryptedRequest(e),a=(await this.decryptResponseMessage(i)).result;if("error"in a)throw a.error;return a.value}async cleanup(){var e,n;this.storage.clear(),await this.keyManager.clear(),this.accounts=[],this.chain={id:(n=(e=this.metadata.appChainIds)===null||e===void 0?void 0:e[0])!==null&&n!==void 0?n:1}}async handleSwitchChainRequest(e){var n;const r=e.params;if(!r||!(!((n=r[0])===null||n===void 0)&&n.chainId))throw Yt.rpc.invalidParams();const i=Ig(r[0].chainId);if(this.updateChain(i))return null;const a=await this.sendRequestToPopup(e);return a===null&&this.updateChain(i),a}async sendEncryptedRequest(e){const n=await this.keyManager.getSharedSecret();if(!n)throw Yt.provider.unauthorized("No valid session found, try requestAccounts before other methods");const r=await pde({action:e,chainId:this.chain.id},n),i=await this.createRequestMessage({encrypted:r});return this.communicator.postRequestAndWaitForResponse(i)}async createRequestMessage(e){const n=await Gz("public",await this.keyManager.getOwnPublicKey());return{id:crypto.randomUUID(),sender:n,content:e,timestamp:new Date}}async decryptResponseMessage(e){var n,r;const i=e.content;if("failure"in i)throw i.failure;const s=await this.keyManager.getSharedSecret();if(!s)throw Yt.provider.unauthorized("Invalid session");const a=await yde(i.encrypted,s),c=(n=a.data)===null||n===void 0?void 0:n.chains;if(c){const d=Object.entries(c).map(([h,p])=>({id:Number(h),rpcUrl:p}));this.storage.storeObject(RN,d),this.updateChain(this.chain.id,d)}const u=(r=a.data)===null||r===void 0?void 0:r.capabilities;return u&&this.storage.storeObject($N,u),a}updateChain(e,n){var r;const i=n??this.storage.loadObject(RN),s=i?.find(a=>a.id===e);return s?(s!==this.chain&&(this.chain=s,this.storage.storeObject(kN,s),(r=this.callback)===null||r===void 0||r.call(this,"chainChanged",Eu(s.id))),!0):!1}}var Sn={},Br={},NN;function Zz(){if(NN)return Br;NN=1,Object.defineProperty(Br,"__esModule",{value:!0}),Br.output=Br.exists=Br.hash=Br.bytes=Br.bool=Br.number=Br.isBytes=void 0;function t(u){if(!Number.isSafeInteger(u)||u<0)throw new Error(`positive integer expected, not ${u}`)}Br.number=t;function e(u){if(typeof u!="boolean")throw new Error(`boolean expected, not ${u}`)}Br.bool=e;function n(u){return u instanceof Uint8Array||u!=null&&typeof u=="object"&&u.constructor.name==="Uint8Array"}Br.isBytes=n;function r(u,...d){if(!n(u))throw new Error("Uint8Array expected");if(d.length>0&&!d.includes(u.length))throw new Error(`Uint8Array expected of length ${d}, not of length=${u.length}`)}Br.bytes=r;function i(u){if(typeof u!="function"||typeof u.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");t(u.outputLen),t(u.blockLen)}Br.hash=i;function s(u,d=!0){if(u.destroyed)throw new Error("Hash instance has been destroyed");if(d&&u.finished)throw new Error("Hash#digest() has already been called")}Br.exists=s;function a(u,d){r(u);const h=d.outputLen;if(u.length<h)throw new Error(`digestInto() expects output buffer of length at least ${h}`)}Br.output=a;const c={number:t,bool:e,bytes:r,hash:i,exists:s,output:a};return Br.default=c,Br}var pt={},PN;function Ede(){if(PN)return pt;PN=1,Object.defineProperty(pt,"__esModule",{value:!0}),pt.add5L=pt.add5H=pt.add4H=pt.add4L=pt.add3H=pt.add3L=pt.add=pt.rotlBL=pt.rotlBH=pt.rotlSL=pt.rotlSH=pt.rotr32L=pt.rotr32H=pt.rotrBL=pt.rotrBH=pt.rotrSL=pt.rotrSH=pt.shrSL=pt.shrSH=pt.toBig=pt.split=pt.fromBig=void 0;const t=BigInt(2**32-1),e=BigInt(32);function n(L,B=!1){return B?{h:Number(L&t),l:Number(L>>e&t)}:{h:Number(L>>e&t)|0,l:Number(L&t)|0}}pt.fromBig=n;function r(L,B=!1){let H=new Uint32Array(L.length),D=new Uint32Array(L.length);for(let F=0;F<L.length;F++){const{h:K,l:T}=n(L[F],B);[H[F],D[F]]=[K,T]}return[H,D]}pt.split=r;const i=(L,B)=>BigInt(L>>>0)<<e|BigInt(B>>>0);pt.toBig=i;const s=(L,B,H)=>L>>>H;pt.shrSH=s;const a=(L,B,H)=>L<<32-H|B>>>H;pt.shrSL=a;const c=(L,B,H)=>L>>>H|B<<32-H;pt.rotrSH=c;const u=(L,B,H)=>L<<32-H|B>>>H;pt.rotrSL=u;const d=(L,B,H)=>L<<64-H|B>>>H-32;pt.rotrBH=d;const h=(L,B,H)=>L>>>H-32|B<<64-H;pt.rotrBL=h;const p=(L,B)=>B;pt.rotr32H=p;const m=(L,B)=>L;pt.rotr32L=m;const g=(L,B,H)=>L<<H|B>>>32-H;pt.rotlSH=g;const b=(L,B,H)=>B<<H|L>>>32-H;pt.rotlSL=b;const v=(L,B,H)=>B<<H-32|L>>>64-H;pt.rotlBH=v;const E=(L,B,H)=>L<<H-32|B>>>64-H;pt.rotlBL=E;function O(L,B,H,D){const F=(B>>>0)+(D>>>0);return{h:L+H+(F/2**32|0)|0,l:F|0}}pt.add=O;const k=(L,B,H)=>(L>>>0)+(B>>>0)+(H>>>0);pt.add3L=k;const S=(L,B,H,D)=>B+H+D+(L/2**32|0)|0;pt.add3H=S;const A=(L,B,H,D)=>(L>>>0)+(B>>>0)+(H>>>0)+(D>>>0);pt.add4L=A;const C=(L,B,H,D,F)=>B+H+D+F+(L/2**32|0)|0;pt.add4H=C;const I=(L,B,H,D,F)=>(L>>>0)+(B>>>0)+(H>>>0)+(D>>>0)+(F>>>0);pt.add5L=I;const N=(L,B,H,D,F,K)=>B+H+D+F+K+(L/2**32|0)|0;pt.add5H=N;const z={fromBig:n,split:r,toBig:i,shrSH:s,shrSL:a,rotrSH:c,rotrSL:u,rotrBH:d,rotrBL:h,rotr32H:p,rotr32L:m,rotlSH:g,rotlSL:b,rotlBH:v,rotlBL:E,add:O,add3L:k,add3H:S,add4L:A,add4H:C,add5H:N,add5L:I};return pt.default=z,pt}var ax={},tm={},DN;function Ade(){return DN||(DN=1,Object.defineProperty(tm,"__esModule",{value:!0}),tm.crypto=void 0,tm.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0),tm}var MN;function Sde(){return MN||(MN=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.randomBytes=t.wrapXOFConstructorWithOpts=t.wrapConstructorWithOpts=t.wrapConstructor=t.checkOpts=t.Hash=t.concatBytes=t.toBytes=t.utf8ToBytes=t.asyncLoop=t.nextTick=t.hexToBytes=t.bytesToHex=t.byteSwap32=t.byteSwapIfBE=t.byteSwap=t.isLE=t.rotl=t.rotr=t.createView=t.u32=t.u8=t.isBytes=void 0;const e=Ade(),n=Zz();function r(D){return D instanceof Uint8Array||D!=null&&typeof D=="object"&&D.constructor.name==="Uint8Array"}t.isBytes=r;const i=D=>new Uint8Array(D.buffer,D.byteOffset,D.byteLength);t.u8=i;const s=D=>new Uint32Array(D.buffer,D.byteOffset,Math.floor(D.byteLength/4));t.u32=s;const a=D=>new DataView(D.buffer,D.byteOffset,D.byteLength);t.createView=a;const c=(D,F)=>D<<32-F|D>>>F;t.rotr=c;const u=(D,F)=>D<<F|D>>>32-F>>>0;t.rotl=u,t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;const d=D=>D<<24&4278190080|D<<8&16711680|D>>>8&65280|D>>>24&255;t.byteSwap=d,t.byteSwapIfBE=t.isLE?D=>D:D=>(0,t.byteSwap)(D);function h(D){for(let F=0;F<D.length;F++)D[F]=(0,t.byteSwap)(D[F])}t.byteSwap32=h;const p=Array.from({length:256},(D,F)=>F.toString(16).padStart(2,"0"));function m(D){(0,n.bytes)(D);let F="";for(let K=0;K<D.length;K++)F+=p[D[K]];return F}t.bytesToHex=m;const g={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function b(D){if(D>=g._0&&D<=g._9)return D-g._0;if(D>=g._A&&D<=g._F)return D-(g._A-10);if(D>=g._a&&D<=g._f)return D-(g._a-10)}function v(D){if(typeof D!="string")throw new Error("hex string expected, got "+typeof D);const F=D.length,K=F/2;if(F%2)throw new Error("padded hex string expected, got unpadded hex of length "+F);const T=new Uint8Array(K);for(let x=0,$=0;x<K;x++,$+=2){const j=b(D.charCodeAt($)),P=b(D.charCodeAt($+1));if(j===void 0||P===void 0){const V=D[$]+D[$+1];throw new Error('hex string expected, got non-hex character "'+V+'" at index '+$)}T[x]=j*16+P}return T}t.hexToBytes=v;const E=async()=>{};t.nextTick=E;async function O(D,F,K){let T=Date.now();for(let x=0;x<D;x++){K(x);const $=Date.now()-T;$>=0&&$<F||(await(0,t.nextTick)(),T+=$)}}t.asyncLoop=O;function k(D){if(typeof D!="string")throw new Error(`utf8ToBytes expected string, got ${typeof D}`);return new Uint8Array(new TextEncoder().encode(D))}t.utf8ToBytes=k;function S(D){return typeof D=="string"&&(D=k(D)),(0,n.bytes)(D),D}t.toBytes=S;function A(...D){let F=0;for(let T=0;T<D.length;T++){const x=D[T];(0,n.bytes)(x),F+=x.length}const K=new Uint8Array(F);for(let T=0,x=0;T<D.length;T++){const $=D[T];K.set($,x),x+=$.length}return K}t.concatBytes=A;class C{clone(){return this._cloneInto()}}t.Hash=C;const I={}.toString;function N(D,F){if(F!==void 0&&I.call(F)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(D,F)}t.checkOpts=N;function z(D){const F=T=>D().update(S(T)).digest(),K=D();return F.outputLen=K.outputLen,F.blockLen=K.blockLen,F.create=()=>D(),F}t.wrapConstructor=z;function L(D){const F=(T,x)=>D(x).update(S(T)).digest(),K=D({});return F.outputLen=K.outputLen,F.blockLen=K.blockLen,F.create=T=>D(T),F}t.wrapConstructorWithOpts=L;function B(D){const F=(T,x)=>D(x).update(S(T)).digest(),K=D({});return F.outputLen=K.outputLen,F.blockLen=K.blockLen,F.create=T=>D(T),F}t.wrapXOFConstructorWithOpts=B;function H(D=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(D));throw new Error("crypto.getRandomValues must be defined")}t.randomBytes=H})(ax)),ax}var UN;function xde(){if(UN)return Sn;UN=1,Object.defineProperty(Sn,"__esModule",{value:!0}),Sn.shake256=Sn.shake128=Sn.keccak_512=Sn.keccak_384=Sn.keccak_256=Sn.keccak_224=Sn.sha3_512=Sn.sha3_384=Sn.sha3_256=Sn.sha3_224=Sn.Keccak=Sn.keccakP=void 0;const t=Zz(),e=Ede(),n=Sde(),r=[],i=[],s=[],a=BigInt(0),c=BigInt(1),u=BigInt(2),d=BigInt(7),h=BigInt(256),p=BigInt(113);for(let A=0,C=c,I=1,N=0;A<24;A++){[I,N]=[N,(2*I+3*N)%5],r.push(2*(5*N+I)),i.push((A+1)*(A+2)/2%64);let z=a;for(let L=0;L<7;L++)C=(C<<c^(C>>d)*p)%h,C&u&&(z^=c<<(c<<BigInt(L))-c);s.push(z)}const[m,g]=(0,e.split)(s,!0),b=(A,C,I)=>I>32?(0,e.rotlBH)(A,C,I):(0,e.rotlSH)(A,C,I),v=(A,C,I)=>I>32?(0,e.rotlBL)(A,C,I):(0,e.rotlSL)(A,C,I);function E(A,C=24){const I=new Uint32Array(10);for(let N=24-C;N<24;N++){for(let B=0;B<10;B++)I[B]=A[B]^A[B+10]^A[B+20]^A[B+30]^A[B+40];for(let B=0;B<10;B+=2){const H=(B+8)%10,D=(B+2)%10,F=I[D],K=I[D+1],T=b(F,K,1)^I[H],x=v(F,K,1)^I[H+1];for(let $=0;$<50;$+=10)A[B+$]^=T,A[B+$+1]^=x}let z=A[2],L=A[3];for(let B=0;B<24;B++){const H=i[B],D=b(z,L,H),F=v(z,L,H),K=r[B];z=A[K],L=A[K+1],A[K]=D,A[K+1]=F}for(let B=0;B<50;B+=10){for(let H=0;H<10;H++)I[H]=A[B+H];for(let H=0;H<10;H++)A[B+H]^=~I[(H+2)%10]&I[(H+4)%10]}A[0]^=m[N],A[1]^=g[N]}I.fill(0)}Sn.keccakP=E;class O extends n.Hash{constructor(C,I,N,z=!1,L=24){if(super(),this.blockLen=C,this.suffix=I,this.outputLen=N,this.enableXOF=z,this.rounds=L,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,t.number)(N),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,n.u32)(this.state)}keccak(){n.isLE||(0,n.byteSwap32)(this.state32),E(this.state32,this.rounds),n.isLE||(0,n.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(C){(0,t.exists)(this);const{blockLen:I,state:N}=this;C=(0,n.toBytes)(C);const z=C.length;for(let L=0;L<z;){const B=Math.min(I-this.pos,z-L);for(let H=0;H<B;H++)N[this.pos++]^=C[L++];this.pos===I&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:C,suffix:I,pos:N,blockLen:z}=this;C[N]^=I,(I&128)!==0&&N===z-1&&this.keccak(),C[z-1]^=128,this.keccak()}writeInto(C){(0,t.exists)(this,!1),(0,t.bytes)(C),this.finish();const I=this.state,{blockLen:N}=this;for(let z=0,L=C.length;z<L;){this.posOut>=N&&this.keccak();const B=Math.min(N-this.posOut,L-z);C.set(I.subarray(this.posOut,this.posOut+B),z),this.posOut+=B,z+=B}return C}xofInto(C){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(C)}xof(C){return(0,t.number)(C),this.xofInto(new Uint8Array(C))}digestInto(C){if((0,t.output)(C,this),this.finished)throw new Error("digest() was already called");return this.writeInto(C),this.destroy(),C}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(C){const{blockLen:I,suffix:N,outputLen:z,rounds:L,enableXOF:B}=this;return C||(C=new O(I,N,z,B,L)),C.state32.set(this.state32),C.pos=this.pos,C.posOut=this.posOut,C.finished=this.finished,C.rounds=L,C.suffix=N,C.outputLen=z,C.enableXOF=B,C.destroyed=this.destroyed,C}}Sn.Keccak=O;const k=(A,C,I)=>(0,n.wrapConstructor)(()=>new O(C,A,I));Sn.sha3_224=k(6,144,224/8),Sn.sha3_256=k(6,136,256/8),Sn.sha3_384=k(6,104,384/8),Sn.sha3_512=k(6,72,512/8),Sn.keccak_224=k(1,144,224/8),Sn.keccak_256=k(1,136,256/8),Sn.keccak_384=k(1,104,384/8),Sn.keccak_512=k(1,72,512/8);const S=(A,C,I)=>(0,n.wrapXOFConstructorWithOpts)((N={})=>new O(C,A,N.dkLen===void 0?I:N.dkLen,!0));return Sn.shake128=S(31,168,128/8),Sn.shake256=S(31,136,256/8),Sn}var ox,BN;function Xz(){if(BN)return ox;BN=1;const{keccak_256:t}=xde();function e(g){return Buffer.allocUnsafe(g).fill(0)}function n(g){return g.toString(2).length}function r(g,b){let v=g.toString(16);v.length%2!==0&&(v="0"+v);const E=v.match(/.{1,2}/g).map(O=>parseInt(O,16));for(;E.length<b;)E.unshift(0);return Buffer.from(E)}function i(g,b){const v=g<0n;let E;if(v){const O=(1n<<BigInt(b))-1n;E=(~g&O)+1n}else E=g;return E&=(1n<<BigInt(b))-1n,E}function s(g,b,v){const E=e(b);return g=c(g),v?g.length<b?(g.copy(E),E):g.slice(0,b):g.length<b?(g.copy(E,b-g.length),E):g.slice(-b)}function a(g,b){return s(g,b,!0)}function c(g){if(!Buffer.isBuffer(g))if(Array.isArray(g))g=Buffer.from(g);else if(typeof g=="string")p(g)?g=Buffer.from(h(m(g)),"hex"):g=Buffer.from(g);else if(typeof g=="number")g=intToBuffer(g);else if(g==null)g=Buffer.allocUnsafe(0);else if(typeof g=="bigint")g=r(g);else if(g.toArray)g=Buffer.from(g.toArray());else throw new Error("invalid type");return g}function u(g){return g=c(g),"0x"+g.toString("hex")}function d(g,b){if(g=c(g),b||(b=256),b!==256)throw new Error("unsupported");return Buffer.from(t(new Uint8Array(g)))}function h(g){return g.length%2?"0"+g:g}function p(g){return typeof g=="string"&&g.match(/^0x[0-9A-Fa-f]*$/)}function m(g){return typeof g=="string"&&g.startsWith("0x")?g.slice(2):g}return ox={zeros:e,setLength:s,setLengthRight:a,isHexString:p,stripHexPrefix:m,toBuffer:c,bufferToHex:u,keccak:d,bitLengthFromBigInt:n,bufferBEFromBigInt:r,twosFromBigInt:i},ox}var cx,LN;function Tde(){if(LN)return cx;LN=1;const t=Xz();function e(m){return m.startsWith("int[")?"int256"+m.slice(3):m==="int"?"int256":m.startsWith("uint[")?"uint256"+m.slice(4):m==="uint"?"uint256":m.startsWith("fixed[")?"fixed128x128"+m.slice(5):m==="fixed"?"fixed128x128":m.startsWith("ufixed[")?"ufixed128x128"+m.slice(6):m==="ufixed"?"ufixed128x128":m}function n(m){return Number.parseInt(/^\D+(\d+)$/.exec(m)[1],10)}function r(m){var g=/^\D+(\d+)x(\d+)$/.exec(m);return[Number.parseInt(g[1],10),Number.parseInt(g[2],10)]}function i(m){var g=m.match(/(.*)\[(.*?)\]$/);return g?g[2]===""?"dynamic":Number.parseInt(g[2],10):null}function s(m){var g=typeof m;if(g==="string"||g==="number")return BigInt(m);if(g==="bigint")return m;throw new Error("Argument is not a number")}function a(m,g){var b,v,E,O;if(m==="address")return a("uint160",s(g));if(m==="bool")return a("uint8",g?1:0);if(m==="string")return a("bytes",new Buffer(g,"utf8"));if(u(m)){if(typeof g.length>"u")throw new Error("Not an array?");if(b=i(m),b!=="dynamic"&&b!==0&&g.length>b)throw new Error("Elements exceed array size: "+b);E=[],m=m.slice(0,m.lastIndexOf("[")),typeof g=="string"&&(g=JSON.parse(g));for(O in g)E.push(a(m,g[O]));if(b==="dynamic"){var k=a("uint256",g.length);E.unshift(k)}return Buffer.concat(E)}else{if(m==="bytes")return g=new Buffer(g),E=Buffer.concat([a("uint256",g.length),g]),g.length%32!==0&&(E=Buffer.concat([E,t.zeros(32-g.length%32)])),E;if(m.startsWith("bytes")){if(b=n(m),b<1||b>32)throw new Error("Invalid bytes<N> width: "+b);return t.setLengthRight(g,32)}else if(m.startsWith("uint")){if(b=n(m),b%8||b<8||b>256)throw new Error("Invalid uint<N> width: "+b);v=s(g);const S=t.bitLengthFromBigInt(v);if(S>b)throw new Error("Supplied uint exceeds width: "+b+" vs "+S);if(v<0)throw new Error("Supplied uint is negative");return t.bufferBEFromBigInt(v,32)}else if(m.startsWith("int")){if(b=n(m),b%8||b<8||b>256)throw new Error("Invalid int<N> width: "+b);v=s(g);const S=t.bitLengthFromBigInt(v);if(S>b)throw new Error("Supplied int exceeds width: "+b+" vs "+S);const A=t.twosFromBigInt(v,256);return t.bufferBEFromBigInt(A,32)}else if(m.startsWith("ufixed")){if(b=r(m),v=s(g),v<0)throw new Error("Supplied ufixed is negative");return a("uint256",v*BigInt(2)**BigInt(b[1]))}else if(m.startsWith("fixed"))return b=r(m),a("int256",s(g)*BigInt(2)**BigInt(b[1]))}throw new Error("Unsupported or invalid type: "+m)}function c(m){return m==="string"||m==="bytes"||i(m)==="dynamic"}function u(m){return m.lastIndexOf("]")===m.length-1}function d(m,g){var b=[],v=[],E=32*m.length;for(var O in m){var k=e(m[O]),S=g[O],A=a(k,S);c(k)?(b.push(a("uint256",E)),v.push(A),E+=A.length):b.push(A)}return Buffer.concat(b.concat(v))}function h(m,g){if(m.length!==g.length)throw new Error("Number of types are not matching the values");for(var b,v,E=[],O=0;O<m.length;O++){var k=e(m[O]),S=g[O];if(k==="bytes")E.push(S);else if(k==="string")E.push(new Buffer(S,"utf8"));else if(k==="bool")E.push(new Buffer(S?"01":"00","hex"));else if(k==="address")E.push(t.setLength(S,20));else if(k.startsWith("bytes")){if(b=n(k),b<1||b>32)throw new Error("Invalid bytes<N> width: "+b);E.push(t.setLengthRight(S,b))}else if(k.startsWith("uint")){if(b=n(k),b%8||b<8||b>256)throw new Error("Invalid uint<N> width: "+b);v=s(S);const A=t.bitLengthFromBigInt(v);if(A>b)throw new Error("Supplied uint exceeds width: "+b+" vs "+A);E.push(t.bufferBEFromBigInt(v,b/8))}else if(k.startsWith("int")){if(b=n(k),b%8||b<8||b>256)throw new Error("Invalid int<N> width: "+b);v=s(S);const A=t.bitLengthFromBigInt(v);if(A>b)throw new Error("Supplied int exceeds width: "+b+" vs "+A);const C=t.twosFromBigInt(v,b);E.push(t.bufferBEFromBigInt(C,b/8))}else throw new Error("Unsupported or invalid type: "+k)}return Buffer.concat(E)}function p(m,g){return t.keccak(h(m,g))}return cx={rawEncode:d,solidityPack:h,soliditySHA3:p},cx}var lx,jN;function Ide(){if(jN)return lx;jN=1;const t=Xz(),e=Tde(),n={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},r={encodeData(s,a,c,u=!0){const d=["bytes32"],h=[this.hashType(s,c)];if(u){const p=(m,g,b)=>{if(c[g]!==void 0)return["bytes32",b==null?"0x0000000000000000000000000000000000000000000000000000000000000000":t.keccak(this.encodeData(g,b,c,u))];if(b===void 0)throw new Error(`missing value for field ${m} of type ${g}`);if(g==="bytes")return["bytes32",t.keccak(b)];if(g==="string")return typeof b=="string"&&(b=Buffer.from(b,"utf8")),["bytes32",t.keccak(b)];if(g.lastIndexOf("]")===g.length-1){const v=g.slice(0,g.lastIndexOf("[")),E=b.map(O=>p(m,v,O));return["bytes32",t.keccak(e.rawEncode(E.map(([O])=>O),E.map(([,O])=>O)))]}return[g,b]};for(const m of c[s]){const[g,b]=p(m.name,m.type,a[m.name]);d.push(g),h.push(b)}}else for(const p of c[s]){let m=a[p.name];if(m!==void 0)if(p.type==="bytes")d.push("bytes32"),m=t.keccak(m),h.push(m);else if(p.type==="string")d.push("bytes32"),typeof m=="string"&&(m=Buffer.from(m,"utf8")),m=t.keccak(m),h.push(m);else if(c[p.type]!==void 0)d.push("bytes32"),m=t.keccak(this.encodeData(p.type,m,c,u)),h.push(m);else{if(p.type.lastIndexOf("]")===p.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");d.push(p.type),h.push(m)}}return e.rawEncode(d,h)},encodeType(s,a){let c="",u=this.findTypeDependencies(s,a).filter(d=>d!==s);u=[s].concat(u.sort());for(const d of u){if(!a[d])throw new Error("No type definition specified: "+d);c+=d+"("+a[d].map(({name:p,type:m})=>m+" "+p).join(",")+")"}return c},findTypeDependencies(s,a,c=[]){if(s=s.match(/^\w*/)[0],c.includes(s)||a[s]===void 0)return c;c.push(s);for(const u of a[s])for(const d of this.findTypeDependencies(u.type,a,c))!c.includes(d)&&c.push(d);return c},hashStruct(s,a,c,u=!0){return t.keccak(this.encodeData(s,a,c,u))},hashType(s,a){return t.keccak(this.encodeType(s,a))},sanitizeData(s){const a={};for(const c in n.properties)s[c]&&(a[c]=s[c]);return a.types&&(a.types=Object.assign({EIP712Domain:[]},a.types)),a},hash(s,a=!0){const c=this.sanitizeData(s),u=[Buffer.from("1901","hex")];return u.push(this.hashStruct("EIP712Domain",c.domain,c.types,a)),c.primaryType!=="EIP712Domain"&&u.push(this.hashStruct(c.primaryType,c.message,c.types,a)),t.keccak(Buffer.concat(u))}};lx={TYPED_MESSAGE_SCHEMA:n,TypedDataUtils:r,hashForSignTypedDataLegacy:function(s){return i(s.data)},hashForSignTypedData_v3:function(s){return r.hash(s.data,!1)},hashForSignTypedData_v4:function(s){return r.hash(s.data)}};function i(s){const a=new Error("Expect argument to be non-empty array");if(typeof s!="object"||!s.length)throw a;const c=s.map(function(h){return h.type==="bytes"?t.toBuffer(h.value):h.value}),u=s.map(function(h){return h.type}),d=s.map(function(h){if(!h.name)throw a;return h.type+" "+h.name});return e.soliditySHA3(["bytes32","bytes32"],[e.soliditySHA3(new Array(s.length).fill("string"),d),e.soliditySHA3(u,c)])}return lx}var Cde=Ide();const sv=Du(Cde),Ode="walletUsername",d5="Addresses",kde="AppVersion";function ci(t){return t.errorMessage!==void 0}class Rde{constructor(e){this.secret=e}async encrypt(e){const n=this.secret;if(n.length!==64)throw Error("secret must be 256 bits");const r=crypto.getRandomValues(new Uint8Array(12)),i=await crypto.subtle.importKey("raw",Kv(n),{name:"aes-gcm"},!1,["encrypt","decrypt"]),s=new TextEncoder,a=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},i,s.encode(e)),c=16,u=a.slice(a.byteLength-c),d=a.slice(0,a.byteLength-c),h=new Uint8Array(u),p=new Uint8Array(d),m=new Uint8Array([...r,...h,...p]);return sC(m)}async decrypt(e){const n=this.secret;if(n.length!==64)throw Error("secret must be 256 bits");return new Promise((r,i)=>{(async function(){const s=await crypto.subtle.importKey("raw",Kv(n),{name:"aes-gcm"},!1,["encrypt","decrypt"]),a=Kv(e),c=a.slice(0,12),u=a.slice(12,28),d=a.slice(28),h=new Uint8Array([...d,...u]),p={name:"AES-GCM",iv:new Uint8Array(c)};try{const m=await window.crypto.subtle.decrypt(p,s,h),g=new TextDecoder;r(g.decode(m))}catch(m){i(m)}})()})}}class $de{constructor(e,n,r){this.linkAPIUrl=e,this.sessionId=n;const i=`${n}:${r}`;this.auth=`Basic ${btoa(i)}`}async markUnseenEventsAsSeen(e){return Promise.all(e.map(n=>fetch(`${this.linkAPIUrl}/events/${n.eventId}/seen`,{method:"POST",headers:{Authorization:this.auth}}))).catch(n=>console.error("Unabled to mark event as failed:",n))}async fetchUnseenEvents(){var e;const n=await fetch(`${this.linkAPIUrl}/events?unseen=true`,{headers:{Authorization:this.auth}});if(n.ok){const{events:r,error:i}=await n.json();if(i)throw new Error(`Check unseen events failed: ${i}`);const s=(e=r?.filter(a=>a.event==="Web3Response").map(a=>({type:"Event",sessionId:this.sessionId,eventId:a.id,event:a.event,data:a.data})))!==null&&e!==void 0?e:[];return this.markUnseenEventsAsSeen(s),s}throw new Error(`Check unseen events failed: ${n.status}`)}}var Kc;(function(t){t[t.DISCONNECTED=0]="DISCONNECTED",t[t.CONNECTING=1]="CONNECTING",t[t.CONNECTED=2]="CONNECTED"})(Kc||(Kc={}));class Nde{setConnectionStateListener(e){this.connectionStateListener=e}setIncomingDataListener(e){this.incomingDataListener=e}constructor(e,n=WebSocket){this.WebSocketClass=n,this.webSocket=null,this.pendingData=[],this.url=e.replace(/^http/,"ws")}async connect(){if(this.webSocket)throw new Error("webSocket object is not null");return new Promise((e,n)=>{var r;let i;try{this.webSocket=i=new this.WebSocketClass(this.url)}catch(s){n(s);return}(r=this.connectionStateListener)===null||r===void 0||r.call(this,Kc.CONNECTING),i.onclose=s=>{var a;this.clearWebSocket(),n(new Error(`websocket error ${s.code}: ${s.reason}`)),(a=this.connectionStateListener)===null||a===void 0||a.call(this,Kc.DISCONNECTED)},i.onopen=s=>{var a;e(),(a=this.connectionStateListener)===null||a===void 0||a.call(this,Kc.CONNECTED),this.pendingData.length>0&&([...this.pendingData].forEach(u=>this.sendData(u)),this.pendingData=[])},i.onmessage=s=>{var a,c;if(s.data==="h")(a=this.incomingDataListener)===null||a===void 0||a.call(this,{type:"Heartbeat"});else try{const u=JSON.parse(s.data);(c=this.incomingDataListener)===null||c===void 0||c.call(this,u)}catch{}}})}disconnect(){var e;const{webSocket:n}=this;if(n){this.clearWebSocket(),(e=this.connectionStateListener)===null||e===void 0||e.call(this,Kc.DISCONNECTED),this.connectionStateListener=void 0,this.incomingDataListener=void 0;try{n.close()}catch{}}}sendData(e){const{webSocket:n}=this;if(!n){this.pendingData.push(e),this.connect();return}n.send(e)}clearWebSocket(){const{webSocket:e}=this;e&&(this.webSocket=null,e.onclose=null,e.onerror=null,e.onmessage=null,e.onopen=null)}}const zN=1e4,Pde=6e4;class Dde{constructor({session:e,linkAPIUrl:n,listener:r}){this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=zc(1),this._connected=!1,this._linked=!1,this.shouldFetchUnseenEventsOnConnect=!1,this.requestResolutions=new Map,this.handleSessionMetadataUpdated=s=>{if(!s)return;new Map([["__destroyed",this.handleDestroyed],["EthereumAddress",this.handleAccountUpdated],["WalletUsername",this.handleWalletUsernameUpdated],["AppVersion",this.handleAppVersionUpdated],["ChainId",c=>s.JsonRpcUrl&&this.handleChainUpdated(c,s.JsonRpcUrl)]]).forEach((c,u)=>{const d=s[u];d!==void 0&&c(d)})},this.handleDestroyed=s=>{var a;s==="1"&&((a=this.listener)===null||a===void 0||a.resetAndReload())},this.handleAccountUpdated=async s=>{var a;const c=await this.cipher.decrypt(s);(a=this.listener)===null||a===void 0||a.accountUpdated(c)},this.handleMetadataUpdated=async(s,a)=>{var c;const u=await this.cipher.decrypt(a);(c=this.listener)===null||c===void 0||c.metadataUpdated(s,u)},this.handleWalletUsernameUpdated=async s=>{this.handleMetadataUpdated(Ode,s)},this.handleAppVersionUpdated=async s=>{this.handleMetadataUpdated(kde,s)},this.handleChainUpdated=async(s,a)=>{var c;const u=await this.cipher.decrypt(s),d=await this.cipher.decrypt(a);(c=this.listener)===null||c===void 0||c.chainUpdated(u,d)},this.session=e,this.cipher=new Rde(e.secret),this.listener=r;const i=new Nde(`${n}/rpc`,WebSocket);i.setConnectionStateListener(async s=>{let a=!1;switch(s){case Kc.DISCONNECTED:if(!this.destroyed){const c=async()=>{await new Promise(u=>setTimeout(u,5e3)),this.destroyed||i.connect().catch(()=>{c()})};c()}break;case Kc.CONNECTED:a=await this.handleConnected(),this.updateLastHeartbeat(),setInterval(()=>{this.heartbeat()},zN),this.shouldFetchUnseenEventsOnConnect&&this.fetchUnseenEventsAPI();break;case Kc.CONNECTING:break}this.connected!==a&&(this.connected=a)}),i.setIncomingDataListener(s=>{var a;switch(s.type){case"Heartbeat":this.updateLastHeartbeat();return;case"IsLinkedOK":case"Linked":{const c=s.type==="IsLinkedOK"?s.linked:void 0;this.linked=c||s.onlineGuests>0;break}case"GetSessionConfigOK":case"SessionConfigUpdated":{this.handleSessionMetadataUpdated(s.metadata);break}case"Event":{this.handleIncomingEvent(s);break}}s.id!==void 0&&((a=this.requestResolutions.get(s.id))===null||a===void 0||a(s))}),this.ws=i,this.http=new $de(n,e.id,e.key)}connect(){if(this.destroyed)throw new Error("instance is destroyed");this.ws.connect()}async destroy(){this.destroyed||(await this.makeRequest({type:"SetSessionConfig",id:zc(this.nextReqId++),sessionId:this.session.id,metadata:{__destroyed:"1"}},{timeout:1e3}),this.destroyed=!0,this.ws.disconnect(),this.listener=void 0)}get connected(){return this._connected}set connected(e){this._connected=e}get linked(){return this._linked}set linked(e){var n,r;this._linked=e,e&&((n=this.onceLinked)===null||n===void 0||n.call(this)),(r=this.listener)===null||r===void 0||r.linkedUpdated(e)}setOnceLinked(e){return new Promise(n=>{this.linked?e().then(n):this.onceLinked=()=>{e().then(n),this.onceLinked=void 0}})}async handleIncomingEvent(e){var n;if(e.type!=="Event"||e.event!=="Web3Response")return;const r=await this.cipher.decrypt(e.data),i=JSON.parse(r);if(i.type!=="WEB3_RESPONSE")return;const{id:s,response:a}=i;(n=this.listener)===null||n===void 0||n.handleWeb3ResponseMessage(s,a)}async checkUnseenEvents(){if(!this.connected){this.shouldFetchUnseenEventsOnConnect=!0;return}await new Promise(e=>setTimeout(e,250));try{await this.fetchUnseenEventsAPI()}catch(e){console.error("Unable to check for unseen events",e)}}async fetchUnseenEventsAPI(){this.shouldFetchUnseenEventsOnConnect=!1,(await this.http.fetchUnseenEvents()).forEach(n=>this.handleIncomingEvent(n))}async publishEvent(e,n,r=!1){const i=await this.cipher.encrypt(JSON.stringify(Object.assign(Object.assign({},n),{origin:location.origin,location:location.href,relaySource:"coinbaseWalletExtension"in window&&window.coinbaseWalletExtension?"injected_sdk":"sdk"}))),s={type:"PublishEvent",id:zc(this.nextReqId++),sessionId:this.session.id,event:e,data:i,callWebhook:r};return this.setOnceLinked(async()=>{const a=await this.makeRequest(s);if(a.type==="Fail")throw new Error(a.error||"failed to publish event");return a.eventId})}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>zN*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}async makeRequest(e,n={timeout:Pde}){const r=e.id;this.sendData(e);let i;return Promise.race([new Promise((s,a)=>{i=window.setTimeout(()=>{a(new Error(`request ${r} timed out`))},n.timeout)}),new Promise(s=>{this.requestResolutions.set(r,a=>{clearTimeout(i),s(a),this.requestResolutions.delete(r)})})])}async handleConnected(){return(await this.makeRequest({type:"HostSession",id:zc(this.nextReqId++),sessionId:this.session.id,sessionKey:this.session.key})).type==="Fail"?!1:(this.sendData({type:"IsLinked",id:zc(this.nextReqId++),sessionId:this.session.id}),this.sendData({type:"GetSessionConfig",id:zc(this.nextReqId++),sessionId:this.session.id}),!0)}}class Mde{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,n=Hz(e.toString(16));return this.callbacks.get(n)&&this.callbacks.delete(n),e}}function Ude(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function lC(t,...e){if(!Ude(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function FN(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Bde(t,e){lC(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const ux=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),go=(t,e)=>t<<32-e|t>>>e;new Uint8Array(new Uint32Array([287454020]).buffer)[0];const Lde=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function jde(t){lC(t);let e="";for(let n=0;n<t.length;n++)e+=Lde[t[n]];return e}function zde(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Jz(t){return typeof t=="string"&&(t=zde(t)),lC(t),t}let Fde=class{clone(){return this._cloneInto()}};function qde(t){const e=r=>t().update(Jz(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Wde(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),a=Number(n>>i&s),c=Number(n&s),u=r?4:0,d=r?0:4;t.setUint32(e+u,a,r),t.setUint32(e+d,c,r)}const Hde=(t,e,n)=>t&e^~t&n,Vde=(t,e,n)=>t&e^t&n^e&n;let Gde=class extends Fde{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=ux(this.buffer)}update(e){FN(this);const{view:n,buffer:r,blockLen:i}=this;e=Jz(e);const s=e.length;for(let a=0;a<s;){const c=Math.min(i-this.pos,s-a);if(c===i){const u=ux(e);for(;i<=s-a;a+=i)this.process(u,a);continue}r.set(e.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){FN(this),Bde(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:a}=this;n[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(r,0),a=0);for(let p=a;p<i;p++)n[p]=0;Wde(r,i-8,BigInt(this.length*8),s),this.process(r,0);const c=ux(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=u/4,h=this.get();if(d>h.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<d;p++)c.setUint32(4*p,h[p],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:a,pos:c}=this;return e.length=i,e.pos=c,e.finished=s,e.destroyed=a,i%n&&e.buffer.set(r),e}};const Kde=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Kl=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Yl=new Uint32Array(64);let Yde=class extends Gde{constructor(){super(64,32,8,!1),this.A=Kl[0]|0,this.B=Kl[1]|0,this.C=Kl[2]|0,this.D=Kl[3]|0,this.E=Kl[4]|0,this.F=Kl[5]|0,this.G=Kl[6]|0,this.H=Kl[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:a,G:c,H:u}=this;return[e,n,r,i,s,a,c,u]}set(e,n,r,i,s,a,c,u){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=c|0,this.H=u|0}process(e,n){for(let p=0;p<16;p++,n+=4)Yl[p]=e.getUint32(n,!1);for(let p=16;p<64;p++){const m=Yl[p-15],g=Yl[p-2],b=go(m,7)^go(m,18)^m>>>3,v=go(g,17)^go(g,19)^g>>>10;Yl[p]=v+Yl[p-7]+b+Yl[p-16]|0}let{A:r,B:i,C:s,D:a,E:c,F:u,G:d,H:h}=this;for(let p=0;p<64;p++){const m=go(c,6)^go(c,11)^go(c,25),g=h+m+Hde(c,u,d)+Kde[p]+Yl[p]|0,v=(go(r,2)^go(r,13)^go(r,22))+Vde(r,i,s)|0;h=d,d=u,u=c,c=a+g|0,a=s,s=i,i=r,r=g+v|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,c=c+this.E|0,u=u+this.F|0,d=d+this.G|0,h=h+this.H|0,this.set(r,i,s,a,c,u,d,h)}roundClean(){Yl.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const Zde=qde(()=>new Yde),qN="session:id",WN="session:secret",HN="session:linked";class ep{constructor(e,n,r,i=!1){this.storage=e,this.id=n,this.secret=r,this.key=jde(Zde(`${n}, ${r} WalletLink`)),this._linked=!!i}static create(e){const n=Td(16),r=Td(32);return new ep(e,n,r).save()}static load(e){const n=e.getItem(qN),r=e.getItem(HN),i=e.getItem(WN);return n&&i?new ep(e,n,i,r==="1"):null}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this.storage.setItem(qN,this.id),this.storage.setItem(WN,this.secret),this.persistLinked(),this}persistLinked(){this.storage.setItem(HN,this._linked?"1":"0")}}function Xde(){try{return window.frameElement!==null}catch{return!1}}function Jde(){try{return Xde()&&window.top?window.top.location:window.location}catch{return window.location}}function Qde(){var t;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test((t=window?.navigator)===null||t===void 0?void 0:t.userAgent)}function Qz(){var t,e;return(e=(t=window?.matchMedia)===null||t===void 0?void 0:t.call(window,"(prefers-color-scheme: dark)").matches)!==null&&e!==void 0?e:!1}const efe='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';function eF(){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(efe)),document.documentElement.appendChild(t)}function tF(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=tF(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function Cg(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=tF(t))&&(r&&(r+=" "),r+=e);return r}var fE,Fn,nF,Id,VN,rF,f5,uC,h5,p5,y0={},iF=[],tfe=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,dC=Array.isArray;function Au(t,e){for(var n in e)t[n]=e[n];return t}function sF(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function vn(t,e,n){var r,i,s,a={};for(s in e)s=="key"?r=e[s]:s=="ref"?i=e[s]:a[s]=e[s];if(arguments.length>2&&(a.children=arguments.length>3?fE.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)a[s]===void 0&&(a[s]=t.defaultProps[s]);return Yv(t,a,r,i,null)}function Yv(t,e,n,r,i){var s={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:i??++nF,__i:-1,__u:0};return i==null&&Fn.vnode!=null&&Fn.vnode(s),s}function hE(t){return t.children}function Zv(t,e){this.props=t,this.context=e}function xp(t,e){if(e==null)return t.__?xp(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?xp(t):null}function aF(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return aF(t)}}function GN(t){(!t.__d&&(t.__d=!0)&&Id.push(t)&&!V1.__r++||VN!==Fn.debounceRendering)&&((VN=Fn.debounceRendering)||rF)(V1)}function V1(){var t,e,n,r,i,s,a,c;for(Id.sort(f5);t=Id.shift();)t.__d&&(e=Id.length,r=void 0,s=(i=(n=t).__v).__e,a=[],c=[],n.__P&&((r=Au({},i)).__v=i.__v+1,Fn.vnode&&Fn.vnode(r),fC(n.__P,r,i,n.__n,n.__P.namespaceURI,32&i.__u?[s]:null,a,s??xp(i),!!(32&i.__u),c),r.__v=i.__v,r.__.__k[r.__i]=r,lF(a,r,c),r.__e!=s&&aF(r)),Id.length>e&&Id.sort(f5));V1.__r=0}function oF(t,e,n,r,i,s,a,c,u,d,h){var p,m,g,b,v,E=r&&r.__k||iF,O=e.length;for(n.__d=u,nfe(n,e,E),u=n.__d,p=0;p<O;p++)(g=n.__k[p])!=null&&(m=g.__i===-1?y0:E[g.__i]||y0,g.__i=p,fC(t,g,m,i,s,a,c,u,d,h),b=g.__e,g.ref&&m.ref!=g.ref&&(m.ref&&hC(m.ref,null,g),h.push(g.ref,g.__c||b,g)),v==null&&b!=null&&(v=b),65536&g.__u||m.__k===g.__k?u=cF(g,u,t):typeof g.type=="function"&&g.__d!==void 0?u=g.__d:b&&(u=b.nextSibling),g.__d=void 0,g.__u&=-196609);n.__d=u,n.__e=v}function nfe(t,e,n){var r,i,s,a,c,u=e.length,d=n.length,h=d,p=0;for(t.__k=[],r=0;r<u;r++)(i=e[r])!=null&&typeof i!="boolean"&&typeof i!="function"?(a=r+p,(i=t.__k[r]=typeof i=="string"||typeof i=="number"||typeof i=="bigint"||i.constructor==String?Yv(null,i,null,null,null):dC(i)?Yv(hE,{children:i},null,null,null):i.constructor===void 0&&i.__b>0?Yv(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i).__=t,i.__b=t.__b+1,s=null,(c=i.__i=rfe(i,n,a,h))!==-1&&(h--,(s=n[c])&&(s.__u|=131072)),s==null||s.__v===null?(c==-1&&p--,typeof i.type!="function"&&(i.__u|=65536)):c!==a&&(c==a-1?p--:c==a+1?p++:(c>a?p--:p++,i.__u|=65536))):i=t.__k[r]=null;if(h)for(r=0;r<d;r++)(s=n[r])!=null&&(131072&s.__u)==0&&(s.__e==t.__d&&(t.__d=xp(s)),uF(s,s))}function cF(t,e,n){var r,i;if(typeof t.type=="function"){for(r=t.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=t,e=cF(r[i],e,n));return e}t.__e!=e&&(e&&t.type&&!n.contains(e)&&(e=xp(t)),n.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType===8);return e}function rfe(t,e,n,r){var i=t.key,s=t.type,a=n-1,c=n+1,u=e[n];if(u===null||u&&i==u.key&&s===u.type&&(131072&u.__u)==0)return n;if(r>(u!=null&&(131072&u.__u)==0?1:0))for(;a>=0||c<e.length;){if(a>=0){if((u=e[a])&&(131072&u.__u)==0&&i==u.key&&s===u.type)return a;a--}if(c<e.length){if((u=e[c])&&(131072&u.__u)==0&&i==u.key&&s===u.type)return c;c++}}return-1}function KN(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||tfe.test(e)?n:n+"px"}function av(t,e,n,r,i){var s;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||KN(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||KN(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/(PointerCapture)$|Capture$/i,"$1")),e=e.toLowerCase()in t||e==="onFocusOut"||e==="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=n,n?r?n.u=r.u:(n.u=uC,t.addEventListener(e,s?p5:h5,s)):t.removeEventListener(e,s?p5:h5,s);else{if(i=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function YN(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=uC++;else if(e.t<n.u)return;return n(Fn.event?Fn.event(e):e)}}}function fC(t,e,n,r,i,s,a,c,u,d){var h,p,m,g,b,v,E,O,k,S,A,C,I,N,z,L,B=e.type;if(e.constructor!==void 0)return null;128&n.__u&&(u=!!(32&n.__u),s=[c=e.__e=n.__e]),(h=Fn.__b)&&h(e);e:if(typeof B=="function")try{if(O=e.props,k="prototype"in B&&B.prototype.render,S=(h=B.contextType)&&r[h.__c],A=h?S?S.props.value:h.__:r,n.__c?E=(p=e.__c=n.__c).__=p.__E:(k?e.__c=p=new B(O,A):(e.__c=p=new Zv(O,A),p.constructor=B,p.render=sfe),S&&S.sub(p),p.props=O,p.state||(p.state={}),p.context=A,p.__n=r,m=p.__d=!0,p.__h=[],p._sb=[]),k&&p.__s==null&&(p.__s=p.state),k&&B.getDerivedStateFromProps!=null&&(p.__s==p.state&&(p.__s=Au({},p.__s)),Au(p.__s,B.getDerivedStateFromProps(O,p.__s))),g=p.props,b=p.state,p.__v=e,m)k&&B.getDerivedStateFromProps==null&&p.componentWillMount!=null&&p.componentWillMount(),k&&p.componentDidMount!=null&&p.__h.push(p.componentDidMount);else{if(k&&B.getDerivedStateFromProps==null&&O!==g&&p.componentWillReceiveProps!=null&&p.componentWillReceiveProps(O,A),!p.__e&&(p.shouldComponentUpdate!=null&&p.shouldComponentUpdate(O,p.__s,A)===!1||e.__v===n.__v)){for(e.__v!==n.__v&&(p.props=O,p.state=p.__s,p.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(H){H&&(H.__=e)}),C=0;C<p._sb.length;C++)p.__h.push(p._sb[C]);p._sb=[],p.__h.length&&a.push(p);break e}p.componentWillUpdate!=null&&p.componentWillUpdate(O,p.__s,A),k&&p.componentDidUpdate!=null&&p.__h.push(function(){p.componentDidUpdate(g,b,v)})}if(p.context=A,p.props=O,p.__P=t,p.__e=!1,I=Fn.__r,N=0,k){for(p.state=p.__s,p.__d=!1,I&&I(e),h=p.render(p.props,p.state,p.context),z=0;z<p._sb.length;z++)p.__h.push(p._sb[z]);p._sb=[]}else do p.__d=!1,I&&I(e),h=p.render(p.props,p.state,p.context),p.state=p.__s;while(p.__d&&++N<25);p.state=p.__s,p.getChildContext!=null&&(r=Au(Au({},r),p.getChildContext())),k&&!m&&p.getSnapshotBeforeUpdate!=null&&(v=p.getSnapshotBeforeUpdate(g,b)),oF(t,dC(L=h!=null&&h.type===hE&&h.key==null?h.props.children:h)?L:[L],e,n,r,i,s,a,c,u,d),p.base=e.__e,e.__u&=-161,p.__h.length&&a.push(p),E&&(p.__E=p.__=null)}catch(H){if(e.__v=null,u||s!=null){for(e.__u|=u?160:32;c&&c.nodeType===8&&c.nextSibling;)c=c.nextSibling;s[s.indexOf(c)]=null,e.__e=c}else e.__e=n.__e,e.__k=n.__k;Fn.__e(H,e,n)}else s==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=ife(n.__e,e,n,r,i,s,a,u,d);(h=Fn.diffed)&&h(e)}function lF(t,e,n){e.__d=void 0;for(var r=0;r<n.length;r++)hC(n[r],n[++r],n[++r]);Fn.__c&&Fn.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(s){s.call(i)})}catch(s){Fn.__e(s,i.__v)}})}function ife(t,e,n,r,i,s,a,c,u){var d,h,p,m,g,b,v,E=n.props,O=e.props,k=e.type;if(k==="svg"?i="http://www.w3.org/2000/svg":k==="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),s!=null){for(d=0;d<s.length;d++)if((g=s[d])&&"setAttribute"in g==!!k&&(k?g.localName===k:g.nodeType===3)){t=g,s[d]=null;break}}if(t==null){if(k===null)return document.createTextNode(O);t=document.createElementNS(i,k,O.is&&O),c&&(Fn.__m&&Fn.__m(e,s),c=!1),s=null}if(k===null)E===O||c&&t.data===O||(t.data=O);else{if(s=s&&fE.call(t.childNodes),E=n.props||y0,!c&&s!=null)for(E={},d=0;d<t.attributes.length;d++)E[(g=t.attributes[d]).name]=g.value;for(d in E)if(g=E[d],d!="children"){if(d=="dangerouslySetInnerHTML")p=g;else if(!(d in O)){if(d=="value"&&"defaultValue"in O||d=="checked"&&"defaultChecked"in O)continue;av(t,d,null,g,i)}}for(d in O)g=O[d],d=="children"?m=g:d=="dangerouslySetInnerHTML"?h=g:d=="value"?b=g:d=="checked"?v=g:c&&typeof g!="function"||E[d]===g||av(t,d,g,E[d],i);if(h)c||p&&(h.__html===p.__html||h.__html===t.innerHTML)||(t.innerHTML=h.__html),e.__k=[];else if(p&&(t.innerHTML=""),oF(t,dC(m)?m:[m],e,n,r,k==="foreignObject"?"http://www.w3.org/1999/xhtml":i,s,a,s?s[0]:n.__k&&xp(n,0),c,u),s!=null)for(d=s.length;d--;)sF(s[d]);c||(d="value",k==="progress"&&b==null?t.removeAttribute("value"):b!==void 0&&(b!==t[d]||k==="progress"&&!b||k==="option"&&b!==E[d])&&av(t,d,b,E[d],i),d="checked",v!==void 0&&v!==t[d]&&av(t,d,v,E[d],i))}return t}function hC(t,e,n){try{if(typeof t=="function"){var r=typeof t.__u=="function";r&&t.__u(),r&&e==null||(t.__u=t(e))}else t.current=e}catch(i){Fn.__e(i,n)}}function uF(t,e,n){var r,i;if(Fn.unmount&&Fn.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||hC(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(s){Fn.__e(s,e)}r.base=r.__P=null}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&uF(r[i],e,n||typeof t.type!="function");n||sF(t.__e),t.__c=t.__=t.__e=t.__d=void 0}function sfe(t,e,n){return this.constructor(t,n)}function y5(t,e,n){var r,i,s,a;Fn.__&&Fn.__(t,e),i=(r=!1)?null:e.__k,s=[],a=[],fC(e,t=e.__k=vn(hE,null,[t]),i||y0,y0,e.namespaceURI,i?null:e.firstChild?fE.call(e.childNodes):null,s,i?i.__e:e.firstChild,r,a),lF(s,t,a)}fE=iF.slice,Fn={__e:function(t,e,n,r){for(var i,s,a;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),a=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,r||{}),a=i.__d),a)return i.__E=i}catch(c){t=c}throw t}},nF=0,Zv.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Au({},this.state),typeof t=="function"&&(t=t(Au({},n),this.props)),t&&Au(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),GN(this))},Zv.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),GN(this))},Zv.prototype.render=hE,Id=[],rF=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,f5=function(t,e){return t.__v.__b-e.__v.__b},V1.__r=0,uC=0,h5=YN(!1),p5=YN(!0);var m0,ar,dx,ZN,m5=0,dF=[],br=Fn,XN=br.__b,JN=br.__r,QN=br.diffed,eP=br.__c,tP=br.unmount,nP=br.__;function pC(t,e){br.__h&&br.__h(ar,t,m5||e),m5=0;var n=ar.__H||(ar.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function rP(t){return m5=1,afe(hF,t)}function afe(t,e,n){var r=pC(m0++,2);if(r.t=t,!r.__c&&(r.__=[hF(void 0,e),function(c){var u=r.__N?r.__N[0]:r.__[0],d=r.t(u,c);u!==d&&(r.__N=[d,r.__[1]],r.__c.setState({}))}],r.__c=ar,!ar.u)){var i=function(c,u,d){if(!r.__c.__H)return!0;var h=r.__c.__H.__.filter(function(m){return!!m.__c});if(h.every(function(m){return!m.__N}))return!s||s.call(this,c,u,d);var p=!1;return h.forEach(function(m){if(m.__N){var g=m.__[0];m.__=m.__N,m.__N=void 0,g!==m.__[0]&&(p=!0)}}),!(!p&&r.__c.props===c)&&(!s||s.call(this,c,u,d))};ar.u=!0;var s=ar.shouldComponentUpdate,a=ar.componentWillUpdate;ar.componentWillUpdate=function(c,u,d){if(this.__e){var h=s;s=void 0,i(c,u,d),s=h}a&&a.call(this,c,u,d)},ar.shouldComponentUpdate=i}return r.__N||r.__}function ofe(t,e){var n=pC(m0++,3);!br.__s&&fF(n.__H,e)&&(n.__=t,n.i=e,ar.__H.__h.push(n))}function j7e(t,e){var n=pC(m0++,7);return fF(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function cfe(){for(var t;t=dF.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Xv),t.__H.__h.forEach(g5),t.__H.__h=[]}catch(e){t.__H.__h=[],br.__e(e,t.__v)}}br.__b=function(t){ar=null,XN&&XN(t)},br.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),nP&&nP(t,e)},br.__r=function(t){JN&&JN(t),m0=0;var e=(ar=t.__c).__H;e&&(dx===ar?(e.__h=[],ar.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.i=n.__N=void 0})):(e.__h.forEach(Xv),e.__h.forEach(g5),e.__h=[],m0=0)),dx=ar},br.diffed=function(t){QN&&QN(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(dF.push(e)!==1&&ZN===br.requestAnimationFrame||((ZN=br.requestAnimationFrame)||lfe)(cfe)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.i=void 0})),dx=ar=null},br.__c=function(t,e){e.some(function(n){try{n.__h.forEach(Xv),n.__h=n.__h.filter(function(r){return!r.__||g5(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],br.__e(r,n.__v)}}),eP&&eP(t,e)},br.unmount=function(t){tP&&tP(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{Xv(r)}catch(i){e=i}}),n.__H=void 0,e&&br.__e(e,n.__v))};var iP=typeof requestAnimationFrame=="function";function lfe(t){var e,n=function(){clearTimeout(r),iP&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);iP&&(e=requestAnimationFrame(n))}function Xv(t){var e=ar,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),ar=e}function g5(t){var e=ar;t.__c=t.__(),ar=e}function fF(t,e){return!t||t.length!==e.length||e.some(function(n,r){return n!==t[r]})}function hF(t,e){return typeof e=="function"?e(t):e}const ufe=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}",dfe="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",ffe="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";class pF{constructor(){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=Qz()}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",e.appendChild(this.root),this.render()}presentItem(e){const n=this.nextItemKey++;return this.items.set(n,e),this.render(),()=>{this.items.delete(n),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&y5(vn("div",null,vn(yF,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([e,n])=>vn(hfe,Object.assign({},n,{key:e}))))),this.root)}}const yF=t=>vn("div",{class:Cg("-cbwsdk-snackbar-container")},vn("style",null,ufe),vn("div",{class:"-cbwsdk-snackbar"},t.children)),hfe=({autoExpand:t,message:e,menuItems:n})=>{const[r,i]=rP(!0),[s,a]=rP(t??!1);ofe(()=>{const u=[window.setTimeout(()=>{i(!1)},1),window.setTimeout(()=>{a(!0)},1e4)];return()=>{u.forEach(window.clearTimeout)}});const c=()=>{a(!s)};return vn("div",{class:Cg("-cbwsdk-snackbar-instance",r&&"-cbwsdk-snackbar-instance-hidden",s&&"-cbwsdk-snackbar-instance-expanded")},vn("div",{class:"-cbwsdk-snackbar-instance-header",onClick:c},vn("img",{src:dfe,class:"-cbwsdk-snackbar-instance-header-cblogo"})," ",vn("div",{class:"-cbwsdk-snackbar-instance-header-message"},e),vn("div",{class:"-gear-container"},!s&&vn("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},vn("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),vn("img",{src:ffe,class:"-gear-icon",title:"Expand"}))),n&&n.length>0&&vn("div",{class:"-cbwsdk-snackbar-instance-menu"},n.map((u,d)=>vn("div",{class:Cg("-cbwsdk-snackbar-instance-menu-item",u.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:u.onClick,key:d},vn("svg",{width:u.svgWidth,height:u.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},vn("path",{"fill-rule":u.defaultFillRule,"clip-rule":u.defaultClipRule,d:u.path,fill:"#AAAAAA"})),vn("span",{class:Cg("-cbwsdk-snackbar-instance-menu-item-info",u.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},u.info)))))},mF="M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z";class pfe{constructor(){this.attached=!1,this.snackbar=new pF}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,n=document.createElement("div");n.className="-cbwsdk-css-reset",e.appendChild(n),this.snackbar.attach(n),this.attached=!0,eF()}showConnecting(e){let n;return e.isUnlinkedErrorState?n={autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:n={message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:mF,defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(n)}}const yfe=".-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s;background-color:rgba(10,11,13,.5)}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box{display:block;position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);padding:20px;border-radius:8px;background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box p{display:block;font-weight:400;font-size:14px;line-height:20px;padding-bottom:12px;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box button{appearance:none;border:none;background:none;color:#0052ff;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark{background-color:#0a0b0d;color:#fff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark button{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light{background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light button{color:#0052ff}";class mfe{constructor(){this.root=null,this.darkMode=Qz()}attach(){const e=document.documentElement;this.root=document.createElement("div"),this.root.className="-cbwsdk-css-reset",e.appendChild(this.root),eF()}present(e){this.render(e)}clear(){this.render(null)}render(e){this.root&&(y5(null,this.root),e&&y5(vn(gfe,Object.assign({},e,{onDismiss:()=>{this.clear()},darkMode:this.darkMode})),this.root))}}const gfe=({title:t,buttonText:e,darkMode:n,onButtonClick:r,onDismiss:i})=>{const s=n?"dark":"light";return vn(yF,{darkMode:n},vn("div",{class:"-cbwsdk-redirect-dialog"},vn("style",null,yfe),vn("div",{class:"-cbwsdk-redirect-dialog-backdrop",onClick:i}),vn("div",{class:Cg("-cbwsdk-redirect-dialog-box",s)},vn("p",null,t),vn("button",{onClick:r},e))))},bfe="https://keys.coinbase.com/connect",wfe="https://rpc.wallet.coinbase.com",sP="https://www.walletlink.org",vfe="https://go.cb-w.com/walletlink";class aP{constructor(){this.attached=!1,this.redirectDialog=new mfe}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");this.redirectDialog.attach(),this.attached=!0}redirectToCoinbaseWallet(e){const n=new URL(vfe);n.searchParams.append("redirect_url",Jde().href),e&&n.searchParams.append("wl_url",e);const r=document.createElement("a");r.target="cbw-opener",r.href=n.href,r.rel="noreferrer noopener",r.click()}openCoinbaseWalletDeeplink(e){this.redirectDialog.present({title:"Redirecting to Coinbase Wallet...",buttonText:"Open",onButtonClick:()=>{this.redirectToCoinbaseWallet(e)}}),setTimeout(()=>{this.redirectToCoinbaseWallet(e)},99)}showConnecting(e){return()=>{this.redirectDialog.clear()}}}class Fc{constructor(e){this.chainCallbackParams={chainId:"",jsonRpcUrl:""},this.isMobileWeb=Qde(),this.linkedUpdated=s=>{this.isLinked=s;const a=this.storage.getItem(d5);if(s&&(this._session.linked=s),this.isUnlinkedErrorState=!1,a){const c=a.split(" "),u=this.storage.getItem("IsStandaloneSigning")==="true";c[0]!==""&&!s&&this._session.linked&&!u&&(this.isUnlinkedErrorState=!0)}},this.metadataUpdated=(s,a)=>{this.storage.setItem(s,a)},this.chainUpdated=(s,a)=>{this.chainCallbackParams.chainId===s&&this.chainCallbackParams.jsonRpcUrl===a||(this.chainCallbackParams={chainId:s,jsonRpcUrl:a},this.chainCallback&&this.chainCallback(a,Number.parseInt(s,10)))},this.accountUpdated=s=>{this.accountsCallback&&this.accountsCallback([s]),Fc.accountRequestCallbackIds.size>0&&(Array.from(Fc.accountRequestCallbackIds.values()).forEach(a=>{this.invokeCallback(a,{method:"requestEthereumAccounts",result:[s]})}),Fc.accountRequestCallbackIds.clear())},this.resetAndReload=this.resetAndReload.bind(this),this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.metadata=e.metadata,this.accountsCallback=e.accountsCallback,this.chainCallback=e.chainCallback;const{session:n,ui:r,connection:i}=this.subscribe();this._session=n,this.connection=i,this.relayEventManager=new Mde,this.ui=r,this.ui.attach()}subscribe(){const e=ep.load(this.storage)||ep.create(this.storage),{linkAPIUrl:n}=this,r=new Dde({session:e,linkAPIUrl:n,listener:this}),i=this.isMobileWeb?new aP:new pfe;return r.connect(),{session:e,ui:i,connection:r}}resetAndReload(){this.connection.destroy().then(()=>{const e=ep.load(this.storage);e?.id===this._session.id&&Wo.clearAll(),document.location.reload()}).catch(e=>{})}signEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:mo(e.weiValue),data:Tg(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?mo(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?mo(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?mo(e.gasPriceInWei):null,gasLimit:e.gasLimit?mo(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:mo(e.weiValue),data:Tg(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?mo(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?mo(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?mo(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?mo(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,n){return this.sendRequest({method:"submitEthereumTransaction",params:{signedTransaction:Tg(e,!0),chainId:n}})}getWalletLinkSession(){return this._session}sendRequest(e){let n=null;const r=Td(8),i=s=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,e.method,s),n?.()};return new Promise((s,a)=>{n=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload}),this.relayEventManager.callbacks.set(r,c=>{if(n?.(),ci(c))return a(new Error(c.errorMessage));s(c)}),this.publishWeb3RequestEvent(r,e)})}publishWeb3RequestEvent(e,n){const r={type:"WEB3_REQUEST",id:e,request:n};this.publishEvent("Web3Request",r,!0).then(i=>{}).catch(i=>{this.handleWeb3ResponseMessage(r.id,{method:n.method,errorMessage:i.message})}),this.isMobileWeb&&this.openCoinbaseWalletDeeplink(n.method)}openCoinbaseWalletDeeplink(e){if(this.ui instanceof aP)switch(e){case"requestEthereumAccounts":case"switchEthereumChain":return;default:window.addEventListener("blur",()=>{window.addEventListener("focus",()=>{this.connection.checkUnseenEvents()},{once:!0})},{once:!0}),this.ui.openCoinbaseWalletDeeplink();break}}publishWeb3RequestCanceledEvent(e){const n={type:"WEB3_REQUEST_CANCELED",id:e};this.publishEvent("Web3RequestCanceled",n,!1).then()}publishEvent(e,n,r){return this.connection.publishEvent(e,n,r)}handleWeb3ResponseMessage(e,n){if(n.method==="requestEthereumAccounts"){Fc.accountRequestCallbackIds.forEach(r=>this.invokeCallback(r,n)),Fc.accountRequestCallbackIds.clear();return}this.invokeCallback(e,n)}handleErrorResponse(e,n,r){var i;const s=(i=r?.message)!==null&&i!==void 0?i:"Unspecified error message.";this.handleWeb3ResponseMessage(e,{method:n,errorMessage:s})}invokeCallback(e,n){const r=this.relayEventManager.callbacks.get(e);r&&(r(n),this.relayEventManager.callbacks.delete(e))}requestEthereumAccounts(){const{appName:e,appLogoUrl:n}=this.metadata,r={method:"requestEthereumAccounts",params:{appName:e,appLogoUrl:n}},i=Td(8);return new Promise((s,a)=>{this.relayEventManager.callbacks.set(i,c=>{if(ci(c))return a(new Error(c.errorMessage));s(c)}),Fc.accountRequestCallbackIds.add(i),this.publishWeb3RequestEvent(i,r)})}watchAsset(e,n,r,i,s,a){const c={method:"watchAsset",params:{type:e,options:{address:n,symbol:r,decimals:i,image:s},chainId:a}};let u=null;const d=Td(8),h=p=>{this.publishWeb3RequestCanceledEvent(d),this.handleErrorResponse(d,c.method,p),u?.()};return u=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:h,onResetConnection:this.resetAndReload}),new Promise((p,m)=>{this.relayEventManager.callbacks.set(d,g=>{if(u?.(),ci(g))return m(new Error(g.errorMessage));p(g)}),this.publishWeb3RequestEvent(d,c)})}addEthereumChain(e,n,r,i,s,a){const c={method:"addEthereumChain",params:{chainId:e,rpcUrls:n,blockExplorerUrls:i,chainName:s,iconUrls:r,nativeCurrency:a}};let u=null;const d=Td(8),h=p=>{this.publishWeb3RequestCanceledEvent(d),this.handleErrorResponse(d,c.method,p),u?.()};return u=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:h,onResetConnection:this.resetAndReload}),new Promise((p,m)=>{this.relayEventManager.callbacks.set(d,g=>{if(u?.(),ci(g))return m(new Error(g.errorMessage));p(g)}),this.publishWeb3RequestEvent(d,c)})}switchEthereumChain(e,n){const r={method:"switchEthereumChain",params:Object.assign({chainId:e},{address:n})};let i=null;const s=Td(8),a=c=>{this.publishWeb3RequestCanceledEvent(s),this.handleErrorResponse(s,r.method,c),i?.()};return i=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:a,onResetConnection:this.resetAndReload}),new Promise((c,u)=>{this.relayEventManager.callbacks.set(s,d=>{if(i?.(),ci(d)&&d.errorCode)return u(Yt.provider.custom({code:d.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(ci(d))return u(new Error(d.errorMessage));c(d)}),this.publishWeb3RequestEvent(s,r)})}}Fc.accountRequestCallbackIds=new Set;const oP="DefaultChainId",cP="DefaultJsonRpcUrl";class gF{constructor(e){this._relay=null,this._addresses=[],this.metadata=e.metadata,this._storage=new Wo("walletlink",sP),this.callback=e.callback||null;const n=this._storage.getItem(d5);if(n){const r=n.split(" ");r[0]!==""&&(this._addresses=r.map(i=>Gl(i)))}this.initializeRelay()}getSession(){const e=this.initializeRelay(),{id:n,secret:r}=e.getWalletLinkSession();return{id:n,secret:r}}async handshake(){await this._eth_requestAccounts()}get selectedAddress(){return this._addresses[0]||void 0}get jsonRpcUrl(){var e;return(e=this._storage.getItem(cP))!==null&&e!==void 0?e:void 0}set jsonRpcUrl(e){this._storage.setItem(cP,e)}updateProviderInfo(e,n){var r;this.jsonRpcUrl=e;const i=this.getChainId();this._storage.setItem(oP,n.toString(10)),Ig(n)!==i&&((r=this.callback)===null||r===void 0||r.call(this,"chainChanged",Eu(n)))}async watchAsset(e){const n=Array.isArray(e)?e[0]:e;if(!n.type)throw Yt.rpc.invalidParams("Type is required");if(n?.type!=="ERC20")throw Yt.rpc.invalidParams(`Asset of type '${n.type}' is not supported`);if(!n?.options)throw Yt.rpc.invalidParams("Options are required");if(!n?.options.address)throw Yt.rpc.invalidParams("Address is required");const r=this.getChainId(),{address:i,symbol:s,image:a,decimals:c}=n.options,d=await this.initializeRelay().watchAsset(n.type,i,s,c,a,r?.toString());return ci(d)?!1:!!d.result}async addEthereumChain(e){var n,r;const i=e[0];if(((n=i.rpcUrls)===null||n===void 0?void 0:n.length)===0)throw Yt.rpc.invalidParams("please pass in at least 1 rpcUrl");if(!i.chainName||i.chainName.trim()==="")throw Yt.rpc.invalidParams("chainName is a required field");if(!i.nativeCurrency)throw Yt.rpc.invalidParams("nativeCurrency is a required field");const s=Number.parseInt(i.chainId,16);if(s===this.getChainId())return!1;const a=this.initializeRelay(),{rpcUrls:c=[],blockExplorerUrls:u=[],chainName:d,iconUrls:h=[],nativeCurrency:p}=i,m=await a.addEthereumChain(s.toString(),c,h,u,d,p);if(ci(m))return!1;if(((r=m.result)===null||r===void 0?void 0:r.isApproved)===!0)return this.updateProviderInfo(c[0],s),null;throw Yt.rpc.internal("unable to add ethereum chain")}async switchEthereumChain(e){const n=e[0],r=Number.parseInt(n.chainId,16),s=await this.initializeRelay().switchEthereumChain(r.toString(10),this.selectedAddress||void 0);if(ci(s))throw s;const a=s.result;return a.isApproved&&a.rpcUrl.length>0&&this.updateProviderInfo(a.rpcUrl,r),null}async cleanup(){this.callback=null,this._relay&&this._relay.resetAndReload(),this._storage.clear()}_setAddresses(e,n){var r;if(!Array.isArray(e))throw new Error("addresses is not an array");const i=e.map(s=>Gl(s));JSON.stringify(i)!==JSON.stringify(this._addresses)&&(this._addresses=i,(r=this.callback)===null||r===void 0||r.call(this,"accountsChanged",i),this._storage.setItem(d5,i.join(" ")))}async request(e){const n=e.params||[];switch(e.method){case"eth_accounts":return[...this._addresses];case"eth_coinbase":return this.selectedAddress||null;case"net_version":return this.getChainId().toString(10);case"eth_chainId":return Eu(this.getChainId());case"eth_requestAccounts":return this._eth_requestAccounts();case"eth_ecRecover":case"personal_ecRecover":return this.ecRecover(e);case"personal_sign":return this.personalSign(e);case"eth_signTransaction":return this._eth_signTransaction(n);case"eth_sendRawTransaction":return this._eth_sendRawTransaction(n);case"eth_sendTransaction":return this._eth_sendTransaction(n);case"eth_signTypedData_v1":case"eth_signTypedData_v3":case"eth_signTypedData_v4":case"eth_signTypedData":return this.signTypedData(e);case"wallet_addEthereumChain":return this.addEthereumChain(n);case"wallet_switchEthereumChain":return this.switchEthereumChain(n);case"wallet_watchAsset":return this.watchAsset(n);default:if(!this.jsonRpcUrl)throw Yt.rpc.internal("No RPC URL set for chain");return cC(e,this.jsonRpcUrl)}}_ensureKnownAddress(e){const n=Gl(e);if(!this._addresses.map(i=>Gl(i)).includes(n))throw new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const n=e.from?Gl(e.from):this.selectedAddress;if(!n)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(n);const r=e.to?Gl(e.to):null,i=e.value!=null?em(e.value):BigInt(0),s=e.data?u5(e.data):Buffer.alloc(0),a=e.nonce!=null?Ig(e.nonce):null,c=e.gasPrice!=null?em(e.gasPrice):null,u=e.maxFeePerGas!=null?em(e.maxFeePerGas):null,d=e.maxPriorityFeePerGas!=null?em(e.maxPriorityFeePerGas):null,h=e.gas!=null?em(e.gas):null,p=e.chainId?Ig(e.chainId):this.getChainId();return{fromAddress:n,toAddress:r,weiValue:i,data:s,nonce:a,gasPriceInWei:c,maxFeePerGas:u,maxPriorityFeePerGas:d,gasLimit:h,chainId:p}}async ecRecover(e){const{method:n,params:r}=e;if(!Array.isArray(r))throw Yt.rpc.invalidParams();const s=await this.initializeRelay().sendRequest({method:"ethereumAddressFromSignedMessage",params:{message:nx(r[0]),signature:nx(r[1]),addPrefix:n==="personal_ecRecover"}});if(ci(s))throw s;return s.result}getChainId(){var e;return Number.parseInt((e=this._storage.getItem(oP))!==null&&e!==void 0?e:"1",10)}async _eth_requestAccounts(){var e,n;if(this._addresses.length>0)return(e=this.callback)===null||e===void 0||e.call(this,"connect",{chainId:Eu(this.getChainId())}),this._addresses;const i=await this.initializeRelay().requestEthereumAccounts();if(ci(i))throw i;if(!i.result)throw new Error("accounts received is empty");return this._setAddresses(i.result),(n=this.callback)===null||n===void 0||n.call(this,"connect",{chainId:Eu(this.getChainId())}),this._addresses}async personalSign({params:e}){if(!Array.isArray(e))throw Yt.rpc.invalidParams();const n=e[1],r=e[0];this._ensureKnownAddress(n);const s=await this.initializeRelay().sendRequest({method:"signEthereumMessage",params:{address:Gl(n),message:nx(r),addPrefix:!0,typedDataJson:null}});if(ci(s))throw s;return s.result}async _eth_signTransaction(e){const n=this._prepareTransactionParams(e[0]||{}),i=await this.initializeRelay().signEthereumTransaction(n);if(ci(i))throw i;return i.result}async _eth_sendRawTransaction(e){const n=u5(e[0]),i=await this.initializeRelay().submitEthereumTransaction(n,this.getChainId());if(ci(i))throw i;return i.result}async _eth_sendTransaction(e){const n=this._prepareTransactionParams(e[0]||{}),i=await this.initializeRelay().signAndSubmitEthereumTransaction(n);if(ci(i))throw i;return i.result}async signTypedData(e){const{method:n,params:r}=e;if(!Array.isArray(r))throw Yt.rpc.invalidParams();const i=d=>{const h={eth_signTypedData_v1:sv.hashForSignTypedDataLegacy,eth_signTypedData_v3:sv.hashForSignTypedData_v3,eth_signTypedData_v4:sv.hashForSignTypedData_v4,eth_signTypedData:sv.hashForSignTypedData_v4};return Tg(h[n]({data:cde(d)}),!0)},s=r[n==="eth_signTypedData_v1"?1:0],a=r[n==="eth_signTypedData_v1"?0:1];this._ensureKnownAddress(s);const u=await this.initializeRelay().sendRequest({method:"signEthereumMessage",params:{address:Gl(s),message:i(a),typedDataJson:JSON.stringify(a,null,2),addPrefix:!1}});if(ci(u))throw u;return u.result}initializeRelay(){return this._relay||(this._relay=new Fc({linkAPIUrl:sP,storage:this._storage,metadata:this.metadata,accountsCallback:this._setAddresses.bind(this),chainCallback:this.updateProviderInfo.bind(this)})),this._relay}}const bF="SignerType",wF=new Wo("CBWSDK","SignerConfigurator");function _fe(){return wF.getItem(bF)}function Efe(t){wF.setItem(bF,t)}async function Afe(t){const{communicator:e,metadata:n,handshakeRequest:r,callback:i}=t;xfe(e,n,i).catch(()=>{});const s={id:crypto.randomUUID(),event:"selectSignerType",data:Object.assign(Object.assign({},t.preference),{handshakeRequest:r})},{data:a}=await e.postRequestAndWaitForResponse(s);return a}function Sfe(t){const{signerType:e,metadata:n,communicator:r,callback:i}=t;switch(e){case"scw":return new _de({metadata:n,callback:i,communicator:r});case"walletlink":return new gF({metadata:n,callback:i})}}async function xfe(t,e,n){await t.onMessage(({event:i})=>i==="WalletLinkSessionRequest");const r=new gF({metadata:e,callback:n});t.postMessage({event:"WalletLinkUpdate",data:{session:r.getSession()}}),await r.handshake(),t.postMessage({event:"WalletLinkUpdate",data:{connected:!0}})}const Tfe=`Coinbase Wallet SDK requires the Cross-Origin-Opener-Policy header to not be set to 'same-origin'. This is to ensure that the SDK can communicate with the Coinbase Smart Wallet app.

Please see https://www.smartwallet.dev/guides/tips/popup-tips#cross-origin-opener-policy for more information.`,Ife=()=>{let t;return{getCrossOriginOpenerPolicy:()=>t===void 0?"undefined":t,checkCrossOriginOpenerPolicy:async()=>{if(typeof window>"u"){t="non-browser-env";return}try{const e=`${window.location.origin}${window.location.pathname}`,n=await fetch(e,{method:"HEAD"});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const r=n.headers.get("Cross-Origin-Opener-Policy");t=r??"null",t==="same-origin"&&console.error(Tfe)}catch(e){console.error("Error checking Cross-Origin-Opener-Policy:",e.message),t="error"}}}},{checkCrossOriginOpenerPolicy:Cfe,getCrossOriginOpenerPolicy:Ofe}=Ife(),lP=420,uP=540,kfe={isRed:!1,info:"Retry",svgWidth:"10",svgHeight:"11",path:mF,defaultFillRule:"evenodd",defaultClipRule:"evenodd"},Rfe="Popup was blocked. Try again.";let ov=null;function $fe(t){const e=(window.innerWidth-lP)/2+window.screenX,n=(window.innerHeight-uP)/2+window.screenY;Pfe(t);function r(){const s=`wallet_${crypto.randomUUID()}`,a=window.open(t,s,`width=${lP}, height=${uP}, left=${e}, top=${n}`);return a?.focus(),a||null}let i=r();if(!i){const s=Dfe();return new Promise((a,c)=>{s.presentItem({autoExpand:!0,message:Rfe,menuItems:[Object.assign(Object.assign({},kfe),{onClick:()=>{i=r(),i?a(i):c(Yt.rpc.internal("Popup window was blocked")),s.clear()}})]})})}return Promise.resolve(i)}function Nfe(t){t&&!t.closed&&t.close()}function Pfe(t){const e={sdkName:Yz,sdkVersion:ib,origin:window.location.origin,coop:Ofe()};for(const[n,r]of Object.entries(e))t.searchParams.append(n,r.toString())}function Dfe(){if(!ov){const t=document.createElement("div");t.className="-cbwsdk-css-reset",document.body.appendChild(t),ov=new pF,ov.attach(t)}return ov}class Mfe{constructor({url:e=bfe,metadata:n,preference:r}){this.popup=null,this.listeners=new Map,this.postMessage=async i=>{(await this.waitForPopupLoaded()).postMessage(i,this.url.origin)},this.postRequestAndWaitForResponse=async i=>{const s=this.onMessage(({requestId:a})=>a===i.id);return this.postMessage(i),await s},this.onMessage=async i=>new Promise((s,a)=>{const c=u=>{if(u.origin!==this.url.origin)return;const d=u.data;i(d)&&(s(d),window.removeEventListener("message",c),this.listeners.delete(c))};window.addEventListener("message",c),this.listeners.set(c,{reject:a})}),this.disconnect=()=>{Nfe(this.popup),this.popup=null,this.listeners.forEach(({reject:i},s)=>{i(Yt.provider.userRejectedRequest("Request rejected")),window.removeEventListener("message",s)}),this.listeners.clear()},this.waitForPopupLoaded=async()=>this.popup&&!this.popup.closed?(this.popup.focus(),this.popup):(this.popup=await $fe(this.url),this.onMessage(({event:i})=>i==="PopupUnload").then(this.disconnect).catch(()=>{}),this.onMessage(({event:i})=>i==="PopupLoaded").then(i=>{this.postMessage({requestId:i.id,data:{version:ib,metadata:this.metadata,preference:this.preference,location:window.location.toString()}})}).then(()=>{if(!this.popup)throw Yt.rpc.internal();return this.popup})),this.url=new URL(e),this.metadata=n,this.preference=r}}function Ufe(t){const e=rde(Bfe(t),{shouldIncludeStack:!0}),n=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");return n.searchParams.set("version",ib),n.searchParams.set("code",e.code.toString()),n.searchParams.set("message",e.message),Object.assign(Object.assign({},e),{docUrl:n.href})}function Bfe(t){var e;if(typeof t=="string")return{message:t,code:rr.rpc.internal};if(ci(t)){const n=t.errorMessage,r=(e=t.errorCode)!==null&&e!==void 0?e:n.match(/(denied|rejected)/i)?rr.provider.userRejectedRequest:void 0;return Object.assign(Object.assign({},t),{message:n,code:r,data:{method:t.method}})}return t}class Lfe extends Uu{}var jfe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class zfe extends Lfe{constructor(e){var{metadata:n}=e,r=e.preference,{keysUrl:i}=r,s=jfe(r,["keysUrl"]);super(),this.signer=null,this.isCoinbaseWallet=!0,this.metadata=n,this.preference=s,this.communicator=new Mfe({url:i,metadata:n,preference:s});const a=_fe();a&&(this.signer=this.initSigner(a))}async request(e){try{if(vde(e),!this.signer)switch(e.method){case"eth_requestAccounts":{const n=await this.requestSignerSelection(e),r=this.initSigner(n);await r.handshake(e),this.signer=r,Efe(n);break}case"wallet_sendCalls":{const n=this.initSigner("scw");await n.handshake({method:"handshake"});const r=await n.request(e);return await n.cleanup(),r}case"wallet_getCallsStatus":return cC(e,wfe);case"net_version":return 1;case"eth_chainId":return Eu(1);default:throw Yt.provider.unauthorized("Must call 'eth_requestAccounts' before other methods")}return await this.signer.request(e)}catch(n){const{code:r}=n;return r===rr.provider.unauthorized&&this.disconnect(),Promise.reject(Ufe(n))}}async enable(){return console.warn('.enable() has been deprecated. Please use .request({ method: "eth_requestAccounts" }) instead.'),await this.request({method:"eth_requestAccounts"})}async disconnect(){var e;await((e=this.signer)===null||e===void 0?void 0:e.cleanup()),this.signer=null,Wo.clearAll(),this.emit("disconnect",Yt.provider.disconnected("User initiated disconnection"))}requestSignerSelection(e){return Afe({communicator:this.communicator,preference:this.preference,metadata:this.metadata,handshakeRequest:e,callback:this.emit.bind(this)})}initSigner(e){return Sfe({signerType:e,metadata:this.metadata,communicator:this.communicator,callback:this.emit.bind(this)})}}function Ffe(t){if(t){if(!["all","smartWalletOnly","eoaOnly"].includes(t.options))throw new Error(`Invalid options: ${t.options}`);if(t.attribution&&t.attribution.auto!==void 0&&t.attribution.dataSuffix!==void 0)throw new Error("Attribution cannot contain both auto and dataSuffix properties")}}function qfe(t){var e;const n={metadata:t.metadata,preference:t.preference};return(e=wde(n))!==null&&e!==void 0?e:new zfe(n)}const Wfe={options:"all"};function dP(t){var e;new Wo("CBWSDK").setItem("VERSION",ib),Cfe();const r={metadata:{appName:t.appName||"Dapp",appLogoUrl:t.appLogoUrl||"",appChainIds:t.appChainIds||[]},preference:Object.assign(Wfe,(e=t.preference)!==null&&e!==void 0?e:{})};Ffe(r.preference);let i=null;return{getProvider:()=>(i||(i=qfe(r)),i)}}function Hfe(t){if(typeof window>"u")return;const e=n=>t(n.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function Vfe(){const t=new Set;let e=[];const n=()=>Hfe(i=>{e.some(({info:s})=>s.uuid===i.info.uuid)||(e=[...e,i],t.forEach(s=>s(e,{added:[i]})))});let r=n();return{_listeners(){return t},clear(){t.forEach(i=>i([],{removed:[...e]})),e=[]},destroy(){this.clear(),t.clear(),r?.()},findProvider({rdns:i}){return e.find(s=>s.info.rdns===i)},getProviders(){return e},reset(){this.clear(),r?.(),r=n()},subscribe(i,{emitImmediately:s}={}){return t.add(i),s&&i(e,{added:e}),()=>t.delete(i)}}}const Gfe=({w:t,h:e})=>{let n=window.screenLeft!==void 0?window.screenLeft:window.screenX,r=window.screenTop!==void 0?window.screenTop:window.screenY,i=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,s=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height;return`toolbar=0,location=0,menubar=0,height=${e},width=${t},popup=1,left=${(i-t)/2/(i/window.screen.availWidth)+n},top=${(s-e)/2/(s/window.screen.availHeight)+r}`},vF=t=>window.open(t?.location,void 0,Gfe({w:440,h:680})),_F="/api/v1/sessions",EF="/api/v1/sessions/logout",Kfe="/api/v1/siwe/init",Yfe="/api/v1/siwe/authenticate",Zfe="/api/v1/siwe/link",Xfe="/api/v1/siwe/link_smart_wallet",Jfe="/api/v1/siwe/unlink",Qfe="/api/v1/siwe/transfer",ehe="/api/v1/siws/init",the="/api/v1/siws/authenticate",nhe="/api/v1/siws/link",rhe="/api/v1/siws/unlink",ihe="/api/v1/siws/transfer",she="/api/v1/farcaster/init",ahe="/api/v1/farcaster/authenticate",ohe="/api/v1/farcaster/link",che="/api/v1/farcaster/status",lhe="/api/v1/farcaster/unlink",uhe="/api/v1/farcaster/transfer",dhe="/api/v1/passwordless/init",fhe="/api/v1/passwordless/authenticate",hhe="/api/v1/passwordless/link",phe="/api/v1/passwordless/unlink",yhe="/api/v1/passwordless/update",mhe="/api/v1/passwordless/transfer",ghe="/api/v1/passwordless_sms/init",bhe="/api/v1/passwordless_sms/link",whe="/api/v1/passwordless_sms/unlink",vhe="/api/v1/passwordless_sms/authenticate",_he="/api/v1/passwordless_sms/update",Ehe="/api/v1/passwordless_sms/transfer",AF="/api/v1/oauth/init",SF="/api/v1/oauth/authenticate",xF="/api/v1/oauth/link",Ahe="/api/v1/oauth/unlink",She="/api/v1/oauth/transfer",z7e="/api/v1/recovery/oauth/init",F7e="/api/v1/recovery/oauth/init_icloud",q7e="/api/v1/recovery/oauth/authenticate",xhe="/api/v1/passkeys/link/init",The="/api/v1/passkeys/authenticate/init",Ihe="/api/v1/passkeys/register/init",Che="/api/v1/passkeys/link",Ohe="/api/v1/passkeys/authenticate",khe="/api/v1/passkeys/register",Rhe="/api/v1/telegram/authenticate",$he="/api/v1/telegram/link",Nhe="/api/v1/telegram/unlink",Phe="/api/v1/telegram/transfer",Dhe="/api/v1/mfa/passwordless_sms/init",Mhe="/api/v1/mfa/passkeys/init",Uhe="/api/v1/users/me/accept_terms",TF="/api/v1/analytics_events",Bhe="/api/v1/custom_jwt_account/authenticate",Lhe="/api/v1/custom_jwt_account/link",jhe="/api/v1/guest/authenticate",zhe="/api/v1/plugins/moonpay_on_ramp/sign",Fhe="/api/v1/funding/coinbase_on_ramp/init",qhe="/api/v1/funding/coinbase_on_ramp/status",Whe="/api/v1/wallets/revoke",Hhe="/api/v1/users/me",Vhe="/api/v1/scan/transaction";function IF(t){return{name:t.metadata?.shortName||t.name||"",universalLink:t.mobile.universal,deepLink:t.mobile.native}}function CF(t,e){let n=IF(e);if(qo.isMobile&&n.universalLink)return G1(n.universalLink,t);if(n.deepLink)return kF(n.deepLink,t);if(n.universalLink)return G1(n.universalLink,t);throw new se(`Unsupported wallet ${e.id}`)}function fP(t,e){let n=IF(e);if(n.universalLink)return G1(n.universalLink,t)}let yC="WALLETCONNECT_DEEPLINK_CHOICE";function Ghe(){try{localStorage.removeItem(yC)}catch{}}function Khe({href:t,name:e}){try{localStorage.setItem(yC,JSON.stringify({href:t,name:e}))}catch{}}function Yhe(){try{localStorage.removeItem(yC)}catch{}}function OF(t){return t.startsWith("http://")||t.startsWith("https://")}function kF(t,e){if(OF(t))return G1(t,e);let n=t;return n.includes("://")||(n=t.replaceAll("/","").replaceAll(":",""),n=`${n}://`),n.endsWith("/")||(n=`${n}/`),{redirect:`${n}wc?uri=${encodeURIComponent(e)}`,href:n}}function G1(t,e){if(!OF(t))return kF(t,e);let n=t;return n.endsWith("/")||(n=`${n}/`),{redirect:`${n}wc?uri=${encodeURIComponent(e)}`,href:n}}function RF(t,e){window.open(t,e,"noreferrer noopener")}const Zhe=({address:t,nonce:e})=>`${window.location.host} wants you to sign in with your Solana account:
${t}

${`You are proving you own ${t}.`}

URI: ${window.location.origin}
Version: 1
Chain ID: mainnet
Nonce: ${e}
Issued At: ${new Date().toISOString()}
Resources:
- https://privy.io`;let $F=Y.createContext({plugins:{current:{}}});const Xhe=({children:t})=>{let e=Y.useRef({});return he.jsx($F.Provider,{value:{plugins:e},children:t})},Jhe=()=>{let{plugins:t}=Y.useContext($F);return Y.useCallback((e=>t.current[e]),[t])},Qhe=Symbol("solana-funding-plugin"),epe=Symbol("solana-ledger-plugin"),mC=(t,{chainType:e,walletIndex:n}={})=>t?.linkedAccounts.filter((r=>!(r.type!=="wallet"||r.walletClientType!=="privy"||n!==void 0&&r.walletIndex!==n||e!==void 0&&r.chainType!==e)))??[],tpe=t=>t.reduce(((e,n)=>!e||e.walletIndex<n.walletIndex?n:e),null),npe=async({user:t,accessToken:e,proxy:n,refreshSessionAndUser:r,privy:i,appConfig:s,recoverEmbeddedWallet:a,setUser:c,walletIndex:u,chainType:d,recoveryMethod:h,recoveryPassword:p,recoveryAccessToken:m})=>{if(u===0)if(s.embeddedWallets.mode==="user-controlled-server-wallets-only")await Q6(i,{request:{chain_type:d}});else if(d==="ethereum"){let v=VI(t);v&&await a({address:v.address}),await n.create({accessToken:e,solanaAddress:v?.address,recoveryMethod:h,recoveryPassword:p,recoveryAccessToken:m})}else{if(d!=="solana")throw Error("Invalid input to create wallet");{let v=Lc(t);v&&await a({address:v.address}),await n.createSolana({accessToken:e,ethereumAddress:v?.address,recoveryMethod:h,recoveryPassword:p,recoveryAccessToken:m})}}else if(s.embeddedWallets.mode==="user-controlled-server-wallets-only")await Q6(i,{request:{chain_type:d}});else{let{entropyId:v,entropyIdVerifier:E}=Va(t);await a(),await n.addWallet({accessToken:e,entropyId:v,entropyIdVerifier:E,chainType:d,hdWalletIndex:u})}let g=await r(),b=mC(g,{chainType:d,walletIndex:u})[0];return c(g),{user:g,account:b}};let hP=async({accessToken:t,appConfig:e,privy:n,emitPrivyEvent:r,proxy:i,refreshSessionAndUser:s,recoverEmbeddedWallet:a,user:c,walletIndex:u,setModalData:d,openModal:h,chainType:p,setUser:m})=>{if(u<0)throw r("createWallet","onError",Ae.EMBEDDED_WALLET_CREATE_ERROR),Error(`A negative walletIndex (${u}) is invalid.`);let g=d0(c);if(u>0&&!g)throw r("createWallet","onError",Ae.EMBEDDED_WALLET_NOT_FOUND),Error("Must have an existing embedded wallet to create an additional wallet.");if(e.embeddedWallets.requireUserOwnedRecoveryOnCreate&&e.embeddedWallets.mode==="user-controlled-server-wallets-only")throw r("createWallet","onError",Ae.EMBEDDED_WALLET_CREATE_ERROR),Error("User owned recovery not yet supported for this app.");if(!g&&e.embeddedWallets.requireUserOwnedRecoveryOnCreate)return await pP({emitPrivyEvent:r,setModalData:d,openModal:h,chainType:p});let b=mC(c,{chainType:p,walletIndex:u})[0];if(b)return{user:c,account:b};if(u===0&&!i)return pP({emitPrivyEvent:r,setModalData:d,openModal:h,chainType:p});if(!i)throw r("createWallet","onError",Ae.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to connect to wallet proxy");return npe({appConfig:e,walletIndex:u,chainType:p,user:c,accessToken:t,proxy:i,refreshSessionAndUser:s,privy:n,recoverEmbeddedWallet:a,setUser:m})},pP=async({emitPrivyEvent:t,setModalData:e,openModal:n,chainType:r})=>new Promise(((i,s)=>{e({createWallet:{onSuccess:({user:a,account:c})=>{t("createWallet","onSuccess",{wallet:c}),i({user:a,account:c})},onFailure:a=>{t("createWallet","onError",Ae.UNKNOWN_EMBEDDED_WALLET_ERROR),s(a)},callAuthOnSuccessOnClose:!1,shouldCreateEth:r==="ethereum",shouldCreateSol:r==="solana"}}),n("EmbeddedWalletOnAccountCreateScreen")}));const rpe=()=>{let t=Sa(),e=lE(),{setModalData:n}=Ru(),{initializeWalletProxy:r,recoverEmbeddedWallet:i,setUser:s,openModal:a,refreshSessionAndUser:c,privy:u,client:d}=xa();return{create:async({chainType:h,options:p,latestUser:m})=>{let g=m;if(g||(g=await c()),!g)throw e("createWallet","onError",Ae.MUST_BE_AUTHENTICATED),Error("User must be authenticated before creating a Privy wallet");return await(async({appConfig:b,getAccessToken:v,initializeWalletProxy:E,user:O,privy:k,emitPrivyEvent:S,recoverEmbeddedWallet:A,setModalData:C,openModal:I,setUser:N,options:z,timeoutDuration:L,refreshSessionAndUser:B,chainType:H})=>{let[D,F]=await Promise.all([E(L),v()]);if(!F||!O)throw S("createWallet","onError",Ae.MUST_BE_AUTHENTICATED),Error("User must be authenticated before creating a Privy wallet");if(!D&&b.customAuth?.enabled)throw S("createWallet","onError",Ae.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to connect to wallet proxy");if(z&&"walletIndex"in z&&typeof z.walletIndex=="number"){if(b.embeddedWallets.mode==="user-controlled-server-wallets-only")throw S("createWallet","onError",Ae.INVALID_DATA),Error("Invalid input, use `createAdditional` instead of `walletIndex` to create additional wallets.");return hP({accessToken:F,appConfig:b,privy:k,emitPrivyEvent:S,openModal:I,proxy:D,refreshSessionAndUser:B,recoverEmbeddedWallet:A,setModalData:C,user:O,walletIndex:z.walletIndex,chainType:H,setUser:N})}let K=z&&"createAdditional"in z&&z.createAdditional,T=mC(O,{chainType:H});if(T[0]&&!K)throw S("createWallet","onError",Ae.EMBEDDED_WALLET_ALREADY_EXISTS),Error("User already has an embedded wallet.");return hP({accessToken:F,appConfig:b,privy:k,emitPrivyEvent:S,openModal:I,proxy:D,recoverEmbeddedWallet:A,setModalData:C,user:O,walletIndex:(tpe(T)?.walletIndex??-1)+1,chainType:H,refreshSessionAndUser:B,setUser:N})})({appConfig:t,privy:u,getAccessToken:()=>d.getAccessToken(),refreshSessionAndUser:c,initializeWalletProxy:r,user:g,emitPrivyEvent:e,recoverEmbeddedWallet:i,setModalData:n,openModal:a,setUser:s,options:p,timeoutDuration:mce,chainType:h})}}};function ipe(t){let{create:e}=rpe();return cE("createWallet",t),{createWallet:async n=>{n&&"target"in n&&n&&(n=void 0);let{account:r}=await e({chainType:"ethereum",options:n});return r}}}const spe=async({emitPrivyEvent:t,getAccessToken:e,initializeWalletProxy:n,refreshSessionAndUser:r,user:i,appConfig:s},{privateKey:a,chainType:c,additionalSigners:u})=>{if(!i)throw t("linkAccount","onError",Ae.MUST_BE_AUTHENTICATED,{linkMethod:"siwe"}),new se("User must be authenticated before linking an account.");let d=s.embeddedWallets.mode==="user-controlled-server-wallets-only"?"tee":"on-device";if(u&&d==="on-device")throw new se("Specifying additionalSigners is only supported for TEE execution and this app uses On-device execution. Learn more https://docs.privy.io/recipes/tee-wallet-migration-guide");let[h,p]=await Promise.all([e(),n(15e3)]);if(!p||!h)throw t("linkAccount","onError",Ae.MUST_BE_AUTHENTICATED,{linkMethod:"siwe"}),new se("User must be authenticated before linking an account.");let{address:m}=await p.importWallet({privateKey:a,accessToken:h,chainType:c,mode:d,additionalSigners:u}),g=await r(),b=YT(g),v=b?.find((E=>E.address===m));if(!v)throw t("createWallet","onError",Ae.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to import wallet");return t("createWallet","onSuccess",{wallet:v}),v},ape=()=>{let{user:t}=tb(),{client:e,refreshSessionAndUser:n,initializeWalletProxy:r}=xa(),i=lE(),s=Sa();return{importWallet:Y.useCallback((({privateKey:a,additionalSigners:c})=>spe({getAccessToken:()=>e.getAccessToken(),user:t,initializeWalletProxy:r,refreshSessionAndUser:n,emitPrivyEvent:i,appConfig:s},{privateKey:a,chainType:"ethereum",additionalSigners:c})),[t,e,n,r,i,s])}},Tp=()=>{let{importWallet:t}=ape(),{createWallet:e}=ipe();return{...Y.useContext(qp),importWallet:t,createWallet:e}};function gC(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function ope(t,...e){if(!gC(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function NF(t,e){return Array.isArray(e)?e.length===0?!0:t?e.every(n=>typeof n=="string"):e.every(n=>Number.isSafeInteger(n)):!1}function g0(t,e){if(typeof e!="string")throw new Error(`${t}: string expected`);return!0}function sb(t){if(!Number.isSafeInteger(t))throw new Error(`invalid integer: ${t}`)}function K1(t){if(!Array.isArray(t))throw new Error("array expected")}function Y1(t,e){if(!NF(!0,e))throw new Error(`${t}: array of strings expected`)}function PF(t,e){if(!NF(!1,e))throw new Error(`${t}: array of numbers expected`)}function bC(...t){const e=s=>s,n=(s,a)=>c=>s(a(c)),r=t.map(s=>s.encode).reduceRight(n,e),i=t.map(s=>s.decode).reduce(n,e);return{encode:r,decode:i}}function wC(t){const e=typeof t=="string"?t.split(""):t,n=e.length;Y1("alphabet",e);const r=new Map(e.map((i,s)=>[i,s]));return{encode:i=>(K1(i),i.map(s=>{if(!Number.isSafeInteger(s)||s<0||s>=n)throw new Error(`alphabet.encode: digit index outside alphabet "${s}". Allowed: ${t}`);return e[s]})),decode:i=>(K1(i),i.map(s=>{g0("alphabet.decode",s);const a=r.get(s);if(a===void 0)throw new Error(`Unknown letter: "${s}". Allowed: ${t}`);return a}))}}function vC(t=""){return g0("join",t),{encode:e=>(Y1("join.decode",e),e.join(t)),decode:e=>(g0("join.decode",e),e.split(t))}}function DF(t,e="="){return sb(t),g0("padding",e),{encode(n){for(Y1("padding.encode",n);n.length*t%8;)n.push(e);return n},decode(n){Y1("padding.decode",n);let r=n.length;if(r*t%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;r>0&&n[r-1]===e;r--)if((r-1)*t%8===0)throw new Error("padding: invalid, string has too much padding");return n.slice(0,r)}}}function yP(t,e,n){if(e<2)throw new Error(`convertRadix: invalid from=${e}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: invalid to=${n}, base cannot be less than 2`);if(K1(t),!t.length)return[];let r=0;const i=[],s=Array.from(t,c=>{if(sb(c),c<0||c>=e)throw new Error(`invalid integer: ${c}`);return c}),a=s.length;for(;;){let c=0,u=!0;for(let d=r;d<a;d++){const h=s[d],p=e*c,m=p+h;if(!Number.isSafeInteger(m)||p/e!==c||m-h!==p)throw new Error("convertRadix: carry overflow");const g=m/n;c=m%n;const b=Math.floor(g);if(s[d]=b,!Number.isSafeInteger(b)||b*n+c!==m)throw new Error("convertRadix: carry overflow");if(u)b?u=!1:r=d;else continue}if(i.push(c),u)break}for(let c=0;c<t.length-1&&t[c]===0;c++)i.push(0);return i.reverse()}const MF=(t,e)=>e===0?t:MF(e,t%e),Z1=(t,e)=>t+(e-MF(t,e)),fx=(()=>{let t=[];for(let e=0;e<40;e++)t.push(2**e);return t})();function mP(t,e,n,r){if(K1(t),e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(Z1(e,n)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${n} carryBits=${Z1(e,n)}`);let i=0,s=0;const a=fx[e],c=fx[n]-1,u=[];for(const d of t){if(sb(d),d>=a)throw new Error(`convertRadix2: invalid data word=${d} from=${e}`);if(i=i<<e|d,s+e>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${e}`);for(s+=e;s>=n;s-=n)u.push((i>>s-n&c)>>>0);const h=fx[s];if(h===void 0)throw new Error("invalid carry");i&=h-1}if(i=i<<n-s&c,!r&&s>=e)throw new Error("Excess padding");if(!r&&i>0)throw new Error(`Non-zero padding: ${i}`);return r&&s>0&&u.push(i>>>0),u}function cpe(t){sb(t);const e=2**8;return{encode:n=>{if(!gC(n))throw new Error("radix.encode input should be Uint8Array");return yP(Array.from(n),e,t)},decode:n=>(PF("radix.decode",n),Uint8Array.from(yP(n,t,e)))}}function UF(t,e=!1){if(sb(t),t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(Z1(8,t)>32||Z1(t,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!gC(n))throw new Error("radix2.encode input should be Uint8Array");return mP(Array.from(n),8,t,!e)},decode:n=>(PF("radix2.decode",n),Uint8Array.from(mP(n,t,8,e)))}}const lpe=bC(UF(5),wC("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),DF(5),vC("")),upe=typeof Uint8Array.from([]).toBase64=="function"&&typeof Uint8Array.fromBase64=="function",dpe=(t,e)=>{g0("base64",t);const n=/^[A-Za-z0-9=+/]+$/,r="base64";if(t.length>0&&!n.test(t))throw new Error("invalid base64");return Uint8Array.fromBase64(t,{alphabet:r,lastChunkHandling:"strict"})},Vd=upe?{encode(t){return ope(t),t.toBase64()},decode(t){return dpe(t)}}:bC(UF(6),wC("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),DF(6),vC("")),fpe=t=>bC(cpe(58),wC(t),vC("")),cl=fpe("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var hpe=fB(),ppe=Object.defineProperty,ype=(t,e,n)=>e in t?ppe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,hx=(t,e,n)=>(ype(t,typeof e!="symbol"?e+"":e,n),n);let mpe=class{constructor(){hx(this,"current",this.detect()),hx(this,"handoffState","pending"),hx(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Uo=new mpe;function ab(t){var e;return Uo.isServer?null:t==null?document:(e=t?.ownerDocument)!=null?e:document}function X1(t){var e,n;return Uo.isServer?null:t==null?document:(n=(e=t?.getRootNode)==null?void 0:e.call(t))!=null?n:document}function _C(t){var e,n;return(n=(e=X1(t))==null?void 0:e.activeElement)!=null?n:null}function gpe(t){return _C(t)===t}function pE(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function oo(){let t=[],e={addEventListener(n,r,i,s){return n.addEventListener(r,i,s),e.add(()=>n.removeEventListener(r,i,s))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return e.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return pE(()=>{r.current&&n[0]()}),e.add(()=>{r.current=!1})},style(n,r,i){let s=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:s})})},group(n){let r=oo();return n(r),this.add(()=>r.dispose())},add(n){return t.includes(n)||t.push(n),()=>{let r=t.indexOf(n);if(r>=0)for(let i of t.splice(r,1))i()}},dispose(){for(let n of t.splice(0))n()}};return e}function yE(){let[t]=Y.useState(oo);return Y.useEffect(()=>()=>t.dispose(),[t]),t}let os=(t,e)=>{Uo.isServer?Y.useEffect(t,e):Y.useLayoutEffect(t,e)};function Af(t){let e=Y.useRef(t);return os(()=>{e.current=t},[t]),e}let Cn=function(t){let e=Af(t);return et.useCallback((...n)=>e.current(...n),[e])};function ob(t){return Y.useMemo(()=>t,Object.values(t))}let bpe=Y.createContext(void 0);function wpe(){return Y.useContext(bpe)}function b5(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function ll(t,e,...n){if(t in e){let i=e[t];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,ll),r}var J1=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(J1||{}),Su=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(Su||{});function Ta(){let t=_pe();return Y.useCallback(e=>vpe({mergeRefs:t,...e}),[t])}function vpe({ourProps:t,theirProps:e,slot:n,defaultTag:r,features:i,visible:s=!0,name:a,mergeRefs:c}){c=c??Epe;let u=BF(e,t);if(s)return cv(u,n,r,a,c);let d=i??0;if(d&2){let{static:h=!1,...p}=u;if(h)return cv(p,n,r,a,c)}if(d&1){let{unmount:h=!0,...p}=u;return ll(h?0:1,{0(){return null},1(){return cv({...p,hidden:!0,style:{display:"none"}},n,r,a,c)}})}return cv(u,n,r,a,c)}function cv(t,e={},n,r,i){let{as:s=n,children:a,refName:c="ref",...u}=px(t,["unmount","static"]),d=t.ref!==void 0?{[c]:t.ref}:{},h=typeof a=="function"?a(e):a;"className"in u&&u.className&&typeof u.className=="function"&&(u.className=u.className(e)),u["aria-labelledby"]&&u["aria-labelledby"]===u.id&&(u["aria-labelledby"]=void 0);let p={};if(e){let m=!1,g=[];for(let[b,v]of Object.entries(e))typeof v=="boolean"&&(m=!0),v===!0&&g.push(b.replace(/([A-Z])/g,E=>`-${E.toLowerCase()}`));if(m){p["data-headlessui-state"]=g.join(" ");for(let b of g)p[`data-${b}`]=""}}if(Og(s)&&(Object.keys(Ad(u)).length>0||Object.keys(Ad(p)).length>0))if(!Y.isValidElement(h)||Array.isArray(h)&&h.length>1||Spe(h)){if(Object.keys(Ad(u)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Ad(u)).concat(Object.keys(Ad(p))).map(m=>`  - ${m}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(m=>`  - ${m}`).join(`
`)].join(`
`))}else{let m=h.props,g=m?.className,b=typeof g=="function"?(...O)=>b5(g(...O),u.className):b5(g,u.className),v=b?{className:b}:{},E=BF(h.props,Ad(px(u,["ref"])));for(let O in p)O in E&&delete p[O];return Y.cloneElement(h,Object.assign({},E,p,d,{ref:i(Ape(h),d.ref)},v))}return Y.createElement(s,Object.assign({},px(u,["ref"]),!Og(s)&&d,!Og(s)&&p),h)}function _pe(){let t=Y.useRef([]),e=Y.useCallback(n=>{for(let r of t.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return t.current=n,e}}function Epe(...t){return t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function BF(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];if(e.disabled||e["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[i=>{var s;return(s=i?.preventDefault)==null?void 0:s.call(i)}]);for(let r in n)Object.assign(e,{[r](i,...s){let a=n[r];for(let c of a){if((i instanceof Event||i?.nativeEvent instanceof Event)&&i.defaultPrevented)return;c(i,...s)}}});return e}function H7e(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];for(let r in n)Object.assign(e,{[r](...i){let s=n[r];for(let a of s)a?.(...i)}});return e}function fs(t){var e;return Object.assign(Y.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function Ad(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function px(t,e=[]){let n=Object.assign({},t);for(let r of e)r in n&&delete n[r];return n}function Ape(t){return et.version.split(".")[0]>="19"?t.props.ref:t.ref}function Og(t){return t===Y.Fragment||t===Symbol.for("react.fragment")}function Spe(t){return Og(t.type)}let xpe="span";var Q1=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(Q1||{});function Tpe(t,e){var n;let{features:r=1,...i}=t,s={ref:e,"aria-hidden":(r&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return Ta()({ourProps:s,theirProps:i,slot:{},defaultTag:xpe,name:"Hidden"})}let w5=fs(Tpe);function Ipe(t){return typeof t!="object"||t===null?!1:"nodeType"in t}function tl(t){return Ipe(t)&&"tagName"in t}function Ho(t){return tl(t)&&"accessKey"in t}function Yc(t){return tl(t)&&"tabIndex"in t}function Cpe(t){return tl(t)&&"style"in t}function Ope(t){return Ho(t)&&t.nodeName==="IFRAME"}function kpe(t){return Ho(t)&&t.nodeName==="INPUT"}function V7e(t){return Ho(t)&&t.nodeName==="LABEL"}function G7e(t){return Ho(t)&&t.nodeName==="FIELDSET"}function K7e(t){return Ho(t)&&t.nodeName==="LEGEND"}function Y7e(t){return tl(t)?t.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}let LF=Symbol();function Rpe(t,e=!0){return Object.assign(t,{[LF]:e})}function Xo(...t){let e=Y.useRef(t);Y.useEffect(()=>{e.current=t},[t]);let n=Cn(r=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return t.every(r=>r==null||r?.[LF])?void 0:n}let EC=Y.createContext(null);EC.displayName="DescriptionContext";function jF(){let t=Y.useContext(EC);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,jF),e}return t}function $pe(){let[t,e]=Y.useState([]);return[t.length>0?t.join(" "):void 0,Y.useMemo(()=>function(n){let r=Cn(s=>(e(a=>[...a,s]),()=>e(a=>{let c=a.slice(),u=c.indexOf(s);return u!==-1&&c.splice(u,1),c}))),i=Y.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return et.createElement(EC.Provider,{value:i},n.children)},[e])]}let Npe="p";function Ppe(t,e){let n=Y.useId(),r=wpe(),{id:i=`headlessui-description-${n}`,...s}=t,a=jF(),c=Xo(e);os(()=>a.register(i),[i,a.register]);let u=ob({...a.slot,disabled:r||!1}),d={ref:c,...a.props,id:i};return Ta()({ourProps:d,theirProps:s,slot:u,defaultTag:Npe,name:a.name||"Description"})}let Dpe=fs(Ppe),Mpe=Object.assign(Dpe,{});var zF=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(zF||{});let Upe=Y.createContext(()=>{});function Bpe({value:t,children:e}){return et.createElement(Upe.Provider,{value:t},e)}let FF=class extends Map{constructor(e){super(),this.factory=e}get(e){let n=super.get(e);return n===void 0&&(n=this.factory(e),this.set(e,n)),n}};var Lpe=Object.defineProperty,jpe=(t,e,n)=>e in t?Lpe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,zpe=(t,e,n)=>(jpe(t,e+"",n),n),qF=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},ta=(t,e,n)=>(qF(t,e,"read from private field"),n?n.call(t):e.get(t)),yx=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},gP=(t,e,n,r)=>(qF(t,e,"write to private field"),e.set(t,n),n),xo,pg,yg;let Fpe=class{constructor(e){yx(this,xo,{}),yx(this,pg,new FF(()=>new Set)),yx(this,yg,new Set),zpe(this,"disposables",oo()),gP(this,xo,e),Uo.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return ta(this,xo)}subscribe(e,n){if(Uo.isServer)return()=>{};let r={selector:e,callback:n,current:e(ta(this,xo))};return ta(this,yg).add(r),this.disposables.add(()=>{ta(this,yg).delete(r)})}on(e,n){return Uo.isServer?()=>{}:(ta(this,pg).get(e).add(n),this.disposables.add(()=>{ta(this,pg).get(e).delete(n)}))}send(e){let n=this.reduce(ta(this,xo),e);if(n!==ta(this,xo)){gP(this,xo,n);for(let r of ta(this,yg)){let i=r.selector(ta(this,xo));WF(r.current,i)||(r.current=i,r.callback(i))}for(let r of ta(this,pg).get(e.type))r(ta(this,xo),e)}}};xo=new WeakMap,pg=new WeakMap,yg=new WeakMap;function WF(t,e){return Object.is(t,e)?!0:typeof t!="object"||t===null||typeof e!="object"||e===null?!1:Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:mx(t[Symbol.iterator](),e[Symbol.iterator]()):t instanceof Map&&e instanceof Map||t instanceof Set&&e instanceof Set?t.size!==e.size?!1:mx(t.entries(),e.entries()):bP(t)&&bP(e)?mx(Object.entries(t)[Symbol.iterator](),Object.entries(e)[Symbol.iterator]()):!1}function mx(t,e){do{let n=t.next(),r=e.next();if(n.done&&r.done)return!0;if(n.done||r.done||!Object.is(n.value,r.value))return!1}while(!0)}function bP(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;let e=Object.getPrototypeOf(t);return e===null||Object.getPrototypeOf(e)===null}function J7e(t){let[e,n]=t(),r=oo();return(...i)=>{e(...i),r.dispose(),r.microTask(n)}}var qpe=Object.defineProperty,Wpe=(t,e,n)=>e in t?qpe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,wP=(t,e,n)=>(Wpe(t,typeof e!="symbol"?e+"":e,n),n),Hpe=(t=>(t[t.Push=0]="Push",t[t.Pop=1]="Pop",t))(Hpe||{});let Vpe={0(t,e){let n=e.id,r=t.stack,i=t.stack.indexOf(n);if(i!==-1){let s=t.stack.slice();return s.splice(i,1),s.push(n),r=s,{...t,stack:r}}return{...t,stack:[...t.stack,n]}},1(t,e){let n=e.id,r=t.stack.indexOf(n);if(r===-1)return t;let i=t.stack.slice();return i.splice(r,1),{...t,stack:i}}},Gpe=class HF extends Fpe{constructor(){super(...arguments),wP(this,"actions",{push:e=>this.send({type:0,id:e}),pop:e=>this.send({type:1,id:e})}),wP(this,"selectors",{isTop:(e,n)=>e.stack[e.stack.length-1]===n,inStack:(e,n)=>e.stack.includes(n)})}static new(){return new HF({stack:[]})}reduce(e,n){return ll(n.type,Vpe,e,n)}};const VF=new FF(()=>Gpe.new());var gx={exports:{}},bx={};var vP;function Kpe(){if(vP)return bx;vP=1;var t=$0();function e(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,s=t.useEffect,a=t.useMemo,c=t.useDebugValue;return bx.useSyncExternalStoreWithSelector=function(u,d,h,p,m){var g=i(null);if(g.current===null){var b={hasValue:!1,value:null};g.current=b}else b=g.current;g=a(function(){function E(C){if(!O){if(O=!0,k=C,C=p(C),m!==void 0&&b.hasValue){var I=b.value;if(m(I,C))return S=I}return S=C}if(I=S,n(k,C))return I;var N=p(C);return m!==void 0&&m(I,N)?(k=C,I):(k=C,S=N)}var O=!1,k,S,A=h===void 0?null:h;return[function(){return E(d())},A===null?void 0:function(){return E(A())}]},[d,h,p,m]);var v=r(u,g[0],g[1]);return s(function(){b.hasValue=!0,b.value=v},[v]),c(v),v},bx}var _P;function Ype(){return _P||(_P=1,gx.exports=Kpe()),gx.exports}var Zpe=Ype();function GF(t,e,n=WF){return Zpe.useSyncExternalStoreWithSelector(Cn(r=>t.subscribe(Xpe,r)),Cn(()=>t.state),Cn(()=>t.state),Cn(e),n)}function Xpe(t){return t}function cb(t,e){let n=Y.useId(),r=VF.get(e),[i,s]=GF(r,Y.useCallback(a=>[r.selectors.isTop(a,n),r.selectors.inStack(a,n)],[r,n]));return os(()=>{if(t)return r.actions.push(n),()=>r.actions.pop(n)},[r,t,n]),t?s?i:!0:!1}let v5=new Map,kg=new Map;function EP(t){var e;let n=(e=kg.get(t))!=null?e:0;return kg.set(t,n+1),n!==0?()=>AP(t):(v5.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),t.setAttribute("aria-hidden","true"),t.inert=!0,()=>AP(t))}function AP(t){var e;let n=(e=kg.get(t))!=null?e:1;if(n===1?kg.delete(t):kg.set(t,n-1),n!==1)return;let r=v5.get(t);r&&(r["aria-hidden"]===null?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",r["aria-hidden"]),t.inert=r.inert,v5.delete(t))}function Jpe(t,{allowed:e,disallowed:n}={}){let r=cb(t,"inert-others");os(()=>{var i,s;if(!r)return;let a=oo();for(let u of(i=n?.())!=null?i:[])u&&a.add(EP(u));let c=(s=e?.())!=null?s:[];for(let u of c){if(!u)continue;let d=ab(u);if(!d)continue;let h=u.parentElement;for(;h&&h!==d.body;){for(let p of h.children)c.some(m=>p.contains(m))||a.add(EP(p));h=h.parentElement}}return a.dispose},[r,e,n])}function Qpe(t,e,n){let r=Af(i=>{let s=i.getBoundingClientRect();s.x===0&&s.y===0&&s.width===0&&s.height===0&&n()});Y.useEffect(()=>{if(!t)return;let i=e===null?null:Ho(e)?e:e.current;if(!i)return;let s=oo();if(typeof ResizeObserver<"u"){let a=new ResizeObserver(()=>r.current(i));a.observe(i),s.add(()=>a.disconnect())}if(typeof IntersectionObserver<"u"){let a=new IntersectionObserver(()=>r.current(i));a.observe(i),s.add(()=>a.disconnect())}return()=>s.dispose()},[e,r,t])}let e_=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(","),eye=["[data-autofocus]"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var Vc=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t[t.AutoFocus=64]="AutoFocus",t))(Vc||{}),_5=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(_5||{}),tye=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(tye||{});function KF(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(e_)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function nye(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(eye)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var YF=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(YF||{});function ZF(t,e=0){var n;return t===((n=ab(t))==null?void 0:n.body)?!1:ll(e,{0(){return t.matches(e_)},1(){let r=t;for(;r!==null;){if(r.matches(e_))return!0;r=r.parentElement}return!1}})}function Q7e(t){oo().nextFrame(()=>{let e=_C(t);e&&Yc(e)&&!ZF(e,0)&&Bo(t)})}var rye=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(rye||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Bo(t){t?.focus({preventScroll:!0})}let iye=["textarea","input"].join(",");function sye(t){var e,n;return(n=(e=t?.matches)==null?void 0:e.call(t,iye))!=null?n:!1}function aye(t,e=n=>n){return t.slice().sort((n,r)=>{let i=e(n),s=e(r);if(i===null||s===null)return 0;let a=i.compareDocumentPosition(s);return a&Node.DOCUMENT_POSITION_FOLLOWING?-1:a&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function eje(t,e,n=t===null?document.body:X1(t)){return tp(KF(n),e,{relativeTo:t})}function tp(t,e,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let s=Array.isArray(t)?t.length>0?X1(t[0]):document:X1(t),a=Array.isArray(t)?n?aye(t):t:e&64?nye(t):KF(t);i.length>0&&a.length>1&&(a=a.filter(g=>!i.some(b=>b!=null&&"current"in b?b?.current===g:b===g))),r=r??s?.activeElement;let c=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,a.indexOf(r))-1;if(e&4)return Math.max(0,a.indexOf(r))+1;if(e&8)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=e&32?{preventScroll:!0}:{},h=0,p=a.length,m;do{if(h>=p||h+p<=0)return 0;let g=u+h;if(e&16)g=(g+p)%p;else{if(g<0)return 3;if(g>=p)return 1}m=a[g],m?.focus(d),h+=c}while(m!==_C(m));return e&6&&sye(m)&&m.select(),2}function XF(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function oye(){return/Android/gi.test(window.navigator.userAgent)}function SP(){return XF()||oye()}function lv(t,e,n,r){let i=Af(n);Y.useEffect(()=>{if(!t)return;function s(a){i.current(a)}return document.addEventListener(e,s,r),()=>document.removeEventListener(e,s,r)},[t,e,r])}function JF(t,e,n,r){let i=Af(n);Y.useEffect(()=>{if(!t)return;function s(a){i.current(a)}return window.addEventListener(e,s,r),()=>window.removeEventListener(e,s,r)},[t,e,r])}const xP=30;function cye(t,e,n){let r=Af(n),i=Y.useCallback(function(c,u){if(c.defaultPrevented)return;let d=u(c);if(d===null||!d.getRootNode().contains(d)||!d.isConnected)return;let h=(function p(m){return typeof m=="function"?p(m()):Array.isArray(m)||m instanceof Set?m:[m]})(e);for(let p of h)if(p!==null&&(p.contains(d)||c.composed&&c.composedPath().includes(p)))return;return!ZF(d,YF.Loose)&&d.tabIndex!==-1&&c.preventDefault(),r.current(c,d)},[r,e]),s=Y.useRef(null);lv(t,"pointerdown",c=>{var u,d;SP()||(s.current=((d=(u=c.composedPath)==null?void 0:u.call(c))==null?void 0:d[0])||c.target)},!0),lv(t,"pointerup",c=>{if(SP()||!s.current)return;let u=s.current;return s.current=null,i(c,()=>u)},!0);let a=Y.useRef({x:0,y:0});lv(t,"touchstart",c=>{a.current.x=c.touches[0].clientX,a.current.y=c.touches[0].clientY},!0),lv(t,"touchend",c=>{let u={x:c.changedTouches[0].clientX,y:c.changedTouches[0].clientY};if(!(Math.abs(u.x-a.current.x)>=xP||Math.abs(u.y-a.current.y)>=xP))return i(c,()=>Yc(c.target)?c.target:null)},!0),JF(t,"blur",c=>i(c,()=>Ope(window.document.activeElement)?window.document.activeElement:null),!0)}function AC(...t){return Y.useMemo(()=>ab(...t),[...t])}function QF(t,e,n,r){let i=Af(n);Y.useEffect(()=>{t=t??window;function s(a){i.current(a)}return t.addEventListener(e,s,r),()=>t.removeEventListener(e,s,r)},[t,e,r])}function lye(t){return Y.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getSnapshot)}function uye(t,e){let n=t(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...s){let a=e[i].call(n,...s);a&&(n=a,r.forEach(c=>c()))}}}function dye(){let t;return{before({doc:e}){var n;let r=e.documentElement,i=(n=e.defaultView)!=null?n:window;t=Math.max(0,i.innerWidth-r.clientWidth)},after({doc:e,d:n}){let r=e.documentElement,i=Math.max(0,r.clientWidth-r.offsetWidth),s=Math.max(0,t-i);n.style(r,"paddingRight",`${s}px`)}}}function fye(){return XF()?{before({doc:t,d:e,meta:n}){function r(i){for(let s of n().containers)for(let a of s())if(a.contains(i))return!0;return!1}e.microTask(()=>{var i;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let c=oo();c.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>c.dispose()))}let s=(i=window.scrollY)!=null?i:window.pageYOffset,a=null;e.addEventListener(t,"click",c=>{if(Yc(c.target))try{let u=c.target.closest("a");if(!u)return;let{hash:d}=new URL(u.href),h=t.querySelector(d);Yc(h)&&!r(h)&&(a=h)}catch{}},!0),e.group(c=>{e.addEventListener(t,"touchstart",u=>{if(c.dispose(),Yc(u.target)&&Cpe(u.target))if(r(u.target)){let d=u.target;for(;d.parentElement&&r(d.parentElement);)d=d.parentElement;c.style(d,"overscrollBehavior","contain")}else c.style(u.target,"touchAction","none")})}),e.addEventListener(t,"touchmove",c=>{if(Yc(c.target)){if(kpe(c.target))return;if(r(c.target)){let u=c.target;for(;u.parentElement&&u.dataset.headlessuiPortal!==""&&!(u.scrollHeight>u.clientHeight||u.scrollWidth>u.clientWidth);)u=u.parentElement;u.dataset.headlessuiPortal===""&&c.preventDefault()}else c.preventDefault()}},{passive:!1}),e.add(()=>{var c;let u=(c=window.scrollY)!=null?c:window.pageYOffset;s!==u&&window.scrollTo(0,s),a&&a.isConnected&&(a.scrollIntoView({block:"nearest"}),a=null)})})}}:{}}function hye(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function TP(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let Dd=uye(()=>new Map,{PUSH(t,e){var n;let r=(n=this.get(t))!=null?n:{doc:t,count:0,d:oo(),meta:new Set,computedMeta:{}};return r.count++,r.meta.add(e),r.computedMeta=TP(r.meta),this.set(t,r),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e),n.computedMeta=TP(n.meta)),this},SCROLL_PREVENT(t){let e={doc:t.doc,d:t.d,meta(){return t.computedMeta}},n=[fye(),dye(),hye()];n.forEach(({before:r})=>r?.(e)),n.forEach(({after:r})=>r?.(e))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});Dd.subscribe(()=>{let t=Dd.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let r=e.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&Dd.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Dd.dispatch("TEARDOWN",n)}});function pye(t,e,n=()=>({containers:[]})){let r=lye(Dd),i=e?r.get(e):void 0,s=i?i.count>0:!1;return os(()=>{if(!(!e||!t))return Dd.dispatch("PUSH",e,n),()=>Dd.dispatch("POP",e,n)},[t,e]),s}function yye(t,e,n=()=>[document.body]){let r=cb(t,"scroll-lock");pye(r,e,i=>{var s;return{containers:[...(s=i.containers)!=null?s:[],n]}})}function mye(t=0){let[e,n]=Y.useState(t),r=Y.useCallback(u=>n(u),[]),i=Y.useCallback(u=>n(d=>d|u),[]),s=Y.useCallback(u=>(e&u)===u,[e]),a=Y.useCallback(u=>n(d=>d&~u),[]),c=Y.useCallback(u=>n(d=>d^u),[]);return{flags:e,setFlag:r,addFlag:i,hasFlag:s,removeFlag:a,toggleFlag:c}}var gye={},IP,CP;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((IP=process==null?void 0:gye)==null?void 0:IP.NODE_ENV)==="test"&&typeof((CP=Element?.prototype)==null?void 0:CP.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var bye=(t=>(t[t.None=0]="None",t[t.Closed=1]="Closed",t[t.Enter=2]="Enter",t[t.Leave=4]="Leave",t))(bye||{});function wye(t){let e={};for(let n in t)t[n]===!0&&(e[`data-${n}`]="");return e}function vye(t,e,n,r){let[i,s]=Y.useState(n),{hasFlag:a,addFlag:c,removeFlag:u}=mye(t&&i?3:0),d=Y.useRef(!1),h=Y.useRef(!1),p=yE();return os(()=>{var m;if(t){if(n&&s(!0),!e){n&&c(3);return}return(m=r?.start)==null||m.call(r,n),_ye(e,{inFlight:d,prepare(){h.current?h.current=!1:h.current=d.current,d.current=!0,!h.current&&(n?(c(3),u(4)):(c(4),u(2)))},run(){h.current?n?(u(3),c(4)):(u(4),c(3)):n?u(1):c(1)},done(){var g;h.current&&Sye(e)||(d.current=!1,u(7),n||s(!1),(g=r?.end)==null||g.call(r,n))}})}},[t,n,e,p]),t?[i,{closed:a(1),enter:a(2),leave:a(4),transition:a(2)||a(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function _ye(t,{prepare:e,run:n,done:r,inFlight:i}){let s=oo();return Aye(t,{prepare:e,inFlight:i}),s.nextFrame(()=>{n(),s.requestAnimationFrame(()=>{s.add(Eye(t,r))})}),s.dispose}function Eye(t,e){var n,r;let i=oo();if(!t)return i.dispose;let s=!1;i.add(()=>{s=!0});let a=(r=(n=t.getAnimations)==null?void 0:n.call(t).filter(c=>c instanceof CSSTransition))!=null?r:[];return a.length===0?(e(),i.dispose):(Promise.allSettled(a.map(c=>c.finished)).then(()=>{s||e()}),i.dispose)}function Aye(t,{inFlight:e,prepare:n}){if(e!=null&&e.current){n();return}let r=t.style.transition;t.style.transition="none",n(),t.offsetHeight,t.style.transition=r}function Sye(t){var e,n;return((n=(e=t.getAnimations)==null?void 0:e.call(t))!=null?n:[]).some(r=>r instanceof CSSTransition&&r.playState!=="finished")}function SC(t,e){let n=Y.useRef([]),r=Cn(t);Y.useEffect(()=>{let i=[...n.current];for(let[s,a]of e.entries())if(n.current[s]!==a){let c=r(e,i);return n.current=e,c}},[r,...e])}let mE=Y.createContext(null);mE.displayName="OpenClosedContext";var Za=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(Za||{});function gE(){return Y.useContext(mE)}function xye({value:t,children:e}){return et.createElement(mE.Provider,{value:t},e)}function Tye({children:t}){return et.createElement(mE.Provider,{value:null},t)}function Iye(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let gu=[];Iye(()=>{function t(e){if(!Yc(e.target)||e.target===document.body||gu[0]===e.target)return;let n=e.target;n=n.closest(e_),gu.unshift(n??e.target),gu=gu.filter(r=>r!=null&&r.isConnected),gu.splice(10)}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function eq(t){let e=Cn(t),n=Y.useRef(!1);Y.useEffect(()=>(n.current=!1,()=>{n.current=!0,pE(()=>{n.current&&e()})}),[e])}let tq=Y.createContext(!1);function Cye(){return Y.useContext(tq)}function OP(t){return et.createElement(tq.Provider,{value:t.force},t.children)}function Oye(t){let e=Cye(),n=Y.useContext(rq),[r,i]=Y.useState(()=>{var s;if(!e&&n!==null)return(s=n.current)!=null?s:null;if(Uo.isServer)return null;let a=t?.getElementById("headlessui-portal-root");if(a)return a;if(t===null)return null;let c=t.createElement("div");return c.setAttribute("id","headlessui-portal-root"),t.body.appendChild(c)});return Y.useEffect(()=>{r!==null&&(t!=null&&t.body.contains(r)||t==null||t.body.appendChild(r))},[r,t]),Y.useEffect(()=>{e||n!==null&&i(n.current)},[n,i,e]),r}let nq=Y.Fragment,kye=fs(function(t,e){let{ownerDocument:n=null,...r}=t,i=Y.useRef(null),s=Xo(Rpe(m=>{i.current=m}),e),a=AC(i.current),c=n??a,u=Oye(c),d=Y.useContext(E5),h=yE(),p=Ta();return eq(()=>{var m;u&&u.childNodes.length<=0&&((m=u.parentElement)==null||m.removeChild(u))}),u?hpe.createPortal(et.createElement("div",{"data-headlessui-portal":"",ref:m=>{h.dispose(),d&&m&&h.add(d.register(m))}},p({ourProps:{ref:s},theirProps:r,slot:{},defaultTag:nq,name:"Portal"})),u):null});function Rye(t,e){let n=Xo(e),{enabled:r=!0,ownerDocument:i,...s}=t,a=Ta();return r?et.createElement(kye,{...s,ownerDocument:i,ref:n}):a({ourProps:{ref:n},theirProps:s,slot:{},defaultTag:nq,name:"Portal"})}let $ye=Y.Fragment,rq=Y.createContext(null);function Nye(t,e){let{target:n,...r}=t,i={ref:Xo(e)},s=Ta();return et.createElement(rq.Provider,{value:n},s({ourProps:i,theirProps:r,defaultTag:$ye,name:"Popover.Group"}))}let E5=Y.createContext(null);function Pye(){let t=Y.useContext(E5),e=Y.useRef([]),n=Cn(s=>(e.current.push(s),t&&t.register(s),()=>r(s))),r=Cn(s=>{let a=e.current.indexOf(s);a!==-1&&e.current.splice(a,1),t&&t.unregister(s)}),i=Y.useMemo(()=>({register:n,unregister:r,portals:e}),[n,r,e]);return[e,Y.useMemo(()=>function({children:s}){return et.createElement(E5.Provider,{value:i},s)},[i])]}let Dye=fs(Rye),iq=fs(Nye),Mye=Object.assign(Dye,{Group:iq});function Uye(t,e=typeof document<"u"?document.defaultView:null,n){let r=cb(t,"escape");QF(e,"keydown",i=>{r&&(i.defaultPrevented||i.key===zF.Escape&&n(i))})}function Bye(){var t;let[e]=Y.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=Y.useState((t=e?.matches)!=null?t:!1);return os(()=>{if(!e)return;function i(s){r(s.matches)}return e.addEventListener("change",i),()=>e.removeEventListener("change",i)},[e]),n}function Lye({defaultContainers:t=[],portals:e,mainTreeNode:n}={}){let r=Cn(()=>{var i,s;let a=ab(n),c=[];for(let u of t)u!==null&&(tl(u)?c.push(u):"current"in u&&tl(u.current)&&c.push(u.current));if(e!=null&&e.current)for(let u of e.current)c.push(u);for(let u of(i=a?.querySelectorAll("html > *, body > *"))!=null?i:[])u!==document.body&&u!==document.head&&tl(u)&&u.id!=="headlessui-portal-root"&&(n&&(u.contains(n)||u.contains((s=n?.getRootNode())==null?void 0:s.host))||c.some(d=>u.contains(d))||c.push(u));return c});return{resolveContainers:r,contains:Cn(i=>r().some(s=>s.contains(i)))}}let sq=Y.createContext(null);function kP({children:t,node:e}){let[n,r]=Y.useState(null),i=aq(e??n);return et.createElement(sq.Provider,{value:i},t,i===null&&et.createElement(w5,{features:Q1.Hidden,ref:s=>{var a,c;if(s){for(let u of(c=(a=ab(s))==null?void 0:a.querySelectorAll("html > *, body > *"))!=null?c:[])if(u!==document.body&&u!==document.head&&tl(u)&&u!=null&&u.contains(s)){r(u);break}}}}))}function aq(t=null){var e;return(e=Y.useContext(sq))!=null?e:t}function jye(){let t=typeof document>"u";return"useSyncExternalStore"in m4?(e=>e.useSyncExternalStore)(m4)(()=>()=>{},()=>!1,()=>!t):!1}function bE(){let t=jye(),[e,n]=Y.useState(Uo.isHandoffComplete);return e&&Uo.isHandoffComplete===!1&&n(!1),Y.useEffect(()=>{e!==!0&&n(!0)},[e]),Y.useEffect(()=>Uo.handoff(),[]),t?!1:e}function xC(){let t=Y.useRef(!1);return os(()=>(t.current=!0,()=>{t.current=!1}),[]),t}var mg=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(mg||{});function zye(){let t=Y.useRef(0);return JF(!0,"keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function oq(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let n of t.current)tl(n.current)&&e.add(n.current);return e}let Fye="div";var Cd=(t=>(t[t.None=0]="None",t[t.InitialFocus=1]="InitialFocus",t[t.TabLock=2]="TabLock",t[t.FocusLock=4]="FocusLock",t[t.RestoreFocus=8]="RestoreFocus",t[t.AutoFocus=16]="AutoFocus",t))(Cd||{});function qye(t,e){let n=Y.useRef(null),r=Xo(n,e),{initialFocus:i,initialFocusFallback:s,containers:a,features:c=15,...u}=t;bE()||(c=0);let d=AC(n.current);Gye(c,{ownerDocument:d});let h=Kye(c,{ownerDocument:d,container:n,initialFocus:i,initialFocusFallback:s});Yye(c,{ownerDocument:d,container:n,containers:a,previousActiveElement:h});let p=zye(),m=Cn(k=>{if(!Ho(n.current))return;let S=n.current;(A=>A())(()=>{ll(p.current,{[mg.Forwards]:()=>{tp(S,Vc.First,{skipElements:[k.relatedTarget,s]})},[mg.Backwards]:()=>{tp(S,Vc.Last,{skipElements:[k.relatedTarget,s]})}})})}),g=cb(!!(c&2),"focus-trap#tab-lock"),b=yE(),v=Y.useRef(!1),E={ref:r,onKeyDown(k){k.key=="Tab"&&(v.current=!0,b.requestAnimationFrame(()=>{v.current=!1}))},onBlur(k){if(!(c&4))return;let S=oq(a);Ho(n.current)&&S.add(n.current);let A=k.relatedTarget;Yc(A)&&A.dataset.headlessuiFocusGuard!=="true"&&(cq(S,A)||(v.current?tp(n.current,ll(p.current,{[mg.Forwards]:()=>Vc.Next,[mg.Backwards]:()=>Vc.Previous})|Vc.WrapAround,{relativeTo:k.target}):Yc(k.target)&&Bo(k.target)))}},O=Ta();return et.createElement(et.Fragment,null,g&&et.createElement(w5,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:m,features:Q1.Focusable}),O({ourProps:E,theirProps:u,defaultTag:Fye,name:"FocusTrap"}),g&&et.createElement(w5,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:m,features:Q1.Focusable}))}let Wye=fs(qye),Hye=Object.assign(Wye,{features:Cd});function Vye(t=!0){let e=Y.useRef(gu.slice());return SC(([n],[r])=>{r===!0&&n===!1&&pE(()=>{e.current.splice(0)}),r===!1&&n===!0&&(e.current=gu.slice())},[t,gu,e]),Cn(()=>{var n;return(n=e.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function Gye(t,{ownerDocument:e}){let n=!!(t&8),r=Vye(n);SC(()=>{n||gpe(e?.body)&&Bo(r())},[n]),eq(()=>{n&&Bo(r())})}function Kye(t,{ownerDocument:e,container:n,initialFocus:r,initialFocusFallback:i}){let s=Y.useRef(null),a=cb(!!(t&1),"focus-trap#initial-focus"),c=xC();return SC(()=>{if(t===0)return;if(!a){i!=null&&i.current&&Bo(i.current);return}let u=n.current;u&&pE(()=>{if(!c.current)return;let d=e?.activeElement;if(r!=null&&r.current){if(r?.current===d){s.current=d;return}}else if(u.contains(d)){s.current=d;return}if(r!=null&&r.current)Bo(r.current);else{if(t&16){if(tp(u,Vc.First|Vc.AutoFocus)!==_5.Error)return}else if(tp(u,Vc.First)!==_5.Error)return;if(i!=null&&i.current&&(Bo(i.current),e?.activeElement===i.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}s.current=e?.activeElement})},[i,a,t]),s}function Yye(t,{ownerDocument:e,container:n,containers:r,previousActiveElement:i}){let s=xC(),a=!!(t&4);QF(e?.defaultView,"focus",c=>{if(!a||!s.current)return;let u=oq(r);Ho(n.current)&&u.add(n.current);let d=i.current;if(!d)return;let h=c.target;Ho(h)?cq(u,h)?(i.current=h,Bo(h)):(c.preventDefault(),c.stopPropagation(),Bo(d)):Bo(i.current)},!0)}function cq(t,e){for(let n of t)if(n.contains(e))return!0;return!1}function lq(t){var e;return!!(t.enter||t.enterFrom||t.enterTo||t.leave||t.leaveFrom||t.leaveTo)||!Og((e=t.as)!=null?e:dq)||et.Children.count(t.children)===1}let wE=Y.createContext(null);wE.displayName="TransitionContext";var Zye=(t=>(t.Visible="visible",t.Hidden="hidden",t))(Zye||{});function Xye(){let t=Y.useContext(wE);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function Jye(){let t=Y.useContext(vE);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let vE=Y.createContext(null);vE.displayName="NestingContext";function _E(t){return"children"in t?_E(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function uq(t,e){let n=Af(t),r=Y.useRef([]),i=xC(),s=yE(),a=Cn((g,b=Su.Hidden)=>{let v=r.current.findIndex(({el:E})=>E===g);v!==-1&&(ll(b,{[Su.Unmount](){r.current.splice(v,1)},[Su.Hidden](){r.current[v].state="hidden"}}),s.microTask(()=>{var E;!_E(r)&&i.current&&((E=n.current)==null||E.call(n))}))}),c=Cn(g=>{let b=r.current.find(({el:v})=>v===g);return b?b.state!=="visible"&&(b.state="visible"):r.current.push({el:g,state:"visible"}),()=>a(g,Su.Unmount)}),u=Y.useRef([]),d=Y.useRef(Promise.resolve()),h=Y.useRef({enter:[],leave:[]}),p=Cn((g,b,v)=>{u.current.splice(0),e&&(e.chains.current[b]=e.chains.current[b].filter(([E])=>E!==g)),e?.chains.current[b].push([g,new Promise(E=>{u.current.push(E)})]),e?.chains.current[b].push([g,new Promise(E=>{Promise.all(h.current[b].map(([O,k])=>k)).then(()=>E())})]),b==="enter"?d.current=d.current.then(()=>e?.wait.current).then(()=>v(b)):v(b)}),m=Cn((g,b,v)=>{Promise.all(h.current[b].splice(0).map(([E,O])=>O)).then(()=>{var E;(E=u.current.shift())==null||E()}).then(()=>v(b))});return Y.useMemo(()=>({children:r,register:c,unregister:a,onStart:p,onStop:m,wait:d,chains:h}),[c,a,r,p,m,h,d])}let dq=Y.Fragment,fq=J1.RenderStrategy;function Qye(t,e){var n,r;let{transition:i=!0,beforeEnter:s,afterEnter:a,beforeLeave:c,afterLeave:u,enter:d,enterFrom:h,enterTo:p,entered:m,leave:g,leaveFrom:b,leaveTo:v,...E}=t,[O,k]=Y.useState(null),S=Y.useRef(null),A=lq(t),C=Xo(...A?[S,e,k]:e===null?[]:[e]),I=(n=E.unmount)==null||n?Su.Unmount:Su.Hidden,{show:N,appear:z,initial:L}=Xye(),[B,H]=Y.useState(N?"visible":"hidden"),D=Jye(),{register:F,unregister:K}=D;os(()=>F(S),[F,S]),os(()=>{if(I===Su.Hidden&&S.current){if(N&&B!=="visible"){H("visible");return}return ll(B,{hidden:()=>K(S),visible:()=>F(S)})}},[B,S,F,K,N,I]);let T=bE();os(()=>{if(A&&T&&B==="visible"&&S.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[S,B,T,A]);let x=L&&!z,$=z&&N&&L,j=Y.useRef(!1),P=uq(()=>{j.current||(H("hidden"),K(S))},D),V=Cn(we=>{j.current=!0;let Te=we?"enter":"leave";P.onStart(S,Te,Ee=>{Ee==="enter"?s?.():Ee==="leave"&&c?.()})}),M=Cn(we=>{let Te=we?"enter":"leave";j.current=!1,P.onStop(S,Te,Ee=>{Ee==="enter"?a?.():Ee==="leave"&&u?.()}),Te==="leave"&&!_E(P)&&(H("hidden"),K(S))});Y.useEffect(()=>{A&&i||(V(N),M(N))},[N,A,i]);let G=!(!i||!A||!T||x),[,J]=vye(G,O,N,{start:V,end:M}),X=Ad({ref:C,className:((r=b5(E.className,$&&d,$&&h,J.enter&&d,J.enter&&J.closed&&h,J.enter&&!J.closed&&p,J.leave&&g,J.leave&&!J.closed&&b,J.leave&&J.closed&&v,!J.transition&&N&&m))==null?void 0:r.trim())||void 0,...wye(J)}),Q=0;B==="visible"&&(Q|=Za.Open),B==="hidden"&&(Q|=Za.Closed),N&&B==="hidden"&&(Q|=Za.Opening),!N&&B==="visible"&&(Q|=Za.Closing);let ge=Ta();return et.createElement(vE.Provider,{value:P},et.createElement(xye,{value:Q},ge({ourProps:X,theirProps:E,defaultTag:dq,features:fq,visible:B==="visible",name:"Transition.Child"})))}function eme(t,e){let{show:n,appear:r=!1,unmount:i=!0,...s}=t,a=Y.useRef(null),c=lq(t),u=Xo(...c?[a,e]:e===null?[]:[e]);bE();let d=gE();if(n===void 0&&d!==null&&(n=(d&Za.Open)===Za.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[h,p]=Y.useState(n?"visible":"hidden"),m=uq(()=>{n||p("hidden")}),[g,b]=Y.useState(!0),v=Y.useRef([n]);os(()=>{g!==!1&&v.current[v.current.length-1]!==n&&(v.current.push(n),b(!1))},[v,n]);let E=Y.useMemo(()=>({show:n,appear:r,initial:g}),[n,r,g]);os(()=>{n?p("visible"):!_E(m)&&a.current!==null&&p("hidden")},[n,m]);let O={unmount:i},k=Cn(()=>{var C;g&&b(!1),(C=t.beforeEnter)==null||C.call(t)}),S=Cn(()=>{var C;g&&b(!1),(C=t.beforeLeave)==null||C.call(t)}),A=Ta();return et.createElement(vE.Provider,{value:m},et.createElement(wE.Provider,{value:E},A({ourProps:{...O,as:Y.Fragment,children:et.createElement(hq,{ref:u,...O,...s,beforeEnter:k,beforeLeave:S})},theirProps:{},defaultTag:Y.Fragment,features:fq,visible:h==="visible",name:"Transition"})))}function tme(t,e){let n=Y.useContext(wE)!==null,r=gE()!==null;return et.createElement(et.Fragment,null,!n&&r?et.createElement(A5,{ref:e,...t}):et.createElement(hq,{ref:e,...t}))}let A5=fs(eme),hq=fs(Qye),b0=fs(tme),pq=Object.assign(A5,{Child:b0,Root:A5});var nme=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(nme||{}),rme=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(rme||{});let ime={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},TC=Y.createContext(null);TC.displayName="DialogContext";function EE(t){let e=Y.useContext(TC);if(e===null){let n=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,EE),n}return e}function sme(t,e){return ll(e.type,ime,t,e)}let RP=fs(function(t,e){let n=Y.useId(),{id:r=`headlessui-dialog-${n}`,open:i,onClose:s,initialFocus:a,role:c="dialog",autoFocus:u=!0,__demoMode:d=!1,unmount:h=!1,...p}=t,m=Y.useRef(!1);c=(function(){return c==="dialog"||c==="alertdialog"?c:(m.current||(m.current=!0,console.warn(`Invalid role [${c}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")})();let g=gE();i===void 0&&g!==null&&(i=(g&Za.Open)===Za.Open);let b=Y.useRef(null),v=Xo(b,e),E=AC(b.current),O=i?0:1,[k,S]=Y.useReducer(sme,{titleId:null,descriptionId:null,panelRef:Y.createRef()}),A=Cn(()=>s(!1)),C=Cn(J=>S({type:0,id:J})),I=bE()?O===0:!1,[N,z]=Pye(),L={get current(){var J;return(J=k.panelRef.current)!=null?J:b.current}},B=aq(),{resolveContainers:H}=Lye({mainTreeNode:B,portals:N,defaultContainers:[L]}),D=g!==null?(g&Za.Closing)===Za.Closing:!1;Jpe(d||D?!1:I,{allowed:Cn(()=>{var J,X;return[(X=(J=b.current)==null?void 0:J.closest("[data-headlessui-portal]"))!=null?X:null]}),disallowed:Cn(()=>{var J;return[(J=B?.closest("body > *:not(#headlessui-portal-root)"))!=null?J:null]})});let F=VF.get(null);os(()=>{if(I)return F.actions.push(r),()=>F.actions.pop(r)},[F,r,I]);let K=GF(F,Y.useCallback(J=>F.selectors.isTop(J,r),[F,r]));cye(K,H,J=>{J.preventDefault(),A()}),Uye(K,E?.defaultView,J=>{J.preventDefault(),J.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),A()}),yye(d||D?!1:I,E,H),Qpe(I,b,A);let[T,x]=$pe(),$=Y.useMemo(()=>[{dialogState:O,close:A,setTitleId:C,unmount:h},k],[O,A,C,h,k]),j=ob({open:O===0}),P={ref:v,id:r,role:c,tabIndex:-1,"aria-modal":d?void 0:O===0?!0:void 0,"aria-labelledby":k.titleId,"aria-describedby":T,unmount:h},V=!Bye(),M=Cd.None;I&&!d&&(M|=Cd.RestoreFocus,M|=Cd.TabLock,u&&(M|=Cd.AutoFocus),V&&(M|=Cd.InitialFocus));let G=Ta();return et.createElement(Tye,null,et.createElement(OP,{force:!0},et.createElement(Mye,null,et.createElement(TC.Provider,{value:$},et.createElement(iq,{target:b},et.createElement(OP,{force:!1},et.createElement(x,{slot:j},et.createElement(z,null,et.createElement(Hye,{initialFocus:a,initialFocusFallback:b,containers:H,features:M},et.createElement(Bpe,{value:A},G({ourProps:P,theirProps:p,slot:j,defaultTag:ame,features:ome,visible:O===0,name:"Dialog"})))))))))))}),ame="div",ome=J1.RenderStrategy|J1.Static;function cme(t,e){let{transition:n=!1,open:r,...i}=t,s=gE(),a=t.hasOwnProperty("open")||s!==null,c=t.hasOwnProperty("onClose");if(!a&&!c)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!a)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!c)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!s&&typeof t.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${t.open}`);if(typeof t.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${t.onClose}`);return(r!==void 0||n)&&!i.static?et.createElement(kP,null,et.createElement(pq,{show:r,transition:n,unmount:i.unmount},et.createElement(RP,{ref:e,...i}))):et.createElement(kP,null,et.createElement(RP,{ref:e,open:r,...i}))}let lme="div";function ume(t,e){let n=Y.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:i=!1,...s}=t,[{dialogState:a,unmount:c},u]=EE("Dialog.Panel"),d=Xo(e,u.panelRef),h=ob({open:a===0}),p=Cn(E=>{E.stopPropagation()}),m={ref:d,id:r,onClick:p},g=i?b0:Y.Fragment,b=i?{unmount:c}:{},v=Ta();return et.createElement(g,{...b},v({ourProps:m,theirProps:s,slot:h,defaultTag:lme,name:"Dialog.Panel"}))}let dme="div";function fme(t,e){let{transition:n=!1,...r}=t,[{dialogState:i,unmount:s}]=EE("Dialog.Backdrop"),a=ob({open:i===0}),c={ref:e,"aria-hidden":!0},u=n?b0:Y.Fragment,d=n?{unmount:s}:{},h=Ta();return et.createElement(u,{...d},h({ourProps:c,theirProps:r,slot:a,defaultTag:dme,name:"Dialog.Backdrop"}))}let hme="h2";function pme(t,e){let n=Y.useId(),{id:r=`headlessui-dialog-title-${n}`,...i}=t,[{dialogState:s,setTitleId:a}]=EE("Dialog.Title"),c=Xo(e);Y.useEffect(()=>(a(r),()=>a(null)),[r,a]);let u=ob({open:s===0}),d={ref:c,id:r};return Ta()({ourProps:d,theirProps:i,slot:u,defaultTag:hme,name:"Dialog.Title"})}let yme=fs(cme),yq=fs(ume);fs(fme);let mme=fs(pme),gme=Object.assign(yme,{Panel:yq,Title:mme,Description:Mpe});var uv={exports:{}},$P;function bme(){if($P)return uv.exports;$P=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(C,I,N){return Function.prototype.apply.call(C,I,N)},n;t&&typeof t.ownKeys=="function"?n=t.ownKeys:Object.getOwnPropertySymbols?n=function(C){return Object.getOwnPropertyNames(C).concat(Object.getOwnPropertySymbols(C))}:n=function(C){return Object.getOwnPropertyNames(C)};function r(A){console&&console.warn&&console.warn(A)}var i=Number.isNaN||function(C){return C!==C};function s(){s.init.call(this)}uv.exports=s,uv.exports.once=O,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var a=10;function c(A){if(typeof A!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof A)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(A){if(typeof A!="number"||A<0||i(A))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+A+".");a=A}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(C){if(typeof C!="number"||C<0||i(C))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+C+".");return this._maxListeners=C,this};function u(A){return A._maxListeners===void 0?s.defaultMaxListeners:A._maxListeners}s.prototype.getMaxListeners=function(){return u(this)},s.prototype.emit=function(C){for(var I=[],N=1;N<arguments.length;N++)I.push(arguments[N]);var z=C==="error",L=this._events;if(L!==void 0)z=z&&L.error===void 0;else if(!z)return!1;if(z){var B;if(I.length>0&&(B=I[0]),B instanceof Error)throw B;var H=new Error("Unhandled error."+(B?" ("+B.message+")":""));throw H.context=B,H}var D=L[C];if(D===void 0)return!1;if(typeof D=="function")e(D,this,I);else for(var F=D.length,K=b(D,F),N=0;N<F;++N)e(K[N],this,I);return!0};function d(A,C,I,N){var z,L,B;if(c(I),L=A._events,L===void 0?(L=A._events=Object.create(null),A._eventsCount=0):(L.newListener!==void 0&&(A.emit("newListener",C,I.listener?I.listener:I),L=A._events),B=L[C]),B===void 0)B=L[C]=I,++A._eventsCount;else if(typeof B=="function"?B=L[C]=N?[I,B]:[B,I]:N?B.unshift(I):B.push(I),z=u(A),z>0&&B.length>z&&!B.warned){B.warned=!0;var H=new Error("Possible EventEmitter memory leak detected. "+B.length+" "+String(C)+" listeners added. Use emitter.setMaxListeners() to increase limit");H.name="MaxListenersExceededWarning",H.emitter=A,H.type=C,H.count=B.length,r(H)}return A}s.prototype.addListener=function(C,I){return d(this,C,I,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(C,I){return d(this,C,I,!0)};function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(A,C,I){var N={fired:!1,wrapFn:void 0,target:A,type:C,listener:I},z=h.bind(N);return z.listener=I,N.wrapFn=z,z}s.prototype.once=function(C,I){return c(I),this.on(C,p(this,C,I)),this},s.prototype.prependOnceListener=function(C,I){return c(I),this.prependListener(C,p(this,C,I)),this},s.prototype.removeListener=function(C,I){var N,z,L,B,H;if(c(I),z=this._events,z===void 0)return this;if(N=z[C],N===void 0)return this;if(N===I||N.listener===I)--this._eventsCount===0?this._events=Object.create(null):(delete z[C],z.removeListener&&this.emit("removeListener",C,N.listener||I));else if(typeof N!="function"){for(L=-1,B=N.length-1;B>=0;B--)if(N[B]===I||N[B].listener===I){H=N[B].listener,L=B;break}if(L<0)return this;L===0?N.shift():v(N,L),N.length===1&&(z[C]=N[0]),z.removeListener!==void 0&&this.emit("removeListener",C,H||I)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(C){var I,N,z;if(N=this._events,N===void 0)return this;if(N.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):N[C]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete N[C]),this;if(arguments.length===0){var L=Object.keys(N),B;for(z=0;z<L.length;++z)B=L[z],B!=="removeListener"&&this.removeAllListeners(B);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(I=N[C],typeof I=="function")this.removeListener(C,I);else if(I!==void 0)for(z=I.length-1;z>=0;z--)this.removeListener(C,I[z]);return this};function m(A,C,I){var N=A._events;if(N===void 0)return[];var z=N[C];return z===void 0?[]:typeof z=="function"?I?[z.listener||z]:[z]:I?E(z):b(z,z.length)}s.prototype.listeners=function(C){return m(this,C,!0)},s.prototype.rawListeners=function(C){return m(this,C,!1)},s.listenerCount=function(A,C){return typeof A.listenerCount=="function"?A.listenerCount(C):g.call(A,C)},s.prototype.listenerCount=g;function g(A){var C=this._events;if(C!==void 0){var I=C[A];if(typeof I=="function")return 1;if(I!==void 0)return I.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function b(A,C){for(var I=new Array(C),N=0;N<C;++N)I[N]=A[N];return I}function v(A,C){for(;C+1<A.length;C++)A[C]=A[C+1];A.pop()}function E(A){for(var C=new Array(A.length),I=0;I<C.length;++I)C[I]=A[I].listener||A[I];return C}function O(A,C){return new Promise(function(I,N){function z(B){A.removeListener(C,L),N(B)}function L(){typeof A.removeListener=="function"&&A.removeListener("error",z),I([].slice.call(arguments))}S(A,C,L,{once:!0}),C!=="error"&&k(A,z,{once:!0})})}function k(A,C,I){typeof A.on=="function"&&S(A,"error",C,I)}function S(A,C,I,N){if(typeof A.on=="function")N.once?A.once(C,I):A.on(C,I);else if(typeof A.addEventListener=="function")A.addEventListener(C,function z(L){N.once&&A.removeEventListener(C,z),I(L)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof A)}return uv.exports}var zs=bme();const IC=Du(zs);var NP=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))},wme=(function(){function t(e,n,r){this.name=e,this.version=n,this.os=r,this.type="browser"}return t})(),vme=(function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t})(),_me=(function(){function t(e,n,r,i){this.name=e,this.version=n,this.os=r,this.bot=i,this.type="bot-device"}return t})(),Eme=(function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t})(),Ame=(function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t})(),Sme=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,xme=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,PP=3,Tme=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",Sme]],DP=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function Ime(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new Ame:typeof navigator<"u"?Ome(navigator.userAgent):Rme()}function Cme(t){return t!==""&&Tme.reduce(function(e,n){var r=n[0],i=n[1];if(e)return e;var s=i.exec(t);return!!s&&[r,s]},!1)}function Ome(t){var e=Cme(t);if(!e)return null;var n=e[0],r=e[1];if(n==="searchbot")return new Eme;var i=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);i?i.length<PP&&(i=NP(NP([],i,!0),$me(PP-i.length),!0)):i=[];var s=i.join("."),a=kme(t),c=xme.exec(t);return c&&c[1]?new _me(n,s,a,c[1]):new wme(n,s,a)}function kme(t){for(var e=0,n=DP.length;e<n;e++){var r=DP[e],i=r[0],s=r[1],a=s.exec(t);if(a)return i}return null}function Rme(){var t=typeof process<"u"&&process.version;return t?new vme(process.version.slice(1)):null}function $me(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}var wx={};var S5=function(t,e){return S5=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},S5(t,e)};function Nme(t,e){S5(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var x5=function(){return x5=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},x5.apply(this,arguments)};function Pme(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Dme(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(s=(i<3?a(s):i>3?a(e,n,s):a(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function Mme(t,e){return function(n,r){e(n,r,t)}}function Ume(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Bme(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function c(h){try{d(r.next(h))}catch(p){a(p)}}function u(h){try{d(r.throw(h))}catch(p){a(p)}}function d(h){h.done?s(h.value):i(h.value).then(c,u)}d((r=r.apply(t,e||[])).next())})}function Lme(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(d){return function(h){return u([d,h])}}function u(d){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=d[0]&2?i.return:d[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,d[1])).done)return s;switch(i=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,i=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){n.label=d[1];break}if(d[0]===6&&n.label<s[1]){n.label=s[1],s=d;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(d);break}s[2]&&n.ops.pop(),n.trys.pop();continue}d=e.call(t,n)}catch(h){d=[6,h],i=0}finally{r=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function jme(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function zme(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function T5(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function mq(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(c){a={error:c}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return s}function Fme(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(mq(arguments[e]));return t}function qme(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],a=0,c=s.length;a<c;a++,i++)r[i]=s[a];return r}function w0(t){return this instanceof w0?(this.v=t,this):new w0(t)}function Wme(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(m){r[m]&&(i[m]=function(g){return new Promise(function(b,v){s.push([m,g,b,v])>1||c(m,g)})})}function c(m,g){try{u(r[m](g))}catch(b){p(s[0][3],b)}}function u(m){m.value instanceof w0?Promise.resolve(m.value.v).then(d,h):p(s[0][2],m)}function d(m){c("next",m)}function h(m){c("throw",m)}function p(m,g){m(g),s.shift(),s.length&&c(s[0][0],s[0][1])}}function Hme(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(a){return(n=!n)?{value:w0(t[i](a)),done:i==="return"}:s?s(a):a}:s}}function Vme(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof T5=="function"?T5(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(a){return new Promise(function(c,u){a=t[s](a),i(c,u,a.done,a.value)})}}function i(s,a,c,u){Promise.resolve(u).then(function(d){s({value:d,done:c})},a)}}function Gme(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function Kme(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function Yme(t){return t&&t.__esModule?t:{default:t}}function Zme(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function Xme(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const Jme=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return x5},__asyncDelegator:Hme,__asyncGenerator:Wme,__asyncValues:Vme,__await:w0,__awaiter:Bme,__classPrivateFieldGet:Zme,__classPrivateFieldSet:Xme,__createBinding:jme,__decorate:Dme,__exportStar:zme,__extends:Nme,__generator:Lme,__importDefault:Yme,__importStar:Kme,__makeTemplateObject:Gme,__metadata:Ume,__param:Mme,__read:mq,__rest:Pme,__spread:Fme,__spreadArrays:qme,__values:T5},Symbol.toStringTag,{value:"Module"})),AE=dB(Jme);var vx={},nm={},MP;function Qme(){if(MP)return nm;MP=1,Object.defineProperty(nm,"__esModule",{value:!0}),nm.delay=void 0;function t(e){return new Promise(n=>{setTimeout(()=>{n(!0)},e)})}return nm.delay=t,nm}var dd={},_x={},fd={},UP;function ege(){return UP||(UP=1,Object.defineProperty(fd,"__esModule",{value:!0}),fd.ONE_THOUSAND=fd.ONE_HUNDRED=void 0,fd.ONE_HUNDRED=100,fd.ONE_THOUSAND=1e3),fd}var Ex={},BP;function tge(){return BP||(BP=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365})(Ex)),Ex}var LP;function gq(){return LP||(LP=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=AE;e.__exportStar(ege(),t),e.__exportStar(tge(),t)})(_x)),_x}var jP;function nge(){if(jP)return dd;jP=1,Object.defineProperty(dd,"__esModule",{value:!0}),dd.fromMiliseconds=dd.toMiliseconds=void 0;const t=gq();function e(r){return r*t.ONE_THOUSAND}dd.toMiliseconds=e;function n(r){return Math.floor(r/t.ONE_THOUSAND)}return dd.fromMiliseconds=n,dd}var zP;function rge(){return zP||(zP=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=AE;e.__exportStar(Qme(),t),e.__exportStar(nge(),t)})(vx)),vx}var vh={},FP;function ige(){if(FP)return vh;FP=1,Object.defineProperty(vh,"__esModule",{value:!0}),vh.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(n){if(this.timestamps.has(n))throw new Error(`Watch already started for label: ${n}`);this.timestamps.set(n,{started:Date.now()})}stop(n){const r=this.get(n);if(typeof r.elapsed<"u")throw new Error(`Watch already stopped for label: ${n}`);const i=Date.now()-r.started;this.timestamps.set(n,{started:r.started,elapsed:i})}get(n){const r=this.timestamps.get(n);if(typeof r>"u")throw new Error(`No timestamp found for label: ${n}`);return r}elapsed(n){const r=this.get(n);return r.elapsed||Date.now()-r.started}}return vh.Watch=t,vh.default=t,vh}var Ax={},rm={},qP;function sge(){if(qP)return rm;qP=1,Object.defineProperty(rm,"__esModule",{value:!0}),rm.IWatch=void 0;class t{}return rm.IWatch=t,rm}var WP;function age(){return WP||(WP=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),AE.__exportStar(sge(),t)})(Ax)),Ax}var HP;function oge(){return HP||(HP=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=AE;e.__exportStar(rge(),t),e.__exportStar(ige(),t),e.__exportStar(age(),t),e.__exportStar(gq(),t)})(wx)),wx}var Be=oge(),xn={},VP;function bq(){if(VP)return xn;VP=1,Object.defineProperty(xn,"__esModule",{value:!0}),xn.getLocalStorage=xn.getLocalStorageOrThrow=xn.getCrypto=xn.getCryptoOrThrow=xn.getLocation=xn.getLocationOrThrow=xn.getNavigator=xn.getNavigatorOrThrow=xn.getDocument=xn.getDocumentOrThrow=xn.getFromWindowOrThrow=xn.getFromWindow=void 0;function t(m){let g;return typeof window<"u"&&typeof window[m]<"u"&&(g=window[m]),g}xn.getFromWindow=t;function e(m){const g=t(m);if(!g)throw new Error(`${m} is not defined in Window`);return g}xn.getFromWindowOrThrow=e;function n(){return e("document")}xn.getDocumentOrThrow=n;function r(){return t("document")}xn.getDocument=r;function i(){return e("navigator")}xn.getNavigatorOrThrow=i;function s(){return t("navigator")}xn.getNavigator=s;function a(){return e("location")}xn.getLocationOrThrow=a;function c(){return t("location")}xn.getLocation=c;function u(){return e("crypto")}xn.getCryptoOrThrow=u;function d(){return t("crypto")}xn.getCrypto=d;function h(){return e("localStorage")}xn.getLocalStorageOrThrow=h;function p(){return t("localStorage")}return xn.getLocalStorage=p,xn}var ul=bq(),im={},GP;function cge(){if(GP)return im;GP=1,Object.defineProperty(im,"__esModule",{value:!0}),im.getWindowMetadata=void 0;const t=bq();function e(){let n,r;try{n=t.getDocumentOrThrow(),r=t.getLocationOrThrow()}catch{return null}function i(){const g=n.getElementsByTagName("link"),b=[];for(let v=0;v<g.length;v++){const E=g[v],O=E.getAttribute("rel");if(O&&O.toLowerCase().indexOf("icon")>-1){const k=E.getAttribute("href");if(k)if(k.toLowerCase().indexOf("https:")===-1&&k.toLowerCase().indexOf("http:")===-1&&k.indexOf("//")!==0){let S=r.protocol+"//"+r.host;if(k.indexOf("/")===0)S+=k;else{const A=r.pathname.split("/");A.pop();const C=A.join("/");S+=C+"/"+k}b.push(S)}else if(k.indexOf("//")===0){const S=r.protocol+k;b.push(S)}else b.push(k)}}return b}function s(...g){const b=n.getElementsByTagName("meta");for(let v=0;v<b.length;v++){const E=b[v],O=["itemprop","property","name"].map(k=>E.getAttribute(k)).filter(k=>k?g.includes(k):!1);if(O.length&&O){const k=E.getAttribute("content");if(k)return k}}return""}function a(){let g=s("name","og:site_name","og:title","twitter:title");return g||(g=n.title),g}function c(){return s("description","og:description","twitter:description","keywords")}const u=a(),d=c(),h=r.origin,p=i();return{description:d,url:h,icons:p,name:u}}return im.getWindowMetadata=e,im}var lge=cge();const uge="0.1.1";function dge(){return uge}class Vn extends Error{constructor(e,n={}){const r=(()=>{if(n.cause instanceof Vn){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:n.cause?.message?n.cause.message:n.details})(),i=n.cause instanceof Vn&&n.cause.docsPath||n.docsPath,a=`https://oxlib.sh${i??""}`,c=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||i?["",r?`Details: ${r}`:void 0,i?`See: ${a}`:void 0]:[]].filter(u=>typeof u=="string").join(`
`);super(c,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${dge()}`}),this.cause=n.cause,this.details=r,this.docs=a,this.docsPath=i,this.shortMessage=e}walk(e){return wq(this,e)}}function wq(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?wq(t.cause,e):e?null:t}const _h=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function fge(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function v0(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function df(t,...e){if(!fge(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function hge(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");v0(t.outputLen),v0(t.blockLen)}function Ip(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function vq(t,e){df(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function pge(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Cp(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Sx(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function bo(t,e){return t<<32-e|t>>>e}const yge=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function mge(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function gge(t){for(let e=0;e<t.length;e++)t[e]=mge(t[e]);return t}const KP=yge?t=>t:gge;function bge(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function SE(t){return typeof t=="string"&&(t=bge(t)),df(t),t}function wge(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];df(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}class CC{}function _q(t){const e=r=>t().update(SE(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function vge(t=32){if(_h&&typeof _h.getRandomValues=="function")return _h.getRandomValues(new Uint8Array(t));if(_h&&typeof _h.randomBytes=="function")return Uint8Array.from(_h.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}function _ge(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),a=Number(n>>i&s),c=Number(n&s),u=r?4:0,d=r?0:4;t.setUint32(e+u,a,r),t.setUint32(e+d,c,r)}function Ege(t,e,n){return t&e^~t&n}function Age(t,e,n){return t&e^t&n^e&n}class Sge extends CC{constructor(e,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=Sx(this.buffer)}update(e){Ip(this),e=SE(e),df(e);const{view:n,buffer:r,blockLen:i}=this,s=e.length;for(let a=0;a<s;){const c=Math.min(i-this.pos,s-a);if(c===i){const u=Sx(e);for(;i<=s-a;a+=i)this.process(u,a);continue}r.set(e.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Ip(this),vq(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:a}=this;n[a++]=128,Cp(this.buffer.subarray(a)),this.padOffset>i-a&&(this.process(r,0),a=0);for(let p=a;p<i;p++)n[p]=0;_ge(r,i-8,BigInt(this.length*8),s),this.process(r,0);const c=Sx(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=u/4,h=this.get();if(d>h.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<d;p++)c.setUint32(4*p,h[p],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:a,pos:c}=this;return e.destroyed=a,e.finished=s,e.length=i,e.pos=c,i%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const Zl=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),dv=BigInt(2**32-1),YP=BigInt(32);function xge(t,e=!1){return e?{h:Number(t&dv),l:Number(t>>YP&dv)}:{h:Number(t>>YP&dv)|0,l:Number(t&dv)|0}}function Tge(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let s=0;s<n;s++){const{h:a,l:c}=xge(t[s],e);[r[s],i[s]]=[a,c]}return[r,i]}const Ige=(t,e,n)=>t<<n|e>>>32-n,Cge=(t,e,n)=>e<<n|t>>>32-n,Oge=(t,e,n)=>e<<n-32|t>>>64-n,kge=(t,e,n)=>t<<n-32|e>>>64-n,Rge=BigInt(0),sm=BigInt(1),$ge=BigInt(2),Nge=BigInt(7),Pge=BigInt(256),Dge=BigInt(113),Eq=[],Aq=[],Sq=[];for(let t=0,e=sm,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],Eq.push(2*(5*r+n)),Aq.push((t+1)*(t+2)/2%64);let i=Rge;for(let s=0;s<7;s++)e=(e<<sm^(e>>Nge)*Dge)%Pge,e&$ge&&(i^=sm<<(sm<<BigInt(s))-sm);Sq.push(i)}const xq=Tge(Sq,!0),Mge=xq[0],Uge=xq[1],ZP=(t,e,n)=>n>32?Oge(t,e,n):Ige(t,e,n),XP=(t,e,n)=>n>32?kge(t,e,n):Cge(t,e,n);function Bge(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let a=0;a<10;a++)n[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(let a=0;a<10;a+=2){const c=(a+8)%10,u=(a+2)%10,d=n[u],h=n[u+1],p=ZP(d,h,1)^n[c],m=XP(d,h,1)^n[c+1];for(let g=0;g<50;g+=10)t[a+g]^=p,t[a+g+1]^=m}let i=t[2],s=t[3];for(let a=0;a<24;a++){const c=Aq[a],u=ZP(i,s,c),d=XP(i,s,c),h=Eq[a];i=t[h],s=t[h+1],t[h]=u,t[h+1]=d}for(let a=0;a<50;a+=10){for(let c=0;c<10;c++)n[c]=t[a+c];for(let c=0;c<10;c++)t[a+c]^=~n[(c+2)%10]&n[(c+4)%10]}t[0]^=Mge[r],t[1]^=Uge[r]}Cp(n)}class OC extends CC{constructor(e,n,r,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,v0(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=pge(this.state)}clone(){return this._cloneInto()}keccak(){KP(this.state32),Bge(this.state32,this.rounds),KP(this.state32),this.posOut=0,this.pos=0}update(e){Ip(this),e=SE(e),df(e);const{blockLen:n,state:r}=this,i=e.length;for(let s=0;s<i;){const a=Math.min(n-this.pos,i-s);for(let c=0;c<a;c++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,(n&128)!==0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Ip(this,!1),df(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const a=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+a),i),this.posOut+=a,i+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return v0(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(vq(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Cp(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:a}=this;return e||(e=new OC(n,r,i,a,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=a,e.destroyed=this.destroyed,e}}const Lge=(t,e,n)=>_q(()=>new OC(e,t,n)),jge=Lge(1,136,256/8),zge=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Xl=new Uint32Array(64);class Fge extends Sge{constructor(e=32){super(64,e,8,!1),this.A=Zl[0]|0,this.B=Zl[1]|0,this.C=Zl[2]|0,this.D=Zl[3]|0,this.E=Zl[4]|0,this.F=Zl[5]|0,this.G=Zl[6]|0,this.H=Zl[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:a,G:c,H:u}=this;return[e,n,r,i,s,a,c,u]}set(e,n,r,i,s,a,c,u){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=c|0,this.H=u|0}process(e,n){for(let p=0;p<16;p++,n+=4)Xl[p]=e.getUint32(n,!1);for(let p=16;p<64;p++){const m=Xl[p-15],g=Xl[p-2],b=bo(m,7)^bo(m,18)^m>>>3,v=bo(g,17)^bo(g,19)^g>>>10;Xl[p]=v+Xl[p-7]+b+Xl[p-16]|0}let{A:r,B:i,C:s,D:a,E:c,F:u,G:d,H:h}=this;for(let p=0;p<64;p++){const m=bo(c,6)^bo(c,11)^bo(c,25),g=h+m+Ege(c,u,d)+zge[p]+Xl[p]|0,v=(bo(r,2)^bo(r,13)^bo(r,22))+Age(r,i,s)|0;h=d,d=u,u=c,c=a+g|0,a=s,s=i,i=r,r=g+v|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,c=c+this.E|0,u=u+this.F|0,d=d+this.G|0,h=h+this.H|0,this.set(r,i,s,a,c,u,d,h)}roundClean(){Cp(Xl)}destroy(){this.set(0,0,0,0,0,0,0,0),Cp(this.buffer)}}const qge=_q(()=>new Fge);const kC=BigInt(0),I5=BigInt(1);function lb(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function RC(t){if(!lb(t))throw new Error("Uint8Array expected")}function _0(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function fv(t){const e=t.toString(16);return e.length&1?"0"+e:e}function Tq(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?kC:BigInt("0x"+t)}const Iq=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Wge=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function E0(t){if(RC(t),Iq)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=Wge[t[n]];return e}const vc={_0:48,_9:57,A:65,F:70,a:97,f:102};function JP(t){if(t>=vc._0&&t<=vc._9)return t-vc._0;if(t>=vc.A&&t<=vc.F)return t-(vc.A-10);if(t>=vc.a&&t<=vc.f)return t-(vc.a-10)}function t_(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(Iq)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const a=JP(t.charCodeAt(s)),c=JP(t.charCodeAt(s+1));if(a===void 0||c===void 0){const u=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+u+'" at index '+s)}r[i]=a*16+c}return r}function Gd(t){return Tq(E0(t))}function Cq(t){return RC(t),Tq(E0(Uint8Array.from(t).reverse()))}function ub(t,e){return t_(t.toString(16).padStart(e*2,"0"))}function Oq(t,e){return ub(t,e).reverse()}function da(t,e,n){let r;if(typeof e=="string")try{r=t_(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(lb(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function n_(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];RC(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}const xx=t=>typeof t=="bigint"&&kC<=t;function $C(t,e,n){return xx(t)&&xx(e)&&xx(n)&&e<=t&&t<n}function np(t,e,n,r){if(!$C(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function Hge(t){let e;for(e=0;t>kC;t>>=I5,e+=1);return e}const xE=t=>(I5<<BigInt(t))-I5,Tx=t=>new Uint8Array(t),QP=t=>Uint8Array.from(t);function Vge(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=Tx(t),i=Tx(t),s=0;const a=()=>{r.fill(1),i.fill(0),s=0},c=(...p)=>n(i,r,...p),u=(p=Tx(0))=>{i=c(QP([0]),p),r=c(),p.length!==0&&(i=c(QP([1]),p),r=c())},d=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let p=0;const m=[];for(;p<e;){r=c();const g=r.slice();m.push(g),p+=r.length}return n_(...m)};return(p,m)=>{a(),u(p);let g;for(;!(g=m(d()));)u();return a(),g}}const Gge={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||lb(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function TE(t,e,n={}){const r=(i,s,a)=>{const c=Gge[s];if(typeof c!="function")throw new Error("invalid validator function");const u=t[i];if(!(a&&u===void 0)&&!c(u,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+u)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}function eD(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}function Kge(t,e){if(iD(t)>e)throw new y0e({givenSize:iD(t),maxSize:e})}const _c={zero:48,nine:57,A:65,F:70,a:97,f:102};function tD(t){if(t>=_c.zero&&t<=_c.nine)return t-_c.zero;if(t>=_c.A&&t<=_c.F)return t-(_c.A-10);if(t>=_c.a&&t<=_c.f)return t-(_c.a-10)}function Yge(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;if(t.length>r)throw new m0e({size:t.length,targetSize:r,type:"Bytes"});const i=new Uint8Array(r);for(let s=0;s<r;s++){const a=n==="right";i[a?s:r-s-1]=t[a?s:t.length-s-1]}return i}function kq(t,e){if($u(t)>e)throw new s0e({givenSize:$u(t),maxSize:e})}function Zge(t,e){if(typeof e=="number"&&e>0&&e>$u(t)-1)throw new Nq({offset:e,position:"start",size:$u(t)})}function Xge(t,e,n){if(typeof e=="number"&&typeof n=="number"&&$u(t)!==n-e)throw new Nq({offset:n,position:"end",size:$u(t)})}function Rq(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;const i=t.replace("0x","");if(i.length>r*2)throw new a0e({size:Math.ceil(i.length/2),targetSize:r,type:"Hex"});return`0x${i[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const Jge="#__bigint";function NC(t,e,n){return JSON.stringify(t,(r,i)=>typeof i=="bigint"?i.toString()+Jge:i,n)}const Qge=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function e0e(t,e={}){const{strict:n=!1}=e;if(!t)throw new nD(t);if(typeof t!="string")throw new nD(t);if(n&&!/^0x[0-9a-fA-F]*$/.test(t))throw new rD(t);if(!t.startsWith("0x"))throw new rD(t)}function t0e(...t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}function PC(t){return t instanceof Uint8Array?r_(t):Array.isArray(t)?r_(new Uint8Array(t)):t}function r_(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=Qge[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(kq(r,e.size),$q(r,e.size)):r}function Ix(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const a=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<a){const d=typeof t=="bigint"?"n":"";throw new i0e({max:s?`${s}${d}`:void 0,min:`${a}${d}`,signed:n,size:r,value:`${t}${d}`})}const u=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?n0e(u,r):u}function n0e(t,e){return Rq(t,{dir:"left",size:e})}function $q(t,e){return Rq(t,{dir:"right",size:e})}function Uc(t,e,n,r={}){const{strict:i}=r;Zge(t,e);const s=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return i&&Xge(s,e,n),s}function $u(t){return Math.ceil((t.length-2)/2)}function r0e(t,e={}){const{strict:n=!1}=e;try{return e0e(t,{strict:n}),!0}catch{return!1}}class i0e extends Vn{constructor({max:e,min:n,signed:r,size:i,value:s}){super(`Number \`${s}\` is not in safe${i?` ${i*8}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${n}\` to \`${e}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class nD extends Vn{constructor(e){super(`Value \`${typeof e=="object"?NC(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class rD extends Vn{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}let s0e=class extends Vn{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}};class Nq extends Vn{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}let a0e=class extends Vn{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}};const o0e=new TextEncoder;function c0e(t){if(!(t instanceof Uint8Array)){if(!t)throw new hv(t);if(typeof t!="object")throw new hv(t);if(!("BYTES_PER_ELEMENT"in t))throw new hv(t);if(t.BYTES_PER_ELEMENT!==1||t.constructor.name!=="Uint8Array")throw new hv(t)}}function l0e(t){return t instanceof Uint8Array?t:typeof t=="string"?d0e(t):u0e(t)}function u0e(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function d0e(t,e={}){const{size:n}=e;let r=t;n&&(kq(t,n),r=$q(t,n));let i=r.slice(2);i.length%2&&(i=`0${i}`);const s=i.length/2,a=new Uint8Array(s);for(let c=0,u=0;c<s;c++){const d=tD(i.charCodeAt(u++)),h=tD(i.charCodeAt(u++));if(d===void 0||h===void 0)throw new Vn(`Invalid byte sequence ("${i[u-2]}${i[u-1]}" in "${i}").`);a[c]=d*16+h}return a}function f0e(t,e={}){const{size:n}=e,r=o0e.encode(t);return typeof n=="number"?(Kge(r,n),h0e(r,n)):r}function h0e(t,e){return Yge(t,{dir:"right",size:e})}function iD(t){return t.length}function p0e(t){try{return c0e(t),!0}catch{return!1}}class hv extends Vn{constructor(e){super(`Value \`${typeof e=="object"?NC(e):e}\` of type \`${typeof e}\` is an invalid Bytes value.`,{metaMessages:["Bytes values must be of type `Bytes`."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesTypeError"})}}class y0e extends Vn{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}}class m0e extends Vn{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}}function Pq(t,e={}){const{as:n=typeof t=="string"?"Hex":"Bytes"}=e,r=jge(l0e(t));return n==="Bytes"?r:r_(r)}class g0e extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const b0e={checksum:new g0e(8192)},Cx=b0e.checksum;function Dq(t,e={}){const{compressed:n}=e,{prefix:r,x:i,y:s}=t;if(n===!1||typeof i=="bigint"&&typeof s=="bigint"){if(r!==4)throw new sD({prefix:r,cause:new S0e});return}if(n===!0||typeof i=="bigint"&&typeof s>"u"){if(r!==3&&r!==2)throw new sD({prefix:r,cause:new A0e});return}throw new E0e({publicKey:t})}function w0e(t){const e=(()=>{if(r0e(t))return Mq(t);if(p0e(t))return v0e(t);const{prefix:n,x:r,y:i}=t;return typeof r=="bigint"&&typeof i=="bigint"?{prefix:n??4,x:r,y:i}:{prefix:n,x:r}})();return Dq(e),e}function v0e(t){return Mq(r_(t))}function Mq(t){if(t.length!==132&&t.length!==130&&t.length!==68)throw new x0e({publicKey:t});if(t.length===130){const r=BigInt(Uc(t,0,32)),i=BigInt(Uc(t,32,64));return{prefix:4,x:r,y:i}}if(t.length===132){const r=Number(Uc(t,0,1)),i=BigInt(Uc(t,1,33)),s=BigInt(Uc(t,33,65));return{prefix:r,x:i,y:s}}const e=Number(Uc(t,0,1)),n=BigInt(Uc(t,1,33));return{prefix:e,x:n}}function _0e(t,e={}){Dq(t);const{prefix:n,x:r,y:i}=t,{includePrefix:s=!0}=e;return t0e(s?Ix(n,{size:1}):"0x",Ix(r,{size:32}),typeof i=="bigint"?Ix(i,{size:32}):"0x")}class E0e extends Vn{constructor({publicKey:e}){super(`Value \`${NC(e)}\` is not a valid public key.`,{metaMessages:["Public key must contain:","- an `x` and `prefix` value (compressed)","- an `x`, `y`, and `prefix` value (uncompressed)"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidError"})}}class sD extends Vn{constructor({prefix:e,cause:n}){super(`Prefix "${e}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidPrefixError"})}}class A0e extends Vn{constructor(){super("Prefix must be 2 or 3 for compressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidCompressedPrefixError"})}}class S0e extends Vn{constructor(){super("Prefix must be 4 for uncompressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidUncompressedPrefixError"})}}let x0e=class extends Vn{constructor({publicKey:e}){super(`Value \`${e}\` is an invalid public key size.`,{metaMessages:["Expected: 33 bytes (compressed + prefix), 64 bytes (uncompressed) or 65 bytes (uncompressed + prefix).",`Received ${$u(PC(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidSerializedSizeError"})}};const T0e=/^0x[a-fA-F0-9]{40}$/;function Uq(t,e={}){const{strict:n=!0}=e;if(!T0e.test(t))throw new aD({address:t,cause:new O0e});if(n){if(t.toLowerCase()===t)return;if(Bq(t)!==t)throw new aD({address:t,cause:new k0e})}}function Bq(t){if(Cx.has(t))return Cx.get(t);Uq(t,{strict:!1});const e=t.substring(2).toLowerCase(),n=Pq(f0e(e),{as:"Bytes"}),r=e.split("");for(let s=0;s<40;s+=2)n[s>>1]>>4>=8&&r[s]&&(r[s]=r[s].toUpperCase()),(n[s>>1]&15)>=8&&r[s+1]&&(r[s+1]=r[s+1].toUpperCase());const i=`0x${r.join("")}`;return Cx.set(t,i),i}function I0e(t,e={}){const{checksum:n=!1}=e;return Uq(t),n?Bq(t):t}function C0e(t,e={}){const n=Pq(`0x${_0e(t).slice(4)}`).substring(26);return I0e(`0x${n}`,e)}class aD extends Vn{constructor({address:e,cause:n}){super(`Address "${e}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class O0e extends Vn{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class k0e extends Vn{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}class Lq extends CC{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,hge(e);const r=SE(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=e.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),Cp(s)}update(e){return Ip(this),this.iHash.update(e),this}digestInto(e){Ip(this),df(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:a,outputLen:c}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=a,e.outputLen=c,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const jq=(t,e,n)=>new Lq(t,e).update(n).digest();jq.create=(t,e)=>new Lq(t,e);const is=BigInt(0),Pi=BigInt(1),Md=BigInt(2),R0e=BigInt(3),zq=BigInt(4),Fq=BigInt(5),qq=BigInt(8);function es(t,e){const n=t%e;return n>=is?n:e+n}function na(t,e,n){let r=t;for(;e-- >is;)r*=r,r%=n;return r}function C5(t,e){if(t===is)throw new Error("invert: expected non-zero number");if(e<=is)throw new Error("invert: expected positive modulus, got "+e);let n=es(t,e),r=e,i=is,s=Pi;for(;n!==is;){const c=r/n,u=r%n,d=i-s*c;r=n,n=u,i=s,s=d}if(r!==Pi)throw new Error("invert: does not exist");return es(i,e)}function Wq(t,e){const n=(t.ORDER+Pi)/zq,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function $0e(t,e){const n=(t.ORDER-Fq)/qq,r=t.mul(e,Md),i=t.pow(r,n),s=t.mul(e,i),a=t.mul(t.mul(s,Md),i),c=t.mul(s,t.sub(a,t.ONE));if(!t.eql(t.sqr(c),e))throw new Error("Cannot find square root");return c}function N0e(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-Pi,n=0;for(;e%Md===is;)e/=Md,n++;let r=Md;const i=DC(t);for(;oD(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return Wq;let s=i.pow(r,e);const a=(e+Pi)/Md;return function(u,d){if(u.is0(d))return d;if(oD(u,d)!==1)throw new Error("Cannot find square root");let h=n,p=u.mul(u.ONE,s),m=u.pow(d,e),g=u.pow(d,a);for(;!u.eql(m,u.ONE);){if(u.is0(m))return u.ZERO;let b=1,v=u.sqr(m);for(;!u.eql(v,u.ONE);)if(b++,v=u.sqr(v),b===h)throw new Error("Cannot find square root");const E=Pi<<BigInt(h-b-1),O=u.pow(p,E);h=b,p=u.sqr(O),m=u.mul(m,p),g=u.mul(g,O)}return g}}function P0e(t){return t%zq===R0e?Wq:t%qq===Fq?$0e:N0e(t)}const D0e=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function M0e(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=D0e.reduce((r,i)=>(r[i]="function",r),e);return TE(t,n)}function U0e(t,e,n){if(n<is)throw new Error("invalid exponent, negatives unsupported");if(n===is)return t.ONE;if(n===Pi)return e;let r=t.ONE,i=e;for(;n>is;)n&Pi&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Pi;return r}function Hq(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((a,c,u)=>t.is0(c)?a:(r[u]=a,t.mul(a,c)),t.ONE),s=t.inv(i);return e.reduceRight((a,c,u)=>t.is0(c)?a:(r[u]=t.mul(a,r[u]),t.mul(a,c)),s),r}function oD(t,e){const n=(t.ORDER-Pi)/Md,r=t.pow(e,n),i=t.eql(r,t.ONE),s=t.eql(r,t.ZERO),a=t.eql(r,t.neg(t.ONE));if(!i&&!s&&!a)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function Vq(t,e){e!==void 0&&v0(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function DC(t,e,n=!1,r={}){if(t<=is)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=Vq(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let a;const c=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:xE(i),ZERO:is,ONE:Pi,create:u=>es(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return is<=u&&u<t},is0:u=>u===is,isOdd:u=>(u&Pi)===Pi,neg:u=>es(-u,t),eql:(u,d)=>u===d,sqr:u=>es(u*u,t),add:(u,d)=>es(u+d,t),sub:(u,d)=>es(u-d,t),mul:(u,d)=>es(u*d,t),pow:(u,d)=>U0e(c,u,d),div:(u,d)=>es(u*C5(d,t),t),sqrN:u=>u*u,addN:(u,d)=>u+d,subN:(u,d)=>u-d,mulN:(u,d)=>u*d,inv:u=>C5(u,t),sqrt:r.sqrt||(u=>(a||(a=P0e(t)),a(c,u))),toBytes:u=>n?Oq(u,s):ub(u,s),fromBytes:u=>{if(u.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+u.length);return n?Cq(u):Gd(u)},invertBatch:u=>Hq(c,u),cmov:(u,d,h)=>h?d:u});return Object.freeze(c)}function Gq(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function Kq(t){const e=Gq(t);return e+Math.ceil(e/2)}function B0e(t,e,n=!1){const r=t.length,i=Gq(e),s=Kq(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const a=n?Cq(t):Gd(t),c=es(a,e-Pi)+Pi;return n?Oq(c,i):ub(c,i)}const cD=BigInt(0),O5=BigInt(1);function Ox(t,e){const n=e.negate();return t?n:e}function Yq(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function kx(t,e){Yq(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,s=xE(t),a=BigInt(t);return{windows:n,windowSize:r,mask:s,maxNumber:i,shiftBy:a}}function lD(t,e,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:a}=n;let c=Number(t&i),u=t>>a;c>r&&(c-=s,u+=O5);const d=e*r,h=d+Math.abs(c)-1,p=c===0,m=c<0,g=e%2!==0;return{nextN:u,offset:h,isZero:p,isNeg:m,isNegF:g,offsetF:d}}function L0e(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function j0e(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const Rx=new WeakMap,Zq=new WeakMap;function $x(t){return Zq.get(t)||1}function z0e(t,e){return{constTimeNegate:Ox,hasPrecomputes(n){return $x(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>cD;)r&O5&&(i=i.add(s)),s=s.double(),r>>=O5;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=kx(r,e),a=[];let c=n,u=c;for(let d=0;d<i;d++){u=c,a.push(u);for(let h=1;h<s;h++)u=u.add(c),a.push(u);c=u.double()}return a},wNAF(n,r,i){let s=t.ZERO,a=t.BASE;const c=kx(n,e);for(let u=0;u<c.windows;u++){const{nextN:d,offset:h,isZero:p,isNeg:m,isNegF:g,offsetF:b}=lD(i,u,c);i=d,p?a=a.add(Ox(g,r[b])):s=s.add(Ox(m,r[h]))}return{p:s,f:a}},wNAFUnsafe(n,r,i,s=t.ZERO){const a=kx(n,e);for(let c=0;c<a.windows&&i!==cD;c++){const{nextN:u,offset:d,isZero:h,isNeg:p}=lD(i,c,a);if(i=u,!h){const m=r[d];s=s.add(p?m.negate():m)}}return s},getPrecomputes(n,r,i){let s=Rx.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&Rx.set(r,i(s))),s},wNAFCached(n,r,i){const s=$x(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const a=$x(n);return a===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(a,this.getPrecomputes(a,n,i),r,s)},setWindowSize(n,r){Yq(r,e),Zq.set(n,r),Rx.delete(n)}}}function F0e(t,e,n,r){L0e(n,t),j0e(r,e);const i=n.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const a=t.ZERO,c=Hge(BigInt(i));let u=1;c>12?u=c-3:c>4?u=c-2:c>0&&(u=2);const d=xE(u),h=new Array(Number(d)+1).fill(a),p=Math.floor((e.BITS-1)/u)*u;let m=a;for(let g=p;g>=0;g-=u){h.fill(a);for(let v=0;v<s;v++){const E=r[v],O=Number(E>>BigInt(g)&d);h[O]=h[O].add(n[v])}let b=a;for(let v=h.length-1,E=a;v>0;v--)E=E.add(h[v]),b=b.add(E);if(m=m.add(b),g!==0)for(let v=0;v<u;v++)m=m.double()}return m}function Xq(t){return M0e(t.Fp),TE(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Vq(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}function uD(t){t.lowS!==void 0&&_0("lowS",t.lowS),t.prehash!==void 0&&_0("prehash",t.prehash)}function q0e(t){const e=Xq(t);TE(e,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...e})}class W0e extends Error{constructor(e=""){super(e)}}const qc={Err:W0e,_tlv:{encode:(t,e)=>{const{Err:n}=qc;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=fv(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?fv(i.length/2|128):"";return fv(t)+s+i+e},decode(t,e){const{Err:n}=qc;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let a=0;if(!s)a=i;else{const u=i&127;if(!u)throw new n("tlv.decode(long): indefinite length not supported");if(u>4)throw new n("tlv.decode(long): byte length is too big");const d=e.subarray(r,r+u);if(d.length!==u)throw new n("tlv.decode: length bytes not complete");if(d[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const h of d)a=a<<8|h;if(r+=u,a<128)throw new n("tlv.decode(long): not minimal encoding")}const c=e.subarray(r,r+a);if(c.length!==a)throw new n("tlv.decode: wrong value length");return{v:c,l:e.subarray(r+a)}}},_int:{encode(t){const{Err:e}=qc;if(t<Gc)throw new e("integer: negative integers are not allowed");let n=fv(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=qc;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Gd(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=qc,i=da("signature",t),{v:s,l:a}=r.decode(48,i);if(a.length)throw new e("invalid signature: left bytes after parsing");const{v:c,l:u}=r.decode(2,s),{v:d,l:h}=r.decode(2,u);if(h.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(c),s:n.decode(d)}},hexFromSig(t){const{_tlv:e,_int:n}=qc,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}};function Nx(t,e){return E0(ub(t,e))}const Gc=BigInt(0),qr=BigInt(1);BigInt(2);const Px=BigInt(3),H0e=BigInt(4);function V0e(t){const e=q0e(t),{Fp:n}=e,r=DC(e.n,e.nBitLength),i=e.toBytes||((S,A,C)=>{const I=A.toAffine();return n_(Uint8Array.from([4]),n.toBytes(I.x),n.toBytes(I.y))}),s=e.fromBytes||(S=>{const A=S.subarray(1),C=n.fromBytes(A.subarray(0,n.BYTES)),I=n.fromBytes(A.subarray(n.BYTES,2*n.BYTES));return{x:C,y:I}});function a(S){const{a:A,b:C}=e,I=n.sqr(S),N=n.mul(I,S);return n.add(n.add(N,n.mul(S,A)),C)}function c(S,A){const C=n.sqr(A),I=a(S);return n.eql(C,I)}if(!c(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const u=n.mul(n.pow(e.a,Px),H0e),d=n.mul(n.sqr(e.b),BigInt(27));if(n.is0(n.add(u,d)))throw new Error("bad curve params: a or b");function h(S){return $C(S,qr,e.n)}function p(S){const{allowedPrivateKeyLengths:A,nByteLength:C,wrapPrivateKey:I,n:N}=e;if(A&&typeof S!="bigint"){if(lb(S)&&(S=E0(S)),typeof S!="string"||!A.includes(S.length))throw new Error("invalid private key");S=S.padStart(C*2,"0")}let z;try{z=typeof S=="bigint"?S:Gd(da("private key",S,C))}catch{throw new Error("invalid private key, expected hex or "+C+" bytes, got "+typeof S)}return I&&(z=es(z,N)),np("private key",z,qr,N),z}function m(S){if(!(S instanceof v))throw new Error("ProjectivePoint expected")}const g=eD((S,A)=>{const{px:C,py:I,pz:N}=S;if(n.eql(N,n.ONE))return{x:C,y:I};const z=S.is0();A==null&&(A=z?n.ONE:n.inv(N));const L=n.mul(C,A),B=n.mul(I,A),H=n.mul(N,A);if(z)return{x:n.ZERO,y:n.ZERO};if(!n.eql(H,n.ONE))throw new Error("invZ was invalid");return{x:L,y:B}}),b=eD(S=>{if(S.is0()){if(e.allowInfinityPoint&&!n.is0(S.py))return;throw new Error("bad point: ZERO")}const{x:A,y:C}=S.toAffine();if(!n.isValid(A)||!n.isValid(C))throw new Error("bad point: x or y not FE");if(!c(A,C))throw new Error("bad point: equation left != right");if(!S.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class v{constructor(A,C,I){if(A==null||!n.isValid(A))throw new Error("x required");if(C==null||!n.isValid(C)||n.is0(C))throw new Error("y required");if(I==null||!n.isValid(I))throw new Error("z required");this.px=A,this.py=C,this.pz=I,Object.freeze(this)}static fromAffine(A){const{x:C,y:I}=A||{};if(!A||!n.isValid(C)||!n.isValid(I))throw new Error("invalid affine point");if(A instanceof v)throw new Error("projective point not allowed");const N=z=>n.eql(z,n.ZERO);return N(C)&&N(I)?v.ZERO:new v(C,I,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(A){const C=Hq(n,A.map(I=>I.pz));return A.map((I,N)=>I.toAffine(C[N])).map(v.fromAffine)}static fromHex(A){const C=v.fromAffine(s(da("pointHex",A)));return C.assertValidity(),C}static fromPrivateKey(A){return v.BASE.multiply(p(A))}static msm(A,C){return F0e(v,r,A,C)}_setWindowSize(A){k.setWindowSize(this,A)}assertValidity(){b(this)}hasEvenY(){const{y:A}=this.toAffine();if(n.isOdd)return!n.isOdd(A);throw new Error("Field doesn't support isOdd")}equals(A){m(A);const{px:C,py:I,pz:N}=this,{px:z,py:L,pz:B}=A,H=n.eql(n.mul(C,B),n.mul(z,N)),D=n.eql(n.mul(I,B),n.mul(L,N));return H&&D}negate(){return new v(this.px,n.neg(this.py),this.pz)}double(){const{a:A,b:C}=e,I=n.mul(C,Px),{px:N,py:z,pz:L}=this;let B=n.ZERO,H=n.ZERO,D=n.ZERO,F=n.mul(N,N),K=n.mul(z,z),T=n.mul(L,L),x=n.mul(N,z);return x=n.add(x,x),D=n.mul(N,L),D=n.add(D,D),B=n.mul(A,D),H=n.mul(I,T),H=n.add(B,H),B=n.sub(K,H),H=n.add(K,H),H=n.mul(B,H),B=n.mul(x,B),D=n.mul(I,D),T=n.mul(A,T),x=n.sub(F,T),x=n.mul(A,x),x=n.add(x,D),D=n.add(F,F),F=n.add(D,F),F=n.add(F,T),F=n.mul(F,x),H=n.add(H,F),T=n.mul(z,L),T=n.add(T,T),F=n.mul(T,x),B=n.sub(B,F),D=n.mul(T,K),D=n.add(D,D),D=n.add(D,D),new v(B,H,D)}add(A){m(A);const{px:C,py:I,pz:N}=this,{px:z,py:L,pz:B}=A;let H=n.ZERO,D=n.ZERO,F=n.ZERO;const K=e.a,T=n.mul(e.b,Px);let x=n.mul(C,z),$=n.mul(I,L),j=n.mul(N,B),P=n.add(C,I),V=n.add(z,L);P=n.mul(P,V),V=n.add(x,$),P=n.sub(P,V),V=n.add(C,N);let M=n.add(z,B);return V=n.mul(V,M),M=n.add(x,j),V=n.sub(V,M),M=n.add(I,N),H=n.add(L,B),M=n.mul(M,H),H=n.add($,j),M=n.sub(M,H),F=n.mul(K,V),H=n.mul(T,j),F=n.add(H,F),H=n.sub($,F),F=n.add($,F),D=n.mul(H,F),$=n.add(x,x),$=n.add($,x),j=n.mul(K,j),V=n.mul(T,V),$=n.add($,j),j=n.sub(x,j),j=n.mul(K,j),V=n.add(V,j),x=n.mul($,V),D=n.add(D,x),x=n.mul(M,V),H=n.mul(P,H),H=n.sub(H,x),x=n.mul(P,$),F=n.mul(M,F),F=n.add(F,x),new v(H,D,F)}subtract(A){return this.add(A.negate())}is0(){return this.equals(v.ZERO)}wNAF(A){return k.wNAFCached(this,A,v.normalizeZ)}multiplyUnsafe(A){const{endo:C,n:I}=e;np("scalar",A,Gc,I);const N=v.ZERO;if(A===Gc)return N;if(this.is0()||A===qr)return this;if(!C||k.hasPrecomputes(this))return k.wNAFCachedUnsafe(this,A,v.normalizeZ);let{k1neg:z,k1:L,k2neg:B,k2:H}=C.splitScalar(A),D=N,F=N,K=this;for(;L>Gc||H>Gc;)L&qr&&(D=D.add(K)),H&qr&&(F=F.add(K)),K=K.double(),L>>=qr,H>>=qr;return z&&(D=D.negate()),B&&(F=F.negate()),F=new v(n.mul(F.px,C.beta),F.py,F.pz),D.add(F)}multiply(A){const{endo:C,n:I}=e;np("scalar",A,qr,I);let N,z;if(C){const{k1neg:L,k1:B,k2neg:H,k2:D}=C.splitScalar(A);let{p:F,f:K}=this.wNAF(B),{p:T,f:x}=this.wNAF(D);F=k.constTimeNegate(L,F),T=k.constTimeNegate(H,T),T=new v(n.mul(T.px,C.beta),T.py,T.pz),N=F.add(T),z=K.add(x)}else{const{p:L,f:B}=this.wNAF(A);N=L,z=B}return v.normalizeZ([N,z])[0]}multiplyAndAddUnsafe(A,C,I){const N=v.BASE,z=(B,H)=>H===Gc||H===qr||!B.equals(N)?B.multiplyUnsafe(H):B.multiply(H),L=z(this,C).add(z(A,I));return L.is0()?void 0:L}toAffine(A){return g(this,A)}isTorsionFree(){const{h:A,isTorsionFree:C}=e;if(A===qr)return!0;if(C)return C(v,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:A,clearCofactor:C}=e;return A===qr?this:C?C(v,this):this.multiplyUnsafe(e.h)}toRawBytes(A=!0){return _0("isCompressed",A),this.assertValidity(),i(v,this,A)}toHex(A=!0){return _0("isCompressed",A),E0(this.toRawBytes(A))}}v.BASE=new v(e.Gx,e.Gy,n.ONE),v.ZERO=new v(n.ZERO,n.ONE,n.ZERO);const{endo:E,nBitLength:O}=e,k=z0e(v,E?Math.ceil(O/2):O);return{CURVE:e,ProjectivePoint:v,normPrivateKeyToScalar:p,weierstrassEquation:a,isWithinCurveOrder:h}}function G0e(t){const e=Xq(t);return TE(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function K0e(t){const e=G0e(t),{Fp:n,n:r,nByteLength:i,nBitLength:s}=e,a=n.BYTES+1,c=2*n.BYTES+1;function u(T){return es(T,r)}function d(T){return C5(T,r)}const{ProjectivePoint:h,normPrivateKeyToScalar:p,weierstrassEquation:m,isWithinCurveOrder:g}=V0e({...e,toBytes(T,x,$){const j=x.toAffine(),P=n.toBytes(j.x),V=n_;return _0("isCompressed",$),$?V(Uint8Array.from([x.hasEvenY()?2:3]),P):V(Uint8Array.from([4]),P,n.toBytes(j.y))},fromBytes(T){const x=T.length,$=T[0],j=T.subarray(1);if(x===a&&($===2||$===3)){const P=Gd(j);if(!$C(P,qr,n.ORDER))throw new Error("Point is not on curve");const V=m(P);let M;try{M=n.sqrt(V)}catch(X){const Q=X instanceof Error?": "+X.message:"";throw new Error("Point is not on curve"+Q)}const G=(M&qr)===qr;return($&1)===1!==G&&(M=n.neg(M)),{x:P,y:M}}else if(x===c&&$===4){const P=n.fromBytes(j.subarray(0,n.BYTES)),V=n.fromBytes(j.subarray(n.BYTES,2*n.BYTES));return{x:P,y:V}}else{const P=a,V=c;throw new Error("invalid Point, expected length of "+P+", or uncompressed "+V+", got "+x)}}});function b(T){const x=r>>qr;return T>x}function v(T){return b(T)?u(-T):T}const E=(T,x,$)=>Gd(T.slice(x,$));class O{constructor(x,$,j){np("r",x,qr,r),np("s",$,qr,r),this.r=x,this.s=$,j!=null&&(this.recovery=j),Object.freeze(this)}static fromCompact(x){const $=i;return x=da("compactSignature",x,$*2),new O(E(x,0,$),E(x,$,2*$))}static fromDER(x){const{r:$,s:j}=qc.toSig(da("DER",x));return new O($,j)}assertValidity(){}addRecoveryBit(x){return new O(this.r,this.s,x)}recoverPublicKey(x){const{r:$,s:j,recovery:P}=this,V=N(da("msgHash",x));if(P==null||![0,1,2,3].includes(P))throw new Error("recovery id invalid");const M=P===2||P===3?$+e.n:$;if(M>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const G=(P&1)===0?"02":"03",J=h.fromHex(G+Nx(M,n.BYTES)),X=d(M),Q=u(-V*X),ge=u(j*X),we=h.BASE.multiplyAndAddUnsafe(J,Q,ge);if(!we)throw new Error("point at infinify");return we.assertValidity(),we}hasHighS(){return b(this.s)}normalizeS(){return this.hasHighS()?new O(this.r,u(-this.s),this.recovery):this}toDERRawBytes(){return t_(this.toDERHex())}toDERHex(){return qc.hexFromSig(this)}toCompactRawBytes(){return t_(this.toCompactHex())}toCompactHex(){const x=i;return Nx(this.r,x)+Nx(this.s,x)}}const k={isValidPrivateKey(T){try{return p(T),!0}catch{return!1}},normPrivateKeyToScalar:p,randomPrivateKey:()=>{const T=Kq(e.n);return B0e(e.randomBytes(T),e.n)},precompute(T=8,x=h.BASE){return x._setWindowSize(T),x.multiply(BigInt(3)),x}};function S(T,x=!0){return h.fromPrivateKey(T).toRawBytes(x)}function A(T){if(typeof T=="bigint")return!1;if(T instanceof h)return!0;const $=da("key",T).length,j=n.BYTES,P=j+1,V=2*j+1;if(!(e.allowedPrivateKeyLengths||i===P))return $===P||$===V}function C(T,x,$=!0){if(A(T)===!0)throw new Error("first arg must be private key");if(A(x)===!1)throw new Error("second arg must be public key");return h.fromHex(x).multiply(p(T)).toRawBytes($)}const I=e.bits2int||function(T){if(T.length>8192)throw new Error("input is too large");const x=Gd(T),$=T.length*8-s;return $>0?x>>BigInt($):x},N=e.bits2int_modN||function(T){return u(I(T))},z=xE(s);function L(T){return np("num < 2^"+s,T,Gc,z),ub(T,i)}function B(T,x,$=H){if(["recovered","canonical"].some(Ee=>Ee in $))throw new Error("sign() legacy options not supported");const{hash:j,randomBytes:P}=e;let{lowS:V,prehash:M,extraEntropy:G}=$;V==null&&(V=!0),T=da("msgHash",T),uD($),M&&(T=da("prehashed msgHash",j(T)));const J=N(T),X=p(x),Q=[L(X),L(J)];if(G!=null&&G!==!1){const Ee=G===!0?P(n.BYTES):G;Q.push(da("extraEntropy",Ee))}const ge=n_(...Q),we=J;function Te(Ee){const Pe=I(Ee);if(!g(Pe))return;const qe=d(Pe),rt=h.BASE.multiply(Pe).toAffine(),ye=u(rt.x);if(ye===Gc)return;const Tt=u(qe*u(we+ye*X));if(Tt===Gc)return;let Kt=(rt.x===ye?0:2)|Number(rt.y&qr),wt=Tt;return V&&b(Tt)&&(wt=v(Tt),Kt^=1),new O(ye,wt,Kt)}return{seed:ge,k2sig:Te}}const H={lowS:e.lowS,prehash:!1},D={lowS:e.lowS,prehash:!1};function F(T,x,$=H){const{seed:j,k2sig:P}=B(T,x,$),V=e;return Vge(V.hash.outputLen,V.nByteLength,V.hmac)(j,P)}h.BASE._setWindowSize(8);function K(T,x,$,j=D){const P=T;x=da("msgHash",x),$=da("publicKey",$);const{lowS:V,prehash:M,format:G}=j;if(uD(j),"strict"in j)throw new Error("options.strict was renamed to lowS");if(G!==void 0&&G!=="compact"&&G!=="der")throw new Error("format must be compact or der");const J=typeof P=="string"||lb(P),X=!J&&!G&&typeof P=="object"&&P!==null&&typeof P.r=="bigint"&&typeof P.s=="bigint";if(!J&&!X)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let Q,ge;try{if(X&&(Q=new O(P.r,P.s)),J){try{G!=="compact"&&(Q=O.fromDER(P))}catch(Kt){if(!(Kt instanceof qc.Err))throw Kt}!Q&&G!=="der"&&(Q=O.fromCompact(P))}ge=h.fromHex($)}catch{return!1}if(!Q||V&&Q.hasHighS())return!1;M&&(x=e.hash(x));const{r:we,s:Te}=Q,Ee=N(x),Pe=d(Te),qe=u(Ee*Pe),rt=u(we*Pe),ye=h.BASE.multiplyAndAddUnsafe(ge,qe,rt)?.toAffine();return ye?u(ye.x)===we:!1}return{CURVE:e,getPublicKey:S,getSharedSecret:C,sign:F,verify:K,ProjectivePoint:h,Signature:O,utils:k}}function Y0e(t){return{hash:t,hmac:(e,...n)=>jq(t,e,wge(...n)),randomBytes:vge}}function Z0e(t,e){const n=r=>K0e({...t,...Y0e(r)});return{...n(e),create:n}}const Jq=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),dD=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),X0e=BigInt(0),J0e=BigInt(1),k5=BigInt(2),fD=(t,e)=>(t+e/k5)/e;function Q0e(t){const e=Jq,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),a=BigInt(23),c=BigInt(44),u=BigInt(88),d=t*t*t%e,h=d*d*t%e,p=na(h,n,e)*h%e,m=na(p,n,e)*h%e,g=na(m,k5,e)*d%e,b=na(g,i,e)*g%e,v=na(b,s,e)*b%e,E=na(v,c,e)*v%e,O=na(E,u,e)*E%e,k=na(O,c,e)*v%e,S=na(k,n,e)*h%e,A=na(S,a,e)*b%e,C=na(A,r,e)*d%e,I=na(C,k5,e);if(!R5.eql(R5.sqr(I),t))throw new Error("Cannot find square root");return I}const R5=DC(Jq,void 0,void 0,{sqrt:Q0e}),ebe=Z0e({a:X0e,b:BigInt(7),Fp:R5,n:dD,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=dD,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-J0e*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,a=BigInt("0x100000000000000000000000000000000"),c=fD(s*t,e),u=fD(-r*t,e);let d=es(t-c*n-u*i,e),h=es(-c*r-u*s,e);const p=d>a,m=h>a;if(p&&(d=e-d),m&&(h=e-h),d>a||h>a)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:p,k1:d,k2neg:m,k2:h}}}},qge);function tbe(t){if(t.length!==130&&t.length!==132)throw new rbe({signature:t});const e=BigInt(Uc(t,0,32)),n=BigInt(Uc(t,32,64)),r=(()=>{const i=+`0x${t.slice(130)}`;if(!Number.isNaN(i))try{return nbe(i)}catch{throw new ibe({value:i})}})();return typeof r>"u"?{r:e,s:n}:{r:e,s:n,yParity:r}}function nbe(t){if(t===0||t===27)return 0;if(t===1||t===28)return 1;if(t>=35)return t%2===0?1:0;throw new sbe({value:t})}class rbe extends Vn{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${$u(PC(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class ibe extends Vn{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class sbe extends Vn{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function abe(t){return C0e(obe(t))}function obe(t){const{payload:e,signature:n}=t,{r,s:i,yParity:s}=n,c=new ebe.Signature(BigInt(r),BigInt(i)).addRecoveryBit(s).recoverPublicKey(PC(e).substring(2));return w0e(c)}function cbe(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let d=0;d<e.length;d++)e[d]=255;for(let d=0;d<t.length;d++){const h=t.charAt(d),p=h.charCodeAt(0);if(e[p]!==255)throw new TypeError(h+" is ambiguous");e[p]=d}const n=t.length,r=t.charAt(0),i=Math.log(n)/Math.log(256),s=Math.log(256)/Math.log(n);function a(d){if(d instanceof Uint8Array||(ArrayBuffer.isView(d)?d=new Uint8Array(d.buffer,d.byteOffset,d.byteLength):Array.isArray(d)&&(d=Uint8Array.from(d))),!(d instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(d.length===0)return"";let h=0,p=0,m=0;const g=d.length;for(;m!==g&&d[m]===0;)m++,h++;const b=(g-m)*s+1>>>0,v=new Uint8Array(b);for(;m!==g;){let k=d[m],S=0;for(let A=b-1;(k!==0||S<p)&&A!==-1;A--,S++)k+=256*v[A]>>>0,v[A]=k%n>>>0,k=k/n>>>0;if(k!==0)throw new Error("Non-zero carry");p=S,m++}let E=b-p;for(;E!==b&&v[E]===0;)E++;let O=r.repeat(h);for(;E<b;++E)O+=t.charAt(v[E]);return O}function c(d){if(typeof d!="string")throw new TypeError("Expected String");if(d.length===0)return new Uint8Array;let h=0,p=0,m=0;for(;d[h]===r;)p++,h++;const g=(d.length-h)*i+1>>>0,b=new Uint8Array(g);for(;h<d.length;){const k=d.charCodeAt(h);if(k>255)return;let S=e[k];if(S===255)return;let A=0;for(let C=g-1;(S!==0||A<m)&&C!==-1;C--,A++)S+=n*b[C]>>>0,b[C]=S%256>>>0,S=S/256>>>0;if(S!==0)throw new Error("Non-zero carry");m=A,h++}let v=g-m;for(;v!==g&&b[v]===0;)v++;const E=new Uint8Array(p+(g-v));let O=p;for(;v!==g;)E[O++]=b[v++];return E}function u(d){const h=c(d);if(h)return h;throw new Error("Non-base"+n+" character")}return{encode:a,decodeUnsafe:c,decode:u}}var lbe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const db=cbe(lbe);function ube(t){const e=t.length;let n=0,r=0;for(;r<e;){let i=t.charCodeAt(r++);if((i&4294967168)===0){n++;continue}else if((i&4294965248)===0)n+=2;else{if(i>=55296&&i<=56319&&r<e){const s=t.charCodeAt(r);(s&64512)===56320&&(++r,i=((i&1023)<<10)+(s&1023)+65536)}(i&4294901760)===0?n+=3:n+=4}}return n}function dbe(t,e,n){const r=t.length;let i=n,s=0;for(;s<r;){let a=t.charCodeAt(s++);if((a&4294967168)===0){e[i++]=a;continue}else if((a&4294965248)===0)e[i++]=a>>6&31|192;else{if(a>=55296&&a<=56319&&s<r){const c=t.charCodeAt(s);(c&64512)===56320&&(++s,a=((a&1023)<<10)+(c&1023)+65536)}(a&4294901760)===0?(e[i++]=a>>12&15|224,e[i++]=a>>6&63|128):(e[i++]=a>>18&7|240,e[i++]=a>>12&63|128,e[i++]=a>>6&63|128)}e[i++]=a&63|128}}const fbe=new TextEncoder,hbe=50;function pbe(t,e,n){fbe.encodeInto(t,e.subarray(n))}function ybe(t,e,n){t.length>hbe?pbe(t,e,n):dbe(t,e,n)}const mbe=4096;function Qq(t,e,n){let r=e;const i=r+n,s=[];let a="";for(;r<i;){const c=t[r++];if((c&128)===0)s.push(c);else if((c&224)===192){const u=t[r++]&63;s.push((c&31)<<6|u)}else if((c&240)===224){const u=t[r++]&63,d=t[r++]&63;s.push((c&31)<<12|u<<6|d)}else if((c&248)===240){const u=t[r++]&63,d=t[r++]&63,h=t[r++]&63;let p=(c&7)<<18|u<<12|d<<6|h;p>65535&&(p-=65536,s.push(p>>>10&1023|55296),p=56320|p&1023),s.push(p)}else s.push(c);s.length>=mbe&&(a+=String.fromCharCode(...s),s.length=0)}return s.length>0&&(a+=String.fromCharCode(...s)),a}const gbe=new TextDecoder,bbe=200;function wbe(t,e,n){const r=t.subarray(e,e+n);return gbe.decode(r)}function vbe(t,e,n){return n>bbe?wbe(t,e,n):Qq(t,e,n)}class pv{constructor(e,n){this.type=e,this.data=n}}class ks extends Error{constructor(e){super(e);const n=Object.create(ks.prototype);Object.setPrototypeOf(this,n),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:ks.name})}}const am=4294967295;function _be(t,e,n){const r=n/4294967296,i=n;t.setUint32(e,r),t.setUint32(e+4,i)}function eW(t,e,n){const r=Math.floor(n/4294967296),i=n;t.setUint32(e,r),t.setUint32(e+4,i)}function tW(t,e){const n=t.getInt32(e),r=t.getUint32(e+4);return n*4294967296+r}function Ebe(t,e){const n=t.getUint32(e),r=t.getUint32(e+4);return n*4294967296+r}const Abe=-1,Sbe=4294967296-1,xbe=17179869184-1;function Tbe({sec:t,nsec:e}){if(t>=0&&e>=0&&t<=xbe)if(e===0&&t<=Sbe){const n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,t),n}else{const n=t/4294967296,r=t&4294967295,i=new Uint8Array(8),s=new DataView(i.buffer);return s.setUint32(0,e<<2|n&3),s.setUint32(4,r),i}else{const n=new Uint8Array(12),r=new DataView(n.buffer);return r.setUint32(0,e),eW(r,4,t),n}}function Ibe(t){const e=t.getTime(),n=Math.floor(e/1e3),r=(e-n*1e3)*1e6,i=Math.floor(r/1e9);return{sec:n+i,nsec:r-i*1e9}}function Cbe(t){if(t instanceof Date){const e=Ibe(t);return Tbe(e)}else return null}function Obe(t){const e=new DataView(t.buffer,t.byteOffset,t.byteLength);switch(t.byteLength){case 4:return{sec:e.getUint32(0),nsec:0};case 8:{const n=e.getUint32(0),r=e.getUint32(4),i=(n&3)*4294967296+r,s=n>>>2;return{sec:i,nsec:s}}case 12:{const n=tW(e,4),r=e.getUint32(0);return{sec:n,nsec:r}}default:throw new ks(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${t.length}`)}}function kbe(t){const e=Obe(t);return new Date(e.sec*1e3+e.nsec/1e6)}const Rbe={type:Abe,encode:Cbe,decode:kbe};class i_{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(Rbe)}register({type:e,encode:n,decode:r}){if(e>=0)this.encoders[e]=n,this.decoders[e]=r;else{const i=-1-e;this.builtInEncoders[i]=n,this.builtInDecoders[i]=r}}tryToEncode(e,n){for(let r=0;r<this.builtInEncoders.length;r++){const i=this.builtInEncoders[r];if(i!=null){const s=i(e,n);if(s!=null){const a=-1-r;return new pv(a,s)}}}for(let r=0;r<this.encoders.length;r++){const i=this.encoders[r];if(i!=null){const s=i(e,n);if(s!=null){const a=r;return new pv(a,s)}}}return e instanceof pv?e:null}decode(e,n,r){const i=n<0?this.builtInDecoders[-1-n]:this.decoders[n];return i?i(e,n,r):new pv(n,e)}}i_.defaultCodec=new i_;function $be(t){return t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer}function $5(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):$be(t)?new Uint8Array(t):Uint8Array.from(t)}const Nbe=100,Pbe=2048;let Dbe=class nW{constructor(e){this.entered=!1,this.extensionCodec=e?.extensionCodec??i_.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.maxDepth=e?.maxDepth??Nbe,this.initialBufferSize=e?.initialBufferSize??Pbe,this.sortKeys=e?.sortKeys??!1,this.forceFloat32=e?.forceFloat32??!1,this.ignoreUndefined=e?.ignoreUndefined??!1,this.forceIntegerToFloat=e?.forceIntegerToFloat??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new nW({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(e){if(this.entered)return this.clone().encodeSharedRef(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(e){if(this.entered)return this.clone().encode(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(e,n){if(n>this.maxDepth)throw new Error(`Too deep objects in depth ${n}`);e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.useBigInt64&&typeof e=="bigint"?this.encodeBigInt64(e):this.encodeObject(e,n)}ensureBufferSizeToWrite(e){const n=this.pos+e;this.view.byteLength<n&&this.resizeBuffer(n*2)}resizeBuffer(e){const n=new ArrayBuffer(e),r=new Uint8Array(n),i=new DataView(n);r.set(this.bytes),this.view=i,this.bytes=r}encodeNil(){this.writeU8(192)}encodeBoolean(e){e===!1?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error(`Too long string: ${e} bytes in UTF-8`)}encodeString(e){const r=ube(e);this.ensureBufferSizeToWrite(5+r),this.writeStringHeader(r),ybe(e,this.bytes,this.pos),this.pos+=r}encodeObject(e,n){const r=this.extensionCodec.tryToEncode(e,this.context);if(r!=null)this.encodeExtension(r);else if(Array.isArray(e))this.encodeArray(e,n);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(typeof e=="object")this.encodeMap(e,n);else throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`)}encodeBinary(e){const n=e.byteLength;if(n<256)this.writeU8(196),this.writeU8(n);else if(n<65536)this.writeU8(197),this.writeU16(n);else if(n<4294967296)this.writeU8(198),this.writeU32(n);else throw new Error(`Too large binary: ${n}`);const r=$5(e);this.writeU8a(r)}encodeArray(e,n){const r=e.length;if(r<16)this.writeU8(144+r);else if(r<65536)this.writeU8(220),this.writeU16(r);else if(r<4294967296)this.writeU8(221),this.writeU32(r);else throw new Error(`Too large array: ${r}`);for(const i of e)this.doEncode(i,n+1)}countWithoutUndefined(e,n){let r=0;for(const i of n)e[i]!==void 0&&r++;return r}encodeMap(e,n){const r=Object.keys(e);this.sortKeys&&r.sort();const i=this.ignoreUndefined?this.countWithoutUndefined(e,r):r.length;if(i<16)this.writeU8(128+i);else if(i<65536)this.writeU8(222),this.writeU16(i);else if(i<4294967296)this.writeU8(223),this.writeU32(i);else throw new Error(`Too large map object: ${i}`);for(const s of r){const a=e[s];this.ignoreUndefined&&a===void 0||(this.encodeString(s),this.doEncode(a,n+1))}}encodeExtension(e){if(typeof e.data=="function"){const r=e.data(this.pos+6),i=r.length;if(i>=4294967296)throw new Error(`Too large extension object: ${i}`);this.writeU8(201),this.writeU32(i),this.writeI8(e.type),this.writeU8a(r);return}const n=e.data.length;if(n===1)this.writeU8(212);else if(n===2)this.writeU8(213);else if(n===4)this.writeU8(214);else if(n===8)this.writeU8(215);else if(n===16)this.writeU8(216);else if(n<256)this.writeU8(199),this.writeU8(n);else if(n<65536)this.writeU8(200),this.writeU16(n);else if(n<4294967296)this.writeU8(201),this.writeU32(n);else throw new Error(`Too large extension object: ${n}`);this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){const n=e.length;this.ensureBufferSizeToWrite(n),this.bytes.set(e,this.pos),this.pos+=n}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),_be(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),eW(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}};function Mbe(t,e){return new Dbe(e).encodeSharedRef(t)}function Dx(t){return`${t<0?"-":""}0x${Math.abs(t).toString(16).padStart(2,"0")}`}const Ube=16,Bbe=16;class Lbe{constructor(e=Ube,n=Bbe){this.hit=0,this.miss=0,this.maxKeyLength=e,this.maxLengthPerKey=n,this.caches=[];for(let r=0;r<this.maxKeyLength;r++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,n,r){const i=this.caches[r-1];e:for(const s of i){const a=s.bytes;for(let c=0;c<r;c++)if(a[c]!==e[n+c])continue e;return s.str}return null}store(e,n){const r=this.caches[e.length-1],i={bytes:e,str:n};r.length>=this.maxLengthPerKey?r[Math.random()*r.length|0]=i:r.push(i)}decode(e,n,r){const i=this.find(e,n,r);if(i!=null)return this.hit++,i;this.miss++;const s=Qq(e,n,r),a=Uint8Array.prototype.slice.call(e,n,n+r);return this.store(a,s),s}}const N5="array",Rg="map_key",rW="map_value",jbe=t=>{if(typeof t=="string"||typeof t=="number")return t;throw new ks("The type of key must be string or number but "+typeof t)};class zbe{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){const n=this.getUninitializedStateFromPool();n.type=N5,n.position=0,n.size=e,n.array=new Array(e)}pushMapState(e){const n=this.getUninitializedStateFromPool();n.type=Rg,n.readCount=0,n.size=e,n.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const e={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(e)}return this.stack[this.stackHeadPosition]}release(e){if(this.stack[this.stackHeadPosition]!==e)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(e.type===N5){const r=e;r.size=0,r.array=void 0,r.position=0,r.type=void 0}if(e.type===Rg||e.type===rW){const r=e;r.size=0,r.map=void 0,r.readCount=0,r.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const om=-1,MC=new DataView(new ArrayBuffer(0)),Fbe=new Uint8Array(MC.buffer);try{MC.getInt8(0)}catch(t){if(!(t instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const hD=new RangeError("Insufficient data"),qbe=new Lbe;let Wbe=class iW{constructor(e){this.totalPos=0,this.pos=0,this.view=MC,this.bytes=Fbe,this.headByte=om,this.stack=new zbe,this.entered=!1,this.extensionCodec=e?.extensionCodec??i_.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.rawStrings=e?.rawStrings??!1,this.maxStrLength=e?.maxStrLength??am,this.maxBinLength=e?.maxBinLength??am,this.maxArrayLength=e?.maxArrayLength??am,this.maxMapLength=e?.maxMapLength??am,this.maxExtLength=e?.maxExtLength??am,this.keyDecoder=e?.keyDecoder!==void 0?e.keyDecoder:qbe,this.mapKeyConverter=e?.mapKeyConverter??jbe}clone(){return new iW({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=om,this.stack.reset()}setBuffer(e){const n=$5(e);this.bytes=n,this.view=new DataView(n.buffer,n.byteOffset,n.byteLength),this.pos=0}appendBuffer(e){if(this.headByte===om&&!this.hasRemaining(1))this.setBuffer(e);else{const n=this.bytes.subarray(this.pos),r=$5(e),i=new Uint8Array(n.length+r.length);i.set(n),i.set(r,n.length),this.setBuffer(i)}}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){const{view:n,pos:r}=this;return new RangeError(`Extra ${n.byteLength-r} of ${n.byteLength} byte(s) found at buffer[${e}]`)}decode(e){if(this.entered)return this.clone().decode(e);try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);const n=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return n}finally{this.entered=!1}}*decodeMulti(e){if(this.entered){yield*this.clone().decodeMulti(e);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered)return this.clone().decodeAsync(e);try{this.entered=!0;let n=!1,r;for await(const c of e){if(n)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(c);try{r=this.doDecodeSync(),n=!0}catch(u){if(!(u instanceof RangeError))throw u}this.totalPos+=this.pos}if(n){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return r}const{headByte:i,pos:s,totalPos:a}=this;throw new RangeError(`Insufficient data in parsing ${Dx(i)} at ${a} (${s} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async*decodeMultiAsync(e,n){if(this.entered){yield*this.clone().decodeMultiAsync(e,n);return}try{this.entered=!0;let r=n,i=-1;for await(const s of e){if(n&&i===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(s),r&&(i=this.readArraySize(),r=!1,this.complete());try{for(;yield this.doDecodeSync(),--i!==0;);}catch(a){if(!(a instanceof RangeError))throw a}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){const e=this.readHeadByte();let n;if(e>=224)n=e-256;else if(e<192)if(e<128)n=e;else if(e<144){const i=e-128;if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(e<160){const i=e-144;if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else{const i=e-160;n=this.decodeString(i,0)}else if(e===192)n=null;else if(e===194)n=!1;else if(e===195)n=!0;else if(e===202)n=this.readF32();else if(e===203)n=this.readF64();else if(e===204)n=this.readU8();else if(e===205)n=this.readU16();else if(e===206)n=this.readU32();else if(e===207)this.useBigInt64?n=this.readU64AsBigInt():n=this.readU64();else if(e===208)n=this.readI8();else if(e===209)n=this.readI16();else if(e===210)n=this.readI32();else if(e===211)this.useBigInt64?n=this.readI64AsBigInt():n=this.readI64();else if(e===217){const i=this.lookU8();n=this.decodeString(i,1)}else if(e===218){const i=this.lookU16();n=this.decodeString(i,2)}else if(e===219){const i=this.lookU32();n=this.decodeString(i,4)}else if(e===220){const i=this.readU16();if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else if(e===221){const i=this.readU32();if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else if(e===222){const i=this.readU16();if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(e===223){const i=this.readU32();if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(e===196){const i=this.lookU8();n=this.decodeBinary(i,1)}else if(e===197){const i=this.lookU16();n=this.decodeBinary(i,2)}else if(e===198){const i=this.lookU32();n=this.decodeBinary(i,4)}else if(e===212)n=this.decodeExtension(1,0);else if(e===213)n=this.decodeExtension(2,0);else if(e===214)n=this.decodeExtension(4,0);else if(e===215)n=this.decodeExtension(8,0);else if(e===216)n=this.decodeExtension(16,0);else if(e===199){const i=this.lookU8();n=this.decodeExtension(i,1)}else if(e===200){const i=this.lookU16();n=this.decodeExtension(i,2)}else if(e===201){const i=this.lookU32();n=this.decodeExtension(i,4)}else throw new ks(`Unrecognized type byte: ${Dx(e)}`);this.complete();const r=this.stack;for(;r.length>0;){const i=r.top();if(i.type===N5)if(i.array[i.position]=n,i.position++,i.position===i.size)n=i.array,r.release(i);else continue e;else if(i.type===Rg){if(n==="__proto__")throw new ks("The key __proto__ is not allowed");i.key=this.mapKeyConverter(n),i.type=rW;continue e}else if(i.map[i.key]=n,i.readCount++,i.readCount===i.size)n=i.map,r.release(i);else{i.key=null,i.type=Rg;continue e}}return n}}readHeadByte(){return this.headByte===om&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=om}readArraySize(){const e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new ks(`Unrecognized array type byte: ${Dx(e)}`)}}}pushMapState(e){if(e>this.maxMapLength)throw new ks(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new ks(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(e)}decodeString(e,n){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,n):this.decodeBinary(e,n)}decodeUtf8String(e,n){if(e>this.maxStrLength)throw new ks(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+n+e)throw hD;const r=this.pos+n;let i;return this.stateIsMapKey()&&this.keyDecoder?.canBeCached(e)?i=this.keyDecoder.decode(this.bytes,r,e):i=vbe(this.bytes,r,e),this.pos+=n+e,i}stateIsMapKey(){return this.stack.length>0?this.stack.top().type===Rg:!1}decodeBinary(e,n){if(e>this.maxBinLength)throw new ks(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+n))throw hD;const r=this.pos+n,i=this.bytes.subarray(r,r+e);return this.pos+=n+e,i}decodeExtension(e,n){if(e>this.maxExtLength)throw new ks(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);const r=this.view.getInt8(this.pos+n),i=this.decodeBinary(e,n+1);return this.extensionCodec.decode(i,r,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){const e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){const e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){const e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){const e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){const e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){const e=Ebe(this.view,this.pos);return this.pos+=8,e}readI64(){const e=tW(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){const e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){const e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){const e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){const e=this.view.getFloat64(this.pos);return this.pos+=8,e}};function Hbe(t,e){return new Wbe(e).decode(t)}const Vbe=t=>JSON.stringify(t,(e,n)=>typeof n=="bigint"?n.toString()+"n":n),Gbe=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,n=t.replace(e,'$1"$2n"$3');return JSON.parse(n,(r,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function ff(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return Gbe(t)}catch{return t}}function dl(t){return typeof t=="string"?t:Vbe(t)||""}function Kbe(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function sW(t,...e){if(!Kbe(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function pD(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Ybe(t,e){sW(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const Eh=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;const Mx=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function Zbe(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function aW(t){return typeof t=="string"&&(t=Zbe(t)),sW(t),t}let Xbe=class{clone(){return this._cloneInto()}};function Jbe(t){const e=r=>t().update(aW(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function oW(t=32){if(Eh&&typeof Eh.getRandomValues=="function")return Eh.getRandomValues(new Uint8Array(t));if(Eh&&typeof Eh.randomBytes=="function")return Eh.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function Qbe(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),a=Number(n>>i&s),c=Number(n&s),u=r?4:0,d=r?0:4;t.setUint32(e+u,a,r),t.setUint32(e+d,c,r)}let ewe=class extends Xbe{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Mx(this.buffer)}update(e){pD(this);const{view:n,buffer:r,blockLen:i}=this;e=aW(e);const s=e.length;for(let a=0;a<s;){const c=Math.min(i-this.pos,s-a);if(c===i){const u=Mx(e);for(;i<=s-a;a+=i)this.process(u,a);continue}r.set(e.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){pD(this),Ybe(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:a}=this;n[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(r,0),a=0);for(let p=a;p<i;p++)n[p]=0;Qbe(r,i-8,BigInt(this.length*8),s),this.process(r,0);const c=Mx(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=u/4,h=this.get();if(d>h.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<d;p++)c.setUint32(4*p,h[p],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:a,pos:c}=this;return e.length=i,e.pos=c,e.finished=s,e.destroyed=a,i%n&&e.buffer.set(r),e}};const yv=BigInt(2**32-1),P5=BigInt(32);function cW(t,e=!1){return e?{h:Number(t&yv),l:Number(t>>P5&yv)}:{h:Number(t>>P5&yv)|0,l:Number(t&yv)|0}}function twe(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:a}=cW(t[i],e);[n[i],r[i]]=[s,a]}return[n,r]}const nwe=(t,e)=>BigInt(t>>>0)<<P5|BigInt(e>>>0),rwe=(t,e,n)=>t>>>n,iwe=(t,e,n)=>t<<32-n|e>>>n,swe=(t,e,n)=>t>>>n|e<<32-n,awe=(t,e,n)=>t<<32-n|e>>>n,owe=(t,e,n)=>t<<64-n|e>>>n-32,cwe=(t,e,n)=>t>>>n-32|e<<64-n,lwe=(t,e)=>e,uwe=(t,e)=>t,dwe=(t,e,n)=>t<<n|e>>>32-n,fwe=(t,e,n)=>e<<n|t>>>32-n,hwe=(t,e,n)=>e<<n-32|t>>>64-n,pwe=(t,e,n)=>t<<n-32|e>>>64-n;function ywe(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const mwe=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),gwe=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,bwe=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),wwe=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,vwe=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),_we=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,Pt={fromBig:cW,split:twe,toBig:nwe,shrSH:rwe,shrSL:iwe,rotrSH:swe,rotrSL:awe,rotrBH:owe,rotrBL:cwe,rotr32H:lwe,rotr32L:uwe,rotlSH:dwe,rotlSL:fwe,rotlBH:hwe,rotlBL:pwe,add:ywe,add3L:mwe,add3H:gwe,add4L:bwe,add4H:wwe,add5H:_we,add5L:vwe},[Ewe,Awe]=Pt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Jl=new Uint32Array(80),Ql=new Uint32Array(80);let Swe=class extends ewe{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:a,Dh:c,Dl:u,Eh:d,El:h,Fh:p,Fl:m,Gh:g,Gl:b,Hh:v,Hl:E}=this;return[e,n,r,i,s,a,c,u,d,h,p,m,g,b,v,E]}set(e,n,r,i,s,a,c,u,d,h,p,m,g,b,v,E){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=a|0,this.Dh=c|0,this.Dl=u|0,this.Eh=d|0,this.El=h|0,this.Fh=p|0,this.Fl=m|0,this.Gh=g|0,this.Gl=b|0,this.Hh=v|0,this.Hl=E|0}process(e,n){for(let S=0;S<16;S++,n+=4)Jl[S]=e.getUint32(n),Ql[S]=e.getUint32(n+=4);for(let S=16;S<80;S++){const A=Jl[S-15]|0,C=Ql[S-15]|0,I=Pt.rotrSH(A,C,1)^Pt.rotrSH(A,C,8)^Pt.shrSH(A,C,7),N=Pt.rotrSL(A,C,1)^Pt.rotrSL(A,C,8)^Pt.shrSL(A,C,7),z=Jl[S-2]|0,L=Ql[S-2]|0,B=Pt.rotrSH(z,L,19)^Pt.rotrBH(z,L,61)^Pt.shrSH(z,L,6),H=Pt.rotrSL(z,L,19)^Pt.rotrBL(z,L,61)^Pt.shrSL(z,L,6),D=Pt.add4L(N,H,Ql[S-7],Ql[S-16]),F=Pt.add4H(D,I,B,Jl[S-7],Jl[S-16]);Jl[S]=F|0,Ql[S]=D|0}let{Ah:r,Al:i,Bh:s,Bl:a,Ch:c,Cl:u,Dh:d,Dl:h,Eh:p,El:m,Fh:g,Fl:b,Gh:v,Gl:E,Hh:O,Hl:k}=this;for(let S=0;S<80;S++){const A=Pt.rotrSH(p,m,14)^Pt.rotrSH(p,m,18)^Pt.rotrBH(p,m,41),C=Pt.rotrSL(p,m,14)^Pt.rotrSL(p,m,18)^Pt.rotrBL(p,m,41),I=p&g^~p&v,N=m&b^~m&E,z=Pt.add5L(k,C,N,Awe[S],Ql[S]),L=Pt.add5H(z,O,A,I,Ewe[S],Jl[S]),B=z|0,H=Pt.rotrSH(r,i,28)^Pt.rotrBH(r,i,34)^Pt.rotrBH(r,i,39),D=Pt.rotrSL(r,i,28)^Pt.rotrBL(r,i,34)^Pt.rotrBL(r,i,39),F=r&s^r&c^s&c,K=i&a^i&u^a&u;O=v|0,k=E|0,v=g|0,E=b|0,g=p|0,b=m|0,{h:p,l:m}=Pt.add(d|0,h|0,L|0,B|0),d=c|0,h=u|0,c=s|0,u=a|0,s=r|0,a=i|0;const T=Pt.add3L(B,D,K);r=Pt.add3H(T,L,H,F),i=T|0}({h:r,l:i}=Pt.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:a}=Pt.add(this.Bh|0,this.Bl|0,s|0,a|0),{h:c,l:u}=Pt.add(this.Ch|0,this.Cl|0,c|0,u|0),{h:d,l:h}=Pt.add(this.Dh|0,this.Dl|0,d|0,h|0),{h:p,l:m}=Pt.add(this.Eh|0,this.El|0,p|0,m|0),{h:g,l:b}=Pt.add(this.Fh|0,this.Fl|0,g|0,b|0),{h:v,l:E}=Pt.add(this.Gh|0,this.Gl|0,v|0,E|0),{h:O,l:k}=Pt.add(this.Hh|0,this.Hl|0,O|0,k|0),this.set(r,i,s,a,c,u,d,h,p,m,g,b,v,E,O,k)}roundClean(){Jl.fill(0),Ql.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const xwe=Jbe(()=>new Swe);const UC=BigInt(0),lW=BigInt(1),Twe=BigInt(2);function BC(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function LC(t){if(!BC(t))throw new Error("Uint8Array expected")}function Ux(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const Iwe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function jC(t){LC(t);let e="";for(let n=0;n<t.length;n++)e+=Iwe[t[n]];return e}function uW(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?UC:BigInt("0x"+t)}const Ec={_0:48,_9:57,A:65,F:70,a:97,f:102};function yD(t){if(t>=Ec._0&&t<=Ec._9)return t-Ec._0;if(t>=Ec.A&&t<=Ec.F)return t-(Ec.A-10);if(t>=Ec.a&&t<=Ec.f)return t-(Ec.a-10)}function dW(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const a=yD(t.charCodeAt(s)),c=yD(t.charCodeAt(s+1));if(a===void 0||c===void 0){const u=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+u+'" at index '+s)}r[i]=a*16+c}return r}function Cwe(t){return uW(jC(t))}function Jv(t){return LC(t),uW(jC(Uint8Array.from(t).reverse()))}function fW(t,e){return dW(t.toString(16).padStart(e*2,"0"))}function D5(t,e){return fW(t,e).reverse()}function Ac(t,e,n){let r;if(typeof e=="string")try{r=dW(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(BC(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function mD(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];LC(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}const Bx=t=>typeof t=="bigint"&&UC<=t;function Owe(t,e,n){return Bx(t)&&Bx(e)&&Bx(n)&&e<=t&&t<n}function cm(t,e,n,r){if(!Owe(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function kwe(t){let e;for(e=0;t>UC;t>>=lW,e+=1);return e}const Rwe=t=>(Twe<<BigInt(t-1))-lW,$we={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||BC(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function zC(t,e,n={}){const r=(i,s,a)=>{const c=$we[s];if(typeof c!="function")throw new Error("invalid validator function");const u=t[i];if(!(a&&u===void 0)&&!c(u,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+u)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}function gD(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}const Vr=BigInt(0),or=BigInt(1),Od=BigInt(2),Nwe=BigInt(3),M5=BigInt(4),bD=BigInt(5),wD=BigInt(8);function kr(t,e){const n=t%e;return n>=Vr?n:e+n}function Pwe(t,e,n){if(e<Vr)throw new Error("invalid exponent, negatives unsupported");if(n<=Vr)throw new Error("invalid modulus");if(n===or)return Vr;let r=or;for(;e>Vr;)e&or&&(r=r*t%n),t=t*t%n,e>>=or;return r}function wo(t,e,n){let r=t;for(;e-- >Vr;)r*=r,r%=n;return r}function vD(t,e){if(t===Vr)throw new Error("invert: expected non-zero number");if(e<=Vr)throw new Error("invert: expected positive modulus, got "+e);let n=kr(t,e),r=e,i=Vr,s=or;for(;n!==Vr;){const a=r/n,c=r%n,u=i-s*a;r=n,n=c,i=s,s=u}if(r!==or)throw new Error("invert: does not exist");return kr(i,e)}function Dwe(t){const e=(t-or)/Od;let n,r,i;for(n=t-or,r=0;n%Od===Vr;n/=Od,r++);for(i=Od;i<t&&Pwe(i,e,t)!==t-or;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const a=(t+or)/M5;return function(c,u){const d=c.pow(u,a);if(!c.eql(c.sqr(d),u))throw new Error("Cannot find square root");return d}}const s=(n+or)/Od;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,d=a.pow(a.mul(a.ONE,i),n),h=a.pow(c,s),p=a.pow(c,n);for(;!a.eql(p,a.ONE);){if(a.eql(p,a.ZERO))return a.ZERO;let m=1;for(let b=a.sqr(p);m<u&&!a.eql(b,a.ONE);m++)b=a.sqr(b);const g=a.pow(d,or<<BigInt(u-m-1));d=a.sqr(g),h=a.mul(h,g),p=a.mul(p,d),u=m}return h}}function Mwe(t){if(t%M5===Nwe){const e=(t+or)/M5;return function(n,r){const i=n.pow(r,e);if(!n.eql(n.sqr(i),r))throw new Error("Cannot find square root");return i}}if(t%wD===bD){const e=(t-bD)/wD;return function(n,r){const i=n.mul(r,Od),s=n.pow(i,e),a=n.mul(r,s),c=n.mul(n.mul(a,Od),s),u=n.mul(a,n.sub(c,n.ONE));if(!n.eql(n.sqr(u),r))throw new Error("Cannot find square root");return u}}return Dwe(t)}const Uwe=(t,e)=>(kr(t,e)&or)===or,Bwe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Lwe(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Bwe.reduce((r,i)=>(r[i]="function",r),e);return zC(t,n)}function jwe(t,e,n){if(n<Vr)throw new Error("invalid exponent, negatives unsupported");if(n===Vr)return t.ONE;if(n===or)return e;let r=t.ONE,i=e;for(;n>Vr;)n&or&&(r=t.mul(r,i)),i=t.sqr(i),n>>=or;return r}function zwe(t,e){const n=new Array(e.length),r=e.reduce((s,a,c)=>t.is0(a)?s:(n[c]=s,t.mul(s,a)),t.ONE),i=t.inv(r);return e.reduceRight((s,a,c)=>t.is0(a)?s:(n[c]=t.mul(s,n[c]),t.mul(s,a)),i),n}function hW(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function pW(t,e,n=!1,r={}){if(t<=Vr)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=hW(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let a;const c=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:Rwe(i),ZERO:Vr,ONE:or,create:u=>kr(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return Vr<=u&&u<t},is0:u=>u===Vr,isOdd:u=>(u&or)===or,neg:u=>kr(-u,t),eql:(u,d)=>u===d,sqr:u=>kr(u*u,t),add:(u,d)=>kr(u+d,t),sub:(u,d)=>kr(u-d,t),mul:(u,d)=>kr(u*d,t),pow:(u,d)=>jwe(c,u,d),div:(u,d)=>kr(u*vD(d,t),t),sqrN:u=>u*u,addN:(u,d)=>u+d,subN:(u,d)=>u-d,mulN:(u,d)=>u*d,inv:u=>vD(u,t),sqrt:r.sqrt||(u=>(a||(a=Mwe(t)),a(c,u))),invertBatch:u=>zwe(c,u),cmov:(u,d,h)=>h?d:u,toBytes:u=>n?D5(u,s):fW(u,s),fromBytes:u=>{if(u.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+u.length);return n?Jv(u):Cwe(u)}});return Object.freeze(c)}const _D=BigInt(0),mv=BigInt(1);function Lx(t,e){const n=e.negate();return t?n:e}function yW(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function jx(t,e){yW(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function Fwe(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function qwe(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const zx=new WeakMap,mW=new WeakMap;function Fx(t){return mW.get(t)||1}function Wwe(t,e){return{constTimeNegate:Lx,hasPrecomputes(n){return Fx(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>_D;)r&mv&&(i=i.add(s)),s=s.double(),r>>=mv;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=jx(r,e),a=[];let c=n,u=c;for(let d=0;d<i;d++){u=c,a.push(u);for(let h=1;h<s;h++)u=u.add(c),a.push(u);c=u.double()}return a},wNAF(n,r,i){const{windows:s,windowSize:a}=jx(n,e);let c=t.ZERO,u=t.BASE;const d=BigInt(2**n-1),h=2**n,p=BigInt(n);for(let m=0;m<s;m++){const g=m*a;let b=Number(i&d);i>>=p,b>a&&(b-=h,i+=mv);const v=g,E=g+Math.abs(b)-1,O=m%2!==0,k=b<0;b===0?u=u.add(Lx(O,r[v])):c=c.add(Lx(k,r[E]))}return{p:c,f:u}},wNAFUnsafe(n,r,i,s=t.ZERO){const{windows:a,windowSize:c}=jx(n,e),u=BigInt(2**n-1),d=2**n,h=BigInt(n);for(let p=0;p<a;p++){const m=p*c;if(i===_D)break;let g=Number(i&u);if(i>>=h,g>c&&(g-=d,i+=mv),g===0)continue;let b=r[m+Math.abs(g)-1];g<0&&(b=b.negate()),s=s.add(b)}return s},getPrecomputes(n,r,i){let s=zx.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&zx.set(r,i(s))),s},wNAFCached(n,r,i){const s=Fx(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const a=Fx(n);return a===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(a,this.getPrecomputes(a,n,i),r,s)},setWindowSize(n,r){yW(r,e),mW.set(n,r),zx.delete(n)}}}function Hwe(t,e,n,r){if(Fwe(n,t),qwe(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,s=kwe(BigInt(n.length)),a=s>12?s-3:s>4?s-2:s?2:1,c=(1<<a)-1,u=new Array(c+1).fill(i),d=Math.floor((e.BITS-1)/a)*a;let h=i;for(let p=d;p>=0;p-=a){u.fill(i);for(let g=0;g<r.length;g++){const b=r[g],v=Number(b>>BigInt(p)&BigInt(c));u[v]=u[v].add(n[g])}let m=i;for(let g=u.length-1,b=i;g>0;g--)b=b.add(u[g]),m=m.add(b);if(h=h.add(m),p!==0)for(let g=0;g<a;g++)h=h.double()}return h}function Vwe(t){return Lwe(t.Fp),zC(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...hW(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const Da=BigInt(0),Yi=BigInt(1),gv=BigInt(2),Gwe=BigInt(8),Kwe={zip215:!0};function Ywe(t){const e=Vwe(t);return zC(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function Zwe(t){const e=Ywe(t),{Fp:n,n:r,prehash:i,hash:s,randomBytes:a,nByteLength:c,h:u}=e,d=gv<<BigInt(c*8)-Yi,h=n.create,p=pW(e.n,e.nBitLength),m=e.uvRatio||((T,x)=>{try{return{isValid:!0,value:n.sqrt(T*n.inv(x))}}catch{return{isValid:!1,value:Da}}}),g=e.adjustScalarBytes||(T=>T),b=e.domain||((T,x,$)=>{if(Ux("phflag",$),x.length||$)throw new Error("Contexts/pre-hash are not supported");return T});function v(T,x){cm("coordinate "+T,x,Da,d)}function E(T){if(!(T instanceof S))throw new Error("ExtendedPoint expected")}const O=gD((T,x)=>{const{ex:$,ey:j,ez:P}=T,V=T.is0();x==null&&(x=V?Gwe:n.inv(P));const M=h($*x),G=h(j*x),J=h(P*x);if(V)return{x:Da,y:Yi};if(J!==Yi)throw new Error("invZ was invalid");return{x:M,y:G}}),k=gD(T=>{const{a:x,d:$}=e;if(T.is0())throw new Error("bad point: ZERO");const{ex:j,ey:P,ez:V,et:M}=T,G=h(j*j),J=h(P*P),X=h(V*V),Q=h(X*X),ge=h(G*x),we=h(X*h(ge+J)),Te=h(Q+h($*h(G*J)));if(we!==Te)throw new Error("bad point: equation left != right (1)");const Ee=h(j*P),Pe=h(V*M);if(Ee!==Pe)throw new Error("bad point: equation left != right (2)");return!0});class S{constructor(x,$,j,P){this.ex=x,this.ey=$,this.ez=j,this.et=P,v("x",x),v("y",$),v("z",j),v("t",P),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(x){if(x instanceof S)throw new Error("extended point not allowed");const{x:$,y:j}=x||{};return v("x",$),v("y",j),new S($,j,Yi,h($*j))}static normalizeZ(x){const $=n.invertBatch(x.map(j=>j.ez));return x.map((j,P)=>j.toAffine($[P])).map(S.fromAffine)}static msm(x,$){return Hwe(S,p,x,$)}_setWindowSize(x){I.setWindowSize(this,x)}assertValidity(){k(this)}equals(x){E(x);const{ex:$,ey:j,ez:P}=this,{ex:V,ey:M,ez:G}=x,J=h($*G),X=h(V*P),Q=h(j*G),ge=h(M*P);return J===X&&Q===ge}is0(){return this.equals(S.ZERO)}negate(){return new S(h(-this.ex),this.ey,this.ez,h(-this.et))}double(){const{a:x}=e,{ex:$,ey:j,ez:P}=this,V=h($*$),M=h(j*j),G=h(gv*h(P*P)),J=h(x*V),X=$+j,Q=h(h(X*X)-V-M),ge=J+M,we=ge-G,Te=J-M,Ee=h(Q*we),Pe=h(ge*Te),qe=h(Q*Te),rt=h(we*ge);return new S(Ee,Pe,rt,qe)}add(x){E(x);const{a:$,d:j}=e,{ex:P,ey:V,ez:M,et:G}=this,{ex:J,ey:X,ez:Q,et:ge}=x;if($===BigInt(-1)){const Le=h((V-P)*(X+J)),Ve=h((V+P)*(X-J)),pi=h(Ve-Le);if(pi===Da)return this.double();const yi=h(M*gv*ge),dt=h(G*gv*Q),_n=dt+yi,Ia=Ve+Le,ps=dt-yi,Li=h(_n*pi),mn=h(Ia*ps),Nr=h(_n*ps),Kr=h(pi*Ia);return new S(Li,mn,Kr,Nr)}const we=h(P*J),Te=h(V*X),Ee=h(G*j*ge),Pe=h(M*Q),qe=h((P+V)*(J+X)-we-Te),rt=Pe-Ee,ye=Pe+Ee,Tt=h(Te-$*we),Kt=h(qe*rt),wt=h(ye*Tt),hi=h(qe*Tt),Vt=h(rt*ye);return new S(Kt,wt,Vt,hi)}subtract(x){return this.add(x.negate())}wNAF(x){return I.wNAFCached(this,x,S.normalizeZ)}multiply(x){const $=x;cm("scalar",$,Yi,r);const{p:j,f:P}=this.wNAF($);return S.normalizeZ([j,P])[0]}multiplyUnsafe(x,$=S.ZERO){const j=x;return cm("scalar",j,Da,r),j===Da?C:this.is0()||j===Yi?this:I.wNAFCachedUnsafe(this,j,S.normalizeZ,$)}isSmallOrder(){return this.multiplyUnsafe(u).is0()}isTorsionFree(){return I.unsafeLadder(this,r).is0()}toAffine(x){return O(this,x)}clearCofactor(){const{h:x}=e;return x===Yi?this:this.multiplyUnsafe(x)}static fromHex(x,$=!1){const{d:j,a:P}=e,V=n.BYTES;x=Ac("pointHex",x,V),Ux("zip215",$);const M=x.slice(),G=x[V-1];M[V-1]=G&-129;const J=Jv(M),X=$?d:n.ORDER;cm("pointHex.y",J,Da,X);const Q=h(J*J),ge=h(Q-Yi),we=h(j*Q-P);let{isValid:Te,value:Ee}=m(ge,we);if(!Te)throw new Error("Point.fromHex: invalid y coordinate");const Pe=(Ee&Yi)===Yi,qe=(G&128)!==0;if(!$&&Ee===Da&&qe)throw new Error("Point.fromHex: x=0 and x_0=1");return qe!==Pe&&(Ee=h(-Ee)),S.fromAffine({x:Ee,y:J})}static fromPrivateKey(x){return L(x).point}toRawBytes(){const{x,y:$}=this.toAffine(),j=D5($,n.BYTES);return j[j.length-1]|=x&Yi?128:0,j}toHex(){return jC(this.toRawBytes())}}S.BASE=new S(e.Gx,e.Gy,Yi,h(e.Gx*e.Gy)),S.ZERO=new S(Da,Yi,Yi,Da);const{BASE:A,ZERO:C}=S,I=Wwe(S,c*8);function N(T){return kr(T,r)}function z(T){return N(Jv(T))}function L(T){const x=n.BYTES;T=Ac("private key",T,x);const $=Ac("hashed private key",s(T),2*x),j=g($.slice(0,x)),P=$.slice(x,2*x),V=z(j),M=A.multiply(V),G=M.toRawBytes();return{head:j,prefix:P,scalar:V,point:M,pointBytes:G}}function B(T){return L(T).pointBytes}function H(T=new Uint8Array,...x){const $=mD(...x);return z(s(b($,Ac("context",T),!!i)))}function D(T,x,$={}){T=Ac("message",T),i&&(T=i(T));const{prefix:j,scalar:P,pointBytes:V}=L(x),M=H($.context,j,T),G=A.multiply(M).toRawBytes(),J=H($.context,G,V,T),X=N(M+J*P);cm("signature.s",X,Da,r);const Q=mD(G,D5(X,n.BYTES));return Ac("result",Q,n.BYTES*2)}const F=Kwe;function K(T,x,$,j=F){const{context:P,zip215:V}=j,M=n.BYTES;T=Ac("signature",T,2*M),x=Ac("message",x),$=Ac("publicKey",$,M),V!==void 0&&Ux("zip215",V),i&&(x=i(x));const G=Jv(T.slice(M,2*M));let J,X,Q;try{J=S.fromHex($,V),X=S.fromHex(T.slice(0,M),V),Q=A.multiplyUnsafe(G)}catch{return!1}if(!V&&J.isSmallOrder())return!1;const ge=H(P,X.toRawBytes(),J.toRawBytes(),x);return X.add(J.multiplyUnsafe(ge)).subtract(Q).clearCofactor().equals(S.ZERO)}return A._setWindowSize(8),{CURVE:e,getPublicKey:B,sign:D,verify:K,ExtendedPoint:S,utils:{getExtendedPublicKey:L,randomPrivateKey:()=>a(n.BYTES),precompute(T=8,x=S.BASE){return x._setWindowSize(T),x.multiply(BigInt(3)),x}}}}BigInt(0),BigInt(1);const FC=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),ED=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const Xwe=BigInt(1),AD=BigInt(2);BigInt(3);const Jwe=BigInt(5),Qwe=BigInt(8);function eve(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=FC,a=t*t%s*t%s,c=wo(a,AD,s)*a%s,u=wo(c,Xwe,s)*t%s,d=wo(u,Jwe,s)*u%s,h=wo(d,e,s)*d%s,p=wo(h,n,s)*h%s,m=wo(p,r,s)*p%s,g=wo(m,i,s)*m%s,b=wo(g,i,s)*m%s,v=wo(b,e,s)*d%s;return{pow_p_5_8:wo(v,AD,s)*t%s,b2:a}}function tve(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function nve(t,e){const n=FC,r=kr(e*e*e,n),i=kr(r*r*e,n),s=eve(t*i).pow_p_5_8;let a=kr(t*r*s,n);const c=kr(e*a*a,n),u=a,d=kr(a*ED,n),h=c===t,p=c===kr(-t,n),m=c===kr(-t*ED,n);return h&&(a=u),(p||m)&&(a=d),Uwe(a,n)&&(a=kr(-a,n)),{isValid:h||p,value:a}}const rve=pW(FC,void 0,!0),ive={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:rve,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:Qwe,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:xwe,randomBytes:oW,adjustScalarBytes:tve,uvRatio:nve},gW=Zwe(ive),sve="EdDSA",ave="JWT",s_=".",IE="base64url",bW="utf8",wW="utf8",ove=":",cve="did",lve="key",SD="base58btc",uve="z",dve="K36",fve=32;function qC(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function vW(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?qC(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function _W(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const n=vW(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return qC(n)}function hve(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),a=s.charCodeAt(0);if(n[a]!==255)throw new TypeError(s+" is ambiguous");n[a]=i}var c=t.length,u=t.charAt(0),d=Math.log(c)/Math.log(256),h=Math.log(256)/Math.log(c);function p(b){if(b instanceof Uint8Array||(ArrayBuffer.isView(b)?b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength):Array.isArray(b)&&(b=Uint8Array.from(b))),!(b instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(b.length===0)return"";for(var v=0,E=0,O=0,k=b.length;O!==k&&b[O]===0;)O++,v++;for(var S=(k-O)*h+1>>>0,A=new Uint8Array(S);O!==k;){for(var C=b[O],I=0,N=S-1;(C!==0||I<E)&&N!==-1;N--,I++)C+=256*A[N]>>>0,A[N]=C%c>>>0,C=C/c>>>0;if(C!==0)throw new Error("Non-zero carry");E=I,O++}for(var z=S-E;z!==S&&A[z]===0;)z++;for(var L=u.repeat(v);z<S;++z)L+=t.charAt(A[z]);return L}function m(b){if(typeof b!="string")throw new TypeError("Expected String");if(b.length===0)return new Uint8Array;var v=0;if(b[v]!==" "){for(var E=0,O=0;b[v]===u;)E++,v++;for(var k=(b.length-v)*d+1>>>0,S=new Uint8Array(k);b[v];){var A=n[b.charCodeAt(v)];if(A===255)return;for(var C=0,I=k-1;(A!==0||C<O)&&I!==-1;I--,C++)A+=c*S[I]>>>0,S[I]=A%256>>>0,A=A/256>>>0;if(A!==0)throw new Error("Non-zero carry");O=C,v++}if(b[v]!==" "){for(var N=k-O;N!==k&&S[N]===0;)N++;for(var z=new Uint8Array(E+(k-N)),L=E;N!==k;)z[L++]=S[N++];return z}}}function g(b){var v=m(b);if(v)return v;throw new Error(`Non-${e} character`)}return{encode:p,decodeUnsafe:m,decode:g}}var pve=hve,yve=pve;const EW=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},mve=t=>new TextEncoder().encode(t),gve=t=>new TextDecoder().decode(t);let bve=class{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},wve=class{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return AW(this,e)}},vve=class{constructor(e){this.decoders=e}or(e){return AW(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const AW=(t,e)=>new vve({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let _ve=class{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new bve(e,n,r),this.decoder=new wve(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const CE=({name:t,prefix:e,encode:n,decode:r})=>new _ve(t,e,n,r),fb=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=yve(n,e);return CE({prefix:t,name:e,encode:r,decode:s=>EW(i(s))})},Eve=(t,e,n,r)=>{const i={};for(let h=0;h<e.length;++h)i[e[h]]=h;let s=t.length;for(;t[s-1]==="=";)--s;const a=new Uint8Array(s*n/8|0);let c=0,u=0,d=0;for(let h=0;h<s;++h){const p=i[t[h]];if(p===void 0)throw new SyntaxError(`Non-${r} character`);u=u<<n|p,c+=n,c>=8&&(c-=8,a[d++]=255&u>>c)}if(c>=n||255&u<<8-c)throw new SyntaxError("Unexpected end of data");return a},Ave=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let s="",a=0,c=0;for(let u=0;u<t.length;++u)for(c=c<<8|t[u],a+=8;a>n;)a-=n,s+=e[i&c>>a];if(a&&(s+=e[i&c<<n-a]),r)for(;s.length*n&7;)s+="=";return s},ui=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>CE({prefix:e,name:t,encode(i){return Ave(i,r,n)},decode(i){return Eve(i,r,n,t)}}),Sve=CE({prefix:"\0",name:"identity",encode:t=>gve(t),decode:t=>mve(t)});var xve=Object.freeze({__proto__:null,identity:Sve});const Tve=ui({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Ive=Object.freeze({__proto__:null,base2:Tve});const Cve=ui({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Ove=Object.freeze({__proto__:null,base8:Cve});const kve=fb({prefix:"9",name:"base10",alphabet:"0123456789"});var Rve=Object.freeze({__proto__:null,base10:kve});const $ve=ui({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Nve=ui({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Pve=Object.freeze({__proto__:null,base16:$ve,base16upper:Nve});const Dve=ui({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Mve=ui({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Uve=ui({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Bve=ui({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Lve=ui({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),jve=ui({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),zve=ui({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Fve=ui({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),qve=ui({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Wve=Object.freeze({__proto__:null,base32:Dve,base32upper:Mve,base32pad:Uve,base32padupper:Bve,base32hex:Lve,base32hexupper:jve,base32hexpad:zve,base32hexpadupper:Fve,base32z:qve});const Hve=fb({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Vve=fb({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Gve=Object.freeze({__proto__:null,base36:Hve,base36upper:Vve});const Kve=fb({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Yve=fb({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Zve=Object.freeze({__proto__:null,base58btc:Kve,base58flickr:Yve});const Xve=ui({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Jve=ui({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Qve=ui({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),e1e=ui({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var t1e=Object.freeze({__proto__:null,base64:Xve,base64pad:Jve,base64url:Qve,base64urlpad:e1e});const SW=Array.from(""),n1e=SW.reduce((t,e,n)=>(t[n]=e,t),[]),r1e=SW.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function i1e(t){return t.reduce((e,n)=>(e+=n1e[n],e),"")}function s1e(t){const e=[];for(const n of t){const r=r1e[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const a1e=CE({prefix:"",name:"base256emoji",encode:i1e,decode:s1e});var o1e=Object.freeze({__proto__:null,base256emoji:a1e}),c1e=xW,xD=128,l1e=-128,u1e=Math.pow(2,31);function xW(t,e,n){e=e||[],n=n||0;for(var r=n;t>=u1e;)e[n++]=t&255|xD,t/=128;for(;t&l1e;)e[n++]=t&255|xD,t>>>=7;return e[n]=t|0,xW.bytes=n-r+1,e}var d1e=U5,f1e=128,TD=127;function U5(t,r){var n=0,r=r||0,i=0,s=r,a,c=t.length;do{if(s>=c)throw U5.bytes=0,new RangeError("Could not decode varint");a=t[s++],n+=i<28?(a&TD)<<i:(a&TD)*Math.pow(2,i),i+=7}while(a>=f1e);return U5.bytes=s-r,n}var h1e=Math.pow(2,7),p1e=Math.pow(2,14),y1e=Math.pow(2,21),m1e=Math.pow(2,28),g1e=Math.pow(2,35),b1e=Math.pow(2,42),w1e=Math.pow(2,49),v1e=Math.pow(2,56),_1e=Math.pow(2,63),E1e=function(t){return t<h1e?1:t<p1e?2:t<y1e?3:t<m1e?4:t<g1e?5:t<b1e?6:t<w1e?7:t<v1e?8:t<_1e?9:10},A1e={encode:c1e,decode:d1e,encodingLength:E1e},TW=A1e;const ID=(t,e,n=0)=>(TW.encode(t,e,n),e),CD=t=>TW.encodingLength(t),B5=(t,e)=>{const n=e.byteLength,r=CD(t),i=r+CD(n),s=new Uint8Array(i+n);return ID(t,s,0),ID(n,s,r),s.set(e,i),new S1e(t,n,e,s)};let S1e=class{constructor(e,n,r,i){this.code=e,this.size=n,this.digest=r,this.bytes=i}};const IW=({name:t,code:e,encode:n})=>new x1e(t,e,n);let x1e=class{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?B5(this.code,n):n.then(r=>B5(this.code,r))}else throw Error("Unknown type, must be binary type")}};const CW=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),T1e=IW({name:"sha2-256",code:18,encode:CW("SHA-256")}),I1e=IW({name:"sha2-512",code:19,encode:CW("SHA-512")});var C1e=Object.freeze({__proto__:null,sha256:T1e,sha512:I1e});const OW=0,O1e="identity",kW=EW,k1e=t=>B5(OW,kW(t)),R1e={code:OW,name:O1e,encode:kW,digest:k1e};var $1e=Object.freeze({__proto__:null,identity:R1e});new TextEncoder,new TextDecoder;const OD={...xve,...Ive,...Ove,...Rve,...Pve,...Wve,...Gve,...Zve,...t1e,...o1e};({...C1e,...$1e});function RW(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const kD=RW("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),qx=RW("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=vW(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),$W={utf8:kD,"utf-8":kD,hex:OD.base16,latin1:qx,ascii:qx,binary:qx,...OD};function OE(t,e="utf8"){const n=$W[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}function Hp(t,e="utf8"){const n=$W[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?qC(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function RD(t){return ff(OE(Hp(t,IE),bW))}function a_(t){return OE(Hp(dl(t),bW),IE)}function NW(t){const e=Hp(dve,SD),n=uve+OE(_W([e,t]),SD);return[cve,lve,n].join(ove)}function N1e(t){return OE(t,IE)}function P1e(t){return Hp(t,IE)}function D1e(t){return Hp([a_(t.header),a_(t.payload)].join(s_),wW)}function M1e(t){return[a_(t.header),a_(t.payload),N1e(t.signature)].join(s_)}function L5(t){const e=t.split(s_),n=RD(e[0]),r=RD(e[1]),i=P1e(e[2]),s=Hp(e.slice(0,2).join(s_),wW);return{header:n,payload:r,signature:i,data:s}}function $D(t=oW(fve)){const e=gW.getPublicKey(t);return{secretKey:_W([t,e]),publicKey:e}}async function U1e(t,e,n,r,i=Be.fromMiliseconds(Date.now())){const s={alg:sve,typ:ave},a=NW(r.publicKey),c=i+n,u={iss:a,sub:t,aud:e,iat:i,exp:c},d=D1e({header:s,payload:u}),h=gW.sign(d,r.secretKey.slice(0,32));return M1e({header:s,payload:u,signature:h})}function WC(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function PW(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?WC(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function $g(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const n=PW(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return WC(n)}function B1e(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),a=s.charCodeAt(0);if(n[a]!==255)throw new TypeError(s+" is ambiguous");n[a]=i}var c=t.length,u=t.charAt(0),d=Math.log(c)/Math.log(256),h=Math.log(256)/Math.log(c);function p(b){if(b instanceof Uint8Array||(ArrayBuffer.isView(b)?b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength):Array.isArray(b)&&(b=Uint8Array.from(b))),!(b instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(b.length===0)return"";for(var v=0,E=0,O=0,k=b.length;O!==k&&b[O]===0;)O++,v++;for(var S=(k-O)*h+1>>>0,A=new Uint8Array(S);O!==k;){for(var C=b[O],I=0,N=S-1;(C!==0||I<E)&&N!==-1;N--,I++)C+=256*A[N]>>>0,A[N]=C%c>>>0,C=C/c>>>0;if(C!==0)throw new Error("Non-zero carry");E=I,O++}for(var z=S-E;z!==S&&A[z]===0;)z++;for(var L=u.repeat(v);z<S;++z)L+=t.charAt(A[z]);return L}function m(b){if(typeof b!="string")throw new TypeError("Expected String");if(b.length===0)return new Uint8Array;var v=0;if(b[v]!==" "){for(var E=0,O=0;b[v]===u;)E++,v++;for(var k=(b.length-v)*d+1>>>0,S=new Uint8Array(k);b[v];){var A=n[b.charCodeAt(v)];if(A===255)return;for(var C=0,I=k-1;(A!==0||C<O)&&I!==-1;I--,C++)A+=c*S[I]>>>0,S[I]=A%256>>>0,A=A/256>>>0;if(A!==0)throw new Error("Non-zero carry");O=C,v++}if(b[v]!==" "){for(var N=k-O;N!==k&&S[N]===0;)N++;for(var z=new Uint8Array(E+(k-N)),L=E;N!==k;)z[L++]=S[N++];return z}}}function g(b){var v=m(b);if(v)return v;throw new Error(`Non-${e} character`)}return{encode:p,decodeUnsafe:m,decode:g}}var L1e=B1e,j1e=L1e;const z1e=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},F1e=t=>new TextEncoder().encode(t),q1e=t=>new TextDecoder().decode(t);class W1e{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class H1e{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return DW(this,e)}}class V1e{constructor(e){this.decoders=e}or(e){return DW(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const DW=(t,e)=>new V1e({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class G1e{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new W1e(e,n,r),this.decoder=new H1e(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const kE=({name:t,prefix:e,encode:n,decode:r})=>new G1e(t,e,n,r),hb=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=j1e(n,e);return kE({prefix:t,name:e,encode:r,decode:s=>z1e(i(s))})},K1e=(t,e,n,r)=>{const i={};for(let h=0;h<e.length;++h)i[e[h]]=h;let s=t.length;for(;t[s-1]==="=";)--s;const a=new Uint8Array(s*n/8|0);let c=0,u=0,d=0;for(let h=0;h<s;++h){const p=i[t[h]];if(p===void 0)throw new SyntaxError(`Non-${r} character`);u=u<<n|p,c+=n,c>=8&&(c-=8,a[d++]=255&u>>c)}if(c>=n||255&u<<8-c)throw new SyntaxError("Unexpected end of data");return a},Y1e=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let s="",a=0,c=0;for(let u=0;u<t.length;++u)for(c=c<<8|t[u],a+=8;a>n;)a-=n,s+=e[i&c>>a];if(a&&(s+=e[i&c<<n-a]),r)for(;s.length*n&7;)s+="=";return s},di=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>kE({prefix:e,name:t,encode(i){return Y1e(i,r,n)},decode(i){return K1e(i,r,n,t)}}),Z1e=kE({prefix:"\0",name:"identity",encode:t=>q1e(t),decode:t=>F1e(t)}),X1e=Object.freeze(Object.defineProperty({__proto__:null,identity:Z1e},Symbol.toStringTag,{value:"Module"})),J1e=di({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),Q1e=Object.freeze(Object.defineProperty({__proto__:null,base2:J1e},Symbol.toStringTag,{value:"Module"})),e_e=di({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),t_e=Object.freeze(Object.defineProperty({__proto__:null,base8:e_e},Symbol.toStringTag,{value:"Module"})),n_e=hb({prefix:"9",name:"base10",alphabet:"0123456789"}),r_e=Object.freeze(Object.defineProperty({__proto__:null,base10:n_e},Symbol.toStringTag,{value:"Module"})),i_e=di({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),s_e=di({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),a_e=Object.freeze(Object.defineProperty({__proto__:null,base16:i_e,base16upper:s_e},Symbol.toStringTag,{value:"Module"})),o_e=di({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),c_e=di({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),l_e=di({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),u_e=di({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),d_e=di({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),f_e=di({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),h_e=di({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),p_e=di({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),y_e=di({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),m_e=Object.freeze(Object.defineProperty({__proto__:null,base32:o_e,base32hex:d_e,base32hexpad:h_e,base32hexpadupper:p_e,base32hexupper:f_e,base32pad:l_e,base32padupper:u_e,base32upper:c_e,base32z:y_e},Symbol.toStringTag,{value:"Module"})),g_e=hb({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),b_e=hb({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),w_e=Object.freeze(Object.defineProperty({__proto__:null,base36:g_e,base36upper:b_e},Symbol.toStringTag,{value:"Module"})),v_e=hb({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),__e=hb({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),E_e=Object.freeze(Object.defineProperty({__proto__:null,base58btc:v_e,base58flickr:__e},Symbol.toStringTag,{value:"Module"})),A_e=di({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),S_e=di({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),x_e=di({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),T_e=di({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),I_e=Object.freeze(Object.defineProperty({__proto__:null,base64:A_e,base64pad:S_e,base64url:x_e,base64urlpad:T_e},Symbol.toStringTag,{value:"Module"})),MW=Array.from(""),C_e=MW.reduce((t,e,n)=>(t[n]=e,t),[]),O_e=MW.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function k_e(t){return t.reduce((e,n)=>(e+=C_e[n],e),"")}function R_e(t){const e=[];for(const n of t){const r=O_e[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const $_e=kE({prefix:"",name:"base256emoji",encode:k_e,decode:R_e}),N_e=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:$_e},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const ND={...X1e,...Q1e,...t_e,...r_e,...a_e,...m_e,...w_e,...E_e,...I_e,...N_e};function UW(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const PD=UW("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Wx=UW("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=PW(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),BW={utf8:PD,"utf-8":PD,hex:ND.base16,latin1:Wx,ascii:Wx,binary:Wx,...ND};function ma(t,e="utf8"){const n=BW[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?WC(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function cs(t,e="utf8"){const n=BW[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}const P_e={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var Hx,DD;function LW(){if(DD)return Hx;DD=1;const t="Input must be an string, Buffer or Uint8Array";function e(a){let c;if(a instanceof Uint8Array)c=a;else if(typeof a=="string")c=new TextEncoder().encode(a);else throw new Error(t);return c}function n(a){return Array.prototype.map.call(a,function(c){return(c<16?"0":"")+c.toString(16)}).join("")}function r(a){return(4294967296+a).toString(16).substring(1)}function i(a,c,u){let d=`
`+a+" = ";for(let h=0;h<c.length;h+=2){if(u===32)d+=r(c[h]).toUpperCase(),d+=" ",d+=r(c[h+1]).toUpperCase();else if(u===64)d+=r(c[h+1]).toUpperCase(),d+=r(c[h]).toUpperCase();else throw new Error("Invalid size "+u);h%6===4?d+=`
`+new Array(a.length+4).join(" "):h<c.length-2&&(d+=" ")}console.log(d)}function s(a,c,u){let d=new Date().getTime();const h=new Uint8Array(c);for(let m=0;m<c;m++)h[m]=m%256;const p=new Date().getTime();console.log("Generated random input in "+(p-d)+"ms"),d=p;for(let m=0;m<u;m++){const g=a(h),b=new Date().getTime(),v=b-d;d=b,console.log("Hashed in "+v+"ms: "+g.substring(0,20)+"..."),console.log(Math.round(c/(1<<20)/(v/1e3)*100)/100+" MB PER SECOND")}}return Hx={normalizeInput:e,toHex:n,debugPrint:i,testSpeed:s},Hx}var Vx,MD;function D_e(){if(MD)return Vx;MD=1;const t=LW();function e(O,k,S){const A=O[k]+O[S];let C=O[k+1]+O[S+1];A>=4294967296&&C++,O[k]=A,O[k+1]=C}function n(O,k,S,A){let C=O[k]+S;S<0&&(C+=4294967296);let I=O[k+1]+A;C>=4294967296&&I++,O[k]=C,O[k+1]=I}function r(O,k){return O[k]^O[k+1]<<8^O[k+2]<<16^O[k+3]<<24}function i(O,k,S,A,C,I){const N=d[C],z=d[C+1],L=d[I],B=d[I+1];e(u,O,k),n(u,O,N,z);let H=u[A]^u[O],D=u[A+1]^u[O+1];u[A]=D,u[A+1]=H,e(u,S,A),H=u[k]^u[S],D=u[k+1]^u[S+1],u[k]=H>>>24^D<<8,u[k+1]=D>>>24^H<<8,e(u,O,k),n(u,O,L,B),H=u[A]^u[O],D=u[A+1]^u[O+1],u[A]=H>>>16^D<<16,u[A+1]=D>>>16^H<<16,e(u,S,A),H=u[k]^u[S],D=u[k+1]^u[S+1],u[k]=D>>>31^H<<1,u[k+1]=H>>>31^D<<1}const s=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],c=new Uint8Array(a.map(function(O){return O*2})),u=new Uint32Array(32),d=new Uint32Array(32);function h(O,k){let S=0;for(S=0;S<16;S++)u[S]=O.h[S],u[S+16]=s[S];for(u[24]=u[24]^O.t,u[25]=u[25]^O.t/4294967296,k&&(u[28]=~u[28],u[29]=~u[29]),S=0;S<32;S++)d[S]=r(O.b,4*S);for(S=0;S<12;S++)i(0,8,16,24,c[S*16+0],c[S*16+1]),i(2,10,18,26,c[S*16+2],c[S*16+3]),i(4,12,20,28,c[S*16+4],c[S*16+5]),i(6,14,22,30,c[S*16+6],c[S*16+7]),i(0,10,20,30,c[S*16+8],c[S*16+9]),i(2,12,22,24,c[S*16+10],c[S*16+11]),i(4,14,16,26,c[S*16+12],c[S*16+13]),i(6,8,18,28,c[S*16+14],c[S*16+15]);for(S=0;S<16;S++)O.h[S]=O.h[S]^u[S]^u[S+16]}const p=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function m(O,k,S,A){if(O===0||O>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(k&&k.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(S&&S.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(A&&A.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const C={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:O};p.fill(0),p[0]=O,k&&(p[1]=k.length),p[2]=1,p[3]=1,S&&p.set(S,32),A&&p.set(A,48);for(let I=0;I<16;I++)C.h[I]=s[I]^r(p,I*4);return k&&(g(C,k),C.c=128),C}function g(O,k){for(let S=0;S<k.length;S++)O.c===128&&(O.t+=O.c,h(O,!1),O.c=0),O.b[O.c++]=k[S]}function b(O){for(O.t+=O.c;O.c<128;)O.b[O.c++]=0;h(O,!0);const k=new Uint8Array(O.outlen);for(let S=0;S<O.outlen;S++)k[S]=O.h[S>>2]>>8*(S&3);return k}function v(O,k,S,A,C){S=S||64,O=t.normalizeInput(O),A&&(A=t.normalizeInput(A)),C&&(C=t.normalizeInput(C));const I=m(S,k,A,C);return g(I,O),b(I)}function E(O,k,S,A,C){const I=v(O,k,S,A,C);return t.toHex(I)}return Vx={blake2b:v,blake2bHex:E,blake2bInit:m,blake2bUpdate:g,blake2bFinal:b},Vx}var Gx,UD;function M_e(){if(UD)return Gx;UD=1;const t=LW();function e(b,v){return b[v]^b[v+1]<<8^b[v+2]<<16^b[v+3]<<24}function n(b,v,E,O,k,S){a[b]=a[b]+a[v]+k,a[O]=r(a[O]^a[b],16),a[E]=a[E]+a[O],a[v]=r(a[v]^a[E],12),a[b]=a[b]+a[v]+S,a[O]=r(a[O]^a[b],8),a[E]=a[E]+a[O],a[v]=r(a[v]^a[E],7)}function r(b,v){return b>>>v^b<<32-v}const i=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),s=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),a=new Uint32Array(16),c=new Uint32Array(16);function u(b,v){let E=0;for(E=0;E<8;E++)a[E]=b.h[E],a[E+8]=i[E];for(a[12]^=b.t,a[13]^=b.t/4294967296,v&&(a[14]=~a[14]),E=0;E<16;E++)c[E]=e(b.b,4*E);for(E=0;E<10;E++)n(0,4,8,12,c[s[E*16+0]],c[s[E*16+1]]),n(1,5,9,13,c[s[E*16+2]],c[s[E*16+3]]),n(2,6,10,14,c[s[E*16+4]],c[s[E*16+5]]),n(3,7,11,15,c[s[E*16+6]],c[s[E*16+7]]),n(0,5,10,15,c[s[E*16+8]],c[s[E*16+9]]),n(1,6,11,12,c[s[E*16+10]],c[s[E*16+11]]),n(2,7,8,13,c[s[E*16+12]],c[s[E*16+13]]),n(3,4,9,14,c[s[E*16+14]],c[s[E*16+15]]);for(E=0;E<8;E++)b.h[E]^=a[E]^a[E+8]}function d(b,v){if(!(b>0&&b<=32))throw new Error("Incorrect output length, should be in [1, 32]");const E=v?v.length:0;if(v&&!(E>0&&E<=32))throw new Error("Incorrect key length, should be in [1, 32]");const O={h:new Uint32Array(i),b:new Uint8Array(64),c:0,t:0,outlen:b};return O.h[0]^=16842752^E<<8^b,E>0&&(h(O,v),O.c=64),O}function h(b,v){for(let E=0;E<v.length;E++)b.c===64&&(b.t+=b.c,u(b,!1),b.c=0),b.b[b.c++]=v[E]}function p(b){for(b.t+=b.c;b.c<64;)b.b[b.c++]=0;u(b,!0);const v=new Uint8Array(b.outlen);for(let E=0;E<b.outlen;E++)v[E]=b.h[E>>2]>>8*(E&3)&255;return v}function m(b,v,E){E=E||32,b=t.normalizeInput(b);const O=d(E,v);return h(O,b),p(O)}function g(b,v,E){const O=m(b,v,E);return t.toHex(O)}return Gx={blake2s:m,blake2sHex:g,blake2sInit:d,blake2sUpdate:h,blake2sFinal:p},Gx}var Kx,BD;function U_e(){if(BD)return Kx;BD=1;const t=D_e(),e=M_e();return Kx={blake2b:t.blake2b,blake2bHex:t.blake2bHex,blake2bInit:t.blake2bInit,blake2bUpdate:t.blake2bUpdate,blake2bFinal:t.blake2bFinal,blake2s:e.blake2s,blake2sHex:e.blake2sHex,blake2sInit:e.blake2sInit,blake2sUpdate:e.blake2sUpdate,blake2sFinal:e.blake2sFinal},Kx}var B_e=U_e(),lm={exports:{}},Yx,LD;function L_e(){if(LD)return Yx;LD=1;function t(n){try{return JSON.stringify(n)}catch{return'"[Circular]"'}}Yx=e;function e(n,r,i){var s=i&&i.stringify||t,a=1;if(typeof n=="object"&&n!==null){var c=r.length+a;if(c===1)return n;var u=new Array(c);u[0]=s(n);for(var d=1;d<c;d++)u[d]=s(r[d]);return u.join(" ")}if(typeof n!="string")return n;var h=r.length;if(h===0)return n;for(var p="",m=1-a,g=-1,b=n&&n.length||0,v=0;v<b;){if(n.charCodeAt(v)===37&&v+1<b){switch(g=g>-1?g:0,n.charCodeAt(v+1)){case 100:case 102:if(m>=h||r[m]==null)break;g<v&&(p+=n.slice(g,v)),p+=Number(r[m]),g=v+2,v++;break;case 105:if(m>=h||r[m]==null)break;g<v&&(p+=n.slice(g,v)),p+=Math.floor(Number(r[m])),g=v+2,v++;break;case 79:case 111:case 106:if(m>=h||r[m]===void 0)break;g<v&&(p+=n.slice(g,v));var E=typeof r[m];if(E==="string"){p+="'"+r[m]+"'",g=v+2,v++;break}if(E==="function"){p+=r[m].name||"<anonymous>",g=v+2,v++;break}p+=s(r[m]),g=v+2,v++;break;case 115:if(m>=h)break;g<v&&(p+=n.slice(g,v)),p+=String(r[m]),g=v+2,v++;break;case 37:g<v&&(p+=n.slice(g,v)),p+="%",g=v+2,v++,m--;break}++m}++v}return g===-1?n:(g<b&&(p+=n.slice(g)),p)}return Yx}var jD;function j_e(){if(jD)return lm.exports;jD=1;const t=L_e();lm.exports=h;const e=K().console||{},n={mapHttpRequest:N,mapHttpResponse:N,wrapRequestSerializer:z,wrapResponseSerializer:z,wrapErrorSerializer:z,req:N,res:N,err:C,errWithCause:C};function r(T,x){return T==="silent"?1/0:x.levels.values[T]}const i=Symbol("pino.logFuncs"),s=Symbol("pino.hierarchy"),a={error:"log",fatal:"error",warn:"error",info:"log",debug:"log",trace:"log"};function c(T,x){const $={logger:x,parent:T[s]};x[s]=$}function u(T,x,$){const j={};x.forEach(P=>{j[P]=$[P]?$[P]:e[P]||e[a[P]||"log"]||L}),T[i]=j}function d(T,x){return Array.isArray(T)?T.filter(function(j){return j!=="!stdSerializers.err"}):T===!0?Object.keys(x):!1}function h(T){T=T||{},T.browser=T.browser||{};const x=T.browser.transmit;if(x&&typeof x.send!="function")throw Error("pino: transmit option must have a send function");const $=T.browser.write||e;T.browser.write&&(T.browser.asObject=!0);const j=T.serializers||{},P=d(T.browser.serialize,j);let V=T.browser.serialize;Array.isArray(T.browser.serialize)&&T.browser.serialize.indexOf("!stdSerializers.err")>-1&&(V=!1);const M=Object.keys(T.customLevels||{}),G=["error","fatal","warn","info","debug","trace"].concat(M);typeof $=="function"&&G.forEach(function(Pe){$[Pe]=$}),(T.enabled===!1||T.browser.disabled)&&(T.level="silent");const J=T.level||"info",X=Object.create($);X.log||(X.log=L),u(X,G,$),c({},X),Object.defineProperty(X,"levelVal",{get:ge}),Object.defineProperty(X,"level",{get:we,set:Te});const Q={transmit:x,serialize:P,asObject:T.browser.asObject,asObjectBindingsOnly:T.browser.asObjectBindingsOnly,formatters:T.browser.formatters,levels:G,timestamp:I(T),messageKey:T.messageKey||"msg",onChild:T.onChild||L};X.levels=p(T),X.level=J,X.isLevelEnabled=function(Pe){return this.levels.values[Pe]?this.levels.values[Pe]>=this.levels.values[this.level]:!1},X.setMaxListeners=X.getMaxListeners=X.emit=X.addListener=X.on=X.prependListener=X.once=X.prependOnceListener=X.removeListener=X.removeAllListeners=X.listeners=X.listenerCount=X.eventNames=X.write=X.flush=L,X.serializers=j,X._serialize=P,X._stdErrSerialize=V,X.child=function(...Pe){return Ee.call(this,Q,...Pe)},x&&(X._logEvent=A());function ge(){return r(this.level,this)}function we(){return this._level}function Te(Pe){if(Pe!=="silent"&&!this.levels.values[Pe])throw Error("unknown level "+Pe);this._level=Pe,b(this,Q,X,"error"),b(this,Q,X,"fatal"),b(this,Q,X,"warn"),b(this,Q,X,"info"),b(this,Q,X,"debug"),b(this,Q,X,"trace"),M.forEach(qe=>{b(this,Q,X,qe)})}function Ee(Pe,qe,rt){if(!qe)throw new Error("missing bindings for child Pino");rt=rt||{},P&&qe.serializers&&(rt.serializers=qe.serializers);const ye=rt.serializers;if(P&&ye){var Tt=Object.assign({},j,ye),Kt=T.browser.serialize===!0?Object.keys(Tt):P;delete qe.serializers,k([qe],Kt,Tt,this._stdErrSerialize)}function wt(Vt){this._childLevel=(Vt._childLevel|0)+1,this.bindings=qe,Tt&&(this.serializers=Tt,this._serialize=Kt),x&&(this._logEvent=A([].concat(Vt._logEvent.bindings,qe)))}wt.prototype=this;const hi=new wt(this);return c(this,hi),hi.child=function(...Vt){return Ee.call(this,Pe,...Vt)},hi.level=rt.level||this.level,Pe.onChild(hi),hi}return X}function p(T){const x=T.customLevels||{},$=Object.assign({},h.levels.values,x),j=Object.assign({},h.levels.labels,m(x));return{values:$,labels:j}}function m(T){const x={};return Object.keys(T).forEach(function($){x[T[$]]=$}),x}h.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},h.stdSerializers=n,h.stdTimeFunctions=Object.assign({},{nullTime:B,epochTime:H,unixTime:D,isoTime:F});function g(T){const x=[];T.bindings&&x.push(T.bindings);let $=T[s];for(;$.parent;)$=$.parent,$.logger.bindings&&x.push($.logger.bindings);return x.reverse()}function b(T,x,$,j){if(Object.defineProperty(T,j,{value:r(T.level,$)>r(j,$)?L:$[i][j],writable:!0,enumerable:!0,configurable:!0}),T[j]===L){if(!x.transmit)return;const V=x.transmit.level||T.level,M=r(V,$);if(r(j,$)<M)return}T[j]=E(T,x,$,j);const P=g(T);P.length!==0&&(T[j]=v(P,T[j]))}function v(T,x){return function(){return x.apply(this,[...T,...arguments])}}function E(T,x,$,j){return(function(P){return function(){const M=x.timestamp(),G=new Array(arguments.length),J=Object.getPrototypeOf&&Object.getPrototypeOf(this)===e?e:this;for(var X=0;X<G.length;X++)G[X]=arguments[X];var Q=!1;if(x.serialize&&(k(G,this._serialize,this.serializers,this._stdErrSerialize),Q=!0),x.asObject||x.formatters?P.call(J,...O(this,j,G,M,x)):P.apply(J,G),x.transmit){const ge=x.transmit.level||T._level,we=r(ge,$),Te=r(j,$);if(Te<we)return;S(this,{ts:M,methodLevel:j,methodValue:Te,transmitValue:$.levels.values[x.transmit.level||T._level],send:x.transmit.send,val:r(T._level,$)},G,Q)}}})(T[i][j])}function O(T,x,$,j,P){const{level:V,log:M=ge=>ge}=P.formatters||{},G=$.slice();let J=G[0];const X={};let Q=(T._childLevel|0)+1;if(Q<1&&(Q=1),j&&(X.time=j),V){const ge=V(x,T.levels.values[x]);Object.assign(X,ge)}else X.level=T.levels.values[x];if(P.asObjectBindingsOnly){if(J!==null&&typeof J=="object")for(;Q--&&typeof G[0]=="object";)Object.assign(X,G.shift());return[M(X),...G]}else{if(J!==null&&typeof J=="object"){for(;Q--&&typeof G[0]=="object";)Object.assign(X,G.shift());J=G.length?t(G.shift(),G):void 0}else typeof J=="string"&&(J=t(G.shift(),G));return J!==void 0&&(X[P.messageKey]=J),[M(X)]}}function k(T,x,$,j){for(const P in T)if(j&&T[P]instanceof Error)T[P]=h.stdSerializers.err(T[P]);else if(typeof T[P]=="object"&&!Array.isArray(T[P])&&x)for(const V in T[P])x.indexOf(V)>-1&&V in $&&(T[P][V]=$[V](T[P][V]))}function S(T,x,$,j=!1){const P=x.send,V=x.ts,M=x.methodLevel,G=x.methodValue,J=x.val,X=T._logEvent.bindings;j||k($,T._serialize||Object.keys(T.serializers),T.serializers,T._stdErrSerialize===void 0?!0:T._stdErrSerialize),T._logEvent.ts=V,T._logEvent.messages=$.filter(function(Q){return X.indexOf(Q)===-1}),T._logEvent.level.label=M,T._logEvent.level.value=G,P(M,T._logEvent,J),T._logEvent=A(X)}function A(T){return{ts:0,messages:[],bindings:T||[],level:{label:"",value:0}}}function C(T){const x={type:T.constructor.name,msg:T.message,stack:T.stack};for(const $ in T)x[$]===void 0&&(x[$]=T[$]);return x}function I(T){return typeof T.timestamp=="function"?T.timestamp:T.timestamp===!1?B:H}function N(){return{}}function z(T){return T}function L(){}function B(){return!1}function H(){return Date.now()}function D(){return Math.round(Date.now()/1e3)}function F(){return new Date(Date.now()).toISOString()}function K(){function T(x){return typeof x<"u"&&x}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return T(self)||T(window)||T(this)||{}}}return lm.exports.default=h,lm.exports.pino=h,lm.exports}var Mh=j_e();const jW=Du(Mh),z_e={level:"info"},RE="custom_context",HC=1e3*1024;var F_e=Object.defineProperty,q_e=(t,e,n)=>e in t?F_e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,bu=(t,e,n)=>q_e(t,typeof e!="symbol"?e+"":e,n);let W_e=class{constructor(e){bu(this,"nodeValue"),bu(this,"sizeInBytes"),bu(this,"next"),this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},zD=class{constructor(e){bu(this,"lengthInNodes"),bu(this,"sizeInBytes"),bu(this,"head"),bu(this,"tail"),bu(this,"maxSizeInBytes"),this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const n=new W_e(e);if(n.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${n.size}`);for(;this.size+n.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=n),this.tail=n):(this.head=n,this.tail=n),this.lengthInNodes++,this.sizeInBytes+=n.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let n=this.head;for(;n!==null;)e.push(n.value),n=n.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const n=e.value;return e=e.next,{done:!1,value:n}}}}};var H_e=Object.defineProperty,V_e=(t,e,n)=>e in t?H_e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,bv=(t,e,n)=>V_e(t,typeof e!="symbol"?e+"":e,n);let zW=class{constructor(e,n=HC){bv(this,"logs"),bv(this,"level"),bv(this,"levelValue"),bv(this,"MAX_LOG_SIZE_IN_BYTES"),this.level=e??"error",this.levelValue=Mh.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new zD(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,n){n===Mh.levels.values.error?console.error(e):n===Mh.levels.values.warn?console.warn(e):n===Mh.levels.values.debug?console.debug(e):n===Mh.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(dl({timestamp:new Date().toISOString(),log:e}));const n=typeof e=="string"?JSON.parse(e).level:e.level;n>=this.levelValue&&this.forwardToConsole(e,n)}getLogs(){return this.logs}clearLogs(){this.logs=new zD(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const n=this.getLogArray();return n.push(dl({extraMetadata:e})),new Blob(n,{type:"application/json"})}};var G_e=Object.defineProperty,K_e=(t,e,n)=>e in t?G_e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Y_e=(t,e,n)=>K_e(t,e+"",n);let Z_e=class{constructor(e,n=HC){Y_e(this,"baseChunkLogger"),this.baseChunkLogger=new zW(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const n=URL.createObjectURL(this.logsToBlob(e)),r=document.createElement("a");r.href=n,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}};var X_e=Object.defineProperty,J_e=(t,e,n)=>e in t?X_e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Q_e=(t,e,n)=>J_e(t,e+"",n);let eEe=class{constructor(e,n=HC){Q_e(this,"baseChunkLogger"),this.baseChunkLogger=new zW(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var tEe=Object.defineProperty,nEe=Object.defineProperties,rEe=Object.getOwnPropertyDescriptors,FD=Object.getOwnPropertySymbols,iEe=Object.prototype.hasOwnProperty,sEe=Object.prototype.propertyIsEnumerable,qD=(t,e,n)=>e in t?tEe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,o_=(t,e)=>{for(var n in e||(e={}))iEe.call(e,n)&&qD(t,n,e[n]);if(FD)for(var n of FD(e))sEe.call(e,n)&&qD(t,n,e[n]);return t},c_=(t,e)=>nEe(t,rEe(e));function aEe(t){return c_(o_({},t),{level:t?.level||z_e.level})}function oEe(t,e,n=RE){return t[n]=e,t}function hs(t,e=RE){return t[e]||""}function cEe(t,e,n=RE){const r=hs(t,n);return r.trim()?`${r}/${e}`:e}function Fs(t,e,n=RE){const r=cEe(t,e,n),i=t.child({context:r});return oEe(i,r,n)}function lEe(t){var e,n;const r=new Z_e((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:jW(c_(o_({},t.opts),{level:"trace",browser:c_(o_({},(n=t.opts)==null?void 0:n.browser),{write:i=>r.write(i)})})),chunkLoggerController:r}}function uEe(t){var e;const n=new eEe((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:jW(c_(o_({},t.opts),{level:"trace"}),n),chunkLoggerController:n}}function FW(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?lEe(t):uEe(t)}var dEe={};const fEe=":";function nl(t){const[e,n]=t.split(fEe);return{namespace:e,reference:n}}function WD(t,e=[]){const n=[];return Object.keys(t).forEach(r=>{if(e.length&&!e.includes(r))return;const i=t[r];n.push(...i.accounts)}),n}function qW(t,e){return t.includes(":")?[t]:e.chains||[]}var hEe=Object.defineProperty,pEe=Object.defineProperties,yEe=Object.getOwnPropertyDescriptors,HD=Object.getOwnPropertySymbols,mEe=Object.prototype.hasOwnProperty,gEe=Object.prototype.propertyIsEnumerable,j5=(t,e,n)=>e in t?hEe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,VD=(t,e)=>{for(var n in e||(e={}))mEe.call(e,n)&&j5(t,n,e[n]);if(HD)for(var n of HD(e))gEe.call(e,n)&&j5(t,n,e[n]);return t},bEe=(t,e)=>pEe(t,yEe(e)),GD=(t,e,n)=>j5(t,typeof e!="symbol"?e+"":e,n);const wEe="ReactNative",Ms={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},vEe="js";function l_(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function ju(){return!ul.getDocument()&&!!ul.getNavigator()&&navigator.product===wEe}function _Ee(){return ju()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function EEe(){return ju()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function Vp(){return!l_()&&!!ul.getNavigator()&&!!ul.getDocument()}function pb(){return ju()?Ms.reactNative:l_()?Ms.node:Vp()?Ms.browser:Ms.unknown}function KD(){var t;try{return ju()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function AEe(t,e){const n=new URLSearchParams(t);return Object.entries(e).sort(([r],[i])=>r.localeCompare(i)).forEach(([r,i])=>{i!=null&&n.set(r,String(i))}),n.toString()}function SEe(t){var e,n;const r=WW();try{return t!=null&&t.url&&r.url&&new URL(t.url).host!==new URL(r.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),t.url=r.url),(e=t?.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(i=>i!=="")),bEe(VD(VD({},r),t),{url:t?.url||r.url,name:t?.name||r.name,description:t?.description||r.description,icons:(n=t?.icons)!=null&&n.length&&t.icons.length>0?t.icons:r.icons})}catch(i){return console.warn("Error populating app metadata",i),t||r}}function WW(){return lge.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function xEe(){if(pb()===Ms.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:n,Version:r}=global.Platform;return[n,r].join("-")}const t=Ime();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function TEe(){var t;const e=pb();return e===Ms.browser?[e,((t=ul.getLocation())==null?void 0:t.host)||"unknown"].join(":"):e}function HW(t,e,n){const r=xEe(),i=TEe();return[[t,e].join("-"),[vEe,n].join("-"),r,i].join("/")}function IEe({protocol:t,version:e,relayUrl:n,sdkVersion:r,auth:i,projectId:s,useOnCloseEvent:a,bundleId:c,packageName:u}){const d=n.split("?"),h=HW(t,e,r),p={auth:i,ua:h,projectId:s,useOnCloseEvent:a,packageName:u||void 0,bundleId:c||void 0},m=AEe(d[1]||"",p);return d[0]+"?"+m}function Ud(t,e){return t.filter(n=>e.includes(n)).length===t.length}function z5(t){return Object.fromEntries(t.entries())}function F5(t){return new Map(Object.entries(t))}function Sd(t=Be.FIVE_MINUTES,e){const n=Be.toMiliseconds(t||Be.FIVE_MINUTES);let r,i,s,a;return{resolve:c=>{s&&r&&(clearTimeout(s),r(c),a=Promise.resolve(c))},reject:c=>{s&&i&&(clearTimeout(s),i(c))},done:()=>new Promise((c,u)=>{if(a)return c(a);s=setTimeout(()=>{const d=new Error(e);a=Promise.reject(d),u(d)},n),r=c,i=u})}}function No(t,e,n){return new Promise(async(r,i)=>{const s=setTimeout(()=>i(new Error(n)),e);try{const a=await t;r(a)}catch(a){i(a)}clearTimeout(s)})}function VW(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function CEe(t){return VW("topic",t)}function OEe(t){return VW("id",t)}function GW(t){const[e,n]=t.split(":"),r={id:void 0,topic:void 0};if(e==="topic"&&typeof n=="string")r.topic=n;else if(e==="id"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${n}`);return r}function yr(t,e){return Be.fromMiliseconds(Date.now()+Be.toMiliseconds(t))}function Ro(t){return Date.now()>=Be.toMiliseconds(t)}function cn(t,e){return`${t}${e?`:${e}`:""}`}function Lo(t=[],e=[]){return[...new Set([...t,...e])]}async function kEe({id:t,topic:e,wcDeepLink:n}){var r;try{if(!n)return;const i=typeof n=="string"?JSON.parse(n):n,s=i?.href;if(typeof s!="string")return;const a=REe(s,t,e),c=pb();if(c===Ms.browser){if(!((r=ul.getDocument())!=null&&r.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}$Ee(a)}else c===Ms.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(a)}catch(i){console.error(i)}}function REe(t,e,n){const r=`requestId=${e}&sessionTopic=${n}`;t.endsWith("/")&&(t=t.slice(0,-1));let i=`${t}`;if(t.startsWith("https://t.me")){const s=t.includes("?")?"&startapp=":"?startapp=";i=`${i}${s}${MEe(r,!0)}`}else i=`${i}/wc?${r}`;return i}function $Ee(t){let e="_self";DEe()?e="_top":(PEe()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function NEe(t,e){let n="";try{if(Vp()&&(n=localStorage.getItem(e),n))return n;n=await t.getItem(e)}catch(r){console.error(r)}return n}function YD(t,e){if(!t.includes(e))return null;const n=t.split(/([&,?,=])/),r=n.indexOf(e);return n[r+2]}function ZD(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function VC(){return typeof process<"u"&&dEe.IS_VITEST==="true"}function PEe(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function DEe(){try{return window.self!==window.top}catch{return!1}}function MEe(t,e=!1){const n=Buffer.from(t).toString("base64");return e?n.replace(/[=]/g,""):n}function KW(t){return Buffer.from(t,"base64").toString("utf-8")}function UEe(t){return new Promise(e=>setTimeout(e,t))}let BEe=class{constructor({limit:e}){GD(this,"limit"),GD(this,"set"),this.limit=e,this.set=new Set}add(e){if(!this.set.has(e)){if(this.set.size>=this.limit){const n=this.set.values().next().value;n&&this.set.delete(n)}this.set.add(e)}}has(e){return this.set.has(e)}};const wv=BigInt(2**32-1),XD=BigInt(32);function YW(t,e=!1){return e?{h:Number(t&wv),l:Number(t>>XD&wv)}:{h:Number(t>>XD&wv)|0,l:Number(t&wv)|0}}function ZW(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let s=0;s<n;s++){const{h:a,l:c}=YW(t[s],e);[r[s],i[s]]=[a,c]}return[r,i]}const JD=(t,e,n)=>t>>>n,QD=(t,e,n)=>t<<32-n|e>>>n,uu=(t,e,n)=>t>>>n|e<<32-n,du=(t,e,n)=>t<<32-n|e>>>n,gg=(t,e,n)=>t<<64-n|e>>>n-32,bg=(t,e,n)=>t>>>n-32|e<<64-n,LEe=(t,e)=>e,jEe=(t,e)=>t,zEe=(t,e,n)=>t<<n|e>>>32-n,FEe=(t,e,n)=>e<<n|t>>>32-n,qEe=(t,e,n)=>e<<n-32|t>>>64-n,WEe=(t,e,n)=>t<<n-32|e>>>64-n;function Ha(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const GC=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),KC=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,HEe=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),VEe=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,GEe=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),KEe=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,Ah=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function $E(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function fl(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function ao(t,...e){if(!$E(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function NE(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");fl(t.outputLen),fl(t.blockLen)}function Nu(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function YC(t,e){ao(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function A0(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function va(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Zx(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function vo(t,e){return t<<32-e|t>>>e}const XW=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function JW(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}const Pc=XW?t=>t:t=>JW(t);function YEe(t){for(let e=0;e<t.length;e++)t[e]=JW(t[e]);return t}const fu=XW?t=>t:YEe,QW=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",ZEe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function rp(t){if(ao(t),QW)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=ZEe[t[n]];return e}const Sc={_0:48,_9:57,A:65,F:70,a:97,f:102};function e9(t){if(t>=Sc._0&&t<=Sc._9)return t-Sc._0;if(t>=Sc.A&&t<=Sc.F)return t-(Sc.A-10);if(t>=Sc.a&&t<=Sc.f)return t-(Sc.a-10)}function u_(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(QW)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const a=e9(t.charCodeAt(s)),c=e9(t.charCodeAt(s+1));if(a===void 0||c===void 0){const u=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+u+'" at index '+s)}r[i]=a*16+c}return r}function eH(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Qa(t){return typeof t=="string"&&(t=eH(t)),ao(t),t}function wu(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];ao(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}class PE{}function yb(t){const e=r=>t().update(Qa(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function XEe(t){const e=(r,i)=>t(i).update(Qa(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}function Sf(t=32){if(Ah&&typeof Ah.getRandomValues=="function")return Ah.getRandomValues(new Uint8Array(t));if(Ah&&typeof Ah.randomBytes=="function")return Uint8Array.from(Ah.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const JEe=BigInt(0),um=BigInt(1),QEe=BigInt(2),e2e=BigInt(7),t2e=BigInt(256),n2e=BigInt(113),tH=[],nH=[],rH=[];for(let t=0,e=um,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],tH.push(2*(5*r+n)),nH.push((t+1)*(t+2)/2%64);let i=JEe;for(let s=0;s<7;s++)e=(e<<um^(e>>e2e)*n2e)%t2e,e&QEe&&(i^=um<<(um<<BigInt(s))-um);rH.push(i)}const iH=ZW(rH,!0),r2e=iH[0],i2e=iH[1],t9=(t,e,n)=>n>32?qEe(t,e,n):zEe(t,e,n),n9=(t,e,n)=>n>32?WEe(t,e,n):FEe(t,e,n);function s2e(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let a=0;a<10;a++)n[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(let a=0;a<10;a+=2){const c=(a+8)%10,u=(a+2)%10,d=n[u],h=n[u+1],p=t9(d,h,1)^n[c],m=n9(d,h,1)^n[c+1];for(let g=0;g<50;g+=10)t[a+g]^=p,t[a+g+1]^=m}let i=t[2],s=t[3];for(let a=0;a<24;a++){const c=nH[a],u=t9(i,s,c),d=n9(i,s,c),h=tH[a];i=t[h],s=t[h+1],t[h]=u,t[h+1]=d}for(let a=0;a<50;a+=10){for(let c=0;c<10;c++)n[c]=t[a+c];for(let c=0;c<10;c++)t[a+c]^=~n[(c+2)%10]&n[(c+4)%10]}t[0]^=r2e[r],t[1]^=i2e[r]}va(n)}let a2e=class sH extends PE{constructor(e,n,r,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,fl(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=A0(this.state)}clone(){return this._cloneInto()}keccak(){fu(this.state32),s2e(this.state32,this.rounds),fu(this.state32),this.posOut=0,this.pos=0}update(e){Nu(this),e=Qa(e),ao(e);const{blockLen:n,state:r}=this,i=e.length;for(let s=0;s<i;){const a=Math.min(n-this.pos,i-s);for(let c=0;c<a;c++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,(n&128)!==0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Nu(this,!1),ao(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const a=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+a),i),this.posOut+=a,i+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return fl(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(YC(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,va(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:a}=this;return e||(e=new sH(n,r,i,a,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=a,e.destroyed=this.destroyed,e}};const o2e=(t,e,n)=>yb(()=>new a2e(e,t,n)),c2e=o2e(1,136,256/8);function l2e(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),a=Number(n>>i&s),c=Number(n&s),u=r?4:0,d=r?0:4;t.setUint32(e+u,a,r),t.setUint32(e+d,c,r)}function u2e(t,e,n){return t&e^~t&n}function d2e(t,e,n){return t&e^t&n^e&n}let aH=class extends PE{constructor(e,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=Zx(this.buffer)}update(e){Nu(this),e=Qa(e),ao(e);const{view:n,buffer:r,blockLen:i}=this,s=e.length;for(let a=0;a<s;){const c=Math.min(i-this.pos,s-a);if(c===i){const u=Zx(e);for(;i<=s-a;a+=i)this.process(u,a);continue}r.set(e.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Nu(this),YC(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:a}=this;n[a++]=128,va(this.buffer.subarray(a)),this.padOffset>i-a&&(this.process(r,0),a=0);for(let p=a;p<i;p++)n[p]=0;l2e(r,i-8,BigInt(this.length*8),s),this.process(r,0);const c=Zx(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=u/4,h=this.get();if(d>h.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<d;p++)c.setUint32(4*p,h[p],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:a,pos:c}=this;return e.destroyed=a,e.finished=s,e.length=i,e.pos=c,i%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}};const eu=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),gi=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),bi=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),f2e=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),tu=new Uint32Array(64);class h2e extends aH{constructor(e=32){super(64,e,8,!1),this.A=eu[0]|0,this.B=eu[1]|0,this.C=eu[2]|0,this.D=eu[3]|0,this.E=eu[4]|0,this.F=eu[5]|0,this.G=eu[6]|0,this.H=eu[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:a,G:c,H:u}=this;return[e,n,r,i,s,a,c,u]}set(e,n,r,i,s,a,c,u){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=c|0,this.H=u|0}process(e,n){for(let p=0;p<16;p++,n+=4)tu[p]=e.getUint32(n,!1);for(let p=16;p<64;p++){const m=tu[p-15],g=tu[p-2],b=vo(m,7)^vo(m,18)^m>>>3,v=vo(g,17)^vo(g,19)^g>>>10;tu[p]=v+tu[p-7]+b+tu[p-16]|0}let{A:r,B:i,C:s,D:a,E:c,F:u,G:d,H:h}=this;for(let p=0;p<64;p++){const m=vo(c,6)^vo(c,11)^vo(c,25),g=h+m+u2e(c,u,d)+f2e[p]+tu[p]|0,b=(vo(r,2)^vo(r,13)^vo(r,22))+d2e(r,i,s)|0;h=d,d=u,u=c,c=a+g|0,a=s,s=i,i=r,r=g+b|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,c=c+this.E|0,u=u+this.F|0,d=d+this.G|0,h=h+this.H|0,this.set(r,i,s,a,c,u,d,h)}roundClean(){va(tu)}destroy(){this.set(0,0,0,0,0,0,0,0),va(this.buffer)}}const oH=ZW(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),p2e=oH[0],y2e=oH[1],nu=new Uint32Array(80),ru=new Uint32Array(80);let ZC=class extends aH{constructor(e=64){super(128,e,16,!1),this.Ah=bi[0]|0,this.Al=bi[1]|0,this.Bh=bi[2]|0,this.Bl=bi[3]|0,this.Ch=bi[4]|0,this.Cl=bi[5]|0,this.Dh=bi[6]|0,this.Dl=bi[7]|0,this.Eh=bi[8]|0,this.El=bi[9]|0,this.Fh=bi[10]|0,this.Fl=bi[11]|0,this.Gh=bi[12]|0,this.Gl=bi[13]|0,this.Hh=bi[14]|0,this.Hl=bi[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:a,Dh:c,Dl:u,Eh:d,El:h,Fh:p,Fl:m,Gh:g,Gl:b,Hh:v,Hl:E}=this;return[e,n,r,i,s,a,c,u,d,h,p,m,g,b,v,E]}set(e,n,r,i,s,a,c,u,d,h,p,m,g,b,v,E){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=a|0,this.Dh=c|0,this.Dl=u|0,this.Eh=d|0,this.El=h|0,this.Fh=p|0,this.Fl=m|0,this.Gh=g|0,this.Gl=b|0,this.Hh=v|0,this.Hl=E|0}process(e,n){for(let S=0;S<16;S++,n+=4)nu[S]=e.getUint32(n),ru[S]=e.getUint32(n+=4);for(let S=16;S<80;S++){const A=nu[S-15]|0,C=ru[S-15]|0,I=uu(A,C,1)^uu(A,C,8)^JD(A,C,7),N=du(A,C,1)^du(A,C,8)^QD(A,C,7),z=nu[S-2]|0,L=ru[S-2]|0,B=uu(z,L,19)^gg(z,L,61)^JD(z,L,6),H=du(z,L,19)^bg(z,L,61)^QD(z,L,6),D=HEe(N,H,ru[S-7],ru[S-16]),F=VEe(D,I,B,nu[S-7],nu[S-16]);nu[S]=F|0,ru[S]=D|0}let{Ah:r,Al:i,Bh:s,Bl:a,Ch:c,Cl:u,Dh:d,Dl:h,Eh:p,El:m,Fh:g,Fl:b,Gh:v,Gl:E,Hh:O,Hl:k}=this;for(let S=0;S<80;S++){const A=uu(p,m,14)^uu(p,m,18)^gg(p,m,41),C=du(p,m,14)^du(p,m,18)^bg(p,m,41),I=p&g^~p&v,N=m&b^~m&E,z=GEe(k,C,N,y2e[S],ru[S]),L=KEe(z,O,A,I,p2e[S],nu[S]),B=z|0,H=uu(r,i,28)^gg(r,i,34)^gg(r,i,39),D=du(r,i,28)^bg(r,i,34)^bg(r,i,39),F=r&s^r&c^s&c,K=i&a^i&u^a&u;O=v|0,k=E|0,v=g|0,E=b|0,g=p|0,b=m|0,{h:p,l:m}=Ha(d|0,h|0,L|0,B|0),d=c|0,h=u|0,c=s|0,u=a|0,s=r|0,a=i|0;const T=GC(B,D,K);r=KC(T,L,H,F),i=T|0}({h:r,l:i}=Ha(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:a}=Ha(this.Bh|0,this.Bl|0,s|0,a|0),{h:c,l:u}=Ha(this.Ch|0,this.Cl|0,c|0,u|0),{h:d,l:h}=Ha(this.Dh|0,this.Dl|0,d|0,h|0),{h:p,l:m}=Ha(this.Eh|0,this.El|0,p|0,m|0),{h:g,l:b}=Ha(this.Fh|0,this.Fl|0,g|0,b|0),{h:v,l:E}=Ha(this.Gh|0,this.Gl|0,v|0,E|0),{h:O,l:k}=Ha(this.Hh|0,this.Hl|0,O|0,k|0),this.set(r,i,s,a,c,u,d,h,p,m,g,b,v,E,O,k)}roundClean(){va(nu,ru)}destroy(){va(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};class m2e extends ZC{constructor(){super(48),this.Ah=gi[0]|0,this.Al=gi[1]|0,this.Bh=gi[2]|0,this.Bl=gi[3]|0,this.Ch=gi[4]|0,this.Cl=gi[5]|0,this.Dh=gi[6]|0,this.Dl=gi[7]|0,this.Eh=gi[8]|0,this.El=gi[9]|0,this.Fh=gi[10]|0,this.Fl=gi[11]|0,this.Gh=gi[12]|0,this.Gl=gi[13]|0,this.Hh=gi[14]|0,this.Hl=gi[15]|0}}const wi=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class g2e extends ZC{constructor(){super(32),this.Ah=wi[0]|0,this.Al=wi[1]|0,this.Bh=wi[2]|0,this.Bl=wi[3]|0,this.Ch=wi[4]|0,this.Cl=wi[5]|0,this.Dh=wi[6]|0,this.Dl=wi[7]|0,this.Eh=wi[8]|0,this.El=wi[9]|0,this.Fh=wi[10]|0,this.Fl=wi[11]|0,this.Gh=wi[12]|0,this.Gl=wi[13]|0,this.Hh=wi[14]|0,this.Hl=wi[15]|0}}const DE=yb(()=>new h2e),b2e=yb(()=>new ZC),w2e=yb(()=>new m2e),v2e=yb(()=>new g2e),_2e=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),Ir=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),je=new Uint32Array(32);function iu(t,e,n,r,i,s){const a=i[s],c=i[s+1];let u=je[2*t],d=je[2*t+1],h=je[2*e],p=je[2*e+1],m=je[2*n],g=je[2*n+1],b=je[2*r],v=je[2*r+1],E=GC(u,h,a);d=KC(E,d,p,c),u=E|0,{Dh:v,Dl:b}={Dh:v^d,Dl:b^u},{Dh:v,Dl:b}={Dh:LEe(v,b),Dl:jEe(v)},{h:g,l:m}=Ha(g,m,v,b),{Bh:p,Bl:h}={Bh:p^g,Bl:h^m},{Bh:p,Bl:h}={Bh:uu(p,h,24),Bl:du(p,h,24)},je[2*t]=u,je[2*t+1]=d,je[2*e]=h,je[2*e+1]=p,je[2*n]=m,je[2*n+1]=g,je[2*r]=b,je[2*r+1]=v}function su(t,e,n,r,i,s){const a=i[s],c=i[s+1];let u=je[2*t],d=je[2*t+1],h=je[2*e],p=je[2*e+1],m=je[2*n],g=je[2*n+1],b=je[2*r],v=je[2*r+1],E=GC(u,h,a);d=KC(E,d,p,c),u=E|0,{Dh:v,Dl:b}={Dh:v^d,Dl:b^u},{Dh:v,Dl:b}={Dh:uu(v,b,16),Dl:du(v,b,16)},{h:g,l:m}=Ha(g,m,v,b),{Bh:p,Bl:h}={Bh:p^g,Bl:h^m},{Bh:p,Bl:h}={Bh:gg(p,h,63),Bl:bg(p,h,63)},je[2*t]=u,je[2*t+1]=d,je[2*e]=h,je[2*e+1]=p,je[2*n]=m,je[2*n+1]=g,je[2*r]=b,je[2*r+1]=v}function E2e(t,e={},n,r,i){if(fl(n),t<0||t>n)throw new Error("outputLen bigger than keyLen");const{key:s,salt:a,personalization:c}=e;if(s!==void 0&&(s.length<1||s.length>n))throw new Error("key length must be undefined or 1.."+n);if(a!==void 0&&a.length!==r)throw new Error("salt must be undefined or "+r);if(c!==void 0&&c.length!==i)throw new Error("personalization must be undefined or "+i)}class A2e extends PE{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,fl(e),fl(n),this.blockLen=e,this.outputLen=n,this.buffer=new Uint8Array(e),this.buffer32=A0(this.buffer)}update(e){Nu(this),e=Qa(e),ao(e);const{blockLen:n,buffer:r,buffer32:i}=this,s=e.length,a=e.byteOffset,c=e.buffer;for(let u=0;u<s;){this.pos===n&&(fu(i),this.compress(i,0,!1),fu(i),this.pos=0);const d=Math.min(n-this.pos,s-u),h=a+u;if(d===n&&!(h%4)&&u+d<s){const p=new Uint32Array(c,h,Math.floor((s-u)/4));fu(p);for(let m=0;u+n<s;m+=i.length,u+=n)this.length+=n,this.compress(p,m,!1);fu(p);continue}r.set(e.subarray(u,u+d),this.pos),this.pos+=d,this.length+=d,u+=d}return this}digestInto(e){Nu(this),YC(e,this);const{pos:n,buffer32:r}=this;this.finished=!0,va(this.buffer.subarray(n)),fu(r),this.compress(r,0,!0),fu(r);const i=A0(e);this.get().forEach((s,a)=>i[a]=Pc(s))}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){const{buffer:n,length:r,finished:i,destroyed:s,outputLen:a,pos:c}=this;return e||(e=new this.constructor({dkLen:a})),e.set(...this.get()),e.buffer.set(n),e.destroyed=s,e.finished=i,e.length=r,e.pos=c,e.outputLen=a,e}clone(){return this._cloneInto()}}class S2e extends A2e{constructor(e={}){const n=e.dkLen===void 0?64:e.dkLen;super(128,n),this.v0l=Ir[0]|0,this.v0h=Ir[1]|0,this.v1l=Ir[2]|0,this.v1h=Ir[3]|0,this.v2l=Ir[4]|0,this.v2h=Ir[5]|0,this.v3l=Ir[6]|0,this.v3h=Ir[7]|0,this.v4l=Ir[8]|0,this.v4h=Ir[9]|0,this.v5l=Ir[10]|0,this.v5h=Ir[11]|0,this.v6l=Ir[12]|0,this.v6h=Ir[13]|0,this.v7l=Ir[14]|0,this.v7h=Ir[15]|0,E2e(n,e,64,16,16);let{key:r,personalization:i,salt:s}=e,a=0;if(r!==void 0&&(r=Qa(r),a=r.length),this.v0l^=this.outputLen|a<<8|65536|1<<24,s!==void 0){s=Qa(s);const c=A0(s);this.v4l^=Pc(c[0]),this.v4h^=Pc(c[1]),this.v5l^=Pc(c[2]),this.v5h^=Pc(c[3])}if(i!==void 0){i=Qa(i);const c=A0(i);this.v6l^=Pc(c[0]),this.v6h^=Pc(c[1]),this.v7l^=Pc(c[2]),this.v7h^=Pc(c[3])}if(r!==void 0){const c=new Uint8Array(this.blockLen);c.set(r),this.update(c)}}get(){let{v0l:e,v0h:n,v1l:r,v1h:i,v2l:s,v2h:a,v3l:c,v3h:u,v4l:d,v4h:h,v5l:p,v5h:m,v6l:g,v6h:b,v7l:v,v7h:E}=this;return[e,n,r,i,s,a,c,u,d,h,p,m,g,b,v,E]}set(e,n,r,i,s,a,c,u,d,h,p,m,g,b,v,E){this.v0l=e|0,this.v0h=n|0,this.v1l=r|0,this.v1h=i|0,this.v2l=s|0,this.v2h=a|0,this.v3l=c|0,this.v3h=u|0,this.v4l=d|0,this.v4h=h|0,this.v5l=p|0,this.v5h=m|0,this.v6l=g|0,this.v6h=b|0,this.v7l=v|0,this.v7h=E|0}compress(e,n,r){this.get().forEach((u,d)=>je[d]=u),je.set(Ir,16);let{h:i,l:s}=YW(BigInt(this.length));je[24]=Ir[8]^s,je[25]=Ir[9]^i,r&&(je[28]=~je[28],je[29]=~je[29]);let a=0;const c=_2e;for(let u=0;u<12;u++)iu(0,4,8,12,e,n+2*c[a++]),su(0,4,8,12,e,n+2*c[a++]),iu(1,5,9,13,e,n+2*c[a++]),su(1,5,9,13,e,n+2*c[a++]),iu(2,6,10,14,e,n+2*c[a++]),su(2,6,10,14,e,n+2*c[a++]),iu(3,7,11,15,e,n+2*c[a++]),su(3,7,11,15,e,n+2*c[a++]),iu(0,5,10,15,e,n+2*c[a++]),su(0,5,10,15,e,n+2*c[a++]),iu(1,6,11,12,e,n+2*c[a++]),su(1,6,11,12,e,n+2*c[a++]),iu(2,7,8,13,e,n+2*c[a++]),su(2,7,8,13,e,n+2*c[a++]),iu(3,4,9,14,e,n+2*c[a++]),su(3,4,9,14,e,n+2*c[a++]);this.v0l^=je[0]^je[16],this.v0h^=je[1]^je[17],this.v1l^=je[2]^je[18],this.v1h^=je[3]^je[19],this.v2l^=je[4]^je[20],this.v2h^=je[5]^je[21],this.v3l^=je[6]^je[22],this.v3h^=je[7]^je[23],this.v4l^=je[8]^je[24],this.v4h^=je[9]^je[25],this.v5l^=je[10]^je[26],this.v5h^=je[11]^je[27],this.v6l^=je[12]^je[28],this.v6h^=je[13]^je[29],this.v7l^=je[14]^je[30],this.v7h^=je[15]^je[31],va(je)}destroy(){this.destroyed=!0,va(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const x2e=XEe(t=>new S2e(t)),T2e="https://rpc.walletconnect.org/v1";function cH(t){const e=`Ethereum Signed Message:
${t.length}`,n=new TextEncoder().encode(e+t);return"0x"+Buffer.from(c2e(n)).toString("hex")}async function I2e(t,e,n,r,i,s){switch(n.t){case"eip191":return await C2e(t,e,n.s);case"eip1271":return await O2e(t,e,n.s,r,i,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}function C2e(t,e,n){const r=tbe(n);return abe({payload:cH(e),signature:r}).toLowerCase()===t.toLowerCase()}async function O2e(t,e,n,r,i,s){const a=nl(r);if(!a.namespace||!a.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const c="0x1626ba7e",u="0000000000000000000000000000000000000000000000000000000000000040",d=n.substring(2),h=(d.length/2).toString(16).padStart(64,"0"),p=(e.startsWith("0x")?e:cH(e)).substring(2),m=c+p+u+h+d,g=await fetch(`${s||T2e}/?chainId=${r}&projectId=${i}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:k2e(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:m},"latest"]})}),{result:b}=await g.json();return b?b.slice(0,c.length).toLowerCase()===c.toLowerCase():!1}catch(c){return console.error("isValidEip1271Signature: ",c),!1}}function k2e(){return Date.now()+Math.floor(Math.random()*1e3)}function R2e(t){const e=atob(t),n=new Uint8Array(e.length);for(let a=0;a<e.length;a++)n[a]=e.charCodeAt(a);const r=n[0];if(r===0)throw new Error("No signatures found");const i=1+r*64;if(n.length<i)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");const s=Buffer.from(t,"base64").slice(1,65);return db.encode(s)}function $2e(t){const e=new Uint8Array(Buffer.from(t,"base64")),n=Array.from("TransactionData::").map(s=>s.charCodeAt(0)),r=new Uint8Array(n.length+e.length);r.set(n),r.set(e,n.length);const i=x2e(r,{dkLen:32});return db.encode(i)}function r9(t){const e=new Uint8Array(DE(N2e(t)));return db.encode(e)}function N2e(t){if(t instanceof Uint8Array)return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="object"&&t!=null&&t.data)return new Uint8Array(Object.values(t.data));if(typeof t=="object"&&t)return new Uint8Array(Object.values(t));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function i9(t){const e=Buffer.from(t,"base64"),n=Hbe(e).txn;if(!n)throw new Error("Invalid signed transaction: missing 'txn' field");const r=Mbe(n),i=Buffer.from("TX"),s=Buffer.concat([i,Buffer.from(r)]),a=v2e(s);return lpe.encode(a).replace(/=+$/,"")}function Xx(t){const e=[];let n=BigInt(t);for(;n>=BigInt(128);)e.push(Number(n&BigInt(127)|BigInt(128))),n>>=BigInt(7);return e.push(Number(n)),Buffer.from(e)}function P2e(t){const e=Buffer.from(t.signed.bodyBytes,"base64"),n=Buffer.from(t.signed.authInfoBytes,"base64"),r=Buffer.from(t.signature.signature,"base64"),i=[];i.push(Buffer.from([10])),i.push(Xx(e.length)),i.push(e),i.push(Buffer.from([18])),i.push(Xx(n.length)),i.push(n),i.push(Buffer.from([26])),i.push(Xx(r.length)),i.push(r);const s=Buffer.concat(i),a=DE(s);return Buffer.from(a).toString("hex").toUpperCase()}function D2e(t){var e,n;const r=[];try{if(typeof t=="string")return r.push(t),r;if(typeof t!="object")return r;t!=null&&t.id&&r.push(t.id);const i=(n=(e=t?.capabilities)==null?void 0:e.caip345)==null?void 0:n.transactionHashes;i&&r.push(...i)}catch(i){console.warn("getWalletSendCallsHashes failed: ",i)}return r}var M2e=Object.defineProperty,U2e=Object.defineProperties,B2e=Object.getOwnPropertyDescriptors,s9=Object.getOwnPropertySymbols,L2e=Object.prototype.hasOwnProperty,j2e=Object.prototype.propertyIsEnumerable,a9=(t,e,n)=>e in t?M2e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,z2e=(t,e)=>{for(var n in e||(e={}))L2e.call(e,n)&&a9(t,n,e[n]);if(s9)for(var n of s9(e))j2e.call(e,n)&&a9(t,n,e[n]);return t},F2e=(t,e)=>U2e(t,B2e(e));const q2e="did:pkh:",XC=t=>t?.split(":"),W2e=t=>{const e=t&&XC(t);if(e)return t.includes(q2e)?e[3]:e[1]},q5=t=>{const e=t&&XC(t);if(e)return e[2]+":"+e[3]},d_=t=>{const e=t&&XC(t);if(e)return e.pop()};async function o9(t){const{cacao:e,projectId:n}=t,{s:r,p:i}=e,s=lH(i,i.iss),a=d_(i.iss);return await I2e(a,s,r,q5(i.iss),n)}const lH=(t,e)=>{const n=`${t.domain} wants you to sign in with your Ethereum account:`,r=d_(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=t.statement||void 0;const s=`URI: ${t.aud||t.uri}`,a=`Version: ${t.version}`,c=`Chain ID: ${W2e(e)}`,u=`Nonce: ${t.nonce}`,d=`Issued At: ${t.iat}`,h=t.exp?`Expiration Time: ${t.exp}`:void 0,p=t.nbf?`Not Before: ${t.nbf}`:void 0,m=t.requestId?`Request ID: ${t.requestId}`:void 0,g=t.resources?`Resources:${t.resources.map(v=>`
- ${v}`).join("")}`:void 0,b=Qv(t.resources);if(b){const v=S0(b);i=Q2e(i,v)}return[n,r,"",i,"",s,a,c,u,d,h,p,m,g].filter(v=>v!=null).join(`
`)};function H2e(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function V2e(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function hf(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(n=>{const r=t.att[n];if(Array.isArray(r))throw new Error(`Resource must be an object: ${n}`);if(typeof r!="object")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(r).forEach(i=>{const s=r[i];if(!Array.isArray(s))throw new Error(`Ability limits ${i} must be an array of objects, found: ${s}`);if(!s.length)throw new Error(`Value of ${i} is empty array, must be an array with objects`);s.forEach(a=>{if(typeof a!="object")throw new Error(`Ability limits (${i}) must be an array of objects, found: ${a}`)})})})}function G2e(t,e,n,r={}){return n?.sort((i,s)=>i.localeCompare(s)),{att:{[t]:K2e(e,n,r)}}}function K2e(t,e,n={}){e=e?.sort((i,s)=>i.localeCompare(s));const r=e.map(i=>({[`${t}/${i}`]:[n]}));return Object.assign({},...r)}function uH(t){return hf(t),`urn:recap:${H2e(t).replace(/=/g,"")}`}function S0(t){const e=V2e(t.replace("urn:recap:",""));return hf(e),e}function Y2e(t,e,n){const r=G2e(t,e,n);return uH(r)}function Z2e(t){return t&&t.includes("urn:recap:")}function X2e(t,e){const n=S0(t),r=S0(e),i=J2e(n,r);return uH(i)}function J2e(t,e){hf(t),hf(e);const n=Object.keys(t.att).concat(Object.keys(e.att)).sort((i,s)=>i.localeCompare(s)),r={att:{}};return n.forEach(i=>{var s,a;Object.keys(((s=t.att)==null?void 0:s[i])||{}).concat(Object.keys(((a=e.att)==null?void 0:a[i])||{})).sort((c,u)=>c.localeCompare(u)).forEach(c=>{var u,d;r.att[i]=F2e(z2e({},r.att[i]),{[c]:((u=t.att[i])==null?void 0:u[c])||((d=e.att[i])==null?void 0:d[c])})})}),r}function Q2e(t="",e){hf(e);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(n))return t;const r=[];let i=0;Object.keys(e.att).forEach(c=>{const u=Object.keys(e.att[c]).map(p=>({ability:p.split("/")[0],action:p.split("/")[1]}));u.sort((p,m)=>p.action.localeCompare(m.action));const d={};u.forEach(p=>{d[p.ability]||(d[p.ability]=[]),d[p.ability].push(p.action)});const h=Object.keys(d).map(p=>(i++,`(${i}) '${p}': '${d[p].join("', '")}' for '${c}'.`));r.push(h.join(", ").replace(".,","."))});const s=r.join(" "),a=`${n}${s}`;return`${t?t+" ":""}${a}`}function c9(t){var e;const n=S0(t);hf(n);const r=(e=n.att)==null?void 0:e.eip155;return r?Object.keys(r).map(i=>i.split("/")[1]):[]}function l9(t){const e=S0(t);hf(e);const n=[];return Object.values(e.att).forEach(r=>{Object.values(r).forEach(i=>{var s;(s=i?.[0])!=null&&s.chains&&n.push(i[0].chains)})}),[...new Set(n.flat())]}function Qv(t){if(!t)return;const e=t?.[t.length-1];return Z2e(e)?e:void 0}function dH(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function W5(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function Jx(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function ts(t,...e){if(!dH(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function u9(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function eAe(t,e){ts(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Cu(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Op(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function tAe(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}const nAe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function rAe(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function H5(t){if(typeof t=="string")t=rAe(t);else if(dH(t))t=V5(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function iAe(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function sAe(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}const aAe=(t,e)=>{function n(r,...i){if(ts(r),!nAe)throw new Error("Non little-endian hardware is not yet supported");if(t.nonceLength!==void 0){const d=i[0];if(!d)throw new Error("nonce / iv required");t.varSizeNonce?ts(d):ts(d,t.nonceLength)}const s=t.tagLength;s&&i[1]!==void 0&&ts(i[1]);const a=e(r,...i),c=(d,h)=>{if(h!==void 0){if(d!==2)throw new Error("cipher output not supported");ts(h)}};let u=!1;return{encrypt(d,h){if(u)throw new Error("cannot encrypt() twice with same key + nonce");return u=!0,ts(d),c(a.encrypt.length,h),a.encrypt(d,h)},decrypt(d,h){if(ts(d),s&&d.length<s)throw new Error("invalid ciphertext length: smaller than tagLength="+s);return c(a.decrypt.length,h),a.decrypt(d,h)}}}return Object.assign(n,t),n};function d9(t,e,n=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(n&&!cAe(e))throw new Error("invalid output, must be aligned");return e}function f9(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),a=Number(n>>i&s),c=Number(n&s);t.setUint32(e+4,a,r),t.setUint32(e+0,c,r)}function oAe(t,e,n){W5(n);const r=new Uint8Array(16),i=tAe(r);return f9(i,0,BigInt(e),n),f9(i,8,BigInt(t),n),r}function cAe(t){return t.byteOffset%4===0}function V5(t){return Uint8Array.from(t)}const fH=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),lAe=fH("expand 16-byte k"),uAe=fH("expand 32-byte k"),dAe=Cu(lAe),fAe=Cu(uAe);function en(t,e){return t<<e|t>>>32-e}function G5(t){return t.byteOffset%4===0}const vv=64,hAe=16,hH=2**32-1,h9=new Uint32Array;function pAe(t,e,n,r,i,s,a,c){const u=i.length,d=new Uint8Array(vv),h=Cu(d),p=G5(i)&&G5(s),m=p?Cu(i):h9,g=p?Cu(s):h9;for(let b=0;b<u;a++){if(t(e,n,r,h,a,c),a>=hH)throw new Error("arx: counter overflow");const v=Math.min(vv,u-b);if(p&&v===vv){const E=b/4;if(b%4!==0)throw new Error("arx: invalid block position");for(let O=0,k;O<hAe;O++)k=E+O,g[k]=m[k]^h[O];b+=vv;continue}for(let E=0,O;E<v;E++)O=b+E,s[O]=i[O]^d[E];b+=v}}function yAe(t,e){const{allowShortKeys:n,extendNonceFn:r,counterLength:i,counterRight:s,rounds:a}=iAe({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return Jx(i),Jx(a),W5(s),W5(n),(c,u,d,h,p=0)=>{ts(c),ts(u),ts(d);const m=d.length;if(h===void 0&&(h=new Uint8Array(m)),ts(h),Jx(p),p<0||p>=hH)throw new Error("arx: counter overflow");if(h.length<m)throw new Error(`arx: output (${h.length}) is shorter than data (${m})`);const g=[];let b=c.length,v,E;if(b===32)g.push(v=V5(c)),E=fAe;else if(b===16&&n)v=new Uint8Array(32),v.set(c),v.set(c,16),E=dAe,g.push(v);else throw new Error(`arx: invalid 32-byte key, got length=${b}`);G5(u)||g.push(u=V5(u));const O=Cu(v);if(r){if(u.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(E,O,Cu(u.subarray(0,16)),O),u=u.subarray(16)}const k=16-i;if(k!==u.length)throw new Error(`arx: nonce must be ${k} or 16 bytes`);if(k!==12){const A=new Uint8Array(12);A.set(u,s?0:12-u.length),u=A,g.push(u)}const S=Cu(u);return pAe(t,E,O,S,d,h,p,a),Op(...g),h}}const ni=(t,e)=>t[e++]&255|(t[e++]&255)<<8;class mAe{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=H5(e),ts(e,32);const n=ni(e,0),r=ni(e,2),i=ni(e,4),s=ni(e,6),a=ni(e,8),c=ni(e,10),u=ni(e,12),d=ni(e,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|i<<6)&7939,this.r[3]=(i>>>7|s<<9)&8191,this.r[4]=(s>>>4|a<<12)&255,this.r[5]=a>>>1&8190,this.r[6]=(a>>>14|c<<2)&8191,this.r[7]=(c>>>11|u<<5)&8065,this.r[8]=(u>>>8|d<<8)&8191,this.r[9]=d>>>5&127;for(let h=0;h<8;h++)this.pad[h]=ni(e,16+2*h)}process(e,n,r=!1){const i=r?0:2048,{h:s,r:a}=this,c=a[0],u=a[1],d=a[2],h=a[3],p=a[4],m=a[5],g=a[6],b=a[7],v=a[8],E=a[9],O=ni(e,n+0),k=ni(e,n+2),S=ni(e,n+4),A=ni(e,n+6),C=ni(e,n+8),I=ni(e,n+10),N=ni(e,n+12),z=ni(e,n+14);let L=s[0]+(O&8191),B=s[1]+((O>>>13|k<<3)&8191),H=s[2]+((k>>>10|S<<6)&8191),D=s[3]+((S>>>7|A<<9)&8191),F=s[4]+((A>>>4|C<<12)&8191),K=s[5]+(C>>>1&8191),T=s[6]+((C>>>14|I<<2)&8191),x=s[7]+((I>>>11|N<<5)&8191),$=s[8]+((N>>>8|z<<8)&8191),j=s[9]+(z>>>5|i),P=0,V=P+L*c+B*(5*E)+H*(5*v)+D*(5*b)+F*(5*g);P=V>>>13,V&=8191,V+=K*(5*m)+T*(5*p)+x*(5*h)+$*(5*d)+j*(5*u),P+=V>>>13,V&=8191;let M=P+L*u+B*c+H*(5*E)+D*(5*v)+F*(5*b);P=M>>>13,M&=8191,M+=K*(5*g)+T*(5*m)+x*(5*p)+$*(5*h)+j*(5*d),P+=M>>>13,M&=8191;let G=P+L*d+B*u+H*c+D*(5*E)+F*(5*v);P=G>>>13,G&=8191,G+=K*(5*b)+T*(5*g)+x*(5*m)+$*(5*p)+j*(5*h),P+=G>>>13,G&=8191;let J=P+L*h+B*d+H*u+D*c+F*(5*E);P=J>>>13,J&=8191,J+=K*(5*v)+T*(5*b)+x*(5*g)+$*(5*m)+j*(5*p),P+=J>>>13,J&=8191;let X=P+L*p+B*h+H*d+D*u+F*c;P=X>>>13,X&=8191,X+=K*(5*E)+T*(5*v)+x*(5*b)+$*(5*g)+j*(5*m),P+=X>>>13,X&=8191;let Q=P+L*m+B*p+H*h+D*d+F*u;P=Q>>>13,Q&=8191,Q+=K*c+T*(5*E)+x*(5*v)+$*(5*b)+j*(5*g),P+=Q>>>13,Q&=8191;let ge=P+L*g+B*m+H*p+D*h+F*d;P=ge>>>13,ge&=8191,ge+=K*u+T*c+x*(5*E)+$*(5*v)+j*(5*b),P+=ge>>>13,ge&=8191;let we=P+L*b+B*g+H*m+D*p+F*h;P=we>>>13,we&=8191,we+=K*d+T*u+x*c+$*(5*E)+j*(5*v),P+=we>>>13,we&=8191;let Te=P+L*v+B*b+H*g+D*m+F*p;P=Te>>>13,Te&=8191,Te+=K*h+T*d+x*u+$*c+j*(5*E),P+=Te>>>13,Te&=8191;let Ee=P+L*E+B*v+H*b+D*g+F*m;P=Ee>>>13,Ee&=8191,Ee+=K*p+T*h+x*d+$*u+j*c,P+=Ee>>>13,Ee&=8191,P=(P<<2)+P|0,P=P+V|0,V=P&8191,P=P>>>13,M+=P,s[0]=V,s[1]=M,s[2]=G,s[3]=J,s[4]=X,s[5]=Q,s[6]=ge,s[7]=we,s[8]=Te,s[9]=Ee}finalize(){const{h:e,pad:n}=this,r=new Uint16Array(10);let i=e[1]>>>13;e[1]&=8191;for(let c=2;c<10;c++)e[c]+=i,i=e[c]>>>13,e[c]&=8191;e[0]+=i*5,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,r[0]=e[0]+5,i=r[0]>>>13,r[0]&=8191;for(let c=1;c<10;c++)r[c]=e[c]+i,i=r[c]>>>13,r[c]&=8191;r[9]-=8192;let s=(i^1)-1;for(let c=0;c<10;c++)r[c]&=s;s=~s;for(let c=0;c<10;c++)e[c]=e[c]&s|r[c];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let a=e[0]+n[0];e[0]=a&65535;for(let c=1;c<8;c++)a=(e[c]+n[c]|0)+(a>>>16)|0,e[c]=a&65535;Op(r)}update(e){u9(this),e=H5(e),ts(e);const{buffer:n,blockLen:r}=this,i=e.length;for(let s=0;s<i;){const a=Math.min(r-this.pos,i-s);if(a===r){for(;r<=i-s;s+=r)this.process(e,s);continue}n.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){Op(this.h,this.r,this.buffer,this.pad)}digestInto(e){u9(this),eAe(e,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:i}=this;if(i){for(n[i++]=1;i<16;i++)n[i]=0;this.process(n,0,!0)}this.finalize();let s=0;for(let a=0;a<8;a++)e[s++]=r[a]>>>0,e[s++]=r[a]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}}function gAe(t){const e=(r,i)=>t(i).update(H5(r)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}const bAe=gAe(t=>new mAe(t));function wAe(t,e,n,r,i,s=20){let a=t[0],c=t[1],u=t[2],d=t[3],h=e[0],p=e[1],m=e[2],g=e[3],b=e[4],v=e[5],E=e[6],O=e[7],k=i,S=n[0],A=n[1],C=n[2],I=a,N=c,z=u,L=d,B=h,H=p,D=m,F=g,K=b,T=v,x=E,$=O,j=k,P=S,V=A,M=C;for(let J=0;J<s;J+=2)I=I+B|0,j=en(j^I,16),K=K+j|0,B=en(B^K,12),I=I+B|0,j=en(j^I,8),K=K+j|0,B=en(B^K,7),N=N+H|0,P=en(P^N,16),T=T+P|0,H=en(H^T,12),N=N+H|0,P=en(P^N,8),T=T+P|0,H=en(H^T,7),z=z+D|0,V=en(V^z,16),x=x+V|0,D=en(D^x,12),z=z+D|0,V=en(V^z,8),x=x+V|0,D=en(D^x,7),L=L+F|0,M=en(M^L,16),$=$+M|0,F=en(F^$,12),L=L+F|0,M=en(M^L,8),$=$+M|0,F=en(F^$,7),I=I+H|0,M=en(M^I,16),x=x+M|0,H=en(H^x,12),I=I+H|0,M=en(M^I,8),x=x+M|0,H=en(H^x,7),N=N+D|0,j=en(j^N,16),$=$+j|0,D=en(D^$,12),N=N+D|0,j=en(j^N,8),$=$+j|0,D=en(D^$,7),z=z+F|0,P=en(P^z,16),K=K+P|0,F=en(F^K,12),z=z+F|0,P=en(P^z,8),K=K+P|0,F=en(F^K,7),L=L+B|0,V=en(V^L,16),T=T+V|0,B=en(B^T,12),L=L+B|0,V=en(V^L,8),T=T+V|0,B=en(B^T,7);let G=0;r[G++]=a+I|0,r[G++]=c+N|0,r[G++]=u+z|0,r[G++]=d+L|0,r[G++]=h+B|0,r[G++]=p+H|0,r[G++]=m+D|0,r[G++]=g+F|0,r[G++]=b+K|0,r[G++]=v+T|0,r[G++]=E+x|0,r[G++]=O+$|0,r[G++]=k+j|0,r[G++]=S+P|0,r[G++]=A+V|0,r[G++]=C+M|0}const vAe=yAe(wAe,{counterRight:!1,counterLength:4,allowShortKeys:!1}),_Ae=new Uint8Array(16),p9=(t,e)=>{t.update(e);const n=e.length%16;n&&t.update(_Ae.subarray(n))},EAe=new Uint8Array(32);function y9(t,e,n,r,i){const s=t(e,n,EAe),a=bAe.create(s);i&&p9(a,i),p9(a,r);const c=oAe(r.length,i?i.length:0,!0);a.update(c);const u=a.digest();return Op(s,c),u}const AAe=t=>(e,n,r)=>({encrypt(i,s){const a=i.length;s=d9(a+16,s,!1),s.set(i);const c=s.subarray(0,-16);t(e,n,c,c,1);const u=y9(t,e,n,c,r);return s.set(u,a),Op(u),s},decrypt(i,s){s=d9(i.length-16,s,!1);const a=i.subarray(0,-16),c=i.subarray(-16),u=y9(t,e,n,a,r);if(!sAe(c,u))throw new Error("invalid tag");return s.set(i.subarray(0,-16)),t(e,n,s,s,1),Op(u),s}}),pH=aAe({blockSize:64,nonceLength:12,tagLength:16},AAe(vAe));let yH=class extends PE{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,NE(e);const r=Qa(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=e.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),va(s)}update(e){return Nu(this),this.iHash.update(e),this}digestInto(e){Nu(this),ao(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:a,outputLen:c}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=a,e.outputLen=c,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const ME=(t,e,n)=>new yH(t,e).update(n).digest();ME.create=(t,e)=>new yH(t,e);function SAe(t,e,n){return NE(t),n===void 0&&(n=new Uint8Array(t.outputLen)),ME(t,Qa(n),Qa(e))}const Qx=Uint8Array.from([0]),m9=Uint8Array.of();function xAe(t,e,n,r=32){NE(t),fl(r);const i=t.outputLen;if(r>255*i)throw new Error("Length should be <= 255*HashLen");const s=Math.ceil(r/i);n===void 0&&(n=m9);const a=new Uint8Array(s*i),c=ME.create(t,e),u=c._cloneInto(),d=new Uint8Array(c.outputLen);for(let h=0;h<s;h++)Qx[0]=h+1,u.update(h===0?m9:d).update(n).update(Qx).digestInto(d),a.set(d,i*h),c._cloneInto(u);return c.destroy(),u.destroy(),va(d,Qx),a.slice(0,r)}const TAe=(t,e,n,r,i)=>xAe(t,SAe(t,e,n),r,i),UE=DE,JC=BigInt(0),K5=BigInt(1);function f_(t,e=""){if(typeof t!="boolean"){const n=e&&`"${e}"`;throw new Error(n+"expected boolean, got type="+typeof t)}return t}function Bd(t,e,n=""){const r=$E(t),i=t?.length,s=e!==void 0;if(!r||s&&i!==e){const a=n&&`"${n}" `,c=s?` of length ${e}`:"",u=r?`length=${i}`:`type=${typeof t}`;throw new Error(a+"expected Uint8Array"+c+", got "+u)}return t}function _v(t){const e=t.toString(16);return e.length&1?"0"+e:e}function mH(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?JC:BigInt("0x"+t)}function BE(t){return mH(rp(t))}function h_(t){return ao(t),mH(rp(Uint8Array.from(t).reverse()))}function QC(t,e){return u_(t.toString(16).padStart(e*2,"0"))}function eO(t,e){return QC(t,e).reverse()}function Ai(t,e,n){let r;if(typeof e=="string")try{r=u_(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if($E(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}const e6=t=>typeof t=="bigint"&&JC<=t;function IAe(t,e,n){return e6(t)&&e6(e)&&e6(n)&&e<=t&&t<n}function Y5(t,e,n,r){if(!IAe(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function gH(t){let e;for(e=0;t>JC;t>>=K5,e+=1);return e}const mb=t=>(K5<<BigInt(t))-K5;function CAe(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=m=>new Uint8Array(m),i=m=>Uint8Array.of(m);let s=r(t),a=r(t),c=0;const u=()=>{s.fill(1),a.fill(0),c=0},d=(...m)=>n(a,s,...m),h=(m=r(0))=>{a=d(i(0),m),s=d(),m.length!==0&&(a=d(i(1),m),s=d())},p=()=>{if(c++>=1e3)throw new Error("drbg: tried 1000 values");let m=0;const g=[];for(;m<e;){s=d();const b=s.slice();g.push(b),m+=s.length}return wu(...g)};return(m,g)=>{u(),h(m);let b;for(;!(b=g(p()));)h();return u(),b}}function LE(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(i,s,a){const c=t[i];if(a&&c===void 0)return;const u=typeof c;if(u!==s||c===null)throw new Error(`param "${i}" is invalid: expected ${s}, got ${u}`)}Object.entries(e).forEach(([i,s])=>r(i,s,!1)),Object.entries(n).forEach(([i,s])=>r(i,s,!0))}function g9(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}const ss=BigInt(0),Di=BigInt(1),Ld=BigInt(2),bH=BigInt(3),wH=BigInt(4),vH=BigInt(5),OAe=BigInt(7),_H=BigInt(8),kAe=BigInt(9),EH=BigInt(16);function Rs(t,e){const n=t%e;return n>=ss?n:e+n}function Wa(t,e,n){let r=t;for(;e-- >ss;)r*=r,r%=n;return r}function b9(t,e){if(t===ss)throw new Error("invert: expected non-zero number");if(e<=ss)throw new Error("invert: expected positive modulus, got "+e);let n=Rs(t,e),r=e,i=ss,s=Di;for(;n!==ss;){const a=r/n,c=r%n,u=i-s*a;r=n,n=c,i=s,s=u}if(r!==Di)throw new Error("invert: does not exist");return Rs(i,e)}function tO(t,e,n){if(!t.eql(t.sqr(e),n))throw new Error("Cannot find square root")}function AH(t,e){const n=(t.ORDER+Di)/wH,r=t.pow(e,n);return tO(t,r,e),r}function RAe(t,e){const n=(t.ORDER-vH)/_H,r=t.mul(e,Ld),i=t.pow(r,n),s=t.mul(e,i),a=t.mul(t.mul(s,Ld),i),c=t.mul(s,t.sub(a,t.ONE));return tO(t,c,e),c}function $Ae(t){const e=zu(t),n=SH(t),r=n(e,e.neg(e.ONE)),i=n(e,r),s=n(e,e.neg(r)),a=(t+OAe)/EH;return(c,u)=>{let d=c.pow(u,a),h=c.mul(d,r);const p=c.mul(d,i),m=c.mul(d,s),g=c.eql(c.sqr(h),u),b=c.eql(c.sqr(p),u);d=c.cmov(d,h,g),h=c.cmov(m,p,b);const v=c.eql(c.sqr(h),u),E=c.cmov(d,h,v);return tO(c,E,u),E}}function SH(t){if(t<bH)throw new Error("sqrt is not defined for small field");let e=t-Di,n=0;for(;e%Ld===ss;)e/=Ld,n++;let r=Ld;const i=zu(t);for(;w9(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return AH;let s=i.pow(r,e);const a=(e+Di)/Ld;return function(c,u){if(c.is0(u))return u;if(w9(c,u)!==1)throw new Error("Cannot find square root");let d=n,h=c.mul(c.ONE,s),p=c.pow(u,e),m=c.pow(u,a);for(;!c.eql(p,c.ONE);){if(c.is0(p))return c.ZERO;let g=1,b=c.sqr(p);for(;!c.eql(b,c.ONE);)if(g++,b=c.sqr(b),g===d)throw new Error("Cannot find square root");const v=Di<<BigInt(d-g-1),E=c.pow(h,v);d=g,h=c.sqr(E),p=c.mul(p,h),m=c.mul(m,E)}return m}}function NAe(t){return t%wH===bH?AH:t%_H===vH?RAe:t%EH===kAe?$Ae(t):SH(t)}const PAe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function DAe(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=PAe.reduce((r,i)=>(r[i]="function",r),e);return LE(t,n),t}function MAe(t,e,n){if(n<ss)throw new Error("invalid exponent, negatives unsupported");if(n===ss)return t.ONE;if(n===Di)return e;let r=t.ONE,i=e;for(;n>ss;)n&Di&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Di;return r}function xH(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((a,c,u)=>t.is0(c)?a:(r[u]=a,t.mul(a,c)),t.ONE),s=t.inv(i);return e.reduceRight((a,c,u)=>t.is0(c)?a:(r[u]=t.mul(a,r[u]),t.mul(a,c)),s),r}function w9(t,e){const n=(t.ORDER-Di)/Ld,r=t.pow(e,n),i=t.eql(r,t.ONE),s=t.eql(r,t.ZERO),a=t.eql(r,t.neg(t.ONE));if(!i&&!s&&!a)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function TH(t,e){e!==void 0&&fl(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function zu(t,e,n=!1,r={}){if(t<=ss)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,s,a=!1,c;if(typeof e=="object"&&e!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const m=e;m.BITS&&(i=m.BITS),m.sqrt&&(s=m.sqrt),typeof m.isLE=="boolean"&&(n=m.isLE),typeof m.modFromBytes=="boolean"&&(a=m.modFromBytes),c=m.allowedLengths}else typeof e=="number"&&(i=e),r.sqrt&&(s=r.sqrt);const{nBitLength:u,nByteLength:d}=TH(t,i);if(d>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let h;const p=Object.freeze({ORDER:t,isLE:n,BITS:u,BYTES:d,MASK:mb(u),ZERO:ss,ONE:Di,allowedLengths:c,create:m=>Rs(m,t),isValid:m=>{if(typeof m!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof m);return ss<=m&&m<t},is0:m=>m===ss,isValidNot0:m=>!p.is0(m)&&p.isValid(m),isOdd:m=>(m&Di)===Di,neg:m=>Rs(-m,t),eql:(m,g)=>m===g,sqr:m=>Rs(m*m,t),add:(m,g)=>Rs(m+g,t),sub:(m,g)=>Rs(m-g,t),mul:(m,g)=>Rs(m*g,t),pow:(m,g)=>MAe(p,m,g),div:(m,g)=>Rs(m*b9(g,t),t),sqrN:m=>m*m,addN:(m,g)=>m+g,subN:(m,g)=>m-g,mulN:(m,g)=>m*g,inv:m=>b9(m,t),sqrt:s||(m=>(h||(h=NAe(t)),h(p,m))),toBytes:m=>n?eO(m,d):QC(m,d),fromBytes:(m,g=!0)=>{if(c){if(!c.includes(m.length)||m.length>d)throw new Error("Field.fromBytes: expected "+c+" bytes, got "+m.length);const v=new Uint8Array(d);v.set(m,n?0:v.length-m.length),m=v}if(m.length!==d)throw new Error("Field.fromBytes: expected "+d+" bytes, got "+m.length);let b=n?h_(m):BE(m);if(a&&(b=Rs(b,t)),!g&&!p.isValid(b))throw new Error("invalid field element: outside of range 0..ORDER");return b},invertBatch:m=>xH(p,m),cmov:(m,g,b)=>b?g:m});return Object.freeze(p)}function IH(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function CH(t){const e=IH(t);return e+Math.ceil(e/2)}function UAe(t,e,n=!1){const r=t.length,i=IH(e),s=CH(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const a=n?h_(t):BE(t),c=Rs(a,e-Di)+Di;return n?eO(c,i):QC(c,i)}const kp=BigInt(0),jd=BigInt(1);function p_(t,e){const n=e.negate();return t?n:e}function t6(t,e){const n=xH(t.Fp,e.map(r=>r.Z));return e.map((r,i)=>t.fromAffine(r.toAffine(n[i])))}function OH(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function n6(t,e){OH(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,s=mb(t),a=BigInt(t);return{windows:n,windowSize:r,mask:s,maxNumber:i,shiftBy:a}}function v9(t,e,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:a}=n;let c=Number(t&i),u=t>>a;c>r&&(c-=s,u+=jd);const d=e*r,h=d+Math.abs(c)-1,p=c===0,m=c<0,g=e%2!==0;return{nextN:u,offset:h,isZero:p,isNeg:m,isNegF:g,offsetF:d}}function BAe(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function LAe(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const r6=new WeakMap,kH=new WeakMap;function i6(t){return kH.get(t)||1}function _9(t){if(t!==kp)throw new Error("invalid wNAF")}class jAe{constructor(e,n){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=n}_unsafeLadder(e,n,r=this.ZERO){let i=e;for(;n>kp;)n&jd&&(r=r.add(i)),i=i.double(),n>>=jd;return r}precomputeWindow(e,n){const{windows:r,windowSize:i}=n6(n,this.bits),s=[];let a=e,c=a;for(let u=0;u<r;u++){c=a,s.push(c);for(let d=1;d<i;d++)c=c.add(a),s.push(c);a=c.double()}return s}wNAF(e,n,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let i=this.ZERO,s=this.BASE;const a=n6(e,this.bits);for(let c=0;c<a.windows;c++){const{nextN:u,offset:d,isZero:h,isNeg:p,isNegF:m,offsetF:g}=v9(r,c,a);r=u,h?s=s.add(p_(m,n[g])):i=i.add(p_(p,n[d]))}return _9(r),{p:i,f:s}}wNAFUnsafe(e,n,r,i=this.ZERO){const s=n6(e,this.bits);for(let a=0;a<s.windows&&r!==kp;a++){const{nextN:c,offset:u,isZero:d,isNeg:h}=v9(r,a,s);if(r=c,!d){const p=n[u];i=i.add(h?p.negate():p)}}return _9(r),i}getPrecomputes(e,n,r){let i=r6.get(n);return i||(i=this.precomputeWindow(n,e),e!==1&&(typeof r=="function"&&(i=r(i)),r6.set(n,i))),i}cached(e,n,r){const i=i6(e);return this.wNAF(i,this.getPrecomputes(i,e,r),n)}unsafe(e,n,r,i){const s=i6(e);return s===1?this._unsafeLadder(e,n,i):this.wNAFUnsafe(s,this.getPrecomputes(s,e,r),n,i)}createCache(e,n){OH(n,this.bits),kH.set(e,n),r6.delete(e)}hasCache(e){return i6(e)!==1}}function zAe(t,e,n,r){let i=e,s=t.ZERO,a=t.ZERO;for(;n>kp||r>kp;)n&jd&&(s=s.add(i)),r&jd&&(a=a.add(i)),i=i.double(),n>>=jd,r>>=jd;return{p1:s,p2:a}}function FAe(t,e,n,r){BAe(n,t),LAe(r,e);const i=n.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const a=t.ZERO,c=gH(BigInt(i));let u=1;c>12?u=c-3:c>4?u=c-2:c>0&&(u=2);const d=mb(u),h=new Array(Number(d)+1).fill(a),p=Math.floor((e.BITS-1)/u)*u;let m=a;for(let g=p;g>=0;g-=u){h.fill(a);for(let v=0;v<s;v++){const E=r[v],O=Number(E>>BigInt(g)&d);h[O]=h[O].add(n[v])}let b=a;for(let v=h.length-1,E=a;v>0;v--)E=E.add(h[v]),b=b.add(E);if(m=m.add(b),g!==0)for(let v=0;v<u;v++)m=m.double()}return m}function E9(t,e,n){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return DAe(e),e}else return zu(t,{isLE:n})}function qAe(t,e,n={},r){if(r===void 0&&(r=t==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const c of["p","n","h"]){const u=e[c];if(!(typeof u=="bigint"&&u>kp))throw new Error(`CURVE.${c} must be positive bigint`)}const i=E9(e.p,n.Fp,r),s=E9(e.n,n.Fn,r),a=["Gx","Gy","a","b"];for(const c of a)if(!i.isValid(e[c]))throw new Error(`CURVE.${c} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:i,Fn:s}}BigInt(0),BigInt(1),BigInt(2),BigInt(8),eH("HashToScalar-");const dm=BigInt(0),Sh=BigInt(1),Ev=BigInt(2);function WAe(t){return LE(t,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...t})}function HAe(t){const e=WAe(t),{P:n,type:r,adjustScalarBytes:i,powPminus2:s,randomBytes:a}=e,c=r==="x25519";if(!c&&r!=="x448")throw new Error("invalid type");const u=a||Sf,d=c?255:448,h=c?32:56,p=BigInt(c?9:5),m=BigInt(c?121665:39081),g=c?Ev**BigInt(254):Ev**BigInt(447),b=c?BigInt(8)*Ev**BigInt(251)-Sh:BigInt(4)*Ev**BigInt(445)-Sh,v=g+b+Sh,E=D=>Rs(D,n),O=k(p);function k(D){return eO(E(D),h)}function S(D){const F=Ai("u coordinate",D,h);return c&&(F[31]&=127),E(h_(F))}function A(D){return h_(i(Ai("scalar",D,h)))}function C(D,F){const K=z(S(F),A(D));if(K===dm)throw new Error("invalid private or public key received");return k(K)}function I(D){return C(D,O)}function N(D,F,K){const T=E(D*(F-K));return F=E(F-T),K=E(K+T),{x_2:F,x_3:K}}function z(D,F){Y5("u",D,dm,n),Y5("scalar",F,g,v);const K=F,T=D;let x=Sh,$=dm,j=D,P=Sh,V=dm;for(let G=BigInt(d-1);G>=dm;G--){const J=K>>G&Sh;V^=J,{x_2:x,x_3:j}=N(V,x,j),{x_2:$,x_3:P}=N(V,$,P),V=J;const X=x+$,Q=E(X*X),ge=x-$,we=E(ge*ge),Te=Q-we,Ee=j+P,Pe=j-P,qe=E(Pe*X),rt=E(Ee*ge),ye=qe+rt,Tt=qe-rt;j=E(ye*ye),P=E(T*E(Tt*Tt)),x=E(Q*we),$=E(Te*(Q+E(m*Te)))}({x_2:x,x_3:j}=N(V,x,j)),{x_2:$,x_3:P}=N(V,$,P);const M=s($);return E(x*M)}const L={secretKey:h,publicKey:h,seed:h},B=(D=u(h))=>(ao(D,L.seed),D);function H(D){const F=B(D);return{secretKey:F,publicKey:I(F)}}return{keygen:H,getSharedSecret:(D,F)=>C(D,F),getPublicKey:D=>I(D),scalarMult:C,scalarMultBase:I,utils:{randomSecretKey:B,randomPrivateKey:B},GuBytes:O.slice(),lengths:L}}const VAe=BigInt(1),A9=BigInt(2),GAe=BigInt(3),KAe=BigInt(5);BigInt(8);const RH=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),YAe={p:RH,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function ZAe(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=RH,a=t*t%s*t%s,c=Wa(a,A9,s)*a%s,u=Wa(c,VAe,s)*t%s,d=Wa(u,KAe,s)*u%s,h=Wa(d,e,s)*d%s,p=Wa(h,n,s)*h%s,m=Wa(p,r,s)*p%s,g=Wa(m,i,s)*m%s,b=Wa(g,i,s)*m%s,v=Wa(b,e,s)*d%s;return{pow_p_5_8:Wa(v,A9,s)*t%s,b2:a}}function XAe(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const JAe=zu(YAe.p,{isLE:!0}),Z5=(()=>{const t=JAe.ORDER;return HAe({P:t,type:"x25519",powPminus2:e=>{const{pow_p_5_8:n,b2:r}=ZAe(e);return Rs(Wa(n,GAe,t)*r,t)},adjustScalarBytes:XAe})})(),S9=(t,e)=>(t+(t>=0?e:-e)/$H)/e;function QAe(t,e,n){const[[r,i],[s,a]]=e,c=S9(a*t,n),u=S9(-i*t,n);let d=t-c*r-u*s,h=-c*i-u*a;const p=d<Zc,m=h<Zc;p&&(d=-d),m&&(h=-h);const g=mb(Math.ceil(gH(n)/2))+ip;if(d<Zc||d>=g||h<Zc||h>=g)throw new Error("splitScalar (endomorphism): failed, k="+t);return{k1neg:p,k1:d,k2neg:m,k2:h}}function X5(t){if(!["compact","recovered","der"].includes(t))throw new Error('Signature format must be "compact", "recovered", or "der"');return t}function s6(t,e){const n={};for(let r of Object.keys(e))n[r]=t[r]===void 0?e[r]:t[r];return f_(n.lowS,"lowS"),f_(n.prehash,"prehash"),n.format!==void 0&&X5(n.format),n}class eSe extends Error{constructor(e=""){super(e)}}const Wc={Err:eSe,_tlv:{encode:(t,e)=>{const{Err:n}=Wc;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=_v(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?_v(i.length/2|128):"";return _v(t)+s+i+e},decode(t,e){const{Err:n}=Wc;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let a=0;if(!s)a=i;else{const u=i&127;if(!u)throw new n("tlv.decode(long): indefinite length not supported");if(u>4)throw new n("tlv.decode(long): byte length is too big");const d=e.subarray(r,r+u);if(d.length!==u)throw new n("tlv.decode: length bytes not complete");if(d[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const h of d)a=a<<8|h;if(r+=u,a<128)throw new n("tlv.decode(long): not minimal encoding")}const c=e.subarray(r,r+a);if(c.length!==a)throw new n("tlv.decode: wrong value length");return{v:c,l:e.subarray(r+a)}}},_int:{encode(t){const{Err:e}=Wc;if(t<Zc)throw new e("integer: negative integers are not allowed");let n=_v(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=Wc;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return BE(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=Wc,i=Ai("signature",t),{v:s,l:a}=r.decode(48,i);if(a.length)throw new e("invalid signature: left bytes after parsing");const{v:c,l:u}=r.decode(2,s),{v:d,l:h}=r.decode(2,u);if(h.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(c),s:n.decode(d)}},hexFromSig(t){const{_tlv:e,_int:n}=Wc,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}},Zc=BigInt(0),ip=BigInt(1),$H=BigInt(2),Av=BigInt(3),tSe=BigInt(4);function Fh(t,e){const{BYTES:n}=t;let r;if(typeof e=="bigint")r=e;else{let i=Ai("private key",e);try{r=t.fromBytes(i)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof e}`)}}if(!t.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function nSe(t,e={}){const n=qAe("weierstrass",t,e),{Fp:r,Fn:i}=n;let s=n.CURVE;const{h:a,n:c}=s;LE(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:u}=e;if(u&&(!r.is0(s.a)||typeof u.beta!="bigint"||!Array.isArray(u.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const d=PH(r,i);function h(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function p(D,F,K){const{x:T,y:x}=F.toAffine(),$=r.toBytes(T);if(f_(K,"isCompressed"),K){h();const j=!r.isOdd(x);return wu(NH(j),$)}else return wu(Uint8Array.of(4),$,r.toBytes(x))}function m(D){Bd(D,void 0,"Point");const{publicKey:F,publicKeyUncompressed:K}=d,T=D.length,x=D[0],$=D.subarray(1);if(T===F&&(x===2||x===3)){const j=r.fromBytes($);if(!r.isValid(j))throw new Error("bad point: is not on curve, wrong x");const P=v(j);let V;try{V=r.sqrt(P)}catch(G){const J=G instanceof Error?": "+G.message:"";throw new Error("bad point: is not on curve, sqrt error"+J)}h();const M=r.isOdd(V);return(x&1)===1!==M&&(V=r.neg(V)),{x:j,y:V}}else if(T===K&&x===4){const j=r.BYTES,P=r.fromBytes($.subarray(0,j)),V=r.fromBytes($.subarray(j,j*2));if(!E(P,V))throw new Error("bad point: is not on curve");return{x:P,y:V}}else throw new Error(`bad point: got length ${T}, expected compressed=${F} or uncompressed=${K}`)}const g=e.toBytes||p,b=e.fromBytes||m;function v(D){const F=r.sqr(D),K=r.mul(F,D);return r.add(r.add(K,r.mul(D,s.a)),s.b)}function E(D,F){const K=r.sqr(F),T=v(D);return r.eql(K,T)}if(!E(s.Gx,s.Gy))throw new Error("bad curve params: generator point");const O=r.mul(r.pow(s.a,Av),tSe),k=r.mul(r.sqr(s.b),BigInt(27));if(r.is0(r.add(O,k)))throw new Error("bad curve params: a or b");function S(D,F,K=!1){if(!r.isValid(F)||K&&r.is0(F))throw new Error(`bad point coordinate ${D}`);return F}function A(D){if(!(D instanceof L))throw new Error("ProjectivePoint expected")}function C(D){if(!u||!u.basises)throw new Error("no endo");return QAe(D,u.basises,i.ORDER)}const I=g9((D,F)=>{const{X:K,Y:T,Z:x}=D;if(r.eql(x,r.ONE))return{x:K,y:T};const $=D.is0();F==null&&(F=$?r.ONE:r.inv(x));const j=r.mul(K,F),P=r.mul(T,F),V=r.mul(x,F);if($)return{x:r.ZERO,y:r.ZERO};if(!r.eql(V,r.ONE))throw new Error("invZ was invalid");return{x:j,y:P}}),N=g9(D=>{if(D.is0()){if(e.allowInfinityPoint&&!r.is0(D.Y))return;throw new Error("bad point: ZERO")}const{x:F,y:K}=D.toAffine();if(!r.isValid(F)||!r.isValid(K))throw new Error("bad point: x or y not field elements");if(!E(F,K))throw new Error("bad point: equation left != right");if(!D.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function z(D,F,K,T,x){return K=new L(r.mul(K.X,D),K.Y,K.Z),F=p_(T,F),K=p_(x,K),F.add(K)}class L{constructor(F,K,T){this.X=S("x",F),this.Y=S("y",K,!0),this.Z=S("z",T),Object.freeze(this)}static CURVE(){return s}static fromAffine(F){const{x:K,y:T}=F||{};if(!F||!r.isValid(K)||!r.isValid(T))throw new Error("invalid affine point");if(F instanceof L)throw new Error("projective point not allowed");return r.is0(K)&&r.is0(T)?L.ZERO:new L(K,T,r.ONE)}static fromBytes(F){const K=L.fromAffine(b(Bd(F,void 0,"point")));return K.assertValidity(),K}static fromHex(F){return L.fromBytes(Ai("pointHex",F))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(F=8,K=!0){return H.createCache(this,F),K||this.multiply(Av),this}assertValidity(){N(this)}hasEvenY(){const{y:F}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(F)}equals(F){A(F);const{X:K,Y:T,Z:x}=this,{X:$,Y:j,Z:P}=F,V=r.eql(r.mul(K,P),r.mul($,x)),M=r.eql(r.mul(T,P),r.mul(j,x));return V&&M}negate(){return new L(this.X,r.neg(this.Y),this.Z)}double(){const{a:F,b:K}=s,T=r.mul(K,Av),{X:x,Y:$,Z:j}=this;let P=r.ZERO,V=r.ZERO,M=r.ZERO,G=r.mul(x,x),J=r.mul($,$),X=r.mul(j,j),Q=r.mul(x,$);return Q=r.add(Q,Q),M=r.mul(x,j),M=r.add(M,M),P=r.mul(F,M),V=r.mul(T,X),V=r.add(P,V),P=r.sub(J,V),V=r.add(J,V),V=r.mul(P,V),P=r.mul(Q,P),M=r.mul(T,M),X=r.mul(F,X),Q=r.sub(G,X),Q=r.mul(F,Q),Q=r.add(Q,M),M=r.add(G,G),G=r.add(M,G),G=r.add(G,X),G=r.mul(G,Q),V=r.add(V,G),X=r.mul($,j),X=r.add(X,X),G=r.mul(X,Q),P=r.sub(P,G),M=r.mul(X,J),M=r.add(M,M),M=r.add(M,M),new L(P,V,M)}add(F){A(F);const{X:K,Y:T,Z:x}=this,{X:$,Y:j,Z:P}=F;let V=r.ZERO,M=r.ZERO,G=r.ZERO;const J=s.a,X=r.mul(s.b,Av);let Q=r.mul(K,$),ge=r.mul(T,j),we=r.mul(x,P),Te=r.add(K,T),Ee=r.add($,j);Te=r.mul(Te,Ee),Ee=r.add(Q,ge),Te=r.sub(Te,Ee),Ee=r.add(K,x);let Pe=r.add($,P);return Ee=r.mul(Ee,Pe),Pe=r.add(Q,we),Ee=r.sub(Ee,Pe),Pe=r.add(T,x),V=r.add(j,P),Pe=r.mul(Pe,V),V=r.add(ge,we),Pe=r.sub(Pe,V),G=r.mul(J,Ee),V=r.mul(X,we),G=r.add(V,G),V=r.sub(ge,G),G=r.add(ge,G),M=r.mul(V,G),ge=r.add(Q,Q),ge=r.add(ge,Q),we=r.mul(J,we),Ee=r.mul(X,Ee),ge=r.add(ge,we),we=r.sub(Q,we),we=r.mul(J,we),Ee=r.add(Ee,we),Q=r.mul(ge,Ee),M=r.add(M,Q),Q=r.mul(Pe,Ee),V=r.mul(Te,V),V=r.sub(V,Q),Q=r.mul(Te,ge),G=r.mul(Pe,G),G=r.add(G,Q),new L(V,M,G)}subtract(F){return this.add(F.negate())}is0(){return this.equals(L.ZERO)}multiply(F){const{endo:K}=e;if(!i.isValidNot0(F))throw new Error("invalid scalar: out of range");let T,x;const $=j=>H.cached(this,j,P=>t6(L,P));if(K){const{k1neg:j,k1:P,k2neg:V,k2:M}=C(F),{p:G,f:J}=$(P),{p:X,f:Q}=$(M);x=J.add(Q),T=z(K.beta,G,X,j,V)}else{const{p:j,f:P}=$(F);T=j,x=P}return t6(L,[T,x])[0]}multiplyUnsafe(F){const{endo:K}=e,T=this;if(!i.isValid(F))throw new Error("invalid scalar: out of range");if(F===Zc||T.is0())return L.ZERO;if(F===ip)return T;if(H.hasCache(this))return this.multiply(F);if(K){const{k1neg:x,k1:$,k2neg:j,k2:P}=C(F),{p1:V,p2:M}=zAe(L,T,$,P);return z(K.beta,V,M,x,j)}else return H.unsafe(T,F)}multiplyAndAddUnsafe(F,K,T){const x=this.multiplyUnsafe(K).add(F.multiplyUnsafe(T));return x.is0()?void 0:x}toAffine(F){return I(this,F)}isTorsionFree(){const{isTorsionFree:F}=e;return a===ip?!0:F?F(L,this):H.unsafe(this,c).is0()}clearCofactor(){const{clearCofactor:F}=e;return a===ip?this:F?F(L,this):this.multiplyUnsafe(a)}isSmallOrder(){return this.multiplyUnsafe(a).is0()}toBytes(F=!0){return f_(F,"isCompressed"),this.assertValidity(),g(L,this,F)}toHex(F=!0){return rp(this.toBytes(F))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(F=!0){return this.toBytes(F)}_setWindowSize(F){this.precompute(F)}static normalizeZ(F){return t6(L,F)}static msm(F,K){return FAe(L,i,F,K)}static fromPrivateKey(F){return L.BASE.multiply(Fh(i,F))}}L.BASE=new L(s.Gx,s.Gy,r.ONE),L.ZERO=new L(r.ZERO,r.ONE,r.ZERO),L.Fp=r,L.Fn=i;const B=i.BITS,H=new jAe(L,e.endo?Math.ceil(B/2):B);return L.BASE.precompute(8),L}function NH(t){return Uint8Array.of(t?2:3)}function PH(t,e){return{secretKey:e.BYTES,publicKey:1+t.BYTES,publicKeyUncompressed:1+2*t.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function rSe(t,e={}){const{Fn:n}=t,r=e.randomBytes||Sf,i=Object.assign(PH(t.Fp,n),{seed:CH(n.ORDER)});function s(m){try{return!!Fh(n,m)}catch{return!1}}function a(m,g){const{publicKey:b,publicKeyUncompressed:v}=i;try{const E=m.length;return g===!0&&E!==b||g===!1&&E!==v?!1:!!t.fromBytes(m)}catch{return!1}}function c(m=r(i.seed)){return UAe(Bd(m,i.seed,"seed"),n.ORDER)}function u(m,g=!0){return t.BASE.multiply(Fh(n,m)).toBytes(g)}function d(m){const g=c(m);return{secretKey:g,publicKey:u(g)}}function h(m){if(typeof m=="bigint")return!1;if(m instanceof t)return!0;const{secretKey:g,publicKey:b,publicKeyUncompressed:v}=i;if(n.allowedLengths||g===b)return;const E=Ai("key",m).length;return E===b||E===v}function p(m,g,b=!0){if(h(m)===!0)throw new Error("first arg must be private key");if(h(g)===!1)throw new Error("second arg must be public key");const v=Fh(n,m);return t.fromHex(g).multiply(v).toBytes(b)}return Object.freeze({getPublicKey:u,getSharedSecret:p,keygen:d,Point:t,utils:{isValidSecretKey:s,isValidPublicKey:a,randomSecretKey:c,isValidPrivateKey:s,randomPrivateKey:c,normPrivateKeyToScalar:m=>Fh(n,m),precompute(m=8,g=t.BASE){return g.precompute(m,!1)}},lengths:i})}function iSe(t,e,n={}){NE(e),LE(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=n.randomBytes||Sf,i=n.hmac||((K,...T)=>ME(e,K,wu(...T))),{Fp:s,Fn:a}=t,{ORDER:c,BITS:u}=a,{keygen:d,getPublicKey:h,getSharedSecret:p,utils:m,lengths:g}=rSe(t,n),b={prehash:!1,lowS:typeof n.lowS=="boolean"?n.lowS:!1,format:void 0,extraEntropy:!1},v="compact";function E(K){const T=c>>ip;return K>T}function O(K,T){if(!a.isValidNot0(T))throw new Error(`invalid signature ${K}: out of range 1..Point.Fn.ORDER`);return T}function k(K,T){X5(T);const x=g.signature,$=T==="compact"?x:T==="recovered"?x+1:void 0;return Bd(K,$,`${T} signature`)}class S{constructor(T,x,$){this.r=O("r",T),this.s=O("s",x),$!=null&&(this.recovery=$),Object.freeze(this)}static fromBytes(T,x=v){k(T,x);let $;if(x==="der"){const{r:M,s:G}=Wc.toSig(Bd(T));return new S(M,G)}x==="recovered"&&($=T[0],x="compact",T=T.subarray(1));const j=a.BYTES,P=T.subarray(0,j),V=T.subarray(j,j*2);return new S(a.fromBytes(P),a.fromBytes(V),$)}static fromHex(T,x){return this.fromBytes(u_(T),x)}addRecoveryBit(T){return new S(this.r,this.s,T)}recoverPublicKey(T){const x=s.ORDER,{r:$,s:j,recovery:P}=this;if(P==null||![0,1,2,3].includes(P))throw new Error("recovery id invalid");if(c*$H<x&&P>1)throw new Error("recovery id is ambiguous for h>1 curve");const V=P===2||P===3?$+c:$;if(!s.isValid(V))throw new Error("recovery id 2 or 3 invalid");const M=s.toBytes(V),G=t.fromBytes(wu(NH((P&1)===0),M)),J=a.inv(V),X=C(Ai("msgHash",T)),Q=a.create(-X*J),ge=a.create(j*J),we=t.BASE.multiplyUnsafe(Q).add(G.multiplyUnsafe(ge));if(we.is0())throw new Error("point at infinify");return we.assertValidity(),we}hasHighS(){return E(this.s)}toBytes(T=v){if(X5(T),T==="der")return u_(Wc.hexFromSig(this));const x=a.toBytes(this.r),$=a.toBytes(this.s);if(T==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return wu(Uint8Array.of(this.recovery),x,$)}return wu(x,$)}toHex(T){return rp(this.toBytes(T))}assertValidity(){}static fromCompact(T){return S.fromBytes(Ai("sig",T),"compact")}static fromDER(T){return S.fromBytes(Ai("sig",T),"der")}normalizeS(){return this.hasHighS()?new S(this.r,a.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return rp(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return rp(this.toBytes("compact"))}}const A=n.bits2int||function(K){if(K.length>8192)throw new Error("input is too large");const T=BE(K),x=K.length*8-u;return x>0?T>>BigInt(x):T},C=n.bits2int_modN||function(K){return a.create(A(K))},I=mb(u);function N(K){return Y5("num < 2^"+u,K,Zc,I),a.toBytes(K)}function z(K,T){return Bd(K,void 0,"message"),T?Bd(e(K),void 0,"prehashed message"):K}function L(K,T,x){if(["recovered","canonical"].some(ge=>ge in x))throw new Error("sign() legacy options not supported");const{lowS:$,prehash:j,extraEntropy:P}=s6(x,b);K=z(K,j);const V=C(K),M=Fh(a,T),G=[N(M),N(V)];if(P!=null&&P!==!1){const ge=P===!0?r(g.secretKey):P;G.push(Ai("extraEntropy",ge))}const J=wu(...G),X=V;function Q(ge){const we=A(ge);if(!a.isValidNot0(we))return;const Te=a.inv(we),Ee=t.BASE.multiply(we).toAffine(),Pe=a.create(Ee.x);if(Pe===Zc)return;const qe=a.create(Te*a.create(X+Pe*M));if(qe===Zc)return;let rt=(Ee.x===Pe?0:2)|Number(Ee.y&ip),ye=qe;return $&&E(qe)&&(ye=a.neg(qe),rt^=1),new S(Pe,ye,rt)}return{seed:J,k2sig:Q}}function B(K,T,x={}){K=Ai("message",K);const{seed:$,k2sig:j}=L(K,T,x);return CAe(e.outputLen,a.BYTES,i)($,j)}function H(K){let T;const x=typeof K=="string"||$E(K),$=!x&&K!==null&&typeof K=="object"&&typeof K.r=="bigint"&&typeof K.s=="bigint";if(!x&&!$)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if($)T=new S(K.r,K.s);else if(x){try{T=S.fromBytes(Ai("sig",K),"der")}catch(j){if(!(j instanceof Wc.Err))throw j}if(!T)try{T=S.fromBytes(Ai("sig",K),"compact")}catch{return!1}}return T||!1}function D(K,T,x,$={}){const{lowS:j,prehash:P,format:V}=s6($,b);if(x=Ai("publicKey",x),T=z(Ai("message",T),P),"strict"in $)throw new Error("options.strict was renamed to lowS");const M=V===void 0?H(K):S.fromBytes(Ai("sig",K),V);if(M===!1)return!1;try{const G=t.fromBytes(x);if(j&&M.hasHighS())return!1;const{r:J,s:X}=M,Q=C(T),ge=a.inv(X),we=a.create(Q*ge),Te=a.create(J*ge),Ee=t.BASE.multiplyUnsafe(we).add(G.multiplyUnsafe(Te));return Ee.is0()?!1:a.create(Ee.x)===J}catch{return!1}}function F(K,T,x={}){const{prehash:$}=s6(x,b);return T=z(T,$),S.fromBytes(K,"recovered").recoverPublicKey(T).toBytes()}return Object.freeze({keygen:d,getPublicKey:h,getSharedSecret:p,utils:m,lengths:g,Point:t,sign:B,verify:D,recoverPublicKey:F,Signature:S,hash:e})}function sSe(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp;let r=t.allowedPrivateKeyLengths?Array.from(new Set(t.allowedPrivateKeyLengths.map(a=>Math.ceil(a/2)))):void 0;const i=zu(e.n,{BITS:t.nBitLength,allowedLengths:r,modFromBytes:t.wrapPrivateKey}),s={Fp:n,Fn:i,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:s}}function aSe(t){const{CURVE:e,curveOpts:n}=sSe(t),r={hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,hash:t.hash,ecdsaOpts:r}}function oSe(t,e){const n=e.Point;return Object.assign({},e,{ProjectivePoint:n,CURVE:Object.assign({},t,TH(n.Fn.ORDER,n.Fn.BITS))})}function cSe(t){const{CURVE:e,curveOpts:n,hash:r,ecdsaOpts:i}=aSe(t),s=nSe(e,n),a=iSe(s,r,i);return oSe(t,a)}function J5(t,e){const n=r=>cSe({...t,hash:r});return{...n(e),create:n}}const DH={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},MH={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},UH={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},lSe=zu(DH.p),uSe=zu(MH.p),dSe=zu(UH.p),fSe=J5({...DH,Fp:lSe,lowS:!1},DE);J5({...MH,Fp:uSe,lowS:!1},w2e),J5({...UH,Fp:dSe,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},b2e);const hSe=fSe,BH="base10",Mi="base16",ns="base64pad",vu="base64url",gb="utf8",LH=0,rl=1,bb=2,pSe=0,x9=1,Ng=12,nO=32;function ySe(){const t=Z5.utils.randomPrivateKey(),e=Z5.getPublicKey(t);return{privateKey:cs(t,Mi),publicKey:cs(e,Mi)}}function Q5(){const t=Sf(nO);return cs(t,Mi)}function mSe(t,e){const n=Z5.getSharedSecret(ma(t,Mi),ma(e,Mi)),r=TAe(UE,n,void 0,void 0,nO);return cs(r,Mi)}function e1(t){const e=UE(ma(t,Mi));return cs(e,Mi)}function ha(t){const e=UE(ma(t,gb));return cs(e,Mi)}function jH(t){return ma(`${t}`,BH)}function pf(t){return Number(cs(t,BH))}function zH(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function FH(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=(4-e.length%4)%4;return e+"=".repeat(n)}function gSe(t){const e=jH(typeof t.type<"u"?t.type:LH);if(pf(e)===rl&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof t.senderPublicKey<"u"?ma(t.senderPublicKey,Mi):void 0,r=typeof t.iv<"u"?ma(t.iv,Mi):Sf(Ng),i=ma(t.symKey,Mi),s=pH(i,r).encrypt(ma(t.message,gb)),a=qH({type:e,sealed:s,iv:r,senderPublicKey:n});return t.encoding===vu?zH(a):a}function bSe(t){const e=ma(t.symKey,Mi),{sealed:n,iv:r}=x0({encoded:t.encoded,encoding:t.encoding}),i=pH(e,r).decrypt(n);if(i===null)throw new Error("Failed to decrypt");return cs(i,gb)}function wSe(t,e){const n=jH(bb),r=Sf(Ng),i=ma(t,gb),s=qH({type:n,sealed:i,iv:r});return e===vu?zH(s):s}function vSe(t,e){const{sealed:n}=x0({encoded:t,encoding:e});return cs(n,gb)}function qH(t){if(pf(t.type)===bb)return cs($g([t.type,t.sealed]),ns);if(pf(t.type)===rl){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return cs($g([t.type,t.senderPublicKey,t.iv,t.sealed]),ns)}return cs($g([t.type,t.iv,t.sealed]),ns)}function x0(t){const e=(t.encoding||ns)===vu?FH(t.encoded):t.encoded,n=ma(e,ns),r=n.slice(pSe,x9),i=x9;if(pf(r)===rl){const u=i+nO,d=u+Ng,h=n.slice(i,u),p=n.slice(u,d),m=n.slice(d);return{type:r,sealed:m,iv:p,senderPublicKey:h}}if(pf(r)===bb){const u=n.slice(i),d=Sf(Ng);return{type:r,sealed:u,iv:d}}const s=i+Ng,a=n.slice(i,s),c=n.slice(s);return{type:r,sealed:c,iv:a}}function _Se(t,e){const n=x0({encoded:t,encoding:e?.encoding});return WH({type:pf(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?cs(n.senderPublicKey,Mi):void 0,receiverPublicKey:e?.receiverPublicKey})}function WH(t){const e=t?.type||LH;if(e===rl){if(typeof t?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof t?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t?.senderPublicKey,receiverPublicKey:t?.receiverPublicKey}}function T9(t){return t.type===rl&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function I9(t){return t.type===bb}function ESe(t){const e=Buffer.from(t.x,"base64"),n=Buffer.from(t.y,"base64");return $g([new Uint8Array([4]),e,n])}function ASe(t,e){const[n,r,i]=t.split("."),s=Buffer.from(FH(i),"base64");if(s.length!==64)throw new Error("Invalid signature length");const a=s.slice(0,32),c=s.slice(32,64),u=`${n}.${r}`,d=UE(u),h=ESe(e);if(!hSe.verify($g([a,c]),d,h))throw new Error("Invalid signature");return L5(t).payload}const SSe="irn";function y_(t){return t?.relay||{protocol:SSe}}function qh(t){const e=P_e[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}var xSe=Object.defineProperty,TSe=Object.defineProperties,ISe=Object.getOwnPropertyDescriptors,C9=Object.getOwnPropertySymbols,CSe=Object.prototype.hasOwnProperty,OSe=Object.prototype.propertyIsEnumerable,O9=(t,e,n)=>e in t?xSe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,a6=(t,e)=>{for(var n in e||(e={}))CSe.call(e,n)&&O9(t,n,e[n]);if(C9)for(var n of C9(e))OSe.call(e,n)&&O9(t,n,e[n]);return t},kSe=(t,e)=>TSe(t,ISe(e));function RSe(t,e="-"){const n={},r="relay"+e;return Object.keys(t).forEach(i=>{if(i.startsWith(r)){const s=i.replace(r,""),a=t[i];n[s]=a}}),n}function k9(t){if(!t.includes("wc:")){const d=KW(t);d!=null&&d.includes("wc:")&&(t=d)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),n=t.indexOf("?")!==-1?t.indexOf("?"):void 0,r=t.substring(0,e),i=t.substring(e+1,n).split("@"),s=typeof n<"u"?t.substring(n):"",a=new URLSearchParams(s),c=Object.fromEntries(a.entries()),u=typeof c.methods=="string"?c.methods.split(","):void 0;return{protocol:r,topic:$Se(i[0]),version:parseInt(i[1],10),symKey:c.symKey,relay:RSe(c),methods:u,expiryTimestamp:c.expiryTimestamp?parseInt(c.expiryTimestamp,10):void 0}}function $Se(t){return t.startsWith("//")?t.substring(2):t}function NSe(t,e="-"){const n="relay",r={};return Object.keys(t).forEach(i=>{const s=i,a=n+e+s;t[s]&&(r[a]=t[s])}),r}function R9(t){const e=new URLSearchParams,n=a6(a6(kSe(a6({},NSe(t.relay)),{symKey:t.symKey}),t.expiryTimestamp&&{expiryTimestamp:t.expiryTimestamp.toString()}),t.methods&&{methods:t.methods.join(",")});return Object.entries(n).sort(([r],[i])=>r.localeCompare(i)).forEach(([r,i])=>{i!==void 0&&e.append(r,String(i))}),`${t.protocol}:${t.topic}@${t.version}?${e}`}function Sv(t,e,n){return`${t}?wc_ev=${n}&topic=${e}`}var PSe=Object.defineProperty,DSe=Object.defineProperties,MSe=Object.getOwnPropertyDescriptors,$9=Object.getOwnPropertySymbols,USe=Object.prototype.hasOwnProperty,BSe=Object.prototype.propertyIsEnumerable,N9=(t,e,n)=>e in t?PSe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,LSe=(t,e)=>{for(var n in e||(e={}))USe.call(e,n)&&N9(t,n,e[n]);if($9)for(var n of $9(e))BSe.call(e,n)&&N9(t,n,e[n]);return t},jSe=(t,e)=>DSe(t,MSe(e));function Gp(t){const e=[];return t.forEach(n=>{const[r,i]=n.split(":");e.push(`${r}:${i}`)}),e}function zSe(t){const e=[];return Object.values(t).forEach(n=>{e.push(...Gp(n.accounts))}),e}function FSe(t,e){const n=[];return Object.values(t).forEach(r=>{Gp(r.accounts).includes(e)&&n.push(...r.methods)}),n}function qSe(t,e){const n=[];return Object.values(t).forEach(r=>{Gp(r.accounts).includes(e)&&n.push(...r.events)}),n}function jE(t){return t.includes(":")}function Wh(t){return jE(t)?t.split(":")[0]:t}function P9(t){var e,n,r;const i={};if(!jo(t))return i;for(const[s,a]of Object.entries(t)){const c=jE(s)?[s]:a.chains,u=a.methods||[],d=a.events||[],h=Wh(s);i[h]=jSe(LSe({},i[h]),{chains:Lo(c,(e=i[h])==null?void 0:e.chains),methods:Lo(u,(n=i[h])==null?void 0:n.methods),events:Lo(d,(r=i[h])==null?void 0:r.events)})}return i}function WSe(t){const e={};return t?.forEach(n=>{var r;const[i,s]=n.split(":");e[i]||(e[i]={accounts:[],chains:[],events:[],methods:[]}),e[i].accounts.push(n),(r=e[i].chains)==null||r.push(`${i}:${s}`)}),e}function D9(t,e){e=e.map(r=>r.replace("did:pkh:",""));const n=WSe(e);for(const[r,i]of Object.entries(n))i.methods?i.methods=Lo(i.methods,t):i.methods=t,i.events=["chainChanged","accountsChanged"];return n}function HSe(t,e){var n,r,i,s,a,c;const u=P9(t),d=P9(e),h={},p=Object.keys(u).concat(Object.keys(d));for(const m of p)h[m]={chains:Lo((n=u[m])==null?void 0:n.chains,(r=d[m])==null?void 0:r.chains),methods:Lo((i=u[m])==null?void 0:i.methods,(s=d[m])==null?void 0:s.methods),events:Lo((a=u[m])==null?void 0:a.events,(c=d[m])==null?void 0:c.events)};return h}const VSe={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},GSe={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Ue(t,e){const{message:n,code:r}=GSe[t];return{message:e?`${n} ${e}`:n,code:r}}function jn(t,e){const{message:n,code:r}=VSe[t];return{message:e?`${n} ${e}`:n,code:r}}function ga(t,e){return!!Array.isArray(t)}function jo(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function Rr(t){return typeof t>"u"}function wr(t,e){return e&&Rr(t)?!0:typeof t=="string"&&!!t.trim().length}function rO(t,e){return e&&Rr(t)?!0:typeof t=="number"&&!isNaN(t)}function KSe(t,e){const{requiredNamespaces:n}=e,r=Object.keys(t.namespaces),i=Object.keys(n);let s=!0;return Ud(i,r)?(r.forEach(a=>{const{accounts:c,methods:u,events:d}=t.namespaces[a],h=Gp(c),p=n[a];(!Ud(qW(a,p),h)||!Ud(p.methods,u)||!Ud(p.events,d))&&(s=!1)}),s):!1}function m_(t){return wr(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function YSe(t){if(wr(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const n=e[0]+":"+e[1];return!!e[2]&&m_(n)}}return!1}function ZSe(t){function e(n){try{return typeof new URL(n)<"u"}catch{return!1}}try{if(wr(t,!1)){if(e(t))return!0;const n=KW(t);return e(n)}}catch{}return!1}function XSe(t){var e;return(e=t?.proposer)==null?void 0:e.publicKey}function JSe(t){return t?.topic}function QSe(t,e){let n=null;return wr(t?.publicKey,!1)||(n=Ue("MISSING_OR_INVALID",`${e} controller public key should be a string`)),n}function M9(t){let e=!0;return ga(t)?t.length&&(e=t.every(n=>wr(n,!1))):e=!1,e}function exe(t,e,n){let r=null;return ga(e)&&e.length?e.forEach(i=>{r||m_(i)||(r=jn("UNSUPPORTED_CHAINS",`${n}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):m_(t)||(r=jn("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}function txe(t,e,n){let r=null;return Object.entries(t).forEach(([i,s])=>{if(r)return;const a=exe(i,qW(i,s),`${e} ${n}`);a&&(r=a)}),r}function nxe(t,e){let n=null;return ga(t)?t.forEach(r=>{n||YSe(r)||(n=jn("UNSUPPORTED_ACCOUNTS",`${e}, account ${r} should be a string and conform to "namespace:chainId:address" format`))}):n=jn("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function rxe(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const i=nxe(r?.accounts,`${e} namespace`);i&&(n=i)}),n}function ixe(t,e){let n=null;return M9(t?.methods)?M9(t?.events)||(n=jn("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):n=jn("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),n}function HH(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const i=ixe(r,`${e}, namespace`);i&&(n=i)}),n}function sxe(t,e,n){let r=null;if(t&&jo(t)){const i=HH(t,e);i&&(r=i);const s=txe(t,e,n);s&&(r=s)}else r=Ue("MISSING_OR_INVALID",`${e}, ${n} should be an object with data`);return r}function o6(t,e){let n=null;if(t&&jo(t)){const r=HH(t,e);r&&(n=r);const i=rxe(t,e);i&&(n=i)}else n=Ue("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return n}function VH(t){return wr(t.protocol,!0)}function axe(t,e){let n=!1;return t?t&&ga(t)&&t.length&&t.forEach(r=>{n=VH(r)}):n=!0,n}function oxe(t){return typeof t=="number"}function Ji(t){return typeof t<"u"&&typeof t!==null}function cxe(t){return!(!t||typeof t!="object"||!t.code||!rO(t.code,!1)||!t.message||!wr(t.message,!1))}function lxe(t){return!(Rr(t)||!wr(t.method,!1))}function uxe(t){return!(Rr(t)||Rr(t.result)&&Rr(t.error)||!rO(t.id,!1)||!wr(t.jsonrpc,!1))}function dxe(t){return!(Rr(t)||!wr(t.name,!1))}function U9(t,e){return!(!m_(e)||!zSe(t).includes(e))}function fxe(t,e,n){return wr(n,!1)?FSe(t,e).includes(n):!1}function hxe(t,e,n){return wr(n,!1)?qSe(t,e).includes(n):!1}function B9(t,e,n){let r=null;const i=pxe(t),s=yxe(e),a=Object.keys(i),c=Object.keys(s),u=L9(Object.keys(t)),d=L9(Object.keys(e)),h=u.filter(p=>!d.includes(p));return h.length&&(r=Ue("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.
      Required: ${h.toString()}
      Received: ${Object.keys(e).toString()}`)),Ud(a,c)||(r=Ue("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.
      Required: ${a.toString()}
      Approved: ${c.toString()}`)),Object.keys(e).forEach(p=>{if(!p.includes(":")||r)return;const m=Gp(e[p].accounts);m.includes(p)||(r=Ue("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${p}
        Required: ${p}
        Approved: ${m.toString()}`))}),a.forEach(p=>{r||(Ud(i[p].methods,s[p].methods)?Ud(i[p].events,s[p].events)||(r=Ue("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${p}`)):r=Ue("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${p}`))}),r}function pxe(t){const e={};return Object.keys(t).forEach(n=>{var r;n.includes(":")?e[n]=t[n]:(r=t[n].chains)==null||r.forEach(i=>{e[i]={methods:t[n].methods,events:t[n].events}})}),e}function L9(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function yxe(t){const e={};return Object.keys(t).forEach(n=>{n.includes(":")?e[n]=t[n]:Gp(t[n].accounts)?.forEach(i=>{e[i]={accounts:t[n].accounts.filter(s=>s.includes(`${i}:`)),methods:t[n].methods,events:t[n].events}})}),e}function mxe(t,e){return rO(t,!1)&&t<=e.max&&t>=e.min}function j9(){const t=pb();return new Promise(e=>{switch(t){case Ms.browser:e(gxe());break;case Ms.reactNative:e(bxe());break;case Ms.node:e(wxe());break;default:e(!0)}})}function gxe(){return Vp()&&navigator?.onLine}async function bxe(){return ju()&&typeof global<"u"&&global!=null&&global.NetInfo?(await(global==null?void 0:global.NetInfo.fetch()))?.isConnected:!0}function wxe(){return!0}function vxe(t){switch(pb()){case Ms.browser:_xe(t);break;case Ms.reactNative:Exe(t);break}}function _xe(t){!ju()&&Vp()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function Exe(t){ju()&&typeof global<"u"&&global!=null&&global.NetInfo&&global?.NetInfo.addEventListener(e=>t(e?.isConnected))}function Axe(){var t;return Vp()&&ul.getDocument()?((t=ul.getDocument())==null?void 0:t.visibilityState)==="visible":!0}const c6={};class fm{static get(e){return c6[e]}static set(e,n){c6[e]=n}static delete(e){delete c6[e]}}function Sxe(t){const e=db.decode(t);if(e.length<33)throw new Error("Too short to contain a public key");return e.slice(1,33)}function xxe({publicKey:t,signature:e,payload:n}){var r;const i=e3(n.method),s=128|parseInt(((r=n.version)==null?void 0:r.toString())||"4"),a=Cxe(n.address),c=n.era==="00"?new Uint8Array([0]):e3(n.era);if(c.length!==1&&c.length!==2)throw new Error("Invalid era length");const u=parseInt(n.nonce,16),d=new Uint8Array([u&255,u>>8&255]),h=BigInt(`0x${Ixe(n.tip)}`),p=kxe(h),m=new Uint8Array([0,...t,a,...e,...c,...d,...p,...i]),g=Oxe(m.length+1);return new Uint8Array([...g,s,...m])}function Txe(t){const e=e3(t),n=B_e.blake2b(e,void 0,32);return"0x"+Buffer.from(n).toString("hex")}function e3(t){return new Uint8Array(t.replace(/^0x/,"").match(/.{1,2}/g).map(e=>parseInt(e,16)))}function Ixe(t){return t.startsWith("0x")?t.slice(2):t}function Cxe(t){const e=db.decode(t)[0];return e===42?0:e===60?2:1}function Oxe(t){if(t<64)return new Uint8Array([t<<2]);if(t<16384){const e=t<<2|1;return new Uint8Array([e&255,e>>8&255])}else if(t<1<<30){const e=t<<2|2;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}else throw new Error("Compact encoding > 2^30 not supported")}function kxe(t){if(t<BigInt(1)<<BigInt(6))return new Uint8Array([Number(t<<BigInt(2))]);if(t<BigInt(1)<<BigInt(14)){const e=t<<BigInt(2)|BigInt(1);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255))])}else if(t<BigInt(1)<<BigInt(30)){const e=t<<BigInt(2)|BigInt(2);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255)),Number(e>>BigInt(16)&BigInt(255)),Number(e>>BigInt(24)&BigInt(255))])}else throw new Error("BigInt compact encoding not supported > 2^30")}function Rxe(t){const e=Uint8Array.from(Buffer.from(t.signature,"hex")),n=Sxe(t.transaction.address),r=xxe({publicKey:n,signature:e,payload:t.transaction}),i=Buffer.from(r).toString("hex");return Txe(i)}function iO({logger:t,name:e}){const n=typeof t=="string"?FW({opts:{level:t,name:e}}).logger:t;return n.level=typeof t=="string"?t:t.level,n}class xf{}let $xe=class extends xf{constructor(e){super()}};const z9=Be.FIVE_SECONDS,Tf={pulse:"heartbeat_pulse"};let Nxe=class GH extends $xe{constructor(e){super(e),this.events=new zs.EventEmitter,this.interval=z9,this.interval=e?.interval||z9}static async init(e){const n=new GH(e);return await n.init(),n}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),Be.toMiliseconds(this.interval))}pulse(){this.events.emit(Tf.pulse)}};function Pxe(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function zr(t,...e){try{return Pxe(t(...e))}catch(n){return Promise.reject(n)}}function Dxe(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function Mxe(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function t1(t){if(Dxe(t))return String(t);if(Mxe(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return t1(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const t3="base64:";function Uxe(t){return typeof t=="string"?t:t3+jxe(t)}function Bxe(t){return typeof t!="string"||!t.startsWith(t3)?t:Lxe(t.slice(t3.length))}function Lxe(t){return globalThis.Buffer?Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function jxe(t){return globalThis.Buffer?Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function Xi(t){return t&&t.split("?")[0]?.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,"")||""}function zxe(...t){return Xi(t.join(":"))}function xv(t){return t=Xi(t),t?t+":":""}function Fxe(t,e){if(e===void 0)return!0;let n=0,r=t.indexOf(":");for(;r>-1;)n++,r=t.indexOf(":",r+1);return n<=e}function qxe(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}const Wxe="memory",Hxe=()=>{const t=new Map;return{name:Wxe,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,n){t.set(e,n)},setItemRaw(e,n){t.set(e,n)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function Vxe(t={}){const e={mounts:{"":t.driver||Hxe()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},n=d=>{for(const h of e.mountpoints)if(d.startsWith(h))return{base:h,relativeKey:d.slice(h.length),driver:e.mounts[h]};return{base:"",relativeKey:d,driver:e.mounts[""]}},r=(d,h)=>e.mountpoints.filter(p=>p.startsWith(d)||h&&d.startsWith(p)).map(p=>({relativeBase:d.length>p.length?d.slice(p.length):void 0,mountpoint:p,driver:e.mounts[p]})),i=(d,h)=>{if(e.watching){h=Xi(h);for(const p of e.watchListeners)p(d,h)}},s=async()=>{if(!e.watching){e.watching=!0;for(const d in e.mounts)e.unwatch[d]=await F9(e.mounts[d],i,d)}},a=async()=>{if(e.watching){for(const d in e.unwatch)await e.unwatch[d]();e.unwatch={},e.watching=!1}},c=(d,h,p)=>{const m=new Map,g=b=>{let v=m.get(b.base);return v||(v={driver:b.driver,base:b.base,items:[]},m.set(b.base,v)),v};for(const b of d){const v=typeof b=="string",E=Xi(v?b:b.key),O=v?void 0:b.value,k=v||!b.options?h:{...h,...b.options},S=n(E);g(S).items.push({key:E,value:O,relativeKey:S.relativeKey,options:k})}return Promise.all([...m.values()].map(b=>p(b))).then(b=>b.flat())},u={hasItem(d,h={}){d=Xi(d);const{relativeKey:p,driver:m}=n(d);return zr(m.hasItem,p,h)},getItem(d,h={}){d=Xi(d);const{relativeKey:p,driver:m}=n(d);return zr(m.getItem,p,h).then(g=>dg(g))},getItems(d,h={}){return c(d,h,p=>p.driver.getItems?zr(p.driver.getItems,p.items.map(m=>({key:m.relativeKey,options:m.options})),h).then(m=>m.map(g=>({key:zxe(p.base,g.key),value:dg(g.value)}))):Promise.all(p.items.map(m=>zr(p.driver.getItem,m.relativeKey,m.options).then(g=>({key:m.key,value:dg(g)})))))},getItemRaw(d,h={}){d=Xi(d);const{relativeKey:p,driver:m}=n(d);return m.getItemRaw?zr(m.getItemRaw,p,h):zr(m.getItem,p,h).then(g=>Bxe(g))},async setItem(d,h,p={}){if(h===void 0)return u.removeItem(d);d=Xi(d);const{relativeKey:m,driver:g}=n(d);g.setItem&&(await zr(g.setItem,m,t1(h),p),g.watch||i("update",d))},async setItems(d,h){await c(d,h,async p=>{if(p.driver.setItems)return zr(p.driver.setItems,p.items.map(m=>({key:m.relativeKey,value:t1(m.value),options:m.options})),h);p.driver.setItem&&await Promise.all(p.items.map(m=>zr(p.driver.setItem,m.relativeKey,t1(m.value),m.options)))})},async setItemRaw(d,h,p={}){if(h===void 0)return u.removeItem(d,p);d=Xi(d);const{relativeKey:m,driver:g}=n(d);if(g.setItemRaw)await zr(g.setItemRaw,m,h,p);else if(g.setItem)await zr(g.setItem,m,Uxe(h),p);else return;g.watch||i("update",d)},async removeItem(d,h={}){typeof h=="boolean"&&(h={removeMeta:h}),d=Xi(d);const{relativeKey:p,driver:m}=n(d);m.removeItem&&(await zr(m.removeItem,p,h),(h.removeMeta||h.removeMata)&&await zr(m.removeItem,p+"$",h),m.watch||i("remove",d))},async getMeta(d,h={}){typeof h=="boolean"&&(h={nativeOnly:h}),d=Xi(d);const{relativeKey:p,driver:m}=n(d),g=Object.create(null);if(m.getMeta&&Object.assign(g,await zr(m.getMeta,p,h)),!h.nativeOnly){const b=await zr(m.getItem,p+"$",h).then(v=>dg(v));b&&typeof b=="object"&&(typeof b.atime=="string"&&(b.atime=new Date(b.atime)),typeof b.mtime=="string"&&(b.mtime=new Date(b.mtime)),Object.assign(g,b))}return g},setMeta(d,h,p={}){return this.setItem(d+"$",h,p)},removeMeta(d,h={}){return this.removeItem(d+"$",h)},async getKeys(d,h={}){d=xv(d);const p=r(d,!0);let m=[];const g=[];let b=!0;for(const E of p){E.driver.flags?.maxDepth||(b=!1);const O=await zr(E.driver.getKeys,E.relativeBase,h);for(const k of O){const S=E.mountpoint+Xi(k);m.some(A=>S.startsWith(A))||g.push(S)}m=[E.mountpoint,...m.filter(k=>!k.startsWith(E.mountpoint))]}const v=h.maxDepth!==void 0&&!b;return g.filter(E=>(!v||Fxe(E,h.maxDepth))&&qxe(E,d))},async clear(d,h={}){d=xv(d),await Promise.all(r(d,!1).map(async p=>{if(p.driver.clear)return zr(p.driver.clear,p.relativeBase,h);if(p.driver.removeItem){const m=await p.driver.getKeys(p.relativeBase||"",h);return Promise.all(m.map(g=>p.driver.removeItem(g,h)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(d=>q9(d)))},async watch(d){return await s(),e.watchListeners.push(d),async()=>{e.watchListeners=e.watchListeners.filter(h=>h!==d),e.watchListeners.length===0&&await a()}},async unwatch(){e.watchListeners=[],await a()},mount(d,h){if(d=xv(d),d&&e.mounts[d])throw new Error(`already mounted at ${d}`);return d&&(e.mountpoints.push(d),e.mountpoints.sort((p,m)=>m.length-p.length)),e.mounts[d]=h,e.watching&&Promise.resolve(F9(h,i,d)).then(p=>{e.unwatch[d]=p}).catch(console.error),u},async unmount(d,h=!0){d=xv(d),!(!d||!e.mounts[d])&&(e.watching&&d in e.unwatch&&(e.unwatch[d]?.(),delete e.unwatch[d]),h&&await q9(e.mounts[d]),e.mountpoints=e.mountpoints.filter(p=>p!==d),delete e.mounts[d])},getMount(d=""){d=Xi(d)+":";const h=n(d);return{driver:h.driver,base:h.base}},getMounts(d="",h={}){return d=Xi(d),r(d,h.parents).map(m=>({driver:m.driver,base:m.mountpoint}))},keys:(d,h={})=>u.getKeys(d,h),get:(d,h={})=>u.getItem(d,h),set:(d,h,p={})=>u.setItem(d,h,p),has:(d,h={})=>u.hasItem(d,h),del:(d,h={})=>u.removeItem(d,h),remove:(d,h={})=>u.removeItem(d,h)};return u}function F9(t,e,n){return t.watch?t.watch((r,i)=>e(r,n+i)):()=>{}}async function q9(t){typeof t.dispose=="function"&&await zr(t.dispose)}function If(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function KH(t,e){const n=indexedDB.open(t);n.onupgradeneeded=()=>n.result.createObjectStore(e);const r=If(n);return(i,s)=>r.then(a=>s(a.transaction(e,i).objectStore(e)))}let l6;function wb(){return l6||(l6=KH("keyval-store","keyval")),l6}function W9(t,e=wb()){return e("readonly",n=>If(n.get(t)))}function Gxe(t,e,n=wb()){return n("readwrite",r=>(r.put(e,t),If(r.transaction)))}function Kxe(t,e=wb()){return e("readwrite",n=>(n.delete(t),If(n.transaction)))}function Yxe(t=wb()){return t("readwrite",e=>(e.clear(),If(e.transaction)))}function Zxe(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},If(t.transaction)}function Xxe(t=wb()){return t("readonly",e=>{if(e.getAllKeys)return If(e.getAllKeys());const n=[];return Zxe(e,r=>n.push(r.key)).then(()=>n)})}const Jxe="idb-keyval";var Qxe=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",n=i=>e+i;let r;return t.dbName&&t.storeName&&(r=KH(t.dbName,t.storeName)),{name:Jxe,options:t,async hasItem(i){return!(typeof await W9(n(i),r)>"u")},async getItem(i){return await W9(n(i),r)??null},setItem(i,s){return Gxe(n(i),s,r)},removeItem(i){return Kxe(n(i),r)},getKeys(){return Xxe(r)},clear(){return Yxe(r)}}};const e6e="WALLET_CONNECT_V2_INDEXED_DB",t6e="keyvaluestorage";let n6e=class{constructor(){this.indexedDb=Vxe({driver:Qxe({dbName:e6e,storeName:t6e})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const n=await this.indexedDb.getItem(e);if(n!==null)return n}async setItem(e,n){await this.indexedDb.setItem(e,dl(n))}async removeItem(e){await this.indexedDb.removeItem(e)}};var u6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},n1={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(n){return this.hasOwnProperty(n)?String(this[n]):null},t.prototype.setItem=function(n,r){this[n]=String(r)},t.prototype.removeItem=function(n){delete this[n]},t.prototype.clear=function(){const n=this;Object.keys(n).forEach(function(r){n[r]=void 0,delete n[r]})},t.prototype.key=function(n){return n=n||0,Object.keys(this)[n]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof u6<"u"&&u6.localStorage?n1.exports=u6.localStorage:typeof window<"u"&&window.localStorage?n1.exports=window.localStorage:n1.exports=new e})();function r6e(t){var e;return[t[0],ff((e=t[1])!=null?e:"")]}let i6e=class{constructor(){this.localStorage=n1.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(r6e)}async getItem(e){const n=this.localStorage.getItem(e);if(n!==null)return ff(n)}async setItem(e,n){this.localStorage.setItem(e,dl(n))}async removeItem(e){this.localStorage.removeItem(e)}};const s6e="wc_storage_version",H9=1,a6e=async(t,e,n)=>{const r=s6e,i=await e.getItem(r);if(i&&i>=H9){n(e);return}const s=await t.getKeys();if(!s.length){n(e);return}const a=[];for(;s.length;){const c=s.shift();if(!c)continue;const u=c.toLowerCase();if(u.includes("wc@")||u.includes("walletconnect")||u.includes("wc_")||u.includes("wallet_connect")){const d=await t.getItem(c);await e.setItem(c,d),a.push(c)}}await e.setItem(r,H9),n(e),o6e(t,a)},o6e=async(t,e)=>{e.length&&e.forEach(async n=>{await t.removeItem(n)})};let c6e=class{constructor(){this.initialized=!1,this.setInitialized=n=>{this.storage=n,this.initialized=!0};const e=new i6e;this.storage=e;try{const n=new n6e;a6e(e,n,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,n){return await this.initialize(),this.storage.setItem(e,n)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const n=setInterval(()=>{this.initialized&&(clearInterval(n),e())},20)})}};var l6e=Object.defineProperty,u6e=(t,e,n)=>e in t?l6e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,V9=(t,e,n)=>u6e(t,typeof e!="symbol"?e+"":e,n);let d6e=class extends xf{constructor(e){super(),this.opts=e,V9(this,"protocol","wc"),V9(this,"version",2)}};var f6e=Object.defineProperty,h6e=(t,e,n)=>e in t?f6e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,p6e=(t,e,n)=>h6e(t,e+"",n);let y6e=class extends xf{constructor(e,n){super(),this.core=e,this.logger=n,p6e(this,"records",new Map)}},m6e=class{constructor(e,n){this.logger=e,this.core=n}},g6e=class extends xf{constructor(e,n){super(),this.relayer=e,this.logger=n}},b6e=class extends xf{constructor(e){super()}},w6e=class{constructor(e,n,r,i){this.core=e,this.logger=n,this.name=r}},v6e=class extends xf{constructor(e,n){super(),this.relayer=e,this.logger=n}},_6e=class extends xf{constructor(e,n){super(),this.core=e,this.logger=n}},E6e=class{constructor(e,n,r){this.core=e,this.logger=n,this.store=r}},A6e=class{constructor(e,n){this.projectId=e,this.logger=n}},S6e=class{constructor(e,n,r){this.core=e,this.logger=n,this.telemetryEnabled=r}};var x6e=Object.defineProperty,T6e=(t,e,n)=>e in t?x6e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,G9=(t,e,n)=>T6e(t,typeof e!="symbol"?e+"":e,n);let I6e=class{constructor(e){this.opts=e,G9(this,"protocol","wc"),G9(this,"version",2)}},C6e=class{constructor(e){this.client=e}};const O6e="PARSE_ERROR",k6e="INVALID_REQUEST",R6e="METHOD_NOT_FOUND",$6e="INVALID_PARAMS",YH="INTERNAL_ERROR",sO="SERVER_ERROR",N6e=[-32700,-32600,-32601,-32602,-32603],Pg={[O6e]:{code:-32700,message:"Parse error"},[k6e]:{code:-32600,message:"Invalid Request"},[R6e]:{code:-32601,message:"Method not found"},[$6e]:{code:-32602,message:"Invalid params"},[YH]:{code:-32603,message:"Internal error"},[sO]:{code:-32e3,message:"Server error"}},ZH=sO;function P6e(t){return N6e.includes(t)}function K9(t){return Object.keys(Pg).includes(t)?Pg[t]:Pg[ZH]}function D6e(t){const e=Object.values(Pg).find(n=>n.code===t);return e||Pg[ZH]}function XH(t,e,n){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${e}`):t}var d6={};var n3=function(t,e){return n3=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},n3(t,e)};function M6e(t,e){n3(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var r3=function(){return r3=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},r3.apply(this,arguments)};function U6e(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function B6e(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(s=(i<3?a(s):i>3?a(e,n,s):a(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function L6e(t,e){return function(n,r){e(n,r,t)}}function j6e(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function z6e(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function c(h){try{d(r.next(h))}catch(p){a(p)}}function u(h){try{d(r.throw(h))}catch(p){a(p)}}function d(h){h.done?s(h.value):i(h.value).then(c,u)}d((r=r.apply(t,e||[])).next())})}function F6e(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(d){return function(h){return u([d,h])}}function u(d){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=d[0]&2?i.return:d[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,d[1])).done)return s;switch(i=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,i=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){n.label=d[1];break}if(d[0]===6&&n.label<s[1]){n.label=s[1],s=d;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(d);break}s[2]&&n.ops.pop(),n.trys.pop();continue}d=e.call(t,n)}catch(h){d=[6,h],i=0}finally{r=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function q6e(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function W6e(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function i3(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function JH(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(c){a={error:c}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return s}function H6e(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(JH(arguments[e]));return t}function V6e(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],a=0,c=s.length;a<c;a++,i++)r[i]=s[a];return r}function T0(t){return this instanceof T0?(this.v=t,this):new T0(t)}function G6e(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(m){r[m]&&(i[m]=function(g){return new Promise(function(b,v){s.push([m,g,b,v])>1||c(m,g)})})}function c(m,g){try{u(r[m](g))}catch(b){p(s[0][3],b)}}function u(m){m.value instanceof T0?Promise.resolve(m.value.v).then(d,h):p(s[0][2],m)}function d(m){c("next",m)}function h(m){c("throw",m)}function p(m,g){m(g),s.shift(),s.length&&c(s[0][0],s[0][1])}}function K6e(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(a){return(n=!n)?{value:T0(t[i](a)),done:i==="return"}:s?s(a):a}:s}}function Y6e(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof i3=="function"?i3(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(a){return new Promise(function(c,u){a=t[s](a),i(c,u,a.done,a.value)})}}function i(s,a,c,u){Promise.resolve(u).then(function(d){s({value:d,done:c})},a)}}function Z6e(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function X6e(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function J6e(t){return t&&t.__esModule?t:{default:t}}function Q6e(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function eTe(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const tTe=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return r3},__asyncDelegator:K6e,__asyncGenerator:G6e,__asyncValues:Y6e,__await:T0,__awaiter:z6e,__classPrivateFieldGet:Q6e,__classPrivateFieldSet:eTe,__createBinding:q6e,__decorate:B6e,__exportStar:W6e,__extends:M6e,__generator:F6e,__importDefault:J6e,__importStar:X6e,__makeTemplateObject:Z6e,__metadata:j6e,__param:L6e,__read:JH,__rest:U6e,__spread:H6e,__spreadArrays:V6e,__values:i3},Symbol.toStringTag,{value:"Module"})),nTe=dB(tTe);var xc={},Y9;function rTe(){if(Y9)return xc;Y9=1,Object.defineProperty(xc,"__esModule",{value:!0}),xc.isBrowserCryptoAvailable=xc.getSubtleCrypto=xc.getBrowerCrypto=void 0;function t(){return Oo?.crypto||Oo?.msCrypto||{}}xc.getBrowerCrypto=t;function e(){const r=t();return r.subtle||r.webkitSubtle}xc.getSubtleCrypto=e;function n(){return!!t()&&!!e()}return xc.isBrowserCryptoAvailable=n,xc}var Tc={},Z9;function iTe(){if(Z9)return Tc;Z9=1,Object.defineProperty(Tc,"__esModule",{value:!0}),Tc.isBrowser=Tc.isNode=Tc.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}Tc.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}Tc.isNode=e;function n(){return!t()&&!e()}return Tc.isBrowser=n,Tc}var X9;function sTe(){return X9||(X9=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=nTe;e.__exportStar(rTe(),t),e.__exportStar(iTe(),t)})(d6)),d6}var aTe=sTe();function Io(t=3){const e=Date.now()*Math.pow(10,t),n=Math.floor(Math.random()*Math.pow(10,t));return e+n}function xu(t=6){return BigInt(Io(t))}function Ga(t,e,n){return{id:n||Io(),jsonrpc:"2.0",method:t,params:e}}function I0(t,e){return{id:t,jsonrpc:"2.0",result:e}}function zE(t,e,n){return{id:t,jsonrpc:"2.0",error:oTe(e)}}function oTe(t,e){return typeof t>"u"?K9(YH):(typeof t=="string"&&(t=Object.assign(Object.assign({},K9(sO)),{message:t})),P6e(t.code)&&(t=D6e(t.code)),t)}let cTe=class{};class lTe extends cTe{constructor(){super()}}let uTe=class extends lTe{constructor(e){super()}};const dTe="^https?:",fTe="^wss?:";function hTe(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function QH(t,e){const n=hTe(t);return typeof n>"u"?!1:new RegExp(e).test(n)}function J9(t){return QH(t,dTe)}function Q9(t){return QH(t,fTe)}function pTe(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function eV(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function aO(t){return eV(t)&&"method"in t}function FE(t){return eV(t)&&(Co(t)||pa(t))}function Co(t){return"result"in t}function pa(t){return"error"in t}let oO=class extends uTe{constructor(e){super(e),this.events=new zs.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async request(e,n){return this.requestStrict(Ga(e.method,e.params||[],e.id||xu().toString()),n)}async requestStrict(e,n){return new Promise(async(r,i)=>{if(!this.connection.connected)try{await this.open()}catch(s){i(s)}this.events.on(`${e.id}`,s=>{pa(s)?i(s.error):r(s.result)});try{await this.connection.send(e,n)}catch(s){i(s)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),FE(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const yTe=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),mTe=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",eM=t=>t.split("?")[0],tM=10,gTe=yTe();let bTe=class{constructor(e){if(this.url=e,this.events=new zs.EventEmitter,this.registering=!1,!Q9(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,n)=>{if(typeof this.socket>"u"){n(new Error("Connection already closed"));return}this.socket.onclose=r=>{this.onClose(r),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(dl(e))}catch(n){this.onError(e.id,n)}}register(e=this.url){if(!Q9(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));r(this.socket)})})}return this.url=e,this.registering=!0,new Promise((n,r)=>{const i=aTe.isReactNative()?void 0:{rejectUnauthorized:!pTe(e)},s=new gTe(e,[],i);mTe()?s.onerror=a=>{const c=a;r(this.emitError(c.error))}:s.on("error",a=>{r(this.emitError(a))}),s.onopen=()=>{this.onOpen(s),n(s)}})}onOpen(e){e.onmessage=n=>this.onPayload(n),e.onclose=n=>this.onClose(n),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?ff(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),i=r.message||r.toString(),s=zE(e,i);this.events.emit("payload",s)}parseError(e,n=this.url){return XH(e,eM(n),"WS")}resetMaxListeners(){this.events.getMaxListeners()>tM&&this.events.setMaxListeners(tM)}emitError(e){const n=this.parseError(new Error(e?.message||`WebSocket connection failed for host: ${eM(this.url)}`));return this.events.emit("register_error",n),n}};var wTe={};const tV="wc",nV=2,s3="core",Vo=`${tV}@2:${s3}:`,vTe={logger:"error"},_Te={database:":memory:"},ETe="crypto",nM="client_ed25519_seed",ATe=Be.ONE_DAY,STe="keychain",xTe="0.3",TTe="messages",ITe="0.3",CTe=Be.SIX_HOURS,OTe="publisher",rV="irn",kTe="error",iV="wss://relay.walletconnect.org",RTe="relayer",sr={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},$Te="_subscription",ra={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},NTe=.1,a3="2.22.4",Ln={link_mode:"link_mode",relay:"relay"},r1={inbound:"inbound",outbound:"outbound"},PTe="0.3",DTe="WALLETCONNECT_CLIENT_ID",rM="WALLETCONNECT_LINK_MODE_APPS",Cs={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},MTe="subscription",UTe="0.3",BTe="pairing",LTe="0.3",hm={wc_pairingDelete:{req:{ttl:Be.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:Be.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:Be.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:Be.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:Be.ONE_DAY,prompt:!1,tag:0},res:{ttl:Be.ONE_DAY,prompt:!1,tag:0}}},kd={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},Ma={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},jTe="history",zTe="0.3",FTe="expirer",la={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},qTe="0.3",WTe="verify-api",HTe="https://verify.walletconnect.com",sV="https://verify.walletconnect.org",Dg=sV,VTe=`${Dg}/v3`,GTe=[HTe,sV],KTe="echo",YTe="https://echo.walletconnect.com",To={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},Dc={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},Ua={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success",session_request_response_started:"session_request_response_started",session_request_response_validation_success:"session_request_response_validation_success",session_request_response_publish_started:"session_request_response_publish_started"},hd={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found",session_request_response_validation_failure:"session_request_response_validation_failure",session_request_response_publish_failure:"session_request_response_publish_failure"},pd={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},pm={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},ZTe=.1,XTe="event-client",JTe=86400,QTe="https://pulse.walletconnect.org/batch";function e5e(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),a=s.charCodeAt(0);if(n[a]!==255)throw new TypeError(s+" is ambiguous");n[a]=i}var c=t.length,u=t.charAt(0),d=Math.log(c)/Math.log(256),h=Math.log(256)/Math.log(c);function p(b){if(b instanceof Uint8Array||(ArrayBuffer.isView(b)?b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength):Array.isArray(b)&&(b=Uint8Array.from(b))),!(b instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(b.length===0)return"";for(var v=0,E=0,O=0,k=b.length;O!==k&&b[O]===0;)O++,v++;for(var S=(k-O)*h+1>>>0,A=new Uint8Array(S);O!==k;){for(var C=b[O],I=0,N=S-1;(C!==0||I<E)&&N!==-1;N--,I++)C+=256*A[N]>>>0,A[N]=C%c>>>0,C=C/c>>>0;if(C!==0)throw new Error("Non-zero carry");E=I,O++}for(var z=S-E;z!==S&&A[z]===0;)z++;for(var L=u.repeat(v);z<S;++z)L+=t.charAt(A[z]);return L}function m(b){if(typeof b!="string")throw new TypeError("Expected String");if(b.length===0)return new Uint8Array;var v=0;if(b[v]!==" "){for(var E=0,O=0;b[v]===u;)E++,v++;for(var k=(b.length-v)*d+1>>>0,S=new Uint8Array(k);b[v];){var A=n[b.charCodeAt(v)];if(A===255)return;for(var C=0,I=k-1;(A!==0||C<O)&&I!==-1;I--,C++)A+=c*S[I]>>>0,S[I]=A%256>>>0,A=A/256>>>0;if(A!==0)throw new Error("Non-zero carry");O=C,v++}if(b[v]!==" "){for(var N=k-O;N!==k&&S[N]===0;)N++;for(var z=new Uint8Array(E+(k-N)),L=E;N!==k;)z[L++]=S[N++];return z}}}function g(b){var v=m(b);if(v)return v;throw new Error(`Non-${e} character`)}return{encode:p,decodeUnsafe:m,decode:g}}var t5e=e5e,n5e=t5e;const aV=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},r5e=t=>new TextEncoder().encode(t),i5e=t=>new TextDecoder().decode(t);class s5e{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class a5e{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return oV(this,e)}}class o5e{constructor(e){this.decoders=e}or(e){return oV(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const oV=(t,e)=>new o5e({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class c5e{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new s5e(e,n,r),this.decoder=new a5e(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const qE=({name:t,prefix:e,encode:n,decode:r})=>new c5e(t,e,n,r),vb=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=n5e(n,e);return qE({prefix:t,name:e,encode:r,decode:s=>aV(i(s))})},l5e=(t,e,n,r)=>{const i={};for(let h=0;h<e.length;++h)i[e[h]]=h;let s=t.length;for(;t[s-1]==="=";)--s;const a=new Uint8Array(s*n/8|0);let c=0,u=0,d=0;for(let h=0;h<s;++h){const p=i[t[h]];if(p===void 0)throw new SyntaxError(`Non-${r} character`);u=u<<n|p,c+=n,c>=8&&(c-=8,a[d++]=255&u>>c)}if(c>=n||255&u<<8-c)throw new SyntaxError("Unexpected end of data");return a},u5e=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let s="",a=0,c=0;for(let u=0;u<t.length;++u)for(c=c<<8|t[u],a+=8;a>n;)a-=n,s+=e[i&c>>a];if(a&&(s+=e[i&c<<n-a]),r)for(;s.length*n&7;)s+="=";return s},fi=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>qE({prefix:e,name:t,encode(i){return u5e(i,r,n)},decode(i){return l5e(i,r,n,t)}}),d5e=qE({prefix:"\0",name:"identity",encode:t=>i5e(t),decode:t=>r5e(t)});var f5e=Object.freeze({__proto__:null,identity:d5e});const h5e=fi({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var p5e=Object.freeze({__proto__:null,base2:h5e});const y5e=fi({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var m5e=Object.freeze({__proto__:null,base8:y5e});const g5e=vb({prefix:"9",name:"base10",alphabet:"0123456789"});var b5e=Object.freeze({__proto__:null,base10:g5e});const w5e=fi({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),v5e=fi({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var _5e=Object.freeze({__proto__:null,base16:w5e,base16upper:v5e});const E5e=fi({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),A5e=fi({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),S5e=fi({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),x5e=fi({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),T5e=fi({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),I5e=fi({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),C5e=fi({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),O5e=fi({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),k5e=fi({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var R5e=Object.freeze({__proto__:null,base32:E5e,base32upper:A5e,base32pad:S5e,base32padupper:x5e,base32hex:T5e,base32hexupper:I5e,base32hexpad:C5e,base32hexpadupper:O5e,base32z:k5e});const $5e=vb({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),N5e=vb({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var P5e=Object.freeze({__proto__:null,base36:$5e,base36upper:N5e});const D5e=vb({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),M5e=vb({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var U5e=Object.freeze({__proto__:null,base58btc:D5e,base58flickr:M5e});const B5e=fi({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),L5e=fi({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),j5e=fi({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),z5e=fi({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var F5e=Object.freeze({__proto__:null,base64:B5e,base64pad:L5e,base64url:j5e,base64urlpad:z5e});const cV=Array.from(""),q5e=cV.reduce((t,e,n)=>(t[n]=e,t),[]),W5e=cV.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function H5e(t){return t.reduce((e,n)=>(e+=q5e[n],e),"")}function V5e(t){const e=[];for(const n of t){const r=W5e[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const G5e=qE({prefix:"",name:"base256emoji",encode:H5e,decode:V5e});var K5e=Object.freeze({__proto__:null,base256emoji:G5e}),Y5e=lV,iM=128,Z5e=-128,X5e=Math.pow(2,31);function lV(t,e,n){e=e||[],n=n||0;for(var r=n;t>=X5e;)e[n++]=t&255|iM,t/=128;for(;t&Z5e;)e[n++]=t&255|iM,t>>>=7;return e[n]=t|0,lV.bytes=n-r+1,e}var J5e=o3,Q5e=128,sM=127;function o3(t,r){var n=0,r=r||0,i=0,s=r,a,c=t.length;do{if(s>=c)throw o3.bytes=0,new RangeError("Could not decode varint");a=t[s++],n+=i<28?(a&sM)<<i:(a&sM)*Math.pow(2,i),i+=7}while(a>=Q5e);return o3.bytes=s-r,n}var e3e=Math.pow(2,7),t3e=Math.pow(2,14),n3e=Math.pow(2,21),r3e=Math.pow(2,28),i3e=Math.pow(2,35),s3e=Math.pow(2,42),a3e=Math.pow(2,49),o3e=Math.pow(2,56),c3e=Math.pow(2,63),l3e=function(t){return t<e3e?1:t<t3e?2:t<n3e?3:t<r3e?4:t<i3e?5:t<s3e?6:t<a3e?7:t<o3e?8:t<c3e?9:10},u3e={encode:Y5e,decode:J5e,encodingLength:l3e},uV=u3e;const aM=(t,e,n=0)=>(uV.encode(t,e,n),e),oM=t=>uV.encodingLength(t),c3=(t,e)=>{const n=e.byteLength,r=oM(t),i=r+oM(n),s=new Uint8Array(i+n);return aM(t,s,0),aM(n,s,r),s.set(e,i),new d3e(t,n,e,s)};class d3e{constructor(e,n,r,i){this.code=e,this.size=n,this.digest=r,this.bytes=i}}const dV=({name:t,code:e,encode:n})=>new f3e(t,e,n);class f3e{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?c3(this.code,n):n.then(r=>c3(this.code,r))}else throw Error("Unknown type, must be binary type")}}const fV=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),h3e=dV({name:"sha2-256",code:18,encode:fV("SHA-256")}),p3e=dV({name:"sha2-512",code:19,encode:fV("SHA-512")});var y3e=Object.freeze({__proto__:null,sha256:h3e,sha512:p3e});const hV=0,m3e="identity",pV=aV,g3e=t=>c3(hV,pV(t)),b3e={code:hV,name:m3e,encode:pV,digest:g3e};var w3e=Object.freeze({__proto__:null,identity:b3e});new TextEncoder,new TextDecoder;const cM={...f5e,...p5e,...m5e,...b5e,..._5e,...R5e,...P5e,...U5e,...F5e,...K5e};({...y3e,...w3e});function yV(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function v3e(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?yV(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function mV(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const lM=mV("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),f6=mV("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=v3e(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),_3e={utf8:lM,"utf-8":lM,hex:cM.base16,latin1:f6,ascii:f6,binary:f6,...cM};function E3e(t,e="utf8"){const n=_3e[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?yV(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}var A3e=Object.defineProperty,S3e=(t,e,n)=>e in t?A3e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_o=(t,e,n)=>S3e(t,typeof e!="symbol"?e+"":e,n);let x3e=class{constructor(e,n){this.core=e,this.logger=n,_o(this,"keychain",new Map),_o(this,"name",STe),_o(this,"version",xTe),_o(this,"initialized",!1),_o(this,"storagePrefix",Vo),_o(this,"init",async()=>{if(!this.initialized){const r=await this.getKeyChain();typeof r<"u"&&(this.keychain=r),this.initialized=!0}}),_o(this,"has",r=>(this.isInitialized(),this.keychain.has(r))),_o(this,"set",async(r,i)=>{this.isInitialized(),this.keychain.set(r,i),await this.persist()}),_o(this,"get",r=>{this.isInitialized();const i=this.keychain.get(r);if(typeof i>"u"){const{message:s}=Ue("NO_MATCHING_KEY",`${this.name}: ${r}`);throw new Error(s)}return i}),_o(this,"del",async r=>{this.isInitialized(),this.keychain.delete(r),await this.persist()}),this.core=e,this.logger=Fs(n,this.name)}get context(){return hs(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,z5(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?F5(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=Ue("NOT_INITIALIZED",this.name);throw new Error(e)}}};var T3e=Object.defineProperty,I3e=(t,e,n)=>e in t?T3e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Lr=(t,e,n)=>I3e(t,typeof e!="symbol"?e+"":e,n);let C3e=class{constructor(e,n,r){this.core=e,this.logger=n,Lr(this,"name",ETe),Lr(this,"keychain"),Lr(this,"randomSessionIdentifier",Q5()),Lr(this,"initialized",!1),Lr(this,"clientId"),Lr(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),Lr(this,"hasKeys",i=>(this.isInitialized(),this.keychain.has(i))),Lr(this,"getClientId",async()=>{if(this.isInitialized(),this.clientId)return this.clientId;const i=await this.getClientSeed(),s=$D(i),a=NW(s.publicKey);return this.clientId=a,a}),Lr(this,"generateKeyPair",()=>{this.isInitialized();const i=ySe();return this.setPrivateKey(i.publicKey,i.privateKey)}),Lr(this,"signJWT",async i=>{this.isInitialized();const s=await this.getClientSeed(),a=$D(s),c=this.randomSessionIdentifier;return await U1e(c,i,ATe,a)}),Lr(this,"generateSharedKey",(i,s,a)=>{this.isInitialized();const c=this.getPrivateKey(i),u=mSe(c,s);return this.setSymKey(u,a)}),Lr(this,"setSymKey",async(i,s)=>{this.isInitialized();const a=s||e1(i);return await this.keychain.set(a,i),a}),Lr(this,"deleteKeyPair",async i=>{this.isInitialized(),await this.keychain.del(i)}),Lr(this,"deleteSymKey",async i=>{this.isInitialized(),await this.keychain.del(i)}),Lr(this,"encode",async(i,s,a)=>{this.isInitialized();const c=WH(a),u=dl(s);if(I9(c))return wSe(u,a?.encoding);if(T9(c)){const m=c.senderPublicKey,g=c.receiverPublicKey;i=await this.generateSharedKey(m,g)}const d=this.getSymKey(i),{type:h,senderPublicKey:p}=c;return gSe({type:h,symKey:d,message:u,senderPublicKey:p,encoding:a?.encoding})}),Lr(this,"decode",async(i,s,a)=>{this.isInitialized();const c=_Se(s,a);if(I9(c)){const u=vSe(s,a?.encoding);return ff(u)}if(T9(c)){const u=c.receiverPublicKey,d=c.senderPublicKey;i=await this.generateSharedKey(u,d)}try{const u=this.getSymKey(i),d=bSe({symKey:u,encoded:s,encoding:a?.encoding});return ff(d)}catch(u){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(u)}}),Lr(this,"getPayloadType",(i,s=ns)=>{const a=x0({encoded:i,encoding:s});return pf(a.type)}),Lr(this,"getPayloadSenderPublicKey",(i,s=ns)=>{const a=x0({encoded:i,encoding:s});return a.senderPublicKey?cs(a.senderPublicKey,Mi):void 0}),this.core=e,this.logger=Fs(n,this.name),this.keychain=r||new x3e(this.core,this.logger)}get context(){return hs(this.logger)}async setPrivateKey(e,n){return await this.keychain.set(e,n),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(nM)}catch{e=Q5(),await this.keychain.set(nM,e)}return E3e(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=Ue("NOT_INITIALIZED",this.name);throw new Error(e)}}};var O3e=Object.defineProperty,k3e=Object.defineProperties,R3e=Object.getOwnPropertyDescriptors,uM=Object.getOwnPropertySymbols,$3e=Object.prototype.hasOwnProperty,N3e=Object.prototype.propertyIsEnumerable,l3=(t,e,n)=>e in t?O3e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,P3e=(t,e)=>{for(var n in e||(e={}))$3e.call(e,n)&&l3(t,n,e[n]);if(uM)for(var n of uM(e))N3e.call(e,n)&&l3(t,n,e[n]);return t},D3e=(t,e)=>k3e(t,R3e(e)),Ss=(t,e,n)=>l3(t,typeof e!="symbol"?e+"":e,n);let M3e=class extends m6e{constructor(e,n){super(e,n),this.logger=e,this.core=n,Ss(this,"messages",new Map),Ss(this,"messagesWithoutClientAck",new Map),Ss(this,"name",TTe),Ss(this,"version",ITe),Ss(this,"initialized",!1),Ss(this,"storagePrefix",Vo),Ss(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const r=await this.getRelayerMessages();typeof r<"u"&&(this.messages=r);const i=await this.getRelayerMessagesWithoutClientAck();typeof i<"u"&&(this.messagesWithoutClientAck=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(r){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(r)}finally{this.initialized=!0}}}),Ss(this,"set",async(r,i,s)=>{this.isInitialized();const a=ha(i);let c=this.messages.get(r);if(typeof c>"u"&&(c={}),typeof c[a]<"u")return a;if(c[a]=i,this.messages.set(r,c),s===r1.inbound){const u=this.messagesWithoutClientAck.get(r)||{};this.messagesWithoutClientAck.set(r,D3e(P3e({},u),{[a]:i}))}return await this.persist(),a}),Ss(this,"get",r=>{this.isInitialized();let i=this.messages.get(r);return typeof i>"u"&&(i={}),i}),Ss(this,"getWithoutAck",r=>{this.isInitialized();const i={};for(const s of r){const a=this.messagesWithoutClientAck.get(s)||{};i[s]=Object.values(a)}return i}),Ss(this,"has",(r,i)=>{this.isInitialized();const s=this.get(r),a=ha(i);return typeof s[a]<"u"}),Ss(this,"ack",async(r,i)=>{this.isInitialized();const s=this.messagesWithoutClientAck.get(r);if(typeof s>"u")return;const a=ha(i);delete s[a],Object.keys(s).length===0?this.messagesWithoutClientAck.delete(r):this.messagesWithoutClientAck.set(r,s),await this.persist()}),Ss(this,"del",async r=>{this.isInitialized(),this.messages.delete(r),this.messagesWithoutClientAck.delete(r),await this.persist()}),this.logger=Fs(e,this.name),this.core=n}get context(){return hs(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,z5(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,z5(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?F5(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?F5(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=Ue("NOT_INITIALIZED",this.name);throw new Error(e)}}};var U3e=Object.defineProperty,B3e=Object.defineProperties,L3e=Object.getOwnPropertyDescriptors,dM=Object.getOwnPropertySymbols,j3e=Object.prototype.hasOwnProperty,z3e=Object.prototype.propertyIsEnumerable,u3=(t,e,n)=>e in t?U3e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,xh=(t,e)=>{for(var n in e||(e={}))j3e.call(e,n)&&u3(t,n,e[n]);if(dM)for(var n of dM(e))z3e.call(e,n)&&u3(t,n,e[n]);return t},fM=(t,e)=>B3e(t,L3e(e)),ia=(t,e,n)=>u3(t,typeof e!="symbol"?e+"":e,n);class F3e extends g6e{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,ia(this,"events",new zs.EventEmitter),ia(this,"name",OTe),ia(this,"queue",new Map),ia(this,"publishTimeout",Be.toMiliseconds(Be.ONE_MINUTE)),ia(this,"initialPublishTimeout",Be.toMiliseconds(Be.ONE_SECOND*15)),ia(this,"needsTransportRestart",!1),ia(this,"publish",async(r,i,s)=>{var a,c,u,d,h;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:r,message:i,opts:s}});const p=s?.ttl||CTe,m=s?.prompt||!1,g=s?.tag||0,b=s?.id||xu().toString(),v=qh(y_().protocol),E={id:b,method:s?.publishMethod||v.publish,params:xh({topic:r,message:i,ttl:p,prompt:m,tag:g,attestation:s?.attestation},s?.tvf)},O=`Failed to publish payload, please try again. id:${b} tag:${g}`;try{Rr((a=E.params)==null?void 0:a.prompt)&&((c=E.params)==null||delete c.prompt),Rr((u=E.params)==null?void 0:u.tag)&&((d=E.params)==null||delete d.tag);const k=new Promise(async S=>{const A=({id:I})=>{var N;((N=E.id)==null?void 0:N.toString())===I.toString()&&(this.removeRequestFromQueue(I),this.relayer.events.removeListener(sr.publish,A),S())};this.relayer.events.on(sr.publish,A);const C=No(new Promise((I,N)=>{this.rpcPublish(E,s).then(I).catch(z=>{this.logger.warn(z,z?.message),N(z)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${b} tag:${g}`);try{await C,this.events.removeListener(sr.publish,A)}catch(I){this.queue.set(b,{request:E,opts:s,attempt:1}),this.logger.warn(I,I?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:b,topic:r,message:i,opts:s}}),await No(k,this.publishTimeout,O)}catch(k){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(k),(h=s?.internal)!=null&&h.throwOnFailedPublish)throw k}finally{this.queue.delete(b)}}),ia(this,"publishCustom",async r=>{var i,s,a,c,u;this.logger.debug("Publishing custom payload"),this.logger.trace({type:"method",method:"publishCustom",params:r});const{payload:d,opts:h={}}=r,{attestation:p,tvf:m,publishMethod:g,prompt:b,tag:v,ttl:E=Be.FIVE_MINUTES}=h,O=h.id||xu().toString(),k=qh(y_().protocol),S=g||k.publish,A={id:O,method:S,params:xh(fM(xh({},d),{ttl:E,prompt:b,tag:v,attestation:p}),m)},C=`Failed to publish custom payload, please try again. id:${O} tag:${v}`;try{Rr((i=A.params)==null?void 0:i.prompt)&&((s=A.params)==null||delete s.prompt),Rr((a=A.params)==null?void 0:a.tag)&&((c=A.params)==null||delete c.tag);const I=new Promise(async N=>{const z=({id:B})=>{var H;((H=A.id)==null?void 0:H.toString())===B.toString()&&(this.removeRequestFromQueue(B),this.relayer.events.removeListener(sr.publish,z),N())};this.relayer.events.on(sr.publish,z);const L=No(new Promise((B,H)=>{this.rpcPublish(A,h).then(B).catch(D=>{this.logger.warn(D,D?.message),H(D)})}),this.initialPublishTimeout,`Failed initial custom payload publish, retrying.... method:${S} id:${O} tag:${v}`);try{await L,this.events.removeListener(sr.publish,z)}catch(B){this.queue.set(O,{request:A,opts:h,attempt:1}),this.logger.warn(B,B?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:O,payload:d,opts:h}}),await No(I,this.publishTimeout,C)}catch(I){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(I),(u=h?.internal)!=null&&u.throwOnFailedPublish)throw I}finally{this.queue.delete(O)}}),ia(this,"on",(r,i)=>{this.events.on(r,i)}),ia(this,"once",(r,i)=>{this.events.once(r,i)}),ia(this,"off",(r,i)=>{this.events.off(r,i)}),ia(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.relayer=e,this.logger=Fs(n,this.name),this.registerEventListeners()}get context(){return hs(this.logger)}async rpcPublish(e,n){this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:e});const r=await this.relayer.request(e);return this.relayer.events.emit(sr.publish,xh(xh({},e),n)),this.logger.debug("Successfully Published Payload"),r}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,n)=>{var r;const i=e.attempt+1;this.queue.set(n,fM(xh({},e),{attempt:i})),this.logger.warn({},`Publisher: queue->publishing: ${e.request.id}, tag: ${(r=e.request.params)==null?void 0:r.tag}, attempt: ${i}`),await this.rpcPublish(e.request,e.opts),this.logger.warn({},`Publisher: queue->published: ${e.request.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(Tf.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(sr.connection_stalled);return}this.checkQueue()}),this.relayer.on(sr.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var q3e=Object.defineProperty,W3e=(t,e,n)=>e in t?q3e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Th=(t,e,n)=>W3e(t,typeof e!="symbol"?e+"":e,n);class H3e{constructor(){Th(this,"map",new Map),Th(this,"set",(e,n)=>{const r=this.get(e);this.exists(e,n)||this.map.set(e,[...r,n])}),Th(this,"get",e=>this.map.get(e)||[]),Th(this,"exists",(e,n)=>this.get(e).includes(n)),Th(this,"delete",(e,n)=>{if(typeof n>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const r=this.get(e);if(!this.exists(e,n))return;const i=r.filter(s=>s!==n);if(!i.length){this.map.delete(e);return}this.map.set(e,i)}),Th(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var V3e=Object.defineProperty,G3e=Object.defineProperties,K3e=Object.getOwnPropertyDescriptors,hM=Object.getOwnPropertySymbols,Y3e=Object.prototype.hasOwnProperty,Z3e=Object.prototype.propertyIsEnumerable,d3=(t,e,n)=>e in t?V3e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ym=(t,e)=>{for(var n in e||(e={}))Y3e.call(e,n)&&d3(t,n,e[n]);if(hM)for(var n of hM(e))Z3e.call(e,n)&&d3(t,n,e[n]);return t},h6=(t,e)=>G3e(t,K3e(e)),Tn=(t,e,n)=>d3(t,typeof e!="symbol"?e+"":e,n);let X3e=class extends v6e{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,Tn(this,"subscriptions",new Map),Tn(this,"topicMap",new H3e),Tn(this,"events",new zs.EventEmitter),Tn(this,"name",MTe),Tn(this,"version",UTe),Tn(this,"pending",new Map),Tn(this,"cached",[]),Tn(this,"initialized",!1),Tn(this,"storagePrefix",Vo),Tn(this,"subscribeTimeout",Be.toMiliseconds(Be.ONE_MINUTE)),Tn(this,"initialSubscribeTimeout",Be.toMiliseconds(Be.ONE_SECOND*15)),Tn(this,"clientId"),Tn(this,"batchSubscribeTopicsLimit",500),Tn(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),Tn(this,"subscribe",async(r,i)=>{var s;this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}});try{const a=y_(i),c={topic:r,relay:a,transportType:i?.transportType};(s=i?.internal)!=null&&s.skipSubscribe||this.pending.set(r,c);const u=await this.rpcSubscribe(r,a,i);return typeof u=="string"&&(this.onSubscribe(u,c),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}})),u}catch(a){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(a),a}}),Tn(this,"unsubscribe",async(r,i)=>{this.isInitialized(),typeof i?.id<"u"?await this.unsubscribeById(r,i.id,i):await this.unsubscribeByTopic(r,i)}),Tn(this,"isSubscribed",r=>new Promise(i=>{i(this.topicMap.topics.includes(r))})),Tn(this,"isKnownTopic",r=>new Promise(i=>{i(this.topicMap.topics.includes(r)||this.pending.has(r)||this.cached.some(s=>s.topic===r))})),Tn(this,"on",(r,i)=>{this.events.on(r,i)}),Tn(this,"once",(r,i)=>{this.events.once(r,i)}),Tn(this,"off",(r,i)=>{this.events.off(r,i)}),Tn(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),Tn(this,"start",async()=>{await this.onConnect()}),Tn(this,"stop",async()=>{await this.onDisconnect()}),Tn(this,"restart",async()=>{await this.restore(),await this.onRestart()}),Tn(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const r=[];this.pending.forEach(i=>{r.push(i)}),await this.batchSubscribe(r)}),Tn(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(Tf.pulse,async()=>{await this.checkPending()}),this.events.on(Cs.created,async r=>{const i=Cs.created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:r}),await this.persist()}),this.events.on(Cs.deleted,async r=>{const i=Cs.deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:r}),await this.persist()})}),this.relayer=e,this.logger=Fs(n,this.name),this.clientId=""}get context(){return hs(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,n){let r=!1;try{r=this.getSubscription(e).topic===n}catch{}return r}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,n){const r=this.topicMap.get(e);await Promise.all(r.map(async i=>await this.unsubscribeById(e,i,n)))}async unsubscribeById(e,n,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}});try{const i=y_(r);await this.restartToComplete({topic:e,id:n,relay:i}),await this.rpcUnsubscribe(e,n,i);const s=jn("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,n,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,n,r){var i,s;const a=await this.getSubscriptionId(e);if((i=r?.internal)!=null&&i.skipSubscribe)return a;(!r||r?.transportType===Ln.relay)&&await this.restartToComplete({topic:e,id:e,relay:n});const c={method:qh(n.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:c});const u=(s=r?.internal)==null?void 0:s.throwOnFailedPublish;try{if(r?.transportType===Ln.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(c).catch(p=>this.logger.warn(p))},Be.toMiliseconds(Be.ONE_SECOND)),a;const d=new Promise(async p=>{const m=g=>{g.topic===e&&(this.events.removeListener(Cs.created,m),p(g.id))};this.events.on(Cs.created,m);try{const g=await No(new Promise((b,v)=>{this.relayer.request(c).catch(E=>{this.logger.warn(E,E?.message),v(E)}).then(b)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(Cs.created,m),p(g)}catch{}}),h=await No(d,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!h&&u)throw new Error(`Subscribing to ${e} failed, please try again`);return h?a:null}catch(d){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(sr.connection_stalled),u)throw d}return null}async rpcBatchSubscribe(e){if(!e.length)return;const n=e[0].relay,r={method:qh(n.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{await await No(new Promise(i=>{this.relayer.request(r).catch(s=>this.logger.warn(s)).then(i)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(sr.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const n=e[0].relay,r={method:qh(n.protocol).batchFetchMessages,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});let i;try{i=await await No(new Promise((s,a)=>{this.relayer.request(r).catch(c=>{this.logger.warn(c),a(c)}).then(s)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(sr.connection_stalled)}return i}rpcUnsubscribe(e,n,r){const i={method:qh(r.protocol).unsubscribe,params:{topic:e,id:n}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,n){this.setSubscription(e,h6(ym({},n),{id:e})),this.pending.delete(n.topic)}onBatchSubscribe(e){e.length&&e.forEach(n=>{this.setSubscription(n.id,ym({},n)),this.pending.delete(n.topic)})}async onUnsubscribe(e,n,r){this.events.removeAllListeners(n),this.hasSubscription(n,e)&&this.deleteSubscription(n,r),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,n){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:n}),this.addSubscription(e,n)}addSubscription(e,n){this.subscriptions.set(e,ym({},n)),this.topicMap.set(n.topic,e),this.events.emit(Cs.created,n)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const n=this.subscriptions.get(e);if(!n){const{message:r}=Ue("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}deleteSubscription(e,n){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:n});const r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(Cs.deleted,h6(ym({},r),{reason:n}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Cs.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],n=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<n;r++){const i=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(i)}}this.events.emit(Cs.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size&&!e.every(n=>{var r;return n.topic===((r=this.subscriptions.get(n.id))==null?void 0:r.topic)})){const{message:n}=Ue("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async n=>h6(ym({},n),{id:await this.getSubscriptionId(n.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const n=await this.rpcBatchFetchMessages(e);n&&n.messages&&(await UEe(Be.toMiliseconds(Be.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(n.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=Ue("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return ha(e+await this.getClientId())}};var J3e=Object.defineProperty,pM=Object.getOwnPropertySymbols,Q3e=Object.prototype.hasOwnProperty,eIe=Object.prototype.propertyIsEnumerable,f3=(t,e,n)=>e in t?J3e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,yM=(t,e)=>{for(var n in e||(e={}))Q3e.call(e,n)&&f3(t,n,e[n]);if(pM)for(var n of pM(e))eIe.call(e,n)&&f3(t,n,e[n]);return t},tn=(t,e,n)=>f3(t,typeof e!="symbol"?e+"":e,n);let tIe=class extends b6e{constructor(e){var n;super(e),tn(this,"protocol","wc"),tn(this,"version",2),tn(this,"core"),tn(this,"logger"),tn(this,"events",new zs.EventEmitter),tn(this,"provider"),tn(this,"messages"),tn(this,"subscriber"),tn(this,"publisher"),tn(this,"name",RTe),tn(this,"transportExplicitlyClosed",!1),tn(this,"initialized",!1),tn(this,"connectionAttemptInProgress",!1),tn(this,"relayUrl"),tn(this,"projectId"),tn(this,"packageName"),tn(this,"bundleId"),tn(this,"hasExperiencedNetworkDisruption",!1),tn(this,"pingTimeout"),tn(this,"heartBeatTimeout",Be.toMiliseconds(Be.THIRTY_SECONDS+Be.FIVE_SECONDS)),tn(this,"reconnectTimeout"),tn(this,"connectPromise"),tn(this,"reconnectInProgress",!1),tn(this,"requestsInFlight",[]),tn(this,"connectTimeout",Be.toMiliseconds(Be.ONE_SECOND*15)),tn(this,"request",async r=>{var i,s;this.logger.debug("Publishing Request Payload");const a=r.id||xu().toString();await this.toEstablishConnection();try{this.logger.trace({id:a,method:r.method,topic:(i=r.params)==null?void 0:i.topic},"relayer.request - publishing...");const c=`${a}:${((s=r.params)==null?void 0:s.tag)||""}`;this.requestsInFlight.push(c);const u=await this.provider.request(r);return this.requestsInFlight=this.requestsInFlight.filter(d=>d!==c),u}catch(c){throw this.logger.debug(`Failed to Publish Request: ${a}`),c}}),tn(this,"resetPingTimeout",()=>{l_()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var r,i,s,a;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(a=(s=(i=(r=this.provider)==null?void 0:r.connection)==null?void 0:i.socket)==null?void 0:s.terminate)==null||a.call(s)}catch(c){this.logger.warn(c,c?.message)}},this.heartBeatTimeout))}),tn(this,"onPayloadHandler",r=>{this.onProviderPayload(r),this.resetPingTimeout()}),tn(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected "),this.startPingTimeout(),this.events.emit(sr.connect)}),tn(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected "),this.requestsInFlight=[],this.onProviderDisconnect()}),tn(this,"onProviderErrorHandler",r=>{this.logger.fatal(`Fatal socket error: ${r.message}`),this.events.emit(sr.error,r),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),tn(this,"registerProviderListeners",()=>{this.provider.on(ra.payload,this.onPayloadHandler),this.provider.on(ra.connect,this.onConnectHandler),this.provider.on(ra.disconnect,this.onDisconnectHandler),this.provider.on(ra.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=iO({logger:(n=e.logger)!=null?n:kTe,name:this.name}),this.messages=new M3e(this.logger,e.core),this.subscriber=new X3e(this,this.logger),this.publisher=new F3e(this,this.logger),this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||iV,_Ee()?this.packageName=KD():EEe()&&(this.bundleId=KD()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e?.message))}get context(){return hs(this.logger)}get connected(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===1||!1}get connecting(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,n,r){this.isInitialized(),await this.publisher.publish(e,n,r),await this.recordMessageEvent({topic:e,message:n,publishedAt:Date.now(),transportType:Ln.relay},r1.outbound)}async publishCustom(e){this.isInitialized(),await this.publisher.publishCustom(e)}async subscribe(e,n){var r,i,s;this.isInitialized(),(!(n!=null&&n.transportType)||n?.transportType==="relay")&&await this.toEstablishConnection();const a=typeof((r=n?.internal)==null?void 0:r.throwOnFailedPublish)>"u"?!0:(i=n?.internal)==null?void 0:i.throwOnFailedPublish;let c=((s=this.subscriber.topicMap.get(e))==null?void 0:s[0])||"",u;const d=h=>{h.topic===e&&(this.subscriber.off(Cs.created,d),u())};return await Promise.all([new Promise(h=>{u=h,this.subscriber.on(Cs.created,d)}),new Promise(async(h,p)=>{c=await this.subscriber.subscribe(e,yM({internal:{throwOnFailedPublish:a}},n)).catch(m=>{a&&p(m)})||c,h()})]),c}async unsubscribe(e,n){this.isInitialized(),await this.subscriber.unsubscribe(e,n)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await No(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.info("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(n,r)=>{await this.connect(e).then(n).catch(r).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await j9())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if(e?.length===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const n=e.sort((r,i)=>r.publishedAt-i.publishedAt);this.logger.debug(`Batch of ${n.length} message events sorted`);for(const r of n)try{await this.onMessageEvent(r)}catch(i){this.logger.warn(i,"Error while processing batch message event: "+i?.message)}this.logger.trace(`Batch of ${n.length} message events processed`)}async onLinkMessageEvent(e,n){const{topic:r}=e;if(!n.sessionExists){const i=yr(Be.FIVE_MINUTES),s={topic:r,expiry:i,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(r,s)}this.events.emit(sr.message,e),await this.recordMessageEvent(e,r1.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let n=1;for(;n<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${n}...`),await this.createProvider(),await new Promise(async(r,i)=>{const s=()=>{i(new Error("Connection interrupted while trying to connect"))};this.provider.once(ra.disconnect,s),await No(new Promise((a,c)=>{this.provider.connect().then(a).catch(c)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(a=>{i(a)}).finally(()=>{this.provider.off(ra.disconnect,s),clearTimeout(this.reconnectTimeout)}),await new Promise(async(a,c)=>{const u=()=>{i(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(ra.disconnect,u),await this.subscriber.start().then(a).catch(c).finally(()=>{this.provider.off(ra.disconnect,u)})}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){await this.subscriber.stop();const i=r;this.logger.warn({},i.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${n}`);break}await new Promise(r=>setTimeout(r,Be.toMiliseconds(n*1))),n++}}startPingTimeout(){var e,n,r,i,s;if(l_())try{(n=(e=this.provider)==null?void 0:e.connection)!=null&&n.socket&&((s=(i=(r=this.provider)==null?void 0:r.connection)==null?void 0:i.socket)==null||s.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(a){this.logger.warn(a,a?.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new oO(new bTe(IEe({sdkVersion:a3,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,n){const{topic:r,message:i}=e;await this.messages.set(r,i,n)}async shouldIgnoreMessageEvent(e){const{topic:n,message:r}=e;if(!r||r.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isKnownTopic(n))return this.logger.warn(`Ignoring message for unknown topic ${n}`),!0;const i=this.messages.has(n,r);return i&&this.logger.warn(`Ignoring duplicate message: ${r}`),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),aO(e)){if(!e.method.endsWith($Te))return;const n=e.params,{topic:r,message:i,publishedAt:s,attestation:a}=n.data,c={topic:r,message:i,publishedAt:s,transportType:Ln.relay,attestation:a};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(yM({type:"event",event:n.id},c)),this.events.emit(n.id,c),await this.acknowledgePayload(e),await this.onMessageEvent(c)}else FE(e)&&this.events.emit(sr.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,r1.inbound),this.events.emit(sr.message,e))}async acknowledgePayload(e){const n=I0(e.id,!0);await this.provider.connection.send(n)}unregisterProviderListeners(){this.provider.off(ra.payload,this.onPayloadHandler),this.provider.off(ra.connect,this.onConnectHandler),this.provider.off(ra.disconnect,this.onDisconnectHandler),this.provider.off(ra.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await j9();vxe(async n=>{e!==n&&(e=n,n?await this.transportOpen().catch(r=>this.logger.error(r,r?.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(Tf.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&Axe())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(n){this.logger.warn(n,n?.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(sr.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e?.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},Be.toMiliseconds(NTe)))))}isInitialized(){if(!this.initialized){const{message:e}=Ue("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}};function nIe(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function mM(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function gM(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const rIe="[object RegExp]",iIe="[object String]",sIe="[object Number]",aIe="[object Boolean]",bM="[object Arguments]",oIe="[object Symbol]",cIe="[object Date]",lIe="[object Map]",uIe="[object Set]",dIe="[object Array]",fIe="[object Function]",hIe="[object ArrayBuffer]",p6="[object Object]",pIe="[object Error]",yIe="[object DataView]",mIe="[object Uint8Array]",gIe="[object Uint8ClampedArray]",bIe="[object Uint16Array]",wIe="[object Uint32Array]",vIe="[object BigUint64Array]",_Ie="[object Int8Array]",EIe="[object Int16Array]",AIe="[object Int32Array]",SIe="[object BigInt64Array]",xIe="[object Float32Array]",TIe="[object Float64Array]";function IIe(){}function wM(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function CIe(t,e,n){return wg(t,e,void 0,void 0,void 0,void 0,n)}function wg(t,e,n,r,i,s,a){const c=a(t,e,n,r,i,s);if(c!==void 0)return c;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return Mg(t,e,s,a)}return Mg(t,e,s,a)}function Mg(t,e,n,r){if(Object.is(t,e))return!0;let i=gM(t),s=gM(e);if(i===bM&&(i=p6),s===bM&&(s=p6),i!==s)return!1;switch(i){case iIe:return t.toString()===e.toString();case sIe:{const u=t.valueOf(),d=e.valueOf();return nIe(u,d)}case aIe:case cIe:case oIe:return Object.is(t.valueOf(),e.valueOf());case rIe:return t.source===e.source&&t.flags===e.flags;case fIe:return t===e}n=n??new Map;const a=n.get(t),c=n.get(e);if(a!=null&&c!=null)return a===e;n.set(t,e),n.set(e,t);try{switch(i){case lIe:{if(t.size!==e.size)return!1;for(const[u,d]of t.entries())if(!e.has(u)||!wg(d,e.get(u),u,t,e,n,r))return!1;return!0}case uIe:{if(t.size!==e.size)return!1;const u=Array.from(t.values()),d=Array.from(e.values());for(let h=0;h<u.length;h++){const p=u[h],m=d.findIndex(g=>wg(p,g,void 0,t,e,n,r));if(m===-1)return!1;d.splice(m,1)}return!0}case dIe:case mIe:case gIe:case bIe:case wIe:case vIe:case _Ie:case EIe:case AIe:case SIe:case xIe:case TIe:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let u=0;u<t.length;u++)if(!wg(t[u],e[u],u,t,e,n,r))return!1;return!0}case hIe:return t.byteLength!==e.byteLength?!1:Mg(new Uint8Array(t),new Uint8Array(e),n,r);case yIe:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:Mg(new Uint8Array(t),new Uint8Array(e),n,r);case pIe:return t.name===e.name&&t.message===e.message;case p6:{if(!(Mg(t.constructor,e.constructor,n,r)||wM(t)&&wM(e)))return!1;const u=[...Object.keys(t),...mM(t)],d=[...Object.keys(e),...mM(e)];if(u.length!==d.length)return!1;for(let h=0;h<u.length;h++){const p=u[h],m=t[p];if(!Object.hasOwn(e,p))return!1;const g=e[p];if(!wg(m,g,p,t,e,n,r))return!1}return!0}default:return!1}}finally{n.delete(t),n.delete(e)}}function OIe(t,e){return CIe(t,e,IIe)}var kIe=Object.defineProperty,vM=Object.getOwnPropertySymbols,RIe=Object.prototype.hasOwnProperty,$Ie=Object.prototype.propertyIsEnumerable,h3=(t,e,n)=>e in t?kIe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_M=(t,e)=>{for(var n in e||(e={}))RIe.call(e,n)&&h3(t,n,e[n]);if(vM)for(var n of vM(e))$Ie.call(e,n)&&h3(t,n,e[n]);return t},Zi=(t,e,n)=>h3(t,typeof e!="symbol"?e+"":e,n);let Cf=class extends w6e{constructor(e,n,r,i=Vo,s=void 0){super(e,n,r,i),this.core=e,this.logger=n,this.name=r,Zi(this,"map",new Map),Zi(this,"version",PTe),Zi(this,"cached",[]),Zi(this,"initialized",!1),Zi(this,"getKey"),Zi(this,"storagePrefix",Vo),Zi(this,"recentlyDeleted",[]),Zi(this,"recentlyDeletedLimit",200),Zi(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(a=>{this.getKey&&a!==null&&!Rr(a)?this.map.set(this.getKey(a),a):XSe(a)?this.map.set(a.id,a):JSe(a)&&this.map.set(a.topic,a)}),this.cached=[],this.initialized=!0)}),Zi(this,"set",async(a,c)=>{this.isInitialized(),this.map.has(a)?await this.update(a,c):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:a,value:c}),this.map.set(a,c),await this.persist())}),Zi(this,"get",a=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:a}),this.getData(a))),Zi(this,"getAll",a=>(this.isInitialized(),a?this.values.filter(c=>Object.keys(a).every(u=>OIe(c[u],a[u]))):this.values)),Zi(this,"update",async(a,c)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:a,update:c});const u=_M(_M({},this.getData(a)),c);this.map.set(a,u),await this.persist()}),Zi(this,"delete",async(a,c)=>{this.isInitialized(),this.map.has(a)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:a,reason:c}),this.map.delete(a),this.addToRecentlyDeleted(a),await this.persist())}),this.logger=Fs(n,this.name),this.storagePrefix=i,this.getKey=s}get context(){return hs(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const n=this.map.get(e);if(!n){if(this.recentlyDeleted.includes(e)){const{message:i}=Ue("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}const{message:r}=Ue("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(r),new Error(r)}return n}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:n}=Ue("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=Ue("NOT_INITIALIZED",this.name);throw new Error(e)}}};var NIe=Object.defineProperty,PIe=(t,e,n)=>e in t?NIe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Wt=(t,e,n)=>PIe(t,typeof e!="symbol"?e+"":e,n);let DIe=class{constructor(e,n){this.core=e,this.logger=n,Wt(this,"name",BTe),Wt(this,"version",LTe),Wt(this,"events",new IC),Wt(this,"pairings"),Wt(this,"initialized",!1),Wt(this,"storagePrefix",Vo),Wt(this,"ignoredPayloadTypes",[rl]),Wt(this,"registeredMethods",[]),Wt(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),Wt(this,"register",({methods:r})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...r])]}),Wt(this,"create",async r=>{this.isInitialized();const i=Q5(),s=await this.core.crypto.setSymKey(i),a=yr(Be.FIVE_MINUTES),c={protocol:rV},u={topic:s,expiry:a,relay:c,active:!1,methods:r?.methods},d=R9({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:i,relay:c,expiryTimestamp:a,methods:r?.methods});return this.events.emit(kd.create,u),this.core.expirer.set(s,a),await this.pairings.set(s,u),await this.core.relayer.subscribe(s,{transportType:r?.transportType,internal:r?.internal}),{topic:s,uri:d}}),Wt(this,"pair",async r=>{this.isInitialized();const i=this.core.eventClient.createEvent({properties:{topic:r?.uri,trace:[To.pairing_started]}});this.isValidPair(r,i);const{topic:s,symKey:a,relay:c,expiryTimestamp:u,methods:d}=k9(r.uri);i.props.properties.topic=s,i.addTrace(To.pairing_uri_validation_success),i.addTrace(To.pairing_uri_not_expired);let h;if(this.pairings.keys.includes(s)){if(h=this.pairings.get(s),i.addTrace(To.existing_pairing),h.active)throw i.setError(Dc.active_pairing_already_exists),new Error(`Pairing already exists: ${s}. Please try again with a new connection URI.`);i.addTrace(To.pairing_not_expired)}const p=u||yr(Be.FIVE_MINUTES),m={topic:s,relay:c,expiry:p,active:!1,methods:d};this.core.expirer.set(s,p),await this.pairings.set(s,m),i.addTrace(To.store_new_pairing),r.activatePairing&&await this.activate({topic:s}),this.events.emit(kd.create,m),i.addTrace(To.emit_inactive_pairing),this.core.crypto.keychain.has(s)||await this.core.crypto.setSymKey(a,s),i.addTrace(To.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{i.setError(Dc.no_internet_connection)}try{await this.core.relayer.subscribe(s,{relay:c})}catch(g){throw i.setError(Dc.subscribe_pairing_topic_failure),g}return i.addTrace(To.subscribe_pairing_topic_success),m}),Wt(this,"activate",async({topic:r})=>{this.isInitialized();const i=yr(Be.FIVE_MINUTES);this.core.expirer.set(r,i),await this.pairings.update(r,{active:!0,expiry:i})}),Wt(this,"ping",async r=>{this.isInitialized(),await this.isValidPing(r),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:i}=r;if(this.pairings.keys.includes(i)){const s=await this.sendRequest(i,"wc_pairingPing",{}),{done:a,resolve:c,reject:u}=Sd();this.events.once(cn("pairing_ping",s),({error:d})=>{d?u(d):c()}),await a()}}),Wt(this,"updateExpiry",async({topic:r,expiry:i})=>{this.isInitialized(),await this.pairings.update(r,{expiry:i})}),Wt(this,"updateMetadata",async({topic:r,metadata:i})=>{this.isInitialized(),await this.pairings.update(r,{peerMetadata:i})}),Wt(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),Wt(this,"disconnect",async r=>{this.isInitialized(),await this.isValidDisconnect(r);const{topic:i}=r;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",jn("USER_DISCONNECTED")),await this.deletePairing(i))}),Wt(this,"formatUriFromPairing",r=>{this.isInitialized();const{topic:i,relay:s,expiry:a,methods:c}=r,u=this.core.crypto.keychain.get(i);return R9({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:u,relay:s,expiryTimestamp:a,methods:c})}),Wt(this,"sendRequest",async(r,i,s)=>{const a=Ga(i,s),c=await this.core.crypto.encode(r,a),u=hm[i].req;return this.core.history.set(r,a),this.core.relayer.publish(r,c,u),a.id}),Wt(this,"sendResult",async(r,i,s)=>{const a=I0(r,s),c=await this.core.crypto.encode(i,a),u=(await this.core.history.get(i,r)).request.method,d=hm[u].res;await this.core.relayer.publish(i,c,d),await this.core.history.resolve(a)}),Wt(this,"sendError",async(r,i,s)=>{const a=zE(r,s),c=await this.core.crypto.encode(i,a),u=(await this.core.history.get(i,r)).request.method,d=hm[u]?hm[u].res:hm.unregistered_method.res;await this.core.relayer.publish(i,c,d),await this.core.history.resolve(a)}),Wt(this,"deletePairing",async(r,i)=>{await this.core.relayer.unsubscribe(r),await Promise.all([this.pairings.delete(r,jn("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(r),i?Promise.resolve():this.core.expirer.del(r)])}),Wt(this,"cleanup",async()=>{const r=this.pairings.getAll().filter(i=>Ro(i.expiry));await Promise.all(r.map(i=>this.deletePairing(i.topic)))}),Wt(this,"onRelayEventRequest",async r=>{const{topic:i,payload:s}=r;switch(s.method){case"wc_pairingPing":return await this.onPairingPingRequest(i,s);case"wc_pairingDelete":return await this.onPairingDeleteRequest(i,s);default:return await this.onUnknownRpcMethodRequest(i,s)}}),Wt(this,"onRelayEventResponse",async r=>{const{topic:i,payload:s}=r,a=(await this.core.history.get(i,s.id)).request.method;return a==="wc_pairingPing"?this.onPairingPingResponse(i,s):this.onUnknownRpcMethodResponse(a)}),Wt(this,"onPairingPingRequest",async(r,i)=>{const{id:s}=i;try{this.isValidPing({topic:r}),await this.sendResult(s,r,!0),this.events.emit(kd.ping,{id:s,topic:r})}catch(a){await this.sendError(s,r,a),this.logger.error(a)}}),Wt(this,"onPairingPingResponse",(r,i)=>{const{id:s}=i;setTimeout(()=>{Co(i)?this.events.emit(cn("pairing_ping",s),{}):pa(i)&&this.events.emit(cn("pairing_ping",s),{error:i.error})},500)}),Wt(this,"onPairingDeleteRequest",async(r,i)=>{const{id:s}=i;try{this.isValidDisconnect({topic:r}),await this.deletePairing(r),this.events.emit(kd.delete,{id:s,topic:r})}catch(a){await this.sendError(s,r,a),this.logger.error(a)}}),Wt(this,"onUnknownRpcMethodRequest",async(r,i)=>{const{id:s,method:a}=i;try{if(this.registeredMethods.includes(a))return;const c=jn("WC_METHOD_UNSUPPORTED",a);await this.sendError(s,r,c),this.logger.error(c)}catch(c){await this.sendError(s,r,c),this.logger.error(c)}}),Wt(this,"onUnknownRpcMethodResponse",r=>{this.registeredMethods.includes(r)||this.logger.error(jn("WC_METHOD_UNSUPPORTED",r))}),Wt(this,"isValidPair",(r,i)=>{var s;if(!Ji(r)){const{message:c}=Ue("MISSING_OR_INVALID",`pair() params: ${r}`);throw i.setError(Dc.malformed_pairing_uri),new Error(c)}if(!ZSe(r.uri)){const{message:c}=Ue("MISSING_OR_INVALID",`pair() uri: ${r.uri}`);throw i.setError(Dc.malformed_pairing_uri),new Error(c)}const a=k9(r?.uri);if(!((s=a?.relay)!=null&&s.protocol)){const{message:c}=Ue("MISSING_OR_INVALID","pair() uri#relay-protocol");throw i.setError(Dc.malformed_pairing_uri),new Error(c)}if(!(a!=null&&a.symKey)){const{message:c}=Ue("MISSING_OR_INVALID","pair() uri#symKey");throw i.setError(Dc.malformed_pairing_uri),new Error(c)}if(a!=null&&a.expiryTimestamp&&Be.toMiliseconds(a?.expiryTimestamp)<Date.now()){i.setError(Dc.pairing_expired);const{message:c}=Ue("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(c)}}),Wt(this,"isValidPing",async r=>{if(!Ji(r)){const{message:s}=Ue("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(s)}const{topic:i}=r;await this.isValidPairingTopic(i)}),Wt(this,"isValidDisconnect",async r=>{if(!Ji(r)){const{message:s}=Ue("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(s)}const{topic:i}=r;await this.isValidPairingTopic(i)}),Wt(this,"isValidPairingTopic",async r=>{if(!wr(r,!1)){const{message:i}=Ue("MISSING_OR_INVALID",`pairing topic should be a string: ${r}`);throw new Error(i)}if(!this.pairings.keys.includes(r)){const{message:i}=Ue("NO_MATCHING_KEY",`pairing topic doesn't exist: ${r}`);throw new Error(i)}if(Ro(this.pairings.get(r).expiry)){await this.deletePairing(r);const{message:i}=Ue("EXPIRED",`pairing topic: ${r}`);throw new Error(i)}}),this.core=e,this.logger=Fs(n,this.name),this.pairings=new Cf(this.core,this.logger,this.name,this.storagePrefix)}get context(){return hs(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=Ue("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(sr.message,async e=>{const{topic:n,message:r,transportType:i}=e;if(this.pairings.keys.includes(n)&&i!==Ln.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))try{const s=await this.core.crypto.decode(n,r);aO(s)?(this.core.history.set(n,s),await this.onRelayEventRequest({topic:n,payload:s})):FE(s)&&(await this.core.history.resolve(s),await this.onRelayEventResponse({topic:n,payload:s}),this.core.history.delete(n,s.id)),await this.core.relayer.messages.ack(n,r)}catch(s){this.logger.error(s)}})}registerExpirerEvents(){this.core.expirer.on(la.expired,async e=>{const{topic:n}=GW(e.target);n&&this.pairings.keys.includes(n)&&(await this.deletePairing(n,!0),this.events.emit(kd.expire,{topic:n}))})}};var MIe=Object.defineProperty,UIe=(t,e,n)=>e in t?MIe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ri=(t,e,n)=>UIe(t,typeof e!="symbol"?e+"":e,n);let BIe=class extends y6e{constructor(e,n){super(e,n),this.core=e,this.logger=n,ri(this,"records",new Map),ri(this,"events",new zs.EventEmitter),ri(this,"name",jTe),ri(this,"version",zTe),ri(this,"cached",[]),ri(this,"initialized",!1),ri(this,"storagePrefix",Vo),ri(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.records.set(r.id,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),ri(this,"set",(r,i,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:r,request:i,chainId:s}),this.records.has(i.id))return;const a={id:i.id,topic:r,request:{method:i.method,params:i.params||null},chainId:s,expiry:yr(Be.THIRTY_DAYS)};this.records.set(a.id,a),this.persist(),this.events.emit(Ma.created,a)}),ri(this,"resolve",async r=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:r}),!this.records.has(r.id))return;const i=await this.getRecord(r.id);typeof i.response>"u"&&(i.response=pa(r)?{error:r.error}:{result:r.result},this.records.set(i.id,i),this.persist(),this.events.emit(Ma.updated,i))}),ri(this,"get",async(r,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:r,id:i}),await this.getRecord(i))),ri(this,"delete",(r,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(s=>{if(s.topic===r){if(typeof i<"u"&&s.id!==i)return;this.records.delete(s.id),this.events.emit(Ma.deleted,s)}}),this.persist()}),ri(this,"exists",async(r,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===r:!1)),ri(this,"on",(r,i)=>{this.events.on(r,i)}),ri(this,"once",(r,i)=>{this.events.once(r,i)}),ri(this,"off",(r,i)=>{this.events.off(r,i)}),ri(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.logger=Fs(n,this.name)}get context(){return hs(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(n=>{if(typeof n.response<"u")return;const r={topic:n.topic,request:Ga(n.request.method,n.request.params,n.id),chainId:n.chainId};return e.push(r)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const n=this.records.get(e);if(!n){const{message:r}=Ue("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Ma.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:n}=Ue("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(Ma.created,e=>{const n=Ma.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(Ma.updated,e=>{const n=Ma.updated;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(Ma.deleted,e=>{const n=Ma.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.core.heartbeat.on(Tf.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(n=>{Be.toMiliseconds(n.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${n.id}`),this.records.delete(n.id),this.events.emit(Ma.deleted,n,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=Ue("NOT_INITIALIZED",this.name);throw new Error(e)}}};var LIe=Object.defineProperty,jIe=(t,e,n)=>e in t?LIe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,vi=(t,e,n)=>jIe(t,typeof e!="symbol"?e+"":e,n);let zIe=class extends _6e{constructor(e,n){super(e,n),this.core=e,this.logger=n,vi(this,"expirations",new Map),vi(this,"events",new zs.EventEmitter),vi(this,"name",FTe),vi(this,"version",qTe),vi(this,"cached",[]),vi(this,"initialized",!1),vi(this,"storagePrefix",Vo),vi(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.expirations.set(r.target,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),vi(this,"has",r=>{try{const i=this.formatTarget(r);return typeof this.getExpiration(i)<"u"}catch{return!1}}),vi(this,"set",(r,i)=>{this.isInitialized();const s=this.formatTarget(r),a={target:s,expiry:i};this.expirations.set(s,a),this.checkExpiry(s,a),this.events.emit(la.created,{target:s,expiration:a})}),vi(this,"get",r=>{this.isInitialized();const i=this.formatTarget(r);return this.getExpiration(i)}),vi(this,"del",r=>{if(this.isInitialized(),this.has(r)){const i=this.formatTarget(r),s=this.getExpiration(i);this.expirations.delete(i),this.events.emit(la.deleted,{target:i,expiration:s})}}),vi(this,"on",(r,i)=>{this.events.on(r,i)}),vi(this,"once",(r,i)=>{this.events.once(r,i)}),vi(this,"off",(r,i)=>{this.events.off(r,i)}),vi(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.logger=Fs(n,this.name)}get context(){return hs(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return CEe(e);if(typeof e=="number")return OEe(e);const{message:n}=Ue("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(n)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(la.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:n}=Ue("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const n=this.expirations.get(e);if(!n){const{message:r}=Ue("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(r),new Error(r)}return n}checkExpiry(e,n){const{expiry:r}=n;Be.toMiliseconds(r)-Date.now()<=0&&this.expire(e,n)}expire(e,n){this.expirations.delete(e),this.events.emit(la.expired,{target:e,expiration:n})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,n)=>this.checkExpiry(n,e))}registerEventListeners(){this.core.heartbeat.on(Tf.pulse,()=>this.checkExpirations()),this.events.on(la.created,e=>{const n=la.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(la.expired,e=>{const n=la.expired;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(la.deleted,e=>{const n=la.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=Ue("NOT_INITIALIZED",this.name);throw new Error(e)}}};var FIe=Object.defineProperty,qIe=(t,e,n)=>e in t?FIe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,hr=(t,e,n)=>qIe(t,typeof e!="symbol"?e+"":e,n);let WIe=class extends E6e{constructor(e,n,r){super(e,n,r),this.core=e,this.logger=n,this.store=r,hr(this,"name",WTe),hr(this,"abortController"),hr(this,"isDevEnv"),hr(this,"verifyUrlV3",VTe),hr(this,"storagePrefix",Vo),hr(this,"version",nV),hr(this,"publicKey"),hr(this,"fetchPromise"),hr(this,"init",async()=>{var i;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&Be.toMiliseconds((i=this.publicKey)==null?void 0:i.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),hr(this,"register",async i=>{if(!Vp()||this.isDevEnv)return;const s=window.location.origin,{id:a,decryptedId:c}=i,u=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${s}&id=${a}&decryptedId=${c}`;try{const d=ul.getDocument(),h=this.startAbortTimer(Be.ONE_SECOND*5),p=await new Promise((m,g)=>{const b=()=>{window.removeEventListener("message",E),d.body.removeChild(v),g("attestation aborted")};this.abortController.signal.addEventListener("abort",b);const v=d.createElement("iframe");v.src=u,v.style.display="none",v.addEventListener("error",b,{signal:this.abortController.signal});const E=O=>{if(O.data&&typeof O.data=="string")try{const k=JSON.parse(O.data);if(k.type==="verify_attestation"){if(L5(k.attestation).payload.id!==a)return;clearInterval(h),d.body.removeChild(v),this.abortController.signal.removeEventListener("abort",b),window.removeEventListener("message",E),m(k.attestation===null?"":k.attestation)}}catch(k){this.logger.warn(k)}};d.body.appendChild(v),window.addEventListener("message",E,{signal:this.abortController.signal})});return this.logger.debug(p,"jwt attestation"),p}catch(d){this.logger.warn(d)}return""}),hr(this,"resolve",async i=>{if(this.isDevEnv)return"";const{attestationId:s,hash:a,encryptedId:c}=i;if(s===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(s){if(L5(s).payload.id!==c)return;const d=await this.isValidJwtAttestation(s);if(d){if(!d.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return d}}if(!a)return;const u=this.getVerifyUrl(i?.verifyUrl);return this.fetchAttestation(a,u)}),hr(this,"fetchAttestation",async(i,s)=>{this.logger.debug(`resolving attestation: ${i} from url: ${s}`);const a=this.startAbortTimer(Be.ONE_SECOND*5),c=await fetch(`${s}/attestation/${i}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(a),c.status===200?await c.json():void 0}),hr(this,"getVerifyUrl",i=>{let s=i||Dg;return GTe.includes(s)||(this.logger.info(`verify url: ${s}, not included in trusted list, assigning default: ${Dg}`),s=Dg),s}),hr(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const i=this.startAbortTimer(Be.FIVE_SECONDS),s=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(i),await s.json()}catch(i){this.logger.warn(i)}}),hr(this,"persistPublicKey",async i=>{this.logger.debug(i,"persisting public key to local storage"),await this.store.setItem(this.storeKey,i),this.publicKey=i}),hr(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),hr(this,"isValidJwtAttestation",async i=>{const s=await this.getPublicKey();try{if(s)return this.validateAttestation(i,s)}catch(c){this.logger.error(c),this.logger.warn("error validating attestation")}const a=await this.fetchAndPersistPublicKey();try{if(a)return this.validateAttestation(i,a)}catch(c){this.logger.error(c),this.logger.warn("error validating attestation")}}),hr(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),hr(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async s=>{const a=await this.fetchPublicKey();a&&(await this.persistPublicKey(a),s(a))});const i=await this.fetchPromise;return this.fetchPromise=void 0,i}),hr(this,"validateAttestation",(i,s)=>{const a=ASe(i,s.publicKey),c={hasExpired:Be.toMiliseconds(a.exp)<Date.now(),payload:a};if(c.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:c.payload.origin,isScam:c.payload.isScam,isVerified:c.payload.isVerified}}),this.logger=Fs(n,this.name),this.abortController=new AbortController,this.isDevEnv=VC(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return hs(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),Be.toMiliseconds(e))}};var HIe=Object.defineProperty,VIe=(t,e,n)=>e in t?HIe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,EM=(t,e,n)=>VIe(t,typeof e!="symbol"?e+"":e,n);let GIe=class extends A6e{constructor(e,n){super(e,n),this.projectId=e,this.logger=n,EM(this,"context",KTe),EM(this,"registerDeviceToken",async r=>{const{clientId:i,token:s,notificationType:a,enableEncrypted:c=!1}=r,u=`${YTe}/${this.projectId}/clients`;await fetch(u,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:a,token:s,always_raw:c})})}),this.logger=Fs(n,this.context)}};var KIe=Object.defineProperty,AM=Object.getOwnPropertySymbols,YIe=Object.prototype.hasOwnProperty,ZIe=Object.prototype.propertyIsEnumerable,p3=(t,e,n)=>e in t?KIe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,mm=(t,e)=>{for(var n in e||(e={}))YIe.call(e,n)&&p3(t,n,e[n]);if(AM)for(var n of AM(e))ZIe.call(e,n)&&p3(t,n,e[n]);return t},jr=(t,e,n)=>p3(t,typeof e!="symbol"?e+"":e,n);let XIe=class extends S6e{constructor(e,n,r=!0){super(e,n,r),this.core=e,this.logger=n,jr(this,"context",XTe),jr(this,"storagePrefix",Vo),jr(this,"storageVersion",ZTe),jr(this,"events",new Map),jr(this,"shouldPersist",!1),jr(this,"init",async()=>{if(!VC())try{const i={eventId:ZD(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:HW(this.core.relayer.protocol,this.core.relayer.version,a3)}}};await this.sendEvent([i])}catch(i){this.logger.warn(i)}}),jr(this,"createEvent",i=>{const{event:s="ERROR",type:a="",properties:{topic:c,trace:u}}=i,d=ZD(),h=this.core.projectId||"",p=Date.now(),m=mm({eventId:d,timestamp:p,props:{event:s,type:a,properties:{topic:c,trace:u}},bundleId:h,domain:this.getAppDomain()},this.setMethods(d));return this.telemetryEnabled&&(this.events.set(d,m),this.shouldPersist=!0),m}),jr(this,"getEvent",i=>{const{eventId:s,topic:a}=i;if(s)return this.events.get(s);const c=Array.from(this.events.values()).find(u=>u.props.properties.topic===a);if(c)return mm(mm({},c),this.setMethods(c.eventId))}),jr(this,"deleteEvent",i=>{const{eventId:s}=i;this.events.delete(s),this.shouldPersist=!0}),jr(this,"setEventListeners",()=>{this.core.heartbeat.on(Tf.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(i=>{Be.fromMiliseconds(Date.now())-Be.fromMiliseconds(i.timestamp)>JTe&&(this.events.delete(i.eventId),this.shouldPersist=!0)})})}),jr(this,"setMethods",i=>({addTrace:s=>this.addTrace(i,s),setError:s=>this.setError(i,s)})),jr(this,"addTrace",(i,s)=>{const a=this.events.get(i);a&&(a.props.properties.trace.push(s),this.events.set(i,a),this.shouldPersist=!0)}),jr(this,"setError",(i,s)=>{const a=this.events.get(i);a&&(a.props.type=s,a.timestamp=Date.now(),this.events.set(i,a),this.shouldPersist=!0)}),jr(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),jr(this,"restore",async()=>{try{const i=await this.core.storage.getItem(this.storageKey)||[];if(!i.length)return;i.forEach(s=>{this.events.set(s.eventId,mm(mm({},s),this.setMethods(s.eventId)))})}catch(i){this.logger.warn(i)}}),jr(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const i=[];for(const[s,a]of this.events)a.props.type&&i.push(a);if(i.length!==0)try{if((await this.sendEvent(i)).ok)for(const s of i)this.events.delete(s.eventId),this.shouldPersist=!0}catch(s){this.logger.warn(s)}}),jr(this,"sendEvent",async i=>{const s=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${QTe}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${a3}${s}`,{method:"POST",body:JSON.stringify(i)})}),jr(this,"getAppDomain",()=>WW().url),this.logger=Fs(n,this.context),this.telemetryEnabled=r,r?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}};var JIe=Object.defineProperty,SM=Object.getOwnPropertySymbols,QIe=Object.prototype.hasOwnProperty,eCe=Object.prototype.propertyIsEnumerable,y3=(t,e,n)=>e in t?JIe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,xM=(t,e)=>{for(var n in e||(e={}))QIe.call(e,n)&&y3(t,n,e[n]);if(SM)for(var n of SM(e))eCe.call(e,n)&&y3(t,n,e[n]);return t},kn=(t,e,n)=>y3(t,typeof e!="symbol"?e+"":e,n);let tCe=class gV extends d6e{constructor(e){var n;super(e),kn(this,"protocol",tV),kn(this,"version",nV),kn(this,"name",s3),kn(this,"relayUrl"),kn(this,"projectId"),kn(this,"customStoragePrefix"),kn(this,"events",new zs.EventEmitter),kn(this,"logger"),kn(this,"heartbeat"),kn(this,"relayer"),kn(this,"crypto"),kn(this,"storage"),kn(this,"history"),kn(this,"expirer"),kn(this,"pairing"),kn(this,"verify"),kn(this,"echoClient"),kn(this,"linkModeSupportedApps"),kn(this,"eventClient"),kn(this,"initialized",!1),kn(this,"logChunkController"),kn(this,"on",(c,u)=>this.events.on(c,u)),kn(this,"once",(c,u)=>this.events.once(c,u)),kn(this,"off",(c,u)=>this.events.off(c,u)),kn(this,"removeListener",(c,u)=>this.events.removeListener(c,u)),kn(this,"dispatchEnvelope",({topic:c,message:u,sessionExists:d})=>{if(!c||!u)return;const h={topic:c,message:u,publishedAt:Date.now(),transportType:Ln.link_mode};this.relayer.onLinkMessageEvent(h,{sessionExists:d})});const r=this.getGlobalCore(e?.customStoragePrefix);if(r)try{return this.customStoragePrefix=r.customStoragePrefix,this.logger=r.logger,this.heartbeat=r.heartbeat,this.crypto=r.crypto,this.history=r.history,this.expirer=r.expirer,this.storage=r.storage,this.relayer=r.relayer,this.pairing=r.pairing,this.verify=r.verify,this.echoClient=r.echoClient,this.linkModeSupportedApps=r.linkModeSupportedApps,this.eventClient=r.eventClient,this.initialized=r.initialized,this.logChunkController=r.logChunkController,r}catch(c){console.warn("Failed to copy global core",c)}this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||iV,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const i=aEe({level:typeof e?.logger=="string"&&e.logger?e.logger:vTe.logger,name:s3}),{logger:s,chunkLoggerController:a}=FW({opts:i,maxSizeInBytes:e?.maxLogBlobSizeInBytes,loggerOverride:e?.logger});this.logChunkController=a,(n=this.logChunkController)!=null&&n.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var c,u;(c=this.logChunkController)!=null&&c.downloadLogsBlobInBrowser&&((u=this.logChunkController)==null||u.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=Fs(s,this.name),this.heartbeat=new Nxe,this.crypto=new C3e(this,this.logger,e?.keychain),this.history=new BIe(this,this.logger),this.expirer=new zIe(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new c6e(xM(xM({},_Te),e?.storageOptions)),this.relayer=new tIe({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new DIe(this,this.logger),this.verify=new WIe(this,this.logger,this.storage),this.echoClient=new GIe(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new XIe(this,this.logger,e?.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const n=new gV(e);await n.initialize();const r=await n.crypto.getClientId();return await n.storage.setItem(DTe,r),n}get context(){return hs(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(rM,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(rM)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(e,`Core Initialization Failure at epoch ${Date.now()}`),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${e}`,r=`${n}_count`;return globalThis[r]=(globalThis[r]||0)+1,globalThis[r]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[r]} times.`),globalThis[n]}catch(n){console.warn("Failed to get global WalletConnect core",n);return}}setGlobalCore(e){var n;try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${((n=e.opts)==null?void 0:n.customStoragePrefix)||""}`;globalThis[r]=e}catch(r){console.warn("Failed to set global WalletConnect core",r)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&wTe.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const nCe=tCe,bV="wc",wV=2,vV="client",cO=`${bV}@${wV}:${vV}:`,y6={name:vV,logger:"error"},TM="WALLETCONNECT_DEEPLINK_CHOICE",rCe="proposal",IM="Proposal expired",iCe="session",Ih=Be.SEVEN_DAYS,sCe="engine",ii={wc_sessionPropose:{req:{ttl:Be.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:Be.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:Be.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:Be.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:Be.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:Be.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:Be.ONE_DAY,prompt:!1,tag:1104},res:{ttl:Be.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:Be.ONE_DAY,prompt:!1,tag:1106},res:{ttl:Be.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:Be.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:Be.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:Be.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:Be.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:Be.ONE_DAY,prompt:!1,tag:1112},res:{ttl:Be.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:Be.ONE_DAY,prompt:!1,tag:1114},res:{ttl:Be.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:Be.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:Be.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:Be.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:Be.FIVE_MINUTES,prompt:!1,tag:1119}}},m6={min:Be.FIVE_MINUTES,max:Be.SEVEN_DAYS},Eo={idle:"IDLE",active:"ACTIVE"},aCe={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},oCe="request",cCe=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],lCe="wc",uCe="auth",dCe="authKeys",fCe="pairingTopics",hCe="requests",WE=`${lCe}@${1.5}:${uCe}:`,i1=`${WE}:PUB_KEY`;var pCe=Object.defineProperty,yCe=Object.defineProperties,mCe=Object.getOwnPropertyDescriptors,CM=Object.getOwnPropertySymbols,gCe=Object.prototype.hasOwnProperty,bCe=Object.prototype.propertyIsEnumerable,m3=(t,e,n)=>e in t?pCe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,pn=(t,e)=>{for(var n in e||(e={}))gCe.call(e,n)&&m3(t,n,e[n]);if(CM)for(var n of CM(e))bCe.call(e,n)&&m3(t,n,e[n]);return t},_i=(t,e)=>yCe(t,mCe(e)),ke=(t,e,n)=>m3(t,typeof e!="symbol"?e+"":e,n);let wCe=class extends C6e{constructor(e){super(e),ke(this,"name",sCe),ke(this,"events",new IC),ke(this,"initialized",!1),ke(this,"requestQueue",{state:Eo.idle,queue:[]}),ke(this,"sessionRequestQueue",{state:Eo.idle,queue:[]}),ke(this,"emittedSessionRequests",new BEe({limit:500})),ke(this,"requestQueueDelay",Be.ONE_SECOND),ke(this,"expectedPairingMethodMap",new Map),ke(this,"recentlyDeletedMap",new Map),ke(this,"recentlyDeletedLimit",200),ke(this,"relayMessageCache",[]),ke(this,"pendingSessions",new Map),ke(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(ii)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},Be.toMiliseconds(this.requestQueueDelay)))}),ke(this,"connect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const r=_i(pn({},n),{requiredNamespaces:n.requiredNamespaces||{},optionalNamespaces:n.optionalNamespaces||{}});await this.isValidConnect(r),r.optionalNamespaces=HSe(r.requiredNamespaces,r.optionalNamespaces),r.requiredNamespaces={};const{pairingTopic:i,requiredNamespaces:s,optionalNamespaces:a,sessionProperties:c,scopedProperties:u,relays:d}=r;let h=i,p,m=!1;try{if(h){const I=this.client.core.pairing.pairings.get(h);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),m=I.active}}catch(I){throw this.client.logger.error(`connect() -> pairing.get(${h}) failed`),I}if(!h||!m){const{topic:I,uri:N}=await this.client.core.pairing.create({internal:{skipSubscribe:!0}});h=I,p=N}if(!h){const{message:I}=Ue("NO_MATCHING_KEY",`connect() pairing topic: ${h}`);throw new Error(I)}const g=await this.client.core.crypto.generateKeyPair(),b=ii.wc_sessionPropose.req.ttl||Be.FIVE_MINUTES,v=yr(b),E=_i(pn(pn({requiredNamespaces:s,optionalNamespaces:a,relays:d??[{protocol:rV}],proposer:{publicKey:g,metadata:this.client.metadata},expiryTimestamp:v,pairingTopic:h},c&&{sessionProperties:c}),u&&{scopedProperties:u}),{id:Io()}),O=cn("session_connect",E.id),{reject:k,resolve:S,done:A}=Sd(b,IM),C=({id:I})=>{I===E.id&&(this.client.events.off("proposal_expire",C),this.pendingSessions.delete(E.id),this.events.emit(O,{error:{message:IM,code:0}}))};return this.client.events.on("proposal_expire",C),this.events.once(O,({error:I,session:N})=>{this.client.events.off("proposal_expire",C),I?k(I):N&&S(N)}),await this.sendProposeSession({proposal:E,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:E.id}}}),await this.setProposal(E.id,E),{uri:p,approval:A}}),ke(this,"pair",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(n)}catch(r){throw this.client.logger.error("pair() failed"),r}}),ke(this,"approve",async n=>{var r,i,s;const a=this.client.core.eventClient.createEvent({properties:{topic:(r=n?.id)==null?void 0:r.toString(),trace:[Ua.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(L){throw a.setError(hd.no_internet_connection),L}try{await this.isValidProposalId(n?.id)}catch(L){throw this.client.logger.error(`approve() -> proposal.get(${n?.id}) failed`),a.setError(hd.proposal_not_found),L}try{await this.isValidApprove(n)}catch(L){throw this.client.logger.error("approve() -> isValidApprove() failed"),a.setError(hd.session_approve_namespace_validation_failure),L}const{id:c,relayProtocol:u,namespaces:d,sessionProperties:h,scopedProperties:p,sessionConfig:m}=n,g=this.client.proposal.get(c);this.client.core.eventClient.deleteEvent({eventId:a.eventId});const{pairingTopic:b,proposer:v,requiredNamespaces:E,optionalNamespaces:O}=g;let k=(i=this.client.core.eventClient)==null?void 0:i.getEvent({topic:b});k||(k=(s=this.client.core.eventClient)==null?void 0:s.createEvent({type:Ua.session_approve_started,properties:{topic:b,trace:[Ua.session_approve_started,Ua.session_namespaces_validation_success]}}));const S=await this.client.core.crypto.generateKeyPair(),A=v.publicKey,C=await this.client.core.crypto.generateSharedKey(S,A),I=pn(pn(pn({relay:{protocol:u??"irn"},namespaces:d,controller:{publicKey:S,metadata:this.client.metadata},expiry:yr(Ih)},h&&{sessionProperties:h}),p&&{scopedProperties:p}),m&&{sessionConfig:m}),N=Ln.relay;k.addTrace(Ua.subscribing_session_topic);try{await this.client.core.relayer.subscribe(C,{transportType:N,internal:{skipSubscribe:!0}})}catch(L){throw k.setError(hd.subscribe_session_topic_failure),L}k.addTrace(Ua.subscribe_session_topic_success);const z=_i(pn({},I),{topic:C,requiredNamespaces:E,optionalNamespaces:O,pairingTopic:b,acknowledged:!1,self:I.controller,peer:{publicKey:v.publicKey,metadata:v.metadata},controller:S,transportType:Ln.relay});await this.client.session.set(C,z),k.addTrace(Ua.store_session);try{await this.sendApproveSession({sessionTopic:C,proposal:g,pairingProposalResponse:{relay:{protocol:u??"irn"},responderPublicKey:S},sessionSettleRequest:I,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:c}}}),k.addTrace(Ua.session_approve_publish_success)}catch(L){throw this.client.logger.error(L),this.client.session.delete(C,jn("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(C),L}return this.client.core.eventClient.deleteEvent({eventId:k.eventId}),await this.client.core.pairing.updateMetadata({topic:b,metadata:v.metadata}),await this.deleteProposal(c),await this.client.core.pairing.activate({topic:b}),await this.setExpiry(C,yr(Ih)),{topic:C,acknowledged:()=>Promise.resolve(this.client.session.get(C))}}),ke(this,"reject",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(n)}catch(a){throw this.client.logger.error("reject() -> isValidReject() failed"),a}const{id:r,reason:i}=n;let s;try{s=this.client.proposal.get(r).pairingTopic}catch(a){throw this.client.logger.error(`reject() -> proposal.get(${r}) failed`),a}s&&await this.sendError({id:r,topic:s,error:i,rpcOpts:ii.wc_sessionPropose.reject}),await this.deleteProposal(r)}),ke(this,"update",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(n)}catch(p){throw this.client.logger.error("update() -> isValidUpdate() failed"),p}const{topic:r,namespaces:i}=n,{done:s,resolve:a,reject:c}=Sd(),u=Io(),d=xu().toString(),h=this.client.session.get(r).namespaces;return this.events.once(cn("session_update",u),({error:p})=>{p?c(p):a()}),await this.client.session.update(r,{namespaces:i}),await this.sendRequest({topic:r,method:"wc_sessionUpdate",params:{namespaces:i},throwOnFailedPublish:!0,clientRpcId:u,relayRpcId:d}).catch(p=>{this.client.logger.error(p),this.client.session.update(r,{namespaces:h}),c(p)}),{acknowledged:s}}),ke(this,"extend",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(n)}catch(u){throw this.client.logger.error("extend() -> isValidExtend() failed"),u}const{topic:r}=n,i=Io(),{done:s,resolve:a,reject:c}=Sd();return this.events.once(cn("session_extend",i),({error:u})=>{u?c(u):a()}),await this.setExpiry(r,yr(Ih)),this.sendRequest({topic:r,method:"wc_sessionExtend",params:{},clientRpcId:i,throwOnFailedPublish:!0}).catch(u=>{c(u)}),{acknowledged:s}}),ke(this,"request",async n=>{this.isInitialized();try{await this.isValidRequest(n)}catch(E){throw this.client.logger.error("request() -> isValidRequest() failed"),E}const{chainId:r,request:i,topic:s,expiry:a=ii.wc_sessionRequest.req.ttl}=n,c=this.client.session.get(s);c?.transportType===Ln.relay&&await this.confirmOnlineStateOrThrow();const u=Io(),d=xu().toString(),{done:h,resolve:p,reject:m}=Sd(a,"Request expired. Please try again.");this.events.once(cn("session_request",u),({error:E,result:O})=>{E?m(E):p(O)});const g="wc_sessionRequest",b=this.getAppLinkIfEnabled(c.peer.metadata,c.transportType);if(b)return await this.sendRequest({clientRpcId:u,relayRpcId:d,topic:s,method:g,params:{request:_i(pn({},i),{expiryTimestamp:yr(a)}),chainId:r},expiry:a,throwOnFailedPublish:!0,appLink:b}).catch(E=>m(E)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:r,id:u}),await h();const v={request:_i(pn({},i),{expiryTimestamp:yr(a)}),chainId:r};return await Promise.all([new Promise(async E=>{await this.sendRequest({clientRpcId:u,relayRpcId:d,topic:s,method:g,params:v,expiry:a,throwOnFailedPublish:!0,tvf:this.getTVFParams(u,v)}).catch(O=>m(O)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:r,id:u}),E()}),new Promise(async E=>{var O;if(!((O=c.sessionConfig)!=null&&O.disableDeepLink)){const k=await NEe(this.client.core.storage,TM);await kEe({id:u,topic:s,wcDeepLink:k})}E()}),h()]).then(E=>E[2])}),ke(this,"respond",async n=>{var r,i;this.isInitialized();const s=this.client.core.eventClient.createEvent({properties:{topic:n?.topic||((i=(r=n?.response)==null?void 0:r.id)==null?void 0:i.toString()),trace:[Ua.session_request_response_started]}});try{await this.isValidRespond(n)}catch(p){throw s.addTrace(p?.message),s.setError(hd.session_request_response_validation_failure),p}s.addTrace(Ua.session_request_response_validation_success);const{topic:a,response:c}=n,{id:u}=c,d=this.client.session.get(a);d.transportType===Ln.relay&&await this.confirmOnlineStateOrThrow();const h=this.getAppLinkIfEnabled(d.peer.metadata,d.transportType);try{s.addTrace(Ua.session_request_response_publish_started),Co(c)?await this.sendResult({id:u,topic:a,result:c.result,throwOnFailedPublish:!0,appLink:h}):pa(c)&&await this.sendError({id:u,topic:a,error:c.error,appLink:h}),this.cleanupAfterResponse(n)}catch(p){throw s.addTrace(p?.message),s.setError(hd.session_request_response_publish_failure),p}}),ke(this,"ping",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(n)}catch(i){throw this.client.logger.error("ping() -> isValidPing() failed"),i}const{topic:r}=n;if(this.client.session.keys.includes(r)){const i=Io(),s=xu().toString(),{done:a,resolve:c,reject:u}=Sd();this.events.once(cn("session_ping",i),({error:d})=>{d?u(d):c()}),await Promise.all([this.sendRequest({topic:r,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:i,relayRpcId:s}),a()])}else this.client.core.pairing.pairings.keys.includes(r)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:r}))}),ke(this,"emit",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(n);const{topic:r,event:i,chainId:s}=n,a=xu().toString(),c=Io();await this.sendRequest({topic:r,method:"wc_sessionEvent",params:{event:i,chainId:s},throwOnFailedPublish:!0,relayRpcId:a,clientRpcId:c})}),ke(this,"disconnect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(n);const{topic:r}=n;if(this.client.session.keys.includes(r))await this.sendRequest({topic:r,method:"wc_sessionDelete",params:jn("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:r,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(r))await this.client.core.pairing.disconnect({topic:r});else{const{message:i}=Ue("MISMATCHED_TOPIC",`Session or pairing topic not found: ${r}`);throw new Error(i)}}),ke(this,"find",n=>(this.isInitialized(),this.client.session.getAll().filter(r=>KSe(r,n)))),ke(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),ke(this,"authenticate",async(n,r)=>{var i;this.isInitialized(),this.isValidAuthenticate(n);const s=r&&this.client.core.linkModeSupportedApps.includes(r)&&((i=this.client.metadata.redirect)==null?void 0:i.linkMode),a=s?Ln.link_mode:Ln.relay;a===Ln.relay&&await this.confirmOnlineStateOrThrow();const{chains:c,statement:u="",uri:d,domain:h,nonce:p,type:m,exp:g,nbf:b,methods:v=[],expiry:E}=n,O=[...n.resources||[]],{topic:k,uri:S}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:a});this.client.logger.info({message:"Generated new pairing",pairing:{topic:k,uri:S}});const A=await this.client.core.crypto.generateKeyPair(),C=e1(A);if(await Promise.all([this.client.auth.authKeys.set(i1,{responseTopic:C,publicKey:A}),this.client.auth.pairingTopics.set(C,{topic:C,pairingTopic:k})]),await this.client.core.relayer.subscribe(C,{transportType:a}),this.client.logger.info(`sending request to new pairing topic: ${k}`),v.length>0){const{namespace:P}=nl(c[0]);let V=Y2e(P,"request",v);Qv(O)&&(V=X2e(V,O.pop())),O.push(V)}const I=E&&E>ii.wc_sessionAuthenticate.req.ttl?E:ii.wc_sessionAuthenticate.req.ttl,N={authPayload:{type:m??"caip122",chains:c,statement:u,aud:d,domain:h,version:"1",nonce:p,iat:new Date().toISOString(),exp:g,nbf:b,resources:O},requester:{publicKey:A,metadata:this.client.metadata},expiryTimestamp:yr(I)},z={eip155:{chains:c,methods:[...new Set(["personal_sign",...v])],events:["chainChanged","accountsChanged"]}},L={requiredNamespaces:{},optionalNamespaces:z,relays:[{protocol:"irn"}],pairingTopic:k,proposer:{publicKey:A,metadata:this.client.metadata},expiryTimestamp:yr(ii.wc_sessionPropose.req.ttl),id:Io()},{done:B,resolve:H,reject:D}=Sd(I,"Request expired"),F=Io(),K=cn("session_connect",L.id),T=cn("session_request",F),x=async({error:P,session:V})=>{this.events.off(T,$),P?D(P):V&&H({session:V})},$=async P=>{var V,M,G;if(await this.deletePendingAuthRequest(F,{message:"fulfilled",code:0}),P.error){const Ee=jn("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return P.error.code===Ee.code?void 0:(this.events.off(K,x),D(P.error.message))}await this.deleteProposal(L.id),this.events.off(K,x);const{cacaos:J,responder:X}=P.result,Q=[],ge=[];for(const Ee of J){await o9({cacao:Ee,projectId:this.client.core.projectId})||(this.client.logger.error(Ee,"Signature verification failed"),D(jn("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:Pe}=Ee,qe=Qv(Pe.resources),rt=[q5(Pe.iss)],ye=d_(Pe.iss);if(qe){const Tt=c9(qe),Kt=l9(qe);Q.push(...Tt),rt.push(...Kt)}for(const Tt of rt)ge.push(`${Tt}:${ye}`)}const we=await this.client.core.crypto.generateSharedKey(A,X.publicKey);let Te;Q.length>0&&(Te={topic:we,acknowledged:!0,self:{publicKey:A,metadata:this.client.metadata},peer:X,controller:X.publicKey,expiry:yr(Ih),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:k,namespaces:D9([...new Set(Q)],[...new Set(ge)]),transportType:a},await this.client.core.relayer.subscribe(we,{transportType:a}),await this.client.session.set(we,Te),k&&await this.client.core.pairing.updateMetadata({topic:k,metadata:X.metadata}),Te=this.client.session.get(we)),(V=this.client.metadata.redirect)!=null&&V.linkMode&&(M=X.metadata.redirect)!=null&&M.linkMode&&(G=X.metadata.redirect)!=null&&G.universal&&r&&(this.client.core.addLinkModeSupportedApp(X.metadata.redirect.universal),this.client.session.update(we,{transportType:Ln.link_mode})),H({auths:J,session:Te})};this.events.once(K,x),this.events.once(T,$);let j;try{if(s){const P=Ga("wc_sessionAuthenticate",N,F);this.client.core.history.set(k,P);const V=await this.client.core.crypto.encode("",P,{type:bb,encoding:vu});j=Sv(r,k,V)}else await Promise.all([this.sendRequest({topic:k,method:"wc_sessionAuthenticate",params:N,expiry:n.expiry,throwOnFailedPublish:!0,clientRpcId:F}),this.sendRequest({topic:k,method:"wc_sessionPropose",params:L,expiry:ii.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:L.id})])}catch(P){throw this.events.off(K,x),this.events.off(T,$),P}return await this.setProposal(L.id,L),await this.setAuthRequest(F,{request:_i(pn({},N),{verifyContext:{}}),pairingTopic:k,transportType:a}),{uri:j??S,response:B}}),ke(this,"approveSessionAuthenticate",async n=>{const{id:r,auths:i}=n,s=this.client.core.eventClient.createEvent({properties:{topic:r.toString(),trace:[pd.authenticated_session_approve_started]}});try{this.isInitialized()}catch(E){throw s.setError(pm.no_internet_connection),E}const a=this.getPendingAuthRequest(r);if(!a)throw s.setError(pm.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${r}`);const c=a.transportType||Ln.relay;c===Ln.relay&&await this.confirmOnlineStateOrThrow();const u=a.requester.publicKey,d=await this.client.core.crypto.generateKeyPair(),h=e1(u),p={type:rl,receiverPublicKey:u,senderPublicKey:d},m=[],g=[];for(const E of i){if(!await o9({cacao:E,projectId:this.client.core.projectId})){s.setError(pm.invalid_cacao);const C=jn("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:r,topic:h,error:C,encodeOpts:p}),new Error(C.message)}s.addTrace(pd.cacaos_verified);const{p:O}=E,k=Qv(O.resources),S=[q5(O.iss)],A=d_(O.iss);if(k){const C=c9(k),I=l9(k);m.push(...C),S.push(...I)}for(const C of S)g.push(`${C}:${A}`)}const b=await this.client.core.crypto.generateSharedKey(d,u);s.addTrace(pd.create_authenticated_session_topic);let v;if(m?.length>0){v={topic:b,acknowledged:!0,self:{publicKey:d,metadata:this.client.metadata},peer:{publicKey:u,metadata:a.requester.metadata},controller:u,expiry:yr(Ih),authentication:i,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:a.pairingTopic,namespaces:D9([...new Set(m)],[...new Set(g)]),transportType:c},s.addTrace(pd.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(b,{transportType:c})}catch(E){throw s.setError(pm.subscribe_authenticated_session_topic_failure),E}s.addTrace(pd.subscribe_authenticated_session_topic_success),await this.client.session.set(b,v),s.addTrace(pd.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:a.pairingTopic,metadata:a.requester.metadata})}s.addTrace(pd.publishing_authenticated_session_approve);try{await this.sendResult({topic:h,id:r,result:{cacaos:i,responder:{publicKey:d,metadata:this.client.metadata}},encodeOpts:p,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(a.requester.metadata,c)})}catch(E){throw s.setError(pm.authenticated_session_approve_publish_failure),E}return await this.client.auth.requests.delete(r,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:a.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:s.eventId}),{session:v}}),ke(this,"rejectSessionAuthenticate",async n=>{this.isInitialized();const{id:r,reason:i}=n,s=this.getPendingAuthRequest(r);if(!s)throw new Error(`Could not find pending auth request with id ${r}`);s.transportType===Ln.relay&&await this.confirmOnlineStateOrThrow();const a=s.requester.publicKey,c=await this.client.core.crypto.generateKeyPair(),u=e1(a),d={type:rl,receiverPublicKey:a,senderPublicKey:c};await this.sendError({id:r,topic:u,error:i,encodeOpts:d,rpcOpts:ii.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(s.requester.metadata,s.transportType)}),await this.client.auth.requests.delete(r,{message:"rejected",code:0}),await this.deleteProposal(r)}),ke(this,"formatAuthMessage",n=>{this.isInitialized();const{request:r,iss:i}=n;return lH(r,i)}),ke(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const n=this.relayMessageCache.shift();n&&await this.onRelayMessage(n)}catch(n){this.client.logger.error(n)}},50)}),ke(this,"cleanupDuplicatePairings",async n=>{if(n.pairingTopic)try{const r=this.client.core.pairing.pairings.get(n.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(s=>{var a,c;return((a=s.peerMetadata)==null?void 0:a.url)&&((c=s.peerMetadata)==null?void 0:c.url)===n.peer.metadata.url&&s.topic&&s.topic!==r.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(s=>this.client.core.pairing.disconnect({topic:s.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(r){this.client.logger.error(r)}}),ke(this,"deleteSession",async n=>{var r;const{topic:i,expirerHasDeleted:s=!1,emitEvent:a=!0,id:c=0}=n,{self:u}=this.client.session.get(i);await this.client.core.relayer.unsubscribe(i),await this.client.session.delete(i,jn("USER_DISCONNECTED")),this.addToRecentlyDeleted(i,"session"),this.client.core.crypto.keychain.has(u.publicKey)&&await this.client.core.crypto.deleteKeyPair(u.publicKey),this.client.core.crypto.keychain.has(i)&&await this.client.core.crypto.deleteSymKey(i),s||this.client.core.expirer.del(i),this.client.core.storage.removeItem(TM).catch(d=>this.client.logger.warn(d)),this.getPendingSessionRequests().forEach(d=>{d.topic===i&&this.deletePendingSessionRequest(d.id,jn("USER_DISCONNECTED"))}),i===((r=this.sessionRequestQueue.queue[0])==null?void 0:r.topic)&&(this.sessionRequestQueue.state=Eo.idle),a&&this.client.events.emit("session_delete",{id:c,topic:i})}),ke(this,"deleteProposal",async(n,r)=>{if(r)try{const i=this.client.proposal.get(n);this.client.core.eventClient.getEvent({topic:i.pairingTopic})?.setError(hd.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(n,jn("USER_DISCONNECTED")),r?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"proposal")}),ke(this,"deletePendingSessionRequest",async(n,r,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(n,r),i?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(s=>s.id!==n),i&&(this.sessionRequestQueue.state=Eo.idle,this.client.events.emit("session_request_expire",{id:n}))}),ke(this,"deletePendingAuthRequest",async(n,r,i=!1)=>{await Promise.all([this.client.auth.requests.delete(n,r),i?Promise.resolve():this.client.core.expirer.del(n)])}),ke(this,"setExpiry",async(n,r)=>{this.client.session.keys.includes(n)&&(this.client.core.expirer.set(n,r),await this.client.session.update(n,{expiry:r}))}),ke(this,"setProposal",async(n,r)=>{this.client.core.expirer.set(n,yr(ii.wc_sessionPropose.req.ttl)),await this.client.proposal.set(n,r)}),ke(this,"setAuthRequest",async(n,r)=>{const{request:i,pairingTopic:s,transportType:a=Ln.relay}=r;this.client.core.expirer.set(n,i.expiryTimestamp),await this.client.auth.requests.set(n,{authPayload:i.authPayload,requester:i.requester,expiryTimestamp:i.expiryTimestamp,id:n,pairingTopic:s,verifyContext:i.verifyContext,transportType:a})}),ke(this,"setPendingSessionRequest",async n=>{const{id:r,topic:i,params:s,verifyContext:a}=n,c=s.request.expiryTimestamp||yr(ii.wc_sessionRequest.req.ttl);this.client.core.expirer.set(r,c),await this.client.pendingRequest.set(r,{id:r,topic:i,params:s,verifyContext:a})}),ke(this,"sendRequest",async n=>{const{topic:r,method:i,params:s,expiry:a,relayRpcId:c,clientRpcId:u,throwOnFailedPublish:d,appLink:h,tvf:p,publishOpts:m={}}=n,g=Ga(i,s,u);let b;const v=!!h;try{const k=v?vu:ns;b=await this.client.core.crypto.encode(r,g,{encoding:k})}catch(k){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${r} failed`),k}let E;if(cCe.includes(i)){const k=ha(JSON.stringify(g)),S=ha(b);E=await this.client.core.verify.register({id:S,decryptedId:k})}const O=pn(pn({},ii[i].req),m);if(O.attestation=E,a&&(O.ttl=a),c&&(O.id=c),this.client.core.history.set(r,g),v){const k=Sv(h,r,b);await global.Linking.openURL(k,this.client.name)}else O.tvf=_i(pn({},p),{correlationId:g.id}),d?(O.internal=_i(pn({},O.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,b,O)):this.client.core.relayer.publish(r,b,O).catch(k=>this.client.logger.error(k));return g.id}),ke(this,"sendProposeSession",async n=>{const{proposal:r,publishOpts:i}=n,s=Ga("wc_sessionPropose",r,r.id);this.client.core.history.set(r.pairingTopic,s);const a=await this.client.core.crypto.encode(r.pairingTopic,s,{encoding:ns}),c=ha(JSON.stringify(s)),u=ha(a),d=await this.client.core.verify.register({id:u,decryptedId:c});await this.client.core.relayer.publishCustom({payload:{pairingTopic:r.pairingTopic,sessionProposal:a},opts:_i(pn({},i),{publishMethod:"wc_proposeSession",attestation:d})})}),ke(this,"sendApproveSession",async n=>{const{sessionTopic:r,pairingProposalResponse:i,proposal:s,sessionSettleRequest:a,publishOpts:c}=n,u=I0(s.id,i),d=await this.client.core.crypto.encode(s.pairingTopic,u,{encoding:ns}),h=Ga("wc_sessionSettle",a,c?.id),p=await this.client.core.crypto.encode(r,h,{encoding:ns});this.client.core.history.set(r,h),await this.client.core.relayer.publishCustom({payload:{sessionTopic:r,pairingTopic:s.pairingTopic,sessionProposalResponse:d,sessionSettlementRequest:p},opts:_i(pn({},c),{publishMethod:"wc_approveSession"})})}),ke(this,"sendResult",async n=>{const{id:r,topic:i,result:s,throwOnFailedPublish:a,encodeOpts:c,appLink:u}=n,d=I0(r,s);let h;const p=u&&typeof(global==null?void 0:global.Linking)<"u";try{const b=p?vu:ns;h=await this.client.core.crypto.encode(i,d,_i(pn({},c||{}),{encoding:b}))}catch(b){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${i} failed`),b}let m,g;try{m=await this.client.core.history.get(i,r);const b=m.request;try{g=this.getTVFParams(r,b.params,s)}catch(v){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${v?.message}`)}}catch(b){throw this.client.logger.error(`sendResult() -> history.get(${i}, ${r}) failed`),b}if(p){const b=Sv(u,i,h);await global.Linking.openURL(b,this.client.name)}else{const b=m.request.method,v=ii[b].res;v.tvf=_i(pn({},g),{correlationId:r}),a?(v.internal=_i(pn({},v.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,h,v)):this.client.core.relayer.publish(i,h,v).catch(E=>this.client.logger.error(E))}await this.client.core.history.resolve(d)}),ke(this,"sendError",async n=>{const{id:r,topic:i,error:s,encodeOpts:a,rpcOpts:c,appLink:u}=n,d=zE(r,s);let h;const p=u&&typeof(global==null?void 0:global.Linking)<"u";try{const g=p?vu:ns;h=await this.client.core.crypto.encode(i,d,_i(pn({},a||{}),{encoding:g}))}catch(g){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${i} failed`),g}let m;try{m=await this.client.core.history.get(i,r)}catch(g){throw this.client.logger.error(`sendError() -> history.get(${i}, ${r}) failed`),g}if(p){const g=Sv(u,i,h);await global.Linking.openURL(g,this.client.name)}else{const g=m.request.method,b=c||ii[g].res;this.client.core.relayer.publish(i,h,b)}await this.client.core.history.resolve(d)}),ke(this,"cleanup",async()=>{const n=[],r=[];this.client.session.getAll().forEach(i=>{let s=!1;Ro(i.expiry)&&(s=!0),this.client.core.crypto.keychain.has(i.topic)||(s=!0),s&&n.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{Ro(i.expiryTimestamp)&&r.push(i.id)}),await Promise.all([...n.map(i=>this.deleteSession({topic:i})),...r.map(i=>this.deleteProposal(i))])}),ke(this,"onProviderMessageEvent",async n=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(n):await this.onRelayMessage(n)}),ke(this,"onRelayEventRequest",async n=>{this.requestQueue.queue.push(n),await this.processRequestsQueue()}),ke(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===Eo.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=Eo.active;const n=this.requestQueue.queue.shift();if(n)try{await this.processRequest(n)}catch(r){this.client.logger.warn(r)}}this.requestQueue.state=Eo.idle}),ke(this,"processRequest",async n=>{const{topic:r,payload:i,attestation:s,transportType:a,encryptedId:c}=n,u=i.method;if(!this.shouldIgnorePairingRequest({topic:r,requestMethod:u}))switch(u){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:r,payload:i,attestation:s,encryptedId:c});case"wc_sessionSettle":return await this.onSessionSettleRequest(r,i);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(r,i);case"wc_sessionExtend":return await this.onSessionExtendRequest(r,i);case"wc_sessionPing":return await this.onSessionPingRequest(r,i);case"wc_sessionDelete":return await this.onSessionDeleteRequest(r,i);case"wc_sessionRequest":return await this.onSessionRequest({topic:r,payload:i,attestation:s,encryptedId:c,transportType:a});case"wc_sessionEvent":return await this.onSessionEventRequest(r,i);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:r,payload:i,attestation:s,encryptedId:c,transportType:a});default:return this.client.logger.info(`Unsupported request method ${u}`)}}),ke(this,"onRelayEventResponse",async n=>{const{topic:r,payload:i,transportType:s}=n,a=(await this.client.core.history.get(r,i.id)).request.method;switch(a){case"wc_sessionPropose":return this.onSessionProposeResponse(r,i,s);case"wc_sessionSettle":return this.onSessionSettleResponse(r,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(r,i);case"wc_sessionExtend":return this.onSessionExtendResponse(r,i);case"wc_sessionPing":return this.onSessionPingResponse(r,i);case"wc_sessionRequest":return this.onSessionRequestResponse(r,i);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(r,i);default:return this.client.logger.info(`Unsupported response method ${a}`)}}),ke(this,"onRelayEventUnknownPayload",n=>{const{topic:r}=n,{message:i}=Ue("MISSING_OR_INVALID",`Decoded payload on topic ${r} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)}),ke(this,"shouldIgnorePairingRequest",n=>{const{topic:r,requestMethod:i}=n,s=this.expectedPairingMethodMap.get(r);return!s||s.includes(i)?!1:!!(s.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),ke(this,"onSessionProposeRequest",async n=>{const{topic:r,payload:i,attestation:s,encryptedId:a}=n,{params:c,id:u}=i;try{const d=this.client.core.eventClient.getEvent({topic:r});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),d?.setError(Dc.proposal_listener_not_found)),this.isValidConnect(pn({},i.params));const h=c.expiryTimestamp||yr(ii.wc_sessionPropose.req.ttl),p=pn({id:u,pairingTopic:r,expiryTimestamp:h,attestation:s,encryptedId:a},c);await this.setProposal(u,p);const m=await this.getVerifyContext({attestationId:s,hash:ha(JSON.stringify(i)),encryptedId:a,metadata:p.proposer.metadata});d?.addTrace(To.emit_session_proposal),this.client.events.emit("session_proposal",{id:u,params:p,verifyContext:m})}catch(d){await this.sendError({id:u,topic:r,error:d,rpcOpts:ii.wc_sessionPropose.autoReject}),this.client.logger.error(d)}}),ke(this,"onSessionProposeResponse",async(n,r,i)=>{const{id:s}=r;if(Co(r)){const{result:a}=r;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:a});const c=this.client.proposal.get(s);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:c});const u=c.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:u});const d=a.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:d});const h=await this.client.core.crypto.generateSharedKey(u,d);this.pendingSessions.set(s,{sessionTopic:h,pairingTopic:n,proposalId:s,publicKey:u});const p=await this.client.core.relayer.subscribe(h,{transportType:i});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:p}),await this.client.core.pairing.activate({topic:n})}else if(pa(r)){await this.deleteProposal(s);const a=cn("session_connect",s);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners, 954`);this.events.emit(a,{error:r.error})}}),ke(this,"onSessionSettleRequest",async(n,r)=>{const{id:i,params:s}=r;try{this.isValidSessionSettleRequest(s);const{relay:a,controller:c,expiry:u,namespaces:d,sessionProperties:h,scopedProperties:p,sessionConfig:m}=r.params,g=[...this.pendingSessions.values()].find(E=>E.sessionTopic===n);if(!g)return this.client.logger.error(`Pending session not found for topic ${n}`);const b=this.client.proposal.get(g.proposalId),v=_i(pn(pn(pn({topic:n,relay:a,expiry:u,namespaces:d,acknowledged:!0,pairingTopic:g.pairingTopic,requiredNamespaces:b.requiredNamespaces,optionalNamespaces:b.optionalNamespaces,controller:c.publicKey,self:{publicKey:g.publicKey,metadata:this.client.metadata},peer:{publicKey:c.publicKey,metadata:c.metadata}},h&&{sessionProperties:h}),p&&{scopedProperties:p}),m&&{sessionConfig:m}),{transportType:Ln.relay});await this.client.session.set(v.topic,v),await this.setExpiry(v.topic,v.expiry),await this.client.core.pairing.updateMetadata({topic:g.pairingTopic,metadata:v.peer.metadata}),this.client.events.emit("session_connect",{session:v}),this.events.emit(cn("session_connect",g.proposalId),{session:v}),this.pendingSessions.delete(g.proposalId),this.deleteProposal(g.proposalId,!1),this.cleanupDuplicatePairings(v),await this.sendResult({id:r.id,topic:n,result:!0})}catch(a){await this.sendError({id:i,topic:n,error:a}),this.client.logger.error(a)}}),ke(this,"onSessionSettleResponse",async(n,r)=>{const{id:i}=r;Co(r)?(await this.client.session.update(n,{acknowledged:!0}),this.events.emit(cn("session_approve",i),{})):pa(r)&&(await this.client.session.delete(n,jn("USER_DISCONNECTED")),this.events.emit(cn("session_approve",i),{error:r.error}))}),ke(this,"onSessionUpdateRequest",async(n,r)=>{const{params:i,id:s}=r;try{const a=`${n}_session_update`,c=fm.get(a);if(c&&this.isRequestOutOfSync(c,s)){this.client.logger.warn(`Discarding out of sync request - ${s}`),this.sendError({id:s,topic:n,error:jn("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(pn({topic:n},i));try{fm.set(a,s),await this.client.session.update(n,{namespaces:i.namespaces}),await this.sendResult({id:s,topic:n,result:!0})}catch(u){throw fm.delete(a),u}this.client.events.emit("session_update",{id:s,topic:n,params:i})}catch(a){await this.sendError({id:s,topic:n,error:a}),this.client.logger.error(a)}}),ke(this,"isRequestOutOfSync",(n,r)=>r.toString().slice(0,-3)<n.toString().slice(0,-3)),ke(this,"onSessionUpdateResponse",(n,r)=>{const{id:i}=r,s=cn("session_update",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Co(r)?this.events.emit(cn("session_update",i),{}):pa(r)&&this.events.emit(cn("session_update",i),{error:r.error})}),ke(this,"onSessionExtendRequest",async(n,r)=>{const{id:i}=r;try{this.isValidExtend({topic:n}),await this.setExpiry(n,yr(Ih)),await this.sendResult({id:i,topic:n,result:!0}),this.client.events.emit("session_extend",{id:i,topic:n})}catch(s){await this.sendError({id:i,topic:n,error:s}),this.client.logger.error(s)}}),ke(this,"onSessionExtendResponse",(n,r)=>{const{id:i}=r,s=cn("session_extend",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Co(r)?this.events.emit(cn("session_extend",i),{}):pa(r)&&this.events.emit(cn("session_extend",i),{error:r.error})}),ke(this,"onSessionPingRequest",async(n,r)=>{const{id:i}=r;try{this.isValidPing({topic:n}),await this.sendResult({id:i,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:i,topic:n})}catch(s){await this.sendError({id:i,topic:n,error:s}),this.client.logger.error(s)}}),ke(this,"onSessionPingResponse",(n,r)=>{const{id:i}=r,s=cn("session_ping",i);setTimeout(()=>{if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners 2176`);Co(r)?this.events.emit(cn("session_ping",i),{}):pa(r)&&this.events.emit(cn("session_ping",i),{error:r.error})},500)}),ke(this,"onSessionDeleteRequest",async(n,r)=>{const{id:i}=r;try{this.isValidDisconnect({topic:n,reason:r.params}),await Promise.all([new Promise(s=>{this.client.core.relayer.once(sr.publish,async()=>{s(await this.deleteSession({topic:n,id:i}))})}),this.sendResult({id:i,topic:n,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:n,error:jn("USER_DISCONNECTED")})]).catch(s=>this.client.logger.error(s))}catch(s){this.client.logger.error(s)}}),ke(this,"onSessionRequest",async n=>{var r,i,s;const{topic:a,payload:c,attestation:u,encryptedId:d,transportType:h}=n,{id:p,params:m}=c;try{await this.isValidRequest(pn({topic:a},m));const g=this.client.session.get(a),b=await this.getVerifyContext({attestationId:u,hash:ha(JSON.stringify(Ga("wc_sessionRequest",m,p))),encryptedId:d,metadata:g.peer.metadata,transportType:h}),v={id:p,topic:a,params:m,verifyContext:b};await this.setPendingSessionRequest(v),h===Ln.link_mode&&(r=g.peer.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp((i=g.peer.metadata.redirect)==null?void 0:i.universal),(s=this.client.signConfig)!=null&&s.disableRequestQueue?this.emitSessionRequest(v):(this.addSessionRequestToSessionRequestQueue(v),this.processSessionRequestQueue())}catch(g){await this.sendError({id:p,topic:a,error:g}),this.client.logger.error(g)}}),ke(this,"onSessionRequestResponse",(n,r)=>{const{id:i}=r,s=cn("session_request",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Co(r)?this.events.emit(cn("session_request",i),{result:r.result}):pa(r)&&this.events.emit(cn("session_request",i),{error:r.error})}),ke(this,"onSessionEventRequest",async(n,r)=>{const{id:i,params:s}=r;try{const a=`${n}_session_event_${s.event.name}`,c=fm.get(a);if(c&&this.isRequestOutOfSync(c,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(pn({topic:n},s)),this.client.events.emit("session_event",{id:i,topic:n,params:s}),fm.set(a,i)}catch(a){await this.sendError({id:i,topic:n,error:a}),this.client.logger.error(a)}}),ke(this,"onSessionAuthenticateResponse",(n,r)=>{const{id:i}=r;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:n,payload:r}),Co(r)?this.events.emit(cn("session_request",i),{result:r.result}):pa(r)&&this.events.emit(cn("session_request",i),{error:r.error})}),ke(this,"onSessionAuthenticateRequest",async n=>{var r;const{topic:i,payload:s,attestation:a,encryptedId:c,transportType:u}=n;try{const{requester:d,authPayload:h,expiryTimestamp:p}=s.params,m=await this.getVerifyContext({attestationId:a,hash:ha(JSON.stringify(s)),encryptedId:c,metadata:d.metadata,transportType:u}),g={requester:d,pairingTopic:i,id:s.id,authPayload:h,verifyContext:m,expiryTimestamp:p};await this.setAuthRequest(s.id,{request:g,pairingTopic:i,transportType:u}),u===Ln.link_mode&&(r=d.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp(d.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:i,params:s.params,id:s.id,verifyContext:m})}catch(d){this.client.logger.error(d);const h=s.params.requester.publicKey,p=await this.client.core.crypto.generateKeyPair(),m=this.getAppLinkIfEnabled(s.params.requester.metadata,u),g={type:rl,receiverPublicKey:h,senderPublicKey:p};await this.sendError({id:s.id,topic:i,error:d,encodeOpts:g,rpcOpts:ii.wc_sessionAuthenticate.autoReject,appLink:m})}}),ke(this,"addSessionRequestToSessionRequestQueue",n=>{this.sessionRequestQueue.queue.push(n)}),ke(this,"cleanupAfterResponse",n=>{this.deletePendingSessionRequest(n.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=Eo.idle,this.processSessionRequestQueue()},Be.toMiliseconds(this.requestQueueDelay))}),ke(this,"cleanupPendingSentRequestsForTopic",({topic:n,error:r})=>{const i=this.client.core.history.pending;i.length>0&&i.filter(s=>s.topic===n&&s.request.method==="wc_sessionRequest").forEach(s=>{const a=s.request.id,c=cn("session_request",a);if(this.events.listenerCount(c)===0)throw new Error(`emitting ${c} without any listeners`);this.events.emit(cn("session_request",s.request.id),{error:r})})}),ke(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===Eo.active){this.client.logger.info("session request queue is already active.");return}const n=this.sessionRequestQueue.queue[0];if(!n){this.client.logger.info("session request queue is empty.");return}try{this.emitSessionRequest(n)}catch(r){this.client.logger.error(r)}}),ke(this,"emitSessionRequest",n=>{if(this.emittedSessionRequests.has(n.id)){this.client.logger.warn({id:n.id},`Skipping emitting \`session_request\` event for duplicate request. id: ${n.id}`);return}this.sessionRequestQueue.state=Eo.active,this.emittedSessionRequests.add(n.id),this.client.events.emit("session_request",n)}),ke(this,"onPairingCreated",n=>{if(n.methods&&this.expectedPairingMethodMap.set(n.topic,n.methods),n.active)return;const r=this.client.proposal.getAll().find(i=>i.pairingTopic===n.topic);r&&this.onSessionProposeRequest({topic:n.topic,payload:Ga("wc_sessionPropose",_i(pn({},r),{requiredNamespaces:r.requiredNamespaces,optionalNamespaces:r.optionalNamespaces,relays:r.relays,proposer:r.proposer,sessionProperties:r.sessionProperties,scopedProperties:r.scopedProperties}),r.id),attestation:r.attestation,encryptedId:r.encryptedId})}),ke(this,"isValidConnect",async n=>{if(!Ji(n)){const{message:d}=Ue("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(n)}`);throw new Error(d)}const{pairingTopic:r,requiredNamespaces:i,optionalNamespaces:s,sessionProperties:a,scopedProperties:c,relays:u}=n;if(Rr(r)||await this.isValidPairingTopic(r),!axe(u)){const{message:d}=Ue("MISSING_OR_INVALID",`connect() relays: ${u}`);throw new Error(d)}if(i&&!Rr(i)&&jo(i)!==0){const d="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(d):this.client.logger.warn(d),this.validateNamespaces(i,"requiredNamespaces")}if(s&&!Rr(s)&&jo(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),a&&!Rr(a)&&this.validateSessionProps(a,"sessionProperties"),c&&!Rr(c)){this.validateSessionProps(c,"scopedProperties");const d=Object.keys(i||{}).concat(Object.keys(s||{}));if(!Object.keys(c).every(h=>d.includes(h.split(":")[0])))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(c)}, required/optional namespaces: ${JSON.stringify(d)}`)}}),ke(this,"validateNamespaces",(n,r)=>{const i=sxe(n,"connect()",r);if(i)throw new Error(i.message)}),ke(this,"isValidApprove",async n=>{if(!Ji(n))throw new Error(Ue("MISSING_OR_INVALID",`approve() params: ${n}`).message);const{id:r,namespaces:i,relayProtocol:s,sessionProperties:a,scopedProperties:c}=n;this.checkRecentlyDeleted(r),await this.isValidProposalId(r);const u=this.client.proposal.get(r),d=o6(i,"approve()");if(d)throw new Error(d.message);const h=B9(u.requiredNamespaces,i,"approve()");if(h)throw new Error(h.message);if(!wr(s,!0)){const{message:p}=Ue("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(p)}if(a&&!Rr(a)&&this.validateSessionProps(a,"sessionProperties"),c&&!Rr(c)){this.validateSessionProps(c,"scopedProperties");const p=new Set(Object.keys(i));if(!Object.keys(c).every(m=>p.has(m.split(":")[0])))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(c)}, approved namespaces: ${Array.from(p).join(", ")}`)}}),ke(this,"isValidReject",async n=>{if(!Ji(n)){const{message:s}=Ue("MISSING_OR_INVALID",`reject() params: ${n}`);throw new Error(s)}const{id:r,reason:i}=n;if(this.checkRecentlyDeleted(r),await this.isValidProposalId(r),!cxe(i)){const{message:s}=Ue("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(s)}}),ke(this,"isValidSessionSettleRequest",n=>{if(!Ji(n)){const{message:d}=Ue("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${n}`);throw new Error(d)}const{relay:r,controller:i,namespaces:s,expiry:a}=n;if(!VH(r)){const{message:d}=Ue("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(d)}const c=QSe(i,"onSessionSettleRequest()");if(c)throw new Error(c.message);const u=o6(s,"onSessionSettleRequest()");if(u)throw new Error(u.message);if(Ro(a)){const{message:d}=Ue("EXPIRED","onSessionSettleRequest()");throw new Error(d)}}),ke(this,"isValidUpdate",async n=>{if(!Ji(n)){const{message:u}=Ue("MISSING_OR_INVALID",`update() params: ${n}`);throw new Error(u)}const{topic:r,namespaces:i}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const s=this.client.session.get(r),a=o6(i,"update()");if(a)throw new Error(a.message);const c=B9(s.requiredNamespaces,i,"update()");if(c)throw new Error(c.message)}),ke(this,"isValidExtend",async n=>{if(!Ji(n)){const{message:i}=Ue("MISSING_OR_INVALID",`extend() params: ${n}`);throw new Error(i)}const{topic:r}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r)}),ke(this,"isValidRequest",async n=>{if(!Ji(n)){const{message:u}=Ue("MISSING_OR_INVALID",`request() params: ${n}`);throw new Error(u)}const{topic:r,request:i,chainId:s,expiry:a}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const{namespaces:c}=this.client.session.get(r);if(!U9(c,s)){const{message:u}=Ue("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(u)}if(!lxe(i)){const{message:u}=Ue("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(u)}if(!fxe(c,s,i.method)){const{message:u}=Ue("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(u)}if(a&&!mxe(a,m6)){const{message:u}=Ue("MISSING_OR_INVALID",`request() expiry: ${a}. Expiry must be a number (in seconds) between ${m6.min} and ${m6.max}`);throw new Error(u)}}),ke(this,"isValidRespond",async n=>{var r;if(!Ji(n)){const{message:c}=Ue("MISSING_OR_INVALID",`respond() params: ${n}`);throw new Error(c)}const{topic:i,response:s}=n;try{await this.isValidSessionTopic(i)}catch(c){throw(r=n?.response)!=null&&r.id&&this.cleanupAfterResponse(n),c}if(!uxe(s)){const{message:c}=Ue("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(s)}`);throw new Error(c)}const a=this.client.pendingRequest.get(s.id);if(a.topic!==i){const{message:c}=Ue("MISMATCHED_TOPIC",`Request response topic mismatch. reqId: ${s.id}, expected topic: ${a.topic}, received topic: ${i}`);throw new Error(c)}}),ke(this,"isValidPing",async n=>{if(!Ji(n)){const{message:i}=Ue("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(i)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),ke(this,"isValidEmit",async n=>{if(!Ji(n)){const{message:c}=Ue("MISSING_OR_INVALID",`emit() params: ${n}`);throw new Error(c)}const{topic:r,event:i,chainId:s}=n;await this.isValidSessionTopic(r);const{namespaces:a}=this.client.session.get(r);if(!U9(a,s)){const{message:c}=Ue("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(c)}if(!dxe(i)){const{message:c}=Ue("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(c)}if(!hxe(a,s,i.name)){const{message:c}=Ue("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(c)}}),ke(this,"isValidDisconnect",async n=>{if(!Ji(n)){const{message:i}=Ue("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(i)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),ke(this,"isValidAuthenticate",n=>{const{chains:r,uri:i,domain:s,nonce:a}=n;if(!Array.isArray(r)||r.length===0)throw new Error("chains is required and must be a non-empty array");if(!wr(i,!1))throw new Error("uri is required parameter");if(!wr(s,!1))throw new Error("domain is required parameter");if(!wr(a,!1))throw new Error("nonce is required parameter");if([...new Set(r.map(u=>nl(u).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:c}=nl(r[0]);if(c!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),ke(this,"getVerifyContext",async n=>{const{attestationId:r,hash:i,encryptedId:s,metadata:a,transportType:c}=n,u={verified:{verifyUrl:a.verifyUrl||Dg,validation:"UNKNOWN",origin:a.url||""}};try{if(c===Ln.link_mode){const h=this.getAppLinkIfEnabled(a,c);return u.verified.validation=h&&new URL(h).origin===new URL(a.url).origin?"VALID":"INVALID",u}const d=await this.client.core.verify.resolve({attestationId:r,hash:i,encryptedId:s,verifyUrl:a.verifyUrl});d&&(u.verified.origin=d.origin,u.verified.isScam=d.isScam,u.verified.validation=d.origin===new URL(a.url).origin?"VALID":"INVALID")}catch(d){this.client.logger.warn(d)}return this.client.logger.debug(`Verify context: ${JSON.stringify(u)}`),u}),ke(this,"validateSessionProps",(n,r)=>{Object.values(n).forEach((i,s)=>{if(i==null){const{message:a}=Ue("MISSING_OR_INVALID",`${r} must contain an existing value for each key. Received: ${i} for key ${Object.keys(n)[s]}`);throw new Error(a)}})}),ke(this,"getPendingAuthRequest",n=>{const r=this.client.auth.requests.get(n);return typeof r=="object"?r:void 0}),ke(this,"addToRecentlyDeleted",(n,r)=>{if(this.recentlyDeletedMap.set(n,r),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let i=0;const s=this.recentlyDeletedLimit/2;for(const a of this.recentlyDeletedMap.keys()){if(i++>=s)break;this.recentlyDeletedMap.delete(a)}}}),ke(this,"checkRecentlyDeleted",n=>{const r=this.recentlyDeletedMap.get(n);if(r){const{message:i}=Ue("MISSING_OR_INVALID",`Record was recently deleted - ${r}: ${n}`);throw new Error(i)}}),ke(this,"isLinkModeEnabled",(n,r)=>{var i,s,a,c,u,d,h,p,m;return!n||r!==Ln.link_mode?!1:((s=(i=this.client.metadata)==null?void 0:i.redirect)==null?void 0:s.linkMode)===!0&&((c=(a=this.client.metadata)==null?void 0:a.redirect)==null?void 0:c.universal)!==void 0&&((d=(u=this.client.metadata)==null?void 0:u.redirect)==null?void 0:d.universal)!==""&&((h=n?.redirect)==null?void 0:h.universal)!==void 0&&((p=n?.redirect)==null?void 0:p.universal)!==""&&((m=n?.redirect)==null?void 0:m.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(n.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),ke(this,"getAppLinkIfEnabled",(n,r)=>{var i;return this.isLinkModeEnabled(n,r)?(i=n?.redirect)==null?void 0:i.universal:void 0}),ke(this,"handleLinkModeMessage",({url:n})=>{if(!n||!n.includes("wc_ev")||!n.includes("topic"))return;const r=YD(n,"topic")||"",i=decodeURIComponent(YD(n,"wc_ev")||""),s=this.client.session.keys.includes(r);s&&this.client.session.update(r,{transportType:Ln.link_mode}),this.client.core.dispatchEnvelope({topic:r,message:i,sessionExists:s})}),ke(this,"registerLinkModeListeners",async()=>{var n;if(VC()||ju()&&(n=this.client.metadata.redirect)!=null&&n.linkMode){const r=global==null?void 0:global.Linking;if(typeof r<"u"){r.addEventListener("url",this.handleLinkModeMessage,this.client.name);const i=await r.getInitialURL();i&&setTimeout(()=>{this.handleLinkModeMessage({url:i})},50)}}}),ke(this,"getTVFParams",(n,r,i)=>{var s,a,c;if(!((s=r.request)!=null&&s.method))return{};const u={correlationId:n,rpcMethods:[r.request.method],chainId:r.chainId};try{const d=this.extractTxHashesFromResult(r.request,i);u.txHashes=d,u.contractAddresses=this.isValidContractData(r.request.params)?[(c=(a=r.request.params)==null?void 0:a[0])==null?void 0:c.to]:[]}catch(d){this.client.logger.warn(d,"Error getting TVF params")}return u}),ke(this,"isValidContractData",n=>{var r;if(!n)return!1;try{const i=n?.data||((r=n?.[0])==null?void 0:r.data);if(!i.startsWith("0x"))return!1;const s=i.slice(2);return/^[0-9a-fA-F]*$/.test(s)?s.length%2===0:!1}catch{}return!1}),ke(this,"extractTxHashesFromResult",(n,r)=>{var i;try{if(!r)return[];const s=n.method,a=aCe[s];if(s==="sui_signTransaction")return[$2e(r.transactionBytes)];if(s==="near_signTransaction")return[r9(r)];if(s==="near_signTransactions")return r.map(u=>r9(u));if(s==="xrpl_signTransactionFor"||s==="xrpl_signTransaction")return[(i=r.tx_json)==null?void 0:i.hash];if(s==="polkadot_signTransaction")return[Rxe({transaction:n.params.transactionPayload,signature:r.signature})];if(s==="algo_signTxn")return ga(r)?r.map(u=>i9(u)):[i9(r)];if(s==="cosmos_signDirect")return[P2e(r)];if(s==="wallet_sendCalls")return D2e(r);if(typeof r=="string")return[r];const c=r[a.key];if(ga(c))return s==="solana_signAllTransactions"?c.map(u=>R2e(u)):c;if(typeof c=="string")return[c]}catch(s){this.client.logger.warn(s,"Error extracting tx hashes from result")}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,n=this.client.core.relayer.messages.getWithoutAck(e);for(const[r,i]of Object.entries(n))for(const s of i)try{await this.onProviderMessageEvent({topic:r,message:s,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${r}, message: ${s}`)}}catch(e){this.client.logger.warn(e,"processPendingMessageEvents failed")}}isInitialized(){if(!this.initialized){const{message:e}=Ue("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(sr.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:n,message:r,attestation:i,transportType:s}=e,{publicKey:a}=this.client.auth.authKeys.keys.includes(i1)?this.client.auth.authKeys.get(i1):{publicKey:void 0};try{const c=await this.client.core.crypto.decode(n,r,{receiverPublicKey:a,encoding:s===Ln.link_mode?vu:ns});aO(c)?(this.client.core.history.set(n,c),await this.onRelayEventRequest({topic:n,payload:c,attestation:i,transportType:s,encryptedId:ha(r)})):FE(c)?(await this.client.core.history.resolve(c),await this.onRelayEventResponse({topic:n,payload:c,transportType:s}),this.client.core.history.delete(n,c.id)):await this.onRelayEventUnknownPayload({topic:n,payload:c,transportType:s}),await this.client.core.relayer.messages.ack(n,r)}catch(c){this.client.logger.error(c)}}registerExpirerEvents(){this.client.core.expirer.on(la.expired,async e=>{const{topic:n,id:r}=GW(e.target);if(r&&this.client.pendingRequest.keys.includes(r))return await this.deletePendingSessionRequest(r,Ue("EXPIRED"),!0);if(r&&this.client.auth.requests.keys.includes(r))return await this.deletePendingAuthRequest(r,Ue("EXPIRED"),!0);n?this.client.session.keys.includes(n)&&(await this.deleteSession({topic:n,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:n})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r}))})}registerPairingEvents(){this.client.core.pairing.events.on(kd.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(kd.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!wr(e,!1)){const{message:n}=Ue("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(n)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:n}=Ue("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(n)}if(Ro(this.client.core.pairing.pairings.get(e).expiry)){const{message:n}=Ue("EXPIRED",`pairing topic: ${e}`);throw new Error(n)}}async isValidSessionTopic(e){if(!wr(e,!1)){const{message:n}=Ue("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(n)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:n}=Ue("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(n)}if(Ro(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:n}=Ue("EXPIRED",`session topic: ${e}`);throw new Error(n)}if(!this.client.core.crypto.keychain.has(e)){const{message:n}=Ue("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(n)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(wr(e,!1)){const{message:n}=Ue("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(n)}else{const{message:n}=Ue("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(n)}}async isValidProposalId(e){if(!oxe(e)){const{message:n}=Ue("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(n)}if(!this.client.proposal.keys.includes(e)){const{message:n}=Ue("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(n)}if(Ro(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:n}=Ue("EXPIRED",`proposal id: ${e}`);throw new Error(n)}}};class vCe extends Cf{constructor(e,n){super(e,n,rCe,cO),this.core=e,this.logger=n}}let _Ce=class extends Cf{constructor(e,n){super(e,n,iCe,cO),this.core=e,this.logger=n}},ECe=class extends Cf{constructor(e,n){super(e,n,oCe,cO,r=>r.id),this.core=e,this.logger=n}};class ACe extends Cf{constructor(e,n){super(e,n,dCe,WE,()=>i1),this.core=e,this.logger=n}}class SCe extends Cf{constructor(e,n){super(e,n,fCe,WE),this.core=e,this.logger=n}}let xCe=class extends Cf{constructor(e,n){super(e,n,hCe,WE,r=>r.id),this.core=e,this.logger=n}};var TCe=Object.defineProperty,ICe=(t,e,n)=>e in t?TCe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,g6=(t,e,n)=>ICe(t,typeof e!="symbol"?e+"":e,n);class CCe{constructor(e,n){this.core=e,this.logger=n,g6(this,"authKeys"),g6(this,"pairingTopics"),g6(this,"requests"),this.authKeys=new ACe(this.core,this.logger),this.pairingTopics=new SCe(this.core,this.logger),this.requests=new xCe(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var OCe=Object.defineProperty,kCe=(t,e,n)=>e in t?OCe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ht=(t,e,n)=>kCe(t,typeof e!="symbol"?e+"":e,n);let RCe=class _V extends I6e{constructor(e){super(e),Ht(this,"protocol",bV),Ht(this,"version",wV),Ht(this,"name",y6.name),Ht(this,"metadata"),Ht(this,"core"),Ht(this,"logger"),Ht(this,"events",new zs.EventEmitter),Ht(this,"engine"),Ht(this,"session"),Ht(this,"proposal"),Ht(this,"pendingRequest"),Ht(this,"auth"),Ht(this,"signConfig"),Ht(this,"on",(r,i)=>this.events.on(r,i)),Ht(this,"once",(r,i)=>this.events.once(r,i)),Ht(this,"off",(r,i)=>this.events.off(r,i)),Ht(this,"removeListener",(r,i)=>this.events.removeListener(r,i)),Ht(this,"removeAllListeners",r=>this.events.removeAllListeners(r)),Ht(this,"connect",async r=>{try{return await this.engine.connect(r)}catch(i){throw this.logger.error(i.message),i}}),Ht(this,"pair",async r=>{try{return await this.engine.pair(r)}catch(i){throw this.logger.error(i.message),i}}),Ht(this,"approve",async r=>{try{return await this.engine.approve(r)}catch(i){throw this.logger.error(i.message),i}}),Ht(this,"reject",async r=>{try{return await this.engine.reject(r)}catch(i){throw this.logger.error(i.message),i}}),Ht(this,"update",async r=>{try{return await this.engine.update(r)}catch(i){throw this.logger.error(i.message),i}}),Ht(this,"extend",async r=>{try{return await this.engine.extend(r)}catch(i){throw this.logger.error(i.message),i}}),Ht(this,"request",async r=>{try{return await this.engine.request(r)}catch(i){throw this.logger.error(i.message),i}}),Ht(this,"respond",async r=>{try{return await this.engine.respond(r)}catch(i){throw this.logger.error(i.message),i}}),Ht(this,"ping",async r=>{try{return await this.engine.ping(r)}catch(i){throw this.logger.error(i.message),i}}),Ht(this,"emit",async r=>{try{return await this.engine.emit(r)}catch(i){throw this.logger.error(i.message),i}}),Ht(this,"disconnect",async r=>{try{return await this.engine.disconnect(r)}catch(i){throw this.logger.error(i.message),i}}),Ht(this,"find",r=>{try{return this.engine.find(r)}catch(i){throw this.logger.error(i.message),i}}),Ht(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(r){throw this.logger.error(r.message),r}}),Ht(this,"authenticate",async(r,i)=>{try{return await this.engine.authenticate(r,i)}catch(s){throw this.logger.error(s.message),s}}),Ht(this,"formatAuthMessage",r=>{try{return this.engine.formatAuthMessage(r)}catch(i){throw this.logger.error(i.message),i}}),Ht(this,"approveSessionAuthenticate",async r=>{try{return await this.engine.approveSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),Ht(this,"rejectSessionAuthenticate",async r=>{try{return await this.engine.rejectSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),this.name=e?.name||y6.name,this.metadata=SEe(e?.metadata),this.signConfig=e?.signConfig;const n=iO({logger:e?.logger||y6.logger,name:this.name});this.logger=n,this.core=e?.core||new nCe(e),this.session=new _Ce(this.core,this.logger),this.proposal=new vCe(this.core,this.logger),this.pendingRequest=new ECe(this.core,this.logger),this.engine=new wCe(this),this.auth=new CCe(this.core,this.logger)}static async init(e){const n=new _V(e);return await n.initialize(),n}get context(){return hs(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};const $Ce=RCe;var Tv={exports:{}},OM;function NCe(){return OM||(OM=1,(function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof Oo<"u"&&Oo,r=(function(){function s(){this.fetch=!1,this.DOMException=n.DOMException}return s.prototype=n,new s})();(function(s){(function(a){var c=typeof s<"u"&&s||typeof self<"u"&&self||typeof Oo<"u"&&Oo||{},u={searchParams:"URLSearchParams"in c,iterable:"Symbol"in c&&"iterator"in Symbol,blob:"FileReader"in c&&"Blob"in c&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:"FormData"in c,arrayBuffer:"ArrayBuffer"in c};function d(T){return T&&DataView.prototype.isPrototypeOf(T)}if(u.arrayBuffer)var h=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],p=ArrayBuffer.isView||function(T){return T&&h.indexOf(Object.prototype.toString.call(T))>-1};function m(T){if(typeof T!="string"&&(T=String(T)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(T)||T==="")throw new TypeError('Invalid character in header field name: "'+T+'"');return T.toLowerCase()}function g(T){return typeof T!="string"&&(T=String(T)),T}function b(T){var x={next:function(){var $=T.shift();return{done:$===void 0,value:$}}};return u.iterable&&(x[Symbol.iterator]=function(){return x}),x}function v(T){this.map={},T instanceof v?T.forEach(function(x,$){this.append($,x)},this):Array.isArray(T)?T.forEach(function(x){if(x.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+x.length);this.append(x[0],x[1])},this):T&&Object.getOwnPropertyNames(T).forEach(function(x){this.append(x,T[x])},this)}v.prototype.append=function(T,x){T=m(T),x=g(x);var $=this.map[T];this.map[T]=$?$+", "+x:x},v.prototype.delete=function(T){delete this.map[m(T)]},v.prototype.get=function(T){return T=m(T),this.has(T)?this.map[T]:null},v.prototype.has=function(T){return this.map.hasOwnProperty(m(T))},v.prototype.set=function(T,x){this.map[m(T)]=g(x)},v.prototype.forEach=function(T,x){for(var $ in this.map)this.map.hasOwnProperty($)&&T.call(x,this.map[$],$,this)},v.prototype.keys=function(){var T=[];return this.forEach(function(x,$){T.push($)}),b(T)},v.prototype.values=function(){var T=[];return this.forEach(function(x){T.push(x)}),b(T)},v.prototype.entries=function(){var T=[];return this.forEach(function(x,$){T.push([$,x])}),b(T)},u.iterable&&(v.prototype[Symbol.iterator]=v.prototype.entries);function E(T){if(!T._noBody){if(T.bodyUsed)return Promise.reject(new TypeError("Already read"));T.bodyUsed=!0}}function O(T){return new Promise(function(x,$){T.onload=function(){x(T.result)},T.onerror=function(){$(T.error)}})}function k(T){var x=new FileReader,$=O(x);return x.readAsArrayBuffer(T),$}function S(T){var x=new FileReader,$=O(x),j=/charset=([A-Za-z0-9_-]+)/.exec(T.type),P=j?j[1]:"utf-8";return x.readAsText(T,P),$}function A(T){for(var x=new Uint8Array(T),$=new Array(x.length),j=0;j<x.length;j++)$[j]=String.fromCharCode(x[j]);return $.join("")}function C(T){if(T.slice)return T.slice(0);var x=new Uint8Array(T.byteLength);return x.set(new Uint8Array(T)),x.buffer}function I(){return this.bodyUsed=!1,this._initBody=function(T){this.bodyUsed=this.bodyUsed,this._bodyInit=T,T?typeof T=="string"?this._bodyText=T:u.blob&&Blob.prototype.isPrototypeOf(T)?this._bodyBlob=T:u.formData&&FormData.prototype.isPrototypeOf(T)?this._bodyFormData=T:u.searchParams&&URLSearchParams.prototype.isPrototypeOf(T)?this._bodyText=T.toString():u.arrayBuffer&&u.blob&&d(T)?(this._bodyArrayBuffer=C(T.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):u.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(T)||p(T))?this._bodyArrayBuffer=C(T):this._bodyText=T=Object.prototype.toString.call(T):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof T=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):u.searchParams&&URLSearchParams.prototype.isPrototypeOf(T)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},u.blob&&(this.blob=function(){var T=E(this);if(T)return T;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var T=E(this);return T||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(u.blob)return this.blob().then(k);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var T=E(this);if(T)return T;if(this._bodyBlob)return S(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(A(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},u.formData&&(this.formData=function(){return this.text().then(B)}),this.json=function(){return this.text().then(JSON.parse)},this}var N=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function z(T){var x=T.toUpperCase();return N.indexOf(x)>-1?x:T}function L(T,x){if(!(this instanceof L))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');x=x||{};var $=x.body;if(T instanceof L){if(T.bodyUsed)throw new TypeError("Already read");this.url=T.url,this.credentials=T.credentials,x.headers||(this.headers=new v(T.headers)),this.method=T.method,this.mode=T.mode,this.signal=T.signal,!$&&T._bodyInit!=null&&($=T._bodyInit,T.bodyUsed=!0)}else this.url=String(T);if(this.credentials=x.credentials||this.credentials||"same-origin",(x.headers||!this.headers)&&(this.headers=new v(x.headers)),this.method=z(x.method||this.method||"GET"),this.mode=x.mode||this.mode||null,this.signal=x.signal||this.signal||(function(){if("AbortController"in c){var V=new AbortController;return V.signal}})(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&$)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody($),(this.method==="GET"||this.method==="HEAD")&&(x.cache==="no-store"||x.cache==="no-cache")){var j=/([?&])_=[^&]*/;if(j.test(this.url))this.url=this.url.replace(j,"$1_="+new Date().getTime());else{var P=/\?/;this.url+=(P.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}L.prototype.clone=function(){return new L(this,{body:this._bodyInit})};function B(T){var x=new FormData;return T.trim().split("&").forEach(function($){if($){var j=$.split("="),P=j.shift().replace(/\+/g," "),V=j.join("=").replace(/\+/g," ");x.append(decodeURIComponent(P),decodeURIComponent(V))}}),x}function H(T){var x=new v,$=T.replace(/\r?\n[\t ]+/g," ");return $.split("\r").map(function(j){return j.indexOf(`
`)===0?j.substr(1,j.length):j}).forEach(function(j){var P=j.split(":"),V=P.shift().trim();if(V){var M=P.join(":").trim();try{x.append(V,M)}catch(G){console.warn("Response "+G.message)}}}),x}I.call(L.prototype);function D(T,x){if(!(this instanceof D))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(x||(x={}),this.type="default",this.status=x.status===void 0?200:x.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=x.statusText===void 0?"":""+x.statusText,this.headers=new v(x.headers),this.url=x.url||"",this._initBody(T)}I.call(D.prototype),D.prototype.clone=function(){return new D(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new v(this.headers),url:this.url})},D.error=function(){var T=new D(null,{status:200,statusText:""});return T.ok=!1,T.status=0,T.type="error",T};var F=[301,302,303,307,308];D.redirect=function(T,x){if(F.indexOf(x)===-1)throw new RangeError("Invalid status code");return new D(null,{status:x,headers:{location:T}})},a.DOMException=c.DOMException;try{new a.DOMException}catch{a.DOMException=function(x,$){this.message=x,this.name=$;var j=Error(x);this.stack=j.stack},a.DOMException.prototype=Object.create(Error.prototype),a.DOMException.prototype.constructor=a.DOMException}function K(T,x){return new Promise(function($,j){var P=new L(T,x);if(P.signal&&P.signal.aborted)return j(new a.DOMException("Aborted","AbortError"));var V=new XMLHttpRequest;function M(){V.abort()}V.onload=function(){var X={statusText:V.statusText,headers:H(V.getAllResponseHeaders()||"")};P.url.indexOf("file://")===0&&(V.status<200||V.status>599)?X.status=200:X.status=V.status,X.url="responseURL"in V?V.responseURL:X.headers.get("X-Request-URL");var Q="response"in V?V.response:V.responseText;setTimeout(function(){$(new D(Q,X))},0)},V.onerror=function(){setTimeout(function(){j(new TypeError("Network request failed"))},0)},V.ontimeout=function(){setTimeout(function(){j(new TypeError("Network request timed out"))},0)},V.onabort=function(){setTimeout(function(){j(new a.DOMException("Aborted","AbortError"))},0)};function G(X){try{return X===""&&c.location.href?c.location.href:X}catch{return X}}if(V.open(P.method,G(P.url),!0),P.credentials==="include"?V.withCredentials=!0:P.credentials==="omit"&&(V.withCredentials=!1),"responseType"in V&&(u.blob?V.responseType="blob":u.arrayBuffer&&(V.responseType="arraybuffer")),x&&typeof x.headers=="object"&&!(x.headers instanceof v||c.Headers&&x.headers instanceof c.Headers)){var J=[];Object.getOwnPropertyNames(x.headers).forEach(function(X){J.push(m(X)),V.setRequestHeader(X,g(x.headers[X]))}),P.headers.forEach(function(X,Q){J.indexOf(Q)===-1&&V.setRequestHeader(Q,X)})}else P.headers.forEach(function(X,Q){V.setRequestHeader(Q,X)});P.signal&&(P.signal.addEventListener("abort",M),V.onreadystatechange=function(){V.readyState===4&&P.signal.removeEventListener("abort",M)}),V.send(typeof P._bodyInit>"u"?null:P._bodyInit)})}return K.polyfill=!0,c.fetch||(c.fetch=K,c.Headers=v,c.Request=L,c.Response=D),a.Headers=v,a.Request=L,a.Response=D,a.fetch=K,Object.defineProperty(a,"__esModule",{value:!0}),a})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=n.fetch?n:r;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(Tv,Tv.exports)),Tv.exports}var PCe=NCe();const kM=Du(PCe);var DCe=Object.defineProperty,MCe=Object.defineProperties,UCe=Object.getOwnPropertyDescriptors,RM=Object.getOwnPropertySymbols,BCe=Object.prototype.hasOwnProperty,LCe=Object.prototype.propertyIsEnumerable,$M=(t,e,n)=>e in t?DCe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,NM=(t,e)=>{for(var n in e||(e={}))BCe.call(e,n)&&$M(t,n,e[n]);if(RM)for(var n of RM(e))LCe.call(e,n)&&$M(t,n,e[n]);return t},PM=(t,e)=>MCe(t,UCe(e));const jCe={Accept:"application/json","Content-Type":"application/json"},zCe="POST",DM={headers:jCe,method:zCe},MM=10;let EV=class{constructor(e,n=!1){if(this.url=e,this.disableProviderPing=n,this.events=new zs.EventEmitter,this.isAvailable=!1,this.registering=!1,!J9(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=n}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const n=dl(e),r=await(await kM(this.url,PM(NM({},DM),{body:n}))).json();this.onPayload({data:r})}catch(n){this.onError(e.id,n)}}async register(e=this.url){if(!J9(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return i(new Error("HTTP connection is missing or invalid"));r()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const n=dl({id:1,jsonrpc:"2.0",method:"test",params:[]});await kM(e,PM(NM({},DM),{body:n}))}this.onOpen()}catch(n){const r=this.parseError(n);throw this.events.emit("register_error",r),this.onClose(),r}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?ff(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),i=r.message||r.toString(),s=zE(e,i);this.events.emit("payload",s)}parseError(e,n=this.url){return XH(e,n,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>MM&&this.events.setMaxListeners(MM)}};function lO(t){return t==null||typeof t!="object"&&typeof t!="function"}function AV(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function SV(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const FCe="[object RegExp]",xV="[object String]",TV="[object Number]",IV="[object Boolean]",CV="[object Arguments]",qCe="[object Symbol]",WCe="[object Date]",HCe="[object Map]",VCe="[object Set]",GCe="[object Array]",KCe="[object ArrayBuffer]",YCe="[object Object]",ZCe="[object DataView]",XCe="[object Uint8Array]",JCe="[object Uint8ClampedArray]",QCe="[object Uint16Array]",eOe="[object Uint32Array]",tOe="[object Int8Array]",nOe="[object Int16Array]",rOe="[object Int32Array]",iOe="[object Float32Array]",sOe="[object Float64Array]";function uO(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function aOe(t,e){return Hh(t,void 0,t,new Map,e)}function Hh(t,e,n,r=new Map,i=void 0){const s=i?.(t,e,n,r);if(s!=null)return s;if(lO(t))return t;if(r.has(t))return r.get(t);if(Array.isArray(t)){const a=new Array(t.length);r.set(t,a);for(let c=0;c<t.length;c++)a[c]=Hh(t[c],c,n,r,i);return Object.hasOwn(t,"index")&&(a.index=t.index),Object.hasOwn(t,"input")&&(a.input=t.input),a}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const a=new RegExp(t.source,t.flags);return a.lastIndex=t.lastIndex,a}if(t instanceof Map){const a=new Map;r.set(t,a);for(const[c,u]of t)a.set(c,Hh(u,c,n,r,i));return a}if(t instanceof Set){const a=new Set;r.set(t,a);for(const c of t)a.add(Hh(c,void 0,n,r,i));return a}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(uO(t)){const a=new(Object.getPrototypeOf(t)).constructor(t.length);r.set(t,a);for(let c=0;c<t.length;c++)a[c]=Hh(t[c],c,n,r,i);return a}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const a=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return r.set(t,a),Rd(a,t,n,r,i),a}if(typeof File<"u"&&t instanceof File){const a=new File([t],t.name,{type:t.type});return r.set(t,a),Rd(a,t,n,r,i),a}if(t instanceof Blob){const a=new Blob([t],{type:t.type});return r.set(t,a),Rd(a,t,n,r,i),a}if(t instanceof Error){const a=new t.constructor;return r.set(t,a),a.message=t.message,a.name=t.name,a.stack=t.stack,a.cause=t.cause,Rd(a,t,n,r,i),a}if(typeof t=="object"&&oOe(t)){const a=Object.create(Object.getPrototypeOf(t));return r.set(t,a),Rd(a,t,n,r,i),a}return t}function Rd(t,e,n=t,r,i){const s=[...Object.keys(e),...AV(e)];for(let a=0;a<s.length;a++){const c=s[a],u=Object.getOwnPropertyDescriptor(t,c);(u==null||u.writable)&&(t[c]=Hh(e[c],c,n,r,i))}}function oOe(t){switch(SV(t)){case CV:case GCe:case KCe:case ZCe:case IV:case WCe:case iOe:case sOe:case tOe:case nOe:case rOe:case HCe:case TV:case YCe:case FCe:case VCe:case xV:case qCe:case XCe:case JCe:case QCe:case eOe:return!0;default:return!1}}function cOe(t,e){return aOe(t,(n,r,i,s)=>{if(typeof t=="object")switch(Object.prototype.toString.call(t)){case TV:case xV:case IV:{const a=new t.constructor(t?.valueOf());return Rd(a,t),a}case CV:{const a={};return Rd(a,t),a.length=t.length,a[Symbol.iterator]=t[Symbol.iterator],a}default:return}})}function UM(t){return cOe(t)}function BM(t){return t!==null&&typeof t=="object"&&SV(t)==="[object Arguments]"}function LM(t){return typeof t=="object"&&t!==null}function lOe(){}function uOe(t){return uO(t)}function dOe(t){if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const n=t[Symbol.toStringTag];return n==null||!Object.getOwnPropertyDescriptor(t,Symbol.toStringTag)?.writable?!1:t.toString()===`[object ${n}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function fOe(t){if(lO(t))return t;if(Array.isArray(t)||uO(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),n=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new n(t);if(t instanceof RegExp){const r=new n(t);return r.lastIndex=t.lastIndex,r}if(t instanceof DataView)return new n(t.buffer.slice(0));if(t instanceof Error){const r=new n(t.message);return r.stack=t.stack,r.name=t.name,r.cause=t.cause,r}if(typeof File<"u"&&t instanceof File)return new n([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const r=Object.create(e);return Object.assign(r,t)}return t}function hOe(t,...e){const n=e.slice(0,-1),r=e[e.length-1];let i=t;for(let s=0;s<n.length;s++){const a=n[s];i=g3(i,a,r,new Map)}return i}function g3(t,e,n,r){if(lO(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(r.has(e))return fOe(r.get(e));if(r.set(e,t),Array.isArray(e)){e=e.slice();for(let s=0;s<e.length;s++)e[s]=e[s]??void 0}const i=[...Object.keys(e),...AV(e)];for(let s=0;s<i.length;s++){const a=i[s];let c=e[a],u=t[a];if(BM(c)&&(c={...c}),BM(u)&&(u={...u}),typeof Buffer<"u"&&Buffer.isBuffer(c)&&(c=UM(c)),Array.isArray(c))if(typeof u=="object"&&u!=null){const h=[],p=Reflect.ownKeys(u);for(let m=0;m<p.length;m++){const g=p[m];h[g]=u[g]}u=h}else u=[];const d=n(u,c,a,t,e,r);d!=null?t[a]=d:Array.isArray(c)||LM(u)&&LM(c)?t[a]=g3(u,c,n,r):u==null&&dOe(c)?t[a]=g3({},c,n,r):u==null&&uOe(c)?t[a]=UM(c):(u===void 0||c!==void 0)&&(t[a]=c)}return t}function pOe(t,...e){return hOe(t,...e,lOe)}const jM="error",yOe="wss://relay.walletconnect.org",mOe="wc",OV="universal_provider",Iv=`${mOe}@2:${OV}:`,kV="https://rpc.walletconnect.org/v1/",RV="generic",gOe=`${kV}bundler`,sp="call_status",bOe=86400,dO={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};var wOe=Object.defineProperty,vOe=Object.defineProperties,_Oe=Object.getOwnPropertyDescriptors,zM=Object.getOwnPropertySymbols,EOe=Object.prototype.hasOwnProperty,AOe=Object.prototype.propertyIsEnumerable,FM=(t,e,n)=>e in t?wOe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Cv=(t,e)=>{for(var n in e||(e={}))EOe.call(e,n)&&FM(t,n,e[n]);if(zM)for(var n of zM(e))AOe.call(e,n)&&FM(t,n,e[n]);return t},SOe=(t,e)=>vOe(t,_Oe(e));function $V(t,e,n){var r;const i=nl(t);return((r=e.rpcMap)==null?void 0:r[i.reference])||`${kV}?chainId=${i.namespace}:${i.reference}&projectId=${n}`}function xOe(t){return t.includes(":")?t.split(":")[1]:t}function NV(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function TOe(t,e){const n=Object.keys(e.namespaces).filter(i=>i.includes(t));if(!n.length)return[];const r=[];return n.forEach(i=>{const s=e.namespaces[i].accounts;r.push(...s)}),r}function qM(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>{var r,i;return((r=n?.chains)==null?void 0:r.length)&&((i=n?.chains)==null?void 0:i.length)>0}))}function Ov(t={},e={}){const n=qM(WM(t)),r=qM(WM(e));return pOe(n,r)}function WM(t){var e,n,r,i,s;const a={};if(!jo(t))return a;for(const[c,u]of Object.entries(t)){const d=jE(c)?[c]:u.chains,h=u.methods||[],p=u.events||[],m=u.rpcMap||{},g=Wh(c);a[g]=SOe(Cv(Cv({},a[g]),u),{chains:Lo(d,(e=a[g])==null?void 0:e.chains),methods:Lo(h,(n=a[g])==null?void 0:n.methods),events:Lo(p,(r=a[g])==null?void 0:r.events)}),(jo(m)||jo(((i=a[g])==null?void 0:i.rpcMap)||{}))&&(a[g].rpcMap=Cv(Cv({},m),(s=a[g])==null?void 0:s.rpcMap))}return a}function HM(t){return t.includes(":")?t.split(":")[2]:t}function VM(t){const e={};for(const[n,r]of Object.entries(t)){const i=r.methods||[],s=r.events||[],a=r.accounts||[],c=jE(n)?[n]:r.chains?r.chains:NV(r.accounts);e[n]={chains:c,methods:i,events:s,accounts:a}}return e}function b6(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}function IOe(t){try{const e=JSON.parse(t);return typeof e=="object"&&e!==null&&!Array.isArray(e)}catch{return!1}}const PV={},ap=t=>PV[t],w6=(t,e)=>{PV[t]=e};var COe=Object.defineProperty,GM=Object.getOwnPropertySymbols,OOe=Object.prototype.hasOwnProperty,kOe=Object.prototype.propertyIsEnumerable,KM=(t,e,n)=>e in t?COe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,YM=(t,e)=>{for(var n in e||(e={}))OOe.call(e,n)&&KM(t,n,e[n]);if(GM)for(var n of GM(e))kOe.call(e,n)&&KM(t,n,e[n]);return t};const ZM="eip155",ROe=["atomic","flow-control","paymasterService","sessionKeys","auxiliaryFunds"],$Oe=t=>t&&t.startsWith("0x")?BigInt(t).toString(10):t,v6=t=>t&&t.startsWith("0x")?t:`0x${BigInt(t).toString(16)}`,XM=t=>Object.keys(t).filter(e=>ROe.includes(e)).reduce((e,n)=>(e[n]=NOe(t[n]),e),{}),NOe=t=>typeof t=="string"&&IOe(t)?JSON.parse(t):t,POe=(t,e,n)=>{const{sessionProperties:r={},scopedProperties:i={}}=t,s={};if(!jo(i)&&!jo(r))return;const a=XM(r);for(const c of n){const u=$Oe(c);if(!u)continue;s[v6(u)]=a;const d=i?.[`${ZM}:${u}`];if(d){const h=d?.[`${ZM}:${u}:${e}`];s[v6(u)]=YM(YM({},s[v6(u)]),XM(h||d))}}for(const[c,u]of Object.entries(s))Object.keys(u).length===0&&delete s[c];return Object.keys(s).length>0?s:void 0};var DOe=Object.defineProperty,MOe=(t,e,n)=>e in t?DOe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,UOe=(t,e,n)=>MOe(t,e+"",n);let _6,BOe=class DV{constructor(e){UOe(this,"storage"),this.storage=e}async getItem(e){return await this.storage.getItem(e)}async setItem(e,n){return await this.storage.setItem(e,n)}async removeItem(e){return await this.storage.removeItem(e)}static getStorage(e){return _6||(_6=new DV(e)),_6}};var LOe=Object.defineProperty,jOe=Object.defineProperties,zOe=Object.getOwnPropertyDescriptors,JM=Object.getOwnPropertySymbols,FOe=Object.prototype.hasOwnProperty,qOe=Object.prototype.propertyIsEnumerable,QM=(t,e,n)=>e in t?LOe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,WOe=(t,e)=>{for(var n in e||(e={}))FOe.call(e,n)&&QM(t,n,e[n]);if(JM)for(var n of JM(e))qOe.call(e,n)&&QM(t,n,e[n]);return t},HOe=(t,e)=>jOe(t,zOe(e));async function VOe(t,e){const n=nl(t.result.capabilities.caip345.caip2),r=t.result.capabilities.caip345.transactionHashes,i=await Promise.allSettled(r.map(p=>GOe(n.reference,p,e))),s=i.filter(p=>p.status==="fulfilled").map(p=>p.value).filter(p=>p);i.filter(p=>p.status==="rejected").forEach(p=>console.warn("Failed to fetch transaction receipt:",p.reason));const a=!s.length||s.some(p=>!p),c=s.every(p=>p?.status==="0x1"),u=s.every(p=>p?.status==="0x0"),d=s.some(p=>p?.status==="0x0");let h;return a?h=100:c?h=200:u?h=500:d&&(h=600),{id:t.result.id,version:t.request.version,atomic:t.request.atomicRequired,chainId:t.request.chainId,capabilities:t.result.capabilities,receipts:s,status:h}}async function GOe(t,e,n){return await n(parseInt(t)).request(Ga("eth_getTransactionReceipt",[e]))}async function KOe({sendCalls:t,storage:e}){const n=await e.getItem(sp);await e.setItem(sp,HOe(WOe({},n),{[t.result.id]:{request:t.request,result:t.result,expiry:yr(bOe)}}))}async function YOe({resultId:t,storage:e}){const n=await e.getItem(sp);if(n){delete n[t],await e.setItem(sp,n);for(const r in n)Ro(n[r].expiry)&&delete n[r];await e.setItem(sp,n)}}async function ZOe({resultId:t,storage:e}){const n=await e.getItem(sp),r=n?.[t];if(r&&!Ro(r.expiry))return r;await YOe({resultId:t,storage:e})}var XOe=Object.defineProperty,JOe=Object.defineProperties,QOe=Object.getOwnPropertyDescriptors,eU=Object.getOwnPropertySymbols,e8e=Object.prototype.hasOwnProperty,t8e=Object.prototype.propertyIsEnumerable,b3=(t,e,n)=>e in t?XOe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,E6=(t,e)=>{for(var n in e||(e={}))e8e.call(e,n)&&b3(t,n,e[n]);if(eU)for(var n of eU(e))t8e.call(e,n)&&b3(t,n,e[n]);return t},A6=(t,e)=>JOe(t,QOe(e)),yd=(t,e,n)=>b3(t,typeof e!="symbol"?e+"":e,n);class n8e{constructor(e){yd(this,"name","eip155"),yd(this,"client"),yd(this,"chainId"),yd(this,"namespace"),yd(this,"httpProviders"),yd(this,"events"),yd(this,"storage"),this.namespace=e.namespace,this.events=ap("events"),this.client=ap("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain()),this.storage=BOe.getStorage(this.client.core.storage)}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e);case"wallet_sendCalls":return await this.sendCalls(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(parseInt(e),n);const r=this.chainId;this.chainId=parseInt(e),this.events.emit(dO.DEFAULT_CHAIN_CHANGED,{currentCaipChainId:`${this.name}:${e}`,previousCaipChainId:`${this.name}:${r}`})}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,n){const r=n||$V(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new oO(new EV(r,ap("disableProviderPing")))}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=parseInt(xOe(n));e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}getHttpProvider(e){const n=e||this.chainId;return this.httpProviders[n]||(this.httpProviders=A6(E6({},this.httpProviders),{[n]:this.createHttpProvider(n)}),this.httpProviders[n])}async handleSwitchChain(e){var n,r;let i=e.request.params?(n=e.request.params[0])==null?void 0:n.chainId:"0x0";i=i.startsWith("0x")?i:`0x${i}`;const s=parseInt(i,16);if(this.isChainApproved(s))this.setDefaultChain(`${s}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:i}]},chainId:(r=this.namespace.chains)==null?void 0:r[0]}),this.setDefaultChain(`${s}`);else throw new Error(`Failed to switch to chain 'eip155:${s}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var n,r,i,s,a;const c=(r=(n=e.request)==null?void 0:n.params)==null?void 0:r[0],u=((s=(i=e.request)==null?void 0:i.params)==null?void 0:s[1])||[];if(!c)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const d=this.client.session.get(e.topic),h=((a=d?.sessionProperties)==null?void 0:a.capabilities)||{},p=`${c}${u.join(",")}`,m=h?.[p];if(m)return m;let g;try{g=POe(d,c,u)}catch(v){console.warn("Failed to extract capabilities from session",v)}if(g)return g;const b=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:A6(E6({},d.sessionProperties||{}),{capabilities:A6(E6({},h||{}),{[p]:b})})})}catch(v){console.warn("Failed to update session with capabilities",v)}return b}async getCallStatus(e){var n,r,i;const s=this.client.session.get(e.topic),a=(n=s.sessionProperties)==null?void 0:n.bundler_name;if(a){const d=this.getBundlerUrl(e.chainId,a);try{return await this.getUserOperationReceipt(d,e)}catch(h){console.warn("Failed to fetch call status from bundler",h,d)}}const c=(r=s.sessionProperties)==null?void 0:r.bundler_url;if(c)try{return await this.getUserOperationReceipt(c,e)}catch(d){console.warn("Failed to fetch call status from custom bundler",d,c)}const u=await ZOe({resultId:(i=e.request.params)==null?void 0:i[0],storage:this.storage});if(u)try{return await VOe(u,this.getHttpProvider.bind(this))}catch(d){console.warn("Failed to fetch call status from stored send calls",d,u)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,n){var r;const i=new URL(e),s=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ga("eth_getUserOperationReceipt",[(r=n.request.params)==null?void 0:r[0]]))});if(!s.ok)throw new Error(`Failed to fetch user operation receipt - ${s.status}`);return await s.json()}getBundlerUrl(e,n){return`${gOe}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${n}`}async sendCalls(e){var n,r,i;const s=await this.client.request(e),a=(n=e.request.params)==null?void 0:n[0],c=s?.id,u=s?.capabilities||{},d=(r=u?.caip345)==null?void 0:r.caip2,h=(i=u?.caip345)==null?void 0:i.transactionHashes;return!c||!d||!(h!=null&&h.length)||await KOe({sendCalls:{request:a,result:s},storage:this.storage}),s}}var r8e=Object.defineProperty,i8e=(t,e,n)=>e in t?r8e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ch=(t,e,n)=>i8e(t,typeof e!="symbol"?e+"":e,n);class s8e{constructor(e){Ch(this,"name",RV),Ch(this,"client"),Ch(this,"httpProviders"),Ch(this,"events"),Ch(this,"namespace"),Ch(this,"chainId"),this.namespace=e.namespace,this.events=ap("events"),this.client=ap("client"),this.chainId=this.getDefaultChain(),this.name=this.getNamespaceName(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n);const r=this.chainId;this.chainId=e,this.events.emit(dO.DEFAULT_CHAIN_CHANGED,{currentCaipChainId:`${this.name}:${e}`,previousCaipChainId:`${this.name}:${r}`})}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getNamespaceName(){const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return nl(e).namespace}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){var e,n;const r={};return(n=(e=this.namespace)==null?void 0:e.accounts)==null||n.forEach(i=>{var s,a;const c=nl(i),u=(a=(s=this.namespace)==null?void 0:s.rpcMap)==null?void 0:a[`${c.namespace}:${c.reference}`];r[c.reference]=this.createHttpProvider(i,u)}),r}getHttpProvider(e){const n=nl(e).reference,r=this.httpProviders[n];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||$V(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new oO(new EV(r,ap("disableProviderPing")))}}var a8e=Object.defineProperty,o8e=Object.defineProperties,c8e=Object.getOwnPropertyDescriptors,tU=Object.getOwnPropertySymbols,l8e=Object.prototype.hasOwnProperty,u8e=Object.prototype.propertyIsEnumerable,w3=(t,e,n)=>e in t?a8e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,gm=(t,e)=>{for(var n in e||(e={}))l8e.call(e,n)&&w3(t,n,e[n]);if(tU)for(var n of tU(e))u8e.call(e,n)&&w3(t,n,e[n]);return t},kv=(t,e)=>o8e(t,c8e(e)),sa=(t,e,n)=>w3(t,typeof e!="symbol"?e+"":e,n);let d8e=class MV{constructor(e){sa(this,"client"),sa(this,"namespaces"),sa(this,"optionalNamespaces"),sa(this,"sessionProperties"),sa(this,"scopedProperties"),sa(this,"events",new IC),sa(this,"rpcProviders",{}),sa(this,"session"),sa(this,"providerOpts"),sa(this,"logger"),sa(this,"uri"),sa(this,"disableProviderPing",!1);var n,r;this.providerOpts=e,this.logger=iO({logger:(n=e.logger)!=null?n:jM,name:(r=this.providerOpts.name)!=null?r:OV}),this.disableProviderPing=e?.disableProviderPing||!1}static async init(e){const n=new MV(e);return await n.initialize(),n}async request(e,n,r){const[i,s]=this.validateChain(n);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(i).request({request:gm({},e),chainId:`${i}:${s}`,topic:this.session.topic,expiry:r})}sendAsync(e,n,r,i){const s=new Date().getTime();this.request(e,r,i).then(a=>n(null,I0(s,a))).catch(a=>n(a,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:jn("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,n){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:r,response:i}=await this.client.authenticate(e,n);r&&(this.uri=r,this.events.emit("display_uri",r));const s=await i();if(this.session=s.session,this.session){const a=VM(this.session.namespaces);this.namespaces=Ov(this.namespaces,a),await this.persist("namespaces",this.namespaces),this.onConnect()}return s}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}removeListener(e,n){this.events.removeListener(e,n)}off(e,n){this.events.off(e,n)}get isWalletConnect(){return!0}async pair(e){const{uri:n,approval:r}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});n&&(this.uri=n,this.events.emit("display_uri",n));const i=await r();this.session=i;const s=VM(i.namespaces);return this.namespaces=Ov(this.namespaces,s),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,n){try{if(!this.session)return;const[r,i]=this.validateChain(e);this.getProvider(r).setDefaultChain(i,n)}catch(r){if(!/Please call connect/.test(r.message))throw r}}async cleanupPendingPairings(e={}){try{this.logger.info("Cleaning up inactive pairings...");const n=this.client.pairing.getAll();if(!ga(n))return;for(const r of n)e.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${n.length}`)}catch(n){this.logger.warn(n,"Failed to cleanup pending pairings")}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,n;if(this.client=this.providerOpts.client||await $Ce.init({core:this.providerOpts.core,logger:this.providerOpts.logger||jM,relayUrl:this.providerOpts.relayUrl||yOe,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(r){throw this.logger.error(r,"Failed to get session"),new Error(`The provided session: ${(n=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:n.topic} doesn't exist in the Sign client`)}else{const r=this.client.session.getAll();this.session=r[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(n=>Wh(n)))];w6("client",this.client),w6("events",this.events),w6("disableProviderPing",this.disableProviderPing),e.forEach(n=>{if(!this.session)return;const r=TOe(n,this.session);if(r?.length===0)return;const i=NV(r),s=Ov(this.namespaces,this.optionalNamespaces),a=kv(gm({},s[n]),{accounts:r,chains:i});n==="eip155"?this.rpcProviders[n]=new n8e({namespace:a}):this.rpcProviders[n]=new s8e({namespace:a})})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var n;const{topic:r}=e;r===((n=this.session)==null?void 0:n.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var n;const{params:r,topic:i}=e;if(i!==((n=this.session)==null?void 0:n.topic))return;const{event:s}=r;if(s.name==="accountsChanged"){const a=s.data;a&&ga(a)&&this.events.emit("accountsChanged",a.map(HM))}else if(s.name==="chainChanged"){const a=r.chainId,c=r.event.data,u=Wh(a),d=b6(a)!==b6(c)?`${u}:${b6(c)}`:a;this.onChainChanged({currentCaipChainId:d})}else this.events.emit(s.name,s.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:n})=>{var r,i;if(e!==((r=this.session)==null?void 0:r.topic))return;const{namespaces:s}=n,a=(i=this.client)==null?void 0:i.session.get(e);this.session=kv(gm({},a),{namespaces:s}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:n})}),this.client.on("session_delete",async e=>{var n;e.topic===((n=this.session)==null?void 0:n.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",kv(gm({},jn("USER_DISCONNECTED")),{data:e.topic})))}),this.on(dO.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(kv(gm({},e),{internal:!0}))})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[RV]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var n;this.getProvider(e).updateNamespace((n=this.session)==null?void 0:n.namespaces[e])})}setNamespaces(e){const{namespaces:n={},optionalNamespaces:r={},sessionProperties:i,scopedProperties:s}=e;this.optionalNamespaces=Ov(n,r),this.sessionProperties=i,this.scopedProperties=s}validateChain(e){const[n,r]=e?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[n,r];if(n&&!Object.keys(this.namespaces||{}).map(a=>Wh(a)).includes(n))throw new Error(`Namespace '${n}' is not configured. Please call connect() first with namespace config.`);if(n&&r)return[n,r];const i=Wh(Object.keys(this.namespaces)[0]),s=this.rpcProviders[i].getDefaultChain();return[i,s]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged({currentCaipChainId:e,previousCaipChainId:n,internal:r=!1}){if(!this.namespaces)return;const[i,s]=this.validateChain(e);s&&(this.updateNamespaceChain(i,s),r?(this.events.emit("chainChanged",s),this.emitAccountsChangedOnChainChange({namespace:i,currentCaipChainId:e,previousCaipChainId:n})):this.getProvider(i).setDefaultChain(s),await this.persist("namespaces",this.namespaces))}emitAccountsChangedOnChainChange({namespace:e,currentCaipChainId:n,previousCaipChainId:r}){var i,s;try{if(r===n)return;const a=(s=(i=this.session)==null?void 0:i.namespaces[e])==null?void 0:s.accounts;if(!a)return;const c=a.filter(u=>u.includes(`${n}:`)).map(HM);if(!ga(c))return;this.events.emit("accountsChanged",c)}catch(a){this.logger.warn(a,"Failed to emit accountsChanged on chain change")}}updateNamespaceChain(e,n){if(!this.namespaces)return;const r=this.namespaces[e]?e:`${e}:${n}`,i={chains:[],methods:[],events:[],defaultChain:n};this.namespaces[r]?this.namespaces[r]&&(this.namespaces[r].defaultChain=n):this.namespaces[r]=i}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,n){var r;const i=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.setItem(`${Iv}/${e}${i}`,n)}async getFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";return await this.client.core.storage.getItem(`${Iv}/${e}${r}`)}async deleteFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.removeItem(`${Iv}/${e}${r}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const n=await this.client.core.storage.getKeys();for(const r of n)r.startsWith(Iv)&&await this.client.core.storage.removeItem(r)}catch(n){this.logger.warn(n,"Failed to cleanup storage")}}};const UV=d8e,f8e="wc",h8e="ethereum_provider",p8e=`${f8e}@2:${h8e}:`,y8e="https://rpc.walletconnect.org/v1/",v3=["eth_sendTransaction","personal_sign"],BV=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_sendCalls","wallet_getCapabilities","wallet_getCallsStatus","wallet_showCallsStatus"],_3=["chainChanged","accountsChanged"],LV=["chainChanged","accountsChanged","message","disconnect","connect"],m8e=async()=>{const{createAppKit:t}=await Fe(()=>import("./core-B515UpAt.js").then(e=>e.ai),[]);return t};var g8e=Object.defineProperty,b8e=Object.defineProperties,w8e=Object.getOwnPropertyDescriptors,nU=Object.getOwnPropertySymbols,v8e=Object.prototype.hasOwnProperty,_8e=Object.prototype.propertyIsEnumerable,E3=(t,e,n)=>e in t?g8e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,xd=(t,e)=>{for(var n in e||(e={}))v8e.call(e,n)&&E3(t,n,e[n]);if(nU)for(var n of nU(e))_8e.call(e,n)&&E3(t,n,e[n]);return t},bm=(t,e)=>b8e(t,w8e(e)),xs=(t,e,n)=>E3(t,typeof e!="symbol"?e+"":e,n);function g_(t){return Number(t[0].split(":")[1])}function Rv(t){return`0x${t.toString(16)}`}function E8e(t){const{chains:e,optionalChains:n,methods:r,optionalMethods:i,events:s,optionalEvents:a,rpcMap:c}=t;if(!ga(e))throw new Error("Invalid chains");const u={chains:e,methods:r||v3,events:s||_3,rpcMap:xd({},e.length?{[g_(e)]:c[g_(e)]}:{})},d=s?.filter(g=>!_3.includes(g)),h=r?.filter(g=>!v3.includes(g));if(!n&&!a&&!i&&!(d!=null&&d.length)&&!(h!=null&&h.length))return{required:e.length?u:void 0};const p=d?.length&&h?.length||!n,m={chains:[...new Set(p?u.chains.concat(n||[]):n)],methods:[...new Set(u.methods.concat(i!=null&&i.length?i:BV))],events:[...new Set(u.events.concat(a!=null&&a.length?a:LV))],rpcMap:c};return{required:e.length?u:void 0,optional:n.length?m:void 0}}class fO{constructor(){xs(this,"events",new zs.EventEmitter),xs(this,"namespace","eip155"),xs(this,"accounts",[]),xs(this,"signer"),xs(this,"chainId",1),xs(this,"modal"),xs(this,"rpc"),xs(this,"STORAGE_KEY",p8e),xs(this,"on",(e,n)=>(this.events.on(e,n),this)),xs(this,"once",(e,n)=>(this.events.once(e,n),this)),xs(this,"removeListener",(e,n)=>(this.events.removeListener(e,n),this)),xs(this,"off",(e,n)=>(this.events.off(e,n),this)),xs(this,"parseAccount",e=>this.isCompatibleChainId(e)?this.parseAccountId(e).address:e),this.signer={},this.rpc={}}static async init(e){const n=new fO;return await n.initialize(e),n}async request(e,n){return await this.signer.request(e,this.formatChainId(this.chainId),n)}sendAsync(e,n,r){this.signer.sendAsync(e,n,this.formatChainId(this.chainId),r)}get connected(){return this.signer.client?this.signer.client.core.relayer.connected:!1}get connecting(){return this.signer.client?this.signer.client.core.relayer.connecting:!1}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(e){var n;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(e);const{required:r,optional:i}=E8e(this.rpc);try{const s=await new Promise(async(c,u)=>{var d,h;this.rpc.showQrModal&&((d=this.modal)==null||d.open(),(h=this.modal)==null||h.subscribeState(m=>{!m.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),u(new Error("Connection request reset. Please try again.")))}));const p=e!=null&&e.scopedProperties?{[this.namespace]:e.scopedProperties}:void 0;await this.signer.connect(bm(xd({namespaces:xd({},r&&{[this.namespace]:r})},i&&{optionalNamespaces:{[this.namespace]:i}}),{pairingTopic:e?.pairingTopic,scopedProperties:p})).then(m=>{c(m)}).catch(m=>{var g;(g=this.modal)==null||g.showErrorMessage("Unable to connect"),u(new Error(m.message))})});if(!s)return;const a=WD(s.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:a),this.setAccounts(a),this.events.emit("connect",{chainId:Rv(this.chainId)})}catch(s){throw this.signer.logger.error(s),s}finally{(n=this.modal)==null||n.close()}}async authenticate(e,n){var r;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts({chains:e?.chains});try{const i=await new Promise(async(a,c)=>{var u,d;this.rpc.showQrModal&&((u=this.modal)==null||u.open(),(d=this.modal)==null||d.subscribeState(h=>{!h.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),c(new Error("Connection request reset. Please try again.")))})),await this.signer.authenticate(bm(xd({},e),{chains:this.rpc.chains}),n).then(h=>{a(h)}).catch(h=>{var p;(p=this.modal)==null||p.showErrorMessage("Unable to connect"),c(new Error(h.message))})}),s=i.session;if(s){const a=WD(s.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:a),this.setAccounts(a),this.events.emit("connect",{chainId:Rv(this.chainId)})}return i}catch(i){throw this.signer.logger.error(i),i}finally{(r=this.modal)==null||r.close()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",e=>{const{params:n}=e,{event:r}=n;r.name==="accountsChanged"?(this.accounts=this.parseAccounts(r.data),this.events.emit("accountsChanged",this.accounts)):r.name==="chainChanged"?this.setChainId(this.formatChainId(r.data)):this.events.emit(r.name,r.data),this.events.emit("session_event",e)}),this.signer.on("accountsChanged",e=>{this.accounts=this.parseAccounts(e),this.events.emit("accountsChanged",this.accounts)}),this.signer.on("chainChanged",e=>{const n=parseInt(e);this.chainId=n,this.events.emit("chainChanged",Rv(this.chainId)),this.persist()}),this.signer.on("session_update",e=>{this.events.emit("session_update",e)}),this.signer.on("session_delete",e=>{this.reset(),this.events.emit("session_delete",e),this.events.emit("disconnect",bm(xd({},jn("USER_DISCONNECTED")),{data:e.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",e=>{this.events.emit("display_uri",e)})}switchEthereumChain(e){this.request({method:"wallet_switchEthereumChain",params:[{chainId:e.toString(16)}]})}isCompatibleChainId(e){return typeof e=="string"?e.startsWith(`${this.namespace}:`):!1}formatChainId(e){return`${this.namespace}:${e}`}parseChainId(e){return Number(e.split(":")[1])}setChainIds(e){const n=e.filter(r=>this.isCompatibleChainId(r)).map(r=>this.parseChainId(r));n.length&&(this.chainId=n[0],this.events.emit("chainChanged",Rv(this.chainId)),this.persist())}setChainId(e){if(this.isCompatibleChainId(e)){const n=this.parseChainId(e);this.chainId=n,this.switchEthereumChain(n)}}parseAccountId(e){const[n,r,i]=e.split(":");return{chainId:`${n}:${r}`,address:i}}setAccounts(e){this.accounts=e.filter(n=>this.parseChainId(this.parseAccountId(n).chainId)===this.chainId).map(n=>this.parseAccountId(n).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(e){var n,r;const i=(n=e?.chains)!=null?n:[],s=(r=e?.optionalChains)!=null?r:[],a=i.concat(s);if(!a.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const c=i.length?e?.methods||v3:[],u=i.length?e?.events||_3:[],d=e?.optionalMethods||[],h=e?.optionalEvents||[],p=e?.rpcMap||this.buildRpcMap(a,e.projectId),m=e?.qrModalOptions||void 0;return{chains:i?.map(g=>this.formatChainId(g)),optionalChains:s.map(g=>this.formatChainId(g)),methods:c,events:u,optionalMethods:d,optionalEvents:h,rpcMap:p,showQrModal:!!(e!=null&&e.showQrModal),qrModalOptions:m,projectId:e.projectId,metadata:e.metadata}}buildRpcMap(e,n){const r={};return e.forEach(i=>{r[i]=this.getRpcUrl(i,n)}),r}async initialize(e){var n;if(this.rpc=this.getRpcConfig(e),this.chainId=this.rpc.chains.length?g_(this.rpc.chains):g_(this.rpc.optionalChains),this.signer=await UV.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:e.disableProviderPing,relayUrl:e.relayUrl,storage:e.storage,storageOptions:e.storageOptions,customStoragePrefix:e.customStoragePrefix,telemetryEnabled:e.telemetryEnabled,logger:e.logger}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let r;try{const i=await m8e(),{convertWCMToAppKitOptions:s}=await Promise.resolve().then(function(){return N8e}),a=s(bm(xd({},this.rpc.qrModalOptions),{chains:[...new Set([...this.rpc.chains,...this.rpc.optionalChains])],metadata:this.rpc.metadata,projectId:this.rpc.projectId}));if(!a.networks.length)throw new Error("No networks found for WalletConnect");r=i(bm(xd({},a),{universalProvider:this.signer,manualWCControl:!0,enableMobileFullScreen:((n=this.rpc.qrModalOptions)==null?void 0:n.enableMobileFullScreen)===!0}))}catch(i){throw console.warn(i),new Error("To use QR modal, please install @reown/appkit package")}if(r)try{this.modal=r}catch(i){throw this.signer.logger.error(i),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(e){if(!e)return;const{chains:n,optionalChains:r,rpcMap:i}=e;n&&ga(n)&&(this.rpc.chains=n.map(s=>this.formatChainId(s)),n.forEach(s=>{this.rpc.rpcMap[s]=i?.[s]||this.getRpcUrl(s)})),r&&ga(r)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=r?.map(s=>this.formatChainId(s)),r.forEach(s=>{this.rpc.rpcMap[s]=i?.[s]||this.getRpcUrl(s)}))}getRpcUrl(e,n){var r;return((r=this.rpc.rpcMap)==null?void 0:r[e])||`${y8e}?chainId=eip155:${e}&projectId=${n||this.rpc.projectId}`}async loadPersistedSession(){if(this.session)try{const e=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),n=this.session.namespaces[`${this.namespace}:${e}`]?this.session.namespaces[`${this.namespace}:${e}`]:this.session.namespaces[this.namespace];this.setChainIds(e?[this.formatChainId(e)]:n?.accounts),this.setAccounts(n?.accounts)}catch(e){this.signer.logger.error("Failed to load persisted session, clearing state..."),this.signer.logger.error(e),await this.disconnect().catch(n=>this.signer.logger.warn(n))}}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(e){return typeof e=="string"||e instanceof String?[this.parseAccount(e)]:e.map(n=>this.parseAccount(n))}}const A8e=fO;var S8e=Object.defineProperty,x8e=Object.defineProperties,T8e=Object.getOwnPropertyDescriptors,rU=Object.getOwnPropertySymbols,I8e=Object.prototype.hasOwnProperty,C8e=Object.prototype.propertyIsEnumerable,iU=(t,e,n)=>e in t?S8e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,jV=(t,e)=>{for(var n in e||(e={}))I8e.call(e,n)&&iU(t,n,e[n]);if(rU)for(var n of rU(e))C8e.call(e,n)&&iU(t,n,e[n]);return t},O8e=(t,e)=>x8e(t,T8e(e));function k8e(t){if(t)return{"--w3m-font-family":t["--wcm-font-family"],"--w3m-accent":t["--wcm-accent-color"],"--w3m-color-mix":t["--wcm-background-color"],"--w3m-z-index":t["--wcm-z-index"]?Number(t["--wcm-z-index"]):void 0,"--w3m-qr-color":t["--wcm-accent-color"],"--w3m-font-size-master":t["--wcm-text-medium-regular-size"],"--w3m-border-radius-master":t["--wcm-container-border-radius"],"--w3m-color-mix-strength":0}}const R8e=t=>{const[e,n]=t.split(":");return zV({id:n,caipNetworkId:t,chainNamespace:e,name:"",nativeCurrency:{name:"",symbol:"",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}})};function $8e(t){var e,n,r,i,s,a,c;const u=(e=t.chains)==null?void 0:e.map(R8e).filter(Boolean);if(u.length===0)throw new Error("At least one chain must be specified");const d=u.find(p=>{var m;return p.id===((m=t.defaultChain)==null?void 0:m.id)}),h={projectId:t.projectId,networks:u,themeMode:t.themeMode,themeVariables:k8e(t.themeVariables),chainImages:t.chainImages,connectorImages:t.walletImages,defaultNetwork:d,metadata:O8e(jV({},t.metadata),{name:((n=t.metadata)==null?void 0:n.name)||"WalletConnect",description:((r=t.metadata)==null?void 0:r.description)||"Connect to WalletConnect-compatible wallets",url:((i=t.metadata)==null?void 0:i.url)||"https://walletconnect.org",icons:((s=t.metadata)==null?void 0:s.icons)||["https://walletconnect.org/walletconnect-logo.png"]}),showWallets:!0,featuredWalletIds:t.explorerRecommendedWalletIds==="NONE"?[]:Array.isArray(t.explorerRecommendedWalletIds)?t.explorerRecommendedWalletIds:[],excludeWalletIds:t.explorerExcludedWalletIds==="ALL"?[]:Array.isArray(t.explorerExcludedWalletIds)?t.explorerExcludedWalletIds:[],enableEIP6963:!1,enableInjected:!1,enableCoinbase:!0,enableWalletConnect:!0,features:{email:!1,socials:!1}};if((a=t.mobileWallets)!=null&&a.length||(c=t.desktopWallets)!=null&&c.length){const p=[...(t.mobileWallets||[]).map(b=>({id:b.id,name:b.name,links:b.links})),...(t.desktopWallets||[]).map(b=>({id:b.id,name:b.name,links:{native:b.links.native,universal:b.links.universal}}))],m=[...h.featuredWalletIds||[],...h.excludeWalletIds||[]],g=p.filter(b=>!m.includes(b.id));g.length&&(h.customWallets=g)}return h}function zV(t){return jV({formatters:void 0,fees:void 0,serializers:void 0},t)}var N8e=Object.freeze({__proto__:null,convertWCMToAppKitOptions:$8e,defineChain:zV});const P8e=({origin:t,path:e,query:n={},hash:r={}})=>{let i=new URL(e,t.endsWith("/")?t:`${t}/`);for(let[a,c]of Object.entries(n))c!==void 0&&i.searchParams.set(a,c);let s=Object.entries(r);if(s.length>0){let a=new URLSearchParams;for(let[c,u]of s)u!==void 0&&a.append(c,u);i.hash=a.toString()}return i.href};var D8e=Object.defineProperty,hO=(t,e)=>{for(var n in e)D8e(t,n,{get:e[n],enumerable:!0})},M8e={84532:{usdcAddress:"0x036CbD53842c5426634e7929541eC2318f3dCF7e",usdcName:"USDC"},8453:{usdcAddress:"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",usdcName:"USD Coin"},43113:{usdcAddress:"0x5425890298aed601595a70AB815c96711a31Bc65",usdcName:"USD Coin"},43114:{usdcAddress:"0xB97EF9Ef8734C71904D8002F8b6Bc66Dd9c48a6E",usdcName:"USD Coin"},4689:{usdcAddress:"0xcdf79194c6c285077a58da47641d4dbe51f63542",usdcName:"Bridged USDC"},103:{usdcAddress:"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU",usdcName:"USDC"},101:{usdcAddress:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",usdcName:"USDC"},1328:{usdcAddress:"0x4fcf1784b31630811181f670aea7a7bef803eaed",usdcName:"USDC"},1329:{usdcAddress:"0xe15fc38f6d8c56af07bbcbe3baf5708a2bf42392",usdcName:"USDC"},137:{usdcAddress:"0x3c499c542cef5e3811e1192ce70d8cc03d5c3359",usdcName:"USD Coin"},80002:{usdcAddress:"0x41E94Eb019C0762f9Bfcf9Fb1E58725BfB0e7582",usdcName:"USDC"},3338:{usdcAddress:"0xbbA60da06c2c5424f03f7434542280FCAd453d10",usdcName:"USDC"},2741:{usdcAddress:"0x84a71ccd554cc1b02749b35d22f684cc8ec987e1",usdcName:"Bridged USDC"},11124:{usdcAddress:"0xe4C7fBB0a626ed208021ccabA6Be1566905E2dFc",usdcName:"Bridged USDC"},1514:{usdcAddress:"0xF1815bd50389c46847f0Bda824eC8da914045D14",usdcName:"Bridged USDC"},41923:{usdcAddress:"0x12a272A581feE5577A5dFa371afEB4b2F3a8C2F8",usdcName:"Bridged USDC (Stargate)"},324705682:{usdcAddress:"0x2e08028E3C4c2356572E096d8EF835cD5C6030bD",usdcName:"Bridged USDC (SKALE Bridge)"}},U8e=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"authorizer",type:"address"},{indexed:!0,internalType:"bytes32",name:"nonce",type:"bytes32"}],name:"AuthorizationCanceled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"authorizer",type:"address"},{indexed:!0,internalType:"bytes32",name:"nonce",type:"bytes32"}],name:"AuthorizationUsed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_account",type:"address"}],name:"Blacklisted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newBlacklister",type:"address"}],name:"BlacklisterChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"burner",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Burn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newMasterMinter",type:"address"}],name:"MasterMinterChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"minter",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Mint",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"minter",type:"address"},{indexed:!1,internalType:"uint256",name:"minterAllowedAmount",type:"uint256"}],name:"MinterConfigured",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"oldMinter",type:"address"}],name:"MinterRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"previousOwner",type:"address"},{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[],name:"Pause",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newAddress",type:"address"}],name:"PauserChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newRescuer",type:"address"}],name:"RescuerChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_account",type:"address"}],name:"UnBlacklisted",type:"event"},{anonymous:!1,inputs:[],name:"Unpause",type:"event"},{inputs:[],name:"CANCEL_AUTHORIZATION_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"PERMIT_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"RECEIVE_WITH_AUTHORIZATION_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"TRANSFER_WITH_AUTHORIZATION_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"authorizer",type:"address"},{internalType:"bytes32",name:"nonce",type:"bytes32"}],name:"authorizationState",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"blacklist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"blacklister",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"authorizer",type:"address"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"cancelAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"authorizer",type:"address"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"cancelAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"minter",type:"address"},{internalType:"uint256",name:"minterAllowedAmount",type:"uint256"}],name:"configureMinter",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"currency",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"decrement",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"increment",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"tokenName",type:"string"},{internalType:"string",name:"tokenSymbol",type:"string"},{internalType:"string",name:"tokenCurrency",type:"string"},{internalType:"uint8",name:"tokenDecimals",type:"uint8"},{internalType:"address",name:"newMasterMinter",type:"address"},{internalType:"address",name:"newPauser",type:"address"},{internalType:"address",name:"newBlacklister",type:"address"},{internalType:"address",name:"newOwner",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"newName",type:"string"}],name:"initializeV2",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"lostAndFound",type:"address"}],name:"initializeV2_1",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"accountsToBlacklist",type:"address[]"},{internalType:"string",name:"newSymbol",type:"string"}],name:"initializeV2_2",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"isBlacklisted",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"isMinter",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"masterMinter",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"minter",type:"address"}],name:"minterAllowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"pauser",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"validAfter",type:"uint256"},{internalType:"uint256",name:"validBefore",type:"uint256"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"receiveWithAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"validAfter",type:"uint256"},{internalType:"uint256",name:"validBefore",type:"uint256"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"receiveWithAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"minter",type:"address"}],name:"removeMinter",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IERC20",name:"tokenContract",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"rescueERC20",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"rescuer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"validAfter",type:"uint256"},{internalType:"uint256",name:"validBefore",type:"uint256"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"transferWithAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"validAfter",type:"uint256"},{internalType:"uint256",name:"validBefore",type:"uint256"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"transferWithAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"unBlacklist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_newBlacklister",type:"address"}],name:"updateBlacklister",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_newMasterMinter",type:"address"}],name:"updateMasterMinter",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_newPauser",type:"address"}],name:"updatePauser",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newRescuer",type:"address"}],name:"updateRescuer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"version",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"pure",type:"function"}];const pO=50000n,sU=Ate*32n,FV={block:IL({format(t){const e=t.transactions?.map(n=>{if(typeof n=="string")return n;const r=FV.transaction?.format(n);return r.typeHex==="0x71"?r.type="eip712":r.typeHex==="0xff"&&(r.type="priority"),r});return{l1BatchNumber:t.l1BatchNumber?ln(t.l1BatchNumber):null,l1BatchTimestamp:t.l1BatchTimestamp?ln(t.l1BatchTimestamp):null,transactions:e}}}),transaction:TL({format(t){const e={};return t.type==="0x71"?e.type="eip712":t.type==="0xff"&&(e.type="priority"),{...e,l1BatchNumber:t.l1BatchNumber?ln(t.l1BatchNumber):null,l1BatchTxIndex:t.l1BatchTxIndex?ln(t.l1BatchTxIndex):null}}}),transactionReceipt:u7({format(t){return{l1BatchNumber:t.l1BatchNumber?ln(t.l1BatchNumber):null,l1BatchTxIndex:t.l1BatchTxIndex?ln(t.l1BatchTxIndex):null,logs:t.logs.map(e=>({...zo(e),l1BatchNumber:e.l1BatchNumber?ln(e.l1BatchNumber):null,transactionLogIndex:Bs(e.transactionLogIndex),logType:e.logType})),l2ToL1Logs:t.l2ToL1Logs.map(e=>({blockNumber:ln(e.blockHash),blockHash:e.blockHash,l1BatchNumber:e.l1BatchNumber?ln(e.l1BatchNumber):null,transactionIndex:ln(e.transactionIndex),shardId:ln(e.shardId),isService:e.isService,sender:e.sender,key:e.key,value:e.value,transactionHash:e.transactionHash,logIndex:ln(e.logIndex)}))}}}),transactionRequest:vte({exclude:["customSignature","factoryDeps","gasPerPubdata","paymaster","paymasterInput"],format(t){return t.gasPerPubdata||t.paymaster&&t.paymasterInput||t.factoryDeps||t.customSignature?{eip712Meta:{...t.gasPerPubdata?{gasPerPubdata:xt(t.gasPerPubdata)}:{gasPerPubdata:xt(pO)},...t.paymaster&&t.paymasterInput?{paymasterParams:{paymaster:t.paymaster,paymasterInput:Array.from($i(t.paymasterInput))}}:{},...t.factoryDeps?{factoryDeps:t.factoryDeps.map(e=>Array.from($i(e)))}:{},...t.customSignature?{customSignature:Array.from($i(t.customSignature))}:{}},type:"0x71"}:{}}})};class qV extends _e{constructor(){super(["Transaction is not an EIP712 transaction.","","Transaction must:",'  - include `type: "eip712"`',"  - include one of the following: `customSignature`, `paymaster`, `paymasterInput`, `gasPerPubdata`, `factoryDeps`"].join(`
`),{name:"InvalidEip712TransactionError"})}}function _b(t){return!!(t.type==="eip712"||"customSignature"in t&&t.customSignature||"paymaster"in t&&t.paymaster||"paymasterInput"in t&&t.paymasterInput||"gasPerPubdata"in t&&typeof t.gasPerPubdata=="bigint"||"factoryDeps"in t&&t.factoryDeps)}function WV(t){const{chainId:e,to:n,from:r,paymaster:i,paymasterInput:s}=t;if(!_b(t))throw new qV;if(!e||e<=0)throw new Z0({chainId:e});if(n&&!$n(n))throw new Er({address:n});if(r&&!$n(r))throw new Er({address:r});if(i&&!$n(i))throw new Er({address:i});if(i&&!s)throw new _e("`paymasterInput` must be provided when `paymaster` is defined");if(!i&&s)throw new _e("`paymaster` must be provided when `paymasterInput` is defined")}function B8e(t,e){return _b(t)?j8e(t):CI(t,e)}const L8e={transaction:B8e};function j8e(t){const{chainId:e,gas:n,nonce:r,to:i,from:s,value:a,maxFeePerGas:c,maxPriorityFeePerGas:u,customSignature:d,factoryDeps:h,paymaster:p,paymasterInput:m,gasPerPubdata:g,data:b}=t;WV(t);const v=[r?xt(r):"0x",u?xt(u):"0x",c?xt(c):"0x",n?xt(n):"0x",i??"0x",a?xt(a):"0x",b??"0x",xt(e),xt(""),xt(""),xt(e),s??"0x",xt(g||pO),h??[],d??"0x",p&&m?[p,m]:[]];return Ea(["0x71",sl(v)])}class z8e extends _e{constructor({givenLength:e,maxBytecodeSize:n}){super(`Bytecode cannot be longer than ${n} bytes. Given length: ${e}`,{name:"BytecodeLengthExceedsMaxSizeError"})}}class F8e extends _e{constructor({givenLengthInWords:e}){super(`Bytecode length in 32-byte words must be odd. Given length in words: ${e}`,{name:"BytecodeLengthInWordsMustBeOddError"})}}class q8e extends _e{constructor({givenLength:e}){super(`The bytecode length in bytes must be divisible by 32. Given length: ${e}`,{name:"BytecodeLengthMustBeDivisibleBy32Error"})}}function A3(t){const e=Xc(t);if(e.length%32!==0)throw new q8e({givenLength:e.length});if(e.length>sU)throw new z8e({givenLength:e.length,maxBytecodeSize:sU});const n=kL(e),r=Xc(n),i=e.length/32;if(i%2===0)throw new F8e({givenLengthInWords:i});const s=Xc(i),a=gf(s,{size:2}),c=new Uint8Array([1,0]);return r.set(c,0),r.set(a,2),r}const W8e=t=>{WV(t);const e=H8e(t);return{domain:{name:"zkSync",version:"2",chainId:t.chainId},types:{Transaction:[{name:"txType",type:"uint256"},{name:"from",type:"uint256"},{name:"to",type:"uint256"},{name:"gasLimit",type:"uint256"},{name:"gasPerPubdataByteLimit",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymaster",type:"uint256"},{name:"nonce",type:"uint256"},{name:"value",type:"uint256"},{name:"data",type:"bytes"},{name:"factoryDeps",type:"bytes32[]"},{name:"paymasterInput",type:"bytes"}]},primaryType:"Transaction",message:e}};function H8e(t){const{gas:e,nonce:n,to:r,from:i,value:s,maxFeePerGas:a,maxPriorityFeePerGas:c,factoryDeps:u,paymaster:d,paymasterInput:h,gasPerPubdata:p,data:m}=t;return{txType:113n,from:BigInt(i),to:r?BigInt(r):0n,gasLimit:e??0n,gasPerPubdataByteLimit:p??pO,maxFeePerGas:a??0n,maxPriorityFeePerGas:c??0n,paymaster:d?BigInt(d):0n,nonce:n?BigInt(n):0n,value:s??0n,data:m??"0x",factoryDeps:u?.map(g=>xt(A3(g)))??[],paymasterInput:h||"0x"}}const HV={blockTime:1e3,formatters:FV,serializers:L8e,custom:{getEip712Domain:W8e}},V8e=li({...HV,blockTime:200,id:2741,name:"Abstract",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://api.mainnet.abs.xyz"],webSocket:["wss://api.mainnet.abs.xyz/ws"]}},blockExplorers:{default:{name:"Etherscan",url:"https://abscan.org"},native:{name:"Abstract Explorer",url:"https://explorer.mainnet.abs.xyz"}},contracts:{multicall3:{address:"0xAa4De41dba0Ca5dCBb288b7cC6b708F3aaC759E7",blockCreated:5288},erc6492Verifier:{address:"0xfB688330379976DA81eB64Fe4BF50d7401763B9C",blockCreated:5263}}}),G8e=li({...HV,blockTime:200,id:11124,name:"Abstract Testnet",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://api.testnet.abs.xyz"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia.abscan.org"},native:{name:"Abstract Explorer",url:"https://explorer.testnet.abs.xyz"}},testnet:!0,contracts:{multicall3:{address:"0xF9cda624FBC7e059355ce98a31693d299FACd963",blockCreated:358349},erc6492Verifier:{address:"0xfB688330379976DA81eB64Fe4BF50d7401763B9C",blockCreated:431682}}}),K8e={gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}},Y8e={block:IL({format(t){return{transactions:t.transactions?.map(n=>{if(typeof n=="string")return n;const r=W0(n);return r.typeHex==="0x7e"&&(r.isSystemTx=n.isSystemTx,r.mint=n.mint?ln(n.mint):void 0,r.sourceHash=n.sourceHash,r.type="deposit"),r}),stateRoot:t.stateRoot}}}),transaction:TL({format(t){const e={};return t.type==="0x7e"&&(e.isSystemTx=t.isSystemTx,e.mint=t.mint?ln(t.mint):void 0,e.sourceHash=t.sourceHash,e.type="deposit"),e}}),transactionReceipt:u7({format(t){return{l1GasPrice:t.l1GasPrice?ln(t.l1GasPrice):null,l1GasUsed:t.l1GasUsed?ln(t.l1GasUsed):null,l1Fee:t.l1Fee?ln(t.l1Fee):null,l1FeeScalar:t.l1FeeScalar?Number(t.l1FeeScalar):null}}})};function Z8e(t,e){return Q8e(t)?J8e(t):CI(t,e)}const X8e={transaction:Z8e};function J8e(t){eke(t);const{sourceHash:e,data:n,from:r,gas:i,isSystemTx:s,mint:a,to:c,value:u}=t,d=[e,r,c??"0x",a?xt(a):"0x",u?xt(u):"0x",i?xt(i):"0x",s?"0x1":"0x",n??"0x"];return Ea(["0x7e",sl(d)])}function Q8e(t){return t.type==="deposit"||typeof t.sourceHash<"u"}function eke(t){const{from:e,to:n}=t;if(e&&!$n(e))throw new Er({address:e});if(n&&!$n(n))throw new Er({address:n})}const b_={blockTime:2e3,contracts:K8e,formatters:Y8e,serializers:X8e},tke=li({id:43114,name:"Avalanche",blockTime:1700,nativeCurrency:{decimals:18,name:"Avalanche",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax.network/ext/bc/C/rpc"]}},blockExplorers:{default:{name:"SnowTrace",url:"https://snowtrace.io",apiUrl:"https://api.snowtrace.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:11907934}}}),nke=li({id:43113,name:"Avalanche Fuji",nativeCurrency:{decimals:18,name:"Avalanche Fuji",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax-test.network/ext/bc/C/rpc"]}},blockExplorers:{default:{name:"SnowTrace",url:"https://testnet.snowtrace.io",apiUrl:"https://api-testnet.snowtrace.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7096959}},testnet:!0}),wm=1,VV=li({...b_,id:8453,name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://basescan.org",apiUrl:"https://api.basescan.org/api"}},contracts:{...b_.contracts,disputeGameFactory:{[wm]:{address:"0x43edB88C4B80fDD2AdFF2412A7BebF9dF42cB40e"}},l2OutputOracle:{[wm]:{address:"0x56315b90c40730925ec5485cf004d835058518A0"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:5022},portal:{[wm]:{address:"0x49048044D57e1C92A77f79988d21Fa8fAF74E97e",blockCreated:17482143}},l1StandardBridge:{[wm]:{address:"0x3154Cf16ccdb4C6d922629664174b904d80F2C35",blockCreated:17482143}}},sourceId:wm});({...VV});const vm=11155111,GV=li({...b_,id:84532,network:"base-sepolia",name:"Base Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://sepolia.basescan.org",apiUrl:"https://api-sepolia.basescan.org/api"}},contracts:{...b_.contracts,disputeGameFactory:{[vm]:{address:"0xd6E6dBf4F7EA0ac412fD8b65ED297e64BB7a06E1"}},l2OutputOracle:{[vm]:{address:"0x84457ca9D0163FbC4bbfe4Dfbb20ba46e48DF254"}},portal:{[vm]:{address:"0x49f53e41452c74589e85ca1677426ba426459e85",blockCreated:4446677}},l1StandardBridge:{[vm]:{address:"0xfd0Bf71F60660E2f608ed56e1659C450eB113120",blockCreated:4446677}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1059647}},testnet:!0,sourceId:vm});({...GV});const rke=li({id:41923,name:"EDU Chain",nativeCurrency:{decimals:18,name:"EDU",symbol:"EDU"},rpcUrls:{default:{http:["https://rpc.edu-chain.raas.gelato.cloud"]}},blockExplorers:{default:{name:"EDU Chain Explorer",url:"https://educhain.blockscout.com/"}},testnet:!1}),ike=li({id:4689,name:"IoTeX",nativeCurrency:{decimals:18,name:"IoTeX",symbol:"IOTX"},rpcUrls:{default:{http:["https://babel-api.mainnet.iotex.io"],webSocket:["wss://babel-api.mainnet.iotex.io"]}},blockExplorers:{default:{name:"IoTeXScan",url:"https://iotexscan.io"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:22163670}}}),ske=li({id:4690,name:"IoTeX Testnet",nativeCurrency:{decimals:18,name:"IoTeX",symbol:"IOTX"},rpcUrls:{default:{http:["https://babel-api.testnet.iotex.io"],webSocket:["wss://babel-api.testnet.iotex.io"]}},blockExplorers:{default:{name:"IoTeXScan",url:"https://testnet.iotexscan.io"}},contracts:{multicall3:{address:"0xb5cecD6894c6f473Ec726A176f1512399A2e355d",blockCreated:24347592}},testnet:!0}),ake=li({id:3338,name:"Peaq",nativeCurrency:{decimals:18,name:"peaq",symbol:"PEAQ"},rpcUrls:{default:{http:["https://quicknode1.peaq.xyz","https://quicknode2.peaq.xyz","https://quicknode3.peaq.xyz"],webSocket:["wss://quicknode1.peaq.xyz","wss://quicknode2.peaq.xyz","wss://quicknode3.peaq.xyz"]}},blockExplorers:{default:{name:"Subscan",url:"https://peaq.subscan.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:3566354}}}),oke=li({id:137,name:"Polygon",blockTime:2e3,nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{default:{http:["https://polygon-rpc.com"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://polygonscan.com",apiUrl:"https://api.etherscan.io/v2/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:25770160}}}),cke=li({id:80002,name:"Polygon Amoy",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{default:{http:["https://rpc-amoy.polygon.technology"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://amoy.polygonscan.com",apiUrl:"https://api.etherscan.io/v2/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:3127388}},testnet:!0}),lke=li({id:1329,name:"Sei Network",nativeCurrency:{name:"Sei",symbol:"SEI",decimals:18},rpcUrls:{default:{http:["https://evm-rpc.sei-apis.com/"],webSocket:["wss://evm-ws.sei-apis.com/"]}},blockExplorers:{default:{name:"Seitrace",url:"https://seitrace.com",apiUrl:"https://seitrace.com/pacific-1/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11"}}}),uke=li({id:1328,name:"Sei Testnet",nativeCurrency:{name:"Sei",symbol:"SEI",decimals:18},rpcUrls:{default:{http:["https://evm-rpc-testnet.sei-apis.com"],webSocket:["wss://evm-ws-testnet.sei-apis.com"]}},blockExplorers:{default:{name:"Seitrace",url:"https://seitrace.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:98697651}},testnet:!0}),dke=li({id:1514,name:"Story",nativeCurrency:{decimals:18,name:"IP Token",symbol:"IP"},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:340998},ensRegistry:{address:"0x5dc881dda4e4a8d312be3544ad13118d1a04cb17",blockCreated:648924},ensUniversalResolver:{address:"0xddfb18888a9466688235887dec2a10c4f5effee9",blockCreated:649114}},rpcUrls:{default:{http:["https://mainnet.storyrpc.io"]}},blockExplorers:{default:{name:"Story explorer",url:"https://storyscan.io",apiUrl:"https://storyscan.io/api/v2"}},ensTlds:[".ip"],testnet:!1});function fke(t){if(typeof t=="string"){if(!$n(t,{strict:!1}))throw new Er({address:t});return{address:t,type:"json-rpc"}}if(!$n(t.address,{strict:!1}))throw new Er({address:t.address});return{address:t.address,nonceManager:t.nonceManager,sign:t.sign,signAuthorization:t.signAuthorization,signMessage:t.signMessage,signTransaction:t.signTransaction,signTypedData:t.signTypedData,source:"custom",type:"local"}}let S6=!1;async function Eb({hash:t,privateKey:e,to:n="object"}){const{r,s:i,recovery:s}=K_.sign(t.slice(2),e.slice(2),{lowS:!0,extraEntropy:Ri(S6,{strict:!1})?$i(S6):S6}),a={r:Ne(r,{size:32}),s:Ne(i,{size:32}),v:s?28n:27n,yParity:s};return n==="bytes"||n==="hex"?sj({...a,to:n}):a}async function hke(t){const{chainId:e,nonce:n,privateKey:r,to:i="object"}=t,s=t.contractAddress??t.address,a=await Eb({hash:EL({address:s,chainId:e,nonce:n}),privateKey:r,to:i});return i==="object"?{address:s,chainId:e,nonce:n,...a}:a}async function pke({message:t,privateKey:e}){return await Eb({hash:OI(t),privateKey:e,to:"hex"})}async function yke(t){const{privateKey:e,transaction:n,serializer:r=CI}=t,i=n.type==="eip4844"?{...n,sidecars:!1}:n,s=await Eb({hash:Hr(await r(i)),privateKey:e});return await r(n,s)}async function mke(t){const{privateKey:e,...n}=t;return await Eb({hash:I7(n),privateKey:e,to:"hex"})}function gke(t,e={}){const{nonceManager:n}=e,r=xt(K_.getPublicKey(t.slice(2),!1)),i=bL(r);return{...fke({address:i,nonceManager:n,async sign({hash:a}){return Eb({hash:a,privateKey:t,to:"hex"})},async signAuthorization(a){return hke({...a,privateKey:t})},async signMessage({message:a}){return pke({message:a,privateKey:t})},async signTransaction(a,{serializer:c}={}){return yke({privateKey:t,transaction:a,serializer:c})},async signTypedData(a){return mke({...a,privateKey:t})}}),publicKey:r,source:"privateKey"}}const bke="0x0000000000000000000000000000000000008006",wke="0x0000000000000000000000000000000000010000",aU=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"accountAddress",type:"address"},{indexed:!1,internalType:"enum IContractDeployer.AccountNonceOrdering",name:"nonceOrdering",type:"uint8"}],name:"AccountNonceOrderingUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"accountAddress",type:"address"},{indexed:!1,internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"aaVersion",type:"uint8"}],name:"AccountVersionUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"deployerAddress",type:"address"},{indexed:!0,internalType:"bytes32",name:"bytecodeHash",type:"bytes32"},{indexed:!0,internalType:"address",name:"contractAddress",type:"address"}],name:"ContractDeployed",type:"event"},{inputs:[{internalType:"bytes32",name:"_salt",type:"bytes32"},{internalType:"bytes32",name:"_bytecodeHash",type:"bytes32"},{internalType:"bytes",name:"_input",type:"bytes"}],name:"create",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"_salt",type:"bytes32"},{internalType:"bytes32",name:"_bytecodeHash",type:"bytes32"},{internalType:"bytes",name:"_input",type:"bytes"}],name:"create2",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"_salt",type:"bytes32"},{internalType:"bytes32",name:"_bytecodeHash",type:"bytes32"},{internalType:"bytes",name:"_input",type:"bytes"},{internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"_aaVersion",type:"uint8"}],name:"create2Account",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"bytes32",name:"_bytecodeHash",type:"bytes32"},{internalType:"bytes",name:"_input",type:"bytes"},{internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"_aaVersion",type:"uint8"}],name:"createAccount",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"_address",type:"address"}],name:"extendedAccountVersion",outputs:[{internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_keccak256BytecodeHash",type:"bytes32"}],name:"forceDeployKeccak256",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"bytecodeHash",type:"bytes32"},{internalType:"address",name:"newAddress",type:"address"},{internalType:"bool",name:"callConstructor",type:"bool"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"input",type:"bytes"}],internalType:"struct ContractDeployer.ForceDeployment",name:"_deployment",type:"tuple"},{internalType:"address",name:"_sender",type:"address"}],name:"forceDeployOnAddress",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"bytecodeHash",type:"bytes32"},{internalType:"address",name:"newAddress",type:"address"},{internalType:"bool",name:"callConstructor",type:"bool"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"input",type:"bytes"}],internalType:"struct ContractDeployer.ForceDeployment[]",name:"_deployments",type:"tuple[]"}],name:"forceDeployOnAddresses",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"_address",type:"address"}],name:"getAccountInfo",outputs:[{components:[{internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"supportedAAVersion",type:"uint8"},{internalType:"enum IContractDeployer.AccountNonceOrdering",name:"nonceOrdering",type:"uint8"}],internalType:"struct IContractDeployer.AccountInfo",name:"info",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_sender",type:"address"},{internalType:"uint256",name:"_senderNonce",type:"uint256"}],name:"getNewAddressCreate",outputs:[{internalType:"address",name:"newAddress",type:"address"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"_sender",type:"address"},{internalType:"bytes32",name:"_bytecodeHash",type:"bytes32"},{internalType:"bytes32",name:"_salt",type:"bytes32"},{internalType:"bytes",name:"_input",type:"bytes"}],name:"getNewAddressCreate2",outputs:[{internalType:"address",name:"newAddress",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"_version",type:"uint8"}],name:"updateAccountVersion",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"enum IContractDeployer.AccountNonceOrdering",name:"_nonceOrdering",type:"uint8"}],name:"updateNonceOrdering",outputs:[],stateMutability:"nonpayable",type:"function"}],oU=1,x6="/docs/contract/encodeDeployData";function vke(t){const{abi:e,args:n,bytecode:r,deploymentType:i,salt:s}=t;if(!n||n.length===0){const{functionName:h,argsContractDeployer:p}=cU(i,s??u$,xt(A3(r)),"0x");return Ui({abi:aU,functionName:h,args:p})}const a=e.find(h=>"type"in h&&h.type==="constructor");if(!a)throw new LB({docsPath:x6});if(!("inputs"in a))throw new u1({docsPath:x6});if(!a.inputs||a.inputs.length===0)throw new u1({docsPath:x6});const c=Mu(a.inputs,n),{functionName:u,argsContractDeployer:d}=cU(i,s??u$,xt(A3(r)),c);return Ui({abi:aU,functionName:u,args:d})}function cU(t,e,n,r){const i=[e,n,r];return{create:{functionName:"create",argsContractDeployer:i},create2:{functionName:"create2",argsContractDeployer:i},createAccount:{functionName:"createAccount",argsContractDeployer:[...i,oU]},create2Account:{functionName:"create2Account",argsContractDeployer:[...i,oU]}}[t||"create"]}function KV(t){if(!_b(t))throw new qV;Go(t)}async function _ke(t,e){const{account:n=t.account,chain:r=t.chain,...i}=e,s=n?Nn(n):t.account;if(!s)throw new Yo({docsPath:"/docs/actions/wallet/signTransaction"});if(KV({account:s,chain:r,...e}),!r?.custom?.getEip712Domain)throw new _e("`getEip712Domain` not found on chain.");if(!r?.serializers?.transaction)throw new _e("transaction serializer not found on chain.");const a=await We(t,Ko,"getChainId")({});r!==null&&J0({currentChainId:a,chain:r});const c=r?.custom.getEip712Domain({...i,chainId:a,from:s.address,type:"eip712"}),u=await dj(t,{...c,account:s});return r?.serializers?.transaction({chainId:a,...i,customSignature:u,type:"eip712"},{r:"0x0",s:"0x0",v:0n})}async function YV(t,e){return _b(e)?_ke(t,e):await uj(t,e)}async function ZV(t,e){const{account:n=t.account,chain:r=t.chain}=e,i=n?Nn(n):t.account;if(!i)throw new Yo({docsPath:"/docs/actions/wallet/sendTransaction"});try{KV(e);const s=await jp(t,{...e,nonceManager:i.nonceManager,parameters:["gas","nonce","fees"]});let a;r!==null&&(a=await We(t,Ko,"getChainId")({}),J0({currentChainId:a,chain:r}));const c=await YV(t,{...s,chainId:a});return await We(t,W_,"sendRawTransaction")({serializedTransaction:c})}catch(s){throw H0(s,{...e,account:i,chain:r})}}function Eke(t,e){const{abi:n,args:r,bytecode:i,deploymentType:s,salt:a,...c}=e,u=vke({abi:n,args:r,bytecode:i,deploymentType:s,salt:a});return c.factoryDeps=c.factoryDeps||[],c.factoryDeps.includes(i)||c.factoryDeps.push(i),ZV(t,{...c,data:u,to:s==="create2"||s==="create2Account"?wke:bke})}async function lU(t,e){return _b(e)?ZV(t,e):Q0(t,e)}function Ake(){return t=>({sendTransaction:e=>lU(t,e),signTransaction:e=>YV(t,e),deployContract:e=>Eke(t,e),writeContract:e=>yp(Object.assign(t,{sendTransaction:n=>lU(t,n)}),e)})}var S3=8078012;function XV(t){return Array.isArray(t)?"%5B"+t.map(XV).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function Ske([t,e]){return`${t}=${XV(e)}`}function xke(t){const e=Object.entries(t).map(Ske).join("&");return btoa(e)}function Tke(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${xke(e)}'`),`${n}\``}}var x3=class extends Error{cause=this.cause;context;constructor(...[e,n]){let r,i;n&&Object.entries(Object.getOwnPropertyDescriptors(n)).forEach(([a,c])=>{a==="cause"?i={cause:c.value}:(r===void 0&&(r={__code:e}),Object.defineProperty(r,a,c))});const s=Tke(e,r);super(s,i),this.context=Object.freeze(r===void 0?{__code:e}:r),this.name="SolanaError"}};function Ike(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}function JV(t){return Object.freeze({...t,encode:e=>{const n=new Uint8Array(Ike(e,t));return t.write(e,n,0),n}})}function QV(t){return Object.freeze({...t,decode:(e,n=0)=>t.read(e,n)[0]})}function Cke(t,e,n=e){if(!e.match(new RegExp(`^[${t}]*$`)))throw new x3(S3,{alphabet:t,base:t.length,value:n})}var Oke=t=>JV({getSizeFromValue:e=>{const[n,r]=uU(e,t[0]);if(!r)return e.length;const i=dU(r,t);return n.length+Math.ceil(i.toString(16).length/2)},write(e,n,r){if(Cke(t,e),e==="")return r;const[i,s]=uU(e,t[0]);if(!s)return n.set(new Uint8Array(i.length).fill(0),r),r+i.length;let a=dU(s,t);const c=[];for(;a>0n;)c.unshift(Number(a%256n)),a/=256n;const u=[...Array(i.length).fill(0),...c];return n.set(u,r),r+u.length}}),kke=t=>QV({read(e,n){const r=n===0?e:e.slice(n);if(r.length===0)return["",0];let i=r.findIndex(u=>u!==0);i=i===-1?r.length:i;const s=t[0].repeat(i);if(i===r.length)return[s,e.length];const a=r.slice(i).reduce((u,d)=>u*256n+BigInt(d),0n),c=Rke(a,t);return[s+c,e.length]}});function uU(t,e){const[n,r]=t.split(new RegExp(`((?!${e}).*)`));return[n,r]}function dU(t,e){const n=BigInt(e.length);let r=0n;for(const i of t)r*=n,r+=BigInt(e.indexOf(i));return r}function Rke(t,e){const n=BigInt(e.length),r=[];for(;t>0n;)r.unshift(e[Number(t%n)]),t/=n;return r.join("")}var eG="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",tG=()=>Oke(eG),nG=()=>kke(eG),fU="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$ke=()=>JV({getSizeFromValue:t=>{try{return atob(t).length}catch{throw new x3(S3,{alphabet:fU,base:64,value:t})}},write(t,e,n){try{const r=atob(t).split("").map(i=>i.charCodeAt(0));return e.set(r,n),r.length+n}catch{throw new x3(S3,{alphabet:fU,base:64,value:t})}}}),yO=()=>QV({read(t,e=0){const n=t.slice(e);return[btoa(String.fromCharCode(...n)),t.length]}}),Nke=28e5,Pke=2800001,Dke=2800003,Mke=2800006,Uke=2800007,rG=2800008,Bke=2800009,Lke=8078001,jke=8078004,zke=8078005,Fke=8078006;function iG(t){return Array.isArray(t)?"%5B"+t.map(iG).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function qke([t,e]){return`${t}=${iG(e)}`}function Wke(t){const e=Object.entries(t).map(qke).join("&");return btoa(e)}function Hke(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${Wke(e)}'`),`${n}\``}}function Vke(t,e){return t instanceof Error&&t.name==="SolanaError"?t.context.__code===e:!1}var eo=class extends Error{cause=this.cause;context;constructor(...[e,n]){let r,i;n&&Object.entries(Object.getOwnPropertyDescriptors(n)).forEach(([a,c])=>{a==="cause"?i={cause:c.value}:(r===void 0&&(r={__code:e}),Object.defineProperty(r,a,c))});const s=Hke(e,r);super(s,i),this.context=Object.freeze(r===void 0?{__code:e}:r),this.name="SolanaError"}};function Gke(t,e){if(t.length>=e)return t;const n=new Uint8Array(e).fill(0);return n.set(t),n}var Kke=(t,e)=>Gke(t.length<=e?t:t.slice(0,e),e);function Yke(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}function sG(t){return Object.freeze({...t,encode:e=>{const n=new Uint8Array(Yke(e,t));return t.write(e,n,0),n}})}function Zke(t){return Object.freeze({...t,decode:(e,n=0)=>t.read(e,n)[0]})}function hu(t){return"fixedSize"in t&&typeof t.fixedSize=="number"}function Xke(t){return!hu(t)}function Jke(t,e){if(hu(t)!==hu(e))throw new eo(jke);if(hu(t)&&hu(e)&&t.fixedSize!==e.fixedSize)throw new eo(zke,{decoderFixedSize:e.fixedSize,encoderFixedSize:t.fixedSize});if(!hu(t)&&!hu(e)&&t.maxSize!==e.maxSize)throw new eo(Fke,{decoderMaxSize:e.maxSize,encoderMaxSize:t.maxSize});return{...e,...t,decode:e.decode,encode:t.encode,read:e.read,write:t.write}}function Qke(t,e,n,r=0){const i=n.length-r;if(i<e)throw new eo(Lke,{bytesLength:i,codecDescription:t,expected:e})}function eRe(t,e){return sG({fixedSize:e,write:(n,r,i)=>{const s=t.encode(n),a=s.length>e?s.slice(0,e):s;return r.set(a,i),i+e}})}function tRe(t,e){return Zke({fixedSize:e,read:(n,r)=>{Qke("fixCodecSize",e,n,r),(r>0||n.length>e)&&(n=n.slice(r,r+e)),hu(t)&&(n=Kke(n,t.fixedSize));const[i]=t.read(n,0);return[i,r+e]}})}function nRe(t,e){return sG({...Xke(t)?{...t,getSizeFromValue:n=>t.getSizeFromValue(e(n))}:t,write:(n,r,i)=>t.write(e(n),r,i)})}var rRe=361e4,iRe=3610001,sRe=3610003,aRe=3610005,oRe=3610006,cRe=3611e3;function aG(t){return Array.isArray(t)?"%5B"+t.map(aG).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function lRe([t,e]){return`${t}=${aG(e)}`}function uRe(t){const e=Object.entries(t).map(lRe).join("&");return btoa(e)}function dRe(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${uRe(e)}'`),`${n}\``}}var Kp=class extends Error{cause=this.cause;context;constructor(...[e,n]){let r,i;n&&Object.entries(Object.getOwnPropertyDescriptors(n)).forEach(([a,c])=>{a==="cause"?i={cause:c.value}:(r===void 0&&(r={__code:e}),Object.defineProperty(r,a,c))});const s=dRe(e,r);super(s,i),this.context=Object.freeze(r===void 0?{__code:e}:r),this.name="SolanaError"}};function fRe(){if(typeof globalThis.crypto>"u"||typeof globalThis.crypto.getRandomValues!="function")throw new Kp(cRe)}function HE(){if(!globalThis.isSecureContext)throw new Kp(rRe)}function hRe(){if(HE(),typeof globalThis.crypto>"u"||typeof globalThis.crypto.subtle?.digest!="function")throw new Kp(iRe)}function oG(){if(HE(),typeof globalThis.crypto>"u"||typeof globalThis.crypto.subtle?.exportKey!="function")throw new Kp(sRe)}function pRe(){if(HE(),typeof globalThis.crypto>"u"||typeof globalThis.crypto.subtle?.sign!="function")throw new Kp(aRe)}function yRe(){if(HE(),typeof globalThis.crypto>"u"||typeof globalThis.crypto.subtle?.verify!="function")throw new Kp(oRe)}var T6,I6;function mO(){return T6||(T6=tG()),T6}function mRe(){return I6||(I6=nG()),I6}function gRe(t){if(t.length<32||t.length>44)return!1;const e=mO();try{return e.encode(t).byteLength===32}catch{return!1}}function T3(t){if(t.length<32||t.length>44)throw new eo(Pke,{actualLength:t.length});const r=mO().encode(t).byteLength;if(r!==32)throw new eo(Nke,{actualLength:r})}function cG(t){return T3(t),t}function op(){return nRe(eRe(mO(),32),t=>cG(t))}function Ab(){return tRe(mRe(),32)}function bRe(){return Jke(op(),Ab())}function gO(){return new Intl.Collator("en",{caseFirst:"lower",ignorePunctuation:!1,localeMatcher:"best fit",numeric:!1,sensitivity:"variant",usage:"sort"}).compare}var wRe=37095705934669439343138083508754565189542113879843219016388785533085940283555n,Oi=57896044618658097711785492504343953926634992332820282019728792003956564819949n,hU=19681161376707505956807079304988542015446066515923890162744021073123829784752n;function fa(t){const e=t%Oi;return e>=0n?e:Oi+e}function Ao(t,e){let n=t;for(;e-- >0n;)n*=n,n%=Oi;return n}function vRe(t){const n=t*t%Oi*t%Oi,r=Ao(n,2n)*n%Oi,i=Ao(r,1n)*t%Oi,s=Ao(i,5n)*i%Oi,a=Ao(s,10n)*s%Oi,c=Ao(a,20n)*a%Oi,u=Ao(c,40n)*c%Oi,d=Ao(u,80n)*u%Oi,h=Ao(d,80n)*u%Oi,p=Ao(h,10n)*s%Oi;return Ao(p,2n)*t%Oi}function _Re(t,e){const n=fa(e*e*e),r=fa(n*n*e),i=vRe(t*r);let s=fa(t*n*i);const a=fa(e*s*s),c=s,u=fa(s*hU),d=a===t,h=a===fa(-t),p=a===fa(-t*hU);return d&&(s=c),(h||p)&&(s=u),(fa(s)&1n)===1n&&(s=fa(-s)),!d&&!h?null:s}function ERe(t,e){const n=fa(t*t),r=fa(n-1n),i=fa(wRe*n+1n),s=_Re(r,i);if(s===null)return!1;const a=(e&128)!==0;return!(s===0n&&a)}function ARe(t){const e=t.toString(16);return e.length===1?`0${e}`:e}function SRe(t){const n=`0x${t.reduce((r,i,s)=>`${ARe(s===31?i&-129:i)}${r}`,"")}`;return BigInt(n)}function xRe(t){if(t.byteLength!==32)return!1;const e=SRe(t);return ERe(e,t[31])}var pU=32,yU=16,TRe=[80,114,111,103,114,97,109,68,101,114,105,118,101,100,65,100,100,114,101,115,115];async function IRe({programAddress:t,seeds:e}){if(hRe(),e.length>yU)throw new eo(Mke,{actual:e.length,maxSeeds:yU});let n;const r=e.reduce((u,d,h)=>{const p=typeof d=="string"?(n||=new TextEncoder).encode(d):d;if(p.byteLength>pU)throw new eo(Uke,{actual:p.byteLength,index:h,maxSeedLength:pU});return u.push(...p),u},[]),i=bRe(),s=i.encode(t),a=await crypto.subtle.digest("SHA-256",new Uint8Array([...r,...s,...TRe])),c=new Uint8Array(a);if(xRe(c))throw new eo(rG);return i.decode(c)}async function CRe({programAddress:t,seeds:e}){let n=255;for(;n>0;)try{return[await IRe({programAddress:t,seeds:[...e,new Uint8Array([n])]}),n]}catch(r){if(Vke(r,rG))n--;else throw r}throw new eo(Bke)}async function lG(t){if(oG(),t.type!=="public"||t.algorithm.name!=="Ed25519")throw new eo(Dke);const e=await crypto.subtle.exportKey("raw",t);return Ab().decode(new Uint8Array(e))}var ORe=8078011;function uG(t){return Array.isArray(t)?"%5B"+t.map(uG).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function kRe([t,e]){return`${t}=${uG(e)}`}function RRe(t){const e=Object.entries(t).map(kRe).join("&");return btoa(e)}function $Re(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${RRe(e)}'`),`${n}\``}}var NRe=class extends Error{cause=this.cause;context;constructor(...[e,n]){let r,i;n&&Object.entries(Object.getOwnPropertyDescriptors(n)).forEach(([a,c])=>{a==="cause"?i={cause:c.value}:(r===void 0&&(r={__code:e}),Object.defineProperty(r,a,c))});const s=$Re(e,r);super(s,i),this.context=Object.freeze(r===void 0?{__code:e}:r),this.name="SolanaError"}};function PRe(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}function dG(t){return Object.freeze({...t,encode:e=>{const n=new Uint8Array(PRe(e,t));return t.write(e,n,0),n}})}function DRe(t){return"fixedSize"in t&&typeof t.fixedSize=="number"}function MRe(t){return!DRe(t)}function fG(t,e){return dG({...MRe(t)?{...t,getSizeFromValue:n=>t.getSizeFromValue(e(n))}:t,write:(n,r,i)=>t.write(e(n),r,i)})}var URe=8078e3,BRe=8078001,LRe=8078007,jRe=8078011,zRe=8078017;function hG(t){return Array.isArray(t)?"%5B"+t.map(hG).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function FRe([t,e]){return`${t}=${hG(e)}`}function qRe(t){const e=Object.entries(t).map(FRe).join("&");return btoa(e)}function WRe(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${qRe(e)}'`),`${n}\``}}var Sb=class extends Error{cause=this.cause;context;constructor(...[e,n]){let r,i;n&&Object.entries(Object.getOwnPropertyDescriptors(n)).forEach(([a,c])=>{a==="cause"?i={cause:c.value}:(r===void 0&&(r={__code:e}),Object.defineProperty(r,a,c))});const s=WRe(e,r);super(s,i),this.context=Object.freeze(r===void 0?{__code:e}:r),this.name="SolanaError"}};function C0(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}function yf(t){return Object.freeze({...t,encode:e=>{const n=new Uint8Array(C0(e,t));return t.write(e,n,0),n}})}function xb(t){return Object.freeze({...t,decode:(e,n=0)=>t.read(e,n)[0]})}function w_(t){return"fixedSize"in t&&typeof t.fixedSize=="number"}function HRe(t,e,n=0){if(e.length-n<=0)throw new Sb(URe,{codecDescription:t})}function VRe(t,e,n,r=0){const i=n.length-r;if(i<e)throw new Sb(BRe,{bytesLength:i,codecDescription:t,expected:e})}function GRe(t,e,n,r){if(r<e||r>n)throw new Sb(jRe,{codecDescription:t,max:n,min:e,value:r})}function pG(t){return t?.endian!==1}function KRe(t){return yf({fixedSize:t.size,write(e,n,r){t.range&&GRe(t.name,t.range[0],t.range[1],e);const i=new ArrayBuffer(t.size);return t.set(new DataView(i),e,pG(t.config)),n.set(new Uint8Array(i),r),r+t.size}})}function YRe(t){return xb({fixedSize:t.size,read(e,n=0){HRe(t.name,e,n),VRe(t.name,t.size,e,n);const r=new DataView(ZRe(e,n,t.size));return[t.get(r,pG(t.config)),n+t.size]}})}function ZRe(t,e,n){const r=t.byteOffset+(e??0),i=n??t.byteLength;return t.buffer.slice(r,r+i)}var XRe=(t={})=>KRe({config:t,name:"u32",range:[0,+"0xffffffff"],set:(e,n,r)=>e.setUint32(0,Number(n),r),size:4}),JRe=(t={})=>YRe({config:t,get:(e,n)=>e.getUint32(0,n),name:"u32",size:4});function QRe(t,e,n){if(e!==n)throw new Sb(LRe,{actual:n,codecDescription:t,expected:e})}function e4e(t){return t.reduce((e,n)=>e===null||n===null?null:Math.max(e,n),0)}function Rp(t){return t.reduce((e,n)=>e===null||n===null?null:e+n,0)}function Tb(t){return w_(t)?t.fixedSize:null}function Yp(t){return w_(t)?t.fixedSize:t.maxSize??null}function $p(t,e={}){const n=e.size??XRe(),r=v_(n,Tb(t)),i=v_(n,Yp(t))??void 0;return yf({...r!==null?{fixedSize:r}:{getSizeFromValue:s=>(typeof n=="object"?C0(s.length,n):0)+[...s].reduce((c,u)=>c+C0(u,t),0),maxSize:i},write:(s,a,c)=>(typeof n=="number"&&QRe("array",n,s.length),typeof n=="object"&&(c=n.write(s.length,a,c)),s.forEach(u=>{c=t.write(u,a,c)}),c)})}function mf(t,e={}){const n=e.size??JRe(),r=Tb(t),i=v_(n,r),s=v_(n,Yp(t))??void 0;return xb({...i!==null?{fixedSize:i}:{maxSize:s},read:(a,c)=>{const u=[];if(typeof n=="object"&&a.slice(c).length===0)return[u,c];if(n==="remainder"){for(;c<a.length;){const[p,m]=t.read(a,c);c=m,u.push(p)}return[u,c]}const[d,h]=typeof n=="number"?[n,c]:n.read(a,c);c=h;for(let p=0;p<d;p+=1){const[m,g]=t.read(a,c);c=g,u.push(m)}return[u,c]}})}function v_(t,e){return typeof t!="number"?null:t===0?0:e===null?null:e*t}function bO(){return yf({getSizeFromValue:t=>t.length,write:(t,e,n)=>(e.set(t,n),n+t.length)})}function I3(){return xb({read:(t,e)=>{const n=t.slice(e);return[n,e+n.length]}})}function t4e(t){return yf({fixedSize:t.length,write:(e,n,r)=>(n.set(t,r),r+t.length)})}function n4e(t){const e=Rp(t.map(Tb)),n=Rp(t.map(Yp))??void 0;return xb({...e===null?{maxSize:n}:{fixedSize:e},read:(r,i)=>{const s=[];return t.forEach(a=>{const[c,u]=a.read(r,i);s.push(c),i=u}),[s,i]}})}function r4e(t,e){const n=i4e(t),r=(s,a,c)=>{const u=e(s);return mU(t,u),t[u].write(s,a,c)};if(n!==null)return yf({fixedSize:n,write:r});const i=s4e(t);return yf({...i!==null?{maxSize:i}:{},getSizeFromValue:s=>{const a=e(s);return mU(t,a),C0(s,t[a])},write:r})}function mU(t,e){if(typeof t[e]>"u")throw new Sb(zRe,{maxRange:t.length-1,minRange:0,variant:e})}function i4e(t){if(t.length===0)return 0;if(!w_(t[0]))return null;const e=t[0].fixedSize;return t.every(r=>w_(r)&&r.fixedSize===e)?e:null}function s4e(t){return e4e(t.map(e=>Yp(e)))}function Fu(t){const e=t.map(([,i])=>i),n=Rp(e.map(Tb)),r=Rp(e.map(Yp))??void 0;return yf({...n===null?{getSizeFromValue:i=>t.map(([s,a])=>C0(i[s],a)).reduce((s,a)=>s+a,0),maxSize:r}:{fixedSize:n},write:(i,s,a)=>(t.forEach(([c,u])=>{a=u.write(i[c],s,a)}),a)})}function Ib(t){const e=t.map(([,i])=>i),n=Rp(e.map(Tb)),r=Rp(e.map(Yp))??void 0;return xb({...n===null?{maxSize:r}:{fixedSize:n},read:(i,s)=>{const a={};return t.forEach(([c,u])=>{const[d,h]=u.read(i,s);s=h,a[c]=d}),[a,s]}})}function a4e(t,e,n,r){if(r<e||r>n)throw new NRe(ORe,{codecDescription:t,max:n,min:e,value:r})}function o4e(t){return t?.endian!==1}function wO(t){return dG({fixedSize:t.size,write(e,n,r){t.range&&a4e(t.name,t.range[0],t.range[1],e);const i=new ArrayBuffer(t.size);return t.set(new DataView(i),e,o4e(t.config)),n.set(new Uint8Array(i),r),r+t.size}})}var dze=(t={})=>wO({config:t,name:"u32",range:[0,+"0xffffffff"],set:(e,n,r)=>e.setUint32(0,Number(n),r),size:4}),c4e=(t={})=>wO({config:t,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,n,r)=>e.setBigUint64(0,BigInt(n),r),size:8}),yG=()=>wO({name:"u8",range:[0,+"0xff"],set:(t,e)=>t.setUint8(0,Number(e)),size:1});function Of(t,...e){return e.reduce((n,r)=>r(n),t)}var _r=(t=>(t[t.WRITABLE_SIGNER=3]="WRITABLE_SIGNER",t[t.READONLY_SIGNER=2]="READONLY_SIGNER",t[t.WRITABLE=1]="WRITABLE",t[t.READONLY=0]="READONLY",t))(_r||{}),l4e=2,u4e=1;function Np(t){return t>=2}function O0(t){return(t&u4e)!==0}function gU(t,e){return t|e}function d4e(t){return t|l4e}var f4e=5663e3,bU=5663001,h4e=5663004,p4e=5663005,y4e=5663006,m4e=5663007,g4e=5663008,mG=5663021,b4e=8078e3,w4e=8078001,v4e=8078011,_4e=8078012;function gG(t){return Array.isArray(t)?"%5B"+t.map(gG).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function E4e([t,e]){return`${t}=${gG(e)}`}function A4e(t){const e=Object.entries(t).map(E4e).join("&");return btoa(e)}function S4e(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${A4e(e)}'`),`${n}\``}}var ls=class extends Error{cause=this.cause;context;constructor(...[e,n]){let r,i;n&&Object.entries(Object.getOwnPropertyDescriptors(n)).forEach(([a,c])=>{a==="cause"?i={cause:c.value}:(r===void 0&&(r={__code:e}),Object.defineProperty(r,a,c))});const s=S4e(e,r);super(s,i),this.context=Object.freeze(r===void 0?{__code:e}:r),this.name="SolanaError"}};function x4e(t){return gRe(t)}function T4e(t,e){if(t.length>=e)return t;const n=new Uint8Array(e).fill(0);return n.set(t),n}var I4e=(t,e)=>T4e(t.length<=e?t:t.slice(0,e),e);function C3(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}function hl(t){return Object.freeze({...t,encode:e=>{const n=new Uint8Array(C3(e,t));return t.write(e,n,0),n}})}function Pu(t){return Object.freeze({...t,decode:(e,n=0)=>t.read(e,n)[0]})}function Po(t){return"fixedSize"in t&&typeof t.fixedSize=="number"}function C4e(t){return!Po(t)}function O4e(t,e,n=0){if(e.length-n<=0)throw new ls(b4e,{codecDescription:t})}function vO(t,e,n,r=0){const i=n.length-r;if(i<e)throw new ls(w4e,{bytesLength:i,codecDescription:t,expected:e})}function k4e(t,e){const n=((a,c,u)=>{const d=t.encode(a);return u=e.write(d.length,c,u),c.set(d,u),u+d.length});if(Po(e)&&Po(t))return hl({...t,fixedSize:e.fixedSize+t.fixedSize,write:n});const r=Po(e)?e.fixedSize:e.maxSize??null,i=Po(t)?t.fixedSize:t.maxSize??null,s=r!==null&&i!==null?r+i:null;return hl({...t,...s!==null?{maxSize:s}:{},getSizeFromValue:a=>{const c=C3(a,t);return C3(c,e)+c},write:n})}function R4e(t,e){const n=((a,c)=>{const[u,d]=e.read(a,c),h=Number(u);return c=d,(c>0||a.length>h)&&(a=a.slice(c,c+h)),vO("addDecoderSizePrefix",h,a),[t.decode(a),c+h]});if(Po(e)&&Po(t))return Pu({...t,fixedSize:e.fixedSize+t.fixedSize,read:n});const r=Po(e)?e.fixedSize:e.maxSize??null,i=Po(t)?t.fixedSize:t.maxSize??null,s=r!==null&&i!==null?r+i:null;return Pu({...t,...s!==null?{maxSize:s}:{},read:n})}function $4e(t,e){return hl({fixedSize:e,write:(n,r,i)=>{const s=t.encode(n),a=s.length>e?s.slice(0,e):s;return r.set(a,i),i+e}})}function N4e(t,e){return Pu({fixedSize:e,read:(n,r)=>{vO("fixCodecSize",e,n,r),(r>0||n.length>e)&&(n=n.slice(r,r+e)),Po(t)&&(n=I4e(n,t.fixedSize));const[i]=t.read(n,0);return[i,r+e]}})}function bG(t,e){return hl({...C4e(t)?{...t,getSizeFromValue:n=>t.getSizeFromValue(e(n))}:t,write:(n,r,i)=>t.write(e(n),r,i)})}function wG(t,e){return Pu({...t,read:(n,r)=>{const[i,s]=t.read(n,r);return[e(i,n,r),s]}})}function vG(t,e,n,r){if(r<e||r>n)throw new ls(v4e,{codecDescription:t,max:n,min:e,value:r})}function _G(t){return t?.endian!==1}function P4e(t){return hl({fixedSize:t.size,write(e,n,r){t.range&&vG(t.name,t.range[0],t.range[1],e);const i=new ArrayBuffer(t.size);return t.set(new DataView(i),e,_G(t.config)),n.set(new Uint8Array(i),r),r+t.size}})}function D4e(t){return Pu({fixedSize:t.size,read(e,n=0){O4e(t.name,e,n),vO(t.name,t.size,e,n);const r=new DataView(M4e(e,n,t.size));return[t.get(r,_G(t.config)),n+t.size]}})}function M4e(t,e,n){const r=t.byteOffset+(e??0),i=n??t.byteLength;return t.buffer.slice(r,r+i)}var Pp=()=>hl({getSizeFromValue:t=>t<=127?1:t<=16383?2:3,maxSize:3,write:(t,e,n)=>{vG("shortU16",0,65535,t);const r=[0];for(let i=0;;i+=1){const s=Number(t)>>i*7;if(s===0)break;const a=127&s;r[i]=a,i>0&&(r[i-1]|=128)}return e.set(r,n),n+r.length}}),Dp=()=>Pu({maxSize:3,read:(t,e)=>{let n=0,r=0;for(;++r;){const i=r-1,s=t[e+i],a=127&s;if(n|=a<<i*7,(s&128)===0)break}return[n,e+r]}}),__=()=>P4e({name:"u8",range:[0,+"0xff"],set:(t,e)=>t.setUint8(0,Number(e)),size:1}),E_=()=>D4e({get:t=>t.getUint8(0),name:"u8",size:1});function U4e(t){return"lifetimeConstraint"in t&&typeof t.lifetimeConstraint.blockhash=="string"&&typeof t.lifetimeConstraint.lastValidBlockHeight=="bigint"&&x4e(t.lifetimeConstraint.blockhash)}function B4e(t,e){return"lifetimeConstraint"in e&&e.lifetimeConstraint&&"blockhash"in e.lifetimeConstraint&&e.lifetimeConstraint.blockhash===t.blockhash&&e.lifetimeConstraint.lastValidBlockHeight===t.lastValidBlockHeight?e:Object.freeze({...e,lifetimeConstraint:Object.freeze(t)})}function L4e(t,e,n=e){if(!e.match(new RegExp(`^[${t}]*$`)))throw new ls(_4e,{alphabet:t,base:t.length,value:n})}var j4e=t=>hl({getSizeFromValue:e=>{const[n,r]=wU(e,t[0]);if(!r)return e.length;const i=vU(r,t);return n.length+Math.ceil(i.toString(16).length/2)},write(e,n,r){if(L4e(t,e),e==="")return r;const[i,s]=wU(e,t[0]);if(!s)return n.set(new Uint8Array(i.length).fill(0),r),r+i.length;let a=vU(s,t);const c=[];for(;a>0n;)c.unshift(Number(a%256n)),a/=256n;const u=[...Array(i.length).fill(0),...c];return n.set(u,r),r+u.length}}),z4e=t=>Pu({read(e,n){const r=n===0?e:e.slice(n);if(r.length===0)return["",0];let i=r.findIndex(u=>u!==0);i=i===-1?r.length:i;const s=t[0].repeat(i);if(i===r.length)return[s,e.length];const a=r.slice(i).reduce((u,d)=>u*256n+BigInt(d),0n),c=F4e(a,t);return[s+c,e.length]}});function wU(t,e){const[n,r]=t.split(new RegExp(`((?!${e}).*)`));return[n,r]}function vU(t,e){const n=BigInt(e.length);let r=0n;for(const i of t)r*=n,r+=BigInt(e.indexOf(i));return r}function F4e(t,e){const n=BigInt(e.length),r=[];for(;t>0n;)r.unshift(e[Number(t%n)]),t/=n;return r.join("")}var EG="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",q4e=()=>j4e(EG),W4e=()=>z4e(EG),C6;function H4e(){if(!C6){const t=$p(__(),{size:Pp()});C6=Fu([["lookupTableAddress",op()],["writableIndexes",t],["readonlyIndexes",t]])}return C6}var O6;function V4e(){if(!O6){const t=mf(E_(),{size:Dp()});O6=Ib([["lookupTableAddress",Ab()],["writableIndexes",t],["readonlyIndexes",t]])}return O6}var k6;function R6(){return k6||(k6=__()),k6}var $6;function N6(){return $6||($6=E_()),$6}function G4e(){return Fu([["numSignerAccounts",R6()],["numReadonlySignerAccounts",R6()],["numReadonlyNonSignerAccounts",R6()]])}function K4e(){return Ib([["numSignerAccounts",N6()],["numReadonlySignerAccounts",N6()],["numReadonlyNonSignerAccounts",N6()]])}var P6;function Y4e(){return P6||(P6=bG(Fu([["programAddressIndex",__()],["accountIndices",$p(__(),{size:Pp()})],["data",k4e(bO(),Pp())]]),t=>t.accountIndices!==void 0&&t.data!==void 0?t:{...t,accountIndices:t.accountIndices??[],data:t.data??new Uint8Array(0)})),P6}var D6;function Z4e(){return D6||(D6=wG(Ib([["programAddressIndex",E_()],["accountIndices",mf(E_(),{size:Dp()})],["data",R4e(I3(),Dp())]]),t=>{if(t.accountIndices.length&&t.data.byteLength)return t;const{accountIndices:e,data:n,...r}=t;return{...r,...e.length?{accountIndices:e}:null,...n.byteLength?{data:n}:null}})),D6}var AG=0,O3=128;function X4e(){return hl({getSizeFromValue:t=>t==="legacy"?0:1,maxSize:1,write:(t,e,n)=>{if(t==="legacy")return n;if(t<0||t>127)throw new ls(h4e,{actualVersion:t});if(t>AG)throw new ls(mG,{unsupportedVersion:t});return e.set([t|O3],n),n+1}})}function SG(){return Pu({maxSize:1,read:(t,e)=>{const n=t[e];if((n&O3)===0)return["legacy",e];{const r=n^O3;if(r>AG)throw new ls(mG,{unsupportedVersion:r});return[r,e+1]}}})}function _U(){return Fu(xG())}function EU(){return bG(Fu([...xG(),["addressTableLookups",Q4e()]]),t=>t.version==="legacy"?t:{...t,addressTableLookups:t.addressTableLookups??[]})}function xG(){const t=r4e([t4e(new Uint8Array(32)),$4e(q4e(),32)],e=>e===void 0?0:1);return[["version",X4e()],["header",G4e()],["staticAccounts",$p(op(),{size:Pp()})],["lifetimeToken",t],["instructions",$p(Y4e(),{size:Pp()})]]}function J4e(){return[["version",SG()],["header",K4e()],["staticAccounts",mf(Ab(),{size:Dp()})],["lifetimeToken",N4e(W4e(),32)],["instructions",mf(Z4e(),{size:Dp()})],["addressTableLookups",e$e()]]}function Q4e(){return $p(H4e(),{size:Pp()})}function e$e(){return mf(V4e(),{size:Dp()})}function t$e(){return hl({getSizeFromValue:t=>t.version==="legacy"?_U().getSizeFromValue(t):EU().getSizeFromValue(t),write:(t,e,n)=>t.version==="legacy"?_U().write(t,e,n):EU().write(t,e,n)})}function n$e(){return wG(Ib(J4e()),({addressTableLookups:t,...e})=>e.version==="legacy"||!t?.length?e:{...e,addressTableLookups:t})}function AU(t,e,n){t[e]=n(t[e]??{role:_r.READONLY})}var mr=Symbol("AddressMapTypeProperty");function r$e(t,e){const n={[t]:{[mr]:0,role:_r.WRITABLE_SIGNER}},r=new Set;for(const i of e){AU(n,i.programAddress,a=>{if(r.add(i.programAddress),mr in a){if(O0(a.role))throw a[mr]===0?new ls(f4e,{programAddress:i.programAddress}):new ls(bU,{programAddress:i.programAddress});if(a[mr]===2)return a}return{[mr]:2,role:_r.READONLY}});let s;if(i.accounts)for(const a of i.accounts)AU(n,a.address,c=>{const{address:u,...d}=a;if(mr in c)switch(c[mr]){case 0:return c;case 1:{const h=gU(c.role,d.role);if("lookupTableAddress"in d){if(c.lookupTableAddress!==d.lookupTableAddress&&(s||=gO())(d.lookupTableAddress,c.lookupTableAddress)<0)return{[mr]:1,...d,role:h}}else if(Np(d.role))return{[mr]:2,role:h};return c.role!==h?{...c,role:h}:c}case 2:{const h=gU(c.role,d.role);if(r.has(a.address)){if(O0(d.role))throw new ls(bU,{programAddress:a.address});return c.role!==h?{...c,role:h}:c}else return"lookupTableAddress"in d&&!Np(c.role)?{...d,[mr]:1,role:h}:c.role!==h?{...c,role:h}:c}}return"lookupTableAddress"in d?{...d,[mr]:1}:{...d,[mr]:2}})}return n}function i$e(t){let e;return Object.entries(t).sort(([r,i],[s,a])=>{if(i[mr]!==a[mr]){if(i[mr]===0)return-1;if(a[mr]===0)return 1;if(i[mr]===2)return-1;if(a[mr]===2)return 1}const c=Np(i.role);if(c!==Np(a.role))return c?-1:1;const u=O0(i.role);return u!==O0(a.role)?u?-1:1:(e||=gO(),i[mr]===1&&a[mr]===1&&i.lookupTableAddress!==a.lookupTableAddress?e(i.lookupTableAddress,a.lookupTableAddress):e(r,s))}).map(([r,i])=>({address:r,...i}))}function s$e(t){const e={};for(const n of t){if(!("lookupTableAddress"in n))continue;const r=e[n.lookupTableAddress]||={readonlyIndexes:[],writableIndexes:[]};n.role===_r.WRITABLE?r.writableIndexes.push(n.addressIndex):r.readonlyIndexes.push(n.addressIndex)}return Object.keys(e).sort(gO()).map(n=>({lookupTableAddress:n,...e[n]}))}function a$e(t){let e=0,n=0,r=0;for(const i of t){if("lookupTableAddress"in i)break;const s=O0(i.role);Np(i.role)?(r++,s||n++):s||e++}return{numReadonlyNonSignerAccounts:e,numReadonlySignerAccounts:n,numSignerAccounts:r}}function o$e(t){const e={};for(const[n,r]of t.entries())e[r.address]=n;return e}function c$e(t,e){const n=o$e(e);return t.map(({accounts:r,data:i,programAddress:s})=>({programAddressIndex:n[s],...r?{accountIndices:r.map(({address:a})=>n[a])}:null,...i?{data:i}:null}))}function l$e(t){return"nonce"in t?t.nonce:t.blockhash}function u$e(t){const e=t.findIndex(r=>"lookupTableAddress"in r);return(e===-1?t:t.slice(0,e)).map(({address:r})=>r)}function d$e(t){const e=r$e(t.feePayer.address,t.instructions),n=i$e(e),r=t.lifetimeConstraint;return{...t.version!=="legacy"?{addressTableLookups:s$e(n)}:null,...r?{lifetimeToken:l$e(r)}:null,header:a$e(n),instructions:c$e(t.instructions,n),staticAccounts:u$e(n),version:t.version}}function f$e(t){return Object.freeze({instructions:Object.freeze([]),version:t.version})}var TG="SysvarRecentB1ockHashes11111111111111111111",IG="11111111111111111111111111111111";function SU(t,e){return{accounts:[{address:t,role:_r.WRITABLE},{address:TG,role:_r.READONLY},{address:e,role:_r.READONLY_SIGNER}],data:new Uint8Array([4,0,0,0]),programAddress:IG}}function _O(t){return t.programAddress===IG&&t.data!=null&&h$e(t.data)&&t.accounts?.length===3&&t.accounts[0].address!=null&&t.accounts[0].role===_r.WRITABLE&&t.accounts[1].address===TG&&t.accounts[1].role===_r.READONLY&&t.accounts[2].address!=null&&Np(t.accounts[2].role)}function h$e(t){return t.byteLength===4&&t[0]===4&&t[1]===0&&t[2]===0&&t[3]===0}function CG(t){return"lifetimeConstraint"in t&&typeof t.lifetimeConstraint.nonce=="string"&&t.instructions[0]!=null&&_O(t.instructions[0])}function p$e(t,e,n){return t.accounts[0].address===e&&t.accounts[2].address===n}function y$e({nonce:t,nonceAccountAddress:e,nonceAuthorityAddress:n},r){let i;const s=r.instructions[0];if(s&&_O(s))if(p$e(s,e,n)){if(CG(r)&&r.lifetimeConstraint.nonce===t)return r;i=[s,...r.instructions.slice(1)]}else i=[Object.freeze(SU(e,n)),...r.instructions.slice(1)];else i=[Object.freeze(SU(e,n)),...r.instructions];return Object.freeze({...r,instructions:Object.freeze(i),lifetimeConstraint:Object.freeze({nonce:t})})}function m$e(t,e){if("feePayer"in e&&t===e.feePayer?.address&&g$e(e.feePayer))return e;const n={...e,feePayer:Object.freeze({address:t})};return Object.freeze(n),n}function g$e(t){return!!t&&"address"in t&&typeof t.address=="string"&&Object.keys(t).length===1}function b$e(t,e){return w$e([t],e)}function w$e(t,e){return Object.freeze({...e,instructions:Object.freeze([...e.instructions,...t])})}function v$e(t){const{header:e}=t,n=e.numSignerAccounts-e.numReadonlySignerAccounts,r=t.staticAccounts.length-e.numSignerAccounts-e.numReadonlyNonSignerAccounts,i=[];let s=0;for(let a=0;a<n;a++)i.push({address:t.staticAccounts[s],role:_r.WRITABLE_SIGNER}),s++;for(let a=0;a<e.numReadonlySignerAccounts;a++)i.push({address:t.staticAccounts[s],role:_r.READONLY_SIGNER}),s++;for(let a=0;a<r;a++)i.push({address:t.staticAccounts[s],role:_r.WRITABLE}),s++;for(let a=0;a<e.numReadonlyNonSignerAccounts;a++)i.push({address:t.staticAccounts[s],role:_r.READONLY}),s++;return i}function _$e(t,e){const r=t.map(a=>a.lookupTableAddress).filter(a=>e[a]===void 0);if(r.length>0)throw new ls(p4e,{lookupTableAddresses:r});const i=[],s=[];for(const a of t){const c=e[a.lookupTableAddress],u=a.readonlyIndexes,d=a.writableIndexes,h=Math.max(...u,...d);if(h>=c.length)throw new ls(y4e,{highestKnownIndex:c.length-1,highestRequestedIndex:h,lookupTableAddress:a.lookupTableAddress});const p=u.map(g=>({address:c[g],addressIndex:g,lookupTableAddress:a.lookupTableAddress,role:_r.READONLY}));i.push(...p);const m=d.map(g=>({address:c[g],addressIndex:g,lookupTableAddress:a.lookupTableAddress,role:_r.WRITABLE}));s.push(...m)}return[...s,...i]}function E$e(t,e){const n=e[t.programAddressIndex]?.address;if(!n)throw new ls(m4e,{index:t.programAddressIndex});const r=t.accountIndices?.map(s=>e[s]),{data:i}=t;return Object.freeze({programAddress:n,...r&&r.length?{accounts:Object.freeze(r)}:{},...i&&i.length?{data:i}:{}})}function A$e(t,e,n){if(!e||!_O(e))return{blockhash:t,lastValidBlockHeight:2n**64n-1n};{const r=e.accounts[0].address;T3(r);const i=e.accounts[2].address;return T3(i),{nonce:t,nonceAccountAddress:r,nonceAuthorityAddress:i}}}function hze(t,e){const n=t.staticAccounts[0];if(!n)throw new ls(g4e);const r=v$e(t),i="addressTableLookups"in t&&t.addressTableLookups!==void 0&&t.addressTableLookups.length>0?_$e(t.addressTableLookups,{}):[],s=[...r,...i],a=t.instructions.map(d=>E$e(d,s)),c=a[0],u=A$e(t.lifetimeToken,c);return Of(f$e({version:t.version}),d=>m$e(n,d),d=>a.reduce((h,p)=>b$e(p,h),d),d=>"blockhash"in u?B4e(u,d):y$e(u,d))}var S$e=5663015,x$e=5663016,T$e=5663017,I$e=8078e3,C$e=8078001,O$e=8078011,k$e=8078013,R$e=8078014;function OG(t){return Array.isArray(t)?"%5B"+t.map(OG).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function $$e([t,e]){return`${t}=${OG(e)}`}function N$e(t){const e=Object.entries(t).map($$e).join("&");return btoa(e)}function P$e(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${N$e(e)}'`),`${n}\``}}var qu=class extends Error{cause=this.cause;context;constructor(...[e,n]){let r,i;n&&Object.entries(Object.getOwnPropertyDescriptors(n)).forEach(([a,c])=>{a==="cause"?i={cause:c.value}:(r===void 0&&(r={__code:e}),Object.defineProperty(r,a,c))});const s=P$e(e,r);super(s,i),this.context=Object.freeze(r===void 0?{__code:e}:r),this.name="SolanaError"}};function D$e(t,e){if(t.length>=e)return t;const n=new Uint8Array(e).fill(0);return n.set(t),n}var M$e=(t,e)=>D$e(t.length<=e?t:t.slice(0,e),e);function U$e(t,e){return t.length===e.length&&t.every((n,r)=>n===e[r])}function B$e(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}function EO(t){return Object.freeze({...t,encode:e=>{const n=new Uint8Array(B$e(e,t));return t.write(e,n,0),n}})}function Zp(t){return Object.freeze({...t,decode:(e,n=0)=>t.read(e,n)[0]})}function AO(t){return"fixedSize"in t&&typeof t.fixedSize=="number"}function L$e(t){return!AO(t)}function j$e(t,e,n=0){if(e.length-n<=0)throw new qu(I$e,{codecDescription:t})}function kG(t,e,n,r=0){const i=n.length-r;if(i<e)throw new qu(C$e,{bytesLength:i,codecDescription:t,expected:e})}function xU(t,e,n){if(e<0||e>n)throw new qu(R$e,{bytesLength:n,codecDescription:t,offset:e})}function z$e(t,e){return EO({fixedSize:e,write:(n,r,i)=>{const s=t.encode(n),a=s.length>e?s.slice(0,e):s;return r.set(a,i),i+e}})}function F$e(t,e){return Zp({fixedSize:e,read:(n,r)=>{kG("fixCodecSize",e,n,r),(r>0||n.length>e)&&(n=n.slice(r,r+e)),AO(t)&&(n=M$e(n,t.fixedSize));const[i]=t.read(n,0);return[i,r+e]}})}function q$e(t,e){return Zp({...t,read:(n,r)=>{const i=d=>W$e(d,n.length),s=e.preOffset?e.preOffset({bytes:n,preOffset:r,wrapBytes:i}):r;xU("offsetDecoder",s,n.length);const[a,c]=t.read(n,s),u=e.postOffset?e.postOffset({bytes:n,newPreOffset:s,postOffset:c,preOffset:r,wrapBytes:i}):c;return xU("offsetDecoder",u,n.length),[a,u]}})}function W$e(t,e){return e===0?0:(t%e+e)%e}function H$e(t,e){if(AO(t)){const n=e(t.fixedSize);if(n<0)throw new qu(k$e,{bytesLength:n,codecDescription:"resizeDecoder"});return Zp({...t,fixedSize:n})}return t}function V$e(t,e){return q$e(H$e(t,n=>n+e),{postOffset:({postOffset:n})=>n+e})}function G$e(t,e){return EO({...L$e(t)?{...t,getSizeFromValue:n=>t.getSizeFromValue(e(n))}:t,write:(n,r,i)=>t.write(e(n),r,i)})}function K$e(t,e){return Zp({...t,read:(n,r)=>{const[i,s]=t.read(n,r);return[e(i,n,r),s]}})}function Y$e(t,e,n,r){if(r<e||r>n)throw new qu(O$e,{codecDescription:t,max:n,min:e,value:r})}function Z$e(t){return t?.endian!==1}function X$e(t){return Zp({fixedSize:t.size,read(e,n=0){j$e(t.name,e,n),kG(t.name,t.size,e,n);const r=new DataView(J$e(e,n,t.size));return[t.get(r,Z$e(t.config)),n+t.size]}})}function J$e(t,e,n){const r=t.byteOffset+(e??0),i=n??t.byteLength;return t.buffer.slice(r,r+i)}var Q$e=()=>EO({getSizeFromValue:t=>t<=127?1:t<=16383?2:3,maxSize:3,write:(t,e,n)=>{Y$e("shortU16",0,65535,t);const r=[0];for(let i=0;;i+=1){const s=Number(t)>>i*7;if(s===0)break;const a=127&s;r[i]=a,i>0&&(r[i-1]|=128)}return e.set(r,n),n+r.length}}),RG=()=>Zp({maxSize:3,read:(t,e)=>{let n=0,r=0;for(;++r;){const i=r-1,s=t[e+i],a=127&s;if(n|=a<<i*7,(s&128)===0)break}return[n,e+r]}}),eNe=()=>X$e({get:t=>t.getUint8(0),name:"u8",size:1}),tNe=3610007,nNe=3704e3,rNe=3704001,iNe=3704004;function $G(t){return Array.isArray(t)?"%5B"+t.map($G).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function sNe([t,e]){return`${t}=${$G(e)}`}function aNe(t){const e=Object.entries(t).map(sNe).join("&");return btoa(e)}function oNe(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${aNe(e)}'`),`${n}\``}}var A_=class extends Error{cause=this.cause;context;constructor(...[e,n]){let r,i;n&&Object.entries(Object.getOwnPropertyDescriptors(n)).forEach(([a,c])=>{a==="cause"?i={cause:c.value}:(r===void 0&&(r={__code:e}),Object.defineProperty(r,a,c))});const s=oNe(e,r);super(s,i),this.context=Object.freeze(r===void 0?{__code:e}:r),this.name="SolanaError"}},VE=Object.freeze({name:"Ed25519"});function cNe(t){return new Uint8Array([48,46,2,1,0,48,5,6,3,43,101,112,4,34,4,32,...t])}async function k3(t,e=!1){const n=t.byteLength;if(n!==32)throw new A_(rNe,{actualLength:n});const r=cNe(t);return await crypto.subtle.importKey("pkcs8",r,VE,e,["sign"])}async function lNe(t,e=!1){if(oG(),t.extractable===!1)throw new A_(tNe,{key:t});const n=await crypto.subtle.exportKey("jwk",t);return await crypto.subtle.importKey("jwk",{crv:"Ed25519",ext:e,key_ops:["verify"],kty:"OKP",x:n.x},"Ed25519",e,["verify"])}async function SO(t,e){pRe();const n=await crypto.subtle.sign(VE,t,e);return new Uint8Array(n)}async function uNe(t,e,n){return yRe(),await crypto.subtle.verify(VE,t,e,n)}async function dNe(t,e=!1){if(fRe(),t.byteLength!==64)throw new A_(nNe,{byteLength:t.byteLength});const[n,r]=await Promise.all([crypto.subtle.importKey("raw",t.slice(32),VE,!0,["verify"]),k3(t.slice(0,32),e)]),i=new Uint8Array(32);crypto.getRandomValues(i);const s=await SO(r,i);if(!await uNe(n,s,i))throw new A_(iNe);return{privateKey:r,publicKey:n}}async function fNe(t,e=!1){const n=k3(t,e),[r,i]=await Promise.all([(e?n:k3(t,!0)).then(async s=>await lNe(s,!0)),n]);return{privateKey:i,publicKey:r}}function hNe(t){const e=Object.values(t);if(e.length===0)throw new qu(x$e);return e.map(n=>n||new Uint8Array(64).fill(0))}function pNe(){return G$e($p(z$e(bO(),64),{size:Q$e()}),hNe)}function NG(){return Fu([["signatures",pNe()],["messageBytes",bO()]])}function xO(){return K$e(Ib([["signatures",mf(F$e(I3(),64),{size:RG()})],["messageBytes",I3()]]),yNe)}function yNe(t){const{messageBytes:e,signatures:n}=t,r=n4e([SG(),V$e(eNe(),2),mf(Ab(),{size:RG()})]),[i,s,a]=r.decode(e),c=a.slice(0,s);if(c.length!==n.length)throw new qu(T$e,{numRequiredSignatures:s,signaturesLength:n.length,signerAddresses:c});const u={};return c.forEach((d,h)=>{const p=n[h];p.every(m=>m===0)?u[d]=null:u[d]=p}),{messageBytes:e,signatures:Object.freeze(u)}}function mze(t){const e=d$e(t),n=t$e().encode(e),r=e.staticAccounts.slice(0,e.header.numSignerAccounts),i={};for(const a of r)i[a]=null;let s;return U4e(t)?s={blockhash:t.lifetimeConstraint.blockhash,lastValidBlockHeight:t.lifetimeConstraint.lastValidBlockHeight}:CG(t)&&(s={nonce:t.lifetimeConstraint.nonce,nonceAccountAddress:t.instructions[0].accounts[0].address}),Object.freeze({...s?{lifetimeConstraint:s}:void 0,messageBytes:n,signatures:Object.freeze(i)})}async function mNe(t,e){let n,r;if(await Promise.all(t.map(async i=>{const s=await lG(i.publicKey),a=e.signatures[s];if(a===void 0){r||=new Set,r.add(s);return}if(r)return;const c=await SO(i.privateKey,e.messageBytes);a!==null&&U$e(c,a)||(n||={},n[s]=c)})),r&&r.size>0){const i=Object.keys(e.signatures);throw new qu(S$e,{expectedAddresses:i,unexpectedAddresses:[...r]})}return n?Object.freeze({...e,signatures:Object.freeze({...e.signatures,...n})}):e}function gNe(t){const e=NG().encode(t);return yO().decode(e)}function TU(t){return t!==null&&(typeof t=="object"||typeof t=="function")}function bNe(t){const e=new Set,n={deferreds:e,settled:!1};return Promise.resolve(t).then(r=>{for(const{resolve:i}of e)i(r);e.clear(),n.settled=!0},r=>{for(const{reject:i}of e)i(r);e.clear(),n.settled=!0}),n}var M6=new WeakMap;async function wNe(t){let e;return await new Promise((r,i)=>{e={reject:i,resolve:r};for(const s of t){if(!TU(s)){Promise.resolve(s).then(r,i);continue}let a=M6.get(s);a===void 0?(a=bNe(s),a.deferreds.add(e),M6.set(s,a)):a.settled?Promise.resolve(s).then(r,i):a.deferreds.add(e)}}).finally(()=>{for(const r of t)TU(r)&&M6.get(r).deferreds.delete(e)})}var vNe=8100003;function PG(t){return Array.isArray(t)?"%5B"+t.map(PG).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function _Ne([t,e]){return`${t}=${PG(e)}`}function ENe(t){const e=Object.entries(t).map(_Ne).join("&");return btoa(e)}function ANe(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${ENe(e)}'`),`${n}\``}}var SNe=class extends Error{cause=this.cause;context;constructor(...[e,n]){let r,i;n&&Object.entries(Object.getOwnPropertyDescriptors(n)).forEach(([a,c])=>{a==="cause"?i={cause:c.value}:(r===void 0&&(r={__code:e}),Object.defineProperty(r,a,c))});const s=ANe(e,r);super(s,i),this.context=Object.freeze(r===void 0?{__code:e}:r),this.name="SolanaError"}};function DG(t){return JSON.parse(xNe(t),(e,n)=>ONe(n)?CNe(n):n)}function xNe(t){const e=[];let n=!1;for(let r=0;r<t.length;r++){let i=!1;if(t[r]==="\\"&&(e.push(t[r++]),i=!i),t[r]==='"'){e.push(t[r]),i||(n=!n);continue}if(!n){const s=TNe(t,r);if(s?.length){r+=s.length-1,s.match(/\.|[eE]-/)?e.push(s):e.push(INe(s));continue}}e.push(t[r])}return e.join("")}function TNe(t,e){const n=/^-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?/;if(!t[e]?.match(/[-\d]/))return null;const r=t.slice(e).match(n);return r?r[0]:null}function INe(t){return`{"$n":"${t}"}`}function CNe({$n:t}){if(t.match(/[eE]/)){const[e,n]=t.split(/[eE]/);return BigInt(e)*BigInt(10)**BigInt(n)}return BigInt(t)}function ONe(t){return!!t&&typeof t=="object"&&"$n"in t&&typeof t.$n=="string"}var IU=0n;function kNe(){const t=IU;return IU++,t.toString()}function R3(t){return{id:kNe(),jsonrpc:"2.0",method:t.methodName,params:t.params}}function MG(t,e){return $Ne(JSON.stringify(t,(n,r)=>typeof r=="bigint"?RNe(r):r,e))}function RNe(t){return{$n:`${t}`}}function $Ne(t){return t.replace(/\{\s*"\$n"\s*:\s*"(-?\d+)"\s*\}/g,"$1")}function NNe(t){return PNe(t)}function PNe(t){return new Proxy(t.api,{defineProperty(){return!1},deleteProperty(){return!1},get(e,n,r){if(n!=="then")return function(...i){const s=n.toString(),a=Reflect.get(e,s,r);if(!a)throw new SNe(vNe,{method:s,params:i});const c=a(...i);return DNe(t,c)}}})}function DNe({transport:t},e){return{async send(n){return await e.execute({signal:n?.abortSignal,transport:t})}}}function MNe(t){return new Proxy({},{defineProperty(){return!1},deleteProperty(){return!1},get(...e){const[n,r]=e,i=r.toString();return function(...s){const a=Object.freeze({methodName:i,params:s}),c=t?.requestTransformer?t?.requestTransformer(a):a;return Object.freeze({execute:async({signal:u,transport:d})=>{const h=R3(c),p=await d({payload:h,signal:u});return t?.responseTransformer?t.responseTransformer(p,c):p}})}}})}function UG(t){return t==null||typeof t!="object"||Array.isArray(t)?!1:"jsonrpc"in t&&t.jsonrpc==="2.0"&&"method"in t&&typeof t.method=="string"&&"params"in t}var UNe=10,BNe=-32700,LNe=-32603,jNe=-32602,zNe=-32601,FNe=-32600,qNe=-32015,WNe=-32014,HNe=-32012,VNe=-32010,GNe=-32009,KNe=-32007,YNe=-32006,ZNe=-32004,CU=-32002,XNe=-32001,JNe=4615e3,QNe=4615026,ePe=705e4,tPe=7050030,nPe=7050031,rPe=7050035;function BG(t){return Array.isArray(t)?"%5B"+t.map(BG).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function iPe([t,e]){return`${t}=${BG(e)}`}function sPe(t){const e=Object.entries(t).map(iPe).join("&");return btoa(e)}function aPe(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${sPe(e)}'`),`${n}\``}}var s1=class extends Error{cause=this.cause;context;constructor(...[e,n]){let r,i;n&&Object.entries(Object.getOwnPropertyDescriptors(n)).forEach(([a,c])=>{a==="cause"?i={cause:c.value}:(r===void 0&&(r={__code:e}),Object.defineProperty(r,a,c))});const s=aPe(e,r);super(s,i),this.context=Object.freeze(r===void 0?{__code:e}:r),this.name="SolanaError"}};function LG(...t){"captureStackTrace"in Error&&typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(...t)}function jG({errorCodeBaseOffset:t,getErrorContext:e,orderedErrorNames:n,rpcEnumError:r},i){let s,a;typeof r=="string"?s=r:(s=Object.keys(r)[0],a=r[s]);const c=n.indexOf(s),u=t+c,d=e(u,s,a),h=new s1(u,d);return LG(h,i),h}var oPe=["GenericError","InvalidArgument","InvalidInstructionData","InvalidAccountData","AccountDataTooSmall","InsufficientFunds","IncorrectProgramId","MissingRequiredSignature","AccountAlreadyInitialized","UninitializedAccount","UnbalancedInstruction","ModifiedProgramId","ExternalAccountLamportSpend","ExternalAccountDataModified","ReadonlyLamportChange","ReadonlyDataModified","DuplicateAccountIndex","ExecutableModified","RentEpochModified","NotEnoughAccountKeys","AccountDataSizeChanged","AccountNotExecutable","AccountBorrowFailed","AccountBorrowOutstanding","DuplicateAccountOutOfSync","Custom","InvalidError","ExecutableDataModified","ExecutableLamportChange","ExecutableAccountNotRentExempt","UnsupportedProgramId","CallDepth","MissingAccount","ReentrancyNotAllowed","MaxSeedLengthExceeded","InvalidSeeds","InvalidRealloc","ComputationalBudgetExceeded","PrivilegeEscalation","ProgramEnvironmentSetupFailure","ProgramFailedToComplete","ProgramFailedToCompile","Immutable","IncorrectAuthority","BorshIoError","AccountNotRentExempt","InvalidAccountOwner","ArithmeticOverflow","UnsupportedSysvar","IllegalOwner","MaxAccountsDataAllocationsExceeded","MaxAccountsExceeded","MaxInstructionTraceLengthExceeded","BuiltinProgramsMustConsumeComputeUnits"];function zG(t,e){const n=Number(t);return jG({errorCodeBaseOffset:4615001,getErrorContext(r,i,s){return r===JNe?{errorName:i,index:n,...s!==void 0?{instructionErrorContext:s}:null}:r===QNe?{code:Number(s),index:n}:{index:n}},orderedErrorNames:oPe,rpcEnumError:e},zG)}var cPe=["AccountInUse","AccountLoadedTwice","AccountNotFound","ProgramAccountNotFound","InsufficientFundsForFee","InvalidAccountForFee","AlreadyProcessed","BlockhashNotFound","CallChainTooDeep","MissingSignatureForFee","InvalidAccountIndex","SignatureFailure","InvalidProgramForExecution","SanitizeFailure","ClusterMaintenance","AccountBorrowOutstanding","WouldExceedMaxBlockCostLimit","UnsupportedVersion","InvalidWritableAccount","WouldExceedMaxAccountCostLimit","WouldExceedAccountDataBlockLimit","TooManyAccountLocks","AddressLookupTableNotFound","InvalidAddressLookupTableOwner","InvalidAddressLookupTableData","InvalidAddressLookupTableIndex","InvalidRentPayingAccount","WouldExceedMaxVoteCostLimit","WouldExceedAccountDataTotalLimit","DuplicateInstruction","InsufficientFundsForRent","MaxLoadedAccountsDataSizeExceeded","InvalidLoadedAccountsDataSizeLimit","ResanitizationNeeded","ProgramExecutionTemporarilyRestricted","UnbalancedTransaction"];function FG(t){return typeof t=="object"&&"InstructionError"in t?zG(...t.InstructionError):jG({errorCodeBaseOffset:7050001,getErrorContext(e,n,r){if(e===ePe)return{errorName:n,...r!==void 0?{transactionErrorContext:r}:null};if(e===tPe)return{index:Number(r)};if(e===nPe||e===rPe)return{accountIndex:Number(r.account_index)}},orderedErrorNames:cPe,rpcEnumError:t},FG)}function qG(t){let e;if(lPe(t)){const{code:n,data:r,message:i}=t,s=Number(n);if(s===CU){const{err:a,...c}=r,u=a?{cause:FG(a)}:null;e=new s1(CU,{...c,...u})}else{let a;switch(s){case LNe:case jNe:case FNe:case zNe:case BNe:case HNe:case XNe:case ZNe:case WNe:case VNe:case GNe:case KNe:case YNe:case qNe:a={__serverMessage:i};break;default:typeof r=="object"&&!Array.isArray(r)&&(a=r)}e=new s1(s,a)}}else{const n=typeof t=="object"&&t!==null&&"message"in t&&typeof t.message=="string"?t.message:"Malformed JSON-RPC error with no message attribute";e=new s1(UNe,{error:t,message:n})}return LG(e,qG),e}function lPe(t){return typeof t=="object"&&t!==null&&"code"in t&&"message"in t&&(typeof t.code=="number"||typeof t.code=="bigint")&&typeof t.message=="string"}function uPe(t){return typeof t=="bigint"?Number(t):t}var Me={};function WG(t){return function e(n,r){if(Array.isArray(n))return n.map((i,s)=>{const a={...r,keyPath:[...r.keyPath,s]};return e(i,a)});if(typeof n=="object"&&n!==null){const i={};for(const s in n){if(!Object.prototype.hasOwnProperty.call(n,s))continue;const a={...r,keyPath:[...r.keyPath,s]};i[s]=e(n[s],a)}return i}else return t.reduce((i,s)=>s(i,r),n)}}function HG(t,e){return n=>{const r=WG(t);return Object.freeze({...n,params:r(n.params,e)})}}function dPe(t,e){return n=>WG(t)(n,e)}function fPe(){return HG([uPe],{keyPath:[]})}function hPe({commitmentPropertyName:t,params:e,optionsObjectPositionInParams:n,overrideCommitment:r}){const i=e[n];if(i===void 0||i&&typeof i=="object"&&!Array.isArray(i)){if(i&&t in i){if(!i[t]||i[t]==="finalized"){const s=[...e],{[t]:a,...c}=i;return Object.keys(c).length>0?s[n]=c:n===s.length-1?s.length--:s[n]=void 0,s}}else if(r!=="finalized"){const s=[...e];return s[n]={...i,[t]:r},s}}return e}function pPe({defaultCommitment:t,optionsObjectPositionByMethod:e}){return n=>{const{params:r,methodName:i}=n;if(!Array.isArray(r))return n;const s=e[i];return s==null?n:Object.freeze({methodName:i,params:hPe({commitmentPropertyName:i==="sendTransaction"?"preflightCommitment":"commitment",optionsObjectPositionInParams:s,overrideCommitment:t,params:r})})}}function yPe(t){return(e,{keyPath:n})=>(typeof e=="bigint"&&t&&(e>Number.MAX_SAFE_INTEGER||e<-Number.MAX_SAFE_INTEGER)&&t(n,e),e)}function mPe(t){return e=>HG([yPe((...r)=>t(e,...r))],{keyPath:[]})(e)}var gPe={accountNotifications:1,blockNotifications:1,getAccountInfo:1,getBalance:1,getBlock:1,getBlockHeight:0,getBlockProduction:0,getBlocks:2,getBlocksWithLimit:2,getEpochInfo:0,getFeeForMessage:1,getInflationGovernor:0,getInflationReward:1,getLargestAccounts:0,getLatestBlockhash:0,getLeaderSchedule:1,getMinimumBalanceForRentExemption:1,getMultipleAccounts:1,getProgramAccounts:1,getSignaturesForAddress:1,getSlot:0,getSlotLeader:0,getStakeMinimumDelegation:0,getSupply:0,getTokenAccountBalance:1,getTokenAccountsByDelegate:2,getTokenAccountsByOwner:2,getTokenLargestAccounts:1,getTokenSupply:1,getTransaction:1,getTransactionCount:0,getVoteAccounts:0,isBlockhashValid:1,logsNotifications:1,programNotifications:1,requestAirdrop:2,sendTransaction:1,signatureNotifications:1,simulateTransaction:1};function VG(t){const e=t?.onIntegerOverflow;return n=>Of(n,e?mPe(e):r=>r,fPe(),pPe({defaultCommitment:t?.defaultCommitment,optionsObjectPositionByMethod:gPe}))}function bPe(t){return function(n,{keyPath:r}){return typeof n=="number"&&Number.isInteger(n)||typeof n=="bigint"?wPe(r,t)?Number(n):BigInt(n):n}}function wPe(t,e){return e.some(n=>{if(n.length!==t.length)return!1;for(let r=t.length-1;r>=0;r--){const i=t[r],s=n[r];if(s!==i&&(s!==Me||typeof i!="number"))return!1}return!0})}function GG(t){return dPe([bPe(t)],{keyPath:[]})}function vPe(){return t=>t.result}function _Pe(){return t=>{const e=t;if("error"in e)throw qG(e.error);return e}}function EPe(t){return(e,n)=>{const r=n.methodName,i=t?.allowedNumericKeyPaths&&r?t.allowedNumericKeyPaths[r]:void 0;return Of(e,s=>_Pe()(s,n),s=>vPe()(s,n),s=>GG(i??[])(s,n))}}function APe(t){return(e,n)=>{const r=n.methodName,i=t?.allowedNumericKeyPaths&&r?t.allowedNumericKeyPaths[r]:void 0;return Of(e,s=>GG(i??[])(s,n))}}var $3=[["data","parsed","info","tokenAmount","decimals"],["data","parsed","info","tokenAmount","uiAmount"],["data","parsed","info","rentExemptReserve","decimals"],["data","parsed","info","rentExemptReserve","uiAmount"],["data","parsed","info","delegatedAmount","decimals"],["data","parsed","info","delegatedAmount","uiAmount"],["data","parsed","info","extensions",Me,"state","olderTransferFee","transferFeeBasisPoints"],["data","parsed","info","extensions",Me,"state","newerTransferFee","transferFeeBasisPoints"],["data","parsed","info","extensions",Me,"state","preUpdateAverageRate"],["data","parsed","info","extensions",Me,"state","currentRate"]],Vh=[...$3,["data","parsed","info","lastExtendedSlotStartIndex"],["data","parsed","info","slashPenalty"],["data","parsed","info","warmupCooldownRate"],["data","parsed","info","decimals"],["data","parsed","info","numRequiredSigners"],["data","parsed","info","numValidSigners"],["data","parsed","info","stake","delegation","warmupCooldownRate"],["data","parsed","info","exemptionThreshold"],["data","parsed","info","burnPercent"],["data","parsed","info","commission"],["data","parsed","info","votes",Me,"confirmationCount"]],U6=[["index"],["instructions",Me,"accounts",Me],["instructions",Me,"programIdIndex"],["instructions",Me,"stackHeight"]],OU=[["addressTableLookups",Me,"writableIndexes",Me],["addressTableLookups",Me,"readonlyIndexes",Me],["header","numReadonlySignedAccounts"],["header","numReadonlyUnsignedAccounts"],["header","numRequiredSignatures"],["instructions",Me,"accounts",Me],["instructions",Me,"programIdIndex"],["instructions",Me,"stackHeight"]];function SPe(t){return MNe({requestTransformer:VG(t),responseTransformer:EPe({allowedNumericKeyPaths:xPe()})})}var B6;function xPe(){return B6||(B6={getAccountInfo:Vh.map(t=>["value",...t]),getBlock:[["transactions",Me,"meta","preTokenBalances",Me,"accountIndex"],["transactions",Me,"meta","preTokenBalances",Me,"uiTokenAmount","decimals"],["transactions",Me,"meta","postTokenBalances",Me,"accountIndex"],["transactions",Me,"meta","postTokenBalances",Me,"uiTokenAmount","decimals"],["transactions",Me,"meta","rewards",Me,"commission"],...U6.map(t=>["transactions",Me,"meta","innerInstructions",Me,...t]),...OU.map(t=>["transactions",Me,"transaction","message",...t]),["rewards",Me,"commission"]],getClusterNodes:[[Me,"featureSet"],[Me,"shredVersion"]],getInflationGovernor:[["initial"],["foundation"],["foundationTerm"],["taper"],["terminal"]],getInflationRate:[["foundation"],["total"],["validator"]],getInflationReward:[[Me,"commission"]],getMultipleAccounts:Vh.map(t=>["value",Me,...t]),getProgramAccounts:Vh.flatMap(t=>[["value",Me,"account",...t],[Me,"account",...t]]),getRecentPerformanceSamples:[[Me,"samplePeriodSecs"]],getTokenAccountBalance:[["value","decimals"],["value","uiAmount"]],getTokenAccountsByDelegate:$3.map(t=>["value",Me,"account",...t]),getTokenAccountsByOwner:$3.map(t=>["value",Me,"account",...t]),getTokenLargestAccounts:[["value",Me,"decimals"],["value",Me,"uiAmount"]],getTokenSupply:[["value","decimals"],["value","uiAmount"]],getTransaction:[["meta","preTokenBalances",Me,"accountIndex"],["meta","preTokenBalances",Me,"uiTokenAmount","decimals"],["meta","postTokenBalances",Me,"accountIndex"],["meta","postTokenBalances",Me,"uiTokenAmount","decimals"],["meta","rewards",Me,"commission"],...U6.map(t=>["meta","innerInstructions",Me,...t]),...OU.map(t=>["transaction","message",...t])],getVersion:[["feature-set"]],getVoteAccounts:[["current",Me,"commission"],["delinquent",Me,"commission"]],simulateTransaction:[["value","loadedAccountsDataSize"],...Vh.map(t=>["value","accounts",Me,...t]),...U6.map(t=>["value","innerInstructions",Me,...t])]}),B6}var TPe=81e5;function KG(t){return Array.isArray(t)?"%5B"+t.map(KG).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function IPe([t,e]){return`${t}=${KG(e)}`}function CPe(t){const e=Object.entries(t).map(IPe).join("&");return btoa(e)}function OPe(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${CPe(e)}'`),`${n}\``}}var kPe=class extends Error{cause=this.cause;context;constructor(...[e,n]){let r,i;n&&Object.entries(Object.getOwnPropertyDescriptors(n)).forEach(([a,c])=>{a==="cause"?i={cause:c.value}:(r===void 0&&(r={__code:e}),Object.defineProperty(r,a,c))});const s=OPe(e,r);super(s,i),this.context=Object.freeze(r===void 0?{__code:e}:r),this.name="SolanaError"}};function RPe(...t){"captureStackTrace"in Error&&typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(...t)}var $Pe=8100002;function YG(t){return Array.isArray(t)?"%5B"+t.map(YG).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function NPe([t,e]){return`${t}=${YG(e)}`}function PPe(t){const e=Object.entries(t).map(NPe).join("&");return btoa(e)}function DPe(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${PPe(e)}'`),`${n}\``}}var MPe=class extends Error{cause=this.cause;context;constructor(...[e,n]){let r,i;n&&Object.entries(Object.getOwnPropertyDescriptors(n)).forEach(([a,c])=>{a==="cause"?i={cause:c.value}:(r===void 0&&(r={__code:e}),Object.defineProperty(r,a,c))});const s=DPe(e,r);super(s,i),this.context=Object.freeze(r===void 0?{__code:e}:r),this.name="SolanaError"}};function UPe(t){const e={};for(const n in t)e[n.toLowerCase()]=t[n];return e}function BPe(t){const{fromJson:e,headers:n,toJson:r,url:i}=t;let s;const a=n&&UPe(n);return async function({payload:u,signal:d}){const h=r?r(u):JSON.stringify(u),p={...s,body:h,headers:{...a,accept:"application/json","content-length":h.length.toString(),"content-type":"application/json; charset=utf-8"},method:"POST",signal:d},m=await fetch(i,p);if(!m.ok)throw new MPe($Pe,{headers:m.headers,message:m.statusText,statusCode:m.status});return e?e(await m.text(),u):await m.json()}}var LPe=["getAccountInfo","getBalance","getBlock","getBlockCommitment","getBlockHeight","getBlockProduction","getBlocks","getBlocksWithLimit","getBlockTime","getClusterNodes","getEpochInfo","getEpochSchedule","getFeeForMessage","getFirstAvailableBlock","getGenesisHash","getHealth","getHighestSnapshotSlot","getIdentity","getInflationGovernor","getInflationRate","getInflationReward","getLargestAccounts","getLatestBlockhash","getLeaderSchedule","getMaxRetransmitSlot","getMaxShredInsertSlot","getMinimumBalanceForRentExemption","getMultipleAccounts","getProgramAccounts","getRecentPerformanceSamples","getRecentPrioritizationFees","getSignaturesForAddress","getSignatureStatuses","getSlot","getSlotLeader","getSlotLeaders","getStakeMinimumDelegation","getSupply","getTokenAccountBalance","getTokenAccountsByDelegate","getTokenAccountsByOwner","getTokenLargestAccounts","getTokenSupply","getTransaction","getTransactionCount","getVersion","getVoteAccounts","index","isBlockhashValid","minimumLedgerSlot","requestAirdrop","sendTransaction","simulateTransaction"];function kU(t){return UG(t)&&LPe.includes(t.method)}function jPe(t){return BPe({...t,fromJson:(e,n)=>kU(n)?DG(e):JSON.parse(e),toJson:e=>kU(e)?MG(e):JSON.stringify(e)})}var zPe=Object.prototype.toString,FPe=Object.keys||function(t){const e=[];for(const n in t)e.push(n);return e};function vg(t,e){let n,r,i,s,a,c,u;if(t===!0)return"true";if(t===!1)return"false";switch(typeof t){case"object":if(t===null)return null;if("toJSON"in t&&typeof t.toJSON=="function")return vg(t.toJSON(),e);if(u=zPe.call(t),u==="[object Array]"){for(i="[",r=t.length-1,n=0;n<r;n++)i+=vg(t[n],!0)+",";return r>-1&&(i+=vg(t[n],!0)),i+"]"}else if(u==="[object Object]"){for(s=FPe(t).sort(),r=s.length,i="",n=0;n<r;)a=s[n],c=vg(t[a],!1),c!==void 0&&(i&&(i+=","),i+=JSON.stringify(a)+":"+c),n++;return"{"+i+"}"}else return JSON.stringify(t);case"function":case"undefined":return e?null:void 0;case"bigint":return`${t.toString()}n`;case"string":return JSON.stringify(t);default:return isFinite(t)?t:null}}function ZG(t){const e=vg(t,!1);if(e!==void 0)return""+e}function XG(t,e,n){let r="";if(typeof e[0]=="number"){const a=e[0]+1,c=a%10,u=a%100;c==1&&u!=11?r=a+"st":c==2&&u!=12?r=a+"nd":c==3&&u!=13?r=a+"rd":r=a+"th"}else r=`\`${e[0].toString()}\``;const i=e.length>1?e.slice(1).map(a=>typeof a=="number"?`[${a}]`:a).join("."):void 0,s=new kPe(TPe,{argumentLabel:r,keyPath:e,methodName:t,optionalPathLabel:i?` at path \`${i}\``:"",value:n,...i!==void 0?{path:i}:void 0});return RPe(s,XG),s}var qPe={defaultCommitment:"confirmed",onIntegerOverflow(t,e,n){throw XG(t.methodName,e,n)}},WPe=globalThis.AbortController,RU;function $U(){return{}}function HPe(t,e){let n;return async function(i){const{payload:s,signal:a}=i,c=e(s);if(c===void 0)return await t(i);if(n||(queueMicrotask(()=>{n=void 0}),n={}),n[c]==null){const d=new WPe,h=(async()=>{try{return await t({...i,signal:d.signal})}catch(p){if(p===(RU||=$U()))return;throw p}})();n[c]={abortController:d,numConsumers:0,responsePromise:h}}const u=n[c];if(u.numConsumers++,a){const d=u.responsePromise;return await new Promise((h,p)=>{const m=g=>{a.removeEventListener("abort",m),u.numConsumers-=1,queueMicrotask(()=>{u.numConsumers===0&&u.abortController.abort(RU||=$U())}),p(g.target.reason)};a.addEventListener("abort",m),d.then(h).catch(p).finally(()=>{a.removeEventListener("abort",m)})})}else return await u.responsePromise}}function VPe(t){return UG(t)?ZG([t.method,t.params]):void 0}function GPe(t){const e={};for(const n in t)e[n.toLowerCase()]=t[n];return e}function KPe(t){return Of(jPe({...t,headers:{...t.headers?GPe(t.headers):void 0,"solana-client":"js/5.1.0"}}),e=>HPe(e,VPe))}function JG(t,e){return YPe(KPe({url:t,...e}))}function YPe(t){return NNe({api:SPe(qPe),transport:t})}var ZPe=10,XPe=-32700,JPe=-32603,QPe=-32602,eDe=-32601,tDe=-32600,nDe=-32015,rDe=-32014,iDe=-32012,sDe=-32010,aDe=-32009,oDe=-32007,cDe=-32006,lDe=-32004,NU=-32002,uDe=-32001,dDe=4615e3,fDe=4615026,hDe=705e4,pDe=7050030,yDe=7050031,mDe=7050035,gDe=819e4,bDe=8190001,wDe=9900004;function QG(t){return Array.isArray(t)?"%5B"+t.map(QG).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function vDe([t,e]){return`${t}=${QG(e)}`}function _De(t){const e=Object.entries(t).map(vDe).join("&");return btoa(e)}function EDe(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${_De(e)}'`),`${n}\``}}var Kd=class extends Error{cause=this.cause;context;constructor(...[e,n]){let r,i;n&&Object.entries(Object.getOwnPropertyDescriptors(n)).forEach(([a,c])=>{a==="cause"?i={cause:c.value}:(r===void 0&&(r={__code:e}),Object.defineProperty(r,a,c))});const s=EDe(e,r);super(s,i),this.context=Object.freeze(r===void 0?{__code:e}:r),this.name="SolanaError"}};function eK(...t){"captureStackTrace"in Error&&typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(...t)}function tK({errorCodeBaseOffset:t,getErrorContext:e,orderedErrorNames:n,rpcEnumError:r},i){let s,a;typeof r=="string"?s=r:(s=Object.keys(r)[0],a=r[s]);const c=n.indexOf(s),u=t+c,d=e(u,s,a),h=new Kd(u,d);return eK(h,i),h}var ADe=["GenericError","InvalidArgument","InvalidInstructionData","InvalidAccountData","AccountDataTooSmall","InsufficientFunds","IncorrectProgramId","MissingRequiredSignature","AccountAlreadyInitialized","UninitializedAccount","UnbalancedInstruction","ModifiedProgramId","ExternalAccountLamportSpend","ExternalAccountDataModified","ReadonlyLamportChange","ReadonlyDataModified","DuplicateAccountIndex","ExecutableModified","RentEpochModified","NotEnoughAccountKeys","AccountDataSizeChanged","AccountNotExecutable","AccountBorrowFailed","AccountBorrowOutstanding","DuplicateAccountOutOfSync","Custom","InvalidError","ExecutableDataModified","ExecutableLamportChange","ExecutableAccountNotRentExempt","UnsupportedProgramId","CallDepth","MissingAccount","ReentrancyNotAllowed","MaxSeedLengthExceeded","InvalidSeeds","InvalidRealloc","ComputationalBudgetExceeded","PrivilegeEscalation","ProgramEnvironmentSetupFailure","ProgramFailedToComplete","ProgramFailedToCompile","Immutable","IncorrectAuthority","BorshIoError","AccountNotRentExempt","InvalidAccountOwner","ArithmeticOverflow","UnsupportedSysvar","IllegalOwner","MaxAccountsDataAllocationsExceeded","MaxAccountsExceeded","MaxInstructionTraceLengthExceeded","BuiltinProgramsMustConsumeComputeUnits"];function nK(t,e){const n=Number(t);return tK({errorCodeBaseOffset:4615001,getErrorContext(r,i,s){return r===dDe?{errorName:i,index:n,...s!==void 0?{instructionErrorContext:s}:null}:r===fDe?{code:Number(s),index:n}:{index:n}},orderedErrorNames:ADe,rpcEnumError:e},nK)}var SDe=["AccountInUse","AccountLoadedTwice","AccountNotFound","ProgramAccountNotFound","InsufficientFundsForFee","InvalidAccountForFee","AlreadyProcessed","BlockhashNotFound","CallChainTooDeep","MissingSignatureForFee","InvalidAccountIndex","SignatureFailure","InvalidProgramForExecution","SanitizeFailure","ClusterMaintenance","AccountBorrowOutstanding","WouldExceedMaxBlockCostLimit","UnsupportedVersion","InvalidWritableAccount","WouldExceedMaxAccountCostLimit","WouldExceedAccountDataBlockLimit","TooManyAccountLocks","AddressLookupTableNotFound","InvalidAddressLookupTableOwner","InvalidAddressLookupTableData","InvalidAddressLookupTableIndex","InvalidRentPayingAccount","WouldExceedMaxVoteCostLimit","WouldExceedAccountDataTotalLimit","DuplicateInstruction","InsufficientFundsForRent","MaxLoadedAccountsDataSizeExceeded","InvalidLoadedAccountsDataSizeLimit","ResanitizationNeeded","ProgramExecutionTemporarilyRestricted","UnbalancedTransaction"];function rK(t){return typeof t=="object"&&"InstructionError"in t?nK(...t.InstructionError):tK({errorCodeBaseOffset:7050001,getErrorContext(e,n,r){if(e===hDe)return{errorName:n,...r!==void 0?{transactionErrorContext:r}:null};if(e===pDe)return{index:Number(r)};if(e===yDe||e===mDe)return{accountIndex:Number(r.account_index)}},orderedErrorNames:SDe,rpcEnumError:t},rK)}function iK(t){let e;if(xDe(t)){const{code:n,data:r,message:i}=t,s=Number(n);if(s===NU){const{err:a,...c}=r,u=a?{cause:rK(a)}:null;e=new Kd(NU,{...c,...u})}else{let a;switch(s){case JPe:case QPe:case tDe:case eDe:case XPe:case iDe:case uDe:case lDe:case rDe:case sDe:case aDe:case oDe:case cDe:case nDe:a={__serverMessage:i};break;default:typeof r=="object"&&!Array.isArray(r)&&(a=r)}e=new Kd(s,a)}}else{const n=typeof t=="object"&&t!==null&&"message"in t&&typeof t.message=="string"?t.message:"Malformed JSON-RPC error with no message attribute";e=new Kd(ZPe,{error:t,message:n})}return eK(e,iK),e}function xDe(t){return typeof t=="object"&&t!==null&&"code"in t&&"message"in t&&(typeof t.code=="number"||typeof t.code=="bigint")&&typeof t.message=="string"}var TDe=99e5,IDe=9900001;function sK(t){return Array.isArray(t)?"%5B"+t.map(sK).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function CDe([t,e]){return`${t}=${sK(e)}`}function ODe(t){const e=Object.entries(t).map(CDe).join("&");return btoa(e)}function kDe(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${ODe(e)}'`),`${n}\``}}var PU=class extends Error{cause=this.cause;context;constructor(...[e,n]){let r,i;n&&Object.entries(Object.getOwnPropertyDescriptors(n)).forEach(([a,c])=>{a==="cause"?i={cause:c.value}:(r===void 0&&(r={__code:e}),Object.defineProperty(r,a,c))});const s=kDe(e,r);super(s,i),this.context=Object.freeze(r===void 0?{__code:e}:r),this.name="SolanaError"}},RDe=globalThis.AbortController,$De=globalThis.EventTarget,DU;function MU(){return Symbol(void 0)}var L6=Symbol();function NDe({abortSignal:t,dataChannelName:e,dataPublisher:n,errorChannelName:r}){const i=new Map;function s(d){for(const[h,p]of i.entries())p.__hasPolled?(i.delete(h),p.onError(d)):p.publishQueue.push({__type:1,err:d})}const a=new RDe;t.addEventListener("abort",()=>{a.abort(),s(DU||=MU())});const c={signal:a.signal};let u=L6;return n.on(r,d=>{u===L6&&(u=d,a.abort(),s(d))},c),n.on(e,d=>{i.forEach((h,p)=>{if(h.__hasPolled){const{onData:m}=h;i.set(p,{__hasPolled:!1,publishQueue:[]}),m(d)}else h.publishQueue.push({__type:0,data:d})})},c),{async*[Symbol.asyncIterator](){if(t.aborted)return;if(u!==L6)throw u;const d=Symbol();i.set(d,{__hasPolled:!1,publishQueue:[]});try{for(;;){const h=i.get(d);if(!h)throw new PU(TDe);if(h.__hasPolled)throw new PU(IDe);const p=h.publishQueue;try{if(p.length){h.publishQueue=[];for(const m of p)if(m.__type===0)yield m.data;else throw m.err}else yield await new Promise((m,g)=>{i.set(d,{__hasPolled:!0,onData:m,onError:g})})}catch(m){if(m===(DU||=MU()))return;throw m}}}finally{i.delete(d)}}}}function aK(t){return{on(e,n,r){function i(s){if(s instanceof CustomEvent){const a=s.detail;n(a)}else n()}return t.addEventListener(e,i,r),()=>{t.removeEventListener(e,i)}}}}function PDe(t,e,n){let r;const i=new $De,s=aK(i);return{...s,on(a,c,u){r||(r={dispose:t.on(e,g=>{const b=n(g);if(!b)return;const[v,E]=b;i.dispatchEvent(new CustomEvent(v,{detail:E}))}),numSubscribers:0}),r.numSubscribers++;const d=s.on(a,c,u);let h=!0;function p(){h&&(h=!1,u?.signal.removeEventListener("abort",p),r.numSubscribers--,r.numSubscribers===0&&(r.dispose(),r=void 0),d())}return u?.signal.addEventListener("abort",p),p}}}function DDe(t){return new Proxy(t.api,{defineProperty(){return!1},deleteProperty(){return!1},get(e,n,r){if(n!=="then")return function(...i){const s=n.toString(),a=Reflect.get(e,s,r);if(!a)throw new Kd(gDe,{notificationName:s});const c=a(...i);return MDe(t.transport,c)}}})}function MDe(t,e){return{async subscribe({abortSignal:n}){const r=await t({signal:n,...e});return NDe({abortSignal:n,dataChannelName:"notification",dataPublisher:r,errorChannelName:"error"})}}}function UDe(t){return new Proxy({},{defineProperty(){return!1},deleteProperty(){return!1},get(...e){const[n,r]=e,i=r.toString();return function(...s){const a={methodName:i,params:s},c=t.requestTransformer?t.requestTransformer(a):a;return{execute(u){return t.planExecutor({...u,request:c})},request:c}}}})}function BDe(t,e){return Object.freeze({...t,on(n,r,i){return n!=="message"?t.on(n,r,i):t.on("message",s=>r(e(s)),i)}})}function LDe(t,e){return Object.freeze({...t,send:n=>t.send(e(n))})}var jDe=globalThis.AbortController,N3=new WeakMap;function zDe(t,e){return oK(-1,t,e)}function FDe(t,e){oK(1,t,e)}function qDe(t){let e=N3.get(t);return e||N3.set(t,e={}),e}function oK(t,e,n){if(n===void 0)return;const r=qDe(e);!r[n]&&t>0&&(r[n]=0);const i=t+r[n];return i<=0?delete r[n]:r[n]=i,i}var UU=new WeakMap;function WDe(t,e,n){let r=UU.get(t);r||UU.set(t,r=new WeakMap);const i=n??t;let s=r.get(i);return s||r.set(i,s=PDe(t,"message",a=>{const c=a;if(!("method"in c))return;const u=n?n(c.params.result,e):c.params.result;return[`notification:${c.params.subscription}`,u]})),s}async function HDe({channel:t,responseTransformer:e,signal:n,subscribeRequest:r,unsubscribeMethodName:i}){let s;t.on("error",()=>{s=void 0,N3.delete(t)},{signal:n});const a=new Promise((p,m)=>{function g(){if(zDe(t,s)===0){const b=R3({methodName:i,params:[s]});s=void 0,t.send(b).catch(()=>{})}m(this.reason)}n.aborted?g.call(n):n.addEventListener("abort",g)}),c=R3(r);await t.send(c);const u=new Promise((p,m)=>{const g=new jDe;n.addEventListener("abort",g.abort.bind(g));const b={signal:g.signal};t.on("error",v=>{g.abort(),m(v)},b),t.on("message",v=>{v&&typeof v=="object"&&"id"in v&&v.id===c.id&&(g.abort(),"error"in v?m(iK(v.error)):p(v.result))},b)});if(s=await wNe([a,u]),s==null)throw new Kd(bDe);FDe(t,s);const d=WDe(t,r,e),h=`notification:${s}`;return{on(p,m,g){switch(p){case"notification":return d.on(h,m,g);case"error":return t.on("error",m,g);default:throw new Kd(wDe,{channelName:p,supportedChannelNames:["notification","error"]})}}}}function VDe(t){const e=VG(t),n=APe({allowedNumericKeyPaths:KDe()});return UDe({planExecutor({request:r,...i}){return HDe({...i,responseTransformer:n,subscribeRequest:{...r,methodName:r.methodName.replace(/Notifications$/,"Subscribe")},unsubscribeMethodName:r.methodName.replace(/Notifications$/,"Unsubscribe")})},requestTransformer:e})}function GDe(t){return VDe(t)}var j6;function KDe(){return j6||(j6={accountNotifications:Vh.map(t=>["value",...t]),blockNotifications:[["value","block","transactions",Me,"meta","preTokenBalances",Me,"accountIndex"],["value","block","transactions",Me,"meta","preTokenBalances",Me,"uiTokenAmount","decimals"],["value","block","transactions",Me,"meta","postTokenBalances",Me,"accountIndex"],["value","block","transactions",Me,"meta","postTokenBalances",Me,"uiTokenAmount","decimals"],["value","block","transactions",Me,"meta","rewards",Me,"commission"],["value","block","transactions",Me,"meta","innerInstructions",Me,"index"],["value","block","transactions",Me,"meta","innerInstructions",Me,"instructions",Me,"programIdIndex"],["value","block","transactions",Me,"meta","innerInstructions",Me,"instructions",Me,"accounts",Me],["value","block","transactions",Me,"transaction","message","addressTableLookups",Me,"writableIndexes",Me],["value","block","transactions",Me,"transaction","message","addressTableLookups",Me,"readonlyIndexes",Me],["value","block","transactions",Me,"transaction","message","instructions",Me,"programIdIndex"],["value","block","transactions",Me,"transaction","message","instructions",Me,"accounts",Me],["value","block","transactions",Me,"transaction","message","header","numReadonlySignedAccounts"],["value","block","transactions",Me,"transaction","message","header","numReadonlyUnsignedAccounts"],["value","block","transactions",Me,"transaction","message","header","numRequiredSignatures"],["value","block","rewards",Me,"commission"]],programNotifications:Vh.flatMap(t=>[["value",Me,"account",...t],[Me,"account",...t]])}),j6}var YDe=81e5,ZDe=8190002,P3=8190003,XDe=8190004;function cK(t){return Array.isArray(t)?"%5B"+t.map(cK).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function JDe([t,e]){return`${t}=${cK(e)}`}function QDe(t){const e=Object.entries(t).map(JDe).join("&");return btoa(e)}function e9e(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${QDe(e)}'`),`${n}\``}}function t9e(t,e){return t instanceof Error&&t.name==="SolanaError"?t.context.__code===e:!1}var _g=class extends Error{cause=this.cause;context;constructor(...[t,e]){let n,r;e&&Object.entries(Object.getOwnPropertyDescriptors(e)).forEach(([s,a])=>{s==="cause"?r={cause:a.value}:(n===void 0&&(n={__code:t}),Object.defineProperty(n,s,a))});const i=e9e(t,n);super(i,r),this.context=Object.freeze(n===void 0?{__code:t}:n),this.name="SolanaError"}};function n9e(...t){"captureStackTrace"in Error&&typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(...t)}var r9e=globalThis.EventTarget,_m=globalThis.WebSocket,BU=1e3;function i9e({sendBufferHighWatermark:t,signal:e,url:n}){if(e.aborted)return Promise.reject(e.reason);let r,i=!1;const s=new Set;function a(){s.forEach(O=>{O()}),s.clear()}function c(){a(),i||v(e.reason),b.readyState!==_m.CLOSED&&b.readyState!==_m.CLOSING&&b.close(BU)}function u(O){a(),r?.onCancel(),e.removeEventListener("abort",c),b.removeEventListener("close",u),b.removeEventListener("error",d),b.removeEventListener("message",h),b.removeEventListener("open",g),!e.aborted&&!(O.wasClean&&O.code===BU)&&p.dispatchEvent(new CustomEvent("error",{detail:new _g(P3,{cause:O})}))}function d(O){if(!e.aborted&&!i){const k=new _g(XDe,{errorEvent:O});v(k),p.dispatchEvent(new CustomEvent("error",{detail:k}))}}function h(O){e.aborted||p.dispatchEvent(new CustomEvent("message",{detail:O.data}))}const p=new r9e,m=aK(p);function g(){i=!0,E({...m,async send(O){if(b.readyState!==_m.OPEN)throw new _g(P3);if(!r&&b.bufferedAmount>t){let k;const S=new Promise((A,C)=>{const I=setInterval(()=>{(b.readyState!==_m.OPEN||!(b.bufferedAmount>t))&&(clearInterval(I),r=void 0,A())},16);k=()=>{r=void 0,clearInterval(I),C(new _g(ZDe))}});r={onCancel:k,promise:S}}if(r){if(ArrayBuffer.isView(O)&&!(O instanceof DataView)){const k=O.constructor;O=new k(O)}await r.promise}b.send(O)}})}const b=new _m(n);e.addEventListener("abort",c),b.addEventListener("close",u),b.addEventListener("error",d),b.addEventListener("message",h),b.addEventListener("open",g);let v,E;return new Promise((O,k)=>{v=k,E=O})}function lK(t,e,n){let r="";if(typeof e[0]=="number"){const a=e[0]+1,c=a%10,u=a%100;c==1&&u!=11?r=a+"st":c==2&&u!=12?r=a+"nd":c==3&&u!=13?r=a+"rd":r=a+"th"}else r=`\`${e[0].toString()}\``;const i=e.length>1?e.slice(1).map(a=>typeof a=="number"?`[${a}]`:a).join("."):void 0,s=new _g(YDe,{argumentLabel:r,keyPath:e,methodName:t,optionalPathLabel:i?` at path \`${i}\``:"",value:n,...i!==void 0?{path:i}:void 0});return n9e(s,lK),s}var s9e={defaultCommitment:"confirmed",onIntegerOverflow(t,e,n){throw lK(t.methodName,e,n)}},TO=globalThis.AbortController,a9e={jsonrpc:"2.0",method:"ping"};function o9e({abortSignal:t,channel:e,intervalMs:n}){let r;function i(){e.send(a9e).catch(c=>{t9e(c,P3)&&a.abort()})}function s(){clearInterval(r),r=setInterval(i,n)}const a=new TO;return a.signal.addEventListener("abort",()=>{clearInterval(r)}),t.addEventListener("abort",()=>{a.abort()}),e.on("error",()=>{a.abort()},{signal:a.signal}),e.on("message",s,{signal:a.signal}),globalThis.navigator.onLine&&s(),globalThis.addEventListener("offline",function(){clearInterval(r)},{signal:a.signal}),globalThis.addEventListener("online",function(){i(),s()},{signal:a.signal}),{...e,send(...c){return a.signal.aborted||s(),e.send(...c)}}}function c9e(){return{entries:[],freeChannelIndex:-1}}function l9e(t,{maxSubscriptionsPerChannel:e,minChannels:n}){const r=c9e();function i(){if(r.entries.length<n){r.freeChannelIndex=-1;return}let s;for(let a=0;a<r.entries.length;a++){const c=(r.freeChannelIndex+a+2)%r.entries.length,u=r.entries[c];u.subscriptionCount<e&&(!s||s.subscriptionCount>=u.subscriptionCount)&&(s={poolIndex:c,subscriptionCount:u.subscriptionCount})}r.freeChannelIndex=s?.poolIndex??-1}return function({abortSignal:a}){let c;function u(){const d=r.entries.findIndex(h=>h===c);r.entries.splice(d,1),c.dispose(),i()}if(r.freeChannelIndex===-1){const d=new TO,h=t({abortSignal:d.signal});h.then(p=>{p.on("error",u,{signal:d.signal})}).catch(u),c={channel:h,dispose(){d.abort()},subscriptionCount:0},r.entries.push(c)}else c=r.entries[r.freeChannelIndex];return c.subscriptionCount++,a.addEventListener("abort",function(){c.subscriptionCount--,c.subscriptionCount===0?u():r.freeChannelIndex!==-1&&(r.freeChannelIndex--,i())}),i(),c.channel}}function u9e(t){return Of(t,e=>BDe(e,DG),e=>LDe(e,MG))}function d9e(t){return f9e({...t,jsonSerializer:u9e})}function f9e(t){if(/^wss?:/i.test(t.url)===!1){const i=t.url.match(/^([^:]+):/);throw new DOMException(i?`Failed to construct 'WebSocket': The URL's scheme must be either 'ws' or 'wss'. '${i[1]}:' is not allowed.`:`Failed to construct 'WebSocket': The URL '${t.url}' is invalid.`)}const{intervalMs:e,...n}=t;return l9e((({abortSignal:i})=>i9e({...n,sendBufferHighWatermark:t.sendBufferHighWatermark??131072,signal:i}).then(t.jsonSerializer).then(s=>o9e({abortSignal:i,channel:s,intervalMs:e??5e3}))),{maxSubscriptionsPerChannel:t.maxSubscriptionsPerChannel??100,minChannels:t.minChannels??1})}function h9e(t){const e=new Map;return function(r){const{request:i,signal:s}=r,a=ZG([i.methodName,i.params]);let c=e.get(a);if(!c){const u=new TO,d=t({...r,signal:u.signal});d.then(h=>{h.on("error",()=>{e.delete(a),u.abort()},{signal:u.signal})}).catch(()=>{}),e.set(a,c={abortController:u,dataPublisherPromise:d,numSubscribers:0})}return c.numSubscribers++,s.addEventListener("abort",()=>{c.numSubscribers--,c.numSubscribers===0&&queueMicrotask(()=>{c.numSubscribers===0&&(e.delete(a),c.abortController.abort())})},{signal:c.abortController.signal}),c.dataPublisherPromise}}function p9e({createChannel:t}){return Of(y9e(t),e=>h9e(e))}function y9e(t){return(async({execute:e,signal:n})=>{const r=await t({abortSignal:n});return await e({channel:r,signal:n})})}function m9e(t,e){const n=p9e({createChannel:d9e({...e,url:t})});return g9e(n)}function LU(t,e){return m9e(t,e)}function g9e(t){return DDe({api:GDe(s9e),transport:t})}function uK(t){return"modifyAndSignTransactions"in t&&typeof t.modifyAndSignTransactions=="function"}function dK(t){return"signTransactions"in t&&typeof t.signTransactions=="function"}function b9e(t){return"signAndSendTransactions"in t&&typeof t.signAndSendTransactions=="function"}function fK(t){return dK(t)||uK(t)||b9e(t)}function Aze(t,e){Object.freeze(t);const n={...e,feePayer:t};return Object.freeze(n),n}async function hK(t){const e=await lG(t.publicKey);return Object.freeze({address:e,keyPair:t,signMessages:r=>Promise.all(r.map(async i=>Object.freeze({[e]:await SO(t.privateKey,i.content)}))),signTransactions:r=>Promise.all(r.map(async i=>{const s=await mNe([t],i);return Object.freeze({[e]:s.signatures[e]})}))})}async function w9e(t,e){return await hK(await dNe(t,e))}async function v9e(t,e){return await hK(await fNe(t,e))}var _9e="ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL",pK="TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA";function E9e(t){if(!t)throw new Error("Expected a Address.");return typeof t=="object"&&"address"in t?t.address:Array.isArray(t)?t[0]:t}function yK(t,e){return n=>{if(!n.value)return Object.freeze({address:t,role:_r.READONLY});const r=n.isWritable?_r.WRITABLE:_r.READONLY;return Object.freeze({address:E9e(n.value),role:jU(n.value)?d4e(r):r,...jU(n.value)?{signer:n.value}:{}})}}function jU(t){return!!t&&typeof t=="object"&&"address"in t&&fK(t)}async function Sze(t,e={}){const{programAddress:n="ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"}=e;return await CRe({programAddress:n,seeds:[op().encode(t.owner),op().encode(t.tokenProgram),op().encode(t.mint)]})}var A9e=1;function S9e(){return fG(Fu([["discriminator",yG()]]),t=>({...t,discriminator:A9e}))}function xze(t,e){const n=_9e,i={payer:{value:t.payer??null,isWritable:!0},ata:{value:t.ata??null,isWritable:!0},owner:{value:t.owner??null,isWritable:!1},mint:{value:t.mint??null,isWritable:!1},systemProgram:{value:t.systemProgram??null,isWritable:!1},tokenProgram:{value:t.tokenProgram??null,isWritable:!1}};i.tokenProgram.value||(i.tokenProgram.value="TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),i.systemProgram.value||(i.systemProgram.value="11111111111111111111111111111111");const s=yK(n);return Object.freeze({accounts:[s(i.payer),s(i.ata),s(i.owner),s(i.mint),s(i.systemProgram),s(i.tokenProgram)],data:S9e().encode({}),programAddress:n})}var x9e=3;function T9e(){return fG(Fu([["discriminator",yG()],["amount",c4e()]]),t=>({...t,discriminator:x9e}))}function Tze(t,e){const n=pK,i={source:{value:t.source??null,isWritable:!0},destination:{value:t.destination??null,isWritable:!0},authority:{value:t.authority??null,isWritable:!1}},s={...t},a=(s.multiSigners??[]).map(u=>({address:u.address,role:_r.READONLY_SIGNER,signer:u})),c=yK(n);return Object.freeze({accounts:[c(i.source),c(i.destination),c(i.authority),...a],data:T9e().encode(s),programAddress:n})}var I9e="TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb";vj([Rn().transform(t=>t.replace(/[^0-9.-]+/g,"")),ya()]).pipe(aoe.number().min(1e-4).max(999999999));var GE=Zo(["abstract","abstract-testnet","base-sepolia","base","avalanche-fuji","avalanche","iotex","solana-devnet","solana","sei","sei-testnet","polygon","polygon-amoy","peaq","story","educhain","skale-base-sepolia"]),C9e=["abstract","abstract-testnet","base-sepolia","base","avalanche-fuji","avalanche","iotex","sei","sei-testnet","polygon","polygon-amoy","peaq","story","educhain","skale-base-sepolia"],O9e=new Map([["abstract",2741],["abstract-testnet",11124],["base-sepolia",84532],["base",8453],["avalanche-fuji",43113],["avalanche",43114],["iotex",4689],["sei",1329],["sei-testnet",1328],["polygon",137],["polygon-amoy",80002],["peaq",3338],["story",1514],["educhain",41923],["skale-base-sepolia",324705682]]),mK=["solana-devnet","solana"];Object.fromEntries([...C9e,...mK].map(t=>[O9e.get(t),t]));var k9e={id:324705682,name:"SKALE Base Sepolia",nativeCurrency:{name:"Credits",symbol:"CREDITS",decimals:18},rpcUrls:{default:{http:["https://base-sepolia-testnet.skalenodes.com/v1/jubilant-horrible-ancha"]}},blockExplorers:{default:{name:"Blockscout",url:"https://base-sepolia-testnet-explorer.skalenodes.com",apiUrl:"https://base-sepolia-testnet-explorer.skalenodes.com/api"}}};function IO(t){const e=OO(t);return jI({chain:e,transport:X_()}).extend(b1)}function R9e(){return IO("base-sepolia")}function $9e(){return IO("avalanche-fuji")}function CO(t,e){const n=OO(t),r=rae({chain:n,transport:X_(),account:gke(e)});return gK(n)?r.extend(b1).extend(Ake()):r.extend(b1)}function N9e(t){return CO("base-sepolia",t)}function P9e(t){return CO("avalanche-fuji",t)}function D9e(t){return typeof t=="object"&&t!==null&&"chain"in t&&"transport"in t}function M9e(t){const e=t;return typeof t=="object"&&t!==null&&typeof e.address=="string"&&typeof e.type=="string"&&typeof e.sign=="function"&&typeof e.signMessage=="function"&&typeof e.signTypedData=="function"&&typeof e.signTransaction=="function"}function OO(t){if(!t)throw new Error("NETWORK environment variable is not set");switch(t){case"abstract":return V8e;case"abstract-testnet":return G8e;case"base":return VV;case"base-sepolia":return GV;case"avalanche":return tke;case"avalanche-fuji":return nke;case"sei":return lke;case"sei-testnet":return uke;case"polygon":return oke;case"polygon-amoy":return cke;case"peaq":return ake;case"story":return dke;case"educhain":return rke;case"iotex":return ike;case"iotex-testnet":return ske;case"skale-base-sepolia":return k9e;default:throw new Error(`Unsupported network: ${t}`)}}var U9e=new Set([2741,11124]);function gK(t){return U9e.has(t.id)}var B9e="https://api.devnet.solana.com",L9e="https://api.mainnet-beta.solana.com",j9e="wss://api.devnet.solana.com",z9e="wss://api.mainnet-beta.solana.com";function bK(t){return JG(t||B9e)}function wK(t){return JG(t||L9e)}function vK(t,e){if(t==="solana-devnet")return bK(e);if(t==="solana")return wK(e);throw new Error("Invalid network")}function F9e(t,e){if(t==="solana-devnet")return LU(e?zU(e):j9e);if(t==="solana")return LU(e?zU(e):z9e);throw new Error("Invalid network")}function zU(t){return t.startsWith("http")?t.replace("http","ws"):t}function q9e(t){if(!mK.find(e=>e===t))throw new Error(`Unsupported SVM network: ${t}`);return vK(t)}async function W9e(t){const e=cl.decode(t);if(e.length===64)return await w9e(e);if(e.length===32)return await v9e(e);throw new Error(`Unexpected key length: ${e.length}. Expected 32 or 64 bytes.`)}function H9e(t){return typeof t=="object"&&t!==null&&fK(t)}var V9e={};hO(V9e,{authorizationPrimaryType:()=>K9e,authorizationTypes:()=>G9e,config:()=>M8e,createClientAvalancheFuji:()=>$9e,createClientSepolia:()=>R9e,createConnectedClient:()=>IO,createSigner:()=>CO,createSignerAvalancheFuji:()=>P9e,createSignerSepolia:()=>N9e,getChainFromNetwork:()=>OO,isAccount:()=>M9e,isSignerWallet:()=>D9e,isZkStackChain:()=>gK,usdcABI:()=>U8e});var G9e={TransferWithAuthorization:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"value",type:"uint256"},{name:"validAfter",type:"uint256"},{name:"validBefore",type:"uint256"},{name:"nonce",type:"bytes32"}]},K9e="TransferWithAuthorization",Y9e={};hO(Y9e,{SvmAddressRegex:()=>kO});var kO=/^[1-9A-HJ-NP-Za-km-z]{32,44}$/,Z9e=/^[A-Za-z0-9+/]*={0,2}$/,X9e=18,D3=/^0x[0-9a-fA-F]{40}$/,RO=/^0x[a-fA-F0-9]{40}|[A-Za-z0-9][A-Za-z0-9-]{0,34}[A-Za-z0-9]$/,J9e=/^0x[0-9a-fA-F]{64}$/,Q9e=/^0x[0-9a-fA-F]+$/,$O=["exact"],Cb=[1],NO=["insufficient_funds","invalid_exact_evm_payload_authorization_valid_after","invalid_exact_evm_payload_authorization_valid_before","invalid_exact_evm_payload_authorization_value","invalid_exact_evm_payload_signature","invalid_exact_evm_payload_undeployed_smart_wallet","invalid_exact_evm_payload_recipient_mismatch","invalid_exact_svm_payload_transaction","invalid_exact_svm_payload_transaction_amount_mismatch","invalid_exact_svm_payload_transaction_create_ata_instruction","invalid_exact_svm_payload_transaction_create_ata_instruction_incorrect_payee","invalid_exact_svm_payload_transaction_create_ata_instruction_incorrect_asset","invalid_exact_svm_payload_transaction_instructions","invalid_exact_svm_payload_transaction_instructions_length","invalid_exact_svm_payload_transaction_instructions_compute_limit_instruction","invalid_exact_svm_payload_transaction_instructions_compute_price_instruction","invalid_exact_svm_payload_transaction_instructions_compute_price_instruction_too_high","invalid_exact_svm_payload_transaction_instruction_not_spl_token_transfer_checked","invalid_exact_svm_payload_transaction_instruction_not_token_2022_transfer_checked","invalid_exact_svm_payload_transaction_fee_payer_included_in_instruction_accounts","invalid_exact_svm_payload_transaction_fee_payer_transferring_funds","invalid_exact_svm_payload_transaction_not_a_transfer_instruction","invalid_exact_svm_payload_transaction_receiver_ata_not_found","invalid_exact_svm_payload_transaction_sender_ata_not_found","invalid_exact_svm_payload_transaction_simulation_failed","invalid_exact_svm_payload_transaction_transfer_to_incorrect_ata","invalid_network","invalid_payload","invalid_payment_requirements","invalid_scheme","invalid_payment","payment_expired","unsupported_scheme","invalid_x402_version","invalid_transaction_state","invalid_x402_version","settle_exact_svm_block_height_exceeded","settle_exact_svm_transaction_confirmation_timed_out","unsupported_scheme","unexpected_settle_error","unexpected_verify_error"],a1=t=>Number.isInteger(Number(t))&&Number(t)>=0,eMe=t=>e=>e.length<=t,PO=Rn().regex(D3).or(Rn().regex(kO)),tMe=Rn().regex(RO).or(Rn().regex(kO)),Ob=Gr({scheme:Zo($O),network:GE,maxAmountRequired:Rn().refine(a1),resource:Rn().url(),description:Rn(),mimeType:Rn(),outputSchema:Wd(bp()).optional(),payTo:PO,maxTimeoutSeconds:ya().int(),asset:tMe,extra:Wd(bp()).optional()}),nMe=Gr({from:Rn().regex(D3),to:Rn().regex(D3),value:Rn().refine(a1).refine(eMe(X9e)),validAfter:Rn().refine(a1),validBefore:Rn().refine(a1),nonce:Rn().regex(J9e)}),rMe=Gr({signature:Rn().regex(Q9e),authorization:nMe}),iMe=Gr({transaction:Rn().regex(Z9e)}),_K=Gr({x402Version:ya().refine(t=>Cb.includes(t)),scheme:Zo($O),network:GE,payload:vj([rMe,iMe])});Gr({x402Version:ya().refine(t=>Cb.includes(t)),error:Zo(NO).optional(),accepts:J_(Ob).optional(),payer:Rn().regex(RO).optional()});var sMe=Zo(["GET","POST","PUT","DELETE","PATCH","OPTIONS","HEAD"]),aMe=Gr({type:soe("http"),method:sMe,queryParams:Wd(Rn(),Rn()).optional(),bodyType:Zo(["json","form-data","multipart-form-data","text","binary"]).optional(),bodyFields:Wd(Rn(),bp()).optional(),headerFields:Wd(Rn(),bp()).optional()});ioe("type",[aMe]);var oMe=Gr({resource:Rn(),type:Zo(["http"]),x402Version:ya().refine(t=>Cb.includes(t)),accepts:J_(Ob),lastUpdated:roe(),metadata:Wd(bp()).optional()});Gr({paymentPayload:_K,paymentRequirements:Ob});Gr({paymentPayload:_K,paymentRequirements:Ob});Gr({isValid:wj(),invalidReason:Zo(NO).optional(),payer:PO.optional()});Gr({success:wj(),errorReason:Zo(NO).optional(),payer:PO.optional(),transaction:Rn().regex(RO),network:GE});Gr({type:Rn().optional(),limit:ya().optional(),offset:ya().optional()});Gr({x402Version:ya().refine(t=>Cb.includes(t)),items:J_(oMe),pagination:Gr({limit:ya(),offset:ya(),total:ya()})});var cMe=Gr({x402Version:ya().refine(t=>Cb.includes(t)),scheme:Zo($O),network:GE,extra:Wd(bp()).optional()});Gr({kinds:J_(cMe)});var lMe={};hO(lMe,{createDevnetRpcClient:()=>bK,createMainnetRpcClient:()=>wK,createSignerFromBase58:()=>W9e,createSvmConnectedClient:()=>q9e,decodeTransactionFromPayload:()=>uMe,getRpcClient:()=>vK,getRpcSubscriptions:()=>F9e,getTokenPayerFromTransaction:()=>dMe,isSignerWallet:()=>H9e,signAndSimulateTransaction:()=>fMe,signTransactionWithSigner:()=>EK});function uMe(t){try{const n=$ke().encode(t.transaction);return xO().decode(n)}catch(e){throw console.error("error",e),new Error("invalid_exact_svm_payload_transaction")}}function dMe(t){const e=n$e().decode(t.messageBytes),n=e.staticAccounts??[],r=e.instructions??[];for(const i of r){const s=i.programAddressIndex,a=n[s].toString();if(a===pK.toString()||a===I9e.toString()){const c=i.accountIndices??[];if(c.length>=4){const u=c[3],d=n[u].toString();if(d)return d}}}return""}async function fMe(t,e,n){const r=await EK(t,e),i=gNe(r),s={sigVerify:!0,replaceRecentBlockhash:!1,commitment:"confirmed",encoding:"base64",accounts:void 0,innerInstructions:void 0,minContextSlot:void 0};return await n.simulateTransaction(i,s).send()}async function EK(t,e){if(uK(t)){const[n]=await t.modifyAndSignTransactions([e]);if(!n)throw new Error("transaction_signer_failed_to_return_transaction");return n}if(dK(t)){const[n]=await t.signTransactions([e]);if(!n)throw new Error("transaction_signer_failed_to_return_signatures");return hMe(e,n)}throw new Error("transaction_signer_must_support_offline_signing")}function hMe(t,e){return Object.freeze({...t,signatures:Object.freeze({...t.signatures,...e})})}Gr({paymentHeader:Rn(),paymentRequirements:Ob});const AK=()=>{let{walletProxy:t,client:e}=xa();return Y.useMemo((()=>({signWithUserSigner:async({message:n,targetAppId:r})=>{if(!t)throw Error("Wallet proxy not initialized");let i=await e.getAccessToken();if(!i)throw Error("User must be authenticated");let{signature:s}=await t.signWithUserSigner({accessToken:i,message:n,targetAppId:r});return{signature:s}}})),[t,e])};class _u{static parse(e){try{return new _u(e)}catch{return null}}static throwIfNotWellFormedJwt(e){return X6(e),e}get subject(){return this._decoded.sub}get expiration(){return this._decoded.exp}get issuer(){return this._decoded.iss}get audience(){return this._decoded.aud}isExpired(e=0){return Date.now()>=1e3*(this.expiration-e)}constructor(e){this.value=e,this._decoded=X6(e)}}class DO extends _u{static parse(e){try{return new DO(e)}catch{return null}}get appId(){return this._decoded.aid?this._decoded.aid:this.audience}}const Ize=({style:t,...e})=>he.jsxs("svg",{viewBox:"0 0 1024 1024",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"28px",width:"28px",...t},...e,children:[he.jsx("rect",{width:"1024",height:"1024",fill:"#0052FF",rx:100,ry:100}),he.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z",fill:"white"})]}),pMe="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PScwIDAgMTAyNCAxMDI0JyBmaWxsPSdub25lJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHN0eWxlPSdoZWlnaHQ6MjhweDt3aWR0aDoyOHB4Jz48cmVjdCB3aWR0aD0nMTAyNCcgaGVpZ2h0PScxMDI0JyBmaWxsPScjMDA1MkZGJyByeD0nMTAwJyByeT0nMTAwJz48L3JlY3Q+PHBhdGggZmlsbC1ydWxlPSdldmVub2RkJyBjbGlwLXJ1bGU9J2V2ZW5vZGQnIGQ9J00xNTIgNTEyQzE1MiA3MTAuODIzIDMxMy4xNzcgODcyIDUxMiA4NzJDNzEwLjgyMyA4NzIgODcyIDcxMC44MjMgODcyIDUxMkM4NzIgMzEzLjE3NyA3MTAuODIzIDE1MiA1MTIgMTUyQzMxMy4xNzcgMTUyIDE1MiAzMTMuMTc3IDE1MiA1MTJaTTQyMCAzOTZDNDA2Ljc0NSAzOTYgMzk2IDQwNi43NDUgMzk2IDQyMFY2MDRDMzk2IDYxNy4yNTUgNDA2Ljc0NSA2MjggNDIwIDYyOEg2MDRDNjE3LjI1NSA2MjggNjI4IDYxNy4yNTUgNjI4IDYwNFY0MjBDNjI4IDQwNi43NDUgNjE3LjI1NSAzOTYgNjA0IDM5Nkg0MjBaJyBmaWxsPSd3aGl0ZSc+PC9wYXRoPjwvc3ZnPg==",yMe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAALZJREFUaEPtmjEOhDAMBNc/O14GvOzys3CAKK6eAlmaVGl2Zc+kTOU685vkc9/bnD2prZK5/TZY24z9P+g4F5hNh7/GdoG37WlAA5CATwgCxHENYISwQAMQII5rACOEBRqAAHFcAxghLNAABIjjGsAIYYEGIEAc1wBGCAs0AAHiuAYwQligAQgQxzWAEcICDUCAOK4BjBAWaAACxHENYISwQAMQII6fBjr+VHkW3+u+tfyxMpJaDgYzYxb/ALZVAAAAAElFTkSuQmCC";let Oh,Em;class mMe extends _f{async initialize(){await this.importPromise,await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}disconnect(){this.proxyProvider.walletProvider.disconnect(),this.onDisconnect()}get walletBranding(){return{name:this.displayName,icon:yMe,id:"com.coinbase.wallet"}}async promptConnection(){try{await this.importPromise;let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new zn("Unable to retrieve accounts");this.connected=!0,await this.syncAccounts([e[0]])}catch(e){throw Lu(e)}}constructor(e,n,r,i,s){super("base_account",e,n,r),this.connectorType="base_account",this.walletClientType="base_account",this.displayName="Base",this.setBaseAccountSdk=s,this.proxyProvider=new Ef(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.baseAccountConfig={...i,appChainIds:[n.id].concat(e.map((a=>a.id)))},Oh?(this.proxyProvider.setWalletProvider(Oh.getProvider()),this.setBaseAccountSdk(Oh)):this.importPromise=Fe(()=>import("./index-CBwrc2qI.js"),__vite__mapDeps([0,1,2])).then((({createBaseAccountSDK:a})=>{Oh=a(this.baseAccountConfig),this.proxyProvider.setWalletProvider(Oh.getProvider()),this.setBaseAccountSdk(Oh)})).catch(console.error)}}let gMe=[1,11155111,137,10,8453,84532,42161,7777777,43114,56];class bMe extends _f{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}disconnect(){this.proxyProvider.walletProvider.disconnect(),this.onDisconnect()}get walletBranding(){return{name:this.displayName,icon:pMe,id:"com.coinbase.wallet"}}async promptConnection(){try{let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new zn("Unable to retrieve accounts");this.connected=!0,await this.syncAccounts([e[0]])}catch(e){throw Lu(e)}}updateConnectionPreference(e){this.coinbaseWalletConfig={...this.coinbaseWalletConfig,preference:{...this.coinbaseWalletConfig.preference,options:e}},this.walletClientType=e==="smartWalletOnly"?"coinbase_smart_wallet":"coinbase_wallet",Em=dP({...this.coinbaseWalletConfig}),this.proxyProvider.setWalletProvider(Em.getProvider())}constructor(e,n,r,i){if(super("coinbase_wallet",e,n,r),this.connectorType="coinbase_wallet",this.displayName="Coinbase Wallet",this.proxyProvider=new Ef(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.coinbaseWalletConfig={...i,appChainIds:[n.id].concat(e.map((s=>s.id)))},this.walletClientType=this.coinbaseWalletConfig.preference?.options==="smartWalletOnly"?"coinbase_smart_wallet":"coinbase_wallet",this.walletClientType==="coinbase_smart_wallet"&&(this.displayName="Coinbase Smart Wallet"),!Em){let s=this.coinbaseWalletConfig.preference?.options!=="eoaOnly"?(this.coinbaseWalletConfig.appChainIds??[]).filter((a=>!gMe.includes(a))):[];s.length>0&&!s.every((a=>NJ.has(a)))&&console.info(`The configured chains are not supported by Coinbase Smart Wallet: ${s.join(", ")}`),Em=dP(this.coinbaseWalletConfig)}this.proxyProvider.setWalletProvider(Em.getProvider())}}const wMe=({...t})=>he.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:he.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.37126 11.0323C2.37126 12.696 3.90598 13.4421 5.40654 13.4468C8.91753 13.4468 12.8021 11.2897 12.7819 7.67984C12.7673 5.07728 10.3748 2.86167 7.54357 2.88296C4.8495 2.88296 2.21821 4.6411 2.21803 7.03628C2.21803 7.67951 2.58722 8.30178 3.55231 8.37184C2.74763 9.16826 2.37126 10.1225 2.37126 11.0323ZM7.55283 8.68012C8.11562 8.68012 8.57186 8.13217 8.57186 7.45624C8.57186 6.78032 8.11562 6.23237 7.55283 6.23237C6.99003 6.23237 6.53379 6.78032 6.53379 7.45624C6.53379 8.13217 6.99003 8.68012 7.55283 8.68012ZM10.4747 8.68012C11.0375 8.68012 11.4937 8.13217 11.4937 7.45625C11.4937 6.78032 11.0375 6.23237 10.4747 6.23237C9.91186 6.23237 9.45562 6.78032 9.45562 7.45625C9.45562 8.13217 9.91186 8.68012 10.4747 8.68012Z",fill:t.color||"var(--privy-color-foreground-3)"})});class FU extends _f{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return await this.isConnected()?(await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[o5(e?.chainId||"0x1")]}),this.getConnectedWallet()):null}get walletBranding(){return{name:"Privy Wallet",icon:wMe,id:"io.privy.wallet"}}disconnect(){this.connected=!1}async promptConnection(){}constructor({provider:e,chains:n,defaultChain:r,rpcConfig:i,imported:s,walletIndex:a}){super("privy",n,r,i),this.connectorType="embedded",this.proxyProvider=e,this.walletIndex=a,s&&(this.connectorType="embedded_imported"),this.subscribeListeners()}}async function In(){let t=jK();return t?t.getAccessToken():Promise.resolve(nt.get(Bv)||nt.get(lg)||null)}const vMe=["eth_sign","eth_populateTransactionRequest","eth_signTransaction","personal_sign","eth_signTypedData_v4","csw_signUserOperation","secp256k1_sign"];function k0(t){return t?{"privy-ui":"t"}:void 0}class Gh{async authenticate(){if(!this.api)throw new se("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode)throw new se("Email and email code must be set prior to calling authenticate.");try{return await this.api.post(fhe,{email:this.meta.email,code:this.meta.emailCode,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw Gt(e)}}async link(){if(!this.api)throw new se("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode)throw new se("Email and email code must be set prior to calling authenticate.");try{return await this.api.post(hhe,{email:this.meta.email,code:this.meta.emailCode})}catch(e){throw Gt(e)}}async sendCodeEmail({email:e,captchaToken:n,withPrivyUi:r}){if(!this.api)throw new se("Auth flow has no API instance");if(e&&(this.meta.email=e),n&&(this.meta.captchaToken=n),!this.meta.email)throw new se("Email must be set when initialzing authentication.");let i=k0(r);try{return await this.api.post(dhe,{email:this.meta.email,token:this.meta.captchaToken},{headers:{...i}})}catch(s){throw Gt(s)}}constructor({email:e,captchaToken:n,disableSignup:r}){this.meta={email:e,captchaToken:n,disableSignup:r??!1}}}class _Me extends Gh{async link(){if(!this.api)throw new se("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode||!this.meta.oldAddress)throw new se("Email, email code, and an old email address must be set prior to calling update.");try{return await this.api.post(yhe,{oldAddress:this.meta.oldAddress,newAddress:this.meta.email,code:this.meta.emailCode})}catch(e){throw Gt(e)}}constructor(e,n,r){super({email:n,captchaToken:r}),this.meta={email:n,captchaToken:r,oldAddress:e,disableSignup:!1}}}class Xa{execute(e){return this.promise===null&&(this.promise=(async()=>{try{return await this.fn(e)}finally{this.promise=null}})()),this.promise}constructor(e){this.promise=null,this.fn=e}}class qU{get meta(){return this._meta}async authenticate(){if(!this.api)throw new se("Auth flow has no API instance");if(!this.meta.channelToken)throw new se("Auth flow must be initialized first");try{let e=await this.api.post(ahe,{channel_token:this.meta.channelToken,message:this.message,signature:this.signature,fid:this.fid,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"});if(!e)throw new se("No response from authentication");return e}catch(e){throw Gt(e)}}async link(){if(!this.api)throw new se("Auth flow has no API instance");try{return await this.api.post(ohe,{channel_token:this.meta.channelToken,message:this.message,signature:this.signature,fid:this.fid})}catch(e){throw Gt(e)}}async _startChannelOnce(){if(!this.api)throw new se("Auth flow has no API instance");let e=await this.api.post(she,{token:this.captchaToken});qo.isMobile&&!qo.isIOS&&e.connect_uri&&RF(e.connect_uri,"_blank"),this._meta={...this._meta,connectUri:e.connect_uri,channelToken:e.channel_token}}async initializeFarcasterConnect(){if(!this.api)throw new se("Auth flow has no API instance");await this.startChannelOnce.execute()}async _pollForReady(){if(!this.api)throw new se("Auth flow has no API instance");if(!this.meta.channelToken)throw new se("Auth flow must be initialized first");let e=await this.api.get(che,{headers:{"farcaster-channel-token":this.meta.channelToken}});return e.state==="completed"&&(this.message=e.message,this.signature=e.signature,this.fid=e.fid,!0)}constructor(e,n=!1){this._meta={disableSignup:!1},this.captchaToken=e,this.startChannelOnce=new Xa(this._startChannelOnce.bind(this)),this.pollForReady=new Xa(this._pollForReady.bind(this)),this._meta.disableSignup=n}}function MO(){return typeof window<"u"&&window.location.protocol==="chrome-extension:"&&"chrome"in window}function SK(){return MO()?window.chrome?.runtime?.id:void 0}function M3(){return MO()?typeof window.chrome?.identity?.launchWebAuthFlow=="function":!1}async function WU(t){return new Promise(((e,n)=>{M3()?window.chrome.identity.launchWebAuthFlow({url:t,interactive:!0},(async r=>{try{let i=(function(){return MO()?window.chrome?.runtime?.lastError?.message:void 0})();if(i||!r){let d=`WebAuthFlow failed: ${i||"Response URI missing"}`;throw Error(d)}let s=new URL(r),a=SK();if(!a)throw Error("Invalid extension context");if(s.protocol==="chrome-extension:"){if(s.hostname!==a)throw Error("Invalid responseUri origin")}else{if(s.protocol!=="https:")throw Error("Invalid responseUri protocol");{let d=s.hostname.split(".");if(d.length!==3||d[1]!=="chromiumapp"||d[2]!=="org"||d[0]!==a)throw Error("Invalid responseUri origin")}}let c=s.searchParams.get("privy_oauth_state"),u=s.searchParams.get("privy_oauth_code");if(!c||!u)throw Error("Invalid responseUri - missing required parameters");e({privyOAuthState:c,privyOAuthCode:u})}catch(i){n(i)}})):n(Error("Chrome identity API not available"))}))}function U3(t){return crypto.getRandomValues(new Uint8Array(t))}function UO(){return Yd(U3(36))}function xK(){return UO()}async function TK(t,e="S256"){if(e!="S256")return t;{let n=await(async function(r){let i=new TextEncoder().encode(r);return new Uint8Array(await crypto.subtle.digest("SHA-256",i))})(t);return Yd(n)}}class Uh{addCaptchaToken(e){this.meta.captchaToken=e}isActive(){return!!(this.meta.authorizationCode&&this.meta.stateCode&&this.meta.provider)}async authenticate(){if(!this.api)throw new se("Auth flow has no API instance");if(!this.meta.authorizationCode||!this.meta.stateCode)throw new se("[OAuth AuthFlow] Authorization and state codes code must be set prior to calling authenticate.");if(this.meta.authorizationCode==="undefined")throw new se("User denied confirmation during OAuth flow");let e=(function(){let n=nt.get(Xy);if(!n)throw new se("Authentication error.");return n})();try{let n=await this.api.post(SF,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:e,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"});return nt.del(Xy),nt.del(P1),nt.del(Ag),n}catch(n){let r=Gt(n);throw r.privyErrorCode?new se(r.message||"Invalid code during OAuth flow.",void 0,r.privyErrorCode):r.message==="User denied confirmation during OAuth flow"?new se("Invalid code during oauth flow.",void 0,Ae.OAUTH_USER_DENIED):new se("Invalid code during OAuth flow.",void 0,Ae.UNKNOWN_AUTH_ERROR)}}async link(){if(!this.api)throw new se("Auth flow has no API instance");if(!this.meta.authorizationCode||!this.meta.stateCode)throw new se("[OAuth AuthFlow] Authorization and state codes code must be set prior to calling link.");if(this.meta.authorizationCode==="undefined")throw new se("User denied confirmation during OAuth flow");let e=nt.get(Xy);if(!e)throw new se("Authentication error.");try{let n=await this.api.post(xF,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:e});return nt.del(Xy),n}catch(n){throw Gt(n)}}async getAuthorizationUrl(){if(!this.api)throw new se("Auth flow has no API instance");if(!this.meta.provider)throw new se("Provider must be set when initializing OAuth authentication.");let e=UO();nt.put(Xy,e);let n=xK();nt.put(N1,n);let r=await TK(e);this.meta.withPrivyUi||nt.put(P1,!0),this.meta.disableSignup?nt.put(Ag,!0):nt.del(Ag);let i=k0(this.meta.withPrivyUi),s=window.location.href,a=(function(){let c=SK();if(c)return`https://${c}.chromiumapp.org`})();a&&(s=a);try{return await this.api.post(AF,{provider:this.meta.provider,redirect_to:this.meta.customOAuthRedirectUrl||s,token:this.meta.captchaToken,code_challenge:r,state_code:n},{headers:{...i}})}catch(c){throw Gt(c)}}constructor(e){this.meta=e}}function EMe(){let t=new URLSearchParams(window.location.search),e=t.get("privy_oauth_code"),n=t.get("privy_oauth_state"),r=t.get("privy_oauth_provider");if(!e||!n||!r)return{inProgress:!1};let i=!1;try{i=!!window.opener.location.origin}catch{}return{inProgress:!0,authorizationCode:e,stateCode:n,provider:r,withPrivyUi:!nt.get(P1),popupFlow:window.opener!==null&&i,disableSignup:!!nt.get(Ag)}}function Cze(){let t=new URL(window.location.href);t.searchParams.delete("privy_oauth_code"),t.searchParams.delete("privy_oauth_provider"),t.searchParams.delete("privy_oauth_state"),nt.del(N1),window.history.replaceState({},"",t)}class kh{async initRegisterFlow(e){if(!this.api)throw new se("Auth flow has no API instance");this.authenticateForRegistration=!0,this.meta.initRegisterResponse=await this.initRegisterOnce.execute(e)}async initAuthenticationFlow(e){if(!this.api)throw new se("Auth flow has no API instance");this.authenticateForRegistration=!1,this.meta.initAuthenticateResponse=await this.initAuthenticateOnce.execute(e)}async initLinkFlow(){if(!this.api)throw new se("Auth flow has no API instance");this.meta.initLinkResponse=await this.initLinkOnce.execute()}async register(){let e=await Fe(()=>import("./index-D9std1Z8.js"),[]);if(!this.api)throw new se("Auth flow has no API instance");if(!e.browserSupportsWebAuthn())throw new se("WebAuthn is not supported in this browser");this.meta.initRegisterResponse||(this.meta.initRegisterResponse=await this.initRegisterOnce.execute());try{let n=this.meta.initRegisterResponse.options,r=await e.startRegistration({optionsJSON:this._transformInitLinkOptionsToCamelCase(n)});return this.meta.setPasskeyAuthState?.({status:"submitting-response"}),await this.api.post(khe,{relying_party:this.meta.initRegisterResponse.relying_party,authenticator_response:this._transformRegistrationResponseToSnakeCase(r)})}catch(n){throw n.name==="NotAllowedError"?new se("Passkey request timed out or rejected by user.",void 0,Ae.PASSKEY_NOT_ALLOWED):Gt(n)}}async authenticate(){if(this.authenticateForRegistration)return this.register();let e=await Fe(()=>import("./index-D9std1Z8.js"),[]);if(!this.api)throw new se("Auth flow has no API instance");if(!e.browserSupportsWebAuthn())throw new se("WebAuthn is not supported in this browser");this.meta.initAuthenticateResponse||(this.meta.initAuthenticateResponse=await this.initAuthenticateOnce.execute());let n=this.meta.allowedCredentialsIds?.map((r=>({type:"public-key",id:r})))??this.meta.initAuthenticateResponse.options.allow_credentials;try{let r=await e.startAuthentication({optionsJSON:this._transformInitAuthenticateOptionsToCamelCase({...this.meta.initAuthenticateResponse.options,allow_credentials:n})});return this.meta.setPasskeyAuthState?.({status:"submitting-response"}),await this.api.post(Ohe,{relying_party:this.meta.initAuthenticateResponse.relying_party,challenge:this.meta.initAuthenticateResponse.options.challenge,authenticator_response:this._transformAuthenticationResponseToSnakeCase(r)})}catch(r){throw r.name==="NotAllowedError"?new se("Passkey request timed out or rejected by user.",void 0,Ae.PASSKEY_NOT_ALLOWED):Gt(r)}}async link(){let e=await Fe(()=>import("./index-D9std1Z8.js"),[]);if(!this.api)throw new se("Auth flow has no API instance");if(!e.browserSupportsWebAuthn())throw new se("WebAuthn is not supported in this browser");this.meta.initLinkResponse||(this.meta.initLinkResponse=await this.initLinkOnce.execute());try{let n=this.meta.initLinkResponse.options,r=await e.startRegistration({optionsJSON:this._transformInitLinkOptionsToCamelCase(n)});return this.meta.setPasskeyAuthState?.({status:"submitting-response"}),await this.api.post(Che,{relying_party:this.meta.initLinkResponse.relying_party,authenticator_response:this._transformRegistrationResponseToSnakeCase(r)})}catch(n){throw n.name==="NotAllowedError"?new se("Passkey request timed out or rejected by user.",void 0,Ae.PASSKEY_NOT_ALLOWED):Gt(n)}}async _initRegisterOnce(e){if(!this.api)throw new se("Auth flow has no API instance");let n=k0(e);return await this.api.post(Ihe,{token:this.meta.captchaToken},{headers:{...n}})}async _initAuthenticateOnce(e){if(!this.api)throw new se("Auth flow has no API instance");let n=k0(e);return await this.api.post(The,{token:this.meta.captchaToken},{headers:{...n}})}async _initLinkOnce(){if(!this.api)throw new se("Auth flow has no API instance");return await this.api.post(xhe,{})}_transformInitLinkOptionsToCamelCase(e){return{rp:e.rp,user:{id:e.user.id,name:e.user.name,displayName:e.user.display_name},challenge:e.challenge,pubKeyCredParams:e.pub_key_cred_params.map((n=>({type:n.type,alg:n.alg}))),timeout:e.timeout,excludeCredentials:e.exclude_credentials?.map((n=>({id:n.id,type:n.type,transports:n.transports}))),authenticatorSelection:{authenticatorAttachment:e.authenticator_selection?.authenticator_attachment,requireResidentKey:e.authenticator_selection?.require_resident_key,residentKey:e.authenticator_selection?.resident_key,userVerification:e.authenticator_selection?.user_verification},attestation:e.attestation,extensions:{appid:e.extensions?.app_id,credProps:e.extensions?.cred_props?.rk,hmacCreateSecret:e.extensions?.hmac_create_secret},hints:this.meta.hints}}_transformRegistrationResponseToSnakeCase(e){return{id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,attestation_object:e.response.attestationObject,authenticator_data:e.response.authenticatorData},authenticator_attachment:e.authenticatorAttachment,client_extension_results:{app_id:e.clientExtensionResults.appid,cred_props:e.clientExtensionResults.credProps,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret},type:e.type}}_transformInitAuthenticateOptionsToCamelCase(e){return{rpId:e.rp_id,challenge:e.challenge,allowCredentials:e.allow_credentials?.map((n=>({id:n.id,type:n.type,transports:n.transports})))||[],timeout:e.timeout,extensions:{appid:e.extensions?.app_id,credProps:e.extensions?.cred_props,hmacCreateSecret:e.extensions?.hmac_create_secret},userVerification:e.user_verification}}_transformAuthenticationResponseToSnakeCase(e){return{id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,authenticator_data:e.response.authenticatorData,signature:e.response.signature,user_handle:e.response.userHandle},authenticator_attachment:e.authenticatorAttachment,client_extension_results:{app_id:e.clientExtensionResults.appid,cred_props:e.clientExtensionResults.credProps,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret},type:e.type}}constructor({captchaToken:e,setPasskeyAuthState:n,hints:r}){this.authenticateForRegistration=!1,this.initRegisterOnce=new Xa(this._initRegisterOnce.bind(this)),this.initAuthenticateOnce=new Xa(this._initAuthenticateOnce.bind(this)),this.initLinkOnce=new Xa(this._initLinkOnce.bind(this)),this.meta={captchaToken:e,setPasskeyAuthState:n,hints:r}}}const B3=({address:t,chainId:e,nonce:n})=>`${window.location.host} wants you to sign in with your Ethereum account:
${t}

By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.

URI: ${window.location.origin}
Version: 1
Chain ID: ${e}
Nonce: ${n}
Issued At: ${new Date().toISOString()}
Resources:
- https://privy.io`;class o1{get meta(){return{connectorType:this.wallet?.connectorType,walletClientType:this.wallet?.walletClientType,chainId:this.wallet?.chainId,address:this.wallet?.address,disableSignup:this._meta.disableSignup}}async authenticate(){if(!this.client)throw new se("SiweFlow has no client instance");try{if(this.preparedMessage&&this.signature)return await this.client.authenticateWithSiweInternal({message:this.preparedMessage,signature:this.signature,chainId:this.wallet?.chainId,walletClientType:this.walletClientType??this.wallet?.walletClientType,connectorType:this.connectorType??this.wallet?.connectorType,mode:this._meta.disableSignup?"no-signup":"login-or-sign-up"});if(!this.wallet)throw new se("SiweFlow has no wallet instance");let{message:e,signature:n}=await this.sign();return await this.client.authenticateWithSiweInternal({message:e,signature:n,chainId:this.wallet.chainId,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw Gt(e)}}async link(){if(!this.client)throw new se("SiweFlow has no client instance");try{if(!this.wallet)throw new se("SiweFlow has no wallet instance");let{message:e,signature:n}=await this.sign();return await this.client.linkWithSiweInternal({message:e,signature:n,chainId:this.wallet.chainId,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType})}catch(e){throw Gt(e)}}async sign(){if(!this.client)throw new se("SiweFlow has no client instance");if(await this.buildMessage(),!this.preparedMessage)throw new se("Could not prepare SIWE message");if(!this.wallet)throw new se("SiweFlow has no wallet instance");let e=await this.wallet.sign(this.preparedMessage);return{message:this.preparedMessage,signature:e}}async _getNonceOnce(){if(!this.client)throw new se("SiweFlow has no client instance");if(!this.wallet)throw new se("UI SiweFlow has no wallet instance");return await this.client.generateSiweNonce({address:this.wallet.address,captchaToken:this.captchaToken})}async buildMessage(){if(!this.client)throw new se("SiweFlow has no client instance");if(!this.wallet)throw new se("SiweFlow has no wallet instance");let e=this.wallet.address,n=this.wallet.chainId.replace("eip155:","");return this.nonce||(this.nonce=await this.getNonceOnce.execute()),this.preparedMessage=B3({address:e,chainId:n,nonce:this.nonce}),this.preparedMessage}constructor(e,n,r,i=!1,s){this._meta={disableSignup:!1},this.getNonceOnce=new Xa(this._getNonceOnce.bind(this)),this.wallet=n,this.captchaToken=r,this.client=e,this._meta.disableSignup=i,this.preparedMessage=s?.message,this.signature=s?.signature,this.walletClientType=s?.walletClientType,this.connectorType=s?.connectorType}}class HU{get meta(){return{connectorType:this.wallet.connectorType,walletClientType:this.wallet.walletClientType,disableSignup:this._meta.disableSignup,messageType:this._meta.messageType,address:this.wallet?.address}}set messageType(e){this._meta.messageType=e}async authenticate(){if(!this.client)throw new se("SiwsFlow has no client instance");try{let{message:e,signature:n}=await this.sign();return await this.client.authenticateWithSiwsInternal({message:e,signature:n,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up",messageType:this.meta.messageType})}catch(e){throw Gt(e)}}async link(){if(!this.client)throw new se("SiwsFlow has no client instance");try{let{message:e,signature:n}=await this.sign();return await this.client.linkWithSiwsInternal({message:e,signature:n,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,messageType:this.meta.messageType})}catch(e){throw Gt(e)}}async sign(){let e,n;if(!this.client)throw new se("SiwsFlow has no client instance");await this.buildMessage();let r=this.meta.messageType==="transaction";if(!this.preparedMessage)throw new se("Could not prepare SIWS message");if(!r&&!this.wallet.provider.signMessage||r&&!this.wallet.provider.signTransaction)throw new se("Wallet does not support the necessary signing methods");if(r&&this._plugin){let i=await this.wallet.provider.signTransaction({transaction:Vd.decode(this.preparedMessage)});e=Vd.encode(i.signedTransaction),n=this._plugin.getSignatureFromTransaction(i.signedTransaction,this.wallet.address)}else{e=this.preparedMessage;let i=await this.wallet.provider.signMessage({message:new TextEncoder().encode(this.preparedMessage)});n=Vd.encode(i.signature)}return{message:e,signature:n}}async _getNonceOnce(){if(!this.client)throw new se("SiwsFlow has no client instance");return await this.client.generateSiwsNonce({address:this.wallet.address,captchaToken:this.captchaToken})}async buildMessage(){if(!this.client)throw new se("SiwsFlow has no client instance");let e=this.wallet.address;return this.nonce||(this.nonce=await this.getNonceOnce.execute()),this.meta.messageType==="transaction"&&this._plugin?this.preparedMessage=this._plugin.createSiwsMemoTransaction({address:e,nonce:this.nonce}):this.preparedMessage=Zhe({address:e,nonce:this.nonce}),this.preparedMessage}constructor(e,n,r,i=!1,s="plain",a){this._meta={disableSignup:!1,messageType:"plain"},this.getNonceOnce=new Xa(this._getNonceOnce.bind(this)),this.wallet=e,this.captchaToken=r,this.client=n,this._meta.disableSignup=i,this._meta.messageType=s,this._plugin=a}}class Kh{async authenticate(){if(!this.api)throw new se("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode)throw new se("phone number and sms code must be set prior to calling authenticate.");try{return await this.api.post(vhe,{phoneNumber:this.meta.phoneNumber,code:this.meta.smsCode,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw Gt(e)}}async link(){if(!this.api)throw new se("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode)throw new se("phone number and sms code must be set prior to calling authenticate.");try{return await this.api.post(bhe,{phoneNumber:this.meta.phoneNumber,code:this.meta.smsCode})}catch(e){throw Gt(e)}}async sendSmsCode({phoneNumber:e,captchaToken:n,withPrivyUi:r}){if(!this.api)throw new se("Auth flow has no API instance");if(e&&(this.meta.phoneNumber=e),n&&(this.meta.captchaToken=n),!this.meta.phoneNumber)throw new se("phone nNumber must be set when initialzing authentication.");let i=k0(r);try{return await this.api.post(ghe,{phoneNumber:this.meta.phoneNumber,token:this.meta.captchaToken},{headers:{...i}})}catch(s){throw Gt(s)}}constructor({phoneNumber:e,captchaToken:n,disableSignup:r}){this.meta={phoneNumber:e,captchaToken:n,disableSignup:r??!1}}}class AMe extends Kh{async link(){if(!this.api)throw new se("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode||!this.meta.oldPhoneNumber)throw new se("Phone number, sms code, and an old phone number must be set prior to calling update.");try{return await this.api.post(_he,{old_phone_number:this.meta.oldPhoneNumber,new_phone_number:this.meta.phoneNumber,code:this.meta.smsCode})}catch(e){throw Gt(e)}}constructor(e,n,r){super({phoneNumber:n,captchaToken:r}),this.meta={phoneNumber:n,captchaToken:r,oldPhoneNumber:e,disableSignup:!1}}}const IK=Y.createContext({enabled:!1,siteKey:"",provider:void 0,appId:void 0,token:void 0,error:void 0,status:"disabled",setToken:fe,setError:fe,setExecuting:fe,waitForResult:()=>Promise.resolve(""),ref:{current:null},remove:Fj,reset:fe,execute:fe});class L3 extends Bu{constructor(e,n,r){super(e||"Captcha failed"),this.type="Captcha",n instanceof Error&&(this.cause=n),this.privyErrorCode=r}}const SMe=({children:t,appId:e,captchaSiteKey:n,enabledCaptchaProvider:r})=>{let i=Y.useRef(null),s=Y.useRef(null),[a,c]=Y.useState(),[u,d]=Y.useState(),[h,p]=Y.useState(!1),m=Y.useMemo((()=>r?h||a||u?!h||a||u?a&&!u?{status:"success",token:a}:u?{status:"error",error:u}:{status:"ready"}:{status:"loading"}:{status:"ready"}:{status:"disabled"}),[r,a,u,h]),g=Y.useMemo((()=>r?r==="turnstile"?{remove:()=>{i.current?.remove(),p(!1),d(void 0),c(void 0)},reset:()=>{i.current?.reset(),p(!1),d(void 0),c(void 0)},execute:()=>{p(!0),i.current?.execute()},waitForResult:async()=>{try{return await SN((()=>i.current?.getResponse()),{interval:200,timeout:2e4})}catch{throw new L3("Captcha failed",null,Ae.CAPTCHA_TIMEOUT)}}}:{remove:()=>{s.current?.removeCaptcha(),p(!1),d(void 0),c(void 0)},reset:()=>{s.current?.resetCaptcha(),p(!1),d(void 0),c(void 0)},execute:()=>{p(!0),s.current?.execute()},waitForResult:async()=>{try{return await SN((()=>s.current?.getResponse()),{interval:200,timeout:2e4})}catch{throw new L3("Captcha failed",null,Ae.CAPTCHA_TIMEOUT)}}}:null),[r]),b=Y.useMemo((()=>{if(!r||!g)return{...m,enabled:!1,siteKey:"",appId:e,setToken:fe,setError:fe,setExecuting:fe,waitForResult:()=>Promise.resolve(void 0),remove:Fj,reset:fe,execute:fe,provider:void 0,ref:{current:null}};let v={...m,enabled:!0,appId:e,setToken:c,setError:d,setExecuting:p};return r==="turnstile"?{...v,provider:"turnstile",ref:i,siteKey:n.split("t:")[1]??"",...g}:{...v,provider:"hcaptcha",ref:s,siteKey:n.split("h:")[1]??"",...g}}),[m,r,g,e,n]);return he.jsx(IK.Provider,{value:b,children:t})},CK=()=>Y.useContext(IK);class Am{async authenticate(){if(!this.api)throw new se("Auth flow has no API instance");try{return await this.api.post(Rhe,{captcha_token:this.meta.captchaToken,telegram_auth_result:this.meta.telegramAuthResult,telegram_web_app_data:this.meta.telegramWebAppData,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw Gt(e)}}async link(){if(!this.api)throw new se("Auth flow has no API instance");try{return await this.api.post($he,{telegram_auth_result:this.meta.telegramAuthResult,telegram_web_app_data:this.meta.telegramWebAppData})}catch(e){throw Gt(e)}}constructor(e,n=!1){this.meta={disableSignup:!1},this.meta={captchaToken:e,disableSignup:!1},this.meta.disableSignup=n}}function Oze(t){let e={detail:"",retryable:!1};return t?.privyErrorCode===Ae.LINKED_TO_ANOTHER_USER&&(e.detail="This account has already been linked to another user."),t?.privyErrorCode===Ae.DISALLOWED_LOGIN_METHOD&&(e.detail="Login with Telegram not allowed."),t?.privyErrorCode===Ae.INVALID_DATA&&(e.retryable=!0,e.detail="Something went wrong. Try again."),t?.privyErrorCode===Ae.CANNOT_LINK_MORE_OF_TYPE&&(e.retryable=!0,e.detail="Something went wrong. Try again."),t?.privyErrorCode===Ae.INVALID_CREDENTIALS&&(e.retryable=!0,e.detail="Something went wrong. Try again."),t?.privyErrorCode===Ae.TOO_MANY_REQUESTS&&(e.detail="Too many requests. Please wait before trying again."),t?.privyErrorCode===Ae.TOO_MANY_REQUESTS&&t.message.includes("rate limit")&&(e.detail="Request limit reached for Telegram. Please wait a moment and try again."),t instanceof L3&&(e.retryable=!0,e.detail="Something went wrong. Try again."),e}function VU(t){return Object.fromEntries(decodeURIComponent(t).split("&").map((e=>e.split("=").map(decodeURIComponent))))}function GU(){let t=new URL(window.location.href);t.searchParams.delete("id"),t.searchParams.delete("hash"),t.searchParams.delete("auth_date"),t.searchParams.delete("first_name"),t.searchParams.delete("last_name"),t.searchParams.delete("username"),t.searchParams.delete("photo_url"),t.hash="",window.history.replaceState({},"",t)}let xMe=Y.lazy((()=>Fe(()=>import("./TurnstileWrapper-Co-t5mTh-otXtJCtc.js"),[]))),TMe=Y.lazy((()=>Fe(()=>import("./HCaptchaWrapper-Dl2Jt_Df-DWhAyzeV.js"),[])));const IMe=t=>{let e=CK();return Y.useEffect((()=>e.remove),[e.remove]),e.enabled&&e.provider?he.jsx(Y.Suspense,{fallback:null,children:he.jsxs("div",{className:"hidden h-0 w-0",children:[e.provider==="turnstile"&&he.jsx(xMe,{...t,captchaContext:e}),e.provider==="hcaptcha"&&he.jsx(TMe,{...t,captchaContext:e})]})}):null};var KE=Object.freeze({__proto__:null,AccountNotFoundScreen:()=>Fe(()=>import("./AccountNotFoundScreen-BzbvtCmu-CBvjEw_a.js"),__vite__mapDeps([3,4,5,6,7,8,9])),AffirmativeConsentScreen:()=>Fe(()=>import("./AffirmativeConsentScreen-CrZKQjas-BJT1NGbQ.js"),__vite__mapDeps([10,5,11,4,6,7,8,9,12])),AllowlistRejectionScreen:()=>Fe(()=>import("./AllowlistRejectionScreen-DhhfJ6ai-DrSC9me4.js"),__vite__mapDeps([13,4,5,6,7,8,14,9])),AuthenticateWithWalletScreen:()=>Fe(()=>import("./AuthenticateWithWalletScreen-BN0s1mtv-CLRDAEwI.js"),__vite__mapDeps([15,16,5,17,18,7,19,20,21,22,23,24,6,8])),AwaitingEvmToSolBridgingScreen:()=>Fe(()=>import("./AwaitingEvmToSolBridgingScreen-C7mp2-Hy-BnADZHDw.js"),__vite__mapDeps([25,26,27,7,28,29,8,30,31,32,33,34,35,36,37,38,5,39,40,22,41,42,43,44,45,46,47,48,9,49,50,51,52,53,54,55,56,57])),AwaitingExternalEthereumTransferScreen:()=>Fe(()=>import("./AwaitingExternalEthereumTransferScreen-EqM4Kcsu-CSc4aCk6.js"),__vite__mapDeps([58,26,27,7,28,29,8,30,31,59,53,54,32,33,37,38,5,39,40,22,41,42,43,34,44,45,46,47,48,9,49,50,51,52,55,56,60,2,57])),AwaitingPasswordlessCodeScreen:()=>Fe(()=>import("./AwaitingPasswordlessCodeScreen-NAVmxM9--hiYAqgZ0.js"),__vite__mapDeps([61,62,63,27,18,11,4,5,6,7,8])),AwaitingSolToEvmBridgingScreen:()=>Fe(()=>import("./AwaitingSolToEvmBridgingScreen-dC9b-wlg-By025plb.js"),__vite__mapDeps([64,26,27,7,28,29,8,32,33,45,46,43,39,40,47,5,48,9,49,50,60,2])),CaptchaScreen:()=>Fe(()=>import("./CaptchaScreen-CTRyyYc9-BMAgh9qd.js"),__vite__mapDeps([65,4,5,6,7,8,66,9,67])),CoinbaseOnrampStatusScreen:()=>Fe(()=>import("./CoinbaseOnrampStatusScreen-BNmvm8Bl-DfwngwaG.js"),__vite__mapDeps([68,69,70,5,27,7,32])),ConnectLedgerScreen:()=>Fe(()=>import("./ConnectLedgerScreen-BEhSz1FM-DUwn-AMA.js"),__vite__mapDeps([71,4,5,6,7,8,9])),ConnectOnlyLandingScreen:()=>Fe(()=>import("./ConnectOnlyLandingScreen-ZnI9ReZJ-B1KF-Vdd.js"),__vite__mapDeps([72,16,5,17,18,7,19,20,21,22,23,24,6,8])),ConnectOnlyStatusScreen:()=>Fe(()=>import("./ConnectOnlyStatusScreen-1oCuFsd6-DPSEKAUw.js"),__vite__mapDeps([73,4,5,6,7,8,74,18,23,11])),ConnectOrCreateScreen:()=>Fe(()=>import("./ConnectOrCreateScreen-BOO4iaC6-BSljGLg6.js"),__vite__mapDeps([75,76,7,16,5,17,18,19,20,21,22,23,24,6,8,77,44,40,78,9,79,80,81,82,83,84,4])),ConnectionStatusScreen:()=>Fe(()=>import("./ConnectionStatusScreen-CZNBQeOQ-_QGX4ht4.js"),__vite__mapDeps([74,18,23,11,4,5,6,7,8])),CrossAppAuthScreen:()=>Fe(()=>import("./CrossAppAuthScreen-Bno8NQSa-D5MfQH_Y.js"),__vite__mapDeps([85,11,4,5,6,7,8])),DelegatedActionsConsentScreen:()=>Fe(()=>import("./DelegatedActionsConsentScreen-B0AwZEKc-DVgZbW1q.js"),__vite__mapDeps([86,87,5,22,88,47,48,9,49,51,4,6,7,8,89,66])),DelegatedActionsRevokeScreen:()=>Fe(()=>import("./DelegatedActionsRevokeScreen-D0mAKxDs-B5oZ4Hsc.js"),__vite__mapDeps([90,4,5,6,7,8,89,9,66])),EmbeddedWalletConnectingScreen:()=>Fe(()=>import("./EmbeddedWalletConnectingScreen-9ADobSle-NF4EtMzx.js"),__vite__mapDeps([91,4,5,6,7,8,67,9])),EmbeddedWalletCreatedScreen:()=>Fe(()=>import("./EmbeddedWalletCreatedScreen-B7TnCst_-BYR5ajDx.js"),__vite__mapDeps([92,4,5,6,7,8,66,9])),EmbeddedWalletKeyExportScreen:()=>Fe(()=>import("./EmbeddedWalletKeyExportScreen-Cmp2CUOa-B1krhQpr.js"),__vite__mapDeps([93,94,95,87,5,22,88,47,48,9,49,51,4,6,7,8])),EmbeddedWalletOnAccountCreateScreen:()=>Fe(()=>import("./EmbeddedWalletOnAccountCreateScreen-vxaCVWy1-LzSYMMky.js"),__vite__mapDeps([96,97,4,5,6,7,8,67,9])),EmbeddedWalletPasswordCreateScreen:()=>Fe(()=>import("./RecoveryPasswordCreateScreen-jWT25C0X-BDVtLeG9.js"),__vite__mapDeps([98,97,99,95,27,7,100,5,101,70,28])),EmbeddedWalletPasswordUpdateScreen:()=>Fe(()=>import("./EmbeddedWalletPasswordUpdateScreen-C4dNnXVI-B0OlP8J0.js"),__vite__mapDeps([102,99,95,27,7,100,5,101,70,28])),EmbeddedWalletPasswordUpdateSplashScreen:()=>Fe(()=>import("./EmbeddedWalletPasswordUpdateSplashScreen-BPTp0nwT-CMBpQ8ly.js"),__vite__mapDeps([103,4,5,6,7,8,14,9])),ErrorScreen:()=>Fe(()=>import("./ErrorScreen-Yi-Rhs0v-1em1Pt3Z.js"),__vite__mapDeps([104,33,4,5,6,7,8,9,14])),FarcasterConnectStatusScreen:()=>Fe(()=>import("./FarcasterConnectStatusScreen-BfoDjDwg-DuIrbV37.js"),__vite__mapDeps([105,106,19,20,5,88,11,4,6,7,8,79,48,9,49])),FarcasterSignerStatusScreen:()=>Fe(()=>import("./FarcasterSignerStatusScreen-CsSFmDry-Bmr__Km-.js"),__vite__mapDeps([107,108,17,106,19,20,4,5,6,7,8,79])),FundSolWalletWithExternalSolanaWallet:()=>Fe(()=>import("./FundSolWalletWithExternalSolanaWallet-BIk-6GIl-CLofgfrX.js"),__vite__mapDeps([109,26,5,27,7,28,29,46,43,8,39,40,30,31,32,36,110,34,56])),FundingAmountEditScreen:()=>Fe(()=>import("./FundingEditAmountScreen-CzbuYpdw-DLwRx3Gn.js"),__vite__mapDeps([111,5,27,7,29,8,42,30,31,54,55])),FundingMethodSelectionScreen:()=>Fe(()=>import("./FundingMethodSelectionScreen-DdZxdcVe-CAb-tGqq.js"),__vite__mapDeps([112,69,7,29,113,114,115,24,116,117,32,55])),InAppBrowserLoginNotPossible:()=>Fe(()=>import("./InAppBrowserLoginNotPossible-COUNBN1W-DSfXPyrl.js"),__vite__mapDeps([118,4,5,6,7,8,12,9])),InstallWalletScreen:()=>Fe(()=>import("./InstallWalletScreen-BjprJkty-DcdJ2aTz.js"),__vite__mapDeps([119,18,120,9,48,4,5,6,7,8])),LandingScreen:()=>Fe(()=>import("./LandingScreen-Dp4m_c2X-DpGXsGm1.js"),__vite__mapDeps([121,76,7,16,5,17,18,19,20,21,22,23,24,6,8,77,44,40,78,9,79,80,81,82,83,84,4])),LinkConflictScreen:()=>Fe(()=>import("./LinkConflictScreen-DMHPhlV7-Cc0VDc9I.js"),__vite__mapDeps([122,95,43,5,7,123,47,48,9,49,124,114])),LinkEmailScreen:()=>Fe(()=>import("./LinkEmailScreen-D7VTyZrH-Bu28bnga.js"),__vite__mapDeps([125,62,77,5,44,40,21,22,78,9,27,4,6,7,8])),LinkPasskeyScreen:()=>Fe(()=>import("./LinkPasskeyScreen-B5LWH116-C6LhZMuw.js"),__vite__mapDeps([126,120,9,48,4,5,6,7,8,66,127])),LinkPhoneScreen:()=>Fe(()=>import("./LinkPhoneScreen-DdRe154C-CurFU3Sa.js"),__vite__mapDeps([128,63,81,5,44,40,4,6,7,8])),LoginFailedScreen:()=>Fe(()=>import("./LoginFailedScreen-CZnzwKpB-SJr7J-vK.js"),__vite__mapDeps([129,4,5,6,7,8,67,9])),ManualTransferScreen:()=>Fe(()=>import("./ManualTransferScreen-Bn2qhDAI-CRDXgyBi.js"),__vite__mapDeps([130,5,27,7,19,20,29,115,41,42,87,22,88,47,48,9,49,51,131,32,34,110,36,35,38,56])),MfaAuthEnrollmentFlowScreen:()=>Fe(()=>import("./MfaAuthEnrollmentFlowScreen-CWMULcQb-6LhSK-to.js"),__vite__mapDeps([132,7,133,5,134,135,80,63,44,40,104,33,4,6,8,9,14,126,120,48,66,127,108,17,27,88,41,42,51,19,20])),MfaAuthVerifyFlowScreen:()=>Fe(()=>import("./MfaAuthVerifyFlowScreen-B3Hw1YN--B3HfDnj5.js"),__vite__mapDeps([136,137,135,80,63,133,7,4,5,6,8,95,123,30,31,138,139,54,36,35,27,52])),MfaEnrollmentFlowScreen:()=>Fe(()=>import("./MfaEnrollmentFlowScreen-DcnqGJ3O-CO2yXOc_.js"),__vite__mapDeps([140,7,133,5,134,135,80,63,44,40,104,33,4,6,8,9,14,126,120,48,66,127,108,17,27,88,41,42,51,19,20,26,81])),MoonpayStatusScreen:()=>Fe(()=>import("./MoonpayStatusScreen-lYMS5etL-66pYLWxs.js"),__vite__mapDeps([141,69,70,5,27,7,117,32])),OAuthStatusScreen:()=>Fe(()=>import("./OAuthStatusScreen-DEtT_t2P-ayMpHex3.js"),__vite__mapDeps([142,82,50,11,4,5,6,7,8,124])),PasskeySelectSignupOrLogin:()=>Fe(()=>import("./PasskeySelectSignupOrLogin-DgH-G2yO-DO7-_96W.js"),__vite__mapDeps([143,4,5,6,7,8,127,9])),PasskeyStatusScreen:()=>Fe(()=>import("./PasskeyStatusScreen-BOac_MoC-BnRCoTU-.js"),__vite__mapDeps([144,11,4,5,6,7,8,127,9])),PasswordRecoveryScreen:()=>Fe(()=>import("./PasswordRecoveryScreen-CT1bj8Gb-WQ3q6FFU.js"),__vite__mapDeps([145,133,5,27,100,6,7,8])),RecoveryOAuthScreen:()=>Fe(()=>import("./RecoveryOAuthStatusScreen-Ce6qiP-3-DhOYhCs2.js"),__vite__mapDeps([146,5,7,28,97,147])),RecoverySelectionScreen:()=>Fe(()=>import("./RecoverySelectionScreen-_u02vomS-DVl1Z457.js"),__vite__mapDeps([148,149,7,5,28,147])),SendTransactionScreen:()=>Fe(()=>import("./index-DNmMGazz-CRXeCp6p.js"),__vite__mapDeps([150,47,5,48,9,49,30,31,131,116,53,54,104,33,4,6,7,8,14,151,152,39,40,22,88,41,42,87,51,101,113,114,94,95,52,56,27,28,138,139,36,35,59])),SetAutomaticRecoveryScreen:()=>Fe(()=>import("./SetAutomaticRecoveryScreen-CUheSZ7h-BvTBfFEI.js"),__vite__mapDeps([153,95,149,5,7,41,42])),SignRequestScreen:()=>Fe(()=>import("./SignRequestScreen-BNC2mYtk-jfsJWwmr.js"),__vite__mapDeps([154,108,17,27,151,4,5,6,7,8,9])),StandardSignAndSendTransactionScreen:()=>Fe(()=>import("./StandardSignAndSendTransactionScreen-Ckxfv32q-B8RIjG0V.js"),__vite__mapDeps([155,31,104,33,4,5,6,7,8,9,14,26,27,28,39,40,139,54,36,35,123,152,22,88,41,42,47,48,49,87,51,101,113,114,94,95,52,56])),TelegramAuthScreen:()=>Fe(()=>import("./TelegramAuthScreen-xobB3RHK-dqKgMIqV.js"),__vite__mapDeps([156,11,4,5,6,7,8,83])),TransferFromWalletScreen:()=>Fe(()=>import("./TransferFromWalletScreen-CLqyv8Ra-pC7x8ONL.js"),__vite__mapDeps([157,7,28,29,44,40,41,84,9,46,43,55])),UpdateEmailScreen:()=>Fe(()=>import("./UpdateEmailScreen-BVzkFXeI-h0OrxvDr.js"),__vite__mapDeps([158,62,27,5,21,22,4,6,7,8,78,9])),UpdatePhoneScreen:()=>Fe(()=>import("./UpdatePhoneScreen-DZ_resri-BKFOoCBp.js"),__vite__mapDeps([159,63,81,5,44,40,4,6,7,8])),UserLimitReachedScreen:()=>Fe(()=>import("./UserLimitReachedScreen-CTmSitf0-CMqoLNwB.js"),__vite__mapDeps([160,4,5,6,7,8])),WalletInterstitialScreen:()=>Fe(()=>import("./WalletInterstitialScreen-tDCVxTFi-Bv9go9H7.js"),__vite__mapDeps([161,4,5,6,7,8]))});function CMe(t){cE("configureMfa",t)}const R0=vf((()=>({inProgressMfaFlow:void 0}))),OMe=Sue([":root{","};"],(t=>kMe(t.palette))),kMe=t=>rb(["",""],Object.entries((function(e){return{"--privy-color-background":e.background,"--privy-color-background-2":e.background2,"--privy-color-background-3":e.background3,"--privy-color-foreground":e.foreground,"--privy-color-foreground-2":e.foreground2,"--privy-color-foreground-3":e.foreground3,"--privy-color-foreground-4":e.foreground4,"--privy-color-foreground-accent":e.foregroundAccent,"--privy-color-accent":e.accent,"--privy-color-accent-light":e.accentLight,"--privy-color-accent-hover":e.accentHover,"--privy-color-accent-dark":e.accentDark,"--privy-color-accent-darkest":e.accentDarkest,"--privy-color-success":e.success,"--privy-color-success-dark":e.successDark,"--privy-color-success-light":e.successLight,"--privy-color-success-bg":e.successBg,"--privy-color-error":e.error,"--privy-color-error-light":e.errorLight,"--privy-color-error-bg":e.errorBg,"--privy-color-error-bg-hover":e.errorBgHover,"--privy-color-warn":e.warn,"--privy-color-warn-light":e.warnLight,"--privy-color-warn-bg":e.warnBg,"--privy-color-warning-dark":e.warningDark,"--privy-color-error-dark":e.errorDark,"--privy-color-info-bg":e.infoBg,"--privy-color-info-bg-hover":e.infoBgHover,"--privy-color-border-default":e.borderDefault,"--privy-color-border-hover":e.borderHover,"--privy-color-border-focus":e.borderFocus,"--privy-color-border-error":e.borderError,"--privy-color-border-success":e.borderSuccess,"--privy-color-border-warning":e.borderWarning,"--privy-color-border-info":e.borderInfo,"--privy-color-border-interactive":e.borderInteractive,"--privy-color-border-interactive-hover":e.borderInteractiveHover,"--privy-color-background-hover":e.backgroundHover,"--privy-color-background-clicked":e.backgroundClicked,"--privy-color-background-disabled":e.backgroundDisabled,"--privy-color-background-interactive":e.backgroundInteractive,"--privy-color-background-interactive-hover":e.backgroundInteractiveHover,"--privy-color-background-interactive-clicked":e.backgroundInteractiveClicked,"--privy-color-background-interactive-disabled":e.backgroundInteractiveDisabled,"--privy-color-foreground-hover":e.foregroundHover,"--privy-color-foreground-clicked":e.foregroundClicked,"--privy-color-foreground-disabled":e.foregroundDisabled,"--privy-color-foreground-interactive":e.foregroundInteractive,"--privy-color-foreground-interactive-hover":e.foregroundInteractiveHover,"--privy-link-navigation-color":e.linkNavigationColor,"--privy-link-navigation-decoration":e.linkNavigationDecoration,"--privy-accent-has-good-contrast":e.accentHasGoodContrast,"--privy-color-icon-default":e.iconDefault,"--privy-color-icon-muted":e.iconMuted,"--privy-color-icon-subtle":e.iconSubtle,"--privy-color-icon-inverse":e.iconInverse,"--privy-color-icon-success":e.iconSuccess,"--privy-color-icon-warning":e.iconWarning,"--privy-color-icon-error":e.iconError,"--privy-color-icon-interactive":e.iconInteractive,"--privy-color-icon-default-hover":e.iconDefaultHover,"--privy-color-icon-muted-hover":e.iconMutedHover,"--privy-color-icon-subtle-hover":e.iconSubtleHover,"--privy-color-icon-default-clicked":e.iconDefaultClicked,"--privy-color-icon-muted-clicked":e.iconMutedClicked,"--privy-color-icon-subtle-clicked":e.iconSubtleClicked,"--privy-color-icon-default-disabled":e.iconDefaultDisabled,"--privy-color-icon-muted-disabled":e.iconMutedDisabled,"--privy-color-icon-subtle-disabled":e.iconSubtleDisabled,"--privy-color-icon-error-hover":e.iconErrorHover,"--privy-color-icon-interactive-hover":e.iconInteractiveHover,"--privy-color-icon-error-clicked":e.iconErrorClicked,"--privy-color-icon-interactive-clicked":e.iconInteractiveClicked,"--privy-color-icon-muted-disabled-alt":e.iconMutedDisabledAlt,"--privy-color-icon-subtle-disabled-alt":e.iconSubtleDisabledAlt,"--privy-border-radius-xs":"6px","--privy-border-radius-sm":"8px","--privy-border-radius-md":"12px","--privy-border-radius-mdlg":"16px","--privy-border-radius-lg":"24px","--privy-border-radius-full":"9999px","--privy-height-modal-full":"620px","--privy-height-modal-compact":"480px"}})(t)).map((([e,n])=>`${e}: ${n};`)).join(`
`)),KU=Gn.div.withConfig({displayName:"StylesWrapper",componentId:"sc-188229e4-0"})([""," color:var(--privy-color-foreground-2);h3{font-size:16px;line-height:24px;font-weight:500;color:var(--privy-color-foreground-2);}h4{font-size:14px;line-height:20px;font-weight:500;color:var(--privy-color-foreground);}p{font-size:13px;line-height:20px;color:var(--privy-color-foreground-2);}button:focus,input:focus,optgroup:focus,select:focus,textarea:focus{outline:none;border-color:var(--privy-color-accent-light);box-shadow:0 0 0 3px var(--privy-color-border-focus);}.mobile-only{@media (min-width:441px){display:none;}}@keyframes fadein{0%{opacity:0;}100%{opacity:1;}}"],`
  *,
  ::before,
  ::after {
    box-sizing: border-box;
    border-width: 0;
    border-style: solid;
  }

  line-height: 1.15;
  -webkit-text-size-adjust: 100%;
  -moz-tab-size: 4;
  tab-size: 4;
  font-feature-settings: normal;

  margin: 0;
  font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif,
    'Apple Color Emoji', 'Segoe UI Emoji';

  hr {
    height: 0;
    color: inherit;
    border-top-width: 1px;
  }

  abbr:where([title]) {
    text-decoration: underline dotted;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-size: inherit;
    font-weight: inherit;
    font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif,
    'Apple Color Emoji', 'Segoe UI Emoji';
    display: inline;
  }

  a {
    color: inherit;
    text-decoration: inherit;
  }

  b,
  strong {
    font-weight: bolder;
  }

  code,
  kbd,
  samp,
  pre {
    font-family: ui-monospace, SFMono-Regular, Consolas, 'Liberation Mono', Menlo, monospace;
    font-size: 1em;
  }

  small {
    font-size: 80%;
  }

  sub,
  sup {
    font-size: 75%;
    line-height: 0;
    position: relative;
    vertical-align: baseline;
  }

  sub {
    bottom: -0.25em;
  }

  sup {
    top: -0.5em;
  }

  table {
    text-indent: 0;
    border-color: inherit;
    border-collapse: collapse;
  }

  button,
  input,
  optgroup,
  select,
  textarea {
    font-family: inherit;
    font-size: 100%;
    font-weight: inherit;
    line-height: inherit;
    color: inherit;
    margin: 0;
    padding: 0;
  }

  button,
  select {
    text-transform: none;
  }

  button,
  [type='button'],
  [type='reset'],
  [type='submit'] {
    -webkit-appearance: button;
    background-color: transparent;
    background-image: none;
  }

  ::-moz-focus-inner {
    border-style: none;
    padding: 0;
  }

  :-moz-focusring {
    outline: 1px dotted ButtonText;
  }

  :-moz-ui-invalid {
    box-shadow: none;
  }

  legend {
    padding: 0;
  }

  progress {
    vertical-align: baseline;
  }

  ::-webkit-inner-spin-button,
  ::-webkit-outer-spin-button {
    height: auto;
  }

  [type='search'] {
    -webkit-appearance: textfield;
    outline-offset: -2px;
  }

  ::-webkit-search-decoration {
    -webkit-appearance: none;
  }

  ::-webkit-file-upload-button {
    -webkit-appearance: button;
    font: inherit;
  }

  summary {
    display: list-item;
  }

  blockquote,
  dl,
  dd,
  h1,
  h2,
  h3,
  h4,
  h5,
  h6,
  hr,
  figure,
  p,
  pre {
    margin: 0;
  }

  fieldset {
    margin: 0;
    padding: 0;
  }

  legend {
    padding: 0;
  }

  ol,
  ul,
  menu {
    list-style: none;
    margin: 0;
    padding: 0;
  }

  textarea {
    resize: vertical;
  }

  input::placeholder,
  textarea::placeholder {
    opacity: 1;
    color: #9ca3af;
  }

  button,
  [role='button'] {
    cursor: pointer;
  }

  :disabled {
    cursor: default;
  }

  img,
  svg,
  video,
  canvas,
  audio,
  iframe,
  embed,
  object {
    display: block;
  }

  img,
  video {
    max-width: 100%;
    height: auto;
  }

  [hidden] {
    display: none;
  }
`),RMe=({children:t,open:e,onClick:n,...r})=>he.jsx(pq,{show:e,as:et.Fragment,children:he.jsxs(gme,{onClose:n,...r,as:NMe,children:[he.jsx(b0,{as:et.Fragment,enterFrom:"entering",leaveTo:"leaving",children:he.jsx($Me,{id:"privy-dialog-backdrop","aria-hidden":"true"})}),he.jsx(PMe,{children:he.jsx(b0,{as:et.Fragment,enterFrom:"entering",leaveTo:"leaving",children:he.jsx(yq,{as:DMe,children:t})})})]})});let $Me=Gn.div.withConfig({displayName:"Backdrop",componentId:"sc-3cfde0b5-0"})(["position:fixed;inset:0;transition:backdrop-filter 100ms ease;backdrop-filter:blur(3px);-webkit-backdrop-filter:blur(3px);&.entering,&.leaving{backdrop-filter:unset;-webkit-backdrop-filter:unset;}"]),NMe=Gn.div.withConfig({displayName:"DialogWrapper",componentId:"sc-3cfde0b5-1"})(["position:relative;z-index:999999;"]),PMe=Gn.div.withConfig({displayName:"DialogContainer",componentId:"sc-3cfde0b5-2"})(["position:fixed;inset:0;display:flex;align-items:center;justify-content:center;width:100vw;min-height:100vh;"]);const DMe=Gn.div.withConfig({displayName:"Panel",componentId:"sc-3cfde0b5-3"})(["padding:0;background:transparent;border:none;width:100%;pointer-events:auto;outline:none;display:block;@media (max-width:440px){opacity:1;transform:translate3d(0,0,0);transition:transform 200ms ease-in;position:fixed;bottom:0;&.entering,&.leaving{opacity:0;transform:translate3d(0,100%,0);transition:transform 150ms ease-in 0ms,opacity 0ms ease 150ms;}}@media (min-width:441px){opacity:1;transition:opacity 100ms ease-in;&.entering,&.leaving{opacity:0;transition-delay:5ms;}margin:auto;width:360px;box-shadow:0px 8px 36px rgba(55,65,81,0.15);border-radius:var(--privy-border-radius-lg);}"]),MMe=()=>{let{ready:t}=tb(),{currentScreen:e}=Ru(),[n,r]=Y.useState(null),[i,s]=Y.useState(!1),a=(function(c){let[u,d]=Y.useState(!1),h=Y.useRef(null),p=Y.useRef(null),m=Y.useRef(null);return Y.useEffect((()=>{if(h.current&&(clearTimeout(h.current),h.current=null),p.current&&(clearTimeout(p.current),p.current=null),c)m.current=Date.now(),h.current=setTimeout((()=>{d(!0)}),150);else if(m.current!==null){let g=Date.now()-m.current;if(g>=150){let b=Math.max(0,400-(g-150));p.current=setTimeout((()=>{d(!1),m.current=null}),b)}else h.current&&(clearTimeout(h.current),h.current=null),d(!1),m.current=null}return()=>{h.current&&clearTimeout(h.current),p.current&&clearTimeout(p.current)}}),[c]),u})(i);return Y.useEffect((()=>{if(!e)return r(null),void s(!1);s(!0),KE[e]().then((c=>{(!e||t||c.default.isShownBeforeReady)&&(r((()=>c.default.component)),s(!1))})).catch((()=>{r(null),s(!1)}))}),[e,t]),{component:n,isLoading:a}};let YU=Y.lazy((()=>Fe(()=>import("./MfaVerifyFlowScreen-BEt8Gfpb-Cf5Q3Bzy.js"),__vite__mapDeps([162,137,135,80,63,133,7,4,5,6,8,95,123,30,31,138,139,54,36,35,27,52])))),UMe=Y.lazy((()=>(t=>KE[t]().then((e=>({default:e.default.component}))))("MfaAuthVerifyFlowScreen"))),BMe=()=>he.jsx(FMe,{children:he.jsx(uE,{})}),OK=()=>{let{currentScreen:t}=Ru(),e=R0((s=>s.inProgressMfaFlow)),n=()=>R0.setState({inProgressMfaFlow:void 0}),{component:r,isLoading:i}=MMe();return(function(){let{isModalOpen:s}=tb(),{headless:a}=Sa(),{currentScreen:c}=Ru(),{status:u,execute:d,reset:h,enabled:p}=CK(),[m,g]=Y.useState(!1);Y.useEffect((()=>{!s&&p&&h()}),[s,p,h]),Y.useEffect((()=>{c?KE[c]().then((b=>{g(!!b.default.isCaptchaRequired)})).catch((()=>{g(!1)})):g(!1)}),[c]),Y.useEffect((()=>{s&&m&&!a&&u==="ready"&&p&&d()}),[s,m,a,u,p,d])})(),t||e!=="txn"?i?he.jsx(BMe,{}):r?he.jsxs(he.Fragment,{children:[he.jsx(Pz,{$if:!!e,children:he.jsx(Y.Suspense,{children:he.jsx(r,{})})}),he.jsxs(Y.Suspense,{children:[e==="txn"&&he.jsx(YU,{onClose:n}),e==="auth"&&he.jsx(UMe,{})]})]}):null:he.jsxs(Y.Suspense,{children:[he.jsx(YU,{onClose:n}),";"]})},LMe=()=>{let t=Y.useRef(null);return he.jsx(zMe,{style:{height:Lue(t)},id:"privy-modal-content",children:he.jsx("div",{ref:t,children:he.jsx(OK,{})})})};const jMe=({open:t})=>{let e=Sa(),{gracefulClosePrivyModal:n}=(()=>{let{closePrivyModal:i}=xa(),{onUserCloseViaDialogOrKeybindRef:s}=Ru();return{gracefulClosePrivyModal:Y.useCallback((()=>{if(!s?.current)return i({shouldCallAuthOnSuccess:!1});s.current()}),[i])}})(),r=R0((i=>i.inProgressMfaFlow));return CMe({onMfaRequired:()=>{e.mfa.noPromptOnMfaRequired||R0.setState({inProgressMfaFlow:"txn"})}}),e.render.standalone?he.jsx(KU,{children:he.jsx(kK,{id:"privy-modal-content",children:he.jsx(OK,{})})}):he.jsx(RMe,{open:!(!t&&!r),id:"privy-dialog","aria-label":"log in or sign up","aria-labelledby":"privy-dialog-title",onClick:()=>n(),children:he.jsx(KU,{children:he.jsx(LMe,{})})})};let kK=Gn.div.withConfig({displayName:"ContentWrapper",componentId:"sc-9b080f09-0"})(["display:flex;flex-direction:column;text-align:center;font-size:14px;line-height:20px;width:100%;background:var(--privy-color-background);padding:0 16px;"]),zMe=Gn(kK).withConfig({displayName:"BaseModal",componentId:"sc-9b080f09-1"})(["transition:height 150ms ease-out;overflow-x:hidden;overflow-y:auto;scrollbar-width:none;max-height:calc(100svh - 32px);border-radius:var(--privy-border-radius-lg) var(--privy-border-radius-lg) 0 0;box-shadow:0px 0px 36px rgba(55,65,81,0.15);@media (min-width:441px){box-shadow:0px 8px 36px rgba(55,65,81,0.15);border-radius:var(--privy-border-radius-lg);}"]),FMe=Gn.div.withConfig({displayName:"LoadingScreenContainer",componentId:"sc-9b080f09-2"})(["display:flex;align-items:center;justify-content:center;min-height:300px;padding:2rem;"]);function qMe(t){let e=Y.useRef(null),n=Y.useRef();return Y.useEffect((()=>{n.current?.remove(),n.current=(function({botUsername:r,scriptHost:i}){let s=document.createElement("script"),{origin:a}=new URL(i);return s.async=!0,s.src=`${a}/js/telegram-login.js`,s.setAttribute("data-telegram-login",r),s.setAttribute("data-request-access","write"),s.setAttribute("data-lang","en"),s})(t),e.current?.after(n.current)}),[t]),he.jsx("div",{ref:e,hidden:!0})}const WMe=()=>{let{ready:t}=tC(),{client:e}=xa();return Y.useEffect((()=>{let n=()=>{if(!e.connectors||!t)return;let r=e.connectors.wallets.map((i=>({address:i.address,connectorType:i.connectorType,walletClientType:i.walletClientType,connectedAt:i.connectedAt,id:i.meta.id})));nt.put(Nj,r)};return e.connectors?.on("walletsUpdated",n),()=>{e.connectors?.off("walletsUpdated",n)}}),[t,e.connectors]),null};class j3 extends _f{async initialize(){let e=await this.createProvider();this.provider=e,this.proxyProvider.setWalletProvider(e),this.subscribeListeners(),e.session&&(this.walletProvider?.session?.peer.metadata.url&&(this.walletEntry=QS(this.walletProvider?.session?.peer.metadata.url),this.walletClientType=this.walletEntry?.slug||"unknown"),this.connected=!0,await this.syncAccounts()),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),this.getConnectedWallet()}async isConnected(){return!!this.walletProvider?.connected}get walletBranding(){let e=this.walletProvider?.session?.peer.metadata.icons?.[0];return{name:Mue(this.walletProvider?.session?.peer.metadata.name||"")||"WalletConnect",icon:typeof e=="string"?e:Sz,id:this.walletProvider?.session?.peer.metadata.name.toLowerCase()||"wallet_connect_v2"}}async resetConnection(e){this.walletProvider&&this.walletProvider.connected&&(await this.walletProvider.disconnect(),this.walletProvider.signer.session=void 0,this.walletClientType=e,this.redirectUri=void 0,this.fallbackUniversalRedirectUri=void 0,Ghe(),this.onDisconnect())}async promptConnection(){if(this.provider)return new Promise(((e,n)=>{(async()=>{let r="",i=await Promise.race([this.walletProvider?.enable(),this.proxyProvider.walletTimeout()]);if(i?.length&&(r=i[0]),!r||r==="")throw new zn("Unable to retrieve address");this.walletProvider?.session?.peer.metadata.url&&(this.walletEntry=QS(this.walletProvider?.session?.peer.metadata.url),this.walletClientType=this.walletEntry?.slug||"unknown",this.proxyProvider.rpcTimeoutDuration=nC(this.rpcConfig,this.walletClientType)),this.connected=!0,await this.syncAccounts(i),e()})().catch((r=>{n(r?Lu(r):new zn("Unknown error during connection"))}))}))}disconnect(){this.walletProvider?.disconnect().then((()=>this.onDisconnect())).catch((()=>console.warn("Unable to disconnect WalletConnect provider")))}get walletProvider(){return this.proxyProvider.walletProvider}setWalletProvider(e){this.proxyProvider.setWalletProvider(e)}async createProvider(){let e={};for(let s of this.chains){let a=Bue(s.id,this.chains,this.rpcConfig,this.privyAppId);a&&(e[s.id]=a)}let n=this.shouldEnforceDefaultChainOnConnect?[this.defaultChain.id]:[],r=this.chains.map((s=>s.id)),i=await A8e.init({projectId:this.walletConnectCloudProjectId,chains:n,optionalChains:r,optionalEvents:LV,optionalMethods:BV,rpcMap:e,showQrModal:!1,metadata:{description:this.privyAppName,name:this.privyAppName,url:window.location.origin,icons:[]}});return i.on("display_uri",(s=>{if(i.signer.abortPairingAttempt(),Yhe(),!this.showPrivyQrModal)throw new zn("WalletConnect modal not available - Privy handles wallet connections through its own UI");if(qo.isMobile&&this.walletEntry){let{redirect:a,href:c}=CF(s,this.walletEntry);RF(a,"_self"),Khe({href:c,name:this.walletEntry.metadata?.shortName||this.walletEntry.name});let u=fP(s,this.walletEntry);return this.redirectUri=a,this.fallbackUniversalRedirectUri=u?.redirect,this.showPrivyQrModal({native:a,universal:a})}if(this.redirectUri=void 0,this.walletEntry){let a=fP(s,this.walletEntry);this.fallbackUniversalRedirectUri=a?.redirect}this.showPrivyQrModal({native:s,universal:void 0})})),i.on("connect",(()=>{i.session?.peer.metadata.url&&(this.walletEntry=QS(i.session?.peer.metadata.url),this.walletClientType=this.walletEntry?.slug||"unknown")})),i}async enableProvider(){return this.walletProvider?.connected?Promise.resolve(this.walletProvider.accounts):await this.walletProvider?.enable()}setWalletEntry(e,n){this.walletEntry=e,this.showPrivyQrModal=n}constructor({walletConnectCloudProjectId:e,rpcConfig:n,chains:r,defaultChain:i,shouldEnforceDefaultChainOnConnect:s,privyAppId:a,privyAppName:c,walletClientType:u}){super(u||"unknown",r,i,n),this.connectorType="wallet_connect_v2",this.privyAppId=a,this.privyAppName=c,this.walletConnectCloudProjectId=e,this.rpcConfig=n,this.shouldEnforceDefaultChainOnConnect=s,this.proxyProvider=new Ef(void 0,this.rpcTimeoutDuration),u&&(this.walletEntry=Pue(u),this.walletClientType=u)}}const HMe=["error","invalid_request_arguments","wallet_not_on_device","invalid_recovery_pin","insufficient_funds","missing_or_invalid_mfa","mfa_verification_max_attempts_reached","mfa_timeout","twilio_verification_failed"];class er extends Error{constructor(e,n){super(n),this.type=e}}function Xp(t){let e=t.type;return typeof e=="string"&&HMe.includes(e)}function S_(t){return Xp(t)&&t.type==="wallet_not_on_device"}function kze(t){return Xp(t)&&(t.type==="invalid_recovery_pin"||t.type==="invalid_request_arguments")}function Rze(t){return!!Xp(t)&&t.type==="mfa_timeout"}function $ze(t){return!!Xp(t)&&t.type==="missing_or_invalid_mfa"}function Nze(t){return!!Xp(t)&&t.type==="mfa_verification_max_attempts_reached"}function Pze(t){return!(!Xp(t)||!t.message.includes("code 429"))}function Dze(t){return!!(function(e){let n=e.type;return typeof n=="string"&&n==="client_error"})(t)&&t.message==="MFA canceled"}async function aa(t,e,n,r,i,s=!1){let a=s,c=async d=>{if(a&&e&&e.length>0){d===(s?0:1)?i("configureMfa","onMfaRequired",{mfaMethods:e}):r.current?.reject(new er("missing_or_invalid_mfa","MFA verification failed, retry."));let h=await new Promise(((p,m)=>{n.current={resolve:p,reject:m},setTimeout((()=>{let g=new er("mfa_timeout","Timed out waiting for MFA code");r.current?.reject(g),m(g)}),3e5)}));return await t(h)}return await t()},u=null;for(let d=0;d<4;d++)try{u=await c(d),r.current?.resolve(void 0);break}catch(h){if(h.type!=="missing_or_invalid_mfa")throw r.current?.resolve(void 0),h;a=!0}if(u===null){let d=new er("mfa_verification_max_attempts_reached","Max MFA verification attempts reached");throw r.current?.reject(d),d}return u}var ZU;let VMe=(ZU=0,()=>"id-"+ZU++);function Cr(t){return t.error!==void 0}let pr=new class{enqueue(t,e){this.callbacks[t]=e}dequeue(t,e){let n=this.callbacks[e];if(!n)throw Error(`cannot dequeue ${t} event: no event found for id ${e}`);switch(delete this.callbacks[e],t){case"privy:iframe:ready":case"privy:user-signer:sign":case"privy:wallets:add":case"privy:wallets:import":case"privy:wallets:set-recovery":case"privy:wallets:connect":case"privy:wallets:recover":case"privy:wallets:rpc":case"privy:wallet:create":case"privy:mfa:verify":case"privy:mfa:init-enrollment":case"privy:mfa:submit-enrollment":case"privy:mfa:unenroll":case"privy:mfa:clear":case"privy:auth:unlink-passkey":case"privy:farcaster:init-signer":case"privy:farcaster:sign":case"privy:solana-wallet:create":case"privy:delegated-actions:consent":return n;default:throw Error(`invalid wallet event type ${t}`)}}constructor(){this.callbacks={}}},z6=new Map,GMe=(t,e)=>typeof e=="bigint"?e.toString():e;function Or(t,e,n,r){let i=n.contentWindow;if(!i)throw Error("iframe not initialized");let s=((c,u)=>`${c}${JSON.stringify(u,GMe)}`)(t,e);if(t==="privy:wallet:create"){let c=z6.get(s);if(c)return c}let a=new Promise(((c,u)=>{let d=VMe();pr.enqueue(d,{resolve:c,reject:u}),i.postMessage({id:d,event:t,data:e},r)})).finally((()=>{z6.delete(s)}));return z6.set(s,a),a}function KMe(t){let e=Mj(),n=Y.useRef(null),r=Y.useRef(t.mfaMethods),i=lE(),[s,a]=Y.useState(!1);return Y.useEffect((()=>{r.current=t.mfaMethods}),[t.mfaMethods]),Y.useEffect((()=>{if(!s)return;let c=n.current;if(!c)return;function u(p){var m;p&&p.origin===t.origin&&typeof(m=p.data).event=="string"&&/^privy:.+/.test(m.event)&&(function(g){switch(g.event){case"privy:iframe:ready":let b=pr.dequeue(g.event,g.id);return Cr(g)?b.reject(new er(g.error.type,g.error.message)):b.resolve(g.data);case"privy:user-signer:sign":{let S=pr.dequeue(g.event,g.id);return Cr(g)?S.reject(new er(g.error.type,g.error.message)):S.resolve(g.data)}case"privy:wallets:add":{let S=pr.dequeue(g.event,g.id);return Cr(g)?S.reject(new er(g.error.type,g.error.message)):S.resolve(g.data)}case"privy:wallets:set-recovery":{let S=pr.dequeue(g.event,g.id);return Cr(g)?S.reject(new er(g.error.type,g.error.message)):S.resolve(g.data)}case"privy:wallets:connect":{let S=pr.dequeue(g.event,g.id);return Cr(g)?S.reject(new er(g.error.type,g.error.message)):S.resolve(g.data)}case"privy:wallets:recover":{let S=pr.dequeue(g.event,g.id);return Cr(g)?S.reject(new er(g.error.type,g.error.message)):S.resolve(g.data)}case"privy:wallets:rpc":{let S=pr.dequeue(g.event,g.id);return Cr(g)?S.reject(new er(g.error.type,g.error.message)):S.resolve(g.data)}case"privy:wallet:create":let v=pr.dequeue(g.event,g.id);return Cr(g)?v.reject(new er(g.error.type,g.error.message)):v.resolve(g.data);case"privy:wallets:import":let E=pr.dequeue(g.event,g.id);return Cr(g)?E.reject(new er(g.error.type,g.error.message)):E.resolve(g.data);case"privy:mfa:verify":let O=pr.dequeue(g.event,g.id);return Cr(g)?O.reject(new er(g.error.type,g.error.message)):O.resolve(g.data);case"privy:mfa:init-enrollment":{let S=pr.dequeue(g.event,g.id);return Cr(g)?S.reject(new er(g.error.type,g.error.message)):S.resolve(g.data)}case"privy:mfa:submit-enrollment":{let S=pr.dequeue(g.event,g.id);return Cr(g)?S.reject(new er(g.error.type,g.error.message)):S.resolve(g.data)}case"privy:mfa:unenroll":{let S=pr.dequeue(g.event,g.id);return Cr(g)?S.reject(new er(g.error.type,g.error.message)):S.resolve(g.data)}case"privy:mfa:clear":{let S=pr.dequeue(g.event,g.id);return Cr(g)?S.reject(new er(g.error.type,g.error.message)):S.resolve(g.data)}case"privy:auth:unlink-passkey":{let S=pr.dequeue(g.event,g.id);return Cr(g)?S.reject(new er(g.error.type,g.error.message)):S.resolve(g.data)}case"privy:solana-wallet:create":let k=pr.dequeue(g.event,g.id);return Cr(g)?k.reject(new er(g.error.type,g.error.message)):k.resolve(g.data);case"privy:farcaster:init-signer":{let S=pr.dequeue(g.event,g.id);return Cr(g)?S.reject(new er(g.error.type,g.error.message)):S.resolve(g.data)}case"privy:farcaster:sign":{let S=pr.dequeue(g.event,g.id);return Cr(g)?S.reject(new er(g.error.type,g.error.message)):S.resolve(g.data)}case"privy:delegated-actions:consent":{let S=pr.dequeue(g.event,g.id);return Cr(g)?S.reject(new er(g.error.type,g.error.message)):S.resolve(g.data)}default:console.warn("Unsupported wallet proxy method:",g)}})(p.data)}let d={signWithUserSigner:p=>aa((m=>Or("privy:user-signer:sign",{...p,...m},c,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i),addWallet:p=>aa((m=>Or("privy:wallets:add",{...p,...m},c,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i),setRecovery:p=>aa((m=>Or("privy:wallets:set-recovery",{...p,...m},c,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i),connect:p=>aa((m=>Or("privy:wallets:connect",{...p,...m},c,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i),recover:p=>aa((m=>Or("privy:wallets:recover",{...p,...m},c,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i,!p.recoveryAccessToken&&!p.recoveryPassword&&!p.recoverySecretOverride),rpc:p=>aa((m=>Or("privy:wallets:rpc",{...p,...m},c,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i),create:p=>Or("privy:wallet:create",p,c,t.origin),importWallet:p=>Or("privy:wallets:import",p,c,t.origin),createSolana:p=>aa((m=>Or("privy:solana-wallet:create",{...p,...m},c,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i),createDelegatedAction:p=>Or("privy:delegated-actions:consent",p,c,t.origin),verifyMfa:p=>aa((m=>Or("privy:mfa:verify",{...p,...m},c,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i,!0),initEnrollMfa:p=>aa((m=>Or("privy:mfa:init-enrollment",{...p,...m},c,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i),submitEnrollMfa:p=>aa((m=>Or("privy:mfa:submit-enrollment",{...p,...m},c,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i),unenrollMfa:p=>aa((m=>Or("privy:mfa:unenroll",{...p,...m},c,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i),clearMfa:p=>Or("privy:mfa:clear",p,c,t.origin),unlinkPasskeyAccount:p=>aa((m=>Or("privy:auth:unlink-passkey",{...p,...m},c,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i),initFarcasterSigner:p=>Or("privy:farcaster:init-signer",p,c,t.origin),signFarcasterMessage:p=>Or("privy:farcaster:sign",p,c,t.origin)};window.addEventListener("message",u);let h=new AbortController;return a5((()=>Or("privy:iframe:ready",{},c,t.origin)),{abortSignal:h.signal}).then((()=>t.onLoad(d)),((...p)=>{console.warn("Privy iframe failed to load: ",...p),t.onLoadFailed()})),()=>{window.removeEventListener("message",u),h.abort()}}),[s]),e?he.jsx("iframe",{ref:n,width:"0",height:"0",style:{display:"none",height:"0px",width:"0px"},onLoad:()=>a(!0),src:P8e({origin:t.origin,path:`/apps/${t.appId}/embedded-wallets`,query:{caid:t.clientAnalyticsId,client_id:t.appClientId}})}):null}const YMe=({address:t,user:e})=>{let n=e.linkedAccounts.find((r=>r.type==="wallet"&&r.walletClientType==="privy"&&r.address===t));if(!n)throw new se("Address to delegate is not associated with current user.");if(!oE(n))throw new se(`useDelegatedActions is not supported for ${n.chainType} wallets. Use the useSessionSigners hook to provision server side access on behalf of your users.`);return{address:n.address,chainType:n.chainType,walletIndex:n.walletIndex??0}},ZMe=({address:t,user:e})=>{let n=e.linkedAccounts.find((i=>i.type==="wallet"&&i.walletClientType==="privy"&&i.address===t));if(!n)throw new se("Address to delegate is not associated with current user.");let r=n.imported?n:d0(e);if(!r)throw new se("Unable to determine root address for delegated address.");if(!oE(r))throw new se(`useDelegatedActions is not supported for ${r.chainType} wallets. Use the useSessionSigners hook to provision server side access on behalf of your users.`);return{address:r.address,chainType:r.chainType,imported:r.imported}},XU=t=>t.linkedAccounts.filter((e=>e.type==="wallet"&&e.walletClientType==="privy"&&e.delegated)),JU="popup-privy-oauth",QU="PRIVY_OAUTH_USE_BROADCAST_CHANNEL";class XMe{async authenticate(){if(!this.api)throw new se("Auth flow has no API instance");try{return await this.api.post(SF,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:this.meta.codeVerifier,provider:this.meta.provider})}catch(e){throw Gt(e)}}async link(){if(!this.api)throw new se("Auth flow has no API instance");try{return await this.api.post(xF,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:this.meta.codeVerifier,provider:this.meta.provider})}catch(e){throw Gt(e)}}constructor({authorizationCode:e,stateCode:n,codeVerifier:r,provider:i}){this.meta={authorizationCode:e,stateCode:n,codeVerifier:r,provider:i}}}async function RK({api:t,requesterAppId:e,providerAppId:n}){let r=(await t.get(`/api/v1/apps/${e}/cross-app/connections`)).connections.find((i=>i.provider_app_id===n));if(!r)throw new se("Invalid connected app");return{name:r.provider_app_name,logoUrl:r.provider_app_icon_url||void 0,apiUrl:r.provider_app_custom_api_url,readOnly:r.read_only,customAuthAuthorizeUrl:r.provider_app_custom_auth_authorize_url,customAuthTransactUrl:r.provider_app_custom_auth_transact_url}}const $v=async({user:t,address:e,client:n,request:r,requesterAppId:i,reconnect:s})=>{n.createAnalyticsEvent({eventName:"cross_app_request_started",payload:{address:e,method:r.method}});let a=t?.linkedAccounts.find((p=>p.type==="cross_app"&&(p.embeddedWallets.some((m=>m.address===e))||p.smartWallets.some((m=>m.address===e)))));if(!t||!a)throw n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Cannot request a signature with this wallet address",address:e}}),new se("Cannot request a signature with this wallet address");let c=n.getProviderAccessToken(a.providerApp.id),u=await RK({api:n.api,requesterAppId:i,providerAppId:a.providerApp.id});if(!c){if(u.readOnly)throw console.error("cannot transact against a read-only provider app"),new se("Cannot transact against a read-only provider app");await s({appId:a.providerApp.id,action:"link"})&&(c=n.getProviderAccessToken(a.providerApp.id))}if(!c)throw n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Transactions require a valid token",address:e}}),new se("Transactions require a valid token");let d=new URL(u.customAuthTransactUrl||`${u.apiUrl}/oauth/transact`);d.searchParams.set("token",c||""),d.searchParams.set("request",JMe(r));let h=vF({location:d.href});if(!h)throw n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Missing token",address:e}}),new se("Failed to initialize signature request");return new Promise(((p,m)=>{let g=setTimeout((()=>{E(),m(new se("Request timeout")),n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Request timeout",address:e}})}),12e4),b=setInterval((()=>{h.closed&&(E(),m(new se("User rejected request")),n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"User rejected request",address:e}}))}),300),v=O=>{O.data&&(O.data.token?.action==="set"&&O.data.token?.value!==void 0?n.storeProviderAccessToken(a.providerApp.id,O.data.token.value):O.data.token?.action==="clear"&&n.storeProviderAccessToken(a.providerApp.id,null),O.data.type==="PRIVY_CROSS_APP_ACTION_RESPONSE"&&O.data.result&&(E(),p(O.data.result),n.createAnalyticsEvent({eventName:"cross_app_request_success",payload:{address:e,method:r.method}})),O.data.type==="PRIVY_CROSS_APP_ACTION_ERROR"&&O.data.error&&(E(),m(O.data.error),n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:O.data.error,address:e}})))};window.addEventListener("message",v);let E=()=>{h.close(),clearInterval(b),clearTimeout(g),window.removeEventListener("message",v)}}))};let JMe=t=>JSON.stringify({content:{request:{request:z3(t,xt)}},timestamp:Date.now(),callbackUrl:window.origin});const z3=(t,e)=>typeof t=="bigint"?e(t):Array.isArray(t)?t.map((n=>z3(n,e))):t&&typeof t=="object"?Object.fromEntries(Object.entries(t).map((([n,r])=>[n,z3(r,e)]))):t;function QMe({isCreatingWallet:t,skipSplashScreen:e}){return t?"EmbeddedWalletPasswordCreateScreen":e?"EmbeddedWalletPasswordUpdateScreen":"EmbeddedWalletPasswordUpdateSplashScreen"}function eUe({walletAction:t,availableRecoveryMethods:e,legacySetWalletPasswordFlow:n,isResettingPassword:r,showAutomaticRecovery:i}){return i?"SetAutomaticRecoveryScreen":n||e.length===1?QMe({isCreatingWallet:t==="create",skipSplashScreen:r}):"RecoverySelectionScreen"}function tUe(t){switch(t){case"user-passcode":return"PasswordRecoveryScreen";case"google-drive":case"icloud":return"RecoveryOAuthScreen";default:throw Error("Recovery method not supported")}}function Mze(t,e,n,r,i,s,a){return{...t,funding:t?.funding?{...t.funding,fundingResult:{status:e,address:t.funding.address,fundingMethod:void 0,transactionHash:n,amount:t.funding.amount,assetType:i?s?.symbol||"ETH":a.nativeCurrency.symbol||"ETH",metadata:{walletClientType:r}}}:void 0,solanaFundingData:t?.solanaFundingData,sendTransaction:t?.sendTransaction}}const F6=new Map([["FundingMethodSelectionScreen",null],["TransferFromWalletScreen","external"],["FundingAmountEditScreen","external"],["ConnectOnlyLandingScreen","external"],["ConnectOnlyStatusScreen","external"],["AwaitingExternalEthereumTransferScreen","external"],["AwaitingEvmToSolBridgingScreen","external"],["AwaitingSolToEvmBridgingScreen","external"],["ManualTransferScreen","manual"],["MoonpayStatusScreen","moonpay"]]);function eB(t){let e=t.toLowerCase();return!!window?.webkit?.messageHandlers?.ReactNativeWebView||!!window?.ReactNativeWebView||["fbav","fban","instagram","snapchat","linkedinapp"].some((n=>e.includes(n)))}async function nUe({rpc:t,address:e}){return(await t.getBalance(e,{commitment:"confirmed"}).send()).value??0n}let rUe={apple_oauth:"apple",custom_auth:"custom",discord_oauth:"discord",email:"email",farcaster:"farcaster",github_oauth:"github",google_oauth:"google",instagram_oauth:"instagram",linkedin_oauth:"linkedin",passkey:"passkey",phone:"sms",spotify_oauth:"spotify",telegram:"telegram",tiktok_oauth:"tiktok",line_oauth:"line",twitch_oauth:"twitch",twitter_oauth:"twitter",wallet:"siwe",smart_wallet:"siwe",cross_app:"privy:"};const iUe=t=>{if(Wj(t))return{displayName:t.replace("custom:",""),loginMethod:"custom"};let e=rUe[t];return t==="wallet"||t==="phone"?{displayName:t,loginMethod:e}:{displayName:e,loginMethod:e}},sUe=(t,e)=>!Lc(t)&&(e==="all-users"||e==="users-without-wallets"&&!aUe(t).length);let aUe=t=>t.linkedAccounts.filter((e=>e.type==="wallet"&&e.chainType==="ethereum"));const oUe=(t,e)=>!VI(t)&&(e==="all-users"||e==="users-without-wallets"&&!cUe(t).length);let cUe=t=>t.linkedAccounts.filter((e=>e.type==="wallet"&&e.chainType==="solana"));async function tB(t,e,n,r){let i=w1(t),{chain:s,...a}=await(async()=>r?await r():await e.prepareTransactionRequest({...i,account:{address:n,type:"json-rpc"}}))();return{...a,type:fj[a.type]}}const lUe=()=>{let t=Sa(),{user:e}=tb(),{client:n,refreshSessionAndUser:r,walletProxy:i}=xa();return{migrate:Y.useCallback((async()=>{if(t.embeddedWallets.mode==="legacy-embedded-wallets-only")return{success:!0};if(!e)throw new se("User must be authenticated before migrating wallets",Ae.MUST_BE_AUTHENTICATED);if(!i)throw new se("Cannot connect to wallet proxy");let s=await n.getAccessToken();if(!s)throw new se("User must be authenticated before migrating wallets",Ae.MUST_BE_AUTHENTICATED);let a=e.linkedAccounts.filter((d=>d.type==="wallet"&&d.walletClientType==="privy"&&oE(d)&&!Ei(d)));if(a.length===0)return{success:!0};let c=a.filter((d=>d.imported)),u=a.filter((d=>!d.imported));if(u.length>0){let d=u.find((m=>m.chainType==="ethereum"&&m.walletIndex===0))??u.find((m=>m.chainType==="solana"&&m.walletIndex===0))??null;if(!d)throw new se("Primary wallet not found");let{entropyId:h,entropyIdVerifier:p}=q1(d);try{await i.connect({accessToken:s,entropyId:h,entropyIdVerifier:p})}catch(m){if(!S_(m)||d.recoveryMethod!=="privy")throw m;await i.recover({accessToken:s,entropyId:h,entropyIdVerifier:p})}await i.createDelegatedAction({accessToken:s,rootWallet:{address:d.address,chainType:d.chainType,imported:!1},delegatedWallets:u.map((m=>({address:m.address,chainType:m.chainType,walletIndex:m.walletIndex??0})))})}for(let d of c){let{entropyId:h,entropyIdVerifier:p}=q1(d);try{await i.connect({accessToken:s,entropyId:h,entropyIdVerifier:p})}catch(m){if(!S_(m)||d.recoveryMethod!=="privy")throw m;await i.recover({accessToken:s,entropyId:h,entropyIdVerifier:p})}await i.createDelegatedAction({accessToken:s,rootWallet:{address:d.address,chainType:d.chainType,imported:!0},delegatedWallets:[{address:d.address,chainType:d.chainType,walletIndex:d.walletIndex??0}]})}return await r(),{success:!0}}),[t.embeddedWallets.mode,e,i,n,r])}},uUe=({disabled:t})=>{let{migrate:e}=lUe(),{user:n}=tb(),{walletProxy:r}=xa(),i=Y.useRef(!1);return Y.useEffect((()=>{!t&&!i.current&&n&&r&&(i.current=!0,e().catch((s=>{console.debug("Unable to migrate wallets: ",s)})).finally((()=>{i.current=!1})))}),[n,r,t,e]),null},dUe=t=>({id:t.id,raw_id:t.rawId,response:{client_data_json:t.response.clientDataJSON,authenticator_data:t.response.authenticatorData,signature:t.response.signature,user_handle:t.response.userHandle},authenticator_attachment:t.authenticatorAttachment,client_extension_results:{app_id:t.clientExtensionResults.appid,cred_props:t.clientExtensionResults.credProps,hmac_create_secret:t.clientExtensionResults.hmacCreateSecret},type:t.type}),F3=vf((()=>({ethereum:[]}))),Nv=()=>F3.getState().ethereum;class $K{async authenticate(){if(!this.api)throw new se("Auth flow has no API instance");try{return await this.api.post(Bhe,{token:this.meta.token})}catch(e){throw Gt(e)}}async link(){if(!this.api)throw new se("Auth flow has no API instance");try{return await this.api.post(Lhe,{token:this.meta.token})}catch(e){throw Gt(e)}}constructor(e){this.meta={token:e}}}function fUe({subscribe:t,getExternalJwt:e,enabled:n=!0,onAuthenticated:r,onUnauthenticated:i,onError:s}){let{client:a,onCustomAuthAuthenticated:c}=xa(),{logout:u,authenticated:d,ready:h}=Tp();if(!a)throw new se("`useSyncJwtBasedAuthState` must be used within a `PrivyProvider`");let[p,m]=Y.useState({status:"initial"}),g=Y.useRef(),b=Y.useRef(!1),v=Y.useRef(e);Y.useEffect((()=>{v.current=e}),[e]);let E=Y.useRef(r);Y.useEffect((()=>{E.current=r}),[r]);let O=Y.useRef(i);Y.useEffect((()=>{O.current=i}),[i]);let k=Y.useRef(s);return Y.useEffect((()=>{k.current=s}),[s]),Y.useEffect((()=>{if(!n||!h)return;let S=async()=>{if(!b.current){b.current=!0;try{m({status:"loading"});let A=await v.current();if(g.current!==void 0&&g.current===A)return void m({status:"done"});if(!A)return d&&(await u(),O.current?.()),g.current=A,void m({status:"done"});a.startAuthFlow(new $K(A));let{user:C,isNewUser:I=!1}=await a.authenticate();if(!C)throw new se("Failed to sync with custom auth provider");E.current?.({user:C,isNewUser:I}),c(C,I),g.current=A,m({status:"done"})}catch(A){if(console.warn(A),await u().catch((()=>{})),O.current?.(),A instanceof M1&&A.privyErrorCode===Ae.LINKED_TO_ANOTHER_USER)return m({status:"initial"}),void setTimeout((()=>{S()}),0);k.current?.(A),m({status:"error",error:A})}finally{b.current=!1}}};return S(),t(S)}),[t,a,c,d,u,n,h]),n?{state:p}:{state:{status:"not-enabled"}}}let hUe=vf((()=>({jwtAuthFlowState:{status:"not-enabled"}})));function pUe({customAuth:t}){let{jwtAuthFlowState:e}=(function({customAuth:n}){let r=lE(),i=Y.useRef(),s=Y.useCallback((u=>(i.current=u,()=>{i.current=void 0})),[]),a=n?.getCustomAccessToken??(()=>Promise.resolve(void 0)),{state:c}=fUe({enabled:n?.enabled===!0,subscribe:s,getExternalJwt:a,onAuthenticated:({user:u,isNewUser:d})=>{r("login","onComplete",{user:u,isNewUser:d,wasAlreadyAuthenticated:!1,loginMethod:"custom",loginAccount:null}),r("customAuth","onAuthenticated",{user:u})},onUnauthenticated:()=>{r("customAuth","onUnauthenticated")},onError:u=>{r("login","onError",u.privyErrorCode||Ae.UNKNOWN_AUTH_ERROR)}});return Y.useEffect((()=>{(async()=>n&&!n.isLoading&&i.current?.())()}),[n?.enabled,n?.getCustomAccessToken,n?.isLoading]),{jwtAuthFlowState:c}})({customAuth:t});return Y.useEffect((()=>{hUe.setState({jwtAuthFlowState:e})}),[e]),null}const NK=Y.createContext(!1);let PK,DK,MK,UK,BK;const yUe=t=>{let e=t.client,n=t.privy,r=Jhe(),i=Sa();kz(s5(i?.appearance.walletList??[]));let[s,a]=Y.useState(!1),c=R0((U=>U.inProgressMfaFlow)),[u,d]=Y.useState(!1),[h,p]=Y.useState(null),m=F3((U=>U.ethereum)),[g,b]=Y.useState(void 0),[v,E]=Y.useState(!1),[O,k]=Y.useState(null),[S,A]=Y.useState(!1),[C,I]=Y.useState({status:"disconnected",connectedWallet:null,connectError:null,connector:null,connectRetry:fe}),[N,z]=Y.useState({status:"initial"}),[L,B]=Y.useState({status:"initial"}),[H,D]=Y.useState({status:"initial"}),[F,K]=Y.useState({status:"initial"}),[T,x]=Y.useState({status:"initial"}),[$,j]=Y.useState({status:"initial"}),[P,V]=Y.useState(null),M=Mj(),[G,J]=Y.useState({}),[X,Q]=Y.useState(null),ge=Y.useRef(null),[we,Te]=Y.useState(!1),[Ee,Pe]=Y.useState(!1),qe=Y.useRef(null),rt=Y.useRef(null),ye=Y.useRef(Nue),[Tt,Kt]=Y.useState(!1),[wt,hi]=Y.useState(!1),Vt=Y.useCallback((U=>{hi(U),!U&&O&&KE[O]().then((W=>{W.default.isUnauthenticatedScreem&&k(null)}))}),[O]);e.onStoreCustomerAccessToken=U=>{U&&Oe(ye,"accessToken","onAccessTokenGranted",{accessToken:U})},e.onDeleteCustomerAccessToken=()=>{p(null),Vt(!1),Oe(ye,"accessToken","onAccessTokenRemoved")};let Le=Y.useRef(null),Ve=Y.useRef(null),pi=Y.useRef(!1),yi=({showWalletUIs:U})=>pi.current?pi.current:U!==void 0?!U:!i.embeddedWallets.showWalletUIs,dt=U=>{k(U),setTimeout((()=>{a(!0)}),15)};Y.useEffect((()=>{if(!h)return void e.connectors?.removeEmbeddedWalletConnectors();let U=Lc(h),W=Hj(h),te=YT(h);U&&W.length||e.connectors?.removeEmbeddedWalletConnectors(),te.length||e.connectors?.removeImportedWalletConnectors(),e.connectors?P?(U&&e.connectors.addEmbeddedWalletConnectors({walletProxy:P,user:h,embeddedWallets:W,defaultChain:i.defaultChain,appId:t.appId,privyClient:n}),te.forEach((ee=>e.connectors?.addImportedWalletConnector(P,ee.address,i.defaultChain,t.appId)))):console.debug("Failed to add embedded wallet connector: Wallet proxy not initialized"):console.debug("Failed to add embedded wallet connector: Client connectors not initialized")}),[P,h]),Y.useEffect((()=>{P&&ge.current?.(P)}),[P]);let _n=Y.useCallback(((U,W)=>{p(U),E(W),Vt(!0),Pe(!0)}),[]);Y.useEffect((()=>{Ee&&P&&h&&(async()=>{let U=sUe(h,i.embeddedWallets.ethereum.createOnLogin),W=oUe(h,i.embeddedWallets.solana.createOnLogin),te=await In();if(te){if(U&&W){let ee=await P.create({accessToken:te});return await P.createSolana({accessToken:te,ethereumAddress:ee?.address}),void Pe(!1)}if(W)return await P.createSolana({accessToken:te,ethereumAddress:Lc(h)?.address}),await vt.refreshSessionAndUser(),void Pe(!1);if(U)return await P.create({accessToken:te}),void Pe(!1)}})().catch(console.error)}),[Ee&&P&&h]),Y.useEffect((()=>{if(i.externalWallets.solana.connectors)return i.externalWallets.solana.connectors.onMount(),()=>i.externalWallets.solana.connectors?.onUnmount()}),[i.externalWallets.solana.connectors]),Y.useEffect((()=>{!u&&M&&(async function(){let U,W=Ia(),te=ps(),ee=Vfe();e.initializeConnectorManager({walletConnectCloudProjectId:i.walletConnectCloudProjectId,rpcConfig:i.rpcConfig,chains:i.chains,defaultChain:i.defaultChain,store:ee,walletList:i.appearance.walletList,shouldEnforceDefaultChainOnConnect:i.shouldEnforceDefaultChainOnConnect,externalWalletConfig:i.externalWallets,appName:i.name??"Privy",walletChainType:i.appearance.walletChainType,setBaseAccountSdk:b}),e.connectors?.on("connectorInitialized",(()=>{U&&clearTimeout(U);let Ce=e.connectors.walletConnectors.length,$e=e.connectors.walletConnectors.reduce(((Xe,yt)=>Xe+(yt.initialized?1:0)),0);$e===Ce?Kt(!0):U=setTimeout((()=>{console.debug({message:"Unable to initialize all expected connectors before timeout",initialized:$e,expected:Ce}),Kt(!0)}),1500)})),e.connectors?.initialize().then((()=>{It()}));let ae=await e.getAuthenticatedUser(),le=!!ae;i.legal.requireUsersAcceptTerms&&ae&&!ae.hasAcceptedTerms?(await e.logout(),vt.setReadyToTrue(!0),Oe(ye,"logout","onSuccess")):(i.customAuth?.enabled||(Vt(!!ae),ae&&Oe(ye,"login","onComplete",{user:ae,isNewUser:!1,wasAlreadyAuthenticated:!0,loginMethod:null,loginAccount:null}),p(ae)),W?Ve.current=le?"link":"login":te&&!le?(Ve.current="login",J({telegramAuthModalData:{seamlessAuth:!0}}),dt("TelegramAuthScreen")):vt.setReadyToTrue(!!ae))})()}),[e,X,u,M]),Y.useEffect((()=>{if(u){if(!h||!h.linkedAccounts.find((U=>U.type==="wallet"&&U.walletClientType==="privy")))return void Te(!!P);if([...m].some((U=>U.walletClientType==="privy")))return void Te(!0);Te(!!P)}}),[u,h,m,P]),Y.useEffect((()=>{e.connectors?.setWalletList(i.appearance.walletList)}),[i.appearance.walletList.join()]);let Ia=()=>{let U=EMe();return U.inProgress&&U.popupFlow?window.opener.location.origin!==window.location.origin?void window.opener.postMessage({type:"PRIVY_OAUTH_ERROR",error:"Origins between parent and child windows do not match."}):U.authorizationCode==="error"?void window.opener.postMessage({type:"PRIVY_OAUTH_ERROR",error:"Something went wrong. Try again."}):void window.opener.postMessage({type:"PRIVY_OAUTH_RESPONSE",stateCode:U.stateCode,authorizationCode:U.authorizationCode}):(U.inProgress&&U.provider.startsWith("privy:")&&!U.popupFlow&&(new BroadcastChannel(JU).postMessage({type:"PRIVY_OAUTH_RESPONSE",stateCode:U.stateCode,authorizationCode:U.authorizationCode}),window.close()),!!U.inProgress&&!!U.withPrivyUi&&(e.startAuthFlow(new Uh({...U,customOAuthRedirectUrl:i.customOAuthRedirectUrl})),dt("OAuthStatusScreen"),!0))},ps=()=>{let U=(function(){let te;return(te=(function(){let ee=new URLSearchParams(window.location.search),ae=Number(ee.get("id")||""),le=ee.get("hash"),Ce=Number(ee.get("auth_date")||""),$e=ee.get("first_name");if(ae&&$e&&Ce&&le)return Object.fromEntries(ee.entries())})())?(GU(),{flowType:"login-url",authData:te}):(te=(function(){let ee=window.location.hash;if(!ee||!ee.startsWith("#tgWebAppData"))return;let ae=VU(ee.replace("#tgWebAppData=","")),{user:le,auth_date:Ce,hash:$e}=ae;return le&&Ce&&$e?ae:void 0})())?(GU(),{flowType:"web-app",authData:te}):void 0})();if(!U||!i.loginMethods.telegram||!i.loginConfig.telegramAuthConfiguration?.seamlessAuthEnabled)return;let W=new Am;return e.startAuthFlow(W),U.flowType==="login-url"&&(W.meta.telegramWebAppData=void 0,W.meta.telegramAuthResult=U.authData),U.flowType==="web-app"&&(W.meta.telegramAuthResult=void 0,W.meta.telegramWebAppData=U.authData),!0},Li=async(U,W,te,ee)=>{if(U!=="solana_adapter")mn(await e.connectors?.createEthereumWalletConnector({connectorType:U,walletClientType:W})||null,W,te,ee);else{let ae=e.connectors?.findSolanaWalletConnector(W);if(!ae)return;mn(ae,W,te,ee)}};async function mn(U,W,te,ee){if(!U)return I({status:"disconnected",connectedWallet:null,connectError:new zn("Unable to connect to wallet."),connector:null,connectRetry:fe}),ee?.(null,te);I({status:"disconnected",connectedWallet:null,connectError:null,connector:U,connectRetry:fe}),U instanceof j3&&W&&await U.resetConnection(W),I({connector:U,status:"connecting",connectedWallet:null,connectError:null,connectRetry:()=>mn(U,W,te,ee)});try{let ae=await U.connect({showPrompt:!0});if((!ae||lu(ae))&&i.shouldEnforceDefaultChainOnConnect&&!i.chains.find((le=>le.id===Number(ae?.chainId.replace("eip155:",""))))&&(ae?.connectorType!=="wallet_connect_v2"||ae?.walletClientType!=="metamask")){I((le=>({...le,connector:U,status:"switching_to_supported_chain",connectedWallet:null,connectError:null,connectRetry:fe})));try{await ae?.switchChain(i.defaultChain.id),ae&&(ae.chainId=xg(xt(i.defaultChain.id)))}catch{console.warn(`Unable to switch to default chain: ${i.defaultChain.id}`)}}return I((le=>({...le,status:"connected",connectedWallet:ae,connectError:null,connectRetry:fe}))),ae&&Oe(ye,"connectWallet","onSuccess",{wallet:ae}),ee?.(ae,te)}catch(ae){return ae instanceof Bu?(console.warn(ae.cause?ae.cause:ae.message),Oe(ye,"connectWallet","onError",ae.privyErrorCode||Ae.GENERIC_CONNECT_WALLET_ERROR)):(console.warn(ae),Oe(ye,"connectWallet","onError",Ae.UNKNOWN_CONNECT_WALLET_ERROR)),I((le=>({...le,status:"disconnected",connectedWallet:null,connectError:ae}))),ee?.(null,te)}}let Nr=async(U,W,te)=>{if(U===null||!lu(U))return;let ee=new o1(e,U,W,te);e.startAuthFlow(ee)},Kr=async(U,W,te,ee="plain")=>{let ae=r(epe);if(ee==="transaction"&&!ae)throw new se("useSolanaLedger plugin hook must be mounted");if(U===null||!Yue(U))return;let le=new HU(U,e,W,te,ee,ae);e.startAuthFlow(le)},It=async()=>{let U=new URLSearchParams(window.location.search),W=U.get("privy_connector"),te=U.get("privy_wallet_client"),ee=U.get("privy_connect_only")==="true";if(!W||!te)return;let ae=Vue({connectorType:W,walletClientType:te});if(!ae||!ae.isInstalled)return dt("LoginFailedScreen");if(!e.connectors)throw new se("Connector not initialized");await dt(ee?"ConnectOnlyStatusScreen":"ConnectionStatusScreen");let le=new URL(window.location.href);le.searchParams.delete("privy_connector"),le.searchParams.delete("privy_wallet_client"),le.searchParams.delete("privy_connect_only"),window.history.pushState({},"",le),Li(W,te,void 0,ee?void 0:W==="solana_adapter"?Kr:Nr)};Y.useEffect((()=>{u&&wt&&h===null&&e.getAuthenticatedUser().then(p)}),[u,wt,h,e]);let it=U=>{if(!wt)throw Oe(ye,"linkAccount","onError",Ae.MUST_BE_AUTHENTICATED,{linkMethod:U}),new se("User must be authenticated before linking an account.")},ct=U=>{if(!wt||!h)return!1;if(U.walletClientType==="privy")return!0;for(let W of h.linkedAccounts)if(W.type==="wallet"&&W.address===U.address&&W.walletClientType!=="privy")return!0;return!1},ht=()=>{F3.setState((U=>{let W=e.connectors?.wallets.filter(lu).map((te=>({...te,linked:ct(te),loginOrLink:async()=>{if(!await te.isConnected())throw new se("Wallet is not connected");if(te.connectorType==="embedded"&&te.walletClientType==="privy")throw new se("Cannot link or login with embedded wallet");(async ee=>{let ae;if(!e.connectors)throw new se("Connector not initialized");ae=ee.type==="ethereum"?e.connectors.findWalletConnector(ee.connectorType,ee.walletClientType)||null:e.connectors.findSolanaWalletConnector(ee.walletClientType)||null,I((le=>({...le,connector:ae,status:"connected",connectedWallet:ee,connectError:null,connectRetry:fe}))),i.captcha.enabledProvider&&!wt?(J({captchaModalData:{callback:le=>lu(ee)?Nr(ee,le):Kr(ee,le),userIntentRequired:!1,onSuccessNavigateTo:"ConnectionStatusScreen",onErrorNavigateTo:"ErrorScreen"}}),await dt("CaptchaScreen")):(lu(ee)?await Nr(ee):await Kr(ee),await dt("ConnectionStatusScreen"))})(te)},fund:async ee=>{await vt.fundWallet(te.address,ee)},unlink:async()=>{if(!wt)throw new se("User is not authenticated.");if(te.connectorType==="embedded"&&te.walletClientType==="privy")throw new se("Cannot unlink an embedded wallet");p(await e.unlinkEthereumWallet(te.address))}})))||[];return Nz(U.ethereum,W)?{}:{ethereum:W}}))};Y.useEffect((()=>{ht()}),[h?.linkedAccounts,wt,u]),Y.useEffect((()=>{if(u){if(!e.connectors)throw new se("Connector not initialized");ht(),e.connectors.on("walletsUpdated",ht)}}),[u]),Y.useEffect((()=>{[...i.loginMethodsAndOrder?.primary??[],...i.loginMethodsAndOrder?.overflow??[]].filter((U=>U.startsWith("privy:"))).forEach((U=>e.getCrossAppProviderDetails(U.replace("privy:",""))))}),[!!e]);let On=({transaction:U,sponsor:W,uiOptions:te,fundWalletConfig:ee,address:ae,signOnly:le})=>new Promise((async(Ce,$e)=>{let{requesterAppId:Xe}=te||{},yt=le?"signTransaction":"sendTransaction",Mt=ae?jc(h,ae):Lc(h);if(!Mt&&ae){let lt=GS(Nv(),ae);if(lt){if(W)throw new se("Cannot sponsor transactions for externally connected wallet.");try{let En=await lt.getEthereumProvider(),_t={...U,from:ae,chainId:U.chainId||Number(lt.chainId.replace("eip155:","")),value:U.value!==void 0?xt(U.value):void 0},dn=await En.request({method:yt==="sendTransaction"?"eth_sendTransaction":"eth_signTransaction",params:[_t]});return Oe(ye,yt,"onSuccess",{hash:dn}),void Ce({hash:dn})}catch(En){return Oe(ye,yt,"onError",Ae.TRANSACTION_FAILURE),void $e(En??new So("Unable to "+yt+En))}}}if(!Mt)return Oe(ye,yt,"onError",Ae.EMBEDDED_WALLET_NOT_FOUND),void $e(new se("No embedded or connected wallet found for address."));if(!wt||!h)return Oe(ye,yt,"onError",Ae.MUST_BE_AUTHENTICATED),void $e(Error("User must be authenticated before signing with a Privy wallet"));let mt=Mt.address,Ct=Mt.walletIndex??0,{entropyId:Je,entropyIdVerifier:sn}=Va(h,Mt),an=ys.wallets.find((lt=>lt.walletClientType==="privy"&&oi(lt.address)===oi(mt)));if(!an)return Oe(ye,yt,"onError",Ae.EMBEDDED_WALLET_NOT_FOUND),void $e(Error("Must have a Privy wallet before signing"));let cr=await an.getEthereumProvider(),Sr=await cr.request({method:"eth_chainId"}),Yn=U.chainId?Number(U.chainId):xz(Sr);(lt=>{if(!i.chains.map((En=>En.id)).includes(lt))throw new zn(`Chain ID ${lt} is not supported. It must be added to the config.supportedChains property of the PrivyProvider.`,Ae.UNSUPPORTED_CHAIN_ID)})(Yn);let un={...U,from:U.from??mt,chainId:Yn},Zn=await In();if(!Zn||!P)return Oe(ye,yt,"onError",Ae.EMBEDDED_WALLET_NOT_FOUND),void $e(Error("Must have valid access token and Privy wallet to send transaction"));let Xn=F1(un.chainId,i.chains,i.rpcConfig,{appId:t.appId}),qs=Ei(Mt),Ca=async({transactionRequest:lt})=>{try{let En;if(!await vt.recoverEmbeddedWallet({address:mt}))throw Oe(ye,yt,"onError",Ae.UNKNOWN_CONNECT_WALLET_ERROR),$e(Error("Unable to connect to wallet")),Error("Unable to connect to wallet");if(W){let _t=await(async({transactionRequest:dn})=>{if(!qs)throw new se("Sponsoring is only supported for wallets on the TEE stack");if(le)throw new se("Cannot sponsor a sign transaction request");let Dr=Oa=>Oa==null?void 0:xt(Oa),Qo=await Ps(n,(async({message:Oa})=>await P.signWithUserSigner({accessToken:Zn,requesterAppId:Xe,message:Oa})),{chain_type:"ethereum",method:"eth_sendTransaction",caip2:xg(xt(dn.chainId)),sponsor:!0,params:{transaction:{from:dn.from,to:dn.to,chain_id:Dr(dn.chainId),data:Ri(dn.data)?dn.data?dn.data:xt(Uint8Array.from(dn.data)):void 0,value:Dr(dn.value)}},wallet_id:Mt.id});if(Qo.data&&"hash"in Qo.data)return Qo.data.hash;throw new So("Unable to sign transaction")})({transactionRequest:lt});return Oe(ye,"sendTransaction","onSuccess",{hash:_t}),_t}if(qs){let _t=Dr=>Dr==null?void 0:xt(Dr),dn=await Ps(n,(async({message:Dr})=>await P.signWithUserSigner({accessToken:Zn,requesterAppId:Xe,message:Dr})),{chain_type:"ethereum",method:"eth_signTransaction",params:{transaction:{from:lt.from,to:lt.to,nonce:_t(lt.nonce),chain_id:_t(lt.chainId),data:Ri(lt.data)?lt.data?lt.data:xt(Uint8Array.from(lt.data)):void 0,value:_t(lt.value),type:lt.type,gas_limit:_t(lt.gasLimit??lt.gas),gas_price:_t(lt.gasPrice??lt.gas),max_fee_per_gas:_t(lt.maxFeePerGas),max_priority_fee_per_gas:_t(lt.maxPriorityFeePerGas)}},wallet_id:Mt.id});if(!dn.data||!("signed_transaction"in dn.data))throw new So("Unable to sign transaction");En=dn.data.signed_transaction}else En=await(async function({accessToken:_t,entropyId:dn,entropyIdVerifier:Dr,transactingWalletIndex:Qo,walletProxy:Oa,transactionRequest:kf,requesterAppId:ey}){return(await Oa.rpc({entropyId:dn,entropyIdVerifier:Dr,hdWalletIndex:Qo??0,chainType:"ethereum",accessToken:_t,requesterAppId:ey,request:{method:"eth_signTransaction",params:[kf]}})).response.data})({accessToken:Zn,entropyId:Je,entropyIdVerifier:sn,transactingWalletIndex:Ct,walletProxy:P,transactionRequest:lt,requesterAppId:Xe});if(le)return Oe(ye,"signTransaction","onSuccess",{signature:En}),En;{let _t=await Xn.sendRawTransaction({serializedTransaction:En});return Oe(ye,"sendTransaction","onSuccess",{hash:_t}),_t}}catch(En){throw Oe(ye,yt,"onError",Ae.TRANSACTION_FAILURE),En}};if(yi({showWalletUIs:te?.showWalletUIs})){let lt=le||W?un:await tB(un,Xn,un.from);try{let En=await Ca({transactionRequest:lt});le?Oe(ye,"signTransaction","onSuccess",{signature:En}):Oe(ye,"sendTransaction","onSuccess",{hash:En}),Ce({hash:En})}catch(En){Oe(ye,yt,"onError",Ae.TRANSACTION_FAILURE),$e(En)}}else{let lt={connectingWalletAddress:mt,recoveryMethod:Mt.recoveryMethod,entropyId:Je,entropyIdVerifier:sn,onCompleteNavigateTo:"SendTransactionScreen",isUnifiedWallet:qs,onFailure:_t=>{Oe(ye,yt,"onError",Ae.UNKNOWN_CONNECT_WALLET_ERROR),$e(_t)}},En=(_t=>!!_t.fundingConfig&&eC(_t.fundingConfig.options).length>=1)(i)?AN({address:mt,appConfig:i,fundWalletConfig:ee,methodScreen:"FundingMethodSelectionScreen",chainIdOverride:un.chainId,comingFromSendTransactionScreen:!0}):void 0;J({connectWallet:lt,sendTransaction:{transactionRequest:un,transactingWalletIndex:Ct,transactingWalletAddress:mt,entropyId:Je,entropyIdVerifier:sn,signOnly:le,scanTransaction:async()=>{let _t=await tB(un,Xn,un.from);return await e.scanTransaction({metadata:{domain:i.embeddedWallets.transactionScanning.domain},chain_id:_t.chainId.toString(),request:{method:"eth_sendTransaction",params:[{from:_t.from,to:_t.to,value:_t.value?.toString(),gas:_t.gas?.toString(),gasPrice:_t.gasPrice?.toString(),nonce:_t.nonce?.toString(),data:_t.data}]}})},getIsSponsored:async()=>!!W,onConfirm:({transactionRequest:_t})=>Ca({transactionRequest:_t}),onSuccess:_t=>{le?Oe(ye,"signTransaction","onSuccess",{signature:_t.hash}):Oe(ye,"sendTransaction","onSuccess",{hash:_t.hash}),Ce(_t)},onFailure:_t=>{Oe(ye,yt,"onError",Ae.TRANSACTION_FAILURE),$e(_t)},uiOptions:te||{},fundWalletConfig:ee,requesterAppId:Xe},funding:En}),dt("EmbeddedWalletConnectingScreen")}}));function Xt(){return new Promise((async(U,W)=>{let te=await In();if(!te||!P)throw Error("Must have valid access token to enroll in MFA");try{await P.verifyMfa({accessToken:te}),U()}catch(ee){W(ee)}}))}let Nt=U=>U?.linkedAccounts.filter((W=>W.latestVerifiedAt!==null&&!(W.type==="wallet"&&W.walletClientType==="privy"))).sort(((W,te)=>te.latestVerifiedAt.getTime()-W.latestVerifiedAt.getTime()))[0],Ke=U=>{let W=h?.linkedAccounts.filter((ae=>ae.type===U)).length??0,{displayName:te,loginMethod:ee}=iUe(U);if(U==="passkey"&&W>=5||U!=="passkey"&&W>=1)throw Oe(ye,"linkAccount","onError",Ae.CANNOT_LINK_MORE_OF_TYPE,{linkMethod:ee}),new se(`User already has an account of type ${te} linked.`)};async function Pr({showAutomaticRecovery:U=!1,legacySetWalletPasswordFlow:W=!1}){k(null);let te=W?"setWalletPassword":"setWalletRecovery";if(!wt||!h)throw Oe(ye,te,"onError",Ae.MUST_BE_AUTHENTICATED),Error("User must be authenticated before adding recovery method to Privy wallet");let ee=d0(h);if(!ee||!P)throw Oe(ye,te,"onError",Ae.EMBEDDED_WALLET_NOT_FOUND),Error("Must have a Privy wallet to add a recovery method");let ae=Ei(ee);if(ae)throw Oe(ye,te,"onError",Ae.UNSUPPORTED_WALLET_TYPE),new se("User owned wallet recovery is only supported for on-device execution and this app uses TEE execution. Learn more https://docs.privy.io/recipes/tee-wallet-migration-guide");try{await Xt()}catch(le){throw Oe(ye,te,"onError",Ae.MISSING_MFA_CREDENTIALS),le}return new Promise(((le,Ce)=>{let $e=ee.recoveryMethod==="user-passcode",Xe=eUe({walletAction:"update",availableRecoveryMethods:i.embeddedWallets.userOwnedRecoveryOptions,legacySetWalletPasswordFlow:W,isResettingPassword:$e,showAutomaticRecovery:U}),{entropyId:yt,entropyIdVerifier:Mt}=Va(h),mt={recoveryMethod:ee.recoveryMethod,connectingWalletAddress:ee.address,onCompleteNavigateTo:Xe,shouldForceMFA:!1,entropyId:yt,isUnifiedWallet:ae,entropyIdVerifier:Mt,onFailure:Ct=>{Oe(ye,te,"onError",Ae.UNKNOWN_CONNECT_WALLET_ERROR),Ce(Ct)}};J({setWalletPassword:{onSuccess:Ct=>{Oe(ye,te,"onSuccess",{method:"user-passcode",wallet:Ct}),le(Ct)},onFailure:Ct=>{Oe(ye,te,"onError",Ae.USER_EXITED_SET_PASSWORD_FLOW),Ce(Ct)},callAuthOnSuccessOnClose:!1},recoverWallet:{entropyId:yt,entropyIdVerifier:Mt,onFailure:Ce},connectWallet:mt,recoverySelection:{isInAccountCreateFlow:!1,isResettingPassword:$e,shouldCreateEth:!1,shouldCreateSol:!1}}),dt("EmbeddedWalletConnectingScreen")}))}async function Yr({appId:U,action:W}){let te=await In();if(W==="link"&&!te)throw Oe(ye,"linkAccount","onError",Ae.MUST_BE_AUTHENTICATED,{linkMethod:`privy:${U}`}),new se("User must be authenticated before linking an account.");if(W==="login"&&te)throw Oe(ye,"login","onError",Ae.UNKNOWN_AUTH_ERROR),new se("Attempted to log in, but user is already logged in. Use a `link` helper instead.");Le.current=`privy:${U}`,Ve.current=W;let ee=vF();return e.createAnalyticsEvent({eventName:"cross_app_auth_started",payload:{providerAppId:U}}),new Promise((async(ae,le)=>{let{name:Ce,logoUrl:$e}=await RK({api:e.api,providerAppId:U,requesterAppId:i.id});J({crossAppAuth:{appId:U,name:Ce,logoUrl:$e,action:W,popup:ee,onSuccess:ae,onError:le}}),dt("CrossAppAuthScreen")}))}let ji={ready:u,authenticated:wt,user:h,walletConnectors:e.connectors||null,connectWallet:U=>{U&&"target"in U&&U&&(U=void 0),J({externalConnectWallet:{walletList:U?.walletList&&U?.walletList.length>0?U.walletList:void 0,walletChainType:U?.walletChainType,description:U?.description,hideHeader:U?.hideHeader}}),dt("ConnectOnlyLandingScreen")},linkWallet:U=>(U&&"target"in U&&U&&(U=void 0),it("siwe"),Le.current="siwe",Ve.current="link",J({...G,externalConnectWallet:{...G.externalConnectWallet,walletList:U?.walletList,walletChainType:U?.walletChainType,description:U?.description||`Link a wallet to your ${i?.name} account`}}),dt("AuthenticateWithWalletScreen")),startCrossAppAuthFlow:Yr,linkEmail:()=>{it("email"),Ke("email"),Le.current="email",Ve.current="link",dt("LinkEmailScreen")},linkPhone:()=>{it("sms"),Ke("phone"),Le.current="sms",Ve.current="link",dt("LinkPhoneScreen")},linkGoogle:async()=>{it("google"),Ke("google_oauth"),Ve.current="link",await vt.initLoginWithOAuth("google")},linkTwitter:async()=>{it("twitter"),Ke("twitter_oauth"),Ve.current="link",await vt.initLoginWithOAuth("twitter")},linkTwitch:async()=>{it("twitch"),Ke("twitch_oauth"),Ve.current="link",await vt.initLoginWithOAuth("twitch")},linkDiscord:async()=>{it("discord"),Ke("discord_oauth"),Ve.current="link",await vt.initLoginWithOAuth("discord")},linkGithub:async()=>{it("github"),Ke("github_oauth"),Ve.current="link",await vt.initLoginWithOAuth("github")},linkSpotify:async()=>{it("spotify"),Ke("spotify_oauth"),Ve.current="link",await vt.initLoginWithOAuth("spotify")},linkInstagram:async()=>{it("instagram"),Ke("instagram_oauth"),Ve.current="link",await vt.initLoginWithOAuth("instagram")},linkTiktok:async()=>{it("tiktok"),Ke("tiktok_oauth"),Ve.current="link",await vt.initLoginWithOAuth("tiktok")},linkLine:async()=>{it("line"),Ke("line_oauth"),Ve.current="link",await vt.initLoginWithOAuth("line")},linkLinkedIn:async()=>{it("linkedin"),Ke("linkedin_oauth"),Ve.current="link",await vt.initLoginWithOAuth("linkedin")},linkApple:async()=>{it("apple"),Ke("apple_oauth"),Ve.current="link",await vt.initLoginWithOAuth("apple")},linkPasskey:async()=>{it("passkey"),Ke("passkey"),await vt.initLinkWithPasskey(),dt("LinkPasskeyScreen")},linkTelegram:async U=>{if(it("telegram"),Ke("telegram"),Ve.current="link",Le.current="telegram",U?.launchParams)if(U.launchParams.initDataRaw){let W=new Am;e.startAuthFlow(W),W.meta.telegramAuthResult=void 0,W.meta.telegramWebAppData=VU(U.launchParams.initDataRaw),J({telegramAuthModalData:{seamlessAuth:!0}}),dt("TelegramAuthScreen")}else Oe(ye,"linkAccount","onError",Ae.INVALID_DATA,{linkMethod:"telegram"});else await vt.initLoginWithTelegram();dt("TelegramAuthScreen")},linkFarcaster:async()=>{it("farcaster"),Ke("farcaster"),await vt.initLoginWithFarcaster(),Ve.current="link",Le.current="farcaster",dt("FarcasterConnectStatusScreen")},updateEmail:()=>{if(it("email"),!h?.email)throw new se("User does not have an email linked to their account.");Ve.current="update",Le.current="email",dt("UpdateEmailScreen")},updatePhone:()=>{if(it("sms"),!h?.phone)throw new se("User does not have a phone number linked to their account.");Ve.current="update",Le.current="sms",dt("UpdatePhoneScreen")},login:async U=>{U&&"target"in U&&U&&(U=void 0);let W="Attempted to log in, but user is already logged in. Use a `link` helper instead.";if(!u){let te=await new Promise((ee=>{Q((ae=>ee.bind(ae)))}));if(Q(null),te)return void console.warn(W)}!h||h.isGuest?(Ve.current="login",J({login:U}),dt("LandingScreen")):console.warn(W)},connectOrCreateWallet:async()=>{u||(await new Promise((U=>{Q((()=>U))})),Q(null)),wt?console.warn("User must be unauthenticated to `connectOrCreateWallet`"):(Ve.current="connect-or-create",dt("ConnectOrCreateScreen"))},logout:async()=>{if(Ve.current=null,Le.current=null,h&&e.clearProviderAcccessTokens(h),k(null),await e.logout(),h&&P)try{await P.clearMfa({userId:h.id})}catch{}p(null),Vt(!1),B({status:"initial"}),D({status:"initial"}),z({status:"initial"}),K({status:"initial"}),x({status:"initial"}),j({status:"initial"}),Oe(ye,"logout","onSuccess"),a(!1),nt.del(GT),nt.del($j(i.id))},getAccessToken:Y.useCallback((async()=>{let U=await e.getCustomerAccessToken();return U&&!wt&&Vt(!0),U}),[e,wt]),unlinkWallet:async U=>{let W;return p(W=U.startsWith("0x")?await e.unlinkEthereumWallet(U):await e.unlinkSolanaWallet(U)),W},unlinkEmail:async U=>{let W=await e.unlinkEmail(U);return p(W),W},unlinkPhone:async U=>{let W=await e.unlinkPhone(U);return p(W),W},unlinkGoogle:async U=>{let W=await e.unlinkOAuth("google",U);return p(W),W},unlinkTwitter:async U=>{let W=await e.unlinkOAuth("twitter",U);return p(W),W},unlinkTwitch:async U=>{let W=await e.unlinkOAuth("twitch",U);return p(W),W},unlinkDiscord:async U=>{let W=await e.unlinkOAuth("discord",U);return p(W),W},unlinkGithub:async U=>{let W=await e.unlinkOAuth("github",U);return p(W),W},unlinkSpotify:async U=>{let W=await e.unlinkOAuth("spotify",U);return p(W),W},unlinkInstagram:async U=>{let W=await e.unlinkOAuth("instagram",U);return p(W),W},unlinkTiktok:async U=>{let W=await e.unlinkOAuth("tiktok",U);return p(W),W},unlinkLine:async U=>{let W=await e.unlinkOAuth("line",U);return p(W),W},unlinkLinkedIn:async U=>{let W=await e.unlinkOAuth("linkedin",U);return p(W),W},unlinkApple:async U=>{let W=await e.unlinkOAuth("apple",U);return p(W),W},unlinkFarcaster:async U=>{let W=await e.unlinkFarcaster(U);return p(W),W},unlinkTelegram:async U=>{let W=await e.unlinkTelegram(U);return p(W),W},unlinkPasskey:async U=>{let W=await In();if(!W)throw Error("Must have valid access token to enroll in MFA");if(!P)throw Error("Wallet proxy not initialized.");let te=i.passkeys.shouldUnenrollMfaOnUnlink;await P.unlinkPasskeyAccount({credentialId:U,accessToken:W,removeAsMfa:te});let ee=await e.getAuthenticatedUser();return p(ee),ee},unlinkCrossAppAccount:async({subject:U})=>{let W=h?.linkedAccounts.find((ee=>ee.type==="cross_app"&&ee.subject===U))?.providerApp;if(!W)throw new se("Invalid subject");e.storeProviderAccessToken(W.id,null);let te=await e.unlinkOAuth(`privy:${W.id}`,U);return p(te),te},setWalletRecovery:async U=>Pr({legacySetWalletPasswordFlow:!1,showAutomaticRecovery:U?.showAutomaticRecovery??!1}),setWalletPassword:async()=>Pr({legacySetWalletPasswordFlow:!0,showAutomaticRecovery:!1}),signMessage:(U,W)=>new Promise((async(te,ee)=>{let{requesterAppId:ae}=W?.uiOptions||{},le=U.message,Ce=W?.address?jc(h,W.address):Lc(h);if(!Ce&&W?.address!==void 0){let Je=GS(Nv(),W.address);if(Je)try{let sn=await Je.getEthereumProvider(),an=await sn.request({method:"personal_sign",params:[le,Je.address]});return Oe(ye,"signMessage","onSuccess",{signature:an}),void te({signature:an})}catch(sn){return Oe(ye,"signMessage","onError",Ae.UNABLE_TO_SIGN),void ee(sn??new So("Unable to sign message"))}}if(!Ce)throw new se("No embedded or connected wallet found for address.");if(!wt||!h)return Oe(ye,"signMessage","onError",Ae.MUST_BE_AUTHENTICATED),void ee(Error("User must be authenticated before signing with a Privy wallet"));let $e=Ce.address,Xe=Ce.walletIndex??0,{entropyId:yt,entropyIdVerifier:Mt}=Va(h,Ce),mt=Ei(Ce);if(typeof le!="string"||le.length<1)return Oe(ye,"signMessage","onError",Ae.INVALID_MESSAGE),void ee(Error("Message must be a non-empty string"));let Ct=async()=>{let Je;if(!wt)throw Error("User must be authenticated before signing with a Privy wallet");let sn=await In();if(!P||!sn||!await vt.recoverEmbeddedWallet({address:$e}))throw Error("Unable to connect to wallet");if(e.createAnalyticsEvent({eventName:"embedded_wallet_sign_message_started",payload:{walletAddress:$e,requesterAppId:ae}}),mt){let an=Ri(U.message,{strict:!0}),cr=await Ps(n,(async({message:Sr})=>await P.signWithUserSigner({accessToken:sn,requesterAppId:ae,message:Sr})),{chain_type:"ethereum",method:"personal_sign",params:an?{message:le.slice(2),encoding:"hex"}:{message:le,encoding:"utf-8"},wallet_id:Ce.id});if(!cr.data||!("signature"in cr.data))throw new So("Unable to sign message");Je=cr.data.signature}else{let{response:an}=await P.rpc({accessToken:sn,entropyId:yt,entropyIdVerifier:Mt,chainType:"ethereum",hdWalletIndex:Xe,requesterAppId:ae,request:{method:"personal_sign",params:[le,$e]}});Je=an.data}return e.createAnalyticsEvent({eventName:"embedded_wallet_sign_message_completed",payload:{walletAddress:$e,requesterAppId:ae}}),Je};if(yi({showWalletUIs:W?.uiOptions?.showWalletUIs}))try{let Je=await Ct();Oe(ye,"signMessage","onSuccess",{signature:Je}),te({signature:Je})}catch(Je){Oe(ye,"signMessage","onError",Ae.UNABLE_TO_SIGN),ee(Je??new So("Unable to sign message"))}else J({signMessage:{method:"personal_sign",data:le,confirmAndSign:Ct,onSuccess:Je=>{Oe(ye,"signMessage","onSuccess",{signature:Je}),te({signature:Je})},onFailure:Je=>{Oe(ye,"signMessage","onError",Ae.UNABLE_TO_SIGN),ee(Je)},uiOptions:W?.uiOptions||{}},connectWallet:{recoveryMethod:Ce.recoveryMethod,connectingWalletAddress:$e,entropyId:yt,entropyIdVerifier:Mt,onCompleteNavigateTo:"SignRequestScreen",isUnifiedWallet:mt,onFailure:Je=>{Oe(ye,"signMessage","onError",Ae.UNKNOWN_CONNECT_WALLET_ERROR),ee(Je)}}}),dt("EmbeddedWalletConnectingScreen")})),signTypedData:(U,W)=>new Promise((async(te,ee)=>{let{requesterAppId:ae}=W?.uiOptions||{},le=W?.address?jc(h,W.address):Lc(h);if(!le&&W?.address){let Je=GS(Nv(),W.address);if(Je)try{let sn=await Je.getEthereumProvider(),an=Gv(U),cr=await sn.request({method:"eth_signTypedData_v4",params:[Je.address,an]});return Oe(ye,"signTypedData","onSuccess",{signature:cr}),void te({signature:cr})}catch(sn){return Oe(ye,"signTypedData","onError",Ae.UNABLE_TO_SIGN),void ee(sn??new So("Unable to sign typed data "+sn))}}if(!le)throw new se("No embedded or connected wallet found for address.");if(!wt||!h)return Oe(ye,"signTypedData","onError",Ae.MUST_BE_AUTHENTICATED),void ee(Error("User must be authenticated before signing with a Privy wallet"));let Ce=le.address,$e=le.walletIndex??0,{entropyId:Xe,entropyIdVerifier:yt}=Va(h,le),Mt=Ei(le),mt=Gv(U),Ct=async()=>{let Je;if(!wt)throw Error("User must be authenticated before signing with a Privy wallet");let sn=await In();if(!P||!sn||!await vt.recoverEmbeddedWallet({address:Ce}))throw Error("Unable to connect to wallet");if(e.createAnalyticsEvent({eventName:"embedded_wallet_sign_typed_data_started",payload:{walletAddress:Ce,requesterAppId:ae}}),Mt){let{domain:an,types:cr,primaryType:Sr,message:Yn}=mt,un=await Ps(n,(async({message:Zn})=>await P.signWithUserSigner({accessToken:sn,requesterAppId:ae,message:Zn})),{chain_type:"ethereum",method:"eth_signTypedData_v4",params:{typed_data:{domain:an,types:cr,primary_type:Sr,message:Yn}},wallet_id:le.id});if(!un.data||!("signature"in un.data))throw new So("Unable to sign message");Je=un.data.signature}else{let{response:an}=await P.rpc({accessToken:sn,entropyId:Xe,entropyIdVerifier:yt,chainType:"ethereum",hdWalletIndex:$e,requesterAppId:ae,request:{method:"eth_signTypedData_v4",params:[Ce,mt]}});Je=an.data}return e.createAnalyticsEvent({eventName:"embedded_wallet_sign_typed_data_completed",payload:{walletAddress:Ce,requesterAppId:ae}}),Je};if(yi({showWalletUIs:W?.uiOptions?.showWalletUIs}))try{let Je=await Ct();Oe(ye,"signTypedData","onSuccess",{signature:Je}),te({signature:Je})}catch(Je){Oe(ye,"signTypedData","onError",Ae.UNABLE_TO_SIGN),ee(Je??new So("Unable to sign message"))}else J({signMessage:{method:"eth_signTypedData_v4",data:mt,confirmAndSign:Ct,onSuccess:Je=>{Oe(ye,"signTypedData","onSuccess",{signature:Je}),te({signature:Je})},onFailure:Je=>{Oe(ye,"signTypedData","onError",Ae.UNABLE_TO_SIGN),ee(Je)},uiOptions:W?.uiOptions||{}},connectWallet:{recoveryMethod:le.recoveryMethod,connectingWalletAddress:le.address,entropyId:Xe,isUnifiedWallet:Mt,entropyIdVerifier:yt,onCompleteNavigateTo:"SignRequestScreen",onFailure:Je=>{Oe(ye,"signMessage","onError",Ae.UNKNOWN_CONNECT_WALLET_ERROR),ee(Je)}}}),dt("EmbeddedWalletConnectingScreen")})),sendTransaction:async(U,W)=>await On({transaction:U,sponsor:W?.sponsor,uiOptions:W?.uiOptions,fundWalletConfig:W?.fundWalletConfig,address:W?.address,signOnly:!1}),signTransaction:async(U,W)=>({signature:(await On({transaction:U,uiOptions:W?.uiOptions,address:W?.address,signOnly:!0})).hash}),exportWallet:U=>new Promise((async(W,te)=>{if(!wt||!h)return void te(Error("User must be authenticated before exporting their Privy wallet"));U&&"target"in U&&U&&(U=void 0);let ee=U?.address?jc(h,U.address):Lc(h);if(!ee)return void te(new se("User must have an embedded wallet."));let ae=ee.address,{entropyId:le,entropyIdVerifier:Ce}=Va(h,ee),$e=Ei(ee);if(!ae)return void te(Error("User does not have an HD Ethereum wallet. To export an imported wallet, pass the `address` of the wallet to `exportWallet`."));if(!$n(ae))return void te(Error("Must provide a valid Ethereum address."));let Xe={recoveryMethod:ee.recoveryMethod,connectingWalletAddress:ee.address,isUnifiedWallet:$e,entropyId:le,entropyIdVerifier:Ce,onCompleteNavigateTo:"EmbeddedWalletKeyExportScreen",onFailure:te,shouldForceMFA:!0};J(G),await In()&&P?P?oE(ee)?(J({keyExport:{appId:t.appId,appClientId:t.clientId,origin:e.apiUrl,address:ee.address,entropyId:le,entropyIdVerifier:Ce,hdWalletIndex:ee.walletIndex,chainType:ee.chainType,walletId:ee.id,isUnifiedWallet:$e,imported:ee.imported,onSuccess:W,onFailure:te},connectWallet:Xe}),dt("EmbeddedWalletConnectingScreen")):te(Error(`Export is not supported for ${ee.chainType} wallets`)):te(Error("Must have a Privy wallet before exporting")):te(Error("Must have valid access token to enroll in MFA"))})),promptMfa:Xt,async init(U){switch(U){case"sms":return void await e.initMfaSmsVerification();case"passkey":return await e.initMfaPasskeyVerification();case"totp":return;default:throw Error(`Unsupported MFA method: ${U}`)}},async submit(U,W){switch(U){case"totp":case"sms":if(typeof W!="string")throw new se("Invalid MFA code");qe.current?.resolve({mfaMethod:U,mfaCode:W,relyingParty:window.origin}),await new Promise(((ae,le)=>{rt.current={resolve:ae,reject:le}}));break;case"passkey":if(typeof W=="string")throw new se("Invalid authenticator response");let te=await Fe(()=>import("./index-D9std1Z8.js"),[]),ee=dUe(await te.startAuthentication({optionsJSON:W}));qe.current?.resolve({mfaMethod:U,mfaCode:ee,relyingParty:window.origin}),await new Promise(((ae,le)=>{rt.current={resolve:ae,reject:le}}));break;default:throw qe.current?.reject(new se("Unsupported MFA method")),new se(`Unsupported MFA method: ${U}`)}},cancel(){qe.current?.reject(new se("MFA canceled"))},async initEnrollmentWithSms(U){let W=await In();if(!W||!P)throw Error("Must have valid access token to enroll in MFA");await P.initEnrollMfa({method:"sms",accessToken:W,phoneNumber:U.phoneNumber})},enrollInMfa:U=>new Promise(((W,te)=>{if(!U)return vt.closePrivyModal(),void W();i.mfa.noPromptOnMfaRequired&&console.warn("[Privy Warning] Triggering the 'showMfaEnrollmentModal' function when 'noPromptOnMfaRequired' is set to true is unexpected. If this is intentional, ensure that you are building custom UIs for MFA verification."),J({mfaEnrollmentFlow:{mfaMethods:i.mfa.methods,shouldUnlinkOnUnenrollMfa:i.passkeys.shouldUnlinkOnUnenrollMfa,onSuccess:W,onFailure:te}}),dt("MfaEnrollmentFlowScreen")})),async initEnrollmentWithTotp(){let U=await In();if(!U||!P)throw Error("Must have valid access token to enroll in MFA");let W=await P.initEnrollMfa({method:"totp",accessToken:U});return{secret:W.secret,authUrl:W.authUrl}},async submitEnrollmentWithSms(U){let W=await In();if(!W||!P)throw Error("Must have valid access token to enroll in MFA");await P.submitEnrollMfa({method:"sms",accessToken:W,phoneNumber:U.phoneNumber,code:U.mfaCode}),p(await e.getAuthenticatedUser())},async submitEnrollmentWithTotp(U){let W=await In();if(!W||!P)throw Error("Must have valid access token to enroll in MFA");await P.submitEnrollMfa({method:"totp",accessToken:W,code:U.mfaCode}),p(await e.getAuthenticatedUser())},async initEnrollmentWithPasskey(){},async submitEnrollmentWithPasskey({credentialIds:U},W={}){let te=await In();if(!te||!P)throw Error("Must have valid access token to enroll in MFA");await P.submitEnrollMfa({method:"passkey",accessToken:te,credentialIds:U,removeForLogin:W.removeForLogin}),p(await e.getAuthenticatedUser())},async unenroll(U,W={}){let te=await In();if(!te||!P)throw Error("Must have valid access token to remove MFA");U==="passkey"?await P.submitEnrollMfa({method:"passkey",accessToken:te,credentialIds:[],removeForLogin:W.removeForLogin}):await P.unenrollMfa({method:U,accessToken:te}),p(await e.getAuthenticatedUser())},requestFarcasterSignerFromWarpcast:async()=>{let U=await In(),W=h?.linkedAccounts.find((ee=>ee.type==="wallet"&&ee.walletClientType==="privy"));if(!U)throw Error("Must have valid access token to connect with Farcaster");if(!P||!W)throw Error("Must have an embedded wallet to use Farcaster signers");if(Ei(W))throw new se("Farcaster signers are only supported for on-device execution and this app uses TEE execution. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");if(!h?.farcaster?.fid)throw Error("Must have Farcaster account to use Farcaster signers");if(!await vt.recoverEmbeddedWallet({address:W.address}))throw Error("Unable to connect to wallet");let te=await P.initFarcasterSigner({address:W.address,hdWalletIndex:null,accessToken:U,mfaCode:null,mfaMethod:null,relyingParty:window.origin});te.status==="approved"&&p(await e.getAuthenticatedUser()||h||null),J({farcasterSigner:te}),dt("FarcasterSignerStatusScreen")},getFarcasterSignerPublicKey:async()=>{let U,W=await In(),te=h?.linkedAccounts.find((ee=>ee.type==="wallet"&&ee.walletClientType==="privy"));if(!W)throw Error("Must have valid access token to connect with Farcaster");if(!P||!te)throw Error("Must have an embedded wallet to use Farcaster signers");if(Ei(te))throw new se("Farcaster signers are only supported for on-device execution and this app uses TEE execution. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");if(!h?.farcaster?.fid)throw Error("Must have Farcaster account to use Farcaster signers");if(!await vt.recoverEmbeddedWallet({address:te.address}))throw Error("Unable to connect to wallet");if(!h.farcaster?.signerPublicKey)throw Error("Must have a Farcaster signer public key to sign");return U=h.farcaster.signerPublicKey.slice(2),Uint8Array.from(U.match(/.{1,2}/g).map((ee=>parseInt(ee,16))))},signFarcasterMessage:async U=>{let W=await In(),te=h?.linkedAccounts.find((le=>le.type==="wallet"&&le.walletClientType==="privy"));if(!W)throw Error("Must have valid access token to connect with Farcaster");if(!P||!te)throw Error("Must have an embedded wallet to use Farcaster signers");if(Ei(te))throw new se("Farcaster signers are only supported for on-device execution and this app uses TEE execution. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");if(!h?.farcaster?.fid)throw Error("Must have Farcaster account to use Farcaster signers");if(!await vt.recoverEmbeddedWallet({address:te.address}))throw Error("Unable to connect to wallet");if(!h.farcaster?.signerPublicKey)throw Error("Must have a Farcaster signer public key to sign");let ee=await Fe(()=>import("./index-D9std1Z8.js"),[]),ae=await P.signFarcasterMessage({address:te.address,hdWalletIndex:null,accessToken:W,mfaCode:null,mfaMethod:null,payload:{hash:ee.bufferToBase64URLString(U)},fid:BigInt(h.farcaster.fid),relyingParty:window.origin});return new Uint8Array(ee.base64URLStringToBuffer(ae.signature))},signMessageWithCrossAppWallet(U,{address:W,chainId:te}){let ee=h?.linkedAccounts.some((ae=>ae.type==="cross_app"&&ae.smartWallets.some((le=>le.address===W))));return $v({user:h,client:e,address:W,requesterAppId:i.id,request:{method:ee?"privy_signSmartWalletMessage":"personal_sign",params:[U,W],chainId:te},reconnect:Yr})},signTypedDataWithCrossAppWallet(U,{address:W,chainId:te}){let ee=h?.linkedAccounts.some((le=>le.type==="cross_app"&&le.smartWallets.some((Ce=>Ce.address===W)))),ae=Gv(U);return $v({user:h,client:e,address:W,requesterAppId:i.id,request:{method:ee?"privy_signSmartWalletTypedData":"eth_signTypedData_v4",params:[W,ae],chainId:te},reconnect:Yr})},sendTransactionWithCrossAppWallet(U,{address:W}){let te=h?.linkedAccounts.some((ee=>ee.type==="cross_app"&&ee.smartWallets.some((ae=>ae.address===W))));return $v({user:h,client:e,address:W,requesterAppId:i.id,request:{method:te?"privy_sendSmartWalletTx":"eth_sendTransaction",params:[U],chainId:U.chainId},reconnect:Yr})},signTransactionWithCrossAppWallet(U,{address:W}){let te=h?.linkedAccounts.some((ee=>ee.type==="cross_app"&&ee.smartWallets.some((ae=>ae.address===W))));return $v({user:h,client:e,address:W,requesterAppId:i.id,request:{method:te?"privy_signSmartWalletTx":"eth_signTransaction",params:[U],chainId:U.chainId},reconnect:Yr})},isModalOpen:s||!!c,mfaMethods:i.mfa.methods};PK=ji.signMessage,DK=ji.signTypedData,UK=async(U,W)=>await On({transaction:U,...W,signOnly:!1}),MK=async(U,W)=>({signature:(await On({transaction:U,...W,signOnly:!0})).hash});let vt={privy:n,setAuthenticated:Vt,setUser:p,setIsNewUser:E,isNewUserThisSession:v,pendingTransaction:null,walletConnectionStatus:C,setWalletConnectionStatus:I,connectors:e.connectors?.walletConnectors??[],rpcConfig:i.rpcConfig,chains:i.chains,appId:t.appId,showFiatPrices:i.embeddedWallets.priceDisplay.primary!=="native-token",clientAnalyticsId:e.clientAnalyticsId,onCustomAuthAuthenticated:_n,hideWalletUIs:pi,isHeadlessSigning:Y.useCallback(yi,[i.embeddedWallets.showWalletUIs]),emailOtpState:L,setEmailOtpState:B,smsOtpState:H,setSmsOtpState:D,oAuthState:T,setOAuthState:x,telegramAuthState:$,setTelegramAuthState:j,siweState:F,setSiweState:K,isHeadlessOAuthLoading:S,baseAccountSdk:g,setBaseAccountSdk:b,nativeTokenSymbolForChainId:U=>i.chains.find((W=>W.id===Number(U)))?.nativeCurrency.symbol,initializeWalletProxy:async U=>{if(P)return P;let W=new Promise((ae=>{ge.current=ae})),te=new Promise((ae=>setTimeout((()=>ae(null)),U))),ee=await Promise.race([W,te]);return ge.current=null,ee},getAuthFlow:()=>e.authFlow,getAuthMeta:()=>e.authFlow?.meta,client:e,closePrivyModal:async(U={shouldCallAuthOnSuccess:!0,isSuccess:!1})=>{let W,te=u&&wt&&h;if(te&&Le.current&&(W=Nt(h)),Ve.current==="login")U.shouldCallAuthOnSuccess&&te&&Le.current?Oe(ye,"login","onComplete",{user:h,isNewUser:v,wasAlreadyAuthenticated:!1,loginMethod:Le.current,loginAccount:W??null}):Oe(ye,"login","onError",Ae.USER_EXITED_AUTH_FLOW);else if(Ve.current==="link"&&W)U.isSuccess&&te&&Le.current?Oe(ye,"linkAccount","onSuccess",{user:h,linkMethod:Le.current,linkedAccount:W}):Le.current&&Oe(ye,"linkAccount","onError",Ae.USER_EXITED_LINK_FLOW,{linkMethod:Le.current});else if(Ve.current==="update"&&W)U.isSuccess&&te&&Le.current?Oe(ye,"update","onSuccess",{user:h,updateMethod:Le.current,updatedAccount:W}):Le.current&&Oe(ye,"update","onError",Ae.USER_EXITED_UPDATE_FLOW,{linkMethod:Le.current});else if(Ve.current==="connect-or-create"){let le=Nv();le[0]?Oe(ye,"connectOrCreateWallet","onSuccess",{wallet:le[0]}):Oe(ye,"connectOrCreateWallet","onError",Ae.USER_EXITED_AUTH_FLOW)}let ee=O&&F6.has(O),ae=O==="ErrorScreen"&&G.errorModalData&&F6.has(G.errorModalData.previousScreen);if((ee||ae)&&G.funding){let le,Ce=F6.get(O)??null;if(ae&&G.funding?.onError){let $e=G.errorModalData?.error,Xe=$e?.privyErrorCode||Ae.UNKNOWN_FUNDING_ERROR,yt=new se($e?.message||"Funding failed",$e,Xe);G.funding?.onError?.(yt)}if(G.funding.chainType==="solana"){let $e=i.solanaRpcs[G.funding.chain];if(!$e)return void console.warn("Unable to load solana rpc, skipping balance");if(r(Qhe))try{le=await nUe({rpc:$e.rpc,address:G.funding.address})}catch{console.error("Unable to pull wallet balance")}else console.warn("Unable to load solana plugin, skipping balance");Oe(ye,"fundSolanaWallet","onUserExited",{address:G.funding.address,fundingMethod:Ce,chain:G.funding.chain,balance:le})}else{let $e=F1(G.funding.chain.id,i.chains,i.rpcConfig,{appId:t.appId});try{le=await $e.getBalance({address:G.funding.address})}catch{console.error("Unable to pull wallet balance")}Oe(ye,"fundWallet","onUserExited",{address:G.funding.address,chain:G.funding.chain,fundingMethod:Ce,balance:le}),(function(Xe,yt){if(Xe.onComplete)switch(yt){case"external":Xe.fundingResult?Xe.onComplete({...Xe.fundingResult,fundingMethod:yt}):Xe.onComplete({status:"cancelled",address:Xe.address,fundingMethod:yt,amount:Xe.amount});break;case null:Xe.onComplete({status:"cancelled",address:Xe.address,fundingMethod:void 0,amount:Xe.amount});break;default:Xe.onComplete({status:"completed",address:Xe.address,fundingMethod:yt,amount:Xe.amount})}})(G.funding,Ce)}}J((le=>({...le,externalConnectWallet:{}}))),Ve.current=null,Le.current=null,E(!1),a(!1),I({status:"disconnected",connectedWallet:null,connector:null,connectError:null,connectRetry:()=>{}}),setTimeout((()=>{e.authFlow=void 0}),200)},openPrivyModal:dt,connectWallet:mn,initLoginWithWallet:async(U,W,te,ee)=>{lu(U)?(Le.current="siwe",Nr(U,W,te)):(Le.current="siws",Kr(U,W,te,ee))},loginWithWallet:async()=>{let U,W,te;if(!u)throw new ud;if(e.authFlow instanceof o1?U="siwe":e.authFlow instanceof HU&&(U="siws"),!U)throw new se("Must initialize SIWE/SIWS flow first.");if(await e.getAccessToken()!==null)try{({user:W}=await e.link()),Le.current=U}catch(ee){throw Oe(ye,"linkAccount","onError",ee.privyErrorCode||Ae.FAILED_TO_LINK_ACCOUNT,{linkMethod:U}),ee}else try{({user:W,isNewUser:te}=await e.authenticate()),Le.current=U}catch(ee){throw Oe(ye,"login","onError",ee.privyErrorCode||Ae.GENERIC_CONNECT_WALLET_ERROR),ee}p(W||h||null),E(te||!1),Vt(!0)},delegateWallet:async({address:U,chainType:W,showDelegationUIs:te})=>new Promise((async(ee,ae)=>{let le=await In();if(!wt||!h||!le)throw new se("User must be authenticated and have an embedded wallet to delegate actions.");if(W!=="solana"&&W!=="ethereum")throw new se("Only Solana and Ethereum embedded wallets are supported for delegation and revocation.");let Ce=vt.walletProxy??await vt.initializeWalletProxy(15e3);if(!Ce)throw new se("Wallet proxy not initialized.");if((({address:mt,user:Ct})=>!!XU(Ct).find((Je=>Je.address===mt)))({address:U,user:h}))return ee();let $e=jc(h,U);if(!$e)throw new se("Address to delegate is not associated with current user.");if(Ei($e))throw new se("useDelegatedActions is only supported for on-device execution and this app uses TEE execution. Use the useSessionSigners hook to provision server side access on behalf of your users. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");let Xe=YMe({address:U,user:h}),yt=ZMe({address:U,user:h}),Mt=async()=>{await Ce.createDelegatedAction({accessToken:le,rootWallet:yt,delegatedWallets:[Xe]}),await vt.refreshSessionAndUser()};if(await vt.recoverEmbeddedWallet({address:U}),te)J({delegatedActions:{consent:{address:U,onDelegate:Mt,onSuccess:async()=>{ee()},onError:async mt=>{ae(mt)}}}}),dt("DelegatedActionsConsentScreen");else try{await Mt(),ee()}catch(mt){ae(mt)}})),revokeDelegatedWallets:async({showDelegationUIs:U})=>new Promise((async(W,te)=>{if(!wt||!h)throw new se("User must be authenticated and have an embedded wallet to revoke a delegated wallet.");let ee=XU(h);if(ee.length===0)throw new se("User has no delegated wallets to revoke.");if(ee.some(Ei))throw new se("useDelegatedActions is only supported for on-device execution and this app uses TEE execution. Use the useSessionSigners hook to provision server side access on behalf of your users. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");let ae=async()=>{await e.revokeDelegatedWallet(),await vt.refreshSessionAndUser()};if(U)J({delegatedActions:{revoke:{onRevoke:ae,onSuccess:async()=>{W()},onError:async le=>{te(le)}}}}),dt("DelegatedActionsRevokeScreen");else try{await ae(),W()}catch(le){te(le)}})),initLoginWithFarcaster:async(U,W)=>{let te=new qU(U,W);e.startAuthFlow(te);try{Le.current="farcaster",await te.initializeFarcasterConnect()}catch(ee){throw Ve.current==="login"?Oe(ye,"login","onError",ee.privyErrorCode||Ae.UNKNOWN_AUTH_ERROR):Ve.current==="link"&&Oe(ye,"linkAccount","onError",ee.privyErrorCode||Ae.UNKNOWN_AUTH_ERROR,{linkMethod:"farcaster"}),ee}},loginWithFarcaster:async()=>{let U,W;if(!u)throw new ud;if(!(e.authFlow instanceof qU))throw new se("Must initialize Farcaster flow first.");if(await e.getAccessToken()!==null)try{({user:U}=await e.link()),Le.current="farcaster"}catch(te){throw Oe(ye,"linkAccount","onError",te.privyErrorCode||Ae.FAILED_TO_LINK_ACCOUNT,{linkMethod:"farcaster"}),te}else try{({user:U,isNewUser:W}=await e.authenticate()),Le.current="farcaster"}catch(te){throw Oe(ye,"login","onError",te.privyErrorCode||Ae.UNKNOWN_AUTH_ERROR),te}p(U||null),E(W||!1),Vt(!0)},async crossAppAuthFlow({appId:U,popup:W,action:te}){let ee=`privy:${U}`;Le.current=ee;let{url:ae,stateCode:le,codeVerifier:Ce}=await(async function({api:$e,appId:Xe}){let yt=UO(),Mt=xK(),mt=await TK(yt);try{let{url:Ct}=await $e.post(AF,{provider:`privy:${Xe}`,redirect_to:window.location.href,code_challenge:mt,state_code:Mt});return{url:Ct,stateCode:Mt,codeVerifier:yt}}catch(Ct){throw Gt(Ct)}})({api:e.api,appId:U});if(!ae)throw e.createAnalyticsEvent({eventName:"cross_app_auth_error",payload:{error:"Unable to open cross-app auth popup",appId:U}}),new se("No authorization URL returned for cross-app auth.");try{let $e=await(async function({url:Ct,popup:Je}){return Je.location=Ct,new Promise(((sn,an)=>{let cr,Sr=setTimeout((()=>{an(new se("Authorization request timed out after 2 minutes.")),Yn()}),12e4);function Yn(){Je?.close(),window.removeEventListener("message",Zn)}let un=setInterval((()=>{Je?.closed&&!cr&&(Yn(),clearInterval(un),clearTimeout(Sr),an(new se("User rejected request")))}),300);function Zn(Xn){Xn.data&&(Xn.data.type==="PRIVY_OAUTH_RESPONSE"&&Xn.data.stateCode&&Xn.data.authorizationCode&&(clearTimeout(Sr),sn(Xn.data),Yn()),Xn.data.type==="PRIVY_OAUTH_ERROR"&&(clearTimeout(Sr),an(new se(Xn.data.error)),Yn()),Xn.data.type===QU&&((cr=new BroadcastChannel(JU)).onmessage=Zn))}window.addEventListener("message",Zn)}))})({url:ae,popup:W,provider:ee}),Xe=$e.stateCode,yt=$e.authorizationCode;if(Xe!==le)throw e.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:ee,storedStateCode:le??"",returnedStateCode:Xe??""}}),new se("Unexpected auth flow. This may be a phishing attempt.",void 0,Ae.OAUTH_UNEXPECTED);let Mt=await(async function({appId:Ct,stateCode:Je,codeVerifier:sn,authorizationCode:an,action:cr,client:Sr}){if(!an||!Je)throw new se("[Cross-App AuthFlow] Authorization and state codes code must be set prior to calling authenicate.");if(an==="undefined")throw new se("User denied confirmation during cross-app auth flow");try{let Yn=new XMe({authorizationCode:an,stateCode:Je,codeVerifier:sn,provider:`privy:${Ct}`});Sr.startAuthFlow(Yn);let un=cr==="link"?await Sr.link():await Sr.authenticate(),Zn=un.oAuthTokens?.accessToken;return console.debug(),Zn}catch(Yn){let un=Gt(Yn);throw un.privyErrorCode===Ae.ACCOUNT_TRANSFER_REQUIRED?un:un.privyErrorCode?new se(un.message||"Invalid code during cross-app auth flow.",void 0,un.privyErrorCode):un.message==="User denied confirmation during cross-app auth flow"?new se("Invalid code during cross-app auth flow.",void 0,Ae.OAUTH_USER_DENIED):new se("Invalid code during cross-app auth flow.",void 0,Ae.UNKNOWN_AUTH_ERROR)}})({appId:U,codeVerifier:Ce,stateCode:Xe,authorizationCode:yt,action:te,client:e});Mt&&e.storeProviderAccessToken(U,Mt);let mt=await vt.refreshSessionAndUser();if(!mt)throw new se("Unable to update user");return e.createAnalyticsEvent({eventName:"cross_app_auth_completed",payload:{providerAppId:U}}),mt}catch($e){throw e.createAnalyticsEvent({eventName:"cross_app_auth_error",payload:{error:$e.toString(),provider:ee}}),$e}},async initLoginWithOAuth(U,W,te){if(Le.current=U,!i5()||U==="google"&&!i.allowOAuthInEmbeddedBrowsers&&eB(window.navigator.userAgent))return void dt("InAppBrowserLoginNotPossible");U==="twitter"&&window.opener&&window.opener.postMessage({type:QU},"*"),nt.del(P1),nt.del(Ag);let ee=new Uh({provider:U,disableSignup:!!te,withPrivyUi:!0,customOAuthRedirectUrl:i.customOAuthRedirectUrl});W&&ee.addCaptchaToken(W),e.startAuthFlow(ee);let ae=await e.authFlow.getAuthorizationUrl();if(ae&&ae.url)if(U==="twitter"&&qo.isAndroid&&(ae.url=ae.url.replace("x.com","twitter.com")),window.location.protocol==="chrome-extension:"&&M3())try{let{privyOAuthCode:le,privyOAuthState:Ce}=await WU(ae.url);dt("OAuthStatusScreen"),ee.meta.stateCode=Ce,ee.meta.authorizationCode=le}catch(le){throw console.error("OAuth in chrome extension flow failed:",le),le}else window.location.assign(ae.url)},async initLoginWithTelegram(U,W){if(!u)throw new ud;Le.current="telegram";let te=new Am(U,W);e.startAuthFlow(te),j({status:"loading"}),te.meta.telegramWebAppData=void 0,te.meta.telegramAuthResult=await new Promise(((ee,ae)=>i.loginConfig.telegramAuthConfiguration?window.Telegram?void window.Telegram.Login.auth({bot_id:i.loginConfig.telegramAuthConfiguration.botId,request_access:!0},(le=>le?ee(le):(Ve.current==="link"?Oe(ye,"linkAccount","onError",Ae.FAILED_TO_LINK_ACCOUNT,{linkMethod:"telegram"}):Ve.current==="login"?Oe(ye,"login","onError",Ae.INVALID_CREDENTIALS):Ve.current==="update"&&Oe(ye,"login","onError",Ae.FAILED_TO_UPDATE_ACCOUNT),ae(new se("Telegram auth failed or was canceled by the client"))))):ae(new se("Telegram was not initialized")):ae(new se("Telegram Auth configuration is not loaded"))))},async loginWithTelegram(U){let W,te;if(!(e.authFlow instanceof Am))throw new se("Must initialize Telegram flow before calling loginWithTelegram");e.authFlow.meta.captchaToken||=U?.captchaToken;let ee=await In(),ae=U?.intent||Ve.current;if(ae==="login")try{let Ce=await e.authenticate();W=Ce.user,te=Ce.isNewUser,Le.current="telegram"}catch(Ce){throw Oe(ye,"login","onError",Ce.privyErrorCode||Ae.UNKNOWN_AUTH_ERROR),Ce}else{if(ae!=="link")throw new se("Unknown auth intent");try{W=(await e.link()).user,Le.current="telegram"}catch(Ce){throw Oe(ye,"linkAccount","onError",Ce.privyErrorCode||Ae.FAILED_TO_LINK_ACCOUNT,{linkMethod:"telegram"}),Ce}}p(W),E(te||!1),Vt(!0),j({status:"done"});let le=W?.linkedAccounts.find((({type:Ce})=>Ce==="telegram"))||null;return{user:W,isNewUser:te||!1,wasAlreadyAuthenticated:!!ee,loginAccount:le}},async loginWithOAuth(U){let W,te,ee;if(!(e.authFlow instanceof Uh))throw new se("Must initialize OAuth flow before calling loginWithOAuth");let ae=nt.get(N1),le=e.authFlow.meta.stateCode;if(ae!==le)throw e.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:U,storedStateCode:ae??"",returnedStateCode:le??""}}),new se("Unexpected auth flow. This may be a phishing attempt.",void 0,Ae.OAUTH_UNEXPECTED);if(await e.getAccessToken()!==null)try{let Ce=await e.link();W=Ce.user,ee=Ce.oAuthTokens,Le.current=U}catch(Ce){throw Oe(ye,"linkAccount","onError",Ce.privyErrorCode||Ae.FAILED_TO_LINK_ACCOUNT,{linkMethod:U}),Ce}else try{let Ce=await e.authenticate();W=Ce.user,te=Ce.isNewUser,ee=Ce.oAuthTokens,Le.current=U}catch(Ce){throw Ve.current==="login"?Oe(ye,"login","onError",Ce.privyErrorCode||Ae.UNKNOWN_AUTH_ERROR):Ve.current==="link"&&Oe(ye,"linkAccount","onError",Ce.privyErrorCode||Ae.FAILED_TO_LINK_ACCOUNT,{linkMethod:U}),Ce}return p(W),E(te||!1),Vt(!0),ee&&W&&Oe(ye,"oAuthAuthorization","onOAuthTokenGrant",{oAuthTokens:ee,user:W}),ee},passkeyAuthState:N,setPasskeyAuthState:z,async initSignupWithPasskey({captchaToken:U,withPrivyUi:W}){let te=new kh({captchaToken:U,setPasskeyAuthState:z,hints:i.passkeys.registration?.hints});e.startAuthFlow(te),Ve.current="login";try{Le.current="passkey",z({status:"generating-challenge"}),await te.initRegisterFlow(W),z({status:"awaiting-passkey"})}catch(ee){throw z({status:"error",error:ee}),Oe(ye,"login","onError",ee.privyErrorCode||Ae.UNKNOWN_AUTH_ERROR),ee}},async signupWithPasskey(){let U,W;if(!u)throw new ud;if(!(e.authFlow instanceof kh))throw new se("Must initialize Passkey flow first.");if(Le.current!=="passkey"){let ae=new se("Must init login with Passkey flow first.");throw z({status:"error",error:ae}),ae}let te=await In();try{Le.current="passkey",z({status:"awaiting-passkey"}),{user:U,isNewUser:W}=await e.authenticate()}catch(ae){throw z({status:"error",error:ae}),Oe(ye,"login","onError",ae.privyErrorCode||Ae.UNKNOWN_AUTH_ERROR),ae}p(U),E(W||!1),Vt(!0),z({status:"done"});let ee=U?.linkedAccounts.find((({type:ae})=>ae==="passkey"))||null;return{user:U,isNewUser:W||!1,wasAlreadyAuthenticated:!!te,loginAccount:ee}},async initLoginWithPasskey({captchaToken:U,withPrivyUi:W}){let te=new kh({captchaToken:U,setPasskeyAuthState:z,hints:void 0});e.startAuthFlow(te),Ve.current="login";try{Le.current="passkey",z({status:"generating-challenge"}),await te.initAuthenticationFlow(W),z({status:"awaiting-passkey"})}catch(ee){throw z({status:"error",error:ee}),Oe(ye,"login","onError",ee.privyErrorCode||Ae.UNKNOWN_AUTH_ERROR),ee}},async loginWithPasskey(U){let W,te;if(!u)throw new ud;if(!(e.authFlow instanceof kh))throw new se("Must initialize Passkey flow first.");if(U?.credentialIds&&(e.authFlow.meta.allowedCredentialsIds=U.credentialIds),Le.current!=="passkey"){let le=new se("Must init login with Passkey flow first.");throw z({status:"error",error:le}),le}let ee=await In();try{Le.current="passkey",z({status:"awaiting-passkey"}),{user:W,isNewUser:te}=await e.authenticate()}catch(le){throw z({status:"error",error:le}),Oe(ye,"login","onError",le.privyErrorCode||Ae.UNKNOWN_AUTH_ERROR),le}p(W),E(te||!1),Vt(!0),z({status:"done"});let ae=W?.linkedAccounts.find((({type:le})=>le==="passkey"))||null;return{user:W,isNewUser:te||!1,wasAlreadyAuthenticated:!!ee,loginAccount:ae}},async initLinkWithPasskey(U){let W=new kh({captchaToken:U,hints:i.passkeys.registration?.hints});e.startAuthFlow(W),Ve.current="link",Le.current="passkey",z({status:"generating-challenge"});try{await W.initLinkFlow(),z({status:"awaiting-passkey"})}catch(te){throw Oe(ye,"linkAccount","onError",te.privyErrorCode||Ae.UNKNOWN_AUTH_ERROR,{linkMethod:"passkey"}),z({status:"error",error:te}),te}},async linkWithPasskey(){let U;if(!u)throw new ud;if(!(e.authFlow instanceof kh))throw new se("Must initialize Passkey flow first.");if(Le.current!=="passkey")throw new se("Must init login with Passkey flow first.");try{Le.current="passkey",{user:U}=await e.link()}catch(W){throw Oe(ye,"linkAccount","onError",W.privyErrorCode||Ae.FAILED_TO_LINK_ACCOUNT,{linkMethod:"passkey"}),W}return p(U||h||null),z({status:"done"}),U},async initLoginWithHeadlessOAuth(U,W,te){if(!i5()||U==="google"&&!i.allowOAuthInEmbeddedBrowsers&&eB(window.navigator.userAgent))throw Error("It looks like you're using an in-app browser.  To log in, please try again using an external browser.");let ee=new Uh({provider:U,withPrivyUi:!1,disableSignup:te??!1,customOAuthRedirectUrl:i.customOAuthRedirectUrl});W&&ee.addCaptchaToken(W),x({status:"loading"});let ae=await e.startAuthFlow(ee).getAuthorizationUrl();if(ae?.url)if(window.location.protocol==="chrome-extension:"&&M3())try{let{privyOAuthCode:le,privyOAuthState:Ce}=await WU(ae.url);ee.meta.stateCode=Ce,ee.meta.authorizationCode=le,await this.loginWithHeadlessOAuth(ee.meta)}catch(le){throw x({status:"error",error:le}),le}else window.location.assign(ae.url)},async loginWithHeadlessOAuth(U){let W,te,ee;A(!0),x({status:"loading"}),e.startAuthFlow(new Uh({...U,customOAuthRedirectUrl:i.customOAuthRedirectUrl}));let ae=nt.get(N1),le=U.stateCode;if(ae!==le)throw e.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:U.provider,storedStateCode:ae??"",returnedStateCode:le??""}}),A(!1),new se("Unexpected auth flow. This may be a phishing attempt.",void 0,Ae.OAUTH_UNEXPECTED);if(await e.getAccessToken()!==null)try{({user:W,oAuthTokens:ee}=await e.link()),Le.current=U.provider;let Ce=Nt(W);W&&Ce&&Oe(ye,"linkAccount","onSuccess",{user:W,linkMethod:Le.current,linkedAccount:Ce})}catch(Ce){throw A(!1),Oe(ye,"linkAccount","onError",Ce.privyErrorCode||Ae.FAILED_TO_LINK_ACCOUNT,{linkMethod:U.provider}),Ce}else try{({user:W,isNewUser:te,oAuthTokens:ee}=await e.authenticate()),Le.current=U.provider;let Ce=Nt(W);W&&Ce&&te!==void 0&&Oe(ye,"login","onComplete",{user:W,isNewUser:te,wasAlreadyAuthenticated:!1,loginMethod:Le.current,loginAccount:Ce})}catch(Ce){throw A(!1),x({status:"error",error:Ce}),Oe(ye,"login","onError",Ce.privyErrorCode||Ae.UNKNOWN_AUTH_ERROR),Ce}return p(W),E(te||!1),Vt(!0),A(!1),x({status:"done"}),ee&&W&&Oe(ye,"oAuthAuthorization","onOAuthTokenGrant",{oAuthTokens:ee,user:W}),W??void 0},initLoginWithEmail:async({email:U,captchaToken:W,disableSignup:te,withPrivyUi:ee})=>{let ae=new Gh({email:U,captchaToken:W,disableSignup:te});e.startAuthFlow(ae);try{Le.current="email",B({status:"sending-code"});let le=await ae.sendCodeEmail({withPrivyUi:ee});if(le?.ssoRedirectUrl)return window.location.href=le.ssoRedirectUrl,void await H1(1e4);B({status:"awaiting-code-input"})}catch(le){throw B({status:"error",error:le}),Ve.current==="login"?Oe(ye,"login","onError",le.privyErrorCode||Ae.UNKNOWN_AUTH_ERROR):Ve.current==="link"&&Oe(ye,"linkAccount","onError",le.privyErrorCode||Ae.FAILED_TO_LINK_ACCOUNT,{linkMethod:"email"}),le}},initUpdateEmail:async({oldAddress:U,newAddress:W,captchaToken:te})=>{let ee=new _Me(U,W,te);e.startAuthFlow(ee);try{await ee.sendCodeEmail({withPrivyUi:!0})}catch(ae){throw Oe(ye,"update","onError",ae.privyErrorCode||Ae.UNKNOWN_AUTH_ERROR,{linkMethod:Le.current}),ae}},initUpdatePhone:async(U,W,te)=>{let ee=new AMe(U,W,te);e.startAuthFlow(ee);try{await ee.sendSmsCode({withPrivyUi:!0})}catch(ae){Oe(ye,"update","onError",ae.privyErrorCode||Ae.UNKNOWN_AUTH_ERROR,{linkMethod:Le.current})}},initLoginWithSms:async({phoneNumber:U,captchaToken:W,disableSignup:te,withPrivyUi:ee})=>{D({status:"sending-code"});let ae=new Kh({phoneNumber:U,captchaToken:W,disableSignup:te});e.startAuthFlow(ae);try{Le.current="sms",await ae.sendSmsCode({withPrivyUi:ee}),D({status:"awaiting-code-input"})}catch(le){throw D({status:"error",error:le}),Ve.current==="login"?Oe(ye,"login","onError",le.privyErrorCode||Ae.UNKNOWN_AUTH_ERROR):Ve.current==="link"&&Oe(ye,"linkAccount","onError",le.privyErrorCode||Ae.FAILED_TO_LINK_ACCOUNT,{linkMethod:"sms"}),le}},resendEmailCode:async()=>{await e.authFlow?.sendCodeEmail({withPrivyUi:!0})},resendSmsCode:async()=>{await e.authFlow?.sendSmsCode({withPrivyUi:!0})},loginWithCode:async U=>{let W,te;function ee($e){e.authFlow instanceof Gh?B($e):e.authFlow instanceof Kh&&D($e)}if(ee({status:"submitting-code"}),!u){let $e=new ud;throw ee({status:"error",error:$e}),$e}if(e.authFlow instanceof Gh)e.authFlow.meta.emailCode=U.trim();else{if(!(e.authFlow instanceof Kh)){let $e=new se("Must initialize a passwordless code flow first");throw ee({status:"error",error:$e}),$e}e.authFlow.meta.smsCode=U.trim()}let ae=await In();if(Ve.current==="link")try{({user:W}=await e.link())}catch($e){throw ee({status:"error",error:$e}),Oe(ye,"linkAccount","onError",$e.privyErrorCode||Ae.FAILED_TO_LINK_ACCOUNT,{linkMethod:Le.current}),$e}else if(Ve.current==="update")try{({user:W}=await e.link())}catch($e){throw ee({status:"error",error:$e}),Oe(ye,"update","onError",$e.privyErrorCode||Ae.FAILED_TO_UPDATE_ACCOUNT,{linkMethod:Le.current}),$e}else try{({user:W,isNewUser:te}=await e.authenticate())}catch($e){throw ee({status:"error",error:$e}),Oe(ye,"login","onError",$e.privyErrorCode||Ae.UNKNOWN_AUTH_ERROR),$e}let le=W||h;p(le||null),E(te||!1),Vt(!0),ee({status:"done"});let Ce=null;return e.authFlow instanceof Gh?Ce=le?.linkedAccounts.find((({type:$e})=>$e==="email"))||null:e.authFlow instanceof Kh&&(Ce=le?.linkedAccounts.find((({type:$e})=>$e==="phone"))||null),{user:le,isNewUser:te||!1,wasAlreadyAuthenticated:!!ae,linkedAccount:Ce}},generateSiweMessage:async({address:U,chainId:W,captchaToken:te})=>{Ve.current=wt?"link":"login",Le.current="siwe",K({status:"generating-message"});let ee=await e.generateSiweNonce({address:U,captchaToken:te});return K({status:"awaiting-signature"}),B3({address:U,chainId:W.replace("eip155:",""),nonce:ee})},generateSiweMessageForSmartWallet:async({address:U,chainId:W})=>{let te=await e.generateSiweNonce({address:U});return B3({address:U,chainId:W.replace("eip155:",""),nonce:te})},linkSmartWallet:async({message:U,signature:W,smartWalletType:te,smartWalletVersion:ee})=>{let ae;ae=await e.linkSmartWallet({message:U,signature:W,smartWalletType:te,smartWalletVersion:ee}),p((ae=await vt.refreshSessionAndUser()??ae)||h||null)},loginWithSiwe:async({message:U,signature:W,captchaToken:te,disableSignup:ee,walletClientType:ae,connectorType:le})=>{let Ce,$e=null;try{if(h)throw Error("User already authenticated");let Xe=new o1(e,void 0,te,ee,{message:U,signature:W,walletClientType:ae,connectorType:le});if(e.startAuthFlow(Xe),Le.current="siwe",Ve.current="login",K({status:"submitting-signature"}),{user:$e,isNewUser:Ce}=await e.authenticate(),!$e)throw Error("Authentication failed - no user returned")}catch(Xe){throw Oe(ye,"login","onError",Xe.privyErrorCode||Ae.UNKNOWN_AUTH_ERROR),K({status:"error",error:Xe}),Xe}return p($e),E(Ce||!1),Vt(!0),K({status:"done"}),Ve.current=null,Le.current=null,{user:$e,isNewUser:Ce||!1}},linkWithSiwe:async({message:U,signature:W,chainId:te,walletClientType:ee,connectorType:ae})=>{let le;it("siwe");let Ce=null;try{K({status:"submitting-signature"}),le=await e.linkWithSiwe({message:U,signature:W,chainId:te,walletClientType:ee,connectorType:ae}),le=await vt.refreshSessionAndUser()??le,K({status:"done"}),(Ce=Nt(le)||null)&&Oe(ye,"linkAccount","onSuccess",{user:le,linkMethod:"siwe",linkedAccount:Ce})}catch(Xe){throw Oe(ye,"linkAccount","onError",Xe.privyErrorCode||Ae.FAILED_TO_LINK_ACCOUNT,{linkMethod:"siwe"}),Ve.current=null,Le.current=null,K({status:"error",error:Xe}),Xe}let $e=le||h;return p($e||null),Ve.current=null,Le.current=null,{user:$e,linkedAccount:Ce}},refreshSessionAndUser:async()=>{let U=await e.getAuthenticatedUser();return Vt(!!U),p(U),U},walletProxy:P,createAnalyticsEvent:({eventName:U,payload:W,timestamp:te})=>e.createAnalyticsEvent({eventName:U,payload:W,timestamp:te}),acceptTerms:async()=>{let U=await e.acceptTerms();return p(U),U},getUsdTokenPrice:U=>e.getUsdTokenPrice(U),getUsdPriceForSol:()=>e.getUsdPriceForSol(),getSplTokenMetadata:U=>e.getSplTokenMetadata(U),recoverEmbeddedWallet:async U=>new Promise((async(W,te)=>{if(!h)return void W(!0);let ee=U?.address?jc(h,U.address):d0(h)||YT(h).at(0)||Kj(h).at(0);if(!ee||Ei(ee))return void W(!0);let ae=await In();if(!ae||!P||!ee)return void te(Error("Must have valid access token and Privy wallet to recover wallet"));let{entropyId:le,entropyIdVerifier:Ce}=Va(h,ee);try{await P.connect({accessToken:ae,entropyId:le,entropyIdVerifier:Ce}),W(!0)}catch($e){if(S_($e)&&ee.recoveryMethod==="privy"){let Xe;e.createAnalyticsEvent({eventName:"embedded_wallet_pinless_recovery_started",payload:{walletAddress:ee.address}});try{Xe=await P.recover({entropyId:le,entropyIdVerifier:Ce,accessToken:ae})}catch(yt){return void te(yt)}Xe.entropyId||te(Error("Unable to recover wallet")),e.createAnalyticsEvent({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:ee.address}}),W(!0)}else S_($e)&&ee.recoveryMethod!=="privy"&&ee.recoveryMethod!=="privy-v2"?(J({recoverWallet:{entropyId:le,entropyIdVerifier:Ce,onFailure:te,onSuccess:()=>W(!0)},recoveryOAuthStatus:{provider:ee.recoveryMethod,action:"recover",shouldCreateEth:!1,shouldCreateSol:!1}}),dt(tUe(ee.recoveryMethod))):te($e)}})),setReadyToTrue:U=>{d(!0),X?.(U)},updateWallets:()=>ht(),fundWallet:async(U,W)=>{let te="FundingMethodSelectionScreen";return new Promise(((ee,ae)=>{J({funding:{...AN({address:U,appConfig:i,fundWalletConfig:W,methodScreen:te,onComplete:ee,onError:ae})}}),dt(te)}))},openModal:dt,requestFarcasterSignerStatus:async U=>{let W=await In(),te=h?.linkedAccounts.find((ae=>ae.type==="wallet"&&ae.walletClientType==="privy"));if(!W)throw Error("Must have valid access token to connect with Farcaster");if(!P||!te)throw Error("Must have an embedded wallet to use Farcaster signers");if(!h?.farcaster?.fid)throw Error("Must have Farcaster account to use Farcaster signers");let ee=await e.requestFarcasterSignerStatus(U);return ee.status==="approved"&&p(await e.getAuthenticatedUser()||h||null),ee},connectCoinbaseSmartWallet:async()=>{i.externalWallets.coinbaseWallet.config.preference={...i.externalWallets.coinbaseWallet.config.preference,options:"smartWalletOnly"};let U=e.connectors?.findWalletConnector("coinbase_wallet","coinbase_smart_wallet")||e.connectors?.findWalletConnector("coinbase_wallet","coinbase_wallet");if(U)return U.updateConnectionPreference("smartWalletOnly"),mn(U);await Li("coinbase_wallet","coinbase_smart_wallet")},connectBaseAccount:async()=>{let U=e.connectors?.findWalletConnector("base_account","base_account");if(U)return mn(U);await Li("base_account","base_account")},initiateAccountTransfer:async({nonce:U,account:W,accountType:te,externalWalletMetadata:ee,telegramAuthResult:ae,telegramWebAppData:le,farcasterEmbeddedAddress:Ce,oAuthUserInfo:$e})=>{let Xe=await e.sendAccountTransferRequest({nonce:U,account:W,accountType:te,externalWalletMetadata:ee,telegramAuthResult:ae,telegramWebAppData:le,farcasterEmbeddedAddress:Ce,oAuthUserInfo:$e});return p(Xe),Xe},inProgressAuthFlowRef:Ve,inProgressLoginOrLinkMethodRef:Le};BK=vt.recoverEmbeddedWallet,vt.recoverEmbeddedWallet;let ys=Y.useMemo((()=>({wallets:m,ready:we&&Tt})),[m,we,Tt]),Jo=e.authFlow instanceof Am,{siteKey:co,enabledProvider:Wu}=i.captcha,Hu=!i.headless&&Wu&&!wt&&(u||Jo);return he.jsx(NK.Provider,{value:!0,children:he.jsx(qp.Provider,{value:ji,children:he.jsx(Tz.Provider,{value:ye,children:he.jsx(Oz.Provider,{value:ys,children:he.jsx(SMe,{appId:i.id,captchaSiteKey:co,enabledCaptchaProvider:Wu,children:he.jsxs(qj.Provider,{value:vt,children:[he.jsx(Zue,{children:he.jsxs(_le,{data:G,setModalData:J,setInitialScreen:k,initialScreen:O,authenticated:wt,open:s,children:[t.children,he.jsx(pUe,{customAuth:i.customAuth}),Hu&&he.jsx(IMe,{delayedExecution:!1}),he.jsx(WMe,{}),he.jsx(uUe,{disabled:i.embeddedWallets.disableAutomaticMigration}),he.jsx(OMe,{palette:i.appearance.palette||{}}),!i.render.standalone&&he.jsx(jMe,{open:s})]})}),he.jsx(KMe,{appId:t.appId,appClientId:t.clientId,clientAnalyticsId:e.clientAnalyticsId,origin:e.apiUrl,mfaMethods:h?.mfaMethods,mfaPromise:qe,mfaSubmitPromise:rt,onLoad:V,onLoadFailed:()=>null}),i.loginConfig.telegramAuthConfiguration&&he.jsx(Pz,{$if:!0,children:he.jsx(qMe,{scriptHost:t.apiUrl||VT,botUsername:i.loginConfig.telegramAuthConfiguration.botName})})]})})})})})})},mUe=t=>BK(t);class Ba extends Error{constructor(e,n,r){super(e),this.code=n,this.data=r}}class nB extends Uu{async handleSendTransaction(e){if(!e.params||!Array.isArray(e.params))throw new Ba(`Invalid params for ${e.method}`,4200);let n=e.params[0];if(!await In()||!this.address)throw new Ba("Disconnected",4900);let{hash:r}=await((i,s)=>UK(i,s))(n,{address:this.address});return r}async handleSignTransaction(e){if(!e.params||!Array.isArray(e.params))throw new Ba(`Invalid params for ${e.method}`,4200);let n=e.params[0];if(!await In()||!this.address)throw new Ba("Disconnected",4900);let{signature:r}=await((i,s)=>MK(i,s))(n,{address:this.address});return r}handleSwitchEthereumChain(e){let n;if(!e.params||!Array.isArray(e.params))throw new Ba(`Invalid params for ${e.method}`,4200);if(typeof e.params[0]=="string")n=e.params[0];else{if(!("chainId"in e.params[0])||typeof e.params[0].chainId!="string")throw new Ba(`Invalid params for ${e.method}`,4200);n=e.params[0].chainId}this.chainId=Number(n),this.publicClient=F1(this.chainId,this.chains,this.rpcConfig,{appId:this.appId}),this.emit("chainChanged",n)}async handlePersonalSign(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for personal_sign");let n=e.params[0],r=e.params[1],{signature:i}=await((s,a)=>PK(s,a))({message:n},{address:r});return i}async handleSignedTypedData(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_signTypedData_v4");let n=e.params[0],r=typeof e.params[1]=="string"?JSON.parse(e.params[1]):e.params[1],{signature:i}=await((s,a)=>DK(s,a))(Gv(r),{address:n});return i}async handleEstimateGas(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_estimateGas");delete e.params[0].gasPrice,delete e.params[0].maxFeePerGas,delete e.params[0].maxPriorityFeePerGas;let n={...e.params[0],chainId:o5(this.chainId)};return await this.publicClient.estimateGas({account:n.from??this.address,...w1(n)})}async request(e){switch(console.debug("Embedded1193Provider.request() called with args",e),e.method){case"eth_accounts":case"eth_requestAccounts":return this.address?[this.address]:[];case"eth_chainId":return o5(this.chainId);case"eth_estimateGas":return this.handleEstimateGas(e);case"eth_sendTransaction":return this.handleSendTransaction(e);case"eth_signTransaction":return this.handleSignTransaction(e);case"wallet_switchEthereumChain":return this.handleSwitchEthereumChain(e);case"personal_sign":return this.handlePersonalSign(e);case"eth_signTypedData_v4":return this.handleSignedTypedData(e)}if(!(n=>vMe.includes(n))(e.method))return this.publicClient.request({method:e.method,params:e.params});{let n=await In();if(await mUe({address:this.address}),!n||!this.address)throw new Ba("Disconnected",4900);try{let r={method:e.method,params:e.params},i=this.walletAccount;return i&&Ei(i)?this.handleWalletApiRequest(r,i,n):(await this.walletProxy.rpc({accessToken:n,entropyId:this.entropyId,entropyIdVerifier:this.entropyIdVerifier,chainType:"ethereum",hdWalletIndex:this.walletIndex,request:r})).response.data}catch(r){throw console.error(r),new Ba("Disconnected",4900)}}}async handleWalletApiRequest(e,n,r){let i=this.privyClient;if(!i)throw new Ba("Disconnected",4900);if(e.method==="secp256k1_sign"){let s=await Ps(i,(async({message:a})=>this.walletProxy.signWithUserSigner({accessToken:r,message:a})),{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:n.id,params:{hash:e.params[0]}});if(s.method!=="secp256k1_sign")throw new Ba(`Invalid params for ${e.method}`,4200);return s.data.signature}throw new Ba(`Method not supported: ${e.method}`,4200)}constructor({walletProxy:e,address:n,entropyId:r,entropyIdVerifier:i,rpcConfig:s,chains:a,appId:c,chainId:u=1,walletIndex:d,privyClient:h,walletAccount:p}){super(),this.walletProxy=e,this.address=n,this.entropyId=r,this.entropyIdVerifier=i,this.chainId=u,this.rpcConfig=s,this.chains=a,this.publicClient=F1(u,this.chains,s,{appId:c}),this.rpcTimeoutDuration=nC(s,"privy"),this.appId=c,this.walletIndex=d,this.privyClient=h,this.walletAccount=p}}const gUe=({style:t,...e})=>he.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",strokeWidth:1.5,viewBox:"0 0 24 24",style:{...t},...e,children:he.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17.25v1.007a3 3 0 01-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0115 18.257V17.25m6-12V15a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 15V5.25m18 0A2.25 2.25 0 0018.75 3H5.25A2.25 2.25 0 003 5.25m18 0V12a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 12V5.25"})}),bUe=({style:t,...e})=>he.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"108",height:"108",viewBox:"0 0 108 108",fill:"none",style:{height:"28px",width:"28px",...t},...e,children:[he.jsx("rect",{width:"108",height:"108",rx:"23",fill:"#AB9FF2"}),he.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M46.5267 69.9229C42.0054 76.8509 34.4292 85.6182 24.348 85.6182C19.5824 85.6182 15 83.6563 15 75.1342C15 53.4305 44.6326 19.8327 72.1268 19.8327C87.768 19.8327 94 30.6846 94 43.0079C94 58.8258 83.7355 76.9122 73.5321 76.9122C70.2939 76.9122 68.7053 75.1342 68.7053 72.314C68.7053 71.5783 68.8275 70.7812 69.0719 69.9229C65.5893 75.8699 58.8685 81.3878 52.5754 81.3878C47.993 81.3878 45.6713 78.5063 45.6713 74.4598C45.6713 72.9884 45.9768 71.4556 46.5267 69.9229ZM83.6761 42.5794C83.6761 46.1704 81.5575 47.9658 79.1875 47.9658C76.7816 47.9658 74.6989 46.1704 74.6989 42.5794C74.6989 38.9885 76.7816 37.1931 79.1875 37.1931C81.5575 37.1931 83.6761 38.9885 83.6761 42.5794ZM70.2103 42.5795C70.2103 46.1704 68.0916 47.9658 65.7216 47.9658C63.3157 47.9658 61.233 46.1704 61.233 42.5795C61.233 38.9885 63.3157 37.1931 65.7216 37.1931C68.0916 37.1931 70.2103 38.9885 70.2103 42.5795Z",fill:"#FFFDF8"})]});function q6(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw TypeError("attempted to use private field on non-instance");return t}var wUe=0;class LK extends _f{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}get walletBranding(){return{name:this.providerDetail.info.name,icon:this.providerDetail.info.icon,id:this.providerDetail.info.rdns}}disconnect(){console.warn(`Programmatic disconnect with ${this.providerDetail.info.name} is not yet supported.`)}async promptConnection(){try{let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new zn("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw Lu(e)}}constructor(e,n,r,i,s){super(s||"unknown",e,n,r),this.connectorType="injected",this.proxyProvider=new Ef(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.providerDetail=i;let a=i.provider;this.proxyProvider.setWalletProvider(a)}}var md="__private_"+wUe+++"__walletBranding";class W6 extends _f{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}get walletBranding(){return q6(this,md)[md]??{name:"Browser Extension",icon:gUe,id:"extension"}}disconnect(){console.warn("Programmatic disconnect with browser wallets is not yet supported.")}async promptConnection(){try{let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new zn("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw Lu(e)}}constructor(e,n,r,i,s){super(s??"unknown",e,n,r),Object.defineProperty(this,md,{writable:!0,value:void 0}),this.connectorType="injected",this.proxyProvider=new Ef(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.proxyProvider.setWalletProvider(i),s==="metamask"?q6(this,md)[md]={name:"MetaMask",icon:Jue,id:"io.metamask"}:s==="phantom"&&(q6(this,md)[md]={name:"Phantom",icon:bUe,id:"phantom"})}}class vUe extends LK{disconnect(){console.warn("MetaMask does not support programmatic disconnect.")}async promptConnection(){try{qo.isMobile||await this.proxyProvider.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]});let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new zn("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw Lu(e)}}}class _Ue extends Uu{get wallets(){let e=new Set;return this.walletConnectors.flatMap((n=>n.wallets)).sort(((n,r)=>n.connectedAt&&r.connectedAt?r.connectedAt-n.connectedAt:0)).filter((n=>{let r=`${n.address}${n.walletClientType}${n.connectorType}${n.meta.id}`;return!e.has(r)&&(e.add(r),!0)}))}async initialize(e){if(this.initialized&&!e||(e&&this.removeAllConnectors(),this.externalWalletConfig.disableAllExternalWallets))return;let n=Uue({store:this.store,walletList:this.walletList,externalWalletConfig:this.externalWalletConfig,walletChainType:this.walletChainType}).then((a=>{a.forEach((({type:c,eip6963InjectedProvider:u,legacyInjectedProvider:d})=>{this.createEthereumWalletConnector({connectorType:"injected",walletClientType:c,providers:{eip6963InjectedProvider:u,legacyInjectedProvider:d}})}))}));for(let a of(this.walletList.includes("coinbase_wallet")&&this.createEthereumWalletConnector({connectorType:"coinbase_wallet",walletClientType:"coinbase_wallet"}),this.walletList.includes("base_account")&&this.createEthereumWalletConnector({connectorType:"base_account",walletClientType:"base_account"}),Object.values(Dz)))!a.isInstalled&&this.walletList.includes(a.client)&&(["ethereum-only","ethereum-and-solana"].includes(this.walletChainType)&&a.chainTypes.includes("ethereum")&&this.createEthereumWalletConnector({connectorType:"null",walletClientType:a.client,walletConfig:a}),["ethereum-and-solana","solana-only"].includes(this.walletChainType)&&a.chainTypes.includes("solana")&&this.addSolanaWalletConnector(new Gue({id:a.client,name:a.name})));this.externalWalletConfig.walletConnect.enabled&&(this.walletList.includes("wallet_connect_qr")||s5(this.walletList))&&this.walletChainType!=="solana-only"&&this.createEthereumWalletConnector({connectorType:"wallet_connect_v2",walletClientType:"unknown"});let r=this.walletList.includes("wallet_connect_qr_solana")||s5(this.walletList)&&this.walletChainType!=="ethereum-only",i=this.externalWalletConfig.solana.connectors?.get()||[],s=async a=>{if(!r)return;let c=a.find((u=>u.walletBranding?.id==="walletconnect_solana"));c&&c.wallet&&await c.wallet.initialize({walletConnectCloudProjectId:this.walletConnectCloudProjectId,privyAppName:this.privyAppName})};s(i),i.filter((a=>r||a.walletBranding?.id!=="walletconnect_solana")).forEach(this.addSolanaWalletConnector),this.externalWalletConfig.solana.connectors?._setOnConnectorsUpdated?.((a=>{s(a),a?.filter((c=>r||c.walletBranding?.id!=="walletconnect_solana")).forEach(this.addSolanaWalletConnector)})),await n,this.initialized=!0}findWalletConnector(e,n,r){return e==="wallet_connect_v2"?this.walletConnectors.filter(Jy).find((i=>i.connectorType===e&&(!r||i.wallets.some((s=>s.address===r)))))??null:this.walletConnectors.filter(Jy).find((i=>i.connectorType===e&&i.walletClientType===n&&(!r||i.wallets.some((s=>s.address===r)))))??null}findSolanaWalletConnector(e){return this.walletConnectors.filter(Kue).find((n=>n.walletClientType==="unknown"?n.walletBranding.id===e:n.walletClientType===e))??null}findEmbeddedWalletConnectors(){return this.walletConnectors.filter((e=>e.connectorType==="embedded"))}findImportedWalletConnectors(){return this.walletConnectors.filter((e=>e.connectorType==="embedded_imported"))}onInitialized(e){e.wallets.forEach((n=>{let r=this.storedConnections.find((i=>i.address===n.address&&i.connectorType===n.connectorType&&(n.type==="solana"&&i.walletClientType==="unknown"&&n.walletClientType==="unknown"?n.meta.id===i.id:i.walletClientType===n.walletClientType)));r&&(n.connectedAt=r.connectedAt)})),this.emit("walletsUpdated"),this.emit("connectorInitialized")}onWalletsUpdated(e){e.initialized&&this.emit("walletsUpdated")}addEmbeddedWalletConnectors({walletProxy:e,user:n,embeddedWallets:r,defaultChain:i,appId:s,privyClient:a}){let{entropyId:c,entropyIdVerifier:u}=Va(n);for(let d of r){let h=this.findEmbeddedWalletConnectors().find((p=>p.walletIndex===d.walletIndex));if(h&&Jy(h))h.proxyProvider.walletProxy=e;else{let p=new FU({provider:new nB({walletProxy:e,address:d.address,entropyId:c,entropyIdVerifier:u,rpcConfig:this.rpcConfig,chains:this.chains,appId:s,chainId:i.id,walletIndex:d.walletIndex,privyClient:a,walletAccount:d}),chains:this.chains,defaultChain:i,rpcConfig:this.rpcConfig,imported:!1,walletIndex:d.walletIndex});this.addWalletConnector(p)}}}addImportedWalletConnector(e,n,r,i){let s=this.findWalletConnector("embedded_imported","privy",n);if(s&&Jy(s))s.proxyProvider.walletProxy=e;else{let a=new FU({provider:new nB({walletProxy:e,address:n,entropyId:n,entropyIdVerifier:"ethereum-address-verifier",walletIndex:0,rpcConfig:this.rpcConfig,chains:this.chains,appId:i,chainId:r.id}),chains:this.chains,walletIndex:0,defaultChain:r,rpcConfig:this.rpcConfig,imported:!0});this.addWalletConnector(a)}}removeEmbeddedWalletConnectors(){this.walletConnectors=this.walletConnectors.filter((e=>e.connectorType!=="embedded")),this.storedConnections=Hv(),this.emit("walletsUpdated")}removeImportedWalletConnectors(){let e=this.findImportedWalletConnectors();e.length&&(e.forEach((n=>{let r=this.walletConnectors.indexOf(n);this.walletConnectors.splice(r,1)})),this.storedConnections=Hv(),this.emit("walletsUpdated"))}async createEthereumWalletConnector({connectorType:e,walletClientType:n,providers:r,walletConfig:i}){let s=this.findWalletConnector(e,n);if(s&&Jy(s))return s instanceof j3&&s.resetConnection(n),s;let a=e!=="injected"?e==="coinbase_wallet"?new bMe(this.chains,this.defaultChain,this.rpcConfig,this.externalWalletConfig.coinbaseWallet.config):e==="base_account"?new mMe(this.chains,this.defaultChain,this.rpcConfig,this.externalWalletConfig.baseAccount.config,this.setBaseAccountSdk):e!=="null"?new j3({walletConnectCloudProjectId:this.walletConnectCloudProjectId,rpcConfig:this.rpcConfig,chains:this.chains,defaultChain:this.defaultChain,shouldEnforceDefaultChainOnConnect:this.shouldEnforceDefaultChainOnConnect,privyAppId:this.privyAppId,privyAppName:this.privyAppName,walletClientType:n}):i?new Xue({id:i.client,name:i.name,defaultChain:this.defaultChain,walletClientType:i.client}):null:n==="metamask"&&r?.eip6963InjectedProvider?new vUe(this.chains,this.defaultChain,this.rpcConfig,r?.eip6963InjectedProvider,"metamask"):n==="metamask"&&r?.legacyInjectedProvider?new W6(this.chains,this.defaultChain,this.rpcConfig,r?.legacyInjectedProvider,"metamask"):n==="phantom"&&r?.legacyInjectedProvider?new W6(this.chains,this.defaultChain,this.rpcConfig,r?.legacyInjectedProvider,"phantom"):r?.legacyInjectedProvider&&n==="unknown_browser_extension"?new W6(this.chains,this.defaultChain,this.rpcConfig,r?.legacyInjectedProvider):r?.eip6963InjectedProvider?new LK(this.chains,this.defaultChain,this.rpcConfig,r?.eip6963InjectedProvider,n):void 0;return a&&this.addWalletConnector(a),a||null}addWalletConnector(e){this.walletConnectors.push(e),e.on("initialized",(()=>this.onInitialized(e))),e.on("walletsUpdated",(()=>this.onWalletsUpdated(e))),e.initialize().catch((n=>{console.debug("Failed to initialize connector",n)}))}setWalletList(e){this.walletList=e,this.initialized&&this.initialize(!0).catch(console.error)}removeAllConnectors(){for(let e of this.walletConnectors)e.removeAllListeners();this.walletConnectors=[]}constructor(e,n,r,i,s,a,c,u,d,h,p,m){super(),this.addSolanaWalletConnector=async g=>{let b=this.findSolanaWalletConnector(g.walletClientType);if(!b||b.connectorType==="null"){if(b?.connectorType==="null"){let v=this.walletConnectors.indexOf(b);this.walletConnectors.splice(v,1)}this.addWalletConnector(g)}},this.privyAppId=e,this.walletConnectCloudProjectId=n,this.rpcConfig=r,this.chains=i,this.defaultChain=s,this.walletConnectors=[],this.initialized=!1,this.store=a,this.walletList=c,this.shouldEnforceDefaultChainOnConnect=u,this.externalWalletConfig=d,this.privyAppName=h,this.walletChainType=m||"ethereum-only",this.setBaseAccountSdk=p,this.storedConnections=Hv()}}const rB=vf((()=>({identityToken:null})));let EUe=[_F,EF,TF];class AUe{async get(e,n){try{return await this.baseFetch(e,n)}catch(r){throw Gt(r)}}async post(e,n,r){try{return await this.baseFetch(e,{method:"POST",...n?{body:n}:{},...r})}catch(i){throw Gt(i)}}async delete(e,n){try{return await this.baseFetch(e,{method:"DELETE",...n})}catch(r){throw Gt(r)}}constructor({appId:e,appClientId:n,client:r,defaults:i}){this.appId=e,this.appClientId=n,this.clientAnalyticsId=r.clientAnalyticsId,this.sdkVersion=pce,this.client=r,this.defaults=i,this.fallbackApiUrl=r.fallbackApiUrl,this.baseFetch=ble.create({baseURL:this.defaults.baseURL,timeout:this.defaults.timeout,retry:3,retryDelay:500,retryStatusCodes:[408,409,425,500,502,503,504],credentials:"include",onRequest:async({request:s,options:a})=>{let c=new Headers(a.headers);c.set("privy-app-id",this.appId),this.appClientId&&c.set("privy-client-id",this.appClientId),c.set("privy-ca-id",this.clientAnalyticsId||""),c.set("privy-client",`react-auth:${this.sdkVersion}`);let u=EUe.includes(s.toString());if(!c.has("authorization")){let d=await this.client.getAccessToken({disableAutoRefresh:u});d!==null&&c.set("authorization",`Bearer ${d}`)}a.headers=c,a.retryDelay&&typeof a.retryDelay=="number"&&(a.retryDelay=3*a.retryDelay)},onRequestError:({error:s})=>{if(s instanceof DOMException&&s.name==="AbortError")throw new wle}})}}const SUe=t=>({rpId:t.rp_id,challenge:t.challenge,allowCredentials:t.allow_credentials?.map((e=>({id:e.id,type:e.type,transports:e.transports})))||[],timeout:t.timeout,extensions:{appid:t.extensions?.app_id,credProps:t.extensions?.cred_props,hmacCreateSecret:t.extensions?.hmac_create_secret},userVerification:t.user_verification});class xUe{getOrCreateGuestCredential(e){let n=$j(e);if(i5()){if(nt.get(n))return nt.get(n);{let r=Yd(U3(32));return nt.put(n,r),r}}return Yd(U3(32))}async authenticate(){if(!this.api)throw new se("Auth flow has no API instance");try{return await this.api.post(jhe,{guest_credential:this.meta.guestCredential})}catch(e){throw Gt(e)}}async link(){throw Error("Linking is not supported for the guest flow")}constructor(e){this.meta={guestCredential:this.getOrCreateGuestCredential(e)}}}function H6(){return!(qo.isSafari&&window.location.origin.startsWith("http://localhost"))}var V6,iB=((V6={}).PRIVY="privy_access_token",V6.CUSTOMER="customer_access_token",V6);class TUe{get token(){return this.privyAccessToken||this.customerAccessToken}getToken(e){return e==="privy_access_token"?this.privyAccessToken:this.customerAccessToken}get customerAccessToken(){return this._getToken(lg)}get privyAccessToken(){return this._getToken(Bv)}_getToken(e){try{let n=nt.get(e);return typeof n=="string"?_u.throwIfNotWellFormedJwt(n):null}catch(n){return console.error(n),this.destroyLocalState(),null}}get refreshToken(){try{let e=nt.get(zS);return typeof e=="string"?e:null}catch(e){return console.error(e),this.destroyLocalState(),null}}getProviderAccessToken(e){try{let n=nt.get(ev(e));if(typeof n!="string")return null;{let r=new _u(n);return r.isExpired()?(nt.del(ev(e)),null):r.value}}catch(n){return console.error(n),null}}get mightHaveServerCookies(){try{let e=ir.get(FS);return e!==void 0&&e.length>0}catch(e){console.error(e)}return!1}hasRefreshCredentials(e="privy_access_token"){let n=typeof this.getToken(e)=="string",r=typeof this.refreshToken=="string"&&this.refreshToken!==gce;return this.mightHaveServerCookies||n&&r}hasActiveAccessToken(e){let n=_u.parse(this.getToken(e));return n!==null&&!n.isExpired(30)}authenticate(e){return this.authenticateOnce.execute(e)}link(e){return this.linkOnce.execute(e)}refresh(){return this.refreshOnce.execute()}destroy(){return this.destroyOnce.execute()}storeProviderAccessToken(e,n){typeof n=="string"?nt.put(ev(e),n):nt.del(ev(e))}updateIdentityToken(e){typeof e=="string"?this.storeIdentityToken(e):this.clearIdentityToken()}async _authenticate(e){try{let n=await e.authenticate(),{user:r,is_new_user:i,oauth_tokens:s}=n;this.handleTokenResponse(n);let a=s?{provider:s.provider,accessToken:s.access_token,accessTokenExpiresInSeconds:s.access_token_expires_in_seconds,refreshToken:s.refresh_token,refreshTokenExpiresInSeconds:s.refresh_token_expires_in_seconds,scopes:s.scopes}:void 0;return this._trackAuthenticateEvents(e,i),{user:ai(r),isNewUser:i,oAuthTokens:a}}catch(n){throw console.warn("Error authenticating session"),Wn(n)}}_trackAuthenticateEvents(e,n){let r=(function(i){return i instanceof Gh?"email":i instanceof Kh?"sms":i instanceof o1?"siwe":i instanceof xUe?"guest":i instanceof $K?"custom_auth":i instanceof Uh?i.meta.provider:null})(e);r&&this.client&&this.client.createAnalyticsEvent({eventName:"sdk_authenticate",payload:{method:r,isNewUser:n}}),r==="siwe"&&this.client&&this.client.createAnalyticsEvent({eventName:"sdk_authenticate_siwe",payload:{connectorType:e.meta.connectorType,walletClientType:e.meta.walletClientType}})}async _link(e){try{let n=await e.link(),r=n.oauth_tokens,i=r?{provider:r.provider,accessToken:r.access_token,accessTokenExpiresInSeconds:r.access_token_expires_in_seconds,refreshToken:r.refresh_token,refreshTokenExpiresInSeconds:r.refresh_token_expires_in_seconds,scopes:r.scopes}:void 0;return{user:ai(n),oAuthTokens:i}}catch(n){throw console.warn("Error linking account"),Wn(n)}}async _refresh(){if(!this.api)throw new se("Session has no API instance");if(!this.client)throw new se("Session has no PrivyClient instance");await this.client.getAccessToken({disableAutoRefresh:!0});let e=this.token,n=this.refreshToken;if(this.client.useServerCookies&&!this.mightHaveServerCookies&&this.token&&window.location.origin===this.client.apiUrl)return this.destroyLocalState(),null;try{let r;if(!(e&&n||this.mightHaveServerCookies))return null;{let i={};e&&(i.authorization=`Bearer ${e}`),r=await this.api.post(_F,n?{refresh_token:n}:{},{headers:i})}return this.handleTokenResponse(r),ai(r.user)}catch(r){if(r instanceof M1&&r.privyErrorCode===Ae.MISSING_OR_INVALID_TOKEN)return console.warn("Unable to refresh tokens - token is missing or no longer valid"),this.destroyLocalState(),null;throw Wn(r)}}handleTokenResponse(e){e.session_update_action&&e.session_update_action!=="set"?e.session_update_action==="clear"?this.destroyLocalState():e.session_update_action==="ignore"&&(e.token&&(this.storeCustomerAccessToken(e.token),this.storePrivyAccessToken(e.privy_access_token)),e.identity_token&&this.storeIdentityToken(e.identity_token)):this._storeAllTokens(e)}_storeAllTokens(e){this.storeRefreshToken(e.refresh_token),this.storeCustomerAccessToken(e.token),this.storePrivyAccessToken(e.privy_access_token),e.identity_token&&this.storeIdentityToken(e.identity_token)}async _destroy(){try{await this.api?.post(EF,{refresh_token:this.refreshToken})}catch{console.warn("Error destroying session")}this.destroyLocalState()}destroyLocalState(){this.storeRefreshToken(null),this.storeCustomerAccessToken(null),this.storePrivyAccessToken(null),this.clearIdentityToken()}storeCustomerAccessToken(e){if(typeof e=="string"){let n=nt.get(lg);if(nt.put(lg,e),!this.client?.useServerCookies){let r=_u.parse(e)?.expiration;ir.set(Y$,e,{sameSite:"Strict",secure:H6(),expires:r?new Date(1e3*r):void 0})}n!==e&&this.client?.onStoreCustomerAccessToken?.(e)}else nt.del(lg),ir.remove(Y$),this.client?.onDeleteCustomerAccessToken?.()}storeRefreshToken(e){typeof e=="string"?(nt.put(zS,e),this.client?.useServerCookies||ir.set(FS,"t",{sameSite:"Strict",secure:H6(),expires:30})):(nt.del(zS),ir.remove(yce),ir.remove(FS))}storePrivyAccessToken(e){typeof e=="string"?nt.put(Bv,e):nt.del(Bv)}storeIdentityToken(e){if(rB.setState({identityToken:e}),this.client?.useServerCookies)return;nt.put(Z$,e);let n=_u.parse(e)?.expiration;ir.set(X$,e,{sameSite:"Strict",secure:H6(),expires:n?new Date(1e3*n):void 0})}clearIdentityToken(){nt.del(Z$),rB.setState({identityToken:null}),ir.remove(X$)}constructor(){this.authenticateOnce=new Xa((async e=>this._authenticate(e))),this.linkOnce=new Xa((async e=>this._link(e))),this.refreshOnce=new Xa(this._refresh.bind(this)),this.destroyOnce=new Xa(this._destroy.bind(this))}}let G6,x_;var IUe=0,K6="__private_"+IUe+++"__getOrGenerateClientAnalyticsId";class CUe{getAppId(){return this.appId}initializeConnectorManager({walletConnectCloudProjectId:e,rpcConfig:n,chains:r,defaultChain:i,store:s,walletList:a,shouldEnforceDefaultChainOnConnect:c,externalWalletConfig:u,appName:d,walletChainType:h,setBaseAccountSdk:p}){this.connectors||(this.connectors=new _Ue(this.appId,e,n,r,i,s,a,c,u,d,p,h))}generateApi(){let e=new AUe({appId:this.appId,appClientId:this.appClientId,client:this,defaults:{baseURL:this.apiUrl,timeout:this.timeout}});return this.session.api=e,e}updateApiUrl(e){this.apiUrl=e||this.fallbackApiUrl,this.api=this.generateApi(),e&&(this.useServerCookies=!0)}authenticate(){if(!this.authFlow)throw new se("No auth flow in progress.");return this.session.authenticate(this.authFlow)}async link(){if(!this.authFlow)throw new se("No auth flow in progress.");let{oAuthTokens:e}=await this.session.link(this.authFlow);return{user:await this.getAuthenticatedUser(),oAuthTokens:e}}storeProviderAccessToken(e,n){this.session.storeProviderAccessToken(e,n)}getProviderAccessToken(e){return this.session.getProviderAccessToken(e)}async logout(){await this.session.destroy(),this.authFlow=void 0}clearProviderAcccessTokens(e){e.linkedAccounts.filter((n=>n.type==="cross_app")).forEach((n=>{this.storeProviderAccessToken(n.providerApp.id,null)}))}startAuthFlow(e){return e.api=this.api,this.authFlow=e,this.authFlow}async initMfaSmsVerification(){try{await this.api.post(Dhe,{action:"verify"})}catch(e){throw Gt(e)}}async initMfaPasskeyVerification(){try{let e=await this.api.post(Mhe,{});return SUe(e.options)}catch(e){throw Gt(e)}}async getCrossAppProviderDetails(e){try{return this._cachedProviderAppDetails[e]||(this._cachedProviderAppDetails[e]=await this.api.get(`/api/v1/apps/${e}/cross-app/details`)),this._cachedProviderAppDetails[e]}catch(n){console.error("Error fetching cross app provider details",n)}}async acceptTerms(){try{let e=await this.api.post(Uhe,{});return ai(e)}catch(e){throw Wn(e)}}async unlinkEmail(e){try{let n=await this.api.post(phe,{address:e});return await this.getAuthenticatedUser()??ai(n)}catch(n){throw Wn(n)}}async unlinkPhone(e){try{let n=await this.api.post(whe,{phoneNumber:e});return await this.getAuthenticatedUser()??ai(n)}catch(n){throw Wn(n)}}async unlinkEthereumWallet(e){try{let n=await this.api.post(Jfe,{address:e});return await this.getAuthenticatedUser()??ai(n)}catch(n){throw Wn(n)}}async unlinkSolanaWallet(e){try{let n=await this.api.post(rhe,{address:e});return await this.getAuthenticatedUser()??ai(n)}catch(n){throw Wn(n)}}async unlinkOAuth(e,n){try{let r=await this.api.post(Ahe,{provider:e,subject:n});return await this.getAuthenticatedUser()??ai(r)}catch(r){throw Wn(r)}}async unlinkFarcaster(e){try{let n=await this.api.post(lhe,{fid:e});return await this.getAuthenticatedUser()??ai(n)}catch(n){throw Wn(n)}}async unlinkTelegram(e){try{let n=await this.api.post(Nhe,{telegram_user_id:e});return await this.getAuthenticatedUser()??ai(n)}catch(n){throw Wn(n)}}async revokeDelegatedWallet(){try{await this.api.post(Whe,{})}catch(e){throw Wn(e)}}async createAnalyticsEvent({eventName:e,payload:n,timestamp:r,options:i}){if(typeof window<"u")try{this.clientAnalyticsId||console.warn("No client analytics id set, refusing to send analytics event"),await this.api.post(TF,{event_name:e,client_id:this.clientAnalyticsId,payload:{...n||{},clientTimestamp:r?r.toISOString():new Date().toISOString()}},{retry:-1,keepalive:i?.keepAlive??!1})}catch{console.log("Unable to submit event. This is not an issue.")}}async signMoonpayOnRampUrl(e){try{return this.api.post(zhe,e)}catch(n){throw Wn(n)}}async initCoinbaseOnRamp(e){try{return this.api.post(Fhe,e)}catch(n){throw Wn(n)}}async getCoinbaseOnRampStatus({partnerUserId:e}){try{return this.api.get(`${qhe}?partnerUserId=${e}`)}catch(n){throw Wn(n)}}async getAuthenticatedUser(){return this.session.hasRefreshCredentials()?this.session.refresh():null}async getAccessToken(e){return await this.getPrivyAccessToken(e)||await this.getCustomerAccessToken(e)}async getCustomerAccessToken(e){return await this._getToken(iB.CUSTOMER,e)}async getPrivyAccessToken(e){return await this._getToken(iB.PRIVY,e)}async _getToken(e,n){return this.session.getToken(e)?this.session.hasActiveAccessToken(e)?this.session.hasRefreshCredentials(e)?DO.parse(this.session.getToken(e))?.appId!==this.appId?(await this.logout(),null):this.session.getToken(e):(this.session.destroyLocalState(),null):!n?.disableAutoRefresh&&this.session.hasRefreshCredentials(e)?(await this.session.refresh(),this.session.getToken(e)):null:null}async getUsdTokenPrice(e){try{return(await this.api.get(`/api/v1/token_price?chainId=${e.id}&tokenSymbol=${e.nativeCurrency.symbol}`)).usd}catch{return void console.error(`Unable to fetch token price for chain with id ${e.id}`)}}async getUsdPriceForSol(){try{return(await this.api.get("/api/v1/token_price?chainId=0&tokenSymbol=SOL")).usd}catch{return void console.error("Unable to fetch token price for SOL")}}async getSplTokenMetadata({mintAddress:e,cluster:n}){try{return await this.api.get(`/api/v1/spl_token_info?mint_address=${e}&cluster=${n}`)}catch{return void console.error(`Unable to fetch token metadata for ${n}:${e}`)}}async requestFarcasterSignerStatus(e){try{return await this.api.post("/api/v1/farcaster/signer/status",{ed25519_public_key:e})}catch(n){throw console.error("Unable to fetch Farcaster signer status"),n}}async generateSiweNonce({address:e,captchaToken:n}){try{return(await this.api.post(Kfe,{address:e,token:n})).nonce}catch(r){throw Wn(r)}}async authenticateWithSiweInternal({message:e,signature:n,chainId:r,walletClientType:i,connectorType:s,mode:a}){return await this.api.post(Yfe,{message:e,signature:n,chainId:r,walletClientType:i,connectorType:s,mode:a})}async linkWithSiweInternal({message:e,signature:n,chainId:r,walletClientType:i,connectorType:s}){return await this.api.post(Zfe,{message:e,signature:n,chainId:r,walletClientType:i,connectorType:s})}async linkSmartWallet({message:e,signature:n,smartWalletType:r,smartWalletVersion:i}){try{let s=await this.api.post(Xfe,{message:e,signature:n,smart_wallet_type:r,smart_wallet_version:i});return ai(s)}catch(s){throw Wn(s)}}async linkWithSiwe({message:e,signature:n,chainId:r,walletClientType:i,connectorType:s}){try{let a=await this.linkWithSiweInternal({message:e,signature:n,chainId:r,walletClientType:i,connectorType:s});return ai(a)}catch(a){throw Wn(a)}}async generateSiwsNonce({address:e,captchaToken:n}){try{return(await this.api.post(ehe,{address:e,token:n})).nonce}catch(r){throw Wn(r)}}async authenticateWithSiwsInternal({message:e,signature:n,walletClientType:r,connectorType:i,mode:s,messageType:a="plain"}){return await this.api.post(the,{message:e,signature:n,walletClientType:r,connectorType:i,mode:s,message_type:a})}async authenticateWithSiws({message:e,signature:n,walletClientType:r,connectorType:i,mode:s,messageType:a="plain"}){let c=await this.authenticateWithSiwsInternal({message:e,signature:n,walletClientType:r,connectorType:i,mode:s,messageType:a});this.session.handleTokenResponse(c);let u=ai(c.user);if(!u)throw Error("Authentication failed - no user returned");return{user:u,isNewUser:c.is_new_user||!1}}async sendAccountTransferRequest({nonce:e,account:n,accountType:r,externalWalletMetadata:i,telegramAuthResult:s,telegramWebAppData:a,farcasterEmbeddedAddress:c,oAuthUserInfo:u}){try{let d,h;switch(r){case"email":d=mhe,h={nonce:e,email:n};break;case"sms":d=Ehe,h={nonce:e,phoneNumber:n};break;case"siwe":if(d=Qfe,!i)throw Error("Wallet parameters must be defined");h={nonce:e,address:n,...i};break;case"farcaster":d=uhe,h={nonce:e,farcaster_id:n,farcaster_embedded_address:c};break;case"telegram":d=Phe,h={nonce:e,telegram_auth_result:s,telegram_web_app_data:a};break;case"siws":d=ihe,h={nonce:e,address:n,...i};break;case"custom":case"guest":case"passkey":throw Error("Invalid transfer account type");default:d=She,h={nonce:e,userInfo:u}}let p=await this.api.post(d,h);return await this.getAuthenticatedUser()??ai(p)}catch(d){throw Wn(d)}}async linkWithSiwsInternal({message:e,signature:n,walletClientType:r,connectorType:i,messageType:s="plain"}){return await this.api.post(nhe,{message:e,signature:n,walletClientType:r,connectorType:i,message_type:s})}async linkWithSiws({message:e,signature:n,walletClientType:r,connectorType:i,messageType:s="plain"}){try{let a=await this.linkWithSiwsInternal({message:e,signature:n,walletClientType:r,connectorType:i,messageType:s});return ai(a)}catch(a){throw Wn(a)}}async updateUserAndIdToken(){try{let e=await this.api.get(Hhe);return this.session.updateIdentityToken(e.identity_token),ai(e.user)}catch(e){throw Wn(e)}}async scanTransaction(e){try{return await this.api.post(Vhe,e)}catch(n){throw Wn(n)}}constructor({apiUrl:e=VT,appId:n,appClientId:r,timeout:i=hce}){Object.defineProperty(this,K6,{value:OUe}),this._cachedProviderAppDetails={},this.apiUrl=e,this.fallbackApiUrl=this.apiUrl,this.useServerCookies=e!==VT&&e.startsWith("https://privy."),this.timeout=i,this.appId=n,this.appClientId=r,this.clientAnalyticsId=(function(s,a){if(!Object.prototype.hasOwnProperty.call(s,a))throw TypeError("attempted to use private field on non-instance");return s})(this,K6)[K6](),G6||(G6=new TUe),this.session=G6,this.api=this.generateApi(),this.session.client=this}}function OUe(){if(typeof window>"u")return null;try{let e=nt.get(GT);if(typeof e=="string"&&e.length>0)return e}catch{}let t=MT();try{return nt.put(GT,t),t}catch{return t}}function jK(){if(!x_)throw new se("No global PrivyClient instance found. Please ensure you have initialized the PrivyProvider.");return x_}const kUe=({config:t,...e})=>{(()=>{if(Y.useContext(NK))throw new se("Multiple PrivyProvider instances found","Found multiple instances of PrivyProvider, ensure there is only one mounted in your application tree.")})(),(function(){if(typeof window>"u")return;let s=["localhost","127.0.0.1"].includes(window.location.hostname),a=window.location.protocol==="https:"||window.location.protocol==="chrome-extension:";if(!s&&!a)throw new se("Embedded wallet is only available over HTTPS")})(),(function(s){if(typeof s!="string"||s.length!==25)throw new se("Cannot initialize the Privy provider with an invalid Privy app ID")})(e.appId),(function(s){x_||(x_=new CUe({appId:s.appId,appClientId:s.clientId,apiUrl:s.apiUrl}))})(e);let n=Y.useMemo((()=>new Ij({appId:e.appId,clientId:e.clientId,storage:nt,baseUrl:e.apiUrl,sdkVersion:"react-auth:3.10.0"})),[]),r=jK(),i=Object.assign({},t);return he.jsx(xce,{client:n,legacyClient:r,appClientId:e.clientId,clientConfig:i,children:he.jsx(Xhe,{children:he.jsx(yUe,{...e,client:r,privy:n})})})};function Uze(){let{promptMfa:t,init:e,submit:n,cancel:r,mfaMethods:i}=Y.useContext(qp);return{promptMfa:t,init:e,submit:n,cancel:r,mfaMethods:i}}function Bze(){let{initEnrollmentWithSms:t,initEnrollmentWithTotp:e,initEnrollmentWithPasskey:n,submitEnrollmentWithSms:r,submitEnrollmentWithTotp:i,submitEnrollmentWithPasskey:s,unenroll:a,enrollInMfa:c}=Y.useContext(qp);return{initEnrollmentWithSms:t,initEnrollmentWithTotp:e,initEnrollmentWithPasskey:n,submitEnrollmentWithSms:r,submitEnrollmentWithTotp:i,submitEnrollmentWithPasskey:s,unenrollWithSms:()=>a("sms"),unenrollWithTotp:()=>a("totp"),unenrollWithPasskey:u=>a("passkey",u),showMfaEnrollmentModal:()=>c(!0),closeMfaEnrollmentModal:()=>c(!1)}}function zK(t){return new Uint8Array(xO().decode(t).messageBytes)}async function Lze({solanaClient:t,tx:e}){let n=yO().decode(zK(e)),{value:r}=await t.rpc.getFeeForMessage(n).send();return r??0n}async function RUe({solanaClient:t,tx:e,replaceRecentBlockhash:n}){let{value:r}=await t.rpc.simulateTransaction(yO().decode(e),{commitment:"confirmed",encoding:"base64",sigVerify:!1,replaceRecentBlockhash:n}).send();if(r.err==="BlockhashNotFound"&&n)throw Error("Simulation failed: Blockhash not found");return r.err==="BlockhashNotFound"?await RUe({solanaClient:t,tx:e,replaceRecentBlockhash:!0}):{logs:r.logs??[],error:r.err,hasError:!!r.err,hasFunds:r.logs?.every((i=>!/insufficient funds/gi.test(i)&&!/insufficient lamports/gi.test(i)))??!0}}const Ug=(...t)=>{if(typeof Buffer>"u")throw new se("Buffer is not defined.",void 0,Ae.BUFFER_NOT_DEFINED);return Buffer.from(...t)};async function $Ue({rpcSubscriptions:t,signature:e,timeout:n}){let r=new AbortController,i=await t.signatureNotifications(e,{commitment:"confirmed"}).subscribe({abortSignal:r.signal}),s=await Promise.race([new Promise((a=>{setTimeout((()=>{r.abort(),a(Error("Transaction confirmation timed out"))}),n)})),new Promise((async a=>{for await(let c of i){if(r.abort(),c.value.err)return a(Error("Transaction confirmation failed"));a(void 0)}}))]);if(s instanceof Error)throw s}function NUe({rpc:t,rpcSubscriptions:e,chain:n,blockExplorerUrl:r}){let i=(function({rpc:s,rpcSubscriptions:a}){return async c=>new Promise((async(u,d)=>{try{let h=await s.sendTransaction(Ug(c).toString("base64"),{preflightCommitment:"confirmed",encoding:"base64"}).send();await $Ue({rpcSubscriptions:a,signature:h,timeout:1e4}),u({signature:new Uint8Array(tG().encode(h))})}catch(h){d(h)}}))})({rpc:t,rpcSubscriptions:e});return{rpc:t,rpcSubscriptions:e,chain:n,blockExplorerUrl:r,sendAndConfirmTransaction:i}}function PUe(){let t=Sa(),e=Y.useMemo((()=>Object.fromEntries(["solana:mainnet","solana:devnet","solana:testnet"].map((n=>[n,t.solanaRpcs[n]?NUe({chain:n,rpc:t.solanaRpcs[n].rpc,rpcSubscriptions:t.solanaRpcs[n].rpcSubscriptions,blockExplorerUrl:t.solanaRpcs[n].blockExplorerUrl??`https://explorer.solana.com?cluster=${n.replace("solana:","")}`}):null])))),[t.solanaRpcs]);return Y.useCallback((n=>{if(!e[n])throw Error(`No RPC configuration found for chain ${n}`);return e[n]}),[e])}const YE=["solana:mainnet","solana:devnet","solana:testnet"];function jze(t){return nG().decode(t)}function Sm(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw TypeError("attempted to use private field on non-instance");return t}var DUe=0,La="__private_"+DUe+++"__implementation";function oa(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw TypeError("attempted to use private field on non-instance");return t}var MUe=0;function Jp(t){return"__private_"+MUe+++"_"+t}var xm=Jp("_address"),Tm=Jp("_publicKey"),Im=Jp("_chains"),Cm=Jp("_features"),Om=Jp("_label"),km=Jp("_icon");let UUe=class FK{get address(){return oa(this,xm)[xm]}get publicKey(){return oa(this,Tm)[Tm].slice()}get chains(){return oa(this,Im)[Im].slice()}get features(){return oa(this,Cm)[Cm].slice()}get label(){return oa(this,Om)[Om]}get icon(){return oa(this,km)[km]}constructor({address:e,publicKey:n,label:r,icon:i}){Object.defineProperty(this,xm,{writable:!0,value:void 0}),Object.defineProperty(this,Tm,{writable:!0,value:void 0}),Object.defineProperty(this,Im,{writable:!0,value:void 0}),Object.defineProperty(this,Cm,{writable:!0,value:void 0}),Object.defineProperty(this,Om,{writable:!0,value:void 0}),Object.defineProperty(this,km,{writable:!0,value:void 0}),oa(this,xm)[xm]=e,oa(this,Tm)[Tm]=n,oa(this,Im)[Im]=YE,oa(this,Om)[Om]=r,oa(this,km)[km]=i,oa(this,Cm)[Cm]=["solana:signAndSendTransaction","solana:signTransaction","solana:signMessage"],new.target===FK&&Object.freeze(this)}};function St(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw TypeError("attempted to use private field on non-instance");return t}var BUe=0;function xi(t){return"__private_"+BUe+++"_"+t}var $s=xi("_listeners"),Rm=xi("_version"),$m=xi("_name"),Nm=xi("_icon"),Ii=xi("_injection"),Pm=xi("_isPrivyWallet"),gd=xi("_accounts"),Dm=xi("_on"),bd=xi("_emit"),Y6=xi("_off"),wd=xi("_connected"),Mm=xi("_connect"),Um=xi("_disconnect"),Bm=xi("_signMessage"),Lm=xi("_signAndSendTransaction"),jm=xi("_signTransaction");function LUe(t,...e){St(this,$s)[$s][t]?.forEach((n=>n.apply(null,e)))}function jUe(t,e){St(this,$s)[$s][t]=St(this,$s)[$s][t]?.filter((n=>e!==n))}function zUe(t,e,n){let r=structuredClone(xO().decode(t)),i=cG(e);return i in r.signatures&&(r.signatures[i]=n),new Uint8Array(NG().encode(r))}function qK(){let{isHeadlessSigning:t,walletProxy:e,initializeWalletProxy:n,recoverEmbeddedWallet:r,openModal:i,privy:s,client:a}=xa(),{user:c}=Tp(),{setModalData:u}=Ru(),{signWithUserSigner:d}=AK();return{signMessage:({message:h,address:p,options:m})=>new Promise((async(g,b)=>{let v=jc(c,p);if(v?.walletClientType!=="privy")return void b(new se("Wallet is not a Privy wallet",void 0,Ae.EMBEDDED_WALLET_NOT_FOUND));let{entropyId:E,entropyIdVerifier:O}=Va(c,v),k=Ei(v),S=Ug(h).toString("base64");if(S.length<1)return void b(new se("Message must be a non-empty string",void 0,Ae.INVALID_MESSAGE));let A=async()=>{let C;if(!c)throw Error("User must be authenticated before signing with a Privy wallet");let I=await a.getAccessToken();if(!I)throw Error("User must be authenticated to use their embedded wallet.");let N=e??await n(15e3);if(!N)throw Error("Failed to initialize embedded wallet proxy.");if(!await r({address:v.address}))throw Error("Unable to connect to wallet");if(k){let z=await Ps(s,d,{chain_type:"solana",method:"signMessage",params:{message:S,encoding:"base64"},wallet_id:v.id});if(!z.data||!("signature"in z.data))throw Error("Failed to sign message");C=z.data.signature}else{let{response:z}=await N.rpc({accessToken:I,entropyId:E,entropyIdVerifier:O,chainType:"solana",hdWalletIndex:v.walletIndex??0,requesterAppId:m?.uiOptions?.requesterAppId,request:{method:"signMessage",params:{message:S}}});C=z.data.signature}return C};if(t({showWalletUIs:m?.uiOptions?.showWalletUIs}))try{let C=await A(),I=new Uint8Array(Ug(C,"base64"));g({signature:I})}catch(C){b(C)}else u({signMessage:{method:"solana_signMessage",data:S,confirmAndSign:A,onSuccess:C=>{g({signature:new Uint8Array(Ug(C,"base64"))})},onFailure:C=>{b(C)},uiOptions:m?.uiOptions??{}},connectWallet:{recoveryMethod:v.recoveryMethod,connectingWalletAddress:v.address,entropyId:E,entropyIdVerifier:O,isUnifiedWallet:k,onCompleteNavigateTo:"SignRequestScreen",onFailure:C=>{b(new se("Failed to connect to wallet",C,Ae.UNKNOWN_CONNECT_WALLET_ERROR))}}}),i("EmbeddedWalletConnectingScreen")}))}}function sB(){let{isHeadlessSigning:t,openModal:e}=xa(),{setModalData:n}=Ru(),{signMessage:r}=qK(),{user:i}=Tp();return{signTransaction:async({transaction:s,options:a,chain:c="solana:mainnet",address:u})=>{async function d(h){let{signature:p}=await r({message:zK(h),address:u,options:{...a,uiOptions:{...a?.uiOptions,showWalletUIs:!1}}});return{signedTransaction:zUe(h,u,p)}}return t({showWalletUIs:a?.uiOptions?.showWalletUIs})?d(s):new Promise((async(h,p)=>{let m=jc(i,u);if(m?.walletClientType!=="privy")return void p(new se("Wallet is not a Privy wallet",void 0,Ae.EMBEDDED_WALLET_NOT_FOUND));let{entropyId:g,entropyIdVerifier:b}=Va(i,m),v=Ei(m);function E(k){return S=>{p(S instanceof se?S:new se("Failed to connect to wallet",S,k))}}let O={account:m,transaction:s,chain:c,signOnly:!0,uiOptions:a?.uiOptions||{},onConfirm:d,onSuccess:h,onFailure:E(Ae.TRANSACTION_FAILURE)};n({connectWallet:{recoveryMethod:m.recoveryMethod,connectingWalletAddress:m.address,entropyId:g,entropyIdVerifier:b,isUnifiedWallet:v,onCompleteNavigateTo:"StandardSignAndSendTransactionScreen",onFailure:E(Ae.UNKNOWN_CONNECT_WALLET_ERROR)},standardSignAndSendTransaction:O}),e("EmbeddedWalletConnectingScreen")}))}}}let q3=new class extends Uu{setImplementation(t){Sm(this,La)[La]=t}async signMessage(t){return Sm(this,La)[La].signMessage(t)}async signAndSendTransaction(t){return Sm(this,La)[La].signAndSendTransaction(t)}async signTransaction(t){return Sm(this,La)[La].signTransaction(t)}constructor(t){super(),Object.defineProperty(this,La,{writable:!0,value:void 0}),Sm(this,La)[La]=t}}({signTransaction:VS("signTransaction was not injected"),signAndSendTransaction:VS("signAndSendTransaction was not injected"),signMessage:VS("signMessage was not injected")}),aB=new class{get version(){return St(this,Rm)[Rm]}get name(){return St(this,$m)[$m]}get icon(){return St(this,Nm)[Nm]}get chains(){return YE.slice()}get features(){return{"standard:connect":{version:"1.0.0",connect:St(this,Mm)[Mm]},"standard:disconnect":{version:"1.0.0",disconnect:St(this,Um)[Um]},"standard:events":{version:"1.0.0",on:St(this,Dm)[Dm]},"solana:signAndSendTransaction":{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:St(this,Lm)[Lm]},"solana:signTransaction":{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:St(this,jm)[jm]},"solana:signMessage":{version:"1.0.0",signMessage:St(this,Bm)[Bm]},"privy:":{privy:{signMessage:St(this,Ii)[Ii].signMessage,signTransaction:St(this,Ii)[Ii].signTransaction,signAndSendTransaction:St(this,Ii)[Ii].signAndSendTransaction}}}}get accounts(){return St(this,gd)[gd].slice()}get isPrivyWallet(){return St(this,Pm)[Pm]}constructor({name:t,icon:e,version:n,injection:r,wallets:i}){Object.defineProperty(this,bd,{value:LUe}),Object.defineProperty(this,Y6,{value:jUe}),Object.defineProperty(this,$s,{writable:!0,value:void 0}),Object.defineProperty(this,Rm,{writable:!0,value:void 0}),Object.defineProperty(this,$m,{writable:!0,value:void 0}),Object.defineProperty(this,Nm,{writable:!0,value:void 0}),Object.defineProperty(this,Ii,{writable:!0,value:void 0}),Object.defineProperty(this,Pm,{writable:!0,value:void 0}),Object.defineProperty(this,gd,{writable:!0,value:void 0}),Object.defineProperty(this,Dm,{writable:!0,value:void 0}),Object.defineProperty(this,wd,{writable:!0,value:void 0}),Object.defineProperty(this,Mm,{writable:!0,value:void 0}),Object.defineProperty(this,Um,{writable:!0,value:void 0}),Object.defineProperty(this,Bm,{writable:!0,value:void 0}),Object.defineProperty(this,Lm,{writable:!0,value:void 0}),Object.defineProperty(this,jm,{writable:!0,value:void 0}),St(this,$s)[$s]={},St(this,Dm)[Dm]=(s,a)=>(St(this,$s)[$s][s]?.push(a)||(St(this,$s)[$s][s]=[a]),()=>St(this,Y6)[Y6](s,a)),St(this,wd)[wd]=s=>{s!=null&&(St(this,gd)[gd]=s.map((({address:a})=>new UUe({address:a,publicKey:cl.decode(a)})))),St(this,bd)[bd]("change",{accounts:this.accounts})},St(this,Mm)[Mm]=async()=>(St(this,bd)[bd]("change",{accounts:this.accounts}),{accounts:this.accounts}),St(this,Um)[Um]=async()=>{St(this,bd)[bd]("change",{accounts:this.accounts})},St(this,Bm)[Bm]=async(...s)=>{let a=[];for(let{account:c,...u}of s){let{signature:d}=await St(this,Ii)[Ii].signMessage({...u,address:c.address});a.push({signedMessage:u.message,signature:d})}return a},St(this,Lm)[Lm]=async(...s)=>{let a=[];for(let c of s){let{signature:u}=await St(this,Ii)[Ii].signAndSendTransaction({...c,transaction:c.transaction,address:c.account.address,chain:c.chain||"solana:mainnet",options:c.options});a.push({signature:u})}return a},St(this,jm)[jm]=async(...s)=>{let a=[];for(let{transaction:c,account:u,options:d,chain:h}of s){let{signedTransaction:p}=await St(this,Ii)[Ii].signTransaction({transaction:c,address:u.address,chain:h||"solana:mainnet",options:d});a.push({signedTransaction:p})}return a},St(this,$m)[$m]=t,St(this,Nm)[Nm]=e,St(this,Rm)[Rm]=n,St(this,Ii)[Ii]=r,St(this,gd)[gd]=[],St(this,Pm)[Pm]=!0,r.on("accountChanged",St(this,wd)[wd],this),St(this,wd)[wd](i)}}({name:"Privy",version:"1.0.0",icon:"data:image/png;base64,AAABAAEAFBQAAAAAIABlAQAAFgAAAIlQTkcNChoKAAAADUlIRFIAAAAUAAAAFAgGAAAAjYkdDQAAAAlwSFlzAAAOwwAADsMBx2+oZAAAAQVJREFUeJxiYMANZIC4E4ivAPFPIP4FxDeAuB+IlfDowwBMQFwJxF+B+D8O/AOI66Bq8QJGIF6ExyB0vAqImfEZmEeCYTDcgMswPiB+T4aB34FYApuBsWQYBsP52AycToGBK7EZuJECAw9jM3AVBQbuwWZgIwUGTsZmoDkFBnpiMxAEjpJh2FV8iVsbiD+TYBgoDVrgMgwGnID4HRGGgTKBGyHDYEAaiBdCSxh0g/5AU4Q8sYYhAzEgjoGmABBOgFo2eACowFABYn0oVgViAVINkQTiZUD8DIj/ATF6GILEXgLxCiCWIsZAbiAuBeKtQHwHiEHJ6C8UfwHie0C8E4jLoWpRAAAAAP//rcbhsQAAAAZJREFUAwBYFs3VKJ0cuQAAAABJRU5ErkJggg==",wallets:[],injection:q3});function FUe(){let{ready:t}=tC(),{user:e}=Tp(),{signMessage:n}=qK(),{signTransaction:r}=sB(),{signAndSendTransaction:i}=(function(){let c=Sa(),{isHeadlessSigning:u,openModal:d}=xa(),{setModalData:h}=Ru(),{signTransaction:p}=sB(),m=PUe(),{user:g}=Tp(),{signWithUserSigner:b}=AK();return{signAndSendTransaction:async({transaction:v,address:E,chain:O="solana:mainnet",options:k})=>{let S=jc(g,E);if(S?.walletClientType!=="privy")throw new se("Wallet is not a Privy wallet",void 0,Ae.EMBEDDED_WALLET_NOT_FOUND);let A=Ei(S);async function C(I){if(k?.sponsor)return await(async L=>{if(!A)throw new se("Sponsoring transactions is only supported for wallets on the TEE stack",Ae.INVALID_DATA);let B=new Ij({appId:c.id,clientId:c.appClientId,storage:nt}),H=await Ps(B,b,{chain_type:"solana",method:"signAndSendTransaction",sponsor:!0,params:{transaction:Ug(L).toString("base64"),encoding:"base64"},caip2:`solana:${(await m(O).rpc.getGenesisHash().send()).substring(0,32)}`,wallet_id:S.id});if(H.data&&"hash"in H.data)return{signature:cl.decode(H.data.hash)};throw Error("Failed to sign and send transaction")})(I);let{signedTransaction:N}=await p({transaction:I,address:E,chain:O,options:{...k,uiOptions:{...k?.uiOptions,showWalletUIs:!1}}}),{signature:z}=await m(O).sendAndConfirmTransaction(N);return{signature:z}}return u({showWalletUIs:k?.uiOptions?.showWalletUIs})?C(v):new Promise((async(I,N)=>{let z,L,{entropyId:B,entropyIdVerifier:H}=Va(g,S);function D(T){return x=>{N(x instanceof se?x:new se("Failed to connect to wallet",x,T))}}let F={account:S,transaction:v,chain:O,signOnly:!1,uiOptions:k?.uiOptions||{},onConfirm:C,onSuccess:I,onFailure:D(Ae.TRANSACTION_FAILURE),isSponsored:!!k?.sponsor},K={recoveryMethod:S.recoveryMethod,connectingWalletAddress:S.address,entropyId:B,entropyIdVerifier:H,isUnifiedWallet:A,onCompleteNavigateTo:"StandardSignAndSendTransactionScreen",onFailure:D(Ae.UNKNOWN_CONNECT_WALLET_ERROR)};c.fundingConfig&&(z=$ue({address:E,appConfig:c,methodScreen:"FundingMethodSelectionScreen",fundWalletConfig:{...k,asset:"native-currency",chain:O},externalSolanaFundingScreen:"FundSolWalletWithExternalSolanaWallet"}),L={amount:c.fundingConfig.defaultRecommendedAmount,asset:"SOL",chain:O,destinationAddress:E,afterSuccessScreen:"StandardSignAndSendTransactionScreen",sourceWalletData:void 0}),h({connectWallet:K,standardSignAndSendTransaction:F,funding:z,solanaFundingData:L}),d("EmbeddedWalletConnectingScreen")}))}}})(),s=Y.useMemo((()=>{let c=[...Gj(e).sort(((d,h)=>(d.walletIndex??0)-(h.walletIndex??0)))],u=Kj(e);return u.length?[...c,...u]:c}),[e]),a=Y.useMemo((()=>({signMessage:async({message:c,address:u,options:d})=>await n({message:c,address:u,options:d}),signTransaction:async({transaction:c,address:u,chain:d,options:h})=>await r({transaction:c,address:u,chain:d,options:h}),async signAndSendTransaction({transaction:c,address:u,chain:d,options:h}){let{signature:p}=await i({transaction:c,address:u,chain:d,options:h});return{signature:p}}})),[n,r,i]);return Y.useEffect((()=>{q3?.setImplementation(a)}),[a]),Y.useEffect((()=>{var c;!t||(c=aB.accounts).length===s.length&&c.every(((u,d)=>u.address===s[d]?.address))||q3?.emit("accountChanged",s)}),[t,s]),{ready:t,wallet:aB}}function qUe(){let{client:t}=xa(),{ready:e,wallet:n}=FUe(),[r,i]=Y.useState([]),[s,a]=Y.useState([]);return Y.useEffect((()=>{let c=[n,...r.filter((h=>h.chainType==="solana"&&!!h.wallet.features)).map((h=>h.wallet))];a(c);let u=r.flatMap((h=>{let p=()=>a([...c]);return h.on("walletsUpdated",p),{connector:h,off:p}})),d=c.map((h=>h.features["standard:events"]?.on("change",(()=>{a([...c])}))));return()=>{d.forEach((h=>h?.())),u.forEach((({connector:h,off:p})=>h.off("walletsUpdated",p)))}}),[r]),Y.useEffect((()=>{i(t.connectors?.walletConnectors.filter((u=>u.chainType==="solana"))??[]);let c=()=>{i(t.connectors?.walletConnectors.filter((u=>u.chainType==="solana"))??[])};return t.connectors?.on("connectorInitialized",c),()=>{t.connectors?.off("connectorInitialized",c)}}),[e,t.connectors]),{ready:e,wallets:s}}function zze(){let{ready:t,wallets:e}=qUe();return{ready:t,wallets:Y.useMemo((()=>e.flatMap((n=>n.accounts.map((r=>new Oj({wallet:n,account:r})))))),[e])}}var WUe=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},HUe=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},c1;let zm;const ZE=new Set;function VUe(t){Bg=void 0,ZE.add(t)}function GUe(t){Bg=void 0,ZE.delete(t)}const Yh={};function KUe(){if(zm||(zm=Object.freeze({register:oB,get:YUe,on:ZUe}),typeof window>"u"))return zm;const t=Object.freeze({register:oB});try{window.addEventListener("wallet-standard:register-wallet",({detail:e})=>e(t))}catch(e){console.error(`wallet-standard:register-wallet event listener could not be added
`,e)}try{window.dispatchEvent(new XUe(t))}catch(e){console.error(`wallet-standard:app-ready event could not be dispatched
`,e)}return zm}function oB(...t){return t=t.filter(e=>!ZE.has(e)),t.length?(t.forEach(e=>VUe(e)),Yh.register?.forEach(e=>cB(()=>e(...t))),function(){t.forEach(n=>GUe(n)),Yh.unregister?.forEach(n=>cB(()=>n(...t)))}):()=>{}}let Bg;function YUe(){return Bg||(Bg=[...ZE]),Bg}function ZUe(t,e){return Yh[t]?.push(e)||(Yh[t]=[e]),function(){Yh[t]=Yh[t]?.filter(r=>e!==r)}}function cB(t){try{t()}catch(e){console.error(e)}}class XUe extends Event{get detail(){return WUe(this,c1,"f")}get type(){return"wallet-standard:app-ready"}constructor(e){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),c1.set(this,void 0),HUe(this,c1,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}c1=new WeakMap;const JUe=t=>{let e,{get:n,on:r}=KUe(),i=t?.shouldAutoConnect,s=new Vv(new nBe,i),a=new Map,c=[];function u(...p){p.forEach((m=>{!(m.features["privy:"]&&"isPrivyWallet"in m&&m.isPrivyWallet||a.has(m.name))&&m.chains.some((g=>typeof g=="string"&&g.startsWith("solana:")))&&a.set(m.name,m)})),c=Array.from(a.values()).map((m=>new Vv(m,i))).concat(s),e?.(c)}function d(...p){Array.from(a.values()).forEach((m=>!p.includes(m)&&a.delete(m.name))),c=Array.from(a.values()).map((m=>new Vv(m,i))).concat(s),e?.(c)}let h=[r("register",u),r("unregister",d)];return u(...n()),{_setOnConnectorsUpdated:p=>{e=p},onMount:()=>{h[0]||(h[0]=r("register",u)),h[1]||(h[1]=r("unregister",d))},onUnmount:()=>{let p=h.pop();for(;p;)p(),p=h.pop()},get:()=>c}};function ca(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw TypeError("attempted to use private field on non-instance");return t}var QUe=0;function Qp(t){return"__private_"+QUe+++"_"+t}var Fm=Qp("_address"),qm=Qp("_publicKey"),Wm=Qp("_chains"),Hm=Qp("_features"),Vm=Qp("_label"),Gm=Qp("_icon");class eBe{get address(){return ca(this,Fm)[Fm]}get publicKey(){return ca(this,qm)[qm].slice()}get chains(){return ca(this,Wm)[Wm].slice()}get features(){return ca(this,Hm)[Hm].slice()}get label(){return ca(this,Vm)[Vm]}get icon(){return ca(this,Gm)[Gm]}constructor({address:e,publicKey:n,label:r,icon:i}){Object.defineProperty(this,Fm,{writable:!0,value:void 0}),Object.defineProperty(this,qm,{writable:!0,value:void 0}),Object.defineProperty(this,Wm,{writable:!0,value:void 0}),Object.defineProperty(this,Hm,{writable:!0,value:void 0}),Object.defineProperty(this,Vm,{writable:!0,value:void 0}),Object.defineProperty(this,Gm,{writable:!0,value:void 0}),ca(this,Fm)[Fm]=e,ca(this,qm)[qm]=n,ca(this,Wm)[Wm]=YE,ca(this,Hm)[Hm]=["solana:signAndSendTransaction","solana:signTransaction","solana:signMessage"],ca(this,Vm)[Vm]=r,ca(this,Gm)[Gm]=i}}function Pv(t){if(typeof t=="string")return cl.decode(t);if(t instanceof Uint8Array)return t;let e=t.signature;return typeof e=="string"?cl.decode(e):e}function lB(t){if(typeof t=="string"){try{return cl.decode(t)}catch{}return Vd.decode(t)}if(t instanceof Uint8Array)return t;let e=t.transaction??t.signature;if(!e)throw Error("Invalid result from signTransaction or signAndSendTransaction attempt");if(typeof e=="string"){try{return cl.decode(e)}catch{}return Vd.decode(e)}return e}function Ie(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw TypeError("attempted to use private field on non-instance");return t}var tBe=0;function yn(t){return"__private_"+tBe+++"_"+t}let WK="solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",HK="solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1";var Ns=yn("_listeners"),Km=yn("_version"),Ic=yn("_name"),ja=yn("_icon"),ft=yn("_provider"),Cc=yn("_accounts"),Oc=yn("_privyAppName"),kc=yn("_walletConnectCloudProjectId"),za=yn("_walletEntry"),Fa=yn("_onDisplayUriCallback"),Rc=yn("_providerEventListeners"),Ym=yn("_on"),vd=yn("_emit"),Z6=yn("_off"),_d=yn("_connected"),Ed=yn("_disconnected"),Zm=yn("_connect"),Xm=yn("_disconnect"),Jm=yn("_signMessage"),Qm=yn("_signAndSendTransaction"),eg=yn("_signTransaction"),tg=yn("_getOrCreateProvider"),ng=yn("_getOrCreateSession"),rg=yn("_restoreSession"),Ts=yn("_addProviderEventListener"),ig=yn("_destroySession"),Ci=yn("_makeRpcRequest"),sg=yn("_onDisplayUri"),ag=yn("_onSessionDelete");class nBe{get version(){return Ie(this,Km)[Km]}get name(){return Ie(this,Ic)[Ic]}get icon(){return Ie(this,ja)[ja]}get chains(){return YE.slice()}get features(){return{"standard:connect":{version:"1.0.0",connect:Ie(this,Zm)[Zm]},"standard:disconnect":{version:"1.0.0",disconnect:Ie(this,Xm)[Xm]},"standard:events":{version:"1.0.0",on:Ie(this,Ym)[Ym]},"solana:signAndSendTransaction":{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:Ie(this,Qm)[Qm]},"solana:signTransaction":{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:Ie(this,eg)[eg]},"solana:signMessage":{version:"1.0.0",signMessage:Ie(this,Jm)[Jm]}}}get accounts(){return Ie(this,Cc)[Cc].slice()}get isWalletConnectSolana(){return!0}async initialize({walletConnectCloudProjectId:e,privyAppName:n}){Ie(this,kc)[kc]=e,Ie(this,Oc)[Oc]=n,await Ie(this,tg)[tg](),await Ie(this,rg)[rg]()}setWalletEntry(e,n){Ie(this,za)[za]=e,Ie(this,Fa)[Fa]=n}constructor(){Object.defineProperty(this,vd,{value:rBe}),Object.defineProperty(this,Z6,{value:iBe}),Object.defineProperty(this,Ns,{writable:!0,value:void 0}),Object.defineProperty(this,Km,{writable:!0,value:void 0}),Object.defineProperty(this,Ic,{writable:!0,value:void 0}),Object.defineProperty(this,ja,{writable:!0,value:void 0}),Object.defineProperty(this,ft,{writable:!0,value:void 0}),Object.defineProperty(this,Cc,{writable:!0,value:void 0}),Object.defineProperty(this,Oc,{writable:!0,value:void 0}),Object.defineProperty(this,kc,{writable:!0,value:void 0}),Object.defineProperty(this,za,{writable:!0,value:void 0}),Object.defineProperty(this,Fa,{writable:!0,value:void 0}),Object.defineProperty(this,Rc,{writable:!0,value:void 0}),Object.defineProperty(this,Ym,{writable:!0,value:void 0}),Object.defineProperty(this,_d,{writable:!0,value:void 0}),Object.defineProperty(this,Ed,{writable:!0,value:void 0}),Object.defineProperty(this,Zm,{writable:!0,value:void 0}),Object.defineProperty(this,Xm,{writable:!0,value:void 0}),Object.defineProperty(this,Jm,{writable:!0,value:void 0}),Object.defineProperty(this,Qm,{writable:!0,value:void 0}),Object.defineProperty(this,eg,{writable:!0,value:void 0}),Object.defineProperty(this,tg,{writable:!0,value:void 0}),Object.defineProperty(this,ng,{writable:!0,value:void 0}),Object.defineProperty(this,rg,{writable:!0,value:void 0}),Object.defineProperty(this,Ts,{writable:!0,value:void 0}),Object.defineProperty(this,ig,{writable:!0,value:void 0}),Object.defineProperty(this,Ci,{writable:!0,value:void 0}),Object.defineProperty(this,sg,{writable:!0,value:void 0}),Object.defineProperty(this,ag,{writable:!0,value:void 0}),Ie(this,Ns)[Ns]={},Ie(this,Km)[Km]="1.0.0",Ie(this,Ic)[Ic]="WalletConnect",Ie(this,ja)[ja]=Sz,Ie(this,ft)[ft]=null,Ie(this,Cc)[Cc]=[],Ie(this,Oc)[Oc]="",Ie(this,kc)[kc]="",Ie(this,Rc)[Rc]=new Map,Ie(this,Ym)[Ym]=(e,n)=>(Ie(this,Ns)[Ns][e]?.push(n)||(Ie(this,Ns)[Ns][e]=[n]),()=>Ie(this,Z6)[Z6](e,n)),Ie(this,_d)[_d]=e=>{Ie(this,Ic)[Ic]=Ie(this,ft)[ft]?.session?.peer?.metadata?.name||Ie(this,za)[za]?.name||"WalletConnect",Ie(this,ja)[ja]=Ie(this,ft)[ft]?.session?.peer?.metadata?.icons?.[0]||Ie(this,za)[za]?.image_url?.sm||Ie(this,ja)[ja],Ie(this,Cc)[Cc]=e.map((n=>new eBe({address:n,publicKey:cl.decode(n),label:Ie(this,Ic)[Ic],icon:Ie(this,ja)[ja]}))),Ie(this,vd)[vd]("change",{accounts:this.accounts})},Ie(this,Ed)[Ed]=()=>{Ie(this,Cc)[Cc]=[],Ie(this,vd)[vd]("change",{accounts:this.accounts})},Ie(this,Zm)[Zm]=async()=>(this.accounts.length||await Ie(this,ng)[ng](),{accounts:this.accounts}),Ie(this,Xm)[Xm]=async()=>{await Ie(this,ig)[ig](),Ie(this,vd)[vd]("change",{accounts:this.accounts})},Ie(this,Jm)[Jm]=async(...e)=>{let n=[];for(let{account:r,message:i}of e){let s=cl.encode(i);try{let a=await Ie(this,Ci)[Ci]("solana_signMessage",{message:s,pubkey:r.address},Rh("solana:mainnet"));n.push({signedMessage:i,signature:Pv(a)})}catch(a){if(a?.message?.includes("Missing or invalid")){let c=await Ie(this,Ci)[Ci]("solana:signMessage",{message:s,pubkey:r.address},Rh("solana:mainnet"));n.push({signedMessage:i,signature:Pv(c)})}throw a}}return n},Ie(this,Qm)[Qm]=async(...e)=>{let n=[];for(let{account:r,chain:i,transaction:s,options:a}of e){let c=Vd.encode(s);try{let u=await Ie(this,Ci)[Ci]("solana_signAndSendTransaction",{transaction:c,pubkey:r.address,sendOptions:a},Rh(i));n.push({signature:Pv(u)})}catch(u){if(u?.message?.includes("Missing or invalid")){let d=await Ie(this,Ci)[Ci]("solana:signAndSendTransaction",{transaction:c,pubkey:r.address,sendOptions:a},Rh(i));n.push({signature:Pv(d)})}}}return n},Ie(this,eg)[eg]=async(...e)=>{let n=[];for(let{account:r,chain:i,transaction:s}of e){let a=Vd.encode(s);try{let c=await Ie(this,Ci)[Ci]("solana_signTransaction",{transaction:a,pubkey:r.address},Rh(i||"solana:mainnet"));n.push({signedTransaction:lB(c)})}catch(c){if(c?.message?.includes("Missing or invalid")){let u=await Ie(this,Ci)[Ci]("solana:signTransaction",{transaction:a,pubkey:r.address},Rh(i||"solana:mainnet"));n.push({signedTransaction:lB(u)})}}}return n},Ie(this,tg)[tg]=async()=>{if(Ie(this,ft)[ft])return Ie(this,ft)[ft];if(!Ie(this,kc)[kc])throw Error("WalletConnect Cloud Project ID is required");return Ie(this,ft)[ft]=await UV.init({projectId:Ie(this,kc)[kc],metadata:{name:Ie(this,Oc)[Oc],description:Ie(this,Oc)[Oc],url:window.location.origin,icons:[]},relayUrl:"wss://relay.walletconnect.com",telemetryEnabled:!1}),Ie(this,Ts)[Ts]("display_uri",Ie(this,sg)[sg]),Ie(this,Ts)[Ts]("session_delete",Ie(this,ag)[ag]),Ie(this,Ts)[Ts]("session_ping",(()=>{})),Ie(this,Ts)[Ts]("session_event",(()=>{})),Ie(this,Ts)[Ts]("session_update",(()=>{})),Ie(this,ft)[ft]},Ie(this,ng)[ng]=async()=>{if(!Ie(this,ft)[ft])throw Error("WalletConnectSolana: Failed to get or create session. Provider not initialized");if(Ie(this,ft)[ft].session)return Ie(this,ft)[ft].session;let e=await Ie(this,ft)[ft].connect({optionalNamespaces:{solana:{chains:[WK,HK],methods:["solana_signMessage","solana_signTransaction","solana_signAndSendTransaction"],events:[]}}});if(!e)throw Error("WalletConnectSolana: Failed to create new session");return Ie(this,_d)[_d](uB(e)),e},Ie(this,rg)[rg]=async()=>{let e=Ie(this,ft)[ft]?.session;if(e){if(!e.namespaces?.solana)return await Ie(this,ft)[ft]?.disconnect().catch((n=>console.error("WalletConnectSolana: Error disconnecting session",n))),void(Ie(this,ft)[ft].session=void 0);Ie(this,_d)[_d](uB(e))}},Ie(this,Ts)[Ts]=(e,n)=>{let r=Ie(this,Rc)[Rc].get(e);r&&(Ie(this,ft)[ft]?.off(e,r),Ie(this,Rc)[Rc].delete(e)),Ie(this,ft)[ft]?.on(e,n),Ie(this,Rc)[Rc].set(e,n)},Ie(this,ig)[ig]=async()=>{try{if(Ie(this,ft)[ft]?.session&&await Ie(this,ft)[ft]?.disconnect().catch((e=>console.error("WalletConnectSolana: Error disconnecting session",e))),Ie(this,ft)[ft]?.client){let e=Ie(this,ft)[ft].client.proposal.getAll();await Promise.allSettled(e.map((r=>Ie(this,ft)[ft]?.client.proposal.delete(r.id,{code:6e3,message:"User disconnected"}))));let n=Ie(this,ft)[ft].client.pairing.getAll();await Promise.allSettled(n.map((r=>Ie(this,ft)[ft]?.client.pairing.delete(r.topic,{code:6e3,message:"User disconnected"}))))}Ie(this,Ed)[Ed]()}catch(e){console.error("WalletConnectSolana: Error destroying session",e)}},Ie(this,Ci)[Ci]=async(e,n,r)=>{try{return await Ie(this,ft)[ft].request({method:e,params:n},r)}catch(i){if(console.error(`WalletConnectSolana: RPC Error - ${e}:`,i),i?.message?.includes("without any listeners")&&i.result)return i.result;throw i?.message?.includes("session topic does not exist in keychain")?Error("WalletConnectSolana: Wallet connection lost. Please reconnect."):i}},Ie(this,sg)[sg]=e=>{if(qo.isMobile&&Ie(this,za)[za]){let{redirect:n}=CF(e,Ie(this,za)[za]);Ie(this,Fa)[Fa]==null||Ie(this,Fa)[Fa].call(this,{native:n,universal:n})}else Ie(this,Fa)[Fa]==null||Ie(this,Fa)[Fa].call(this,{native:e,universal:void 0})},Ie(this,ag)[ag]=()=>{Ie(this,Ed)[Ed]()}}}function rBe(t,...e){Ie(this,Ns)[Ns][t]?.forEach((n=>n.apply(null,e)))}function iBe(t,e){Ie(this,Ns)[Ns][t]=Ie(this,Ns)[Ns][t]?.filter((n=>e!==n))}function uB(t){return t.namespaces.solana.accounts.reduce(((e,n)=>{let r=n.split(":").at(-1);return e.includes(r)||e.push(r),e}),[])}function Rh(t){switch(t){case"solana:mainnet":return WK;case"solana:devnet":return HK;default:return t}}function sBe(){const{ready:t,authenticated:e,user:n,login:r,logout:i}=Tp(),{wallets:s}=tC(),a=Y.useMemo(()=>{const d=n?.linkedAccounts?.find(m=>m.type==="wallet"&&m.chainType==="solana");if(d?.address)return d.address;const h=s?.find(m=>!m.address?.startsWith("0x"));if(h?.address)return h.address;const p=n?.linkedAccounts?.find(m=>m.type==="wallet"&&m.address&&!m.address.startsWith("0x"));return p?.address?p.address:null},[n,s]),c=!!window.opener,u=window.location.pathname==="/auth";return Y.useEffect(()=>{e&&a&&(localStorage.setItem("connectedWallet",a),console.log("[AUTH] Wallet stored:",a),c&&window.opener&&(window.opener.postMessage({type:"privy-auth-success",address:a},"*"),setTimeout(()=>window.close(),500)))},[e,a,c]),Y.useEffect(()=>{u&&t&&!e&&r()},[u,t,e,r]),Y.useEffect(()=>{if(e&&t&&!a){const d=setTimeout(()=>{a||(console.log("[AUTH] No Solana wallet found, logging out..."),i())},2e3);return()=>clearTimeout(d)}},[e,t,a,i]),t?u||c?he.jsx("div",{className:"auth-popup",children:he.jsxs("div",{className:"auth-container",children:[he.jsx("img",{src:"/website/logo-icon.jpg",alt:"LAUNCHR",className:"auth-logo"}),he.jsx("h2",{children:"LAUNCHR Auth"}),e?he.jsx("div",{className:"auth-success",children:a?he.jsxs(he.Fragment,{children:[he.jsx("p",{children:"Connected!"}),he.jsxs("p",{className:"address",children:[a.slice(0,8),"...",a.slice(-4)]}),he.jsx("p",{className:"hint",children:"Wallet saved. You can return to the dashboard."}),he.jsx("button",{onClick:()=>window.location.href="/dashboard",className:"btn-connect",children:"Return to Dashboard"}),c&&he.jsx("button",{onClick:()=>window.close(),className:"btn-close",children:"Close"})]}):he.jsxs(he.Fragment,{children:[he.jsx("p",{children:"No Solana Wallet Found"}),he.jsx("p",{className:"hint",children:"Please connect a Solana wallet (Phantom, Solflare, etc.)"}),he.jsx("button",{onClick:i,className:"btn-disconnect",children:"Try Again"}),he.jsx("button",{onClick:()=>window.location.href="/dashboard",className:"btn-close",children:"Back to Dashboard"})]})}):he.jsxs("div",{className:"auth-prompt",children:[he.jsx("p",{children:"Connect your Solana wallet"}),he.jsx("button",{onClick:r,className:"btn-connect",children:"Connect Wallet"})]})]})}):he.jsxs("div",{className:"dashboard",children:[he.jsxs("header",{className:"header",children:[he.jsxs("div",{className:"logo",children:[he.jsx("img",{src:"/website/logo-icon.jpg",alt:"LAUNCHR"}),he.jsx("span",{children:"LAUNCHR"})]}),he.jsxs("nav",{children:[he.jsx("a",{href:"/",children:"Home"}),he.jsx("a",{href:"/launchpad",children:"Launchpad"}),he.jsx("a",{href:"/dashboard",className:"active",children:"Dashboard"})]}),e?he.jsxs("div",{className:"wallet-info",children:[he.jsxs("span",{className:"address",children:[a?.slice(0,4),"...",a?.slice(-4)]}),he.jsx("button",{onClick:i,className:"btn-disconnect",children:"Disconnect"})]}):he.jsx("button",{onClick:r,className:"btn-connect",children:"Connect Wallet"})]}),he.jsxs("main",{className:"main",children:[he.jsx("h1",{children:"Creator Dashboard"}),e?he.jsx("div",{className:"connected-content",children:he.jsxs("div",{className:"wallet-card",children:[he.jsx("h2",{children:"Wallet Connected"}),he.jsxs("p",{children:[he.jsx("strong",{children:"Address:"})," ",a||"No wallet"]}),he.jsxs("p",{children:[he.jsx("strong",{children:"Email:"})," ",n?.email?.address||"N/A"]})]})}):he.jsxs("div",{className:"connect-prompt",children:[he.jsx("h2",{children:"Connect Your Wallet"}),he.jsx("p",{children:"Connect with email or your existing wallet to access the dashboard."}),he.jsx("button",{onClick:r,className:"btn-connect-large",children:"Connect with Privy"})]})]})]}):he.jsx("div",{className:"loading",children:"Loading Privy..."})}const aBe=JUe({shouldAutoConnect:!0});function oBe({children:t}){const[e,n]=Y.useState(null),[r,i]=Y.useState(null);return Y.useEffect(()=>{if(typeof window<"u"){const s=window.LAUNCHR_CONFIG?.PRIVY_APP_ID,a=window.LAUNCHR_CONFIG?.SOLANA_RPC;s&&(n(s),i(a||"https://api.mainnet-beta.solana.com"))}},[]),e?he.jsx(kUe,{appId:e,config:{loginMethods:["wallet"],appearance:{theme:"dark",accentColor:"#FFD966",walletChainType:"solana-only",walletList:["phantom","solflare","detected_solana_wallets"]},embeddedWallets:{createOnLogin:"off"},externalWallets:{solana:{connectors:aBe}},solanaClusters:[{name:"mainnet-beta",rpcUrl:r}]},children:t}):he.jsx("div",{className:"loading",children:"Loading..."})}nX.createRoot(document.getElementById("root")).render(he.jsx(Y.StrictMode,{children:he.jsx(oBe,{children:he.jsx(sBe,{})})}));export{NQ as $,Ane as A,Sne as B,dQ as C,Ate as D,M_ as E,Mre as F,Jee as G,Qee as H,eQ as I,LB as J,u1 as K,jB as L,U0 as M,IQ as N,CQ as O,OQ as P,kQ as Q,k4 as R,sQ as S,zB as T,lQ as U,R4 as V,jne as W,RQ as X,$Q as Y,cp as Z,FB as _,rQ as a,qg as a$,DQ as a0,d1 as a1,K3 as a2,UQ as a3,MQ as a4,qB as a5,BQ as a6,vBe as a7,Er as a8,_e as a9,LQ as aA,Bh as aB,ef as aC,lT as aD,hT as aE,pT as aF,yT as aG,fT as aH,uT as aI,dT as aJ,s0 as aK,mT as aL,q0 as aM,Eg as aN,nI as aO,W4 as aP,pp as aQ,i0 as aR,r0 as aS,Jg as aT,t0 as aU,Jd as aV,Ou as aW,Wg as aX,Fg as aY,Kg as aZ,fp as a_,SL as aa,Lne as ab,vT as ac,xne as ad,Tne as ae,s7 as af,Z0 as ag,mL as ah,gL as ai,cT as aj,lte as ak,ute as al,$_ as am,HB as an,WB as ao,VB as ap,zQ as aq,FQ as ar,qQ as as,Zy as at,Yne as au,xI as av,gte as aw,AL as ax,iI as ay,Ste as az,cQ as b,Kn as b$,$d as b0,zg as b1,Xg as b2,js as b3,Hg as b4,Vg as b5,ds as b6,Qg as b7,Gg as b8,Yg as b9,o$ as bA,j0 as bB,Ui as bC,Fne as bD,bf as bE,pI as bF,Mee as bG,B0 as bH,oi as bI,$n as bJ,V0 as bK,cI as bL,lI as bM,RL as bN,Dte as bO,ML as bP,Lte as bQ,J0 as bR,li as bS,zp as bT,ba as bU,Tee as bV,Ea as bW,Ri as bX,gf as bY,jQ as bZ,Tu as b_,n0 as ba,fte as bb,e0 as bc,hp as bd,Zg as be,Xh as bf,ete as bg,tte as bh,rte as bi,ite as bj,ste as bk,ate as bl,hL as bm,pL as bn,ote as bo,sae as bp,Bre as bq,Lre as br,jre as bs,z0 as bt,Xee as bu,f1 as bv,zne as bw,wf as bx,Mu as by,j_ as bz,oQ as c,zre as c$,Xd as c0,sL as c1,sT as c2,Us as c3,zee as c4,Fee as c5,Jc as c6,qee as c7,ln as c8,WQ as c9,wte as cA,Hr as cB,kL as cC,nL as cD,k_ as cE,See as cF,L0 as cG,Mne as cH,m1 as cI,Nre as cJ,OI as cK,qre as cL,C7 as cM,I7 as cN,wL as cO,pte as cP,sj as cQ,Ure as cR,$r as cS,Go as cT,II as cU,_re as cV,Ere as cW,UL as cX,V_ as cY,CI as cZ,T7 as c_,Bs as ca,TBe as cb,KQ as cc,$i as cd,YQ as ce,zd as cf,Xc as cg,GB as ch,Ar as ci,Ne as cj,lp as ck,xt as cl,sl as cm,Vne as cn,AT as co,Qd as cp,IL as cq,sI as cr,zo as cs,TL as ct,W0 as cu,xL as cv,u7 as cw,EI as cx,vte as cy,yl as cz,aQ as d,rb as d$,x7 as d0,eI as d1,as as d2,fL as d3,he as d4,Ru as d5,Sa as d6,xa as d7,lE as d8,Y as d9,tb as dA,epe as dB,HU as dC,H1 as dD,j3 as dE,h7e as dF,So as dG,Cue as dH,o1 as dI,e7e as dJ,D7e as dK,Xa as dL,M1 as dM,S_ as dN,tUe as dO,ULe as dP,Lc as dQ,VI as dR,P8e as dS,sUe as dT,oUe as dU,eUe as dV,ZLe as dW,d0 as dX,JLe as dY,Va as dZ,R7e as d_,Bu as da,Ae as db,tC as dc,f7e as dd,nUe as de,se as df,Due as dg,Cz as dh,BLe as di,Mze as dj,Jhe as dk,Oj as dl,Qhe as dm,Rue as dn,g7e as dp,CK as dq,L3 as dr,Gn as ds,uE as dt,que as du,Ize as dv,MLe as dw,gUe as dx,qo as dy,o7e as dz,iQ as e,NG as e$,et as e0,k7e as e1,r7e as e2,b7e as e3,N7e as e4,y7e as e5,I7e as e6,npe as e7,ble as e8,zLe as e9,jue as eA,T7e as eB,Vue as eC,eB as eD,Uze as eE,kJ as eF,M0 as eG,H3 as eH,Mp as eI,TJ as eJ,W3 as eK,D0 as eL,P0 as eM,N0 as eN,bUe as eO,NJ as eP,T_ as eQ,fG as eR,Fu as eS,dze as eT,c4e as eU,_r as eV,d4e as eW,fK as eX,zze as eY,PUe as eZ,Of as e_,jLe as ea,qLe as eb,FLe as ec,Kue as ed,wMe as ee,LLe as ef,Cze as eg,Wj as eh,jc as ei,kze as ej,UO as ek,xK as el,TK as em,F7e as en,z7e as eo,Gt as ep,q7e as eq,aae as er,F1 as es,Oue as et,Nh as eu,tB as ev,E7e as ew,Oze as ex,pMe as ey,yMe as ez,fQ as f,bB as f$,Sze as f0,xze as f1,f$e as f2,RUe as f3,jze as f4,$Ue as f5,mze as f6,b$e as f7,B4e as f8,Aze as f9,Kj as fA,n$e as fB,zK as fC,nG as fD,Ug as fE,hze as fF,iUe as fG,kz as fH,p7e as fI,x7e as fJ,A7e as fK,S7e as fL,s5 as fM,C7e as fN,O7e as fO,Pz as fP,hpe as fQ,zn as fR,M7e as fS,Jue as fT,d7e as fU,Dz as fV,Xue as fW,Gue as fX,Sz as fY,Du as fZ,gB as f_,Tze as fa,Lze as fb,Nze as fc,$ze as fd,Rze as fe,QMe as ff,mce as fg,Vd as fh,tI as fi,H_ as fj,qne as fk,z_ as fl,er as fm,Bze as fn,Pze as fo,Dze as fp,aL as fq,Iee as fr,kBe as fs,Bp as ft,HBe as fu,K_ as fv,SLe as fw,vF as fx,xLe as fy,$ke as fz,Up as g,Uu as g$,wB as g0,_B as g1,vB as g2,EB as g3,yE as g4,Cn as g5,ab as g6,G7e as g7,K7e as g8,fs as g9,Qpe as gA,yye as gB,Jpe as gC,gpe as gD,wye as gE,Mye as gF,$pe as gG,cye as gH,xye as gI,Za as gJ,J1 as gK,Q7e as gL,zF as gM,eje as gN,Vc as gO,ZF as gP,YF as gQ,w7e as gR,m7e as gS,Fe as gT,Fn as gU,y5 as gV,vn as gW,rP as gX,Cg as gY,ofe as gZ,j7e as g_,wpe as ga,Xo as gb,os as gc,Y7e as gd,V7e as ge,kpe as gf,ob as gg,Ta as gh,oo as gi,lv as gj,Ipe as gk,Yc as gl,m4 as gm,Ho as gn,Fpe as go,J7e as gp,VF as gq,Hpe as gr,ll as gs,aye as gt,eq as gu,GF as gv,H7e as gw,AC as gx,gE as gy,vye as gz,uQ as h,We as h0,ST as h1,io as h2,F0 as h3,Yo as h4,Nn as h5,Ite as h6,cj as h7,Ko as h8,rI as h9,c6e as hA,Ga as hB,Tf as hC,oO as hD,bTe as hE,aO as hF,FE as hG,I0 as hH,IC as hI,$D as hJ,NW as hK,U1e as hL,ff as hM,xu as hN,zE as hO,Co as hP,pa as hQ,Io as hR,EV as hS,al as ha,Fp as hb,KH as hc,Gxe as hd,Kxe as he,W9 as hf,y7 as hg,_T as hh,L_e as hi,dl as hj,xf as hk,lge as hl,ma as hm,cs as hn,Be as ho,ul as hp,P_e as hq,Ime as hr,$g as hs,L5 as ht,Hbe as hu,Mbe as hv,lpe as hw,B_e as hx,zs as hy,Nxe as hz,C4 as i,O4 as j,tQ as k,g7 as l,jI as m,rae as n,b1 as o,MB as p,iae as q,X_ as r,WBe as s,s$ as t,y1 as u,Ese as v,nae as w,u$ as x,i7 as y,yo as z};
