import{d4 as l,d5 as f,d6 as k,d7 as y,d9 as i,dP as C,df as g}from"./index-Cax8jish.js";import{n as h}from"./ScreenLayout-CNho46nP-B4LKwwT1.js";import{C as v}from"./circle-alert-fTH7YJ9Y.js";import{C as w}from"./circle-check-big-C4WmM-x0.js";import{c as b}from"./createLucideIcon-DHaPZvrP.js";import"./Button-BCV6mjvS-Ds3dQ567.js";import"./Screen-_0H_rCdH-BcqDJQ68.js";import"./ModalHeader-BTru6YQw-VHe3yaAt.js";import"./index-CJMgUOnw-Caq7k6r0.js";const S=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],x=b("ban",S),R=({appName:r,success:a,error:e,onRevoke:t,onDeny:s,onClose:o})=>l.jsx(h,a||e?{title:e?"Something went wrong":"Success!",subtitle:e?"Please try again.":"You've successfully revoked permissions.",icon:e?v:w,iconVariant:e?"error":"success",onBack:o,watermark:!0}:{title:"Revoke offline access to wallet",subtitle:`By confirming, ${r} will no longer be able to use this wallet on your behalf when you are not online.`,icon:x,primaryCta:{label:"Confirm",onClick:t},secondaryCta:{label:"Deny",onClick:s},onBack:o,watermark:!0}),M={component:()=>{let{data:r}=f(),a=k(),{closePrivyModal:e}=y(),[t,s]=i.useState(!1),[o,u]=i.useState(),{onRevoke:m,onSuccess:d,onError:p}=r.delegatedActions.revoke,n=async()=>{t?d():p(o??new g("User declined revoking access to their delegated wallet.")),e({shouldCallAuthOnSuccess:!1})};return i.useEffect((()=>{if(!t&&!o)return;let c=setTimeout(n,C);return()=>clearTimeout(c)}),[t,o]),l.jsx(R,{appName:a.name,success:t,error:o,onRevoke:async()=>{try{await m(),s(!0)}catch(c){u(c)}},onDeny:()=>{n()},onClose:n})}};export{M as DelegatedActionsRevokeScreen,R as DelegatedActionsRevokeScreenView,M as default};
