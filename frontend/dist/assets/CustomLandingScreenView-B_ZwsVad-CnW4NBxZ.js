import{d9 as u,d7 as A,d5 as P,d6 as F,e4 as U,fM as ce,fN as Ge,fO as Be,d4 as e,ds as R,fP as Ke,fQ as Ze,fR as Se,fS as Qe,eE as E,e6 as ee,ez as Xe,dq as V,ek as Me,fT as Je,fU as Ye,e0 as ea,fV as J,dA as Te,d_ as $e}from"./index-B4-LruoG.js";import{y as aa,h as Ae,s as ta,F as ia}from"./ModalHeader-BTru6YQw-mNrl3KWP.js";import{X as la,P as se,e as oe}from"./ConnectWalletView-Cmm9Ulis-EJ2kEQKb.js";import{j as ra}from"./ConnectEmailForm-DtLW0rv7-CrOOBUuf.js";import{l as de}from"./Chip-Bsgj4Yc--DLvCxFhp.js";import{l as na}from"./farcaster-DPlSjvF5-DfOSHB_P.js";import{F as sa}from"./FingerPrintIcon-BgyZPh4D.js";import{n as oa}from"./Link-DwjLfHwW-DRgmyHjJ.js";import{w as ca}from"./ConnectPhoneForm-OQSgPQxP-DlQVabSE.js";import{B as da,C as pa,o as ua,d as ha,h as ga,n as fa,s as ma,r as ya,l as xa,e as wa,i as ja}from"./twitch-5IOe4sIQ-BTcj9Yab.js";import{c as va}from"./telegram-B-JqnkqZ-XUJJDdUp.js";import{l as Ca}from"./WalletOverflowButton-BT_VMZP5-DV82rIdb.js";import{n as ka}from"./ScreenLayout-CNho46nP-D6C5Lh0T.js";import{M as Ee}from"./mail-D7RksUnd.js";import{c as Le}from"./createLucideIcon-GrZhq5Lq.js";const ba=(a,t=!0)=>a.reduce(((r,n)=>({...r,[n]:t})),{});const Sa=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],Ma=Le("circle-user",Sa);const Ta=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],Ne=Le("smartphone",Ta);function $a({title:a,titleId:t,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),a?u.createElement("title",{id:t},a):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Aa=u.forwardRef($a),Ie=()=>{let a=F(),t=a?.appearance?.logo,r=`${a?.name} logo`,n={maxHeight:"90px",maxWidth:"180px"};return t?typeof t=="string"?e.jsx("img",{src:t,alt:r,style:n}):t.type==="svg"||t.type==="img"?ea.cloneElement(t,{alt:r,style:n}):(console.warn("`config.appearance.logo` must be a string, or an SVG / IMG element. Nothing will be rendered."),null):null},Ea=a=>F()?.appearance.logo?e.jsx(La,{...a,children:e.jsx(Ie,{})}):null,La=R.div.withConfig({displayName:"AppLogoContainer",componentId:"sc-b210074-0"})(["display:flex;flex-direction:column;align-items:center;padding:24px 0;flex-grow:1;justify-content:center;"]),Na=({name:a,logoUrl:t,size:r="38px"})=>typeof t=="string"?e.jsx("img",{src:t,alt:`${a??"Provider app"} logo`,style:{width:r,height:r,maxHeight:"90px",maxWidth:"180px",borderRadius:"8px"}}):e.jsx("span",{}),We=({appId:a})=>{let[t,r]=u.useState(void 0),{startCrossAppAuthFlow:n,authenticated:m}=Te(),{client:h}=A();return u.useEffect((()=>{(async()=>h&&r(await h.getCrossAppProviderDetails(a)))()}),[h]),e.jsx(E,{onClick:()=>n({appId:a,action:m?"link":"login"}),disabled:!t,children:t?e.jsxs(e.Fragment,{children:[e.jsx(Na,{name:t.name,logoUrl:t.icon_url||void 0,size:"24px"})," ",t.name]}):e.jsx($e,{})})},Pe=({isEditable:a,setIsEditable:t,defaultValue:r})=>{let n=u.useRef(null);return e.jsxs(e.Fragment,{children:[e.jsx(J,{$if:!a,children:e.jsx(ra,{ref:n,defaultValue:r})}),e.jsx(J,{$if:a,children:e.jsxs(E,{onClick:()=>{t(),setTimeout((()=>{n.current?.focus()}),0)},children:[e.jsx(ee,{children:e.jsx(Ee,{})}),"Continue with Email"]})})]})},Fe=()=>{let[a,t]=u.useState(!1),{currentScreen:r,navigate:n,setModalData:m,data:h}=P(),{enabled:s,token:o}=V(),{initLoginWithFarcaster:f}=A(),{accountType:c}=U();return e.jsxs(E,{onClick:async()=>{t(!0);try{s&&!o?(m({captchaModalData:{callback:d=>f(d,h?.login?.disableSignup),userIntentRequired:!0,onSuccessNavigateTo:"FarcasterConnectStatusScreen",onErrorNavigateTo:"ErrorScreen"}}),n("CaptchaScreen")):(await f(o,h?.login?.disableSignup),n("FarcasterConnectStatusScreen"))}catch(d){m({errorModalData:{error:d,previousScreen:r||"LandingScreen"}}),n("ErrorScreen")}finally{t(!1)}},disabled:!1,children:[e.jsx(na,{width:32,height:32})," Farcaster",a&&e.jsx($e,{}),c==="farcaster"&&e.jsx(Ia,{color:"gray",children:"Recent"})]})};let Ia=R(de).withConfig({displayName:"StyledChip",componentId:"sc-2f1c7323-0"})(["margin-left:auto;"]);const Wa=({...a})=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",viewBox:"0 0 25 25",fill:"none",...a,children:[e.jsxs("g",{clipPath:"url(#clip0_2856_1743)",children:[e.jsx("path",{d:"M22.1673 8.24075V16.3642C22.1673 17.3256 21.3421 18.105 20.3241 18.105H17.0028M22.1673 8.24075C22.1673 7.27936 21.3421 6.5 20.3241 6.5H11.5302M22.1673 8.24075V8.42852C22.1673 9.03302 21.8352 9.59423 21.2901 9.91105L15.1463 13.4818C14.5539 13.8261 13.8067 13.8261 13.2143 13.4818L10.1621 11.5401",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M3.12913 6.64816C0.508085 12.9507 3.49251 20.1847 9.79504 22.8057L11.5068 23.5176C12.4522 23.9108 13.7783 23.2222 14.1714 22.2768L14.6054 21.2333C14.7687 20.8406 14.6438 20.3871 14.3024 20.1334L11.2872 17.8927C10.9878 17.6702 10.5843 17.6488 10.2632 17.8384L9.11575 18.5156C8.78274 18.7121 8.3597 18.6844 8.07552 18.4221C5.94293 16.4542 4.77629 13.6264 4.90096 10.7273C4.91757 10.3409 5.19796 10.023 5.57269 9.92753L6.86381 9.59869C7.22522 9.50664 7.49627 9.20696 7.55169 8.83815L8.10986 5.12321C8.17306 4.70259 7.94188 4.29293 7.54915 4.1296L6.50564 3.69564C5.56026 3.30248 4.23416 3.99103 3.84101 4.9364L3.12913 6.64816Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),e.jsx("defs",{children:e.jsx("clipPath",{id:"clip0_2856_1743",children:e.jsx("rect",{x:"0.5",y:"0.5",width:"24",height:"24",rx:"6",fill:"white"})})})]}),be=({chainType:a,withPadding:t})=>{let r="";return r=a==="ethereum-only"||a==="ethereum-and-solana"?"Rainbow, Phantom, or Coinbase Wallet":"Phantom or Solflare",e.jsx(Je,{$withPadding:t,children:e.jsxs(Ye,{children:[e.jsx(ia,{style:{color:"var(--privy-color-warn)",height:48,width:48}}),e.jsx("h3",{children:"No wallets available"}),e.jsxs("p",{children:["Please download an external wallet provider, like ",r,"."]})]})},"empty-wallet-state")},Re=()=>{let{enabled:a,token:t}=V(),{navigate:r,setModalData:n,data:m}=P(),h=F(),{initLoginWithPasskey:s}=A(),o=()=>{h.loginConfig.passkeysForSignupEnabled?r("PasskeySelectSignupOrLogin"):(async()=>a&&!t?(n({passkeyAuthModalData:{passkeySignupFlow:!1},captchaModalData:{callback:f=>s({captchaToken:f,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:"PasskeyStatusScreen",onErrorNavigateTo:"ErrorScreen"}}),r("CaptchaScreen")):(await s({withPrivyUi:!0,captchaToken:t}),n({passkeyAuthModalData:{passkeySignupFlow:!1}}),r("PasskeyStatusScreen")))()};return u.useMemo((()=>{let f=m?.login?.loginMethods;return f?f.filter((c=>c!=="passkey")).length:Object.entries(h.loginMethods).filter((([c,d])=>d)).filter((([c])=>c!=="passkey")).length}),[h.loginMethods,m?.login])===0?e.jsxs(E,{onClick:o,children:[e.jsx(sa,{})," Continue with passkey"]}):e.jsx(oa,{as:"button",onClick:o,size:"sm",variant:"navigation",style:{width:"100%",justifyContent:"center"},children:"I have a passkey"})},De=({isEditable:a,setIsEditable:t,defaultValue:r})=>{let n=u.useRef(null),{authenticated:m}=Te(),{navigate:h,setModalData:s,currentScreen:o,data:f}=P(),{initLoginWithSms:c}=A(),{enabled:d,token:y}=V(),{whatsAppEnabled:C}=F();return e.jsxs(e.Fragment,{children:[e.jsx(J,{$if:!a,children:e.jsx(ca,{ref:n,onSubmit:async function({qualifiedPhoneNumber:x}){if(!d||y||m)try{await c({phoneNumber:x,captchaToken:y,withPrivyUi:!0,disableSignup:f?.login?.disableSignup}),h("AwaitingPasswordlessCodeScreen")}catch(p){s({errorModalData:{error:p,previousScreen:o||"LandingScreen"}}),h("ErrorScreen")}else s({captchaModalData:{callback:p=>c({phoneNumber:x,captchaToken:p,withPrivyUi:!0,disableSignup:f?.login?.disableSignup}),userIntentRequired:!1,onSuccessNavigateTo:"AwaitingPasswordlessCodeScreen",onErrorNavigateTo:"ErrorScreen"}}),h("CaptchaScreen")},defaultValue:r})}),e.jsx(J,{$if:a,children:e.jsxs(E,{onClick:()=>{t(),setTimeout((()=>{n.current?.focus()}),0)},children:[e.jsx(ee,{children:e.jsx(Ne,{})}),"Continue with ",C?"WhatsApp":"SMS"]})})]})};let Pa={apple:{logo:ja,displayName:"Apple"},discord:{logo:wa,displayName:"Discord"},github:{logo:xa,displayName:"GitHub"},google:{logo:ya,displayName:"Google"},linkedin:{logo:ma,displayName:"LinkedIn"},spotify:{logo:fa,displayName:"Spotify"},instagram:{logo:ga,displayName:"Instagram"},twitter:{logo:ha,displayName:"Twitter"},tiktok:{logo:ua,displayName:"TikTok"},line:{logo:pa,displayName:"LINE"},twitch:{logo:da,displayName:"Twitch"}};const g=({provider:a})=>{let{enabled:t,token:r}=V(),{navigate:n,setModalData:m,data:h}=P(),[s,o]=u.useState(!1),f=F(),{initLoginWithOAuth:c}=A(),{accountType:d}=U(),y=u.useMemo((()=>d&&d!=="guest"&&d!=="authorization_key"&&d!=="cross_app"?ce(d):null),[d]),{displayName:C,logo:x}=u.useMemo((()=>{if(Me(a)){let p=f.customOAuthProviders.find((S=>S.provider===a)),k=p.provider_icon_url,w=p.provider_display_name;return{displayName:w,logo:({style:S})=>e.jsx("img",{alt:`${w} logo`,src:k,style:S})}}return Pa[a]}),[a,f.customOAuthProviders]);return e.jsxs(E,{onClick:()=>{o(!0),setTimeout((()=>{o(!1)}),2e3),t&&!r?(m({captchaModalData:{callback:p=>c(a,p,h?.login?.disableSignup),userIntentRequired:!0,onSuccessNavigateTo:null,onErrorNavigateTo:"ErrorScreen"}}),n("CaptchaScreen")):c(a,void 0,h?.login?.disableSignup)},disabled:s,children:[e.jsx(ee,{$fullSize:!0,children:e.jsx(x,{style:{width:"32px",height:"32px"}})}),C,y?.loginMethod===a&&e.jsx(Fa,{color:"gray",children:"Recent"})]})};let Fa=R(de).withConfig({displayName:"StyledChip",componentId:"sc-e74c7091-0"})(["margin-left:auto;"]);const Oe=()=>{let{enabled:a,token:t}=V(),{navigate:r,setModalData:n,data:m}=P(),[h,s]=u.useState(!1),{initLoginWithTelegram:o}=A(),{accountType:f}=U();async function c(d){try{await o(d,m?.login?.disableSignup),n({telegramAuthModalData:{seamlessAuth:!1}}),r("TelegramAuthScreen")}catch(y){console.error(y),s(!1)}}return e.jsxs(E,{onClick:async function(){if(s(!0),a&&!t)return n({captchaModalData:{callback:c,userIntentRequired:!0,onSuccessNavigateTo:null,onErrorNavigateTo:"ErrorScreen"}}),void r("CaptchaScreen");await c(t)},disabled:h,children:[e.jsx(va,{width:32,height:32}),"Telegram",f==="telegram"&&e.jsx(Ra,{color:"gray",children:"Recent"})]})};let Ra=R(de).withConfig({displayName:"StyledChip",componentId:"sc-639dd483-0"})(["margin-left:auto;"]);const _e=({onClick:a,text:t,icon:r})=>e.jsxs(E,{onClick:a,children:[e.jsx(ee,{children:r}),e.jsx(Xe,{children:t})]}),nt=({connectOnly:a})=>{let{closePrivyModal:t}=A(),{data:r,setModalData:n,onUserCloseViaDialogOrKeybindRef:m,navigate:h}=P(),s=F(),o=r?.login,f=s.appearance.walletList,c=o?.walletChainType??s.appearance.walletChainType,{accountType:d,walletClientType:y,chainType:C}=U(),x=u.useMemo((()=>d&&d!=="guest"&&d!=="authorization_key"&&d!=="cross_app"?ce(d):null),[d]),{email:p,sms:k,google:w,twitter:S,discord:T,github:O,spotify:z,instagram:L,tiktok:q,line:ae,twitch:_,linkedin:H,apple:G,wallet:j,farcaster:te,telegram:B}=u.useMemo((()=>o?.loginMethods?ba(o.loginMethods,!0):null),[o])??s.loginMethods,{wallets:l}=la({enabled:Qe(j?f:[]),walletList:f,walletChainType:c}),N=s.customOAuthProviders,K=s.crossAppProviders,{passkey:Z}=s.loginMethods,I=[p&&"email",k&&"sms",w&&"google",S&&"twitter",T&&"discord",O&&"github",z&&"spotify",L&&"instagram",q&&"tiktok",ae&&"line",_&&"twitch",H&&"linkedin",G&&"apple",te&&"farcaster",B&&"telegram",...N.map((i=>i.provider)),...K].filter((i=>!!i)),Q=I.length>0,b=u.useMemo((()=>j&&!Q?"web3-first":j&&s?.appearance.loginGroupPriority||"web2-first"),[j,Q,s?.appearance.loginGroupPriority]),Ue=s?.appearance.hideDirectWeb2Inputs,[M,ie]=u.useState("default"),[pe,le]=u.useState(Y({mostRecentlyUsedAccountType:d,smsAvailable:k,emailAvailable:p,prefilledType:o?.prefill?.type}));u.useEffect((()=>{le(Y({mostRecentlyUsedAccountType:d,smsAvailable:k,emailAvailable:p,prefilledType:o?.prefill?.type}))}),[p,k,d]);let ue=()=>{t({shouldCallAuthOnSuccess:!0}),setTimeout((()=>{ie("default")}),150)};m.current=ue;let re=[];y&&j?re.push(y):x?.loginMethod&&I.includes(x.loginMethod)&&re.push(x.loginMethod);let he=i=>{if(i==="email")return e.jsx(Pe,{isEditable:pe==="email",setIsEditable:()=>{le("email")},defaultValue:o?.prefill?.type==="email"?o.prefill.value:void 0},i);if(i==="sms")return e.jsx(De,{isEditable:pe==="sms",setIsEditable:()=>{le("sms")},defaultValue:o?.prefill?.type==="phone"?o.prefill.value:void 0},i);if(i==="apple")return e.jsx(g,{provider:"apple"},i);if(i==="discord")return e.jsx(g,{provider:"discord"},i);if(i==="farcaster")return e.jsx(Fe,{},i);if(i==="github")return e.jsx(g,{provider:"github"},i);if(i==="google")return e.jsx(g,{provider:"google"},i);if(i==="linkedin")return e.jsx(g,{provider:"linkedin"},i);if(i==="tiktok")return e.jsx(g,{provider:"tiktok"},i);if(i==="line")return e.jsx(g,{provider:"line"},i);if(i==="twitch")return e.jsx(g,{provider:"twitch"},i);if(i==="spotify")return e.jsx(g,{provider:"spotify"},i);if(i==="instagram")return e.jsx(g,{provider:"instagram"},i);if(i==="twitter")return e.jsx(g,{provider:"twitter"},i);if(i==="telegram")return e.jsx(Oe,{},i);if(Me(i))return e.jsx(g,{provider:i},i);if(i.startsWith("privy:")){let $=i.split(":")[1];if(!$)throw Error("Invalid cross-app provider format. App ID missing.");return e.jsx(We,{appId:$},i)}let ne=l.findIndex((({id:$})=>$===se.normalize(i))),X=C==="solana"?"solana-only":"ethereum-only";return e.jsx(oe,{recent:!0,index:ne,data:{wallets:l,walletChainType:X,handleWalletClick($){n((He=>({...He,externalConnectWallet:{walletList:f,walletChainType:X,preSelectedWalletId:$.id}}))),h(a?"ConnectOnlyLandingScreen":"AuthenticateWithWalletScreen")}}})},ge=l.filter((i=>i.id!==se.normalize(y||""))),W=ge.map(((i,ne)=>e.jsx(oe,{index:ne,data:{walletChainType:c,wallets:ge,handleWalletClick(X){n(($=>({...$,externalConnectWallet:{walletList:f,walletChainType:c,preSelectedWalletId:X.id}}))),h(a?"ConnectOnlyLandingScreen":"AuthenticateWithWalletScreen")}}},i.id))),v=I.filter((i=>i!==x?.loginMethod)).flatMap(he),fe=re.flatMap(he);b==="web3-first"&&M==="default"?W.unshift(...fe):b==="web2-first"&&v.unshift(...fe);let me=M==="web2-overflow"?()=>ie("default"):void 0,ye=I.filter((i=>i!=="email"&&i!=="sms")),Ve=_a({priority:b,email:p,sms:k,social:ye}),ze=Ua({priority:b,email:p,sms:k,social:ye}),xe=e.jsx(Ca,{text:Va({priority:b}),onClick:()=>{n({...r,externalConnectWallet:{walletChainType:o?.walletChainType??s.appearance.walletChainType}}),h(a?"ConnectOnlyLandingScreen":"AuthenticateWithWalletScreen")}}),we=e.jsx(_e,{text:Ve,icon:ze,onClick:()=>ie("web2-overflow")}),je=Ue?0:1,ve=j&&W.length>0,Ce=v.length===0&&j&&W.length===0,D=5-(ve?1:0),ke=M==="default"&&s?.appearance.logo,qe=M==="default"&&s.appearance.loginMessage;return e.jsxs(ka,{title:s.appearance.landingHeader,icon:ke?e.jsx(Ie,{}):void 0,iconVariant:ke?"logo":void 0,onClose:ue,showClose:!0,onBack:me,showBack:!!me,helpText:s||Z&&M==="default"?e.jsxs(e.Fragment,{children:[Z&&M==="default"&&e.jsx(Re,{}),s&&e.jsx(Ae,{app:s})]}):void 0,watermark:!0,children:[qe&&(typeof s.appearance.loginMessage=="string"?e.jsx(Da,{children:s.appearance.loginMessage}):e.jsx(Oa,{children:s.appearance.loginMessage})),e.jsx(Se,{$colorScheme:s.appearance.palette.colorScheme,children:M==="default"&&b==="web2-first"?e.jsxs(e.Fragment,{children:[v.length>D?v.slice(0,D-1):v,v.length>D&&we,ve&&xe,Ce&&e.jsx(be,{chainType:s.appearance.walletChainType})]}):M==="default"&&b==="web3-first"?e.jsxs(e.Fragment,{children:[j&&e.jsxs(e.Fragment,{children:[W.length>D?W.slice(0,D-1):W,W.length>D&&xe]}),v.length>je&&we,v.length===je&&v[0],Ce&&e.jsx(be,{chainType:s.appearance.walletChainType})]}):M==="web2-overflow"?e.jsx(e.Fragment,{children:b==="web3-first"?v:v.slice(3)}):null})]})};let Da=R.div.withConfig({displayName:"StyledSubtitle",componentId:"sc-c85d71fe-0"})(["text-align:center;font-size:14px;margin-bottom:24px;"]),Oa=R.div.withConfig({displayName:"MessageContainer",componentId:"sc-c85d71fe-1"})(["margin-bottom:24px;"]),_a=({priority:a,email:t,sms:r,social:n})=>a==="web2-first"?"Other socials":t&&r&&n.length>0||t&&n.length>0?"Log in with email or socials":r&&n.length>0?"Log in with sms or socials":t&&r?"Continue with email or sms":t?"Continue with email":r?"Continue with sms":"Log in with a social account",Ua=({priority:a,email:t,sms:r,social:n})=>a==="web2-first"||n.length>0?e.jsx(Ma,{}):t&&r?e.jsx(Wa,{}):t?e.jsx(Ee,{}):r?e.jsx(Ne,{}):null,Va=({priority:a})=>a==="web2-first"?"Continue with a wallet":"Other wallets";const Y=({mostRecentlyUsedAccountType:a,smsAvailable:t,emailAvailable:r,prefilledType:n})=>r&&(a==="email"&&n!=="phone"||n==="email")||!t||a!=="phone"&&n!=="phone"?"email":"sms",st=({connectOnly:a})=>{let{closePrivyModal:t,connectors:r}=A(),{data:n,setModalData:m,onUserCloseViaDialogOrKeybindRef:h,navigate:s}=P(),o=F(),f=o.appearance.palette.colorScheme,{accountType:c,walletClientType:d}=U(),y=u.useMemo((()=>c&&c!=="guest"&&c!=="authorization_key"&&c!=="cross_app"?ce(c):null),[c]),C=o.loginMethodsAndOrder?.primary??[],x=o.loginMethodsAndOrder?.overflow??[],p=u.useMemo((()=>[...C,...x]),[C,x]),k=o.loginMethods.passkey,w=n?.login,S=[];d&&p.includes(d)?S.push(d):c&&p.includes(y?.loginMethod)&&S.push(y?.loginMethod);let[T,O]=u.useState("default"),[z,L]=u.useState(Y({mostRecentlyUsedAccountType:c,smsAvailable:p.includes("sms"),emailAvailable:p.includes("email"),prefilledType:w?.prefill?.type}));u.useEffect((()=>{L(Y({mostRecentlyUsedAccountType:c,smsAvailable:p.includes("sms"),emailAvailable:p.includes("email"),prefilledType:w?.prefill?.type}))}),[p,c]),u.useEffect((()=>{c==="phone"&&L("sms");let l=p.indexOf("sms"),N=p.indexOf("email");l>-1&&l<N&&L("sms")}),[c,C,x]);let q=()=>{t({shouldCallAuthOnSuccess:!0}),setTimeout((()=>{O("default")}),150)};h.current=q;let{listings:ae}=Ge(),_=l=>{if(l==="email")return e.jsx(Pe,{isEditable:z==="email",setIsEditable:()=>{L("email")},defaultValue:w?.prefill?.type==="email"?w.prefill.value:void 0},l);if(l==="sms")return e.jsx(De,{isEditable:z==="sms",setIsEditable:()=>{L("sms")},defaultValue:w?.prefill?.type==="phone"?w.prefill.value:void 0},l);if(l==="apple")return e.jsx(g,{provider:"apple"},l);if(l==="discord")return e.jsx(g,{provider:"discord"},l);if(l==="farcaster")return e.jsx(Fe,{},l);if(l==="github")return e.jsx(g,{provider:"github"},l);if(l==="google")return e.jsx(g,{provider:"google"},l);if(l==="linkedin")return e.jsx(g,{provider:"linkedin"},l);if(l==="spotify")return e.jsx(g,{provider:"spotify"},l);if(l==="instagram")return e.jsx(g,{provider:"instagram"},l);if(l==="tiktok")return e.jsx(g,{provider:"tiktok"},l);if(l==="line")return e.jsx(g,{provider:"line"},l);if(l==="twitch")return e.jsx(g,{provider:"twitch"},l);if(l==="twitter")return e.jsx(g,{provider:"twitter"},l);if(l==="telegram")return e.jsx(Oe,{},l);if(l.startsWith("privy:"))return e.jsx(We,{appId:l.replace("privy:","")},l);let N=o.appearance.walletChainType,K=new se(N,[l]).getWallets(r,ae);return K.wallets.map(((Z,I)=>e.jsx(oe,{index:I,data:{wallets:K.wallets,walletChainType:N,handleWalletClick(Q){m((b=>({...b,externalConnectWallet:{walletList:p,walletChainType:N,preSelectedWalletId:Q.id}}))),s(a?"ConnectOnlyLandingScreen":"AuthenticateWithWalletScreen")}}},Z.id+I)))},H=S.flatMap(_),G=C.filter((l=>l!==d&&l!==y?.loginMethod)).flatMap(_),j=x.filter((l=>l!==d&&l!==y?.loginMethod)).flatMap(_),[te,B]=Be([...H,...G,...j],za({primary:G.length+H.length,overflow:j.length}));return e.jsxs(e.Fragment,{children:[e.jsx(aa,{title:o.appearance.landingHeader,onClose:q,backFn:T==="default"?void 0:()=>{O("default")}}),T==="default"&&e.jsx(qa,{}),T==="default"&&(typeof o.appearance.loginMessage=="string"?e.jsx(Ke,{children:o.appearance.loginMessage}):o.appearance.loginMessage),e.jsx(Ze,{style:{overflow:"hidden"},children:e.jsxs(Se,{$colorScheme:f,children:[T==="default"&&e.jsxs(e.Fragment,{children:[te,B.length>0&&e.jsx(_e,{text:"More options",icon:e.jsx(Aa,{}),onClick:()=>O("overflow")})]}),T==="overflow"&&e.jsx(e.Fragment,{children:B}),k&&T==="default"&&e.jsx(Re,{})]})}),o&&e.jsx(Ae,{app:o}),e.jsx(ta,{})]})};let za=({primary:a,overflow:t})=>a<5?a:a===5&&t===0?5:4,qa=R(Ea).withConfig({displayName:"StyledAppLogoHeader",componentId:"sc-ead54d53-0"})(["margin-bottom:16px;"]);export{st as P,nt as x};
