import{d9 as y,fQ as Pe,d6 as he,d7 as ue,fM as Qe,fR as Ce,fS as Ge,dw as Ke,dy as W,fT as Se,d4 as o,db as Ye,ds as j,e6 as Xe,fU as Ze,fH as Je,fV as re,fW as _e,fX as Oe,fY as ze}from"./index-CFG-wFBU.js";import{c as je}from"./Button-BCV6mjvS-Diy1onH6.js";import{c as et}from"./copy-Bx2Jwc5_-DFs1lm2o.js";import{n as tt}from"./Link-DwjLfHwW-C1ckZe9L.js";import{h as nt}from"./ModalHeader-BTru6YQw-DYdjiBJP.js";import{x as it}from"./QrCode-Oxn5GT3C-ChCQENgf.js";import{a as st}from"./EmailInputForm-B4hjCxRU-ENk5Mswa.js";import{n as me}from"./useI18n-99pFPsz3-CZygOrIb.js";import{e as lt}from"./WalletCards-DH1rqayz-BDiQH5cx.js";import{w as Q}from"./Screen-_0H_rCdH-_AHEcb1T.js";function G(c,a,e){let n=e.initialDeps??[],t,s=!0;function d(){var r,p,i;let h;e.key&&((r=e.debug)!=null&&r.call(e))&&(h=Date.now());const g=c();if(!(g.length!==n.length||g.some((f,C)=>n[C]!==f)))return t;n=g;let x;if(e.key&&((p=e.debug)!=null&&p.call(e))&&(x=Date.now()),t=a(...g),e.key&&((i=e.debug)!=null&&i.call(e))){const f=Math.round((Date.now()-h)*100)/100,C=Math.round((Date.now()-x)*100)/100,w=C/16,S=(u,T)=>{for(u=String(u);u.length<T;)u=" "+u;return u};console.info(`%câ± ${S(C,5)} /${S(f,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*w,120))}deg 100% 31%);`,e?.key)}return e?.onChange&&!(s&&e.skipInitialOnChange)&&e.onChange(t),s=!1,t}return d.updateDeps=r=>{n=r},d}function Me(c,a){if(c===void 0)throw new Error("Unexpected undefined");return c}const ot=(c,a)=>Math.abs(c-a)<1.01,at=(c,a,e)=>{let n;return function(...t){c.clearTimeout(n),n=c.setTimeout(()=>a.apply(this,t),e)}},Ee=c=>{const{offsetWidth:a,offsetHeight:e}=c;return{width:a,height:e}},rt=c=>c,ct=c=>{const a=Math.max(c.startIndex-c.overscan,0),e=Math.min(c.endIndex+c.overscan,c.count-1),n=[];for(let t=a;t<=e;t++)n.push(t);return n},dt=(c,a)=>{const e=c.scrollElement;if(!e)return;const n=c.targetWindow;if(!n)return;const t=d=>{const{width:r,height:p}=d;a({width:Math.round(r),height:Math.round(p)})};if(t(Ee(e)),!n.ResizeObserver)return()=>{};const s=new n.ResizeObserver(d=>{const r=()=>{const p=d[0];if(p?.borderBoxSize){const i=p.borderBoxSize[0];if(i){t({width:i.inlineSize,height:i.blockSize});return}}t(Ee(e))};c.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(r):r()});return s.observe(e,{box:"border-box"}),()=>{s.unobserve(e)}},ke={passive:!0},We=typeof window>"u"?!0:"onscrollend"in window,ht=(c,a)=>{const e=c.scrollElement;if(!e)return;const n=c.targetWindow;if(!n)return;let t=0;const s=c.options.useScrollendEvent&&We?()=>{}:at(n,()=>{a(t,!1)},c.options.isScrollingResetDelay),d=h=>()=>{const{horizontal:g,isRtl:m}=c.options;t=g?e.scrollLeft*(m&&-1||1):e.scrollTop,s(),a(t,h)},r=d(!0),p=d(!1);p(),e.addEventListener("scroll",r,ke);const i=c.options.useScrollendEvent&&We;return i&&e.addEventListener("scrollend",p,ke),()=>{e.removeEventListener("scroll",r),i&&e.removeEventListener("scrollend",p)}},ut=(c,a,e)=>{if(a?.borderBoxSize){const n=a.borderBoxSize[0];if(n)return Math.round(n[e.options.horizontal?"inlineSize":"blockSize"])}return c[e.options.horizontal?"offsetWidth":"offsetHeight"]},mt=(c,{adjustments:a=0,behavior:e},n)=>{var t,s;const d=c+a;(s=(t=n.scrollElement)==null?void 0:t.scrollTo)==null||s.call(t,{[n.options.horizontal?"left":"top"]:d,behavior:e})};class ft{constructor(a){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.laneAssignments=new Map,this.pendingMeasuredCacheIndexes=[],this.prevLanes=void 0,this.lanesChangedFlag=!1,this.lanesSettling=!1,this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let e=null;const n=()=>e||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:e=new this.targetWindow.ResizeObserver(t=>{t.forEach(s=>{const d=()=>{this._measureElement(s.target,s)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(d):d()})}));return{disconnect:()=>{var t;(t=n())==null||t.disconnect(),e=null},observe:t=>{var s;return(s=n())==null?void 0:s.observe(t,{box:"border-box"})},unobserve:t=>{var s;return(s=n())==null?void 0:s.unobserve(t)}}})(),this.range=null,this.setOptions=e=>{Object.entries(e).forEach(([n,t])=>{typeof t>"u"&&delete e[n]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:rt,rangeExtractor:ct,onChange:()=>{},measureElement:ut,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...e}},this.notify=e=>{var n,t;(t=(n=this.options).onChange)==null||t.call(n,this,e)},this.maybeNotify=G(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),e=>{this.notify(e)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(e=>e()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var e;const n=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==n){if(this.cleanup(),!n){this.maybeNotify();return}this.scrollElement=n,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((e=this.scrollElement)==null?void 0:e.window)??null,this.elementsCache.forEach(t=>{this.observer.observe(t)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,t=>{this.scrollRect=t,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(t,s)=>{this.scrollAdjustments=0,this.scrollDirection=s?this.getScrollOffset()<t?"forward":"backward":null,this.scrollOffset=t,this.isScrolling=s,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(e,n)=>{const t=new Map,s=new Map;for(let d=n-1;d>=0;d--){const r=e[d];if(t.has(r.lane))continue;const p=s.get(r.lane);if(p==null||r.end>p.end?s.set(r.lane,r):r.end<p.end&&t.set(r.lane,!0),t.size===this.options.lanes)break}return s.size===this.options.lanes?Array.from(s.values()).sort((d,r)=>d.end===r.end?d.index-r.index:d.end-r.end)[0]:void 0},this.getMeasurementOptions=G(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled,this.options.lanes],(e,n,t,s,d,r)=>(this.prevLanes!==void 0&&this.prevLanes!==r&&(this.lanesChangedFlag=!0),this.prevLanes=r,this.pendingMeasuredCacheIndexes=[],{count:e,paddingStart:n,scrollMargin:t,getItemKey:s,enabled:d,lanes:r}),{key:!1,skipInitialOnChange:!0,onChange:()=>{this.notify(this.isScrolling)}}),this.getMeasurements=G(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:e,paddingStart:n,scrollMargin:t,getItemKey:s,enabled:d,lanes:r},p)=>{if(!d)return this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),[];if(this.laneAssignments.size>e)for(const m of this.laneAssignments.keys())m>=e&&this.laneAssignments.delete(m);this.lanesChangedFlag&&(this.lanesChangedFlag=!1,this.lanesSettling=!0,this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),this.pendingMeasuredCacheIndexes=[]),this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(m=>{this.itemSizeCache.set(m.key,m.size)}));const i=this.lanesSettling?0:this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[],this.lanesSettling&&this.measurementsCache.length===e&&(this.lanesSettling=!1);const h=this.measurementsCache.slice(0,i),g=new Array(r).fill(void 0);for(let m=0;m<i;m++){const x=h[m];x&&(g[x.lane]=m)}for(let m=i;m<e;m++){const x=s(m),f=this.laneAssignments.get(m);let C,w;if(f!==void 0&&this.options.lanes>1){C=f;const _=g[C],D=_!==void 0?h[_]:void 0;w=D?D.end+this.options.gap:n+t}else{const _=this.options.lanes===1?h[m-1]:this.getFurthestMeasurement(h,m);w=_?_.end+this.options.gap:n+t,C=_?_.lane:m%this.options.lanes,this.options.lanes>1&&this.laneAssignments.set(m,C)}const S=p.get(x),u=typeof S=="number"?S:this.options.estimateSize(m),T=w+u;h[m]={index:m,start:w,size:u,end:T,key:x,lane:C},g[C]=m}return this.measurementsCache=h,h},{key:!1,debug:()=>this.options.debug}),this.calculateRange=G(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(e,n,t,s)=>this.range=e.length>0&&n>0?pt({measurements:e,outerSize:n,scrollOffset:t,lanes:s}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=G(()=>{let e=null,n=null;const t=this.calculateRange();return t&&(e=t.startIndex,n=t.endIndex),this.maybeNotify.updateDeps([this.isScrolling,e,n]),[this.options.rangeExtractor,this.options.overscan,this.options.count,e,n]},(e,n,t,s,d)=>s===null||d===null?[]:e({startIndex:s,endIndex:d,overscan:n,count:t}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=e=>{const n=this.options.indexAttribute,t=e.getAttribute(n);return t?parseInt(t,10):(console.warn(`Missing attribute name '${n}={index}' on measured element.`),-1)},this._measureElement=(e,n)=>{const t=this.indexFromElement(e),s=this.measurementsCache[t];if(!s)return;const d=s.key,r=this.elementsCache.get(d);r!==e&&(r&&this.observer.unobserve(r),this.observer.observe(e),this.elementsCache.set(d,e)),e.isConnected&&this.resizeItem(t,this.options.measureElement(e,n,this))},this.resizeItem=(e,n)=>{const t=this.measurementsCache[e];if(!t)return;const s=this.itemSizeCache.get(t.key)??t.size,d=n-s;d!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(t,d,this):t.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=d,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(t.index),this.itemSizeCache=new Map(this.itemSizeCache.set(t.key,n)),this.notify(!1))},this.measureElement=e=>{if(!e){this.elementsCache.forEach((n,t)=>{n.isConnected||(this.observer.unobserve(n),this.elementsCache.delete(t))});return}this._measureElement(e,void 0)},this.getVirtualItems=G(()=>[this.getVirtualIndexes(),this.getMeasurements()],(e,n)=>{const t=[];for(let s=0,d=e.length;s<d;s++){const r=e[s],p=n[r];t.push(p)}return t},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=e=>{const n=this.getMeasurements();if(n.length!==0)return Me(n[Ae(0,n.length-1,t=>Me(n[t]).start,e)])},this.getOffsetForAlignment=(e,n,t=0)=>{const s=this.getSize(),d=this.getScrollOffset();n==="auto"&&(n=e>=d+s?"end":"start"),n==="center"?e+=(t-s)/2:n==="end"&&(e-=s);const r=this.getTotalSize()+this.options.scrollMargin-s;return Math.max(Math.min(r,e),0)},this.getOffsetForIndex=(e,n="auto")=>{e=Math.max(0,Math.min(e,this.options.count-1));const t=this.measurementsCache[e];if(!t)return;const s=this.getSize(),d=this.getScrollOffset();if(n==="auto")if(t.end>=d+s-this.options.scrollPaddingEnd)n="end";else if(t.start<=d+this.options.scrollPaddingStart)n="start";else return[d,n];const r=n==="end"?t.end+this.options.scrollPaddingEnd:t.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(r,n,t.size),n]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(e,{align:n="start",behavior:t}={})=>{t==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(e,n),{adjustments:void 0,behavior:t})},this.scrollToIndex=(e,{align:n="auto",behavior:t}={})=>{t==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),e=Math.max(0,Math.min(e,this.options.count-1));let s=0;const d=10,r=i=>{if(!this.targetWindow)return;const h=this.getOffsetForIndex(e,i);if(!h){console.warn("Failed to get offset for index:",e);return}const[g,m]=h;this._scrollToOffset(g,{adjustments:void 0,behavior:t}),this.targetWindow.requestAnimationFrame(()=>{const x=this.getScrollOffset(),f=this.getOffsetForIndex(e,m);if(!f){console.warn("Failed to get offset for index:",e);return}ot(f[0],x)||p(m)})},p=i=>{this.targetWindow&&(s++,s<d?this.targetWindow.requestAnimationFrame(()=>r(i)):console.warn(`Failed to scroll to index ${e} after ${d} attempts.`))};r(n)},this.scrollBy=(e,{behavior:n}={})=>{n==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+e,{adjustments:void 0,behavior:n})},this.getTotalSize=()=>{var e;const n=this.getMeasurements();let t;if(n.length===0)t=this.options.paddingStart;else if(this.options.lanes===1)t=((e=n[n.length-1])==null?void 0:e.end)??0;else{const s=Array(this.options.lanes).fill(null);let d=n.length-1;for(;d>=0&&s.some(r=>r===null);){const r=n[d];s[r.lane]===null&&(s[r.lane]=r.end),d--}t=Math.max(...s.filter(r=>r!==null))}return Math.max(t-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(e,{adjustments:n,behavior:t})=>{this.options.scrollToFn(e,{behavior:t,adjustments:n},this)},this.measure=()=>{this.itemSizeCache=new Map,this.laneAssignments=new Map,this.notify(!1)},this.setOptions(a)}}const Ae=(c,a,e,n)=>{for(;c<=a;){const t=(c+a)/2|0,s=e(t);if(s<n)c=t+1;else if(s>n)a=t-1;else return t}return c>0?c-1:0};function pt({measurements:c,outerSize:a,scrollOffset:e,lanes:n}){const t=c.length-1,s=p=>c[p].start;if(c.length<=n)return{startIndex:0,endIndex:t};let d=Ae(0,t,s,e),r=d;if(n===1)for(;r<t&&c[r].end<e+a;)r++;else if(n>1){const p=Array(n).fill(0);for(;r<t&&p.some(h=>h<e+a);){const h=c[r];p[h.lane]=h.end,r++}const i=Array(n).fill(e+a);for(;d>=0&&i.some(h=>h>=e);){const h=c[d];i[h.lane]=h.start,d--}d=Math.max(0,d-d%n),r=Math.min(t,r+(n-1-r%n))}return{startIndex:d,endIndex:r}}const Te=typeof document<"u"?y.useLayoutEffect:y.useEffect;function gt(c){const a=y.useReducer(()=>({}),{})[1],e={...c,onChange:(t,s)=>{var d;s?Pe.flushSync(a):a(),(d=c.onChange)==null||d.call(c,t,s)}},[n]=y.useState(()=>new ft(e));return n.setOptions(e),Te(()=>n._didMount(),[]),Te(()=>n._willUpdate()),n}function wt(c){return gt({observeElementRect:dt,observeElementOffset:ht,scrollToFn:mt,...c})}function vt({title:c,titleId:a,...e},n){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":a},e),c?y.createElement("title",{id:a},c):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const yt=y.forwardRef(vt);function xt({title:c,titleId:a,...e},n){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":a},e),c?y.createElement("title",{id:a},c):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const bt=y.forwardRef(xt);let Ct=j.button.withConfig({displayName:"CopyTextButton",componentId:"sc-4b0620dc-0"})(["display:flex;align-items:center;gap:0.5rem;&:hover{text-decoration:underline;}svg{width:0.875rem;height:0.875rem;}"]),St=j.span.withConfig({displayName:"CopiedText",componentId:"sc-4b0620dc-1"})(["display:flex;align-items:center;gap:0.25rem;font-size:0.875rem;color:var(--privy-color-foreground-2);"]),zt=j(yt).withConfig({displayName:"GreenCheck",componentId:"sc-4b0620dc-2"})(["color:var(--privy-color-success);"]),jt=j(et).withConfig({displayName:"StyledCopy",componentId:"sc-4b0620dc-3"})(["color:var(--privy-color-foreground-3);opactiy:0.5;"]);function Mt({children:c,iconOnly:a,value:e,hideCopyIcon:n,...t}){let[s,d]=y.useState(!1);return o.jsxs(Ct,{...t,onClick:()=>{navigator.clipboard.writeText(e||c).catch(console.error),d(!0),setTimeout((()=>d(!1)),1500)},children:[c," ",s?o.jsxs(St,{children:[o.jsx(zt,{})," ",!a&&"Copied"]}):!n&&o.jsx(jt,{})]})}const K={phantom:{mobile:{native:"phantom://",universal:"https://phantom.app/ul/"}},solflare:{mobile:{native:void 0,universal:"https://solflare.com/ul/v1/"}},metamask:{image_url:{sm:Se,md:Se}}};class z{static normalize(a){return a.replace(/[-_]wallet$/,"").replace(/[-_]extension$/,"").toLowerCase()}isEth(a){return a.chains.some((e=>e.includes("eip155:")))}isSol(a){return a.chains.some((e=>e.includes("solana:")))}inAllowList(a,e){if(!this.normalizedAllowList||this.normalizedAllowList.length===0||e==="listing"&&this.includeWalletConnect)return!0;let n=z.normalize(a);return this.normalizedAllowList.some((t=>n===z.normalize(t)))}inDenyList(a,e){return e==="listing"&&a==="rabby"}chainMatches(a){return this.chainFilter==="ethereum-only"?a==="ethereum":this.chainFilter!=="solana-only"||a==="solana"}connectorOk(a){return!!(a.connectorType!=="null"&&a.walletBranding.id!=="walletconnect_solana"&&this.chainMatches(a.chainType)&&(this.inAllowList(a.walletClientType,"connector")||(a.connectorType==="injected"||a.connectorType==="solana_adapter")&&(a.chainType==="ethereum"&&this.detectedEth||a.chainType==="solana"&&this.detectedSol)))}listingOk(a){if(a.slug.includes("coinbase"))return!1;if(this.chainFilter==="ethereum-only"){if(!this.isEth(a))return!1}else if(this.chainFilter==="solana-only"&&!this.isSol(a))return!1;return!(!this.inAllowList(a.slug,"listing")||this.inDenyList(a.slug,"listing"))}getWallets(a,e){let n=new Map,t=i=>{let h=n.get(i.id);if(h){h.chainType!==i.chainType&&(h.chainType="multi");let g=new Set(h.chains);i.chains.forEach((m=>g.add(m))),h.chains=Array.from(g),!h.icon&&i.icon&&(h.icon=i.icon),!h.url&&i.url&&(h.url=i.url),!h.listing&&i.listing&&(h.listing=i.listing)}else n.set(i.id,i)};a.filter((i=>this.connectorOk(i))).forEach((i=>{let h=z.normalize(i.walletClientType);t({id:h,label:i.walletBranding?.name??h,source:"connector",connector:i,chainType:i.chainType,icon:i.walletBranding?.icon,url:void 0,chains:[i.chainType==="ethereum"?"eip155":"solana"]})}));let s=a.find((i=>i.connectorType==="wallet_connect_v2")),d=a.find((i=>i.walletBranding.id==="walletconnect_solana"));e.filter((i=>this.listingOk(i))).forEach((i=>{let h=[...i.chains].filter((f=>f.includes("eip155:")||f.includes("solana:")));if(a.some((f=>z.normalize(f.walletClientType)===z.normalize(i.slug)&&f.chainType==="ethereum"&&f.connectorType!=="null"))||s||i.mobile.native||i.mobile.universal||re[i.slug]?.chainTypes.includes("ethereum")||(h=h.filter((f=>!f.includes("eip155:")))),a.some((f=>z.normalize(f.walletClientType)===z.normalize(i.slug)&&f.chainType==="solana"&&f.connectorType!=="null"))||d||i.mobile.native||i.mobile.universal||re[i.slug]?.chainTypes.includes("solana")||(h=h.filter((f=>!f.includes("solana:")))),!h.length)return;let g=z.normalize(i.slug),m=K[i.slug],x=m?.image_url?.sm||i.image_url?.sm;h.some((f=>f.includes("eip155:")))&&t({id:g,label:i.name||g,source:"listing",listing:i,chainType:"ethereum",icon:x,url:i.homepage,chains:h}),h.some((f=>f.includes("solana:")))&&t({id:g,label:i.name||g,source:"listing",listing:i,chainType:"solana",icon:x,url:i.homepage,chains:h})})),this.includeWalletConnectQr&&s&&t({id:"wallet_connect_qr",label:"WalletConnect",source:"connector",connector:s,chainType:"ethereum",icon:ze,url:void 0,chains:["eip155"]}),this.includeWalletConnectQrSolana&&d&&t({id:"wallet_connect_qr_solana",label:"WalletConnect",source:"connector",connector:d,chainType:"solana",icon:ze,url:void 0,chains:["solana"]});let r=Array.from(n.values());r.forEach((i=>{let h=K[i.listing?.slug||i.id];h?.image_url?.sm&&(i.icon=h.image_url.sm)}));let p=new Map;return this.normalizedAllowList?.forEach(((i,h)=>{p.set(z.normalize(i),h)})),{wallets:r.slice().sort(((i,h)=>{let g=z.normalize(i.id),m=z.normalize(h.id);g==="binance-defi"?g="binance":g==="universalprofiles"?g="universal_profile":g==="cryptocom-defi"?g="cryptocom":g==="bitkeep"&&(g="bitget_wallet"),m==="binance-defi"?m="binance":m==="universalprofiles"?m="universal_profile":m==="cryptocom-defi"?m="cryptocom":m==="bitkeep"&&(m="bitget_wallet");let x=p.has(g),f=p.has(m);return x&&f?p.get(g)-p.get(m):x?-1:f?1:i.source==="connector"&&h.source==="listing"?-1:i.source==="listing"&&h.source==="connector"?1:i.label.toLowerCase().localeCompare(h.label.toLowerCase())})),walletCount:r.length}}constructor(a,e){this.chainFilter=a,e&&e.length>0&&(this.normalizedAllowList=e.map(String),this.normalizedAllowList.includes("binance")&&this.normalizedAllowList.push("binance-defi-wallet"),this.normalizedAllowList.includes("bitget_wallet")&&this.normalizedAllowList.push("bitkeep")),this.detectedEth=this.normalizedAllowList?.includes("detected_ethereum_wallets")??!1,this.detectedSol=this.normalizedAllowList?.includes("detected_solana_wallets")??!1,this.includeWalletConnect=this.normalizedAllowList?.includes("wallet_connect")??!1,this.includeWalletConnectQr=this.normalizedAllowList?.includes("wallet_connect_qr")??!1,this.includeWalletConnectQrSolana=this.normalizedAllowList?.includes("wallet_connect_qr_solana")??!1}}var fe=c=>o.jsxs("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",...c,children:[o.jsx("path",{d:"m0 0h32v32h-32z",fill:"#5469d4"}),o.jsx("path",{d:"m15.997 5.333-.143.486v14.106l.143.143 6.548-3.87z",fill:"#c2ccf4"}),o.jsx("path",{d:"m15.996 5.333-6.548 10.865 6.548 3.87z",fill:"#fff"}),o.jsx("path",{d:"m15.997 21.306-.08.098v5.025l.08.236 6.552-9.227z",fill:"#c2ccf4"}),o.jsx("path",{d:"m15.996 26.665v-5.36l-6.548-3.867z",fill:"#fff"}),o.jsx("path",{d:"m15.995 20.07 6.548-3.87-6.548-2.976v6.847z",fill:"#8698e8"}),o.jsx("path",{d:"m9.448 16.2 6.548 3.87v-6.846z",fill:"#c2ccf4"})]}),pe=c=>o.jsxs("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",...c,children:[o.jsxs("linearGradient",{id:"a",gradientUnits:"userSpaceOnUse",x1:"7.233",x2:"24.766",y1:"24.766",y2:"7.234",children:[o.jsx("stop",{offset:"0",stopColor:"#9945ff"}),o.jsx("stop",{offset:".2",stopColor:"#7962e7"}),o.jsx("stop",{offset:"1",stopColor:"#00d18c"})]}),o.jsx("path",{d:"m0 0h32v32h-32z",fill:"#10111a"}),o.jsx("path",{clipRule:"evenodd",d:"m9.873 20.41a.645.645 0 0 1 .476-.21l14.662.012a.323.323 0 0 1 .238.54l-3.123 3.438a.643.643 0 0 1 -.475.21l-14.662-.012a.323.323 0 0 1 -.238-.54zm15.376-2.862a.322.322 0 0 1 -.238.54l-14.662.012a.642.642 0 0 1 -.476-.21l-3.122-3.44a.323.323 0 0 1 .238-.54l14.662-.012a.644.644 0 0 1 .475.21zm-15.376-9.738a.644.644 0 0 1 .476-.21l14.662.012a.322.322 0 0 1 .238.54l-3.123 3.438a.643.643 0 0 1 -.475.21l-14.662-.012a.323.323 0 0 1 -.238-.54z",fill:"url(#a)",fillRule:"evenodd"})]});const Et=j.div.withConfig({displayName:"WalletIconWithActiveIndicator",componentId:"sc-9b65f2b6-2"})(["position:relative;display:inline-flex;align-items:center;&::after{content:' ';border-radius:var(--privy-border-radius-full);height:6px;width:6px;background-color:var(--privy-color-icon-success);position:absolute;right:-3px;top:-3px;}"]),ee=j.img.withConfig({displayName:"WalletIcon",componentId:"sc-9b65f2b6-3"})(["width:32px;height:32px;border-radius:0.25rem;object-fit:contain;"]),kt=j.span.withConfig({displayName:"Chip",componentId:"sc-9b65f2b6-4"})(["display:flex;gap:0.25rem;align-items:center;padding:0.25rem 0.5rem;font-size:0.75rem;font-weight:500;line-height:1.125rem;border-radius:var(--privy-border-radius-sm);background-color:var(--privy-color-background-2);svg{width:100%;max-width:1rem;max-height:1rem;stroke-width:2;}"]);function Wt({enabled:c=!0,walletList:a,walletChainType:e}){let n=he(),{connectors:t}=ue(),{listings:s,loading:d}=Je(c),r=e??n.appearance.walletChainType,p=a??n.appearance?.walletList,i=y.useMemo((()=>new z(r,p)),[r,p]),{wallets:h,walletCount:g}=y.useMemo((()=>i.getWallets(t,s)),[i,t,s]),[m,x]=y.useState(""),f=y.useMemo((()=>m?h.filter((S=>S.label.toLowerCase().includes(m.toLowerCase()))):h),[m,h]),[C,w]=y.useState();return{selected:C,setSelected:w,search:m,setSearch:x,loadingListings:d,wallets:f,walletCount:g}}let le=c=>!c||typeof c!="string"&&(c instanceof _e||c instanceof Oe);const Tt=({index:c,style:a,data:e,recent:n})=>{let t=e.wallets[c],{walletChainType:s,handleWalletClick:d}=e,{t:r}=me(),p={...a,boxSizing:"border-box"};return t?o.jsxs(oe,{style:p,onClick:()=>d(t),children:[t.icon&&(t.connector&&!le(t.connector)?o.jsx(Et,{children:typeof t.icon=="string"?o.jsx(ee,{src:t.icon}):o.jsx(t.icon,{style:{width:"32px",height:"32px"}})}):typeof t.icon=="string"?o.jsx(ee,{src:t.icon}):o.jsx(t.icon,{style:{width:"32px",height:"32px"}})),o.jsx(ae,{children:t.label}),n?o.jsxs(o.Fragment,{children:[o.jsx(kt,{children:r("connectWallet.lastUsed")}),o.jsx(ce,{children:o.jsxs(o.Fragment,{children:[s==="ethereum-only"&&o.jsx(fe,{}),s==="solana-only"&&o.jsx(pe,{})]})})]}):o.jsx(ce,{children:!(s==="ethereum-only"||s==="solana-only")&&o.jsxs(o.Fragment,{children:[t.chains?.some((i=>i.startsWith("eip155")))&&o.jsx(fe,{}),t.chains?.some((i=>i.startsWith("solana")))&&o.jsx(pe,{})]})})]}):null};var Ht=({className:c,customDescription:a,connectOnly:e,preSelectedWalletId:n,hideHeader:t,...s})=>{let d=he(),{t:r}=me(),{connectors:p}=ue(),i=s.walletChainType||d.appearance.walletChainType,h=s.walletList||d.appearance?.walletList,{onBack:g,onClose:m,app:x}=s,{selected:f,setSelected:C,qrUrl:w,setQrUrl:S,connecting:u,uiState:T,errorCode:_,wallets:D,walletCount:de,handleConnect:O,handleBack:Le,showSearchBar:Fe,isInitialConnectView:$,title:Re,search:Ne,setSearch:Be}=(function({onConnect:l,onBack:F,onClose:Y,onConnectError:X,walletList:Z,walletChainType:ne,app:ie}){let U=he(),{connectors:v}=ue(),{t:M}=me(),{wallets:I,walletCount:J,search:ve,setSearch:De,selected:V,setSelected:ye}=Wt({enabled:Qe(Z??[]),walletList:Z,walletChainType:ne}),[H,R]=y.useState(),[Ue,q]=y.useState(),[N,xe]=y.useState(),[b,P]=y.useState(),be=!V&&!N&&!b,qe=be&&(J>6||ve.length>0),se=v.find((E=>E.connectorType==="wallet_connect_v2")),$e=y.useCallback((async(E,B)=>{if(E){if(b?.connector===E&&H==="loading")return void console.log("Already connecting to this wallet, skipping duplicate attempt");if(R("loading"),typeof E=="string")return P({connector:E,name:B?.name??"Wallet",icon:B?.icon,id:B?.id,url:B?.url}),void window.open(E,"_blank");P({connector:E,name:B?.name??E.walletBranding.name??"Wallet",icon:B?.icon??E.walletBranding.icon,id:B?.id,url:B?.url});try{let k=await E.connect({showPrompt:!0});if(!k)return R("error"),q(void 0),void X?.(new Ce("Unable to connect wallet"));R("success"),q(void 0),Ge({address:k.address,client:k.walletClientType,appId:U.id}),setTimeout((()=>{l({connector:E,wallet:k})}),Ke)}catch(k){if(console.error("ERROR: ",{e:k}),k?.message?.includes("already pending for origin")||k?.message?.includes("wallet_requestPermissions"))return void console.log("Connection request already pending, maintaining loading state");R("error"),q(k?.privyErrorCode),X?.(k instanceof Error?k:new Ce(k?.message||"Unable to connect wallet"))}}}),[U.id,l,b,H]),Ve=y.useCallback((()=>N?(R(void 0),q(void 0),P(void 0),void xe(void 0)):b?(R(void 0),q(void 0),void P(void 0)):V?(R(void 0),q(void 0),P(void 0),void ye(void 0)):H==="error"||H==="loading"?(R(void 0),q(void 0),void P(void 0)):void F?.()),[N,b,V,H,F]),He=y.useMemo((()=>b?.connector===se&&N&&W.isMobile&&b?.name?M("connectWallet.goToWallet",{walletName:b.name}):b?.connector===se&&N&&b?.name?M("connectWallet.scanToConnect",{walletName:b.name}):N&&b?.name?M(W.isMobile?"connectWallet.goToWallet":"connectWallet.scanToConnect",{walletName:b.name}):typeof b?.connector=="string"?M("connectWallet.openOrInstall",{walletName:b.name}):V&&!b?M("connectWallet.selectNetwork"):b?null:M("connectWallet.selectYourWallet")),[b,N,V,se,M]);return{selected:V,setSelected:ye,qrUrl:N,setQrUrl:xe,connecting:b,uiState:H,errorCode:Ue,search:ve,setSearch:De,wallets:I,walletCount:J,wc:se,isInitialConnectView:be,showSearchBar:qe,title:He,handleConnect:$e,handleBack:Ve,onClose:Y,onConnect:l,app:ie}})({...s,walletList:h,walletChainType:i}),A=p.find((l=>l.connectorType==="wallet_connect_v2")),L=p.find((l=>l.walletBranding.id==="walletconnect_solana")),ge=y.useRef(null),we=wt({count:D.length,getScrollElement:()=>ge.current,estimateSize:()=>56,overscan:6,gap:5}),te=y.useCallback((async l=>{let F=i!=="solana-only"&&l.chains?.some((v=>v.startsWith("eip155"))),Y=i!=="ethereum-only"&&l.chains?.some((v=>v.startsWith("solana"))),X=()=>{let v=l.id;return re[v]||re[`${v}_wallet`]},Z=v=>{let M=z.normalize(l.id);return p.find((I=>z.normalize(I.walletClientType)===M&&I.chainType===v&&!(I.chainType==="ethereum"&&I instanceof _e||I.chainType==="solana"&&I instanceof Oe)))},ne=async()=>{if(!A||!l.listing)return!1;let v=K[l.listing.slug]?{...l.listing,...K[l.listing.slug]}:l.listing;return A.setWalletEntry(v,S),await A.resetConnection(l.id),await O(A,{name:l.label,icon:l.icon,id:l.id,url:l.url}),!0},ie=async()=>!!L&&!!l.listing&&(await L.disconnect(),L.wallet.setWalletEntry(l.listing,S),await new Promise((v=>setTimeout(v,100))),await O(L,{name:l.label,icon:l.icon,id:l.id,url:l.url}),!0),U=async v=>{let M=(I=>{let J=X();if(J)return J.getMobileRedirect({isSolana:I,connectOnly:!!e,useUniversalLink:!1})})(v);return!!M&&(await O(M,{name:l.label,icon:l.icon,id:l.id,url:l.url}),!0)};if(F&&Y)C(l);else{if(F&&!Y){let v=Z("ethereum");if(v&&!le(v))return void await O(v,{name:l.label,icon:l.icon,id:l.id,url:l.url});if(W.isMobile&&X()){if(await U(!1)||await ne())return}else if(await ne()||await U(!1))return}if(Y&&!F){let v=Z("solana");if(v&&!le(v))return void await O(v,{name:l.label,icon:l.icon,id:l.id,url:l.url});if(W.isMobile){if(await U(!0)||await ie())return}else if(await ie()||await U(!0))return}if(!le(l.connector)){if(A&&l.connector?.connectorType==="wallet_connect_v2")if(await A.resetConnection(l.id),l.id!=="wallet_connect_qr"&&l.listing){let v=K[l.listing.slug]?{...l.listing,...K[l.listing.slug]}:l.listing;A.setWalletEntry(v,S)}else A.setWalletEntry({id:"wallet_connect_qr",name:"WalletConnect",rdns:"",slug:"wallet-connect",homepage:"",chains:["eip155"],mobile:{native:"",universal:void 0}},S);return L&&l.connector?.walletBranding.id==="walletconnect_solana"&&(await L.disconnect(),l.id!=="wallet_connect_qr_solana"&&l.listing?L.wallet.setWalletEntry(l.listing,S):L.wallet.setWalletEntry({id:"wallet_connect_solana_qr",name:"WalletConnect",rdns:"",slug:"wallet-connect-solana",homepage:"",chains:["solana"],mobile:{native:"",universal:void 0}},S),await new Promise((v=>setTimeout(v,100)))),void await O(l.connector,{name:l.label,icon:l.icon,id:l.id,url:l.url})}l.url&&await O(l.url,{name:l.label,icon:l.icon,id:l.id,url:l.url})}}),[A,L,O,C,S,i,e,p]);return y.useEffect((()=>{if(!n)return;let l=D.find((({id:F})=>F===n));l&&te(l).catch(console.error)}),[n]),o.jsxs(Q,{className:c,children:[o.jsx(Q.Header,{icon:t&&$?void 0:u&&!w||w&&W.isMobile&&u?.icon?u.icon:u?void 0:lt,iconVariant:u&&!w||w&&W.isMobile?"loading":void 0,iconLoadingStatus:u&&!w||w&&W.isMobile?{success:T==="success",fail:T==="error"}:void 0,title:t&&$?void 0:u&&!w?r("connectWallet.waitingForWallet",{walletName:u.name}):w&&W.isMobile?r("connectWallet.waitingForWallet",{walletName:u?.name??"connection"}):Re,subtitle:t&&$?void 0:u&&!w&&typeof u.connector=="string"?r("connectWallet.installAndConnect",{walletName:u.name}):u&&!w&&typeof u.connector!="string"?T==="error"?_===Ye.NO_SOLANA_ACCOUNTS?`The connected wallet has no Solana accounts. Please add a Solana account in ${u.name} and try again.`:r("connectWallet.tryConnectingAgain"):r("connectionStatus.connectOneWallet"):$?a??(x?r("connectWallet.connectToAccount",{appName:x.name}):null):null,showBack:!!g||!$,showClose:!0,onBack:g||Le,onClose:m}),o.jsxs(Q.Body,{ref:ge,$colorScheme:d.appearance.palette.colorScheme,style:{marginBottom:w?"0.5rem":void 0},children:[Fe&&o.jsx(It,{children:o.jsxs(st,{style:{background:"transparent"},children:[o.jsx(Xe,{children:o.jsx(bt,{})}),o.jsx("input",{className:"login-method-button",type:"text",placeholder:r("connectWallet.searchPlaceholder",{count:String(de)}),onChange:l=>Be(l.target.value),value:Ne})]})}),w&&W.isMobile&&T==="loading"&&o.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"1rem"},children:[o.jsx(je,{variant:"primary",onClick:()=>window.open(w.universal??w.native,"_blank"),style:{width:"100%"},children:r("connectWallet.openInApp")}),o.jsx(Ie,{value:w.universal??w.native,iconOnly:!0,children:"Copy link"})]}),w&&!W.isMobile&&T==="loading"&&o.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"1rem"},children:o.jsx(Ie,{value:w.universal??w.native,iconOnly:!0,children:r("connectWallet.copyLink")})}),w&&!W.isMobile&&o.jsx(it,{size:280,url:w.universal??w.native,squareLogoElement:u?.icon?typeof u.icon=="string"?l=>o.jsx("svg",{...l,children:o.jsx("image",{href:u.icon,height:l.height,width:l.width})}):u.icon:Ze}),w&&!W.isMobile&&u?.url&&(u.id==="binance"||u.id==="binanceus"||u.id==="binance-defi")&&o.jsxs(At,{children:[o.jsxs("span",{children:["Don't have ",u.name,"? "]}),o.jsx(tt,{href:u.url,target:"_blank",size:"sm",children:"Download here"})]}),o.jsxs(_t,{children:[u&&!w&&typeof u.connector=="string"&&o.jsxs(oe,{onClick:()=>window.open(u.connector,"_blank"),children:[u.icon&&(typeof u.icon=="string"?o.jsx(ee,{src:u.icon}):o.jsx(u.icon,{})),o.jsx(ae,{children:u.name})]}),f?.chains.some((l=>l.startsWith("eip155")))&&!u&&o.jsxs(oe,{onClick:()=>te({...f,chains:f.chains.filter((l=>l.startsWith("eip155")))}),children:[f.icon&&(typeof f.icon=="string"?o.jsx(ee,{src:f.icon}):o.jsx(f.icon,{})),o.jsx(ae,{children:f.label}),o.jsx(ce,{children:o.jsx(fe,{})})]}),f?.chains.some((l=>l.startsWith("solana")))&&!u&&o.jsxs(oe,{onClick:()=>te({...f,chains:f.chains.filter((l=>l.startsWith("solana")))}),children:[f.icon&&(typeof f.icon=="string"?o.jsx(ee,{src:f.icon}):o.jsx(f.icon,{})),o.jsx(ae,{children:f.label}),o.jsx(ce,{children:o.jsx(pe,{})})]}),$&&o.jsxs(o.Fragment,{children:[!(de>0)&&o.jsx(Ot,{children:r("connectWallet.noWalletsFound")}),de>0&&!w&&o.jsx("div",{style:{maxHeight:56*Math.min(D.length,5)+5,width:"100%"},children:o.jsx("div",{style:{height:`${we.getTotalSize()}px`,width:"100%",position:"relative"},children:we.getVirtualItems().map((l=>o.jsx(Tt,{index:l.index,style:{position:"absolute",top:0,left:0,height:`${l.size}px`,transform:`translateY(${l.start}px)`},data:{wallets:D,walletChainType:i,handleWalletClick:te}},l.key)))})})]})]})]}),o.jsxs(Q.Footer,{children:[u&&!w&&typeof u.connector!="string"&&T==="error"&&o.jsx(Q.Actions,{children:o.jsx(je,{style:{width:"100%",alignItems:"center"},variant:"error",onClick:()=>O(u.connector,{name:u.name,icon:u.icon,id:u.id,url:u.url}),children:r("connectWallet.retry")})}),!!(x&&x.legal.privacyPolicyUrl&&x.legal.termsAndConditionsUrl)&&o.jsx(nt,{app:x,alwaysShowImplicitConsent:!0}),o.jsx(Q.Watermark,{})]})]})};let It=j.div.withConfig({displayName:"StickySearchContainer",componentId:"sc-5a8fc7d8-0"})(["position:sticky;margin-top:-3px;padding-top:3px;top:-3px;z-index:1;background:var(--privy-color-background);padding-bottom:calc(var(--screen-space) / 2);"]),_t=j.div.withConfig({displayName:"WalletListContainer",componentId:"sc-5a8fc7d8-1"})(["display:flex;flex-direction:column;gap:","px;"],5),oe=j.button.withConfig({displayName:"Button",componentId:"sc-5a8fc7d8-2"})(["&&{gap:0.5rem;align-items:center;display:flex;position:relative;text-align:left;font-weight:500;transition:background 200ms ease-in;width:calc(100% - 4px);border-radius:var(--privy-border-radius-md);padding:0.75em;border:1px solid var(--privy-color-foreground-4);justify-content:space-between;}&:hover{background:var(--privy-color-background-2);}"]),ce=j.span.withConfig({displayName:"ButtonBadge",componentId:"sc-5a8fc7d8-3"})(["display:flex;align-items:center;justify-content:end;position:relative;& > svg{border-radius:var(--privy-border-radius-full);stroke-width:2.5;width:100%;max-height:1rem;max-width:1rem;flex-shrink:0;}& > svg:not(:last-child){border-radius:var(--privy-border-radius-full);margin-right:-0.375rem;}"]),Ot=j.div.withConfig({displayName:"EmptyContainer",componentId:"sc-5a8fc7d8-4"})(["height:60px;display:flex;align-items:center;justify-content:center;text-align:center;"]),ae=j.span.withConfig({displayName:"WalletName",componentId:"sc-5a8fc7d8-5"})(["text-overflow:ellipsis;white-space:nowrap;color:var(--privy-color-foreground);font-weight:400;flex:1;"]),Ie=j(Mt).withConfig({displayName:"StyledCopyableText",componentId:"sc-5a8fc7d8-6"})(["&&{margin:0.5rem auto 0 auto;}"]),At=j.div.withConfig({displayName:"BinanceDownloadMessage",componentId:"sc-5a8fc7d8-7"})(["text-align:center;margin-top:1rem;font-size:0.875rem;font-weight:400;color:var(--privy-color-foreground-3);"]);export{z as P,Wt as X,Tt as e,Ht as n};
