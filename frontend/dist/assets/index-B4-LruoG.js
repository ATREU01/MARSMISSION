const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-Ddj--6Yf.js","assets/parseSignature-CnAx-X9p.js","assets/parseUnits-s7FgVana.js","assets/AccountNotFoundScreen-BzbvtCmu-CaF9Oc86.js","assets/ScreenLayout-CNho46nP-D6C5Lh0T.js","assets/Button-BCV6mjvS-DdwUXkRg.js","assets/Screen-_0H_rCdH-84nYgpso.js","assets/ModalHeader-BTru6YQw-mNrl3KWP.js","assets/index-CJMgUOnw-CX4nbFWI.js","assets/createLucideIcon-GrZhq5Lq.js","assets/AffirmativeConsentScreen-CrZKQjas-ClFWcSYo.js","assets/shouldProceedtoEmbeddedWalletCreationFlow-BI33jNSF-B5gDzFCt.js","assets/external-link-BRRe-cMY.js","assets/AllowlistRejectionScreen-DhhfJ6ai-xUIL-Q9Y.js","assets/lock-BME7CGuh.js","assets/AuthenticateWithWalletScreen-BN0s1mtv-Ce2TWBr9.js","assets/ConnectWalletView-Cmm9Ulis-EJ2kEQKb.js","assets/copy-Bx2Jwc5_-UnQ5hzvv.js","assets/Link-DwjLfHwW-DRgmyHjJ.js","assets/QrCode-Oxn5GT3C-DsOpOSbU.js","assets/dijkstra-COg3n3zL.js","assets/EmailInputForm-B4hjCxRU-CtTiQnXy.js","assets/ErrorMessage-Cx8GKGhL-urEaOBsn.js","assets/useI18n-99pFPsz3-B3eYCqtb.js","assets/WalletCards-DH1rqayz-Bn48neJk.js","assets/AwaitingEvmToSolBridgingScreen-C7mp2-Hy-BOetTtJP.js","assets/CheckCircleIcon-BlIpjKsn.js","assets/Layouts-Bmf8DxNP-t0AgBc9P.js","assets/ScreenHeader-Biz1wq02-BR-M1CFf.js","assets/FundWalletMethodHeader-CS84Ots9-CsX6qUKf.js","assets/useGetTokenPrice-CDPxMEO--lEUXvGLZ.js","assets/useGetSolPrice-Cfm8o9C5-BOWVNegP.js","assets/analytics-mkkvFRju-DOXuftJB.js","assets/reservoir-kvLjIrEo-DXa1RFkH.js","assets/getChainName-DjpPdUSc-c2urPd0g.js","assets/transaction-CnfuREWo-nROljJQP.js","assets/getFormattedUsdFromLamports-B6EqSEho-C-HCdwKa.js","assets/BridgeNetworkSelectionView-BXBCujiq-BcjsS-r2.js","assets/getErc20Balance-CaKjNAs9-CM-uOOUa.js","assets/Value-B4M62ove-BVgjPnQl.js","assets/LoadingSkeleton-CHdaq3pb-DqeABnzr.js","assets/Subtitle-DkvfP2Ev-DBEZilZm.js","assets/Title-D0pfZff--BpRfWt2B.js","assets/WalletIcon-BcWKZNZ8.js","assets/Chip-Bsgj4Yc--DLvCxFhp.js","assets/TransferOrBridgeLoadingScreen-BY7Eot6x-Bas8f8zf.js","assets/InjectedWalletIcon-DLcYOGDj-4NW8qh8Q.js","assets/Address-BUmpXgsy-CBO4ADLR.js","assets/check-DWYFL8zI.js","assets/copy-BSoXzQPf.js","assets/GlobeAltIcon-D942Wnzd.js","assets/shared-CtYf3O54-DnKfnORq.js","assets/ChevronDownIcon-cznXK1ad.js","assets/formatErc20TokenAmount-BuPk9xcy-CkAr4Oc0.js","assets/ethers-Bl5aM5Gz-BLGFYpuF.js","assets/styles-DY17fuAX-CB5OsO6x.js","assets/formatters-ZGuAh_C-.js","assets/custom-CCS0XMFA.js","assets/AwaitingExternalEthereumTransferScreen-EqM4Kcsu-Chn_Wy4-.js","assets/transfer-CMPmjPsM-Cjofo3yZ.js","assets/parseEther-C6AH2Xb1.js","assets/AwaitingPasswordlessCodeScreen-NAVmxM9--ChmIBBXI.js","assets/EnvelopeIcon-CyuHD57U.js","assets/PhoneIcon-Dn_7BK6H.js","assets/AwaitingSolToEvmBridgingScreen-dC9b-wlg-B76juJJn.js","assets/CaptchaScreen-CTRyyYc9-VZwTJmaf.js","assets/circle-check-big-DCLtX3ha.js","assets/circle-x-EtUdxgt8.js","assets/CoinbaseOnrampStatusScreen-BNmvm8Bl-CIDS1aH1.js","assets/ArrowsRightLeftIcon-CwKo6Eis.js","assets/CheckCircleIcon-BI3H9leN.js","assets/ConnectLedgerScreen-BEhSz1FM-CPXx2nv6.js","assets/ConnectOnlyLandingScreen-ZnI9ReZJ-Dqkpo1UY.js","assets/ConnectOnlyStatusScreen-1oCuFsd6-8TRSJTbA.js","assets/ConnectionStatusScreen-CZNBQeOQ-pU_t4tez.js","assets/ConnectOrCreateScreen-BOO4iaC6-BCKytt0_.js","assets/CustomLandingScreenView-B_ZwsVad-CnW4NBxZ.js","assets/ConnectEmailForm-DtLW0rv7-CrOOBUuf.js","assets/mail-D7RksUnd.js","assets/farcaster-DPlSjvF5-DfOSHB_P.js","assets/FingerPrintIcon-BgyZPh4D.js","assets/ConnectPhoneForm-OQSgPQxP-DlQVabSE.js","assets/twitch-5IOe4sIQ-BTcj9Yab.js","assets/telegram-B-JqnkqZ-XUJJDdUp.js","assets/WalletOverflowButton-BT_VMZP5-DV82rIdb.js","assets/CrossAppAuthScreen-Bno8NQSa-Cp9CpWa2.js","assets/DelegatedActionsConsentScreen-B0AwZEKc-CxuBm6HS.js","assets/WalletInfoCard-COAfUoX0-BWWBiGRE.js","assets/LabelXs-BOisBtqT-5_Jg6VZQ.js","assets/circle-alert-C1G5zxpk.js","assets/DelegatedActionsRevokeScreen-D0mAKxDs-C2BJl4Sv.js","assets/EmbeddedWalletConnectingScreen-9ADobSle-BYEcH_ic.js","assets/EmbeddedWalletCreatedScreen-B7TnCst_-DbpSm9tq.js","assets/EmbeddedWalletKeyExportScreen-Cmp2CUOa-Dw0rfIvr.js","assets/WarningBanner-BDp-QC9i-BoDcXMK7.js","assets/ExclamationTriangleIcon-MGKYAckR.js","assets/EmbeddedWalletOnAccountCreateScreen-vxaCVWy1-ByQR-X1U.js","assets/use-create-wallet-without-fallback-C0dI_RFZ-CeWGyidO.js","assets/RecoveryPasswordCreateScreen-jWT25C0X-jjfWU-Xm.js","assets/SetWalletPasswordForm-vaG_68V0-DEvZ4D6D.js","assets/shared-D8TfUpfU-DwZzRG1Y.js","assets/Checkbox-NmGCZeKL--L2SDVdg.js","assets/EmbeddedWalletPasswordUpdateScreen-C4dNnXVI-DIeW-_yi.js","assets/EmbeddedWalletPasswordUpdateSplashScreen-BPTp0nwT-S0VzPOx8.js","assets/ErrorScreen-Yi-Rhs0v-C9IJAeuz.js","assets/FarcasterConnectStatusScreen-BfoDjDwg-CN8bLUDD.js","assets/OpenLink-BpeNYBKs-E3QnSsZV.js","assets/FarcasterSignerStatusScreen-CsSFmDry-pFfYWPGs.js","assets/CopyToClipboard-DatKc59_-C_B_PrsK.js","assets/FundSolWalletWithExternalSolanaWallet-BIk-6GIl-DN7Rgvdv.js","assets/useSolanaRpcClient-Brcjny8C-BGYtnuFw.js","assets/getUsdcMintAddress-DFI1hv05-jlhpBW9a.js","assets/FundingEditAmountScreen-CzbuYpdw-B-1NiZUQ.js","assets/FundingMethodSelectionScreen-DdZxdcVe-DlCzVVvq.js","assets/ErrorBanner-BdiArMwu-A8ul97Rz.js","assets/ExclamationCircleIcon-DwucLj0m.js","assets/InfoBanner-D6C6Bt8L-DKMNzqQf.js","assets/getErc20TokenInfo-BFoeg5F6-DEPtSgK0.js","assets/index-D9w4UYos-gfjmyTfC.js","assets/InAppBrowserLoginNotPossible-COUNBN1W-zIEDaGXi.js","assets/InstallWalletScreen-BjprJkty-Dipny5w6.js","assets/TodoList-Dn0Qu-vv-BlO3HT7H.js","assets/LandingScreen-Dp4m_c2X-Dm_avjHq.js","assets/LinkConflictScreen-DMHPhlV7-DvsqRmb_.js","assets/StackedContainer-BrIQsdas-C7wR42iM.js","assets/capitalizeFirstLetter-DmLYqXsO-tV1Idewc.js","assets/LinkEmailScreen-D7VTyZrH-CnOkOfvj.js","assets/LinkPasskeyScreen-B5LWH116-DnWDXvFr.js","assets/fingerprint-pattern-CUBkXxTS.js","assets/LinkPhoneScreen-DdRe154C-D7bTCCH-.js","assets/LoginFailedScreen-CZnzwKpB-BbZatWTA.js","assets/ManualTransferScreen-Bn2qhDAI-Cd9SQqty.js","assets/useWalletBalance-CkNw6kj0-jsoqbBwe.js","assets/MfaAuthEnrollmentFlowScreen-CWMULcQb-brEwl0Np.js","assets/ShieldCheckIcon-DAROFB15.js","assets/EnrollTotp-CMtBCJbR-kl6_PQUh.js","assets/PinInput-C3_MNxMt-BJWJB0Tm.js","assets/MfaAuthVerifyFlowScreen-B3Hw1YN--qOJK-yAQ.js","assets/to-ui-error-CYFXznYy-BmFiS6FM.js","assets/TransactionDetails-BdW2lq_B-DK0fCwjZ.js","assets/WalletLink-Cj92ni3W-XPtjiVdx.js","assets/MfaEnrollmentFlowScreen-DcnqGJ3O-CDK-7P-B.js","assets/MoonpayStatusScreen-lYMS5etL-C_Qi6Hwy.js","assets/OAuthStatusScreen-DEtT_t2P-Dd6kc4MT.js","assets/PasskeySelectSignupOrLogin-DgH-G2yO-D34mOoOa.js","assets/PasskeyStatusScreen-BOac_MoC-CmLGrFnR.js","assets/PasswordRecoveryScreen-CT1bj8Gb-CF0Fqhxt.js","assets/RecoveryOAuthStatusScreen-Ce6qiP-3-C393MPxe.js","assets/styles-BxA7nKxI-DmZN7nyb.js","assets/RecoverySelectionScreen-_u02vomS-8mmczuYI.js","assets/LockClosedIcon-Nl8mwNi_.js","assets/index-DNmMGazz-BUw5KgO9.js","assets/JsonTree-Bvd2C29R-BArNqXMd.js","assets/TransactionErrorView-RLIeHdul--tkip_Ov.js","assets/SetAutomaticRecoveryScreen-CUheSZ7h-wjbhJL4f.js","assets/SignRequestScreen-BNC2mYtk-CKFfqRzS.js","assets/StandardSignAndSendTransactionScreen-Ckxfv32q-Bn1fZOQi.js","assets/TelegramAuthScreen-xobB3RHK-DzbBCi9S.js","assets/TransferFromWalletScreen-CLqyv8Ra-CqytdSAB.js","assets/UpdateEmailScreen-BVzkFXeI-uPFt6HZC.js","assets/UpdatePhoneScreen-DZ_resri-B1FEH4T8.js","assets/UserLimitReachedScreen-CTmSitf0-Dtpym16q.js","assets/WalletInterstitialScreen-tDCVxTFi-CQDo87XA.js","assets/MfaVerifyFlowScreen-BEt8Gfpb-CE-4pOz6.js"])))=>i.map(i=>d[i]);
function ZK(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var lo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function uu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function kU(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var C2={exports:{}},fm={};var Mk;function XK(){if(Mk)return fm;Mk=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var a=null;if(s!==void 0&&(a=""+s),i.key!==void 0&&(a=""+i.key),"key"in i){s={};for(var c in i)c!=="key"&&(s[c]=i[c])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:a,ref:i!==void 0?i:null,props:s}}return fm.Fragment=e,fm.jsx=n,fm.jsxs=n,fm}var Bk;function JK(){return Bk||(Bk=1,C2.exports=XK()),C2.exports}var pe=JK(),O2={exports:{}},vt={};var Lk;function QK(){if(Lk)return vt;Lk=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),y=Symbol.iterator;function g(D){return D===null||typeof D!="object"?null:(D=y&&D[y]||D["@@iterator"],typeof D=="function"?D:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,E={};function O(D,V,J){this.props=D,this.context=V,this.refs=E,this.updater=J||b}O.prototype.isReactComponent={},O.prototype.setState=function(D,V){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,V,"setState")},O.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function k(){}k.prototype=O.prototype;function A(D,V,J){this.props=D,this.context=V,this.refs=E,this.updater=J||b}var S=A.prototype=new k;S.constructor=A,v(S,O.prototype),S.isPureReactComponent=!0;var C=Array.isArray;function I(){}var $={H:null,A:null,T:null,S:null},z=Object.prototype.hasOwnProperty;function j(D,V,J){var X=J.ref;return{$$typeof:t,type:D,key:V,ref:X!==void 0?X:null,props:J}}function B(D,V){return j(D.type,V,D.props)}function G(D){return typeof D=="object"&&D!==null&&D.$$typeof===t}function U(D){var V={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(J){return V[J]})}var F=/\/+/g;function K(D,V){return typeof D=="object"&&D!==null&&D.key!=null?U(""+D.key):V.toString(36)}function T(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(I,I):(D.status="pending",D.then(function(V){D.status==="pending"&&(D.status="fulfilled",D.value=V)},function(V){D.status==="pending"&&(D.status="rejected",D.reason=V)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function x(D,V,J,X,Q){var ge=typeof D;(ge==="undefined"||ge==="boolean")&&(D=null);var we=!1;if(D===null)we=!0;else switch(ge){case"bigint":case"string":case"number":we=!0;break;case"object":switch(D.$$typeof){case t:case e:we=!0;break;case h:return we=D._init,x(we(D._payload),V,J,X,Q)}}if(we)return Q=Q(D),we=X===""?"."+K(D,0):X,C(Q)?(J="",we!=null&&(J=we.replace(F,"$&/")+"/"),x(Q,V,J,"",function($e){return $e})):Q!=null&&(G(Q)&&(Q=B(Q,J+(Q.key==null||D&&D.key===Q.key?"":(""+Q.key).replace(F,"$&/")+"/")+we)),V.push(Q)),1;we=0;var xe=X===""?".":X+":";if(C(D))for(var Ee=0;Ee<D.length;Ee++)X=D[Ee],ge=xe+K(X,Ee),we+=x(X,V,J,ge,Q);else if(Ee=g(D),typeof Ee=="function")for(D=Ee.call(D),Ee=0;!(X=D.next()).done;)X=X.value,ge=xe+K(X,Ee++),we+=x(X,V,J,ge,Q);else if(ge==="object"){if(typeof D.then=="function")return x(T(D),V,J,X,Q);throw V=String(D),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return we}function N(D,V,J){if(D==null)return D;var X=[],Q=0;return x(D,X,"","",function(ge){return V.call(J,ge,Q++)}),X}function L(D){if(D._status===-1){var V=D._result;V=V(),V.then(function(J){(D._status===0||D._status===-1)&&(D._status=1,D._result=J)},function(J){(D._status===0||D._status===-1)&&(D._status=2,D._result=J)}),D._status===-1&&(D._status=0,D._result=V)}if(D._status===1)return D._result.default;throw D._result}var P=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},H={map:N,forEach:function(D,V,J){N(D,function(){V.apply(this,arguments)},J)},count:function(D){var V=0;return N(D,function(){V++}),V},toArray:function(D){return N(D,function(V){return V})||[]},only:function(D){if(!G(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return vt.Activity=p,vt.Children=H,vt.Component=O,vt.Fragment=n,vt.Profiler=i,vt.PureComponent=A,vt.StrictMode=r,vt.Suspense=u,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,vt.__COMPILER_RUNTIME={__proto__:null,c:function(D){return $.H.useMemoCache(D)}},vt.cache=function(D){return function(){return D.apply(null,arguments)}},vt.cacheSignal=function(){return null},vt.cloneElement=function(D,V,J){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var X=v({},D.props),Q=D.key;if(V!=null)for(ge in V.key!==void 0&&(Q=""+V.key),V)!z.call(V,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&V.ref===void 0||(X[ge]=V[ge]);var ge=arguments.length-2;if(ge===1)X.children=J;else if(1<ge){for(var we=Array(ge),xe=0;xe<ge;xe++)we[xe]=arguments[xe+2];X.children=we}return j(D.type,Q,X)},vt.createContext=function(D){return D={$$typeof:a,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:s,_context:D},D},vt.createElement=function(D,V,J){var X,Q={},ge=null;if(V!=null)for(X in V.key!==void 0&&(ge=""+V.key),V)z.call(V,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(Q[X]=V[X]);var we=arguments.length-2;if(we===1)Q.children=J;else if(1<we){for(var xe=Array(we),Ee=0;Ee<we;Ee++)xe[Ee]=arguments[Ee+2];Q.children=xe}if(D&&D.defaultProps)for(X in we=D.defaultProps,we)Q[X]===void 0&&(Q[X]=we[X]);return j(D,ge,Q)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(D){return{$$typeof:c,render:D}},vt.isValidElement=G,vt.lazy=function(D){return{$$typeof:h,_payload:{_status:-1,_result:D},_init:L}},vt.memo=function(D,V){return{$$typeof:d,type:D,compare:V===void 0?null:V}},vt.startTransition=function(D){var V=$.T,J={};$.T=J;try{var X=D(),Q=$.S;Q!==null&&Q(J,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(I,P)}catch(ge){P(ge)}finally{V!==null&&J.types!==null&&(V.types=J.types),$.T=V}},vt.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},vt.use=function(D){return $.H.use(D)},vt.useActionState=function(D,V,J){return $.H.useActionState(D,V,J)},vt.useCallback=function(D,V){return $.H.useCallback(D,V)},vt.useContext=function(D){return $.H.useContext(D)},vt.useDebugValue=function(){},vt.useDeferredValue=function(D,V){return $.H.useDeferredValue(D,V)},vt.useEffect=function(D,V){return $.H.useEffect(D,V)},vt.useEffectEvent=function(D){return $.H.useEffectEvent(D)},vt.useId=function(){return $.H.useId()},vt.useImperativeHandle=function(D,V,J){return $.H.useImperativeHandle(D,V,J)},vt.useInsertionEffect=function(D,V){return $.H.useInsertionEffect(D,V)},vt.useLayoutEffect=function(D,V){return $.H.useLayoutEffect(D,V)},vt.useMemo=function(D,V){return $.H.useMemo(D,V)},vt.useOptimistic=function(D,V){return $.H.useOptimistic(D,V)},vt.useReducer=function(D,V,J){return $.H.useReducer(D,V,J)},vt.useRef=function(D){return $.H.useRef(D)},vt.useState=function(D){return $.H.useState(D)},vt.useSyncExternalStore=function(D,V,J){return $.H.useSyncExternalStore(D,V,J)},vt.useTransition=function(){return $.H.useTransition()},vt.version="19.2.3",vt}var jk;function hg(){return jk||(jk=1,O2.exports=QK()),O2.exports}var Y=hg();const Qe=uu(Y),zk=ZK({__proto__:null,default:Qe},[Y]);var k2={exports:{}},hm={},R2={exports:{}},N2={};var Fk;function eY(){return Fk||(Fk=1,(function(t){function e(x,N){var L=x.length;x.push(N);e:for(;0<L;){var P=L-1>>>1,H=x[P];if(0<i(H,N))x[P]=N,x[L]=H,L=P;else break e}}function n(x){return x.length===0?null:x[0]}function r(x){if(x.length===0)return null;var N=x[0],L=x.pop();if(L!==N){x[0]=L;e:for(var P=0,H=x.length,D=H>>>1;P<D;){var V=2*(P+1)-1,J=x[V],X=V+1,Q=x[X];if(0>i(J,L))X<H&&0>i(Q,J)?(x[P]=Q,x[X]=L,P=X):(x[P]=J,x[V]=L,P=V);else if(X<H&&0>i(Q,L))x[P]=Q,x[X]=L,P=X;else break e}}return N}function i(x,N){var L=x.sortIndex-N.sortIndex;return L!==0?L:x.id-N.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var u=[],d=[],h=1,p=null,y=3,g=!1,b=!1,v=!1,E=!1,O=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function S(x){for(var N=n(d);N!==null;){if(N.callback===null)r(d);else if(N.startTime<=x)r(d),N.sortIndex=N.expirationTime,e(u,N);else break;N=n(d)}}function C(x){if(v=!1,S(x),!b)if(n(u)!==null)b=!0,I||(I=!0,U());else{var N=n(d);N!==null&&T(C,N.startTime-x)}}var I=!1,$=-1,z=5,j=-1;function B(){return E?!0:!(t.unstable_now()-j<z)}function G(){if(E=!1,I){var x=t.unstable_now();j=x;var N=!0;try{e:{b=!1,v&&(v=!1,k($),$=-1),g=!0;var L=y;try{t:{for(S(x),p=n(u);p!==null&&!(p.expirationTime>x&&B());){var P=p.callback;if(typeof P=="function"){p.callback=null,y=p.priorityLevel;var H=P(p.expirationTime<=x);if(x=t.unstable_now(),typeof H=="function"){p.callback=H,S(x),N=!0;break t}p===n(u)&&r(u),S(x)}else r(u);p=n(u)}if(p!==null)N=!0;else{var D=n(d);D!==null&&T(C,D.startTime-x),N=!1}}break e}finally{p=null,y=L,g=!1}N=void 0}}finally{N?U():I=!1}}}var U;if(typeof A=="function")U=function(){A(G)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,K=F.port2;F.port1.onmessage=G,U=function(){K.postMessage(null)}}else U=function(){O(G,0)};function T(x,N){$=O(function(){x(t.unstable_now())},N)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(x){x.callback=null},t.unstable_forceFrameRate=function(x){0>x||125<x?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<x?Math.floor(1e3/x):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(x){switch(y){case 1:case 2:case 3:var N=3;break;default:N=y}var L=y;y=N;try{return x()}finally{y=L}},t.unstable_requestPaint=function(){E=!0},t.unstable_runWithPriority=function(x,N){switch(x){case 1:case 2:case 3:case 4:case 5:break;default:x=3}var L=y;y=x;try{return N()}finally{y=L}},t.unstable_scheduleCallback=function(x,N,L){var P=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?P+L:P):L=P,x){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=L+H,x={id:h++,callback:N,priorityLevel:x,startTime:L,expirationTime:H,sortIndex:-1},L>P?(x.sortIndex=L,e(d,x),n(u)===null&&x===n(d)&&(v?(k($),$=-1):v=!0,T(C,L-P))):(x.sortIndex=H,e(u,x),b||g||(b=!0,I||(I=!0,U()))),x},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(x){var N=y;return function(){var L=y;y=N;try{return x.apply(this,arguments)}finally{y=L}}}})(N2)),N2}var qk;function tY(){return qk||(qk=1,R2.exports=eY()),R2.exports}var $2={exports:{}},fi={};var Wk;function nY(){if(Wk)return fi;Wk=1;var t=hg();function e(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(u,d,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:u,containerInfo:d,implementation:h}}var a=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(u,d){if(u==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return fi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,fi.createPortal=function(u,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return s(u,d,null,h)},fi.flushSync=function(u){var d=a.T,h=r.p;try{if(a.T=null,r.p=2,u)return u()}finally{a.T=d,r.p=h,r.d.f()}},fi.preconnect=function(u,d){typeof u=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(u,d))},fi.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},fi.preinit=function(u,d){if(typeof u=="string"&&d&&typeof d.as=="string"){var h=d.as,p=c(h,d.crossOrigin),y=typeof d.integrity=="string"?d.integrity:void 0,g=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?r.d.S(u,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:p,integrity:y,fetchPriority:g}):h==="script"&&r.d.X(u,{crossOrigin:p,integrity:y,fetchPriority:g,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},fi.preinitModule=function(u,d){if(typeof u=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=c(d.as,d.crossOrigin);r.d.M(u,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(u)},fi.preload=function(u,d){if(typeof u=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,p=c(h,d.crossOrigin);r.d.L(u,h,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},fi.preloadModule=function(u,d){if(typeof u=="string")if(d){var h=c(d.as,d.crossOrigin);r.d.m(u,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(u)},fi.requestFormReset=function(u){r.d.r(u)},fi.unstable_batchedUpdates=function(u,d){return u(d)},fi.useFormState=function(u,d,h){return a.H.useFormState(u,d,h)},fi.useFormStatus=function(){return a.H.useHostTransitionStatus()},fi.version="19.2.3",fi}var Hk;function RU(){if(Hk)return $2.exports;Hk=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),$2.exports=nY(),$2.exports}var Vk;function rY(){if(Vk)return hm;Vk=1;var t=tY(),e=hg(),n=RU();function r(o){var l="https://react.dev/errors/"+o;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)l+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function s(o){var l=o,f=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(f=l.return),o=l.return;while(o)}return l.tag===3?f:null}function a(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function c(o){if(o.tag===31){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function u(o){if(s(o)!==o)throw Error(r(188))}function d(o){var l=o.alternate;if(!l){if(l=s(o),l===null)throw Error(r(188));return l!==o?null:o}for(var f=o,m=l;;){var w=f.return;if(w===null)break;var _=w.alternate;if(_===null){if(m=w.return,m!==null){f=m;continue}break}if(w.child===_.child){for(_=w.child;_;){if(_===f)return u(w),o;if(_===m)return u(w),l;_=_.sibling}throw Error(r(188))}if(f.return!==m.return)f=w,m=_;else{for(var R=!1,q=w.child;q;){if(q===f){R=!0,f=w,m=_;break}if(q===m){R=!0,m=w,f=_;break}q=q.sibling}if(!R){for(q=_.child;q;){if(q===f){R=!0,f=_,m=w;break}if(q===m){R=!0,m=_,f=w;break}q=q.sibling}if(!R)throw Error(r(189))}}if(f.alternate!==m)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?o:l}function h(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o;for(o=o.child;o!==null;){if(l=h(o),l!==null)return l;o=o.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),A=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),G=Symbol.iterator;function U(o){return o===null||typeof o!="object"?null:(o=G&&o[G]||o["@@iterator"],typeof o=="function"?o:null)}var F=Symbol.for("react.client.reference");function K(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===F?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case v:return"Fragment";case O:return"Profiler";case E:return"StrictMode";case C:return"Suspense";case I:return"SuspenseList";case j:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case b:return"Portal";case A:return o.displayName||"Context";case k:return(o._context.displayName||"Context")+".Consumer";case S:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case $:return l=o.displayName||null,l!==null?l:K(o.type)||"Memo";case z:l=o._payload,o=o._init;try{return K(o(l))}catch{}}return null}var T=Array.isArray,x=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L={pending:!1,data:null,method:null,action:null},P=[],H=-1;function D(o){return{current:o}}function V(o){0>H||(o.current=P[H],P[H]=null,H--)}function J(o,l){H++,P[H]=o.current,o.current=l}var X=D(null),Q=D(null),ge=D(null),we=D(null);function xe(o,l){switch(J(ge,l),J(Q,o),J(X,null),l.nodeType){case 9:case 11:o=(o=l.documentElement)&&(o=o.namespaceURI)?ak(o):0;break;default:if(o=l.tagName,l=l.namespaceURI)l=ak(l),o=ok(l,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}V(X),J(X,o)}function Ee(){V(X),V(Q),V(ge)}function $e(o){o.memoizedState!==null&&J(we,o);var l=X.current,f=ok(l,o.type);l!==f&&(J(Q,o),J(X,f))}function Fe(o){Q.current===o&&(V(X),V(Q)),we.current===o&&(V(we),cm._currentValue=L)}var tt,me;function St(o){if(tt===void 0)try{throw Error()}catch(f){var l=f.stack.trim().match(/\n( *(at )?)/);tt=l&&l[1]||"",me=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+tt+o+me}var Ht=!1;function gt(o,l){if(!o||Ht)return"";Ht=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(l){var Ae=function(){throw Error()};if(Object.defineProperty(Ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ae,[])}catch(ye){var he=ye}Reflect.construct(o,[],Ae)}else{try{Ae.call()}catch(ye){he=ye}o.call(Ae.prototype)}}else{try{throw Error()}catch(ye){he=ye}(Ae=o())&&typeof Ae.catch=="function"&&Ae.catch(function(){})}}catch(ye){if(ye&&he&&typeof ye.stack=="string")return[ye.stack,he.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=m.DetermineComponentFrameRoot(),R=_[0],q=_[1];if(R&&q){var ne=R.split(`
`),de=q.split(`
`);for(w=m=0;m<ne.length&&!ne[m].includes("DetermineComponentFrameRoot");)m++;for(;w<de.length&&!de[w].includes("DetermineComponentFrameRoot");)w++;if(m===ne.length||w===de.length)for(m=ne.length-1,w=de.length-1;1<=m&&0<=w&&ne[m]!==de[w];)w--;for(;1<=m&&0<=w;m--,w--)if(ne[m]!==de[w]){if(m!==1||w!==1)do if(m--,w--,0>w||ne[m]!==de[w]){var ve=`
`+ne[m].replace(" at new "," at ");return o.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",o.displayName)),ve}while(1<=m&&0<=w);break}}}finally{Ht=!1,Error.prepareStackTrace=f}return(f=o?o.displayName||o.name:"")?St(f):""}function li(o,l){switch(o.tag){case 26:case 27:case 5:return St(o.type);case 16:return St("Lazy");case 13:return o.child!==l&&l!==null?St("Suspense Fallback"):St("Suspense");case 19:return St("SuspenseList");case 0:case 15:return gt(o.type,!1);case 11:return gt(o.type.render,!1);case 1:return gt(o.type,!0);case 31:return St("Activity");default:return""}}function qt(o){try{var l="",f=null;do l+=li(o,f),f=o,o=o.return;while(o);return l}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var Be=Object.prototype.hasOwnProperty,He=t.unstable_scheduleCallback,ui=t.unstable_cancelCallback,di=t.unstable_shouldYield,ut=t.unstable_requestPaint,gn=t.unstable_now,fa=t.unstable_getCurrentPriorityLevel,as=t.unstable_ImmediatePriority,Ri=t.unstable_UserBlockingPriority,fn=t.unstable_NormalPriority,Or=t.unstable_LowPriority,Wr=t.unstable_IdlePriority,At=t.log,nt=t.unstable_setDisableYieldValue,ot=null,dt=null;function xn(o){if(typeof At=="function"&&nt(o),dt&&typeof dt.setStrictMode=="function")try{dt.setStrictMode(ot,o)}catch{}}var Kt=Math.clz32?Math.clz32:kr,kt=Math.log,Ge=Math.LN2;function kr(o){return o>>>=0,o===0?32:31-(kt(o)/Ge|0)|0}var Hr=256,Ni=262144,bt=4194304;function os(o){var l=o&42;if(l!==0)return l;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function $o(o,l,f){var m=o.pendingLanes;if(m===0)return 0;var w=0,_=o.suspendedLanes,R=o.pingedLanes;o=o.warmLanes;var q=m&134217727;return q!==0?(m=q&~_,m!==0?w=os(m):(R&=q,R!==0?w=os(R):f||(f=q&~o,f!==0&&(w=os(f))))):(q=m&~_,q!==0?w=os(q):R!==0?w=os(R):f||(f=m&~o,f!==0&&(w=os(f)))),w===0?0:l!==0&&l!==w&&(l&_)===0&&(_=w&-w,f=l&-l,_>=f||_===32&&(f&4194048)!==0)?l:w}function qa(o,l){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&l)===0}function bu(o,l){switch(o){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wu(){var o=bt;return bt<<=1,(bt&62914560)===0&&(bt=4194304),o}function M(o){for(var l=[],f=0;31>f;f++)l.push(o);return l}function W(o,l){o.pendingLanes|=l,l!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function te(o,l,f,m,w,_){var R=o.pendingLanes;o.pendingLanes=f,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=f,o.entangledLanes&=f,o.errorRecoveryDisabledLanes&=f,o.shellSuspendCounter=0;var q=o.entanglements,ne=o.expirationTimes,de=o.hiddenUpdates;for(f=R&~f;0<f;){var ve=31-Kt(f),Ae=1<<ve;q[ve]=0,ne[ve]=-1;var he=de[ve];if(he!==null)for(de[ve]=null,ve=0;ve<he.length;ve++){var ye=he[ve];ye!==null&&(ye.lane&=-536870913)}f&=~Ae}m!==0&&ee(o,m,0),_!==0&&w===0&&o.tag!==0&&(o.suspendedLanes|=_&~(R&~l))}function ee(o,l,f){o.pendingLanes|=l,o.suspendedLanes&=~l;var m=31-Kt(l);o.entangledLanes|=l,o.entanglements[m]=o.entanglements[m]|1073741824|f&261930}function se(o,l){var f=o.entangledLanes|=l;for(o=o.entanglements;f;){var m=31-Kt(f),w=1<<m;w&l|o[m]&l&&(o[m]|=l),f&=~w}}function le(o,l){var f=l&-l;return f=(f&42)!==0?1:Te(f),(f&(o.suspendedLanes|l))!==0?0:f}function Te(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Re(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Ze(){var o=N.p;return o!==0?o:(o=window.event,o===void 0?32:kk(o.type))}function ht(o,l){var f=N.p;try{return N.p=o,l()}finally{N.p=f}}var $t=Math.random().toString(36).slice(2),pt="__reactFiber$"+$t,xt="__reactProps$"+$t,Xe="__reactContainer$"+$t,tn="__reactEvents$"+$t,nn="__reactListeners$"+$t,ir="__reactHandles$"+$t,vr="__reactResources$"+$t,Hn="__reactMarker$"+$t;function on(o){delete o[pt],delete o[xt],delete o[tn],delete o[nn],delete o[ir]}function Vn(o){var l=o[pt];if(l)return l;for(var f=o.parentNode;f;){if(l=f[Xe]||f[pt]){if(f=l.alternate,l.child!==null||f!==null&&f.child!==null)for(o=pk(o);o!==null;){if(f=o[pt])return f;o=pk(o)}return l}o=f,f=o.parentNode}return null}function Gn(o){if(o=o[pt]||o[Xe]){var l=o.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return o}return null}function Ns(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o.stateNode;throw Error(r(33))}function ha(o){var l=o[vr];return l||(l=o[vr]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function ct(o){o[Hn]=!0}var bn=new Set,wt={};function cn(o,l){Rr(o,l),Rr(o+"Capture",l)}function Rr(o,l){for(wt[o]=l,o=0;o<l.length;o++)bn.add(l[o])}var Po=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pa={},Jd={};function wp(o){return Be.call(Jd,o)?!0:Be.call(pa,o)?!1:Po.test(o)?Jd[o]=!0:(pa[o]=!0,!1)}function Qd(o,l,f){if(wp(l))if(f===null)o.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":o.removeAttribute(l);return;case"boolean":var m=l.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){o.removeAttribute(l);return}}o.setAttribute(l,""+f)}}function ef(o,l,f){if(f===null)o.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(l);return}o.setAttribute(l,""+f)}}function ma(o,l,f,m){if(m===null)o.removeAttribute(f);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(f);return}o.setAttributeNS(l,f,""+m)}}function $i(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function d0(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function I_(o,l,f){var m=Object.getOwnPropertyDescriptor(o.constructor.prototype,l);if(!o.hasOwnProperty(l)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var w=m.get,_=m.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return w.call(this)},set:function(R){f=""+R,_.call(this,R)}}),Object.defineProperty(o,l,{enumerable:m.enumerable}),{getValue:function(){return f},setValue:function(R){f=""+R},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function vp(o){if(!o._valueTracker){var l=d0(o)?"checked":"value";o._valueTracker=I_(o,l,""+o[l])}}function f0(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var f=l.getValue(),m="";return o&&(m=d0(o)?o.checked?"true":"false":o.value),o=m,o!==f?(l.setValue(o),!0):!1}function tf(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var C_=/[\n"\\]/g;function Pi(o){return o.replace(C_,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function _p(o,l,f,m,w,_,R,q){o.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?o.type=R:o.removeAttribute("type"),l!=null?R==="number"?(l===0&&o.value===""||o.value!=l)&&(o.value=""+$i(l)):o.value!==""+$i(l)&&(o.value=""+$i(l)):R!=="submit"&&R!=="reset"||o.removeAttribute("value"),l!=null?Ep(o,R,$i(l)):f!=null?Ep(o,R,$i(f)):m!=null&&o.removeAttribute("value"),w==null&&_!=null&&(o.defaultChecked=!!_),w!=null&&(o.checked=w&&typeof w!="function"&&typeof w!="symbol"),q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"?o.name=""+$i(q):o.removeAttribute("name")}function h0(o,l,f,m,w,_,R,q){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(o.type=_),l!=null||f!=null){if(!(_!=="submit"&&_!=="reset"||l!=null)){vp(o);return}f=f!=null?""+$i(f):"",l=l!=null?""+$i(l):f,q||l===o.value||(o.value=l),o.defaultValue=l}m=m??w,m=typeof m!="function"&&typeof m!="symbol"&&!!m,o.checked=q?o.checked:!!m,o.defaultChecked=!!m,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(o.name=R),vp(o)}function Ep(o,l,f){l==="number"&&tf(o.ownerDocument)===o||o.defaultValue===""+f||(o.defaultValue=""+f)}function Hc(o,l,f,m){if(o=o.options,l){l={};for(var w=0;w<f.length;w++)l["$"+f[w]]=!0;for(f=0;f<o.length;f++)w=l.hasOwnProperty("$"+o[f].value),o[f].selected!==w&&(o[f].selected=w),w&&m&&(o[f].defaultSelected=!0)}else{for(f=""+$i(f),l=null,w=0;w<o.length;w++){if(o[w].value===f){o[w].selected=!0,m&&(o[w].defaultSelected=!0);return}l!==null||o[w].disabled||(l=o[w])}l!==null&&(l.selected=!0)}}function p0(o,l,f){if(l!=null&&(l=""+$i(l),l!==o.value&&(o.value=l),f==null)){o.defaultValue!==l&&(o.defaultValue=l);return}o.defaultValue=f!=null?""+$i(f):""}function m0(o,l,f,m){if(l==null){if(m!=null){if(f!=null)throw Error(r(92));if(T(m)){if(1<m.length)throw Error(r(93));m=m[0]}f=m}f==null&&(f=""),l=f}f=$i(l),o.defaultValue=f,m=o.textContent,m===f&&m!==""&&m!==null&&(o.value=m),vp(o)}function Vc(o,l){if(l){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=l;return}}o.textContent=l}var O_=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function y0(o,l,f){var m=l.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?m?o.setProperty(l,""):l==="float"?o.cssFloat="":o[l]="":m?o.setProperty(l,f):typeof f!="number"||f===0||O_.has(l)?l==="float"?o.cssFloat=f:o[l]=(""+f).trim():o[l]=f+"px"}function g0(o,l,f){if(l!=null&&typeof l!="object")throw Error(r(62));if(o=o.style,f!=null){for(var m in f)!f.hasOwnProperty(m)||l!=null&&l.hasOwnProperty(m)||(m.indexOf("--")===0?o.setProperty(m,""):m==="float"?o.cssFloat="":o[m]="");for(var w in l)m=l[w],l.hasOwnProperty(w)&&f[w]!==m&&y0(o,w,m)}else for(var _ in l)l.hasOwnProperty(_)&&y0(o,_,l[_])}function Sp(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var k_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),R_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function nf(o){return R_.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function ya(){}var Ap=null;function xp(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Gc=null,Kc=null;function b0(o){var l=Gn(o);if(l&&(o=l.stateNode)){var f=o[xt]||null;e:switch(o=l.stateNode,l.type){case"input":if(_p(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),l=f.name,f.type==="radio"&&l!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+Pi(""+l)+'"][type="radio"]'),l=0;l<f.length;l++){var m=f[l];if(m!==o&&m.form===o.form){var w=m[xt]||null;if(!w)throw Error(r(90));_p(m,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(l=0;l<f.length;l++)m=f[l],m.form===o.form&&f0(m)}break e;case"textarea":p0(o,f.value,f.defaultValue);break e;case"select":l=f.value,l!=null&&Hc(o,!!f.multiple,l,!1)}}}var Tp=!1;function w0(o,l,f){if(Tp)return o(l,f);Tp=!0;try{var m=o(l);return m}finally{if(Tp=!1,(Gc!==null||Kc!==null)&&(rb(),Gc&&(l=Gc,o=Kc,Kc=Gc=null,b0(l),o)))for(l=0;l<o.length;l++)b0(o[l])}}function vu(o,l){var f=o.stateNode;if(f===null)return null;var m=f[xt]||null;if(m===null)return null;f=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(o=o.type,m=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!m;break e;default:o=!1}if(o)return null;if(f&&typeof f!="function")throw Error(r(231,l,typeof f));return f}var $s=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ip=!1;if($s)try{var ce={};Object.defineProperty(ce,"passive",{get:function(){Ip=!0}}),window.addEventListener("test",ce,ce),window.removeEventListener("test",ce,ce)}catch{Ip=!1}var Z=null,re=null,be=null;function ke(){if(be)return be;var o,l=re,f=l.length,m,w="value"in Z?Z.value:Z.textContent,_=w.length;for(o=0;o<f&&l[o]===w[o];o++);var R=f-o;for(m=1;m<=R&&l[f-m]===w[_-m];m++);return be=w.slice(o,1<m?1-m:void 0)}function Tt(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function kn(){return!0}function Vr(){return!1}function _r(o){function l(f,m,w,_,R){this._reactName=f,this._targetInst=w,this.type=m,this.nativeEvent=_,this.target=R,this.currentTarget=null;for(var q in o)o.hasOwnProperty(q)&&(f=o[q],this[q]=f?f(_):_[q]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?kn:Vr,this.isPropagationStopped=Vr,this}return p(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=kn)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=kn)},persist:function(){},isPersistent:kn}),l}var Do={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rf=_r(Do),Yc=p({},Do,{view:0,detail:0}),v0=_r(Yc),sf,af,Cp,_0=p({},Yc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$_,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Cp&&(Cp&&o.type==="mousemove"?(sf=o.screenX-Cp.screenX,af=o.screenY-Cp.screenY):af=sf=0,Cp=o),sf)},movementY:function(o){return"movementY"in o?o.movementY:af}}),lC=_r(_0),YV=p({},_0,{dataTransfer:0}),ZV=_r(YV),XV=p({},Yc,{relatedTarget:0}),N_=_r(XV),JV=p({},Do,{animationName:0,elapsedTime:0,pseudoElement:0}),QV=_r(JV),eG=p({},Do,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),tG=_r(eG),nG=p({},Do,{data:0}),uC=_r(nG),rG={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iG={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sG={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aG(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=sG[o])?!!l[o]:!1}function $_(){return aG}var oG=p({},Yc,{key:function(o){if(o.key){var l=rG[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=Tt(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?iG[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$_,charCode:function(o){return o.type==="keypress"?Tt(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Tt(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),cG=_r(oG),lG=p({},_0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dC=_r(lG),uG=p({},Yc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$_}),dG=_r(uG),fG=p({},Do,{propertyName:0,elapsedTime:0,pseudoElement:0}),hG=_r(fG),pG=p({},_0,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),mG=_r(pG),yG=p({},Do,{newState:0,oldState:0}),gG=_r(yG),bG=[9,13,27,32],P_=$s&&"CompositionEvent"in window,Op=null;$s&&"documentMode"in document&&(Op=document.documentMode);var wG=$s&&"TextEvent"in window&&!Op,fC=$s&&(!P_||Op&&8<Op&&11>=Op),hC=" ",pC=!1;function mC(o,l){switch(o){case"keyup":return bG.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yC(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var of=!1;function vG(o,l){switch(o){case"compositionend":return yC(l);case"keypress":return l.which!==32?null:(pC=!0,hC);case"textInput":return o=l.data,o===hC&&pC?null:o;default:return null}}function _G(o,l){if(of)return o==="compositionend"||!P_&&mC(o,l)?(o=ke(),be=re=Z=null,of=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return fC&&l.locale!=="ko"?null:l.data;default:return null}}var EG={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gC(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!EG[o.type]:l==="textarea"}function bC(o,l,f,m){Gc?Kc?Kc.push(m):Kc=[m]:Gc=m,l=ub(l,"onChange"),0<l.length&&(f=new rf("onChange","change",null,f,m),o.push({event:f,listeners:l}))}var kp=null,Rp=null;function SG(o){ek(o,0)}function E0(o){var l=Ns(o);if(f0(l))return o}function wC(o,l){if(o==="change")return l}var vC=!1;if($s){var D_;if($s){var U_="oninput"in document;if(!U_){var _C=document.createElement("div");_C.setAttribute("oninput","return;"),U_=typeof _C.oninput=="function"}D_=U_}else D_=!1;vC=D_&&(!document.documentMode||9<document.documentMode)}function EC(){kp&&(kp.detachEvent("onpropertychange",SC),Rp=kp=null)}function SC(o){if(o.propertyName==="value"&&E0(Rp)){var l=[];bC(l,Rp,o,xp(o)),w0(SG,l)}}function AG(o,l,f){o==="focusin"?(EC(),kp=l,Rp=f,kp.attachEvent("onpropertychange",SC)):o==="focusout"&&EC()}function xG(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return E0(Rp)}function TG(o,l){if(o==="click")return E0(l)}function IG(o,l){if(o==="input"||o==="change")return E0(l)}function CG(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var cs=typeof Object.is=="function"?Object.is:CG;function Np(o,l){if(cs(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var f=Object.keys(o),m=Object.keys(l);if(f.length!==m.length)return!1;for(m=0;m<f.length;m++){var w=f[m];if(!Be.call(l,w)||!cs(o[w],l[w]))return!1}return!0}function AC(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function xC(o,l){var f=AC(o);o=0;for(var m;f;){if(f.nodeType===3){if(m=o+f.textContent.length,o<=l&&m>=l)return{node:f,offset:l-o};o=m}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=AC(f)}}function TC(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?TC(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function IC(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var l=tf(o.document);l instanceof o.HTMLIFrameElement;){try{var f=typeof l.contentWindow.location.href=="string"}catch{f=!1}if(f)o=l.contentWindow;else break;l=tf(o.document)}return l}function M_(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}var OG=$s&&"documentMode"in document&&11>=document.documentMode,cf=null,B_=null,$p=null,L_=!1;function CC(o,l,f){var m=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;L_||cf==null||cf!==tf(m)||(m=cf,"selectionStart"in m&&M_(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),$p&&Np($p,m)||($p=m,m=ub(B_,"onSelect"),0<m.length&&(l=new rf("onSelect","select",null,l,f),o.push({event:l,listeners:m}),l.target=cf)))}function _u(o,l){var f={};return f[o.toLowerCase()]=l.toLowerCase(),f["Webkit"+o]="webkit"+l,f["Moz"+o]="moz"+l,f}var lf={animationend:_u("Animation","AnimationEnd"),animationiteration:_u("Animation","AnimationIteration"),animationstart:_u("Animation","AnimationStart"),transitionrun:_u("Transition","TransitionRun"),transitionstart:_u("Transition","TransitionStart"),transitioncancel:_u("Transition","TransitionCancel"),transitionend:_u("Transition","TransitionEnd")},j_={},OC={};$s&&(OC=document.createElement("div").style,"AnimationEvent"in window||(delete lf.animationend.animation,delete lf.animationiteration.animation,delete lf.animationstart.animation),"TransitionEvent"in window||delete lf.transitionend.transition);function Eu(o){if(j_[o])return j_[o];if(!lf[o])return o;var l=lf[o],f;for(f in l)if(l.hasOwnProperty(f)&&f in OC)return j_[o]=l[f];return o}var kC=Eu("animationend"),RC=Eu("animationiteration"),NC=Eu("animationstart"),kG=Eu("transitionrun"),RG=Eu("transitionstart"),NG=Eu("transitioncancel"),$C=Eu("transitionend"),PC=new Map,z_="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");z_.push("scrollEnd");function ga(o,l){PC.set(o,l),cn(l,[o])}var S0=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},Ps=[],uf=0,F_=0;function A0(){for(var o=uf,l=F_=uf=0;l<o;){var f=Ps[l];Ps[l++]=null;var m=Ps[l];Ps[l++]=null;var w=Ps[l];Ps[l++]=null;var _=Ps[l];if(Ps[l++]=null,m!==null&&w!==null){var R=m.pending;R===null?w.next=w:(w.next=R.next,R.next=w),m.pending=w}_!==0&&DC(f,w,_)}}function x0(o,l,f,m){Ps[uf++]=o,Ps[uf++]=l,Ps[uf++]=f,Ps[uf++]=m,F_|=m,o.lanes|=m,o=o.alternate,o!==null&&(o.lanes|=m)}function q_(o,l,f,m){return x0(o,l,f,m),T0(o)}function Su(o,l){return x0(o,null,null,l),T0(o)}function DC(o,l,f){o.lanes|=f;var m=o.alternate;m!==null&&(m.lanes|=f);for(var w=!1,_=o.return;_!==null;)_.childLanes|=f,m=_.alternate,m!==null&&(m.childLanes|=f),_.tag===22&&(o=_.stateNode,o===null||o._visibility&1||(w=!0)),o=_,_=_.return;return o.tag===3?(_=o.stateNode,w&&l!==null&&(w=31-Kt(f),o=_.hiddenUpdates,m=o[w],m===null?o[w]=[l]:m.push(l),l.lane=f|536870912),_):null}function T0(o){if(50<tm)throw tm=0,JE=null,Error(r(185));for(var l=o.return;l!==null;)o=l,l=o.return;return o.tag===3?o.stateNode:null}var df={};function $G(o,l,f,m){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ls(o,l,f,m){return new $G(o,l,f,m)}function W_(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Uo(o,l){var f=o.alternate;return f===null?(f=ls(o.tag,l,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=l,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&65011712,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,l=o.dependencies,f.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f.refCleanup=o.refCleanup,f}function UC(o,l){o.flags&=65011714;var f=o.alternate;return f===null?(o.childLanes=0,o.lanes=l,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=f.childLanes,o.lanes=f.lanes,o.child=f.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=f.memoizedProps,o.memoizedState=f.memoizedState,o.updateQueue=f.updateQueue,o.type=f.type,l=f.dependencies,o.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),o}function I0(o,l,f,m,w,_){var R=0;if(m=o,typeof o=="function")W_(o)&&(R=1);else if(typeof o=="string")R=BK(o,f,X.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case j:return o=ls(31,f,l,w),o.elementType=j,o.lanes=_,o;case v:return Au(f.children,w,_,l);case E:R=8,w|=24;break;case O:return o=ls(12,f,l,w|2),o.elementType=O,o.lanes=_,o;case C:return o=ls(13,f,l,w),o.elementType=C,o.lanes=_,o;case I:return o=ls(19,f,l,w),o.elementType=I,o.lanes=_,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case A:R=10;break e;case k:R=9;break e;case S:R=11;break e;case $:R=14;break e;case z:R=16,m=null;break e}R=29,f=Error(r(130,o===null?"null":typeof o,"")),m=null}return l=ls(R,f,l,w),l.elementType=o,l.type=m,l.lanes=_,l}function Au(o,l,f,m){return o=ls(7,o,m,l),o.lanes=f,o}function H_(o,l,f){return o=ls(6,o,null,l),o.lanes=f,o}function MC(o){var l=ls(18,null,null,0);return l.stateNode=o,l}function V_(o,l,f){return l=ls(4,o.children!==null?o.children:[],o.key,l),l.lanes=f,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}var BC=new WeakMap;function Ds(o,l){if(typeof o=="object"&&o!==null){var f=BC.get(o);return f!==void 0?f:(l={value:o,source:l,stack:qt(l)},BC.set(o,l),l)}return{value:o,source:l,stack:qt(l)}}var ff=[],hf=0,C0=null,Pp=0,Us=[],Ms=0,Zc=null,Wa=1,Ha="";function Mo(o,l){ff[hf++]=Pp,ff[hf++]=C0,C0=o,Pp=l}function LC(o,l,f){Us[Ms++]=Wa,Us[Ms++]=Ha,Us[Ms++]=Zc,Zc=o;var m=Wa;o=Ha;var w=32-Kt(m)-1;m&=~(1<<w),f+=1;var _=32-Kt(l)+w;if(30<_){var R=w-w%5;_=(m&(1<<R)-1).toString(32),m>>=R,w-=R,Wa=1<<32-Kt(l)+w|f<<w|m,Ha=_+o}else Wa=1<<_|f<<w|m,Ha=o}function G_(o){o.return!==null&&(Mo(o,1),LC(o,1,0))}function K_(o){for(;o===C0;)C0=ff[--hf],ff[hf]=null,Pp=ff[--hf],ff[hf]=null;for(;o===Zc;)Zc=Us[--Ms],Us[Ms]=null,Ha=Us[--Ms],Us[Ms]=null,Wa=Us[--Ms],Us[Ms]=null}function jC(o,l){Us[Ms++]=Wa,Us[Ms++]=Ha,Us[Ms++]=Zc,Wa=l.id,Ha=l.overflow,Zc=o}var Gr=null,Rn=null,jt=!1,Xc=null,Bs=!1,Y_=Error(r(519));function Jc(o){var l=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Dp(Ds(l,o)),Y_}function zC(o){var l=o.stateNode,f=o.type,m=o.memoizedProps;switch(l[pt]=o,l[xt]=m,f){case"dialog":Ut("cancel",l),Ut("close",l);break;case"iframe":case"object":case"embed":Ut("load",l);break;case"video":case"audio":for(f=0;f<rm.length;f++)Ut(rm[f],l);break;case"source":Ut("error",l);break;case"img":case"image":case"link":Ut("error",l),Ut("load",l);break;case"details":Ut("toggle",l);break;case"input":Ut("invalid",l),h0(l,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":Ut("invalid",l);break;case"textarea":Ut("invalid",l),m0(l,m.value,m.defaultValue,m.children)}f=m.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||l.textContent===""+f||m.suppressHydrationWarning===!0||ik(l.textContent,f)?(m.popover!=null&&(Ut("beforetoggle",l),Ut("toggle",l)),m.onScroll!=null&&Ut("scroll",l),m.onScrollEnd!=null&&Ut("scrollend",l),m.onClick!=null&&(l.onclick=ya),l=!0):l=!1,l||Jc(o,!0)}function FC(o){for(Gr=o.return;Gr;)switch(Gr.tag){case 5:case 31:case 13:Bs=!1;return;case 27:case 3:Bs=!0;return;default:Gr=Gr.return}}function pf(o){if(o!==Gr)return!1;if(!jt)return FC(o),jt=!0,!1;var l=o.tag,f;if((f=l!==3&&l!==27)&&((f=l===5)&&(f=o.type,f=!(f!=="form"&&f!=="button")||h2(o.type,o.memoizedProps)),f=!f),f&&Rn&&Jc(o),FC(o),l===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));Rn=hk(o)}else if(l===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));Rn=hk(o)}else l===27?(l=Rn,fl(o.type)?(o=b2,b2=null,Rn=o):Rn=l):Rn=Gr?js(o.stateNode.nextSibling):null;return!0}function xu(){Rn=Gr=null,jt=!1}function Z_(){var o=Xc;return o!==null&&(Bi===null?Bi=o:Bi.push.apply(Bi,o),Xc=null),o}function Dp(o){Xc===null?Xc=[o]:Xc.push(o)}var X_=D(null),Tu=null,Bo=null;function Qc(o,l,f){J(X_,l._currentValue),l._currentValue=f}function Lo(o){o._currentValue=X_.current,V(X_)}function J_(o,l,f){for(;o!==null;){var m=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),o===f)break;o=o.return}}function Q_(o,l,f,m){var w=o.child;for(w!==null&&(w.return=o);w!==null;){var _=w.dependencies;if(_!==null){var R=w.child;_=_.firstContext;e:for(;_!==null;){var q=_;_=w;for(var ne=0;ne<l.length;ne++)if(q.context===l[ne]){_.lanes|=f,q=_.alternate,q!==null&&(q.lanes|=f),J_(_.return,f,o),m||(R=null);break e}_=q.next}}else if(w.tag===18){if(R=w.return,R===null)throw Error(r(341));R.lanes|=f,_=R.alternate,_!==null&&(_.lanes|=f),J_(R,f,o),R=null}else R=w.child;if(R!==null)R.return=w;else for(R=w;R!==null;){if(R===o){R=null;break}if(w=R.sibling,w!==null){w.return=R.return,R=w;break}R=R.return}w=R}}function mf(o,l,f,m){o=null;for(var w=l,_=!1;w!==null;){if(!_){if((w.flags&524288)!==0)_=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var R=w.alternate;if(R===null)throw Error(r(387));if(R=R.memoizedProps,R!==null){var q=w.type;cs(w.pendingProps.value,R.value)||(o!==null?o.push(q):o=[q])}}else if(w===we.current){if(R=w.alternate,R===null)throw Error(r(387));R.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(o!==null?o.push(cm):o=[cm])}w=w.return}o!==null&&Q_(l,o,f,m),l.flags|=262144}function O0(o){for(o=o.firstContext;o!==null;){if(!cs(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Iu(o){Tu=o,Bo=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Kr(o){return qC(Tu,o)}function k0(o,l){return Tu===null&&Iu(o),qC(o,l)}function qC(o,l){var f=l._currentValue;if(l={context:l,memoizedValue:f,next:null},Bo===null){if(o===null)throw Error(r(308));Bo=l,o.dependencies={lanes:0,firstContext:l},o.flags|=524288}else Bo=Bo.next=l;return f}var PG=typeof AbortController<"u"?AbortController:function(){var o=[],l=this.signal={aborted:!1,addEventListener:function(f,m){o.push(m)}};this.abort=function(){l.aborted=!0,o.forEach(function(f){return f()})}},DG=t.unstable_scheduleCallback,UG=t.unstable_NormalPriority,sr={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function eE(){return{controller:new PG,data:new Map,refCount:0}}function Up(o){o.refCount--,o.refCount===0&&DG(UG,function(){o.controller.abort()})}var Mp=null,tE=0,yf=0,gf=null;function MG(o,l){if(Mp===null){var f=Mp=[];tE=0,yf=i2(),gf={status:"pending",value:void 0,then:function(m){f.push(m)}}}return tE++,l.then(WC,WC),l}function WC(){if(--tE===0&&Mp!==null){gf!==null&&(gf.status="fulfilled");var o=Mp;Mp=null,yf=0,gf=null;for(var l=0;l<o.length;l++)(0,o[l])()}}function BG(o,l){var f=[],m={status:"pending",value:null,reason:null,then:function(w){f.push(w)}};return o.then(function(){m.status="fulfilled",m.value=l;for(var w=0;w<f.length;w++)(0,f[w])(l)},function(w){for(m.status="rejected",m.reason=w,w=0;w<f.length;w++)(0,f[w])(void 0)}),m}var HC=x.S;x.S=function(o,l){C8=gn(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&MG(o,l),HC!==null&&HC(o,l)};var Cu=D(null);function nE(){var o=Cu.current;return o!==null?o:wn.pooledCache}function R0(o,l){l===null?J(Cu,Cu.current):J(Cu,l.pool)}function VC(){var o=nE();return o===null?null:{parent:sr._currentValue,pool:o}}var bf=Error(r(460)),rE=Error(r(474)),N0=Error(r(542)),$0={then:function(){}};function GC(o){return o=o.status,o==="fulfilled"||o==="rejected"}function KC(o,l,f){switch(f=o[f],f===void 0?o.push(l):f!==l&&(l.then(ya,ya),l=f),l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,ZC(o),o;default:if(typeof l.status=="string")l.then(ya,ya);else{if(o=wn,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=l,o.status="pending",o.then(function(m){if(l.status==="pending"){var w=l;w.status="fulfilled",w.value=m}},function(m){if(l.status==="pending"){var w=l;w.status="rejected",w.reason=m}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,ZC(o),o}throw ku=l,bf}}function Ou(o){try{var l=o._init;return l(o._payload)}catch(f){throw f!==null&&typeof f=="object"&&typeof f.then=="function"?(ku=f,bf):f}}var ku=null;function YC(){if(ku===null)throw Error(r(459));var o=ku;return ku=null,o}function ZC(o){if(o===bf||o===N0)throw Error(r(483))}var wf=null,Bp=0;function P0(o){var l=Bp;return Bp+=1,wf===null&&(wf=[]),KC(wf,o,l)}function Lp(o,l){l=l.props.ref,o.ref=l!==void 0?l:null}function D0(o,l){throw l.$$typeof===y?Error(r(525)):(o=Object.prototype.toString.call(l),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o)))}function XC(o){function l(oe,ie){if(o){var ue=oe.deletions;ue===null?(oe.deletions=[ie],oe.flags|=16):ue.push(ie)}}function f(oe,ie){if(!o)return null;for(;ie!==null;)l(oe,ie),ie=ie.sibling;return null}function m(oe){for(var ie=new Map;oe!==null;)oe.key!==null?ie.set(oe.key,oe):ie.set(oe.index,oe),oe=oe.sibling;return ie}function w(oe,ie){return oe=Uo(oe,ie),oe.index=0,oe.sibling=null,oe}function _(oe,ie,ue){return oe.index=ue,o?(ue=oe.alternate,ue!==null?(ue=ue.index,ue<ie?(oe.flags|=67108866,ie):ue):(oe.flags|=67108866,ie)):(oe.flags|=1048576,ie)}function R(oe){return o&&oe.alternate===null&&(oe.flags|=67108866),oe}function q(oe,ie,ue,Se){return ie===null||ie.tag!==6?(ie=H_(ue,oe.mode,Se),ie.return=oe,ie):(ie=w(ie,ue),ie.return=oe,ie)}function ne(oe,ie,ue,Se){var it=ue.type;return it===v?ve(oe,ie,ue.props.children,Se,ue.key):ie!==null&&(ie.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===z&&Ou(it)===ie.type)?(ie=w(ie,ue.props),Lp(ie,ue),ie.return=oe,ie):(ie=I0(ue.type,ue.key,ue.props,null,oe.mode,Se),Lp(ie,ue),ie.return=oe,ie)}function de(oe,ie,ue,Se){return ie===null||ie.tag!==4||ie.stateNode.containerInfo!==ue.containerInfo||ie.stateNode.implementation!==ue.implementation?(ie=V_(ue,oe.mode,Se),ie.return=oe,ie):(ie=w(ie,ue.children||[]),ie.return=oe,ie)}function ve(oe,ie,ue,Se,it){return ie===null||ie.tag!==7?(ie=Au(ue,oe.mode,Se,it),ie.return=oe,ie):(ie=w(ie,ue),ie.return=oe,ie)}function Ae(oe,ie,ue){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return ie=H_(""+ie,oe.mode,ue),ie.return=oe,ie;if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case g:return ue=I0(ie.type,ie.key,ie.props,null,oe.mode,ue),Lp(ue,ie),ue.return=oe,ue;case b:return ie=V_(ie,oe.mode,ue),ie.return=oe,ie;case z:return ie=Ou(ie),Ae(oe,ie,ue)}if(T(ie)||U(ie))return ie=Au(ie,oe.mode,ue,null),ie.return=oe,ie;if(typeof ie.then=="function")return Ae(oe,P0(ie),ue);if(ie.$$typeof===A)return Ae(oe,k0(oe,ie),ue);D0(oe,ie)}return null}function he(oe,ie,ue,Se){var it=ie!==null?ie.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return it!==null?null:q(oe,ie,""+ue,Se);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case g:return ue.key===it?ne(oe,ie,ue,Se):null;case b:return ue.key===it?de(oe,ie,ue,Se):null;case z:return ue=Ou(ue),he(oe,ie,ue,Se)}if(T(ue)||U(ue))return it!==null?null:ve(oe,ie,ue,Se,null);if(typeof ue.then=="function")return he(oe,ie,P0(ue),Se);if(ue.$$typeof===A)return he(oe,ie,k0(oe,ue),Se);D0(oe,ue)}return null}function ye(oe,ie,ue,Se,it){if(typeof Se=="string"&&Se!==""||typeof Se=="number"||typeof Se=="bigint")return oe=oe.get(ue)||null,q(ie,oe,""+Se,it);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case g:return oe=oe.get(Se.key===null?ue:Se.key)||null,ne(ie,oe,Se,it);case b:return oe=oe.get(Se.key===null?ue:Se.key)||null,de(ie,oe,Se,it);case z:return Se=Ou(Se),ye(oe,ie,ue,Se,it)}if(T(Se)||U(Se))return oe=oe.get(ue)||null,ve(ie,oe,Se,it,null);if(typeof Se.then=="function")return ye(oe,ie,ue,P0(Se),it);if(Se.$$typeof===A)return ye(oe,ie,ue,k0(ie,Se),it);D0(ie,Se)}return null}function Ye(oe,ie,ue,Se){for(var it=null,Yt=null,Je=ie,Ct=ie=0,Bt=null;Je!==null&&Ct<ue.length;Ct++){Je.index>Ct?(Bt=Je,Je=null):Bt=Je.sibling;var Zt=he(oe,Je,ue[Ct],Se);if(Zt===null){Je===null&&(Je=Bt);break}o&&Je&&Zt.alternate===null&&l(oe,Je),ie=_(Zt,ie,Ct),Yt===null?it=Zt:Yt.sibling=Zt,Yt=Zt,Je=Bt}if(Ct===ue.length)return f(oe,Je),jt&&Mo(oe,Ct),it;if(Je===null){for(;Ct<ue.length;Ct++)Je=Ae(oe,ue[Ct],Se),Je!==null&&(ie=_(Je,ie,Ct),Yt===null?it=Je:Yt.sibling=Je,Yt=Je);return jt&&Mo(oe,Ct),it}for(Je=m(Je);Ct<ue.length;Ct++)Bt=ye(Je,oe,Ct,ue[Ct],Se),Bt!==null&&(o&&Bt.alternate!==null&&Je.delete(Bt.key===null?Ct:Bt.key),ie=_(Bt,ie,Ct),Yt===null?it=Bt:Yt.sibling=Bt,Yt=Bt);return o&&Je.forEach(function(gl){return l(oe,gl)}),jt&&Mo(oe,Ct),it}function lt(oe,ie,ue,Se){if(ue==null)throw Error(r(151));for(var it=null,Yt=null,Je=ie,Ct=ie=0,Bt=null,Zt=ue.next();Je!==null&&!Zt.done;Ct++,Zt=ue.next()){Je.index>Ct?(Bt=Je,Je=null):Bt=Je.sibling;var gl=he(oe,Je,Zt.value,Se);if(gl===null){Je===null&&(Je=Bt);break}o&&Je&&gl.alternate===null&&l(oe,Je),ie=_(gl,ie,Ct),Yt===null?it=gl:Yt.sibling=gl,Yt=gl,Je=Bt}if(Zt.done)return f(oe,Je),jt&&Mo(oe,Ct),it;if(Je===null){for(;!Zt.done;Ct++,Zt=ue.next())Zt=Ae(oe,Zt.value,Se),Zt!==null&&(ie=_(Zt,ie,Ct),Yt===null?it=Zt:Yt.sibling=Zt,Yt=Zt);return jt&&Mo(oe,Ct),it}for(Je=m(Je);!Zt.done;Ct++,Zt=ue.next())Zt=ye(Je,oe,Ct,Zt.value,Se),Zt!==null&&(o&&Zt.alternate!==null&&Je.delete(Zt.key===null?Ct:Zt.key),ie=_(Zt,ie,Ct),Yt===null?it=Zt:Yt.sibling=Zt,Yt=Zt);return o&&Je.forEach(function(YK){return l(oe,YK)}),jt&&Mo(oe,Ct),it}function mn(oe,ie,ue,Se){if(typeof ue=="object"&&ue!==null&&ue.type===v&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case g:e:{for(var it=ue.key;ie!==null;){if(ie.key===it){if(it=ue.type,it===v){if(ie.tag===7){f(oe,ie.sibling),Se=w(ie,ue.props.children),Se.return=oe,oe=Se;break e}}else if(ie.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===z&&Ou(it)===ie.type){f(oe,ie.sibling),Se=w(ie,ue.props),Lp(Se,ue),Se.return=oe,oe=Se;break e}f(oe,ie);break}else l(oe,ie);ie=ie.sibling}ue.type===v?(Se=Au(ue.props.children,oe.mode,Se,ue.key),Se.return=oe,oe=Se):(Se=I0(ue.type,ue.key,ue.props,null,oe.mode,Se),Lp(Se,ue),Se.return=oe,oe=Se)}return R(oe);case b:e:{for(it=ue.key;ie!==null;){if(ie.key===it)if(ie.tag===4&&ie.stateNode.containerInfo===ue.containerInfo&&ie.stateNode.implementation===ue.implementation){f(oe,ie.sibling),Se=w(ie,ue.children||[]),Se.return=oe,oe=Se;break e}else{f(oe,ie);break}else l(oe,ie);ie=ie.sibling}Se=V_(ue,oe.mode,Se),Se.return=oe,oe=Se}return R(oe);case z:return ue=Ou(ue),mn(oe,ie,ue,Se)}if(T(ue))return Ye(oe,ie,ue,Se);if(U(ue)){if(it=U(ue),typeof it!="function")throw Error(r(150));return ue=it.call(ue),lt(oe,ie,ue,Se)}if(typeof ue.then=="function")return mn(oe,ie,P0(ue),Se);if(ue.$$typeof===A)return mn(oe,ie,k0(oe,ue),Se);D0(oe,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint"?(ue=""+ue,ie!==null&&ie.tag===6?(f(oe,ie.sibling),Se=w(ie,ue),Se.return=oe,oe=Se):(f(oe,ie),Se=H_(ue,oe.mode,Se),Se.return=oe,oe=Se),R(oe)):f(oe,ie)}return function(oe,ie,ue,Se){try{Bp=0;var it=mn(oe,ie,ue,Se);return wf=null,it}catch(Je){if(Je===bf||Je===N0)throw Je;var Yt=ls(29,Je,null,oe.mode);return Yt.lanes=Se,Yt.return=oe,Yt}}}var Ru=XC(!0),JC=XC(!1),el=!1;function iE(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sE(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function tl(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function nl(o,l,f){var m=o.updateQueue;if(m===null)return null;if(m=m.shared,(en&2)!==0){var w=m.pending;return w===null?l.next=l:(l.next=w.next,w.next=l),m.pending=l,l=T0(o),DC(o,null,f),l}return x0(o,m,l,f),T0(o)}function jp(o,l,f){if(l=l.updateQueue,l!==null&&(l=l.shared,(f&4194048)!==0)){var m=l.lanes;m&=o.pendingLanes,f|=m,l.lanes=f,se(o,f)}}function aE(o,l){var f=o.updateQueue,m=o.alternate;if(m!==null&&(m=m.updateQueue,f===m)){var w=null,_=null;if(f=f.firstBaseUpdate,f!==null){do{var R={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};_===null?w=_=R:_=_.next=R,f=f.next}while(f!==null);_===null?w=_=l:_=_.next=l}else w=_=l;f={baseState:m.baseState,firstBaseUpdate:w,lastBaseUpdate:_,shared:m.shared,callbacks:m.callbacks},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=l:o.next=l,f.lastBaseUpdate=l}var oE=!1;function zp(){if(oE){var o=gf;if(o!==null)throw o}}function Fp(o,l,f,m){oE=!1;var w=o.updateQueue;el=!1;var _=w.firstBaseUpdate,R=w.lastBaseUpdate,q=w.shared.pending;if(q!==null){w.shared.pending=null;var ne=q,de=ne.next;ne.next=null,R===null?_=de:R.next=de,R=ne;var ve=o.alternate;ve!==null&&(ve=ve.updateQueue,q=ve.lastBaseUpdate,q!==R&&(q===null?ve.firstBaseUpdate=de:q.next=de,ve.lastBaseUpdate=ne))}if(_!==null){var Ae=w.baseState;R=0,ve=de=ne=null,q=_;do{var he=q.lane&-536870913,ye=he!==q.lane;if(ye?(Mt&he)===he:(m&he)===he){he!==0&&he===yf&&(oE=!0),ve!==null&&(ve=ve.next={lane:0,tag:q.tag,payload:q.payload,callback:null,next:null});e:{var Ye=o,lt=q;he=l;var mn=f;switch(lt.tag){case 1:if(Ye=lt.payload,typeof Ye=="function"){Ae=Ye.call(mn,Ae,he);break e}Ae=Ye;break e;case 3:Ye.flags=Ye.flags&-65537|128;case 0:if(Ye=lt.payload,he=typeof Ye=="function"?Ye.call(mn,Ae,he):Ye,he==null)break e;Ae=p({},Ae,he);break e;case 2:el=!0}}he=q.callback,he!==null&&(o.flags|=64,ye&&(o.flags|=8192),ye=w.callbacks,ye===null?w.callbacks=[he]:ye.push(he))}else ye={lane:he,tag:q.tag,payload:q.payload,callback:q.callback,next:null},ve===null?(de=ve=ye,ne=Ae):ve=ve.next=ye,R|=he;if(q=q.next,q===null){if(q=w.shared.pending,q===null)break;ye=q,q=ye.next,ye.next=null,w.lastBaseUpdate=ye,w.shared.pending=null}}while(!0);ve===null&&(ne=Ae),w.baseState=ne,w.firstBaseUpdate=de,w.lastBaseUpdate=ve,_===null&&(w.shared.lanes=0),ol|=R,o.lanes=R,o.memoizedState=Ae}}function QC(o,l){if(typeof o!="function")throw Error(r(191,o));o.call(l)}function eO(o,l){var f=o.callbacks;if(f!==null)for(o.callbacks=null,o=0;o<f.length;o++)QC(f[o],l)}var vf=D(null),U0=D(0);function tO(o,l){o=Ko,J(U0,o),J(vf,l),Ko=o|l.baseLanes}function cE(){J(U0,Ko),J(vf,vf.current)}function lE(){Ko=U0.current,V(vf),V(U0)}var us=D(null),Ls=null;function rl(o){var l=o.alternate;J(Xn,Xn.current&1),J(us,o),Ls===null&&(l===null||vf.current!==null||l.memoizedState!==null)&&(Ls=o)}function uE(o){J(Xn,Xn.current),J(us,o),Ls===null&&(Ls=o)}function nO(o){o.tag===22?(J(Xn,Xn.current),J(us,o),Ls===null&&(Ls=o)):il()}function il(){J(Xn,Xn.current),J(us,us.current)}function ds(o){V(us),Ls===o&&(Ls=null),V(Xn)}var Xn=D(0);function M0(o){for(var l=o;l!==null;){if(l.tag===13){var f=l.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||y2(f)||g2(f)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var jo=0,It=null,hn=null,ar=null,B0=!1,_f=!1,Nu=!1,L0=0,qp=0,Ef=null,LG=0;function Kn(){throw Error(r(321))}function dE(o,l){if(l===null)return!1;for(var f=0;f<l.length&&f<o.length;f++)if(!cs(o[f],l[f]))return!1;return!0}function fE(o,l,f,m,w,_){return jo=_,It=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,x.H=o===null||o.memoizedState===null?LO:IE,Nu=!1,_=f(m,w),Nu=!1,_f&&(_=iO(l,f,m,w)),rO(o),_}function rO(o){x.H=Vp;var l=hn!==null&&hn.next!==null;if(jo=0,ar=hn=It=null,B0=!1,qp=0,Ef=null,l)throw Error(r(300));o===null||or||(o=o.dependencies,o!==null&&O0(o)&&(or=!0))}function iO(o,l,f,m){It=o;var w=0;do{if(_f&&(Ef=null),qp=0,_f=!1,25<=w)throw Error(r(301));if(w+=1,ar=hn=null,o.updateQueue!=null){var _=o.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}x.H=jO,_=l(f,m)}while(_f);return _}function jG(){var o=x.H,l=o.useState()[0];return l=typeof l.then=="function"?Wp(l):l,o=o.useState()[0],(hn!==null?hn.memoizedState:null)!==o&&(It.flags|=1024),l}function hE(){var o=L0!==0;return L0=0,o}function pE(o,l,f){l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~f}function mE(o){if(B0){for(o=o.memoizedState;o!==null;){var l=o.queue;l!==null&&(l.pending=null),o=o.next}B0=!1}jo=0,ar=hn=It=null,_f=!1,qp=L0=0,Ef=null}function vi(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ar===null?It.memoizedState=ar=o:ar=ar.next=o,ar}function Jn(){if(hn===null){var o=It.alternate;o=o!==null?o.memoizedState:null}else o=hn.next;var l=ar===null?It.memoizedState:ar.next;if(l!==null)ar=l,hn=o;else{if(o===null)throw It.alternate===null?Error(r(467)):Error(r(310));hn=o,o={memoizedState:hn.memoizedState,baseState:hn.baseState,baseQueue:hn.baseQueue,queue:hn.queue,next:null},ar===null?It.memoizedState=ar=o:ar=ar.next=o}return ar}function j0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wp(o){var l=qp;return qp+=1,Ef===null&&(Ef=[]),o=KC(Ef,o,l),l=It,(ar===null?l.memoizedState:ar.next)===null&&(l=l.alternate,x.H=l===null||l.memoizedState===null?LO:IE),o}function z0(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Wp(o);if(o.$$typeof===A)return Kr(o)}throw Error(r(438,String(o)))}function yE(o){var l=null,f=It.updateQueue;if(f!==null&&(l=f.memoCache),l==null){var m=It.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(l={data:m.data.map(function(w){return w.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),f===null&&(f=j0(),It.updateQueue=f),f.memoCache=l,f=l.data[l.index],f===void 0)for(f=l.data[l.index]=Array(o),m=0;m<o;m++)f[m]=B;return l.index++,f}function zo(o,l){return typeof l=="function"?l(o):l}function F0(o){var l=Jn();return gE(l,hn,o)}function gE(o,l,f){var m=o.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=f;var w=o.baseQueue,_=m.pending;if(_!==null){if(w!==null){var R=w.next;w.next=_.next,_.next=R}l.baseQueue=w=_,m.pending=null}if(_=o.baseState,w===null)o.memoizedState=_;else{l=w.next;var q=R=null,ne=null,de=l,ve=!1;do{var Ae=de.lane&-536870913;if(Ae!==de.lane?(Mt&Ae)===Ae:(jo&Ae)===Ae){var he=de.revertLane;if(he===0)ne!==null&&(ne=ne.next={lane:0,revertLane:0,gesture:null,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null}),Ae===yf&&(ve=!0);else if((jo&he)===he){de=de.next,he===yf&&(ve=!0);continue}else Ae={lane:0,revertLane:de.revertLane,gesture:null,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null},ne===null?(q=ne=Ae,R=_):ne=ne.next=Ae,It.lanes|=he,ol|=he;Ae=de.action,Nu&&f(_,Ae),_=de.hasEagerState?de.eagerState:f(_,Ae)}else he={lane:Ae,revertLane:de.revertLane,gesture:de.gesture,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null},ne===null?(q=ne=he,R=_):ne=ne.next=he,It.lanes|=Ae,ol|=Ae;de=de.next}while(de!==null&&de!==l);if(ne===null?R=_:ne.next=q,!cs(_,o.memoizedState)&&(or=!0,ve&&(f=gf,f!==null)))throw f;o.memoizedState=_,o.baseState=R,o.baseQueue=ne,m.lastRenderedState=_}return w===null&&(m.lanes=0),[o.memoizedState,m.dispatch]}function bE(o){var l=Jn(),f=l.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=o;var m=f.dispatch,w=f.pending,_=l.memoizedState;if(w!==null){f.pending=null;var R=w=w.next;do _=o(_,R.action),R=R.next;while(R!==w);cs(_,l.memoizedState)||(or=!0),l.memoizedState=_,l.baseQueue===null&&(l.baseState=_),f.lastRenderedState=_}return[_,m]}function sO(o,l,f){var m=It,w=Jn(),_=jt;if(_){if(f===void 0)throw Error(r(407));f=f()}else f=l();var R=!cs((hn||w).memoizedState,f);if(R&&(w.memoizedState=f,or=!0),w=w.queue,_E(cO.bind(null,m,w,o),[o]),w.getSnapshot!==l||R||ar!==null&&ar.memoizedState.tag&1){if(m.flags|=2048,Sf(9,{destroy:void 0},oO.bind(null,m,w,f,l),null),wn===null)throw Error(r(349));_||(jo&127)!==0||aO(m,l,f)}return f}function aO(o,l,f){o.flags|=16384,o={getSnapshot:l,value:f},l=It.updateQueue,l===null?(l=j0(),It.updateQueue=l,l.stores=[o]):(f=l.stores,f===null?l.stores=[o]:f.push(o))}function oO(o,l,f,m){l.value=f,l.getSnapshot=m,lO(l)&&uO(o)}function cO(o,l,f){return f(function(){lO(l)&&uO(o)})}function lO(o){var l=o.getSnapshot;o=o.value;try{var f=l();return!cs(o,f)}catch{return!0}}function uO(o){var l=Su(o,2);l!==null&&Li(l,o,2)}function wE(o){var l=vi();if(typeof o=="function"){var f=o;if(o=f(),Nu){xn(!0);try{f()}finally{xn(!1)}}}return l.memoizedState=l.baseState=o,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zo,lastRenderedState:o},l}function dO(o,l,f,m){return o.baseState=f,gE(o,hn,typeof m=="function"?m:zo)}function zG(o,l,f,m,w){if(H0(o))throw Error(r(485));if(o=l.action,o!==null){var _={payload:w,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){_.listeners.push(R)}};x.T!==null?f(!0):_.isTransition=!1,m(_),f=l.pending,f===null?(_.next=l.pending=_,fO(l,_)):(_.next=f.next,l.pending=f.next=_)}}function fO(o,l){var f=l.action,m=l.payload,w=o.state;if(l.isTransition){var _=x.T,R={};x.T=R;try{var q=f(w,m),ne=x.S;ne!==null&&ne(R,q),hO(o,l,q)}catch(de){vE(o,l,de)}finally{_!==null&&R.types!==null&&(_.types=R.types),x.T=_}}else try{_=f(w,m),hO(o,l,_)}catch(de){vE(o,l,de)}}function hO(o,l,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(m){pO(o,l,m)},function(m){return vE(o,l,m)}):pO(o,l,f)}function pO(o,l,f){l.status="fulfilled",l.value=f,mO(l),o.state=f,l=o.pending,l!==null&&(f=l.next,f===l?o.pending=null:(f=f.next,l.next=f,fO(o,f)))}function vE(o,l,f){var m=o.pending;if(o.pending=null,m!==null){m=m.next;do l.status="rejected",l.reason=f,mO(l),l=l.next;while(l!==m)}o.action=null}function mO(o){o=o.listeners;for(var l=0;l<o.length;l++)(0,o[l])()}function yO(o,l){return l}function gO(o,l){if(jt){var f=wn.formState;if(f!==null){e:{var m=It;if(jt){if(Rn){t:{for(var w=Rn,_=Bs;w.nodeType!==8;){if(!_){w=null;break t}if(w=js(w.nextSibling),w===null){w=null;break t}}_=w.data,w=_==="F!"||_==="F"?w:null}if(w){Rn=js(w.nextSibling),m=w.data==="F!";break e}}Jc(m)}m=!1}m&&(l=f[0])}}return f=vi(),f.memoizedState=f.baseState=l,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yO,lastRenderedState:l},f.queue=m,f=UO.bind(null,It,m),m.dispatch=f,m=wE(!1),_=TE.bind(null,It,!1,m.queue),m=vi(),w={state:l,dispatch:null,action:o,pending:null},m.queue=w,f=zG.bind(null,It,w,_,f),w.dispatch=f,m.memoizedState=o,[l,f,!1]}function bO(o){var l=Jn();return wO(l,hn,o)}function wO(o,l,f){if(l=gE(o,l,yO)[0],o=F0(zo)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var m=Wp(l)}catch(R){throw R===bf?N0:R}else m=l;l=Jn();var w=l.queue,_=w.dispatch;return f!==l.memoizedState&&(It.flags|=2048,Sf(9,{destroy:void 0},FG.bind(null,w,f),null)),[m,_,o]}function FG(o,l){o.action=l}function vO(o){var l=Jn(),f=hn;if(f!==null)return wO(l,f,o);Jn(),l=l.memoizedState,f=Jn();var m=f.queue.dispatch;return f.memoizedState=o,[l,m,!1]}function Sf(o,l,f,m){return o={tag:o,create:f,deps:m,inst:l,next:null},l=It.updateQueue,l===null&&(l=j0(),It.updateQueue=l),f=l.lastEffect,f===null?l.lastEffect=o.next=o:(m=f.next,f.next=o,o.next=m,l.lastEffect=o),o}function _O(){return Jn().memoizedState}function q0(o,l,f,m){var w=vi();It.flags|=o,w.memoizedState=Sf(1|l,{destroy:void 0},f,m===void 0?null:m)}function W0(o,l,f,m){var w=Jn();m=m===void 0?null:m;var _=w.memoizedState.inst;hn!==null&&m!==null&&dE(m,hn.memoizedState.deps)?w.memoizedState=Sf(l,_,f,m):(It.flags|=o,w.memoizedState=Sf(1|l,_,f,m))}function EO(o,l){q0(8390656,8,o,l)}function _E(o,l){W0(2048,8,o,l)}function qG(o){It.flags|=4;var l=It.updateQueue;if(l===null)l=j0(),It.updateQueue=l,l.events=[o];else{var f=l.events;f===null?l.events=[o]:f.push(o)}}function SO(o){var l=Jn().memoizedState;return qG({ref:l,nextImpl:o}),function(){if((en&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}function AO(o,l){return W0(4,2,o,l)}function xO(o,l){return W0(4,4,o,l)}function TO(o,l){if(typeof l=="function"){o=o();var f=l(o);return function(){typeof f=="function"?f():l(null)}}if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function IO(o,l,f){f=f!=null?f.concat([o]):null,W0(4,4,TO.bind(null,l,o),f)}function EE(){}function CO(o,l){var f=Jn();l=l===void 0?null:l;var m=f.memoizedState;return l!==null&&dE(l,m[1])?m[0]:(f.memoizedState=[o,l],o)}function OO(o,l){var f=Jn();l=l===void 0?null:l;var m=f.memoizedState;if(l!==null&&dE(l,m[1]))return m[0];if(m=o(),Nu){xn(!0);try{o()}finally{xn(!1)}}return f.memoizedState=[m,l],m}function SE(o,l,f){return f===void 0||(jo&1073741824)!==0&&(Mt&261930)===0?o.memoizedState=l:(o.memoizedState=f,o=k8(),It.lanes|=o,ol|=o,f)}function kO(o,l,f,m){return cs(f,l)?f:vf.current!==null?(o=SE(o,f,m),cs(o,l)||(or=!0),o):(jo&42)===0||(jo&1073741824)!==0&&(Mt&261930)===0?(or=!0,o.memoizedState=f):(o=k8(),It.lanes|=o,ol|=o,l)}function RO(o,l,f,m,w){var _=N.p;N.p=_!==0&&8>_?_:8;var R=x.T,q={};x.T=q,TE(o,!1,l,f);try{var ne=w(),de=x.S;if(de!==null&&de(q,ne),ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var ve=BG(ne,m);Hp(o,l,ve,ps(o))}else Hp(o,l,m,ps(o))}catch(Ae){Hp(o,l,{then:function(){},status:"rejected",reason:Ae},ps())}finally{N.p=_,R!==null&&q.types!==null&&(R.types=q.types),x.T=R}}function WG(){}function AE(o,l,f,m){if(o.tag!==5)throw Error(r(476));var w=NO(o).queue;RO(o,w,l,L,f===null?WG:function(){return $O(o),f(m)})}function NO(o){var l=o.memoizedState;if(l!==null)return l;l={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zo,lastRenderedState:L},next:null};var f={};return l.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zo,lastRenderedState:f},next:null},o.memoizedState=l,o=o.alternate,o!==null&&(o.memoizedState=l),l}function $O(o){var l=NO(o);l.next===null&&(l=o.alternate.memoizedState),Hp(o,l.next.queue,{},ps())}function xE(){return Kr(cm)}function PO(){return Jn().memoizedState}function DO(){return Jn().memoizedState}function HG(o){for(var l=o.return;l!==null;){switch(l.tag){case 24:case 3:var f=ps();o=tl(f);var m=nl(l,o,f);m!==null&&(Li(m,l,f),jp(m,l,f)),l={cache:eE()},o.payload=l;return}l=l.return}}function VG(o,l,f){var m=ps();f={lane:m,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},H0(o)?MO(l,f):(f=q_(o,l,f,m),f!==null&&(Li(f,o,m),BO(f,l,m)))}function UO(o,l,f){var m=ps();Hp(o,l,f,m)}function Hp(o,l,f,m){var w={lane:m,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null};if(H0(o))MO(l,w);else{var _=o.alternate;if(o.lanes===0&&(_===null||_.lanes===0)&&(_=l.lastRenderedReducer,_!==null))try{var R=l.lastRenderedState,q=_(R,f);if(w.hasEagerState=!0,w.eagerState=q,cs(q,R))return x0(o,l,w,0),wn===null&&A0(),!1}catch{}if(f=q_(o,l,w,m),f!==null)return Li(f,o,m),BO(f,l,m),!0}return!1}function TE(o,l,f,m){if(m={lane:2,revertLane:i2(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},H0(o)){if(l)throw Error(r(479))}else l=q_(o,f,m,2),l!==null&&Li(l,o,2)}function H0(o){var l=o.alternate;return o===It||l!==null&&l===It}function MO(o,l){_f=B0=!0;var f=o.pending;f===null?l.next=l:(l.next=f.next,f.next=l),o.pending=l}function BO(o,l,f){if((f&4194048)!==0){var m=l.lanes;m&=o.pendingLanes,f|=m,l.lanes=f,se(o,f)}}var Vp={readContext:Kr,use:z0,useCallback:Kn,useContext:Kn,useEffect:Kn,useImperativeHandle:Kn,useLayoutEffect:Kn,useInsertionEffect:Kn,useMemo:Kn,useReducer:Kn,useRef:Kn,useState:Kn,useDebugValue:Kn,useDeferredValue:Kn,useTransition:Kn,useSyncExternalStore:Kn,useId:Kn,useHostTransitionStatus:Kn,useFormState:Kn,useActionState:Kn,useOptimistic:Kn,useMemoCache:Kn,useCacheRefresh:Kn};Vp.useEffectEvent=Kn;var LO={readContext:Kr,use:z0,useCallback:function(o,l){return vi().memoizedState=[o,l===void 0?null:l],o},useContext:Kr,useEffect:EO,useImperativeHandle:function(o,l,f){f=f!=null?f.concat([o]):null,q0(4194308,4,TO.bind(null,l,o),f)},useLayoutEffect:function(o,l){return q0(4194308,4,o,l)},useInsertionEffect:function(o,l){q0(4,2,o,l)},useMemo:function(o,l){var f=vi();l=l===void 0?null:l;var m=o();if(Nu){xn(!0);try{o()}finally{xn(!1)}}return f.memoizedState=[m,l],m},useReducer:function(o,l,f){var m=vi();if(f!==void 0){var w=f(l);if(Nu){xn(!0);try{f(l)}finally{xn(!1)}}}else w=l;return m.memoizedState=m.baseState=w,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:w},m.queue=o,o=o.dispatch=VG.bind(null,It,o),[m.memoizedState,o]},useRef:function(o){var l=vi();return o={current:o},l.memoizedState=o},useState:function(o){o=wE(o);var l=o.queue,f=UO.bind(null,It,l);return l.dispatch=f,[o.memoizedState,f]},useDebugValue:EE,useDeferredValue:function(o,l){var f=vi();return SE(f,o,l)},useTransition:function(){var o=wE(!1);return o=RO.bind(null,It,o.queue,!0,!1),vi().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,l,f){var m=It,w=vi();if(jt){if(f===void 0)throw Error(r(407));f=f()}else{if(f=l(),wn===null)throw Error(r(349));(Mt&127)!==0||aO(m,l,f)}w.memoizedState=f;var _={value:f,getSnapshot:l};return w.queue=_,EO(cO.bind(null,m,_,o),[o]),m.flags|=2048,Sf(9,{destroy:void 0},oO.bind(null,m,_,f,l),null),f},useId:function(){var o=vi(),l=wn.identifierPrefix;if(jt){var f=Ha,m=Wa;f=(m&~(1<<32-Kt(m)-1)).toString(32)+f,l="_"+l+"R_"+f,f=L0++,0<f&&(l+="H"+f.toString(32)),l+="_"}else f=LG++,l="_"+l+"r_"+f.toString(32)+"_";return o.memoizedState=l},useHostTransitionStatus:xE,useFormState:gO,useActionState:gO,useOptimistic:function(o){var l=vi();l.memoizedState=l.baseState=o;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=f,l=TE.bind(null,It,!0,f),f.dispatch=l,[o,l]},useMemoCache:yE,useCacheRefresh:function(){return vi().memoizedState=HG.bind(null,It)},useEffectEvent:function(o){var l=vi(),f={impl:o};return l.memoizedState=f,function(){if((en&2)!==0)throw Error(r(440));return f.impl.apply(void 0,arguments)}}},IE={readContext:Kr,use:z0,useCallback:CO,useContext:Kr,useEffect:_E,useImperativeHandle:IO,useInsertionEffect:AO,useLayoutEffect:xO,useMemo:OO,useReducer:F0,useRef:_O,useState:function(){return F0(zo)},useDebugValue:EE,useDeferredValue:function(o,l){var f=Jn();return kO(f,hn.memoizedState,o,l)},useTransition:function(){var o=F0(zo)[0],l=Jn().memoizedState;return[typeof o=="boolean"?o:Wp(o),l]},useSyncExternalStore:sO,useId:PO,useHostTransitionStatus:xE,useFormState:bO,useActionState:bO,useOptimistic:function(o,l){var f=Jn();return dO(f,hn,o,l)},useMemoCache:yE,useCacheRefresh:DO};IE.useEffectEvent=SO;var jO={readContext:Kr,use:z0,useCallback:CO,useContext:Kr,useEffect:_E,useImperativeHandle:IO,useInsertionEffect:AO,useLayoutEffect:xO,useMemo:OO,useReducer:bE,useRef:_O,useState:function(){return bE(zo)},useDebugValue:EE,useDeferredValue:function(o,l){var f=Jn();return hn===null?SE(f,o,l):kO(f,hn.memoizedState,o,l)},useTransition:function(){var o=bE(zo)[0],l=Jn().memoizedState;return[typeof o=="boolean"?o:Wp(o),l]},useSyncExternalStore:sO,useId:PO,useHostTransitionStatus:xE,useFormState:vO,useActionState:vO,useOptimistic:function(o,l){var f=Jn();return hn!==null?dO(f,hn,o,l):(f.baseState=o,[o,f.queue.dispatch])},useMemoCache:yE,useCacheRefresh:DO};jO.useEffectEvent=SO;function CE(o,l,f,m){l=o.memoizedState,f=f(m,l),f=f==null?l:p({},l,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var OE={enqueueSetState:function(o,l,f){o=o._reactInternals;var m=ps(),w=tl(m);w.payload=l,f!=null&&(w.callback=f),l=nl(o,w,m),l!==null&&(Li(l,o,m),jp(l,o,m))},enqueueReplaceState:function(o,l,f){o=o._reactInternals;var m=ps(),w=tl(m);w.tag=1,w.payload=l,f!=null&&(w.callback=f),l=nl(o,w,m),l!==null&&(Li(l,o,m),jp(l,o,m))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var f=ps(),m=tl(f);m.tag=2,l!=null&&(m.callback=l),l=nl(o,m,f),l!==null&&(Li(l,o,f),jp(l,o,f))}};function zO(o,l,f,m,w,_,R){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(m,_,R):l.prototype&&l.prototype.isPureReactComponent?!Np(f,m)||!Np(w,_):!0}function FO(o,l,f,m){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(f,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(f,m),l.state!==o&&OE.enqueueReplaceState(l,l.state,null)}function $u(o,l){var f=l;if("ref"in l){f={};for(var m in l)m!=="ref"&&(f[m]=l[m])}if(o=o.defaultProps){f===l&&(f=p({},f));for(var w in o)f[w]===void 0&&(f[w]=o[w])}return f}function qO(o){S0(o)}function WO(o){console.error(o)}function HO(o){S0(o)}function V0(o,l){try{var f=o.onUncaughtError;f(l.value,{componentStack:l.stack})}catch(m){setTimeout(function(){throw m})}}function VO(o,l,f){try{var m=o.onCaughtError;m(f.value,{componentStack:f.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function kE(o,l,f){return f=tl(f),f.tag=3,f.payload={element:null},f.callback=function(){V0(o,l)},f}function GO(o){return o=tl(o),o.tag=3,o}function KO(o,l,f,m){var w=f.type.getDerivedStateFromError;if(typeof w=="function"){var _=m.value;o.payload=function(){return w(_)},o.callback=function(){VO(l,f,m)}}var R=f.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(o.callback=function(){VO(l,f,m),typeof w!="function"&&(cl===null?cl=new Set([this]):cl.add(this));var q=m.stack;this.componentDidCatch(m.value,{componentStack:q!==null?q:""})})}function GG(o,l,f,m,w){if(f.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(l=f.alternate,l!==null&&mf(l,f,w,!0),f=us.current,f!==null){switch(f.tag){case 31:case 13:return Ls===null?ib():f.alternate===null&&Yn===0&&(Yn=3),f.flags&=-257,f.flags|=65536,f.lanes=w,m===$0?f.flags|=16384:(l=f.updateQueue,l===null?f.updateQueue=new Set([m]):l.add(m),t2(o,m,w)),!1;case 22:return f.flags|=65536,m===$0?f.flags|=16384:(l=f.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([m])},f.updateQueue=l):(f=l.retryQueue,f===null?l.retryQueue=new Set([m]):f.add(m)),t2(o,m,w)),!1}throw Error(r(435,f.tag))}return t2(o,m,w),ib(),!1}if(jt)return l=us.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=w,m!==Y_&&(o=Error(r(422),{cause:m}),Dp(Ds(o,f)))):(m!==Y_&&(l=Error(r(423),{cause:m}),Dp(Ds(l,f))),o=o.current.alternate,o.flags|=65536,w&=-w,o.lanes|=w,m=Ds(m,f),w=kE(o.stateNode,m,w),aE(o,w),Yn!==4&&(Yn=2)),!1;var _=Error(r(520),{cause:m});if(_=Ds(_,f),em===null?em=[_]:em.push(_),Yn!==4&&(Yn=2),l===null)return!0;m=Ds(m,f),f=l;do{switch(f.tag){case 3:return f.flags|=65536,o=w&-w,f.lanes|=o,o=kE(f.stateNode,m,o),aE(f,o),!1;case 1:if(l=f.type,_=f.stateNode,(f.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(cl===null||!cl.has(_))))return f.flags|=65536,w&=-w,f.lanes|=w,w=GO(w),KO(w,o,f,m),aE(f,w),!1}f=f.return}while(f!==null);return!1}var RE=Error(r(461)),or=!1;function Yr(o,l,f,m){l.child=o===null?JC(l,null,f,m):Ru(l,o.child,f,m)}function YO(o,l,f,m,w){f=f.render;var _=l.ref;if("ref"in m){var R={};for(var q in m)q!=="ref"&&(R[q]=m[q])}else R=m;return Iu(l),m=fE(o,l,f,R,_,w),q=hE(),o!==null&&!or?(pE(o,l,w),Fo(o,l,w)):(jt&&q&&G_(l),l.flags|=1,Yr(o,l,m,w),l.child)}function ZO(o,l,f,m,w){if(o===null){var _=f.type;return typeof _=="function"&&!W_(_)&&_.defaultProps===void 0&&f.compare===null?(l.tag=15,l.type=_,XO(o,l,_,m,w)):(o=I0(f.type,null,m,l,l.mode,w),o.ref=l.ref,o.return=l,l.child=o)}if(_=o.child,!LE(o,w)){var R=_.memoizedProps;if(f=f.compare,f=f!==null?f:Np,f(R,m)&&o.ref===l.ref)return Fo(o,l,w)}return l.flags|=1,o=Uo(_,m),o.ref=l.ref,o.return=l,l.child=o}function XO(o,l,f,m,w){if(o!==null){var _=o.memoizedProps;if(Np(_,m)&&o.ref===l.ref)if(or=!1,l.pendingProps=m=_,LE(o,w))(o.flags&131072)!==0&&(or=!0);else return l.lanes=o.lanes,Fo(o,l,w)}return NE(o,l,f,m,w)}function JO(o,l,f,m){var w=m.children,_=o!==null?o.memoizedState:null;if(o===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((l.flags&128)!==0){if(_=_!==null?_.baseLanes|f:f,o!==null){for(m=l.child=o.child,w=0;m!==null;)w=w|m.lanes|m.childLanes,m=m.sibling;m=w&~_}else m=0,l.child=null;return QO(o,l,_,f,m)}if((f&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},o!==null&&R0(l,_!==null?_.cachePool:null),_!==null?tO(l,_):cE(),nO(l);else return m=l.lanes=536870912,QO(o,l,_!==null?_.baseLanes|f:f,f,m)}else _!==null?(R0(l,_.cachePool),tO(l,_),il(),l.memoizedState=null):(o!==null&&R0(l,null),cE(),il());return Yr(o,l,w,f),l.child}function Gp(o,l){return o!==null&&o.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function QO(o,l,f,m,w){var _=nE();return _=_===null?null:{parent:sr._currentValue,pool:_},l.memoizedState={baseLanes:f,cachePool:_},o!==null&&R0(l,null),cE(),nO(l),o!==null&&mf(o,l,m,!0),l.childLanes=w,null}function G0(o,l){return l=Y0({mode:l.mode,children:l.children},o.mode),l.ref=o.ref,o.child=l,l.return=o,l}function e8(o,l,f){return Ru(l,o.child,null,f),o=G0(l,l.pendingProps),o.flags|=2,ds(l),l.memoizedState=null,o}function KG(o,l,f){var m=l.pendingProps,w=(l.flags&128)!==0;if(l.flags&=-129,o===null){if(jt){if(m.mode==="hidden")return o=G0(l,m),l.lanes=536870912,Gp(null,o);if(uE(l),(o=Rn)?(o=fk(o,Bs),o=o!==null&&o.data==="&"?o:null,o!==null&&(l.memoizedState={dehydrated:o,treeContext:Zc!==null?{id:Wa,overflow:Ha}:null,retryLane:536870912,hydrationErrors:null},f=MC(o),f.return=l,l.child=f,Gr=l,Rn=null)):o=null,o===null)throw Jc(l);return l.lanes=536870912,null}return G0(l,m)}var _=o.memoizedState;if(_!==null){var R=_.dehydrated;if(uE(l),w)if(l.flags&256)l.flags&=-257,l=e8(o,l,f);else if(l.memoizedState!==null)l.child=o.child,l.flags|=128,l=null;else throw Error(r(558));else if(or||mf(o,l,f,!1),w=(f&o.childLanes)!==0,or||w){if(m=wn,m!==null&&(R=le(m,f),R!==0&&R!==_.retryLane))throw _.retryLane=R,Su(o,R),Li(m,o,R),RE;ib(),l=e8(o,l,f)}else o=_.treeContext,Rn=js(R.nextSibling),Gr=l,jt=!0,Xc=null,Bs=!1,o!==null&&jC(l,o),l=G0(l,m),l.flags|=4096;return l}return o=Uo(o.child,{mode:m.mode,children:m.children}),o.ref=l.ref,l.child=o,o.return=l,o}function K0(o,l){var f=l.ref;if(f===null)o!==null&&o.ref!==null&&(l.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(r(284));(o===null||o.ref!==f)&&(l.flags|=4194816)}}function NE(o,l,f,m,w){return Iu(l),f=fE(o,l,f,m,void 0,w),m=hE(),o!==null&&!or?(pE(o,l,w),Fo(o,l,w)):(jt&&m&&G_(l),l.flags|=1,Yr(o,l,f,w),l.child)}function t8(o,l,f,m,w,_){return Iu(l),l.updateQueue=null,f=iO(l,m,f,w),rO(o),m=hE(),o!==null&&!or?(pE(o,l,_),Fo(o,l,_)):(jt&&m&&G_(l),l.flags|=1,Yr(o,l,f,_),l.child)}function n8(o,l,f,m,w){if(Iu(l),l.stateNode===null){var _=df,R=f.contextType;typeof R=="object"&&R!==null&&(_=Kr(R)),_=new f(m,_),l.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=OE,l.stateNode=_,_._reactInternals=l,_=l.stateNode,_.props=m,_.state=l.memoizedState,_.refs={},iE(l),R=f.contextType,_.context=typeof R=="object"&&R!==null?Kr(R):df,_.state=l.memoizedState,R=f.getDerivedStateFromProps,typeof R=="function"&&(CE(l,f,R,m),_.state=l.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(R=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),R!==_.state&&OE.enqueueReplaceState(_,_.state,null),Fp(l,m,_,w),zp(),_.state=l.memoizedState),typeof _.componentDidMount=="function"&&(l.flags|=4194308),m=!0}else if(o===null){_=l.stateNode;var q=l.memoizedProps,ne=$u(f,q);_.props=ne;var de=_.context,ve=f.contextType;R=df,typeof ve=="object"&&ve!==null&&(R=Kr(ve));var Ae=f.getDerivedStateFromProps;ve=typeof Ae=="function"||typeof _.getSnapshotBeforeUpdate=="function",q=l.pendingProps!==q,ve||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(q||de!==R)&&FO(l,_,m,R),el=!1;var he=l.memoizedState;_.state=he,Fp(l,m,_,w),zp(),de=l.memoizedState,q||he!==de||el?(typeof Ae=="function"&&(CE(l,f,Ae,m),de=l.memoizedState),(ne=el||zO(l,f,ne,m,he,de,R))?(ve||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(l.flags|=4194308)):(typeof _.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=de),_.props=m,_.state=de,_.context=R,m=ne):(typeof _.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{_=l.stateNode,sE(o,l),R=l.memoizedProps,ve=$u(f,R),_.props=ve,Ae=l.pendingProps,he=_.context,de=f.contextType,ne=df,typeof de=="object"&&de!==null&&(ne=Kr(de)),q=f.getDerivedStateFromProps,(de=typeof q=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(R!==Ae||he!==ne)&&FO(l,_,m,ne),el=!1,he=l.memoizedState,_.state=he,Fp(l,m,_,w),zp();var ye=l.memoizedState;R!==Ae||he!==ye||el||o!==null&&o.dependencies!==null&&O0(o.dependencies)?(typeof q=="function"&&(CE(l,f,q,m),ye=l.memoizedState),(ve=el||zO(l,f,ve,m,he,ye,ne)||o!==null&&o.dependencies!==null&&O0(o.dependencies))?(de||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(m,ye,ne),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(m,ye,ne)),typeof _.componentDidUpdate=="function"&&(l.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof _.componentDidUpdate!="function"||R===o.memoizedProps&&he===o.memoizedState||(l.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||R===o.memoizedProps&&he===o.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=ye),_.props=m,_.state=ye,_.context=ne,m=ve):(typeof _.componentDidUpdate!="function"||R===o.memoizedProps&&he===o.memoizedState||(l.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||R===o.memoizedProps&&he===o.memoizedState||(l.flags|=1024),m=!1)}return _=m,K0(o,l),m=(l.flags&128)!==0,_||m?(_=l.stateNode,f=m&&typeof f.getDerivedStateFromError!="function"?null:_.render(),l.flags|=1,o!==null&&m?(l.child=Ru(l,o.child,null,w),l.child=Ru(l,null,f,w)):Yr(o,l,f,w),l.memoizedState=_.state,o=l.child):o=Fo(o,l,w),o}function r8(o,l,f,m){return xu(),l.flags|=256,Yr(o,l,f,m),l.child}var $E={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function PE(o){return{baseLanes:o,cachePool:VC()}}function DE(o,l,f){return o=o!==null?o.childLanes&~f:0,l&&(o|=hs),o}function i8(o,l,f){var m=l.pendingProps,w=!1,_=(l.flags&128)!==0,R;if((R=_)||(R=o!==null&&o.memoizedState===null?!1:(Xn.current&2)!==0),R&&(w=!0,l.flags&=-129),R=(l.flags&32)!==0,l.flags&=-33,o===null){if(jt){if(w?rl(l):il(),(o=Rn)?(o=fk(o,Bs),o=o!==null&&o.data!=="&"?o:null,o!==null&&(l.memoizedState={dehydrated:o,treeContext:Zc!==null?{id:Wa,overflow:Ha}:null,retryLane:536870912,hydrationErrors:null},f=MC(o),f.return=l,l.child=f,Gr=l,Rn=null)):o=null,o===null)throw Jc(l);return g2(o)?l.lanes=32:l.lanes=536870912,null}var q=m.children;return m=m.fallback,w?(il(),w=l.mode,q=Y0({mode:"hidden",children:q},w),m=Au(m,w,f,null),q.return=l,m.return=l,q.sibling=m,l.child=q,m=l.child,m.memoizedState=PE(f),m.childLanes=DE(o,R,f),l.memoizedState=$E,Gp(null,m)):(rl(l),UE(l,q))}var ne=o.memoizedState;if(ne!==null&&(q=ne.dehydrated,q!==null)){if(_)l.flags&256?(rl(l),l.flags&=-257,l=ME(o,l,f)):l.memoizedState!==null?(il(),l.child=o.child,l.flags|=128,l=null):(il(),q=m.fallback,w=l.mode,m=Y0({mode:"visible",children:m.children},w),q=Au(q,w,f,null),q.flags|=2,m.return=l,q.return=l,m.sibling=q,l.child=m,Ru(l,o.child,null,f),m=l.child,m.memoizedState=PE(f),m.childLanes=DE(o,R,f),l.memoizedState=$E,l=Gp(null,m));else if(rl(l),g2(q)){if(R=q.nextSibling&&q.nextSibling.dataset,R)var de=R.dgst;R=de,m=Error(r(419)),m.stack="",m.digest=R,Dp({value:m,source:null,stack:null}),l=ME(o,l,f)}else if(or||mf(o,l,f,!1),R=(f&o.childLanes)!==0,or||R){if(R=wn,R!==null&&(m=le(R,f),m!==0&&m!==ne.retryLane))throw ne.retryLane=m,Su(o,m),Li(R,o,m),RE;y2(q)||ib(),l=ME(o,l,f)}else y2(q)?(l.flags|=192,l.child=o.child,l=null):(o=ne.treeContext,Rn=js(q.nextSibling),Gr=l,jt=!0,Xc=null,Bs=!1,o!==null&&jC(l,o),l=UE(l,m.children),l.flags|=4096);return l}return w?(il(),q=m.fallback,w=l.mode,ne=o.child,de=ne.sibling,m=Uo(ne,{mode:"hidden",children:m.children}),m.subtreeFlags=ne.subtreeFlags&65011712,de!==null?q=Uo(de,q):(q=Au(q,w,f,null),q.flags|=2),q.return=l,m.return=l,m.sibling=q,l.child=m,Gp(null,m),m=l.child,q=o.child.memoizedState,q===null?q=PE(f):(w=q.cachePool,w!==null?(ne=sr._currentValue,w=w.parent!==ne?{parent:ne,pool:ne}:w):w=VC(),q={baseLanes:q.baseLanes|f,cachePool:w}),m.memoizedState=q,m.childLanes=DE(o,R,f),l.memoizedState=$E,Gp(o.child,m)):(rl(l),f=o.child,o=f.sibling,f=Uo(f,{mode:"visible",children:m.children}),f.return=l,f.sibling=null,o!==null&&(R=l.deletions,R===null?(l.deletions=[o],l.flags|=16):R.push(o)),l.child=f,l.memoizedState=null,f)}function UE(o,l){return l=Y0({mode:"visible",children:l},o.mode),l.return=o,o.child=l}function Y0(o,l){return o=ls(22,o,null,l),o.lanes=0,o}function ME(o,l,f){return Ru(l,o.child,null,f),o=UE(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function s8(o,l,f){o.lanes|=l;var m=o.alternate;m!==null&&(m.lanes|=l),J_(o.return,l,f)}function BE(o,l,f,m,w,_){var R=o.memoizedState;R===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:f,tailMode:w,treeForkCount:_}:(R.isBackwards=l,R.rendering=null,R.renderingStartTime=0,R.last=m,R.tail=f,R.tailMode=w,R.treeForkCount=_)}function a8(o,l,f){var m=l.pendingProps,w=m.revealOrder,_=m.tail;m=m.children;var R=Xn.current,q=(R&2)!==0;if(q?(R=R&1|2,l.flags|=128):R&=1,J(Xn,R),Yr(o,l,m,f),m=jt?Pp:0,!q&&o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&s8(o,f,l);else if(o.tag===19)s8(o,f,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(w){case"forwards":for(f=l.child,w=null;f!==null;)o=f.alternate,o!==null&&M0(o)===null&&(w=f),f=f.sibling;f=w,f===null?(w=l.child,l.child=null):(w=f.sibling,f.sibling=null),BE(l,!1,w,f,_,m);break;case"backwards":case"unstable_legacy-backwards":for(f=null,w=l.child,l.child=null;w!==null;){if(o=w.alternate,o!==null&&M0(o)===null){l.child=w;break}o=w.sibling,w.sibling=f,f=w,w=o}BE(l,!0,f,null,_,m);break;case"together":BE(l,!1,null,null,void 0,m);break;default:l.memoizedState=null}return l.child}function Fo(o,l,f){if(o!==null&&(l.dependencies=o.dependencies),ol|=l.lanes,(f&l.childLanes)===0)if(o!==null){if(mf(o,l,f,!1),(f&l.childLanes)===0)return null}else return null;if(o!==null&&l.child!==o.child)throw Error(r(153));if(l.child!==null){for(o=l.child,f=Uo(o,o.pendingProps),l.child=f,f.return=l;o.sibling!==null;)o=o.sibling,f=f.sibling=Uo(o,o.pendingProps),f.return=l;f.sibling=null}return l.child}function LE(o,l){return(o.lanes&l)!==0?!0:(o=o.dependencies,!!(o!==null&&O0(o)))}function YG(o,l,f){switch(l.tag){case 3:xe(l,l.stateNode.containerInfo),Qc(l,sr,o.memoizedState.cache),xu();break;case 27:case 5:$e(l);break;case 4:xe(l,l.stateNode.containerInfo);break;case 10:Qc(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,uE(l),null;break;case 13:var m=l.memoizedState;if(m!==null)return m.dehydrated!==null?(rl(l),l.flags|=128,null):(f&l.child.childLanes)!==0?i8(o,l,f):(rl(l),o=Fo(o,l,f),o!==null?o.sibling:null);rl(l);break;case 19:var w=(o.flags&128)!==0;if(m=(f&l.childLanes)!==0,m||(mf(o,l,f,!1),m=(f&l.childLanes)!==0),w){if(m)return a8(o,l,f);l.flags|=128}if(w=l.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),J(Xn,Xn.current),m)break;return null;case 22:return l.lanes=0,JO(o,l,f,l.pendingProps);case 24:Qc(l,sr,o.memoizedState.cache)}return Fo(o,l,f)}function o8(o,l,f){if(o!==null)if(o.memoizedProps!==l.pendingProps)or=!0;else{if(!LE(o,f)&&(l.flags&128)===0)return or=!1,YG(o,l,f);or=(o.flags&131072)!==0}else or=!1,jt&&(l.flags&1048576)!==0&&LC(l,Pp,l.index);switch(l.lanes=0,l.tag){case 16:e:{var m=l.pendingProps;if(o=Ou(l.elementType),l.type=o,typeof o=="function")W_(o)?(m=$u(o,m),l.tag=1,l=n8(null,l,o,m,f)):(l.tag=0,l=NE(null,l,o,m,f));else{if(o!=null){var w=o.$$typeof;if(w===S){l.tag=11,l=YO(null,l,o,m,f);break e}else if(w===$){l.tag=14,l=ZO(null,l,o,m,f);break e}}throw l=K(o)||o,Error(r(306,l,""))}}return l;case 0:return NE(o,l,l.type,l.pendingProps,f);case 1:return m=l.type,w=$u(m,l.pendingProps),n8(o,l,m,w,f);case 3:e:{if(xe(l,l.stateNode.containerInfo),o===null)throw Error(r(387));m=l.pendingProps;var _=l.memoizedState;w=_.element,sE(o,l),Fp(l,m,null,f);var R=l.memoizedState;if(m=R.cache,Qc(l,sr,m),m!==_.cache&&Q_(l,[sr],f,!0),zp(),m=R.element,_.isDehydrated)if(_={element:m,isDehydrated:!1,cache:R.cache},l.updateQueue.baseState=_,l.memoizedState=_,l.flags&256){l=r8(o,l,m,f);break e}else if(m!==w){w=Ds(Error(r(424)),l),Dp(w),l=r8(o,l,m,f);break e}else for(o=l.stateNode.containerInfo,o.nodeType===9?o=o.body:o=o.nodeName==="HTML"?o.ownerDocument.body:o,Rn=js(o.firstChild),Gr=l,jt=!0,Xc=null,Bs=!0,f=JC(l,null,m,f),l.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(xu(),m===w){l=Fo(o,l,f);break e}Yr(o,l,m,f)}l=l.child}return l;case 26:return K0(o,l),o===null?(f=bk(l.type,null,l.pendingProps,null))?l.memoizedState=f:jt||(f=l.type,o=l.pendingProps,m=db(ge.current).createElement(f),m[pt]=l,m[xt]=o,Zr(m,f,o),ct(m),l.stateNode=m):l.memoizedState=bk(l.type,o.memoizedProps,l.pendingProps,o.memoizedState),null;case 27:return $e(l),o===null&&jt&&(m=l.stateNode=mk(l.type,l.pendingProps,ge.current),Gr=l,Bs=!0,w=Rn,fl(l.type)?(b2=w,Rn=js(m.firstChild)):Rn=w),Yr(o,l,l.pendingProps.children,f),K0(o,l),o===null&&(l.flags|=4194304),l.child;case 5:return o===null&&jt&&((w=m=Rn)&&(m=xK(m,l.type,l.pendingProps,Bs),m!==null?(l.stateNode=m,Gr=l,Rn=js(m.firstChild),Bs=!1,w=!0):w=!1),w||Jc(l)),$e(l),w=l.type,_=l.pendingProps,R=o!==null?o.memoizedProps:null,m=_.children,h2(w,_)?m=null:R!==null&&h2(w,R)&&(l.flags|=32),l.memoizedState!==null&&(w=fE(o,l,jG,null,null,f),cm._currentValue=w),K0(o,l),Yr(o,l,m,f),l.child;case 6:return o===null&&jt&&((o=f=Rn)&&(f=TK(f,l.pendingProps,Bs),f!==null?(l.stateNode=f,Gr=l,Rn=null,o=!0):o=!1),o||Jc(l)),null;case 13:return i8(o,l,f);case 4:return xe(l,l.stateNode.containerInfo),m=l.pendingProps,o===null?l.child=Ru(l,null,m,f):Yr(o,l,m,f),l.child;case 11:return YO(o,l,l.type,l.pendingProps,f);case 7:return Yr(o,l,l.pendingProps,f),l.child;case 8:return Yr(o,l,l.pendingProps.children,f),l.child;case 12:return Yr(o,l,l.pendingProps.children,f),l.child;case 10:return m=l.pendingProps,Qc(l,l.type,m.value),Yr(o,l,m.children,f),l.child;case 9:return w=l.type._context,m=l.pendingProps.children,Iu(l),w=Kr(w),m=m(w),l.flags|=1,Yr(o,l,m,f),l.child;case 14:return ZO(o,l,l.type,l.pendingProps,f);case 15:return XO(o,l,l.type,l.pendingProps,f);case 19:return a8(o,l,f);case 31:return KG(o,l,f);case 22:return JO(o,l,f,l.pendingProps);case 24:return Iu(l),m=Kr(sr),o===null?(w=nE(),w===null&&(w=wn,_=eE(),w.pooledCache=_,_.refCount++,_!==null&&(w.pooledCacheLanes|=f),w=_),l.memoizedState={parent:m,cache:w},iE(l),Qc(l,sr,w)):((o.lanes&f)!==0&&(sE(o,l),Fp(l,null,null,f),zp()),w=o.memoizedState,_=l.memoizedState,w.parent!==m?(w={parent:m,cache:m},l.memoizedState=w,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=w),Qc(l,sr,m)):(m=_.cache,Qc(l,sr,m),m!==w.cache&&Q_(l,[sr],f,!0))),Yr(o,l,l.pendingProps.children,f),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function qo(o){o.flags|=4}function jE(o,l,f,m,w){if((l=(o.mode&32)!==0)&&(l=!1),l){if(o.flags|=16777216,(w&335544128)===w)if(o.stateNode.complete)o.flags|=8192;else if(P8())o.flags|=8192;else throw ku=$0,rE}else o.flags&=-16777217}function c8(o,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!Sk(l))if(P8())o.flags|=8192;else throw ku=$0,rE}function Z0(o,l){l!==null&&(o.flags|=4),o.flags&16384&&(l=o.tag!==22?wu():536870912,o.lanes|=l,If|=l)}function Kp(o,l){if(!jt)switch(o.tailMode){case"hidden":l=o.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var m=null;f!==null;)f.alternate!==null&&(m=f),f=f.sibling;m===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:m.sibling=null}}function Nn(o){var l=o.alternate!==null&&o.alternate.child===o.child,f=0,m=0;if(l)for(var w=o.child;w!==null;)f|=w.lanes|w.childLanes,m|=w.subtreeFlags&65011712,m|=w.flags&65011712,w.return=o,w=w.sibling;else for(w=o.child;w!==null;)f|=w.lanes|w.childLanes,m|=w.subtreeFlags,m|=w.flags,w.return=o,w=w.sibling;return o.subtreeFlags|=m,o.childLanes=f,l}function ZG(o,l,f){var m=l.pendingProps;switch(K_(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nn(l),null;case 1:return Nn(l),null;case 3:return f=l.stateNode,m=null,o!==null&&(m=o.memoizedState.cache),l.memoizedState.cache!==m&&(l.flags|=2048),Lo(sr),Ee(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(o===null||o.child===null)&&(pf(l)?qo(l):o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Z_())),Nn(l),null;case 26:var w=l.type,_=l.memoizedState;return o===null?(qo(l),_!==null?(Nn(l),c8(l,_)):(Nn(l),jE(l,w,null,m,f))):_?_!==o.memoizedState?(qo(l),Nn(l),c8(l,_)):(Nn(l),l.flags&=-16777217):(o=o.memoizedProps,o!==m&&qo(l),Nn(l),jE(l,w,o,m,f)),null;case 27:if(Fe(l),f=ge.current,w=l.type,o!==null&&l.stateNode!=null)o.memoizedProps!==m&&qo(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return Nn(l),null}o=X.current,pf(l)?zC(l):(o=mk(w,m,f),l.stateNode=o,qo(l))}return Nn(l),null;case 5:if(Fe(l),w=l.type,o!==null&&l.stateNode!=null)o.memoizedProps!==m&&qo(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return Nn(l),null}if(_=X.current,pf(l))zC(l);else{var R=db(ge.current);switch(_){case 1:_=R.createElementNS("http://www.w3.org/2000/svg",w);break;case 2:_=R.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;default:switch(w){case"svg":_=R.createElementNS("http://www.w3.org/2000/svg",w);break;case"math":_=R.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;case"script":_=R.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof m.is=="string"?R.createElement("select",{is:m.is}):R.createElement("select"),m.multiple?_.multiple=!0:m.size&&(_.size=m.size);break;default:_=typeof m.is=="string"?R.createElement(w,{is:m.is}):R.createElement(w)}}_[pt]=l,_[xt]=m;e:for(R=l.child;R!==null;){if(R.tag===5||R.tag===6)_.appendChild(R.stateNode);else if(R.tag!==4&&R.tag!==27&&R.child!==null){R.child.return=R,R=R.child;continue}if(R===l)break e;for(;R.sibling===null;){if(R.return===null||R.return===l)break e;R=R.return}R.sibling.return=R.return,R=R.sibling}l.stateNode=_;e:switch(Zr(_,w,m),w){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&qo(l)}}return Nn(l),jE(l,l.type,o===null?null:o.memoizedProps,l.pendingProps,f),null;case 6:if(o&&l.stateNode!=null)o.memoizedProps!==m&&qo(l);else{if(typeof m!="string"&&l.stateNode===null)throw Error(r(166));if(o=ge.current,pf(l)){if(o=l.stateNode,f=l.memoizedProps,m=null,w=Gr,w!==null)switch(w.tag){case 27:case 5:m=w.memoizedProps}o[pt]=l,o=!!(o.nodeValue===f||m!==null&&m.suppressHydrationWarning===!0||ik(o.nodeValue,f)),o||Jc(l,!0)}else o=db(o).createTextNode(m),o[pt]=l,l.stateNode=o}return Nn(l),null;case 31:if(f=l.memoizedState,o===null||o.memoizedState!==null){if(m=pf(l),f!==null){if(o===null){if(!m)throw Error(r(318));if(o=l.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(557));o[pt]=l}else xu(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Nn(l),o=!1}else f=Z_(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=f),o=!0;if(!o)return l.flags&256?(ds(l),l):(ds(l),null);if((l.flags&128)!==0)throw Error(r(558))}return Nn(l),null;case 13:if(m=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(w=pf(l),m!==null&&m.dehydrated!==null){if(o===null){if(!w)throw Error(r(318));if(w=l.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(r(317));w[pt]=l}else xu(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Nn(l),w=!1}else w=Z_(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=w),w=!0;if(!w)return l.flags&256?(ds(l),l):(ds(l),null)}return ds(l),(l.flags&128)!==0?(l.lanes=f,l):(f=m!==null,o=o!==null&&o.memoizedState!==null,f&&(m=l.child,w=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(w=m.alternate.memoizedState.cachePool.pool),_=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(_=m.memoizedState.cachePool.pool),_!==w&&(m.flags|=2048)),f!==o&&f&&(l.child.flags|=8192),Z0(l,l.updateQueue),Nn(l),null);case 4:return Ee(),o===null&&c2(l.stateNode.containerInfo),Nn(l),null;case 10:return Lo(l.type),Nn(l),null;case 19:if(V(Xn),m=l.memoizedState,m===null)return Nn(l),null;if(w=(l.flags&128)!==0,_=m.rendering,_===null)if(w)Kp(m,!1);else{if(Yn!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(_=M0(o),_!==null){for(l.flags|=128,Kp(m,!1),o=_.updateQueue,l.updateQueue=o,Z0(l,o),l.subtreeFlags=0,o=f,f=l.child;f!==null;)UC(f,o),f=f.sibling;return J(Xn,Xn.current&1|2),jt&&Mo(l,m.treeForkCount),l.child}o=o.sibling}m.tail!==null&&gn()>tb&&(l.flags|=128,w=!0,Kp(m,!1),l.lanes=4194304)}else{if(!w)if(o=M0(_),o!==null){if(l.flags|=128,w=!0,o=o.updateQueue,l.updateQueue=o,Z0(l,o),Kp(m,!0),m.tail===null&&m.tailMode==="hidden"&&!_.alternate&&!jt)return Nn(l),null}else 2*gn()-m.renderingStartTime>tb&&f!==536870912&&(l.flags|=128,w=!0,Kp(m,!1),l.lanes=4194304);m.isBackwards?(_.sibling=l.child,l.child=_):(o=m.last,o!==null?o.sibling=_:l.child=_,m.last=_)}return m.tail!==null?(o=m.tail,m.rendering=o,m.tail=o.sibling,m.renderingStartTime=gn(),o.sibling=null,f=Xn.current,J(Xn,w?f&1|2:f&1),jt&&Mo(l,m.treeForkCount),o):(Nn(l),null);case 22:case 23:return ds(l),lE(),m=l.memoizedState!==null,o!==null?o.memoizedState!==null!==m&&(l.flags|=8192):m&&(l.flags|=8192),m?(f&536870912)!==0&&(l.flags&128)===0&&(Nn(l),l.subtreeFlags&6&&(l.flags|=8192)):Nn(l),f=l.updateQueue,f!==null&&Z0(l,f.retryQueue),f=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048),o!==null&&V(Cu),null;case 24:return f=null,o!==null&&(f=o.memoizedState.cache),l.memoizedState.cache!==f&&(l.flags|=2048),Lo(sr),Nn(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function XG(o,l){switch(K_(l),l.tag){case 1:return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return Lo(sr),Ee(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 26:case 27:case 5:return Fe(l),null;case 31:if(l.memoizedState!==null){if(ds(l),l.alternate===null)throw Error(r(340));xu()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 13:if(ds(l),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(r(340));xu()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return V(Xn),null;case 4:return Ee(),null;case 10:return Lo(l.type),null;case 22:case 23:return ds(l),lE(),o!==null&&V(Cu),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 24:return Lo(sr),null;case 25:return null;default:return null}}function l8(o,l){switch(K_(l),l.tag){case 3:Lo(sr),Ee();break;case 26:case 27:case 5:Fe(l);break;case 4:Ee();break;case 31:l.memoizedState!==null&&ds(l);break;case 13:ds(l);break;case 19:V(Xn);break;case 10:Lo(l.type);break;case 22:case 23:ds(l),lE(),o!==null&&V(Cu);break;case 24:Lo(sr)}}function Yp(o,l){try{var f=l.updateQueue,m=f!==null?f.lastEffect:null;if(m!==null){var w=m.next;f=w;do{if((f.tag&o)===o){m=void 0;var _=f.create,R=f.inst;m=_(),R.destroy=m}f=f.next}while(f!==w)}}catch(q){un(l,l.return,q)}}function sl(o,l,f){try{var m=l.updateQueue,w=m!==null?m.lastEffect:null;if(w!==null){var _=w.next;m=_;do{if((m.tag&o)===o){var R=m.inst,q=R.destroy;if(q!==void 0){R.destroy=void 0,w=l;var ne=f,de=q;try{de()}catch(ve){un(w,ne,ve)}}}m=m.next}while(m!==_)}}catch(ve){un(l,l.return,ve)}}function u8(o){var l=o.updateQueue;if(l!==null){var f=o.stateNode;try{eO(l,f)}catch(m){un(o,o.return,m)}}}function d8(o,l,f){f.props=$u(o.type,o.memoizedProps),f.state=o.memoizedState;try{f.componentWillUnmount()}catch(m){un(o,l,m)}}function Zp(o,l){try{var f=o.ref;if(f!==null){switch(o.tag){case 26:case 27:case 5:var m=o.stateNode;break;case 30:m=o.stateNode;break;default:m=o.stateNode}typeof f=="function"?o.refCleanup=f(m):f.current=m}}catch(w){un(o,l,w)}}function Va(o,l){var f=o.ref,m=o.refCleanup;if(f!==null)if(typeof m=="function")try{m()}catch(w){un(o,l,w)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(w){un(o,l,w)}else f.current=null}function f8(o){var l=o.type,f=o.memoizedProps,m=o.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":f.autoFocus&&m.focus();break e;case"img":f.src?m.src=f.src:f.srcSet&&(m.srcset=f.srcSet)}}catch(w){un(o,o.return,w)}}function zE(o,l,f){try{var m=o.stateNode;wK(m,o.type,f,l),m[xt]=l}catch(w){un(o,o.return,w)}}function h8(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&fl(o.type)||o.tag===4}function FE(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||h8(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&fl(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function qE(o,l,f){var m=o.tag;if(m===5||m===6)o=o.stateNode,l?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(o,l):(l=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,l.appendChild(o),f=f._reactRootContainer,f!=null||l.onclick!==null||(l.onclick=ya));else if(m!==4&&(m===27&&fl(o.type)&&(f=o.stateNode,l=null),o=o.child,o!==null))for(qE(o,l,f),o=o.sibling;o!==null;)qE(o,l,f),o=o.sibling}function X0(o,l,f){var m=o.tag;if(m===5||m===6)o=o.stateNode,l?f.insertBefore(o,l):f.appendChild(o);else if(m!==4&&(m===27&&fl(o.type)&&(f=o.stateNode),o=o.child,o!==null))for(X0(o,l,f),o=o.sibling;o!==null;)X0(o,l,f),o=o.sibling}function p8(o){var l=o.stateNode,f=o.memoizedProps;try{for(var m=o.type,w=l.attributes;w.length;)l.removeAttributeNode(w[0]);Zr(l,m,f),l[pt]=o,l[xt]=f}catch(_){un(o,o.return,_)}}var Wo=!1,cr=!1,WE=!1,m8=typeof WeakSet=="function"?WeakSet:Set,Nr=null;function JG(o,l){if(o=o.containerInfo,d2=bb,o=IC(o),M_(o)){if("selectionStart"in o)var f={start:o.selectionStart,end:o.selectionEnd};else e:{f=(f=o.ownerDocument)&&f.defaultView||window;var m=f.getSelection&&f.getSelection();if(m&&m.rangeCount!==0){f=m.anchorNode;var w=m.anchorOffset,_=m.focusNode;m=m.focusOffset;try{f.nodeType,_.nodeType}catch{f=null;break e}var R=0,q=-1,ne=-1,de=0,ve=0,Ae=o,he=null;t:for(;;){for(var ye;Ae!==f||w!==0&&Ae.nodeType!==3||(q=R+w),Ae!==_||m!==0&&Ae.nodeType!==3||(ne=R+m),Ae.nodeType===3&&(R+=Ae.nodeValue.length),(ye=Ae.firstChild)!==null;)he=Ae,Ae=ye;for(;;){if(Ae===o)break t;if(he===f&&++de===w&&(q=R),he===_&&++ve===m&&(ne=R),(ye=Ae.nextSibling)!==null)break;Ae=he,he=Ae.parentNode}Ae=ye}f=q===-1||ne===-1?null:{start:q,end:ne}}else f=null}f=f||{start:0,end:0}}else f=null;for(f2={focusedElem:o,selectionRange:f},bb=!1,Nr=l;Nr!==null;)if(l=Nr,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,Nr=o;else for(;Nr!==null;){switch(l=Nr,_=l.alternate,o=l.flags,l.tag){case 0:if((o&4)!==0&&(o=l.updateQueue,o=o!==null?o.events:null,o!==null))for(f=0;f<o.length;f++)w=o[f],w.ref.impl=w.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&_!==null){o=void 0,f=l,w=_.memoizedProps,_=_.memoizedState,m=f.stateNode;try{var Ye=$u(f.type,w);o=m.getSnapshotBeforeUpdate(Ye,_),m.__reactInternalSnapshotBeforeUpdate=o}catch(lt){un(f,f.return,lt)}}break;case 3:if((o&1024)!==0){if(o=l.stateNode.containerInfo,f=o.nodeType,f===9)m2(o);else if(f===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":m2(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=l.sibling,o!==null){o.return=l.return,Nr=o;break}Nr=l.return}}function y8(o,l,f){var m=f.flags;switch(f.tag){case 0:case 11:case 15:Vo(o,f),m&4&&Yp(5,f);break;case 1:if(Vo(o,f),m&4)if(o=f.stateNode,l===null)try{o.componentDidMount()}catch(R){un(f,f.return,R)}else{var w=$u(f.type,l.memoizedProps);l=l.memoizedState;try{o.componentDidUpdate(w,l,o.__reactInternalSnapshotBeforeUpdate)}catch(R){un(f,f.return,R)}}m&64&&u8(f),m&512&&Zp(f,f.return);break;case 3:if(Vo(o,f),m&64&&(o=f.updateQueue,o!==null)){if(l=null,f.child!==null)switch(f.child.tag){case 27:case 5:l=f.child.stateNode;break;case 1:l=f.child.stateNode}try{eO(o,l)}catch(R){un(f,f.return,R)}}break;case 27:l===null&&m&4&&p8(f);case 26:case 5:Vo(o,f),l===null&&m&4&&f8(f),m&512&&Zp(f,f.return);break;case 12:Vo(o,f);break;case 31:Vo(o,f),m&4&&w8(o,f);break;case 13:Vo(o,f),m&4&&v8(o,f),m&64&&(o=f.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(f=oK.bind(null,f),IK(o,f))));break;case 22:if(m=f.memoizedState!==null||Wo,!m){l=l!==null&&l.memoizedState!==null||cr,w=Wo;var _=cr;Wo=m,(cr=l)&&!_?Go(o,f,(f.subtreeFlags&8772)!==0):Vo(o,f),Wo=w,cr=_}break;case 30:break;default:Vo(o,f)}}function g8(o){var l=o.alternate;l!==null&&(o.alternate=null,g8(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&on(l)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Ln=null,Di=!1;function Ho(o,l,f){for(f=f.child;f!==null;)b8(o,l,f),f=f.sibling}function b8(o,l,f){if(dt&&typeof dt.onCommitFiberUnmount=="function")try{dt.onCommitFiberUnmount(ot,f)}catch{}switch(f.tag){case 26:cr||Va(f,l),Ho(o,l,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:cr||Va(f,l);var m=Ln,w=Di;fl(f.type)&&(Ln=f.stateNode,Di=!1),Ho(o,l,f),sm(f.stateNode),Ln=m,Di=w;break;case 5:cr||Va(f,l);case 6:if(m=Ln,w=Di,Ln=null,Ho(o,l,f),Ln=m,Di=w,Ln!==null)if(Di)try{(Ln.nodeType===9?Ln.body:Ln.nodeName==="HTML"?Ln.ownerDocument.body:Ln).removeChild(f.stateNode)}catch(_){un(f,l,_)}else try{Ln.removeChild(f.stateNode)}catch(_){un(f,l,_)}break;case 18:Ln!==null&&(Di?(o=Ln,uk(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,f.stateNode),Df(o)):uk(Ln,f.stateNode));break;case 4:m=Ln,w=Di,Ln=f.stateNode.containerInfo,Di=!0,Ho(o,l,f),Ln=m,Di=w;break;case 0:case 11:case 14:case 15:sl(2,f,l),cr||sl(4,f,l),Ho(o,l,f);break;case 1:cr||(Va(f,l),m=f.stateNode,typeof m.componentWillUnmount=="function"&&d8(f,l,m)),Ho(o,l,f);break;case 21:Ho(o,l,f);break;case 22:cr=(m=cr)||f.memoizedState!==null,Ho(o,l,f),cr=m;break;default:Ho(o,l,f)}}function w8(o,l){if(l.memoizedState===null&&(o=l.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{Df(o)}catch(f){un(l,l.return,f)}}}function v8(o,l){if(l.memoizedState===null&&(o=l.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Df(o)}catch(f){un(l,l.return,f)}}function QG(o){switch(o.tag){case 31:case 13:case 19:var l=o.stateNode;return l===null&&(l=o.stateNode=new m8),l;case 22:return o=o.stateNode,l=o._retryCache,l===null&&(l=o._retryCache=new m8),l;default:throw Error(r(435,o.tag))}}function J0(o,l){var f=QG(o);l.forEach(function(m){if(!f.has(m)){f.add(m);var w=cK.bind(null,o,m);m.then(w,w)}})}function Ui(o,l){var f=l.deletions;if(f!==null)for(var m=0;m<f.length;m++){var w=f[m],_=o,R=l,q=R;e:for(;q!==null;){switch(q.tag){case 27:if(fl(q.type)){Ln=q.stateNode,Di=!1;break e}break;case 5:Ln=q.stateNode,Di=!1;break e;case 3:case 4:Ln=q.stateNode.containerInfo,Di=!0;break e}q=q.return}if(Ln===null)throw Error(r(160));b8(_,R,w),Ln=null,Di=!1,_=w.alternate,_!==null&&(_.return=null),w.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)_8(l,o),l=l.sibling}var ba=null;function _8(o,l){var f=o.alternate,m=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Ui(l,o),Mi(o),m&4&&(sl(3,o,o.return),Yp(3,o),sl(5,o,o.return));break;case 1:Ui(l,o),Mi(o),m&512&&(cr||f===null||Va(f,f.return)),m&64&&Wo&&(o=o.updateQueue,o!==null&&(m=o.callbacks,m!==null&&(f=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=f===null?m:f.concat(m))));break;case 26:var w=ba;if(Ui(l,o),Mi(o),m&512&&(cr||f===null||Va(f,f.return)),m&4){var _=f!==null?f.memoizedState:null;if(m=o.memoizedState,f===null)if(m===null)if(o.stateNode===null){e:{m=o.type,f=o.memoizedProps,w=w.ownerDocument||w;t:switch(m){case"title":_=w.getElementsByTagName("title")[0],(!_||_[Hn]||_[pt]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=w.createElement(m),w.head.insertBefore(_,w.querySelector("head > title"))),Zr(_,m,f),_[pt]=o,ct(_),m=_;break e;case"link":var R=_k("link","href",w).get(m+(f.href||""));if(R){for(var q=0;q<R.length;q++)if(_=R[q],_.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&_.getAttribute("rel")===(f.rel==null?null:f.rel)&&_.getAttribute("title")===(f.title==null?null:f.title)&&_.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){R.splice(q,1);break t}}_=w.createElement(m),Zr(_,m,f),w.head.appendChild(_);break;case"meta":if(R=_k("meta","content",w).get(m+(f.content||""))){for(q=0;q<R.length;q++)if(_=R[q],_.getAttribute("content")===(f.content==null?null:""+f.content)&&_.getAttribute("name")===(f.name==null?null:f.name)&&_.getAttribute("property")===(f.property==null?null:f.property)&&_.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&_.getAttribute("charset")===(f.charSet==null?null:f.charSet)){R.splice(q,1);break t}}_=w.createElement(m),Zr(_,m,f),w.head.appendChild(_);break;default:throw Error(r(468,m))}_[pt]=o,ct(_),m=_}o.stateNode=m}else Ek(w,o.type,o.stateNode);else o.stateNode=vk(w,m,o.memoizedProps);else _!==m?(_===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):_.count--,m===null?Ek(w,o.type,o.stateNode):vk(w,m,o.memoizedProps)):m===null&&o.stateNode!==null&&zE(o,o.memoizedProps,f.memoizedProps)}break;case 27:Ui(l,o),Mi(o),m&512&&(cr||f===null||Va(f,f.return)),f!==null&&m&4&&zE(o,o.memoizedProps,f.memoizedProps);break;case 5:if(Ui(l,o),Mi(o),m&512&&(cr||f===null||Va(f,f.return)),o.flags&32){w=o.stateNode;try{Vc(w,"")}catch(Ye){un(o,o.return,Ye)}}m&4&&o.stateNode!=null&&(w=o.memoizedProps,zE(o,w,f!==null?f.memoizedProps:w)),m&1024&&(WE=!0);break;case 6:if(Ui(l,o),Mi(o),m&4){if(o.stateNode===null)throw Error(r(162));m=o.memoizedProps,f=o.stateNode;try{f.nodeValue=m}catch(Ye){un(o,o.return,Ye)}}break;case 3:if(pb=null,w=ba,ba=fb(l.containerInfo),Ui(l,o),ba=w,Mi(o),m&4&&f!==null&&f.memoizedState.isDehydrated)try{Df(l.containerInfo)}catch(Ye){un(o,o.return,Ye)}WE&&(WE=!1,E8(o));break;case 4:m=ba,ba=fb(o.stateNode.containerInfo),Ui(l,o),Mi(o),ba=m;break;case 12:Ui(l,o),Mi(o);break;case 31:Ui(l,o),Mi(o),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,J0(o,m)));break;case 13:Ui(l,o),Mi(o),o.child.flags&8192&&o.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(eb=gn()),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,J0(o,m)));break;case 22:w=o.memoizedState!==null;var ne=f!==null&&f.memoizedState!==null,de=Wo,ve=cr;if(Wo=de||w,cr=ve||ne,Ui(l,o),cr=ve,Wo=de,Mi(o),m&8192)e:for(l=o.stateNode,l._visibility=w?l._visibility&-2:l._visibility|1,w&&(f===null||ne||Wo||cr||Pu(o)),f=null,l=o;;){if(l.tag===5||l.tag===26){if(f===null){ne=f=l;try{if(_=ne.stateNode,w)R=_.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{q=ne.stateNode;var Ae=ne.memoizedProps.style,he=Ae!=null&&Ae.hasOwnProperty("display")?Ae.display:null;q.style.display=he==null||typeof he=="boolean"?"":(""+he).trim()}}catch(Ye){un(ne,ne.return,Ye)}}}else if(l.tag===6){if(f===null){ne=l;try{ne.stateNode.nodeValue=w?"":ne.memoizedProps}catch(Ye){un(ne,ne.return,Ye)}}}else if(l.tag===18){if(f===null){ne=l;try{var ye=ne.stateNode;w?dk(ye,!0):dk(ne.stateNode,!1)}catch(Ye){un(ne,ne.return,Ye)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===o)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break e;for(;l.sibling===null;){if(l.return===null||l.return===o)break e;f===l&&(f=null),l=l.return}f===l&&(f=null),l.sibling.return=l.return,l=l.sibling}m&4&&(m=o.updateQueue,m!==null&&(f=m.retryQueue,f!==null&&(m.retryQueue=null,J0(o,f))));break;case 19:Ui(l,o),Mi(o),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,J0(o,m)));break;case 30:break;case 21:break;default:Ui(l,o),Mi(o)}}function Mi(o){var l=o.flags;if(l&2){try{for(var f,m=o.return;m!==null;){if(h8(m)){f=m;break}m=m.return}if(f==null)throw Error(r(160));switch(f.tag){case 27:var w=f.stateNode,_=FE(o);X0(o,_,w);break;case 5:var R=f.stateNode;f.flags&32&&(Vc(R,""),f.flags&=-33);var q=FE(o);X0(o,q,R);break;case 3:case 4:var ne=f.stateNode.containerInfo,de=FE(o);qE(o,de,ne);break;default:throw Error(r(161))}}catch(ve){un(o,o.return,ve)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function E8(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var l=o;E8(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),o=o.sibling}}function Vo(o,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)y8(o,l.alternate,l),l=l.sibling}function Pu(o){for(o=o.child;o!==null;){var l=o;switch(l.tag){case 0:case 11:case 14:case 15:sl(4,l,l.return),Pu(l);break;case 1:Va(l,l.return);var f=l.stateNode;typeof f.componentWillUnmount=="function"&&d8(l,l.return,f),Pu(l);break;case 27:sm(l.stateNode);case 26:case 5:Va(l,l.return),Pu(l);break;case 22:l.memoizedState===null&&Pu(l);break;case 30:Pu(l);break;default:Pu(l)}o=o.sibling}}function Go(o,l,f){for(f=f&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var m=l.alternate,w=o,_=l,R=_.flags;switch(_.tag){case 0:case 11:case 15:Go(w,_,f),Yp(4,_);break;case 1:if(Go(w,_,f),m=_,w=m.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(de){un(m,m.return,de)}if(m=_,w=m.updateQueue,w!==null){var q=m.stateNode;try{var ne=w.shared.hiddenCallbacks;if(ne!==null)for(w.shared.hiddenCallbacks=null,w=0;w<ne.length;w++)QC(ne[w],q)}catch(de){un(m,m.return,de)}}f&&R&64&&u8(_),Zp(_,_.return);break;case 27:p8(_);case 26:case 5:Go(w,_,f),f&&m===null&&R&4&&f8(_),Zp(_,_.return);break;case 12:Go(w,_,f);break;case 31:Go(w,_,f),f&&R&4&&w8(w,_);break;case 13:Go(w,_,f),f&&R&4&&v8(w,_);break;case 22:_.memoizedState===null&&Go(w,_,f),Zp(_,_.return);break;case 30:break;default:Go(w,_,f)}l=l.sibling}}function HE(o,l){var f=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),o=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(o=l.memoizedState.cachePool.pool),o!==f&&(o!=null&&o.refCount++,f!=null&&Up(f))}function VE(o,l){o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&Up(o))}function wa(o,l,f,m){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)S8(o,l,f,m),l=l.sibling}function S8(o,l,f,m){var w=l.flags;switch(l.tag){case 0:case 11:case 15:wa(o,l,f,m),w&2048&&Yp(9,l);break;case 1:wa(o,l,f,m);break;case 3:wa(o,l,f,m),w&2048&&(o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&Up(o)));break;case 12:if(w&2048){wa(o,l,f,m),o=l.stateNode;try{var _=l.memoizedProps,R=_.id,q=_.onPostCommit;typeof q=="function"&&q(R,l.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(ne){un(l,l.return,ne)}}else wa(o,l,f,m);break;case 31:wa(o,l,f,m);break;case 13:wa(o,l,f,m);break;case 23:break;case 22:_=l.stateNode,R=l.alternate,l.memoizedState!==null?_._visibility&2?wa(o,l,f,m):Xp(o,l):_._visibility&2?wa(o,l,f,m):(_._visibility|=2,Af(o,l,f,m,(l.subtreeFlags&10256)!==0||!1)),w&2048&&HE(R,l);break;case 24:wa(o,l,f,m),w&2048&&VE(l.alternate,l);break;default:wa(o,l,f,m)}}function Af(o,l,f,m,w){for(w=w&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var _=o,R=l,q=f,ne=m,de=R.flags;switch(R.tag){case 0:case 11:case 15:Af(_,R,q,ne,w),Yp(8,R);break;case 23:break;case 22:var ve=R.stateNode;R.memoizedState!==null?ve._visibility&2?Af(_,R,q,ne,w):Xp(_,R):(ve._visibility|=2,Af(_,R,q,ne,w)),w&&de&2048&&HE(R.alternate,R);break;case 24:Af(_,R,q,ne,w),w&&de&2048&&VE(R.alternate,R);break;default:Af(_,R,q,ne,w)}l=l.sibling}}function Xp(o,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var f=o,m=l,w=m.flags;switch(m.tag){case 22:Xp(f,m),w&2048&&HE(m.alternate,m);break;case 24:Xp(f,m),w&2048&&VE(m.alternate,m);break;default:Xp(f,m)}l=l.sibling}}var Jp=8192;function xf(o,l,f){if(o.subtreeFlags&Jp)for(o=o.child;o!==null;)A8(o,l,f),o=o.sibling}function A8(o,l,f){switch(o.tag){case 26:xf(o,l,f),o.flags&Jp&&o.memoizedState!==null&&LK(f,ba,o.memoizedState,o.memoizedProps);break;case 5:xf(o,l,f);break;case 3:case 4:var m=ba;ba=fb(o.stateNode.containerInfo),xf(o,l,f),ba=m;break;case 22:o.memoizedState===null&&(m=o.alternate,m!==null&&m.memoizedState!==null?(m=Jp,Jp=16777216,xf(o,l,f),Jp=m):xf(o,l,f));break;default:xf(o,l,f)}}function x8(o){var l=o.alternate;if(l!==null&&(o=l.child,o!==null)){l.child=null;do l=o.sibling,o.sibling=null,o=l;while(o!==null)}}function Qp(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var f=0;f<l.length;f++){var m=l[f];Nr=m,I8(m,o)}x8(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)T8(o),o=o.sibling}function T8(o){switch(o.tag){case 0:case 11:case 15:Qp(o),o.flags&2048&&sl(9,o,o.return);break;case 3:Qp(o);break;case 12:Qp(o);break;case 22:var l=o.stateNode;o.memoizedState!==null&&l._visibility&2&&(o.return===null||o.return.tag!==13)?(l._visibility&=-3,Q0(o)):Qp(o);break;default:Qp(o)}}function Q0(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var f=0;f<l.length;f++){var m=l[f];Nr=m,I8(m,o)}x8(o)}for(o=o.child;o!==null;){switch(l=o,l.tag){case 0:case 11:case 15:sl(8,l,l.return),Q0(l);break;case 22:f=l.stateNode,f._visibility&2&&(f._visibility&=-3,Q0(l));break;default:Q0(l)}o=o.sibling}}function I8(o,l){for(;Nr!==null;){var f=Nr;switch(f.tag){case 0:case 11:case 15:sl(8,f,l);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var m=f.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Up(f.memoizedState.cache)}if(m=f.child,m!==null)m.return=f,Nr=m;else e:for(f=o;Nr!==null;){m=Nr;var w=m.sibling,_=m.return;if(g8(m),m===f){Nr=null;break e}if(w!==null){w.return=_,Nr=w;break e}Nr=_}}}var eK={getCacheForType:function(o){var l=Kr(sr),f=l.data.get(o);return f===void 0&&(f=o(),l.data.set(o,f)),f},cacheSignal:function(){return Kr(sr).controller.signal}},tK=typeof WeakMap=="function"?WeakMap:Map,en=0,wn=null,Dt=null,Mt=0,ln=0,fs=null,al=!1,Tf=!1,GE=!1,Ko=0,Yn=0,ol=0,Du=0,KE=0,hs=0,If=0,em=null,Bi=null,YE=!1,eb=0,C8=0,tb=1/0,nb=null,cl=null,Er=0,ll=null,Cf=null,Yo=0,ZE=0,XE=null,O8=null,tm=0,JE=null;function ps(){return(en&2)!==0&&Mt!==0?Mt&-Mt:x.T!==null?i2():Ze()}function k8(){if(hs===0)if((Mt&536870912)===0||jt){var o=Ni;Ni<<=1,(Ni&3932160)===0&&(Ni=262144),hs=o}else hs=536870912;return o=us.current,o!==null&&(o.flags|=32),hs}function Li(o,l,f){(o===wn&&(ln===2||ln===9)||o.cancelPendingCommit!==null)&&(Of(o,0),ul(o,Mt,hs,!1)),W(o,f),((en&2)===0||o!==wn)&&(o===wn&&((en&2)===0&&(Du|=f),Yn===4&&ul(o,Mt,hs,!1)),Ga(o))}function R8(o,l,f){if((en&6)!==0)throw Error(r(327));var m=!f&&(l&127)===0&&(l&o.expiredLanes)===0||qa(o,l),w=m?iK(o,l):e2(o,l,!0),_=m;do{if(w===0){Tf&&!m&&ul(o,l,0,!1);break}else{if(f=o.current.alternate,_&&!nK(f)){w=e2(o,l,!1),_=!1;continue}if(w===2){if(_=l,o.errorRecoveryDisabledLanes&_)var R=0;else R=o.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){l=R;e:{var q=o;w=em;var ne=q.current.memoizedState.isDehydrated;if(ne&&(Of(q,R).flags|=256),R=e2(q,R,!1),R!==2){if(GE&&!ne){q.errorRecoveryDisabledLanes|=_,Du|=_,w=4;break e}_=Bi,Bi=w,_!==null&&(Bi===null?Bi=_:Bi.push.apply(Bi,_))}w=R}if(_=!1,w!==2)continue}}if(w===1){Of(o,0),ul(o,l,0,!0);break}e:{switch(m=o,_=w,_){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:ul(m,l,hs,!al);break e;case 2:Bi=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(w=eb+300-gn(),10<w)){if(ul(m,l,hs,!al),$o(m,0,!0)!==0)break e;Yo=l,m.timeoutHandle=ck(N8.bind(null,m,f,Bi,nb,YE,l,hs,Du,If,al,_,"Throttled",-0,0),w);break e}N8(m,f,Bi,nb,YE,l,hs,Du,If,al,_,null,-0,0)}}break}while(!0);Ga(o)}function N8(o,l,f,m,w,_,R,q,ne,de,ve,Ae,he,ye){if(o.timeoutHandle=-1,Ae=l.subtreeFlags,Ae&8192||(Ae&16785408)===16785408){Ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ya},A8(l,_,Ae);var Ye=(_&62914560)===_?eb-gn():(_&4194048)===_?C8-gn():0;if(Ye=jK(Ae,Ye),Ye!==null){Yo=_,o.cancelPendingCommit=Ye(j8.bind(null,o,l,_,f,m,w,R,q,ne,ve,Ae,null,he,ye)),ul(o,_,R,!de);return}}j8(o,l,_,f,m,w,R,q,ne)}function nK(o){for(var l=o;;){var f=l.tag;if((f===0||f===11||f===15)&&l.flags&16384&&(f=l.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var m=0;m<f.length;m++){var w=f[m],_=w.getSnapshot;w=w.value;try{if(!cs(_(),w))return!1}catch{return!1}}if(f=l.child,l.subtreeFlags&16384&&f!==null)f.return=l,l=f;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function ul(o,l,f,m){l&=~KE,l&=~Du,o.suspendedLanes|=l,o.pingedLanes&=~l,m&&(o.warmLanes|=l),m=o.expirationTimes;for(var w=l;0<w;){var _=31-Kt(w),R=1<<_;m[_]=-1,w&=~R}f!==0&&ee(o,f,l)}function rb(){return(en&6)===0?(nm(0),!1):!0}function QE(){if(Dt!==null){if(ln===0)var o=Dt.return;else o=Dt,Bo=Tu=null,mE(o),wf=null,Bp=0,o=Dt;for(;o!==null;)l8(o.alternate,o),o=o.return;Dt=null}}function Of(o,l){var f=o.timeoutHandle;f!==-1&&(o.timeoutHandle=-1,EK(f)),f=o.cancelPendingCommit,f!==null&&(o.cancelPendingCommit=null,f()),Yo=0,QE(),wn=o,Dt=f=Uo(o.current,null),Mt=l,ln=0,fs=null,al=!1,Tf=qa(o,l),GE=!1,If=hs=KE=Du=ol=Yn=0,Bi=em=null,YE=!1,(l&8)!==0&&(l|=l&32);var m=o.entangledLanes;if(m!==0)for(o=o.entanglements,m&=l;0<m;){var w=31-Kt(m),_=1<<w;l|=o[w],m&=~_}return Ko=l,A0(),f}function $8(o,l){It=null,x.H=Vp,l===bf||l===N0?(l=YC(),ln=3):l===rE?(l=YC(),ln=4):ln=l===RE?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,fs=l,Dt===null&&(Yn=1,V0(o,Ds(l,o.current)))}function P8(){var o=us.current;return o===null?!0:(Mt&4194048)===Mt?Ls===null:(Mt&62914560)===Mt||(Mt&536870912)!==0?o===Ls:!1}function D8(){var o=x.H;return x.H=Vp,o===null?Vp:o}function U8(){var o=x.A;return x.A=eK,o}function ib(){Yn=4,al||(Mt&4194048)!==Mt&&us.current!==null||(Tf=!0),(ol&134217727)===0&&(Du&134217727)===0||wn===null||ul(wn,Mt,hs,!1)}function e2(o,l,f){var m=en;en|=2;var w=D8(),_=U8();(wn!==o||Mt!==l)&&(nb=null,Of(o,l)),l=!1;var R=Yn;e:do try{if(ln!==0&&Dt!==null){var q=Dt,ne=fs;switch(ln){case 8:QE(),R=6;break e;case 3:case 2:case 9:case 6:us.current===null&&(l=!0);var de=ln;if(ln=0,fs=null,kf(o,q,ne,de),f&&Tf){R=0;break e}break;default:de=ln,ln=0,fs=null,kf(o,q,ne,de)}}rK(),R=Yn;break}catch(ve){$8(o,ve)}while(!0);return l&&o.shellSuspendCounter++,Bo=Tu=null,en=m,x.H=w,x.A=_,Dt===null&&(wn=null,Mt=0,A0()),R}function rK(){for(;Dt!==null;)M8(Dt)}function iK(o,l){var f=en;en|=2;var m=D8(),w=U8();wn!==o||Mt!==l?(nb=null,tb=gn()+500,Of(o,l)):Tf=qa(o,l);e:do try{if(ln!==0&&Dt!==null){l=Dt;var _=fs;t:switch(ln){case 1:ln=0,fs=null,kf(o,l,_,1);break;case 2:case 9:if(GC(_)){ln=0,fs=null,B8(l);break}l=function(){ln!==2&&ln!==9||wn!==o||(ln=7),Ga(o)},_.then(l,l);break e;case 3:ln=7;break e;case 4:ln=5;break e;case 7:GC(_)?(ln=0,fs=null,B8(l)):(ln=0,fs=null,kf(o,l,_,7));break;case 5:var R=null;switch(Dt.tag){case 26:R=Dt.memoizedState;case 5:case 27:var q=Dt;if(R?Sk(R):q.stateNode.complete){ln=0,fs=null;var ne=q.sibling;if(ne!==null)Dt=ne;else{var de=q.return;de!==null?(Dt=de,sb(de)):Dt=null}break t}}ln=0,fs=null,kf(o,l,_,5);break;case 6:ln=0,fs=null,kf(o,l,_,6);break;case 8:QE(),Yn=6;break e;default:throw Error(r(462))}}sK();break}catch(ve){$8(o,ve)}while(!0);return Bo=Tu=null,x.H=m,x.A=w,en=f,Dt!==null?0:(wn=null,Mt=0,A0(),Yn)}function sK(){for(;Dt!==null&&!di();)M8(Dt)}function M8(o){var l=o8(o.alternate,o,Ko);o.memoizedProps=o.pendingProps,l===null?sb(o):Dt=l}function B8(o){var l=o,f=l.alternate;switch(l.tag){case 15:case 0:l=t8(f,l,l.pendingProps,l.type,void 0,Mt);break;case 11:l=t8(f,l,l.pendingProps,l.type.render,l.ref,Mt);break;case 5:mE(l);default:l8(f,l),l=Dt=UC(l,Ko),l=o8(f,l,Ko)}o.memoizedProps=o.pendingProps,l===null?sb(o):Dt=l}function kf(o,l,f,m){Bo=Tu=null,mE(l),wf=null,Bp=0;var w=l.return;try{if(GG(o,w,l,f,Mt)){Yn=1,V0(o,Ds(f,o.current)),Dt=null;return}}catch(_){if(w!==null)throw Dt=w,_;Yn=1,V0(o,Ds(f,o.current)),Dt=null;return}l.flags&32768?(jt||m===1?o=!0:Tf||(Mt&536870912)!==0?o=!1:(al=o=!0,(m===2||m===9||m===3||m===6)&&(m=us.current,m!==null&&m.tag===13&&(m.flags|=16384))),L8(l,o)):sb(l)}function sb(o){var l=o;do{if((l.flags&32768)!==0){L8(l,al);return}o=l.return;var f=ZG(l.alternate,l,Ko);if(f!==null){Dt=f;return}if(l=l.sibling,l!==null){Dt=l;return}Dt=l=o}while(l!==null);Yn===0&&(Yn=5)}function L8(o,l){do{var f=XG(o.alternate,o);if(f!==null){f.flags&=32767,Dt=f;return}if(f=o.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!l&&(o=o.sibling,o!==null)){Dt=o;return}Dt=o=f}while(o!==null);Yn=6,Dt=null}function j8(o,l,f,m,w,_,R,q,ne){o.cancelPendingCommit=null;do ab();while(Er!==0);if((en&6)!==0)throw Error(r(327));if(l!==null){if(l===o.current)throw Error(r(177));if(_=l.lanes|l.childLanes,_|=F_,te(o,f,_,R,q,ne),o===wn&&(Dt=wn=null,Mt=0),Cf=l,ll=o,Yo=f,ZE=_,XE=w,O8=m,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,lK(fn,function(){return H8(),null})):(o.callbackNode=null,o.callbackPriority=0),m=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||m){m=x.T,x.T=null,w=N.p,N.p=2,R=en,en|=4;try{JG(o,l,f)}finally{en=R,N.p=w,x.T=m}}Er=1,z8(),F8(),q8()}}function z8(){if(Er===1){Er=0;var o=ll,l=Cf,f=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||f){f=x.T,x.T=null;var m=N.p;N.p=2;var w=en;en|=4;try{_8(l,o);var _=f2,R=IC(o.containerInfo),q=_.focusedElem,ne=_.selectionRange;if(R!==q&&q&&q.ownerDocument&&TC(q.ownerDocument.documentElement,q)){if(ne!==null&&M_(q)){var de=ne.start,ve=ne.end;if(ve===void 0&&(ve=de),"selectionStart"in q)q.selectionStart=de,q.selectionEnd=Math.min(ve,q.value.length);else{var Ae=q.ownerDocument||document,he=Ae&&Ae.defaultView||window;if(he.getSelection){var ye=he.getSelection(),Ye=q.textContent.length,lt=Math.min(ne.start,Ye),mn=ne.end===void 0?lt:Math.min(ne.end,Ye);!ye.extend&&lt>mn&&(R=mn,mn=lt,lt=R);var oe=xC(q,lt),ie=xC(q,mn);if(oe&&ie&&(ye.rangeCount!==1||ye.anchorNode!==oe.node||ye.anchorOffset!==oe.offset||ye.focusNode!==ie.node||ye.focusOffset!==ie.offset)){var ue=Ae.createRange();ue.setStart(oe.node,oe.offset),ye.removeAllRanges(),lt>mn?(ye.addRange(ue),ye.extend(ie.node,ie.offset)):(ue.setEnd(ie.node,ie.offset),ye.addRange(ue))}}}}for(Ae=[],ye=q;ye=ye.parentNode;)ye.nodeType===1&&Ae.push({element:ye,left:ye.scrollLeft,top:ye.scrollTop});for(typeof q.focus=="function"&&q.focus(),q=0;q<Ae.length;q++){var Se=Ae[q];Se.element.scrollLeft=Se.left,Se.element.scrollTop=Se.top}}bb=!!d2,f2=d2=null}finally{en=w,N.p=m,x.T=f}}o.current=l,Er=2}}function F8(){if(Er===2){Er=0;var o=ll,l=Cf,f=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||f){f=x.T,x.T=null;var m=N.p;N.p=2;var w=en;en|=4;try{y8(o,l.alternate,l)}finally{en=w,N.p=m,x.T=f}}Er=3}}function q8(){if(Er===4||Er===3){Er=0,ut();var o=ll,l=Cf,f=Yo,m=O8;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Er=5:(Er=0,Cf=ll=null,W8(o,o.pendingLanes));var w=o.pendingLanes;if(w===0&&(cl=null),Re(f),l=l.stateNode,dt&&typeof dt.onCommitFiberRoot=="function")try{dt.onCommitFiberRoot(ot,l,void 0,(l.current.flags&128)===128)}catch{}if(m!==null){l=x.T,w=N.p,N.p=2,x.T=null;try{for(var _=o.onRecoverableError,R=0;R<m.length;R++){var q=m[R];_(q.value,{componentStack:q.stack})}}finally{x.T=l,N.p=w}}(Yo&3)!==0&&ab(),Ga(o),w=o.pendingLanes,(f&261930)!==0&&(w&42)!==0?o===JE?tm++:(tm=0,JE=o):tm=0,nm(0)}}function W8(o,l){(o.pooledCacheLanes&=l)===0&&(l=o.pooledCache,l!=null&&(o.pooledCache=null,Up(l)))}function ab(){return z8(),F8(),q8(),H8()}function H8(){if(Er!==5)return!1;var o=ll,l=ZE;ZE=0;var f=Re(Yo),m=x.T,w=N.p;try{N.p=32>f?32:f,x.T=null,f=XE,XE=null;var _=ll,R=Yo;if(Er=0,Cf=ll=null,Yo=0,(en&6)!==0)throw Error(r(331));var q=en;if(en|=4,T8(_.current),S8(_,_.current,R,f),en=q,nm(0,!1),dt&&typeof dt.onPostCommitFiberRoot=="function")try{dt.onPostCommitFiberRoot(ot,_)}catch{}return!0}finally{N.p=w,x.T=m,W8(o,l)}}function V8(o,l,f){l=Ds(f,l),l=kE(o.stateNode,l,2),o=nl(o,l,2),o!==null&&(W(o,2),Ga(o))}function un(o,l,f){if(o.tag===3)V8(o,o,f);else for(;l!==null;){if(l.tag===3){V8(l,o,f);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(cl===null||!cl.has(m))){o=Ds(f,o),f=GO(2),m=nl(l,f,2),m!==null&&(KO(f,m,l,o),W(m,2),Ga(m));break}}l=l.return}}function t2(o,l,f){var m=o.pingCache;if(m===null){m=o.pingCache=new tK;var w=new Set;m.set(l,w)}else w=m.get(l),w===void 0&&(w=new Set,m.set(l,w));w.has(f)||(GE=!0,w.add(f),o=aK.bind(null,o,l,f),l.then(o,o))}function aK(o,l,f){var m=o.pingCache;m!==null&&m.delete(l),o.pingedLanes|=o.suspendedLanes&f,o.warmLanes&=~f,wn===o&&(Mt&f)===f&&(Yn===4||Yn===3&&(Mt&62914560)===Mt&&300>gn()-eb?(en&2)===0&&Of(o,0):KE|=f,If===Mt&&(If=0)),Ga(o)}function G8(o,l){l===0&&(l=wu()),o=Su(o,l),o!==null&&(W(o,l),Ga(o))}function oK(o){var l=o.memoizedState,f=0;l!==null&&(f=l.retryLane),G8(o,f)}function cK(o,l){var f=0;switch(o.tag){case 31:case 13:var m=o.stateNode,w=o.memoizedState;w!==null&&(f=w.retryLane);break;case 19:m=o.stateNode;break;case 22:m=o.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(l),G8(o,f)}function lK(o,l){return He(o,l)}var ob=null,Rf=null,n2=!1,cb=!1,r2=!1,dl=0;function Ga(o){o!==Rf&&o.next===null&&(Rf===null?ob=Rf=o:Rf=Rf.next=o),cb=!0,n2||(n2=!0,dK())}function nm(o,l){if(!r2&&cb){r2=!0;do for(var f=!1,m=ob;m!==null;){if(o!==0){var w=m.pendingLanes;if(w===0)var _=0;else{var R=m.suspendedLanes,q=m.pingedLanes;_=(1<<31-Kt(42|o)+1)-1,_&=w&~(R&~q),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(f=!0,X8(m,_))}else _=Mt,_=$o(m,m===wn?_:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(_&3)===0||qa(m,_)||(f=!0,X8(m,_));m=m.next}while(f);r2=!1}}function uK(){K8()}function K8(){cb=n2=!1;var o=0;dl!==0&&_K()&&(o=dl);for(var l=gn(),f=null,m=ob;m!==null;){var w=m.next,_=Y8(m,l);_===0?(m.next=null,f===null?ob=w:f.next=w,w===null&&(Rf=f)):(f=m,(o!==0||(_&3)!==0)&&(cb=!0)),m=w}Er!==0&&Er!==5||nm(o),dl!==0&&(dl=0)}function Y8(o,l){for(var f=o.suspendedLanes,m=o.pingedLanes,w=o.expirationTimes,_=o.pendingLanes&-62914561;0<_;){var R=31-Kt(_),q=1<<R,ne=w[R];ne===-1?((q&f)===0||(q&m)!==0)&&(w[R]=bu(q,l)):ne<=l&&(o.expiredLanes|=q),_&=~q}if(l=wn,f=Mt,f=$o(o,o===l?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),m=o.callbackNode,f===0||o===l&&(ln===2||ln===9)||o.cancelPendingCommit!==null)return m!==null&&m!==null&&ui(m),o.callbackNode=null,o.callbackPriority=0;if((f&3)===0||qa(o,f)){if(l=f&-f,l===o.callbackPriority)return l;switch(m!==null&&ui(m),Re(f)){case 2:case 8:f=Ri;break;case 32:f=fn;break;case 268435456:f=Wr;break;default:f=fn}return m=Z8.bind(null,o),f=He(f,m),o.callbackPriority=l,o.callbackNode=f,l}return m!==null&&m!==null&&ui(m),o.callbackPriority=2,o.callbackNode=null,2}function Z8(o,l){if(Er!==0&&Er!==5)return o.callbackNode=null,o.callbackPriority=0,null;var f=o.callbackNode;if(ab()&&o.callbackNode!==f)return null;var m=Mt;return m=$o(o,o===wn?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),m===0?null:(R8(o,m,l),Y8(o,gn()),o.callbackNode!=null&&o.callbackNode===f?Z8.bind(null,o):null)}function X8(o,l){if(ab())return null;R8(o,l,!0)}function dK(){SK(function(){(en&6)!==0?He(as,uK):K8()})}function i2(){if(dl===0){var o=yf;o===0&&(o=Hr,Hr<<=1,(Hr&261888)===0&&(Hr=256)),dl=o}return dl}function J8(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:nf(""+o)}function Q8(o,l){var f=l.ownerDocument.createElement("input");return f.name=l.name,f.value=l.value,o.id&&f.setAttribute("form",o.id),l.parentNode.insertBefore(f,l),o=new FormData(o),f.parentNode.removeChild(f),o}function fK(o,l,f,m,w){if(l==="submit"&&f&&f.stateNode===w){var _=J8((w[xt]||null).action),R=m.submitter;R&&(l=(l=R[xt]||null)?J8(l.formAction):R.getAttribute("formAction"),l!==null&&(_=l,R=null));var q=new rf("action","action",null,m,w);o.push({event:q,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(dl!==0){var ne=R?Q8(w,R):new FormData(w);AE(f,{pending:!0,data:ne,method:w.method,action:_},null,ne)}}else typeof _=="function"&&(q.preventDefault(),ne=R?Q8(w,R):new FormData(w),AE(f,{pending:!0,data:ne,method:w.method,action:_},_,ne))},currentTarget:w}]})}}for(var s2=0;s2<z_.length;s2++){var a2=z_[s2],hK=a2.toLowerCase(),pK=a2[0].toUpperCase()+a2.slice(1);ga(hK,"on"+pK)}ga(kC,"onAnimationEnd"),ga(RC,"onAnimationIteration"),ga(NC,"onAnimationStart"),ga("dblclick","onDoubleClick"),ga("focusin","onFocus"),ga("focusout","onBlur"),ga(kG,"onTransitionRun"),ga(RG,"onTransitionStart"),ga(NG,"onTransitionCancel"),ga($C,"onTransitionEnd"),Rr("onMouseEnter",["mouseout","mouseover"]),Rr("onMouseLeave",["mouseout","mouseover"]),Rr("onPointerEnter",["pointerout","pointerover"]),Rr("onPointerLeave",["pointerout","pointerover"]),cn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),cn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),cn("onBeforeInput",["compositionend","keypress","textInput","paste"]),cn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),cn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),cn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mK=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(rm));function ek(o,l){l=(l&4)!==0;for(var f=0;f<o.length;f++){var m=o[f],w=m.event;m=m.listeners;e:{var _=void 0;if(l)for(var R=m.length-1;0<=R;R--){var q=m[R],ne=q.instance,de=q.currentTarget;if(q=q.listener,ne!==_&&w.isPropagationStopped())break e;_=q,w.currentTarget=de;try{_(w)}catch(ve){S0(ve)}w.currentTarget=null,_=ne}else for(R=0;R<m.length;R++){if(q=m[R],ne=q.instance,de=q.currentTarget,q=q.listener,ne!==_&&w.isPropagationStopped())break e;_=q,w.currentTarget=de;try{_(w)}catch(ve){S0(ve)}w.currentTarget=null,_=ne}}}}function Ut(o,l){var f=l[tn];f===void 0&&(f=l[tn]=new Set);var m=o+"__bubble";f.has(m)||(tk(l,o,2,!1),f.add(m))}function o2(o,l,f){var m=0;l&&(m|=4),tk(f,o,m,l)}var lb="_reactListening"+Math.random().toString(36).slice(2);function c2(o){if(!o[lb]){o[lb]=!0,bn.forEach(function(f){f!=="selectionchange"&&(mK.has(f)||o2(f,!1,o),o2(f,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[lb]||(l[lb]=!0,o2("selectionchange",!1,l))}}function tk(o,l,f,m){switch(kk(l)){case 2:var w=qK;break;case 8:w=WK;break;default:w=S2}f=w.bind(null,l,f,o),w=void 0,!Ip||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(w=!0),m?w!==void 0?o.addEventListener(l,f,{capture:!0,passive:w}):o.addEventListener(l,f,!0):w!==void 0?o.addEventListener(l,f,{passive:w}):o.addEventListener(l,f,!1)}function l2(o,l,f,m,w){var _=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var R=m.tag;if(R===3||R===4){var q=m.stateNode.containerInfo;if(q===w)break;if(R===4)for(R=m.return;R!==null;){var ne=R.tag;if((ne===3||ne===4)&&R.stateNode.containerInfo===w)return;R=R.return}for(;q!==null;){if(R=Vn(q),R===null)return;if(ne=R.tag,ne===5||ne===6||ne===26||ne===27){m=_=R;continue e}q=q.parentNode}}m=m.return}w0(function(){var de=_,ve=xp(f),Ae=[];e:{var he=PC.get(o);if(he!==void 0){var ye=rf,Ye=o;switch(o){case"keypress":if(Tt(f)===0)break e;case"keydown":case"keyup":ye=cG;break;case"focusin":Ye="focus",ye=N_;break;case"focusout":Ye="blur",ye=N_;break;case"beforeblur":case"afterblur":ye=N_;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=lC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=ZV;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=dG;break;case kC:case RC:case NC:ye=QV;break;case $C:ye=hG;break;case"scroll":case"scrollend":ye=v0;break;case"wheel":ye=mG;break;case"copy":case"cut":case"paste":ye=tG;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=dC;break;case"toggle":case"beforetoggle":ye=gG}var lt=(l&4)!==0,mn=!lt&&(o==="scroll"||o==="scrollend"),oe=lt?he!==null?he+"Capture":null:he;lt=[];for(var ie=de,ue;ie!==null;){var Se=ie;if(ue=Se.stateNode,Se=Se.tag,Se!==5&&Se!==26&&Se!==27||ue===null||oe===null||(Se=vu(ie,oe),Se!=null&&lt.push(im(ie,Se,ue))),mn)break;ie=ie.return}0<lt.length&&(he=new ye(he,Ye,null,f,ve),Ae.push({event:he,listeners:lt}))}}if((l&7)===0){e:{if(he=o==="mouseover"||o==="pointerover",ye=o==="mouseout"||o==="pointerout",he&&f!==Ap&&(Ye=f.relatedTarget||f.fromElement)&&(Vn(Ye)||Ye[Xe]))break e;if((ye||he)&&(he=ve.window===ve?ve:(he=ve.ownerDocument)?he.defaultView||he.parentWindow:window,ye?(Ye=f.relatedTarget||f.toElement,ye=de,Ye=Ye?Vn(Ye):null,Ye!==null&&(mn=s(Ye),lt=Ye.tag,Ye!==mn||lt!==5&&lt!==27&&lt!==6)&&(Ye=null)):(ye=null,Ye=de),ye!==Ye)){if(lt=lC,Se="onMouseLeave",oe="onMouseEnter",ie="mouse",(o==="pointerout"||o==="pointerover")&&(lt=dC,Se="onPointerLeave",oe="onPointerEnter",ie="pointer"),mn=ye==null?he:Ns(ye),ue=Ye==null?he:Ns(Ye),he=new lt(Se,ie+"leave",ye,f,ve),he.target=mn,he.relatedTarget=ue,Se=null,Vn(ve)===de&&(lt=new lt(oe,ie+"enter",Ye,f,ve),lt.target=ue,lt.relatedTarget=mn,Se=lt),mn=Se,ye&&Ye)t:{for(lt=yK,oe=ye,ie=Ye,ue=0,Se=oe;Se;Se=lt(Se))ue++;Se=0;for(var it=ie;it;it=lt(it))Se++;for(;0<ue-Se;)oe=lt(oe),ue--;for(;0<Se-ue;)ie=lt(ie),Se--;for(;ue--;){if(oe===ie||ie!==null&&oe===ie.alternate){lt=oe;break t}oe=lt(oe),ie=lt(ie)}lt=null}else lt=null;ye!==null&&nk(Ae,he,ye,lt,!1),Ye!==null&&mn!==null&&nk(Ae,mn,Ye,lt,!0)}}e:{if(he=de?Ns(de):window,ye=he.nodeName&&he.nodeName.toLowerCase(),ye==="select"||ye==="input"&&he.type==="file")var Yt=wC;else if(gC(he))if(vC)Yt=IG;else{Yt=xG;var Je=AG}else ye=he.nodeName,!ye||ye.toLowerCase()!=="input"||he.type!=="checkbox"&&he.type!=="radio"?de&&Sp(de.elementType)&&(Yt=wC):Yt=TG;if(Yt&&(Yt=Yt(o,de))){bC(Ae,Yt,f,ve);break e}Je&&Je(o,he,de),o==="focusout"&&de&&he.type==="number"&&de.memoizedProps.value!=null&&Ep(he,"number",he.value)}switch(Je=de?Ns(de):window,o){case"focusin":(gC(Je)||Je.contentEditable==="true")&&(cf=Je,B_=de,$p=null);break;case"focusout":$p=B_=cf=null;break;case"mousedown":L_=!0;break;case"contextmenu":case"mouseup":case"dragend":L_=!1,CC(Ae,f,ve);break;case"selectionchange":if(OG)break;case"keydown":case"keyup":CC(Ae,f,ve)}var Ct;if(P_)e:{switch(o){case"compositionstart":var Bt="onCompositionStart";break e;case"compositionend":Bt="onCompositionEnd";break e;case"compositionupdate":Bt="onCompositionUpdate";break e}Bt=void 0}else of?mC(o,f)&&(Bt="onCompositionEnd"):o==="keydown"&&f.keyCode===229&&(Bt="onCompositionStart");Bt&&(fC&&f.locale!=="ko"&&(of||Bt!=="onCompositionStart"?Bt==="onCompositionEnd"&&of&&(Ct=ke()):(Z=ve,re="value"in Z?Z.value:Z.textContent,of=!0)),Je=ub(de,Bt),0<Je.length&&(Bt=new uC(Bt,o,null,f,ve),Ae.push({event:Bt,listeners:Je}),Ct?Bt.data=Ct:(Ct=yC(f),Ct!==null&&(Bt.data=Ct)))),(Ct=wG?vG(o,f):_G(o,f))&&(Bt=ub(de,"onBeforeInput"),0<Bt.length&&(Je=new uC("onBeforeInput","beforeinput",null,f,ve),Ae.push({event:Je,listeners:Bt}),Je.data=Ct)),fK(Ae,o,de,f,ve)}ek(Ae,l)})}function im(o,l,f){return{instance:o,listener:l,currentTarget:f}}function ub(o,l){for(var f=l+"Capture",m=[];o!==null;){var w=o,_=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||_===null||(w=vu(o,f),w!=null&&m.unshift(im(o,w,_)),w=vu(o,l),w!=null&&m.push(im(o,w,_))),o.tag===3)return m;o=o.return}return[]}function yK(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function nk(o,l,f,m,w){for(var _=l._reactName,R=[];f!==null&&f!==m;){var q=f,ne=q.alternate,de=q.stateNode;if(q=q.tag,ne!==null&&ne===m)break;q!==5&&q!==26&&q!==27||de===null||(ne=de,w?(de=vu(f,_),de!=null&&R.unshift(im(f,de,ne))):w||(de=vu(f,_),de!=null&&R.push(im(f,de,ne)))),f=f.return}R.length!==0&&o.push({event:l,listeners:R})}var gK=/\r\n?/g,bK=/\u0000|\uFFFD/g;function rk(o){return(typeof o=="string"?o:""+o).replace(gK,`
`).replace(bK,"")}function ik(o,l){return l=rk(l),rk(o)===l}function pn(o,l,f,m,w,_){switch(f){case"children":typeof m=="string"?l==="body"||l==="textarea"&&m===""||Vc(o,m):(typeof m=="number"||typeof m=="bigint")&&l!=="body"&&Vc(o,""+m);break;case"className":ef(o,"class",m);break;case"tabIndex":ef(o,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":ef(o,f,m);break;case"style":g0(o,m,_);break;case"data":if(l!=="object"){ef(o,"data",m);break}case"src":case"href":if(m===""&&(l!=="a"||f!=="href")){o.removeAttribute(f);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){o.removeAttribute(f);break}m=nf(""+m),o.setAttribute(f,m);break;case"action":case"formAction":if(typeof m=="function"){o.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(f==="formAction"?(l!=="input"&&pn(o,l,"name",w.name,w,null),pn(o,l,"formEncType",w.formEncType,w,null),pn(o,l,"formMethod",w.formMethod,w,null),pn(o,l,"formTarget",w.formTarget,w,null)):(pn(o,l,"encType",w.encType,w,null),pn(o,l,"method",w.method,w,null),pn(o,l,"target",w.target,w,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){o.removeAttribute(f);break}m=nf(""+m),o.setAttribute(f,m);break;case"onClick":m!=null&&(o.onclick=ya);break;case"onScroll":m!=null&&Ut("scroll",o);break;case"onScrollEnd":m!=null&&Ut("scrollend",o);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(f=m.__html,f!=null){if(w.children!=null)throw Error(r(60));o.innerHTML=f}}break;case"multiple":o.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":o.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){o.removeAttribute("xlink:href");break}f=nf(""+m),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(f,""+m):o.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(f,""):o.removeAttribute(f);break;case"capture":case"download":m===!0?o.setAttribute(f,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(f,m):o.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?o.setAttribute(f,m):o.removeAttribute(f);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?o.removeAttribute(f):o.setAttribute(f,m);break;case"popover":Ut("beforetoggle",o),Ut("toggle",o),Qd(o,"popover",m);break;case"xlinkActuate":ma(o,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":ma(o,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":ma(o,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":ma(o,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":ma(o,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":ma(o,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":ma(o,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":ma(o,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":ma(o,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Qd(o,"is",m);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=k_.get(f)||f,Qd(o,f,m))}}function u2(o,l,f,m,w,_){switch(f){case"style":g0(o,m,_);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(f=m.__html,f!=null){if(w.children!=null)throw Error(r(60));o.innerHTML=f}}break;case"children":typeof m=="string"?Vc(o,m):(typeof m=="number"||typeof m=="bigint")&&Vc(o,""+m);break;case"onScroll":m!=null&&Ut("scroll",o);break;case"onScrollEnd":m!=null&&Ut("scrollend",o);break;case"onClick":m!=null&&(o.onclick=ya);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wt.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(w=f.endsWith("Capture"),l=f.slice(2,w?f.length-7:void 0),_=o[xt]||null,_=_!=null?_[f]:null,typeof _=="function"&&o.removeEventListener(l,_,w),typeof m=="function")){typeof _!="function"&&_!==null&&(f in o?o[f]=null:o.hasAttribute(f)&&o.removeAttribute(f)),o.addEventListener(l,m,w);break e}f in o?o[f]=m:m===!0?o.setAttribute(f,""):Qd(o,f,m)}}}function Zr(o,l,f){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ut("error",o),Ut("load",o);var m=!1,w=!1,_;for(_ in f)if(f.hasOwnProperty(_)){var R=f[_];if(R!=null)switch(_){case"src":m=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:pn(o,l,_,R,f,null)}}w&&pn(o,l,"srcSet",f.srcSet,f,null),m&&pn(o,l,"src",f.src,f,null);return;case"input":Ut("invalid",o);var q=_=R=w=null,ne=null,de=null;for(m in f)if(f.hasOwnProperty(m)){var ve=f[m];if(ve!=null)switch(m){case"name":w=ve;break;case"type":R=ve;break;case"checked":ne=ve;break;case"defaultChecked":de=ve;break;case"value":_=ve;break;case"defaultValue":q=ve;break;case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(r(137,l));break;default:pn(o,l,m,ve,f,null)}}h0(o,_,q,ne,de,R,w,!1);return;case"select":Ut("invalid",o),m=R=_=null;for(w in f)if(f.hasOwnProperty(w)&&(q=f[w],q!=null))switch(w){case"value":_=q;break;case"defaultValue":R=q;break;case"multiple":m=q;default:pn(o,l,w,q,f,null)}l=_,f=R,o.multiple=!!m,l!=null?Hc(o,!!m,l,!1):f!=null&&Hc(o,!!m,f,!0);return;case"textarea":Ut("invalid",o),_=w=m=null;for(R in f)if(f.hasOwnProperty(R)&&(q=f[R],q!=null))switch(R){case"value":m=q;break;case"defaultValue":w=q;break;case"children":_=q;break;case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(91));break;default:pn(o,l,R,q,f,null)}m0(o,m,w,_);return;case"option":for(ne in f)f.hasOwnProperty(ne)&&(m=f[ne],m!=null)&&(ne==="selected"?o.selected=m&&typeof m!="function"&&typeof m!="symbol":pn(o,l,ne,m,f,null));return;case"dialog":Ut("beforetoggle",o),Ut("toggle",o),Ut("cancel",o),Ut("close",o);break;case"iframe":case"object":Ut("load",o);break;case"video":case"audio":for(m=0;m<rm.length;m++)Ut(rm[m],o);break;case"image":Ut("error",o),Ut("load",o);break;case"details":Ut("toggle",o);break;case"embed":case"source":case"link":Ut("error",o),Ut("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(de in f)if(f.hasOwnProperty(de)&&(m=f[de],m!=null))switch(de){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:pn(o,l,de,m,f,null)}return;default:if(Sp(l)){for(ve in f)f.hasOwnProperty(ve)&&(m=f[ve],m!==void 0&&u2(o,l,ve,m,f,void 0));return}}for(q in f)f.hasOwnProperty(q)&&(m=f[q],m!=null&&pn(o,l,q,m,f,null))}function wK(o,l,f,m){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,_=null,R=null,q=null,ne=null,de=null,ve=null;for(ye in f){var Ae=f[ye];if(f.hasOwnProperty(ye)&&Ae!=null)switch(ye){case"checked":break;case"value":break;case"defaultValue":ne=Ae;default:m.hasOwnProperty(ye)||pn(o,l,ye,null,m,Ae)}}for(var he in m){var ye=m[he];if(Ae=f[he],m.hasOwnProperty(he)&&(ye!=null||Ae!=null))switch(he){case"type":_=ye;break;case"name":w=ye;break;case"checked":de=ye;break;case"defaultChecked":ve=ye;break;case"value":R=ye;break;case"defaultValue":q=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(r(137,l));break;default:ye!==Ae&&pn(o,l,he,ye,m,Ae)}}_p(o,R,q,ne,de,ve,_,w);return;case"select":ye=R=q=he=null;for(_ in f)if(ne=f[_],f.hasOwnProperty(_)&&ne!=null)switch(_){case"value":break;case"multiple":ye=ne;default:m.hasOwnProperty(_)||pn(o,l,_,null,m,ne)}for(w in m)if(_=m[w],ne=f[w],m.hasOwnProperty(w)&&(_!=null||ne!=null))switch(w){case"value":he=_;break;case"defaultValue":q=_;break;case"multiple":R=_;default:_!==ne&&pn(o,l,w,_,m,ne)}l=q,f=R,m=ye,he!=null?Hc(o,!!f,he,!1):!!m!=!!f&&(l!=null?Hc(o,!!f,l,!0):Hc(o,!!f,f?[]:"",!1));return;case"textarea":ye=he=null;for(q in f)if(w=f[q],f.hasOwnProperty(q)&&w!=null&&!m.hasOwnProperty(q))switch(q){case"value":break;case"children":break;default:pn(o,l,q,null,m,w)}for(R in m)if(w=m[R],_=f[R],m.hasOwnProperty(R)&&(w!=null||_!=null))switch(R){case"value":he=w;break;case"defaultValue":ye=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:w!==_&&pn(o,l,R,w,m,_)}p0(o,he,ye);return;case"option":for(var Ye in f)he=f[Ye],f.hasOwnProperty(Ye)&&he!=null&&!m.hasOwnProperty(Ye)&&(Ye==="selected"?o.selected=!1:pn(o,l,Ye,null,m,he));for(ne in m)he=m[ne],ye=f[ne],m.hasOwnProperty(ne)&&he!==ye&&(he!=null||ye!=null)&&(ne==="selected"?o.selected=he&&typeof he!="function"&&typeof he!="symbol":pn(o,l,ne,he,m,ye));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var lt in f)he=f[lt],f.hasOwnProperty(lt)&&he!=null&&!m.hasOwnProperty(lt)&&pn(o,l,lt,null,m,he);for(de in m)if(he=m[de],ye=f[de],m.hasOwnProperty(de)&&he!==ye&&(he!=null||ye!=null))switch(de){case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(r(137,l));break;default:pn(o,l,de,he,m,ye)}return;default:if(Sp(l)){for(var mn in f)he=f[mn],f.hasOwnProperty(mn)&&he!==void 0&&!m.hasOwnProperty(mn)&&u2(o,l,mn,void 0,m,he);for(ve in m)he=m[ve],ye=f[ve],!m.hasOwnProperty(ve)||he===ye||he===void 0&&ye===void 0||u2(o,l,ve,he,m,ye);return}}for(var oe in f)he=f[oe],f.hasOwnProperty(oe)&&he!=null&&!m.hasOwnProperty(oe)&&pn(o,l,oe,null,m,he);for(Ae in m)he=m[Ae],ye=f[Ae],!m.hasOwnProperty(Ae)||he===ye||he==null&&ye==null||pn(o,l,Ae,he,m,ye)}function sk(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function vK(){if(typeof performance.getEntriesByType=="function"){for(var o=0,l=0,f=performance.getEntriesByType("resource"),m=0;m<f.length;m++){var w=f[m],_=w.transferSize,R=w.initiatorType,q=w.duration;if(_&&q&&sk(R)){for(R=0,q=w.responseEnd,m+=1;m<f.length;m++){var ne=f[m],de=ne.startTime;if(de>q)break;var ve=ne.transferSize,Ae=ne.initiatorType;ve&&sk(Ae)&&(ne=ne.responseEnd,R+=ve*(ne<q?1:(q-de)/(ne-de)))}if(--m,l+=8*(_+R)/(w.duration/1e3),o++,10<o)break}}if(0<o)return l/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var d2=null,f2=null;function db(o){return o.nodeType===9?o:o.ownerDocument}function ak(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ok(o,l){if(o===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&l==="foreignObject"?0:o}function h2(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var p2=null;function _K(){var o=window.event;return o&&o.type==="popstate"?o===p2?!1:(p2=o,!0):(p2=null,!1)}var ck=typeof setTimeout=="function"?setTimeout:void 0,EK=typeof clearTimeout=="function"?clearTimeout:void 0,lk=typeof Promise=="function"?Promise:void 0,SK=typeof queueMicrotask=="function"?queueMicrotask:typeof lk<"u"?function(o){return lk.resolve(null).then(o).catch(AK)}:ck;function AK(o){setTimeout(function(){throw o})}function fl(o){return o==="head"}function uk(o,l){var f=l,m=0;do{var w=f.nextSibling;if(o.removeChild(f),w&&w.nodeType===8)if(f=w.data,f==="/$"||f==="/&"){if(m===0){o.removeChild(w),Df(l);return}m--}else if(f==="$"||f==="$?"||f==="$~"||f==="$!"||f==="&")m++;else if(f==="html")sm(o.ownerDocument.documentElement);else if(f==="head"){f=o.ownerDocument.head,sm(f);for(var _=f.firstChild;_;){var R=_.nextSibling,q=_.nodeName;_[Hn]||q==="SCRIPT"||q==="STYLE"||q==="LINK"&&_.rel.toLowerCase()==="stylesheet"||f.removeChild(_),_=R}}else f==="body"&&sm(o.ownerDocument.body);f=w}while(f);Df(l)}function dk(o,l){var f=o;o=0;do{var m=f.nextSibling;if(f.nodeType===1?l?(f._stashedDisplay=f.style.display,f.style.display="none"):(f.style.display=f._stashedDisplay||"",f.getAttribute("style")===""&&f.removeAttribute("style")):f.nodeType===3&&(l?(f._stashedText=f.nodeValue,f.nodeValue=""):f.nodeValue=f._stashedText||""),m&&m.nodeType===8)if(f=m.data,f==="/$"){if(o===0)break;o--}else f!=="$"&&f!=="$?"&&f!=="$~"&&f!=="$!"||o++;f=m}while(f)}function m2(o){var l=o.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var f=l;switch(l=l.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":m2(f),on(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}o.removeChild(f)}}function xK(o,l,f,m){for(;o.nodeType===1;){var w=f;if(o.nodeName.toLowerCase()!==l.toLowerCase()){if(!m&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(m){if(!o[Hn])switch(l){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(_=o.getAttribute("rel"),_==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(_!==w.rel||o.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||o.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||o.getAttribute("title")!==(w.title==null?null:w.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(_=o.getAttribute("src"),(_!==(w.src==null?null:w.src)||o.getAttribute("type")!==(w.type==null?null:w.type)||o.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&_&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(l==="input"&&o.type==="hidden"){var _=w.name==null?null:""+w.name;if(w.type==="hidden"&&o.getAttribute("name")===_)return o}else return o;if(o=js(o.nextSibling),o===null)break}return null}function TK(o,l,f){if(l==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!f||(o=js(o.nextSibling),o===null))return null;return o}function fk(o,l){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!l||(o=js(o.nextSibling),o===null))return null;return o}function y2(o){return o.data==="$?"||o.data==="$~"}function g2(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function IK(o,l){var f=o.ownerDocument;if(o.data==="$~")o._reactRetry=l;else if(o.data!=="$?"||f.readyState!=="loading")l();else{var m=function(){l(),f.removeEventListener("DOMContentLoaded",m)};f.addEventListener("DOMContentLoaded",m),o._reactRetry=m}}function js(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return o}var b2=null;function hk(o){o=o.nextSibling;for(var l=0;o;){if(o.nodeType===8){var f=o.data;if(f==="/$"||f==="/&"){if(l===0)return js(o.nextSibling);l--}else f!=="$"&&f!=="$!"&&f!=="$?"&&f!=="$~"&&f!=="&"||l++}o=o.nextSibling}return null}function pk(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var f=o.data;if(f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"){if(l===0)return o;l--}else f!=="/$"&&f!=="/&"||l++}o=o.previousSibling}return null}function mk(o,l,f){switch(l=db(f),o){case"html":if(o=l.documentElement,!o)throw Error(r(452));return o;case"head":if(o=l.head,!o)throw Error(r(453));return o;case"body":if(o=l.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function sm(o){for(var l=o.attributes;l.length;)o.removeAttributeNode(l[0]);on(o)}var zs=new Map,yk=new Set;function fb(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Zo=N.d;N.d={f:CK,r:OK,D:kK,C:RK,L:NK,m:$K,X:DK,S:PK,M:UK};function CK(){var o=Zo.f(),l=rb();return o||l}function OK(o){var l=Gn(o);l!==null&&l.tag===5&&l.type==="form"?$O(l):Zo.r(o)}var Nf=typeof document>"u"?null:document;function gk(o,l,f){var m=Nf;if(m&&typeof l=="string"&&l){var w=Pi(l);w='link[rel="'+o+'"][href="'+w+'"]',typeof f=="string"&&(w+='[crossorigin="'+f+'"]'),yk.has(w)||(yk.add(w),o={rel:o,crossOrigin:f,href:l},m.querySelector(w)===null&&(l=m.createElement("link"),Zr(l,"link",o),ct(l),m.head.appendChild(l)))}}function kK(o){Zo.D(o),gk("dns-prefetch",o,null)}function RK(o,l){Zo.C(o,l),gk("preconnect",o,l)}function NK(o,l,f){Zo.L(o,l,f);var m=Nf;if(m&&o&&l){var w='link[rel="preload"][as="'+Pi(l)+'"]';l==="image"&&f&&f.imageSrcSet?(w+='[imagesrcset="'+Pi(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(w+='[imagesizes="'+Pi(f.imageSizes)+'"]')):w+='[href="'+Pi(o)+'"]';var _=w;switch(l){case"style":_=$f(o);break;case"script":_=Pf(o)}zs.has(_)||(o=p({rel:"preload",href:l==="image"&&f&&f.imageSrcSet?void 0:o,as:l},f),zs.set(_,o),m.querySelector(w)!==null||l==="style"&&m.querySelector(am(_))||l==="script"&&m.querySelector(om(_))||(l=m.createElement("link"),Zr(l,"link",o),ct(l),m.head.appendChild(l)))}}function $K(o,l){Zo.m(o,l);var f=Nf;if(f&&o){var m=l&&typeof l.as=="string"?l.as:"script",w='link[rel="modulepreload"][as="'+Pi(m)+'"][href="'+Pi(o)+'"]',_=w;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Pf(o)}if(!zs.has(_)&&(o=p({rel:"modulepreload",href:o},l),zs.set(_,o),f.querySelector(w)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(om(_)))return}m=f.createElement("link"),Zr(m,"link",o),ct(m),f.head.appendChild(m)}}}function PK(o,l,f){Zo.S(o,l,f);var m=Nf;if(m&&o){var w=ha(m).hoistableStyles,_=$f(o);l=l||"default";var R=w.get(_);if(!R){var q={loading:0,preload:null};if(R=m.querySelector(am(_)))q.loading=5;else{o=p({rel:"stylesheet",href:o,"data-precedence":l},f),(f=zs.get(_))&&w2(o,f);var ne=R=m.createElement("link");ct(ne),Zr(ne,"link",o),ne._p=new Promise(function(de,ve){ne.onload=de,ne.onerror=ve}),ne.addEventListener("load",function(){q.loading|=1}),ne.addEventListener("error",function(){q.loading|=2}),q.loading|=4,hb(R,l,m)}R={type:"stylesheet",instance:R,count:1,state:q},w.set(_,R)}}}function DK(o,l){Zo.X(o,l);var f=Nf;if(f&&o){var m=ha(f).hoistableScripts,w=Pf(o),_=m.get(w);_||(_=f.querySelector(om(w)),_||(o=p({src:o,async:!0},l),(l=zs.get(w))&&v2(o,l),_=f.createElement("script"),ct(_),Zr(_,"link",o),f.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},m.set(w,_))}}function UK(o,l){Zo.M(o,l);var f=Nf;if(f&&o){var m=ha(f).hoistableScripts,w=Pf(o),_=m.get(w);_||(_=f.querySelector(om(w)),_||(o=p({src:o,async:!0,type:"module"},l),(l=zs.get(w))&&v2(o,l),_=f.createElement("script"),ct(_),Zr(_,"link",o),f.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},m.set(w,_))}}function bk(o,l,f,m){var w=(w=ge.current)?fb(w):null;if(!w)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(l=$f(f.href),f=ha(w).hoistableStyles,m=f.get(l),m||(m={type:"style",instance:null,count:0,state:null},f.set(l,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){o=$f(f.href);var _=ha(w).hoistableStyles,R=_.get(o);if(R||(w=w.ownerDocument||w,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(o,R),(_=w.querySelector(am(o)))&&!_._p&&(R.instance=_,R.state.loading=5),zs.has(o)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},zs.set(o,f),_||MK(w,o,f,R.state))),l&&m===null)throw Error(r(528,""));return R}if(l&&m!==null)throw Error(r(529,""));return null;case"script":return l=f.async,f=f.src,typeof f=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Pf(f),f=ha(w).hoistableScripts,m=f.get(l),m||(m={type:"script",instance:null,count:0,state:null},f.set(l,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function $f(o){return'href="'+Pi(o)+'"'}function am(o){return'link[rel="stylesheet"]['+o+"]"}function wk(o){return p({},o,{"data-precedence":o.precedence,precedence:null})}function MK(o,l,f,m){o.querySelector('link[rel="preload"][as="style"]['+l+"]")?m.loading=1:(l=o.createElement("link"),m.preload=l,l.addEventListener("load",function(){return m.loading|=1}),l.addEventListener("error",function(){return m.loading|=2}),Zr(l,"link",f),ct(l),o.head.appendChild(l))}function Pf(o){return'[src="'+Pi(o)+'"]'}function om(o){return"script[async]"+o}function vk(o,l,f){if(l.count++,l.instance===null)switch(l.type){case"style":var m=o.querySelector('style[data-href~="'+Pi(f.href)+'"]');if(m)return l.instance=m,ct(m),m;var w=p({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return m=(o.ownerDocument||o).createElement("style"),ct(m),Zr(m,"style",w),hb(m,f.precedence,o),l.instance=m;case"stylesheet":w=$f(f.href);var _=o.querySelector(am(w));if(_)return l.state.loading|=4,l.instance=_,ct(_),_;m=wk(f),(w=zs.get(w))&&w2(m,w),_=(o.ownerDocument||o).createElement("link"),ct(_);var R=_;return R._p=new Promise(function(q,ne){R.onload=q,R.onerror=ne}),Zr(_,"link",m),l.state.loading|=4,hb(_,f.precedence,o),l.instance=_;case"script":return _=Pf(f.src),(w=o.querySelector(om(_)))?(l.instance=w,ct(w),w):(m=f,(w=zs.get(_))&&(m=p({},f),v2(m,w)),o=o.ownerDocument||o,w=o.createElement("script"),ct(w),Zr(w,"link",m),o.head.appendChild(w),l.instance=w);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(m=l.instance,l.state.loading|=4,hb(m,f.precedence,o));return l.instance}function hb(o,l,f){for(var m=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=m.length?m[m.length-1]:null,_=w,R=0;R<m.length;R++){var q=m[R];if(q.dataset.precedence===l)_=q;else if(_!==w)break}_?_.parentNode.insertBefore(o,_.nextSibling):(l=f.nodeType===9?f.head:f,l.insertBefore(o,l.firstChild))}function w2(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.title==null&&(o.title=l.title)}function v2(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.integrity==null&&(o.integrity=l.integrity)}var pb=null;function _k(o,l,f){if(pb===null){var m=new Map,w=pb=new Map;w.set(f,m)}else w=pb,m=w.get(f),m||(m=new Map,w.set(f,m));if(m.has(o))return m;for(m.set(o,null),f=f.getElementsByTagName(o),w=0;w<f.length;w++){var _=f[w];if(!(_[Hn]||_[pt]||o==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var R=_.getAttribute(l)||"";R=o+R;var q=m.get(R);q?q.push(_):m.set(R,[_])}}return m}function Ek(o,l,f){o=o.ownerDocument||o,o.head.insertBefore(f,l==="title"?o.querySelector("head > title"):null)}function BK(o,l,f){if(f===1||l.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;return l.rel==="stylesheet"?(o=l.disabled,typeof l.precedence=="string"&&o==null):!0;case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function Sk(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function LK(o,l,f,m){if(f.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var w=$f(m.href),_=l.querySelector(am(w));if(_){l=_._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(o.count++,o=mb.bind(o),l.then(o,o)),f.state.loading|=4,f.instance=_,ct(_);return}_=l.ownerDocument||l,m=wk(m),(w=zs.get(w))&&w2(m,w),_=_.createElement("link"),ct(_);var R=_;R._p=new Promise(function(q,ne){R.onload=q,R.onerror=ne}),Zr(_,"link",m),f.instance=_}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(f,l),(l=f.state.preload)&&(f.state.loading&3)===0&&(o.count++,f=mb.bind(o),l.addEventListener("load",f),l.addEventListener("error",f))}}var _2=0;function jK(o,l){return o.stylesheets&&o.count===0&&gb(o,o.stylesheets),0<o.count||0<o.imgCount?function(f){var m=setTimeout(function(){if(o.stylesheets&&gb(o,o.stylesheets),o.unsuspend){var _=o.unsuspend;o.unsuspend=null,_()}},6e4+l);0<o.imgBytes&&_2===0&&(_2=62500*vK());var w=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&gb(o,o.stylesheets),o.unsuspend)){var _=o.unsuspend;o.unsuspend=null,_()}},(o.imgBytes>_2?50:800)+l);return o.unsuspend=f,function(){o.unsuspend=null,clearTimeout(m),clearTimeout(w)}}:null}function mb(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gb(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var yb=null;function gb(o,l){o.stylesheets=null,o.unsuspend!==null&&(o.count++,yb=new Map,l.forEach(zK,o),yb=null,mb.call(o))}function zK(o,l){if(!(l.state.loading&4)){var f=yb.get(o);if(f)var m=f.get(null);else{f=new Map,yb.set(o,f);for(var w=o.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<w.length;_++){var R=w[_];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(f.set(R.dataset.precedence,R),m=R)}m&&f.set(null,m)}w=l.instance,R=w.getAttribute("data-precedence"),_=f.get(R)||m,_===m&&f.set(null,w),f.set(R,w),this.count++,m=mb.bind(this),w.addEventListener("load",m),w.addEventListener("error",m),_?_.parentNode.insertBefore(w,_.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(w,o.firstChild)),l.state.loading|=4}}var cm={$$typeof:A,Provider:null,Consumer:null,_currentValue:L,_currentValue2:L,_threadCount:0};function FK(o,l,f,m,w,_,R,q,ne){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=M(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=M(0),this.hiddenUpdates=M(null),this.identifierPrefix=m,this.onUncaughtError=w,this.onCaughtError=_,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ne,this.incompleteTransitions=new Map}function Ak(o,l,f,m,w,_,R,q,ne,de,ve,Ae){return o=new FK(o,l,f,R,ne,de,ve,Ae,q),l=1,_===!0&&(l|=24),_=ls(3,null,null,l),o.current=_,_.stateNode=o,l=eE(),l.refCount++,o.pooledCache=l,l.refCount++,_.memoizedState={element:m,isDehydrated:f,cache:l},iE(_),o}function xk(o){return o?(o=df,o):df}function Tk(o,l,f,m,w,_){w=xk(w),m.context===null?m.context=w:m.pendingContext=w,m=tl(l),m.payload={element:f},_=_===void 0?null:_,_!==null&&(m.callback=_),f=nl(o,m,l),f!==null&&(Li(f,o,l),jp(f,o,l))}function Ik(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<l?f:l}}function E2(o,l){Ik(o,l),(o=o.alternate)&&Ik(o,l)}function Ck(o){if(o.tag===13||o.tag===31){var l=Su(o,67108864);l!==null&&Li(l,o,67108864),E2(o,67108864)}}function Ok(o){if(o.tag===13||o.tag===31){var l=ps();l=Te(l);var f=Su(o,l);f!==null&&Li(f,o,l),E2(o,l)}}var bb=!0;function qK(o,l,f,m){var w=x.T;x.T=null;var _=N.p;try{N.p=2,S2(o,l,f,m)}finally{N.p=_,x.T=w}}function WK(o,l,f,m){var w=x.T;x.T=null;var _=N.p;try{N.p=8,S2(o,l,f,m)}finally{N.p=_,x.T=w}}function S2(o,l,f,m){if(bb){var w=A2(m);if(w===null)l2(o,l,m,wb,f),Rk(o,m);else if(VK(w,o,l,f,m))m.stopPropagation();else if(Rk(o,m),l&4&&-1<HK.indexOf(o)){for(;w!==null;){var _=Gn(w);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var R=os(_.pendingLanes);if(R!==0){var q=_;for(q.pendingLanes|=2,q.entangledLanes|=2;R;){var ne=1<<31-Kt(R);q.entanglements[1]|=ne,R&=~ne}Ga(_),(en&6)===0&&(tb=gn()+500,nm(0))}}break;case 31:case 13:q=Su(_,2),q!==null&&Li(q,_,2),rb(),E2(_,2)}if(_=A2(m),_===null&&l2(o,l,m,wb,f),_===w)break;w=_}w!==null&&m.stopPropagation()}else l2(o,l,m,null,f)}}function A2(o){return o=xp(o),x2(o)}var wb=null;function x2(o){if(wb=null,o=Vn(o),o!==null){var l=s(o);if(l===null)o=null;else{var f=l.tag;if(f===13){if(o=a(l),o!==null)return o;o=null}else if(f===31){if(o=c(l),o!==null)return o;o=null}else if(f===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null)}}return wb=o,null}function kk(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fa()){case as:return 2;case Ri:return 8;case fn:case Or:return 32;case Wr:return 268435456;default:return 32}default:return 32}}var T2=!1,hl=null,pl=null,ml=null,lm=new Map,um=new Map,yl=[],HK="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Rk(o,l){switch(o){case"focusin":case"focusout":hl=null;break;case"dragenter":case"dragleave":pl=null;break;case"mouseover":case"mouseout":ml=null;break;case"pointerover":case"pointerout":lm.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":um.delete(l.pointerId)}}function dm(o,l,f,m,w,_){return o===null||o.nativeEvent!==_?(o={blockedOn:l,domEventName:f,eventSystemFlags:m,nativeEvent:_,targetContainers:[w]},l!==null&&(l=Gn(l),l!==null&&Ck(l)),o):(o.eventSystemFlags|=m,l=o.targetContainers,w!==null&&l.indexOf(w)===-1&&l.push(w),o)}function VK(o,l,f,m,w){switch(l){case"focusin":return hl=dm(hl,o,l,f,m,w),!0;case"dragenter":return pl=dm(pl,o,l,f,m,w),!0;case"mouseover":return ml=dm(ml,o,l,f,m,w),!0;case"pointerover":var _=w.pointerId;return lm.set(_,dm(lm.get(_)||null,o,l,f,m,w)),!0;case"gotpointercapture":return _=w.pointerId,um.set(_,dm(um.get(_)||null,o,l,f,m,w)),!0}return!1}function Nk(o){var l=Vn(o.target);if(l!==null){var f=s(l);if(f!==null){if(l=f.tag,l===13){if(l=a(f),l!==null){o.blockedOn=l,ht(o.priority,function(){Ok(f)});return}}else if(l===31){if(l=c(f),l!==null){o.blockedOn=l,ht(o.priority,function(){Ok(f)});return}}else if(l===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function vb(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var f=A2(o.nativeEvent);if(f===null){f=o.nativeEvent;var m=new f.constructor(f.type,f);Ap=m,f.target.dispatchEvent(m),Ap=null}else return l=Gn(f),l!==null&&Ck(l),o.blockedOn=f,!1;l.shift()}return!0}function $k(o,l,f){vb(o)&&f.delete(l)}function GK(){T2=!1,hl!==null&&vb(hl)&&(hl=null),pl!==null&&vb(pl)&&(pl=null),ml!==null&&vb(ml)&&(ml=null),lm.forEach($k),um.forEach($k)}function _b(o,l){o.blockedOn===l&&(o.blockedOn=null,T2||(T2=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,GK)))}var Eb=null;function Pk(o){Eb!==o&&(Eb=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Eb===o&&(Eb=null);for(var l=0;l<o.length;l+=3){var f=o[l],m=o[l+1],w=o[l+2];if(typeof m!="function"){if(x2(m||f)===null)continue;break}var _=Gn(f);_!==null&&(o.splice(l,3),l-=3,AE(_,{pending:!0,data:w,method:f.method,action:m},m,w))}}))}function Df(o){function l(ne){return _b(ne,o)}hl!==null&&_b(hl,o),pl!==null&&_b(pl,o),ml!==null&&_b(ml,o),lm.forEach(l),um.forEach(l);for(var f=0;f<yl.length;f++){var m=yl[f];m.blockedOn===o&&(m.blockedOn=null)}for(;0<yl.length&&(f=yl[0],f.blockedOn===null);)Nk(f),f.blockedOn===null&&yl.shift();if(f=(o.ownerDocument||o).$$reactFormReplay,f!=null)for(m=0;m<f.length;m+=3){var w=f[m],_=f[m+1],R=w[xt]||null;if(typeof _=="function")R||Pk(f);else if(R){var q=null;if(_&&_.hasAttribute("formAction")){if(w=_,R=_[xt]||null)q=R.formAction;else if(x2(w)!==null)continue}else q=R.action;typeof q=="function"?f[m+1]=q:(f.splice(m,3),m-=3),Pk(f)}}}function Dk(){function o(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(R){return w=R})},focusReset:"manual",scroll:"manual"})}function l(){w!==null&&(w(),w=null),m||setTimeout(f,20)}function f(){if(!m&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,w=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(f,100),function(){m=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),w!==null&&(w(),w=null)}}}function I2(o){this._internalRoot=o}Sb.prototype.render=I2.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(r(409));var f=l.current,m=ps();Tk(f,m,o,l,null,null)},Sb.prototype.unmount=I2.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;Tk(o.current,2,null,o,null,null),rb(),l[Xe]=null}};function Sb(o){this._internalRoot=o}Sb.prototype.unstable_scheduleHydration=function(o){if(o){var l=Ze();o={blockedOn:null,target:o,priority:l};for(var f=0;f<yl.length&&l!==0&&l<yl[f].priority;f++);yl.splice(f,0,o),f===0&&Nk(o)}};var Uk=e.version;if(Uk!=="19.2.3")throw Error(r(527,Uk,"19.2.3"));N.findDOMNode=function(o){var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=d(l),o=o!==null?h(o):null,o=o===null?null:o.stateNode,o};var KK={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:x,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ab=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ab.isDisabled&&Ab.supportsFiber)try{ot=Ab.inject(KK),dt=Ab}catch{}}return hm.createRoot=function(o,l){if(!i(o))throw Error(r(299));var f=!1,m="",w=qO,_=WO,R=HO;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(w=l.onUncaughtError),l.onCaughtError!==void 0&&(_=l.onCaughtError),l.onRecoverableError!==void 0&&(R=l.onRecoverableError)),l=Ak(o,1,!1,null,null,f,m,null,w,_,R,Dk),o[Xe]=l.current,c2(o),new I2(l)},hm.hydrateRoot=function(o,l,f){if(!i(o))throw Error(r(299));var m=!1,w="",_=qO,R=WO,q=HO,ne=null;return f!=null&&(f.unstable_strictMode===!0&&(m=!0),f.identifierPrefix!==void 0&&(w=f.identifierPrefix),f.onUncaughtError!==void 0&&(_=f.onUncaughtError),f.onCaughtError!==void 0&&(R=f.onCaughtError),f.onRecoverableError!==void 0&&(q=f.onRecoverableError),f.formState!==void 0&&(ne=f.formState)),l=Ak(o,1,!0,l,f??null,m,w,ne,_,R,q,Dk),l.context=xk(null),f=l.current,m=ps(),m=Te(m),w=tl(m),w.callback=null,nl(f,w,m),f=m,l.current.lanes=f,W(l,f),Ga(l),o[Xe]=l.current,c2(o),new Sb(l)},hm.version="19.2.3",hm}var Gk;function iY(){if(Gk)return k2.exports;Gk=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),k2.exports=rY(),k2.exports}var sY=iY();const aY="modulepreload",oY=function(t){return"/"+t},Kk={},ze=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let u=function(d){return Promise.all(d.map(h=>Promise.resolve(h).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),c=a?.nonce||a?.getAttribute("nonce");i=u(n.map(d=>{if(d=oY(d),d in Kk)return;Kk[d]=!0;const h=d.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${p}`))return;const y=document.createElement("link");if(y.rel=h?"stylesheet":aY,h||(y.as="script"),y.crossOrigin="",y.href=d,c&&y.setAttribute("nonce",c),document.head.appendChild(y),h)return new Promise((g,b)=>{y.addEventListener("load",g),y.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(a){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=a,window.dispatchEvent(c),!c.defaultPrevented)throw a}return i.then(a=>{for(const c of a||[])c.status==="rejected"&&s(c.reason);return e().catch(s)})},cY={path:"/api/v1/analytics_events",method:"POST"},lY={path:"/api/v1/apps/:app_id",method:"GET"},uY={path:"/api/v1/funding/coinbase_on_ramp/init",method:"POST"},dY={path:"/api/v1/funding/coinbase_on_ramp/status",method:"GET"},fY={path:"/api/v1/apps/:app_id/cross-app/connections",method:"GET"},hY={path:"/api/v1/custom_jwt_account/authenticate",method:"POST"},pY={path:"/api/v1/farcaster/init",method:"POST"},mY={path:"/api/v1/farcaster/authenticate",method:"POST"},yY={path:"/api/v1/farcaster/link",method:"POST"},gY={path:"/api/v1/farcaster/unlink",method:"POST"},bY={path:"/api/v1/farcaster/status",method:"GET"},wY={path:"/api/v2/farcaster/init",method:"POST"},vY={path:"/api/v2/farcaster/authenticate",method:"POST"},_Y={path:"/api/v1/guest/authenticate",method:"POST"},EY={path:"/api/v1/mfa/passkeys/init",method:"POST"},SY={path:"/api/v1/mfa/passwordless_sms/init",method:"POST"},AY={path:"/api/v1/oauth/authenticate",method:"POST"},xY={path:"/api/v1/oauth/init",method:"POST"},TY={path:"/api/v1/oauth/link",method:"POST"},IY={path:"/api/v1/oauth/unlink",method:"POST"},CY={path:"/api/v1/passkeys/link",method:"POST"},OY={path:"/api/v1/passkeys/authenticate",method:"POST"},kY={path:"/api/v1/passkeys/register",method:"POST"},RY={path:"/api/v1/passkeys/authenticate/init",method:"POST"},NY={path:"/api/v1/passkeys/register/init",method:"POST"},$Y={path:"/api/v1/passkeys/link/init",method:"POST"},PY={path:"/api/v1/passwordless/authenticate",method:"POST"},DY={path:"/api/v1/passwordless/init",method:"POST"},UY={path:"/api/v1/passwordless/link",method:"POST"},MY={path:"/api/v1/passwordless/unlink",method:"POST"},BY={path:"/api/v1/passwordless/update",method:"POST"},LY={path:"/api/v1/passwordless_sms/authenticate",method:"POST"},jY={path:"/api/v1/passwordless_sms/init",method:"POST"},zY={path:"/api/v1/passwordless_sms/link",method:"POST"},FY={path:"/api/v1/passwordless_sms/unlink",method:"POST"},qY={path:"/api/v1/passwordless_sms/update",method:"POST"},WY={path:"/api/v1/embedded_wallets/:address/recovery/key_material",method:"POST"},HY={path:"/api/v1/recovery/oauth/init",method:"POST"},VY={path:"/api/v1/recovery/oauth/authenticate",method:"POST"},GY={path:"/api/v1/recovery/oauth/init_icloud",method:"POST"},KY={path:"/api/v1/recovery/configuration_icloud",method:"POST"},YY=(t,e)=>e?Object.entries(e).reduce(((n,[r,i])=>n.replace(`:${r}`,`${i}`)),t):t,Yk={path:"/api/v1/sessions",method:"POST"},ZY={path:"/api/v1/sessions/logout",method:"POST"},XY={path:"/api/v1/apps/:app_id/smart_wallets",method:"GET"},NU={path:"/api/v1/siwe/init",method:"POST"},JY={path:"/api/v1/siwe/authenticate",method:"POST"},QY={path:"/api/v1/siwe/link",method:"POST"},eZ={path:"/api/v1/siwe/link_smart_wallet",method:"POST"},tZ={path:"/api/v1/siwe/unlink",method:"POST"},nZ={path:"/api/v1/siws/init",method:"POST"},rZ={path:"/api/v1/siws/authenticate",method:"POST"},iZ={path:"/api/v1/siws/link",method:"POST"},sZ={path:"/api/v1/siws/unlink",method:"POST"},aZ={path:"/api/v1/users/me/accept_terms",method:"POST"},oZ={path:"/api/v1/plugins/moonpay_on_ramp/sign",method:"POST"},cZ={path:"/api/v1/wallets",method:"POST"},P2={path:"/api/v1/wallets/:wallet_id/rpc",method:"POST"},lZ={path:"/api/v1/wallets/revoke",method:"POST"};let uZ=class{getConfig(){return this._privyInternal.config}async getSmartWalletConfig(){return this._smartWalletConfig||(this._smartWalletConfig=await this._privyInternal.fetch(XY,{params:{app_id:this.appId}})),this._smartWalletConfig}get appId(){return this._privyInternal.appId}constructor(e){this._privyInternal=e}};const dZ=new TextEncoder,$U=new TextDecoder,fZ=t=>{let e=t;typeof e=="string"&&(e=dZ.encode(e));const n=32768,r=[];for(let i=0;i<e.length;i+=n)r.push(String.fromCharCode.apply(null,e.subarray(i,i+n)));return btoa(r.join(""))},hZ=t=>fZ(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),pZ=t=>{const e=atob(t),n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n},mZ=t=>{let e=t;e instanceof Uint8Array&&(e=$U.decode(e)),e=e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return pZ(e)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};class yZ extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(e){var n;super(e),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(n=Error.captureStackTrace)===null||n===void 0||n.call(Error,this,this.constructor)}}class Uu extends yZ{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}}function gZ(t){return typeof t=="object"&&t!==null}function bZ(t){if(!gZ(t)||Object.prototype.toString.call(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}const yd=hZ,wZ=mZ;function xx(t){if(typeof t!="string")throw new Uu("JWTs must use Compact JWS serialization, JWT must be a string");const{1:e,length:n}=t.split(".");if(n===5)throw new Uu("Only JWTs using Compact JWS serialization can be decoded");if(n!==3)throw new Uu("Invalid JWT");if(!e)throw new Uu("JWTs must contain a payload");let r;try{r=wZ(e)}catch{throw new Uu("Failed to base64url decode the payload")}let i;try{i=JSON.parse($U.decode(r))}catch{throw new Uu("Failed to parse the decoded payload as JSON")}if(!bZ(i))throw new Uu("Invalid JWT Claims Set");return i}let th=class PU{static parse(e){try{return new PU(e)}catch{return null}}get subject(){return this._decoded.sub}get expiration(){return this._decoded.exp}get issuer(){return this._decoded.iss}get audience(){return this._decoded.aud}isExpired(e=0){return Date.now()>=1e3*(this.expiration-e)}constructor(e){this.value=e,this._decoded=xx(e)}},DU=class Tx{async updateOnCrossAppAuthentication(e,n){let r=n.access_token,i=Tx.providerAccessTokenStorageKey(e);await this._storage.put(i,r)}async getProviderAccessToken(e){let n=Tx.providerAccessTokenStorageKey(e),r=await this._storage.get(n);if(typeof r!="string")return null;try{if(new th(r).isExpired())throw Error("JWT is expired");return r}catch{return await this._storage.del(n),null}}async getCrossAppConnections(){return await this._privyInternal.fetch(fY,{params:{app_id:this._privyInternal.appId}})}constructor(e,n){this._privyInternal=e,this._storage=n}};DU.providerAccessTokenStorageKey=t=>`privy:cross-app:${t}`;let vZ=class{async revoke(){await this._privyInternal.fetch(lZ,{})}constructor(e){this._privyInternal=e}};function _Z(t,e){return{...t,rpcUrls:{...t.rpcUrls,privy:{http:[e]}}}}const pg={id:42161,name:"Arbitrum One",network:"arbitrum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://arbitrum-mainnet.rpc.privy.systems"]},alchemy:{http:["https://arb-mainnet.g.alchemy.com/v2"],webSocket:["wss://arb-mainnet.g.alchemy.com/v2"]},infura:{http:["https://arbitrum-mainnet.infura.io/v3"],webSocket:["wss://arbitrum-mainnet.infura.io/ws/v3"]},default:{http:["https://arb1.arbitrum.io/rpc"]},public:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{etherscan:{name:"Arbiscan",url:"https://arbiscan.io"},default:{name:"Arbiscan",url:"https://arbiscan.io"}}},UU={id:421614,name:"Arbitrum Sepolia",network:"arbitrum-sepolia",nativeCurrency:{name:"Arbitrum Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://arbitrum-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia-rollup.arbitrum.io/rpc"]},public:{http:["https://sepolia-rollup.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Blockscout",url:"https://sepolia-explorer.arbitrum.io"}},testnet:!0},mg={id:43114,name:"Avalanche",network:"avalanche",nativeCurrency:{decimals:18,name:"Avalanche",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax.network/ext/bc/C/rpc"]},public:{http:["https://api.avax.network/ext/bc/C/rpc"]}},blockExplorers:{etherscan:{name:"SnowTrace",url:"https://snowtrace.io"},default:{name:"SnowTrace",url:"https://snowtrace.io"}}},MU={id:43113,name:"Avalanche Fuji",network:"avalanche-fuji",nativeCurrency:{decimals:18,name:"Avalanche Fuji",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax-test.network/ext/bc/C/rpc"]},public:{http:["https://api.avax-test.network/ext/bc/C/rpc"]}},blockExplorers:{etherscan:{name:"SnowTrace",url:"https://testnet.snowtrace.io"},default:{name:"SnowTrace",url:"https://testnet.snowtrace.io"}},testnet:!0},yg={id:8453,network:"base",name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://base-mainnet.rpc.privy.systems"]},default:{http:["https://mainnet.base.org"]},public:{http:["https://mainnet.base.org"]}},blockExplorers:{etherscan:{name:"Basescan",url:"https://basescan.org"},default:{name:"Basescan",url:"https://basescan.org"}}},BU={id:84532,network:"base-sepolia",name:"Base Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://base-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia.base.org"]},public:{http:["https://sepolia.base.org"]}},blockExplorers:{default:{name:"Blockscout",url:"https://base-sepolia.blockscout.com"}},testnet:!0},EZ={id:80085,network:"berachain-artio",name:"Berachain Artio",nativeCurrency:{name:"BERA",symbol:"BERA",decimals:18},rpcUrls:{default:{http:["https://berachain-artio.rpc.privy.systems"]},public:{http:["https://berachain-artio.rpc.privy.systems"]}},blockExplorers:{default:{name:"Beratrail",url:"https://artio.beratrail.io"}},testnet:!0},SZ={id:56,network:"bsc",name:"Binance Smart Chain",nativeCurrency:{name:"BNB",symbol:"BNB",decimals:18},rpcUrls:{privy:{http:["https://bsc-mainnet.rpc.privy.systems"]},default:{http:["https://56.rpc.thirdweb.com"]},public:{http:["https://56.rpc.thirdweb.com"]}},blockExplorers:{etherscan:{name:"BscScan",url:"https://bscscan.com"},default:{name:"BscScan",url:"https://bscscan.com"}}},gT={id:42220,name:"Celo Mainnet",network:"celo",nativeCurrency:{decimals:18,name:"CELO",symbol:"CELO"},rpcUrls:{default:{http:["https://forno.celo.org"]},infura:{http:["https://celo-mainnet.infura.io/v3"]},public:{http:["https://forno.celo.org"]}},blockExplorers:{default:{name:"Celo Explorer",url:"https://explorer.celo.org/mainnet"},etherscan:{name:"CeloScan",url:"https://celoscan.io"}},testnet:!1},AZ={id:44787,name:"Celo Alfajores Testnet",network:"celo-alfajores",nativeCurrency:{decimals:18,name:"CELO",symbol:"CELO"},rpcUrls:{default:{http:["https://alfajores-forno.celo-testnet.org"]},infura:{http:["https://celo-alfajores.infura.io/v3"]},public:{http:["https://alfajores-forno.celo-testnet.org"]}},blockExplorers:{default:{name:"Celo Explorer",url:"https://explorer.celo.org/alfajores"},etherscan:{name:"CeloScan",url:"https://alfajores.celoscan.io/"}},testnet:!0},xZ={id:314,name:"Filecoin - Mainnet",network:"filecoin-mainnet",nativeCurrency:{decimals:18,name:"filecoin",symbol:"FIL"},rpcUrls:{default:{http:["https://api.node.glif.io/rpc/v1"]},public:{http:["https://api.node.glif.io/rpc/v1"]}},blockExplorers:{default:{name:"Filfox",url:"https://filfox.info/en"},filscan:{name:"Filscan",url:"https://filscan.io"},filscout:{name:"Filscout",url:"https://filscout.io/en"},glif:{name:"Glif",url:"https://explorer.glif.io"}}},TZ={id:314159,name:"Filecoin - Calibration testnet",network:"filecoin-calibration",nativeCurrency:{decimals:18,name:"testnet filecoin",symbol:"tFIL"},rpcUrls:{default:{http:["https://api.calibration.node.glif.io/rpc/v1"]},public:{http:["https://api.calibration.node.glif.io/rpc/v1"]}},blockExplorers:{default:{name:"Filscan",url:"https://calibration.filscan.io"}}},IZ={id:17069,name:"Garnet Holesky",network:"garnet-holesky",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.garnetchain.com"]},public:{http:["https://rpc.garnetchain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.garnetchain.com"}}},CZ={id:17e3,name:"Holesky",network:"holesky",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://ethereum-holesky.publicnode.com"]},public:{http:["https://ethereum-holesky.publicnode.com"]}},blockExplorers:{etherscan:{name:"EtherScan",url:"https://holesky.etherscan.io"},default:{name:"EtherScan",url:"https://holesky.etherscan.io"}}},OZ={id:59144,network:"linea-mainnet",name:"Linea Mainnet",nativeCurrency:{name:"Linea Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.linea.build"],webSocket:["wss://rpc.linea.build"]},public:{http:["https://rpc.linea.build"],webSocket:["wss://rpc.linea.build"]}},blockExplorers:{default:{name:"Etherscan",url:"https://lineascan.build"},etherscan:{name:"Etherscan",url:"https://lineascan.build"}},testnet:!1},kZ={id:59140,network:"linea-testnet",name:"Linea Goerli Testnet",nativeCurrency:{name:"Linea Ether",symbol:"ETH",decimals:18},rpcUrls:{infura:{http:["https://linea-goerli.infura.io/v3"],webSocket:["wss://linea-goerli.infura.io/ws/v3"]},default:{http:["https://rpc.goerli.linea.build"],webSocket:["wss://rpc.goerli.linea.build"]},public:{http:["https://rpc.goerli.linea.build"],webSocket:["wss://rpc.goerli.linea.build"]}},blockExplorers:{default:{name:"Etherscan",url:"https://goerli.lineascan.build"},etherscan:{name:"Etherscan",url:"https://goerli.lineascan.build"}},testnet:!0},RZ={id:42,network:"lukso",name:"LUKSO",nativeCurrency:{name:"LUKSO",symbol:"LYX",decimals:18},rpcUrls:{default:{http:["https://rpc.mainnet.lukso.network"],webSocket:["wss://ws-rpc.mainnet.lukso.network"]}},blockExplorers:{default:{name:"LUKSO Mainnet Explorer",url:"https://explorer.execution.mainnet.lukso.network"}}},rp={id:1,network:"homestead",name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://mainnet.rpc.privy.systems"]},alchemy:{http:["https://eth-mainnet.g.alchemy.com/v2"],webSocket:["wss://eth-mainnet.g.alchemy.com/v2"]},infura:{http:["https://mainnet.infura.io/v3"],webSocket:["wss://mainnet.infura.io/ws/v3"]},default:{http:["https://cloudflare-eth.com"]},public:{http:["https://cloudflare-eth.com"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://etherscan.io"},default:{name:"Etherscan",url:"https://etherscan.io"}}},bT={id:10,name:"OP Mainnet",network:"optimism",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://optimism-mainnet.rpc.privy.systems"]},alchemy:{http:["https://opt-mainnet.g.alchemy.com/v2"],webSocket:["wss://opt-mainnet.g.alchemy.com/v2"]},infura:{http:["https://optimism-mainnet.infura.io/v3"],webSocket:["wss://optimism-mainnet.infura.io/ws/v3"]},default:{http:["https://mainnet.optimism.io"]},public:{http:["https://mainnet.optimism.io"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://optimistic.etherscan.io"},default:{name:"Optimism Explorer",url:"https://explorer.optimism.io"}}},LU={id:11155420,name:"Optimism Sepolia",network:"optimism-sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://optimism-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia.optimism.io"]},public:{http:["https://sepolia.optimism.io"]},infura:{http:["https://optimism-sepolia.infura.io/v3"]}},blockExplorers:{default:{name:"Blockscout",url:"https://optimism-sepolia.blockscout.com"}},testnet:!0},gg={id:137,name:"Polygon Mainnet",network:"polygon",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{privy:{http:["https://polygon-mainnet.rpc.privy.systems"]},alchemy:{http:["https://polygon-mainnet.g.alchemy.com/v2"],webSocket:["wss://polygon-mainnet.g.alchemy.com/v2"]},infura:{http:["https://polygon-mainnet.infura.io/v3"],webSocket:["wss://polygon-mainnet.infura.io/ws/v3"]},default:{http:["https://polygon-rpc.com"]},public:{http:["https://polygon-rpc.com"]}},blockExplorers:{etherscan:{name:"PolygonScan",url:"https://polygonscan.com"},default:{name:"PolygonScan",url:"https://polygonscan.com"}}},jU={id:80002,name:"Polygon Amoy",network:"polygon-amoy",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{privy:{http:["https://polygon-amoy.rpc.privy.systems"]},infura:{http:["https://polygon-amoy.infura.io/v3"],webSocket:["wss://polygon-amoy.infura.io/ws/v3"]},default:{http:["https://rpc-amoy.polygon.technology"]}},blockExplorers:{default:{name:"OK LINK",url:"https://www.oklink.com/amoy"}},testnet:!0},NZ={id:690,name:"Redstone",network:"redstone",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.redstonechain.com"]},public:{http:["https://rpc.redstonechain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.redstone.xyz/"}}},zU={id:11155111,network:"sepolia",name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"SEP",decimals:18},rpcUrls:{privy:{http:["https://sepolia.rpc.privy.systems"]},alchemy:{http:["https://eth-sepolia.g.alchemy.com/v2"],webSocket:["wss://eth-sepolia.g.alchemy.com/v2"]},infura:{http:["https://sepolia.infura.io/v3"],webSocket:["wss://sepolia.infura.io/ws/v3"]},default:{http:["https://rpc.sepolia.org"]},public:{http:["https://rpc.sepolia.org"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://sepolia.etherscan.io"},default:{name:"Etherscan",url:"https://sepolia.etherscan.io"}},testnet:!0},$Z={id:7777777,name:"Zora",network:"zora",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.zora.energy"],webSocket:["wss://rpc.zora.energy"]},public:{http:["https://rpc.zora.energy"],webSocket:["wss://rpc.zora.energy"]}},blockExplorers:{default:{name:"Explorer",url:"https://explorer.zora.energy"}}},PZ={id:999999999,name:"Zora Sepolia",network:"zora-sepolia",nativeCurrency:{decimals:18,name:"Zora Sepolia",symbol:"ETH"},rpcUrls:{default:{http:["https://sepolia.rpc.zora.energy"],webSocket:["wss://sepolia.rpc.zora.energy"]},public:{http:["https://sepolia.rpc.zora.energy"],webSocket:["wss://sepolia.rpc.zora.energy"]}},blockExplorers:{default:{name:"Zora Sepolia Explorer",url:"https://sepolia.explorer.zora.energy/"}},testnet:!0},DZ={id:999,name:"Zora Goerli Testnet",network:"zora-testnet",nativeCurrency:{decimals:18,name:"Zora Goerli",symbol:"ETH"},rpcUrls:{default:{http:["https://testnet.rpc.zora.energy"],webSocket:["wss://testnet.rpc.zora.energy"]},public:{http:["https://testnet.rpc.zora.energy"],webSocket:["wss://testnet.rpc.zora.energy"]}},blockExplorers:{default:{name:"Explorer",url:"https://testnet.explorer.zora.energy"}},testnet:!0},i1=[rp,zU,CZ,pg,UU,bT,LU,gg,jU,gT,AZ,xZ,TZ,yg,BU,EZ,SZ,RZ,OZ,kZ,mg,MU,$Z,DZ,PZ,NZ,IZ],UZ=new Set(i1.map((t=>t.id))),FU=t=>t.map((e=>{if(e.rpcUrls.privyWalletOverride)return e;let n=i1.find((i=>i.id===e.id)),r=n?.rpcUrls.privy?.http[0];return r?_Z(e,r):e}));let D2=class extends Error{constructor({error:e,code:n}){super(e),this.error=e,this.code=n}},Qt=class extends Error{constructor({error:e,code:n}){super(e),this.code=n,this.error=e}},MZ=class extends Error{constructor({error:e,code:n,response:r}){super(e),this.code=n,this.error=e,this.response=r}};const Wl=t=>!!t.id&&t.recovery_method==="privy-v2";let BZ=class{async sign({message:e}){return await this.request({method:"sign",params:{message:new TextDecoder("utf8").decode(e)}})}async signTransaction({psbt:e}){return await this.request({method:"signTransaction",params:{psbt:e}})}async request(e){if(Wl(this._account))throw new Qt({code:"unsupported_wallet_type",error:"Bitcoin wallet providers are only supported for on-device execution and this app uses TEE execution. Use the useSignRawHash hook from @privy-io/expo/extended-chains to sign over a hash with this wallet. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide"});if(!await this._privyInternal.getAccessTokenInternal())throw new Qt({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});return this.handleIFrameRpc(e)}async handleIFrameRpc(e){try{let n=await this._privyInternal.getAccessTokenInternal();if(!n)throw Error("Missing access token. User must be authenticated.");return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),(await this._proxy.rpcWallet({accessToken:n,request:e,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,hdWalletIndex:this._account.wallet_index,chainType:this._account.chain_type})).response.data}catch(n){console.error(n);let r=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:r}),new Qt({code:"embedded_wallet_request_error",error:r})}}toJSON(){return`PrivyEmbeddedBitcoinProvider { address: '${this._account.address}', request: [Function] }`}constructor({proxy:e,privyInternal:n,account:r,entropyId:i,entropyIdVerifier:s}){this._proxy=e,this._privyInternal=n,this._account=r,this._entropyId=i,this._entropyIdVerifier=s}};const LZ=["error","invalid_request_arguments","wallet_not_on_device","invalid_recovery_pin","insufficient_funds","mfa_timeout","missing_or_invalid_mfa","mfa_verification_max_attempts_reached"];var ji;(ji={}).MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",ji.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",ji.INVALID_DATA="invalid_data",ji.LINKED_TO_ANOTHER_USER="linked_to_another_user",ji.ALLOWLIST_REJECTED="allowlist_rejected",ji.OAUTH_USER_DENIED="oauth_user_denied",ji.UNKNOWN_AUTH_ERROR="unknown_auth_error",ji.USER_EXITED_AUTH_FLOW="exited_auth_flow",ji.MUST_BE_AUTHENTICATED="must_be_authenticated",ji.UNKNOWN_CONNECT_WALLET_ERROR="unknown_connect_wallet_error",ji.GENERIC_CONNECT_WALLET_ERROR="generic_connect_wallet_error",ji.CLIENT_REQUEST_TIMEOUT="client_request_timeout",ji.INVALID_CREDENTIALS="invalid_credentials";let jZ=class extends Error{toString(){return`${this.type}${this.privyErrorCode?`-${this.privyErrorCode}`:""}: ${this.message}${this.cause?` [cause: ${this.cause}]`:""}`}constructor(e,n,r){super(e),n instanceof Error&&(this.cause=n),this.privyErrorCode=r}},mw=class extends Error{constructor(e,n){super(n),this.type=e}},qU=class extends jZ{constructor(e,n,r){super(e,n,r),this.type="connector_error"}},Zk=class extends Error{constructor(e,n,r){super(e),this.code=n,this.data=r}};const nh={UNKNOWN_ERROR:{eipCode:0,message:"Unknown error",detail:"Unknown error",retryable:!0},E4001_DEFAULT_USER_REJECTED_REQUEST:{eipCode:4001,message:"User Rejected Request",detail:"The user rejected the request.",default:!0,retryable:!0},E4100_DEFAULT_UNAUTHORIZED:{eipCode:4100,message:"Unauthorized",detail:"The requested method and/or account has not been authorized by the user.",default:!0,retryable:!1},E4200_DEFAULT_UNSUPPORTED_METHOD:{eipCode:4200,message:"Unsupported Method",detail:"The Provider does not support the requested method.",default:!0,retryable:!1},E4900_DEFAULT_DISCONNECTED:{eipCode:4900,message:"Disconnected",detail:"The Provider is disconnected from all chains.",default:!0,retryable:!0},E4901_DEFAULT_CHAIN_DISCONNECTED:{eipCode:4901,message:"Chain Disconnected",detail:"The Provider is not connected to the requested chain.",default:!0,retryable:!0},E32700_DEFAULT_PARSE_ERROR:{eipCode:-32700,message:"Parse error",detail:"Invalid JSON",default:!0,retryable:!1},E32600_DEFAULT_INVALID_REQUEST:{eipCode:-32600,message:"Invalid request",detail:"JSON is not a valid request object",default:!0,retryable:!1},E32601_DEFAULT_METHOD_NOT_FOUND:{eipCode:-32601,message:"Method not found",detail:"Method does not exist",default:!0,retryable:!1},E32602_DEFAULT_INVALID_PARAMS:{eipCode:-32602,message:"Invalid params",detail:"Invalid method parameters",default:!0,retryable:!1},E32603_DEFAULT_INTERNAL_ERROR:{eipCode:-32603,message:"Internal error",detail:"Internal JSON-RPC error",default:!0,retryable:!0},E32000_DEFAULT_INVALID_INPUT:{eipCode:-32e3,message:"Invalid input",detail:"Missing or invalid parameters",default:!0,retryable:!1},E32001_DEFAULT_RESOURCE_NOT_FOUND:{eipCode:-32001,message:"Resource not found",detail:"Requested resource not found",default:!0,retryable:!1},E32002_DEFAULT_RESOURCE_UNAVAILABLE:{eipCode:-32002,message:"Resource unavailable",detail:"Requested resource not available",default:!0,retryable:!0},E32003_DEFAULT_TRANSACTION_REJECTED:{eipCode:-32003,message:"Transaction rejected",detail:"Transaction creation failed",default:!0,retryable:!0},E32004_DEFAULT_METHOD_NOT_SUPPORTED:{eipCode:-32004,message:"Method not supported",detail:"Method is not implemented",default:!0,retryable:!1},E32005_DEFAULT_LIMIT_EXCEEDED:{eipCode:-32005,message:"Limit exceeded",detail:"Request exceeds defined limit",default:!0,retryable:!1},E32006_DEFAULT_JSON_RPC_VERSION_NOT_SUPPORTED:{eipCode:-32006,message:"JSON-RPC version not supported",detail:"Version of JSON-RPC protocol is not supported",default:!0,retryable:!1},E32002_CONNECTION_ALREADY_PENDING:{eipCode:-32002,message:"Connection request already pending",detail:"Dont see your wallet? Check your other browser windows.",retryable:!1},E32002_REQUEST_ALREADY_PENDING:{eipCode:-32002,message:"Resource request already pending",detail:"Dont see your wallet? Check your other browser windows.",retryable:!1},E32002_WALLET_LOCKED:{eipCode:-32002,message:"Wallet might be locked",detail:"Dont see your wallet? Check your other browser windows.",retryable:!1},E4001_USER_REJECTED_REQUEST:{eipCode:4001,message:"Signature rejected",detail:"Please try signing again.",retryable:!0}};function zZ(t){let e=t.type;return typeof e=="string"&&LZ.includes(e)}function wT(t){return zZ(t)&&t.type==="wallet_not_on_device"}async function Ix(t,{request:e}){return await t.fetchPrivyRoute(cZ,{body:e})}async function U2({context:t,chainType:e}){return{wallet:await Ix(t,{request:{chain_type:e,owner_id:void 0}})}}const FZ="1.2.3";let ns=class Cx extends Error{constructor(e,n={}){const r=n.cause instanceof Cx?n.cause.details:n.cause?.message?n.cause.message:n.details,i=n.cause instanceof Cx&&n.cause.docsPath||n.docsPath,s=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: https://abitype.dev${i}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${FZ}`].join(`
`);super(s),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.shortMessage=e}};function qc(t,e){return t.exec(e)?.groups}const WU=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,HU=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,VU=/^\(.+?\).*?$/,Xk=/^tuple(?<array>(\[(\d*)\])*)$/;function Ox(t){let e=t.type;if(Xk.test(t.type)&&"components"in t){e="(";const n=t.components.length;for(let i=0;i<n;i++){const s=t.components[i];e+=Ox(s),i<n-1&&(e+=", ")}const r=qc(Xk,t.type);return e+=`)${r?.array||""}`,Ox({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function rh(t){let e="";const n=t.length;for(let r=0;r<n;r++){const i=t[r];e+=Ox(i),r!==n-1&&(e+=", ")}return e}function zw(t){return t.type==="function"?`function ${t.name}(${rh(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${t.outputs?.length?` returns (${rh(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${rh(t.inputs)})`:t.type==="error"?`error ${t.name}(${rh(t.inputs)})`:t.type==="constructor"?`constructor(${rh(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?`fallback() external${t.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const GU=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function qZ(t){return GU.test(t)}function WZ(t){return qc(GU,t)}const KU=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function HZ(t){return KU.test(t)}function VZ(t){return qc(KU,t)}const YU=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function GZ(t){return YU.test(t)}function KZ(t){return qc(YU,t)}const ZU=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function s1(t){return ZU.test(t)}function YZ(t){return qc(ZU,t)}const XU=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function ZZ(t){return XU.test(t)}function XZ(t){return qc(XU,t)}const JU=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function JZ(t){return JU.test(t)}function QZ(t){return qc(JU,t)}const eX=/^receive\(\) external payable$/;function tX(t){return eX.test(t)}const Jk=new Set(["memory","indexed","storage","calldata"]),nX=new Set(["indexed"]),kx=new Set(["calldata","memory","storage"]);class rX extends ns{constructor({signature:e}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class iX extends ns{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class sX extends ns{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class aX extends ns{constructor({params:e}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class oX extends ns{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class cX extends ns{constructor({param:e,name:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class lX extends ns{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class uX extends ns{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class dX extends ns{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class ip extends ns{constructor({signature:e,type:n}){super(`Invalid ${n} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class fX extends ns{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class hX extends ns{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class pX extends ns{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class mX extends ns{constructor({current:e,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function yX(t,e,n){let r="";if(n)for(const i of Object.entries(n)){if(!i)continue;let s="";for(const a of i[1])s+=`[${a.type}${a.name?`:${a.name}`:""}]`;r+=`(${i[0]}{${s}})`}return e?`${e}:${t}${r}`:`${t}${r}`}const M2=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function Rx(t,e={}){if(GZ(t))return gX(t,e);if(HZ(t))return bX(t,e);if(qZ(t))return wX(t,e);if(ZZ(t))return vX(t,e);if(JZ(t))return _X(t);if(tX(t))return{type:"receive",stateMutability:"payable"};throw new fX({signature:t})}function gX(t,e={}){const n=KZ(t);if(!n)throw new ip({signature:t,type:"function"});const r=As(n.parameters),i=[],s=r.length;for(let c=0;c<s;c++)i.push($c(r[c],{modifiers:kx,structs:e,type:"function"}));const a=[];if(n.returns){const c=As(n.returns),u=c.length;for(let d=0;d<u;d++)a.push($c(c[d],{modifiers:kx,structs:e,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:i,outputs:a}}function bX(t,e={}){const n=VZ(t);if(!n)throw new ip({signature:t,type:"event"});const r=As(n.parameters),i=[],s=r.length;for(let a=0;a<s;a++)i.push($c(r[a],{modifiers:nX,structs:e,type:"event"}));return{name:n.name,type:"event",inputs:i}}function wX(t,e={}){const n=WZ(t);if(!n)throw new ip({signature:t,type:"error"});const r=As(n.parameters),i=[],s=r.length;for(let a=0;a<s;a++)i.push($c(r[a],{structs:e,type:"error"}));return{name:n.name,type:"error",inputs:i}}function vX(t,e={}){const n=XZ(t);if(!n)throw new ip({signature:t,type:"constructor"});const r=As(n.parameters),i=[],s=r.length;for(let a=0;a<s;a++)i.push($c(r[a],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:i}}function _X(t){const e=QZ(t);if(!e)throw new ip({signature:t,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}const EX=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,SX=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,AX=/^u?int$/;function $c(t,e){const n=yX(t,e?.type,e?.structs);if(M2.has(n))return M2.get(n);const r=VU.test(t),i=qc(r?SX:EX,t);if(!i)throw new oX({param:t});if(i.name&&TX(i.name))throw new cX({param:t,name:i.name});const s=i.name?{name:i.name}:{},a=i.modifier==="indexed"?{indexed:!0}:{},c=e?.structs??{};let u,d={};if(r){u="tuple";const p=As(i.type),y=[],g=p.length;for(let b=0;b<g;b++)y.push($c(p[b],{structs:c}));d={components:y}}else if(i.type in c)u="tuple",d={components:c[i.type]};else if(AX.test(i.type))u=`${i.type}256`;else if(i.type==="address payable")u="address";else if(u=i.type,e?.type!=="struct"&&!QU(u))throw new sX({type:u});if(i.modifier){if(!e?.modifiers?.has?.(i.modifier))throw new lX({param:t,type:e?.type,modifier:i.modifier});if(kx.has(i.modifier)&&!IX(u,!!i.array))throw new uX({param:t,type:e?.type,modifier:i.modifier})}const h={type:`${u}${i.array??""}`,...s,...a,...d};return M2.set(n,h),h}function As(t,e=[],n="",r=0){const i=t.trim().length;for(let s=0;s<i;s++){const a=t[s],c=t.slice(s+1);switch(a){case",":return r===0?As(c,[...e,n.trim()]):As(c,e,`${n}${a}`,r);case"(":return As(c,e,`${n}${a}`,r+1);case")":return As(c,e,`${n}${a}`,r-1);default:return As(c,e,`${n}${a}`,r)}}if(n==="")return e;if(r!==0)throw new mX({current:n,depth:r});return e.push(n.trim()),e}function QU(t){return t==="address"||t==="bool"||t==="function"||t==="string"||WU.test(t)||HU.test(t)}const xX=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function TX(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||WU.test(t)||HU.test(t)||xX.test(t)}function IX(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function vT(t){const e={},n=t.length;for(let a=0;a<n;a++){const c=t[a];if(!s1(c))continue;const u=YZ(c);if(!u)throw new ip({signature:c,type:"struct"});const d=u.properties.split(";"),h=[],p=d.length;for(let y=0;y<p;y++){const b=d[y].trim();if(!b)continue;const v=$c(b,{type:"struct"});h.push(v)}if(!h.length)throw new hX({signature:c});e[u.name]=h}const r={},i=Object.entries(e),s=i.length;for(let a=0;a<s;a++){const[c,u]=i[a];r[c]=eM(u,e)}return r}const CX=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function eM(t=[],e={},n=new Set){const r=[],i=t.length;for(let s=0;s<i;s++){const a=t[s];if(VU.test(a.type))r.push(a);else{const u=qc(CX,a.type);if(!u?.type)throw new dX({abiParameter:a});const{array:d,type:h}=u;if(h in e){if(n.has(h))throw new pX({type:h});r.push({...a,type:`tuple${d??""}`,components:eM(e[h],e,new Set([...n,h]))})}else if(QU(h))r.push(a);else throw new iX({type:h})}}return r}function tM(t){const e=vT(t),n=[],r=t.length;for(let i=0;i<r;i++){const s=t[i];s1(s)||n.push(Rx(s,e))}return n}function Qk(t){let e;if(typeof t=="string")e=Rx(t);else{const n=vT(t),r=t.length;for(let i=0;i<r;i++){const s=t[i];if(!s1(s)){e=Rx(s,n);break}}}if(!e)throw new rX({signature:t});return e}function eR(t){const e=[];if(typeof t=="string"){const n=As(t),r=n.length;for(let i=0;i<r;i++)e.push($c(n[i],{modifiers:Jk}))}else{const n=vT(t),r=t.length;for(let i=0;i<r;i++){const s=t[i];if(s1(s))continue;const a=As(s),c=a.length;for(let u=0;u<c;u++)e.push($c(a[u],{modifiers:Jk,structs:n}))}}if(e.length===0)throw new aX({params:t});return e}function qe(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const i=t[n];return typeof i=="function"?i:s=>e(t,s)}function Ua(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new zX(t.type);return`${t.name}(${a1(t.inputs,{includeName:e})})`}function a1(t,{includeName:e=!1}={}){return t?t.map(n=>OX(n,{includeName:e})).join(e?", ":","):""}function OX(t,{includeName:e}){return t.type.startsWith("tuple")?`(${a1(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}function Si(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function Wn(t){return Si(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const nM="2.43.3";let B2={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${nM}`},_e=class Nx extends Error{constructor(e,n={}){const r=n.cause instanceof Nx?n.cause.details:n.cause?.message?n.cause.message:n.details,i=n.cause instanceof Nx&&n.cause.docsPath||n.docsPath,s=B2.getDocsUrl?.({...n,docsPath:i}),a=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...r?[`Details: ${r}`]:[],...B2.version?[`Version: ${B2.version}`]:[]].join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=nM}walk(e){return rM(this,e)}};function rM(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?rM(t.cause,e):e?null:t}class iM extends _e{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class Fw extends _e{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class sM extends _e{constructor({data:e,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${a1(n,{includeName:!0})})`,`Data:   ${e} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=n,this.size=r}}class bg extends _e{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class kX extends _e{constructor({expectedLength:e,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${e}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class RX extends _e{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${Wn(n)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class NX extends _e{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class $X extends _e{constructor(e,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class tR extends _e{constructor(e,{docsPath:n}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class aM extends _e{constructor(e,{docsPath:n}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class PX extends _e{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class DX extends _e{constructor(e,{docsPath:n}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class nR extends _e{constructor(e,{docsPath:n}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class kh extends _e{constructor(e,{docsPath:n}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class oM extends _e{constructor(e,{docsPath:n}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class UX extends _e{constructor(e,{docsPath:n}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class MX extends _e{constructor(e,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${Ua(e.abiItem)}\`, and`,`\`${n.type}\` in \`${Ua(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let BX=class extends _e{constructor({expectedSize:e,givenSize:n}){super(`Expected bytes${e}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}};class qw extends _e{constructor({abiItem:e,data:n,params:r,size:i}){super([`Data size of ${i} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${a1(r,{includeName:!0})})`,`Data:   ${n} (${i} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=n,this.params=r,this.size=i}}class _T extends _e{constructor({abiItem:e,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${Ua(e,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class LX extends _e{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class jX extends _e{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}let cM=class extends _e{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class zX extends _e{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class oUe extends _e{constructor(e){super(`Type "${e}" is not supported for packed encoding.`,{name:"UnsupportedPackedAbiType"})}}class FX extends _e{constructor(e){super(`Filter type "${e}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}let lM=class extends _e{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}},uM=class extends _e{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class rR extends _e{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${e} ${r} long.`,{name:"InvalidBytesLengthError"})}}function Md(t,{dir:e,size:n=32}={}){return typeof t=="string"?nu(t,{dir:e,size:n}):qX(t,{dir:e,size:n})}function nu(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new uM({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function qX(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new uM({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const s=e==="right";r[s?i:n-i-1]=t[s?i:t.length-i-1]}return r}let dM=class extends _e{constructor({max:e,min:n,signed:r,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}},WX=class extends _e{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}};class HX extends _e{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let VX=class extends _e{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};function Ts(t,{dir:e="left"}={}){let n=typeof t=="string"?t.replace("0x",""):t,r=0;for(let i=0;i<n.length-1&&n[e==="left"?i:n.length-i-1].toString()==="0";i++)r++;return n=e==="left"?n.slice(r):n.slice(0,n.length-r),typeof t=="string"?(n.length===1&&e==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function ca(t,{size:e}){if(Wn(t)>e)throw new VX({givenSize:Wn(t),maxSize:e})}function an(t,e={}){const{signed:n}=e;e.size&&ca(t,{size:e.size});const r=BigInt(t);if(!n)return r;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return r<=s?r:r-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function GX(t,e={}){let n=t;if(e.size&&(ca(n,{size:e.size}),n=Ts(n)),Ts(n)==="0x00")return!1;if(Ts(n)==="0x01")return!0;throw new HX(n)}function Is(t,e={}){return Number(an(t,e))}function hUe(t,e={}){let n=Ai(t);return e.size&&(ca(n,{size:e.size}),n=Ts(n,{dir:"right"})),new TextDecoder().decode(n)}const KX=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Et(t,e={}){return typeof t=="number"||typeof t=="bigint"?Ne(t,e):typeof t=="string"?Rh(t,e):typeof t=="boolean"?fM(t,e):wr(t,e)}function fM(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(ca(n,{size:e.size}),Md(n,{size:e.size})):n}function wr(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=KX[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(ca(r,{size:e.size}),Md(r,{dir:"right",size:e.size})):r}function Ne(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const a=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<a){const u=typeof t=="bigint"?"n":"";throw new dM({max:s?`${s}${u}`:void 0,min:`${a}${u}`,signed:n,size:r,value:`${t}${u}`})}const c=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?Md(c,{size:r}):c}const YX=new TextEncoder;function Rh(t,e={}){const n=YX.encode(t);return wr(n,e)}const ZX=new TextEncoder;function Tc(t,e={}){return typeof t=="number"||typeof t=="bigint"?JX(t,e):typeof t=="boolean"?XX(t,e):Si(t)?Ai(t,e):ld(t,e)}function XX(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(ca(n,{size:e.size}),Md(n,{size:e.size})):n}const Xo={zero:48,nine:57,A:65,F:70,a:97,f:102};function iR(t){if(t>=Xo.zero&&t<=Xo.nine)return t-Xo.zero;if(t>=Xo.A&&t<=Xo.F)return t-(Xo.A-10);if(t>=Xo.a&&t<=Xo.f)return t-(Xo.a-10)}function Ai(t,e={}){let n=t;e.size&&(ca(n,{size:e.size}),n=Md(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const i=r.length/2,s=new Uint8Array(i);for(let a=0,c=0;a<i;a++){const u=iR(r.charCodeAt(c++)),d=iR(r.charCodeAt(c++));if(u===void 0||d===void 0)throw new _e(`Invalid byte sequence ("${r[c-2]}${r[c-1]}" in "${r}").`);s[a]=u*16+d}return s}function JX(t,e){const n=Ne(t,e);return Ai(n)}function ld(t,e={}){const n=ZX.encode(t);return typeof e.size=="number"?(ca(n,{size:e.size}),Md(n,{dir:"right",size:e.size})):n}const xb=BigInt(2**32-1),sR=BigInt(32);function QX(t,e=!1){return e?{h:Number(t&xb),l:Number(t>>sR&xb)}:{h:Number(t>>sR&xb)|0,l:Number(t&xb)|0}}function eJ(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let s=0;s<n;s++){const{h:a,l:c}=QX(t[s],e);[r[s],i[s]]=[a,c]}return[r,i]}const tJ=(t,e,n)=>t<<n|e>>>32-n,nJ=(t,e,n)=>e<<n|t>>>32-n,rJ=(t,e,n)=>e<<n-32|t>>>64-n,iJ=(t,e,n)=>t<<n-32|e>>>64-n,Uf=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function sJ(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function wy(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function gd(t,...e){if(!sJ(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function aJ(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");wy(t.outputLen),wy(t.blockLen)}function Nh(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function hM(t,e){gd(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function oJ(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function $h(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function L2(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Ka(t,e){return t<<32-e|t>>>e}const cJ=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function lJ(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function uJ(t){for(let e=0;e<t.length;e++)t[e]=lJ(t[e]);return t}const aR=cJ?t=>t:uJ;function dJ(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function o1(t){return typeof t=="string"&&(t=dJ(t)),gd(t),t}function fJ(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];gd(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}let ET=class{};function pM(t){const e=r=>t().update(o1(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function hJ(t=32){if(Uf&&typeof Uf.getRandomValues=="function")return Uf.getRandomValues(new Uint8Array(t));if(Uf&&typeof Uf.randomBytes=="function")return Uint8Array.from(Uf.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const pJ=BigInt(0),pm=BigInt(1),mJ=BigInt(2),yJ=BigInt(7),gJ=BigInt(256),bJ=BigInt(113),mM=[],yM=[],gM=[];for(let t=0,e=pm,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],mM.push(2*(5*r+n)),yM.push((t+1)*(t+2)/2%64);let i=pJ;for(let s=0;s<7;s++)e=(e<<pm^(e>>yJ)*bJ)%gJ,e&mJ&&(i^=pm<<(pm<<BigInt(s))-pm);gM.push(i)}const bM=eJ(gM,!0),wJ=bM[0],vJ=bM[1],oR=(t,e,n)=>n>32?rJ(t,e,n):tJ(t,e,n),cR=(t,e,n)=>n>32?iJ(t,e,n):nJ(t,e,n);function _J(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let a=0;a<10;a++)n[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(let a=0;a<10;a+=2){const c=(a+8)%10,u=(a+2)%10,d=n[u],h=n[u+1],p=oR(d,h,1)^n[c],y=cR(d,h,1)^n[c+1];for(let g=0;g<50;g+=10)t[a+g]^=p,t[a+g+1]^=y}let i=t[2],s=t[3];for(let a=0;a<24;a++){const c=yM[a],u=oR(i,s,c),d=cR(i,s,c),h=mM[a];i=t[h],s=t[h+1],t[h]=u,t[h+1]=d}for(let a=0;a<50;a+=10){for(let c=0;c<10;c++)n[c]=t[a+c];for(let c=0;c<10;c++)t[a+c]^=~n[(c+2)%10]&n[(c+4)%10]}t[0]^=wJ[r],t[1]^=vJ[r]}$h(n)}let EJ=class wM extends ET{constructor(e,n,r,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,wy(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=oJ(this.state)}clone(){return this._cloneInto()}keccak(){aR(this.state32),_J(this.state32,this.rounds),aR(this.state32),this.posOut=0,this.pos=0}update(e){Nh(this),e=o1(e),gd(e);const{blockLen:n,state:r}=this,i=e.length;for(let s=0;s<i;){const a=Math.min(n-this.pos,i-s);for(let c=0;c<a;c++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,(n&128)!==0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Nh(this,!1),gd(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const a=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+a),i),this.posOut+=a,i+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return wy(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(hM(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,$h(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:a}=this;return e||(e=new wM(n,r,i,a,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=a,e.destroyed=this.destroyed,e}};const SJ=(t,e,n)=>pM(()=>new EJ(e,t,n)),vM=SJ(1,136,256/8);function zr(t,e){const n=e||"hex",r=vM(Si(t,{strict:!1})?Tc(t):t);return n==="bytes"?r:Et(r)}const AJ=t=>zr(Tc(t));function xJ(t){return AJ(t)}function TJ(t){let e=!0,n="",r=0,i="",s=!1;for(let a=0;a<t.length;a++){const c=t[a];if(["(",")",","].includes(c)&&(e=!0),c==="("&&r++,c===")"&&r--,!!e){if(r===0){if(c===" "&&["event","function",""].includes(i))i="";else if(i+=c,c===")"){s=!0;break}continue}if(c===" "){t[a-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}i+=c,n+=c}}if(!s)throw new _e("Unable to normalize signature.");return i}const IJ=t=>{const e=typeof t=="string"?t:zw(t);return TJ(e)};function _M(t){return xJ(IJ(t))}const c1=_M;let br=class extends _e{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}},sp=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const j2=new sp(8192);function wg(t,e){if(j2.has(`${t}.${e}`))return j2.get(`${t}.${e}`);const n=t.substring(2).toLowerCase(),r=zr(ld(n),"bytes"),i=n.split("");for(let a=0;a<40;a+=2)r[a>>1]>>4>=8&&i[a]&&(i[a]=i[a].toUpperCase()),(r[a>>1]&15)>=8&&i[a+1]&&(i[a+1]=i[a+1].toUpperCase());const s=`0x${i.join("")}`;return j2.set(`${t}.${e}`,s),s}function ri(t,e){if(!Cn(t,{strict:!1}))throw new br({address:t});return wg(t,e)}const CJ=/^0x[a-fA-F0-9]{40}$/,z2=new sp(8192);function Cn(t,e){const{strict:n=!0}=e??{},r=`${t}.${n}`;if(z2.has(r))return z2.get(r);const i=CJ.test(t)?t.toLowerCase()===t?!0:n?wg(t)===t:!0:!1;return z2.set(r,i),i}function sa(t){return typeof t[0]=="string"?la(t):OJ(t)}function OJ(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}function la(t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}function bd(t,e,n,{strict:r}={}){return Si(t,{strict:!1})?$x(t,e,n,{strict:r}):AM(t,e,n,{strict:r})}function EM(t,e){if(typeof e=="number"&&e>0&&e>Wn(t)-1)throw new lM({offset:e,position:"start",size:Wn(t)})}function SM(t,e,n){if(typeof e=="number"&&typeof n=="number"&&Wn(t)!==n-e)throw new lM({offset:n,position:"end",size:Wn(t)})}function AM(t,e,n,{strict:r}={}){EM(t,e);const i=t.slice(e,n);return r&&SM(i,e,n),i}function $x(t,e,n,{strict:r}={}){EM(t,e);const i=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return r&&SM(i,e,n),i}const gUe=/^(.*)\[([0-9]*)\]$/,kJ=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,xM=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function du(t,e){if(t.length!==e.length)throw new NX({expectedLength:t.length,givenLength:e.length});const n=RJ({params:t,values:e}),r=AT(n);return r.length===0?"0x":r}function RJ({params:t,values:e}){const n=[];for(let r=0;r<t.length;r++)n.push(ST({param:t[r],value:e[r]}));return n}function ST({param:t,value:e}){const n=xT(t.type);if(n){const[r,i]=n;return $J(e,{length:r,param:{...t,type:i}})}if(t.type==="tuple")return BJ(e,{param:t});if(t.type==="address")return NJ(e);if(t.type==="bool")return DJ(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const r=t.type.startsWith("int"),[,,i="256"]=xM.exec(t.type)??[];return UJ(e,{signed:r,size:Number(i)})}if(t.type.startsWith("bytes"))return PJ(e,{param:t});if(t.type==="string")return MJ(e);throw new LX(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function AT(t){let e=0;for(let s=0;s<t.length;s++){const{dynamic:a,encoded:c}=t[s];a?e+=32:e+=Wn(c)}const n=[],r=[];let i=0;for(let s=0;s<t.length;s++){const{dynamic:a,encoded:c}=t[s];a?(n.push(Ne(e+i,{size:32})),r.push(c),i+=Wn(c)):n.push(c)}return sa([...n,...r])}function NJ(t){if(!Cn(t))throw new br({address:t});return{dynamic:!1,encoded:nu(t.toLowerCase())}}function $J(t,{length:e,param:n}){const r=e===null;if(!Array.isArray(t))throw new cM(t);if(!r&&t.length!==e)throw new kX({expectedLength:e,givenLength:t.length,type:`${n.type}[${e}]`});let i=!1;const s=[];for(let a=0;a<t.length;a++){const c=ST({param:n,value:t[a]});c.dynamic&&(i=!0),s.push(c)}if(r||i){const a=AT(s);if(r){const c=Ne(s.length,{size:32});return{dynamic:!0,encoded:s.length>0?sa([c,a]):c}}if(i)return{dynamic:!0,encoded:a}}return{dynamic:!1,encoded:sa(s.map(({encoded:a})=>a))}}function PJ(t,{param:e}){const[,n]=e.type.split("bytes"),r=Wn(t);if(!n){let i=t;return r%32!==0&&(i=nu(i,{dir:"right",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:sa([nu(Ne(r,{size:32})),i])}}if(r!==Number.parseInt(n,10))throw new RX({expectedSize:Number.parseInt(n,10),value:t});return{dynamic:!1,encoded:nu(t,{dir:"right"})}}function DJ(t){if(typeof t!="boolean")throw new _e(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:nu(fM(t))}}function UJ(t,{signed:e,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,i=e?-r-1n:0n;if(t>r||t<i)throw new dM({max:r.toString(),min:i.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:Ne(t,{size:32,signed:e})}}function MJ(t){const e=Rh(t),n=Math.ceil(Wn(e)/32),r=[];for(let i=0;i<n;i++)r.push(nu(bd(e,i*32,(i+1)*32),{dir:"right"}));return{dynamic:!0,encoded:sa([nu(Ne(Wn(e),{size:32})),...r])}}function BJ(t,{param:e}){let n=!1;const r=[];for(let i=0;i<e.components.length;i++){const s=e.components[i],a=Array.isArray(t)?i:s.name,c=ST({param:s,value:t[a]});r.push(c),c.dynamic&&(n=!0)}return{dynamic:n,encoded:n?AT(r):sa(r.map(({encoded:i})=>i))}}function xT(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}const vg=t=>bd(_M(t),0,4);function Bd(t){const{abi:e,args:n=[],name:r}=t,i=Si(r,{strict:!1}),s=e.filter(c=>i?c.type==="function"?vg(c)===r:c.type==="event"?c1(c)===r:!1:"name"in c&&c.name===r);if(s.length===0)return;if(s.length===1)return s[0];let a;for(const c of s){if(!("inputs"in c))continue;if(!n||n.length===0){if(!c.inputs||c.inputs.length===0)return c;continue}if(!c.inputs||c.inputs.length===0||c.inputs.length!==n.length)continue;if(n.every((d,h)=>{const p="inputs"in c&&c.inputs[h];return p?Px(d,p):!1})){if(a&&"inputs"in a&&a.inputs){const d=TM(c.inputs,a.inputs,n);if(d)throw new MX({abiItem:c,type:d[0]},{abiItem:a,type:d[1]})}a=c}}return a||s[0]}function Px(t,e){const n=typeof t,r=e.type;switch(r){case"address":return Cn(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((i,s)=>Px(Object.values(t)[s],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(i=>Px(i,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function TM(t,e,n){for(const r in t){const i=t[r],s=e[r];if(i.type==="tuple"&&s.type==="tuple"&&"components"in i&&"components"in s)return TM(i.components,s.components,n[r]);const a=[i.type,s.type];if(a.includes("address")&&a.includes("bytes20")?!0:a.includes("address")&&a.includes("string")?Cn(n[r],{strict:!1}):a.includes("address")&&a.includes("bytes")?Cn(n[r],{strict:!1}):!1)return a}}const lR="/docs/contract/encodeEventTopics";function _g(t){const{abi:e,eventName:n,args:r}=t;let i=e[0];if(n){const u=Bd({abi:e,name:n});if(!u)throw new nR(n,{docsPath:lR});i=u}if(i.type!=="event")throw new nR(void 0,{docsPath:lR});const s=Ua(i),a=c1(s);let c=[];if(r&&"inputs"in i){const u=i.inputs?.filter(h=>"indexed"in h&&h.indexed),d=Array.isArray(r)?r:Object.values(r).length>0?u?.map(h=>r[h.name])??[]:[];d.length>0&&(c=u?.map((h,p)=>Array.isArray(d[p])?d[p].map((y,g)=>uR({param:h,value:d[p][g]})):typeof d[p]<"u"&&d[p]!==null?uR({param:h,value:d[p]}):null)??[])}return[a,...c]}function uR({param:t,value:e}){if(t.type==="string"||t.type==="bytes")return zr(Tc(e));if(t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/))throw new FX(t.type);return du([t],[e])}function l1(t,{method:e}){const n={};return t.transport.type==="fallback"&&t.transport.onResponse?.(({method:r,response:i,status:s,transport:a})=>{s==="success"&&e===r&&(n[i]=a.request)}),(r=>n[r]||t.request)}async function IM(t,e){const{address:n,abi:r,args:i,eventName:s,fromBlock:a,strict:c,toBlock:u}=e,d=l1(t,{method:"eth_newFilter"}),h=s?_g({abi:r,args:i,eventName:s}):void 0,p=await t.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof a=="bigint"?Ne(a):a,toBlock:typeof u=="bigint"?Ne(u):u,topics:h}]});return{abi:r,args:i,eventName:s,id:p,request:d(p),strict:!!c,type:"event"}}function On(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}const dR="/docs/contract/encodeFunctionData";function LJ(t){const{abi:e,args:n,functionName:r}=t;let i=e[0];if(r){const s=Bd({abi:e,args:n,name:r});if(!s)throw new kh(r,{docsPath:dR});i=s}if(i.type!=="function")throw new kh(void 0,{docsPath:dR});return{abi:[i],functionName:vg(Ua(i))}}function Oi(t){const{args:e}=t,{abi:n,functionName:r}=t.abi.length===1&&t.functionName?.startsWith("0x")?t:LJ(t),i=n[0],s=r,a="inputs"in i&&i.inputs?du(i.inputs,e??[]):void 0;return la([s,a??"0x"])}const jJ={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},CM={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},zJ={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};let fR=class extends _e{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}},OM=class extends _e{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}},FJ=class extends _e{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}};const qJ={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new FJ({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new OM({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new fR({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new fR({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function TT(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(qJ);return n.bytes=t,n.dataView=new DataView(t.buffer??t,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}function WJ(t,e={}){typeof e.size<"u"&&ca(t,{size:e.size});const n=wr(t,e);return an(n,e)}function HJ(t,e={}){let n=t;if(typeof e.size<"u"&&(ca(n,{size:e.size}),n=Ts(n)),n.length>1||n[0]>1)throw new WX(n);return!!n[0]}function Ic(t,e={}){typeof e.size<"u"&&ca(t,{size:e.size});const n=wr(t,e);return Is(n,e)}function VJ(t,e={}){let n=t;return typeof e.size<"u"&&(ca(n,{size:e.size}),n=Ts(n,{dir:"right"})),new TextDecoder().decode(n)}function Eg(t,e){const n=typeof e=="string"?Ai(e):e,r=TT(n);if(Wn(n)===0&&t.length>0)throw new bg;if(Wn(e)&&Wn(e)<32)throw new sM({data:typeof e=="string"?e:wr(e),params:t,size:Wn(e)});let i=0;const s=[];for(let a=0;a<t.length;++a){const c=t[a];r.setPosition(i);const[u,d]=bh(r,c,{staticPosition:0});i+=d,s.push(u)}return s}function bh(t,e,{staticPosition:n}){const r=xT(e.type);if(r){const[i,s]=r;return KJ(t,{...e,type:s},{length:i,staticPosition:n})}if(e.type==="tuple")return JJ(t,e,{staticPosition:n});if(e.type==="address")return GJ(t);if(e.type==="bool")return YJ(t);if(e.type.startsWith("bytes"))return ZJ(t,e,{staticPosition:n});if(e.type.startsWith("uint")||e.type.startsWith("int"))return XJ(t,e);if(e.type==="string")return QJ(t,{staticPosition:n});throw new jX(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const hR=32,Dx=32;function GJ(t){const e=t.readBytes(32);return[wg(wr(AM(e,-20))),32]}function KJ(t,e,{length:n,staticPosition:r}){if(!n){const a=Ic(t.readBytes(Dx)),c=r+a,u=c+hR;t.setPosition(c);const d=Ic(t.readBytes(hR)),h=vy(e);let p=0;const y=[];for(let g=0;g<d;++g){t.setPosition(u+(h?g*32:p));const[b,v]=bh(t,e,{staticPosition:u});p+=v,y.push(b)}return t.setPosition(r+32),[y,32]}if(vy(e)){const a=Ic(t.readBytes(Dx)),c=r+a,u=[];for(let d=0;d<n;++d){t.setPosition(c+d*32);const[h]=bh(t,e,{staticPosition:c});u.push(h)}return t.setPosition(r+32),[u,32]}let i=0;const s=[];for(let a=0;a<n;++a){const[c,u]=bh(t,e,{staticPosition:r+i});i+=u,s.push(c)}return[s,i]}function YJ(t){return[HJ(t.readBytes(32),{size:32}),32]}function ZJ(t,e,{staticPosition:n}){const[r,i]=e.type.split("bytes");if(!i){const a=Ic(t.readBytes(32));t.setPosition(n+a);const c=Ic(t.readBytes(32));if(c===0)return t.setPosition(n+32),["0x",32];const u=t.readBytes(c);return t.setPosition(n+32),[wr(u),32]}return[wr(t.readBytes(Number.parseInt(i,10),32)),32]}function XJ(t,e){const n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256",10),i=t.readBytes(32);return[r>48?WJ(i,{signed:n}):Ic(i,{signed:n}),32]}function JJ(t,e,{staticPosition:n}){const r=e.components.length===0||e.components.some(({name:a})=>!a),i=r?[]:{};let s=0;if(vy(e)){const a=Ic(t.readBytes(Dx)),c=n+a;for(let u=0;u<e.components.length;++u){const d=e.components[u];t.setPosition(c+s);const[h,p]=bh(t,d,{staticPosition:c});s+=p,i[r?u:d?.name]=h}return t.setPosition(n+32),[i,32]}for(let a=0;a<e.components.length;++a){const c=e.components[a],[u,d]=bh(t,c,{staticPosition:n});i[r?a:c?.name]=u,s+=d}return[i,s]}function QJ(t,{staticPosition:e}){const n=Ic(t.readBytes(32)),r=e+n;t.setPosition(r);const i=Ic(t.readBytes(32));if(i===0)return t.setPosition(e+32),["",32];const s=t.readBytes(i,32),a=VJ(Ts(s));return t.setPosition(e+32),[a,32]}function vy(t){const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return t.components?.some(vy);const n=xT(t.type);return!!(n&&vy({...t,type:n[1]}))}function eQ(t){const{abi:e,data:n}=t,r=bd(n,0,4);if(r==="0x")throw new bg;const s=[...e||[],CM,zJ].find(a=>a.type==="error"&&r===vg(Ua(a)));if(!s)throw new aM(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:s,args:"inputs"in s&&s.inputs&&s.inputs.length>0?Eg(s.inputs,bd(n,4)):void 0,errorName:s.name}}const Cr=(t,e,n)=>JSON.stringify(t,(r,i)=>typeof i=="bigint"?i.toString():i,n);function kM({abiItem:t,args:e,includeFunctionName:n=!0,includeName:r=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${n?t.name:""}(${t.inputs.map((i,s)=>`${r&&i.name?`${i.name}: `:""}${typeof e[s]=="object"?Cr(e[s]):e[s]}`).join(", ")})`}const tQ={gwei:9,wei:18},nQ={ether:-9,wei:9};function RM(t,e){let n=t.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(e,"0");let[i,s]=[n.slice(0,n.length-e),n.slice(n.length-e)];return s=s.replace(/(0+)$/,""),`${r?"-":""}${i||"0"}${s?`.${s}`:""}`}function IT(t,e="wei"){return RM(t,tQ[e])}function Ji(t,e="wei"){return RM(t,nQ[e])}class rQ extends _e{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class iQ extends _e{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function pR(t){return t.reduce((e,{slot:n,value:r})=>`${e}        ${n}: ${r}
`,"")}function sQ(t){return t.reduce((e,{address:n,...r})=>{let i=`${e}    ${n}:
`;return r.nonce&&(i+=`      nonce: ${r.nonce}
`),r.balance&&(i+=`      balance: ${r.balance}
`),r.code&&(i+=`      code: ${r.code}
`),r.state&&(i+=`      state:
`,i+=pR(r.state)),r.stateDiff&&(i+=`      stateDiff:
`,i+=pR(r.stateDiff)),i},`  State Override:
`).slice(0,-1)}function Sg(t){const e=Object.entries(t).map(([r,i])=>i===void 0||i===!1?null:[r,i]).filter(Boolean),n=e.reduce((r,[i])=>Math.max(r,i.length),0);return e.map(([r,i])=>`  ${`${r}:`.padEnd(n+1)}  ${i}`).join(`
`)}class aQ extends _e{constructor({v:e}){super(`Invalid \`v\` value "${e}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class oQ extends _e{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Sg(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class cQ extends _e{constructor({storageKey:e}){super(`Size for storage key "${e}" is invalid. Expected 32 bytes. Got ${Math.floor((e.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}class lQ extends _e{constructor(e,{account:n,docsPath:r,chain:i,data:s,gas:a,gasPrice:c,maxFeePerGas:u,maxPriorityFeePerGas:d,nonce:h,to:p,value:y}){const g=Sg({chain:i&&`${i?.name} (id: ${i?.id})`,from:n?.address,to:p,value:typeof y<"u"&&`${IT(y)} ${i?.nativeCurrency?.symbol||"ETH"}`,data:s,gas:a,gasPrice:typeof c<"u"&&`${Ji(c)} gwei`,maxFeePerGas:typeof u<"u"&&`${Ji(u)} gwei`,maxPriorityFeePerGas:typeof d<"u"&&`${Ji(d)} gwei`,nonce:h});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",g].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class NM extends _e{constructor({blockHash:e,blockNumber:n,blockTag:r,hash:i,index:s}){let a="Transaction";r&&s!==void 0&&(a=`Transaction at block time "${r}" at index "${s}"`),e&&s!==void 0&&(a=`Transaction at block hash "${e}" at index "${s}"`),n&&s!==void 0&&(a=`Transaction at block number "${n}" at index "${s}"`),i&&(a=`Transaction with hash "${i}"`),super(`${a} could not be found.`,{name:"TransactionNotFoundError"})}}class $M extends _e{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class PM extends _e{constructor({receipt:e}){super(`Transaction with hash "${e.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=e}}class uQ extends _e{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const dQ=t=>t,CT=t=>t;class DM extends _e{constructor(e,{account:n,docsPath:r,chain:i,data:s,gas:a,gasPrice:c,maxFeePerGas:u,maxPriorityFeePerGas:d,nonce:h,to:p,value:y,stateOverride:g}){const b=n?On(n):void 0;let v=Sg({from:b?.address,to:p,value:typeof y<"u"&&`${IT(y)} ${i?.nativeCurrency?.symbol||"ETH"}`,data:s,gas:a,gasPrice:typeof c<"u"&&`${Ji(c)} gwei`,maxFeePerGas:typeof u<"u"&&`${Ji(u)} gwei`,maxPriorityFeePerGas:typeof d<"u"&&`${Ji(d)} gwei`,nonce:h});g&&(v+=`
${sQ(g)}`),super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",v].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class UM extends _e{constructor(e,{abi:n,args:r,contractAddress:i,docsPath:s,functionName:a,sender:c}){const u=Bd({abi:n,args:r,name:a}),d=u?kM({abiItem:u,args:r,includeFunctionName:!1,includeName:!1}):void 0,h=u?Ua(u,{includeName:!0}):void 0,p=Sg({address:i&&dQ(i),function:h,args:d&&d!=="()"&&`${[...Array(a?.length??0).keys()].map(()=>" ").join("")}${d}`,sender:c});super(e.shortMessage||`An unknown error occurred while executing the contract function "${a}".`,{cause:e,docsPath:s,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],p&&"Contract Call:",p].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=e,this.contractAddress=i,this.functionName=a,this.sender=c}}class Ux extends _e{constructor({abi:e,data:n,functionName:r,message:i}){let s,a,c,u;if(n&&n!=="0x")try{a=eQ({abi:e,data:n});const{abiItem:h,errorName:p,args:y}=a;if(p==="Error")u=y[0];else if(p==="Panic"){const[g]=y;u=jJ[g]}else{const g=h?Ua(h,{includeName:!0}):void 0,b=h&&y?kM({abiItem:h,args:y,includeFunctionName:!1,includeName:!1}):void 0;c=[g?`Error: ${g}`:"",b&&b!=="()"?`       ${[...Array(p?.length??0).keys()].map(()=>" ").join("")}${b}`:""]}}catch(h){s=h}else i&&(u=i);let d;s instanceof aM&&(d=s.signature,c=[`Unable to decode signature "${d}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${d}.`]),super(u&&u!=="execution reverted"||d?[`The contract function "${r}" reverted with the following ${d?"signature":"reason"}:`,u||d].join(`
`):`The contract function "${r}" reverted.`,{cause:s,metaMessages:c,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=a,this.raw=n,this.reason=u,this.signature=d}}class fQ extends _e{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class hQ extends _e{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class u1 extends _e{constructor({data:e,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}class iy extends _e{constructor({body:e,cause:n,details:r,headers:i,status:s,url:a}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[s&&`Status: ${s}`,`URL: ${CT(a)}`,e&&`Request body: ${Cr(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=i,this.status=s,this.url=a}}class OT extends _e{constructor({body:e,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${CT(r)}`,`Request body: ${Cr(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data,this.url=r}}class mR extends _e{constructor({body:e,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${CT(n)}`,`Request body: ${Cr(e)}`],name:"TimeoutError"}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.url=n}}const pQ=-1;class rs extends _e{constructor(e,{code:n,docsPath:r,metaMessages:i,name:s,shortMessage:a}){super(a,{cause:e,docsPath:r,metaMessages:i||e?.metaMessages,name:s||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=s||e.name,this.code=e instanceof OT?e.code:n??pQ}}class Os extends rs{constructor(e,n){super(e,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class _y extends rs{constructor(e){super(e,{code:_y.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(_y,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Ey extends rs{constructor(e){super(e,{code:Ey.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(Ey,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Sy extends rs{constructor(e,{method:n}={}){super(e,{code:Sy.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(Sy,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Ay extends rs{constructor(e){super(e,{code:Ay.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Ay,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class wd extends rs{constructor(e){super(e,{code:wd.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(wd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class su extends rs{constructor(e){super(e,{code:su.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(su,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class xy extends rs{constructor(e){super(e,{code:xy.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(xy,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Ty extends rs{constructor(e){super(e,{code:Ty.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Ty,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Iy extends rs{constructor(e){super(e,{code:Iy.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Iy,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class ed extends rs{constructor(e,{method:n}={}){super(e,{code:ed.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(ed,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Ph extends rs{constructor(e){super(e,{code:Ph.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(Ph,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Cy extends rs{constructor(e){super(e,{code:Cy.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(Cy,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class wh extends Os{constructor(e){super(e,{code:wh.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(wh,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class Oy extends Os{constructor(e){super(e,{code:Oy.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(Oy,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class ky extends Os{constructor(e,{method:n}={}){super(e,{code:ky.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(ky,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Ry extends Os{constructor(e){super(e,{code:Ry.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(Ry,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Ny extends Os{constructor(e){super(e,{code:Ny.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(Ny,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class $y extends Os{constructor(e){super(e,{code:$y.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty($y,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Dh extends Os{constructor(e){super(e,{code:Dh.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Dh,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class Py extends Os{constructor(e){super(e,{code:Py.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(Py,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class Dy extends Os{constructor(e){super(e,{code:Dy.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(Dy,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class Uy extends Os{constructor(e){super(e,{code:Uy.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(Uy,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class My extends Os{constructor(e){super(e,{code:My.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(My,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class By extends Os{constructor(e){super(e,{code:By.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(By,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class Uh extends Os{constructor(e){super(e,{code:Uh.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(Uh,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class mQ extends rs{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const yQ=3;function vd(t,{abi:e,address:n,args:r,docsPath:i,functionName:s,sender:a}){const c=t instanceof u1?t:t instanceof _e?t.walk(b=>"data"in b)||t.walk():{},{code:u,data:d,details:h,message:p,shortMessage:y}=c,g=t instanceof bg?new fQ({functionName:s}):[yQ,wd.code].includes(u)&&(d||h||p||y)||u===su.code&&h==="execution reverted"&&d?new Ux({abi:e,data:typeof d=="object"?d.data:d,functionName:s,message:c instanceof OT?h:y??p}):t;return new UM(g,{abi:e,args:r,contractAddress:n,docsPath:i,functionName:s,sender:a})}function MM(t){const e=zr(`0x${t.substring(4)}`).substring(26);return wg(`0x${e}`)}async function gQ({hash:t,signature:e}){const n=Si(t)?t:Et(t),{secp256k1:r}=await ze(async()=>{const{secp256k1:a}=await Promise.resolve().then(()=>Yne);return{secp256k1:a}},void 0);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:d,s:h,v:p,yParity:y}=e,g=Number(y??p),b=yR(g);return new r.Signature(an(d),an(h)).addRecoveryBit(b)}const a=Si(e)?e:Et(e);if(Wn(a)!==65)throw new Error("invalid signature length");const c=Is(`0x${a.slice(130)}`),u=yR(c);return r.Signature.fromCompact(a.substring(2,130)).addRecoveryBit(u)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function yR(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function BM({hash:t,signature:e}){return MM(await gQ({hash:t,signature:e}))}function Pc(t,e="hex"){const n=LM(t),r=TT(new Uint8Array(n.length));return n.encode(r),e==="hex"?wr(r.bytes):r.bytes}function LM(t){return Array.isArray(t)?bQ(t.map(e=>LM(e))):wQ(t)}function bQ(t){const e=t.reduce((i,s)=>i+s.length,0),n=jM(e);return{length:e<=55?1+e:1+n+e,encode(i){e<=55?i.pushByte(192+e):(i.pushByte(247+n),n===1?i.pushUint8(e):n===2?i.pushUint16(e):n===3?i.pushUint24(e):i.pushUint32(e));for(const{encode:s}of t)s(i)}}}function wQ(t){const e=typeof t=="string"?Ai(t):t,n=jM(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+n+e.length,encode(i){e.length===1&&e[0]<128?i.pushBytes(e):e.length<=55?(i.pushByte(128+e.length),i.pushBytes(e)):(i.pushByte(183+n),n===1?i.pushUint8(e.length):n===2?i.pushUint16(e.length):n===3?i.pushUint24(e.length):i.pushUint32(e.length),i.pushBytes(e))}}}function jM(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new _e("Length is too large.")}function zM(t){const{chainId:e,nonce:n,to:r}=t,i=t.contractAddress??t.address,s=zr(la(["0x05",Pc([e?Ne(e):"0x",i,n?Ne(n):"0x"])]));return r==="bytes"?Ai(s):s}async function d1(t){const{authorization:e,signature:n}=t;return BM({hash:zM(e),signature:n??e})}class vQ extends _e{constructor(e,{account:n,docsPath:r,chain:i,data:s,gas:a,gasPrice:c,maxFeePerGas:u,maxPriorityFeePerGas:d,nonce:h,to:p,value:y}){const g=Sg({from:n?.address,to:p,value:typeof y<"u"&&`${IT(y)} ${i?.nativeCurrency?.symbol||"ETH"}`,data:s,gas:a,gasPrice:typeof c<"u"&&`${Ji(c)} gwei`,maxFeePerGas:typeof u<"u"&&`${Ji(u)} gwei`,maxPriorityFeePerGas:typeof d<"u"&&`${Ji(d)} gwei`,nonce:h});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",g].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class oh extends _e{constructor({cause:e,message:n}={}){const r=n?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(oh,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(oh,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted|gas required exceeds allowance/});class _d extends _e{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Ji(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(_d,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class Mx extends _e{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Ji(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(Mx,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class Bx extends _e{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(Bx,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class Lx extends _e{constructor({cause:e,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(Lx,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class jx extends _e{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(jx,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class zx extends _e{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(zx,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class Fx extends _e{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(Fx,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class qx extends _e{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(qx,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class Wx extends _e{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(Wx,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class Ly extends _e{constructor({cause:e,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${Ji(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${Ji(r)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(Ly,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class Ag extends _e{constructor({cause:e}){super(`An error occurred while executing: ${e?.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function f1(t,e){const n=(t.details||"").toLowerCase(),r=t instanceof _e?t.walk(i=>i?.code===oh.code):t;return r instanceof _e?new oh({cause:t,message:r.details}):oh.nodeMessage.test(n)?new oh({cause:t,message:t.details}):_d.nodeMessage.test(n)?new _d({cause:t,maxFeePerGas:e?.maxFeePerGas}):Mx.nodeMessage.test(n)?new Mx({cause:t,maxFeePerGas:e?.maxFeePerGas}):Bx.nodeMessage.test(n)?new Bx({cause:t,nonce:e?.nonce}):Lx.nodeMessage.test(n)?new Lx({cause:t,nonce:e?.nonce}):jx.nodeMessage.test(n)?new jx({cause:t,nonce:e?.nonce}):zx.nodeMessage.test(n)?new zx({cause:t}):Fx.nodeMessage.test(n)?new Fx({cause:t,gas:e?.gas}):qx.nodeMessage.test(n)?new qx({cause:t,gas:e?.gas}):Wx.nodeMessage.test(n)?new Wx({cause:t}):Ly.nodeMessage.test(n)?new Ly({cause:t,maxFeePerGas:e?.maxFeePerGas,maxPriorityFeePerGas:e?.maxPriorityFeePerGas}):new Ag({cause:t})}function _Q(t,{docsPath:e,...n}){const r=(()=>{const i=f1(t,n);return i instanceof Ag?t:i})();return new vQ(r,{docsPath:e,...n})}function ap(t,{format:e}){if(!e)return{};const n={};function r(s){const a=Object.keys(s);for(const c of a)c in t&&(n[c]=t[c]),s[c]&&typeof s[c]=="object"&&!Array.isArray(s[c])&&r(s[c])}const i=e(t||{});return r(i),n}function h1(t,e){return({exclude:n,format:r})=>({exclude:n,format:(i,s)=>{const a=e(i,s);if(n)for(const c of n)delete a[c];return{...a,...r(i,s)}},type:t})}const EQ={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function Wc(t,e){const n={};return typeof t.authorizationList<"u"&&(n.authorizationList=AQ(t.authorizationList)),typeof t.accessList<"u"&&(n.accessList=t.accessList),typeof t.blobVersionedHashes<"u"&&(n.blobVersionedHashes=t.blobVersionedHashes),typeof t.blobs<"u"&&(typeof t.blobs[0]!="string"?n.blobs=t.blobs.map(r=>wr(r)):n.blobs=t.blobs),typeof t.data<"u"&&(n.data=t.data),t.account&&(n.from=t.account.address),typeof t.from<"u"&&(n.from=t.from),typeof t.gas<"u"&&(n.gas=Ne(t.gas)),typeof t.gasPrice<"u"&&(n.gasPrice=Ne(t.gasPrice)),typeof t.maxFeePerBlobGas<"u"&&(n.maxFeePerBlobGas=Ne(t.maxFeePerBlobGas)),typeof t.maxFeePerGas<"u"&&(n.maxFeePerGas=Ne(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(n.maxPriorityFeePerGas=Ne(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(n.nonce=Ne(t.nonce)),typeof t.to<"u"&&(n.to=t.to),typeof t.type<"u"&&(n.type=EQ[t.type]),typeof t.value<"u"&&(n.value=Ne(t.value)),n}const SQ=h1("transactionRequest",Wc);function AQ(t){return t.map(e=>({address:e.address,r:e.r?Ne(BigInt(e.r)):e.r,s:e.s?Ne(BigInt(e.s)):e.s,chainId:Ne(e.chainId),nonce:Ne(e.nonce),...typeof e.yParity<"u"?{yParity:Ne(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:Ne(e.v)}:{}}))}function gR(t){if(!(!t||t.length===0))return t.reduce((e,{slot:n,value:r})=>{if(n.length!==66)throw new rR({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new rR({size:r.length,targetSize:66,type:"hex"});return e[n]=r,e},{})}function xQ(t){const{balance:e,nonce:n,state:r,stateDiff:i,code:s}=t,a={};if(s!==void 0&&(a.code=s),e!==void 0&&(a.balance=Ne(e)),n!==void 0&&(a.nonce=Ne(n)),r!==void 0&&(a.state=gR(r)),i!==void 0){if(a.state)throw new iQ;a.stateDiff=gR(i)}return a}function kT(t){if(!t)return;const e={};for(const{address:n,...r}of t){if(!Cn(n,{strict:!1}))throw new br({address:n});if(e[n])throw new rQ({address:n});e[n]=xQ(r)}return e}const TQ=2n**16n-1n,p1=2n**256n-1n;function Io(t){const{account:e,maxFeePerGas:n,maxPriorityFeePerGas:r,to:i}=t,s=e?On(e):void 0;if(s&&!Cn(s.address))throw new br({address:s.address});if(i&&!Cn(i))throw new br({address:i});if(n&&n>p1)throw new _d({maxFeePerGas:n});if(r&&n&&r>n)throw new Ly({maxFeePerGas:n,maxPriorityFeePerGas:r})}class FM extends _e{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class RT extends _e{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class IQ extends _e{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${Ji(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class qM extends _e{constructor({blockHash:e,blockNumber:n}){let r="Block";e&&(r=`Block at hash "${e}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const WM={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function xg(t,e){const n={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?Is(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?Is(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?WM[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(n.authorizationList=CQ(t.authorizationList)),n.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof n.v=="bigint"){if(n.v===0n||n.v===27n)return 0;if(n.v===1n||n.v===28n)return 1;if(n.v>=35n)return n.v%2n===0n?1:0}})(),n.type==="legacy"&&(delete n.accessList,delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.yParity),n.type==="eip2930"&&(delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas),n.type==="eip1559"&&delete n.maxFeePerBlobGas,n}const HM=h1("transaction",xg);function CQ(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function NT(t,e){const n=(t.transactions??[]).map(r=>typeof r=="string"?r:xg(r));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:n,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}const VM=h1("block",NT);async function Oa(t,{blockHash:e,blockNumber:n,blockTag:r=t.experimental_blockTag??"latest",includeTransactions:i}={}){const s=i??!1,a=n!==void 0?Ne(n):void 0;let c=null;if(e?c=await t.request({method:"eth_getBlockByHash",params:[e,s]},{dedupe:!0}):c=await t.request({method:"eth_getBlockByNumber",params:[a||r,s]},{dedupe:!!a}),!c)throw new qM({blockHash:e,blockNumber:n});return(t.chain?.formatters?.block?.format||NT)(c,"getBlock")}async function $T(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function OQ(t,e){return GM(t,e)}async function GM(t,e){const{block:n,chain:r=t.chain,request:i}=e||{};try{const s=r?.fees?.maxPriorityFeePerGas??r?.fees?.defaultPriorityFee;if(typeof s=="function"){const c=n||await qe(t,Oa,"getBlock")({}),u=await s({block:c,client:t,request:i});if(u===null)throw new Error;return u}if(typeof s<"u")return s;const a=await t.request({method:"eth_maxPriorityFeePerGas"});return an(a)}catch{const[s,a]=await Promise.all([n?Promise.resolve(n):qe(t,Oa,"getBlock")({}),qe(t,$T,"getGasPrice")({})]);if(typeof s.baseFeePerGas!="bigint")throw new RT;const c=a-s.baseFeePerGas;return c<0n?0n:c}}async function kQ(t,e){return Hx(t,e)}async function Hx(t,e){const{block:n,chain:r=t.chain,request:i,type:s="eip1559"}=e||{},a=await(async()=>typeof r?.fees?.baseFeeMultiplier=="function"?r.fees.baseFeeMultiplier({block:n,client:t,request:i}):r?.fees?.baseFeeMultiplier??1.2)();if(a<1)throw new FM;const u=10**(a.toString().split(".")[1]?.length??0),d=y=>y*BigInt(Math.ceil(a*u))/BigInt(u),h=n||await qe(t,Oa,"getBlock")({});if(typeof r?.fees?.estimateFeesPerGas=="function"){const y=await r.fees.estimateFeesPerGas({block:n,client:t,multiply:d,request:i,type:s});if(y!==null)return y}if(s==="eip1559"){if(typeof h.baseFeePerGas!="bigint")throw new RT;const y=typeof i?.maxPriorityFeePerGas=="bigint"?i.maxPriorityFeePerGas:await GM(t,{block:h,chain:r,request:i}),g=d(h.baseFeePerGas);return{maxFeePerGas:i?.maxFeePerGas??g+y,maxPriorityFeePerGas:y}}return{gasPrice:i?.gasPrice??d(await qe(t,$T,"getGasPrice")({}))}}async function PT(t,{address:e,blockTag:n="latest",blockNumber:r}){const i=await t.request({method:"eth_getTransactionCount",params:[e,typeof r=="bigint"?Ne(r):n]},{dedupe:!!r});return Is(i)}function DT(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(s=>Ai(s)):t.blobs,i=[];for(const s of r)i.push(Uint8Array.from(e.blobToKzgCommitment(s)));return n==="bytes"?i:i.map(s=>wr(s))}function UT(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(a=>Ai(a)):t.blobs,i=typeof t.commitments[0]=="string"?t.commitments.map(a=>Ai(a)):t.commitments,s=[];for(let a=0;a<r.length;a++){const c=r[a],u=i[a];s.push(Uint8Array.from(e.computeBlobKzgProof(c,u)))}return n==="bytes"?s:s.map(a=>wr(a))}function RQ(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),a=Number(n>>i&s),c=Number(n&s),u=r?4:0,d=r?0:4;t.setUint32(e+u,a,r),t.setUint32(e+d,c,r)}function NQ(t,e,n){return t&e^~t&n}function $Q(t,e,n){return t&e^t&n^e&n}let PQ=class extends ET{constructor(e,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=L2(this.buffer)}update(e){Nh(this),e=o1(e),gd(e);const{view:n,buffer:r,blockLen:i}=this,s=e.length;for(let a=0;a<s;){const c=Math.min(i-this.pos,s-a);if(c===i){const u=L2(e);for(;i<=s-a;a+=i)this.process(u,a);continue}r.set(e.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Nh(this),hM(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:a}=this;n[a++]=128,$h(this.buffer.subarray(a)),this.padOffset>i-a&&(this.process(r,0),a=0);for(let p=a;p<i;p++)n[p]=0;RQ(r,i-8,BigInt(this.length*8),s),this.process(r,0);const c=L2(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=u/4,h=this.get();if(d>h.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<d;p++)c.setUint32(4*p,h[p],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:a,pos:c}=this;return e.destroyed=a,e.finished=s,e.length=i,e.pos=c,i%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}};const bl=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),DQ=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),wl=new Uint32Array(64);let UQ=class extends PQ{constructor(e=32){super(64,e,8,!1),this.A=bl[0]|0,this.B=bl[1]|0,this.C=bl[2]|0,this.D=bl[3]|0,this.E=bl[4]|0,this.F=bl[5]|0,this.G=bl[6]|0,this.H=bl[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:a,G:c,H:u}=this;return[e,n,r,i,s,a,c,u]}set(e,n,r,i,s,a,c,u){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=c|0,this.H=u|0}process(e,n){for(let p=0;p<16;p++,n+=4)wl[p]=e.getUint32(n,!1);for(let p=16;p<64;p++){const y=wl[p-15],g=wl[p-2],b=Ka(y,7)^Ka(y,18)^y>>>3,v=Ka(g,17)^Ka(g,19)^g>>>10;wl[p]=v+wl[p-7]+b+wl[p-16]|0}let{A:r,B:i,C:s,D:a,E:c,F:u,G:d,H:h}=this;for(let p=0;p<64;p++){const y=Ka(c,6)^Ka(c,11)^Ka(c,25),g=h+y+NQ(c,u,d)+DQ[p]+wl[p]|0,v=(Ka(r,2)^Ka(r,13)^Ka(r,22))+$Q(r,i,s)|0;h=d,d=u,u=c,c=a+g|0,a=s,s=i,i=r,r=g+v|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,c=c+this.E|0,u=u+this.F|0,d=d+this.G|0,h=h+this.H|0,this.set(r,i,s,a,c,u,d,h)}roundClean(){$h(wl)}destroy(){this.set(0,0,0,0,0,0,0,0),$h(this.buffer)}};const KM=pM(()=>new UQ),MQ=KM;function YM(t,e){const n=e||"hex",r=MQ(Si(t,{strict:!1})?Tc(t):t);return n==="bytes"?r:Et(r)}function BQ(t){const{commitment:e,version:n=1}=t,r=t.to??(typeof e=="string"?"hex":"bytes"),i=YM(e,"bytes");return i.set([n],0),r==="bytes"?i:wr(i)}function ZM(t){const{commitments:e,version:n}=t,r=t.to??(typeof e[0]=="string"?"hex":"bytes"),i=[];for(const s of e)i.push(BQ({commitment:s,to:r,version:n}));return i}const bR=6,XM=32,MT=4096,JM=XM*MT,wR=JM*bR-1-1*MT*bR,QM=1;class LQ extends _e{constructor({maxSize:e,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class eB extends _e{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class jQ extends _e{constructor({hash:e,size:n}){super(`Versioned hash "${e}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${n}`],name:"InvalidVersionedHashSizeError"})}}class zQ extends _e{constructor({hash:e,version:n}){super(`Versioned hash "${e}" version is invalid.`,{metaMessages:[`Expected: ${QM}`,`Received: ${n}`],name:"InvalidVersionedHashVersionError"})}}function FQ(t){const e=t.to??(typeof t.data=="string"?"hex":"bytes"),n=typeof t.data=="string"?Ai(t.data):t.data,r=Wn(n);if(!r)throw new eB;if(r>wR)throw new LQ({maxSize:wR,size:r});const i=[];let s=!0,a=0;for(;s;){const c=TT(new Uint8Array(JM));let u=0;for(;u<MT;){const d=n.slice(a,a+(XM-1));if(c.pushByte(0),c.pushBytes(d),d.length<31){c.pushByte(128),s=!1;break}u++,a+=31}i.push(c)}return e==="bytes"?i.map(c=>c.bytes):i.map(c=>wr(c.bytes))}function tB(t){const{data:e,kzg:n,to:r}=t,i=t.blobs??FQ({data:e,to:r}),s=t.commitments??DT({blobs:i,kzg:n,to:r}),a=t.proofs??UT({blobs:i,commitments:s,kzg:n,to:r}),c=[];for(let u=0;u<i.length;u++)c.push({blob:i[u],commitment:s[u],proof:a[u]});return c}function nB(t){if(t.type)return t.type;if(typeof t.authorizationList<"u")return"eip7702";if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new oQ({transaction:t})}function Tg(t,{docsPath:e,...n}){const r=(()=>{const i=f1(t,n);return i instanceof Ag?t:i})();return new lQ(r,{docsPath:e,...n})}async function Co(t){const e=await t.request({method:"eth_chainId"},{dedupe:!0});return Is(e)}async function BT(t,e){const{account:n=t.account,accessList:r,authorizationList:i,chain:s=t.chain,blobVersionedHashes:a,blobs:c,data:u,gas:d,gasPrice:h,maxFeePerBlobGas:p,maxFeePerGas:y,maxPriorityFeePerGas:g,nonce:b,nonceManager:v,to:E,type:O,value:k,...A}=e,S=await(async()=>{if(!n||!v||typeof b<"u")return b;const z=On(n),j=s?s.id:await qe(t,Co,"getChainId")({});return await v.consume({address:z.address,chainId:j,client:t})})();Io(e);const C=s?.formatters?.transactionRequest?.format,$=(C||Wc)({...ap(A,{format:C}),account:n?On(n):void 0,accessList:r,authorizationList:i,blobs:c,blobVersionedHashes:a,data:u,gas:d,gasPrice:h,maxFeePerBlobGas:p,maxFeePerGas:y,maxPriorityFeePerGas:g,nonce:S,to:E,type:O,value:k},"fillTransaction");try{const z=await t.request({method:"eth_fillTransaction",params:[$]}),B=(s?.formatters?.transaction?.format||xg)(z.tx);delete B.blockHash,delete B.blockNumber,delete B.r,delete B.s,delete B.transactionIndex,delete B.v,delete B.yParity,B.data=B.input,B.gas&&(B.gas=e.gas??B.gas),B.gasPrice&&(B.gasPrice=e.gasPrice??B.gasPrice),B.maxFeePerBlobGas&&(B.maxFeePerBlobGas=e.maxFeePerBlobGas??B.maxFeePerBlobGas),B.maxFeePerGas&&(B.maxFeePerGas=e.maxFeePerGas??B.maxFeePerGas),B.maxPriorityFeePerGas&&(B.maxPriorityFeePerGas=e.maxPriorityFeePerGas??B.maxPriorityFeePerGas),B.nonce&&(B.nonce=e.nonce??B.nonce);const G=await(async()=>{if(typeof s?.fees?.baseFeeMultiplier=="function"){const T=await qe(t,Oa,"getBlock")({});return s.fees.baseFeeMultiplier({block:T,client:t,request:e})}return s?.fees?.baseFeeMultiplier??1.2})();if(G<1)throw new FM;const F=10**(G.toString().split(".")[1]?.length??0),K=T=>T*BigInt(Math.ceil(G*F))/BigInt(F);return B.maxFeePerGas&&!e.maxFeePerGas&&(B.maxFeePerGas=K(B.maxFeePerGas)),B.gasPrice&&!e.gasPrice&&(B.gasPrice=K(B.gasPrice)),{raw:z.raw,transaction:{from:$.from,...B}}}catch(z){throw Tg(z,{...e,chain:t.chain})}}const LT=["blobVersionedHashes","chainId","fees","gas","nonce","type"],vR=new Map,F2=new sp(128);async function op(t,e){let n=e;n.account??=t.account,n.parameters??=LT;const{account:r,chain:i=t.chain,nonceManager:s,parameters:a}=n,c=(()=>{if(typeof i?.prepareTransactionRequest=="function")return{fn:i.prepareTransactionRequest,runAt:["beforeFillTransaction"]};if(Array.isArray(i?.prepareTransactionRequest))return{fn:i.prepareTransactionRequest[0],runAt:i.prepareTransactionRequest[1].runAt}})();let u;async function d(){return u||(typeof n.chainId<"u"?n.chainId:i?i.id:(u=await qe(t,Co,"getChainId")({}),u))}const h=r&&On(r);let p=n.nonce;if(a.includes("nonce")&&typeof p>"u"&&h&&s){const S=await d();p=await s.consume({address:h.address,chainId:S,client:t})}c?.fn&&c.runAt?.includes("beforeFillTransaction")&&(n=await c.fn({...n,chain:i},{phase:"beforeFillTransaction"}),p??=n.nonce);const g=((a.includes("blobVersionedHashes")||a.includes("sidecars"))&&n.kzg&&n.blobs||F2.get(t.uid)===!1||!["fees","gas"].some(C=>a.includes(C))?!1:!!(a.includes("chainId")&&typeof n.chainId!="number"||a.includes("nonce")&&typeof p!="number"||a.includes("fees")&&typeof n.gasPrice!="bigint"&&(typeof n.maxFeePerGas!="bigint"||typeof n.maxPriorityFeePerGas!="bigint")||a.includes("gas")&&typeof n.gas!="bigint"))?await qe(t,BT,"fillTransaction")({...n,nonce:p}).then(S=>{const{chainId:C,from:I,gas:$,gasPrice:z,nonce:j,maxFeePerBlobGas:B,maxFeePerGas:G,maxPriorityFeePerGas:U,type:F,...K}=S.transaction;return F2.set(t.uid,!0),{...n,...I?{from:I}:{},...F?{type:F}:{},...typeof C<"u"?{chainId:C}:{},...typeof $<"u"?{gas:$}:{},...typeof z<"u"?{gasPrice:z}:{},...typeof j<"u"?{nonce:j}:{},...typeof B<"u"?{maxFeePerBlobGas:B}:{},...typeof G<"u"?{maxFeePerGas:G}:{},...typeof U<"u"?{maxPriorityFeePerGas:U}:{},..."nonceKey"in K&&typeof K.nonceKey<"u"?{nonceKey:K.nonceKey}:{}}}).catch(S=>{const C=S;return C.name!=="TransactionExecutionError"||C.walk?.($=>{const z=$;return z.name==="MethodNotFoundRpcError"||z.name==="MethodNotSupportedRpcError"})&&F2.set(t.uid,!1),n}):n;p??=g.nonce,n={...g,...h?{from:h?.address}:{},...p?{nonce:p}:{}};const{blobs:b,gas:v,kzg:E,type:O}=n;c?.fn&&c.runAt?.includes("beforeFillParameters")&&(n=await c.fn({...n,chain:i},{phase:"beforeFillParameters"}));let k;async function A(){return k||(k=await qe(t,Oa,"getBlock")({blockTag:"latest"}),k)}if(a.includes("nonce")&&typeof p>"u"&&h&&!s&&(n.nonce=await qe(t,PT,"getTransactionCount")({address:h.address,blockTag:"pending"})),(a.includes("blobVersionedHashes")||a.includes("sidecars"))&&b&&E){const S=DT({blobs:b,kzg:E});if(a.includes("blobVersionedHashes")){const C=ZM({commitments:S,to:"hex"});n.blobVersionedHashes=C}if(a.includes("sidecars")){const C=UT({blobs:b,commitments:S,kzg:E}),I=tB({blobs:b,commitments:S,proofs:C,to:"hex"});n.sidecars=I}}if(a.includes("chainId")&&(n.chainId=await d()),(a.includes("fees")||a.includes("type"))&&typeof O>"u")try{n.type=nB(n)}catch{let S=vR.get(t.uid);typeof S>"u"&&(S=typeof(await A())?.baseFeePerGas=="bigint",vR.set(t.uid,S)),n.type=S?"eip1559":"legacy"}if(a.includes("fees"))if(n.type!=="legacy"&&n.type!=="eip2930"){if(typeof n.maxFeePerGas>"u"||typeof n.maxPriorityFeePerGas>"u"){const S=await A(),{maxFeePerGas:C,maxPriorityFeePerGas:I}=await Hx(t,{block:S,chain:i,request:n});if(typeof n.maxPriorityFeePerGas>"u"&&n.maxFeePerGas&&n.maxFeePerGas<I)throw new IQ({maxPriorityFeePerGas:I});n.maxPriorityFeePerGas=I,n.maxFeePerGas=C}}else{if(typeof n.maxFeePerGas<"u"||typeof n.maxPriorityFeePerGas<"u")throw new RT;if(typeof n.gasPrice>"u"){const S=await A(),{gasPrice:C}=await Hx(t,{block:S,chain:i,request:n,type:"legacy"});n.gasPrice=C}}return a.includes("gas")&&typeof v>"u"&&(n.gas=await qe(t,jT,"estimateGas")({...n,account:h,prepare:h?.type==="local"?[]:["blobVersionedHashes"]})),c?.fn&&c.runAt?.includes("afterFillParameters")&&(n=await c.fn({...n,chain:i},{phase:"afterFillParameters"})),Io(n),delete n.parameters,n}async function jT(t,e){const{account:n=t.account,prepare:r=!0}=e,i=n?On(n):void 0,s=(()=>{if(Array.isArray(r))return r;if(i?.type!=="local")return["blobVersionedHashes"]})();try{const a=await(async()=>{if(e.to)return e.to;if(e.authorizationList&&e.authorizationList.length>0)return await d1({authorization:e.authorizationList[0]}).catch(()=>{throw new _e("`to` is required. Could not infer from `authorizationList`")})})(),{accessList:c,authorizationList:u,blobs:d,blobVersionedHashes:h,blockNumber:p,blockTag:y,data:g,gas:b,gasPrice:v,maxFeePerBlobGas:E,maxFeePerGas:O,maxPriorityFeePerGas:k,nonce:A,value:S,stateOverride:C,...I}=r?await op(t,{...e,parameters:s,to:a}):e;if(b&&e.gas!==b)return b;const z=(typeof p=="bigint"?Ne(p):void 0)||y,j=kT(C);Io(e);const B=t.chain?.formatters?.transactionRequest?.format,U=(B||Wc)({...ap(I,{format:B}),account:i,accessList:c,authorizationList:u,blobs:d,blobVersionedHashes:h,data:g,gasPrice:v,maxFeePerBlobGas:E,maxFeePerGas:O,maxPriorityFeePerGas:k,nonce:A,to:a,value:S},"estimateGas");return BigInt(await t.request({method:"eth_estimateGas",params:j?[U,z??t.experimental_blockTag??"latest",j]:z?[U,z]:[U]}))}catch(a){throw _Q(a,{...e,account:i,chain:t.chain})}}async function qQ(t,e){const{abi:n,address:r,args:i,functionName:s,dataSuffix:a,...c}=e,u=Oi({abi:n,args:i,functionName:s});try{return await qe(t,jT,"estimateGas")({data:`${u}${a?a.replace("0x",""):""}`,to:r,...c})}catch(d){const h=c.account?On(c.account):void 0;throw vd(d,{abi:n,address:r,args:i,docsPath:"/docs/contract/estimateContractGas",functionName:s,sender:h?.address})}}function Ig(t,e){if(!Cn(t,{strict:!1}))throw new br({address:t});if(!Cn(e,{strict:!1}))throw new br({address:e});return t.toLowerCase()===e.toLowerCase()}const _R="/docs/contract/decodeEventLog";function Ww(t){const{abi:e,data:n,strict:r,topics:i}=t,s=r??!0,[a,...c]=i;if(!a)throw new PX({docsPath:_R});const u=e.find(v=>v.type==="event"&&a===c1(Ua(v)));if(!(u&&"name"in u)||u.type!=="event")throw new DX(a,{docsPath:_R});const{name:d,inputs:h}=u,p=h?.some(v=>!("name"in v&&v.name)),y=p?[]:{},g=h.map((v,E)=>[v,E]).filter(([v])=>"indexed"in v&&v.indexed);for(let v=0;v<g.length;v++){const[E,O]=g[v],k=c[v];if(!k)throw new _T({abiItem:u,param:E});y[p?O:E.name||O]=WQ({param:E,value:k})}const b=h.filter(v=>!("indexed"in v&&v.indexed));if(b.length>0){if(n&&n!=="0x")try{const v=Eg(b,n);if(v)if(p)for(let E=0;E<h.length;E++)y[E]=y[E]??v.shift();else for(let E=0;E<b.length;E++)y[b[E].name]=v[E]}catch(v){if(s)throw v instanceof sM||v instanceof OM?new qw({abiItem:u,data:n,params:b,size:Wn(n)}):v}else if(s)throw new qw({abiItem:u,data:"0x",params:b,size:0})}return{eventName:d,args:Object.values(y).length>0?y:void 0}}function WQ({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(Eg([t],e)||[])[0]}function zT(t){const{abi:e,args:n,logs:r,strict:i=!0}=t,s=(()=>{if(t.eventName)return Array.isArray(t.eventName)?t.eventName:[t.eventName]})();return r.map(a=>{const c=e.filter(h=>h.type==="event"&&a.topics[0]===c1(h));if(c.length===0)return null;let u,d;for(const h of c)try{u=Ww({...a,abi:[h],strict:!0}),d=h;break}catch{}if(!u&&!i){d=c[0];try{u=Ww({...a,abi:[d],strict:!1})}catch{const h=d.inputs?.some(p=>!("name"in p&&p.name));return{...a,args:h?[]:{},eventName:d.name}}}return!u||!d||s&&!s.includes(u.eventName)||!HQ({args:u.args,inputs:d.inputs,matchArgs:n})?null:{...u,...a}}).filter(Boolean)}function HQ(t){const{args:e,inputs:n,matchArgs:r}=t;if(!r)return!0;if(!e)return!1;function i(s,a,c){try{return s.type==="address"?Ig(a,c):s.type==="string"||s.type==="bytes"?zr(Tc(a))===c:a===c}catch{return!1}}return Array.isArray(e)&&Array.isArray(r)?r.every((s,a)=>{if(s==null)return!0;const c=n[a];return c?(Array.isArray(s)?s:[s]).some(d=>i(c,d,e[a])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([s,a])=>{if(a==null)return!0;const c=n.find(d=>d.name===s);return c?(Array.isArray(a)?a:[a]).some(d=>i(c,d,e[s])):!1}):!1}function Eo(t,{args:e,eventName:n}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,blockTimestamp:t.blockTimestamp?BigInt(t.blockTimestamp):t.blockTimestamp===null?null:void 0,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...n?{args:e,eventName:n}:{}}}async function FT(t,{address:e,blockHash:n,fromBlock:r,toBlock:i,event:s,events:a,args:c,strict:u}={}){const d=u??!1,h=a??(s?[s]:void 0);let p=[];h&&(p=[h.flatMap(v=>_g({abi:[v],eventName:v.name,args:a?void 0:c}))],s&&(p=p[0]));let y;n?y=await t.request({method:"eth_getLogs",params:[{address:e,topics:p,blockHash:n}]}):y=await t.request({method:"eth_getLogs",params:[{address:e,topics:p,fromBlock:typeof r=="bigint"?Ne(r):r,toBlock:typeof i=="bigint"?Ne(i):i}]});const g=y.map(b=>Eo(b));return h?zT({abi:h,args:c,logs:g,strict:d}):g}async function rB(t,e){const{abi:n,address:r,args:i,blockHash:s,eventName:a,fromBlock:c,toBlock:u,strict:d}=e,h=a?Bd({abi:n,name:a}):void 0,p=h?void 0:n.filter(y=>y.type==="event");return qe(t,FT,"getLogs")({address:r,args:i,blockHash:s,event:h,events:p,fromBlock:c,toBlock:u,strict:d})}const q2="/docs/contract/decodeFunctionResult";function Ld(t){const{abi:e,args:n,functionName:r,data:i}=t;let s=e[0];if(r){const c=Bd({abi:e,args:n,name:r});if(!c)throw new kh(r,{docsPath:q2});s=c}if(s.type!=="function")throw new kh(void 0,{docsPath:q2});if(!s.outputs)throw new oM(s.name,{docsPath:q2});const a=Eg(s.outputs,i);if(a&&a.length>1)return a;if(a&&a.length===1)return a[0]}const qT=BigInt(0),Vx=BigInt(1);function Cg(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function WT(t){if(!Cg(t))throw new Error("Uint8Array expected")}function jy(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function Tb(t){const e=t.toString(16);return e.length&1?"0"+e:e}function iB(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?qT:BigInt("0x"+t)}const sB=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",VQ=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function zy(t){if(WT(t),sB)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=VQ[t[n]];return e}const Jo={_0:48,_9:57,A:65,F:70,a:97,f:102};function ER(t){if(t>=Jo._0&&t<=Jo._9)return t-Jo._0;if(t>=Jo.A&&t<=Jo.F)return t-(Jo.A-10);if(t>=Jo.a&&t<=Jo.f)return t-(Jo.a-10)}function Hw(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(sB)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const a=ER(t.charCodeAt(s)),c=ER(t.charCodeAt(s+1));if(a===void 0||c===void 0){const u=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+u+'" at index '+s)}r[i]=a*16+c}return r}function ud(t){return iB(zy(t))}function aB(t){return WT(t),iB(zy(Uint8Array.from(t).reverse()))}function Og(t,e){return Hw(t.toString(16).padStart(e*2,"0"))}function oB(t,e){return Og(t,e).reverse()}function Xs(t,e,n){let r;if(typeof e=="string")try{r=Hw(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(Cg(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function Vw(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];WT(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}const W2=t=>typeof t=="bigint"&&qT<=t;function HT(t,e,n){return W2(t)&&W2(e)&&W2(n)&&e<=t&&t<n}function vh(t,e,n,r){if(!HT(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function GQ(t){let e;for(e=0;t>qT;t>>=Vx,e+=1);return e}const m1=t=>(Vx<<BigInt(t))-Vx,H2=t=>new Uint8Array(t),SR=t=>Uint8Array.from(t);function KQ(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=H2(t),i=H2(t),s=0;const a=()=>{r.fill(1),i.fill(0),s=0},c=(...p)=>n(i,r,...p),u=(p=H2(0))=>{i=c(SR([0]),p),r=c(),p.length!==0&&(i=c(SR([1]),p),r=c())},d=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let p=0;const y=[];for(;p<e;){r=c();const g=r.slice();y.push(g),p+=r.length}return Vw(...y)};return(p,y)=>{a(),u(p);let g;for(;!(g=y(d()));)u();return a(),g}}const YQ={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||Cg(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function y1(t,e,n={}){const r=(i,s,a)=>{const c=YQ[s];if(typeof c!="function")throw new Error("invalid validator function");const u=t[i];if(!(a&&u===void 0)&&!c(u,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+u)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}function AR(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}const ZQ="0.1.1";function XQ(){return ZQ}let Pt=class cc extends Error{static setStaticOptions(e){cc.prototype.docsOrigin=e.docsOrigin,cc.prototype.showVersion=e.showVersion,cc.prototype.version=e.version}constructor(e,n={}){const r=(()=>{if(n.cause instanceof cc){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:n.cause?.message?n.cause.message:n.details})(),i=n.cause instanceof cc&&n.cause.docsPath||n.docsPath,s=n.docsOrigin??cc.prototype.docsOrigin,a=`${s}${i??""}`,c=!!(n.version??cc.prototype.showVersion),u=n.version??cc.prototype.version,d=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||i||c?["",r?`Details: ${r}`:void 0,i?`See: ${a}`:void 0,c?`Version: ${u}`:void 0]:[]].filter(h=>typeof h=="string").join(`
`);super(d,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsOrigin",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"showVersion",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.cause=n.cause,this.details=r,this.docs=a,this.docsOrigin=s,this.docsPath=i,this.shortMessage=e,this.showVersion=c,this.version=u}walk(e){return cB(this,e)}};Object.defineProperty(Pt,"defaultStaticOptions",{enumerable:!0,configurable:!0,writable:!0,value:{docsOrigin:"https://oxlib.sh",showVersion:!1,version:`ox@${XQ()}`}});Pt.setStaticOptions(Pt.defaultStaticOptions);function cB(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?cB(t.cause,e):e?null:t}function kg(t,e){if(ch(t)>e)throw new pee({givenSize:ch(t),maxSize:e})}const Qo={zero:48,nine:57,A:65,F:70,a:97,f:102};function xR(t){if(t>=Qo.zero&&t<=Qo.nine)return t-Qo.zero;if(t>=Qo.A&&t<=Qo.F)return t-(Qo.A-10);if(t>=Qo.a&&t<=Qo.f)return t-(Qo.a-10)}function JQ(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;if(t.length>r)throw new mee({size:t.length,targetSize:r,type:"Bytes"});const i=new Uint8Array(r);for(let s=0;s<r;s++){const a=n==="right";i[a?s:r-s-1]=t[a?s:t.length-s-1]}return i}function lB(t,e={}){const{dir:n="left"}=e;let r=t,i=0;for(let s=0;s<r.length-1&&r[n==="left"?s:r.length-s-1].toString()==="0";s++)i++;return r=n==="left"?r.slice(i):r.slice(0,r.length-i),r}function g1(t,e){if(Cs(t)>e)throw new _ee({givenSize:Cs(t),maxSize:e})}function QQ(t,e){if(typeof e=="number"&&e>0&&e>Cs(t)-1)throw new bB({offset:e,position:"start",size:Cs(t)})}function eee(t,e,n){if(typeof e=="number"&&typeof n=="number"&&Cs(t)!==n-e)throw new bB({offset:n,position:"end",size:Cs(t)})}function uB(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;const i=t.replace("0x","");if(i.length>r*2)throw new Eee({size:Math.ceil(i.length/2),targetSize:r,type:"Hex"});return`0x${i[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const tee="#__bigint";function dB(t,e,n){return JSON.stringify(t,(r,i)=>typeof i=="bigint"?i.toString()+tee:i,n)}const nee=new TextDecoder,ree=new TextEncoder;function iee(t){return t instanceof Uint8Array?t:typeof t=="string"?fB(t):see(t)}function see(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function fB(t,e={}){const{size:n}=e;let r=t;n&&(g1(t,n),r=Sd(t,n));let i=r.slice(2);i.length%2&&(i=`0${i}`);const s=i.length/2,a=new Uint8Array(s);for(let c=0,u=0;c<s;c++){const d=xR(i.charCodeAt(u++)),h=xR(i.charCodeAt(u++));if(d===void 0||h===void 0)throw new Pt(`Invalid byte sequence ("${i[u-2]}${i[u-1]}" in "${i}").`);a[c]=d<<4|h}return a}function aee(t,e={}){const{size:n}=e,r=ree.encode(t);return typeof n=="number"?(kg(r,n),oee(r,n)):r}function oee(t,e){return JQ(t,{dir:"right",size:e})}function ch(t){return t.length}function cee(t,e,n,r={}){const{strict:i}=r;return t.slice(e,n)}function lee(t,e={}){const{size:n}=e;typeof n<"u"&&kg(t,n);const r=Ba(t,e);return mB(r,e)}function uee(t,e={}){const{size:n}=e;let r=t;if(typeof n<"u"&&(kg(r,n),r=hB(r)),r.length>1||r[0]>1)throw new hee(r);return!!r[0]}function Cc(t,e={}){const{size:n}=e;typeof n<"u"&&kg(t,n);const r=Ba(t,e);return yB(r,e)}function dee(t,e={}){const{size:n}=e;let r=t;return typeof n<"u"&&(kg(r,n),r=fee(r)),nee.decode(r)}function hB(t){return lB(t,{dir:"left"})}function fee(t){return lB(t,{dir:"right"})}class hee extends Pt{constructor(e){super(`Bytes value \`${e}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}let pee=class extends Pt{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},mee=class extends Pt{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const yee=new TextEncoder,gee=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function bee(t,e={}){const{strict:n=!1}=e;if(!t)throw new TR(t);if(typeof t!="string")throw new TR(t);if(n&&!/^0x[0-9a-fA-F]*$/.test(t))throw new IR(t);if(!t.startsWith("0x"))throw new IR(t)}function Ma(...t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}function wee(t){return t instanceof Uint8Array?Ba(t):Array.isArray(t)?Ba(new Uint8Array(t)):t}function pB(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(g1(n,e.size),Ed(n,e.size)):n}function Ba(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=gee[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(g1(r,e.size),Sd(r,e.size)):r}function Ei(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const a=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<a){const d=typeof t=="bigint"?"n":"";throw new gB({max:s?`${s}${d}`:void 0,min:`${a}${d}`,signed:n,size:r,value:`${t}${d}`})}const u=`0x${(n&&i<0?BigInt.asUintN(r*8,BigInt(i)):i).toString(16)}`;return r?Ed(u,r):u}function VT(t,e={}){return Ba(yee.encode(t),e)}function Ed(t,e){return uB(t,{dir:"left",size:e})}function Sd(t,e){return uB(t,{dir:"right",size:e})}function yo(t,e,n,r={}){const{strict:i}=r;QQ(t,e);const s=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return i&&eee(s,e,n),s}function Cs(t){return Math.ceil((t.length-2)/2)}function mB(t,e={}){const{signed:n}=e;e.size&&g1(t,e.size);const r=BigInt(t);if(!n)return r;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n)-1n,a=s>>1n;return r<=a?r:r-s-1n}function yB(t,e={}){const{signed:n,size:r}=e;return Number(!n&&!r?t:mB(t,e))}function vee(t,e={}){const{strict:n=!1}=e;try{return bee(t,{strict:n}),!0}catch{return!1}}let gB=class extends Pt{constructor({max:e,min:n,signed:r,size:i,value:s}){super(`Number \`${s}\` is not in safe${i?` ${i*8}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${n}\` to \`${e}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}},TR=class extends Pt{constructor(e){super(`Value \`${typeof e=="object"?dB(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}},IR=class extends Pt{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}},_ee=class extends Pt{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}},bB=class extends Pt{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}},Eee=class extends Pt{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}};function See(t){return{address:t.address,amount:Ei(t.amount),index:Ei(t.index),validatorIndex:Ei(t.validatorIndex)}}function wB(t){return{...typeof t.baseFeePerGas=="bigint"&&{baseFeePerGas:Ei(t.baseFeePerGas)},...typeof t.blobBaseFee=="bigint"&&{blobBaseFee:Ei(t.blobBaseFee)},...typeof t.feeRecipient=="string"&&{feeRecipient:t.feeRecipient},...typeof t.gasLimit=="bigint"&&{gasLimit:Ei(t.gasLimit)},...typeof t.number=="bigint"&&{number:Ei(t.number)},...typeof t.prevRandao=="bigint"&&{prevRandao:Ei(t.prevRandao)},...typeof t.time=="bigint"&&{time:Ei(t.time)},...t.withdrawals&&{withdrawals:t.withdrawals.map(See)}}}const Gw=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],Gx=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],vB=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],_B=[...vB,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],Aee=[...vB,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],CR=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],OR=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],EB=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],kR=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],RUe=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],xee="0x82ad56cb",SB="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",Tee="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",Iee="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",GT="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033";class Kx extends _e{constructor({blockNumber:e,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...e&&r.blockCreated&&r.blockCreated>e?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class Cee extends _e{constructor({chain:e,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${e.id}  ${e.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e.id}  ${e.name}`],name:"ChainMismatchError"})}}class Oee extends _e{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class AB extends _e{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class Rg extends _e{constructor({chainId:e}){super(typeof e=="number"?`Chain ID "${e}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}const V2="/docs/contract/encodeDeployData";function b1(t){const{abi:e,args:n,bytecode:r}=t;if(!n||n.length===0)return r;const i=e.find(a=>"type"in a&&a.type==="constructor");if(!i)throw new iM({docsPath:V2});if(!("inputs"in i))throw new Fw({docsPath:V2});if(!i.inputs||i.inputs.length===0)throw new Fw({docsPath:V2});const s=du(i.inputs,n);return la([r,s])}function cp({blockNumber:t,chain:e,contract:n}){const r=e?.contracts?.[n];if(!r)throw new Kx({chain:e,contract:{name:n}});if(t&&r.blockCreated&&r.blockCreated>t)throw new Kx({blockNumber:t,chain:e,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function xB(t,{docsPath:e,...n}){const r=(()=>{const i=f1(t,n);return i instanceof Ag?t:i})();return new DM(r,{docsPath:e,...n})}function KT(){let t=()=>{},e=()=>{};return{promise:new Promise((r,i)=>{t=r,e=i}),resolve:t,reject:e}}const G2=new Map;function TB({fn:t,id:e,shouldSplitBatch:n,wait:r=0,sort:i}){const s=async()=>{const h=u();a();const p=h.map(({args:y})=>y);p.length!==0&&t(p).then(y=>{i&&Array.isArray(y)&&y.sort(i);for(let g=0;g<h.length;g++){const{resolve:b}=h[g];b?.([y[g],y])}}).catch(y=>{for(let g=0;g<h.length;g++){const{reject:b}=h[g];b?.(y)}})},a=()=>G2.delete(e),c=()=>u().map(({args:h})=>h),u=()=>G2.get(e)||[],d=h=>G2.set(e,[...u(),h]);return{flush:a,async schedule(h){const{promise:p,resolve:y,reject:g}=KT();return n?.([...c(),h])&&s(),u().length>0?(d({args:h,resolve:y,reject:g}),p):(d({args:h,resolve:y,reject:g}),setTimeout(s,r),p)}}}async function w1(t,e){const{account:n=t.account,authorizationList:r,batch:i=!!t.batch?.multicall,blockNumber:s,blockTag:a=t.experimental_blockTag??"latest",accessList:c,blobs:u,blockOverrides:d,code:h,data:p,factory:y,factoryData:g,gas:b,gasPrice:v,maxFeePerBlobGas:E,maxFeePerGas:O,maxPriorityFeePerGas:k,nonce:A,to:S,value:C,stateOverride:I,...$}=e,z=n?On(n):void 0;if(h&&(y||g))throw new _e("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(h&&S)throw new _e("Cannot provide both `code` & `to` as parameters.");const j=h&&p,B=y&&g&&S&&p,G=j||B,U=j?IB({code:h,data:p}):B?Nee({data:p,factory:y,factoryData:g,to:S}):p;try{Io(e);const K=(typeof s=="bigint"?Ne(s):void 0)||a,T=d?wB(d):void 0,x=kT(I),N=t.chain?.formatters?.transactionRequest?.format,P=(N||Wc)({...ap($,{format:N}),accessList:c,account:z,authorizationList:r,blobs:u,data:U,gas:b,gasPrice:v,maxFeePerBlobGas:E,maxFeePerGas:O,maxPriorityFeePerGas:k,nonce:A,to:G?void 0:S,value:C},"call");if(i&&kee({request:P})&&!x&&!T)try{return await Ree(t,{...P,blockNumber:s,blockTag:a})}catch(V){if(!(V instanceof AB)&&!(V instanceof Kx))throw V}const H=(()=>{const V=[P,K];return x&&T?[...V,x,T]:x?[...V,x]:T?[...V,{},T]:V})(),D=await t.request({method:"eth_call",params:H});return D==="0x"?{data:void 0}:{data:D}}catch(F){const K=$ee(F),{offchainLookup:T,offchainLookupSignature:x}=await ze(async()=>{const{offchainLookup:N,offchainLookupSignature:L}=await import("./ccip-JgAJcBc6.js");return{offchainLookup:N,offchainLookupSignature:L}},[]);if(t.ccipRead!==!1&&K?.slice(0,10)===x&&S)return{data:await T(t,{data:K,to:S})};throw G&&K?.slice(0,10)==="0x101bb98d"?new hQ({factory:y}):xB(F,{...e,account:z,chain:t.chain})}}function kee({request:t}){const{data:e,to:n,...r}=t;return!(!e||e.startsWith(xee)||!n||Object.values(r).filter(i=>typeof i<"u").length>0)}async function Ree(t,e){const{batchSize:n=1024,deployless:r=!1,wait:i=0}=typeof t.batch?.multicall=="object"?t.batch.multicall:{},{blockNumber:s,blockTag:a=t.experimental_blockTag??"latest",data:c,to:u}=e,d=(()=>{if(r)return null;if(e.multicallAddress)return e.multicallAddress;if(t.chain)return cp({blockNumber:s,chain:t.chain,contract:"multicall3"});throw new AB})(),p=(typeof s=="bigint"?Ne(s):void 0)||a,{schedule:y}=TB({id:`${t.uid}.${p}`,wait:i,shouldSplitBatch(v){return v.reduce((O,{data:k})=>O+(k.length-2),0)>n*2},fn:async v=>{const E=v.map(A=>({allowFailure:!0,callData:A.data,target:A.to})),O=Oi({abi:Gw,args:[E],functionName:"aggregate3"}),k=await t.request({method:"eth_call",params:[{...d===null?{data:IB({code:GT,data:O})}:{to:d,data:O}},p]});return Ld({abi:Gw,args:[E],functionName:"aggregate3",data:k||"0x"})}}),[{returnData:g,success:b}]=await y({data:c,to:u});if(!b)throw new u1({data:g});return g==="0x"?{data:void 0}:{data:g}}function IB(t){const{code:e,data:n}=t;return b1({abi:tM(["constructor(bytes, bytes)"]),bytecode:SB,args:[e,n]})}function Nee(t){const{data:e,factory:n,factoryData:r,to:i}=t;return b1({abi:tM(["constructor(address, bytes, address, bytes)"]),bytecode:Tee,args:[i,e,n,r]})}function $ee(t){if(!(t instanceof _e))return;const e=t.walk();return typeof e?.data=="object"?e.data?.data:e.data}async function La(t,e){const{abi:n,address:r,args:i,functionName:s,...a}=e,c=Oi({abi:n,args:i,functionName:s});try{const{data:u}=await qe(t,w1,"call")({...a,data:c,to:r});return Ld({abi:n,args:i,functionName:s,data:u||"0x"})}catch(u){throw vd(u,{abi:n,address:r,args:i,docsPath:"/docs/contract/readContract",functionName:s})}}async function Pee(t,e){const{abi:n,address:r,args:i,dataSuffix:s,functionName:a,...c}=e,u=c.account?On(c.account):t.account,d=Oi({abi:n,args:i,functionName:a});try{const{data:h}=await qe(t,w1,"call")({batch:!1,data:`${d}${s?s.replace("0x",""):""}`,to:r,...c,account:u}),p=Ld({abi:n,args:i,functionName:a,data:h||"0x"}),y=n.filter(g=>"name"in g&&g.name===e.functionName);return{result:p,request:{abi:y,address:r,args:i,dataSuffix:s,functionName:a,...c,account:u}}}catch(h){throw vd(h,{abi:n,address:r,args:i,docsPath:"/docs/contract/simulateContract",functionName:a,sender:u?.address})}}const K2=new Map,RR=new Map;let Dee=0;function Dc(t,e,n){const r=++Dee,i=()=>K2.get(t)||[],s=()=>{const h=i();K2.set(t,h.filter(p=>p.id!==r))},a=()=>{const h=i();if(!h.some(y=>y.id===r))return;const p=RR.get(t);if(h.length===1&&p){const y=p();y instanceof Promise&&y.catch(()=>{})}s()},c=i();if(K2.set(t,[...c,{id:r,fns:e}]),c&&c.length>0)return a;const u={};for(const h in e)u[h]=((...p)=>{const y=i();if(y.length!==0)for(const g of y)g.fns[h]?.(...p)});const d=n(u);return typeof d=="function"&&RR.set(t,d),a}async function Yx(t){return new Promise(e=>setTimeout(e,t))}function lp(t,{emitOnBegin:e,initialWaitTime:n,interval:r}){let i=!0;const s=()=>i=!1;return(async()=>{let c;e&&(c=await t({unpoll:s}));const u=await n?.(c)??r;await Yx(u);const d=async()=>{i&&(await t({unpoll:s}),await Yx(r),d())};d()})(),s}const Uee=new Map,Mee=new Map;function Bee(t){const e=(i,s)=>({clear:()=>s.delete(i),get:()=>s.get(i),set:a=>s.set(i,a)}),n=e(t,Uee),r=e(t,Mee);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function Lee(t,{cacheKey:e,cacheTime:n=Number.POSITIVE_INFINITY}){const r=Bee(e),i=r.response.get();if(i&&n>0&&Date.now()-i.created.getTime()<n)return i.data;let s=r.promise.get();s||(s=t(),r.promise.set(s));try{const a=await s;return r.response.set({created:new Date,data:a}),a}finally{r.promise.clear()}}const jee=t=>`blockNumber.${t}`;async function Ng(t,{cacheTime:e=t.cacheTime}={}){const n=await Lee(()=>t.request({method:"eth_blockNumber"}),{cacheKey:jee(t.uid),cacheTime:e});return BigInt(n)}async function v1(t,{filter:e}){const n="strict"in e&&e.strict,r=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof r[0]=="string")return r;const i=r.map(s=>Eo(s));return!("abi"in e)||!e.abi?i:zT({abi:e.abi,logs:i,strict:n})}async function _1(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}function zee(t,e){const{abi:n,address:r,args:i,batch:s=!0,eventName:a,fromBlock:c,onError:u,onLogs:d,poll:h,pollingInterval:p=t.pollingInterval,strict:y}=e;return(typeof h<"u"?h:typeof c=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")))?(()=>{const E=y??!1,O=Cr(["watchContractEvent",r,i,s,t.uid,a,p,E,c]);return Dc(O,{onLogs:d,onError:u},k=>{let A;c!==void 0&&(A=c-1n);let S,C=!1;const I=lp(async()=>{if(!C){try{S=await qe(t,IM,"createContractEventFilter")({abi:n,address:r,args:i,eventName:a,strict:E,fromBlock:c})}catch{}C=!0;return}try{let $;if(S)$=await qe(t,v1,"getFilterChanges")({filter:S});else{const z=await qe(t,Ng,"getBlockNumber")({});A&&A<z?$=await qe(t,rB,"getContractEvents")({abi:n,address:r,args:i,eventName:a,fromBlock:A+1n,toBlock:z,strict:E}):$=[],A=z}if($.length===0)return;if(s)k.onLogs($);else for(const z of $)k.onLogs([z])}catch($){S&&$ instanceof su&&(C=!1),k.onError?.($)}},{emitOnBegin:!0,interval:p});return async()=>{S&&await qe(t,_1,"uninstallFilter")({filter:S}),I()}})})():(()=>{const E=y??!1,O=Cr(["watchContractEvent",r,i,s,t.uid,a,p,E]);let k=!0,A=()=>k=!1;return Dc(O,{onLogs:d,onError:u},S=>((async()=>{try{const C=(()=>{if(t.transport.type==="fallback"){const z=t.transport.transports.find(j=>j.config.type==="webSocket"||j.config.type==="ipc");return z?z.value:t.transport}return t.transport})(),I=a?_g({abi:n,eventName:a,args:i}):[],{unsubscribe:$}=await C.subscribe({params:["logs",{address:r,topics:I}],onData(z){if(!k)return;const j=z.result;try{const{eventName:B,args:G}=Ww({abi:n,data:j.data,topics:j.topics,strict:y}),U=Eo(j,{args:G,eventName:B});S.onLogs([U])}catch(B){let G,U;if(B instanceof qw||B instanceof _T){if(y)return;G=B.abiItem.name,U=B.abiItem.inputs?.some(K=>!("name"in K&&K.name))}const F=Eo(j,{args:U?[]:{},eventName:G});S.onLogs([F])}},onError(z){S.onError?.(z)}});A=$,k||A()}catch(C){u?.(C)}})(),()=>A()))})()}class Oo extends _e{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class dd extends _e{constructor({docsPath:e,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:e,metaMessages:n,name:"AccountTypeNotSupportedError"})}}function $g({chain:t,currentChainId:e}){if(!t)throw new Oee;if(e!==t.id)throw new Cee({chain:t,currentChainId:e})}async function E1(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}const Y2=new sp(128);async function Pg(t,e){const{account:n=t.account,chain:r=t.chain,accessList:i,authorizationList:s,blobs:a,data:c,gas:u,gasPrice:d,maxFeePerBlobGas:h,maxFeePerGas:p,maxPriorityFeePerGas:y,nonce:g,type:b,value:v,...E}=e;if(typeof n>"u")throw new Oo({docsPath:"/docs/actions/wallet/sendTransaction"});const O=n?On(n):null;try{Io(e);const k=await(async()=>{if(e.to)return e.to;if(e.to!==null&&s&&s.length>0)return await d1({authorization:s[0]}).catch(()=>{throw new _e("`to` is required. Could not infer from `authorizationList`.")})})();if(O?.type==="json-rpc"||O===null){let A;r!==null&&(A=await qe(t,Co,"getChainId")({}),$g({currentChainId:A,chain:r}));const S=t.chain?.formatters?.transactionRequest?.format,I=(S||Wc)({...ap(E,{format:S}),accessList:i,account:O,authorizationList:s,blobs:a,chainId:A,data:c,gas:u,gasPrice:d,maxFeePerBlobGas:h,maxFeePerGas:p,maxPriorityFeePerGas:y,nonce:g,to:k,type:b,value:v},"sendTransaction"),$=Y2.get(t.uid),z=$?"wallet_sendTransaction":"eth_sendTransaction";try{return await t.request({method:z,params:[I]},{retryCount:0})}catch(j){if($===!1)throw j;const B=j;if(B.name==="InvalidInputRpcError"||B.name==="InvalidParamsRpcError"||B.name==="MethodNotFoundRpcError"||B.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[I]},{retryCount:0}).then(G=>(Y2.set(t.uid,!0),G)).catch(G=>{const U=G;throw U.name==="MethodNotFoundRpcError"||U.name==="MethodNotSupportedRpcError"?(Y2.set(t.uid,!1),B):U});throw B}}if(O?.type==="local"){const A=await qe(t,op,"prepareTransactionRequest")({account:O,accessList:i,authorizationList:s,blobs:a,chain:r,data:c,gas:u,gasPrice:d,maxFeePerBlobGas:h,maxFeePerGas:p,maxPriorityFeePerGas:y,nonce:g,nonceManager:O.nonceManager,parameters:[...LT,"sidecars"],type:b,value:v,...E,to:k}),S=r?.serializers?.transaction,C=await O.signTransaction(A,{serializer:S});return await qe(t,E1,"sendRawTransaction")({serializedTransaction:C})}throw O?.type==="smart"?new dd({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new dd({docsPath:"/docs/actions/wallet/sendTransaction",type:O?.type})}catch(k){throw k instanceof dd?k:Tg(k,{...e,account:O,chain:e.chain||void 0})}}async function Mh(t,e){return Mh.internal(t,Pg,"sendTransaction",e)}(function(t){async function e(n,r,i,s){const{abi:a,account:c=n.account,address:u,args:d,dataSuffix:h,functionName:p,...y}=s;if(typeof c>"u")throw new Oo({docsPath:"/docs/contract/writeContract"});const g=c?On(c):null,b=Oi({abi:a,args:d,functionName:p});try{return await qe(n,r,i)({data:`${b}${h?h.replace("0x",""):""}`,to:u,account:g,...y})}catch(v){throw vd(v,{abi:a,address:u,args:d,docsPath:"/docs/contract/writeContract",functionName:p,sender:g?.address})}}t.internal=e})(Mh||(Mh={}));class Fee extends _e{constructor(e){super(`Call bundle failed with status: ${e.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=e}}function Kw(t,{delay:e=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((i,s)=>{const a=async({count:c=0}={})=>{const u=async({error:d})=>{const h=typeof e=="function"?e({count:c,error:d}):e;h&&await Yx(h),a({count:c+1})};try{const d=await t();i(d)}catch(d){if(c<n&&await r({count:c,error:d}))return u({error:d});s(d)}};a()})}const CB={"0x0":"reverted","0x1":"success"};function YT(t,e){const n={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(r=>Eo(r)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Is(t.transactionIndex):null,status:t.status?CB[t.status]:null,type:t.type?WM[t.type]||t.type:null};return t.blobGasPrice&&(n.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(n.blobGasUsed=BigInt(t.blobGasUsed)),n}const OB=h1("transactionReceipt",YT),kB="0x5792579257925792579257925792579257925792579257925792579257925792",RB=Ne(0,{size:32});async function NB(t,e){const{account:n=t.account,capabilities:r,chain:i=t.chain,experimental_fallback:s,experimental_fallbackDelay:a=32,forceAtomic:c=!1,id:u,version:d="2.0.0"}=e,h=n?On(n):null,p=e.calls.map(y=>{const g=y,b=g.abi?Oi({abi:g.abi,functionName:g.functionName,args:g.args}):g.data;return{data:g.dataSuffix&&b?sa([b,g.dataSuffix]):b,to:g.to,value:g.value?Ne(g.value):void 0}});try{const y=await t.request({method:"wallet_sendCalls",params:[{atomicRequired:c,calls:p,capabilities:r,chainId:Ne(i.id),from:h?.address,id:u,version:d}]},{retryCount:0});return typeof y=="string"?{id:y}:y}catch(y){const g=y;if(s&&(g.name==="MethodNotFoundRpcError"||g.name==="MethodNotSupportedRpcError"||g.name==="UnknownRpcError"||g.details.toLowerCase().includes("does not exist / is not available")||g.details.toLowerCase().includes("missing or invalid. request()")||g.details.toLowerCase().includes("did not match any variant of untagged enum")||g.details.toLowerCase().includes("account upgraded to unsupported contract")||g.details.toLowerCase().includes("eip-7702 not supported")||g.details.toLowerCase().includes("unsupported wc_ method")||g.details.toLowerCase().includes("feature toggled misconfigured")||g.details.toLowerCase().includes("jsonrpcengine: response has no error or result for request"))){if(r&&Object.values(r).some(k=>!k.optional)){const k="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new Dh(new _e(k,{details:k}))}if(c&&p.length>1){const O="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new Uh(new _e(O,{details:O}))}const b=[];for(const O of p){const k=Pg(t,{account:h,chain:i,data:O.data,to:O.to,value:O.value?an(O.value):void 0});b.push(k),a>0&&await new Promise(A=>setTimeout(A,a))}const v=await Promise.allSettled(b);if(v.every(O=>O.status==="rejected"))throw v[0].reason;const E=v.map(O=>O.status==="fulfilled"?O.value:RB);return{id:sa([...E,Ne(i.id,{size:32}),kB])}}throw Tg(y,{...e,account:h,chain:e.chain})}}async function $B(t,e){async function n(h){if(h.endsWith(kB.slice(2))){const y=Ts($x(h,-64,-32)),g=$x(h,0,-64).slice(2).match(/.{1,64}/g),b=await Promise.all(g.map(E=>RB.slice(2)!==E?t.request({method:"eth_getTransactionReceipt",params:[`0x${E}`]},{dedupe:!0}):void 0)),v=b.some(E=>E===null)?100:b.every(E=>E?.status==="0x1")?200:b.every(E=>E?.status==="0x0")?500:600;return{atomic:!1,chainId:Is(y),receipts:b.filter(Boolean),status:v,version:"2.0.0"}}return t.request({method:"wallet_getCallsStatus",params:[h]})}const{atomic:r=!1,chainId:i,receipts:s,version:a="2.0.0",...c}=await n(e.id),[u,d]=(()=>{const h=c.status;return h>=100&&h<200?["pending",h]:h>=200&&h<300?["success",h]:h>=300&&h<700?["failure",h]:h==="CONFIRMED"?["success",200]:h==="PENDING"?["pending",100]:[void 0,h]})();return{...c,atomic:r,chainId:i?Is(i):void 0,receipts:s?.map(h=>({...h,blockNumber:an(h.blockNumber),gasUsed:an(h.gasUsed),status:CB[h.status]}))??[],statusCode:d,status:u,version:a}}async function PB(t,e){const{id:n,pollingInterval:r=t.pollingInterval,status:i=({statusCode:v})=>v===200||v>=300,retryCount:s=4,retryDelay:a=({count:v})=>~~(1<<v)*200,timeout:c=6e4,throwOnFailure:u=!1}=e,d=Cr(["waitForCallsStatus",t.uid,n]),{promise:h,resolve:p,reject:y}=KT();let g;const b=Dc(d,{resolve:p,reject:y},v=>{const E=lp(async()=>{const O=k=>{clearTimeout(g),E(),k(),b()};try{const k=await Kw(async()=>{const A=await qe(t,$B,"getCallsStatus")({id:n});if(u&&A.status==="failure")throw new Fee(A);return A},{retryCount:s,delay:a});if(!i(k))return;O(()=>v.resolve(k))}catch(k){O(()=>v.reject(k))}},{interval:r,emitOnBegin:!0});return E});return g=c?setTimeout(()=>{b(),clearTimeout(g),y(new qee({id:n}))},c):void 0,await h}class qee extends _e{constructor({id:e}){super(`Timed out while waiting for call bundle with id "${e}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}const Zx=256;let Ib=Zx,Cb;function DB(t=11){if(!Cb||Ib+t>Zx*2){Cb="",Ib=0;for(let e=0;e<Zx;e++)Cb+=(256+Math.random()*256|0).toString(16).substring(1)}return Cb.substring(Ib,Ib+++t)}function UB(t){const{batch:e,chain:n,ccipRead:r,key:i="base",name:s="Base Client",type:a="base"}=t,c=t.experimental_blockTag??(typeof n?.experimental_preconfirmationTime=="number"?"pending":void 0),u=n?.blockTime??12e3,d=Math.min(Math.max(Math.floor(u/2),500),4e3),h=t.pollingInterval??d,p=t.cacheTime??h,y=t.account?On(t.account):void 0,{config:g,request:b,value:v}=t.transport({account:y,chain:n,pollingInterval:h}),E={...g,...v},O={account:y,batch:e,cacheTime:p,ccipRead:r,chain:n,key:i,name:s,pollingInterval:h,request:b,transport:E,type:a,uid:DB(),...c?{experimental_blockTag:c}:{}};function k(A){return S=>{const C=S(A);for(const $ in O)delete C[$];const I={...A,...C};return Object.assign(I,{extend:k(I)})}}return Object.assign(O,{extend:k(O)})}function ZT(t){if(!(t instanceof _e))return!1;const e=t.walk(n=>n instanceof Ux);return e instanceof Ux?e.data?.errorName==="HttpError"||e.data?.errorName==="ResolverError"||e.data?.errorName==="ResolverNotContract"||e.data?.errorName==="ResolverNotFound"||e.data?.errorName==="ReverseAddressMismatch"||e.data?.errorName==="UnsupportedResolverProfile":!1}function Wee(t){const{abi:e,data:n}=t,r=bd(n,0,4),i=e.find(s=>s.type==="function"&&r===vg(Ua(s)));if(!i)throw new UX(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:i.name,args:"inputs"in i&&i.inputs&&i.inputs.length>0?Eg(i.inputs,bd(n,4)):void 0}}const Z2="/docs/contract/encodeErrorResult";function NR(t){const{abi:e,errorName:n,args:r}=t;let i=e[0];if(n){const u=Bd({abi:e,args:r,name:n});if(!u)throw new tR(n,{docsPath:Z2});i=u}if(i.type!=="error")throw new tR(void 0,{docsPath:Z2});const s=Ua(i),a=vg(s);let c="0x";if(r&&r.length>0){if(!i.inputs)throw new $X(i.name,{docsPath:Z2});c=du(i.inputs,r)}return la([a,c])}const X2="/docs/contract/encodeFunctionResult";function Hee(t){const{abi:e,functionName:n,result:r}=t;let i=e[0];if(n){const a=Bd({abi:e,name:n});if(!a)throw new kh(n,{docsPath:X2});i=a}if(i.type!=="function")throw new kh(void 0,{docsPath:X2});if(!i.outputs)throw new oM(i.name,{docsPath:X2});const s=(()=>{if(i.outputs.length===0)return[];if(i.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new cM(r)})();return du(i.outputs,s)}const S1="x-batch-gateway:true";async function Vee(t){const{data:e,ccipRequest:n}=t,{args:[r]}=Wee({abi:Gx,data:e}),i=[],s=[];return await Promise.all(r.map(async(a,c)=>{try{s[c]=a.urls.includes(S1)?await Vee({data:a.data,ccipRequest:n}):await n(a),i[c]=!1}catch(u){i[c]=!0,s[c]=Gee(u)}})),Hee({abi:Gx,functionName:"query",result:[i,s]})}function Gee(t){return t.name==="HttpRequestError"&&t.status?NR({abi:Gx,errorName:"HttpError",args:[t.status,t.shortMessage]}):NR({abi:[CM],errorName:"Error",args:["shortMessage"in t?t.shortMessage:t.message]})}function MB(t){if(t.length!==66||t.indexOf("[")!==0||t.indexOf("]")!==65)return null;const e=`0x${t.slice(1,65)}`;return Si(e)?e:null}function Xx(t){let e=new Uint8Array(32).fill(0);if(!t)return wr(e);const n=t.split(".");for(let r=n.length-1;r>=0;r-=1){const i=MB(n[r]),s=i?Tc(i):zr(ld(n[r]),"bytes");e=zr(sa([e,s]),"bytes")}return wr(e)}function Kee(t){return`[${t.slice(2)}]`}function Yee(t){const e=new Uint8Array(32).fill(0);return t?MB(t)||zr(ld(t)):wr(e)}function XT(t){const e=t.replace(/^\.|\.$/gm,"");if(e.length===0)return new Uint8Array(1);const n=new Uint8Array(ld(e).byteLength+2);let r=0;const i=e.split(".");for(let s=0;s<i.length;s++){let a=ld(i[s]);a.byteLength>255&&(a=ld(Kee(Yee(i[s])))),n[r]=a.length,n.set(a,r+1),r+=a.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function Zee(t,e){const{blockNumber:n,blockTag:r,coinType:i,name:s,gatewayUrls:a,strict:c}=e,{chain:u}=t,d=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!u)throw new Error("client chain not configured. universalResolverAddress is required.");return cp({blockNumber:n,chain:u,contract:"ensUniversalResolver"})})(),h=u?.ensTlds;if(h&&!h.some(y=>s.endsWith(y)))return null;const p=i!=null?[Xx(s),BigInt(i)]:[Xx(s)];try{const y=Oi({abi:OR,functionName:"addr",args:p}),g={address:d,abi:_B,functionName:"resolveWithGateways",args:[Et(XT(s)),y,a??[S1]],blockNumber:n,blockTag:r},v=await qe(t,La,"readContract")(g);if(v[0]==="0x")return null;const E=Ld({abi:OR,args:p,functionName:"addr",data:v[0]});return E==="0x"||Ts(E)==="0x00"?null:E}catch(y){if(c)throw y;if(ZT(y))return null;throw y}}class Xee extends _e{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}}class mm extends _e{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}}class JT extends _e{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class Jee extends _e{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const Qee=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,ete=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,tte=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,nte=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function rte(t){try{const e=await fetch(t,{method:"HEAD"});return e.status===200?e.headers.get("content-type")?.startsWith("image/"):!1}catch(e){return typeof e=="object"&&typeof e.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=t})}}function $R(t,e){return t?t.endsWith("/")?t.slice(0,-1):t:e}function BB({uri:t,gatewayUrls:e}){const n=tte.test(t);if(n)return{uri:t,isOnChain:!0,isEncoded:n};const r=$R(e?.ipfs,"https://ipfs.io"),i=$R(e?.arweave,"https://arweave.net"),s=t.match(Qee),{protocol:a,subpath:c,target:u,subtarget:d=""}=s?.groups||{},h=a==="ipns:/"||c==="ipns/",p=a==="ipfs:/"||c==="ipfs/"||ete.test(t);if(t.startsWith("http")&&!h&&!p){let g=t;return e?.arweave&&(g=t.replace(/https:\/\/arweave.net/g,e?.arweave)),{uri:g,isOnChain:!1,isEncoded:!1}}if((h||p)&&u)return{uri:`${r}/${h?"ipns":"ipfs"}/${u}${d}`,isOnChain:!1,isEncoded:!1};if(a==="ar:/"&&u)return{uri:`${i}/${u}${d||""}`,isOnChain:!1,isEncoded:!1};let y=t.replace(nte,"");if(y.startsWith("<svg")&&(y=`data:image/svg+xml;base64,${btoa(y)}`),y.startsWith("data:")||y.startsWith("{"))return{uri:y,isOnChain:!0,isEncoded:!1};throw new JT({uri:t})}function LB(t){if(typeof t!="object"||!("image"in t)&&!("image_url"in t)&&!("image_data"in t))throw new Xee({data:t});return t.image||t.image_url||t.image_data}async function ite({gatewayUrls:t,uri:e}){try{const n=await fetch(e).then(i=>i.json());return await QT({gatewayUrls:t,uri:LB(n)})}catch{throw new JT({uri:e})}}async function QT({gatewayUrls:t,uri:e}){const{uri:n,isOnChain:r}=BB({uri:e,gatewayUrls:t});if(r||await rte(n))return n;throw new JT({uri:e})}function ste(t){let e=t;e.startsWith("did:nft:")&&(e=e.replace("did:nft:","").replace(/_/g,"/"));const[n,r,i]=e.split("/"),[s,a]=n.split(":"),[c,u]=r.split(":");if(!s||s.toLowerCase()!=="eip155")throw new mm({reason:"Only EIP-155 supported"});if(!a)throw new mm({reason:"Chain ID not found"});if(!u)throw new mm({reason:"Contract address not found"});if(!i)throw new mm({reason:"Token ID not found"});if(!c)throw new mm({reason:"ERC namespace not found"});return{chainID:Number.parseInt(a,10),namespace:c.toLowerCase(),contractAddress:u,tokenID:i}}async function ate(t,{nft:e}){if(e.namespace==="erc721")return La(t,{address:e.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(e.tokenID)]});if(e.namespace==="erc1155")return La(t,{address:e.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(e.tokenID)]});throw new Jee({namespace:e.namespace})}async function ote(t,{gatewayUrls:e,record:n}){return/eip155:/i.test(n)?cte(t,{gatewayUrls:e,record:n}):QT({uri:n,gatewayUrls:e})}async function cte(t,{gatewayUrls:e,record:n}){const r=ste(n),i=await ate(t,{nft:r}),{uri:s,isOnChain:a,isEncoded:c}=BB({uri:i,gatewayUrls:e});if(a&&(s.includes("data:application/json;base64,")||s.startsWith("{"))){const d=c?atob(s.replace("data:application/json;base64,","")):s,h=JSON.parse(d);return QT({uri:LB(h),gatewayUrls:e})}let u=r.tokenID;return r.namespace==="erc1155"&&(u=u.replace("0x","").padStart(64,"0")),ite({gatewayUrls:e,uri:s.replace(/(?:0x)?{id}/,u)})}async function jB(t,e){const{blockNumber:n,blockTag:r,key:i,name:s,gatewayUrls:a,strict:c}=e,{chain:u}=t,d=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!u)throw new Error("client chain not configured. universalResolverAddress is required.");return cp({blockNumber:n,chain:u,contract:"ensUniversalResolver"})})(),h=u?.ensTlds;if(h&&!h.some(p=>s.endsWith(p)))return null;try{const p={address:d,abi:_B,args:[Et(XT(s)),Oi({abi:CR,functionName:"text",args:[Xx(s),i]}),a??[S1]],functionName:"resolveWithGateways",blockNumber:n,blockTag:r},g=await qe(t,La,"readContract")(p);if(g[0]==="0x")return null;const b=Ld({abi:CR,functionName:"text",data:g[0]});return b===""?null:b}catch(p){if(c)throw p;if(ZT(p))return null;throw p}}async function lte(t,{blockNumber:e,blockTag:n,assetGatewayUrls:r,name:i,gatewayUrls:s,strict:a,universalResolverAddress:c}){const u=await qe(t,jB,"getEnsText")({blockNumber:e,blockTag:n,key:"avatar",name:i,universalResolverAddress:c,gatewayUrls:s,strict:a});if(!u)return null;try{return await ote(t,{record:u,gatewayUrls:r})}catch{return null}}async function ute(t,e){const{address:n,blockNumber:r,blockTag:i,coinType:s=60n,gatewayUrls:a,strict:c}=e,{chain:u}=t,d=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!u)throw new Error("client chain not configured. universalResolverAddress is required.");return cp({blockNumber:r,chain:u,contract:"ensUniversalResolver"})})();try{const h={address:d,abi:Aee,args:[n,s,a??[S1]],functionName:"reverseWithGateways",blockNumber:r,blockTag:i},p=qe(t,La,"readContract"),[y]=await p(h);return y||null}catch(h){if(c)throw h;if(ZT(h))return null;throw h}}async function dte(t,e){const{blockNumber:n,blockTag:r,name:i}=e,{chain:s}=t,a=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!s)throw new Error("client chain not configured. universalResolverAddress is required.");return cp({blockNumber:n,chain:s,contract:"ensUniversalResolver"})})(),c=s?.ensTlds;if(c&&!c.some(d=>i.endsWith(d)))throw new Error(`${i} is not a valid ENS TLD (${c?.join(", ")}) for chain "${s.name}" (id: ${s.id}).`);const[u]=await qe(t,La,"readContract")({address:a,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[Et(XT(i))],blockNumber:n,blockTag:r});return u}async function zB(t,e){const{account:n=t.account,blockNumber:r,blockTag:i="latest",blobs:s,data:a,gas:c,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:h,maxPriorityFeePerGas:p,to:y,value:g,...b}=e,v=n?On(n):void 0;try{Io(e);const O=(typeof r=="bigint"?Ne(r):void 0)||i,k=t.chain?.formatters?.transactionRequest?.format,S=(k||Wc)({...ap(b,{format:k}),account:v,blobs:s,data:a,gas:c,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:h,maxPriorityFeePerGas:p,to:y,value:g},"createAccessList"),C=await t.request({method:"eth_createAccessList",params:[S,O]});return{accessList:C.accessList,gasUsed:BigInt(C.gasUsed)}}catch(E){throw xB(E,{...e,account:v,chain:t.chain})}}async function fte(t){const e=l1(t,{method:"eth_newBlockFilter"}),n=await t.request({method:"eth_newBlockFilter"});return{id:n,request:e(n),type:"block"}}async function FB(t,{address:e,args:n,event:r,events:i,fromBlock:s,strict:a,toBlock:c}={}){const u=i??(r?[r]:void 0),d=l1(t,{method:"eth_newFilter"});let h=[];u&&(h=[u.flatMap(g=>_g({abi:[g],eventName:g.name,args:n}))],r&&(h=h[0]));const p=await t.request({method:"eth_newFilter",params:[{address:e,fromBlock:typeof s=="bigint"?Ne(s):s,toBlock:typeof c=="bigint"?Ne(c):c,...h.length?{topics:h}:{}}]});return{abi:u,args:n,eventName:r?r.name:void 0,fromBlock:s,id:p,request:d(p),strict:!!a,toBlock:c,type:"event"}}async function qB(t){const e=l1(t,{method:"eth_newPendingTransactionFilter"}),n=await t.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:e(n),type:"transaction"}}async function hte(t,{address:e,blockNumber:n,blockTag:r=t.experimental_blockTag??"latest"}){const i=typeof n=="bigint"?Ne(n):void 0,s=await t.request({method:"eth_getBalance",params:[e,i||r]});return BigInt(s)}async function pte(t){const e=await t.request({method:"eth_blobBaseFee"});return BigInt(e)}async function mte(t,{blockHash:e,blockNumber:n,blockTag:r="latest"}={}){const i=n!==void 0?Ne(n):void 0;let s;return e?s=await t.request({method:"eth_getBlockTransactionCountByHash",params:[e]},{dedupe:!0}):s=await t.request({method:"eth_getBlockTransactionCountByNumber",params:[i||r]},{dedupe:!!i}),Is(s)}async function Jx(t,{address:e,blockNumber:n,blockTag:r="latest"}){const i=n!==void 0?Ne(n):void 0,s=await t.request({method:"eth_getCode",params:[e,i||r]},{dedupe:!!i});if(s!=="0x")return s}class yte extends _e{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function gte(t,e){const{address:n,factory:r,factoryData:i}=e;try{const[s,a,c,u,d,h,p]=await qe(t,La,"readContract")({abi:bte,address:n,functionName:"eip712Domain",factory:r,factoryData:i});return{domain:{name:a,version:c,chainId:Number(u),verifyingContract:d,salt:h},extensions:p,fields:s}}catch(s){const a=s;throw a.name==="ContractFunctionExecutionError"&&a.cause.name==="ContractFunctionZeroDataError"?new yte({address:n}):a}}const bte=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function wte(t){return{baseFeePerGas:t.baseFeePerGas.map(e=>BigInt(e)),gasUsedRatio:t.gasUsedRatio,oldestBlock:BigInt(t.oldestBlock),reward:t.reward?.map(e=>e.map(n=>BigInt(n)))}}async function vte(t,{blockCount:e,blockNumber:n,blockTag:r="latest",rewardPercentiles:i}){const s=typeof n=="bigint"?Ne(n):void 0,a=await t.request({method:"eth_feeHistory",params:[Ne(e),s||r,i]},{dedupe:!!s});return wte(a)}async function _te(t,{filter:e}){const n=e.strict??!1,i=(await e.request({method:"eth_getFilterLogs",params:[e.id]})).map(s=>Eo(s));return e.abi?zT({abi:e.abi,logs:i,strict:n}):i}function Ete(t){const{authorizationList:e}=t;if(e)for(const n of e){const{chainId:r}=n,i=n.address;if(!Cn(i))throw new br({address:i});if(r<0)throw new Rg({chainId:r})}e3(t)}function Ste(t){const{blobVersionedHashes:e}=t;if(e){if(e.length===0)throw new eB;for(const n of e){const r=Wn(n),i=Is(bd(n,0,1));if(r!==32)throw new jQ({hash:n,size:r});if(i!==QM)throw new zQ({hash:n,version:i})}}e3(t)}function e3(t){const{chainId:e,maxPriorityFeePerGas:n,maxFeePerGas:r,to:i}=t;if(e<=0)throw new Rg({chainId:e});if(i&&!Cn(i))throw new br({address:i});if(r&&r>p1)throw new _d({maxFeePerGas:r});if(n&&r&&n>r)throw new Ly({maxFeePerGas:r,maxPriorityFeePerGas:n})}function Ate(t){const{chainId:e,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:i,to:s}=t;if(e<=0)throw new Rg({chainId:e});if(s&&!Cn(s))throw new br({address:s});if(n||i)throw new _e("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(r&&r>p1)throw new _d({maxFeePerGas:r})}function xte(t){const{chainId:e,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:i,to:s}=t;if(s&&!Cn(s))throw new br({address:s});if(typeof e<"u"&&e<=0)throw new Rg({chainId:e});if(n||i)throw new _e("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(r&&r>p1)throw new _d({maxFeePerGas:r})}function A1(t){if(!t||t.length===0)return[];const e=[];for(let n=0;n<t.length;n++){const{address:r,storageKeys:i}=t[n];for(let s=0;s<i.length;s++)if(i[s].length-2!==64)throw new cQ({storageKey:i[s]});if(!Cn(r,{strict:!1}))throw new br({address:r});e.push([r,i])}return e}function t3(t,e){const n=nB(t);return n==="eip1559"?Cte(t,e):n==="eip2930"?Ote(t,e):n==="eip4844"?Ite(t,e):n==="eip7702"?Tte(t,e):kte(t,e)}function Tte(t,e){const{authorizationList:n,chainId:r,gas:i,nonce:s,to:a,value:c,maxFeePerGas:u,maxPriorityFeePerGas:d,accessList:h,data:p}=t;Ete(t);const y=A1(h),g=Rte(n);return la(["0x04",Pc([Ne(r),s?Ne(s):"0x",d?Ne(d):"0x",u?Ne(u):"0x",i?Ne(i):"0x",a??"0x",c?Ne(c):"0x",p??"0x",y,g,...Dg(t,e)])])}function Ite(t,e){const{chainId:n,gas:r,nonce:i,to:s,value:a,maxFeePerBlobGas:c,maxFeePerGas:u,maxPriorityFeePerGas:d,accessList:h,data:p}=t;Ste(t);let y=t.blobVersionedHashes,g=t.sidecars;if(t.blobs&&(typeof y>"u"||typeof g>"u")){const A=typeof t.blobs[0]=="string"?t.blobs:t.blobs.map(I=>wr(I)),S=t.kzg,C=DT({blobs:A,kzg:S});if(typeof y>"u"&&(y=ZM({commitments:C})),typeof g>"u"){const I=UT({blobs:A,commitments:C,kzg:S});g=tB({blobs:A,commitments:C,proofs:I})}}const b=A1(h),v=[Ne(n),i?Ne(i):"0x",d?Ne(d):"0x",u?Ne(u):"0x",r?Ne(r):"0x",s??"0x",a?Ne(a):"0x",p??"0x",b,c?Ne(c):"0x",y??[],...Dg(t,e)],E=[],O=[],k=[];if(g)for(let A=0;A<g.length;A++){const{blob:S,commitment:C,proof:I}=g[A];E.push(S),O.push(C),k.push(I)}return la(["0x03",Pc(g?[v,E,O,k]:v)])}function Cte(t,e){const{chainId:n,gas:r,nonce:i,to:s,value:a,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:d,data:h}=t;e3(t);const p=A1(d),y=[Ne(n),i?Ne(i):"0x",u?Ne(u):"0x",c?Ne(c):"0x",r?Ne(r):"0x",s??"0x",a?Ne(a):"0x",h??"0x",p,...Dg(t,e)];return la(["0x02",Pc(y)])}function Ote(t,e){const{chainId:n,gas:r,data:i,nonce:s,to:a,value:c,accessList:u,gasPrice:d}=t;Ate(t);const h=A1(u),p=[Ne(n),s?Ne(s):"0x",d?Ne(d):"0x",r?Ne(r):"0x",a??"0x",c?Ne(c):"0x",i??"0x",h,...Dg(t,e)];return la(["0x01",Pc(p)])}function kte(t,e){const{chainId:n=0,gas:r,data:i,nonce:s,to:a,value:c,gasPrice:u}=t;xte(t);let d=[s?Ne(s):"0x",u?Ne(u):"0x",r?Ne(r):"0x",a??"0x",c?Ne(c):"0x",i??"0x"];if(e){const h=(()=>{if(e.v>=35n)return(e.v-35n)/2n>0?e.v:27n+(e.v===35n?0n:1n);if(n>0)return BigInt(n*2)+BigInt(35n+e.v-27n);const g=27n+(e.v===27n?0n:1n);if(e.v!==g)throw new aQ({v:e.v});return g})(),p=Ts(e.r),y=Ts(e.s);d=[...d,Ne(h),p==="0x00"?"0x":p,y==="0x00"?"0x":y]}else n>0&&(d=[...d,Ne(n),"0x","0x"]);return Pc(d)}function Dg(t,e){const n=e??t,{v:r,yParity:i}=n;if(typeof n.r>"u")return[];if(typeof n.s>"u")return[];if(typeof r>"u"&&typeof i>"u")return[];const s=Ts(n.r),a=Ts(n.s);return[typeof i=="number"?i?Ne(1):"0x":r===0n?"0x":r===1n?Ne(1):r===27n?"0x":Ne(1),s==="0x00"?"0x":s,a==="0x00"?"0x":a]}function Rte(t){if(!t||t.length===0)return[];const e=[];for(const n of t){const{chainId:r,nonce:i,...s}=n,a=n.address;e.push([r?Et(r):"0x",a,i?Et(i):"0x",...Dg({},s)])}return e}async function Nte({address:t,authorization:e,signature:n}){return Ig(ri(t),await d1({authorization:e,signature:n}))}const Ob=new sp(8192);function $te(t,{enabled:e=!0,id:n}){if(!e||!n)return t();if(Ob.get(n))return Ob.get(n);const r=t().finally(()=>Ob.delete(n));return Ob.set(n,r),r}function Pte(t,e={}){return async(n,r={})=>{const{dedupe:i=!1,methods:s,retryDelay:a=150,retryCount:c=3,uid:u}={...e,...r},{method:d}=n;if(s?.exclude?.includes(d))throw new ed(new Error("method not supported"),{method:d});if(s?.include&&!s.include.includes(d))throw new ed(new Error("method not supported"),{method:d});const h=i?Rh(`${u}.${Cr(n)}`):void 0;return $te(()=>Kw(async()=>{try{return await t(n)}catch(p){const y=p;switch(y.code){case _y.code:throw new _y(y);case Ey.code:throw new Ey(y);case Sy.code:throw new Sy(y,{method:n.method});case Ay.code:throw new Ay(y);case wd.code:throw new wd(y);case su.code:throw new su(y);case xy.code:throw new xy(y);case Ty.code:throw new Ty(y);case Iy.code:throw new Iy(y);case ed.code:throw new ed(y,{method:n.method});case Ph.code:throw new Ph(y);case Cy.code:throw new Cy(y);case wh.code:throw new wh(y);case Oy.code:throw new Oy(y);case ky.code:throw new ky(y);case Ry.code:throw new Ry(y);case Ny.code:throw new Ny(y);case $y.code:throw new $y(y);case Dh.code:throw new Dh(y);case Py.code:throw new Py(y);case Dy.code:throw new Dy(y);case Uy.code:throw new Uy(y);case My.code:throw new My(y);case By.code:throw new By(y);case Uh.code:throw new Uh(y);case 5e3:throw new wh(y);default:throw p instanceof _e?p:new mQ(y)}}},{delay:({count:p,error:y})=>{if(y&&y instanceof iy){const g=y?.headers?.get("Retry-After");if(g?.match(/\d/))return Number.parseInt(g,10)*1e3}return~~(1<<p)*a},retryCount:c,shouldRetry:({error:p})=>Dte(p)}),{enabled:i,id:h})}}function Dte(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===Ph.code||t.code===wd.code:t instanceof iy&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function si(t){const e={formatters:void 0,fees:void 0,serializers:void 0,...t};function n(r){return i=>{const s=typeof i=="function"?i(r):i,a={...r,...s};return Object.assign(a,{extend:n(a)})}}return Object.assign(e,{extend:n(e)})}function Ute(t,{errorInstance:e=new Error("timed out"),timeout:n,signal:r}){return new Promise((i,s)=>{(async()=>{let a;try{const c=new AbortController;n>0&&(a=setTimeout(()=>{r&&c.abort()},n)),i(await t({signal:c?.signal||null}))}catch(c){c?.name==="AbortError"&&s(e),s(c)}finally{clearTimeout(a)}})()})}function Mte(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const PR=Mte();function Bte(t,e={}){return{async request(n){const{body:r,fetchFn:i=e.fetchFn??fetch,onRequest:s=e.onRequest,onResponse:a=e.onResponse,timeout:c=e.timeout??1e4}=n,u={...e.fetchOptions??{},...n.fetchOptions??{}},{headers:d,method:h,signal:p}=u;try{const y=await Ute(async({signal:b})=>{const v={...u,body:Array.isArray(r)?Cr(r.map(A=>({jsonrpc:"2.0",id:A.id??PR.take(),...A}))):Cr({jsonrpc:"2.0",id:r.id??PR.take(),...r}),headers:{"Content-Type":"application/json",...d},method:h||"POST",signal:p||(c>0?b:null)},E=new Request(t,v),O=await s?.(E,v)??{...v,url:t};return await i(O.url??t,O)},{errorInstance:new mR({body:r,url:t}),timeout:c,signal:!0});a&&await a(y);let g;if(y.headers.get("Content-Type")?.startsWith("application/json"))g=await y.json();else{g=await y.text();try{g=JSON.parse(g||"{}")}catch(b){if(y.ok)throw b;g={error:g}}}if(!y.ok)throw new iy({body:r,details:Cr(g.error)||y.statusText,headers:y.headers,status:y.status,url:t});return g}catch(y){throw y instanceof iy||y instanceof mR?y:new iy({body:r,cause:y,url:t})}}}}const Lte=`Ethereum Signed Message:
`;function jte(t){const e=typeof t=="string"?Rh(t):typeof t.raw=="string"?t.raw:wr(t.raw),n=Rh(`${Lte}${Wn(e)}`);return sa([n,e])}function n3(t,e){return zr(jte(t),e)}class zte extends _e{constructor({domain:e}){super(`Invalid domain "${Cr(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class Fte extends _e{constructor({primaryType:e,types:n}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class qte extends _e{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function Wte(t){const{domain:e,message:n,primaryType:r,types:i}=t,s=(u,d)=>{const h={...d};for(const p of u){const{name:y,type:g}=p;g==="address"&&(h[y]=h[y].toLowerCase())}return h},a=i.EIP712Domain?e?s(i.EIP712Domain,e):{}:{},c=(()=>{if(r!=="EIP712Domain")return s(i[r],n)})();return Cr({domain:a,message:c,primaryType:r,types:i})}function WB(t){const{domain:e,message:n,primaryType:r,types:i}=t,s=(a,c)=>{for(const u of a){const{name:d,type:h}=u,p=c[d],y=h.match(xM);if(y&&(typeof p=="number"||typeof p=="bigint")){const[v,E,O]=y;Ne(p,{signed:E==="int",size:Number.parseInt(O,10)/8})}if(h==="address"&&typeof p=="string"&&!Cn(p))throw new br({address:p});const g=h.match(kJ);if(g){const[v,E]=g;if(E&&Wn(p)!==Number.parseInt(E,10))throw new BX({expectedSize:Number.parseInt(E,10),givenSize:Wn(p)})}const b=i[h];b&&(Hte(h),s(b,p))}};if(i.EIP712Domain&&e){if(typeof e!="object")throw new zte({domain:e});s(i.EIP712Domain,e)}if(r!=="EIP712Domain")if(i[r])s(i[r],n);else throw new Fte({primaryType:r,types:i})}function HB({domain:t}){return[typeof t?.name=="string"&&{name:"name",type:"string"},t?.version&&{name:"version",type:"string"},(typeof t?.chainId=="number"||typeof t?.chainId=="bigint")&&{name:"chainId",type:"uint256"},t?.verifyingContract&&{name:"verifyingContract",type:"address"},t?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function Hte(t){if(t==="address"||t==="bool"||t==="string"||t.startsWith("bytes")||t.startsWith("uint")||t.startsWith("int"))throw new qte({type:t})}function VB(t){const{domain:e={},message:n,primaryType:r}=t,i={EIP712Domain:HB({domain:e}),...t.types};WB({domain:e,message:n,primaryType:r,types:i});const s=["0x1901"];return e&&s.push(Vte({domain:e,types:i})),r!=="EIP712Domain"&&s.push(GB({data:n,primaryType:r,types:i})),zr(sa(s))}function Vte({domain:t,types:e}){return GB({data:t,primaryType:"EIP712Domain",types:e})}function GB({data:t,primaryType:e,types:n}){const r=KB({data:t,primaryType:e,types:n});return zr(r)}function KB({data:t,primaryType:e,types:n}){const r=[{type:"bytes32"}],i=[Gte({primaryType:e,types:n})];for(const s of n[e]){const[a,c]=ZB({types:n,name:s.name,type:s.type,value:t[s.name]});r.push(a),i.push(c)}return du(r,i)}function Gte({primaryType:t,types:e}){const n=Et(Kte({primaryType:t,types:e}));return zr(n)}function Kte({primaryType:t,types:e}){let n="";const r=YB({primaryType:t,types:e});r.delete(t);const i=[t,...Array.from(r).sort()];for(const s of i)n+=`${s}(${e[s].map(({name:a,type:c})=>`${c} ${a}`).join(",")})`;return n}function YB({primaryType:t,types:e},n=new Set){const i=t.match(/^\w*/u)?.[0];if(n.has(i)||e[i]===void 0)return n;n.add(i);for(const s of e[i])YB({primaryType:s.type,types:e},n);return n}function ZB({types:t,name:e,type:n,value:r}){if(t[n]!==void 0)return[{type:"bytes32"},zr(KB({data:r,primaryType:n,types:t}))];if(n==="bytes")return[{type:"bytes32"},zr(r)];if(n==="string")return[{type:"bytes32"},zr(Et(r))];if(n.lastIndexOf("]")===n.length-1){const i=n.slice(0,n.lastIndexOf("[")),s=r.map(a=>ZB({name:e,type:i,types:t,value:a}));return[{type:"bytes32"},zr(du(s.map(([a])=>a),s.map(([,a])=>a)))]}return[{type:n},r]}const NUe="0x6492649264926492649264926492649264926492649264926492649264926492",DR="0x0000000000000000000000000000000000000000000000000000000000000000";let Yte=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const Zte={checksum:new Yte(8192)},J2=Zte.checksum;function XB(t,e={}){const{as:n=typeof t=="string"?"Hex":"Bytes"}=e,r=vM(iee(t));return n==="Bytes"?r:Ba(r)}const Xte=/^0x[a-fA-F0-9]{40}$/;function x1(t,e={}){const{strict:n=!0}=e;if(!Xte.test(t))throw new UR({address:t,cause:new Jte});if(n){if(t.toLowerCase()===t)return;if(JB(t)!==t)throw new UR({address:t,cause:new Qte})}}function JB(t){if(J2.has(t))return J2.get(t);x1(t,{strict:!1});const e=t.substring(2).toLowerCase(),n=XB(aee(e),{as:"Bytes"}),r=e.split("");for(let s=0;s<40;s+=2)n[s>>1]>>4>=8&&r[s]&&(r[s]=r[s].toUpperCase()),(n[s>>1]&15)>=8&&r[s+1]&&(r[s+1]=r[s+1].toUpperCase());const i=`0x${r.join("")}`;return J2.set(t,i),i}function Qx(t,e={}){const{strict:n=!0}=e??{};try{return x1(t,{strict:n}),!0}catch{return!1}}let UR=class extends Pt{constructor({address:e,cause:n}){super(`Address "${e}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}},Jte=class extends Pt{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}},Qte=class extends Pt{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}};const ene=/^(.*)\[([0-9]*)\]$/,tne=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,QB=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,MR=2n**256n-1n;function _h(t,e,n){const{checksumAddress:r,staticPosition:i}=n,s=s3(e.type);if(s){const[a,c]=s;return rne(t,{...e,type:c},{checksumAddress:r,length:a,staticPosition:i})}if(e.type==="tuple")return one(t,e,{checksumAddress:r,staticPosition:i});if(e.type==="address")return nne(t,{checksum:r});if(e.type==="bool")return ine(t);if(e.type.startsWith("bytes"))return sne(t,e,{staticPosition:i});if(e.type.startsWith("uint")||e.type.startsWith("int"))return ane(t,e);if(e.type==="string")return cne(t,{staticPosition:i});throw new o3(e.type)}const BR=32,e6=32;function nne(t,e={}){const{checksum:n=!1}=e,r=t.readBytes(32);return[(s=>n?JB(s):s)(Ba(cee(r,-20))),32]}function rne(t,e,n){const{checksumAddress:r,length:i,staticPosition:s}=n;if(!i){const u=Cc(t.readBytes(e6)),d=s+u,h=d+BR;t.setPosition(d);const p=Cc(t.readBytes(BR)),y=Fy(e);let g=0;const b=[];for(let v=0;v<p;++v){t.setPosition(h+(y?v*32:g));const[E,O]=_h(t,e,{checksumAddress:r,staticPosition:h});g+=O,b.push(E)}return t.setPosition(s+32),[b,32]}if(Fy(e)){const u=Cc(t.readBytes(e6)),d=s+u,h=[];for(let p=0;p<i;++p){t.setPosition(d+p*32);const[y]=_h(t,e,{checksumAddress:r,staticPosition:d});h.push(y)}return t.setPosition(s+32),[h,32]}let a=0;const c=[];for(let u=0;u<i;++u){const[d,h]=_h(t,e,{checksumAddress:r,staticPosition:s+a});a+=h,c.push(d)}return[c,a]}function ine(t){return[uee(t.readBytes(32),{size:32}),32]}function sne(t,e,{staticPosition:n}){const[r,i]=e.type.split("bytes");if(!i){const a=Cc(t.readBytes(32));t.setPosition(n+a);const c=Cc(t.readBytes(32));if(c===0)return t.setPosition(n+32),["0x",32];const u=t.readBytes(c);return t.setPosition(n+32),[Ba(u),32]}return[Ba(t.readBytes(Number.parseInt(i,10),32)),32]}function ane(t,e){const n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256",10),i=t.readBytes(32);return[r>48?lee(i,{signed:n}):Cc(i,{signed:n}),32]}function one(t,e,n){const{checksumAddress:r,staticPosition:i}=n,s=e.components.length===0||e.components.some(({name:u})=>!u),a=s?[]:{};let c=0;if(Fy(e)){const u=Cc(t.readBytes(e6)),d=i+u;for(let h=0;h<e.components.length;++h){const p=e.components[h];t.setPosition(d+c);const[y,g]=_h(t,p,{checksumAddress:r,staticPosition:d});c+=g,a[s?h:p?.name]=y}return t.setPosition(i+32),[a,32]}for(let u=0;u<e.components.length;++u){const d=e.components[u],[h,p]=_h(t,d,{checksumAddress:r,staticPosition:i});a[s?u:d?.name]=h,c+=p}return[a,c]}function cne(t,{staticPosition:e}){const n=Cc(t.readBytes(32)),r=e+n;t.setPosition(r);const i=Cc(t.readBytes(32));if(i===0)return t.setPosition(e+32),["",32];const s=t.readBytes(i,32),a=dee(hB(s));return t.setPosition(e+32),[a,32]}function lne({checksumAddress:t,parameters:e,values:n}){const r=[];for(let i=0;i<e.length;i++)r.push(r3({checksumAddress:t,parameter:e[i],value:n[i]}));return r}function r3({checksumAddress:t=!1,parameter:e,value:n}){const r=e,i=s3(r.type);if(i){const[s,a]=i;return dne(n,{checksumAddress:t,length:s,parameter:{...r,type:a}})}if(r.type==="tuple")return yne(n,{checksumAddress:t,parameter:r});if(r.type==="address")return une(n,{checksum:t});if(r.type==="bool")return hne(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const s=r.type.startsWith("int"),[,,a="256"]=QB.exec(r.type)??[];return pne(n,{signed:s,size:Number(a)})}if(r.type.startsWith("bytes"))return fne(n,{type:r.type});if(r.type==="string")return mne(n);throw new o3(r.type)}function i3(t){let e=0;for(let s=0;s<t.length;s++){const{dynamic:a,encoded:c}=t[s];a?e+=32:e+=Cs(c)}const n=[],r=[];let i=0;for(let s=0;s<t.length;s++){const{dynamic:a,encoded:c}=t[s];a?(n.push(Ei(e+i,{size:32})),r.push(c),i+=Cs(c)):n.push(c)}return Ma(...n,...r)}function une(t,e){const{checksum:n=!1}=e;return x1(t,{strict:n}),{dynamic:!1,encoded:Ed(t.toLowerCase())}}function dne(t,e){const{checksumAddress:n,length:r,parameter:i}=e,s=r===null;if(!Array.isArray(t))throw new xne(t);if(!s&&t.length!==r)throw new Ane({expectedLength:r,givenLength:t.length,type:`${i.type}[${r}]`});let a=!1;const c=[];for(let u=0;u<t.length;u++){const d=r3({checksumAddress:n,parameter:i,value:t[u]});d.dynamic&&(a=!0),c.push(d)}if(s||a){const u=i3(c);if(s){const d=Ei(c.length,{size:32});return{dynamic:!0,encoded:c.length>0?Ma(d,u):d}}if(a)return{dynamic:!0,encoded:u}}return{dynamic:!1,encoded:Ma(...c.map(({encoded:u})=>u))}}function fne(t,{type:e}){const[,n]=e.split("bytes"),r=Cs(t);if(!n){let i=t;return r%32!==0&&(i=Sd(i,Math.ceil((t.length-2)/2/32)*32)),{dynamic:!0,encoded:Ma(Ed(Ei(r,{size:32})),i)}}if(r!==Number.parseInt(n,10))throw new tL({expectedSize:Number.parseInt(n,10),value:t});return{dynamic:!1,encoded:Sd(t)}}function hne(t){if(typeof t!="boolean")throw new Pt(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Ed(pB(t))}}function pne(t,{signed:e,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,i=e?-r-1n:0n;if(t>r||t<i)throw new gB({max:r.toString(),min:i.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:Ei(t,{size:32,signed:e})}}function mne(t){const e=VT(t),n=Math.ceil(Cs(e)/32),r=[];for(let i=0;i<n;i++)r.push(Sd(yo(e,i*32,(i+1)*32)));return{dynamic:!0,encoded:Ma(Sd(Ei(Cs(e),{size:32})),...r)}}function yne(t,e){const{checksumAddress:n,parameter:r}=e;let i=!1;const s=[];for(let a=0;a<r.components.length;a++){const c=r.components[a],u=Array.isArray(t)?a:c.name,d=r3({checksumAddress:n,parameter:c,value:t[u]});s.push(d),d.dynamic&&(i=!0)}return{dynamic:i,encoded:i?i3(s):Ma(...s.map(({encoded:a})=>a))}}function s3(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function Fy(t){const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return t.components?.some(Fy);const n=s3(t.type);return!!(n&&Fy({...t,type:n[1]}))}const gne={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new vne({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new wne({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new LR({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new LR({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function bne(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(gne);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}class LR extends Pt{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class wne extends Pt{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class vne extends Pt{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function _ne(t,e,n={}){const{as:r="Array",checksumAddress:i=!1}=n,s=typeof e=="string"?fB(e):e,a=bne(s);if(ch(s)===0&&t.length>0)throw new Sne;if(ch(s)&&ch(s)<32)throw new Ene({data:typeof e=="string"?e:Ba(e),parameters:t,size:ch(s)});let c=0;const u=r==="Array"?[]:{};for(let d=0;d<t.length;++d){const h=t[d];a.setPosition(c);const[p,y]=_h(a,h,{checksumAddress:i,staticPosition:0});c+=y,r==="Array"?u.push(p):u[h.name??d]=p}return u}function a3(t,e,n){const{checksumAddress:r=!1}={};if(t.length!==e.length)throw new nL({expectedLength:t.length,givenLength:e.length});const i=lne({checksumAddress:r,parameters:t,values:e}),s=i3(i);return s.length===0?"0x":s}function t6(t,e){if(t.length!==e.length)throw new nL({expectedLength:t.length,givenLength:e.length});const n=[];for(let r=0;r<t.length;r++){const i=t[r],s=e[r];n.push(t6.encode(i,s))}return Ma(...n)}(function(t){function e(n,r,i=!1){if(n==="address"){const u=r;return x1(u),Ed(u.toLowerCase(),i?32:0)}if(n==="string")return VT(r);if(n==="bytes")return r;if(n==="bool")return Ed(pB(r),i?32:1);const s=n.match(QB);if(s){const[u,d,h="256"]=s,p=Number.parseInt(h,10)/8;return Ei(r,{size:i?32:p,signed:d==="int"})}const a=n.match(tne);if(a){const[u,d]=a;if(Number.parseInt(d,10)!==(r.length-2)/2)throw new tL({expectedSize:Number.parseInt(d,10),value:r});return Sd(r,i?32:0)}const c=n.match(ene);if(c&&Array.isArray(r)){const[u,d]=c,h=[];for(let p=0;p<r.length;p++)h.push(e(d,r[p],!0));return h.length===0?"0x":Ma(...h)}throw new o3(n)}t.encode=e})(t6||(t6={}));function eL(t){return Array.isArray(t)&&typeof t[0]=="string"||typeof t=="string"?eR(t):t}class Ene extends Pt{constructor({data:e,parameters:n,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${rh(n)})`,`Data:   ${e} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class Sne extends Pt{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class Ane extends Pt{constructor({expectedLength:e,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${e}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class tL extends Pt{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${Cs(n)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class nL extends Pt{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${e}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class xne extends Pt{constructor(e){super(`Value \`${e}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class o3 extends Pt{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}let rL=class extends ET{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,aJ(e);const r=o1(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=e.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),$h(s)}update(e){return Nh(this),this.iHash.update(e),this}digestInto(e){Nh(this),gd(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:a,outputLen:c}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=a,e.outputLen=c,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const iL=(t,e,n)=>new rL(t,e).update(n).digest();iL.create=(t,e)=>new rL(t,e);const Yi=BigInt(0),xi=BigInt(1),td=BigInt(2),Tne=BigInt(3),sL=BigInt(4),aL=BigInt(5),oL=BigInt(8);function Hi(t,e){const n=t%e;return n>=Yi?n:e+n}function Fs(t,e,n){let r=t;for(;e-- >Yi;)r*=r,r%=n;return r}function n6(t,e){if(t===Yi)throw new Error("invert: expected non-zero number");if(e<=Yi)throw new Error("invert: expected positive modulus, got "+e);let n=Hi(t,e),r=e,i=Yi,s=xi;for(;n!==Yi;){const c=r/n,u=r%n,d=i-s*c;r=n,n=u,i=s,s=d}if(r!==xi)throw new Error("invert: does not exist");return Hi(i,e)}function cL(t,e){const n=(t.ORDER+xi)/sL,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function Ine(t,e){const n=(t.ORDER-aL)/oL,r=t.mul(e,td),i=t.pow(r,n),s=t.mul(e,i),a=t.mul(t.mul(s,td),i),c=t.mul(s,t.sub(a,t.ONE));if(!t.eql(t.sqr(c),e))throw new Error("Cannot find square root");return c}function Cne(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-xi,n=0;for(;e%td===Yi;)e/=td,n++;let r=td;const i=c3(t);for(;jR(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return cL;let s=i.pow(r,e);const a=(e+xi)/td;return function(u,d){if(u.is0(d))return d;if(jR(u,d)!==1)throw new Error("Cannot find square root");let h=n,p=u.mul(u.ONE,s),y=u.pow(d,e),g=u.pow(d,a);for(;!u.eql(y,u.ONE);){if(u.is0(y))return u.ZERO;let b=1,v=u.sqr(y);for(;!u.eql(v,u.ONE);)if(b++,v=u.sqr(v),b===h)throw new Error("Cannot find square root");const E=xi<<BigInt(h-b-1),O=u.pow(p,E);h=b,p=u.sqr(O),y=u.mul(y,p),g=u.mul(g,O)}return g}}function One(t){return t%sL===Tne?cL:t%oL===aL?Ine:Cne(t)}const kne=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Rne(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=kne.reduce((r,i)=>(r[i]="function",r),e);return y1(t,n)}function Nne(t,e,n){if(n<Yi)throw new Error("invalid exponent, negatives unsupported");if(n===Yi)return t.ONE;if(n===xi)return e;let r=t.ONE,i=e;for(;n>Yi;)n&xi&&(r=t.mul(r,i)),i=t.sqr(i),n>>=xi;return r}function lL(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((a,c,u)=>t.is0(c)?a:(r[u]=a,t.mul(a,c)),t.ONE),s=t.inv(i);return e.reduceRight((a,c,u)=>t.is0(c)?a:(r[u]=t.mul(a,r[u]),t.mul(a,c)),s),r}function jR(t,e){const n=(t.ORDER-xi)/td,r=t.pow(e,n),i=t.eql(r,t.ONE),s=t.eql(r,t.ZERO),a=t.eql(r,t.neg(t.ONE));if(!i&&!s&&!a)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function uL(t,e){e!==void 0&&wy(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function c3(t,e,n=!1,r={}){if(t<=Yi)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=uL(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let a;const c=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:m1(i),ZERO:Yi,ONE:xi,create:u=>Hi(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return Yi<=u&&u<t},is0:u=>u===Yi,isOdd:u=>(u&xi)===xi,neg:u=>Hi(-u,t),eql:(u,d)=>u===d,sqr:u=>Hi(u*u,t),add:(u,d)=>Hi(u+d,t),sub:(u,d)=>Hi(u-d,t),mul:(u,d)=>Hi(u*d,t),pow:(u,d)=>Nne(c,u,d),div:(u,d)=>Hi(u*n6(d,t),t),sqrN:u=>u*u,addN:(u,d)=>u+d,subN:(u,d)=>u-d,mulN:(u,d)=>u*d,inv:u=>n6(u,t),sqrt:r.sqrt||(u=>(a||(a=One(t)),a(c,u))),toBytes:u=>n?oB(u,s):Og(u,s),fromBytes:u=>{if(u.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+u.length);return n?aB(u):ud(u)},invertBatch:u=>lL(c,u),cmov:(u,d,h)=>h?d:u});return Object.freeze(c)}function dL(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function fL(t){const e=dL(t);return e+Math.ceil(e/2)}function $ne(t,e,n=!1){const r=t.length,i=dL(e),s=fL(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const a=n?aB(t):ud(t),c=Hi(a,e-xi)+xi;return n?oB(c,i):Og(c,i)}const zR=BigInt(0),r6=BigInt(1);function Q2(t,e){const n=e.negate();return t?n:e}function hL(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function eS(t,e){hL(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,s=m1(t),a=BigInt(t);return{windows:n,windowSize:r,mask:s,maxNumber:i,shiftBy:a}}function FR(t,e,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:a}=n;let c=Number(t&i),u=t>>a;c>r&&(c-=s,u+=r6);const d=e*r,h=d+Math.abs(c)-1,p=c===0,y=c<0,g=e%2!==0;return{nextN:u,offset:h,isZero:p,isNeg:y,isNegF:g,offsetF:d}}function Pne(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function Dne(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const tS=new WeakMap,pL=new WeakMap;function nS(t){return pL.get(t)||1}function Une(t,e){return{constTimeNegate:Q2,hasPrecomputes(n){return nS(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>zR;)r&r6&&(i=i.add(s)),s=s.double(),r>>=r6;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=eS(r,e),a=[];let c=n,u=c;for(let d=0;d<i;d++){u=c,a.push(u);for(let h=1;h<s;h++)u=u.add(c),a.push(u);c=u.double()}return a},wNAF(n,r,i){let s=t.ZERO,a=t.BASE;const c=eS(n,e);for(let u=0;u<c.windows;u++){const{nextN:d,offset:h,isZero:p,isNeg:y,isNegF:g,offsetF:b}=FR(i,u,c);i=d,p?a=a.add(Q2(g,r[b])):s=s.add(Q2(y,r[h]))}return{p:s,f:a}},wNAFUnsafe(n,r,i,s=t.ZERO){const a=eS(n,e);for(let c=0;c<a.windows&&i!==zR;c++){const{nextN:u,offset:d,isZero:h,isNeg:p}=FR(i,c,a);if(i=u,!h){const y=r[d];s=s.add(p?y.negate():y)}}return s},getPrecomputes(n,r,i){let s=tS.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&tS.set(r,i(s))),s},wNAFCached(n,r,i){const s=nS(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const a=nS(n);return a===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(a,this.getPrecomputes(a,n,i),r,s)},setWindowSize(n,r){hL(r,e),pL.set(n,r),tS.delete(n)}}}function Mne(t,e,n,r){Pne(n,t),Dne(r,e);const i=n.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const a=t.ZERO,c=GQ(BigInt(i));let u=1;c>12?u=c-3:c>4?u=c-2:c>0&&(u=2);const d=m1(u),h=new Array(Number(d)+1).fill(a),p=Math.floor((e.BITS-1)/u)*u;let y=a;for(let g=p;g>=0;g-=u){h.fill(a);for(let v=0;v<s;v++){const E=r[v],O=Number(E>>BigInt(g)&d);h[O]=h[O].add(n[v])}let b=a;for(let v=h.length-1,E=a;v>0;v--)E=E.add(h[v]),b=b.add(E);if(y=y.add(b),g!==0)for(let v=0;v<u;v++)y=y.double()}return y}function mL(t){return Rne(t.Fp),y1(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...uL(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}function qR(t){t.lowS!==void 0&&jy("lowS",t.lowS),t.prehash!==void 0&&jy("prehash",t.prehash)}function Bne(t){const e=mL(t);y1(e,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...e})}let Lne=class extends Error{constructor(e=""){super(e)}};const pc={Err:Lne,_tlv:{encode:(t,e)=>{const{Err:n}=pc;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=Tb(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?Tb(i.length/2|128):"";return Tb(t)+s+i+e},decode(t,e){const{Err:n}=pc;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let a=0;if(!s)a=i;else{const u=i&127;if(!u)throw new n("tlv.decode(long): indefinite length not supported");if(u>4)throw new n("tlv.decode(long): byte length is too big");const d=e.subarray(r,r+u);if(d.length!==u)throw new n("tlv.decode: length bytes not complete");if(d[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const h of d)a=a<<8|h;if(r+=u,a<128)throw new n("tlv.decode(long): not minimal encoding")}const c=e.subarray(r,r+a);if(c.length!==a)throw new n("tlv.decode: wrong value length");return{v:c,l:e.subarray(r+a)}}},_int:{encode(t){const{Err:e}=pc;if(t<vc)throw new e("integer: negative integers are not allowed");let n=Tb(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=pc;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return ud(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=pc,i=Xs("signature",t),{v:s,l:a}=r.decode(48,i);if(a.length)throw new e("invalid signature: left bytes after parsing");const{v:c,l:u}=r.decode(2,s),{v:d,l:h}=r.decode(2,u);if(h.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(c),s:n.decode(d)}},hexFromSig(t){const{_tlv:e,_int:n}=pc,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}};function rS(t,e){return zy(Og(t,e))}const vc=BigInt(0),Br=BigInt(1);BigInt(2);const iS=BigInt(3),jne=BigInt(4);function zne(t){const e=Bne(t),{Fp:n}=e,r=c3(e.n,e.nBitLength),i=e.toBytes||((A,S,C)=>{const I=S.toAffine();return Vw(Uint8Array.from([4]),n.toBytes(I.x),n.toBytes(I.y))}),s=e.fromBytes||(A=>{const S=A.subarray(1),C=n.fromBytes(S.subarray(0,n.BYTES)),I=n.fromBytes(S.subarray(n.BYTES,2*n.BYTES));return{x:C,y:I}});function a(A){const{a:S,b:C}=e,I=n.sqr(A),$=n.mul(I,A);return n.add(n.add($,n.mul(A,S)),C)}function c(A,S){const C=n.sqr(S),I=a(A);return n.eql(C,I)}if(!c(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const u=n.mul(n.pow(e.a,iS),jne),d=n.mul(n.sqr(e.b),BigInt(27));if(n.is0(n.add(u,d)))throw new Error("bad curve params: a or b");function h(A){return HT(A,Br,e.n)}function p(A){const{allowedPrivateKeyLengths:S,nByteLength:C,wrapPrivateKey:I,n:$}=e;if(S&&typeof A!="bigint"){if(Cg(A)&&(A=zy(A)),typeof A!="string"||!S.includes(A.length))throw new Error("invalid private key");A=A.padStart(C*2,"0")}let z;try{z=typeof A=="bigint"?A:ud(Xs("private key",A,C))}catch{throw new Error("invalid private key, expected hex or "+C+" bytes, got "+typeof A)}return I&&(z=Hi(z,$)),vh("private key",z,Br,$),z}function y(A){if(!(A instanceof v))throw new Error("ProjectivePoint expected")}const g=AR((A,S)=>{const{px:C,py:I,pz:$}=A;if(n.eql($,n.ONE))return{x:C,y:I};const z=A.is0();S==null&&(S=z?n.ONE:n.inv($));const j=n.mul(C,S),B=n.mul(I,S),G=n.mul($,S);if(z)return{x:n.ZERO,y:n.ZERO};if(!n.eql(G,n.ONE))throw new Error("invZ was invalid");return{x:j,y:B}}),b=AR(A=>{if(A.is0()){if(e.allowInfinityPoint&&!n.is0(A.py))return;throw new Error("bad point: ZERO")}const{x:S,y:C}=A.toAffine();if(!n.isValid(S)||!n.isValid(C))throw new Error("bad point: x or y not FE");if(!c(S,C))throw new Error("bad point: equation left != right");if(!A.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class v{constructor(S,C,I){if(S==null||!n.isValid(S))throw new Error("x required");if(C==null||!n.isValid(C)||n.is0(C))throw new Error("y required");if(I==null||!n.isValid(I))throw new Error("z required");this.px=S,this.py=C,this.pz=I,Object.freeze(this)}static fromAffine(S){const{x:C,y:I}=S||{};if(!S||!n.isValid(C)||!n.isValid(I))throw new Error("invalid affine point");if(S instanceof v)throw new Error("projective point not allowed");const $=z=>n.eql(z,n.ZERO);return $(C)&&$(I)?v.ZERO:new v(C,I,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(S){const C=lL(n,S.map(I=>I.pz));return S.map((I,$)=>I.toAffine(C[$])).map(v.fromAffine)}static fromHex(S){const C=v.fromAffine(s(Xs("pointHex",S)));return C.assertValidity(),C}static fromPrivateKey(S){return v.BASE.multiply(p(S))}static msm(S,C){return Mne(v,r,S,C)}_setWindowSize(S){k.setWindowSize(this,S)}assertValidity(){b(this)}hasEvenY(){const{y:S}=this.toAffine();if(n.isOdd)return!n.isOdd(S);throw new Error("Field doesn't support isOdd")}equals(S){y(S);const{px:C,py:I,pz:$}=this,{px:z,py:j,pz:B}=S,G=n.eql(n.mul(C,B),n.mul(z,$)),U=n.eql(n.mul(I,B),n.mul(j,$));return G&&U}negate(){return new v(this.px,n.neg(this.py),this.pz)}double(){const{a:S,b:C}=e,I=n.mul(C,iS),{px:$,py:z,pz:j}=this;let B=n.ZERO,G=n.ZERO,U=n.ZERO,F=n.mul($,$),K=n.mul(z,z),T=n.mul(j,j),x=n.mul($,z);return x=n.add(x,x),U=n.mul($,j),U=n.add(U,U),B=n.mul(S,U),G=n.mul(I,T),G=n.add(B,G),B=n.sub(K,G),G=n.add(K,G),G=n.mul(B,G),B=n.mul(x,B),U=n.mul(I,U),T=n.mul(S,T),x=n.sub(F,T),x=n.mul(S,x),x=n.add(x,U),U=n.add(F,F),F=n.add(U,F),F=n.add(F,T),F=n.mul(F,x),G=n.add(G,F),T=n.mul(z,j),T=n.add(T,T),F=n.mul(T,x),B=n.sub(B,F),U=n.mul(T,K),U=n.add(U,U),U=n.add(U,U),new v(B,G,U)}add(S){y(S);const{px:C,py:I,pz:$}=this,{px:z,py:j,pz:B}=S;let G=n.ZERO,U=n.ZERO,F=n.ZERO;const K=e.a,T=n.mul(e.b,iS);let x=n.mul(C,z),N=n.mul(I,j),L=n.mul($,B),P=n.add(C,I),H=n.add(z,j);P=n.mul(P,H),H=n.add(x,N),P=n.sub(P,H),H=n.add(C,$);let D=n.add(z,B);return H=n.mul(H,D),D=n.add(x,L),H=n.sub(H,D),D=n.add(I,$),G=n.add(j,B),D=n.mul(D,G),G=n.add(N,L),D=n.sub(D,G),F=n.mul(K,H),G=n.mul(T,L),F=n.add(G,F),G=n.sub(N,F),F=n.add(N,F),U=n.mul(G,F),N=n.add(x,x),N=n.add(N,x),L=n.mul(K,L),H=n.mul(T,H),N=n.add(N,L),L=n.sub(x,L),L=n.mul(K,L),H=n.add(H,L),x=n.mul(N,H),U=n.add(U,x),x=n.mul(D,H),G=n.mul(P,G),G=n.sub(G,x),x=n.mul(P,N),F=n.mul(D,F),F=n.add(F,x),new v(G,U,F)}subtract(S){return this.add(S.negate())}is0(){return this.equals(v.ZERO)}wNAF(S){return k.wNAFCached(this,S,v.normalizeZ)}multiplyUnsafe(S){const{endo:C,n:I}=e;vh("scalar",S,vc,I);const $=v.ZERO;if(S===vc)return $;if(this.is0()||S===Br)return this;if(!C||k.hasPrecomputes(this))return k.wNAFCachedUnsafe(this,S,v.normalizeZ);let{k1neg:z,k1:j,k2neg:B,k2:G}=C.splitScalar(S),U=$,F=$,K=this;for(;j>vc||G>vc;)j&Br&&(U=U.add(K)),G&Br&&(F=F.add(K)),K=K.double(),j>>=Br,G>>=Br;return z&&(U=U.negate()),B&&(F=F.negate()),F=new v(n.mul(F.px,C.beta),F.py,F.pz),U.add(F)}multiply(S){const{endo:C,n:I}=e;vh("scalar",S,Br,I);let $,z;if(C){const{k1neg:j,k1:B,k2neg:G,k2:U}=C.splitScalar(S);let{p:F,f:K}=this.wNAF(B),{p:T,f:x}=this.wNAF(U);F=k.constTimeNegate(j,F),T=k.constTimeNegate(G,T),T=new v(n.mul(T.px,C.beta),T.py,T.pz),$=F.add(T),z=K.add(x)}else{const{p:j,f:B}=this.wNAF(S);$=j,z=B}return v.normalizeZ([$,z])[0]}multiplyAndAddUnsafe(S,C,I){const $=v.BASE,z=(B,G)=>G===vc||G===Br||!B.equals($)?B.multiplyUnsafe(G):B.multiply(G),j=z(this,C).add(z(S,I));return j.is0()?void 0:j}toAffine(S){return g(this,S)}isTorsionFree(){const{h:S,isTorsionFree:C}=e;if(S===Br)return!0;if(C)return C(v,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:S,clearCofactor:C}=e;return S===Br?this:C?C(v,this):this.multiplyUnsafe(e.h)}toRawBytes(S=!0){return jy("isCompressed",S),this.assertValidity(),i(v,this,S)}toHex(S=!0){return jy("isCompressed",S),zy(this.toRawBytes(S))}}v.BASE=new v(e.Gx,e.Gy,n.ONE),v.ZERO=new v(n.ZERO,n.ONE,n.ZERO);const{endo:E,nBitLength:O}=e,k=Une(v,E?Math.ceil(O/2):O);return{CURVE:e,ProjectivePoint:v,normPrivateKeyToScalar:p,weierstrassEquation:a,isWithinCurveOrder:h}}function Fne(t){const e=mL(t);return y1(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function qne(t){const e=Fne(t),{Fp:n,n:r,nByteLength:i,nBitLength:s}=e,a=n.BYTES+1,c=2*n.BYTES+1;function u(T){return Hi(T,r)}function d(T){return n6(T,r)}const{ProjectivePoint:h,normPrivateKeyToScalar:p,weierstrassEquation:y,isWithinCurveOrder:g}=zne({...e,toBytes(T,x,N){const L=x.toAffine(),P=n.toBytes(L.x),H=Vw;return jy("isCompressed",N),N?H(Uint8Array.from([x.hasEvenY()?2:3]),P):H(Uint8Array.from([4]),P,n.toBytes(L.y))},fromBytes(T){const x=T.length,N=T[0],L=T.subarray(1);if(x===a&&(N===2||N===3)){const P=ud(L);if(!HT(P,Br,n.ORDER))throw new Error("Point is not on curve");const H=y(P);let D;try{D=n.sqrt(H)}catch(X){const Q=X instanceof Error?": "+X.message:"";throw new Error("Point is not on curve"+Q)}const V=(D&Br)===Br;return(N&1)===1!==V&&(D=n.neg(D)),{x:P,y:D}}else if(x===c&&N===4){const P=n.fromBytes(L.subarray(0,n.BYTES)),H=n.fromBytes(L.subarray(n.BYTES,2*n.BYTES));return{x:P,y:H}}else{const P=a,H=c;throw new Error("invalid Point, expected length of "+P+", or uncompressed "+H+", got "+x)}}});function b(T){const x=r>>Br;return T>x}function v(T){return b(T)?u(-T):T}const E=(T,x,N)=>ud(T.slice(x,N));class O{constructor(x,N,L){vh("r",x,Br,r),vh("s",N,Br,r),this.r=x,this.s=N,L!=null&&(this.recovery=L),Object.freeze(this)}static fromCompact(x){const N=i;return x=Xs("compactSignature",x,N*2),new O(E(x,0,N),E(x,N,2*N))}static fromDER(x){const{r:N,s:L}=pc.toSig(Xs("DER",x));return new O(N,L)}assertValidity(){}addRecoveryBit(x){return new O(this.r,this.s,x)}recoverPublicKey(x){const{r:N,s:L,recovery:P}=this,H=$(Xs("msgHash",x));if(P==null||![0,1,2,3].includes(P))throw new Error("recovery id invalid");const D=P===2||P===3?N+e.n:N;if(D>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const V=(P&1)===0?"02":"03",J=h.fromHex(V+rS(D,n.BYTES)),X=d(D),Q=u(-H*X),ge=u(L*X),we=h.BASE.multiplyAndAddUnsafe(J,Q,ge);if(!we)throw new Error("point at infinify");return we.assertValidity(),we}hasHighS(){return b(this.s)}normalizeS(){return this.hasHighS()?new O(this.r,u(-this.s),this.recovery):this}toDERRawBytes(){return Hw(this.toDERHex())}toDERHex(){return pc.hexFromSig(this)}toCompactRawBytes(){return Hw(this.toCompactHex())}toCompactHex(){const x=i;return rS(this.r,x)+rS(this.s,x)}}const k={isValidPrivateKey(T){try{return p(T),!0}catch{return!1}},normPrivateKeyToScalar:p,randomPrivateKey:()=>{const T=fL(e.n);return $ne(e.randomBytes(T),e.n)},precompute(T=8,x=h.BASE){return x._setWindowSize(T),x.multiply(BigInt(3)),x}};function A(T,x=!0){return h.fromPrivateKey(T).toRawBytes(x)}function S(T){if(typeof T=="bigint")return!1;if(T instanceof h)return!0;const N=Xs("key",T).length,L=n.BYTES,P=L+1,H=2*L+1;if(!(e.allowedPrivateKeyLengths||i===P))return N===P||N===H}function C(T,x,N=!0){if(S(T)===!0)throw new Error("first arg must be private key");if(S(x)===!1)throw new Error("second arg must be public key");return h.fromHex(x).multiply(p(T)).toRawBytes(N)}const I=e.bits2int||function(T){if(T.length>8192)throw new Error("input is too large");const x=ud(T),N=T.length*8-s;return N>0?x>>BigInt(N):x},$=e.bits2int_modN||function(T){return u(I(T))},z=m1(s);function j(T){return vh("num < 2^"+s,T,vc,z),Og(T,i)}function B(T,x,N=G){if(["recovered","canonical"].some(Ee=>Ee in N))throw new Error("sign() legacy options not supported");const{hash:L,randomBytes:P}=e;let{lowS:H,prehash:D,extraEntropy:V}=N;H==null&&(H=!0),T=Xs("msgHash",T),qR(N),D&&(T=Xs("prehashed msgHash",L(T)));const J=$(T),X=p(x),Q=[j(X),j(J)];if(V!=null&&V!==!1){const Ee=V===!0?P(n.BYTES):V;Q.push(Xs("extraEntropy",Ee))}const ge=Vw(...Q),we=J;function xe(Ee){const $e=I(Ee);if(!g($e))return;const Fe=d($e),tt=h.BASE.multiply($e).toAffine(),me=u(tt.x);if(me===vc)return;const St=u(Fe*u(we+me*X));if(St===vc)return;let Ht=(tt.x===me?0:2)|Number(tt.y&Br),gt=St;return H&&b(St)&&(gt=v(St),Ht^=1),new O(me,gt,Ht)}return{seed:ge,k2sig:xe}}const G={lowS:e.lowS,prehash:!1},U={lowS:e.lowS,prehash:!1};function F(T,x,N=G){const{seed:L,k2sig:P}=B(T,x,N),H=e;return KQ(H.hash.outputLen,H.nByteLength,H.hmac)(L,P)}h.BASE._setWindowSize(8);function K(T,x,N,L=U){const P=T;x=Xs("msgHash",x),N=Xs("publicKey",N);const{lowS:H,prehash:D,format:V}=L;if(qR(L),"strict"in L)throw new Error("options.strict was renamed to lowS");if(V!==void 0&&V!=="compact"&&V!=="der")throw new Error("format must be compact or der");const J=typeof P=="string"||Cg(P),X=!J&&!V&&typeof P=="object"&&P!==null&&typeof P.r=="bigint"&&typeof P.s=="bigint";if(!J&&!X)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let Q,ge;try{if(X&&(Q=new O(P.r,P.s)),J){try{V!=="compact"&&(Q=O.fromDER(P))}catch(Ht){if(!(Ht instanceof pc.Err))throw Ht}!Q&&V!=="der"&&(Q=O.fromCompact(P))}ge=h.fromHex(N)}catch{return!1}if(!Q||H&&Q.hasHighS())return!1;D&&(x=e.hash(x));const{r:we,s:xe}=Q,Ee=$(x),$e=d(xe),Fe=u(Ee*$e),tt=u(we*$e),me=h.BASE.multiplyAndAddUnsafe(ge,Fe,tt)?.toAffine();return me?u(me.x)===we:!1}return{CURVE:e,getPublicKey:A,getSharedSecret:C,sign:F,verify:K,ProjectivePoint:h,Signature:O,utils:k}}function Wne(t){return{hash:t,hmac:(e,...n)=>iL(t,e,fJ(...n)),randomBytes:hJ}}function Hne(t,e){const n=r=>qne({...t,...Wne(r)});return{...n(e),create:n}}const yL=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),WR=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Vne=BigInt(0),Gne=BigInt(1),i6=BigInt(2),HR=(t,e)=>(t+e/i6)/e;function Kne(t){const e=yL,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),a=BigInt(23),c=BigInt(44),u=BigInt(88),d=t*t*t%e,h=d*d*t%e,p=Fs(h,n,e)*h%e,y=Fs(p,n,e)*h%e,g=Fs(y,i6,e)*d%e,b=Fs(g,i,e)*g%e,v=Fs(b,s,e)*b%e,E=Fs(v,c,e)*v%e,O=Fs(E,u,e)*E%e,k=Fs(O,c,e)*v%e,A=Fs(k,n,e)*h%e,S=Fs(A,a,e)*b%e,C=Fs(S,r,e)*d%e,I=Fs(C,i6,e);if(!s6.eql(s6.sqr(I),t))throw new Error("Cannot find square root");return I}const s6=c3(yL,void 0,void 0,{sqrt:Kne}),T1=Hne({a:Vne,b:BigInt(7),Fp:s6,n:WR,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=WR,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Gne*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,a=BigInt("0x100000000000000000000000000000000"),c=HR(s*t,e),u=HR(-r*t,e);let d=Hi(t-c*n-u*i,e),h=Hi(-c*r-u*s,e);const p=d>a,y=h>a;if(p&&(d=e-d),y&&(h=e-h),d>a||h>a)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:p,k1:d,k2neg:y,k2:h}}}},KM),Yne=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:T1},Symbol.toStringTag,{value:"Module"}));function gL(t,e={}){const{recovered:n}=e;if(typeof t.r>"u")throw new sS({signature:t});if(typeof t.s>"u")throw new sS({signature:t});if(n&&typeof t.yParity>"u")throw new sS({signature:t});if(t.r<0n||t.r>MR)throw new nre({value:t.r});if(t.s<0n||t.s>MR)throw new rre({value:t.s});if(typeof t.yParity=="number"&&t.yParity!==0&&t.yParity!==1)throw new u3({value:t.yParity})}function Zne(t){return bL(Ba(t))}function bL(t){if(t.length!==130&&t.length!==132)throw new tre({signature:t});const e=BigInt(yo(t,0,32)),n=BigInt(yo(t,32,64)),r=(()=>{const i=+`0x${t.slice(130)}`;if(!Number.isNaN(i))try{return l3(i)}catch{throw new u3({value:i})}})();return typeof r>"u"?{r:e,s:n}:{r:e,s:n,yParity:r}}function Xne(t){if(!(typeof t.r>"u")&&!(typeof t.s>"u"))return Jne(t)}function Jne(t){const e=typeof t=="string"?bL(t):t instanceof Uint8Array?Zne(t):typeof t.r=="string"?ere(t):t.v?Qne(t):{r:t.r,s:t.s,...typeof t.yParity<"u"?{yParity:t.yParity}:{}};return gL(e),e}function Qne(t){return{r:t.r,s:t.s,yParity:l3(t.v)}}function ere(t){const e=(()=>{const n=t.v?Number(t.v):void 0;let r=t.yParity?Number(t.yParity):void 0;if(typeof n=="number"&&typeof r!="number"&&(r=l3(n)),typeof r!="number")throw new u3({value:t.yParity});return r})();return{r:BigInt(t.r),s:BigInt(t.s),yParity:e}}function l3(t){if(t===0||t===27)return 0;if(t===1||t===28)return 1;if(t>=35)return t%2===0?1:0;throw new ire({value:t})}let tre=class extends Pt{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${Cs(wee(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}};class sS extends Pt{constructor({signature:e}){super(`Signature \`${dB(e)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class nre extends Pt{constructor({value:e}){super(`Value \`${e}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class rre extends Pt{constructor({value:e}){super(`Value \`${e}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}let u3=class extends Pt{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}},ire=class extends Pt{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}};function sre(t,e={}){return typeof t.chainId=="string"?are(t):{...t,...e.signature}}function are(t){const{address:e,chainId:n,nonce:r}=t,i=Xne(t);return{address:e,chainId:Number(n),nonce:BigInt(r),...i}}const ore="0x8010801080108010801080108010801080108010801080108010801080108010",cre=eL("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function wL(t){if(typeof t=="string"){if(yo(t,-32)!==ore)throw new dre(t)}else gL(t.authorization)}function lre(t){wL(t);const e=yB(yo(t,-64,-32)),n=yo(t,-e-64,-64),r=yo(t,0,-e-64),[i,s,a]=_ne(cre,n);return{authorization:sre({address:i.delegation,chainId:Number(i.chainId),nonce:i.nonce,yParity:i.yParity,r:i.r,s:i.s}),signature:r,...a&&a!=="0x"?{data:a,to:s}:{}}}function ure(t){try{return wL(t),!0}catch{return!1}}let dre=class extends Pt{constructor(e){super(`Value \`${e}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};function fre(t){return t.map(e=>({...e,value:BigInt(e.value)}))}function hre(t){return{...t,balance:t.balance?BigInt(t.balance):void 0,nonce:t.nonce?Is(t.nonce):void 0,storageProof:t.storageProof?fre(t.storageProof):void 0}}async function pre(t,{address:e,blockNumber:n,blockTag:r,storageKeys:i}){const s=r??"latest",a=n!==void 0?Ne(n):void 0,c=await t.request({method:"eth_getProof",params:[e,i,a||s]});return hre(c)}async function mre(t,{address:e,blockNumber:n,blockTag:r="latest",slot:i}){const s=n!==void 0?Ne(n):void 0;return await t.request({method:"eth_getStorageAt",params:[e,i,s||r]})}async function d3(t,{blockHash:e,blockNumber:n,blockTag:r,hash:i,index:s,sender:a,nonce:c}){const u=r||"latest",d=n!==void 0?Ne(n):void 0;let h=null;if(i?h=await t.request({method:"eth_getTransactionByHash",params:[i]},{dedupe:!0}):e?h=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,Ne(s)]},{dedupe:!0}):typeof s=="number"?h=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[d||u,Ne(s)]},{dedupe:!!d}):a&&typeof c=="number"&&(h=await t.request({method:"eth_getTransactionBySenderAndNonce",params:[a,Ne(c)]},{dedupe:!0})),!h)throw new NM({blockHash:e,blockNumber:n,blockTag:u,hash:i,index:s});return(t.chain?.formatters?.transaction?.format||xg)(h,"getTransaction")}async function yre(t,{hash:e,transactionReceipt:n}){const[r,i]=await Promise.all([qe(t,Ng,"getBlockNumber")({}),e?qe(t,d3,"getTransaction")({hash:e}):void 0]),s=n?.blockNumber||i?.blockNumber;return s?r-s+1n:0n}async function yw(t,{hash:e}){const n=await t.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!n)throw new $M({hash:e});return(t.chain?.formatters?.transactionReceipt?.format||YT)(n,"getTransactionReceipt")}async function gre(t,e){const{account:n,authorizationList:r,allowFailure:i=!0,blockNumber:s,blockOverrides:a,blockTag:c,stateOverride:u}=e,d=e.contracts,{batchSize:h=e.batchSize??1024,deployless:p=e.deployless??!1}=typeof t.batch?.multicall=="object"?t.batch.multicall:{},y=(()=>{if(e.multicallAddress)return e.multicallAddress;if(p)return null;if(t.chain)return cp({blockNumber:s,chain:t.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),g=[[]];let b=0,v=0;for(let k=0;k<d.length;k++){const{abi:A,address:S,args:C,functionName:I}=d[k];try{const $=Oi({abi:A,args:C,functionName:I});v+=($.length-2)/2,h>0&&v>h&&g[b].length>0&&(b++,v=($.length-2)/2,g[b]=[]),g[b]=[...g[b],{allowFailure:!0,callData:$,target:S}]}catch($){const z=vd($,{abi:A,address:S,args:C,docsPath:"/docs/contract/multicall",functionName:I,sender:n});if(!i)throw z;g[b]=[...g[b],{allowFailure:!0,callData:"0x",target:S}]}}const E=await Promise.allSettled(g.map(k=>qe(t,La,"readContract")({...y===null?{code:GT}:{address:y},abi:Gw,account:n,args:[k],authorizationList:r,blockNumber:s,blockOverrides:a,blockTag:c,functionName:"aggregate3",stateOverride:u}))),O=[];for(let k=0;k<E.length;k++){const A=E[k];if(A.status==="rejected"){if(!i)throw A.reason;for(let C=0;C<g[k].length;C++)O.push({status:"failure",error:A.reason,result:void 0});continue}const S=A.value;for(let C=0;C<S.length;C++){const{returnData:I,success:$}=S[C],{callData:z}=g[k][C],{abi:j,address:B,functionName:G,args:U}=d[O.length];try{if(z==="0x")throw new bg;if(!$)throw new u1({data:I});const F=Ld({abi:j,args:U,data:I,functionName:G});O.push(i?{result:F,status:"success"}:F)}catch(F){const K=vd(F,{abi:j,address:B,args:U,docsPath:"/docs/contract/multicall",functionName:G});if(!i)throw K;O.push({error:K,result:void 0,status:"failure"})}}}if(O.length!==d.length)throw new _e("multicall results mismatch");return O}async function a6(t,e){const{blockNumber:n,blockTag:r=t.experimental_blockTag??"latest",blocks:i,returnFullTransactions:s,traceTransfers:a,validation:c}=e;try{const u=[];for(const y of i){const g=y.blockOverrides?wB(y.blockOverrides):void 0,b=y.calls.map(E=>{const O=E,k=O.account?On(O.account):void 0,A=O.abi?Oi(O):O.data,S={...O,account:k,data:O.dataSuffix?sa([A||"0x",O.dataSuffix]):A,from:O.from??k?.address};return Io(S),Wc(S)}),v=y.stateOverrides?kT(y.stateOverrides):void 0;u.push({blockOverrides:g,calls:b,stateOverrides:v})}const h=(typeof n=="bigint"?Ne(n):void 0)||r;return(await t.request({method:"eth_simulateV1",params:[{blockStateCalls:u,returnFullTransactions:s,traceTransfers:a,validation:c},h]})).map((y,g)=>({...NT(y),calls:y.calls.map((b,v)=>{const{abi:E,args:O,functionName:k,to:A}=i[g].calls[v],S=b.error?.data??b.returnData,C=BigInt(b.gasUsed),I=b.logs?.map(B=>Eo(B)),$=b.status==="0x1"?"success":"failure",z=E&&$==="success"&&S!=="0x"?Ld({abi:E,data:S,functionName:k}):null,j=(()=>{if($==="success")return;let B;if(b.error?.data==="0x"?B=new bg:b.error&&(B=new u1(b.error)),!!B)return vd(B,{abi:E??[],address:A??"0x",args:O,functionName:k??"<unknown>"})})();return{data:S,gasUsed:C,logs:I,status:$,...$==="success"?{result:z}:{error:j}}})}))}catch(u){const d=u,h=f1(d,{});throw h instanceof Ag?d:h}}function o6(t){let e=!0,n="",r=0,i="",s=!1;for(let a=0;a<t.length;a++){const c=t[a];if(["(",")",","].includes(c)&&(e=!0),c==="("&&r++,c===")"&&r--,!!e){if(r===0){if(c===" "&&["event","function","error",""].includes(i))i="";else if(i+=c,c===")"){s=!0;break}continue}if(c===" "){t[a-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}i+=c,n+=c}}if(!s)throw new Pt("Unable to normalize signature.");return i}function c6(t,e){const n=typeof t,r=e.type;switch(r){case"address":return Qx(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((i,s)=>c6(Object.values(t)[s],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(i=>c6(i,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function vL(t,e,n){for(const r in t){const i=t[r],s=e[r];if(i.type==="tuple"&&s.type==="tuple"&&"components"in i&&"components"in s)return vL(i.components,s.components,n[r]);const a=[i.type,s.type];if(a.includes("address")&&a.includes("bytes20")?!0:a.includes("address")&&a.includes("string")?Qx(n[r],{strict:!1}):a.includes("address")&&a.includes("bytes")?Qx(n[r],{strict:!1}):!1)return a}}function _L(t,e={}){const{prepare:n=!0}=e,r=Array.isArray(t)||typeof t=="string"?Qk(t):t;return{...r,...n?{hash:lh(r)}:{}}}function I1(t,e,n){const{args:r=[],prepare:i=!0}=n??{},s=vee(e,{strict:!1}),a=t.filter(d=>s?d.type==="function"||d.type==="error"?EL(d)===yo(e,0,4):d.type==="event"?lh(d)===e:!1:"name"in d&&d.name===e);if(a.length===0)throw new Yw({name:e});if(a.length===1)return{...a[0],...i?{hash:lh(a[0])}:{}};let c;for(const d of a){if(!("inputs"in d))continue;if(!r||r.length===0){if(!d.inputs||d.inputs.length===0)return{...d,...i?{hash:lh(d)}:{}};continue}if(!d.inputs||d.inputs.length===0||d.inputs.length!==r.length)continue;if(r.every((p,y)=>{const g="inputs"in d&&d.inputs[y];return g?c6(p,g):!1})){if(c&&"inputs"in c&&c.inputs){const p=vL(d.inputs,c.inputs,r);if(p)throw new wre({abiItem:d,type:p[0]},{abiItem:c,type:p[1]})}c=d}}const u=(()=>{if(c)return c;const[d,...h]=a;return{...d,overloads:h}})();if(!u)throw new Yw({name:e});return{...u,...i?{hash:lh(u)}:{}}}function EL(...t){const e=(()=>{if(Array.isArray(t[0])){const[n,r]=t;return I1(n,r)}return t[0]})();return yo(lh(e),0,4)}function bre(...t){const e=(()=>{if(Array.isArray(t[0])){const[r,i]=t;return I1(r,i)}return t[0]})(),n=typeof e=="string"?e:zw(e);return o6(n)}function lh(...t){const e=(()=>{if(Array.isArray(t[0])){const[n,r]=t;return I1(n,r)}return t[0]})();return typeof e!="string"&&"hash"in e&&e.hash?e.hash:XB(VT(bre(e)))}class wre extends Pt{constructor(e,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${e.type}\` in \`${o6(zw(e.abiItem))}\`, and`,`\`${n.type}\` in \`${o6(zw(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class Yw extends Pt{constructor({name:e,data:n,type:r="item"}){const i=e?` with name "${e}"`:n?` with data "${n}"`:"";super(`ABI ${r}${i} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function vre(...t){const[e,n]=(()=>{if(Array.isArray(t[0])){const[s,a]=t;return[Ere(s),a]}return t})(),{bytecode:r,args:i}=n;return Ma(r,e.inputs?.length&&i?.length?a3(e.inputs,i):"0x")}function _re(t){return _L(t)}function Ere(t){const e=t.find(n=>n.type==="constructor");if(!e)throw new Yw({name:"constructor"});return e}function Sre(...t){const[e,n=[]]=(()=>{if(Array.isArray(t[0])){const[d,h,p]=t;return[VR(d,h,{args:p}),p]}const[c,u]=t;return[c,u]})(),{overloads:r}=e,i=r?VR([e,...r],e.name,{args:n}):e,s=Are(i),a=n.length>0?a3(i.inputs,n):void 0;return a?Ma(s,a):s}function Mf(t,e={}){return _L(t,e)}function VR(t,e,n){const r=I1(t,e,n);if(r.type!=="function")throw new Yw({name:e,type:"function"});return r}function Are(t){return EL(t)}const xre="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",Ya="0x0000000000000000000000000000000000000000",Tre="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function Ire(t,e){const{blockNumber:n,blockTag:r,calls:i,stateOverrides:s,traceAssetChanges:a,traceTransfers:c,validation:u}=e,d=e.account?On(e.account):void 0;if(a&&!d)throw new _e("`account` is required when `traceAssetChanges` is true");const h=d?vre(_re("constructor(bytes, bytes)"),{bytecode:SB,args:[Tre,Sre(Mf("function getBalance(address)"),[d.address])]}):void 0,p=a?await Promise.all(e.calls.map(async L=>{if(!L.data&&!L.abi)return;const{accessList:P}=await zB(t,{account:d.address,...L,data:L.abi?Oi(L):L.data});return P.map(({address:H,storageKeys:D})=>D.length>0?H:null)})).then(L=>L.flat().filter(Boolean)):[],y=await a6(t,{blockNumber:n,blockTag:r,blocks:[...a?[{calls:[{data:h}],stateOverrides:s},{calls:p.map((L,P)=>({abi:[Mf("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[d.address],to:L,from:Ya,nonce:P})),stateOverrides:[{address:Ya,nonce:0}]}]:[],{calls:[...i,{}].map(L=>({...L,from:d?.address})),stateOverrides:s},...a?[{calls:[{data:h}]},{calls:p.map((L,P)=>({abi:[Mf("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[d.address],to:L,from:Ya,nonce:P})),stateOverrides:[{address:Ya,nonce:0}]},{calls:p.map((L,P)=>({to:L,abi:[Mf("function decimals() returns (uint256)")],functionName:"decimals",from:Ya,nonce:P})),stateOverrides:[{address:Ya,nonce:0}]},{calls:p.map((L,P)=>({to:L,abi:[Mf("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:Ya,nonce:P})),stateOverrides:[{address:Ya,nonce:0}]},{calls:p.map((L,P)=>({to:L,abi:[Mf("function symbol() returns (string)")],functionName:"symbol",from:Ya,nonce:P})),stateOverrides:[{address:Ya,nonce:0}]}]:[]],traceTransfers:c,validation:u}),g=a?y[2]:y[0],[b,v,,E,O,k,A,S]=a?y:[],{calls:C,...I}=g,$=C.slice(0,-1)??[],z=b?.calls??[],j=v?.calls??[],B=[...z,...j].map(L=>L.status==="success"?an(L.data):null),G=E?.calls??[],U=O?.calls??[],F=[...G,...U].map(L=>L.status==="success"?an(L.data):null),K=(k?.calls??[]).map(L=>L.status==="success"?L.result:null),T=(S?.calls??[]).map(L=>L.status==="success"?L.result:null),x=(A?.calls??[]).map(L=>L.status==="success"?L.result:null),N=[];for(const[L,P]of F.entries()){const H=B[L];if(typeof P!="bigint"||typeof H!="bigint")continue;const D=K[L-1],V=T[L-1],J=x[L-1],X=L===0?{address:xre,decimals:18,symbol:"ETH"}:{address:p[L-1],decimals:J||D?Number(D??1):void 0,symbol:V??void 0};N.some(Q=>Q.token.address===X.address)||N.push({token:X,value:{pre:H,post:P,diff:P-H}})}return{assetChanges:N,block:I,results:$}}const SL="0x6492649264926492649264926492649264926492649264926492649264926492";function Cre(t){if(yo(t,-32)!==SL)throw new Rre(t)}function Ore(t){const{data:e,signature:n,to:r}=t;return Ma(a3(eL("address, bytes, bytes"),[r,e,n]),SL)}function kre(t){try{return Cre(t),!0}catch{return!1}}class Rre extends Pt{constructor(e){super(`Value \`${e}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}function AL({r:t,s:e,to:n="hex",v:r,yParity:i}){const s=(()=>{if(i===0||i===1)return i;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),a=`0x${new T1.Signature(an(t),an(e)).toCompactHex()}${s===0?"1b":"1c"}`;return n==="hex"?a:Ai(a)}async function C1(t,e){const{address:n,chain:r=t.chain,hash:i,erc6492VerifierAddress:s=e.universalSignatureVerifierAddress??r?.contracts?.erc6492Verifier?.address,multicallAddress:a=e.multicallAddress??r?.contracts?.multicall3?.address}=e;if(r?.verifyHash)return await r.verifyHash(t,e);const c=(()=>{const u=e.signature;return Si(u)?u:typeof u=="object"&&"r"in u&&"s"in u?AL(u):wr(u)})();try{return ure(c)?await Nre(t,{...e,multicallAddress:a,signature:c}):await $re(t,{...e,verifierAddress:s,signature:c})}catch(u){try{if(Ig(ri(n),await BM({hash:i,signature:c})))return!0}catch{}if(u instanceof Ad)return!1;throw u}}async function Nre(t,e){const{address:n,blockNumber:r,blockTag:i,hash:s,multicallAddress:a}=e,{authorization:c,data:u,signature:d,to:h}=lre(e.signature);if(await Jx(t,{address:n,blockNumber:r,blockTag:i})===la(["0xef0100",c.address]))return await Pre(t,{address:n,blockNumber:r,blockTag:i,hash:s,signature:d});const y={address:c.address,chainId:Number(c.chainId),nonce:Number(c.nonce),r:Ne(c.r,{size:32}),s:Ne(c.s,{size:32}),yParity:c.yParity};if(!await Nte({address:n,authorization:y}))throw new Ad;const b=await qe(t,La,"readContract")({...a?{address:a}:{code:GT},authorizationList:[y],abi:Gw,blockNumber:r,blockTag:"pending",functionName:"aggregate3",args:[[...u?[{allowFailure:!0,target:h??n,callData:u}]:[],{allowFailure:!0,target:n,callData:Oi({abi:EB,functionName:"isValidSignature",args:[s,d]})}]]});if(b[b.length-1]?.returnData?.startsWith("0x1626ba7e"))return!0;throw new Ad}async function $re(t,e){const{address:n,factory:r,factoryData:i,hash:s,signature:a,verifierAddress:c,...u}=e,d=await(async()=>!r&&!i||kre(a)?a:Ore({data:i,signature:a,to:r}))(),h=c?{to:c,data:Oi({abi:kR,functionName:"isValidSig",args:[n,s,d]}),...u}:{data:b1({abi:kR,args:[n,s,d],bytecode:Iee}),...u},{data:p}=await qe(t,w1,"call")(h).catch(y=>{throw y instanceof DM?new Ad:y});if(GX(p??"0x0"))return!0;throw new Ad}async function Pre(t,e){const{address:n,blockNumber:r,blockTag:i,hash:s,signature:a}=e;if((await qe(t,La,"readContract")({address:n,abi:EB,args:[s,a],blockNumber:r,blockTag:i,functionName:"isValidSignature"}).catch(u=>{throw u instanceof UM?new Ad:u})).startsWith("0x1626ba7e"))return!0;throw new Ad}class Ad extends Error{}async function Dre(t,{address:e,message:n,factory:r,factoryData:i,signature:s,...a}){const c=n3(n);return qe(t,C1,"verifyHash")({address:e,factory:r,factoryData:i,hash:c,signature:s,...a})}async function Ure(t,e){const{address:n,factory:r,factoryData:i,signature:s,message:a,primaryType:c,types:u,domain:d,...h}=e,p=VB({message:a,primaryType:c,types:u,domain:d});return qe(t,C1,"verifyHash")({address:n,factory:r,factoryData:i,hash:p,signature:s,...h})}function xL(t,{emitOnBegin:e=!1,emitMissed:n=!1,onBlockNumber:r,onError:i,poll:s,pollingInterval:a=t.pollingInterval}){const c=typeof s<"u"?s:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc"));let u;return c?(()=>{const p=Cr(["watchBlockNumber",t.uid,e,n,a]);return Dc(p,{onBlockNumber:r,onError:i},y=>lp(async()=>{try{const g=await qe(t,Ng,"getBlockNumber")({cacheTime:0});if(u!==void 0){if(g===u)return;if(g-u>1&&n)for(let b=u+1n;b<g;b++)y.onBlockNumber(b,u),u=b}(u===void 0||g>u)&&(y.onBlockNumber(g,u),u=g)}catch(g){y.onError?.(g)}},{emitOnBegin:e,interval:a}))})():(()=>{const p=Cr(["watchBlockNumber",t.uid,e,n]);return Dc(p,{onBlockNumber:r,onError:i},y=>{let g=!0,b=()=>g=!1;return(async()=>{try{const v=(()=>{if(t.transport.type==="fallback"){const O=t.transport.transports.find(k=>k.config.type==="webSocket"||k.config.type==="ipc");return O?O.value:t.transport}return t.transport})(),{unsubscribe:E}=await v.subscribe({params:["newHeads"],onData(O){if(!g)return;const k=an(O.result?.number);y.onBlockNumber(k,u),u=k},onError(O){y.onError?.(O)}});b=E,g||b()}catch(v){i?.(v)}})(),()=>b()})})()}async function TL(t,e){const{checkReplacement:n=!0,confirmations:r=1,hash:i,onReplaced:s,retryCount:a=6,retryDelay:c=({count:C})=>~~(1<<C)*200,timeout:u=18e4}=e,d=Cr(["waitForTransactionReceipt",t.uid,i]),h=e.pollingInterval?e.pollingInterval:t.chain?.experimental_preconfirmationTime?t.chain.experimental_preconfirmationTime:t.pollingInterval;let p,y,g,b=!1,v,E;const{promise:O,resolve:k,reject:A}=KT(),S=u?setTimeout(()=>{E?.(),v?.(),A(new uQ({hash:i}))},u):void 0;return v=Dc(d,{onReplaced:s,resolve:k,reject:A},async C=>{if(g=await qe(t,yw,"getTransactionReceipt")({hash:i}).catch(()=>{}),g&&r<=1){clearTimeout(S),C.resolve(g),v?.();return}E=qe(t,xL,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:h,async onBlockNumber(I){const $=j=>{clearTimeout(S),E?.(),j(),v?.()};let z=I;if(!b)try{if(g){if(r>1&&(!g.blockNumber||z-g.blockNumber+1n<r))return;$(()=>C.resolve(g));return}if(n&&!p&&(b=!0,await Kw(async()=>{p=await qe(t,d3,"getTransaction")({hash:i}),p.blockNumber&&(z=p.blockNumber)},{delay:c,retryCount:a}),b=!1),g=await qe(t,yw,"getTransactionReceipt")({hash:i}),r>1&&(!g.blockNumber||z-g.blockNumber+1n<r))return;$(()=>C.resolve(g))}catch(j){if(j instanceof NM||j instanceof $M){if(!p){b=!1;return}try{y=p,b=!0;const B=await Kw(()=>qe(t,Oa,"getBlock")({blockNumber:z,includeTransactions:!0}),{delay:c,retryCount:a,shouldRetry:({error:F})=>F instanceof qM});b=!1;const G=B.transactions.find(({from:F,nonce:K})=>F===y.from&&K===y.nonce);if(!G||(g=await qe(t,yw,"getTransactionReceipt")({hash:G.hash}),r>1&&(!g.blockNumber||z-g.blockNumber+1n<r)))return;let U="replaced";G.to===y.to&&G.value===y.value&&G.input===y.input?U="repriced":G.from===G.to&&G.value===0n&&(U="cancelled"),$(()=>{C.onReplaced?.({reason:U,replacedTransaction:y,transaction:G,transactionReceipt:g}),C.resolve(g)})}catch(B){$(()=>C.reject(B))}}else $(()=>C.reject(j))}}})}),O}function Mre(t,{blockTag:e=t.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:i,onError:s,includeTransactions:a,poll:c,pollingInterval:u=t.pollingInterval}){const d=typeof c<"u"?c:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),h=a??!1;let p;return d?(()=>{const b=Cr(["watchBlocks",t.uid,e,n,r,h,u]);return Dc(b,{onBlock:i,onError:s},v=>lp(async()=>{try{const E=await qe(t,Oa,"getBlock")({blockTag:e,includeTransactions:h});if(E.number!==null&&p?.number!=null){if(E.number===p.number)return;if(E.number-p.number>1&&n)for(let O=p?.number+1n;O<E.number;O++){const k=await qe(t,Oa,"getBlock")({blockNumber:O,includeTransactions:h});v.onBlock(k,p),p=k}}(p?.number==null||e==="pending"&&E?.number==null||E.number!==null&&E.number>p.number)&&(v.onBlock(E,p),p=E)}catch(E){v.onError?.(E)}},{emitOnBegin:r,interval:u}))})():(()=>{let b=!0,v=!0,E=()=>b=!1;return(async()=>{try{r&&qe(t,Oa,"getBlock")({blockTag:e,includeTransactions:h}).then(A=>{b&&v&&(i(A,void 0),v=!1)}).catch(s);const O=(()=>{if(t.transport.type==="fallback"){const A=t.transport.transports.find(S=>S.config.type==="webSocket"||S.config.type==="ipc");return A?A.value:t.transport}return t.transport})(),{unsubscribe:k}=await O.subscribe({params:["newHeads"],async onData(A){if(!b)return;const S=await qe(t,Oa,"getBlock")({blockNumber:A.result?.number,includeTransactions:h}).catch(()=>{});b&&(i(S,p),v=!1,p=S)},onError(A){s?.(A)}});E=k,b||E()}catch(O){s?.(O)}})(),()=>E()})()}function Bre(t,{address:e,args:n,batch:r=!0,event:i,events:s,fromBlock:a,onError:c,onLogs:u,poll:d,pollingInterval:h=t.pollingInterval,strict:p}){const y=typeof d<"u"?d:typeof a=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),g=p??!1;return y?(()=>{const E=Cr(["watchEvent",e,n,r,t.uid,i,h,a]);return Dc(E,{onLogs:u,onError:c},O=>{let k;a!==void 0&&(k=a-1n);let A,S=!1;const C=lp(async()=>{if(!S){try{A=await qe(t,FB,"createEventFilter")({address:e,args:n,event:i,events:s,strict:g,fromBlock:a})}catch{}S=!0;return}try{let I;if(A)I=await qe(t,v1,"getFilterChanges")({filter:A});else{const $=await qe(t,Ng,"getBlockNumber")({});k&&k!==$?I=await qe(t,FT,"getLogs")({address:e,args:n,event:i,events:s,fromBlock:k+1n,toBlock:$}):I=[],k=$}if(I.length===0)return;if(r)O.onLogs(I);else for(const $ of I)O.onLogs([$])}catch(I){A&&I instanceof su&&(S=!1),O.onError?.(I)}},{emitOnBegin:!0,interval:h});return async()=>{A&&await qe(t,_1,"uninstallFilter")({filter:A}),C()}})})():(()=>{let E=!0,O=()=>E=!1;return(async()=>{try{const k=(()=>{if(t.transport.type==="fallback"){const I=t.transport.transports.find($=>$.config.type==="webSocket"||$.config.type==="ipc");return I?I.value:t.transport}return t.transport})(),A=s??(i?[i]:void 0);let S=[];A&&(S=[A.flatMap($=>_g({abi:[$],eventName:$.name,args:n}))],i&&(S=S[0]));const{unsubscribe:C}=await k.subscribe({params:["logs",{address:e,topics:S}],onData(I){if(!E)return;const $=I.result;try{const{eventName:z,args:j}=Ww({abi:A??[],data:$.data,topics:$.topics,strict:g}),B=Eo($,{args:j,eventName:z});u([B])}catch(z){let j,B;if(z instanceof qw||z instanceof _T){if(p)return;j=z.abiItem.name,B=z.abiItem.inputs?.some(U=>!("name"in U&&U.name))}const G=Eo($,{args:B?[]:{},eventName:j});u([G])}},onError(I){c?.(I)}});O=C,E||O()}catch(k){c?.(k)}})(),()=>O()})()}function Lre(t,{batch:e=!0,onError:n,onTransactions:r,poll:i,pollingInterval:s=t.pollingInterval}){return(typeof i<"u"?i:t.transport.type!=="webSocket"&&t.transport.type!=="ipc")?(()=>{const d=Cr(["watchPendingTransactions",t.uid,e,s]);return Dc(d,{onTransactions:r,onError:n},h=>{let p;const y=lp(async()=>{try{if(!p)try{p=await qe(t,qB,"createPendingTransactionFilter")({});return}catch(b){throw y(),b}const g=await qe(t,v1,"getFilterChanges")({filter:p});if(g.length===0)return;if(e)h.onTransactions(g);else for(const b of g)h.onTransactions([b])}catch(g){h.onError?.(g)}},{emitOnBegin:!0,interval:s});return async()=>{p&&await qe(t,_1,"uninstallFilter")({filter:p}),y()}})})():(()=>{let d=!0,h=()=>d=!1;return(async()=>{try{const{unsubscribe:p}=await t.transport.subscribe({params:["newPendingTransactions"],onData(y){if(!d)return;const g=y.result;r([g])},onError(y){n?.(y)}});h=p,d||h()}catch(p){n?.(p)}})(),()=>h()})()}function jre(t){const{scheme:e,statement:n,...r}=t.match(zre)?.groups??{},{chainId:i,expirationTime:s,issuedAt:a,notBefore:c,requestId:u,...d}=t.match(Fre)?.groups??{},h=t.split("Resources:")[1]?.split(`
- `).slice(1);return{...r,...d,...i?{chainId:Number(i)}:{},...s?{expirationTime:new Date(s)}:{},...a?{issuedAt:new Date(a)}:{},...c?{notBefore:new Date(c)}:{},...u?{requestId:u}:{},...h?{resources:h}:{},...e?{scheme:e}:{},...n?{statement:n}:{}}}const zre=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,Fre=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function qre(t){const{address:e,domain:n,message:r,nonce:i,scheme:s,time:a=new Date}=t;if(n&&r.domain!==n||i&&r.nonce!==i||s&&r.scheme!==s||r.expirationTime&&a>=r.expirationTime||r.notBefore&&a<r.notBefore)return!1;try{if(!r.address||!Cn(r.address,{strict:!1})||e&&!Ig(r.address,e))return!1}catch{return!1}return!0}async function Wre(t,e){const{address:n,domain:r,message:i,nonce:s,scheme:a,signature:c,time:u=new Date,...d}=e,h=jre(i);if(!h.address||!qre({address:n,domain:r,message:h,nonce:s,scheme:a,time:u}))return!1;const y=n3(i);return C1(t,{address:h.address,hash:y,signature:c,...d})}async function f3(t,{serializedTransaction:e,throwOnReceiptRevert:n,timeout:r}){const i=await t.request({method:"eth_sendRawTransactionSync",params:r?[e,Ne(r)]:[e]},{retryCount:0}),a=(t.chain?.formatters?.transactionReceipt?.format||YT)(i);if(a.status==="reverted"&&n)throw new PM({receipt:a});return a}function Zw(t){return{call:e=>w1(t,e),createAccessList:e=>zB(t,e),createBlockFilter:()=>fte(t),createContractEventFilter:e=>IM(t,e),createEventFilter:e=>FB(t,e),createPendingTransactionFilter:()=>qB(t),estimateContractGas:e=>qQ(t,e),estimateGas:e=>jT(t,e),getBalance:e=>hte(t,e),getBlobBaseFee:()=>pte(t),getBlock:e=>Oa(t,e),getBlockNumber:e=>Ng(t,e),getBlockTransactionCount:e=>mte(t,e),getBytecode:e=>Jx(t,e),getChainId:()=>Co(t),getCode:e=>Jx(t,e),getContractEvents:e=>rB(t,e),getEip712Domain:e=>gte(t,e),getEnsAddress:e=>Zee(t,e),getEnsAvatar:e=>lte(t,e),getEnsName:e=>ute(t,e),getEnsResolver:e=>dte(t,e),getEnsText:e=>jB(t,e),getFeeHistory:e=>vte(t,e),estimateFeesPerGas:e=>kQ(t,e),getFilterChanges:e=>v1(t,e),getFilterLogs:e=>_te(t,e),getGasPrice:()=>$T(t),getLogs:e=>FT(t,e),getProof:e=>pre(t,e),estimateMaxPriorityFeePerGas:e=>OQ(t,e),fillTransaction:e=>BT(t,e),getStorageAt:e=>mre(t,e),getTransaction:e=>d3(t,e),getTransactionConfirmations:e=>yre(t,e),getTransactionCount:e=>PT(t,e),getTransactionReceipt:e=>yw(t,e),multicall:e=>gre(t,e),prepareTransactionRequest:e=>op(t,e),readContract:e=>La(t,e),sendRawTransaction:e=>E1(t,e),sendRawTransactionSync:e=>f3(t,e),simulate:e=>a6(t,e),simulateBlocks:e=>a6(t,e),simulateCalls:e=>Ire(t,e),simulateContract:e=>Pee(t,e),verifyHash:e=>C1(t,e),verifyMessage:e=>Dre(t,e),verifySiweMessage:e=>Wre(t,e),verifyTypedData:e=>Ure(t,e),uninstallFilter:e=>_1(t,e),waitForTransactionReceipt:e=>TL(t,e),watchBlocks:e=>Mre(t,e),watchBlockNumber:e=>xL(t,e),watchContractEvent:e=>zee(t,e),watchEvent:e=>Bre(t,e),watchPendingTransactions:e=>Lre(t,e)}}function h3(t){const{key:e="public",name:n="Public Client"}=t;return UB({...t,key:e,name:n,type:"publicClient"}).extend(Zw)}async function Hre(t,{chain:e}){const{id:n,name:r,nativeCurrency:i,rpcUrls:s,blockExplorers:a}=e;await t.request({method:"wallet_addEthereumChain",params:[{chainId:Ne(n),chainName:r,nativeCurrency:i,rpcUrls:s.default.http,blockExplorerUrls:a?Object.values(a).map(({url:c})=>c):void 0}]},{dedupe:!0,retryCount:0})}function Vre(t,e){const{abi:n,args:r,bytecode:i,...s}=e,a=b1({abi:n,args:r,bytecode:i});return Pg(t,{...s,...s.authorizationList?{to:null}:{},data:a})}async function Gre(t){return t.account?.type==="local"?[t.account.address]:(await t.request({method:"eth_accounts"},{dedupe:!0})).map(n=>wg(n))}async function Kre(t,e={}){const{account:n=t.account,chainId:r}=e,i=n?On(n):void 0,s=r?[i?.address,[Ne(r)]]:[i?.address],a=await t.request({method:"wallet_getCapabilities",params:s}),c={};for(const[u,d]of Object.entries(a)){c[Number(u)]={};for(let[h,p]of Object.entries(d))h==="addSubAccount"&&(h="unstable_addSubAccount"),c[Number(u)][h]=p}return typeof r=="number"?c[r]:c}async function Yre(t){return await t.request({method:"wallet_getPermissions"},{dedupe:!0})}async function IL(t,e){const{account:n=t.account,chainId:r,nonce:i}=e;if(!n)throw new Oo({docsPath:"/docs/eip7702/prepareAuthorization"});const s=On(n),a=(()=>{if(e.executor)return e.executor==="self"?e.executor:On(e.executor)})(),c={address:e.contractAddress??e.address,chainId:r,nonce:i};return typeof c.chainId>"u"&&(c.chainId=t.chain?.id??await qe(t,Co,"getChainId")({})),typeof c.nonce>"u"&&(c.nonce=await qe(t,PT,"getTransactionCount")({address:s.address,blockTag:"pending"}),(a==="self"||a?.address&&Ig(a.address,s.address))&&(c.nonce+=1)),c}async function Zre(t){return(await t.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>ri(n))}async function Xre(t,e){return t.request({method:"wallet_requestPermissions",params:[e]},{retryCount:0})}async function Jre(t,e){const{chain:n=t.chain}=e,r=e.timeout??Math.max((n?.blockTime??0)*3,5e3),i=await NB(t,e);return await PB(t,{...e,id:i.id,timeout:r})}const aS=new sp(128);async function CL(t,e){const{account:n=t.account,chain:r=t.chain,accessList:i,authorizationList:s,blobs:a,data:c,gas:u,gasPrice:d,maxFeePerBlobGas:h,maxFeePerGas:p,maxPriorityFeePerGas:y,nonce:g,pollingInterval:b,throwOnReceiptRevert:v,type:E,value:O,...k}=e,A=e.timeout??Math.max((r?.blockTime??0)*3,5e3);if(typeof n>"u")throw new Oo({docsPath:"/docs/actions/wallet/sendTransactionSync"});const S=n?On(n):null;try{Io(e);const C=await(async()=>{if(e.to)return e.to;if(e.to!==null&&s&&s.length>0)return await d1({authorization:s[0]}).catch(()=>{throw new _e("`to` is required. Could not infer from `authorizationList`.")})})();if(S?.type==="json-rpc"||S===null){let I;r!==null&&(I=await qe(t,Co,"getChainId")({}),$g({currentChainId:I,chain:r}));const $=t.chain?.formatters?.transactionRequest?.format,j=($||Wc)({...ap(k,{format:$}),accessList:i,account:S,authorizationList:s,blobs:a,chainId:I,data:c,gas:u,gasPrice:d,maxFeePerBlobGas:h,maxFeePerGas:p,maxPriorityFeePerGas:y,nonce:g,to:C,type:E,value:O},"sendTransaction"),B=aS.get(t.uid),G=B?"wallet_sendTransaction":"eth_sendTransaction",U=await(async()=>{try{return await t.request({method:G,params:[j]},{retryCount:0})}catch(K){if(B===!1)throw K;const T=K;if(T.name==="InvalidInputRpcError"||T.name==="InvalidParamsRpcError"||T.name==="MethodNotFoundRpcError"||T.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[j]},{retryCount:0}).then(x=>(aS.set(t.uid,!0),x)).catch(x=>{const N=x;throw N.name==="MethodNotFoundRpcError"||N.name==="MethodNotSupportedRpcError"?(aS.set(t.uid,!1),T):N});throw T}})(),F=await qe(t,TL,"waitForTransactionReceipt")({checkReplacement:!1,hash:U,pollingInterval:b,timeout:A});if(v&&F.status==="reverted")throw new PM({receipt:F});return F}if(S?.type==="local"){const I=await qe(t,op,"prepareTransactionRequest")({account:S,accessList:i,authorizationList:s,blobs:a,chain:r,data:c,gas:u,gasPrice:d,maxFeePerBlobGas:h,maxFeePerGas:p,maxPriorityFeePerGas:y,nonce:g,nonceManager:S.nonceManager,parameters:[...LT,"sidecars"],type:E,value:O,...k,to:C}),$=r?.serializers?.transaction,z=await S.signTransaction(I,{serializer:$});return await qe(t,f3,"sendRawTransactionSync")({serializedTransaction:z,throwOnReceiptRevert:v})}throw S?.type==="smart"?new dd({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new dd({docsPath:"/docs/actions/wallet/sendTransactionSync",type:S?.type})}catch(C){throw C instanceof dd?C:Tg(C,{...e,account:S,chain:e.chain||void 0})}}async function Qre(t,e){const{id:n}=e;await t.request({method:"wallet_showCallsStatus",params:[n]})}async function eie(t,e){const{account:n=t.account}=e;if(!n)throw new Oo({docsPath:"/docs/eip7702/signAuthorization"});const r=On(n);if(!r.signAuthorization)throw new dd({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:r.type});const i=await IL(t,e);return r.signAuthorization(i)}async function tie(t,{account:e=t.account,message:n}){if(!e)throw new Oo({docsPath:"/docs/actions/wallet/signMessage"});const r=On(e);if(r.signMessage)return r.signMessage({message:n});const i=typeof n=="string"?Rh(n):n.raw instanceof Uint8Array?Et(n.raw):n.raw;return t.request({method:"personal_sign",params:[i,r.address]},{retryCount:0})}async function OL(t,e){const{account:n=t.account,chain:r=t.chain,...i}=e;if(!n)throw new Oo({docsPath:"/docs/actions/wallet/signTransaction"});const s=On(n);Io({account:s,...e});const a=await qe(t,Co,"getChainId")({});r!==null&&$g({currentChainId:a,chain:r});const u=(r?.formatters||t.chain?.formatters)?.transactionRequest?.format||Wc;return s.signTransaction?s.signTransaction({...i,chainId:a},{serializer:t.chain?.serializers?.transaction}):await t.request({method:"eth_signTransaction",params:[{...u({...i,account:s},"signTransaction"),chainId:Ne(a),from:s.address}]},{retryCount:0})}async function kL(t,e){const{account:n=t.account,domain:r,message:i,primaryType:s}=e;if(!n)throw new Oo({docsPath:"/docs/actions/wallet/signTypedData"});const a=On(n),c={EIP712Domain:HB({domain:r}),...e.types};if(WB({domain:r,message:i,primaryType:s,types:c}),a.signTypedData)return a.signTypedData({domain:r,message:i,primaryType:s,types:c});const u=Wte({domain:r,message:i,primaryType:s,types:c});return t.request({method:"eth_signTypedData_v4",params:[a.address,u]},{retryCount:0})}async function nie(t,{id:e}){await t.request({method:"wallet_switchEthereumChain",params:[{chainId:Ne(e)}]},{retryCount:0})}async function rie(t,e){return await t.request({method:"wallet_watchAsset",params:e},{retryCount:0})}async function iie(t,e){return Mh.internal(t,CL,"sendTransactionSync",e)}function sie(t){return{addChain:e=>Hre(t,e),deployContract:e=>Vre(t,e),fillTransaction:e=>BT(t,e),getAddresses:()=>Gre(t),getCallsStatus:e=>$B(t,e),getCapabilities:e=>Kre(t,e),getChainId:()=>Co(t),getPermissions:()=>Yre(t),prepareAuthorization:e=>IL(t,e),prepareTransactionRequest:e=>op(t,e),requestAddresses:()=>Zre(t),requestPermissions:e=>Xre(t,e),sendCalls:e=>NB(t,e),sendCallsSync:e=>Jre(t,e),sendRawTransaction:e=>E1(t,e),sendRawTransactionSync:e=>f3(t,e),sendTransaction:e=>Pg(t,e),sendTransactionSync:e=>CL(t,e),showCallsStatus:e=>Qre(t,e),signAuthorization:e=>eie(t,e),signMessage:e=>tie(t,e),signTransaction:e=>OL(t,e),signTypedData:e=>kL(t,e),switchChain:e=>nie(t,e),waitForCallsStatus:e=>PB(t,e),watchAsset:e=>rie(t,e),writeContract:e=>Mh(t,e),writeContractSync:e=>iie(t,e)}}function aie(t){const{key:e="wallet",name:n="Wallet Client",transport:r}=t;return UB({...t,key:e,name:n,transport:r,type:"walletClient"}).extend(sie)}function oie({key:t,methods:e,name:n,request:r,retryCount:i=3,retryDelay:s=150,timeout:a,type:c},u){const d=DB();return{config:{key:t,methods:e,name:n,request:r,retryCount:i,retryDelay:s,timeout:a,type:c},request:Pte(r,{methods:e,retryCount:i,retryDelay:s,uid:d}),value:u}}class cie extends _e{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function O1(t,e={}){const{batch:n,fetchFn:r,fetchOptions:i,key:s="http",methods:a,name:c="HTTP JSON-RPC",onFetchRequest:u,onFetchResponse:d,retryDelay:h,raw:p}=e;return({chain:y,retryCount:g,timeout:b})=>{const{batchSize:v=1e3,wait:E=0}=typeof n=="object"?n:{},O=e.retryCount??g,k=b??e.timeout??1e4,A=t||y?.rpcUrls.default.http[0];if(!A)throw new cie;const S=Bte(A,{fetchFn:r,fetchOptions:i,onRequest:u,onResponse:d,timeout:k});return oie({key:s,methods:a,name:c,async request({method:C,params:I}){const $={method:C,params:I},{schedule:z}=TB({id:A,wait:E,shouldSplitBatch(U){return U.length>v},fn:U=>S.request({body:U}),sort:(U,F)=>U.id-F.id}),j=async U=>n?z(U):[await S.request({body:U})],[{error:B,result:G}]=await j($);if(p)return{error:B,result:G};if(B)throw new OT({body:$,error:B,url:A});return G},retryCount:O,retryDelay:h,timeout:k,type:"http"},{fetchOptions:i,url:A})}}const GR=(t,e,n,r)=>{let i=Number(t),s=e.find((a=>a.id===i));if(!s)throw new qU(`Unsupported chainId ${t}`,4901);return h3({transport:O1(lie(s,n,r.appId)),chain:s})},lie=(t,e,n)=>{let r,i=t.id,s=Number(t.id);if(t.rpcUrls.privyWalletOverride&&t.rpcUrls.privyWalletOverride.http[0])r=t.rpcUrls.privyWalletOverride.http[0];else if(e.rpcUrls&&e.rpcUrls[s])r=e.rpcUrls[s];else if(t.rpcUrls.privy?.http[0]){let a=new URL(t.rpcUrls.privy.http[0]);a.searchParams.append("privyAppId",n),r=a.toString()}else r=t.rpcUrls.public?.http[0]?t.rpcUrls.public.http[0]:t.rpcUrls.default?.http[0];if(!r)throw new qU(`No RPC url found for ${i}`);return r};function uie({currentRecoveryMethod:t,upgradeToRecoveryMethod:e}){switch(t){case"privy":case"user-passcode":case"recovery-encryption-key":return!0;case"icloud":case"google-drive":if(t===e)throw Error("Cannot upgrade to the existing cloud platform");return!0;default:throw Error("Unknown recovery method")}}function die(t){return new Promise((e=>{setTimeout((()=>{e()}),t)}))}let fie=class{enqueue(e,n){this.callbacks[e]=n}dequeue(e,n){let r=this.callbacks[n];if(!r)throw Error(`cannot dequeue ${e} event: no event found for id ${n}`);switch(delete this.callbacks[n],e){case"privy:iframe:ready":case"privy:wallets:create":case"privy:user-signer:sign":case"privy:wallets:add":case"privy:wallets:set-recovery":case"privy:wallets:connect":case"privy:wallets:recover":case"privy:wallets:rpc":case"privy:wallet:create":case"privy:wallet:connect":case"privy:wallet:recover":case"privy:wallet:rpc":case"privy:solana-wallet:create":case"privy:solana-wallet:create-additional":case"privy:solana-wallet:connect":case"privy:solana-wallet:recover":case"privy:solana-wallet:rpc":case"privy:delegated-actions:consent":case"privy:mfa:verify":case"privy:mfa:init-enrollment":case"privy:mfa:submit-enrollment":case"privy:mfa:unenroll":case"privy:mfa:clear":return r;default:throw Error(`invalid wallet event type ${e}`)}}constructor(){this.callbacks={}}};async function hie(t,e,n,r,i=!1,s,a){let c=i,u=async h=>{if(c){h===(i?0:1)?r():n.current?.reject(new mw("missing_or_invalid_mfa","MFA verification failed, retry."));let p=await new Promise(((y,g)=>{e.current={resolve:y,reject:g},setTimeout((()=>{let b=new mw("mfa_timeout","Timed out waiting for MFA code");n.current?.reject(b),g(b)}),a)}));return await t(p)}return await t()},d=null;for(let h=0;h<s;h++)try{d=await u(h),n.current?.resolve(void 0);break}catch(p){if(p.type!=="missing_or_invalid_mfa")throw n.current?.resolve(void 0),p;c=!0}if(d===null){let h=new mw("mfa_verification_max_attempts_reached","Max MFA verification attempts reached");throw n.current?.reject(h),h}return d}var KR;let pie=(KR=0,()=>"id-"+KR++),mie=(t,e)=>typeof e=="bigint"?e.toString():e,vl=async(t,{ms:e,msg:n})=>{let r,i=new Promise(((s,a)=>{r=setTimeout((()=>{a(Error(n))}),e??15e3)}));try{return await Promise.race([t,i])}finally{r!==void 0&&clearTimeout(r)}},YR=new fie,ZR=class{invokeWithMfa(e,n){return vl(hie((r=>vl(this.waitForReady().then((()=>e(r))),{msg:n.timeoutMsg,ms:n.timeoutMs})),this.mfa.rootPromise,this.mfa.submitPromise,(()=>this.mfa.emit("mfaRequired")),n.mfaAlwaysRequired??!1,4,3e5),{msg:"Operation reached timeout: MFA verification",ms:126e4})}reload(){return this.ready=!1,this._embeddedWalletMessagePoster.reload()}ping(e=15e3){return vl(this.invoke("privy:iframe:ready",{}),{msg:"Ping reached timeout",ms:e})}create(e){return vl(this.waitForReady().then((()=>this.invoke("privy:wallet:create",e))),{msg:"Operation reached timeout: create"})}rpc(e){return this.invokeWithMfa((n=>this.invoke("privy:wallet:rpc",{...n,...e})),{timeoutMsg:"Operation reached timeout: rpc"})}createSolana(e){return this.invokeWithMfa((n=>this.invoke("privy:solana-wallet:create",{...n,...e})),{timeoutMsg:"Operation reached timeout: create",timeoutMs:6e4})}createAdditionalSolana(e){return vl(this.waitForReady().then((()=>this.invoke("privy:solana-wallet:create-additional",e))),{msg:"Operation reached timeout: create"})}solanaRpc(e){return this.invokeWithMfa((n=>this.invoke("privy:solana-wallet:rpc",{...n,...e})),{timeoutMsg:"Operation reached timeout: solana-rpc"})}delegateWallets(e){return this.invokeWithMfa((n=>this.invoke("privy:delegated-actions:consent",{...n,...e})),{timeoutMsg:"Operation reached timeout: delegated-actions:consent"})}verifyMfa(e){return this.invokeWithMfa((n=>this.invoke("privy:mfa:verify",{...n,...e})),{timeoutMsg:"Operation reached timeout: mfa:verify",mfaAlwaysRequired:!0})}initEnrollMfa(e){return this.invokeWithMfa((n=>this.invoke("privy:mfa:init-enrollment",{...n,...e})),{timeoutMsg:"Operation reached timeout: mfa:init-enrollment"})}submitEnrollMfa(e){return this.invokeWithMfa((n=>this.invoke("privy:mfa:submit-enrollment",{...n,...e})),{timeoutMsg:"Operation reached timeout: mfa:submit-enrollment"})}unenrollMfa(e){return this.invokeWithMfa((n=>this.invoke("privy:mfa:unenroll",{...n,...e})),{timeoutMsg:"Operation reached timeout: mfa:unenroll",mfaAlwaysRequired:!0})}clearMfa(e){return vl(this.waitForReady().then((()=>this.invoke("privy:mfa:clear",e))),{msg:"Operation reached timeout: mfa:clear"})}createWallet(e){return this.invokeWithMfa((n=>this.invoke("privy:wallets:create",{...n,...e})),{timeoutMsg:"Operation reached timeout: create",timeoutMs:6e4})}signWithUserSigner(e){return this.invokeWithMfa((n=>this.invoke("privy:user-signer:sign",{...n,...e})),{timeoutMsg:"Operation reached timeout: user-signer:sign"})}addWallet(e){return vl(this.waitForReady().then((()=>this.invoke("privy:wallets:add",e))),{msg:"Operation reached timeout: wallets:add"})}setRecovery(e){return this.invokeWithMfa((n=>this.invoke("privy:wallets:set-recovery",{...n,...e})),{timeoutMsg:"Operation reached timeout: wallets:set-recovery",timeoutMs:6e4})}connect(e){return vl(this.waitForReady().then((()=>this.invoke("privy:wallets:connect",e))),{msg:"Operation reached timeout: wallets:connect"})}recover(e){return this.invokeWithMfa((n=>this.invoke("privy:wallets:recover",{...n,...e})),{timeoutMsg:"Operation reached timeout: wallets:recover",timeoutMs:6e4})}rpcWallet(e){return this.invokeWithMfa((n=>this.invoke("privy:wallets:rpc",{...n,...e})),{timeoutMsg:"Operation reached timeout: wallets:rpc"})}handleEmbeddedWalletMessages(e){if(!e.event.startsWith("privy:"))return void console.warn(`Unsupported event type: ${e.event}`);let{reject:n,resolve:r}=YR.dequeue(e.event,e.id);return e.error!==void 0?n(new mw(e.error.type,e.error.message)):r(e.data)}waitForReady(){return this.ready?Promise.resolve():new Promise((async(e,n)=>{for(;!this.ready;)this.invoke("privy:iframe:ready",{}).then((()=>{this.ready=!0,e()})).catch(n),await die(150)}))}invoke(e,n){let r=((s,a)=>`${s}${JSON.stringify(a,mie)}`)(e,n);if(e==="privy:wallet:create"||e==="privy:solana-wallet:create"){let s=this.cache.get(r);if(s)return s}let i=new Promise(((s,a)=>{let c=pie();YR.enqueue(c,{resolve:s,reject:a}),this._embeddedWalletMessagePoster.postMessage(JSON.stringify({id:c,event:e,data:n}),"*")})).finally((()=>{this.cache.delete(r)}));return this.cache.set(r,i),i}constructor(e,n){this.ready=!1,this.cache=new Map,this._embeddedWalletMessagePoster=e,this.mfa=n}};var oS={exports:{}},XR;function yie(){return XR||(XR=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,d,h){this.fn=u,this.context=d,this.once=h||!1}function s(u,d,h,p,y){if(typeof h!="function")throw new TypeError("The listener must be a function");var g=new i(h,p||u,y),b=n?n+d:d;return u._events[b]?u._events[b].fn?u._events[b]=[u._events[b],g]:u._events[b].push(g):(u._events[b]=g,u._eventsCount++),u}function a(u,d){--u._eventsCount===0?u._events=new r:delete u._events[d]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var d=[],h,p;if(this._eventsCount===0)return d;for(p in h=this._events)e.call(h,p)&&d.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},c.prototype.listeners=function(d){var h=n?n+d:d,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var y=0,g=p.length,b=new Array(g);y<g;y++)b[y]=p[y].fn;return b},c.prototype.listenerCount=function(d){var h=n?n+d:d,p=this._events[h];return p?p.fn?1:p.length:0},c.prototype.emit=function(d,h,p,y,g,b){var v=n?n+d:d;if(!this._events[v])return!1;var E=this._events[v],O=arguments.length,k,A;if(E.fn){switch(E.once&&this.removeListener(d,E.fn,void 0,!0),O){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,h),!0;case 3:return E.fn.call(E.context,h,p),!0;case 4:return E.fn.call(E.context,h,p,y),!0;case 5:return E.fn.call(E.context,h,p,y,g),!0;case 6:return E.fn.call(E.context,h,p,y,g,b),!0}for(A=1,k=new Array(O-1);A<O;A++)k[A-1]=arguments[A];E.fn.apply(E.context,k)}else{var S=E.length,C;for(A=0;A<S;A++)switch(E[A].once&&this.removeListener(d,E[A].fn,void 0,!0),O){case 1:E[A].fn.call(E[A].context);break;case 2:E[A].fn.call(E[A].context,h);break;case 3:E[A].fn.call(E[A].context,h,p);break;case 4:E[A].fn.call(E[A].context,h,p,y);break;default:if(!k)for(C=1,k=new Array(O-1);C<O;C++)k[C-1]=arguments[C];E[A].fn.apply(E[A].context,k)}}return!0},c.prototype.on=function(d,h,p){return s(this,d,h,p,!1)},c.prototype.once=function(d,h,p){return s(this,d,h,p,!0)},c.prototype.removeListener=function(d,h,p,y){var g=n?n+d:d;if(!this._events[g])return this;if(!h)return a(this,g),this;var b=this._events[g];if(b.fn)b.fn===h&&(!y||b.once)&&(!p||b.context===p)&&a(this,g);else{for(var v=0,E=[],O=b.length;v<O;v++)(b[v].fn!==h||y&&!b[v].once||p&&b[v].context!==p)&&E.push(b[v]);E.length?this._events[g]=E.length===1?E[0]:E:a(this,g)}return this},c.prototype.removeAllListeners=function(d){var h;return d?(h=n?n+d:d,this._events[h]&&a(this,h)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c})(oS)),oS.exports}var gie=yie();const jd=uu(gie);let cS={0:"legacy",1:"eip2930",2:"eip1559",3:"eip4844",4:"eip7702"};const RL={legacy:0,eip2930:1,eip1559:2,eip4844:3,eip7702:4};let Bf=t=>t!==void 0?BigInt(t):void 0;function Xw(t){let e,{type:n=2,...r}=typeof t=="string"?JSON.parse(t):t;r.accessList&&Array.isArray(r.accessList)?e=r.accessList.map((d=>Array.isArray(d)?{address:d[0],storageKeys:d[1]}:d)):r.accessList&&(e=Object.entries(r.accessList).map((d=>({address:d[0],storageKeys:d[1]}))));let i=Number(r.chainId??1),s=Si(r.data)?r.data:r.data?Et(Uint8Array.from(r.data)):void 0,a=r.nonce?Number(r.nonce):void 0,c={chainId:i,data:s,nonce:a,value:Bf(r.value),gas:Bf(r.gas??r.gasLimit)},u=Number(n);if(u===0)return{...r,type:cS[u],...c,gasPrice:Bf(r.gasPrice),accessList:void 0,maxFeePerGas:void 0,maxPriorityFeePerGas:void 0};if(u===1)return{...r,type:cS[u],...c,gasPrice:Bf(r.gasPrice),accessList:e,maxFeePerGas:void 0,maxPriorityFeePerGas:void 0};if(u===2)return{...r,type:cS[u],...c,nonce:a,accessList:e,maxFeePerGas:Bf(r.maxFeePerGas),maxPriorityFeePerGas:Bf(r.maxPriorityFeePerGas),gasPrice:void 0,maxFeePerBlobGas:void 0};throw Error(`Unsupported transaction type: ${n}`)}const Jw=t=>/^0x[0-9a-fA-F]*$/.test(t),Qw=t=>Buffer.from(t,"utf8"),qy=t=>`0x${t.toString("hex")}`;var lS,JR;function bie(){return JR||(JR=1,lS=function t(e){if(typeof e=="number"&&isNaN(e))throw new Error("NaN is not allowed");if(typeof e=="number"&&!isFinite(e))throw new Error("Infinity is not allowed");return e===null||typeof e!="object"?JSON.stringify(e):e.toJSON instanceof Function?t(e.toJSON()):Array.isArray(e)?`[${e.reduce((i,s,a)=>`${i}${a===0?"":","}${t(s===void 0||typeof s=="symbol"?null:s)}`,"")}]`:`{${Object.keys(e).sort().reduce((r,i)=>{if(e[i]===void 0||typeof e[i]=="symbol")return r;const s=r.length===0?"":",";return`${r}${s}${t(i)}:${t(e[i])}`},"")}}`}),lS}var wie=bie();const vie=uu(wie);async function _ie(t,e){let n=vie(e);if(n===void 0)throw new Qt({error:"Failed to prepare the payload for signing",code:"invalid_input"});let r=Buffer.from(n).toString("base64"),{signature:i}=await t({message:r});return{signature:i}}async function Ia(t,e,{wallet_id:n,...r}){let i={version:1,url:t.getCompiledPath(P2,{params:{wallet_id:n}}),method:P2.method,headers:{"privy-app-id":t.app.appId},body:{...r}},{signature:s}=await _ie(e,i);return await t.fetchPrivyRoute(P2,{body:r,params:{wallet_id:n},headers:{"privy-authorization-signature":s}})}function Eie(t){return{from:t.from,to:t.to??void 0,nonce:Mu(t.nonce),chain_id:Mu(t.chainId),data:(function(e){if(e!==void 0)return typeof e=="string"?Jw(e)?e:qy(Qw(e)):qy(Buffer.from(Uint8Array.from(e)))})(t.data),value:Mu(t.value),type:t.type,gas_limit:Mu(t.gasLimit),gas_price:Mu(t.gasPrice),max_fee_per_gas:Mu(t.maxFeePerGas),max_priority_fee_per_gas:Mu(t.maxPriorityFeePerGas)}}function Mu(t){if(typeof t=="number"||typeof t=="bigint")return`0x${BigInt(t).toString(16)}`;if(typeof t=="string")return Jw(t)?t:qy(Qw(t))}function Sie(t){return typeof t=="string"&&(t=JSON.parse(t)),{types:t.types,primary_type:String(t.primaryType),domain:t.domain,message:t.message}}async function NL({context:t,account:e,rpcRequest:n}){switch(n.chainType){case"ethereum":return(async function({context:r,account:i,rpcRequest:s}){switch(s.method){case"personal_sign":{let[a]=s.params,c=await Ia(r,r.signRequest,{chain_type:"ethereum",method:"personal_sign",wallet_id:i.id,params:a.startsWith("0x")?{message:a.slice(2),encoding:"hex"}:{message:a,encoding:"utf-8"}});if(c.method!=="personal_sign")throw Error("Unable to sign message");return{data:c.data.signature}}case"eth_signTransaction":{let[a]=s.params,c=await Ia(r,r.signRequest,{chain_type:"ethereum",method:"eth_signTransaction",wallet_id:i.id,params:{transaction:Eie(a)}});if(c.method!=="eth_signTransaction")throw Error("Unable to sign transaction");return{data:c.data.signed_transaction}}case"eth_signTypedData_v4":{let[,a]=s.params,c=await Ia(r,r.signRequest,{chain_type:"ethereum",method:s.method,wallet_id:i.id,params:{typed_data:Sie(a)}});if(c.method!=="eth_signTypedData_v4")throw Error("Unable to sign typed data");return{data:c.data.signature}}case"eth_sign":{let[,a]=s.params,c=await Ia(r,r.signRequest,{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:i.id,params:{hash:Jw(a)?a:qy(Qw(a))}});if(c.method!=="secp256k1_sign")throw Error("Unable to sign message");return{data:c.data.signature}}case"secp256k1_sign":{let[a]=s.params,c=await Ia(r,r.signRequest,{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:i.id,params:{hash:Jw(a)?a:qy(Qw(a))}});if(c.method!=="secp256k1_sign")throw Error("Unable to sign message");return{data:c.data.signature}}case"csw_signUserOperation":case"eth_sendTransaction":case"eth_populateTransactionRequest":throw Error(`This wallet does not support the method: ${s.method}`)}})({context:t,account:e,rpcRequest:n.request});case"solana":return(async function({context:r,account:i,rpcRequest:s}){if(s.method==="signMessage"){let{message:a}=s.params,c=await Ia(r,r.signRequest,{chain_type:"solana",method:"signMessage",wallet_id:i.id,params:{message:a,encoding:"base64"}});if(c.method!=="signMessage")throw Error("Unable to sign message");return{data:c.data.signature}}})({context:t,account:e,rpcRequest:n.request})}}let Aie=new Set(["eth_sign","personal_sign","eth_signTypedData_v4","csw_signUserOperation","secp256k1_sign"]),uS=class extends jd{async request(e){if(Aie.has(e.method))return this.handleIFrameRpc(e);switch(e.method){case"eth_accounts":case"eth_requestAccounts":return this._account.address?[this._account.address]:[];case"eth_chainId":return`0x${this._chainId.toString(16)}`;case"wallet_switchEthereumChain":return this.handleSwitchEthereumChain(e);case"eth_estimateGas":return this.handleEstimateGas(e);case"eth_signTransaction":{let n=e.params?.[0];return this.handleSignTransaction(n)}case"eth_sendTransaction":{let n=e.params?.[0];return this.handleSendTransaction(n)}case"eth_populateTransactionRequest":{let n=e.params?.[0];return this.handlePopulateTransaction(n)}default:return this.handleJsonRpc(e)}}ensureChainId(e){let n={chainId:this._chainId,...e};return this.internalSwitchEthereumChain(n.chainId),n}internalSwitchEthereumChain(e){e&&Number(e)!==this._chainId&&(this._chainId=Number(e),this._client=GR(this._chainId,this._chains,{rpcUrls:[]},{appId:this._privyInternal.appId}),this.emit("chainChanged",e))}async handlePopulateTransaction(e){let n=this.ensureChainId(e),r=Xw(n),{type:i,...s}=await this._client.prepareTransactionRequest({account:n.from??this._account.address,...r});return{...s,type:RL[i]}}async handleSignTransaction(e){let n={...e};for(let r of Object.keys(n)){let i=n[r];i&&typeof i=="bigint"&&(n[r]=Et(i))}return await this.handleIFrameRpc({method:"eth_signTransaction",params:[n]})}async handleSendTransaction(e){let n=await this.handlePopulateTransaction(e),r=await this.handleSignTransaction(n);return await this.handleJsonRpc({method:"eth_sendRawTransaction",params:[r]})}async handleEstimateGas(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_estimateGas");let n=e.params?.[0],r=this.ensureChainId(n),i=Xw(r);return await this._client.estimateGas({account:r.from??this._account.address,...i})}handleSwitchEthereumChain(e){let n;if(!e.params||!Array.isArray(e.params))throw new Zk(`Invalid params for ${e.method}`,4200);if(typeof e.params[0]=="string")n=e.params[0];else{if(!("chainId"in e.params[0])||typeof e.params[0].chainId!="string")throw new Zk(`Invalid params for ${e.method}`,4200);n=e.params[0].chainId}this.internalSwitchEthereumChain(n)}async handleIFrameRpc(e){try{let n=await this._privyInternal.getAccessTokenInternal();if(!n)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address});let r=this._account;if(Wl(r)){let{data:i}=await NL({context:{app:this._appApi,fetchPrivyRoute:(...s)=>this._privyInternal.fetch(...s),getCompiledPath:(...s)=>this._privyInternal.getPath(...s),signRequest:({message:s})=>this._walletProxy.signWithUserSigner({accessToken:n,message:s})},account:r,rpcRequest:{chainType:"ethereum",request:e}});return i}try{await this._walletProxy.connect({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:n})}catch(i){let s=wT(i);if(s&&this._account.recovery_method==="privy")await this._walletProxy.recover({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:n});else{if(!s||!this._onNeedsRecovery)throw i;{let a;await new Promise((async(c,u)=>{a=setTimeout((()=>u(new Qt({code:"embedded_wallet_recovery_error",error:"User-owned recovery timed out"}))),12e4),await this._onNeedsRecovery?.({recoveryMethod:this._account.recovery_method,onRecovered:()=>c(!0)})})).finally((()=>clearTimeout(a)))}}}return(await this._walletProxy.rpcWallet({accessToken:n,request:e,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,hdWalletIndex:this._account.wallet_index,chainType:"ethereum"})).response.data}catch(n){console.error(n);let r=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:r}),new Qt({code:"embedded_wallet_request_error",error:r})}}async handleJsonRpc(e){return this._client.request(e)}toJSON(){return`PrivyEIP1193Provider { address: '${this._account.address}', chainId: ${this._chainId}, request: [Function] }`}constructor({walletProxy:e,privyInternal:n,account:r,entropyId:i,entropyIdVerifier:s,chains:a,onNeedsRecovery:c,chainId:u=a[0].id,appApi:d}){super(),this._walletProxy=e,this._privyInternal=n,this._account=r,this._entropyId=i,this._entropyIdVerifier=s,this._chainId=u,this._chains=a,this._onNeedsRecovery=c,this._client=GR(u,a,{rpcUrls:[]},{appId:d.appId}),this._appApi=d}};function l6(t){return"version"in t}function QR(t,e){let n=(l6(t)?t.message:t.compileMessage()).staticAccountKeys.find((r=>r.toBase58()===e));if(!n)throw Error(`Transaction does not contain public key ${e}`);return n}let xie=class{async request(e){if(!await this._privyInternal.getAccessTokenInternal())throw new Qt({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});switch(e.method){case"signAndSendTransaction":return await this.handleSignAndSendTransaction(e);case"signTransaction":return await this.handleSignTransaction(e);default:return await this.handleIFrameRpc(e)}}get _publicKey(){return this._account.address}async connectAndRecover(e){if(this._account.recovery_method!=="privy-v2")try{await this._proxy.connect({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:e})}catch(n){let r=wT(n);if(r&&this._account.recovery_method==="privy")await this._proxy.recover({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:e});else{if(!r||!this._onNeedsRecovery)throw n;{let i;await new Promise((async(s,a)=>{i=setTimeout((()=>a(new Qt({code:"embedded_wallet_recovery_error",error:"User-owned recovery timed out"}))),12e4),await this._onNeedsRecovery?.({recoveryMethod:this._account.recovery_method,onRecovered:()=>s(!0)})})).finally((()=>clearTimeout(i)))}}}}async signMessageRpc(e,n){let r=this._account;if(!Wl(r))return(await this._proxy.rpcWallet({accessToken:n,request:e,chainType:"solana",hdWalletIndex:this._account.wallet_index,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier})).response.data;{let{data:i}=await NL({context:{app:this._app,fetchPrivyRoute:(...s)=>this._privyInternal.fetch(...s),getCompiledPath:(...s)=>this._privyInternal.getPath(...s),signRequest:({message:s})=>this._proxy.signWithUserSigner({accessToken:n,message:s})},account:r,rpcRequest:{chainType:"solana",request:e}});return{signature:i}}}async handleIFrameRpc(e){try{let n=await this._privyInternal.getAccessTokenInternal();if(!n)throw Error("Missing privy token. User must be logged in");return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(n),await this.signMessageRpc(e,n)}catch(n){console.error(n);let r=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:r}),new Qt({code:"embedded_wallet_request_error",error:r})}}async handleSignAndSendTransaction(e){try{let n=await this._privyInternal.getAccessTokenInternal();if(!n)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(n);let{transaction:r,connection:i,options:s}=e.params,a=QR(r,this._account.address),c=l6(r)?Buffer.from(r.message.serialize()):r.serializeMessage(),{signature:u}=await this.signMessageRpc({method:"signMessage",params:{message:c.toString("base64")}},n);return r.addSignature(a,Buffer.from(u,"base64")),{signature:await i.sendRawTransaction(r.serialize(),s)}}catch(n){console.error(n);let r=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:r}),new Qt({code:"embedded_wallet_request_error",error:r})}}async handleSignTransaction(e){try{let n=await this._privyInternal.getAccessTokenInternal();if(!n)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(n);let{transaction:r}=e.params,i=QR(r,this._account.address),s=l6(r)?Buffer.from(r.message.serialize()):r.serializeMessage(),{signature:a}=await this.signMessageRpc({method:"signMessage",params:{message:s.toString("base64")}},n);return r.addSignature(i,Buffer.from(a,"base64")),{signedTransaction:r}}catch(n){console.error(n);let r=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.wallet_index,error:r}),new Qt({code:"embedded_wallet_request_error",error:r})}}toJSON(){return`PrivyEmbeddedSolanaProvider { address: '${this._account.address}', request: [Function] }`}constructor({proxy:e,privyInternal:n,account:r,entropyId:i,entropyIdVerifier:s,onNeedsRecovery:a,app:c}){this._proxy=e,this._privyInternal=n,this._account=r,this._entropyId=i,this._entropyIdVerifier=s,this._onNeedsRecovery=a,this._app=c}},Tie=class{setMessagePoster(e){this._proxy=new ZR(e,this._mfaPromises),this._mfa.setProxy(this._proxy)}async signWithUserSigner(e){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");let n=await this._privyInternal.getAccessTokenInternal();if(!n)throw new Qt({error:"User must be logged in to sign a message with the user signer",code:"user_signer_sign_error"});let{signature:r}=await this._proxy.signWithUserSigner({accessToken:n,message:e.message});return{signature:r}}async add(e){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(this._privyInternal.config?.embedded_wallet_config.mode==="user-controlled-server-wallets-only")await U2({context:{app:this._appApi,fetchPrivyRoute:(...r)=>this._privyInternal.fetch(...r),getCompiledPath:(...r)=>this._privyInternal.getPath(...r)},chainType:e.chainType});else{let r=await this._privyInternal.getAccessTokenInternal();if(!r)throw new Qt({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});await this._proxy.addWallet({accessToken:r,...e})}let{user:n}=await this._privyInternal.refreshSession();return{user:n}}async getBitcoinProvider({wallet:e,entropyId:n,entropyIdVerifier:r,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:a}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(!await this._privyInternal.getAccessTokenInternal())throw Error("User must be logged in to create an embedded wallet");return Wl(e)||await this._load({entropyId:n,entropyIdVerifier:r,wallet:e,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:a}),new BZ({account:e,privyInternal:this._privyInternal,proxy:this._proxy,entropyId:n,entropyIdVerifier:r})}async create({password:e,recoveryMethod:n,recoveryToken:r,recoveryKey:i,recoverySecretOverride:s,iCloudRecordNameOverride:a,solanaAccount:c,skipCallbacks:u}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(this._privyInternal.config?.embedded_wallet_config.mode==="user-controlled-server-wallets-only"){if(n&&!n.startsWith("privy"))throw new Qt({error:"User-controlled server wallets do not support custom recovery methods",code:"embedded_wallet_creation_error"});await U2({context:{app:this._appApi,fetchPrivyRoute:(...d)=>this._privyInternal.fetch(...d),getCompiledPath:(...d)=>this._privyInternal.getPath(...d)},chainType:"ethereum"})}else{let d;if(d=n||(e?"user-passcode":"privy"),e&&typeof e!="string")throw Error("Invalid recovery password, must be a string");if(d==="privy"&&this._privyInternal.config?.embedded_wallet_config.require_user_password_on_create)throw Error("Password not provided yet is required by App configuration");let h=await this._privyInternal.getAccessTokenInternal();if(!h)throw Error("User must be logged in to create an embedded wallet");let{address:p}=await this._proxy.create({accessToken:h,recoveryMethod:d,recoveryKey:i,recoveryPassword:e,recoveryAccessToken:r,recoverySecretOverride:s,iCloudRecordNameOverride:a,solanaAddress:c?.address});if(!p)throw Error("Failed to create wallet")}return await this._privyInternal.refreshSession(u)}async createSolana(e){if(!this._proxy)throw new Qt({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_creation_error"});if(this._privyInternal.config?.embedded_wallet_config.mode==="user-controlled-server-wallets-only")await U2({context:{app:this._appApi,fetchPrivyRoute:(...n)=>this._privyInternal.fetch(...n),getCompiledPath:(...n)=>this._privyInternal.getPath(...n)},chainType:"solana"});else{let n=await this._privyInternal.getAccessTokenInternal();if(!n)throw new Qt({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});e?.ethereumAccount&&await this.getProvider(e.ethereumAccount);let{publicKey:r}=await this._proxy.createSolana({accessToken:n,ethereumAddress:e?.ethereumAccount?.address});if(!r)throw new Qt({error:"Failed to create wallet",code:"embedded_wallet_creation_error"})}return await this._privyInternal.refreshSession()}async delegateWallets({delegatedWallets:e,rootWallet:n}){if(!this._proxy)throw new Qt({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_creation_error"});let r=await this._privyInternal.getAccessTokenInternal();if(!r)throw new Qt({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});await this._proxy.delegateWallets({accessToken:r,delegatedWallets:e,rootWallet:n})}async getProvider(e,n,r,i,s){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return Wl(e)||await this._load({wallet:e,entropyId:e.address,entropyIdVerifier:"ethereum-address-verifier",recoveryPassword:n,recoveryKey:s,recoveryAccessToken:r,recoverySecretOverride:i}),new uS({account:e,entropyId:e.address,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,appApi:this._appApi})}async getEthereumProvider({wallet:e,entropyId:n,entropyIdVerifier:r,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:a,recoveryKey:c,onNeedsRecovery:u}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(!await this._privyInternal.getAccessTokenInternal())throw Error("User must be logged in to create an embedded wallet");return Wl(e)||(!u||i||s||a||c)&&await this._load({entropyId:n,entropyIdVerifier:r,wallet:e,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:a,recoveryKey:c}),new uS({account:e,entropyId:n,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,onNeedsRecovery:u,appApi:this._appApi})}async getSolanaProvider(e,n,r,i,s,a,c){if(!this._proxy)throw new Qt({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return Wl(e)||(!c||i||s||a)&&await this._load({wallet:e,entropyId:n,entropyIdVerifier:r,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:a}),new xie({account:e,privyInternal:this._privyInternal,proxy:this._proxy,entropyId:n,entropyIdVerifier:r,onNeedsRecovery:c,app:this._appApi})}async setRecovery(e){let{wallet:n,...r}=e;if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(Wl(n))throw new Qt({error:"This wallet does not support setting recovery methods",code:"unsupported_recovery_method"});uie({currentRecoveryMethod:n.recovery_method,upgradeToRecoveryMethod:r.recoveryMethod==="icloud-native"?"icloud":r.recoveryMethod}),await this._load(n.chain_type==="solana"?{wallet:n,entropyId:n.address,entropyIdVerifier:"solana-address-verifier"}:{wallet:n,entropyId:n.address,entropyIdVerifier:"ethereum-address-verifier"});let i=await this._privyInternal.getAccessTokenInternal();if(!i)throw Error("User must be logged in to interact with embedded wallets");let s=n.recovery_method;this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_started",{address:n.address,target_recovery_method:r.recoveryMethod,existing_recovery_method:s});try{let a;if(r.recoveryMethod==="user-passcode")a={recoveryMethod:"user-passcode",recoveryPassword:r.password};else if(r.recoveryMethod==="google-drive")a={recoveryMethod:"google-drive",recoveryAccessToken:r.recoveryAccessToken};else if(r.recoveryMethod==="icloud")a={recoveryMethod:"icloud",recoveryAccessToken:r.recoveryAccessToken};else if(r.recoveryMethod==="icloud-native")a={recoveryMethod:"icloud-native",iCloudRecordNameOverride:r.iCloudRecordNameOverride,recoverySecretOverride:r.recoverySecretOverride};else if(r.recoveryMethod==="recovery-encryption-key")a={recoveryMethod:"recovery-encryption-key",recoveryKey:r.recoveryKey};else{if(r.recoveryMethod!=="privy")throw Error(`Unknown recovery method: ${r.recoveryMethod}`);a={recoveryMethod:"privy"}}await this._proxy.setRecovery({accessToken:i,entropyId:n.address,entropyIdVerifier:n.chain_type==="solana"?"solana-address-verifier":"ethereum-address-verifier",...a}),this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_completed",{address:n.address,target_recovery_method:r.recoveryMethod,existing_recovery_method:s});let{user:c}=await this._privyInternal.refreshSession();return{user:c,provider:n.chain_type!=="ethereum"?null:new uS({account:n,entropyId:n.address,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,appApi:this._appApi})}}catch(a){throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_failed",{address:n.address,recovery_method:n.recovery_method,error:a instanceof Error?a.message:"Unable to recover wallet"}),a}}getURL(){let e=new URL(`${this._privyInternal.baseUrl}/apps/${this._privyInternal.appId}/embedded-wallets`);return this._privyInternal.caid&&e.searchParams.append("caid",this._privyInternal.caid),this._privyInternal.appClientId&&e.searchParams.append("client_id",this._privyInternal.appClientId),e.href}get chains(){return this._chains}onMessage(e){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return this._proxy.handleEmbeddedWalletMessages(e)}reload(){this._proxy?this._proxy.reload():console.warn("Attempted to reload proxy before initialized")}async ping(e){try{if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return await this._proxy.ping(e),!0}catch(n){return console.error(n),!1}}async _load({entropyId:e,entropyIdVerifier:n,wallet:r,recoveryPassword:i,recoveryKey:s,recoveryAccessToken:a,recoverySecretOverride:c}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");let u=await this._privyInternal.getAccessTokenInternal();if(!u)throw Error("User must be logged in to interact with embedded wallets");try{return await this._proxy.connect({accessToken:u,entropyId:e,entropyIdVerifier:n}),e}catch(d){if(wT(d))try{if(r.recovery_method==="privy"){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:r.recovery_method});let h=await this._proxy.recover({accessToken:u,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:r.recovery_method}),h.entropyId}if(r.recovery_method==="user-passcode"&&i){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:r.recovery_method});let h=await this._proxy.recover({accessToken:u,recoveryPassword:i,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:r.recovery_method}),h.entropyId}if(["google-drive","icloud"].includes(r.recovery_method)&&a){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:r.recovery_method});let h=await this._proxy.recover({accessToken:u,recoveryAccessToken:a,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:r.recovery_method}),h.entropyId}if(r.recovery_method==="icloud"&&c){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:"icloud-native"});let h=await this._proxy.recover({accessToken:u,recoverySecretOverride:c,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:"icloud-native"}),h.entropyId}if(r.recovery_method==="recovery-encryption-key"&&s){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:r.recovery_method});let h=await this._proxy.recover({accessToken:u,recoveryKey:s,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:r.recovery_method}),h.entropyId}}catch(h){throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_failed",{address:r.address,recovery_method:r.recovery_method,error:h instanceof Error?h.message:`Unable to recover wallet: ${e}`}),h}throw d}}constructor(e,n,r,i,s,a){if(this._chains=Array.from(i1),this._privyInternal=e,n&&(this._proxy=new ZR(n,s),i.setProxy(this._proxy)),r){let c=FU(r);this._chains=c}this._mfa=i,this._mfaPromises=s,this._appApi=a}},Iie=class extends jd{constructor(){super(),this.rootPromise={current:null},this.submitPromise={current:null}}};var gw={exports:{}},Cie=gw.exports,e4;function Oie(){return e4||(e4=1,(function(t,e){(function(n,r){t.exports=r()})(Cie,(function(){var n=function(s,a){if(a=a||{},typeof s!="function")throw new i("fetch must be a function");if(typeof a!="object")throw new i("defaults must be an object");if(a.retries!==void 0&&!r(a.retries))throw new i("retries must be a positive integer");if(a.retryDelay!==void 0&&!r(a.retryDelay)&&typeof a.retryDelay!="function")throw new i("retryDelay must be a positive integer or a function returning a positive integer");if(a.retryOn!==void 0&&!Array.isArray(a.retryOn)&&typeof a.retryOn!="function")throw new i("retryOn property expects an array or function");var c={retries:3,retryDelay:1e3,retryOn:[]};return a=Object.assign(c,a),function(d,h){var p=a.retries,y=a.retryDelay,g=a.retryOn;if(h&&h.retries!==void 0)if(r(h.retries))p=h.retries;else throw new i("retries must be a positive integer");if(h&&h.retryDelay!==void 0)if(r(h.retryDelay)||typeof h.retryDelay=="function")y=h.retryDelay;else throw new i("retryDelay must be a positive integer or a function returning a positive integer");if(h&&h.retryOn)if(Array.isArray(h.retryOn)||typeof h.retryOn=="function")g=h.retryOn;else throw new i("retryOn property expects an array or function");return new Promise(function(b,v){var E=function(k){var A=typeof Request<"u"&&d instanceof Request?d.clone():d;s(A,h).then(function(S){if(Array.isArray(g)&&g.indexOf(S.status)===-1)b(S);else if(typeof g=="function")try{return Promise.resolve(g(k,null,S)).then(function(C){C?O(k,null,S):b(S)}).catch(v)}catch(C){v(C)}else k<p?O(k,null,S):b(S)}).catch(function(S){if(typeof g=="function")try{Promise.resolve(g(k,S,null)).then(function(C){C?O(k,S,null):v(S)}).catch(function(C){v(C)})}catch(C){v(C)}else k<p?O(k,S,null):v(S)})};function O(k,A,S){var C=typeof y=="function"?y(k,A,S):y;setTimeout(function(){E(++k)},C)}E(0)})}};function r(s){return Number.isInteger(s)&&s>=0}function i(s){this.name="ArgumentError",this.message=s}return n}))})(gw)),gw.exports}var kie=Oie();const $L=uu(kie);let kb;const Rie=new Uint8Array(16);function Nie(){if(!kb&&(kb=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!kb))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return kb(Rie)}const ti=[];for(let t=0;t<256;++t)ti.push((t+256).toString(16).slice(1));function $ie(t,e=0){return ti[t[e+0]]+ti[t[e+1]]+ti[t[e+2]]+ti[t[e+3]]+"-"+ti[t[e+4]]+ti[t[e+5]]+"-"+ti[t[e+6]]+ti[t[e+7]]+"-"+ti[t[e+8]]+ti[t[e+9]]+"-"+ti[t[e+10]]+ti[t[e+11]]+ti[t[e+12]]+ti[t[e+13]]+ti[t[e+14]]+ti[t[e+15]]}const Pie=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),t4={randomUUID:Pie};function u6(t,e,n){if(t4.randomUUID&&!t)return t4.randomUUID();t=t||{};const r=t.random||(t.rng||Nie)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,$ie(r)}var st,n4=((st={}).OAUTH_ACCOUNT_SUSPENDED="oauth_account_suspended",st.MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",st.MISSING_OR_INVALID_PRIVY_CLIENT_ID="missing_or_invalid_privy_client_id",st.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",st.MISSING_OR_INVALID_TOKEN="missing_or_invalid_token",st.MISSING_MFA_ENROLLMENT="missing_mfa_enrollment",st.MISSING_OR_INVALID_MFA="missing_or_invalid_mfa",st.EXPIRED_OR_INVALID_MFA_TOKEN="expired_or_invalid_mfa_token",st.INVALID_DATA="invalid_data",st.INVALID_CREDENTIALS="invalid_credentials",st.INVALID_CAPTCHA="invalid_captcha",st.LINKED_TO_ANOTHER_USER="linked_to_another_user",st.ALLOWLIST_REJECTED="allowlist_rejected",st.CANNOT_UNLINK_EMBEDDED_WALLET="cannot_unlink_embedded_wallet",st.CANNOT_UNLINK_SOLE_ACCOUNT="cannot_unlink_sole_account",st.CANNOT_LINK_MORE_OF_TYPE="cannot_link_more_of_type",st.LINKED_ACCOUNT_NOT_FOUND="linked_account_not_found",st.TOO_MANY_REQUESTS="too_many_requests",st.RESOURCE_CONFLICT="resource_conflict",st.INVALID_ORIGIN="invalid_origin",st.MISSING_ORIGIN="missing_origin",st.INVALID_NATIVE_APP_ID="invalid_native_app_id",st.TOKEN_ALREADY_USED="token_already_used",st.ALREADY_LOGGED_OUT="already_logged_out",st.NOT_SUPPORTED="not_supported",st.USER_UNSUBSCRIBED="user_unsubscribed",st.MAX_APPS_REACHED="max_apps_reached",st.USER_LIMIT_REACHED="max_accounts_reached",st.DEVICE_REVOKED="device_revoked",st.WALLET_PASSWORD_EXISTS="wallet_password_exists",st.OAUTH_STATE_MISMATCH="oauth_state_mismatch",st.MAX_DENYLIST_ENTRIES_REACHED="max_denylist_entries_reached",st.MAX_TEST_ACCOUNTS_REACHED="max_test_accounts_reached",st.DISALLOWED_LOGIN_METHOD="disallowed_login_method",st.DISALLOWED_PLUS_EMAIL="disallowed_plus_email",st.DISALLOWED_RECOVERY_METHOD="disallowed_recovery_method",st.LEGACY_DASHBOARD_LOGIN_CONFIGURATION="legacy_dashboard_login_configuration",st.CANNOT_SET_PASSWORD="cannot_set_password",st.INVALID_PKCE_PARAMETERS="invalid_pkce_parameters",st.INVALID_APP_URL_SCHEME_CONFIGURATION="invalid_app_url_scheme_configuration",st.CROSS_APP_CONNECTION_NOT_ALLOWED="cross_app_connection_not_allowed",st.USER_DOES_NOT_EXIST="user_does_not_exist",st.ALREADY_EXISTS="resource_already_exists",st.ACCOUNT_TRANSFER_REQUIRED="account_transfer_required",st.USER_HAS_NOT_DELEGATED_WALLET="user_has_not_delegated_wallet",st.FEATURE_NOT_ENABLED="feature_not_enabled",st.INSUFFICIENT_FUNDS="insufficient_funds",st.TRANSACTION_BROADCAST_FAILURE="transaction_broadcast_failure",st.TRANSACTION_EXECUTION_FAILURE="transaction_execution_failure",st.INVALID_POLICY_FORMAT="invalid_policy_format",st.POLICY_VIOLATION="policy_violation",st.AUTHORIZATION_KEY_HAS_ASSOCIATED_WALLETS="authorization_key_has_associated_wallets",st.INVALID_REQUEST="invalid_request",st.SIGNUP_DISABLED="signup_disabled",st),Gt;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const a of i)s[a]=a;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(c=>typeof i[i[c]]!="number"),a={};for(const c of s)a[c]=i[c];return t.objectValues(a)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&s.push(a);return s},t.find=(i,s)=>{for(const a of i)if(s(a))return a},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(a=>typeof a=="string"?`'${a}'`:a).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(Gt||(Gt={}));var r4;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(r4||(r4={}));const Ke=Gt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ml=t=>{switch(typeof t){case"undefined":return Ke.undefined;case"string":return Ke.string;case"number":return Number.isNaN(t)?Ke.nan:Ke.number;case"boolean":return Ke.boolean;case"function":return Ke.function;case"bigint":return Ke.bigint;case"symbol":return Ke.symbol;case"object":return Array.isArray(t)?Ke.array:t===null?Ke.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Ke.promise:typeof Map<"u"&&t instanceof Map?Ke.map:typeof Set<"u"&&t instanceof Set?Ke.set:typeof Date<"u"&&t instanceof Date?Ke.date:Ke.object;default:return Ke.unknown}},Pe=Gt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Uc extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const a of s.issues)if(a.code==="invalid_union")a.unionErrors.map(i);else if(a.code==="invalid_return_type")i(a.returnTypeError);else if(a.code==="invalid_arguments")i(a.argumentsError);else if(a.path.length===0)r._errors.push(n(a));else{let c=r,u=0;for(;u<a.path.length;){const d=a.path[u];u===a.path.length-1?(c[d]=c[d]||{_errors:[]},c[d]._errors.push(n(a))):c[d]=c[d]||{_errors:[]},c=c[d],u++}}};return i(this),r}static assert(e){if(!(e instanceof Uc))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Gt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)if(i.path.length>0){const s=i.path[0];n[s]=n[s]||[],n[s].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Uc.create=t=>new Uc(t);const d6=(t,e)=>{let n;switch(t.code){case Pe.invalid_type:t.received===Ke.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case Pe.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Gt.jsonStringifyReplacer)}`;break;case Pe.unrecognized_keys:n=`Unrecognized key(s) in object: ${Gt.joinValues(t.keys,", ")}`;break;case Pe.invalid_union:n="Invalid input";break;case Pe.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Gt.joinValues(t.options)}`;break;case Pe.invalid_enum_value:n=`Invalid enum value. Expected ${Gt.joinValues(t.options)}, received '${t.received}'`;break;case Pe.invalid_arguments:n="Invalid function arguments";break;case Pe.invalid_return_type:n="Invalid function return type";break;case Pe.invalid_date:n="Invalid date";break;case Pe.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Gt.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case Pe.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case Pe.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case Pe.custom:n="Invalid input";break;case Pe.invalid_intersection_types:n="Intersection results could not be merged";break;case Pe.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case Pe.not_finite:n="Number must be finite";break;default:n=e.defaultError,Gt.assertNever(t)}return{message:n}};let Die=d6;function Uie(){return Die}const Mie=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],a={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let c="";const u=r.filter(d=>!!d).slice().reverse();for(const d of u)c=d(a,{data:e,defaultError:c}).message;return{...i,path:s,message:c}};function je(t,e){const n=Uie(),r=Mie({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===d6?void 0:d6].filter(i=>!!i)});t.common.issues.push(r)}class ki{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return mt;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const s=await i.key,a=await i.value;r.push({key:s,value:a})}return ki.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:a}=i;if(s.status==="aborted"||a.status==="aborted")return mt;s.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof a.value<"u"||i.alwaysSet)&&(r[s.value]=a.value)}return{status:e.value,value:r}}}const mt=Object.freeze({status:"aborted"}),qm=t=>({status:"dirty",value:t}),ua=t=>({status:"valid",value:t}),i4=t=>t.status==="aborted",s4=t=>t.status==="dirty",Bh=t=>t.status==="valid",ev=t=>typeof Promise<"u"&&t instanceof Promise;var et;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(et||(et={}));class So{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const a4=(t,e)=>{if(Bh(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Uc(t.common.issues);return this._error=n,this._error}}};function Ot(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(a,c)=>{const{message:u}=t;return a.code==="invalid_enum_value"?{message:u??c.defaultError}:typeof c.data>"u"?{message:u??r??c.defaultError}:a.code!=="invalid_type"?{message:c.defaultError}:{message:u??n??c.defaultError}},description:i}}class Lt{get description(){return this._def.description}_getType(e){return Ml(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Ml(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ki,ctx:{common:e.parent.common,data:e.data,parsedType:Ml(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(ev(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:n?.async??!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ml(e)},i=this._parseSync({data:e,path:r.path,parent:r});return a4(r,i)}"~validate"(e){const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ml(e)};if(!this["~standard"].async)try{const r=this._parseSync({data:e,path:[],parent:n});return Bh(r)?{value:r.value}:{issues:n.common.issues}}catch(r){r?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(r=>Bh(r)?{value:r.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ml(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(ev(i)?i:Promise.resolve(i));return a4(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const a=e(i),c=()=>s.addIssue({code:Pe.custom,...r(i)});return typeof Promise<"u"&&a instanceof Promise?a.then(u=>u?!0:(c(),!1)):a?!0:(c(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new Od({schema:this,typeName:yt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Oc.create(this,this._def)}nullable(){return kd.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return go.create(this)}promise(){return av.create(this,this._def)}or(e){return nv.create([this,e],this._def)}and(e){return rv.create(this,e,this._def)}transform(e){return new Od({...Ot(this._def),schema:this,typeName:yt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new ov({...Ot(this._def),innerType:this,defaultValue:n,typeName:yt.ZodDefault})}brand(){return new ML({typeName:yt.ZodBranded,type:this,...Ot(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new cv({...Ot(this._def),innerType:this,catchValue:n,typeName:yt.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return m3.create(this,e)}readonly(){return lv.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Bie=/^c[^\s-]{8,}$/i,Lie=/^[0-9a-z]+$/,jie=/^[0-9A-HJKMNP-TV-Z]{26}$/i,zie=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Fie=/^[a-z0-9_-]{21}$/i,qie=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Wie=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Hie=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Vie="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let dS;const Gie=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Kie=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Yie=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Zie=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Xie=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Jie=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,PL="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Qie=new RegExp(`^${PL}$`);function DL(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function ese(t){return new RegExp(`^${DL(t)}$`)}function tse(t){let e=`${PL}T${DL(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function nse(t,e){return!!((e==="v4"||!e)&&Gie.test(t)||(e==="v6"||!e)&&Yie.test(t))}function rse(t,e){if(!qie.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&i?.typ!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function ise(t,e){return!!((e==="v4"||!e)&&Kie.test(t)||(e==="v6"||!e)&&Zie.test(t))}class ho extends Lt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Ke.string){const s=this._getOrReturnCtx(e);return je(s,{code:Pe.invalid_type,expected:Ke.string,received:s.parsedType}),mt}const r=new ki;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),je(i,{code:Pe.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),je(i,{code:Pe.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const a=e.data.length>s.value,c=e.data.length<s.value;(a||c)&&(i=this._getOrReturnCtx(e,i),a?je(i,{code:Pe.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):c&&je(i,{code:Pe.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")Hie.test(e.data)||(i=this._getOrReturnCtx(e,i),je(i,{validation:"email",code:Pe.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")dS||(dS=new RegExp(Vie,"u")),dS.test(e.data)||(i=this._getOrReturnCtx(e,i),je(i,{validation:"emoji",code:Pe.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")zie.test(e.data)||(i=this._getOrReturnCtx(e,i),je(i,{validation:"uuid",code:Pe.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")Fie.test(e.data)||(i=this._getOrReturnCtx(e,i),je(i,{validation:"nanoid",code:Pe.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")Bie.test(e.data)||(i=this._getOrReturnCtx(e,i),je(i,{validation:"cuid",code:Pe.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")Lie.test(e.data)||(i=this._getOrReturnCtx(e,i),je(i,{validation:"cuid2",code:Pe.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")jie.test(e.data)||(i=this._getOrReturnCtx(e,i),je(i,{validation:"ulid",code:Pe.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),je(i,{validation:"url",code:Pe.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),je(i,{validation:"regex",code:Pe.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),je(i,{code:Pe.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),je(i,{code:Pe.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),je(i,{code:Pe.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?tse(s).test(e.data)||(i=this._getOrReturnCtx(e,i),je(i,{code:Pe.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?Qie.test(e.data)||(i=this._getOrReturnCtx(e,i),je(i,{code:Pe.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?ese(s).test(e.data)||(i=this._getOrReturnCtx(e,i),je(i,{code:Pe.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?Wie.test(e.data)||(i=this._getOrReturnCtx(e,i),je(i,{validation:"duration",code:Pe.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?nse(e.data,s.version)||(i=this._getOrReturnCtx(e,i),je(i,{validation:"ip",code:Pe.invalid_string,message:s.message}),r.dirty()):s.kind==="jwt"?rse(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),je(i,{validation:"jwt",code:Pe.invalid_string,message:s.message}),r.dirty()):s.kind==="cidr"?ise(e.data,s.version)||(i=this._getOrReturnCtx(e,i),je(i,{validation:"cidr",code:Pe.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?Xie.test(e.data)||(i=this._getOrReturnCtx(e,i),je(i,{validation:"base64",code:Pe.invalid_string,message:s.message}),r.dirty()):s.kind==="base64url"?Jie.test(e.data)||(i=this._getOrReturnCtx(e,i),je(i,{validation:"base64url",code:Pe.invalid_string,message:s.message}),r.dirty()):Gt.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:Pe.invalid_string,...et.errToObj(r)})}_addCheck(e){return new ho({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...et.errToObj(e)})}url(e){return this._addCheck({kind:"url",...et.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...et.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...et.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...et.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...et.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...et.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...et.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...et.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...et.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...et.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...et.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...et.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...et.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...et.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...et.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...et.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n?.position,...et.errToObj(n?.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...et.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...et.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...et.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...et.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...et.errToObj(n)})}nonempty(e){return this.min(1,et.errToObj(e))}trim(){return new ho({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ho({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ho({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ho.create=t=>new ho({checks:[],typeName:yt.ZodString,coerce:t?.coerce??!1,...Ot(t)});function sse(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=Number.parseInt(t.toFixed(i).replace(".","")),a=Number.parseInt(e.toFixed(i).replace(".",""));return s%a/10**i}class xd extends Lt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Ke.number){const s=this._getOrReturnCtx(e);return je(s,{code:Pe.invalid_type,expected:Ke.number,received:s.parsedType}),mt}let r;const i=new ki;for(const s of this._def.checks)s.kind==="int"?Gt.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),je(r,{code:Pe.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),je(r,{code:Pe.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),je(r,{code:Pe.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?sse(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),je(r,{code:Pe.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),je(r,{code:Pe.not_finite,message:s.message}),i.dirty()):Gt.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,et.toString(n))}gt(e,n){return this.setLimit("min",e,!1,et.toString(n))}lte(e,n){return this.setLimit("max",e,!0,et.toString(n))}lt(e,n){return this.setLimit("max",e,!1,et.toString(n))}setLimit(e,n,r,i){return new xd({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:et.toString(i)}]})}_addCheck(e){return new xd({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:et.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:et.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:et.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:et.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:et.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:et.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:et.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:et.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:et.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Gt.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}xd.create=t=>new xd({checks:[],typeName:yt.ZodNumber,coerce:t?.coerce||!1,...Ot(t)});class Td extends Lt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Ke.bigint)return this._getInvalidInput(e);let r;const i=new ki;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),je(r,{code:Pe.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),je(r,{code:Pe.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),je(r,{code:Pe.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Gt.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return je(n,{code:Pe.invalid_type,expected:Ke.bigint,received:n.parsedType}),mt}gte(e,n){return this.setLimit("min",e,!0,et.toString(n))}gt(e,n){return this.setLimit("min",e,!1,et.toString(n))}lte(e,n){return this.setLimit("max",e,!0,et.toString(n))}lt(e,n){return this.setLimit("max",e,!1,et.toString(n))}setLimit(e,n,r,i){return new Td({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:et.toString(i)}]})}_addCheck(e){return new Td({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:et.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:et.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:et.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:et.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:et.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Td.create=t=>new Td({checks:[],typeName:yt.ZodBigInt,coerce:t?.coerce??!1,...Ot(t)});class tv extends Lt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Ke.boolean){const r=this._getOrReturnCtx(e);return je(r,{code:Pe.invalid_type,expected:Ke.boolean,received:r.parsedType}),mt}return ua(e.data)}}tv.create=t=>new tv({typeName:yt.ZodBoolean,coerce:t?.coerce||!1,...Ot(t)});class Lh extends Lt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Ke.date){const s=this._getOrReturnCtx(e);return je(s,{code:Pe.invalid_type,expected:Ke.date,received:s.parsedType}),mt}if(Number.isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return je(s,{code:Pe.invalid_date}),mt}const r=new ki;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),je(i,{code:Pe.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),je(i,{code:Pe.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):Gt.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Lh({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:et.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:et.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Lh.create=t=>new Lh({checks:[],coerce:t?.coerce||!1,typeName:yt.ZodDate,...Ot(t)});class o4 extends Lt{_parse(e){if(this._getType(e)!==Ke.symbol){const r=this._getOrReturnCtx(e);return je(r,{code:Pe.invalid_type,expected:Ke.symbol,received:r.parsedType}),mt}return ua(e.data)}}o4.create=t=>new o4({typeName:yt.ZodSymbol,...Ot(t)});class f6 extends Lt{_parse(e){if(this._getType(e)!==Ke.undefined){const r=this._getOrReturnCtx(e);return je(r,{code:Pe.invalid_type,expected:Ke.undefined,received:r.parsedType}),mt}return ua(e.data)}}f6.create=t=>new f6({typeName:yt.ZodUndefined,...Ot(t)});class h6 extends Lt{_parse(e){if(this._getType(e)!==Ke.null){const r=this._getOrReturnCtx(e);return je(r,{code:Pe.invalid_type,expected:Ke.null,received:r.parsedType}),mt}return ua(e.data)}}h6.create=t=>new h6({typeName:yt.ZodNull,...Ot(t)});class p6 extends Lt{constructor(){super(...arguments),this._any=!0}_parse(e){return ua(e.data)}}p6.create=t=>new p6({typeName:yt.ZodAny,...Ot(t)});class c4 extends Lt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ua(e.data)}}c4.create=t=>new c4({typeName:yt.ZodUnknown,...Ot(t)});class au extends Lt{_parse(e){const n=this._getOrReturnCtx(e);return je(n,{code:Pe.invalid_type,expected:Ke.never,received:n.parsedType}),mt}}au.create=t=>new au({typeName:yt.ZodNever,...Ot(t)});class l4 extends Lt{_parse(e){if(this._getType(e)!==Ke.undefined){const r=this._getOrReturnCtx(e);return je(r,{code:Pe.invalid_type,expected:Ke.void,received:r.parsedType}),mt}return ua(e.data)}}l4.create=t=>new l4({typeName:yt.ZodVoid,...Ot(t)});class go extends Lt{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==Ke.array)return je(n,{code:Pe.invalid_type,expected:Ke.array,received:n.parsedType}),mt;if(i.exactLength!==null){const a=n.data.length>i.exactLength.value,c=n.data.length<i.exactLength.value;(a||c)&&(je(n,{code:a?Pe.too_big:Pe.too_small,minimum:c?i.exactLength.value:void 0,maximum:a?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(je(n,{code:Pe.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(je(n,{code:Pe.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((a,c)=>i.type._parseAsync(new So(n,a,n.path,c)))).then(a=>ki.mergeArray(r,a));const s=[...n.data].map((a,c)=>i.type._parseSync(new So(n,a,n.path,c)));return ki.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new go({...this._def,minLength:{value:e,message:et.toString(n)}})}max(e,n){return new go({...this._def,maxLength:{value:e,message:et.toString(n)}})}length(e,n){return new go({...this._def,exactLength:{value:e,message:et.toString(n)}})}nonempty(e){return this.min(1,e)}}go.create=(t,e)=>new go({type:t,minLength:null,maxLength:null,exactLength:null,typeName:yt.ZodArray,...Ot(e)});function ih(t){if(t instanceof hr){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Oc.create(ih(r))}return new hr({...t._def,shape:()=>e})}else return t instanceof go?new go({...t._def,type:ih(t.element)}):t instanceof Oc?Oc.create(ih(t.unwrap())):t instanceof kd?kd.create(ih(t.unwrap())):t instanceof Id?Id.create(t.items.map(e=>ih(e))):t}class hr extends Lt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Gt.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==Ke.object){const d=this._getOrReturnCtx(e);return je(d,{code:Pe.invalid_type,expected:Ke.object,received:d.parsedType}),mt}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:a}=this._getCached(),c=[];if(!(this._def.catchall instanceof au&&this._def.unknownKeys==="strip"))for(const d in i.data)a.includes(d)||c.push(d);const u=[];for(const d of a){const h=s[d],p=i.data[d];u.push({key:{status:"valid",value:d},value:h._parse(new So(i,p,i.path,d)),alwaysSet:d in i.data})}if(this._def.catchall instanceof au){const d=this._def.unknownKeys;if(d==="passthrough")for(const h of c)u.push({key:{status:"valid",value:h},value:{status:"valid",value:i.data[h]}});else if(d==="strict")c.length>0&&(je(i,{code:Pe.unrecognized_keys,keys:c}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const h of c){const p=i.data[h];u.push({key:{status:"valid",value:h},value:d._parse(new So(i,p,i.path,h)),alwaysSet:h in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const d=[];for(const h of u){const p=await h.key,y=await h.value;d.push({key:p,value:y,alwaysSet:h.alwaysSet})}return d}).then(d=>ki.mergeObjectSync(r,d)):ki.mergeObjectSync(r,u)}get shape(){return this._def.shape()}strict(e){return et.errToObj,new hr({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{const i=this._def.errorMap?.(n,r).message??r.defaultError;return n.code==="unrecognized_keys"?{message:et.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new hr({...this._def,unknownKeys:"strip"})}passthrough(){return new hr({...this._def,unknownKeys:"passthrough"})}extend(e){return new hr({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new hr({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:yt.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new hr({...this._def,catchall:e})}pick(e){const n={};for(const r of Gt.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new hr({...this._def,shape:()=>n})}omit(e){const n={};for(const r of Gt.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new hr({...this._def,shape:()=>n})}deepPartial(){return ih(this)}partial(e){const n={};for(const r of Gt.objectKeys(this.shape)){const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}return new hr({...this._def,shape:()=>n})}required(e){const n={};for(const r of Gt.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof Oc;)s=s._def.innerType;n[r]=s}return new hr({...this._def,shape:()=>n})}keyof(){return UL(Gt.objectKeys(this.shape))}}hr.create=(t,e)=>new hr({shape:()=>t,unknownKeys:"strip",catchall:au.create(),typeName:yt.ZodObject,...Ot(e)});hr.strictCreate=(t,e)=>new hr({shape:()=>t,unknownKeys:"strict",catchall:au.create(),typeName:yt.ZodObject,...Ot(e)});hr.lazycreate=(t,e)=>new hr({shape:t,unknownKeys:"strip",catchall:au.create(),typeName:yt.ZodObject,...Ot(e)});class nv extends Lt{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const c of s)if(c.result.status==="valid")return c.result;for(const c of s)if(c.result.status==="dirty")return n.common.issues.push(...c.ctx.common.issues),c.result;const a=s.map(c=>new Uc(c.ctx.common.issues));return je(n,{code:Pe.invalid_union,unionErrors:a}),mt}if(n.common.async)return Promise.all(r.map(async s=>{const a={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:a}),ctx:a}})).then(i);{let s;const a=[];for(const u of r){const d={...n,common:{...n.common,issues:[]},parent:null},h=u._parseSync({data:n.data,path:n.path,parent:d});if(h.status==="valid")return h;h.status==="dirty"&&!s&&(s={result:h,ctx:d}),d.common.issues.length&&a.push(d.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const c=a.map(u=>new Uc(u));return je(n,{code:Pe.invalid_union,unionErrors:c}),mt}}get options(){return this._def.options}}nv.create=(t,e)=>new nv({options:t,typeName:yt.ZodUnion,...Ot(e)});const lc=t=>t instanceof y6?lc(t.schema):t instanceof Od?lc(t.innerType()):t instanceof sv?[t.value]:t instanceof Cd?t.options:t instanceof g6?Gt.objectValues(t.enum):t instanceof ov?lc(t._def.innerType):t instanceof f6?[void 0]:t instanceof h6?[null]:t instanceof Oc?[void 0,...lc(t.unwrap())]:t instanceof kd?[null,...lc(t.unwrap())]:t instanceof ML||t instanceof lv?lc(t.unwrap()):t instanceof cv?lc(t._def.innerType):[];class p3 extends Lt{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Ke.object)return je(n,{code:Pe.invalid_type,expected:Ke.object,received:n.parsedType}),mt;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(je(n,{code:Pe.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),mt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const s of n){const a=lc(s.shape[e]);if(!a.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const c of a){if(i.has(c))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(c)}`);i.set(c,s)}}return new p3({typeName:yt.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...Ot(r)})}}function m6(t,e){const n=Ml(t),r=Ml(e);if(t===e)return{valid:!0,data:t};if(n===Ke.object&&r===Ke.object){const i=Gt.objectKeys(e),s=Gt.objectKeys(t).filter(c=>i.indexOf(c)!==-1),a={...t,...e};for(const c of s){const u=m6(t[c],e[c]);if(!u.valid)return{valid:!1};a[c]=u.data}return{valid:!0,data:a}}else if(n===Ke.array&&r===Ke.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const a=t[s],c=e[s],u=m6(a,c);if(!u.valid)return{valid:!1};i.push(u.data)}return{valid:!0,data:i}}else return n===Ke.date&&r===Ke.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class rv extends Lt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,a)=>{if(i4(s)||i4(a))return mt;const c=m6(s.value,a.value);return c.valid?((s4(s)||s4(a))&&n.dirty(),{status:n.value,value:c.data}):(je(r,{code:Pe.invalid_intersection_types}),mt)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,a])=>i(s,a)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}rv.create=(t,e,n)=>new rv({left:t,right:e,typeName:yt.ZodIntersection,...Ot(n)});class Id extends Lt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ke.array)return je(r,{code:Pe.invalid_type,expected:Ke.array,received:r.parsedType}),mt;if(r.data.length<this._def.items.length)return je(r,{code:Pe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),mt;!this._def.rest&&r.data.length>this._def.items.length&&(je(r,{code:Pe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((a,c)=>{const u=this._def.items[c]||this._def.rest;return u?u._parse(new So(r,a,r.path,c)):null}).filter(a=>!!a);return r.common.async?Promise.all(s).then(a=>ki.mergeArray(n,a)):ki.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new Id({...this._def,rest:e})}}Id.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Id({items:t,typeName:yt.ZodTuple,rest:null,...Ot(e)})};class iv extends Lt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ke.object)return je(r,{code:Pe.invalid_type,expected:Ke.object,received:r.parsedType}),mt;const i=[],s=this._def.keyType,a=this._def.valueType;for(const c in r.data)i.push({key:s._parse(new So(r,c,r.path,c)),value:a._parse(new So(r,r.data[c],r.path,c)),alwaysSet:c in r.data});return r.common.async?ki.mergeObjectAsync(n,i):ki.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Lt?new iv({keyType:e,valueType:n,typeName:yt.ZodRecord,...Ot(r)}):new iv({keyType:ho.create(),valueType:e,typeName:yt.ZodRecord,...Ot(n)})}}class u4 extends Lt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ke.map)return je(r,{code:Pe.invalid_type,expected:Ke.map,received:r.parsedType}),mt;const i=this._def.keyType,s=this._def.valueType,a=[...r.data.entries()].map(([c,u],d)=>({key:i._parse(new So(r,c,r.path,[d,"key"])),value:s._parse(new So(r,u,r.path,[d,"value"]))}));if(r.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const u of a){const d=await u.key,h=await u.value;if(d.status==="aborted"||h.status==="aborted")return mt;(d.status==="dirty"||h.status==="dirty")&&n.dirty(),c.set(d.value,h.value)}return{status:n.value,value:c}})}else{const c=new Map;for(const u of a){const d=u.key,h=u.value;if(d.status==="aborted"||h.status==="aborted")return mt;(d.status==="dirty"||h.status==="dirty")&&n.dirty(),c.set(d.value,h.value)}return{status:n.value,value:c}}}}u4.create=(t,e,n)=>new u4({valueType:e,keyType:t,typeName:yt.ZodMap,...Ot(n)});class Wy extends Lt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ke.set)return je(r,{code:Pe.invalid_type,expected:Ke.set,received:r.parsedType}),mt;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(je(r,{code:Pe.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(je(r,{code:Pe.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function a(u){const d=new Set;for(const h of u){if(h.status==="aborted")return mt;h.status==="dirty"&&n.dirty(),d.add(h.value)}return{status:n.value,value:d}}const c=[...r.data.values()].map((u,d)=>s._parse(new So(r,u,r.path,d)));return r.common.async?Promise.all(c).then(u=>a(u)):a(c)}min(e,n){return new Wy({...this._def,minSize:{value:e,message:et.toString(n)}})}max(e,n){return new Wy({...this._def,maxSize:{value:e,message:et.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Wy.create=(t,e)=>new Wy({valueType:t,minSize:null,maxSize:null,typeName:yt.ZodSet,...Ot(e)});class y6 extends Lt{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}y6.create=(t,e)=>new y6({getter:t,typeName:yt.ZodLazy,...Ot(e)});class sv extends Lt{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return je(n,{received:n.data,code:Pe.invalid_literal,expected:this._def.value}),mt}return{status:"valid",value:e.data}}get value(){return this._def.value}}sv.create=(t,e)=>new sv({value:t,typeName:yt.ZodLiteral,...Ot(e)});function UL(t,e){return new Cd({values:t,typeName:yt.ZodEnum,...Ot(e)})}class Cd extends Lt{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return je(n,{expected:Gt.joinValues(r),received:n.parsedType,code:Pe.invalid_type}),mt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return je(n,{received:n.data,code:Pe.invalid_enum_value,options:r}),mt}return ua(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Cd.create(e,{...this._def,...n})}exclude(e,n=this._def){return Cd.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Cd.create=UL;class g6 extends Lt{_parse(e){const n=Gt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Ke.string&&r.parsedType!==Ke.number){const i=Gt.objectValues(n);return je(r,{expected:Gt.joinValues(i),received:r.parsedType,code:Pe.invalid_type}),mt}if(this._cache||(this._cache=new Set(Gt.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=Gt.objectValues(n);return je(r,{received:r.data,code:Pe.invalid_enum_value,options:i}),mt}return ua(e.data)}get enum(){return this._def.values}}g6.create=(t,e)=>new g6({values:t,typeName:yt.ZodNativeEnum,...Ot(e)});class av extends Lt{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Ke.promise&&n.common.async===!1)return je(n,{code:Pe.invalid_type,expected:Ke.promise,received:n.parsedType}),mt;const r=n.parsedType===Ke.promise?n.data:Promise.resolve(n.data);return ua(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}av.create=(t,e)=>new av({type:t,typeName:yt.ZodPromise,...Ot(e)});class Od extends Lt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===yt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:a=>{je(r,a),a.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const a=i.transform(r.data,s);if(r.common.async)return Promise.resolve(a).then(async c=>{if(n.value==="aborted")return mt;const u=await this._def.schema._parseAsync({data:c,path:r.path,parent:r});return u.status==="aborted"?mt:u.status==="dirty"||n.value==="dirty"?qm(u.value):u});{if(n.value==="aborted")return mt;const c=this._def.schema._parseSync({data:a,path:r.path,parent:r});return c.status==="aborted"?mt:c.status==="dirty"||n.value==="dirty"?qm(c.value):c}}if(i.type==="refinement"){const a=c=>{const u=i.refinement(c,s);if(r.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(r.common.async===!1){const c=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return c.status==="aborted"?mt:(c.status==="dirty"&&n.dirty(),a(c.value),{status:n.value,value:c.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(c=>c.status==="aborted"?mt:(c.status==="dirty"&&n.dirty(),a(c.value).then(()=>({status:n.value,value:c.value}))))}if(i.type==="transform")if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Bh(a))return mt;const c=i.transform(a.value,s);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:c}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>Bh(a)?Promise.resolve(i.transform(a.value,s)).then(c=>({status:n.value,value:c})):mt);Gt.assertNever(i)}}Od.create=(t,e,n)=>new Od({schema:t,typeName:yt.ZodEffects,effect:e,...Ot(n)});Od.createWithPreprocess=(t,e,n)=>new Od({schema:e,effect:{type:"preprocess",transform:t},typeName:yt.ZodEffects,...Ot(n)});class Oc extends Lt{_parse(e){return this._getType(e)===Ke.undefined?ua(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Oc.create=(t,e)=>new Oc({innerType:t,typeName:yt.ZodOptional,...Ot(e)});class kd extends Lt{_parse(e){return this._getType(e)===Ke.null?ua(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}kd.create=(t,e)=>new kd({innerType:t,typeName:yt.ZodNullable,...Ot(e)});class ov extends Lt{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===Ke.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}ov.create=(t,e)=>new ov({innerType:t,typeName:yt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ot(e)});class cv extends Lt{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return ev(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Uc(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Uc(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}cv.create=(t,e)=>new cv({innerType:t,typeName:yt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Ot(e)});class d4 extends Lt{_parse(e){if(this._getType(e)!==Ke.nan){const r=this._getOrReturnCtx(e);return je(r,{code:Pe.invalid_type,expected:Ke.nan,received:r.parsedType}),mt}return{status:"valid",value:e.data}}}d4.create=t=>new d4({typeName:yt.ZodNaN,...Ot(t)});class ML extends Lt{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class m3 extends Lt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?mt:s.status==="dirty"?(n.dirty(),qm(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?mt:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new m3({in:e,out:n,typeName:yt.ZodPipeline})}}class lv extends Lt{_parse(e){const n=this._def.innerType._parse(e),r=i=>(Bh(i)&&(i.value=Object.freeze(i.value)),i);return ev(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}lv.create=(t,e)=>new lv({innerType:t,typeName:yt.ZodReadonly,...Ot(e)});var yt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(yt||(yt={}));const In=ho.create,na=xd.create;Td.create;const BL=tv.create,ase=Lh.create,jh=p6.create;au.create;const k1=go.create,qr=hr.create,LL=nv.create,ose=p3.create;rv.create;Id.create;const fd=iv.create,cse=sv.create,ko=Cd.create;av.create;Oc.create;kd.create;const lse={string:(t=>ho.create({...t,coerce:!0})),number:(t=>xd.create({...t,coerce:!0})),boolean:(t=>tv.create({...t,coerce:!0})),bigint:(t=>Td.create({...t,coerce:!0})),date:(t=>Lh.create({...t,coerce:!0}))};function Rb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}var use={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function b6(t,e){function n(i,s,a){if(!(typeof document>"u")){a=Rb({},e,a),typeof a.expires=="number"&&(a.expires=new Date(Date.now()+a.expires*864e5)),a.expires&&(a.expires=a.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var c="";for(var u in a)a[u]&&(c+="; "+u,a[u]!==!0&&(c+="="+a[u].split(";")[0]));return document.cookie=i+"="+t.write(s,i)+c}}function r(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var s=document.cookie?document.cookie.split("; "):[],a={},c=0;c<s.length;c++){var u=s[c].split("="),d=u.slice(1).join("=");try{var h=decodeURIComponent(u[0]);if(a[h]=t.read(d,h),i===h)break}catch{}}return i?a[i]:a}}return Object.create({set:n,get:r,remove:function(i,s){n(i,"",Rb({},s,{expires:-1}))},withAttributes:function(i){return b6(this.converter,Rb({},this.attributes,i))},withConverter:function(i){return b6(Rb({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var er=b6(use,{path:"/"});const f4=Promise.allSettled.bind(Promise)??(t=>Promise.all(t.map((e=>e.then((n=>({status:"fulfilled",value:n}))).catch((n=>({status:"rejected",reason:n})))))));let Lf="privy:token",fS="privy-token",hS="privy:pat",Nb="privy:refresh_token",pS="privy-refresh-token",jf="privy:id-token",mS="privy-id-token",$b="privy-session",jL=class extends jd{set isUsingServerCookies(e){this._isUsingServerCookies=e}async getCustomerAccessToken(){let e=await this._storage.get(Lf);try{return typeof e=="string"?new th(e).value:null}catch(n){return console.error(n),await this.destroyLocalState({reason:"getToken_error"}),null}}async getPrivyAccessToken(){let e=await this._storage.get(hS);try{return typeof e=="string"?new th(e).value:null}catch(n){return console.error(n),await this.destroyLocalState({reason:"getToken_error"}),null}}async getRefreshToken(){let e=await this._storage.get(Nb);return typeof e=="string"?e:null}async getIdentityToken(){let e=await this._storage.get(jf);return typeof e=="string"?e:null}get mightHaveServerCookies(){try{let e=er.get($b);return e!==void 0&&e.length>0}catch(e){console.error(e)}return!1}hasRefreshCredentials(e,n){return this.mightHaveServerCookies||typeof e=="string"&&typeof n=="string"}tokenIsActive(e){if(!e)return!1;let n=th.parse(e);return n!==null&&!n.isExpired(30)}async destroyLocalState(e){await f4([this._storage.del(Lf),this._storage.del(Nb),this._storage.del(jf),this._storage.del(this.GUEST_CREDENTIAL_STORAGE_KEY)]),er.remove(fS),er.remove(pS),er.remove(mS),er.remove($b),e?.reason&&this.emit("storage_cleared",{reason:e.reason})}async storeCustomerAccessToken(e){if(typeof e=="string"){let n=await this._storage.get(Lf);if(await this._storage.put(Lf,e),!this._isUsingServerCookies){let r=th.parse(e)?.expiration;er.set(fS,e,{sameSite:"Strict",secure:!0,expires:r?new Date(1e3*r):void 0})}n!==e&&this.emit("token_stored",{cookiesEnabled:this._isUsingServerCookies})}else{let n=await this._storage.get(Lf);await this._storage.del(Lf),er.remove(fS),n!==null&&this.emit("token_cleared",{reason:"set_with_non_string_value"})}}async storePrivyAccessToken(e){typeof e=="string"?await this._storage.put(hS,e):await this._storage.del(hS)}async storeRefreshToken(e){typeof e=="string"?(await this._storage.put(Nb,e),this._isUsingServerCookies||(er.set($b,"t",{sameSite:"Strict",secure:!0,expires:30}),er.set(pS,e,{sameSite:"Strict",secure:!0,expires:30})),this.emit("refresh_token_stored",{cookiesEnabled:this._isUsingServerCookies})):(await this._storage.del(Nb),er.remove(pS),er.remove($b),this.emit("refresh_token_cleared",{reason:"set_with_non_string_value"}))}async updateWithTokensResponse(e){let n=(await f4([this.storeCustomerAccessToken(e.token),this.storePrivyAccessToken(e.privy_access_token),this.storeRefreshToken(e.refresh_token),this.storeIdentityToken(e.identity_token),this.processOAuthTokens(e.oauth_tokens)])).filter((r=>r.status==="rejected"));n.length>0&&this.emit("error_storing_tokens",n.map((r=>String(r.reason))).join(", "))}async processOAuthTokens(e){e&&this.emit("oauth_tokens_granted",e)}async storeIdentityToken(e){if(typeof e=="string"){let n=await this._storage.get(jf);if(await this._storage.put(jf,e),!this._isUsingServerCookies){let r=th.parse(e)?.expiration;er.set(mS,e,{sameSite:"Strict",secure:!0,expires:r?new Date(1e3*r):void 0})}n!==e&&this.emit("identity_token_stored",{cookiesEnabled:this._isUsingServerCookies})}else{let n=await this._storage.get(jf);await this._storage.del(jf),er.remove(mS),n!==null&&this.emit("identity_token_cleared",{reason:"set_with_non_string_value"})}}async getOrCreateGuestCredential(){let e=this._storage.get(this.GUEST_CREDENTIAL_STORAGE_KEY);if(e&&typeof e=="string")return e;let n=yd(crypto.getRandomValues(new Uint8Array(32)));return await this._storage.put(this.GUEST_CREDENTIAL_STORAGE_KEY,n),n}constructor(e){super(),this._isUsingServerCookies=!1,this._storage=e.storage,this.GUEST_CREDENTIAL_STORAGE_KEY=`privy:guest:${e.appId}`}};jL.events=["storage_cleared","token_cleared","refresh_token_cleared","identity_token_cleared","token_stored","refresh_token_stored","identity_token_stored","oauth_tokens_granted","error_storing_tokens"];var dse=t=>{let e=new AbortController;return setTimeout((()=>e.abort()),t),e.signal};function fse(t){let e=new URLSearchParams;for(let n in t)t[n]!=null&&e.append(n,String(t[n]));return Array.from(e).length?"?"+e.toString():""}const Pb=()=>{};let _l={NONE:Number.NEGATIVE_INFINITY,ERROR:1,WARN:2,INFO:3,DEBUG:Number.POSITIVE_INFINITY};const hse=({level:t}={level:"ERROR"})=>({get level(){return t},error:_l[t]>=_l.ERROR?console.error:Pb,warn:_l[t]>=_l.WARN?console.warn:Pb,info:_l[t]>=_l.INFO?console.info:Pb,debug:_l[t]>=_l.DEBUG?console.debug:Pb});let yS="privy:caid",pse=class{setCallbacks(e){this.callbacks={...this.callbacks,...e}}get isReady(){return!!this._config}get config(){return this._config}get caid(){return this._analyticsId}async _initialize(){if(this.isReady)this.callbacks?.setIsReady?.(!0);else{if(!await this.isStorageAccessible())throw new Qt({code:"storage_error",error:"Unable to access storage"});this._config=await this.getAppConfig(),this._config?.custom_api_url&&(this.baseUrl=this._config.custom_api_url,this.session.isUsingServerCookies=!0),this.callbacks?.setIsReady?.(!0),this._sdkVersion.startsWith("react-auth:")||this.createAnalyticsEvent("sdk_initialize",{})}}getPath(e,{params:n,query:r}){return`${this.baseUrl}${YY(e.path,n)}${fse(r)}`}async fetch(e,{body:n,params:r,query:i,headers:s,onRequest:a=this._beforeRequest.bind(this)}){let c=new Request(this.getPath(e,{params:r,query:i}),{method:e.method,body:JSON.stringify(n),headers:s}),u=await a(c),d=await this._fetch(c,u),h=await d.json();if(d.status>299)throw new D2(h);return h}async _beforeRequestWithoutInitialize(e){let n=await this.session.getPrivyAccessToken()??await this.session.getCustomerAccessToken(),r=new Headers(e.headers);r.set("privy-app-id",this.appId),this.appClientId&&r.set("privy-client-id",this.appClientId),r.set("privy-client",this._sdkVersion),n&&r.set("Authorization",`Bearer ${n}`),r.set("Content-Type","application/json"),r.set("Accept","application/json");let i=await this._getOrGenerateClientAnalyticsId();return i&&r.set("privy-ca-id",i),this.nativeAppIdentifier&&r.set("x-native-app-identifier",this.nativeAppIdentifier),{signal:dse(2e4),headers:r,credentials:"include"}}async beforeRequestWithoutRefresh(e){return await this._initialize(),this._beforeRequestWithoutInitialize(e)}async _beforeRequest(e){return await this._initialize(),await this.getAccessTokenInternal(),this.beforeRequestWithoutRefresh(e)}async getAppConfig(){return await this.fetch(lY,{params:{app_id:this.appId},onRequest:this._beforeRequestWithoutInitialize.bind(this)})}async _getOrGenerateClientAnalyticsId(){if(this._analyticsId)return this._analyticsId;try{let e=await this._storage.get(yS);if(typeof e=="string"&&e.length>0)return this._analyticsId=e,e}catch(e){this.logger.error("Unable to load clientId",e)}try{this._analyticsId=u6()}catch(e){this.logger.error("Unable to generate uuidv4",e)}if(this._analyticsId){try{await this._storage.put(yS,this._analyticsId)}catch(e){this.logger.error(`Unable to store clientId: ${this._analyticsId}`,e)}return this._analyticsId}}async destroyClientAnalyticsId(){try{return await this._storage.del(yS)}catch(e){this.logger.error("Unable to delete clientId",e)}}async createAnalyticsEvent(e,n){try{await this.fetch(cY,{body:{event_name:e,client_id:await this._getOrGenerateClientAnalyticsId(),payload:n},onRequest:this.beforeRequestWithoutRefresh.bind(this)})}catch{}}async refreshSession(e=!1){if(!await this.isStorageAccessible())throw new Qt({code:"storage_error",error:"Unable to access storage"});let n=await this.session.getRefreshToken()??void 0,r=n??"key",i=this._cache.get(r);if(i)return this.logger.debug("[privy:refresh] found in-flight session refresh request, deduping"),await i;let s=this._refreshSession(n,e);this._cache.set(r,s);try{return await s}finally{this._cache.delete(r)}}async _refreshSession(e,n){let r=await this.session.getCustomerAccessToken();if(!this.session.hasRefreshCredentials(r,e??null))throw this.logger.debug("[privy:refresh] missing tokens, skipping request"),await this._initialize(),new D2({code:n4.MISSING_OR_INVALID_TOKEN,error:"No tokens found in storage"});try{this.logger.debug(`[privy:refresh] fetching: ${Yk.path}`);let i=await this.fetch(Yk,{body:{refresh_token:e},onRequest:this.beforeRequestWithoutRefresh.bind(this)}),s=i.session_update_action;return this.logger.debug(`[privy:refresh] response: ${s}`),n||this.callbacks?.setUser?.(i.user),s==="set"&&(await this.session.updateWithTokensResponse(i),this.logger.debug("[privy:refresh] tokens stored")),s==="clear"&&(await this.session.destroyLocalState(),this.logger.debug("[privy:refresh] tokens cleared"),n||this.callbacks?.setUser?.(null)),s==="ignore"&&i.token&&(await this.session.storeCustomerAccessToken(i.token),await this.session.storePrivyAccessToken(i.privy_access_token),this.logger.debug("[privy:refresh] access token stored"),i.identity_token&&(this.logger.debug("[privy:refresh] identity token stored"),await this.session.storeIdentityToken(i.identity_token))),this.logger.debug("[privy:refresh] returning response"),i}catch(i){throw this.logger.debug(`[privy:refresh] error: ${i.message??"unknown error"}`),i instanceof D2&&i.code===n4.MISSING_OR_INVALID_TOKEN&&(await this.session.destroyLocalState(),n||this.callbacks?.setUser?.(null)),i}}async getAccessToken(){let[e,n]=await Promise.all([this.session.getCustomerAccessToken(),this.session.getRefreshToken()]);if(!this.session.tokenIsActive(e)&&this.session.hasRefreshCredentials(e,n)){let r=await this.refreshSession(),i=await this.session.getCustomerAccessToken();return r.token||this.logger.debug("[privy:getAccessToken] expected token received null"),r.token===e&&this.logger.debug("[privy:getAccessToken] expected new token in response received existing"),i===e&&this.logger.debug("[privy:getAccessToken] expected new token in storage received existing"),r.token??i}return e}async getAccessTokenInternal(){let e=await this.getAccessToken();return await this.session.getPrivyAccessToken()??e}async getIdentityToken(){return await this.session.getIdentityToken()}async isStorageAccessible(){try{let e=`privy:__storage__test-${u6()}`,n="blobby";await this._storage.put(e,n);let r=await this._storage.get(e);return await this._storage.del(e),r===n}catch(e){return this.logger.error(e),!1}}constructor(e){this._sdkVersion="js-sdk-core:0.58.5",this._cache=new Map,this.logger=hse({level:e.logLevel??"ERROR"}),this._storage=e.storage,this._analyticsId=null,this._getOrGenerateClientAnalyticsId(),this.baseUrl=e.baseUrl??"https://auth.privy.io",this.appId=e.appId,this.appClientId=e.appClientId,this._sdkVersion=e.sdkVersion??this._sdkVersion,this.callbacks=e.callbacks,this.nativeAppIdentifier=e.nativeAppIdentifier,this.session=new jL({storage:this._storage,isUsingServerCookies:!1,appId:e.appId}),this._fetch=$L(globalThis.fetch,{retries:3,retryDelay:n=>3**n*500,retryOn:[408,409,425,500,502,503,504]}),this.session.on("error_storing_tokens",(n=>{this.createAnalyticsEvent("error_updating_tokens_in_storage",{reason:n})}))}},mse=class{async get(){let{user:e}=await this._privyInternal.refreshSession();return{user:e}}async acceptTerms(){return{user:await this._privyInternal.fetch(aZ,{})}}constructor(e){this._privyInternal=e}};const zL=t=>t.type==="wallet"&&t.wallet_client_type==="privy"&&t.connector_type==="embedded",FL=t=>t?t.linked_accounts.filter(zL).filter((e=>e.chain_type==="ethereum")).sort(((e,n)=>e.wallet_index-n.wallet_index)):[],h4=t=>FL(t).find((e=>e.wallet_index===0))??null,qL=t=>t?t.linked_accounts.filter(zL).filter((e=>e.chain_type==="solana")).sort(((e,n)=>e.wallet_index-n.wallet_index)):[],yse=t=>qL(t).find((e=>e.wallet_index===0))??null,gse=(t,e)=>!(e==="off"||FL(t).length>0||t.linked_accounts.filter((n=>n.type==="wallet"&&n.chain_type==="ethereum")).length>0&&e!=="all-users"),bse=(t,e)=>!(e==="off"||qL(t).length>0||t.linked_accounts.filter((n=>n.type==="wallet"&&n.chain_type==="solana")).length>0&&e!=="all-users"),ja=async(t,e,n)=>{let r=gse(e.user,n?.ethereum?.createOnLogin??"off"),i=bse(e.user,n?.solana?.createOnLogin??"off");if(r&&i){let s=await t.create({recoveryMethod:"privy",skipCallbacks:!0});return{...await t.createSolana({ethereumAccount:h4(s.user)??void 0}),is_new_user:e.is_new_user,oauth_tokens:e.oauth_tokens}}return r?{...await t.create({recoveryMethod:"privy",solanaAccount:yse(e.user)??void 0}),is_new_user:e.is_new_user,oauth_tokens:e.oauth_tokens}:i?{...await t.createSolana({ethereumAccount:h4(e.user)??void 0}),is_new_user:e.is_new_user,oauth_tokens:e.oauth_tokens}:e};let wse=class{async syncWithToken(e,n,r){let i=await this._privyInternal.fetch(hY,{body:{token:e,mode:r}});await this._privyInternal.session.updateWithTokensResponse(i);let s=await ja(this._embedded,i,n?.embedded);return this._privyInternal.callbacks?.setUser?.(s.user),s}constructor(e,n){this._privyInternal=e,this._embedded=n}},vse=class{async sendCode(e,n){return this._privyInternal.fetch(DY,{body:{email:e,token:n}})}async loginWithCode(e,n,r,i){let s=await this._privyInternal.fetch(PY,{body:{email:e,code:n,mode:r}});await this._privyInternal.session.updateWithTokensResponse(s);let a=await ja(this._embedded,s,i?.embedded);return this._privyInternal.callbacks?.setUser?.(a.user),a}async linkWithCode(e,n){await this._privyInternal.fetch(UY,{body:{email:e,code:n}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}async updateEmail({oldEmailAddress:e,newEmailAddress:n,code:r}){await this._privyInternal.fetch(BY,{body:{oldAddress:e,newAddress:n,code:r}});let i=await this._privyInternal.refreshSession();return{user:i.user,identity_token:i.identity_token}}async unlink(e){await this._privyInternal.fetch(MY,{body:{address:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}constructor(e,n){this._privyInternal=e,this._embedded=n}},_se=class{async initializeAuth({relyingParty:e,redirectUrl:n,token:r}){return await this._privyInternal.fetch(pY,{body:{relying_party:e,redirect_url:n,token:r}})}async getFarcasterStatus({channel_token:e}){return await this._privyInternal.fetch(bY,{headers:{"farcaster-channel-token":e}})}async authenticate({channel_token:e,message:n,signature:r,fid:i,mode:s},a){let c=await this._privyInternal.fetch(mY,{body:{channel_token:e,message:n,signature:r,fid:i,mode:s}});await this._privyInternal.session.updateWithTokensResponse(c);let u=await ja(this._embedded,c,a?.embedded);return this._privyInternal.callbacks?.setUser?.(u.user),u}async link({channel_token:e,message:n,signature:r,fid:i}){await this._privyInternal.fetch(yY,{body:{channel_token:e,message:n,signature:r,fid:i}});let s=await this._privyInternal.refreshSession();return{user:s.user,identity_token:s.identity_token}}async unlink({fid:e}){await this._privyInternal.fetch(gY,{body:{fid:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}constructor(e,n){this._privyInternal=e,this._embedded=n}},Ese=class{async initializeAuth(){return await this._privyInternal.fetch(wY,{body:{}})}async authenticate({message:e,signature:n,fid:r},i){let s=await this._privyInternal.fetch(vY,{body:{message:e,signature:n,fid:r}});await this._privyInternal.session.updateWithTokensResponse(s);let a=await ja(this._embedded,s,i?.embedded);return this._privyInternal.callbacks?.setUser?.(a.user),a}constructor(e,n){this._privyInternal=e,this._embedded=n}},Sse=class{async create(e){let n=await this._privyInternal.session.getOrCreateGuestCredential(),r=await this._privyInternal.fetch(_Y,{body:{guest_credential:n}});await this._privyInternal.session.updateWithTokensResponse(r);let i=await ja(this._embedded,r,e?.embedded);return this._privyInternal.callbacks?.setUser?.(i.user),i}constructor(e,n){this._privyInternal=e,this._embedded=n}};const Hl="privy:state_code",Vl="privy:code_verifier";async function Ase(t,e){let n=new TextEncoder().encode(t);return new Uint8Array(await e("SHA-256",n))}function xse(t){return crypto.getRandomValues(new Uint8Array(t))}function y3(){return yd(xse(36))}function WL(){return y3()}async function HL({codeVerifier:t,method:e="S256",digest:n=crypto.subtle.digest.bind(crypto.subtle)}){if(e!="S256")return t;{let r=await Ase(t,n);return yd(r)}}let Tse=class{async generateURL(e,n){let r=y3(),i=WL(),s=await HL({codeVerifier:r,digest:this._crypto?.digest});return await Promise.all([this._storage.put(Vl,r),this._storage.put(Hl,i)]),this._privyInternal.fetch(xY,{body:{redirect_to:n,provider:e,code_challenge:s,state_code:i}})}async loginWithCode(e,n,r,i,s,a){let[c,u]=await Promise.all([this._storage.get(Vl),this._storage.get(Hl)]);if(u!==n)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"oauth",provider:r,storedStateCode:u??"",returnedStateCode:n??""}),new Qt({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let d=await this._privyInternal.fetch(AY,{body:{authorization_code:e,code_type:i,state_code:u,code_verifier:c,mode:s}});await this._privyInternal.session.updateWithTokensResponse(d);let h=await ja(this._embedded,d,a?.embedded);return await Promise.all([this._storage.del(Vl),this._storage.del(Hl)]),this._privyInternal.callbacks?.setUser?.(h.user),h}async linkWithCode(e,n,r,i){let[s,a]=await Promise.all([this._storage.get(Vl),this._storage.get(Hl)]);if(a!==n)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"oauth",provider:r,storedStateCode:a??"",returnedStateCode:n??""}),new Qt({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let c=await this._privyInternal.fetch(TY,{body:{authorization_code:e,code_type:i,state_code:a,code_verifier:s}});await this._privyInternal.session.processOAuthTokens(c.oauth_tokens);let u=await this._privyInternal.refreshSession();return await Promise.all([this._storage.del(Vl),this._storage.del(Hl)]),{user:u.user,identity_token:u.identity_token}}async unlink(e,n){await this._privyInternal.fetch(IY,{body:{provider:e,subject:n}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}constructor(e,n,r,i){this._privyInternal=e,this._embedded=n,this._storage=r,this._crypto=i}},Ise=class{async generateRegistrationOptions(e){return await this._privyInternal.fetch($Y,{body:{relying_party:e}})}async generateAuthenticationOptions(e){return await this._privyInternal.fetch(RY,{body:{relying_party:e}})}async generateSignupOptions(e){return await this._privyInternal.fetch(NY,{body:{relying_party:e}})}async loginWithPasskey(e,n,r,i){let s=await this._privyInternal.fetch(OY,{body:{relying_party:r,challenge:n,authenticator_response:this._transformAuthenticationResponseToSnakeCase(e)}});await this._privyInternal.session.updateWithTokensResponse(s);let a=await ja(this._embedded,s,i?.embedded);return this._privyInternal.callbacks?.setUser?.(a.user),a}async signupWithPasskey(e,n,r){let i=await this._privyInternal.fetch(kY,{body:{relying_party:n,authenticator_response:this._transformRegistrationResponseToSnakeCase(e)}});await this._privyInternal.session.updateWithTokensResponse(i);let s=await ja(this._embedded,i,r?.embedded);return this._privyInternal.callbacks?.setUser?.(s.user),s}async linkWithPasskey(e,n){await this._privyInternal.fetch(CY,{body:{relying_party:n,authenticator_response:this._transformRegistrationResponseToSnakeCase(e)}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}_transformRegistrationResponseToSnakeCase(e){return{type:e.type,id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,attestation_object:e.response.attestationObject,authenticator_data:e.response.authenticatorData||void 0,transports:e.response.transports||void 0,public_key:e.response.publicKey||void 0,public_key_algorithm:e.response.publicKeyAlgorithm||void 0},authenticator_attachment:e.authenticatorAttachment||void 0,client_extension_results:{app_id:e.clientExtensionResults.appid||void 0,cred_props:e.clientExtensionResults.credProps||void 0,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret||void 0}}}_transformAuthenticationResponseToSnakeCase(e){return{type:e.type,id:e.id,raw_id:e.rawId,response:{signature:e.response.signature,client_data_json:e.response.clientDataJSON,authenticator_data:e.response.authenticatorData,user_handle:e.response.userHandle||void 0},authenticator_attachment:e.authenticatorAttachment||void 0,client_extension_results:{app_id:e.clientExtensionResults.appid||void 0,cred_props:e.clientExtensionResults.credProps||void 0,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret||void 0}}}constructor(e,n){this._privyInternal=e,this._embedded=n}},Cse=class{async sendCode(e,n){return this._privyInternal.fetch(jY,{body:{phoneNumber:e,token:n}})}async loginWithCode(e,n,r,i){let s=await this._privyInternal.fetch(LY,{body:{phoneNumber:e,code:n,mode:r}});await this._privyInternal.session.updateWithTokensResponse(s);let a=await ja(this._embedded,s,i?.embedded);return this._privyInternal.callbacks?.setUser?.(a.user),a}async linkWithCode(e,n){await this._privyInternal.fetch(zY,{body:{phoneNumber:e,code:n}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}async updatePhone({oldPhoneNumber:e,newPhoneNumber:n,code:r}){await this._privyInternal.fetch(qY,{body:{old_phone_number:e,new_phone_number:n,code:r}});let i=await this._privyInternal.refreshSession();return{user:i.user,identity_token:i.identity_token}}async unlink(e){await this._privyInternal.fetch(FY,{body:{phoneNumber:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}constructor(e,n){this._privyInternal=e,this._embedded=n}},Ose=class{async unlinkWallet(e){await this._privyInternal.fetch(tZ,{body:{address:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}async linkWithSiwe(e,n,r){let i=n||this._wallet,s=r||this._preparedMessage;if(!i)throw Error("A wallet must be provided in the init step or as an argument to linkWithSiwe");if(!s)throw Error("A message must be generated and signed before being used to link a wallet to privy");await this._privyInternal.fetch(QY,{body:{message:s,signature:e,chainId:i.chainId,walletClientType:i.walletClientType??null,connectorType:i.connectorType??null}});let a=await this._privyInternal.refreshSession();return{user:a.user,identity_token:a.identity_token}}async loginWithSiwe(e,n,r,i,s){let a=n||this._wallet,c=r||this._preparedMessage;if(!a)throw Error("A wallet must be provided in the init step or as an argument to loginWithSiwe");if(!c)throw Error("A message must be generated and signed before being used to login to privy with a wallet");let u=await this._privyInternal.fetch(JY,{body:{signature:e,message:c,chainId:a.chainId,walletClientType:a.walletClientType??null,connectorType:a.connectorType??null,mode:i}});await this._privyInternal.session.updateWithTokensResponse(u);let d=await ja(this._embedded,u,s?.embedded);return this._privyInternal.callbacks?.setUser?.(d.user),d}async init(e,n,r){var i;this._wallet=e;let{nonce:s}=await this._privyInternal.fetch(NU,{body:{address:e.address}}),a=`${(i={chainId:e.chainId.toString().replace("eip155:",""),address:e.address,issuedAt:new Date().toISOString(),statement:"By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.",domain:n,nonce:s,uri:r}).domain} wants you to sign in with your Ethereum account:
${i.address}

${i.statement}

URI: ${i.uri}
Version: 1
Chain ID: ${i.chainId}
Nonce: ${i.nonce}
Issued At: ${i.issuedAt}
Resources:
- https://privy.io`;return this._preparedMessage=a,{nonce:s,message:a}}constructor(e,n){this._wallet=void 0,this._privyInternal=e,this._embedded=n}},kse=class{async unlink({address:e}){await this._privyInternal.fetch(sZ,{body:{address:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}async link({message:e,signature:n,walletClientType:r,connectorType:i}){await this._privyInternal.fetch(iZ,{body:{message:e,signature:n,walletClientType:r??null,connectorType:i??null}});let s=await this._privyInternal.refreshSession();return{user:s.user,identity_token:s.identity_token}}async login({mode:e,message:n,signature:r,walletClientType:i,connectorType:s,opts:a}){let c=await this._privyInternal.fetch(rZ,{body:{signature:r,message:n,walletClientType:i??null,connectorType:s??null,mode:e}});await this._privyInternal.session.updateWithTokensResponse(c);let u=await ja(this._embedded,c,a?.embedded);return this._privyInternal.callbacks?.setUser?.(u.user),u}async fetchNonce({address:e}){let{nonce:n}=await this._privyInternal.fetch(nZ,{body:{address:e}});return{nonce:n}}constructor(e,n){this._privyInternal=e,this._embedded=n}},Rse=class{async link(e,n,r,i){await this._privyInternal.fetch(eZ,{body:{message:e,signature:n,smart_wallet_type:r,smart_wallet_version:i}});let s=await this._privyInternal.refreshSession();return{user:s.user,identity_token:s.identity_token}}async init(e){var n;let{nonce:r}=await this._privyInternal.fetch(NU,{body:{address:e.address}});return{nonce:r,message:`${(n={chainId:e.chainId.toString().replace("eip155:",""),address:e.address,issuedAt:new Date().toISOString(),statement:"By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.",domain:"privy.io",uri:"https://auth.privy.io",nonce:r}).domain} wants you to sign in with your Ethereum account:
${n.address}

${n.statement}

URI: ${n.uri}
Version: 1
Chain ID: ${n.chainId}
Nonce: ${n.nonce}
Issued At: ${n.issuedAt}
Resources:
- https://privy.io`}}constructor(e){this._privyInternal=e}},Nse=class{async logout(e){try{let n=await this._privyInternal.session.getRefreshToken()??void 0;await this._privyInternal.fetch(ZY,{body:{refresh_token:n}})}catch{console.warn("Error destroying session")}await Promise.all([this._privyInternal.session.destroyLocalState({reason:"logout"}),this._privyInternal.destroyClientAnalyticsId(),e?.userId&&this._mfa.clearMfa({userId:e.userId})]),this._privyInternal.callbacks?.setUser?.(null)}constructor(e,n,r,i,s){this._privyInternal=e,this._mfa=s,this.customProvider=new wse(this._privyInternal,n),this.phone=new Cse(this._privyInternal,n),this.email=new vse(this._privyInternal,n),this.oauth=new Tse(this._privyInternal,n,r,i),this.guest=new Sse(this._privyInternal,n),this.siwe=new Ose(this._privyInternal,n),this.siws=new kse(this._privyInternal,n),this.smartWallet=new Rse(this._privyInternal),this.passkey=new Ise(this._privyInternal,n),this.farcaster=new _se(this._privyInternal,n),this.farcasterV2=new Ese(this._privyInternal,n)}},$se=class{async initOnRampSession(e){return await this._privyInternal.fetch(uY,{body:e})}async getStatus(e){return await this._privyInternal.fetch(dY,{query:{partnerUserId:e}})}constructor(e){this._privyInternal=e}};const Pse={prod:{url:"https://api.moonpay.com/v1",key:"pk_live_hirbpu0cVcLHrjktC9l7fbc9ctjv0SL"},sandbox:{url:"https://api.moonpay.com/v1",key:"pk_test_fqWjXZMSFwloh7orvJsRfjiUHXJqFzI"}};let Dse=new Set([rp.id,pg.id,yg.id,gg.id,mg.id,gT.id]),Use=new Set([rp.id,pg.id,bT.id,yg.id,gg.id,mg.id]);function dMe(t,e){switch(e){case"native-currency":return Dse.has(t);case"USDC":return Use.has(t);default:return console.warn("Unknown asset passed to MoonPay Onramp"),!1}}function fMe(t,e){switch(t){case pg.id:return e==="native-currency"?"ETH_ARBITRUM":"USDC_ARBITRUM";case mg.id:return e==="native-currency"?"AVAX_CCHAIN":"USDC_CCHAIN";case yg.id:return e==="native-currency"?"ETH_BASE":"USDC_BASE";case gT.id:return"CELO_CELO";case gg.id:return e==="native-currency"?"MATIC_POLYGON":"USDC_POLYGON";case rp.id:return e==="native-currency"?"ETH_ETHEREUM":"USDC_ETHEREUM";default:return console.warn(`Chain ${t} not supported by Moonpay, defaulting to Ethereum mainnet`),"ETH_ETHEREUM"}}let Mse=class{async sign(e){return await this._privyInternal.fetch(oZ,{body:e})}async getTransactionStatus({transactionId:e,useSandbox:n}){let{url:r,key:i}=Pse[n?"sandbox":"prod"],s=await $L(fetch,{retries:3,retryDelay:500})(`${r}/transactions/ext/${e}?apiKey=${i}`);if(!s.ok)throw new MZ({error:`Failed to fetch transaction status for Transaction ${e}`,code:"failed_to_fetch_moonpay_transaction_status",response:s});let a=await s.json();return Array.isArray(a)?a.at(0):void 0}constructor(e){this._privyInternal=e}},Bse=class{constructor(e){this.moonpay=new Mse(e),this.coinbase=new $se(e)}},Lse=class{async generateAuthenticationOptions(e){return await this._privyInternal.fetch(EY,{body:e})}constructor(e){this._privyInternal=e}},jse=class{async sendCode(e){return await this._privyInternal.fetch(SY,{body:e})}constructor(e){this._privyInternal=e}},zse=class{setProxy(e){this.proxy=e}async getAccessTokenInternal(){let e=await this.privyInternal.getAccessTokenInternal();if(!e)throw new Qt({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});return e}async verifyMfa(){if(!this.proxy)throw new Qt({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.verifyMfa({accessToken:await this.getAccessTokenInternal()})}async initEnrollMfa(e){if(!this.proxy)throw new Qt({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.initEnrollMfa({...e,accessToken:await this.getAccessTokenInternal()})}async submitEnrollMfa(e){if(!this.proxy)throw new Qt({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});let n=await this.proxy.submitEnrollMfa({...e,accessToken:await this.getAccessTokenInternal()});return await this.privyInternal.refreshSession(),n}async unenrollMfa(e){if(!this.proxy)throw new Qt({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});let n=await this.proxy.unenrollMfa({method:e,accessToken:await this.getAccessTokenInternal()});return await this.privyInternal.refreshSession(),n}async clearMfa(e){if(!this.proxy)throw new Qt({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.clearMfa(e)}constructor(e,n){this.proxy=n,this.privyInternal=e,this.sms=new jse(e),this.passkey=new Lse(e)}},Fse=class{async init(e){return this._privyInternal.fetch(GY,{body:{client_type:e}})}async getICloudConfiguration(e){return this._privyInternal.fetch(KY,{body:{client_type:e}})}constructor(e){this._privyInternal=e}},qse=class{async generateURL(e){let n=y3(),r=WL(),i=await HL({codeVerifier:n,digest:this._crypto?.digest});return await Promise.all([this._storage.put(Vl,n),this._storage.put(Hl,r)]),this._privyInternal.fetch(HY,{body:{redirect_to:e,code_challenge:i,state_code:r}})}async authorize(e,n){let[r,i]=await Promise.all([this._storage.get(Vl),this._storage.get(Hl)]);if(i!==n)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"recovery_oauth",storedStateCode:i??"",returnedStateCode:n??""}),new Qt({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let s=await this._privyInternal.fetch(VY,{body:{authorization_code:e,state_code:i,code_verifier:r}});return await Promise.all([this._storage.del(Vl),this._storage.del(Hl)]),s}constructor(e,n,r){this._privyInternal=e,this._storage=n,this._crypto=r}},Wse=class{async getRecoveryKeyMaterial(e,n){return this._privyInternal.fetch(WY,{body:{chain_type:n},params:{address:e}})}constructor(e,n,r){this._privyInternal=e,this.auth=new qse(this._privyInternal,n,r),this.icloudAuth=new Fse(this._privyInternal)}},Hse=class{async initialize(){await this._privyInternal._initialize()}setMessagePoster(e){this.embeddedWallet.setMessagePoster(e)}addOAuthTokensListener(e){return this._privyInternal.session.on("oauth_tokens_granted",e),{unsubscribe:()=>{this._privyInternal.session.removeListener("oauth_tokens_granted",e)}}}setCallbacks(e){this._privyInternal.setCallbacks(e)}getAccessToken(){return this._privyInternal.getAccessToken()}getIdentityToken(){return this._privyInternal.getIdentityToken()}getCompiledPath(e,n){return this._privyInternal.getPath(e,n)}async fetchPrivyRoute(e,n){return this._privyInternal.fetch(e,n)}get logger(){return this._privyInternal.logger}constructor({clientId:e,...n}){this._privyInternal=new pse({...n,appClientId:e}),this.mfa=new zse(this._privyInternal),this.mfaPromises=new Iie,this.app=new uZ(this._privyInternal),this.embeddedWallet=new Tie(this._privyInternal,n.embeddedWalletMessagePoster,n.supportedChains,this.mfa,this.mfaPromises,this.app),this.user=new mse(this._privyInternal),this.auth=new Nse(this._privyInternal,this.embeddedWallet,n.storage,n.crypto,this.mfa),this.recovery=new Wse(this._privyInternal,n.storage,n.crypto),this.funding=new Bse(this._privyInternal),this.delegated=new vZ(this._privyInternal),this.crossApp=new DU(this._privyInternal,n.storage)}};function $r(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw TypeError("attempted to use private field on non-instance");return t}var Vse=0;function VL(t){return"__private_"+Vse+++"_"+t}var $n=VL("_wallet"),ms=VL("_account");let Gse=class{get standardWallet(){return $r(this,$n)[$n]}get address(){return $r(this,ms)[ms].address}async disconnect(){if(!$r(this,$n)[$n].features["standard:disconnect"]?.disconnect)throw Error("Wallet does not support disconnect");await $r(this,$n)[$n].features["standard:disconnect"].disconnect()}async signMessage(...e){if(!$r(this,$n)[$n].features["solana:signMessage"]?.signMessage)throw Error("Wallet does not support signMessage");let n=await $r(this,$n)[$n].features["solana:signMessage"].signMessage(...e.map((r=>({...r,account:$r(this,ms)[ms]}))));return e.length===1?n[0]:[...n]}async signTransaction(...e){if(!$r(this,$n)[$n].features["solana:signTransaction"]?.signTransaction)throw Error("Wallet does not support signTransaction");let n=await $r(this,$n)[$n].features["solana:signTransaction"].signTransaction(...e.map((r=>({...r,account:$r(this,ms)[ms]}))));return e.length===1?n[0]:[...n]}async signAndSendTransaction(...e){if(!$r(this,$n)[$n].features["solana:signAndSendTransaction"]?.signAndSendTransaction)throw Error("Wallet does not support signAndSendTransaction");let n=await $r(this,$n)[$n].features["solana:signAndSendTransaction"].signAndSendTransaction(...e.map((r=>({...r,account:$r(this,ms)[ms]}))));return e.length===1?n[0]:[...n]}async signAndSendAllTransactions(e){if(!$r(this,$n)[$n].features["solana:signAndSendTransaction"]?.signAndSendTransaction)throw Error("Wallet does not support signAndSendTransaction");return[...await $r(this,$n)[$n].features["solana:signAndSendTransaction"].signAndSendTransaction(...e.map((n=>({...n,account:$r(this,ms)[ms]}))))]}constructor({wallet:e,account:n}){Object.defineProperty(this,$n,{writable:!0,value:void 0}),Object.defineProperty(this,ms,{writable:!0,value:void 0}),$r(this,$n)[$n]=e,$r(this,ms)[ms]=n}};function uv(t){"@babel/helpers - typeof";return uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uv(t)}var Kse=/^\s+/,Yse=/\s+$/;function We(t,e){if(t=t||"",e=e||{},t instanceof We)return t;if(!(this instanceof We))return new We(t,e);var n=Zse(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}We.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),n,r,i,s,a,c;return n=e.r/255,r=e.g/255,i=e.b/255,n<=.03928?s=n/12.92:s=Math.pow((n+.055)/1.055,2.4),r<=.03928?a=r/12.92:a=Math.pow((r+.055)/1.055,2.4),i<=.03928?c=i/12.92:c=Math.pow((i+.055)/1.055,2.4),.2126*s+.7152*a+.0722*c},setAlpha:function(e){return this._a=GL(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=m4(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=m4(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=p4(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=p4(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return y4(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return eae(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(zn(this._r,255)*100)+"%",g:Math.round(zn(this._g,255)*100)+"%",b:Math.round(zn(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(zn(this._r,255)*100)+"%, "+Math.round(zn(this._g,255)*100)+"%, "+Math.round(zn(this._b,255)*100)+"%)":"rgba("+Math.round(zn(this._r,255)*100)+"%, "+Math.round(zn(this._g,255)*100)+"%, "+Math.round(zn(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:fae[y4(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var n="#"+g4(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(e){var s=We(e);r="#"+g4(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(e){var n=!!e;e=e||this._format;var r=!1,i=this._a<1&&this._a>=0,s=!n&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return s?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return We(this.toString())},_applyModification:function(e,n){var r=e.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(iae,arguments)},brighten:function(){return this._applyModification(sae,arguments)},darken:function(){return this._applyModification(aae,arguments)},desaturate:function(){return this._applyModification(tae,arguments)},saturate:function(){return this._applyModification(nae,arguments)},greyscale:function(){return this._applyModification(rae,arguments)},spin:function(){return this._applyModification(oae,arguments)},_applyCombination:function(e,n){return e.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(uae,arguments)},complement:function(){return this._applyCombination(cae,arguments)},monochromatic:function(){return this._applyCombination(dae,arguments)},splitcomplement:function(){return this._applyCombination(lae,arguments)},triad:function(){return this._applyCombination(b4,[3])},tetrad:function(){return this._applyCombination(b4,[4])}};We.fromRatio=function(t,e){if(uv(t)=="object"){var n={};for(var r in t)t.hasOwnProperty(r)&&(r==="a"?n[r]=t[r]:n[r]=Wm(t[r]));t=n}return We(t,e)};function Zse(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,s=null,a=!1,c=!1;return typeof t=="string"&&(t=yae(t)),uv(t)=="object"&&(ec(t.r)&&ec(t.g)&&ec(t.b)?(e=Xse(t.r,t.g,t.b),a=!0,c=String(t.r).substr(-1)==="%"?"prgb":"rgb"):ec(t.h)&&ec(t.s)&&ec(t.v)?(r=Wm(t.s),i=Wm(t.v),e=Qse(t.h,r,i),a=!0,c="hsv"):ec(t.h)&&ec(t.s)&&ec(t.l)&&(r=Wm(t.s),s=Wm(t.l),e=Jse(t.h,r,s),a=!0,c="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=GL(n),{ok:a,format:t.format||c,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}function Xse(t,e,n){return{r:zn(t,255)*255,g:zn(e,255)*255,b:zn(n,255)*255}}function p4(t,e,n){t=zn(t,255),e=zn(e,255),n=zn(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s,a,c=(r+i)/2;if(r==i)s=a=0;else{var u=r-i;switch(a=c>.5?u/(2-r-i):u/(r+i),r){case t:s=(e-n)/u+(e<n?6:0);break;case e:s=(n-t)/u+2;break;case n:s=(t-e)/u+4;break}s/=6}return{h:s,s:a,l:c}}function Jse(t,e,n){var r,i,s;t=zn(t,360),e=zn(e,100),n=zn(n,100);function a(d,h,p){return p<0&&(p+=1),p>1&&(p-=1),p<1/6?d+(h-d)*6*p:p<1/2?h:p<2/3?d+(h-d)*(2/3-p)*6:d}if(e===0)r=i=s=n;else{var c=n<.5?n*(1+e):n+e-n*e,u=2*n-c;r=a(u,c,t+1/3),i=a(u,c,t),s=a(u,c,t-1/3)}return{r:r*255,g:i*255,b:s*255}}function m4(t,e,n){t=zn(t,255),e=zn(e,255),n=zn(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s,a,c=r,u=r-i;if(a=r===0?0:u/r,r==i)s=0;else{switch(r){case t:s=(e-n)/u+(e<n?6:0);break;case e:s=(n-t)/u+2;break;case n:s=(t-e)/u+4;break}s/=6}return{h:s,s:a,v:c}}function Qse(t,e,n){t=zn(t,360)*6,e=zn(e,100),n=zn(n,100);var r=Math.floor(t),i=t-r,s=n*(1-e),a=n*(1-i*e),c=n*(1-(1-i)*e),u=r%6,d=[n,a,s,s,c,n][u],h=[c,n,n,a,s,s][u],p=[s,s,c,n,n,a][u];return{r:d*255,g:h*255,b:p*255}}function y4(t,e,n,r){var i=[ka(Math.round(t).toString(16)),ka(Math.round(e).toString(16)),ka(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function eae(t,e,n,r,i){var s=[ka(Math.round(t).toString(16)),ka(Math.round(e).toString(16)),ka(Math.round(n).toString(16)),ka(KL(r))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function g4(t,e,n,r){var i=[ka(KL(r)),ka(Math.round(t).toString(16)),ka(Math.round(e).toString(16)),ka(Math.round(n).toString(16))];return i.join("")}We.equals=function(t,e){return!t||!e?!1:We(t).toRgbString()==We(e).toRgbString()};We.random=function(){return We.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function tae(t,e){e=e===0?0:e||10;var n=We(t).toHsl();return n.s-=e/100,n.s=R1(n.s),We(n)}function nae(t,e){e=e===0?0:e||10;var n=We(t).toHsl();return n.s+=e/100,n.s=R1(n.s),We(n)}function rae(t){return We(t).desaturate(100)}function iae(t,e){e=e===0?0:e||10;var n=We(t).toHsl();return n.l+=e/100,n.l=R1(n.l),We(n)}function sae(t,e){e=e===0?0:e||10;var n=We(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),We(n)}function aae(t,e){e=e===0?0:e||10;var n=We(t).toHsl();return n.l-=e/100,n.l=R1(n.l),We(n)}function oae(t,e){var n=We(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,We(n)}function cae(t){var e=We(t).toHsl();return e.h=(e.h+180)%360,We(e)}function b4(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=We(t).toHsl(),r=[We(t)],i=360/e,s=1;s<e;s++)r.push(We({h:(n.h+s*i)%360,s:n.s,l:n.l}));return r}function lae(t){var e=We(t).toHsl(),n=e.h;return[We(t),We({h:(n+72)%360,s:e.s,l:e.l}),We({h:(n+216)%360,s:e.s,l:e.l})]}function uae(t,e,n){e=e||6,n=n||30;var r=We(t).toHsl(),i=360/n,s=[We(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,s.push(We(r));return s}function dae(t,e){e=e||6;for(var n=We(t).toHsv(),r=n.h,i=n.s,s=n.v,a=[],c=1/e;e--;)a.push(We({h:r,s:i,v:s})),s=(s+c)%1;return a}We.mix=function(t,e,n){n=n===0?0:n||50;var r=We(t).toRgb(),i=We(e).toRgb(),s=n/100,a={r:(i.r-r.r)*s+r.r,g:(i.g-r.g)*s+r.g,b:(i.b-r.b)*s+r.b,a:(i.a-r.a)*s+r.a};return We(a)};We.readability=function(t,e){var n=We(t),r=We(e);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};We.isReadable=function(t,e,n){var r=We.readability(t,e),i,s;switch(s=!1,i=gae(n),i.level+i.size){case"AAsmall":case"AAAlarge":s=r>=4.5;break;case"AAlarge":s=r>=3;break;case"AAAsmall":s=r>=7;break}return s};We.mostReadable=function(t,e,n){var r=null,i=0,s,a,c,u;n=n||{},a=n.includeFallbackColors,c=n.level,u=n.size;for(var d=0;d<e.length;d++)s=We.readability(t,e[d]),s>i&&(i=s,r=We(e[d]));return We.isReadable(t,r,{level:c,size:u})||!a?r:(n.includeFallbackColors=!1,We.mostReadable(t,["#fff","#000"],n))};var w6=We.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},fae=We.hexNames=hae(w6);function hae(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function GL(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function zn(t,e){pae(t)&&(t="100%");var n=mae(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function R1(t){return Math.min(1,Math.max(0,t))}function bs(t){return parseInt(t,16)}function pae(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function mae(t){return typeof t=="string"&&t.indexOf("%")!=-1}function ka(t){return t.length==1?"0"+t:""+t}function Wm(t){return t<=1&&(t=t*100+"%"),t}function KL(t){return Math.round(parseFloat(t)*255).toString(16)}function w4(t){return bs(t)/255}var Aa=(function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}})();function ec(t){return!!Aa.CSS_UNIT.exec(t)}function yae(t){t=t.replace(Kse,"").replace(Yse,"").toLowerCase();var e=!1;if(w6[t])t=w6[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=Aa.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=Aa.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Aa.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=Aa.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Aa.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=Aa.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Aa.hex8.exec(t))?{r:bs(n[1]),g:bs(n[2]),b:bs(n[3]),a:w4(n[4]),format:e?"name":"hex8"}:(n=Aa.hex6.exec(t))?{r:bs(n[1]),g:bs(n[2]),b:bs(n[3]),format:e?"name":"hex"}:(n=Aa.hex4.exec(t))?{r:bs(n[1]+""+n[1]),g:bs(n[2]+""+n[2]),b:bs(n[3]+""+n[3]),a:w4(n[4]+""+n[4]),format:e?"name":"hex8"}:(n=Aa.hex3.exec(t))?{r:bs(n[1]+""+n[1]),g:bs(n[2]+""+n[2]),b:bs(n[3]+""+n[3]),format:e?"name":"hex"}:!1}function gae(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:e,size:n}}const v6="https://auth.privy.io",bae=2e4,SMe=1400,AMe=2500,xMe=4e3,wae="3.10.0",Hm="privy:token",v4="privy-token",gS="privy:refresh_token",vae="privy-refresh-token",bw="privy:pat",_4="privy:id_token",E4="privy-id-token",bS="privy-session",_6="privy:caid",YL=t=>`privy:guest:${t}`,Db=t=>`privy:cross-app:${t}`,dv="privy:state_code",ym="privy:code_verifier",fv="privy:headless_oauth",sy="privy:oauth_disable_signup",wS=t=>`privy:wallet:${t}`,ZL="privy:connections",N1=12e4,TMe=1,S4="0x1",_ae=3e4,IMe="https://api.moonpay.com/v1",CMe="https://api.moonpay.com/v1",OMe="pk_live_hirbpu0cVcLHrjktC9l7fbc9ctjv0SL",kMe="pk_test_fqWjXZMSFwloh7orvJsRfjiUHXJqFzI",Eae="deprecated",Dl={appearance:{landingHeader:"Log in or sign up",theme:"light",walletList:["detected_ethereum_wallets","detected_solana_wallets","metamask","coinbase_wallet","rainbow","base_account","wallet_connect","phantom"]},walletConnectCloudProjectId:"34357d3c125c2bcf2ce2bc3309d98715",_render:{standalone:!1},fundingMethodConfig:{moonpay:{useSandbox:!1}}};let Sae=new Set(["coinbase_wallet","base_account","cryptocom","metamask","okx_wallet","phantom","rainbow","uniswap","zerion","universal_profile","bybit_wallet","ronin_wallet","haha_wallet","wallet_connect","wallet_connect_qr","wallet_connect_qr_solana","detected_solana_wallets","detected_ethereum_wallets","rabby_wallet","safe","solflare","backpack","jupiter","binance","binanceus","bitget_wallet","kraken_wallet"]),A4=t=>Sae.has(t),x4=(t,e,n)=>n.indexOf(t)===e;const Aae=({input:t,overrides:e})=>e?e.primary.concat(e.overflow??[]).filter(A4).filter(x4):t?t.filter(A4).filter(x4):Dl.appearance.walletList;let xae=/paymaster\.biconomy\.io\/api/i,Tae={mode:"SPONSORED",calculateGasLimits:!0,expiryDuration:300,sponsorshipInfo:{webhookData:{},smartAccountInfo:{name:"BICONOMY",version:"2.0.0"}}};const Iae=(t,e)=>t&&xae.test(t)?Tae:e&&e.policy_id?{policyId:e.policy_id}:void 0;function Ub(t,e){let n=Math.max(0,Math.min(1,t.toHsl().l+e));return We({...t.toHsl(),l:n})}function vS(t,e){let n=t.getLuminance(),r=e.getLuminance();return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function Cae(t,e){if(!t){let r=e?Vm:ww;return{accent:We(r.background.interactive),accentLight:We(r.background.interactive),accentHover:We(r.background["interactive-hover"]),accentDark:We(r.background["interactive-clicked"]),accentDarkest:We(r.background["interactive-disabled"])}}let n=We(t);return{accent:n,accentLight:Ub(n,.15),accentHover:Ub(n,.3),accentDark:Ub(n,-.06),accentDarkest:Ub(n,-.6)}}function Oae({backgroundTheme:t,accentHex:e}){let n,r;t==="light"?n=!1:t==="dark"?n=!0:(n=.5>=We(t).getLuminance(),r=We(t).toHslString());let i=n?"dark":"light",s=n?Vm:ww,{accent:a,accentLight:c,accentHover:u,accentDark:d,accentDarkest:h}=Cae(e,n),p=(function(b){let v=We(ww.text.default),E=We(Vm.text.default),O=vS(b,v),k=vS(b,E),A=b.toHsl();return A.h>=220&&A.h<=300&&k>=3?Vm.text.default:O>k?ww.text.default:Vm.text.default})(a),y=We(p),g=vS(a,We(s.background.default))>=3;return{colorScheme:i,background:r||s.background.default,background2:s.background.elevated,background3:s.background.interactive,foreground:s.text.default,foreground2:s.text.muted,foreground3:s.text.placeholder,foreground4:s.border.default,accent:a.toHslString(),accentLight:c.toHslString(),accentHover:u.toHslString(),accentDark:d.toHslString(),accentDarkest:h.toHslString(),foregroundAccent:y.toHslString(),success:s.background.success,successDark:s.text.success,successLight:s.background.success,error:s.text.error,errorLight:s.background.error,warn:s.background.warning,warnLight:s.background.warning,warningDark:s.text.warning,errorDark:s.text.error,successBg:s.background.success,errorBg:s.background.error,errorBgHover:s.background["error-hover"],warnBg:s.background.warning,infoBg:s.background.info,infoBgHover:s.background["info-hover"],borderDefault:s.border.default,borderHover:s.border["default-hover"],borderFocus:s.border.focused,borderError:s.border.error,borderSuccess:s.border.success,borderWarning:s.border.warning,borderInfo:s.border.info,borderInteractive:s.border.interactive,borderInteractiveHover:s.border["interactive-hover"],backgroundHover:s.background["default-hover"],backgroundClicked:s.background["default-clicked"],backgroundDisabled:s.background["default-disabled"],backgroundInteractive:s.background.interactive,backgroundInteractiveHover:s.background["interactive-hover"],backgroundInteractiveClicked:s.background["interactive-clicked"],backgroundInteractiveDisabled:s.background["interactive-disabled"],foregroundHover:s.text.default,foregroundClicked:s.text.default,foregroundDisabled:s.text["default-disabled"],foregroundInteractive:s.text.interactive,foregroundInteractiveHover:s.text["interactive-hover"],accentHasGoodContrast:g?"1":"0",linkNavigationColor:g?a.toHslString():s.text.default,linkNavigationDecoration:g?"none":"underline",iconDefault:s.icon.default,iconMuted:s.icon.muted,iconSubtle:s.icon.subtle,iconInverse:s.icon.inverse,iconSuccess:s.icon.success,iconWarning:s.icon.warning,iconError:s.icon.error,iconInteractive:s.icon.interactive,iconDefaultHover:s.icon["default-hover"],iconMutedHover:s.icon["muted-hover"],iconSubtleHover:s.icon["subtle-hover"],iconDefaultClicked:s.icon["default-clicked"],iconMutedClicked:s.icon["muted-clicked"],iconSubtleClicked:s.icon["subtle-clicked"],iconDefaultDisabled:s.icon["default-disabled"],iconMutedDisabled:s.icon["muted-disabled"],iconSubtleDisabled:s.icon["subtle-disabled"],iconErrorHover:s.icon["error-hover"],iconInteractiveHover:s.icon["interactive-hover"],iconErrorClicked:s.icon["error-clicked"],iconInteractiveClicked:s.icon["interactive-clicked"],iconMutedDisabledAlt:s.icon["muted-disabled"],iconSubtleDisabledAlt:s.icon["subtle-disabled"]}}const Vm={background:{default:"#020713",elevated:"#1A2230","default-hover":"#101724","default-clicked":"#1A2230","default-disabled":"#020713",success:"#0E3E2D",warning:"#373827",error:"#2E0C18",interactive:"#8B86FF","error-hover":"#441821","interactive-hover":"#7B73E5","interactive-clicked":"#6560CC","interactive-disabled":"#141824",info:"#1F2937","info-hover":"#141824"},icon:{default:"#F8F8F8",muted:"#9BA2AE",subtle:"#7B8491",inverse:"#020713",success:"#88E3B5",warning:"#FDF27B",error:"#EF4444",interactive:"#88B6FF","default-hover":"#F8F8F8","muted-hover":"#AEB3BD","subtle-hover":"#8B939E","default-clicked":"#F8F8F8","muted-clicked":"#9097A5","subtle-clicked":"#78818E","default-disabled":"#404452","muted-disabled":"#404452","subtle-disabled":"#404452","error-hover":"#F05555","interactive-hover":"#7B73E5","error-clicked":"#EF4444","interactive-clicked":"#6560CC"},text:{default:"#F8F8F8",muted:"#9BA2AE",placeholder:"#7B8491",success:"#ACEECB",warning:"#FEF9A0",error:"#FCA5A5",interactive:"#A29EFF","default-disabled":"#404452","interactive-hover":"#8C88E5"},border:{default:"#1F2937",interactive:"#88B0FF",focused:"#F8F8FC",info:"#5B83D3",success:"#317056",warning:"#FBBF24",error:"#F87171","default-hover":"#34304A","interactive-hover":"#88B0FF"}},ww={background:{default:"#FFFFFF",elevated:"#F1F2F9","default-hover":"#F8F9FC","default-clicked":"#F1F2F9","default-disabled":"#FFFFFF",success:"#DCFCE7",warning:"#FEF3C7",error:"#FEE2E2",interactive:"#5B4FFF","error-hover":"#FECACA","interactive-hover":"#4F46E5","interactive-clicked":"#4338CA","interactive-disabled":"#F1F2F9",info:"#E0E7FF","info-hover":"#EEF2FF"},icon:{default:"#110F2A",muted:"#64668B",subtle:"#9498B8",inverse:"#FFFFFF",success:"#33B287",warning:"#F59E0B",error:"#EF4444",interactive:"#564FFF","default-hover":"#1D1B35","muted-hover":"#64668B","subtle-hover":"#888AAE","default-clicked":"#060C23","muted-clicked":"#64668B","subtle-clicked":"#788804","default-disabled":"#CBCDE1","muted-disabled":"#CBCDE1","subtle-disabled":"#CBCDE1","error-hover":"#F06060","interactive-hover":"#4F46E5","error-clicked":"#DC3838","interactive-clicked":"#2BA482"},text:{default:"#040217",muted:"#64668B",placeholder:"#9498B8",success:"#135638",warning:"#906218",error:"#991B1B",interactive:"#5B4FFF","default-disabled":"#CBCDE1","interactive-hover":"#5B4FFF"},border:{default:"#E2E3F0",interactive:"#5B4FFF",focused:"#949DF9",info:"#F1F2F9",success:"#87D7B7",warning:"#FACD63",error:"#F69393","default-hover":"#E2E3F0","interactive-hover":"#5B4FFF"}};function XL(t,e,n,r,i){let s,a,c,u,d,h,p,y,g,b,v,E,O,k,A,S,C,I=n?console.warn:()=>{},$=[];if(e?.loginMethods)for(let xe of(s=e.loginMethods.includes("email"),a=e.loginMethods.includes("sms"),u=e.loginMethods.includes("wallet"),d=e.loginMethods.includes("google"),h=e.loginMethods.includes("twitter"),p=e.loginMethods.includes("discord"),v=e.loginMethods.includes("spotify"),E=e.loginMethods.includes("instagram"),y=e.loginMethods.includes("tiktok"),g=e.loginMethods.includes("line"),b=e.loginMethods.includes("twitch"),k=e.loginMethods.includes("github"),O=e.loginMethods.includes("linkedin"),A=e.loginMethods.includes("apple"),S=e.loginMethods.includes("farcaster"),C=e.loginMethods.includes("telegram"),c=e.loginMethods.includes("passkey"),e.loginMethods))typeof xe=="string"&&xe.startsWith("privy:")&&$.push(xe);else s=t.email_auth,a=t.sms_auth,u=t.wallet_auth||t.solana_wallet_auth,d=t.google_oauth,h=t.twitter_oauth,p=t.discord_oauth,k=t.github_oauth,v=t.spotify_oauth,E=t.instagram_oauth,y=t.tiktok_oauth,g=t.line_oauth,b=t.twitch_oauth,O=t.linkedin_oauth,A=t.apple_oauth,S=t.farcaster_auth,C=t.telegram_auth,c=t.passkey_auth;t.passkey_auth&&(c=!0),typeof window<"u"&&typeof window.PublicKeyCredential!="function"&&(c=!1);let z=[s,a].filter(Boolean),j=[d,h,p,k,v,E,y,g,O,A,S,C].filter(Boolean),B=[u].filter(Boolean),G=e?.loginMethods?.includes("passkey")??!1,U=t.passkeys_for_signup_enabled??!1,F=[c&&(U||G)].filter(Boolean);if(z.length+j.length+B.length+F.length+$.length===0)throw Error("You must enable at least one login method");let K=e?.appearance?.showWalletLoginFirst!==void 0?e?.appearance?.showWalletLoginFirst:t.show_wallet_login_first;K&&B.length===0?(I("You should only enable `showWalletLoginFirst` when `wallet` logins are also enabled. `showWalletLoginFirst` has been set to false"),K=!1):K||j.length+z.length!==0||(I("You should only disable `showWalletLoginFirst` when `email`, `sms`, or social logins are also enabled. `showWalletLoginFirst` has been set to true"),K=!0);let T=e?.externalWallets?.walletConnect?.enabled??!0;e?.loginMethods&&e.loginMethodsAndOrder&&I("You should only configure one of `loginMethods` or `loginMethodsAndOrder`");let x=Aae({input:e?.appearance?.walletList,overrides:e?.loginMethodsAndOrder});if((x.includes("wallet_connect_qr")||x.includes("wallet_connect"))&&x.includes("wallet_connect_qr_solana"))throw Error("wallet_connect_qr and wallet_connect_qr_solana cannot both be present in walletList due to WalletConnect session conflicts.");let N=(({input:xe})=>{if(!xe||!xe.primary[0])return;let Ee=[xe.primary[0]],$e=[];for(let Fe of(xe.primary.length>4&&console.warn("You should not specify greater than 4 login methods in `loginMethodsAndOrder.primary`"),xe.primary.slice(1)))Ee.includes(Fe)?console.warn(`Duplicated login method: ${Fe}`):Ee.push(Fe);for(let Fe of xe.overflow??[])Ee.includes(Fe)||$e.includes(Fe)?console.warn(`Duplicated login method: ${Fe}`):$e.push(Fe);return{primary:Ee,overflow:$e}})({input:e?.loginMethodsAndOrder}),L=e?.intl?.defaultCountry??"US",{chains:P,defaultChain:H}=(function({supportedChains:xe,defaultChainFromConfig:Ee}){let $e;if(xe){if(xe.length===0)throw Error("`supportedChains` must contain at least one chain");$e=FU(xe)}else $e=[...i1];let Fe=xe?$e[0]:rp,tt=Ee??Fe;if(!$e.find((me=>me.id===tt.id)))throw Error("`defaultChain` must be included in `supportedChains`");return{chains:$e,defaultChain:tt}})({supportedChains:e?.supportedChains,defaultChainFromConfig:e?.defaultChain}),D=!!e?.defaultChain,V=e?.customAuth?.getCustomAccessToken&&e?.customAuth?.enabled!==!1,J=V?"all-users":t.embedded_wallet_config.ethereum.create_on_login,X=t.embedded_wallet_config.solana.create_on_login;t.solana_wallet_auth&&!e?.externalWallets?.solana?.connectors&&console.warn("App configuration has Solana wallet login enabled, but no Solana wallet connectors have been passed to Privy. Make sure to pass Solana connectors to the `config.externalWallets.solana.connectors` field of the `PrivyProvider`");let Q=t.telegram_auth_config?{botId:t.telegram_auth_config.bot_id,botName:t.telegram_auth_config.bot_name,linkEnabled:t.telegram_auth_config.link_enabled,seamlessAuthEnabled:t.telegram_auth_config.seamless_auth_enabled}:void 0,ge=t.funding_config?{methods:t.funding_config.methods,options:t.funding_config.options,defaultRecommendedAmount:t.funding_config.default_recommended_amount,defaultRecommendedCurrency:t.funding_config.default_recommended_currency,promptFundingOnWalletCreation:t.funding_config.prompt_funding_on_wallet_creation,crossChainBridgingEnabled:t.funding_config.cross_chain_bridging_enabled}:void 0,we=t.smart_wallet_config;return{id:t.id,appClientId:i,name:t.name,allowlistConfig:{errorTitle:t.allowlist_config.error_title,errorDetail:t.allowlist_config.error_detail,errorCtaText:t.allowlist_config.cta_text,errorCtaLink:t.allowlist_config.cta_link},legacyWalletUiConfig:t.legacy_wallet_ui_config,appearance:{logo:e?.appearance?.logo??t.logo_url??void 0,landingHeader:e?.appearance?.landingHeader??Dl.appearance.landingHeader,loginMessage:typeof e?.appearance?.loginMessage=="string"?e?.appearance?.loginMessage.slice(0,100):e?.appearance?.loginMessage,footerLogo:e?.appearance?.footerLogo,palette:Oae({backgroundTheme:e?.appearance?.theme??Dl.appearance.theme,accentHex:e?.appearance?.accentColor??t.accent_color}),loginGroupPriority:K?"web3-first":"web2-first",hideDirectWeb2Inputs:!!e?.appearance?.hideDirectWeb2Inputs,walletList:x,walletChainType:e?.appearance?.walletChainType??(({evmWalletAuth:xe,solanaWalletAuth:Ee})=>xe&&Ee?"ethereum-and-solana":xe?"ethereum-only":Ee?"solana-only":"ethereum-only")({evmWalletAuth:t.wallet_auth??!1,solanaWalletAuth:t.solana_wallet_auth??!1})},loginMethods:{wallet:u,email:s,sms:a,passkey:c,google:d,twitter:h,discord:p,github:k,spotify:v,instagram:E,tiktok:y,line:g,twitch:b,linkedin:O,apple:A,farcaster:S,telegram:C},customOAuthProviders:(t.custom_oauth_providers??[]).filter((xe=>xe.enabled!==!1)),crossAppProviders:$,disablePlusEmails:t.disable_plus_emails,loginMethodsAndOrder:N,legal:{termsAndConditionsUrl:e?.legal?.termsAndConditionsUrl??t.terms_and_conditions_url,privacyPolicyUrl:e?.legal?.privacyPolicyUrl??t.privacy_policy_url,requireUsersAcceptTerms:t.require_users_accept_terms??!1},walletConnectCloudProjectId:e?.walletConnectCloudProjectId??t.wallet_connect_cloud_project_id??Dl.walletConnectCloudProjectId,rpcConfig:{rpcUrls:{},rpcTimeouts:e?.externalWallets?.signatureRequestTimeouts??{}},chains:P,defaultChain:H,intl:{defaultCountry:L,textLocalization:e?.intl?.textLocalization},shouldEnforceDefaultChainOnConnect:D,captcha:{enabledProvider:t.enabled_captcha_provider??null,siteKey:t.captcha_site_key},externalWallets:{coinbaseWallet:{config:{appName:t.name,appLogoUrl:t.logo_url,preference:{options:"all",...e?.externalWallets?.coinbaseWallet?.config?.preference},...e?.externalWallets?.coinbaseWallet?.config}},baseAccount:{config:{appName:t.name,appLogoUrl:t.logo_url,...e?.externalWallets?.baseAccount?.config,preference:{...e?.externalWallets?.baseAccount?.config?.preference,telemetry:!1}}},walletConnect:{enabled:T},solana:{connectors:e?.externalWallets?.solana?.connectors},disableAllExternalWallets:e?.externalWallets?.disableAllExternalWallets??!1},embeddedWallets:{requireUserOwnedRecoveryOnCreate:!V&&(t.embedded_wallet_config.require_user_owned_recovery_on_create??!1),userOwnedRecoveryOptions:V?["user-passcode"]:t.embedded_wallet_config.user_owned_recovery_options,priceDisplay:e?.embeddedWallets?.priceDisplay??{primary:"fiat-currency",secondary:"native-token"},ethereum:{createOnLogin:e?.embeddedWallets?.ethereum?.createOnLogin??J},solana:{createOnLogin:e?.embeddedWallets?.solana?.createOnLogin??X},disableAutomaticMigration:e?.embeddedWallets?.disableAutomaticMigration??!1,mode:t.embedded_wallet_config.mode,showWalletUIs:e?.embeddedWallets?.showWalletUIs??t.enforce_wallet_uis??!0,extendedCalldataDecoding:e?.embeddedWallets?.extendedCalldataDecoding??!1,transactionScanning:{enabled:e?.embeddedWallets?.transactionScanning?.enabled??!1,domain:e?.embeddedWallets?.transactionScanning?.domain??r??"https://auth.privy.io"}},mfa:{methods:t.mfa_methods??[],noPromptOnMfaRequired:e?.mfa?.noPromptOnMfaRequired??!1},passkeys:{shouldUnlinkOnUnenrollMfa:e?.passkeys?.shouldUnlinkOnUnenrollMfa,shouldUnenrollMfaOnUnlink:e?.passkeys?.shouldUnenrollMfaOnUnlink,registration:e?.passkeys?.registration},customAuth:V?{enabled:!0,...e.customAuth}:void 0,loginConfig:{telegramAuthConfiguration:Q,passkeysForSignupEnabled:t.passkeys_for_signup_enabled},headless:!!e?.headless,render:{standalone:e?._render?.standalone??Dl._render.standalone},fundingConfig:ge,fundingMethodConfig:{...e?.fundingMethodConfig??Dl.fundingMethodConfig,moonpay:{...e?.fundingMethodConfig?.moonpay??Dl.fundingMethodConfig.moonpay,useSandbox:e?.fundingMethodConfig?.moonpay.useSandbox??Dl.fundingMethodConfig.moonpay.useSandbox}},whatsAppEnabled:!!t.whatsapp_enabled,customOAuthRedirectUrl:e?.customOAuthRedirectUrl,allowOAuthInEmbeddedBrowsers:e?.allowOAuthInEmbeddedBrowsers??!1,solanaRpcs:{"solana:mainnet":e?.solana?.rpcs?.["solana:mainnet"]??null,"solana:devnet":e?.solana?.rpcs?.["solana:devnet"]??null,"solana:testnet":e?.solana?.rpcs?.["solana:testnet"]??null},smartWallets:we?.enabled?{enabled:we.enabled,smartWalletVersion:we.smart_wallet_version,smartWalletType:we.smart_wallet_type,configuredNetworks:we.configured_networks.map((xe=>({chainId:xe.chain_id,bundlerUrl:xe.bundler_url,paymasterUrl:xe.paymaster_url,paymasterContext:Iae(xe.paymaster_url,xe.paymaster_context)})))}:{enabled:we?.enabled??!1}}}const JL={show_wallet_login_first:!0,allowlist_config:{error_title:null,error_detail:null,cta_text:null,cta_link:null},wallet_auth:!0,email_auth:!0,sms_auth:!1,google_oauth:!1,twitter_oauth:!1,discord_oauth:!1,github_oauth:!1,linkedin_oauth:!1,apple_oauth:!1,disable_plus_emails:!1,terms_and_conditions_url:null,privacy_policy_url:null,embedded_wallet_config:{create_on_login:"off",ethereum:{create_on_login:"off"},solana:{create_on_login:"off"},require_user_owned_recovery_on_create:!1,user_owned_recovery_options:["user-passcode"],mode:"user-controlled-server-wallets-only"},captcha_site_key:"",enforce_wallet_uis:!1,legacy_wallet_ui_config:!1,id:"",name:"",passkeys_for_signup_enabled:!1,whatsapp_enabled:!1};let g3=Y.createContext({appConfig:XL(JL,void 0,!1),isServerConfigLoaded:!1});const kae=({children:t,client:e,legacyClient:n,clientConfig:r,appClientId:i})=>{let[s,a]=Y.useState(null),c=Y.useMemo((()=>XL(s??JL,r,!!s,typeof window<"u"?window.location.origin:void 0,i)),[s,r,i]);return Y.useEffect((()=>{if(!s)return;let u=(function(p){if(!p)return{};let{appearance:y,supportedChains:g,defaultChain:b,externalWallets:v,...E}=p;return{...E,...g?{supportedChains:g.map((O=>O.id))}:void 0,...b?{defaultChain:b.id}:void 0,...v?{walletConnect:v.walletConnect?{enabled:v.walletConnect.enabled}:void 0,coinbaseWallet:v.coinbaseWallet,solana:{connectors:v.solana?.connectors?.get().map((O=>O.walletClientType))}}:void 0}})(r),d=(function(p,y=0){let g=3735928559^y,b=1103547991^y;for(let v,E=0;E<p.length;E++)g=Math.imul(g^(v=p.charCodeAt(E)),2654435761),b=Math.imul(b^v,1597334677);return g=Math.imul(g^g>>>16,2246822507)^Math.imul(b^b>>>13,3266489909),4294967296*(2097151&(b=Math.imul(b^b>>>16,2246822507)^Math.imul(g^g>>>13,3266489909)))+(g>>>0)})(JSON.stringify(u)).toString(),h=`privy:sent:${s.id}:${d}`;localStorage.getItem(h)||(n.createAnalyticsEvent({eventName:"sdk_initialize",payload:u}),localStorage.setItem(h,"t"))}),[r,s]),Y.useEffect((()=>{s||(async()=>{try{await e.initialize();let u=e.app.getConfig();u.custom_api_url&&n.updateApiUrl(u.custom_api_url),a(u)}catch(u){console.warn("Error generating app config: ",u)}})()}),[]),pe.jsx(g3.Provider,{value:{appConfig:c,isServerConfigLoaded:!!s},children:t})},Ro=()=>{let{appConfig:t}=Y.useContext(g3);return t},QL=()=>{let{isServerConfigLoaded:t}=Y.useContext(g3);return t},Rae=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,Nae=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,$ae=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function Pae(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){Dae(t);return}return e}function Dae(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function Gm(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const n=t.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!$ae.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(Rae.test(t)||Nae.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,Pae)}return JSON.parse(t)}catch(r){if(e.strict)throw r;return t}}const Uae=/#/g,Mae=/&/g,Bae=/\//g,Lae=/=/g,b3=/\+/g,jae=/%5e/gi,zae=/%60/gi,Fae=/%7c/gi,qae=/%20/gi;function Wae(t){return encodeURI(""+t).replace(Fae,"|")}function E6(t){return Wae(typeof t=="string"?t:JSON.stringify(t)).replace(b3,"%2B").replace(qae,"+").replace(Uae,"%23").replace(Mae,"%26").replace(zae,"`").replace(jae,"^").replace(Bae,"%2F")}function _S(t){return E6(t).replace(Lae,"%3D")}function e7(t=""){try{return decodeURIComponent(""+t)}catch{return""+t}}function Hae(t){return e7(t.replace(b3," "))}function Vae(t){return e7(t.replace(b3," "))}function Gae(t=""){const e=Object.create(null);t[0]==="?"&&(t=t.slice(1));for(const n of t.split("&")){const r=n.match(/([^=]+)=?(.*)/)||[];if(r.length<2)continue;const i=Hae(r[1]);if(i==="__proto__"||i==="constructor")continue;const s=Vae(r[2]||"");e[i]===void 0?e[i]=s:Array.isArray(e[i])?e[i].push(s):e[i]=[e[i],s]}return e}function Kae(t,e){return(typeof e=="number"||typeof e=="boolean")&&(e=String(e)),e?Array.isArray(e)?e.map(n=>`${_S(t)}=${E6(n)}`).join("&"):`${_S(t)}=${E6(e)}`:_S(t)}function Yae(t){return Object.keys(t).filter(e=>t[e]!==void 0).map(e=>Kae(e,t[e])).filter(Boolean).join("&")}const Zae=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,Xae=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,Jae=/^([/\\]\s*){2,}[^/\\]/,Qae=/^\.?\//;function t7(t,e={}){return typeof e=="boolean"&&(e={acceptRelative:e}),e.strict?Zae.test(t):Xae.test(t)||(e.acceptRelative?Jae.test(t):!1)}function eoe(t="",e){return t.endsWith("/")}function toe(t="",e){return(eoe(t)?t.slice(0,-1):t)||"/"}function noe(t="",e){return t.endsWith("/")?t:t+"/"}function roe(t,e){if(soe(e)||t7(t))return t;const n=toe(e);return t.startsWith(n)?t:ooe(n,t)}function ioe(t,e){const n=coe(t),r={...Gae(n.search),...e};return n.search=Yae(r),loe(n)}function soe(t){return!t||t==="/"}function aoe(t){return t&&t!=="/"}function ooe(t,...e){let n=t||"";for(const r of e.filter(i=>aoe(i)))if(n){const i=r.replace(Qae,"");n=noe(n)+i}else n=r;return n}const n7=Symbol.for("ufo:protocolRelative");function coe(t="",e){const n=t.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(n){const[,p,y=""]=n;return{protocol:p.toLowerCase(),pathname:y,href:p+y,auth:"",host:"",search:"",hash:""}}if(!t7(t,{acceptRelative:!0}))return T4(t);const[,r="",i,s=""]=t.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,a="",c=""]=s.match(/([^#/?]*)(.*)?/)||[];r==="file:"&&(c=c.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:u,search:d,hash:h}=T4(c);return{protocol:r.toLowerCase(),auth:i?i.slice(0,Math.max(0,i.length-1)):"",host:a,pathname:u,search:d,hash:h,[n7]:!r}}function T4(t=""){const[e="",n="",r=""]=(t.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:e,search:n,hash:r}}function loe(t){const e=t.pathname||"",n=t.search?(t.search.startsWith("?")?"":"?")+t.search:"",r=t.hash||"",i=t.auth?t.auth+"@":"",s=t.host||"";return(t.protocol||t[n7]?(t.protocol||"")+"//":"")+i+s+e+n+r}class r7 extends Error{constructor(e,n){super(e,n),this.name="FetchError",n?.cause&&!this.cause&&(this.cause=n.cause)}}function uoe(t){const e=t.error?.message||t.error?.toString()||"",n=t.request?.method||t.options?.method||"GET",r=t.request?.url||String(t.request)||"/",i=`[${n}] ${JSON.stringify(r)}`,s=t.response?`${t.response.status} ${t.response.statusText}`:"<no response>",a=`${i}: ${s}${e?` ${e}`:""}`,c=new r7(a,t.error?{cause:t.error}:void 0);for(const u of["request","options","response"])Object.defineProperty(c,u,{get(){return t[u]}});for(const[u,d]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(c,u,{get(){return t.response&&t.response[d]}});return c}const doe=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function I4(t="GET"){return doe.has(t.toUpperCase())}function foe(t){if(t===void 0)return!1;const e=typeof t;return e==="string"||e==="number"||e==="boolean"||e===null?!0:e!=="object"?!1:Array.isArray(t)?!0:t.buffer||t instanceof FormData||t instanceof URLSearchParams?!1:t.constructor&&t.constructor.name==="Object"||typeof t.toJSON=="function"}const hoe=new Set(["image/svg","application/xml","application/xhtml","application/html"]),poe=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function moe(t=""){if(!t)return"json";const e=t.split(";").shift()||"";return poe.test(e)?"json":e==="text/event-stream"?"stream":hoe.has(e)||e.startsWith("text/")?"text":"blob"}function yoe(t,e,n,r){const i=goe(e?.headers??t?.headers,n?.headers,r);let s;return(n?.query||n?.params||e?.params||e?.query)&&(s={...n?.params,...n?.query,...e?.params,...e?.query}),{...n,...e,query:s,params:s,headers:i}}function goe(t,e,n){if(!e)return new n(t);const r=new n(e);if(t)for(const[i,s]of Symbol.iterator in t||Array.isArray(t)?t:new n(t))r.set(i,s);return r}async function Mb(t,e){if(e)if(Array.isArray(e))for(const n of e)await n(t);else await e(t)}const boe=new Set([408,409,425,429,500,502,503,504]),woe=new Set([101,204,205,304]);function i7(t={}){const{fetch:e=globalThis.fetch,Headers:n=globalThis.Headers,AbortController:r=globalThis.AbortController}=t;async function i(c){const u=c.error&&c.error.name==="AbortError"&&!c.options.timeout||!1;if(c.options.retry!==!1&&!u){let h;typeof c.options.retry=="number"?h=c.options.retry:h=I4(c.options.method)?0:1;const p=c.response&&c.response.status||500;if(h>0&&(Array.isArray(c.options.retryStatusCodes)?c.options.retryStatusCodes.includes(p):boe.has(p))){const y=typeof c.options.retryDelay=="function"?c.options.retryDelay(c):c.options.retryDelay||0;return y>0&&await new Promise(g=>setTimeout(g,y)),s(c.request,{...c.options,retry:h-1})}}const d=uoe(c);throw Error.captureStackTrace&&Error.captureStackTrace(d,s),d}const s=async function(u,d={}){const h={request:u,options:yoe(u,d,t.defaults,n),response:void 0,error:void 0};if(h.options.method&&(h.options.method=h.options.method.toUpperCase()),h.options.onRequest&&(await Mb(h,h.options.onRequest),h.options.headers instanceof n||(h.options.headers=new n(h.options.headers||{}))),typeof h.request=="string"&&(h.options.baseURL&&(h.request=roe(h.request,h.options.baseURL)),h.options.query&&(h.request=ioe(h.request,h.options.query),delete h.options.query),"query"in h.options&&delete h.options.query,"params"in h.options&&delete h.options.params),h.options.body&&I4(h.options.method))if(foe(h.options.body)){const g=h.options.headers.get("content-type");typeof h.options.body!="string"&&(h.options.body=g==="application/x-www-form-urlencoded"?new URLSearchParams(h.options.body).toString():JSON.stringify(h.options.body)),g||h.options.headers.set("content-type","application/json"),h.options.headers.has("accept")||h.options.headers.set("accept","application/json")}else("pipeTo"in h.options.body&&typeof h.options.body.pipeTo=="function"||typeof h.options.body.pipe=="function")&&("duplex"in h.options||(h.options.duplex="half"));let p;if(!h.options.signal&&h.options.timeout){const g=new r;p=setTimeout(()=>{const b=new Error("[TimeoutError]: The operation was aborted due to timeout");b.name="TimeoutError",b.code=23,g.abort(b)},h.options.timeout),h.options.signal=g.signal}try{h.response=await e(h.request,h.options)}catch(g){return h.error=g,h.options.onRequestError&&await Mb(h,h.options.onRequestError),await i(h)}finally{p&&clearTimeout(p)}if((h.response.body||h.response._bodyInit)&&!woe.has(h.response.status)&&h.options.method!=="HEAD"){const g=(h.options.parseResponse?"json":h.options.responseType)||moe(h.response.headers.get("content-type")||"");switch(g){case"json":{const b=await h.response.text(),v=h.options.parseResponse||Gm;h.response._data=v(b);break}case"stream":{h.response._data=h.response.body||h.response._bodyInit;break}default:h.response._data=await h.response[g]()}}return h.options.onResponse&&await Mb(h,h.options.onResponse),!h.options.ignoreResponseError&&h.response.status>=400&&h.response.status<600?(h.options.onResponseError&&await Mb(h,h.options.onResponseError),await i(h)):h.response},a=async function(u,d){return(await s(u,d))._data};return a.raw=s,a.native=(...c)=>e(...c),a.create=(c={},u={})=>i7({...t,...u,defaults:{...t.defaults,...u.defaults,...c}}),a}const hv=(function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")})(),voe=hv.fetch?(...t)=>hv.fetch(...t):()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!")),_oe=hv.Headers,Eoe=hv.AbortController,Soe=i7({fetch:voe,Headers:_oe,AbortController:Eoe});var at;let fu=class extends Error{toString(){return`${this.type}${this.privyErrorCode?`-${this.privyErrorCode}`:""}: ${this.message}${this.cause?` [cause: ${this.cause}]`:""}`}constructor(e,n,r){super(e),n instanceof Error&&(this.cause=n),this.privyErrorCode=r}},pv=class extends fu{constructor(e,n,r,i,s,a){super(r,i,s),this.type=e,this.status=n,this.data=a}},ae=class extends fu{constructor(e,n,r){super(e,n,r),this.type="client_error"}},Aoe=class extends ae{constructor(){super("Request timed out",void 0,"client_request_timeout")}},Mn=class extends fu{constructor(e,n,r){super(e,n,r),this.type="connector_error"}};const Wt=t=>{if(t instanceof fu)return t;if(!(t instanceof r7))return jn(t);if(!t.response)return new pv("api_error",null,t.message,t);let{type:e,message:n,error:r,code:i}=t.data;return new pv(e||"ApiError",t.response.status,n||r,t,i,t.data)},jn=t=>t instanceof fu?t:t instanceof Error?new ae(t.message,t):new ae(`Internal error: ${t}`);var Ie=((at={}).OAUTH_ACCOUNT_SUSPENDED="oauth_account_suspended",at.MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",at.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",at.MISSING_OR_INVALID_TOKEN="missing_or_invalid_token",at.INVALID_DATA="invalid_data",at.INVALID_CAPTCHA="invalid_captcha",at.LINKED_TO_ANOTHER_USER="linked_to_another_user",at.CANNOT_LINK_MORE_OF_TYPE="cannot_link_more_of_type",at.FAILED_TO_LINK_ACCOUNT="failed_to_link_account",at.FAILED_TO_UPDATE_ACCOUNT="failed_to_update_account",at.USER_EXITED_UPDATE_FLOW="exited_update_flow",at.ALLOWLIST_REJECTED="allowlist_rejected",at.OAUTH_USER_DENIED="oauth_user_denied",at.OAUTH_UNEXPECTED="oauth_unexpected",at.UNKNOWN_AUTH_ERROR="unknown_auth_error",at.USER_EXITED_AUTH_FLOW="exited_auth_flow",at.USER_EXITED_LINK_FLOW="exited_link_flow",at.USER_EXITED_SET_PASSWORD_FLOW="user_exited_set_password_flow",at.MUST_BE_AUTHENTICATED="must_be_authenticated",at.UNKNOWN_CONNECT_WALLET_ERROR="unknown_connect_wallet_error",at.GENERIC_CONNECT_WALLET_ERROR="generic_connect_wallet_error",at.CLIENT_REQUEST_TIMEOUT="client_request_timeout",at.INVALID_CREDENTIALS="invalid_credentials",at.MISSING_MFA_CREDENTIALS="missing_or_invalid_mfa",at.UNKNOWN_MFA_ERROR="unknown_mfa_error",at.EMBEDDED_WALLET_ALREADY_EXISTS="embedded_wallet_already_exists",at.EMBEDDED_WALLET_NOT_FOUND="embedded_wallet_not_found",at.EMBEDDED_WALLET_CREATE_ERROR="embedded_wallet_create_error",at.UNKNOWN_EMBEDDED_WALLET_ERROR="unknown_embedded_wallet_error",at.EMBEDDED_WALLET_PASSWORD_UNCONFIRMED="embedded_wallet_password_unconfirmed",at.EMBEDDED_WALLET_PASSWORD_ALREADY_EXISTS="embedded_wallet_password_already_exists",at.EMBEDDED_WALLET_RECOVERY_ALREADY_EXISTS="embedded_wallet_recovery_already_exists",at.TRANSACTION_FAILURE="transaction_failure",at.UNSUPPORTED_CHAIN_ID="unsupported_chain_id",at.NOT_SUPPORTED="not_supported",at.CAPTCHA_TIMEOUT="captcha_timeout",at.INVALID_MESSAGE="invalid_message",at.UNABLE_TO_SIGN="unable_to_sign",at.CAPTCHA_FAILURE="captcha_failure",at.CAPTCHA_DISABLED="captcha_disabled",at.SESSION_STORAGE_UNAVAILABLE="session_storage_unavailable",at.TOO_MANY_REQUESTS="too_many_requests",at.USER_LIMIT_REACHED="max_accounts_reached",at.DISALLOWED_LOGIN_METHOD="disallowed_login_method",at.DISALLOWED_PLUS_EMAIL="disallowed_plus_email",at.PASSKEY_NOT_ALLOWED="passkey_not_allowed",at.USER_DOES_NOT_EXIST="user_does_not_exist",at.INSUFFICIENT_BALANCE="insufficient_balance",at.ACCOUNT_TRANSFER_REQUIRED="account_transfer_required",at.BUFFER_NOT_DEFINED="buffer_not_defined",at.UNSUPPORTED_WALLET_TYPE="unsupported_wallet_type",at.NO_SOLANA_ACCOUNTS="no_solana_accounts",at.UNKNOWN_FUNDING_ERROR="unknown_funding_error",at);let Bu=class extends ae{constructor(){super("Method called before `ready`. Ensure you wait until `ready` is true before calling.")}},MMe=class extends ae{constructor(e="Embedded wallet error",n){super(e,n,"unknown_embedded_wallet_error")}},LMe=class extends ae{constructor(e="User must be authenticated"){super(e,void 0,"must_be_authenticated")}},zMe=class extends ae{constructor(e){super("This application is in development mode and must be upgraded to production to log in new users.",e,"max_accounts_reached")}},C4=class extends Mn{constructor(){super("No Solana accounts found in wallet",void 0,"no_solana_accounts")}};const fe=()=>{throw Error("You need to wrap your application with the <PrivyProvider> initialized with your app id.")},WMe=t=>()=>{throw Error(t.trim())},s7=()=>{},a7=Y.createContext({setAuthenticated:fe,setUser:fe,setIsNewUser:fe,isNewUserThisSession:!1,walletConnectionStatus:null,setWalletConnectionStatus:fe,connectors:[],rpcConfig:{rpcUrls:{}},showFiatPrices:!0,chains:[],clientAnalyticsId:null,pendingTransaction:null,client:null,privy:null,appId:"notAdded",onCustomAuthAuthenticated:fe,hideWalletUIs:{current:!1},nativeTokenSymbolForChainId:fe,initializeWalletProxy:fe,getAuthMeta:fe,getAuthFlow:fe,closePrivyModal:fe,openPrivyModal:fe,connectWallet:fe,initLoginWithWallet:fe,loginWithWallet:fe,initLoginWithFarcaster:fe,loginWithFarcaster:fe,loginWithCode:fe,initLoginWithEmail:fe,initLoginWithSms:fe,initUpdateEmail:fe,initUpdatePhone:fe,resendEmailCode:fe,resendSmsCode:fe,initLoginWithHeadlessOAuth:fe,loginWithHeadlessOAuth:fe,crossAppAuthFlow:fe,initLoginWithOAuth:fe,loginWithOAuth:fe,passkeyAuthState:{status:"initial"},setPasskeyAuthState:fe,initSignupWithPasskey:fe,signupWithPasskey:fe,initLoginWithPasskey:fe,loginWithPasskey:fe,initLinkWithPasskey:fe,linkWithPasskey:fe,refreshSessionAndUser:fe,walletProxy:null,createAnalyticsEvent:fe,acceptTerms:fe,getUsdTokenPrice:fe,getUsdPriceForSol:fe,getSplTokenMetadata:fe,recoverEmbeddedWallet:fe,updateWallets:fe,fundWallet:fe,openModal:fe,setReadyToTrue:fe,requestFarcasterSignerStatus:fe,initLoginWithTelegram:fe,loginWithTelegram:fe,generateSiweMessage:fe,generateSiweMessageForSmartWallet:fe,loginWithSiwe:fe,linkWithSiwe:fe,linkSmartWallet:fe,delegateWallet:fe,revokeDelegatedWallets:fe,connectCoinbaseSmartWallet:fe,connectBaseAccount:fe,initiateAccountTransfer:fe,emailOtpState:{status:"initial"},setEmailOtpState:fe,smsOtpState:{status:"initial"},setSmsOtpState:fe,siweState:{status:"initial"},setSiweState:fe,oAuthState:{status:"initial"},setOAuthState:fe,telegramAuthState:{status:"initial"},setTelegramAuthState:fe,isHeadlessOAuthLoading:!1,isHeadlessSigning:fe,inProgressAuthFlowRef:{current:null},inProgressLoginOrLinkMethodRef:{current:null},baseAccountSdk:void 0,setBaseAccountSdk:fe}),zd=()=>Y.useContext(a7);function o7(t){return typeof t=="string"&&/^custom:[a-zA-Z0-9_-]+$/i.test(t)}function _t(t){return t?new Date(1e3*t):null}function Xr(t,e){return t.slice().sort(((n,r)=>(n.firstVerifiedAt?.getTime()??0)-(r.firstVerifiedAt?.getTime()??0))).find((n=>n.type===e))}const mc=t=>t?c7(t).find((e=>e.walletIndex===0))??null:null,c7=t=>t?l7(t,"ethereum"):[],l7=(t,e)=>t.linkedAccounts.filter((n=>n.type==="wallet"&&n.walletClientType==="privy"&&!n.imported&&n.chainType===e)),xoe=t=>t?l7(t,"solana"):[],w3=t=>t?xoe(t).find((e=>e.walletIndex===0))??null:null,S6=t=>(t?.linkedAccounts??[]).filter((e=>e.type==="wallet"&&e.walletClientType==="privy"&&e.imported&&e.chainType==="ethereum")),Toe=t=>(t?.linkedAccounts??[]).filter((e=>e.type==="wallet"&&e.imported&&e.walletClientType==="privy"&&e.chainType==="solana")),u7=(t,e)=>t===e||!(!t.startsWith("0x")||!e.startsWith("0x"))&&ri(t)===ri(e),zf=(t,e)=>t?.linkedAccounts.find((n=>n.type==="wallet"&&n.walletClientType==="privy"&&u7(n.address,e)))||null,ES=(t,e)=>t.find((n=>u7(n.address,e)))||null,Hy=t=>mc(t)??w3(t);function ni(t){if(!t)return null;let e=(function(S){let C=[];for(let I of S){let $=I.type;switch(I.type){case"wallet":let z={id:I.id,address:I.address,type:I.type,imported:I.imported,delegated:I.delegated,firstVerifiedAt:_t(I.first_verified_at),latestVerifiedAt:_t(I.latest_verified_at),chainType:I.chain_type,walletClientType:I.wallet_client_type,connectorType:I.connector_type,recoveryMethod:I.recovery_method,walletIndex:I.wallet_index,publicKey:I.public_key};C.push(z);break;case"smart_wallet":let j={address:I.address,type:I.type,firstVerifiedAt:_t(I.first_verified_at),latestVerifiedAt:_t(I.latest_verified_at),smartWalletType:I.smart_wallet_type,smartWalletVersion:I.smart_wallet_version};C.push(j);break;case"cross_app":let B={type:I.type,subject:I.subject,embeddedWallets:I.embedded_wallets,smartWallets:I.smart_wallets,providerApp:{id:I.provider_app_id},firstVerifiedAt:_t(I.first_verified_at),latestVerifiedAt:_t(I.latest_verified_at)};C.push(B);break;case"email":let G={address:I.address,type:I.type,firstVerifiedAt:_t(I.first_verified_at),latestVerifiedAt:_t(I.latest_verified_at)};C.push(G);break;case"phone":let U={number:I.phoneNumber,type:I.type,firstVerifiedAt:_t(I.first_verified_at),latestVerifiedAt:_t(I.latest_verified_at)};C.push(U);break;case"google_oauth":let F={subject:I.subject,email:I.email,name:I.name,type:I.type,firstVerifiedAt:_t(I.first_verified_at),latestVerifiedAt:_t(I.latest_verified_at)};C.push(F);break;case"spotify_oauth":let K={subject:I.subject,email:I.email,name:I.name,type:I.type,firstVerifiedAt:_t(I.first_verified_at),latestVerifiedAt:_t(I.latest_verified_at)};C.push(K);break;case"instagram_oauth":let T={subject:I.subject,username:I.username,type:I.type,firstVerifiedAt:_t(I.first_verified_at),latestVerifiedAt:_t(I.latest_verified_at)};C.push(T);break;case"twitter_oauth":let x={subject:I.subject,username:I.username,name:I.name,type:I.type,profilePictureUrl:I.profile_picture_url,firstVerifiedAt:_t(I.first_verified_at),latestVerifiedAt:_t(I.latest_verified_at)};C.push(x);break;case"discord_oauth":let N={subject:I.subject,username:I.username,email:I.email,type:I.type,firstVerifiedAt:_t(I.first_verified_at),latestVerifiedAt:_t(I.latest_verified_at)};C.push(N);break;case"github_oauth":let L={subject:I.subject,username:I.username,name:I.name,email:I.email,type:I.type,firstVerifiedAt:_t(I.first_verified_at),latestVerifiedAt:_t(I.latest_verified_at)};C.push(L);break;case"tiktok_oauth":let P={subject:I.subject,username:I.username,name:I.name,type:I.type,firstVerifiedAt:_t(I.first_verified_at),latestVerifiedAt:_t(I.latest_verified_at)};C.push(P);break;case"line_oauth":let H={subject:I.subject,name:I.name,email:I.email,profilePictureUrl:I.profile_picture_url,type:I.type,firstVerifiedAt:_t(I.first_verified_at),latestVerifiedAt:_t(I.latest_verified_at)};C.push(H);break;case"twitch_oauth":let D={subject:I.subject,username:I.username,type:I.type,firstVerifiedAt:_t(I.first_verified_at),latestVerifiedAt:_t(I.latest_verified_at)};C.push(D);break;case"linkedin_oauth":let V={subject:I.subject,name:I.name,email:I.email,vanityName:I.vanity_name,type:I.type,firstVerifiedAt:_t(I.first_verified_at),latestVerifiedAt:_t(I.latest_verified_at)};C.push(V);break;case"apple_oauth":let J={subject:I.subject,email:I.email,type:I.type,firstVerifiedAt:_t(I.first_verified_at),latestVerifiedAt:_t(I.latest_verified_at)};C.push(J);break;case"custom_auth":C.push({type:I.type,customUserId:I.custom_user_id,firstVerifiedAt:_t(I.first_verified_at),latestVerifiedAt:_t(I.latest_verified_at)});break;case"farcaster":let X={type:I.type,fid:I.fid,ownerAddress:I.owner_address,displayName:I.display_name,username:I.username,bio:I.bio,pfp:I.profile_picture_url,url:I.homepage_url,firstVerifiedAt:_t(I.first_verified_at),latestVerifiedAt:_t(I.latest_verified_at),signerPublicKey:I.signer_public_key};C.push(X);break;case"passkey":let Q={type:I.type,enrolledInMfa:I.enrolled_in_mfa,credentialId:I.credential_id,publicKey:I.public_key,authenticatorName:I.authenticator_name,createdWithDevice:I.created_with_device,createdWithOs:I.created_with_os,createdWithBrowser:I.created_with_browser,firstVerifiedAt:_t(I.first_verified_at),latestVerifiedAt:_t(I.latest_verified_at)};C.push(Q);break;case"telegram":let ge={type:I.type,telegramUserId:I.telegram_user_id,firstName:I.first_name,lastName:I.last_name,username:I.username,photoUrl:I.photo_url,firstVerifiedAt:_t(I.first_verified_at),latestVerifiedAt:_t(I.latest_verified_at)};C.push(ge);break;default:if(o7(I.type)){let we={type:I.type,subject:I.subject,name:I.name,username:I.username,email:I.email,profilePictureUrl:I.profile_picture_url,firstVerifiedAt:_t(I.first_verified_at),latestVerifiedAt:_t(I.latest_verified_at)};C.push(we);break}console.warn(`Unrecognized account type: ${$}. Please consider upgrading the Privy SDK.`)}}return C})(t.linked_accounts),n=Xr(e,"wallet"),r=Xr(e,"smart_wallet"),i=Xr(e,"email"),s=Xr(e,"phone"),a=Xr(e,"google_oauth"),c=Xr(e,"twitter_oauth"),u=Xr(e,"discord_oauth"),d=Xr(e,"github_oauth"),h=Xr(e,"spotify_oauth"),p=Xr(e,"instagram_oauth"),y=Xr(e,"tiktok_oauth"),g=Xr(e,"line_oauth"),b=Xr(e,"twitch_oauth"),v=Xr(e,"linkedin_oauth"),E=Xr(e,"apple_oauth"),O=Xr(e,"farcaster"),k=Xr(e,"telegram"),A=t.mfa_methods.map((({type:S,verified_at:C})=>({type:S,verifiedAt:_t(C)})));return{id:t.id,createdAt:_t(t.created_at),linkedAccounts:e,email:i&&{address:i?.address},phone:s&&{number:s?.number},wallet:n&&{id:n.id,address:n.address,chainType:n.chainType,walletClientType:n.walletClientType,connectorType:n.connectorType,recoveryMethod:n.recoveryMethod,imported:n.imported,delegated:n.delegated,walletIndex:n.walletIndex,publicKey:n.publicKey},smartWallet:r&&{address:r.address,smartWalletType:r.smartWalletType,smartWalletVersion:r.smartWalletVersion},google:a&&{subject:a.subject,email:a.email,name:a.name},twitter:c&&{subject:c.subject,username:c.username,name:c.name,profilePictureUrl:c.profilePictureUrl},discord:u&&{subject:u.subject,username:u.username,email:u.email},github:d&&{subject:d.subject,username:d.username,name:d.name,email:d.email},spotify:h&&{subject:h.subject,email:h.email,name:h.name},instagram:p&&{subject:p.subject,username:p.username},tiktok:y&&{subject:y.subject,username:y.username,name:y.name},line:g&&{subject:g.subject,name:g.name,email:g.email,profilePictureUrl:g.profilePictureUrl},twitch:b&&{subject:b.subject,username:b.username},linkedin:v&&{subject:v.subject,name:v.name,email:v.email,vanityName:v.vanityName},apple:E&&{subject:E.subject,email:E.email},farcaster:O&&{fid:O.fid,ownerAddress:O.ownerAddress,displayName:O.displayName,username:O.username,bio:O.bio,pfp:O.pfp,url:O.url,signerPublicKey:O.signerPublicKey},telegram:k&&{telegramUserId:k.telegramUserId,firstName:k.firstName,lastName:k.lastName,username:k.username,photoUrl:k.photoUrl},delegatedWallets:[],mfaMethods:A.map((S=>S.type)),hasAcceptedTerms:t.has_accepted_terms??!1,isGuest:t.is_guest,customMetadata:t.custom_metadata}}function Ioe({src:t,...e}){return pe.jsx("img",{src:t,...e,style:{display:"none"}})}const d7=Y.createContext({currentScreen:null,lastScreen:null,navigate:fe,navigateBack:fe,resetNavigation:fe,setModalData:fe,onUserCloseViaDialogOrKeybindRef:void 0}),Coe=t=>{let e=Ro(),[n,r]=Y.useState(t.initialScreen),i=Y.useRef(null);Y.useEffect((()=>{t.open||(i.current=null)}),[t.open]),Y.useEffect((()=>{i.current=null}),[t.initialScreen]);let s={data:t.data,setModalData:t.setModalData,currentScreen:t.initialScreen,lastScreen:n,navigate:(a,c=!0)=>{t.setInitialScreen(a),c&&r(t.initialScreen)},navigateBack:()=>{t.setInitialScreen(n)},resetNavigation:()=>{t.setInitialScreen(null),r(null)},onUserCloseViaDialogOrKeybindRef:i};return pe.jsxs(d7.Provider,{value:s,children:[(typeof e.appearance.logo=="string"||e.appearance.logo?.type==="img")&&pe.jsx(Ioe,{src:typeof e.appearance.logo=="string"?e.appearance.logo:e.appearance.logo.props.src}),t.children]})},Vy=()=>Y.useContext(d7),up=Y.createContext({ready:!1,authenticated:!1,user:null,walletConnectors:null,connectWallet:fe,login:fe,connectOrCreateWallet:fe,linkEmail:fe,linkPhone:fe,linkFarcaster:fe,linkWallet:fe,startCrossAppAuthFlow:fe,linkGoogle:fe,linkTwitter:fe,linkTwitch:fe,linkDiscord:fe,linkGithub:fe,linkSpotify:fe,linkInstagram:fe,linkTelegram:fe,linkTiktok:fe,linkLine:fe,linkLinkedIn:fe,linkApple:fe,linkPasskey:fe,updateEmail:fe,updatePhone:fe,logout:fe,getAccessToken:fe,unlinkEmail:fe,unlinkPhone:fe,unlinkWallet:fe,unlinkGoogle:fe,unlinkTwitter:fe,unlinkTwitch:fe,unlinkDiscord:fe,unlinkGithub:fe,unlinkSpotify:fe,unlinkInstagram:fe,unlinkTiktok:fe,unlinkLine:fe,unlinkLinkedIn:fe,unlinkApple:fe,unlinkCrossAppAccount:fe,unlinkFarcaster:fe,unlinkTelegram:fe,unlinkPasskey:fe,signMessage:fe,signTypedData:fe,enrollInMfa:fe,initEnrollmentWithSms:fe,initEnrollmentWithTotp:fe,initEnrollmentWithPasskey:fe,promptMfa:fe,init:fe,submitEnrollmentWithSms:fe,submitEnrollmentWithTotp:fe,submitEnrollmentWithPasskey:fe,unenroll:fe,submit:fe,cancel:fe,sendTransaction:fe,signTransaction:fe,exportWallet:fe,setWalletPassword:fe,setWalletRecovery:fe,requestFarcasterSignerFromWarpcast:fe,getFarcasterSignerPublicKey:fe,signFarcasterMessage:fe,signMessageWithCrossAppWallet:fe,signTypedDataWithCrossAppWallet:fe,sendTransactionWithCrossAppWallet:fe,signTransactionWithCrossAppWallet:fe,isModalOpen:!1,mfaMethods:[]}),Ug=()=>Y.useContext(up),ws=t=>!!t.id&&t.recoveryMethod==="privy-v2",O4=t=>{let e;const n=new Set,r=(d,h)=>{const p=typeof d=="function"?d(e):d;if(!Object.is(p,e)){const y=e;e=h??(typeof p!="object"||p===null)?p:Object.assign({},e,p),n.forEach(g=>g(e,y))}},i=()=>e,c={setState:r,getState:i,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d))},u=e=t(r,i,c);return c},Ooe=(t=>t?O4(t):O4),koe=t=>t;function Roe(t,e=koe){const n=Qe.useSyncExternalStore(t.subscribe,Qe.useCallback(()=>e(t.getState()),[t,e]),Qe.useCallback(()=>e(t.getInitialState()),[t,e]));return Qe.useDebugValue(n),n}const k4=t=>{const e=Ooe(t),n=r=>Roe(e,r);return Object.assign(n,e),n},Fd=(t=>t?k4(t):k4);var wi=function(){return wi=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},wi.apply(this,arguments)};function zh(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var Pn="-ms-",ay="-moz-",rn="-webkit-",f7="comm",$1="rule",v3="decl",Noe="@import",h7="@keyframes",$oe="@layer",p7=Math.abs,_3=String.fromCharCode,A6=Object.assign;function Poe(t,e){return jr(t,0)^45?(((e<<2^jr(t,0))<<2^jr(t,1))<<2^jr(t,2))<<2^jr(t,3):0}function m7(t){return t.trim()}function fc(t,e){return(t=e.exec(t))?t[0]:t}function Nt(t,e,n){return t.replace(e,n)}function vw(t,e,n){return t.indexOf(e,n)}function jr(t,e){return t.charCodeAt(e)|0}function Fh(t,e,n){return t.slice(e,n)}function uo(t){return t.length}function y7(t){return t.length}function Km(t,e){return e.push(t),t}function Doe(t,e){return t.map(e).join("")}function R4(t,e){return t.filter(function(n){return!fc(n,e)})}var P1=1,qh=1,g7=0,aa=0,yr=0,dp="";function D1(t,e,n,r,i,s,a,c){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:P1,column:qh,length:a,return:"",siblings:c}}function Ul(t,e){return A6(D1("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function Ff(t){for(;t.root;)t=Ul(t.root,{children:[t]});Km(t,t.siblings)}function Uoe(){return yr}function Moe(){return yr=aa>0?jr(dp,--aa):0,qh--,yr===10&&(qh=1,P1--),yr}function $a(){return yr=aa<g7?jr(dp,aa++):0,qh++,yr===10&&(qh=1,P1++),yr}function hd(){return jr(dp,aa)}function _w(){return aa}function U1(t,e){return Fh(dp,t,e)}function x6(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Boe(t){return P1=qh=1,g7=uo(dp=t),aa=0,[]}function Loe(t){return dp="",t}function SS(t){return m7(U1(aa-1,T6(t===91?t+2:t===40?t+1:t)))}function joe(t){for(;(yr=hd())&&yr<33;)$a();return x6(t)>2||x6(yr)>3?"":" "}function zoe(t,e){for(;--e&&$a()&&!(yr<48||yr>102||yr>57&&yr<65||yr>70&&yr<97););return U1(t,_w()+(e<6&&hd()==32&&$a()==32))}function T6(t){for(;$a();)switch(yr){case t:return aa;case 34:case 39:t!==34&&t!==39&&T6(yr);break;case 40:t===41&&T6(t);break;case 92:$a();break}return aa}function Foe(t,e){for(;$a()&&t+yr!==57;)if(t+yr===84&&hd()===47)break;return"/*"+U1(e,aa-1)+"*"+_3(t===47?t:$a())}function qoe(t){for(;!x6(hd());)$a();return U1(t,aa)}function Woe(t){return Loe(Ew("",null,null,null,[""],t=Boe(t),0,[0],t))}function Ew(t,e,n,r,i,s,a,c,u){for(var d=0,h=0,p=a,y=0,g=0,b=0,v=1,E=1,O=1,k=0,A="",S=i,C=s,I=r,$=A;E;)switch(b=k,k=$a()){case 40:if(b!=108&&jr($,p-1)==58){vw($+=Nt(SS(k),"&","&\f"),"&\f",p7(d?c[d-1]:0))!=-1&&(O=-1);break}case 34:case 39:case 91:$+=SS(k);break;case 9:case 10:case 13:case 32:$+=joe(b);break;case 92:$+=zoe(_w()-1,7);continue;case 47:switch(hd()){case 42:case 47:Km(Hoe(Foe($a(),_w()),e,n,u),u);break;default:$+="/"}break;case 123*v:c[d++]=uo($)*O;case 125*v:case 59:case 0:switch(k){case 0:case 125:E=0;case 59+h:O==-1&&($=Nt($,/\f/g,"")),g>0&&uo($)-p&&Km(g>32?$4($+";",r,n,p-1,u):$4(Nt($," ","")+";",r,n,p-2,u),u);break;case 59:$+=";";default:if(Km(I=N4($,e,n,d,h,i,c,A,S=[],C=[],p,s),s),k===123)if(h===0)Ew($,e,I,I,S,s,p,c,C);else switch(y===99&&jr($,3)===110?100:y){case 100:case 108:case 109:case 115:Ew(t,I,I,r&&Km(N4(t,I,I,0,0,i,c,A,i,S=[],p,C),C),i,C,p,c,r?S:C);break;default:Ew($,I,I,I,[""],C,0,c,C)}}d=h=g=0,v=O=1,A=$="",p=a;break;case 58:p=1+uo($),g=b;default:if(v<1){if(k==123)--v;else if(k==125&&v++==0&&Moe()==125)continue}switch($+=_3(k),k*v){case 38:O=h>0?1:($+="\f",-1);break;case 44:c[d++]=(uo($)-1)*O,O=1;break;case 64:hd()===45&&($+=SS($a())),y=hd(),h=p=uo(A=$+=qoe(_w())),k++;break;case 45:b===45&&uo($)==2&&(v=0)}}return s}function N4(t,e,n,r,i,s,a,c,u,d,h,p){for(var y=i-1,g=i===0?s:[""],b=y7(g),v=0,E=0,O=0;v<r;++v)for(var k=0,A=Fh(t,y+1,y=p7(E=a[v])),S=t;k<b;++k)(S=m7(E>0?g[k]+" "+A:Nt(A,/&\f/g,g[k])))&&(u[O++]=S);return D1(t,e,n,i===0?$1:c,u,d,h,p)}function Hoe(t,e,n,r){return D1(t,e,n,f7,_3(Uoe()),Fh(t,2,-2),0,r)}function $4(t,e,n,r,i){return D1(t,e,n,v3,Fh(t,0,r),Fh(t,r+1,-1),r,i)}function b7(t,e,n){switch(Poe(t,e)){case 5103:return rn+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return rn+t+t;case 4789:return ay+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return rn+t+ay+t+Pn+t+t;case 5936:switch(jr(t,e+11)){case 114:return rn+t+Pn+Nt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return rn+t+Pn+Nt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return rn+t+Pn+Nt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return rn+t+Pn+t+t;case 6165:return rn+t+Pn+"flex-"+t+t;case 5187:return rn+t+Nt(t,/(\w+).+(:[^]+)/,rn+"box-$1$2"+Pn+"flex-$1$2")+t;case 5443:return rn+t+Pn+"flex-item-"+Nt(t,/flex-|-self/g,"")+(fc(t,/flex-|baseline/)?"":Pn+"grid-row-"+Nt(t,/flex-|-self/g,""))+t;case 4675:return rn+t+Pn+"flex-line-pack"+Nt(t,/align-content|flex-|-self/g,"")+t;case 5548:return rn+t+Pn+Nt(t,"shrink","negative")+t;case 5292:return rn+t+Pn+Nt(t,"basis","preferred-size")+t;case 6060:return rn+"box-"+Nt(t,"-grow","")+rn+t+Pn+Nt(t,"grow","positive")+t;case 4554:return rn+Nt(t,/([^-])(transform)/g,"$1"+rn+"$2")+t;case 6187:return Nt(Nt(Nt(t,/(zoom-|grab)/,rn+"$1"),/(image-set)/,rn+"$1"),t,"")+t;case 5495:case 3959:return Nt(t,/(image-set\([^]*)/,rn+"$1$`$1");case 4968:return Nt(Nt(t,/(.+:)(flex-)?(.*)/,rn+"box-pack:$3"+Pn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+rn+t+t;case 4200:if(!fc(t,/flex-|baseline/))return Pn+"grid-column-align"+Fh(t,e)+t;break;case 2592:case 3360:return Pn+Nt(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,i){return e=i,fc(r.props,/grid-\w+-end/)})?~vw(t+(n=n[e].value),"span",0)?t:Pn+Nt(t,"-start","")+t+Pn+"grid-row-span:"+(~vw(n,"span",0)?fc(n,/\d+/):+fc(n,/\d+/)-+fc(t,/\d+/))+";":Pn+Nt(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return fc(r.props,/grid-\w+-start/)})?t:Pn+Nt(Nt(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return Nt(t,/(.+)-inline(.+)/,rn+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(uo(t)-1-e>6)switch(jr(t,e+1)){case 109:if(jr(t,e+4)!==45)break;case 102:return Nt(t,/(.+:)(.+)-([^]+)/,"$1"+rn+"$2-$3$1"+ay+(jr(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~vw(t,"stretch",0)?b7(Nt(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return Nt(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,s,a,c,u,d){return Pn+i+":"+s+d+(a?Pn+i+"-span:"+(c?u:+u-+s)+d:"")+t});case 4949:if(jr(t,e+6)===121)return Nt(t,":",":"+rn)+t;break;case 6444:switch(jr(t,jr(t,14)===45?18:11)){case 120:return Nt(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+rn+(jr(t,14)===45?"inline-":"")+"box$3$1"+rn+"$2$3$1"+Pn+"$2box$3")+t;case 100:return Nt(t,":",":"+Pn)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Nt(t,"scroll-","scroll-snap-")+t}return t}function mv(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function Voe(t,e,n,r){switch(t.type){case $oe:if(t.children.length)break;case Noe:case v3:return t.return=t.return||t.value;case f7:return"";case h7:return t.return=t.value+"{"+mv(t.children,r)+"}";case $1:if(!uo(t.value=t.props.join(",")))return""}return uo(n=mv(t.children,r))?t.return=t.value+"{"+n+"}":""}function Goe(t){var e=y7(t);return function(n,r,i,s){for(var a="",c=0;c<e;c++)a+=t[c](n,r,i,s)||"";return a}}function Koe(t){return function(e){e.root||(e=e.return)&&t(e)}}function Yoe(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case v3:t.return=b7(t.value,t.length,n);return;case h7:return mv([Ul(t,{value:Nt(t.value,"@","@"+rn)})],r);case $1:if(t.length)return Doe(n=t.props,function(i){switch(fc(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Ff(Ul(t,{props:[Nt(i,/:(read-\w+)/,":"+ay+"$1")]})),Ff(Ul(t,{props:[i]})),A6(t,{props:R4(n,r)});break;case"::placeholder":Ff(Ul(t,{props:[Nt(i,/:(plac\w+)/,":"+rn+"input-$1")]})),Ff(Ul(t,{props:[Nt(i,/:(plac\w+)/,":"+ay+"$1")]})),Ff(Ul(t,{props:[Nt(i,/:(plac\w+)/,Pn+"input-$1")]})),Ff(Ul(t,{props:[i]})),A6(t,{props:R4(n,r)});break}return""})}}var Zoe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},_s={},Wh=typeof process<"u"&&_s!==void 0&&(_s.REACT_APP_SC_ATTR||_s.SC_ATTR)||"data-styled",w7="active",v7="data-styled-version",M1="6.1.19",E3=`/*!sc*/
`,yv=typeof window<"u"&&typeof document<"u",Xoe=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&_s!==void 0&&_s.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&_s.REACT_APP_SC_DISABLE_SPEEDY!==""?_s.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&_s.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&_s!==void 0&&_s.SC_DISABLE_SPEEDY!==void 0&&_s.SC_DISABLE_SPEEDY!==""&&_s.SC_DISABLE_SPEEDY!=="false"&&_s.SC_DISABLE_SPEEDY),Joe={},B1=Object.freeze([]),Hh=Object.freeze({});function _7(t,e,n){return n===void 0&&(n=Hh),t.theme!==n.theme&&t.theme||e||n.theme}var E7=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),Qoe=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,ece=/(^-|-$)/g;function P4(t){return t.replace(Qoe,"-").replace(ece,"")}var tce=/(a)(d)/gi,Bb=52,D4=function(t){return String.fromCharCode(t+(t>25?39:97))};function I6(t){var e,n="";for(e=Math.abs(t);e>Bb;e=e/Bb|0)n=D4(e%Bb)+n;return(D4(e%Bb)+n).replace(tce,"$1-$2")}var AS,S7=5381,uh=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},A7=function(t){return uh(S7,t)};function S3(t){return I6(A7(t)>>>0)}function nce(t){return t.displayName||t.name||"Component"}function xS(t){return typeof t=="string"&&!0}var x7=typeof Symbol=="function"&&Symbol.for,T7=x7?Symbol.for("react.memo"):60115,rce=x7?Symbol.for("react.forward_ref"):60112,ice={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},sce={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},I7={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ace=((AS={})[rce]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},AS[T7]=I7,AS);function U4(t){return("type"in(e=t)&&e.type.$$typeof)===T7?I7:"$$typeof"in t?ace[t.$$typeof]:ice;var e}var oce=Object.defineProperty,cce=Object.getOwnPropertyNames,M4=Object.getOwnPropertySymbols,lce=Object.getOwnPropertyDescriptor,uce=Object.getPrototypeOf,B4=Object.prototype;function C7(t,e,n){if(typeof e!="string"){if(B4){var r=uce(e);r&&r!==B4&&C7(t,r,n)}var i=cce(e);M4&&(i=i.concat(M4(e)));for(var s=U4(t),a=U4(e),c=0;c<i.length;++c){var u=i[c];if(!(u in sce||n&&n[u]||a&&u in a||s&&u in s)){var d=lce(e,u);try{oce(t,u,d)}catch{}}}}return t}function Vh(t){return typeof t=="function"}function A3(t){return typeof t=="object"&&"styledComponentId"in t}function nd(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function gv(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=t[r];return n}function Gy(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function C6(t,e,n){if(n===void 0&&(n=!1),!n&&!Gy(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=C6(t[r],e[r]);else if(Gy(e))for(var r in e)t[r]=C6(t[r],e[r]);return t}function x3(t,e){Object.defineProperty(t,"toString",{value:e})}function Mg(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var dce=(function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,s=i;e>=s;)if((s<<=1)<0)throw Mg(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(r),this.length=s;for(var a=i;a<s;a++)this.groupSizes[a]=0}for(var c=this.indexOfGroup(e+1),u=(a=0,n.length);a<u;a++)this.tag.insertRule(c,n[a])&&(this.groupSizes[e]++,c++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n;this.groupSizes[e]=0;for(var s=r;s<i;s++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),s=i+r,a=i;a<s;a++)n+="".concat(this.tag.getRule(a)).concat(E3);return n},t})(),Sw=new Map,bv=new Map,Aw=1,Lb=function(t){if(Sw.has(t))return Sw.get(t);for(;bv.has(Aw);)Aw++;var e=Aw++;return Sw.set(t,e),bv.set(e,t),e},fce=function(t,e){Aw=e+1,Sw.set(t,e),bv.set(e,t)},hce="style[".concat(Wh,"][").concat(v7,'="').concat(M1,'"]'),pce=new RegExp("^".concat(Wh,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),mce=function(t,e,n){for(var r,i=n.split(","),s=0,a=i.length;s<a;s++)(r=i[s])&&t.registerName(e,r)},yce=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(E3),i=[],s=0,a=r.length;s<a;s++){var c=r[s].trim();if(c){var u=c.match(pce);if(u){var d=0|parseInt(u[1],10),h=u[2];d!==0&&(fce(h,d),mce(t,h,u[3]),t.getTag().insertRules(d,i)),i.length=0}else i.push(c)}}},L4=function(t){for(var e=document.querySelectorAll(hce),n=0,r=e.length;n<r;n++){var i=e[n];i&&i.getAttribute(Wh)!==w7&&(yce(t,i),i.parentNode&&i.parentNode.removeChild(i))}};function gce(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var O7=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=(function(c){var u=Array.from(c.querySelectorAll("style[".concat(Wh,"]")));return u[u.length-1]})(n),s=i!==void 0?i.nextSibling:null;r.setAttribute(Wh,w7),r.setAttribute(v7,M1);var a=gce();return a&&r.setAttribute("nonce",a),n.insertBefore(r,s),r},bce=(function(){function t(e){this.element=O7(e),this.element.appendChild(document.createTextNode("")),this.sheet=(function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,s=r.length;i<s;i++){var a=r[i];if(a.ownerNode===n)return a}throw Mg(17)})(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t})(),wce=(function(){function t(e){this.element=O7(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t})(),vce=(function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t})(),j4=yv,_ce={isServer:!yv,useCSSOMInjection:!Xoe},wv=(function(){function t(e,n,r){e===void 0&&(e=Hh),n===void 0&&(n={});var i=this;this.options=wi(wi({},_ce),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&yv&&j4&&(j4=!1,L4(this)),x3(this,function(){return(function(s){for(var a=s.getTag(),c=a.length,u="",d=function(p){var y=(function(O){return bv.get(O)})(p);if(y===void 0)return"continue";var g=s.names.get(y),b=a.getGroup(p);if(g===void 0||!g.size||b.length===0)return"continue";var v="".concat(Wh,".g").concat(p,'[id="').concat(y,'"]'),E="";g!==void 0&&g.forEach(function(O){O.length>0&&(E+="".concat(O,","))}),u+="".concat(b).concat(v,'{content:"').concat(E,'"}').concat(E3)},h=0;h<c;h++)d(h);return u})(i)})}return t.registerId=function(e){return Lb(e)},t.prototype.rehydrate=function(){!this.server&&yv&&L4(this)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(wi(wi({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=(function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new vce(i):r?new bce(i):new wce(i)})(this.options),new dce(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(Lb(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(Lb(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(Lb(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t})(),Ece=/&/g,Sce=/^\s*\/\/.*$/gm;function k7(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=k7(n.children,e)),n})}function Ace(t){var e,n,r,i=Hh,s=i.options,a=s===void 0?Hh:s,c=i.plugins,u=c===void 0?B1:c,d=function(y,g,b){return b.startsWith(n)&&b.endsWith(n)&&b.replaceAll(n,"").length>0?".".concat(e):y},h=u.slice();h.push(function(y){y.type===$1&&y.value.includes("&")&&(y.props[0]=y.props[0].replace(Ece,n).replace(r,d))}),a.prefix&&h.push(Yoe),h.push(Voe);var p=function(y,g,b,v){g===void 0&&(g=""),b===void 0&&(b=""),v===void 0&&(v="&"),e=v,n=g,r=new RegExp("\\".concat(n,"\\b"),"g");var E=y.replace(Sce,""),O=Woe(b||g?"".concat(b," ").concat(g," { ").concat(E," }"):E);a.namespace&&(O=k7(O,a.namespace));var k=[];return mv(O,Goe(h.concat(Koe(function(A){return k.push(A)})))),k};return p.hash=u.length?u.reduce(function(y,g){return g.name||Mg(15),uh(y,g.name)},S7).toString():"",p}var xce=new wv,O6=Ace(),R7=Qe.createContext({shouldForwardProp:void 0,styleSheet:xce,stylis:O6});R7.Consumer;Qe.createContext(void 0);function k6(){return Y.useContext(R7)}var N7=(function(){function t(e,n){var r=this;this.inject=function(i,s){s===void 0&&(s=O6);var a=r.name+s.hash;i.hasNameForId(r.id,a)||i.insertRules(r.id,a,s(r.rules,a,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,x3(this,function(){throw Mg(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=O6),this.name+e.hash},t})(),Tce=function(t){return t>="A"&&t<="Z"};function z4(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;Tce(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var $7=function(t){return t==null||t===!1||t===""},P7=function(t){var e,n,r=[];for(var i in t){var s=t[i];t.hasOwnProperty(i)&&!$7(s)&&(Array.isArray(s)&&s.isCss||Vh(s)?r.push("".concat(z4(i),":"),s,";"):Gy(s)?r.push.apply(r,zh(zh(["".concat(i," {")],P7(s),!1),["}"],!1)):r.push("".concat(z4(i),": ").concat((e=i,(n=s)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in Zoe||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function ru(t,e,n,r){if($7(t))return[];if(A3(t))return[".".concat(t.styledComponentId)];if(Vh(t)){if(!Vh(s=t)||s.prototype&&s.prototype.isReactComponent||!e)return[t];var i=t(e);return ru(i,e,n,r)}var s;return t instanceof N7?n?(t.inject(n,r),[t.getName(r)]):[t]:Gy(t)?P7(t):Array.isArray(t)?Array.prototype.concat.apply(B1,t.map(function(a){return ru(a,e,n,r)})):[t.toString()]}function D7(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(Vh(n)&&!A3(n))return!1}return!0}var Ice=A7(M1),Cce=(function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&D7(e),this.componentId=n,this.baseHash=uh(Ice,n),this.baseStyle=r,wv.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=nd(i,this.staticRulesId);else{var s=gv(ru(this.rules,e,n,r)),a=I6(uh(this.baseHash,s)>>>0);if(!n.hasNameForId(this.componentId,a)){var c=r(s,".".concat(a),void 0,this.componentId);n.insertRules(this.componentId,a,c)}i=nd(i,a),this.staticRulesId=a}else{for(var u=uh(this.baseHash,r.hash),d="",h=0;h<this.rules.length;h++){var p=this.rules[h];if(typeof p=="string")d+=p;else if(p){var y=gv(ru(p,e,n,r));u=uh(u,y+h),d+=y}}if(d){var g=I6(u>>>0);n.hasNameForId(this.componentId,g)||n.insertRules(this.componentId,g,r(d,".".concat(g),void 0,this.componentId)),i=nd(i,g)}}return i},t})(),T3=Qe.createContext(void 0);T3.Consumer;var TS={};function Oce(t,e,n){var r=A3(t),i=t,s=!xS(t),a=e.attrs,c=a===void 0?B1:a,u=e.componentId,d=u===void 0?(function(S,C){var I=typeof S!="string"?"sc":P4(S);TS[I]=(TS[I]||0)+1;var $="".concat(I,"-").concat(S3(M1+I+TS[I]));return C?"".concat(C,"-").concat($):$})(e.displayName,e.parentComponentId):u,h=e.displayName,p=h===void 0?(function(S){return xS(S)?"styled.".concat(S):"Styled(".concat(nce(S),")")})(t):h,y=e.displayName&&e.componentId?"".concat(P4(e.displayName),"-").concat(e.componentId):e.componentId||d,g=r&&i.attrs?i.attrs.concat(c).filter(Boolean):c,b=e.shouldForwardProp;if(r&&i.shouldForwardProp){var v=i.shouldForwardProp;if(e.shouldForwardProp){var E=e.shouldForwardProp;b=function(S,C){return v(S,C)&&E(S,C)}}else b=v}var O=new Cce(n,y,r?i.componentStyle:void 0);function k(S,C){return(function(I,$,z){var j=I.attrs,B=I.componentStyle,G=I.defaultProps,U=I.foldedComponentIds,F=I.styledComponentId,K=I.target,T=Qe.useContext(T3),x=k6(),N=I.shouldForwardProp||x.shouldForwardProp,L=_7($,T,G)||Hh,P=(function(Q,ge,we){for(var xe,Ee=wi(wi({},ge),{className:void 0,theme:we}),$e=0;$e<Q.length;$e+=1){var Fe=Vh(xe=Q[$e])?xe(Ee):xe;for(var tt in Fe)Ee[tt]=tt==="className"?nd(Ee[tt],Fe[tt]):tt==="style"?wi(wi({},Ee[tt]),Fe[tt]):Fe[tt]}return ge.className&&(Ee.className=nd(Ee.className,ge.className)),Ee})(j,$,L),H=P.as||K,D={};for(var V in P)P[V]===void 0||V[0]==="$"||V==="as"||V==="theme"&&P.theme===L||(V==="forwardedAs"?D.as=P.forwardedAs:N&&!N(V,H)||(D[V]=P[V]));var J=(function(Q,ge){var we=k6(),xe=Q.generateAndInjectStyles(ge,we.styleSheet,we.stylis);return xe})(B,P),X=nd(U,F);return J&&(X+=" "+J),P.className&&(X+=" "+P.className),D[xS(H)&&!E7.has(H)?"class":"className"]=X,z&&(D.ref=z),Y.createElement(H,D)})(A,S,C)}k.displayName=p;var A=Qe.forwardRef(k);return A.attrs=g,A.componentStyle=O,A.displayName=p,A.shouldForwardProp=b,A.foldedComponentIds=r?nd(i.foldedComponentIds,i.styledComponentId):"",A.styledComponentId=y,A.target=r?i.target:t,Object.defineProperty(A,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(S){this._foldedDefaultProps=r?(function(C){for(var I=[],$=1;$<arguments.length;$++)I[$-1]=arguments[$];for(var z=0,j=I;z<j.length;z++)C6(C,j[z],!0);return C})({},i.defaultProps,S):S}}),x3(A,function(){return".".concat(A.styledComponentId)}),s&&C7(A,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),A}function F4(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n}var q4=function(t){return Object.assign(t,{isCss:!0})};function Bg(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Vh(t)||Gy(t))return q4(ru(F4(B1,zh([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?ru(r):q4(ru(F4(r,e)))}function R6(t,e,n){if(n===void 0&&(n=Hh),!e)throw Mg(1,e);var r=function(i){for(var s=[],a=1;a<arguments.length;a++)s[a-1]=arguments[a];return t(e,n,Bg.apply(void 0,zh([i],s,!1)))};return r.attrs=function(i){return R6(t,e,wi(wi({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return R6(t,e,wi(wi({},n),i))},r}var U7=function(t){return R6(Oce,t)},qn=U7;E7.forEach(function(t){qn[t]=U7(t)});var kce=(function(){function t(e,n){this.rules=e,this.componentId=n,this.isStatic=D7(e),wv.registerId(this.componentId+1)}return t.prototype.createStyles=function(e,n,r,i){var s=i(gv(ru(this.rules,n,r,i)),""),a=this.componentId+e;r.insertRules(a,a,s)},t.prototype.removeStyles=function(e,n){n.clearRules(this.componentId+e)},t.prototype.renderStyles=function(e,n,r,i){e>2&&wv.registerId(this.componentId+e),this.removeStyles(e,r),this.createStyles(e,n,r,i)},t})();function Rce(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=Bg.apply(void 0,zh([t],e,!1)),i="sc-global-".concat(S3(JSON.stringify(r))),s=new kce(r,i),a=function(u){var d=k6(),h=Qe.useContext(T3),p=Qe.useRef(d.styleSheet.allocateGSInstance(i)).current;return d.styleSheet.server&&c(p,u,d.styleSheet,h,d.stylis),Qe.useLayoutEffect(function(){if(!d.styleSheet.server)return c(p,u,d.styleSheet,h,d.stylis),function(){return s.removeStyles(p,d.styleSheet)}},[p,u,d.styleSheet,h,d.stylis]),null};function c(u,d,h,p,y){if(s.isStatic)s.renderStyles(u,Joe,h,y);else{var g=wi(wi({},d),{theme:_7(d,p,a.defaultProps)});s.renderStyles(u,g,h,y)}}return Qe.memo(a)}function HMe(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=gv(Bg.apply(void 0,zh([t],e,!1))),i=S3(r);return new N7(i,r)}var Ve={},Ym={exports:{}},Nce=Ym.exports,W4;function $ce(){return W4||(W4=1,(function(t,e){(function(n,r){var i="1.0.41",s="",a="?",c="function",u="undefined",d="object",h="string",p="major",y="model",g="name",b="type",v="vendor",E="version",O="architecture",k="console",A="mobile",S="tablet",C="smarttv",I="wearable",$="embedded",z=500,j="Amazon",B="Apple",G="ASUS",U="BlackBerry",F="Browser",K="Chrome",T="Edge",x="Firefox",N="Google",L="Honor",P="Huawei",H="Lenovo",D="LG",V="Microsoft",J="Motorola",X="Nvidia",Q="OnePlus",ge="Opera",we="OPPO",xe="Samsung",Ee="Sharp",$e="Sony",Fe="Xiaomi",tt="Zebra",me="Facebook",St="Chromium OS",Ht="Mac OS",gt=" Browser",li=function(At,nt){var ot={};for(var dt in At)nt[dt]&&nt[dt].length%2===0?ot[dt]=nt[dt].concat(At[dt]):ot[dt]=At[dt];return ot},qt=function(At){for(var nt={},ot=0;ot<At.length;ot++)nt[At[ot].toUpperCase()]=At[ot];return nt},Be=function(At,nt){return typeof At===h?He(nt).indexOf(He(At))!==-1:!1},He=function(At){return At.toLowerCase()},ui=function(At){return typeof At===h?At.replace(/[^\d\.]/g,s).split(".")[0]:r},di=function(At,nt){if(typeof At===h)return At=At.replace(/^\s\s*/,s),typeof nt===u?At:At.substring(0,z)},ut=function(At,nt){for(var ot=0,dt,xn,Kt,kt,Ge,kr;ot<nt.length&&!Ge;){var Hr=nt[ot],Ni=nt[ot+1];for(dt=xn=0;dt<Hr.length&&!Ge&&Hr[dt];)if(Ge=Hr[dt++].exec(At),Ge)for(Kt=0;Kt<Ni.length;Kt++)kr=Ge[++xn],kt=Ni[Kt],typeof kt===d&&kt.length>0?kt.length===2?typeof kt[1]==c?this[kt[0]]=kt[1].call(this,kr):this[kt[0]]=kt[1]:kt.length===3?typeof kt[1]===c&&!(kt[1].exec&&kt[1].test)?this[kt[0]]=kr?kt[1].call(this,kr,kt[2]):r:this[kt[0]]=kr?kr.replace(kt[1],kt[2]):r:kt.length===4&&(this[kt[0]]=kr?kt[3].call(this,kr.replace(kt[1],kt[2])):r):this[kt]=kr||r;ot+=2}},gn=function(At,nt){for(var ot in nt)if(typeof nt[ot]===d&&nt[ot].length>0){for(var dt=0;dt<nt[ot].length;dt++)if(Be(nt[ot][dt],At))return ot===a?r:ot}else if(Be(nt[ot],At))return ot===a?r:ot;return nt.hasOwnProperty("*")?nt["*"]:At},fa={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},as={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Ri={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[E,[g,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[E,[g,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[g,E],[/opios[\/ ]+([\w\.]+)/i],[E,[g,ge+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[E,[g,ge+" GX"]],[/\bopr\/([\w\.]+)/i],[E,[g,ge]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[E,[g,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[E,[g,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[g,E],[/quark(?:pc)?\/([-\w\.]+)/i],[E,[g,"Quark"]],[/\bddg\/([\w\.]+)/i],[E,[g,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[E,[g,"UC"+F]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[E,[g,"WeChat"]],[/konqueror\/([\w\.]+)/i],[E,[g,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[E,[g,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[E,[g,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[E,[g,"Smart Lenovo "+F]],[/(avast|avg)\/([\w\.]+)/i],[[g,/(.+)/,"$1 Secure "+F],E],[/\bfocus\/([\w\.]+)/i],[E,[g,x+" Focus"]],[/\bopt\/([\w\.]+)/i],[E,[g,ge+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[E,[g,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[E,[g,"Dolphin"]],[/coast\/([\w\.]+)/i],[E,[g,ge+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[E,[g,"MIUI"+gt]],[/fxios\/([\w\.-]+)/i],[E,[g,x]],[/\bqihoobrowser\/?([\w\.]*)/i],[E,[g,"360"]],[/\b(qq)\/([\w\.]+)/i],[[g,/(.+)/,"$1Browser"],E],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[g,/(.+)/,"$1"+gt],E],[/samsungbrowser\/([\w\.]+)/i],[E,[g,xe+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[E,[g,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[g,"Sogou Mobile"],E],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[g,E],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[g],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[E,g],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[g,me],E],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/(daum)apps[\/ ]([\w\.]+)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[g,E],[/\bgsa\/([\w\.]+) .*safari\//i],[E,[g,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[E,[g,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[E,[g,K+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[g,K+" WebView"],E],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[E,[g,"Android "+F]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[g,E],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[E,[g,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[E,g],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[g,[E,gn,fa]],[/(webkit|khtml)\/([\w\.]+)/i],[g,E],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[g,"Netscape"],E],[/(wolvic|librewolf)\/([\w\.]+)/i],[g,E],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[E,[g,x+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[g,[E,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[g,[E,/master.|lts./,""]]],cpu:[[/\b((amd|x|x86[-_]?|wow|win)64)\b/i],[[O,"amd64"]],[/(ia32(?=;))/i,/\b((i[346]|x)86)(pc)?\b/i],[[O,"ia32"]],[/\b(aarch64|arm(v?[89]e?l?|_?64))\b/i],[[O,"arm64"]],[/\b(arm(v[67])?ht?n?[fl]p?)\b/i],[[O,"armhf"]],[/( (ce|mobile); ppc;|\/[\w\.]+arm\b)/i],[[O,"arm"]],[/((ppc|powerpc)(64)?)( mac|;|\))/i],[[O,/ower/,s,He]],[/ sun4\w[;\)]/i],[[O,"sparc"]],[/\b(avr32|ia64(?=;)|68k(?=\))|\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\b|pa-risc)/i],[[O,He]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[y,[v,xe],[b,S]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[y,[v,xe],[b,A]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[y,[v,B],[b,A]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[y,[v,B],[b,S]],[/(macintosh);/i],[y,[v,B]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[y,[v,Ee],[b,A]],[/\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\)|;)/i],[y,[v,L],[b,S]],[/honor([-\w ]+)[;\)]/i],[y,[v,L],[b,A]],[/\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\w\. ]*(?= bui|\)))\b(?!.+d\/s)/i],[y,[v,P],[b,S]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[y,[v,P],[b,A]],[/oid[^\)]+; (2[\dbc]{4}(182|283|rp\w{2})[cgl]|m2105k81a?c)(?: bui|\))/i,/\b((?:red)?mi[-_ ]?pad[\w- ]*)(?: bui|\))/i],[[y,/_/g," "],[v,Fe],[b,S]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i,/ ([\w ]+) miui\/v?\d/i],[[y,/_/g," "],[v,Fe],[b,A]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[y,[v,we],[b,A]],[/\b(opd2(\d{3}a?))(?: bui|\))/i],[y,[v,gn,{OnePlus:["304","403","203"],"*":we}],[b,S]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[y,[v,"Vivo"],[b,A]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[y,[v,"Realme"],[b,A]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto(?! 360)[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[y,[v,J],[b,A]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[y,[v,J],[b,S]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[y,[v,D],[b,S]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv|watch)\w+)/i,/\blg-?([\d\w]+) bui/i],[y,[v,D],[b,A]],[/(ideatab[-\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\d{3,4}(?:f[cu]|xu|[av])|yt\d?-[jx]?\d+[lfmx])( bui|;|\)|\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\w- ]+?)|tb[\w-]{6,7})( bui|;|\)|\/)/i],[y,[v,H],[b,S]],[/(nokia) (t[12][01])/i],[v,y,[b,S]],[/(?:maemo|nokia).*(n900|lumia \d+|rm-\d+)/i,/nokia[-_ ]?(([-\w\. ]*))/i],[[y,/_/g," "],[b,A],[v,"Nokia"]],[/(pixel (c|tablet))\b/i],[y,[v,N],[b,S]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[y,[v,N],[b,A]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[y,[v,$e],[b,A]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[y,"Xperia Tablet"],[v,$e],[b,S]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[y,[v,Q],[b,A]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[y,[v,j],[b,S]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[y,/(.+)/g,"Fire Phone $1"],[v,j],[b,A]],[/(playbook);[-\w\),; ]+(rim)/i],[y,v,[b,S]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[y,[v,U],[b,A]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[y,[v,G],[b,S]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[y,[v,G],[b,A]],[/(nexus 9)/i],[y,[v,"HTC"],[b,S]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[v,[y,/_/g," "],[b,A]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[y,[v,"TCL"],[b,S]],[/(itel) ((\w+))/i],[[v,He],y,[b,gn,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[y,[v,"Acer"],[b,S]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[y,[v,"Meizu"],[b,A]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[y,[v,"Ulefone"],[b,A]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[y,[v,"Energizer"],[b,A]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[y,[v,"Cat"],[b,A]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[y,[v,"Smartfren"],[b,A]],[/droid.+; (a(?:015|06[35]|142p?))/i],[y,[v,"Nothing"],[b,A]],[/; (x67 5g|tikeasy \w+|ac[1789]\d\w+)( b|\))/i,/archos ?(5|gamepad2?|([\w ]*[t1789]|hello) ?\d+[\w ]*)( b|\))/i],[y,[v,"Archos"],[b,S]],[/archos ([\w ]+)( b|\))/i,/; (ac[3-6]\d\w{2,8})( b|\))/i],[y,[v,"Archos"],[b,A]],[/(imo) (tab \w+)/i,/(infinix) (x1101b?)/i],[v,y,[b,S]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (hmd|imo) ([\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w ]+?)(?: bui|\)|\/)/i,/(oppo) ?([\w ]+) bui/i],[v,y,[b,A]],[/(kobo)\s(ereader|touch)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[v,y,[b,S]],[/(surface duo)/i],[y,[v,V],[b,S]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[y,[v,"Fairphone"],[b,A]],[/(u304aa)/i],[y,[v,"AT&T"],[b,A]],[/\bsie-(\w*)/i],[y,[v,"Siemens"],[b,A]],[/\b(rct\w+) b/i],[y,[v,"RCA"],[b,S]],[/\b(venue[\d ]{2,7}) b/i],[y,[v,"Dell"],[b,S]],[/\b(q(?:mv|ta)\w+) b/i],[y,[v,"Verizon"],[b,S]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[y,[v,"Barnes & Noble"],[b,S]],[/\b(tm\d{3}\w+) b/i],[y,[v,"NuVision"],[b,S]],[/\b(k88) b/i],[y,[v,"ZTE"],[b,S]],[/\b(nx\d{3}j) b/i],[y,[v,"ZTE"],[b,A]],[/\b(gen\d{3}) b.+49h/i],[y,[v,"Swiss"],[b,A]],[/\b(zur\d{3}) b/i],[y,[v,"Swiss"],[b,S]],[/\b((zeki)?tb.*\b) b/i],[y,[v,"Zeki"],[b,S]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[v,"Dragon Touch"],y,[b,S]],[/\b(ns-?\w{0,9}) b/i],[y,[v,"Insignia"],[b,S]],[/\b((nxa|next)-?\w{0,9}) b/i],[y,[v,"NextBook"],[b,S]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[v,"Voice"],y,[b,A]],[/\b(lvtel\-)?(v1[12]) b/i],[[v,"LvTel"],y,[b,A]],[/\b(ph-1) /i],[y,[v,"Essential"],[b,A]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[y,[v,"Envizen"],[b,S]],[/\b(trio[-\w\. ]+) b/i],[y,[v,"MachSpeed"],[b,S]],[/\btu_(1491) b/i],[y,[v,"Rotor"],[b,S]],[/((?:tegranote|shield t(?!.+d tv))[\w- ]*?)(?: b|\))/i],[y,[v,X],[b,S]],[/(sprint) (\w+)/i],[v,y,[b,A]],[/(kin\.[onetw]{3})/i],[[y,/\./g," "],[v,V],[b,A]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[y,[v,tt],[b,S]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[y,[v,tt],[b,A]],[/smart-tv.+(samsung)/i],[v,[b,C]],[/hbbtv.+maple;(\d+)/i],[[y,/^/,"SmartTV"],[v,xe],[b,C]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[v,D],[b,C]],[/(apple) ?tv/i],[v,[y,B+" TV"],[b,C]],[/crkey/i],[[y,K+"cast"],[v,N],[b,C]],[/droid.+aft(\w+)( bui|\))/i],[y,[v,j],[b,C]],[/(shield \w+ tv)/i],[y,[v,X],[b,C]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[y,[v,Ee],[b,C]],[/(bravia[\w ]+)( bui|\))/i],[y,[v,$e],[b,C]],[/(mi(tv|box)-?\w+) bui/i],[y,[v,Fe],[b,C]],[/Hbbtv.*(technisat) (.*);/i],[v,y,[b,C]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[v,di],[y,di],[b,C]],[/droid.+; ([\w- ]+) (?:android tv|smart[- ]?tv)/i],[y,[b,C]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[b,C]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[v,y,[b,k]],[/droid.+; (shield)( bui|\))/i],[y,[v,X],[b,k]],[/(playstation \w+)/i],[y,[v,$e],[b,k]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[y,[v,V],[b,k]],[/\b(sm-[lr]\d\d[0156][fnuw]?s?|gear live)\b/i],[y,[v,xe],[b,I]],[/((pebble))app/i,/(asus|google|lg|oppo) ((pixel |zen)?watch[\w ]*)( bui|\))/i],[v,y,[b,I]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[y,[v,we],[b,I]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[y,[v,B],[b,I]],[/(opwwe\d{3})/i],[y,[v,Q],[b,I]],[/(moto 360)/i],[y,[v,J],[b,I]],[/(smartwatch 3)/i],[y,[v,$e],[b,I]],[/(g watch r)/i],[y,[v,D],[b,I]],[/droid.+; (wt63?0{2,3})\)/i],[y,[v,tt],[b,I]],[/droid.+; (glass) \d/i],[y,[v,N],[b,I]],[/(pico) (4|neo3(?: link|pro)?)/i],[v,y,[b,I]],[/; (quest( \d| pro)?)/i],[y,[v,me],[b,I]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[v,[b,$]],[/(aeobc)\b/i],[y,[v,j],[b,$]],[/(homepod).+mac os/i],[y,[v,B],[b,$]],[/windows iot/i],[[b,$]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[y,[b,A]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[y,[b,S]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[b,S]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[b,A]],[/droid .+?; ([\w\. -]+)( bui|\))/i],[y,[v,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[E,[g,T+"HTML"]],[/(arkweb)\/([\w\.]+)/i],[g,E],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[E,[g,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[g,E],[/ladybird\//i],[[g,"LibWeb"]],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[E,g]],os:[[/microsoft (windows) (vista|xp)/i],[g,E],[/(windows (?:phone(?: os)?|mobile|iot))[\/ ]?([\d\.\w ]*)/i],[g,[E,gn,as]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[E,gn,as],[g,"Windows"]],[/[adehimnop]{4,7}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[E,/_/g,"."],[g,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[g,Ht],[E,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[E,g],[/(ubuntu) ([\w\.]+) like android/i],[[g,/(.+)/,"$1 Touch"],E],[/(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen|webos)\w*[-\/; ]?([\d\.]*)/i],[g,E],[/\(bb(10);/i],[E,[g,U]],[/(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\/ ]?([\w\.]*)/i],[E,[g,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[E,[g,x+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[E,[g,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[E,[g,"watchOS"]],[/crkey\/([\d\.]+)/i],[E,[g,K+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[g,St],E],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux)(?: arm\w*| x86\w*| ?)([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[g,E],[/(sunos) ?([\w\.\d]*)/i],[[g,"Solaris"],E],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[g,E]]},fn=function(At,nt){if(typeof At===d&&(nt=At,At=r),!(this instanceof fn))return new fn(At,nt).getResult();var ot=typeof n!==u&&n.navigator?n.navigator:r,dt=At||(ot&&ot.userAgent?ot.userAgent:s),xn=ot&&ot.userAgentData?ot.userAgentData:r,Kt=nt?li(Ri,nt):Ri,kt=ot&&ot.userAgent==dt;return this.getBrowser=function(){var Ge={};return Ge[g]=r,Ge[E]=r,ut.call(Ge,dt,Kt.browser),Ge[p]=ui(Ge[E]),kt&&ot&&ot.brave&&typeof ot.brave.isBrave==c&&(Ge[g]="Brave"),Ge},this.getCPU=function(){var Ge={};return Ge[O]=r,ut.call(Ge,dt,Kt.cpu),Ge},this.getDevice=function(){var Ge={};return Ge[v]=r,Ge[y]=r,Ge[b]=r,ut.call(Ge,dt,Kt.device),kt&&!Ge[b]&&xn&&xn.mobile&&(Ge[b]=A),kt&&Ge[y]=="Macintosh"&&ot&&typeof ot.standalone!==u&&ot.maxTouchPoints&&ot.maxTouchPoints>2&&(Ge[y]="iPad",Ge[b]=S),Ge},this.getEngine=function(){var Ge={};return Ge[g]=r,Ge[E]=r,ut.call(Ge,dt,Kt.engine),Ge},this.getOS=function(){var Ge={};return Ge[g]=r,Ge[E]=r,ut.call(Ge,dt,Kt.os),kt&&!Ge[g]&&xn&&xn.platform&&xn.platform!="Unknown"&&(Ge[g]=xn.platform.replace(/chrome os/i,St).replace(/macos/i,Ht)),Ge},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return dt},this.setUA=function(Ge){return dt=typeof Ge===h&&Ge.length>z?di(Ge,z):Ge,this},this.setUA(dt),this};fn.VERSION=i,fn.BROWSER=qt([g,E,p]),fn.CPU=qt([O]),fn.DEVICE=qt([y,v,b,k,A,C,S,I,$]),fn.ENGINE=fn.OS=qt([g,E]),t.exports&&(e=t.exports=fn),e.UAParser=fn;var Or=typeof n!==u&&(n.jQuery||n.Zepto);if(Or&&!Or.ua){var Wr=new fn;Or.ua=Wr.getResult(),Or.ua.get=function(){return Wr.getUA()},Or.ua.set=function(At){Wr.setUA(At);var nt=Wr.getResult();for(var ot in nt)Or.ua[ot]=nt[ot]}}})(typeof window=="object"?window:Nce)})(Ym,Ym.exports)),Ym.exports}var H4;function Pce(){if(H4)return Ve;H4=1,Object.defineProperty(Ve,"__esModule",{value:!0});function t(ce){return ce&&typeof ce=="object"&&"default"in ce?ce.default:ce}var e=hg(),n=t(e),r=$ce(),i=new r,s=i.getBrowser(),a=i.getCPU(),c=i.getDevice(),u=i.getEngine(),d=i.getOS(),h=i.getUA(),p=function(Z){return i.setUA(Z)},y=function(Z){if(!Z){console.error("No userAgent string was provided");return}var re=new r(Z);return{UA:re,browser:re.getBrowser(),cpu:re.getCPU(),device:re.getDevice(),engine:re.getEngine(),os:re.getOS(),ua:re.getUA(),setUserAgent:function(ke){return re.setUA(ke)}}},g=Object.freeze({ClientUAInstance:i,browser:s,cpu:a,device:c,engine:u,os:d,ua:h,setUa:p,parseUserAgent:y});function b(ce,Z){var re=Object.keys(ce);if(Object.getOwnPropertySymbols){var be=Object.getOwnPropertySymbols(ce);Z&&(be=be.filter(function(ke){return Object.getOwnPropertyDescriptor(ce,ke).enumerable})),re.push.apply(re,be)}return re}function v(ce){for(var Z=1;Z<arguments.length;Z++){var re=arguments[Z]!=null?arguments[Z]:{};Z%2?b(Object(re),!0).forEach(function(be){S(ce,be,re[be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ce,Object.getOwnPropertyDescriptors(re)):b(Object(re)).forEach(function(be){Object.defineProperty(ce,be,Object.getOwnPropertyDescriptor(re,be))})}return ce}function E(ce){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?E=function(Z){return typeof Z}:E=function(Z){return Z&&typeof Symbol=="function"&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z},E(ce)}function O(ce,Z){if(!(ce instanceof Z))throw new TypeError("Cannot call a class as a function")}function k(ce,Z){for(var re=0;re<Z.length;re++){var be=Z[re];be.enumerable=be.enumerable||!1,be.configurable=!0,"value"in be&&(be.writable=!0),Object.defineProperty(ce,be.key,be)}}function A(ce,Z,re){return Z&&k(ce.prototype,Z),ce}function S(ce,Z,re){return Z in ce?Object.defineProperty(ce,Z,{value:re,enumerable:!0,configurable:!0,writable:!0}):ce[Z]=re,ce}function C(){return C=Object.assign||function(ce){for(var Z=1;Z<arguments.length;Z++){var re=arguments[Z];for(var be in re)Object.prototype.hasOwnProperty.call(re,be)&&(ce[be]=re[be])}return ce},C.apply(this,arguments)}function I(ce,Z){if(typeof Z!="function"&&Z!==null)throw new TypeError("Super expression must either be null or a function");ce.prototype=Object.create(Z&&Z.prototype,{constructor:{value:ce,writable:!0,configurable:!0}}),Z&&z(ce,Z)}function $(ce){return $=Object.setPrototypeOf?Object.getPrototypeOf:function(re){return re.__proto__||Object.getPrototypeOf(re)},$(ce)}function z(ce,Z){return z=Object.setPrototypeOf||function(be,ke){return be.__proto__=ke,be},z(ce,Z)}function j(ce,Z){if(ce==null)return{};var re={},be=Object.keys(ce),ke,Tt;for(Tt=0;Tt<be.length;Tt++)ke=be[Tt],!(Z.indexOf(ke)>=0)&&(re[ke]=ce[ke]);return re}function B(ce,Z){if(ce==null)return{};var re=j(ce,Z),be,ke;if(Object.getOwnPropertySymbols){var Tt=Object.getOwnPropertySymbols(ce);for(ke=0;ke<Tt.length;ke++)be=Tt[ke],!(Z.indexOf(be)>=0)&&Object.prototype.propertyIsEnumerable.call(ce,be)&&(re[be]=ce[be])}return re}function G(ce){if(ce===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ce}function U(ce,Z){if(Z&&(typeof Z=="object"||typeof Z=="function"))return Z;if(Z!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return G(ce)}function F(ce,Z){return K(ce)||T(ce,Z)||x(ce,Z)||L()}function K(ce){if(Array.isArray(ce))return ce}function T(ce,Z){var re=ce==null?null:typeof Symbol<"u"&&ce[Symbol.iterator]||ce["@@iterator"];if(re!=null){var be=[],ke=!0,Tt=!1,kn,Vr;try{for(re=re.call(ce);!(ke=(kn=re.next()).done)&&(be.push(kn.value),!(Z&&be.length===Z));ke=!0);}catch(_r){Tt=!0,Vr=_r}finally{try{!ke&&re.return!=null&&re.return()}finally{if(Tt)throw Vr}}return be}}function x(ce,Z){if(ce){if(typeof ce=="string")return N(ce,Z);var re=Object.prototype.toString.call(ce).slice(8,-1);if(re==="Object"&&ce.constructor&&(re=ce.constructor.name),re==="Map"||re==="Set")return Array.from(ce);if(re==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(re))return N(ce,Z)}}function N(ce,Z){(Z==null||Z>ce.length)&&(Z=ce.length);for(var re=0,be=new Array(Z);re<Z;re++)be[re]=ce[re];return be}function L(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var P={Mobile:"mobile",Tablet:"tablet",SmartTv:"smarttv",Console:"console",Wearable:"wearable",Embedded:"embedded",Browser:void 0},H={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",EdgeChromium:"Edge Chromium",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},D={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},V={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},J=function(Z){switch(Z){case P.Mobile:return{isMobile:!0};case P.Tablet:return{isTablet:!0};case P.SmartTv:return{isSmartTV:!0};case P.Console:return{isConsole:!0};case P.Wearable:return{isWearable:!0};case P.Browser:return{isBrowser:!0};case P.Embedded:return{isEmbedded:!0};default:return V}},X=function(Z){return p(Z)},Q=function(Z){var re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none";return Z||re},ge=function(){return typeof window<"u"&&(window.navigator||navigator)?window.navigator||navigator:!1},we=function(Z){var re=ge();return re&&re.platform&&(re.platform.indexOf(Z)!==-1||re.platform==="MacIntel"&&re.maxTouchPoints>1&&!window.MSStream)},xe=function(Z,re,be,ke,Tt){return{isBrowser:Z,browserMajorVersion:Q(re.major),browserFullVersion:Q(re.version),browserName:Q(re.name),engineName:Q(be.name),engineVersion:Q(be.version),osName:Q(ke.name),osVersion:Q(ke.version),userAgent:Q(Tt)}},Ee=function(Z,re,be,ke){return v({},Z,{vendor:Q(re.vendor),model:Q(re.model),os:Q(be.name),osVersion:Q(be.version),ua:Q(ke)})},$e=function(Z,re,be,ke){return{isSmartTV:Z,engineName:Q(re.name),engineVersion:Q(re.version),osName:Q(be.name),osVersion:Q(be.version),userAgent:Q(ke)}},Fe=function(Z,re,be,ke){return{isConsole:Z,engineName:Q(re.name),engineVersion:Q(re.version),osName:Q(be.name),osVersion:Q(be.version),userAgent:Q(ke)}},tt=function(Z,re,be,ke){return{isWearable:Z,engineName:Q(re.name),engineVersion:Q(re.version),osName:Q(be.name),osVersion:Q(be.version),userAgent:Q(ke)}},me=function(Z,re,be,ke,Tt){return{isEmbedded:Z,vendor:Q(re.vendor),model:Q(re.model),engineName:Q(be.name),engineVersion:Q(be.version),osName:Q(ke.name),osVersion:Q(ke.version),userAgent:Q(Tt)}};function St(ce){var Z=ce?y(ce):g,re=Z.device,be=Z.browser,ke=Z.engine,Tt=Z.os,kn=Z.ua,Vr=J(re.type),_r=Vr.isBrowser,Do=Vr.isMobile,rf=Vr.isTablet,Yc=Vr.isSmartTV,v0=Vr.isConsole,sf=Vr.isWearable,af=Vr.isEmbedded;if(_r)return xe(_r,be,ke,Tt,kn);if(Yc)return $e(Yc,ke,Tt,kn);if(v0)return Fe(v0,ke,Tt,kn);if(Do||rf)return Ee(Vr,re,Tt,kn);if(sf)return tt(sf,ke,Tt,kn);if(af)return me(af,re,ke,Tt,kn)}var Ht=function(Z){var re=Z.type;return re===P.Mobile},gt=function(Z){var re=Z.type;return re===P.Tablet},li=function(Z){var re=Z.type;return re===P.Mobile||re===P.Tablet},qt=function(Z){var re=Z.type;return re===P.SmartTv},Be=function(Z){var re=Z.type;return re===P.Browser},He=function(Z){var re=Z.type;return re===P.Wearable},ui=function(Z){var re=Z.type;return re===P.Console},di=function(Z){var re=Z.type;return re===P.Embedded},ut=function(Z){var re=Z.vendor;return Q(re)},gn=function(Z){var re=Z.model;return Q(re)},fa=function(Z){var re=Z.type;return Q(re,"browser")},as=function(Z){var re=Z.name;return re===D.Android},Ri=function(Z){var re=Z.name;return re===D.Windows},fn=function(Z){var re=Z.name;return re===D.MAC_OS},Or=function(Z){var re=Z.name;return re===D.WindowsPhone},Wr=function(Z){var re=Z.name;return re===D.IOS},At=function(Z){var re=Z.version;return Q(re)},nt=function(Z){var re=Z.name;return Q(re)},ot=function(Z){var re=Z.name;return re===H.Chrome},dt=function(Z){var re=Z.name;return re===H.Firefox},xn=function(Z){var re=Z.name;return re===H.Chromium},Kt=function(Z){var re=Z.name;return re===H.Edge},kt=function(Z){var re=Z.name;return re===H.Yandex},Ge=function(Z){var re=Z.name;return re===H.Safari||re===H.MobileSafari},kr=function(Z){var re=Z.name;return re===H.MobileSafari},Hr=function(Z){var re=Z.name;return re===H.Opera},Ni=function(Z){var re=Z.name;return re===H.InternetExplorer||re===H.Ie},bt=function(Z){var re=Z.name;return re===H.MIUI},os=function(Z){var re=Z.name;return re===H.SamsungBrowser},$o=function(Z){var re=Z.version;return Q(re)},qa=function(Z){var re=Z.major;return Q(re)},bu=function(Z){var re=Z.name;return Q(re)},wu=function(Z){var re=Z.name;return Q(re)},M=function(Z){var re=Z.version;return Q(re)},W=function(){var Z=ge(),re=Z&&Z.userAgent&&Z.userAgent.toLowerCase();return typeof re=="string"?/electron/.test(re):!1},te=function(Z){return typeof Z=="string"&&Z.indexOf("Edg/")!==-1},ee=function(){var Z=ge();return Z&&(/iPad|iPhone|iPod/.test(Z.platform)||Z.platform==="MacIntel"&&Z.maxTouchPoints>1)&&!window.MSStream},se=function(){return we("iPad")},le=function(){return we("iPhone")},Te=function(){return we("iPod")},Re=function(Z){return Q(Z)};function Ze(ce){var Z=ce||g,re=Z.device,be=Z.browser,ke=Z.os,Tt=Z.engine,kn=Z.ua;return{isSmartTV:qt(re),isConsole:ui(re),isWearable:He(re),isEmbedded:di(re),isMobileSafari:kr(be)||se(),isChromium:xn(be),isMobile:li(re)||se(),isMobileOnly:Ht(re),isTablet:gt(re)||se(),isBrowser:Be(re),isDesktop:Be(re),isAndroid:as(ke),isWinPhone:Or(ke),isIOS:Wr(ke)||se(),isChrome:ot(be),isFirefox:dt(be),isSafari:Ge(be),isOpera:Hr(be),isIE:Ni(be),osVersion:At(ke),osName:nt(ke),fullBrowserVersion:$o(be),browserVersion:qa(be),browserName:bu(be),mobileVendor:ut(re),mobileModel:gn(re),engineName:wu(Tt),engineVersion:M(Tt),getUA:Re(kn),isEdge:Kt(be)||te(kn),isYandex:kt(be),deviceType:fa(re),isIOS13:ee(),isIPad13:se(),isIPhone13:le(),isIPod13:Te(),isElectron:W(),isEdgeChromium:te(kn),isLegacyEdge:Kt(be)&&!te(kn),isWindows:Ri(ke),isMacOs:fn(ke),isMIUI:bt(be),isSamsungBrowser:os(be)}}var ht=qt(c),$t=ui(c),pt=He(c),xt=di(c),Xe=kr(s)||se(),tn=xn(s),nn=li(c)||se(),ir=Ht(c),vr=gt(c)||se(),Hn=Be(c),on=Be(c),Vn=as(d),Gn=Or(d),Ns=Wr(d)||se(),ha=ot(s),ct=dt(s),bn=Ge(s),wt=Hr(s),cn=Ni(s),Rr=At(d),Po=nt(d),pa=$o(s),Jd=qa(s),wp=bu(s),Qd=ut(c),ef=gn(c),ma=wu(u),$i=M(u),d0=Re(h),I_=Kt(s)||te(h),vp=kt(s),f0=fa(c),tf=ee(),C_=se(),Pi=le(),_p=Te(),h0=W(),Ep=te(h),Hc=Kt(s)&&!te(h),p0=Ri(d),m0=fn(d),Vc=bt(s),O_=os(s),y0=function(Z){if(!Z||typeof Z!="string"){console.error("No valid user agent string was provided");return}var re=y(Z),be=re.device,ke=re.browser,Tt=re.os,kn=re.engine,Vr=re.ua;return Ze({device:be,browser:ke,os:Tt,engine:kn,ua:Vr})},g0=function(Z){var re=Z.renderWithFragment,be=Z.children,ke=B(Z,["renderWithFragment","children"]);return Vn?re?n.createElement(e.Fragment,null,be):n.createElement("div",ke,be):null},Sp=function(Z){var re=Z.renderWithFragment,be=Z.children,ke=B(Z,["renderWithFragment","children"]);return Hn?re?n.createElement(e.Fragment,null,be):n.createElement("div",ke,be):null},k_=function(Z){var re=Z.renderWithFragment,be=Z.children,ke=B(Z,["renderWithFragment","children"]);return cn?re?n.createElement(e.Fragment,null,be):n.createElement("div",ke,be):null},R_=function(Z){var re=Z.renderWithFragment,be=Z.children,ke=B(Z,["renderWithFragment","children"]);return Ns?re?n.createElement(e.Fragment,null,be):n.createElement("div",ke,be):null},nf=function(Z){var re=Z.renderWithFragment,be=Z.children,ke=B(Z,["renderWithFragment","children"]);return nn?re?n.createElement(e.Fragment,null,be):n.createElement("div",ke,be):null},ya=function(Z){var re=Z.renderWithFragment,be=Z.children,ke=B(Z,["renderWithFragment","children"]);return vr?re?n.createElement(e.Fragment,null,be):n.createElement("div",ke,be):null},Ap=function(Z){var re=Z.renderWithFragment,be=Z.children,ke=B(Z,["renderWithFragment","children"]);return Gn?re?n.createElement(e.Fragment,null,be):n.createElement("div",ke,be):null},xp=function(Z){var re=Z.renderWithFragment,be=Z.children;Z.viewClassName,Z.style;var ke=B(Z,["renderWithFragment","children","viewClassName","style"]);return ir?re?n.createElement(e.Fragment,null,be):n.createElement("div",ke,be):null},Gc=function(Z){var re=Z.renderWithFragment,be=Z.children,ke=B(Z,["renderWithFragment","children"]);return ht?re?n.createElement(e.Fragment,null,be):n.createElement("div",ke,be):null},Kc=function(Z){var re=Z.renderWithFragment,be=Z.children,ke=B(Z,["renderWithFragment","children"]);return $t?re?n.createElement(e.Fragment,null,be):n.createElement("div",ke,be):null},b0=function(Z){var re=Z.renderWithFragment,be=Z.children,ke=B(Z,["renderWithFragment","children"]);return pt?re?n.createElement(e.Fragment,null,be):n.createElement("div",ke,be):null},Tp=function(Z){var re=Z.renderWithFragment,be=Z.children;Z.viewClassName,Z.style;var ke=Z.condition,Tt=B(Z,["renderWithFragment","children","viewClassName","style","condition"]);return ke?re?n.createElement(e.Fragment,null,be):n.createElement("div",Tt,be):null};function w0(ce){return(function(Z){I(re,Z);function re(be){var ke;return O(this,re),ke=U(this,$(re).call(this,be)),ke.isEventListenerAdded=!1,ke.handleOrientationChange=ke.handleOrientationChange.bind(G(ke)),ke.onOrientationChange=ke.onOrientationChange.bind(G(ke)),ke.onPageLoad=ke.onPageLoad.bind(G(ke)),ke.state={isLandscape:!1,isPortrait:!1},ke}return A(re,[{key:"handleOrientationChange",value:function(){this.isEventListenerAdded||(this.isEventListenerAdded=!0);var ke=window.innerWidth>window.innerHeight?90:0;this.setState({isPortrait:ke===0,isLandscape:ke===90})}},{key:"onOrientationChange",value:function(){this.handleOrientationChange()}},{key:"onPageLoad",value:function(){this.handleOrientationChange()}},{key:"componentDidMount",value:function(){(typeof window>"u"?"undefined":E(window))!==void 0&&nn&&(this.isEventListenerAdded?window.removeEventListener("load",this.onPageLoad,!1):(this.handleOrientationChange(),window.addEventListener("load",this.onPageLoad,!1)),window.addEventListener("resize",this.onOrientationChange,!1))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onOrientationChange,!1)}},{key:"render",value:function(){return n.createElement(ce,C({},this.props,{isLandscape:this.state.isLandscape,isPortrait:this.state.isPortrait}))}}]),re})(n.Component)}function vu(){var ce=e.useState(function(){var Tt=window.innerWidth>window.innerHeight?90:0;return{isPortrait:Tt===0,isLandscape:Tt===90,orientation:Tt===0?"portrait":"landscape"}}),Z=F(ce,2),re=Z[0],be=Z[1],ke=e.useCallback(function(){var Tt=window.innerWidth>window.innerHeight?90:0,kn={isPortrait:Tt===0,isLandscape:Tt===90,orientation:Tt===0?"portrait":"landscape"};re.orientation!==kn.orientation&&be(kn)},[re.orientation]);return e.useEffect(function(){return(typeof window>"u"?"undefined":E(window))!==void 0&&nn&&(ke(),window.addEventListener("load",ke,!1),window.addEventListener("resize",ke,!1)),function(){window.removeEventListener("resize",ke,!1),window.removeEventListener("load",ke,!1)}},[ke]),re}function $s(ce){var Z=ce||window.navigator.userAgent;return y(Z)}function Ip(ce){var Z=ce||window.navigator.userAgent,re=$s(Z),be=Ze(re);return[be,re]}return Ve.AndroidView=g0,Ve.BrowserTypes=H,Ve.BrowserView=Sp,Ve.ConsoleView=Kc,Ve.CustomView=Tp,Ve.IEView=k_,Ve.IOSView=R_,Ve.MobileOnlyView=xp,Ve.MobileView=nf,Ve.OsTypes=D,Ve.SmartTVView=Gc,Ve.TabletView=ya,Ve.WearableView=b0,Ve.WinPhoneView=Ap,Ve.browserName=wp,Ve.browserVersion=Jd,Ve.deviceDetect=St,Ve.deviceType=f0,Ve.engineName=ma,Ve.engineVersion=$i,Ve.fullBrowserVersion=pa,Ve.getSelectorsByUserAgent=y0,Ve.getUA=d0,Ve.isAndroid=Vn,Ve.isBrowser=Hn,Ve.isChrome=ha,Ve.isChromium=tn,Ve.isConsole=$t,Ve.isDesktop=on,Ve.isEdge=I_,Ve.isEdgeChromium=Ep,Ve.isElectron=h0,Ve.isEmbedded=xt,Ve.isFirefox=ct,Ve.isIE=cn,Ve.isIOS=Ns,Ve.isIOS13=tf,Ve.isIPad13=C_,Ve.isIPhone13=Pi,Ve.isIPod13=_p,Ve.isLegacyEdge=Hc,Ve.isMIUI=Vc,Ve.isMacOs=m0,Ve.isMobile=nn,Ve.isMobileOnly=ir,Ve.isMobileSafari=Xe,Ve.isOpera=wt,Ve.isSafari=bn,Ve.isSamsungBrowser=O_,Ve.isSmartTV=ht,Ve.isTablet=vr,Ve.isWearable=pt,Ve.isWinPhone=Gn,Ve.isWindows=p0,Ve.isYandex=vp,Ve.mobileModel=ef,Ve.mobileVendor=Qd,Ve.osName=Po,Ve.osVersion=Rr,Ve.parseUserAgent=y,Ve.setUserAgent=X,Ve.useDeviceData=$s,Ve.useDeviceSelectors=Ip,Ve.useMobileOrientation=vu,Ve.withOrientationChange=w0,Ve}var Mc=Pce();let Dce=class extends Mn{constructor(){super("Wallet timeout"),this.type="wallet_error"}};const hu=t=>t instanceof Mn?t:t?.code?new io(t):new Mn("Unknown connector error",t);let Uce=class extends fu{constructor(e,n,r){super(e),this.type="provider_error",this.code=n,this.data=r}},io=class extends Uce{constructor(e){super(e.message,e.code,e.data);let n=Object.values(nh).find((r=>r.eipCode===e.code));this.details=n||nh.UNKNOWN_ERROR,e.code===-32002&&(e.message?.includes("already pending for origin")?e.message?.includes("wallet_requestPermissions")?this.details=nh.E32002_CONNECTION_ALREADY_PENDING:this.details=nh.E32002_REQUEST_ALREADY_PENDING:e.message?.includes("Already processing")&&e.message.includes("eth_requestAccounts")&&(this.details=nh.E32002_WALLET_LOCKED))}};const YMe={ERROR_USER_EXISTS:{message:"User already exists for this address",detail:"Try another address!",retryable:!1},ERROR_TIMED_OUT:{message:"Wallet request timed out",detail:"Please try connecting again.",retryable:!0},ERROR_WALLET_CONNECTION:{message:"Could not log in with wallet",detail:"Please try connecting again.",retryable:!0},ERROR_USER_LIMIT_REACHED:{message:"Unable to link",detail:"You've reached the maximum number of linked wallets.",retryable:!1},...nh};let M7=class{get(e){let n=localStorage.getItem(e);return n===null?void 0:JSON.parse(n)}put(e,n){n!==void 0?localStorage.setItem(e,JSON.stringify(n)):this.del(e)}del(e){localStorage.removeItem(e)}getKeys(){return Object.entries(localStorage).map((([e])=>e))}};function N6(){try{let t="privy:__session_storage__test",e=new M7;return e.put(t,"blobby"),e.del(t),!0}catch{return!1}}var rt=typeof window<"u"&&window.localStorage?new M7:new class{get(t){return this._cache[t]}put(t,e){e!==void 0?this._cache[t]=e:this.del(t)}del(t){delete this._cache[t]}getKeys(){return Object.keys(this._cache)}constructor(){this._cache={}}};let B7=class extends jd{constructor(e){super(),this.walletClientType=e,this.connected=!1,this.initialized=!1}};const xw=()=>{let t=rt.get(ZL);return t&&Array.isArray(t)&&t.map((e=>(n=>n&&typeof n.address=="string"&&typeof n.connectorType=="string"&&typeof n.walletClientType=="string"&&typeof n.connectedAt=="number")(e))).every(Boolean)?t:[]};let Mce=["phantom","glow","solflare","backpack","okx_wallet","walletconnect","mobile_wallet_adapter","jupiter"];function Bce(t){return t.toLowerCase().split(" ").join("_")}let Lce=class extends B7{get isInstalled(){return!0}get wallet(){return this._wallet}buildConnectedWallet(){return this._wallet.accounts.map((e=>({type:"solana",provider:new Gse({wallet:this._wallet,account:e}),address:e.address,connectedAt:Date.now(),walletClientType:this._wallet.name,connectorType:this.connectorType,imported:!1,meta:{name:this._wallet.name,id:this._wallet.name,icon:this._wallet.icon},isConnected:async()=>this._wallet.accounts.length>0,disconnect:async()=>{await this.disconnect()}})))}async syncAccounts(){this.wallets=this.buildConnectedWallet(),this.emit("walletsUpdated")}get walletBranding(){return{id:V4(this.wallet)?"walletconnect_solana":this.wallet.name,name:this.wallet.name,icon:this.wallet.icon}}async initialize(){this.subscribeListeners(),await this.syncAccounts(),this.shouldAttemptAutoConnect()&&(await this.wallet.features["standard:connect"]?.connect({silent:!0}).catch((()=>{})),await this.isConnected()&&await this.syncAccounts()),this.initialized=!0,this.emit("initialized")}async connect(e){if(e.showPrompt)try{await this.promptConnection()}catch(n){throw this._wallet.accounts.length===0?new C4:n}if(!await this.isConnected())throw new C4;return await this.syncAccounts(),this.getConnectedWallet()}async getConnectedWallet(){return this.wallets.sort(((e,n)=>n.connectedAt-e.connectedAt))[0]||null}async isConnected(){return this._wallet.accounts.length>0}subscribeListeners(){this._unsubscribeListeners=this.wallet.features["standard:events"]?.on("change",this.onChange)}unsubscribeListeners(){this._unsubscribeListeners?.()}shouldAttemptAutoConnect(){return!(!this.autoConnectEnabled||!Mce.includes(this.walletClientType))&&(this.walletClientType!=="phantom"&&this.walletClientType.toLowerCase()!=="metamask"||xw().some((({walletClientType:e})=>e==="phantom"||e.toLowerCase()==="metamask")))}constructor(e,n){super(Bce(V4(e)?"walletconnect_solana":e.name)),this.chainType="solana",this.connectorType="solana_adapter",this.disconnect=async()=>{await this.wallet.features["standard:disconnect"]?.disconnect().catch((r=>console.error("Error disconnecting",r))),await this.syncAccounts()},this.promptConnection=async()=>{try{await this.wallet.features["standard:connect"]?.connect()}catch(r){throw hu(r)}},this.onChange=()=>{this.syncAccounts()},this._wallet=e,this.autoConnectEnabled=n,this.wallets=[]}};function V4(t){return"isWalletConnectSolana"in t&&t.isWalletConnectSolana}const QMe=({style:t,...e})=>{let n=Ro();return pe.jsxs("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"28px",width:"28px",...t},...e,children:[pe.jsx("rect",{width:"28",height:"28",rx:"3",fill:n?.appearance.palette.colorScheme==="dark"?"#3396ff":"#141414"}),pe.jsx("g",{clipPath:"url(#clip0_1765_9946)",children:pe.jsx("path",{d:"M8.09448 10.3941C11.3558 7.20196 16.6442 7.20196 19.9055 10.3941L20.2982 10.7782C20.3369 10.8157 20.3677 10.8606 20.3887 10.9102C20.4097 10.9599 20.4206 11.0132 20.4206 11.0671C20.4206 11.121 20.4097 11.1744 20.3887 11.224C20.3677 11.2737 20.3369 11.3186 20.2982 11.3561L18.9554 12.6702C18.9158 12.7086 18.8628 12.7301 18.8077 12.7301C18.7526 12.7301 18.6996 12.7086 18.66 12.6702L18.1198 12.1415C15.8448 9.91503 12.1557 9.91503 9.88015 12.1415L9.30167 12.7075C9.26207 12.7459 9.20909 12.7673 9.15395 12.7673C9.0988 12.7673 9.04582 12.7459 9.00622 12.7075L7.66346 11.3934C7.62475 11.3559 7.59397 11.3109 7.57295 11.2613C7.55193 11.2117 7.5411 11.1583 7.5411 11.1044C7.5411 11.0505 7.55193 10.9971 7.57295 10.9475C7.59397 10.8979 7.62475 10.8529 7.66346 10.8154L8.09448 10.3941ZM22.6829 13.1115L23.8776 14.2814C23.9163 14.319 23.9471 14.3639 23.9681 14.4135C23.9892 14.4632 24 14.5165 24 14.5704C24 14.6243 23.9892 14.6777 23.9681 14.7273C23.9471 14.777 23.9163 14.8219 23.8776 14.8594L18.4893 20.1332C18.4102 20.2101 18.3042 20.2531 18.1938 20.2531C18.0835 20.2531 17.9775 20.2101 17.8984 20.1332L14.0743 16.3901C14.0545 16.3708 14.0279 16.36 14.0003 16.36C13.9726 16.36 13.9461 16.3708 13.9263 16.3901L10.1021 20.1332C10.023 20.2101 9.91703 20.2531 9.8067 20.2531C9.69636 20.2531 9.59038 20.2101 9.51124 20.1332L4.12236 14.8594C4.08365 14.8219 4.05287 14.777 4.03185 14.7273C4.01083 14.6777 4 14.6243 4 14.5704C4 14.5165 4.01083 14.4632 4.03185 14.4135C4.05287 14.3639 4.08365 14.319 4.12236 14.2814L5.31767 13.1115C5.39678 13.0348 5.50265 12.9919 5.61285 12.9919C5.72305 12.9919 5.82892 13.0348 5.90803 13.1115L9.73216 16.8546C9.75194 16.874 9.7785 16.8848 9.80616 16.8848C9.83381 16.8848 9.86037 16.874 9.88015 16.8546L13.7043 13.1115C13.7834 13.0346 13.8894 12.9916 13.9997 12.9916C14.1101 12.9916 14.216 13.0346 14.2952 13.1115L18.1198 16.8546C18.1396 16.874 18.1662 16.8848 18.1938 16.8848C18.2215 16.8848 18.2481 16.874 18.2678 16.8546L22.092 13.1115C22.1711 13.0346 22.2771 12.9916 22.3874 12.9916C22.4977 12.9916 22.6037 13.0346 22.6829 13.1115Z",fill:"white"})}),pe.jsx("defs",{children:pe.jsx("clipPath",{id:"clip0_1765_9946",children:pe.jsx("rect",{width:"20",height:"12.2531",fill:"white",transform:"translate(4 8)"})})})]})},jce="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAHdElNRQfoDAIVODUC+w+GAAAGsUlEQVRYw6WXbYwWVxXHf+fOLAtCXYS2QJdIaClipGCTknXXNqBQMVHbfmhItH4Aral+IAEaG03UxJgYKQJGTUxtDWjaxDSNtcZqIGDwpRuW1oYiVqpdpZSlpC3qysu+PHPP3w/3mXnmeXZbPzjJZO7cefn/z/mfe865xlscq3dGDIguGiHLaMQVLja4s87FShcLo5jtApdddnHexUmHIy475JmdUkPRAQMu7gzT4ljnxJpdk0QPmMFkyAKN2OfOFpc2uuh1J3MZDrjAvXmVEQUuoosRxw642FcEG7IoDxiFxNiu8NYE+vcUYIFYRKKs113bXWx2Z34CoQZsVHOiCZ7mopdzdsFhv8NexEgRDHMxUSNREbh1bwNZwBsFblmfu/a4a6AEENYO5i3AOoEWeEUCF4MOOxBDMQAOk99OJALA2u80sBCwWGBZWG/yRwMaCAbBIAsQTJT3gea1OWfNeaPzvjoHEI85rA8ObtB1v7cIdJkIHgkh9AXpocy0LJjIKvB2wPpZB0v3wkrw5jdNEjeYeMhFX3BAyfn2ke9NUrgB9LrrcZcGJFCld4fWNddXbvbWfWzGR6xJFZsBGh0cBh3bBIxIEGTQ3W0h4NuDaSAzyAxCmGq11Vzf5uaa1aG8p+WFtrEYQGwvjICJkAEqvC+YNmcmMlMNvEaCdrcbyUvQAWDTjVuESHObM6cPGWHmzDwLaEtmzG9Z3qF1zUpXmuuZBb1z4bqeNC6f0WE1NtUTwHzEloiy3BvFisy0sYoLlQtT6XW15md2Qf9SY+2Ngfdca/TMSm/9ewz+/Boc/It45h/i4kSTsKw90SQJsPTvjSZbkWemDW7qTRZ0JEYJWSKxZJ7xmf6M224MzMzbX1s8F1YugjtvMg6eErt/4/z1jUrz1rXUKxnZC2zIg2mdBTK1mFUOKC1fOt/48kdzVixIz86Nij+eEacvpJWyZJ5xy7th8VzjjpuMJfMCW58QL73ekXPVlhsyE+vyzFiplJyauEIyrGIquruMq7qTxk+dcB495rzyTzFepCUWLIFv/kBg081Gd55WUk1IDGFTS89K++TDYxddzKnWcbluHd450xgdh7EGrOo1rr868PMTzqWJRGZ2d8oB/xpL33Xnxl2rjeNn4blXRXduzJ4B5y+28kWscAwXl+yeR654FFZPHoUb710YuPeDOUdPO48di1xptKpeEeHqOcYXNwQKGd88EDk3mqxtxPSfGRlsXRtYt8z4ytPOH/7eqpg1Aso7fYKgK4NPrMpYvsC4/poMA34yVJIQC3sCD9yecdsNyaV5yPj6ryJnR1PAvSNP4J+/1cgDfLbfePaMGGtM7Qdyl12WmKOmXgKKAp54vmBRTxfLrjE+tSYjBPjRM5FrrzIeuD2jf2lLzw8vN4JlfPVp581LsO1DgXv7jSzAiXPw/d+JiYLpjsu26Yfjf5O0rF5WoxsNT9G/bX0XKxakmPjlSee6HlizJJXSX7/oRDc+vjKR+f2wODcKd78/gR8/C9uedF44myJxmhh4OY/ipMQyqaWxmjn95TfEroMFOzbkvG+RceeqViPx1Aln1yEnOow1AnffHCpJAJ5/Vex4UvzptZRdY/O/1dJIS/NkcNmR6MTYah6qzseA4TfFtw4UvHBW1bc/O+7sPhwZHYf/jMODh5yfPudVbXj2TAJ/8XxrOZagNamj4Ei2/GNfuyRxh8t6BG2l15up+MIVODEiFr8rcPS0+O6RBF6mrrEGHHtFzOo2Lo7Dl37hvPQ6mNV6R9JYKgnYWcE37K5HlE2OT/5A0udaPUBHH+BQOMzuNsYLuDyZflTW+fTcmJFDHhJhaZqewMuewXDxcDR9IYyPN6Jj+6K4MF2vV8qBtZJScqVRNi6lpGONVJis5mpKi1WbgwsY+zIsBpcR8mzIZfuTRVZrtdu9odrptR/Xx5XONXJqBmCN0P6YMUQq9WJiwt0Je102WHdbpxSqydMObBWYdwDWLVcqcIMYe3NPjg0Ht84od0Ajju1w2XCr9e6QoqM9V23ZtnmI6cfAMMb9AY0YEHdb6oobEh4y3H3Ize6LsmGvN5IdUnhttdQ9UVrfLk/ljWEZ9wXsqAdQk1EA+O22GcgdZTke/bAs3OPY4HSdcB20HhvVtTMu0jmI8ekAhz2IICj2hKpNqI60NcuIRUHEej1quzubXa2tmZhenrfZmv3YYQ9ipDAIgvHptmblccuDjdRcmjFpWbDi/9ycZjZkRbk5jYztai/AUwiUx+qdEQB/m+25i9lxyvbcjrg45Lmd0uT/3p7/Fw6ODf+WO019AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDI0LTEyLTAyVDIxOjU2OjQ4KzAwOjAwMVpslgAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyNC0xMi0wMlQyMTo1Njo0OCswMDowMEAH1CoAAAAodEVYdGRhdGU6dGltZXN0YW1wADIwMjQtMTItMDJUMjE6NTY6NTMrMDA6MDDZv6GRAAAAAElFTkSuQmCC";function L1(t){return["ethereum","solana"].includes(t.chainType)}function L7(t){let e=t.replace("eip155:","");if(e)return parseInt(e);throw Error("Chain ID not compatible with CAIP-2 format.")}const I3=t=>t.filter((e=>e.method==="wallets"||(e.method==="exchange"?e.provider==="coinbase":e.method==="card"||e.method==="payment-request"?e.provider==="coinbase"||e.provider==="moonpay":(e.method,!1)))),G4={[rp.id]:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",[zU.id]:"0x1c7D4B196Cb0C7B01d743Fbc6116a902379C7238",[bT.id]:"0x0b2c639c533813f4aa9d7837caf62653d097ff85",[LU.id]:"0x5fd84259d66Cd46123540766Be93DFE6D43130D7",[gg.id]:"0x3c499c542cef5e3811e1192ce70d8cc03d5c3359",[jU.id]:"0x41e94eb019c0762f9bfcf9fb1e58725bfb0e7582",[yg.id]:"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",[BU.id]:"0x036CbD53842c5426634e7929541eC2318f3dCF7e",[mg.id]:"0xB97EF9Ef8734C71904D8002F8b6Bc66Dd9c48a6E",[MU.id]:"0x5425890298aed601595a70ab815c96711a31bc65",[pg.id]:"0xaf88d065e77c8cC2239327C5EDb3A432268e5831",[UU.id]:"0x75faf114eafb1BDbe2F0316DF893fd58CE46AA4d"},K4=({address:t,appConfig:e,fundWalletConfig:n,methodScreen:r,chainIdOverride:i,comingFromSendTransactionScreen:s=!1,onComplete:a,onError:c})=>{let u,d;if(!e.fundingConfig)throw Error("Wallet funding is not enabled");let h=I3(e.fundingConfig.options);if(h.length<1)throw Error("Wallet funding is not enabled");u=i||(n?.chain?n.chain.id:L7(e.fundingConfig.defaultRecommendedCurrency.chain));let p=e.chains.find((E=>E.id===u));if(!p)throw new ae(`Funding chain ${u} is not in PrivyProvider chains list`);let y=n?.amount??e.fundingConfig.defaultRecommendedAmount,g=!1;function b(){if(!u)return;let E=G4[u];h.find((O=>O.method==="wallets"))&&!E&&console.warn("Attempting to fund with USDC on chain where USDC address is not known. Funding via external wallet will be disabled."),d=E,g=!0}n&&"asset"in n?n.asset==="USDC"?b():typeof n.asset!="string"&&"erc20"in n.asset&&(g=((E,O)=>E===G4[O.id])(d=n.asset.erc20,p)):e.fundingConfig.defaultRecommendedCurrency.asset==="USDC"&&b();let v=n?.defaultFundingMethod;return{chainType:"ethereum",address:t,amount:y,chain:p,erc20Address:d,erc20ContractInfo:g?{symbol:"USDC",decimals:6}:void 0,isUSDC:g,methodScreen:r,supportedOptions:h,comingFromSendTransactionScreen:s,defaultFundingMethod:v,usingDefaultFundingMethod:!!v,preferredCardProvider:n?.card?.preferredProvider,crossChainBridgingEnabled:e.fundingConfig.crossChainBridgingEnabled??!1,solanaChain:"solana:mainnet",uiConfig:n&&"uiConfig"in n?n.uiConfig:void 0,externalSolanaFundingScreen:null,onComplete:a??(()=>{}),onError:c??(()=>{})}};function eBe({address:t,fundWalletConfig:e,appConfig:n,comingFromSendTransactionScreen:r,externalSolanaFundingScreen:i,methodScreen:s}){if(!n.fundingConfig)throw Error("Wallet funding is not enabled");let a=I3(n.fundingConfig.options);if(a.length<1)throw Error("Wallet funding is not enabled");let c=e?.amount??n.fundingConfig.defaultRecommendedAmount,u=e?.defaultFundingMethod;return{chainType:"solana",address:t,supportedOptions:a,amount:c,isUSDC:e?.asset==="USDC",methodScreen:s,comingFromSendTransactionScreen:r,chain:e?.chain||"solana:mainnet",crossChainBridgingEnabled:n.fundingConfig.crossChainBridgingEnabled??!1,defaultFundingMethod:u,preferredCardProvider:e?.card?.preferredProvider,usingDefaultFundingMethod:!!u,uiConfig:e?.uiConfig,externalSolanaFundingScreen:i,onComplete:()=>{},onError:()=>{}}}const zce={login:{onComplete:[],onError:[]},logout:{onSuccess:[]},connectWallet:{onSuccess:[],onError:[]},connectOrCreateWallet:{onSuccess:[],onError:[]},createWallet:{onSuccess:[],onError:[]},linkAccount:{onSuccess:[],onError:[]},update:{onSuccess:[],onError:[]},configureMfa:{onMfaRequired:[]},setWalletPassword:{onSuccess:[],onError:[]},setWalletRecovery:{onSuccess:[],onError:[]},signMessage:{onSuccess:[],onError:[]},signTypedData:{onSuccess:[],onError:[]},sendTransaction:{onSuccess:[],onError:[]},signTransaction:{onSuccess:[],onError:[]},accessToken:{onAccessTokenGranted:[],onAccessTokenRemoved:[]},oAuthAuthorization:{onOAuthTokenGrant:[]},fundWallet:{onUserExited:[]},fundSolanaWallet:{onUserExited:[]},customAuth:{onAuthenticated:[],onUnauthenticated:[]}},j7=Y.createContext(void 0);let z7=()=>Y.useContext(j7);function j1(t,e){if(!e)return;let n=z7().current[t];return Y.useEffect((()=>{for(let[r,i]of Object.entries(e))Object.prototype.hasOwnProperty.call(n,r)||console.warn(`Invalid event type "${r}" for action "${t}"`),n[r]?.push(i);return()=>{for(let[r,i]of Object.entries(e))Object.prototype.hasOwnProperty.call(n,r)||console.warn(`Invalid event type "${r}" for action "${t}"`),n[r]=n[r]?.filter((s=>s!==i))}}),[e])}function Ce(t,e,n,...r){for(let i of t.current[e][n])i(...r)}function z1(){let t=z7();return(e,n,...r)=>Ce(t,e,n,...r)}const vv=(t,e,n,r)=>{let i=Number(t),s=e.find((a=>a.id===i));if(!s)throw new Mn(`Unsupported chainId ${t}`,4901);return h3({transport:O1(F7(s,n,r.appId)),chain:s})},F7=(t,e,n)=>{let r,i=t.id,s=Number(t.id);if(t.rpcUrls.privyWalletOverride&&t.rpcUrls.privyWalletOverride.http[0])r=t.rpcUrls.privyWalletOverride.http[0];else if(e.rpcUrls&&e.rpcUrls[s])r=e.rpcUrls[s];else if(t.rpcUrls.privy?.http[0]){let a=new URL(t.rpcUrls.privy.http[0]);a.searchParams.append("privyAppId",n),r=a.toString()}else r=t.rpcUrls.public?.http[0]?t.rpcUrls.public.http[0]:t.rpcUrls.default?.http[0];if(!r)throw new Mn(`No RPC url found for ${i}`);return r},_v=t=>{if(t.chainType==="ethereum")return{entropyId:t.address,entropyIdVerifier:"ethereum-address-verifier"};if(t.chainType==="solana")return{entropyId:t.address,entropyIdVerifier:"solana-address-verifier"};throw Error("Failed to get account entropy details")},Bl=(t,e)=>{if(e?.imported)return _v(e);let n=Hy(t);if(!n)throw Error("Failed to find primary wallet");return _v(n)},q7=Y.createContext(null);function W7(){let t=Y.useContext(q7);return t===null?(console.warn("`useWallets` was called outside the PrivyProvider component"),{wallets:[],ready:!1}):t}const Ky=Fd((()=>({listings:[],loading:!1}))),IS=Ky.setState,Fce=t=>Ky.getState().listings.find((({slug:e})=>Ev(e)===Ev(t))),CS=t=>{let e;try{e=new URL(t).hostname}catch{return}return Ky.getState().listings.find((({homepage:n})=>{let r;try{r=new URL(n).hostname}catch{return!1}return e.includes(r)}))},H7=(t=!0)=>{let e=Ro(),n=Ky((s=>s.listings)),r=Ky((s=>s.loading)),i=!!n.length;return Y.useEffect((()=>{t&&!i&&(IS({listings:[],loading:!0}),(async s=>{let a=new URL("v3/wallets","https://explorer-api.walletconnect.com");a.searchParams.append("projectId",s);let c=await fetch(a);return c.ok?Object.values((await c.json()).listings).sort((({slug:u},{slug:d})=>u==="rainbow"&&d==="metamask"?1:u==="metamask"||u==="rainbow"?-1:1)):(console.debug(`Failed to fetch WalletConnect listings: ${await c.text().catch((()=>"No response."))}`),[])})(e.walletConnectCloudProjectId).then((s=>IS({listings:s,loading:!1}))).catch((s=>{console.error(s),IS({listings:[],loading:!1})})))}),[t,i,e.walletConnectCloudProjectId]),{listings:n,loading:r}},tBe=t=>{let{listings:e}=H7();return e.find((({slug:n})=>Ev(n)===Ev(t)))};function Ev(t){return t==="cryptocom"?"cryptocom-defi":t==="binance"?"binance-defi":t.replace(/[-_]wallet$/,"")}function $6(t){return["wallet_connect","backpack","binance","binanceus","bitget_wallet","bybit_wallet","cryptocom","haha_wallet","jupiter","metamask","okx_wallet","phantom","rabby_wallet","rainbow","ronin_wallet","safe","solflare","uniswap","zerion","kraken_wallet"].some((e=>t?.includes(e)))}const V7=t=>t.isApexWallet?"Apex Wallet":t.isAvalanche?"Core Wallet":t.isBackpack?"Backpack":t.isBifrost?"Bifrost Wallet":t.isBitKeep?"BitKeep":t.isBitski?"Bitski":t.isBlockWallet?"BlockWallet":t.isBraveWallet?"Brave Wallet":t.isClover?"Clover":t.isCoin98?"Coin98 Wallet":t.isCoinbaseWallet?"Coinbase Wallet":t.isDawn?"Dawn Wallet":t.isDefiant?"Defiant":t.isDesig?"Desig Wallet":t.isEnkrypt?"Enkrypt":t.isExodus?"Exodus":t.isFordefi?"Fordefi":t.isFrame?"Frame":t.isFrontier?"Frontier Wallet":t.isGamestop?"GameStop Wallet":t.isHaqqWallet?"HAQQ Wallet":t.isHyperPay?"HyperPay Wallet":t.isImToken?"ImToken":t.isHaloWallet?"Halo Wallet":t.isKuCoinWallet?"KuCoin Wallet":t.isMathWallet?"MathWallet":t.isNovaWallet?"Nova Wallet":t.isOkxWallet||t.isOKExWallet?"OKX Wallet":t.isOneInchIOSWallet||t.isOneInchAndroidWallet?"1inch Wallet":t.isOneKey?"OneKey Wallet":t.isOpera?"Opera":t.isPhantom||"isPhantom"in t?"Phantom":t.isPortal?"Ripio Portal":t.isRabby?"Rabby Wallet":t.isRainbow?"Rainbow":t.isSafePal?"SafePal Wallet":t.isStatus?"Status":t.isSubWallet?"SubWallet":t.isTalisman?"Talisman":t.isTally||t.isTaho?"Taho":t.isTokenPocket?"TokenPocket":t.isTokenary?"Tokenary":t.isTrust||t.isTrustWallet?"Trust Wallet":t.isTTWallet?"TTWallet":t.isXDEFI?"XDEFI Wallet":t.isZeal?"Zeal":t.isZerion?"Zerion":t.isMetaMask?"MetaMask":void 0,G7=(t,e)=>{if(!t.isMetaMask)return!1;if(t.isMetaMask&&!e)return!0;if(t.isBraveWallet&&!t._events&&!t._state||V7(t)!=="MetaMask")return!1;if(t.providers){for(let n of t.providers)if(!G7(n))return!1}return!0},nBe=()=>{let t=window;if(!t.ethereum)return!1;if(t.ethereum.isCoinbaseWallet)return!0;if(t.ethereum.providers){for(let e of t.ethereum.providers)if(e&&e.isCoinbaseWallet)return!0}return!1},rBe=(t,e)=>{let n=[],r=[];for(let[i,s]of t.entries())i<e?n.push(s):r.push(s);return[n,r]},iBe=t=>!!String(t).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),sBe=(t,e)=>{let n=t.slice(0),r=[];for(;n.length;)r.push(n.splice(0,e));return r},qce=(t,e=3,n=4,r="ethereum")=>{if(!t)return"";let i=r==="ethereum"?2:0;return e+n+i+3>=t.length?t:`${t.slice(0,i+e)}...${t.slice(t.length-n,t.length)}`},aBe=(t,e=3,n=4)=>qce(t,e,n,"solana"),Sv=t=>new Promise((e=>setTimeout(e,t)));function Y4(t,{interval:e=100,timeout:n=5e3}={}){return new Promise(((r,i)=>{let s,a=0,c=()=>{a>=n?i("Max attempts reached without result"):(s=t(),a+=e,s==null?setTimeout(c,e):r(s))};c()}))}const P6=(t,e={})=>{let n=e.delayMs||150,r=e.maxAttempts||270;return new Promise((async(i,s)=>{let a=!1,c=0;for(;!a&&c<r;){if(e.abortSignal?.aborted)return;t().then((u=>{a=!0,i(u)}),((...u)=>{a=!0,s(...u)})),c+=1,await Sv(n)}a||s(Error("Exceeded max attempts before resolving function"))}))},Wce=t=>t.replace(/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g,""),D6=t=>typeof t=="string"?t:"0x"+t.toString(16);async function Hce({store:t,walletList:e,externalWalletConfig:n,walletChainType:r,timeout:i=3e3}){let s=!1,a=window;return new Promise((c=>{function u(){if(s)return;s=!0,window.removeEventListener("ethereum#initialized",u);let d=t.getProviders();console.debug("Detected injected providers:",d.map((p=>p.info)));let h=[];for(let p of d)e.includes("coinbase_wallet")&&p.info.rdns==="com.coinbase.wallet"||r==="solana-only"&&p.info.rdns==="app.phantom"||h.push({type:p.info.name.toLowerCase().replace(/\s/g,"_"),eip6963InjectedProvider:p});if(r!=="solana-only")for(let p of(function(){let y=window,g=y.ethereum;if(!g)return[];let b=[];if(g.providers?.length)for(let v of g.providers)v&&b.push(v);return b.push(y.ethereum),b})()){let y=V7(p);if(!d.some((g=>g.info.name===y))){if(G7(p,!0)&&!h.find((g=>g.type==="metamask"))){h.push({type:"metamask",legacyInjectedProvider:p});continue}if(y==="Phantom"&&!h.find((g=>g.type==="phantom"))){h.push({type:"phantom",legacyInjectedProvider:p});continue}if(y==="Coinbase Wallet"&&!h.find((g=>g.type==="coinbase_wallet"&&n.coinbaseWallet?.config?.preference?.options!=="smartWalletOnly"))){h.push({type:"coinbase_wallet",legacyInjectedProvider:p});continue}h.find((g=>g.type==="unknown_browser_extension"))||h.push({type:"unknown_browser_extension",legacyInjectedProvider:p})}}c(h)}a.ethereum?u():(window.addEventListener("ethereum#initialized",u,{once:!0}),setTimeout((()=>{u()}),i))}))}function oy(t){return`eip155:${String(Number(t))}`}const Vce=(t,e,n,r)=>{let i=Number(t),s=e.find((a=>a.id===i));if(!s)throw new Mn(`Unsupported chainId ${t}`,4901);return F7(s,n,r)},oBe=(t,e)=>{let n=Number(t),r=e.find((i=>i.id===n));if(!r)throw new Mn(`Unsupported chainId ${t}`,4901);return r.blockExplorers?.default.url},Tw=t=>{let e={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},n=t.types.EIP712Domain??Object.entries(t.domain).map((([r,i])=>{if(i!=null&&typeof r=="string"&&r in e)return{name:r,type:e[r]}})).filter((r=>r!==void 0));return{...t,types:{...t.types,EIP712Domain:n}}};function cBe(t,{min:e,max:n}){return Math.min(Math.max(t,e),n)}function Ll(t){return t.type==="ethereum"}function K7(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],i=e[n];if(r?.address!==i?.address||r&&i&&Ll(r)&&Ll(i)&&r?.chainId!==i?.chainId||r?.connectorType!==i?.connectorType||r?.connectedAt!==i?.connectedAt||r?.walletClientType!==i?.walletClientType||r?.isConnected!==i?.isConnected||r?.linked!==i?.linked)return!1}return!0}const C3=(t,e)=>t.rpcTimeouts&&t.rpcTimeouts[e]||N1;function gm(t){return t.chainType==="ethereum"}let qd=class extends B7{buildConnectedWallet(e,n,r,i){let s=async()=>!!this.wallets.find((a=>ri(a.address)===ri(e)));return{type:"ethereum",address:ri(e),chainId:n,meta:r,imported:i,switchChain:async a=>{let c,u;if(!s)throw new Mn("Wallet is not currently connected.");let d=this.wallets.find((y=>ri(y.address)===ri(e)))?.chainId;if(!d)throw new Mn("Unable to determine current chainId.");if(typeof a=="number"?(c=`0x${a.toString(16)}`,u=a):(c=a,u=Number(a)),d===oy(c))return;let h=this.chains.find((y=>y.id===u));if(!h)throw new Mn(`Unsupported chainId: ${a}`);let p=async()=>{await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[{chainId:c}]})};try{return await p()}catch(y){if(((g,b)=>{switch(b){case"coinbase_wallet":case"base_account":return g.message.includes("addEthereumChain");case"rabby_wallet":return g.message.includes("Unrecognized chain ID");default:return g.code===4902||g.message?.includes("4902")}})(y,this.walletClientType))return this.walletClientType==="rabby_wallet"&&await Sv(300),await this.proxyProvider.request({method:"wallet_addEthereumChain",params:[{chainId:c,chainName:h.name,nativeCurrency:h.nativeCurrency,rpcUrls:[h.rpcUrls.default?.http[0]??""],blockExplorerUrls:[h.blockExplorers?.default.url??""]}]}),p();throw this.walletClientType==="rainbow"&&y.message?.includes("wallet_switchEthereumChain")?new Mn(`Rainbow does not support the chainId ${n}`):y}},connectedAt:Date.now(),walletClientType:this.walletClientType,connectorType:this.connectorType,isConnected:s,getEthereumProvider:async()=>{if(!await s())throw new Mn("Wallet is not currently connected.");return this.proxyProvider},sign:async a=>{if(!await s())throw new Mn("Wallet is not currently connected.");return await this.sign(a)},disconnect:()=>{this.disconnect()}}}async syncAccounts(e){let n,r=e;try{if(r===void 0){let u=await P6((()=>this.proxyProvider.request({method:"eth_accounts"})),{maxAttempts:10,delayMs:500});console.debug(`eth_accounts for ${this.walletClientType}:`,u),Array.isArray(u)&&(r=u)}}catch(u){console.debug("Wallet did not respond to eth_accounts. Defaulting to prefetched accounts.",u)}if(!r||!Array.isArray(r)||r.length<=0||!r[0])return;let i=r[0];if(!Cn(i))return void console.warn(`Invalid ethereum address reported by ${this.walletClientType}: ${i}`);let s=ri(i),a=[];if(this.walletClientType==="privy"){let u=rt.get(wS(s));this.chains.find((d=>d.id===Number(u)))||(rt.del(wS(s)),u=null),n=u||`0x${this.defaultChain.id.toString(16)}`;try{await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[{chainId:n}]})}catch{console.warn(`Unable to switch embedded wallet to chain ID ${n} on initialization`)}}else try{let u=await P6((()=>this.proxyProvider.request({method:"eth_chainId"})),{maxAttempts:10,delayMs:500});if(console.debug(`eth_chainId for ${this.walletClientType}:`,u),typeof u=="string")n=u;else{if(typeof u!="number")throw Error("Invalid chainId returned from provider");n=`0x${u.toString(16)}`}}catch(u){console.warn(`Failed to get chainId from provider, defaulting to ${S4}`,u),n=S4}let c=oy(n);if(!a.find((u=>ri(u.address)===s))){let u={name:this.walletBranding.name,icon:typeof this.walletBranding.icon=="string"?this.walletBranding.icon:void 0,id:this.walletBranding.id};a.push(this.buildConnectedWallet(ri(i),c,u,this.connectorType==="embedded_imported"))}K7(a,this.wallets)||(this.wallets=a,this.emit("walletsUpdated"))}async getConnectedWallet(){let e=await this.proxyProvider.request({method:"eth_accounts"});return this.wallets.sort(((n,r)=>r.connectedAt-n.connectedAt)).find((n=>e.find((r=>ri(r)===ri(n.address)))))||null}async isConnected(){let e=await this.proxyProvider.request({method:"eth_accounts"});return Array.isArray(e)&&e.length>0}async sign(e){return await this.connect({showPrompt:!1}),this.proxyProvider.request({method:"personal_sign",params:[Et(e),this.wallets[0]?.address]})}subscribeListeners(){this.proxyProvider.on("accountsChanged",this.onAccountsChanged),this.proxyProvider.on("chainChanged",this.onChainChanged),this.proxyProvider.on("disconnect",this.onDisconnect),this.proxyProvider.on("connect",this.onConnect)}unsubscribeListeners(){this.proxyProvider.removeListener("accountsChanged",this.onAccountsChanged),this.proxyProvider.removeListener("chainChanged",this.onChainChanged),this.proxyProvider.removeListener("disconnect",this.onDisconnect),this.proxyProvider.removeListener("connect",this.onConnect)}constructor(e,n,r,i){super(e),this.chainType="ethereum",this.onAccountsChanged=s=>{s.length===0?this.onDisconnect():this.syncAccounts(s)},this.onChainChanged=s=>{this.wallets.forEach((a=>{a.chainId=oy(s),this.walletClientType==="privy"&&rt.put(wS(a.address),s)})),this.emit("walletsUpdated")},this.onDisconnect=()=>{this.connected=!1,this.wallets=[],this.emit("walletsUpdated")},this.onConnect=async()=>{this.connectorType==="base_account"&&this.connected||(this.connected=!0,this.connectorType==="coinbase_wallet"&&await Sv(500),this.syncAccounts())},this.wallets=[],this.walletClientType=e,this.chains=n,this.defaultChain=r,this.rpcConfig=i,this.rpcTimeoutDuration=C3(i,e),this.connected=!1,this.initialized=!1}},Wd=class{on(e,n){if(this.walletProvider)return this.walletProvider.on(e,n);this._subscriptions.push({eventName:e,listener:n})}async request(e){if(!this.walletProvider)throw new Mn(`A wallet request of type ${e.method} was made before setting a wallet provider.`);return Promise.race([this.walletProvider.request(e),this.walletTimeout()]).catch((n=>{throw hu(n)}))}constructor(e,n){this.removeListener=(r,i)=>{if(this.walletProvider)try{return this.walletProvider.removeListener(r,i)}catch{console.warn("Unable to remove wallet provider listener")}},this.walletTimeout=(r=new Dce,i=this.rpcTimeoutDuration)=>new Promise(((s,a)=>setTimeout((()=>{a(r)}),i))),this.setWalletProvider=r=>{this.walletProvider&&this._subscriptions.forEach((i=>{this.removeListener(i.eventName,i.listener)})),this.walletProvider=r,this._subscriptions.forEach((i=>{this.walletProvider?.on(i.eventName,i.listener)}))},this.walletProvider=e,this.rpcTimeoutDuration=n||N1,this._subscriptions=[]}};const Gce=t=>{let[e,n]=Y.useState("auto");return Y.useEffect((()=>{let r=new ResizeObserver((i=>{n(i[0]?.contentRect.height??"auto")}));return t.current&&r.observe(t.current),()=>{t.current&&r.unobserve(t.current)}}),[t.current]),e},dBe=qn.div.withConfig({displayName:"Grow",componentId:"sc-681ff332-0"})(["text-align:left;flex-grow:1;"]),fBe=qn.div.withConfig({displayName:"AlignBottom",componentId:"sc-681ff332-1"})(["display:flex;flex-direction:column;justify-content:flex-end;flex-grow:1;"]),Kce=qn.div.withConfig({displayName:"LoginMethodContainer",componentId:"sc-681ff332-2"})(["display:flex;flex-direction:column;gap:8px;-ms-overflow-style:none;scrollbar-width:none;&::-webkit-scrollbar{display:none;}"]),hBe=qn(Kce).withConfig({displayName:"LoginMethodContainerWithScrollShadows",componentId:"sc-681ff332-3"})([""," background-repeat:no-repeat;background-size:100% 32px,100% 16px;background-attachment:local,scroll;max-height:400px;overflow-y:auto;scrollbar-width:none;padding:3px;"],(t=>t.$colorScheme==="light"?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(0, 0, 0, 0) 20%, rgba(0, 0, 0, 0.06)) bottom;":t.$colorScheme==="dark"?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(255, 255, 255, 0) 20%, rgba(255, 255, 255, 0.06)) bottom;":void 0));let Yce=Bg(["&&{width:100%;font-size:16px;line-height:24px;min-height:56px;@media (min-width:440px){font-size:14px;}display:flex;gap:12px;align-items:center;color:var(--privy-color-foreground);padding:10px 12px;border:1px solid var(--privy-color-foreground-4) !important;border-radius:var(--privy-border-radius-md);transition:background-color 200ms ease;cursor:pointer;&:hover{background-color:var(--privy-color-background-2);}&:disabled{cursor:pointer;background-color:var(--privy-color-background-2);}}"]);const pBe=qn.div.withConfig({displayName:"Subtitle",componentId:"sc-681ff332-4"})(["text-align:center;font-size:14px;margin-bottom:24px;"]),mBe=qn.button.attrs({className:"login-method-button"}).withConfig({displayName:"LoginMethodButton",componentId:"sc-681ff332-5"})(["",""],Yce),yBe=qn.div.withConfig({displayName:"LoginMethodIconWrapper",componentId:"sc-681ff332-7"})(["width:32px;height:32px;border-radius:",";background:",";display:flex;align-items:center;justify-content:center;flex-shrink:0;svg{width:",";height:",";color:",";}"],(t=>t.$fullSize?"0":"4px"),(t=>t.$fullSize?"transparent":"var(--privy-color-background-2)"),(t=>t.$fullSize?"32px":"18px"),(t=>t.$fullSize?"32px":"18px"),(t=>t.$fullSize?"inherit":"var(--privy-color-icon-muted)")),Y7=qn.div.withConfig({displayName:"Hide",componentId:"sc-681ff332-8"})(["width:100%;height:100%;min-height:inherit;display:flex;flex-direction:column;",""],(t=>t.$if?"display: none;":"")),gBe=qn.div.withConfig({displayName:"EmptyWalletState",componentId:"sc-681ff332-9"})(["width:100%;height:100%;padding:",";"],(t=>t.$withPadding?"64px 0px":"0px")),bBe=qn.div.withConfig({displayName:"Header",componentId:"sc-681ff332-10"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-bottom:32px;gap:12px;& h3{font-size:18px;font-style:normal;font-weight:600;line-height:24px;}& p{max-width:300px;font-size:14px;font-style:normal;font-weight:400;line-height:20px;}"]),wBe=({success:t,fail:e})=>pe.jsxs(Zce,{children:[pe.jsx(Z4,{children:pe.jsx(Xce,{className:t?"success":e?"fail":""})}),pe.jsx(Z4,{children:pe.jsx(F1,{className:t?"success":e?"fail":""})})]});let Z4=qn.span.withConfig({displayName:"PositionedAbsoluteLoader",componentId:"sc-aba6339d-0"})(["&&{position:absolute;top:0;left:0;z-index:2;}"]),Zce=qn.span.withConfig({displayName:"ConnectionLoaderContainer",componentId:"sc-aba6339d-1"})(["position:relative;width:82px;height:82px;display:inline-block;"]);const F1=qn.span.withConfig({displayName:"Loader",componentId:"sc-aba6339d-2"})(["&&{width:82px;height:82px;border-width:4px;border-style:solid;border-color:",";border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:rotation 1.2s linear infinite;transition:border-color 800ms;}@keyframes rotation{0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}}&&&.success{border-color:var(--privy-color-icon-success);border-bottom-color:var(--privy-color-icon-success);}&&&.fail{border-color:var(--privy-color-icon-error);border-bottom-color:var(--privy-color-icon-error);}"],(t=>t.color??"var(--privy-color-icon-subtle)")),Xce=qn(F1).withConfig({displayName:"LoaderFaint",componentId:"sc-aba6339d-3"})(["&&{border-bottom-color:",";border-color:",";animation:none;opacity:0.5;}"],(t=>t.color??"var(--privy-color-border-default)"),(t=>t.color??"var(--privy-color-border-default)")),vBe=t=>pe.jsx(Jce,{color:t.color||"var(--privy-color-foreground-3)"});let Jce=qn(F1).withConfig({displayName:"StyledButtonLoader",componentId:"sc-aba6339d-4"})(["&&{height:1rem;width:1rem;margin:2px 0;border-width:1.5px;transition:border-color 200ms ease;}"]);const Qce=["metamask","phantom","brave_wallet","rainbow","uniswap_wallet_extension","uniswap_extension","rabby_wallet","bybit_wallet","ronin_wallet","haha_wallet","crypto.com_wallet_extension","crypto.com_onchain","binance","bitget_wallet","coinbase_wallet","coinbase_smart_wallet","base_account","metamask","trust","safe","rainbow","uniswap","zerion","argent","spot","omni","cryptocom","blockchain","safepal","bitget_wallet","zengo","1inch","binance","exodus","mew_wallet","alphawallet","keyring_pro","mathwallet","unstoppable","obvious","ambire","internet_money_wallet","coin98","abc_wallet","arculus_wallet","haha","cling_wallet","broearn","copiosa","burrito_wallet","enjin_wallet","plasma_wallet","avacus","bee","pitaka","pltwallet","minerva","kryptogo","prema","slingshot","kriptonio","timeless","secux","bitizen","blocto","okx_wallet","safemoon","rabby_wallet","bybit_wallet","ronin_wallet","haha_wallet","privy","unknown","phantom","solflare","glow","backpack","jupiter","mobile_wallet_adapter"],Z7=Object.freeze({phantom:{client:"phantom",name:"Phantom",installLink:Mc.isFirefox?"https://addons.mozilla.org/en-US/firefox/addon/phantom-app/":"https://chrome.google.com/webstore/detail/phantom/bfnaelmomeimhlpmgjnjophhpkkoljpa?hl=en",chainTypes:["ethereum","solana"],get isInstalled(){if("phantom"in window){let t=window;if(t?.phantom?.ethereum?.isPhantom&&t?.phantom?.ethereum?.chainId||t?.phantom?.solana?.isPhantom)return!0}return!1},getMobileRedirect({useUniversalLink:t,isSolana:e,connectOnly:n}){let r=bm({client:this.client,isSolana:e,connectOnly:n});return`${t?"phantom://":"https://phantom.app/ul/"}browse/${r}?ref=${r}`}},solflare:{client:"solflare",name:"Solflare",installLink:Mc.isFirefox?"https://addons.mozilla.org/es/firefox/addon/solflare-wallet/":"https://chromewebstore.google.com/detail/solflare-wallet/bhhhlbepdkbapadjdnnojkbgioiodbic",chainTypes:["solana"],get isInstalled(){return"solflare"in window&&!!window?.solflare?.isSolflare},getMobileRedirect({useUniversalLink:t,isSolana:e,connectOnly:n}){let r=bm({client:this.client,isSolana:e,connectOnly:n});return`${t?"solflare://ul/v1/":"https://solflare.com/ul/v1/"}browse/${r}?ref=${r}`}},jupiter:{client:"jupiter",name:"Jupiter Wallet",installLink:"https://chromewebstore.google.com/detail/jupiter-wallet/iledlaeogohbilgbfhmbgkgmpplbfboh",chainTypes:["solana"],get isInstalled(){return"jupiter"in window&&!!window?.jupiter?.isJupiter},getMobileRedirect({isSolana:t,connectOnly:e}){let n=bm({client:this.client,isSolana:t,connectOnly:e});return`jupjupjup://jup.ag/browse/${n}?ref=${n}`}},backpack:{client:"backpack",name:"Backpack",installLink:"https://chromewebstore.google.com/detail/backpack/aflkmfhebedbjioipglgcbcmnbpgliof",chainTypes:["ethereum","solana"],get isInstalled(){return!(!("backpack"in window)||!window?.backpack?.ethereum?.isBackpack&&!window?.backpack?.solana?.isBackpack)},getMobileRedirect({useUniversalLink:t,isSolana:e,connectOnly:n}){let r=bm({client:this.client,isSolana:e,connectOnly:n});return`${t?"backpack://ul/v1/":"https://backpack.app/ul/v1/"}browse/${r}?ref=${r}`}},okx_wallet:{client:"okx_wallet",name:"OKX Wallet",installLink:"https://chromewebstore.google.com/detail/okx-wallet/mcohilncbfahbmgdjkbpemcciiolgcge",chainTypes:["ethereum","solana"],get isInstalled(){return"okxwallet"in window&&!!window?.okxwallet?.isOkxWallet},getMobileRedirect({isSolana:t,connectOnly:e}){return`okx://wallet/dapp/url?dappUrl=${bm({client:this.client,isSolana:t,connectOnly:e})}`}}});function ele({connectorType:t,walletClientType:e}){for(let n of Qce)if(t===n||e===n)return Z7[n]}function bm({client:t,isSolana:e,connectOnly:n}){let r=new URL(window.location.href);return r.searchParams.set("privy_connector",e?"solana_adapter":"injected"),r.searchParams.set("privy_wallet_client",t),r.searchParams.set("privy_connect_only",String(n)),encodeURIComponent(r.href.replace(/\/$/g,""))}let tle=class extends Lce{get walletBranding(){return{id:this.id,name:this.name,icon:this.icon}}async initialize(){this.initialized=!0,this.emit("initialized")}async connect(){throw Error("connect called for an uninstalled wallet via the SolanaNullConnector")}constructor({id:e,name:n,icon:r}){super({name:n},!1),this.connectorType="null",this.proxyProvider=new Wd(void 0,N1),this.disconnect=async()=>{throw Error("disconnect called for an uninstalled wallet via the SolanaNullConnector")},this.promptConnection=async()=>{throw Error("promptConnection called for an uninstalled wallet via the SolanaNullConnector")},this.id=e,this.name=n,this.icon=r}};function nle(t){return t.chainType==="solana"}function rle(t){return t.type==="solana"}let X7=Y.createContext({});const ile=({children:t})=>{let e=Ro(),[n,r]=Y.useState({});return j1("login",{onComplete:({loginAccount:i})=>{i&&i.type!=="passkey"&&i.type!=="cross_app"&&(i.type!=="wallet"||i.walletClientType!=="privy")&&(rt.put(X4(e.id),i.type),i.type==="wallet"?(rt.put(OS(e.id),i.walletClientType),rt.put(kS(e.id),i.chainType),r({accountType:i.type,walletClientType:i.walletClientType,chainType:i.chainType})):(rt.del(OS(e.id)),rt.del(kS(e.id)),r({accountType:i.type})))}}),Y.useEffect((()=>{if(!e.id)return;let i=rt.get(X4(e.id)),s=rt.get(OS(e.id)),a=rt.get(kS(e.id));i&&r(i==="wallet"?{accountType:i,walletClientType:s,chainType:a}:{accountType:i})}),[e.id]),pe.jsx(X7.Provider,{value:n,children:t})};let X4=t=>`privy:${t}:recent-login-method`,OS=t=>`privy:${t}:recent-login-wallet-client`,kS=t=>`privy:${t}:recent-login-chain-type`;const EBe=()=>Y.useContext(X7);let sle=class extends qd{get walletBranding(){return{id:this.id,name:this.name,icon:this.icon}}async initialize(){this.initialized=!0,this.emit("initialized")}async connect(){throw Error("connect called for an uninstalled wallet via the EthereumNullConnector")}disconnect(){throw Error("disconnect called for an uninstalled wallet via the EthereumNullConnector")}promptConnection(e){throw Error(`promptConnection called for an uninstalled wallet via the EthereumNullConnector for ${e}`)}constructor({id:e,name:n,icon:r,walletClientType:i,defaultChain:s}){super(i,[],s,{}),this.connectorType="null",this.proxyProvider=new Wd(void 0,N1),this.id=e,this.name=n,this.icon=r}};const ale=({...t})=>pe.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",...t,children:[pe.jsx("rect",{width:"32",height:"32",rx:"6",fill:"#121314"}),pe.jsx("g",{transform:"translate(4, 4)",children:pe.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 318.6 318.6",children:[pe.jsx("style",{children:".s1{stroke-linecap:round;stroke-linejoin:round}.s2{fill:#e4761b;stroke:#e4761b}.s3{fill:#f6851b;stroke:#f6851b}"}),pe.jsx("path",{fill:"#e2761b",stroke:"#e2761b",className:"s1",d:"m274.1 35.5-99.5 73.9L193 65.8z"}),pe.jsx("path",{d:"m44.4 35.5 98.7 74.6-17.5-44.3zm193.9 171.3-26.5 40.6 56.7 15.6 16.3-55.3zm-204.4.9L50.1 263l56.7-15.6-26.5-40.6z",className:"s1 s2"}),pe.jsx("path",{d:"m103.6 138.2-15.8 23.9 56.3 2.5-2-60.5zm111.3 0-39-34.8-1.3 61.2 56.2-2.5zM106.8 247.4l33.8-16.5-29.2-22.8zm71.1-16.5 33.9 16.5-4.7-39.3z",className:"s1 s2"}),pe.jsx("path",{fill:"#d7c1b3",stroke:"#d7c1b3",className:"s1",d:"m211.8 247.4-33.9-16.5 2.7 22.1-.3 9.3zm-105 0 31.5 14.9-.2-9.3 2.5-22.1z"}),pe.jsx("path",{fill:"#233447",stroke:"#233447",className:"s1",d:"m138.8 193.5-28.2-8.3 19.9-9.1zm40.9 0 8.3-17.4 20 9.1z"}),pe.jsx("path",{fill:"#cd6116",stroke:"#cd6116",className:"s1",d:"m106.8 247.4 4.8-40.6-31.3.9zM207 206.8l4.8 40.6 26.5-39.7zm23.8-44.7-56.2 2.5 5.2 28.9 8.3-17.4 20 9.1zm-120.2 23.1 20-9.1 8.2 17.4 5.3-28.9-56.3-2.5z"}),pe.jsx("path",{fill:"#e4751f",stroke:"#e4751f",className:"s1",d:"m87.8 162.1 23.6 46-.8-22.9zm120.3 23.1-1 22.9 23.7-46zm-64-20.6-5.3 28.9 6.6 34.1 1.5-44.9zm30.5 0-2.7 18 1.2 45 6.7-34.1z"}),pe.jsx("path",{d:"m179.8 193.5-6.7 34.1 4.8 3.3 29.2-22.8 1-22.9zm-69.2-8.3.8 22.9 29.2 22.8 4.8-3.3-6.6-34.1z",className:"s3"}),pe.jsx("path",{fill:"#c0ad9e",stroke:"#c0ad9e",className:"s1",d:"m180.3 262.3.3-9.3-2.5-2.2h-37.7l-2.3 2.2.2 9.3-31.5-14.9 11 9 22.3 15.5h38.3l22.4-15.5 11-9z"}),pe.jsx("path",{fill:"#161616",stroke:"#161616",className:"s1",d:"m177.9 230.9-4.8-3.3h-27.7l-4.8 3.3-2.5 22.1 2.3-2.2h37.7l2.5 2.2z"}),pe.jsx("path",{fill:"#763d16",stroke:"#763d16",className:"s1",d:"m278.3 114.2 8.5-40.8-12.7-37.9-96.2 71.4 37 31.3 52.3 15.3 11.6-13.5-5-3.6 8-7.3-6.2-4.8 8-6.1zM31.8 73.4l8.5 40.8-5.4 4 8 6.1-6.1 4.8 8 7.3-5 3.6 11.5 13.5 52.3-15.3 37-31.3-96.2-71.4z"}),pe.jsx("path",{d:"m267.2 153.5-52.3-15.3 15.9 23.9-23.7 46 31.2-.4h46.5zm-163.6-15.3-52.3 15.3-17.4 54.2h46.4l31.1.4-23.6-46zm71 26.4 3.3-57.7 15.2-41.1h-67.5l15 41.1 3.5 57.7 1.2 18.2.1 44.8h27.7l.2-44.8z",className:"s3"})]})})]});function ABe(t){let{logout:e}=Y.useContext(up);return j1("logout",t),{logout:e}}const ole=Fd((()=>({isModalOpen:!1,resolvers:null})));Fd((()=>({})));const xBe=({address:t,client:e,appId:n})=>{let r=`${e}:${t}`;n&&rt.put(cle(n),r),ole.setState({wallet:r})},cle=t=>`privy:${t}:active-wallet-connection`;class Ao{constructor(e,n){this.scope=e,this.module=n}storeObject(e,n){this.setItem(e,JSON.stringify(n))}loadObject(e){const n=this.getItem(e);return n?JSON.parse(n):void 0}setItem(e,n){localStorage.setItem(this.scopedKey(e),n)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),n=[];for(let r=0;r<localStorage.length;r++){const i=localStorage.key(r);typeof i=="string"&&i.startsWith(e)&&n.push(i)}n.forEach(r=>localStorage.removeItem(r))}scopedKey(e){return`-${this.scope}${this.module?`:${this.module}`:""}:${e}`}static clearAll(){new Ao("CBWSDK").clear(),new Ao("walletlink").clear()}}const Qn={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901,unsupportedChain:4902}},U6={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."},4902:{standard:"EIP-3085",message:"Unrecognized chain ID."}},J7="Unspecified error message.",lle="Unspecified server error.";function O3(t,e=J7){if(t&&Number.isInteger(t)){const n=t.toString();if(M6(U6,n))return U6[n].message;if(Q7(t))return lle}return e}function ule(t){if(!Number.isInteger(t))return!1;const e=t.toString();return!!(U6[e]||Q7(t))}function dle(t,{shouldIncludeStack:e=!1}={}){const n={};if(t&&typeof t=="object"&&!Array.isArray(t)&&M6(t,"code")&&ule(t.code)){const r=t;n.code=r.code,r.message&&typeof r.message=="string"?(n.message=r.message,M6(r,"data")&&(n.data=r.data)):(n.message=O3(n.code),n.data={originalError:J4(t)})}else n.code=Qn.rpc.internal,n.message=Q4(t,"message")?t.message:J7,n.data={originalError:J4(t)};return e&&(n.stack=Q4(t,"stack")?t.stack:void 0),n}function Q7(t){return t>=-32099&&t<=-32e3}function J4(t){return t&&typeof t=="object"&&!Array.isArray(t)?Object.assign({},t):t}function M6(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Q4(t,e){return typeof t=="object"&&t!==null&&e in t&&typeof t[e]=="string"}const Vt={rpc:{parse:t=>qs(Qn.rpc.parse,t),invalidRequest:t=>qs(Qn.rpc.invalidRequest,t),invalidParams:t=>qs(Qn.rpc.invalidParams,t),methodNotFound:t=>qs(Qn.rpc.methodNotFound,t),internal:t=>qs(Qn.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return qs(e,t)},invalidInput:t=>qs(Qn.rpc.invalidInput,t),resourceNotFound:t=>qs(Qn.rpc.resourceNotFound,t),resourceUnavailable:t=>qs(Qn.rpc.resourceUnavailable,t),transactionRejected:t=>qs(Qn.rpc.transactionRejected,t),methodNotSupported:t=>qs(Qn.rpc.methodNotSupported,t),limitExceeded:t=>qs(Qn.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>qf(Qn.provider.userRejectedRequest,t),unauthorized:t=>qf(Qn.provider.unauthorized,t),unsupportedMethod:t=>qf(Qn.provider.unsupportedMethod,t),disconnected:t=>qf(Qn.provider.disconnected,t),chainDisconnected:t=>qf(Qn.provider.chainDisconnected,t),unsupportedChain:t=>qf(Qn.provider.unsupportedChain,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:n,data:r}=t;if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string');return new nj(e,n,r)}}};function qs(t,e){const[n,r]=ej(e);return new tj(t,n||O3(t),r)}function qf(t,e){const[n,r]=ej(e);return new nj(t,n||O3(t),r)}function ej(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:n}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,n]}}return[]}class tj extends Error{constructor(e,n,r){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string.');super(n),this.code=e,r!==void 0&&(this.data=r)}}class nj extends tj{constructor(e,n,r){if(!fle(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,n,r)}}function fle(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function k3(){return t=>t}const Yy=k3(),hle=k3(),ple=k3();function yc(t){return Math.floor(t)}const rj=/^[0-9]*$/,ij=/^[a-f0-9]*$/;function Ku(t){return R3(crypto.getRandomValues(new Uint8Array(t)))}function R3(t){return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}function Iw(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>Number.parseInt(e,16)))}function cy(t,e=!1){const n=t.toString("hex");return Yy(e?`0x${n}`:n)}function RS(t){return cy(B6(t),!0)}function Za(t){return ple(t.toString(10))}function Jl(t){return Yy(`0x${BigInt(t).toString(16)}`)}function sj(t){return t.startsWith("0x")||t.startsWith("0X")}function N3(t){return sj(t)?t.slice(2):t}function aj(t){return sj(t)?`0x${t.slice(2)}`:`0x${t}`}function q1(t){if(typeof t!="string")return!1;const e=N3(t).toLowerCase();return ij.test(e)}function mle(t,e=!1){if(typeof t=="string"){const n=N3(t).toLowerCase();if(ij.test(n))return Yy(e?`0x${n}`:n)}throw Vt.rpc.invalidParams(`"${String(t)}" is not a hexadecimal string`)}function $3(t,e=!1){let n=mle(t,!1);return n.length%2===1&&(n=Yy(`0${n}`)),e?Yy(`0x${n}`):n}function El(t){if(typeof t=="string"){const e=N3(t).toLowerCase();if(q1(e)&&e.length===40)return hle(aj(e))}throw Vt.rpc.invalidParams(`Invalid Ethereum address: ${String(t)}`)}function B6(t){if(Buffer.isBuffer(t))return t;if(typeof t=="string"){if(q1(t)){const e=$3(t,!1);return Buffer.from(e,"hex")}return Buffer.from(t,"utf8")}throw Vt.rpc.invalidParams(`Not binary data: ${String(t)}`)}function ly(t){if(typeof t=="number"&&Number.isInteger(t))return yc(t);if(typeof t=="string"){if(rj.test(t))return yc(Number(t));if(q1(t))return yc(Number(BigInt($3(t,!0))))}throw Vt.rpc.invalidParams(`Not an integer: ${String(t)}`)}function wm(t){if(t!==null&&(typeof t=="bigint"||gle(t)))return BigInt(t.toString(10));if(typeof t=="number")return BigInt(ly(t));if(typeof t=="string"){if(rj.test(t))return BigInt(t);if(q1(t))return BigInt($3(t,!0))}throw Vt.rpc.invalidParams(`Not an integer: ${String(t)}`)}function yle(t){if(typeof t=="string")return JSON.parse(t);if(typeof t=="object")return t;throw Vt.rpc.invalidParams(`Not a JSON string or an object: ${String(t)}`)}function gle(t){if(t==null||typeof t.constructor!="function")return!1;const{constructor:e}=t;return typeof e.config=="function"&&typeof e.EUCLID=="number"}async function ble(){return crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!0,["deriveKey"])}async function wle(t,e){return crypto.subtle.deriveKey({name:"ECDH",public:e},t,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}async function vle(t,e){const n=crypto.getRandomValues(new Uint8Array(12)),r=await crypto.subtle.encrypt({name:"AES-GCM",iv:n},t,new TextEncoder().encode(e));return{iv:n,cipherText:r}}async function _le(t,{iv:e,cipherText:n}){const r=await crypto.subtle.decrypt({name:"AES-GCM",iv:e},t,n);return new TextDecoder().decode(r)}function oj(t){switch(t){case"public":return"spki";case"private":return"pkcs8"}}async function cj(t,e){const n=oj(t),r=await crypto.subtle.exportKey(n,e);return R3(new Uint8Array(r))}async function lj(t,e){const n=oj(t),r=Iw(e).buffer;return await crypto.subtle.importKey(n,new Uint8Array(r),{name:"ECDH",namedCurve:"P-256"},!0,t==="private"?["deriveKey"]:[])}async function Ele(t,e){const n=JSON.stringify(t,(r,i)=>{if(!(i instanceof Error))return i;const s=i;return Object.assign(Object.assign({},s.code?{code:s.code}:{}),{message:s.message})});return vle(e,n)}async function Sle(t,e){return JSON.parse(await _le(e,t))}const NS={storageKey:"ownPrivateKey",keyType:"private"},$S={storageKey:"ownPublicKey",keyType:"public"},PS={storageKey:"peerPublicKey",keyType:"public"};class Ale{constructor(){this.storage=new Ao("CBWSDK","SCWKeyManager"),this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null}async getOwnPublicKey(){return await this.loadKeysIfNeeded(),this.ownPublicKey}async getSharedSecret(){return await this.loadKeysIfNeeded(),this.sharedSecret}async setPeerPublicKey(e){this.sharedSecret=null,this.peerPublicKey=e,await this.storeKey(PS,e),await this.loadKeysIfNeeded()}async clear(){this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null,this.storage.removeItem($S.storageKey),this.storage.removeItem(NS.storageKey),this.storage.removeItem(PS.storageKey)}async generateKeyPair(){const e=await ble();this.ownPrivateKey=e.privateKey,this.ownPublicKey=e.publicKey,await this.storeKey(NS,e.privateKey),await this.storeKey($S,e.publicKey)}async loadKeysIfNeeded(){if(this.ownPrivateKey===null&&(this.ownPrivateKey=await this.loadKey(NS)),this.ownPublicKey===null&&(this.ownPublicKey=await this.loadKey($S)),(this.ownPrivateKey===null||this.ownPublicKey===null)&&await this.generateKeyPair(),this.peerPublicKey===null&&(this.peerPublicKey=await this.loadKey(PS)),this.sharedSecret===null){if(this.ownPrivateKey===null||this.peerPublicKey===null)return;this.sharedSecret=await wle(this.ownPrivateKey,this.peerPublicKey)}}async loadKey(e){const n=this.storage.getItem(e.storageKey);return n?lj(e.keyType,n):null}async storeKey(e,n){const r=await cj(e.keyType,n);this.storage.setItem(e.storageKey,r)}}const Lg="4.3.2",uj="@coinbase/wallet-sdk";async function P3(t,e){const n=Object.assign(Object.assign({},t),{jsonrpc:"2.0",id:crypto.randomUUID()}),r=await window.fetch(e,{method:"POST",body:JSON.stringify(n),mode:"cors",headers:{"Content-Type":"application/json","X-Cbw-Sdk-Version":Lg,"X-Cbw-Sdk-Platform":uj}}),{result:i,error:s}=await r.json();if(s)throw s;return i}function xle(){return globalThis.coinbaseWalletExtension}function Tle(){var t,e;try{const n=globalThis;return(t=n.ethereum)!==null&&t!==void 0?t:(e=n.top)===null||e===void 0?void 0:e.ethereum}catch{return}}function Ile({metadata:t,preference:e}){var n,r;const{appName:i,appLogoUrl:s,appChainIds:a}=t;if(e.options!=="smartWalletOnly"){const u=xle();if(u)return(n=u.setAppInfo)===null||n===void 0||n.call(u,i,s,a,e),u}const c=Tle();if(c?.isCoinbaseBrowser)return(r=c.setAppInfo)===null||r===void 0||r.call(c,i,s,a,e),c}function Cle(t){if(!t||typeof t!="object"||Array.isArray(t))throw Vt.rpc.invalidParams({message:"Expected a single, non-array, object argument.",data:t});const{method:e,params:n}=t;if(typeof e!="string"||e.length===0)throw Vt.rpc.invalidParams({message:"'args.method' must be a non-empty string.",data:t});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw Vt.rpc.invalidParams({message:"'args.params' must be an object or array if provided.",data:t});switch(e){case"eth_sign":case"eth_signTypedData_v2":case"eth_subscribe":case"eth_unsubscribe":throw Vt.provider.unsupportedMethod()}}const eN="accounts",tN="activeChain",nN="availableChains",rN="walletCapabilities";class Ole{constructor(e){var n,r,i;this.metadata=e.metadata,this.communicator=e.communicator,this.callback=e.callback,this.keyManager=new Ale,this.storage=new Ao("CBWSDK","SCWStateManager"),this.accounts=(n=this.storage.loadObject(eN))!==null&&n!==void 0?n:[],this.chain=this.storage.loadObject(tN)||{id:(i=(r=e.metadata.appChainIds)===null||r===void 0?void 0:r[0])!==null&&i!==void 0?i:1},this.handshake=this.handshake.bind(this),this.request=this.request.bind(this),this.createRequestMessage=this.createRequestMessage.bind(this),this.decryptResponseMessage=this.decryptResponseMessage.bind(this)}async handshake(e){var n,r,i,s;await((r=(n=this.communicator).waitForPopupLoaded)===null||r===void 0?void 0:r.call(n));const a=await this.createRequestMessage({handshake:{method:e.method,params:Object.assign({},this.metadata,(i=e.params)!==null&&i!==void 0?i:{})}}),c=await this.communicator.postRequestAndWaitForResponse(a);if("failure"in c.content)throw c.content.failure;const u=await lj("public",c.sender);await this.keyManager.setPeerPublicKey(u);const h=(await this.decryptResponseMessage(c)).result;if("error"in h)throw h.error;if(e.method==="eth_requestAccounts"){const p=h.value;this.accounts=p,this.storage.storeObject(eN,p),(s=this.callback)===null||s===void 0||s.call(this,"accountsChanged",p)}}async request(e){var n;if(this.accounts.length===0){if(e.method==="wallet_sendCalls")return this.sendRequestToPopup(e);throw Vt.provider.unauthorized()}switch(e.method){case"eth_requestAccounts":return(n=this.callback)===null||n===void 0||n.call(this,"connect",{chainId:Jl(this.chain.id)}),this.accounts;case"eth_accounts":return this.accounts;case"eth_coinbase":return this.accounts[0];case"net_version":return this.chain.id;case"eth_chainId":return Jl(this.chain.id);case"wallet_getCapabilities":return this.storage.loadObject(rN);case"wallet_switchEthereumChain":return this.handleSwitchChainRequest(e);case"eth_ecRecover":case"personal_sign":case"wallet_sign":case"personal_ecRecover":case"eth_signTransaction":case"eth_sendTransaction":case"eth_signTypedData_v1":case"eth_signTypedData_v3":case"eth_signTypedData_v4":case"eth_signTypedData":case"wallet_addEthereumChain":case"wallet_watchAsset":case"wallet_sendCalls":case"wallet_showCallsStatus":case"wallet_grantPermissions":return this.sendRequestToPopup(e);default:if(!this.chain.rpcUrl)throw Vt.rpc.internal("No RPC URL set for chain");return P3(e,this.chain.rpcUrl)}}async sendRequestToPopup(e){var n,r;await((r=(n=this.communicator).waitForPopupLoaded)===null||r===void 0?void 0:r.call(n));const i=await this.sendEncryptedRequest(e),a=(await this.decryptResponseMessage(i)).result;if("error"in a)throw a.error;return a.value}async cleanup(){var e,n;this.storage.clear(),await this.keyManager.clear(),this.accounts=[],this.chain={id:(n=(e=this.metadata.appChainIds)===null||e===void 0?void 0:e[0])!==null&&n!==void 0?n:1}}async handleSwitchChainRequest(e){var n;const r=e.params;if(!r||!(!((n=r[0])===null||n===void 0)&&n.chainId))throw Vt.rpc.invalidParams();const i=ly(r[0].chainId);if(this.updateChain(i))return null;const a=await this.sendRequestToPopup(e);return a===null&&this.updateChain(i),a}async sendEncryptedRequest(e){const n=await this.keyManager.getSharedSecret();if(!n)throw Vt.provider.unauthorized("No valid session found, try requestAccounts before other methods");const r=await Ele({action:e,chainId:this.chain.id},n),i=await this.createRequestMessage({encrypted:r});return this.communicator.postRequestAndWaitForResponse(i)}async createRequestMessage(e){const n=await cj("public",await this.keyManager.getOwnPublicKey());return{id:crypto.randomUUID(),sender:n,content:e,timestamp:new Date}}async decryptResponseMessage(e){var n,r;const i=e.content;if("failure"in i)throw i.failure;const s=await this.keyManager.getSharedSecret();if(!s)throw Vt.provider.unauthorized("Invalid session");const a=await Sle(i.encrypted,s),c=(n=a.data)===null||n===void 0?void 0:n.chains;if(c){const d=Object.entries(c).map(([h,p])=>({id:Number(h),rpcUrl:p}));this.storage.storeObject(nN,d),this.updateChain(this.chain.id,d)}const u=(r=a.data)===null||r===void 0?void 0:r.capabilities;return u&&this.storage.storeObject(rN,u),a}updateChain(e,n){var r;const i=n??this.storage.loadObject(nN),s=i?.find(a=>a.id===e);return s?(s!==this.chain&&(this.chain=s,this.storage.storeObject(tN,s),(r=this.callback)===null||r===void 0||r.call(this,"chainChanged",Jl(s.id))),!0):!1}}var vn={},Pr={},iN;function dj(){if(iN)return Pr;iN=1,Object.defineProperty(Pr,"__esModule",{value:!0}),Pr.output=Pr.exists=Pr.hash=Pr.bytes=Pr.bool=Pr.number=Pr.isBytes=void 0;function t(u){if(!Number.isSafeInteger(u)||u<0)throw new Error(`positive integer expected, not ${u}`)}Pr.number=t;function e(u){if(typeof u!="boolean")throw new Error(`boolean expected, not ${u}`)}Pr.bool=e;function n(u){return u instanceof Uint8Array||u!=null&&typeof u=="object"&&u.constructor.name==="Uint8Array"}Pr.isBytes=n;function r(u,...d){if(!n(u))throw new Error("Uint8Array expected");if(d.length>0&&!d.includes(u.length))throw new Error(`Uint8Array expected of length ${d}, not of length=${u.length}`)}Pr.bytes=r;function i(u){if(typeof u!="function"||typeof u.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");t(u.outputLen),t(u.blockLen)}Pr.hash=i;function s(u,d=!0){if(u.destroyed)throw new Error("Hash instance has been destroyed");if(d&&u.finished)throw new Error("Hash#digest() has already been called")}Pr.exists=s;function a(u,d){r(u);const h=d.outputLen;if(u.length<h)throw new Error(`digestInto() expects output buffer of length at least ${h}`)}Pr.output=a;const c={number:t,bool:e,bytes:r,hash:i,exists:s,output:a};return Pr.default=c,Pr}var ft={},sN;function kle(){if(sN)return ft;sN=1,Object.defineProperty(ft,"__esModule",{value:!0}),ft.add5L=ft.add5H=ft.add4H=ft.add4L=ft.add3H=ft.add3L=ft.add=ft.rotlBL=ft.rotlBH=ft.rotlSL=ft.rotlSH=ft.rotr32L=ft.rotr32H=ft.rotrBL=ft.rotrBH=ft.rotrSL=ft.rotrSH=ft.shrSL=ft.shrSH=ft.toBig=ft.split=ft.fromBig=void 0;const t=BigInt(2**32-1),e=BigInt(32);function n(j,B=!1){return B?{h:Number(j&t),l:Number(j>>e&t)}:{h:Number(j>>e&t)|0,l:Number(j&t)|0}}ft.fromBig=n;function r(j,B=!1){let G=new Uint32Array(j.length),U=new Uint32Array(j.length);for(let F=0;F<j.length;F++){const{h:K,l:T}=n(j[F],B);[G[F],U[F]]=[K,T]}return[G,U]}ft.split=r;const i=(j,B)=>BigInt(j>>>0)<<e|BigInt(B>>>0);ft.toBig=i;const s=(j,B,G)=>j>>>G;ft.shrSH=s;const a=(j,B,G)=>j<<32-G|B>>>G;ft.shrSL=a;const c=(j,B,G)=>j>>>G|B<<32-G;ft.rotrSH=c;const u=(j,B,G)=>j<<32-G|B>>>G;ft.rotrSL=u;const d=(j,B,G)=>j<<64-G|B>>>G-32;ft.rotrBH=d;const h=(j,B,G)=>j>>>G-32|B<<64-G;ft.rotrBL=h;const p=(j,B)=>B;ft.rotr32H=p;const y=(j,B)=>j;ft.rotr32L=y;const g=(j,B,G)=>j<<G|B>>>32-G;ft.rotlSH=g;const b=(j,B,G)=>B<<G|j>>>32-G;ft.rotlSL=b;const v=(j,B,G)=>B<<G-32|j>>>64-G;ft.rotlBH=v;const E=(j,B,G)=>j<<G-32|B>>>64-G;ft.rotlBL=E;function O(j,B,G,U){const F=(B>>>0)+(U>>>0);return{h:j+G+(F/2**32|0)|0,l:F|0}}ft.add=O;const k=(j,B,G)=>(j>>>0)+(B>>>0)+(G>>>0);ft.add3L=k;const A=(j,B,G,U)=>B+G+U+(j/2**32|0)|0;ft.add3H=A;const S=(j,B,G,U)=>(j>>>0)+(B>>>0)+(G>>>0)+(U>>>0);ft.add4L=S;const C=(j,B,G,U,F)=>B+G+U+F+(j/2**32|0)|0;ft.add4H=C;const I=(j,B,G,U,F)=>(j>>>0)+(B>>>0)+(G>>>0)+(U>>>0)+(F>>>0);ft.add5L=I;const $=(j,B,G,U,F,K)=>B+G+U+F+K+(j/2**32|0)|0;ft.add5H=$;const z={fromBig:n,split:r,toBig:i,shrSH:s,shrSL:a,rotrSH:c,rotrSL:u,rotrBH:d,rotrBL:h,rotr32H:p,rotr32L:y,rotlSH:g,rotlSL:b,rotlBH:v,rotlBL:E,add:O,add3L:k,add3H:A,add4L:S,add4H:C,add5H:$,add5L:I};return ft.default=z,ft}var DS={},vm={},aN;function Rle(){return aN||(aN=1,Object.defineProperty(vm,"__esModule",{value:!0}),vm.crypto=void 0,vm.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0),vm}var oN;function Nle(){return oN||(oN=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.randomBytes=t.wrapXOFConstructorWithOpts=t.wrapConstructorWithOpts=t.wrapConstructor=t.checkOpts=t.Hash=t.concatBytes=t.toBytes=t.utf8ToBytes=t.asyncLoop=t.nextTick=t.hexToBytes=t.bytesToHex=t.byteSwap32=t.byteSwapIfBE=t.byteSwap=t.isLE=t.rotl=t.rotr=t.createView=t.u32=t.u8=t.isBytes=void 0;const e=Rle(),n=dj();function r(U){return U instanceof Uint8Array||U!=null&&typeof U=="object"&&U.constructor.name==="Uint8Array"}t.isBytes=r;const i=U=>new Uint8Array(U.buffer,U.byteOffset,U.byteLength);t.u8=i;const s=U=>new Uint32Array(U.buffer,U.byteOffset,Math.floor(U.byteLength/4));t.u32=s;const a=U=>new DataView(U.buffer,U.byteOffset,U.byteLength);t.createView=a;const c=(U,F)=>U<<32-F|U>>>F;t.rotr=c;const u=(U,F)=>U<<F|U>>>32-F>>>0;t.rotl=u,t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;const d=U=>U<<24&4278190080|U<<8&16711680|U>>>8&65280|U>>>24&255;t.byteSwap=d,t.byteSwapIfBE=t.isLE?U=>U:U=>(0,t.byteSwap)(U);function h(U){for(let F=0;F<U.length;F++)U[F]=(0,t.byteSwap)(U[F])}t.byteSwap32=h;const p=Array.from({length:256},(U,F)=>F.toString(16).padStart(2,"0"));function y(U){(0,n.bytes)(U);let F="";for(let K=0;K<U.length;K++)F+=p[U[K]];return F}t.bytesToHex=y;const g={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function b(U){if(U>=g._0&&U<=g._9)return U-g._0;if(U>=g._A&&U<=g._F)return U-(g._A-10);if(U>=g._a&&U<=g._f)return U-(g._a-10)}function v(U){if(typeof U!="string")throw new Error("hex string expected, got "+typeof U);const F=U.length,K=F/2;if(F%2)throw new Error("padded hex string expected, got unpadded hex of length "+F);const T=new Uint8Array(K);for(let x=0,N=0;x<K;x++,N+=2){const L=b(U.charCodeAt(N)),P=b(U.charCodeAt(N+1));if(L===void 0||P===void 0){const H=U[N]+U[N+1];throw new Error('hex string expected, got non-hex character "'+H+'" at index '+N)}T[x]=L*16+P}return T}t.hexToBytes=v;const E=async()=>{};t.nextTick=E;async function O(U,F,K){let T=Date.now();for(let x=0;x<U;x++){K(x);const N=Date.now()-T;N>=0&&N<F||(await(0,t.nextTick)(),T+=N)}}t.asyncLoop=O;function k(U){if(typeof U!="string")throw new Error(`utf8ToBytes expected string, got ${typeof U}`);return new Uint8Array(new TextEncoder().encode(U))}t.utf8ToBytes=k;function A(U){return typeof U=="string"&&(U=k(U)),(0,n.bytes)(U),U}t.toBytes=A;function S(...U){let F=0;for(let T=0;T<U.length;T++){const x=U[T];(0,n.bytes)(x),F+=x.length}const K=new Uint8Array(F);for(let T=0,x=0;T<U.length;T++){const N=U[T];K.set(N,x),x+=N.length}return K}t.concatBytes=S;class C{clone(){return this._cloneInto()}}t.Hash=C;const I={}.toString;function $(U,F){if(F!==void 0&&I.call(F)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(U,F)}t.checkOpts=$;function z(U){const F=T=>U().update(A(T)).digest(),K=U();return F.outputLen=K.outputLen,F.blockLen=K.blockLen,F.create=()=>U(),F}t.wrapConstructor=z;function j(U){const F=(T,x)=>U(x).update(A(T)).digest(),K=U({});return F.outputLen=K.outputLen,F.blockLen=K.blockLen,F.create=T=>U(T),F}t.wrapConstructorWithOpts=j;function B(U){const F=(T,x)=>U(x).update(A(T)).digest(),K=U({});return F.outputLen=K.outputLen,F.blockLen=K.blockLen,F.create=T=>U(T),F}t.wrapXOFConstructorWithOpts=B;function G(U=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(U));throw new Error("crypto.getRandomValues must be defined")}t.randomBytes=G})(DS)),DS}var cN;function $le(){if(cN)return vn;cN=1,Object.defineProperty(vn,"__esModule",{value:!0}),vn.shake256=vn.shake128=vn.keccak_512=vn.keccak_384=vn.keccak_256=vn.keccak_224=vn.sha3_512=vn.sha3_384=vn.sha3_256=vn.sha3_224=vn.Keccak=vn.keccakP=void 0;const t=dj(),e=kle(),n=Nle(),r=[],i=[],s=[],a=BigInt(0),c=BigInt(1),u=BigInt(2),d=BigInt(7),h=BigInt(256),p=BigInt(113);for(let S=0,C=c,I=1,$=0;S<24;S++){[I,$]=[$,(2*I+3*$)%5],r.push(2*(5*$+I)),i.push((S+1)*(S+2)/2%64);let z=a;for(let j=0;j<7;j++)C=(C<<c^(C>>d)*p)%h,C&u&&(z^=c<<(c<<BigInt(j))-c);s.push(z)}const[y,g]=(0,e.split)(s,!0),b=(S,C,I)=>I>32?(0,e.rotlBH)(S,C,I):(0,e.rotlSH)(S,C,I),v=(S,C,I)=>I>32?(0,e.rotlBL)(S,C,I):(0,e.rotlSL)(S,C,I);function E(S,C=24){const I=new Uint32Array(10);for(let $=24-C;$<24;$++){for(let B=0;B<10;B++)I[B]=S[B]^S[B+10]^S[B+20]^S[B+30]^S[B+40];for(let B=0;B<10;B+=2){const G=(B+8)%10,U=(B+2)%10,F=I[U],K=I[U+1],T=b(F,K,1)^I[G],x=v(F,K,1)^I[G+1];for(let N=0;N<50;N+=10)S[B+N]^=T,S[B+N+1]^=x}let z=S[2],j=S[3];for(let B=0;B<24;B++){const G=i[B],U=b(z,j,G),F=v(z,j,G),K=r[B];z=S[K],j=S[K+1],S[K]=U,S[K+1]=F}for(let B=0;B<50;B+=10){for(let G=0;G<10;G++)I[G]=S[B+G];for(let G=0;G<10;G++)S[B+G]^=~I[(G+2)%10]&I[(G+4)%10]}S[0]^=y[$],S[1]^=g[$]}I.fill(0)}vn.keccakP=E;class O extends n.Hash{constructor(C,I,$,z=!1,j=24){if(super(),this.blockLen=C,this.suffix=I,this.outputLen=$,this.enableXOF=z,this.rounds=j,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,t.number)($),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,n.u32)(this.state)}keccak(){n.isLE||(0,n.byteSwap32)(this.state32),E(this.state32,this.rounds),n.isLE||(0,n.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(C){(0,t.exists)(this);const{blockLen:I,state:$}=this;C=(0,n.toBytes)(C);const z=C.length;for(let j=0;j<z;){const B=Math.min(I-this.pos,z-j);for(let G=0;G<B;G++)$[this.pos++]^=C[j++];this.pos===I&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:C,suffix:I,pos:$,blockLen:z}=this;C[$]^=I,(I&128)!==0&&$===z-1&&this.keccak(),C[z-1]^=128,this.keccak()}writeInto(C){(0,t.exists)(this,!1),(0,t.bytes)(C),this.finish();const I=this.state,{blockLen:$}=this;for(let z=0,j=C.length;z<j;){this.posOut>=$&&this.keccak();const B=Math.min($-this.posOut,j-z);C.set(I.subarray(this.posOut,this.posOut+B),z),this.posOut+=B,z+=B}return C}xofInto(C){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(C)}xof(C){return(0,t.number)(C),this.xofInto(new Uint8Array(C))}digestInto(C){if((0,t.output)(C,this),this.finished)throw new Error("digest() was already called");return this.writeInto(C),this.destroy(),C}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(C){const{blockLen:I,suffix:$,outputLen:z,rounds:j,enableXOF:B}=this;return C||(C=new O(I,$,z,B,j)),C.state32.set(this.state32),C.pos=this.pos,C.posOut=this.posOut,C.finished=this.finished,C.rounds=j,C.suffix=$,C.outputLen=z,C.enableXOF=B,C.destroyed=this.destroyed,C}}vn.Keccak=O;const k=(S,C,I)=>(0,n.wrapConstructor)(()=>new O(C,S,I));vn.sha3_224=k(6,144,224/8),vn.sha3_256=k(6,136,256/8),vn.sha3_384=k(6,104,384/8),vn.sha3_512=k(6,72,512/8),vn.keccak_224=k(1,144,224/8),vn.keccak_256=k(1,136,256/8),vn.keccak_384=k(1,104,384/8),vn.keccak_512=k(1,72,512/8);const A=(S,C,I)=>(0,n.wrapXOFConstructorWithOpts)(($={})=>new O(C,S,$.dkLen===void 0?I:$.dkLen,!0));return vn.shake128=A(31,168,128/8),vn.shake256=A(31,136,256/8),vn}var US,lN;function fj(){if(lN)return US;lN=1;const{keccak_256:t}=$le();function e(g){return Buffer.allocUnsafe(g).fill(0)}function n(g){return g.toString(2).length}function r(g,b){let v=g.toString(16);v.length%2!==0&&(v="0"+v);const E=v.match(/.{1,2}/g).map(O=>parseInt(O,16));for(;E.length<b;)E.unshift(0);return Buffer.from(E)}function i(g,b){const v=g<0n;let E;if(v){const O=(1n<<BigInt(b))-1n;E=(~g&O)+1n}else E=g;return E&=(1n<<BigInt(b))-1n,E}function s(g,b,v){const E=e(b);return g=c(g),v?g.length<b?(g.copy(E),E):g.slice(0,b):g.length<b?(g.copy(E,b-g.length),E):g.slice(-b)}function a(g,b){return s(g,b,!0)}function c(g){if(!Buffer.isBuffer(g))if(Array.isArray(g))g=Buffer.from(g);else if(typeof g=="string")p(g)?g=Buffer.from(h(y(g)),"hex"):g=Buffer.from(g);else if(typeof g=="number")g=intToBuffer(g);else if(g==null)g=Buffer.allocUnsafe(0);else if(typeof g=="bigint")g=r(g);else if(g.toArray)g=Buffer.from(g.toArray());else throw new Error("invalid type");return g}function u(g){return g=c(g),"0x"+g.toString("hex")}function d(g,b){if(g=c(g),b||(b=256),b!==256)throw new Error("unsupported");return Buffer.from(t(new Uint8Array(g)))}function h(g){return g.length%2?"0"+g:g}function p(g){return typeof g=="string"&&g.match(/^0x[0-9A-Fa-f]*$/)}function y(g){return typeof g=="string"&&g.startsWith("0x")?g.slice(2):g}return US={zeros:e,setLength:s,setLengthRight:a,isHexString:p,stripHexPrefix:y,toBuffer:c,bufferToHex:u,keccak:d,bitLengthFromBigInt:n,bufferBEFromBigInt:r,twosFromBigInt:i},US}var MS,uN;function Ple(){if(uN)return MS;uN=1;const t=fj();function e(y){return y.startsWith("int[")?"int256"+y.slice(3):y==="int"?"int256":y.startsWith("uint[")?"uint256"+y.slice(4):y==="uint"?"uint256":y.startsWith("fixed[")?"fixed128x128"+y.slice(5):y==="fixed"?"fixed128x128":y.startsWith("ufixed[")?"ufixed128x128"+y.slice(6):y==="ufixed"?"ufixed128x128":y}function n(y){return Number.parseInt(/^\D+(\d+)$/.exec(y)[1],10)}function r(y){var g=/^\D+(\d+)x(\d+)$/.exec(y);return[Number.parseInt(g[1],10),Number.parseInt(g[2],10)]}function i(y){var g=y.match(/(.*)\[(.*?)\]$/);return g?g[2]===""?"dynamic":Number.parseInt(g[2],10):null}function s(y){var g=typeof y;if(g==="string"||g==="number")return BigInt(y);if(g==="bigint")return y;throw new Error("Argument is not a number")}function a(y,g){var b,v,E,O;if(y==="address")return a("uint160",s(g));if(y==="bool")return a("uint8",g?1:0);if(y==="string")return a("bytes",new Buffer(g,"utf8"));if(u(y)){if(typeof g.length>"u")throw new Error("Not an array?");if(b=i(y),b!=="dynamic"&&b!==0&&g.length>b)throw new Error("Elements exceed array size: "+b);E=[],y=y.slice(0,y.lastIndexOf("[")),typeof g=="string"&&(g=JSON.parse(g));for(O in g)E.push(a(y,g[O]));if(b==="dynamic"){var k=a("uint256",g.length);E.unshift(k)}return Buffer.concat(E)}else{if(y==="bytes")return g=new Buffer(g),E=Buffer.concat([a("uint256",g.length),g]),g.length%32!==0&&(E=Buffer.concat([E,t.zeros(32-g.length%32)])),E;if(y.startsWith("bytes")){if(b=n(y),b<1||b>32)throw new Error("Invalid bytes<N> width: "+b);return t.setLengthRight(g,32)}else if(y.startsWith("uint")){if(b=n(y),b%8||b<8||b>256)throw new Error("Invalid uint<N> width: "+b);v=s(g);const A=t.bitLengthFromBigInt(v);if(A>b)throw new Error("Supplied uint exceeds width: "+b+" vs "+A);if(v<0)throw new Error("Supplied uint is negative");return t.bufferBEFromBigInt(v,32)}else if(y.startsWith("int")){if(b=n(y),b%8||b<8||b>256)throw new Error("Invalid int<N> width: "+b);v=s(g);const A=t.bitLengthFromBigInt(v);if(A>b)throw new Error("Supplied int exceeds width: "+b+" vs "+A);const S=t.twosFromBigInt(v,256);return t.bufferBEFromBigInt(S,32)}else if(y.startsWith("ufixed")){if(b=r(y),v=s(g),v<0)throw new Error("Supplied ufixed is negative");return a("uint256",v*BigInt(2)**BigInt(b[1]))}else if(y.startsWith("fixed"))return b=r(y),a("int256",s(g)*BigInt(2)**BigInt(b[1]))}throw new Error("Unsupported or invalid type: "+y)}function c(y){return y==="string"||y==="bytes"||i(y)==="dynamic"}function u(y){return y.lastIndexOf("]")===y.length-1}function d(y,g){var b=[],v=[],E=32*y.length;for(var O in y){var k=e(y[O]),A=g[O],S=a(k,A);c(k)?(b.push(a("uint256",E)),v.push(S),E+=S.length):b.push(S)}return Buffer.concat(b.concat(v))}function h(y,g){if(y.length!==g.length)throw new Error("Number of types are not matching the values");for(var b,v,E=[],O=0;O<y.length;O++){var k=e(y[O]),A=g[O];if(k==="bytes")E.push(A);else if(k==="string")E.push(new Buffer(A,"utf8"));else if(k==="bool")E.push(new Buffer(A?"01":"00","hex"));else if(k==="address")E.push(t.setLength(A,20));else if(k.startsWith("bytes")){if(b=n(k),b<1||b>32)throw new Error("Invalid bytes<N> width: "+b);E.push(t.setLengthRight(A,b))}else if(k.startsWith("uint")){if(b=n(k),b%8||b<8||b>256)throw new Error("Invalid uint<N> width: "+b);v=s(A);const S=t.bitLengthFromBigInt(v);if(S>b)throw new Error("Supplied uint exceeds width: "+b+" vs "+S);E.push(t.bufferBEFromBigInt(v,b/8))}else if(k.startsWith("int")){if(b=n(k),b%8||b<8||b>256)throw new Error("Invalid int<N> width: "+b);v=s(A);const S=t.bitLengthFromBigInt(v);if(S>b)throw new Error("Supplied int exceeds width: "+b+" vs "+S);const C=t.twosFromBigInt(v,b);E.push(t.bufferBEFromBigInt(C,b/8))}else throw new Error("Unsupported or invalid type: "+k)}return Buffer.concat(E)}function p(y,g){return t.keccak(h(y,g))}return MS={rawEncode:d,solidityPack:h,soliditySHA3:p},MS}var BS,dN;function Dle(){if(dN)return BS;dN=1;const t=fj(),e=Ple(),n={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},r={encodeData(s,a,c,u=!0){const d=["bytes32"],h=[this.hashType(s,c)];if(u){const p=(y,g,b)=>{if(c[g]!==void 0)return["bytes32",b==null?"0x0000000000000000000000000000000000000000000000000000000000000000":t.keccak(this.encodeData(g,b,c,u))];if(b===void 0)throw new Error(`missing value for field ${y} of type ${g}`);if(g==="bytes")return["bytes32",t.keccak(b)];if(g==="string")return typeof b=="string"&&(b=Buffer.from(b,"utf8")),["bytes32",t.keccak(b)];if(g.lastIndexOf("]")===g.length-1){const v=g.slice(0,g.lastIndexOf("[")),E=b.map(O=>p(y,v,O));return["bytes32",t.keccak(e.rawEncode(E.map(([O])=>O),E.map(([,O])=>O)))]}return[g,b]};for(const y of c[s]){const[g,b]=p(y.name,y.type,a[y.name]);d.push(g),h.push(b)}}else for(const p of c[s]){let y=a[p.name];if(y!==void 0)if(p.type==="bytes")d.push("bytes32"),y=t.keccak(y),h.push(y);else if(p.type==="string")d.push("bytes32"),typeof y=="string"&&(y=Buffer.from(y,"utf8")),y=t.keccak(y),h.push(y);else if(c[p.type]!==void 0)d.push("bytes32"),y=t.keccak(this.encodeData(p.type,y,c,u)),h.push(y);else{if(p.type.lastIndexOf("]")===p.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");d.push(p.type),h.push(y)}}return e.rawEncode(d,h)},encodeType(s,a){let c="",u=this.findTypeDependencies(s,a).filter(d=>d!==s);u=[s].concat(u.sort());for(const d of u){if(!a[d])throw new Error("No type definition specified: "+d);c+=d+"("+a[d].map(({name:p,type:y})=>y+" "+p).join(",")+")"}return c},findTypeDependencies(s,a,c=[]){if(s=s.match(/^\w*/)[0],c.includes(s)||a[s]===void 0)return c;c.push(s);for(const u of a[s])for(const d of this.findTypeDependencies(u.type,a,c))!c.includes(d)&&c.push(d);return c},hashStruct(s,a,c,u=!0){return t.keccak(this.encodeData(s,a,c,u))},hashType(s,a){return t.keccak(this.encodeType(s,a))},sanitizeData(s){const a={};for(const c in n.properties)s[c]&&(a[c]=s[c]);return a.types&&(a.types=Object.assign({EIP712Domain:[]},a.types)),a},hash(s,a=!0){const c=this.sanitizeData(s),u=[Buffer.from("1901","hex")];return u.push(this.hashStruct("EIP712Domain",c.domain,c.types,a)),c.primaryType!=="EIP712Domain"&&u.push(this.hashStruct(c.primaryType,c.message,c.types,a)),t.keccak(Buffer.concat(u))}};BS={TYPED_MESSAGE_SCHEMA:n,TypedDataUtils:r,hashForSignTypedDataLegacy:function(s){return i(s.data)},hashForSignTypedData_v3:function(s){return r.hash(s.data,!1)},hashForSignTypedData_v4:function(s){return r.hash(s.data)}};function i(s){const a=new Error("Expect argument to be non-empty array");if(typeof s!="object"||!s.length)throw a;const c=s.map(function(h){return h.type==="bytes"?t.toBuffer(h.value):h.value}),u=s.map(function(h){return h.type}),d=s.map(function(h){if(!h.name)throw a;return h.type+" "+h.name});return e.soliditySHA3(["bytes32","bytes32"],[e.soliditySHA3(new Array(s.length).fill("string"),d),e.soliditySHA3(u,c)])}return BS}var Ule=Dle();const jb=uu(Ule),Mle="walletUsername",L6="Addresses",Ble="AppVersion";function ii(t){return t.errorMessage!==void 0}class Lle{constructor(e){this.secret=e}async encrypt(e){const n=this.secret;if(n.length!==64)throw Error("secret must be 256 bits");const r=crypto.getRandomValues(new Uint8Array(12)),i=await crypto.subtle.importKey("raw",Iw(n),{name:"aes-gcm"},!1,["encrypt","decrypt"]),s=new TextEncoder,a=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},i,s.encode(e)),c=16,u=a.slice(a.byteLength-c),d=a.slice(0,a.byteLength-c),h=new Uint8Array(u),p=new Uint8Array(d),y=new Uint8Array([...r,...h,...p]);return R3(y)}async decrypt(e){const n=this.secret;if(n.length!==64)throw Error("secret must be 256 bits");return new Promise((r,i)=>{(async function(){const s=await crypto.subtle.importKey("raw",Iw(n),{name:"aes-gcm"},!1,["encrypt","decrypt"]),a=Iw(e),c=a.slice(0,12),u=a.slice(12,28),d=a.slice(28),h=new Uint8Array([...d,...u]),p={name:"AES-GCM",iv:new Uint8Array(c)};try{const y=await window.crypto.subtle.decrypt(p,s,h),g=new TextDecoder;r(g.decode(y))}catch(y){i(y)}})()})}}class jle{constructor(e,n,r){this.linkAPIUrl=e,this.sessionId=n;const i=`${n}:${r}`;this.auth=`Basic ${btoa(i)}`}async markUnseenEventsAsSeen(e){return Promise.all(e.map(n=>fetch(`${this.linkAPIUrl}/events/${n.eventId}/seen`,{method:"POST",headers:{Authorization:this.auth}}))).catch(n=>console.error("Unabled to mark event as failed:",n))}async fetchUnseenEvents(){var e;const n=await fetch(`${this.linkAPIUrl}/events?unseen=true`,{headers:{Authorization:this.auth}});if(n.ok){const{events:r,error:i}=await n.json();if(i)throw new Error(`Check unseen events failed: ${i}`);const s=(e=r?.filter(a=>a.event==="Web3Response").map(a=>({type:"Event",sessionId:this.sessionId,eventId:a.id,event:a.event,data:a.data})))!==null&&e!==void 0?e:[];return this.markUnseenEventsAsSeen(s),s}throw new Error(`Check unseen events failed: ${n.status}`)}}var Sc;(function(t){t[t.DISCONNECTED=0]="DISCONNECTED",t[t.CONNECTING=1]="CONNECTING",t[t.CONNECTED=2]="CONNECTED"})(Sc||(Sc={}));class zle{setConnectionStateListener(e){this.connectionStateListener=e}setIncomingDataListener(e){this.incomingDataListener=e}constructor(e,n=WebSocket){this.WebSocketClass=n,this.webSocket=null,this.pendingData=[],this.url=e.replace(/^http/,"ws")}async connect(){if(this.webSocket)throw new Error("webSocket object is not null");return new Promise((e,n)=>{var r;let i;try{this.webSocket=i=new this.WebSocketClass(this.url)}catch(s){n(s);return}(r=this.connectionStateListener)===null||r===void 0||r.call(this,Sc.CONNECTING),i.onclose=s=>{var a;this.clearWebSocket(),n(new Error(`websocket error ${s.code}: ${s.reason}`)),(a=this.connectionStateListener)===null||a===void 0||a.call(this,Sc.DISCONNECTED)},i.onopen=s=>{var a;e(),(a=this.connectionStateListener)===null||a===void 0||a.call(this,Sc.CONNECTED),this.pendingData.length>0&&([...this.pendingData].forEach(u=>this.sendData(u)),this.pendingData=[])},i.onmessage=s=>{var a,c;if(s.data==="h")(a=this.incomingDataListener)===null||a===void 0||a.call(this,{type:"Heartbeat"});else try{const u=JSON.parse(s.data);(c=this.incomingDataListener)===null||c===void 0||c.call(this,u)}catch{}}})}disconnect(){var e;const{webSocket:n}=this;if(n){this.clearWebSocket(),(e=this.connectionStateListener)===null||e===void 0||e.call(this,Sc.DISCONNECTED),this.connectionStateListener=void 0,this.incomingDataListener=void 0;try{n.close()}catch{}}}sendData(e){const{webSocket:n}=this;if(!n){this.pendingData.push(e),this.connect();return}n.send(e)}clearWebSocket(){const{webSocket:e}=this;e&&(this.webSocket=null,e.onclose=null,e.onerror=null,e.onmessage=null,e.onopen=null)}}const fN=1e4,Fle=6e4;class qle{constructor({session:e,linkAPIUrl:n,listener:r}){this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=yc(1),this._connected=!1,this._linked=!1,this.shouldFetchUnseenEventsOnConnect=!1,this.requestResolutions=new Map,this.handleSessionMetadataUpdated=s=>{if(!s)return;new Map([["__destroyed",this.handleDestroyed],["EthereumAddress",this.handleAccountUpdated],["WalletUsername",this.handleWalletUsernameUpdated],["AppVersion",this.handleAppVersionUpdated],["ChainId",c=>s.JsonRpcUrl&&this.handleChainUpdated(c,s.JsonRpcUrl)]]).forEach((c,u)=>{const d=s[u];d!==void 0&&c(d)})},this.handleDestroyed=s=>{var a;s==="1"&&((a=this.listener)===null||a===void 0||a.resetAndReload())},this.handleAccountUpdated=async s=>{var a;const c=await this.cipher.decrypt(s);(a=this.listener)===null||a===void 0||a.accountUpdated(c)},this.handleMetadataUpdated=async(s,a)=>{var c;const u=await this.cipher.decrypt(a);(c=this.listener)===null||c===void 0||c.metadataUpdated(s,u)},this.handleWalletUsernameUpdated=async s=>{this.handleMetadataUpdated(Mle,s)},this.handleAppVersionUpdated=async s=>{this.handleMetadataUpdated(Ble,s)},this.handleChainUpdated=async(s,a)=>{var c;const u=await this.cipher.decrypt(s),d=await this.cipher.decrypt(a);(c=this.listener)===null||c===void 0||c.chainUpdated(u,d)},this.session=e,this.cipher=new Lle(e.secret),this.listener=r;const i=new zle(`${n}/rpc`,WebSocket);i.setConnectionStateListener(async s=>{let a=!1;switch(s){case Sc.DISCONNECTED:if(!this.destroyed){const c=async()=>{await new Promise(u=>setTimeout(u,5e3)),this.destroyed||i.connect().catch(()=>{c()})};c()}break;case Sc.CONNECTED:a=await this.handleConnected(),this.updateLastHeartbeat(),setInterval(()=>{this.heartbeat()},fN),this.shouldFetchUnseenEventsOnConnect&&this.fetchUnseenEventsAPI();break;case Sc.CONNECTING:break}this.connected!==a&&(this.connected=a)}),i.setIncomingDataListener(s=>{var a;switch(s.type){case"Heartbeat":this.updateLastHeartbeat();return;case"IsLinkedOK":case"Linked":{const c=s.type==="IsLinkedOK"?s.linked:void 0;this.linked=c||s.onlineGuests>0;break}case"GetSessionConfigOK":case"SessionConfigUpdated":{this.handleSessionMetadataUpdated(s.metadata);break}case"Event":{this.handleIncomingEvent(s);break}}s.id!==void 0&&((a=this.requestResolutions.get(s.id))===null||a===void 0||a(s))}),this.ws=i,this.http=new jle(n,e.id,e.key)}connect(){if(this.destroyed)throw new Error("instance is destroyed");this.ws.connect()}async destroy(){this.destroyed||(await this.makeRequest({type:"SetSessionConfig",id:yc(this.nextReqId++),sessionId:this.session.id,metadata:{__destroyed:"1"}},{timeout:1e3}),this.destroyed=!0,this.ws.disconnect(),this.listener=void 0)}get connected(){return this._connected}set connected(e){this._connected=e}get linked(){return this._linked}set linked(e){var n,r;this._linked=e,e&&((n=this.onceLinked)===null||n===void 0||n.call(this)),(r=this.listener)===null||r===void 0||r.linkedUpdated(e)}setOnceLinked(e){return new Promise(n=>{this.linked?e().then(n):this.onceLinked=()=>{e().then(n),this.onceLinked=void 0}})}async handleIncomingEvent(e){var n;if(e.type!=="Event"||e.event!=="Web3Response")return;const r=await this.cipher.decrypt(e.data),i=JSON.parse(r);if(i.type!=="WEB3_RESPONSE")return;const{id:s,response:a}=i;(n=this.listener)===null||n===void 0||n.handleWeb3ResponseMessage(s,a)}async checkUnseenEvents(){if(!this.connected){this.shouldFetchUnseenEventsOnConnect=!0;return}await new Promise(e=>setTimeout(e,250));try{await this.fetchUnseenEventsAPI()}catch(e){console.error("Unable to check for unseen events",e)}}async fetchUnseenEventsAPI(){this.shouldFetchUnseenEventsOnConnect=!1,(await this.http.fetchUnseenEvents()).forEach(n=>this.handleIncomingEvent(n))}async publishEvent(e,n,r=!1){const i=await this.cipher.encrypt(JSON.stringify(Object.assign(Object.assign({},n),{origin:location.origin,location:location.href,relaySource:"coinbaseWalletExtension"in window&&window.coinbaseWalletExtension?"injected_sdk":"sdk"}))),s={type:"PublishEvent",id:yc(this.nextReqId++),sessionId:this.session.id,event:e,data:i,callWebhook:r};return this.setOnceLinked(async()=>{const a=await this.makeRequest(s);if(a.type==="Fail")throw new Error(a.error||"failed to publish event");return a.eventId})}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>fN*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}async makeRequest(e,n={timeout:Fle}){const r=e.id;this.sendData(e);let i;return Promise.race([new Promise((s,a)=>{i=window.setTimeout(()=>{a(new Error(`request ${r} timed out`))},n.timeout)}),new Promise(s=>{this.requestResolutions.set(r,a=>{clearTimeout(i),s(a),this.requestResolutions.delete(r)})})])}async handleConnected(){return(await this.makeRequest({type:"HostSession",id:yc(this.nextReqId++),sessionId:this.session.id,sessionKey:this.session.key})).type==="Fail"?!1:(this.sendData({type:"IsLinked",id:yc(this.nextReqId++),sessionId:this.session.id}),this.sendData({type:"GetSessionConfig",id:yc(this.nextReqId++),sessionId:this.session.id}),!0)}}class Wle{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,n=aj(e.toString(16));return this.callbacks.get(n)&&this.callbacks.delete(n),e}}function Hle(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function D3(t,...e){if(!Hle(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function hN(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Vle(t,e){D3(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const LS=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Xa=(t,e)=>t<<32-e|t>>>e;new Uint8Array(new Uint32Array([287454020]).buffer)[0];const Gle=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Kle(t){D3(t);let e="";for(let n=0;n<t.length;n++)e+=Gle[t[n]];return e}function Yle(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function hj(t){return typeof t=="string"&&(t=Yle(t)),D3(t),t}let Zle=class{clone(){return this._cloneInto()}};function Xle(t){const e=r=>t().update(hj(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Jle(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),a=Number(n>>i&s),c=Number(n&s),u=r?4:0,d=r?0:4;t.setUint32(e+u,a,r),t.setUint32(e+d,c,r)}const Qle=(t,e,n)=>t&e^~t&n,eue=(t,e,n)=>t&e^t&n^e&n;let tue=class extends Zle{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=LS(this.buffer)}update(e){hN(this);const{view:n,buffer:r,blockLen:i}=this;e=hj(e);const s=e.length;for(let a=0;a<s;){const c=Math.min(i-this.pos,s-a);if(c===i){const u=LS(e);for(;i<=s-a;a+=i)this.process(u,a);continue}r.set(e.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){hN(this),Vle(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:a}=this;n[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(r,0),a=0);for(let p=a;p<i;p++)n[p]=0;Jle(r,i-8,BigInt(this.length*8),s),this.process(r,0);const c=LS(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=u/4,h=this.get();if(d>h.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<d;p++)c.setUint32(4*p,h[p],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:a,pos:c}=this;return e.length=i,e.pos=c,e.finished=s,e.destroyed=a,i%n&&e.buffer.set(r),e}};const nue=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Sl=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Al=new Uint32Array(64);let rue=class extends tue{constructor(){super(64,32,8,!1),this.A=Sl[0]|0,this.B=Sl[1]|0,this.C=Sl[2]|0,this.D=Sl[3]|0,this.E=Sl[4]|0,this.F=Sl[5]|0,this.G=Sl[6]|0,this.H=Sl[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:a,G:c,H:u}=this;return[e,n,r,i,s,a,c,u]}set(e,n,r,i,s,a,c,u){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=c|0,this.H=u|0}process(e,n){for(let p=0;p<16;p++,n+=4)Al[p]=e.getUint32(n,!1);for(let p=16;p<64;p++){const y=Al[p-15],g=Al[p-2],b=Xa(y,7)^Xa(y,18)^y>>>3,v=Xa(g,17)^Xa(g,19)^g>>>10;Al[p]=v+Al[p-7]+b+Al[p-16]|0}let{A:r,B:i,C:s,D:a,E:c,F:u,G:d,H:h}=this;for(let p=0;p<64;p++){const y=Xa(c,6)^Xa(c,11)^Xa(c,25),g=h+y+Qle(c,u,d)+nue[p]+Al[p]|0,v=(Xa(r,2)^Xa(r,13)^Xa(r,22))+eue(r,i,s)|0;h=d,d=u,u=c,c=a+g|0,a=s,s=i,i=r,r=g+v|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,c=c+this.E|0,u=u+this.F|0,d=d+this.G|0,h=h+this.H|0,this.set(r,i,s,a,c,u,d,h)}roundClean(){Al.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const iue=Xle(()=>new rue),pN="session:id",mN="session:secret",yN="session:linked";class Eh{constructor(e,n,r,i=!1){this.storage=e,this.id=n,this.secret=r,this.key=Kle(iue(`${n}, ${r} WalletLink`)),this._linked=!!i}static create(e){const n=Ku(16),r=Ku(32);return new Eh(e,n,r).save()}static load(e){const n=e.getItem(pN),r=e.getItem(yN),i=e.getItem(mN);return n&&i?new Eh(e,n,i,r==="1"):null}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this.storage.setItem(pN,this.id),this.storage.setItem(mN,this.secret),this.persistLinked(),this}persistLinked(){this.storage.setItem(yN,this._linked?"1":"0")}}function sue(){try{return window.frameElement!==null}catch{return!1}}function aue(){try{return sue()&&window.top?window.top.location:window.location}catch{return window.location}}function oue(){var t;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test((t=window?.navigator)===null||t===void 0?void 0:t.userAgent)}function pj(){var t,e;return(e=(t=window?.matchMedia)===null||t===void 0?void 0:t.call(window,"(prefers-color-scheme: dark)").matches)!==null&&e!==void 0?e:!1}const cue='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';function mj(){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(cue)),document.documentElement.appendChild(t)}function yj(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=yj(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function uy(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=yj(t))&&(r&&(r+=" "),r+=e);return r}var W1,Bn,gj,Yu,gN,bj,j6,U3,z6,F6,Zy={},wj=[],lue=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,M3=Array.isArray;function Ql(t,e){for(var n in e)t[n]=e[n];return t}function vj(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function yn(t,e,n){var r,i,s,a={};for(s in e)s=="key"?r=e[s]:s=="ref"?i=e[s]:a[s]=e[s];if(arguments.length>2&&(a.children=arguments.length>3?W1.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)a[s]===void 0&&(a[s]=t.defaultProps[s]);return Cw(t,a,r,i,null)}function Cw(t,e,n,r,i){var s={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:i??++gj,__i:-1,__u:0};return i==null&&Bn.vnode!=null&&Bn.vnode(s),s}function H1(t){return t.children}function Ow(t,e){this.props=t,this.context=e}function Gh(t,e){if(e==null)return t.__?Gh(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?Gh(t):null}function _j(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return _j(t)}}function bN(t){(!t.__d&&(t.__d=!0)&&Yu.push(t)&&!Av.__r++||gN!==Bn.debounceRendering)&&((gN=Bn.debounceRendering)||bj)(Av)}function Av(){var t,e,n,r,i,s,a,c;for(Yu.sort(j6);t=Yu.shift();)t.__d&&(e=Yu.length,r=void 0,s=(i=(n=t).__v).__e,a=[],c=[],n.__P&&((r=Ql({},i)).__v=i.__v+1,Bn.vnode&&Bn.vnode(r),B3(n.__P,r,i,n.__n,n.__P.namespaceURI,32&i.__u?[s]:null,a,s??Gh(i),!!(32&i.__u),c),r.__v=i.__v,r.__.__k[r.__i]=r,Aj(a,r,c),r.__e!=s&&_j(r)),Yu.length>e&&Yu.sort(j6));Av.__r=0}function Ej(t,e,n,r,i,s,a,c,u,d,h){var p,y,g,b,v,E=r&&r.__k||wj,O=e.length;for(n.__d=u,uue(n,e,E),u=n.__d,p=0;p<O;p++)(g=n.__k[p])!=null&&(y=g.__i===-1?Zy:E[g.__i]||Zy,g.__i=p,B3(t,g,y,i,s,a,c,u,d,h),b=g.__e,g.ref&&y.ref!=g.ref&&(y.ref&&L3(y.ref,null,g),h.push(g.ref,g.__c||b,g)),v==null&&b!=null&&(v=b),65536&g.__u||y.__k===g.__k?u=Sj(g,u,t):typeof g.type=="function"&&g.__d!==void 0?u=g.__d:b&&(u=b.nextSibling),g.__d=void 0,g.__u&=-196609);n.__d=u,n.__e=v}function uue(t,e,n){var r,i,s,a,c,u=e.length,d=n.length,h=d,p=0;for(t.__k=[],r=0;r<u;r++)(i=e[r])!=null&&typeof i!="boolean"&&typeof i!="function"?(a=r+p,(i=t.__k[r]=typeof i=="string"||typeof i=="number"||typeof i=="bigint"||i.constructor==String?Cw(null,i,null,null,null):M3(i)?Cw(H1,{children:i},null,null,null):i.constructor===void 0&&i.__b>0?Cw(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i).__=t,i.__b=t.__b+1,s=null,(c=i.__i=due(i,n,a,h))!==-1&&(h--,(s=n[c])&&(s.__u|=131072)),s==null||s.__v===null?(c==-1&&p--,typeof i.type!="function"&&(i.__u|=65536)):c!==a&&(c==a-1?p--:c==a+1?p++:(c>a?p--:p++,i.__u|=65536))):i=t.__k[r]=null;if(h)for(r=0;r<d;r++)(s=n[r])!=null&&(131072&s.__u)==0&&(s.__e==t.__d&&(t.__d=Gh(s)),xj(s,s))}function Sj(t,e,n){var r,i;if(typeof t.type=="function"){for(r=t.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=t,e=Sj(r[i],e,n));return e}t.__e!=e&&(e&&t.type&&!n.contains(e)&&(e=Gh(t)),n.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType===8);return e}function due(t,e,n,r){var i=t.key,s=t.type,a=n-1,c=n+1,u=e[n];if(u===null||u&&i==u.key&&s===u.type&&(131072&u.__u)==0)return n;if(r>(u!=null&&(131072&u.__u)==0?1:0))for(;a>=0||c<e.length;){if(a>=0){if((u=e[a])&&(131072&u.__u)==0&&i==u.key&&s===u.type)return a;a--}if(c<e.length){if((u=e[c])&&(131072&u.__u)==0&&i==u.key&&s===u.type)return c;c++}}return-1}function wN(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||lue.test(e)?n:n+"px"}function zb(t,e,n,r,i){var s;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||wN(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||wN(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/(PointerCapture)$|Capture$/i,"$1")),e=e.toLowerCase()in t||e==="onFocusOut"||e==="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=n,n?r?n.u=r.u:(n.u=U3,t.addEventListener(e,s?F6:z6,s)):t.removeEventListener(e,s?F6:z6,s);else{if(i=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function vN(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=U3++;else if(e.t<n.u)return;return n(Bn.event?Bn.event(e):e)}}}function B3(t,e,n,r,i,s,a,c,u,d){var h,p,y,g,b,v,E,O,k,A,S,C,I,$,z,j,B=e.type;if(e.constructor!==void 0)return null;128&n.__u&&(u=!!(32&n.__u),s=[c=e.__e=n.__e]),(h=Bn.__b)&&h(e);e:if(typeof B=="function")try{if(O=e.props,k="prototype"in B&&B.prototype.render,A=(h=B.contextType)&&r[h.__c],S=h?A?A.props.value:h.__:r,n.__c?E=(p=e.__c=n.__c).__=p.__E:(k?e.__c=p=new B(O,S):(e.__c=p=new Ow(O,S),p.constructor=B,p.render=hue),A&&A.sub(p),p.props=O,p.state||(p.state={}),p.context=S,p.__n=r,y=p.__d=!0,p.__h=[],p._sb=[]),k&&p.__s==null&&(p.__s=p.state),k&&B.getDerivedStateFromProps!=null&&(p.__s==p.state&&(p.__s=Ql({},p.__s)),Ql(p.__s,B.getDerivedStateFromProps(O,p.__s))),g=p.props,b=p.state,p.__v=e,y)k&&B.getDerivedStateFromProps==null&&p.componentWillMount!=null&&p.componentWillMount(),k&&p.componentDidMount!=null&&p.__h.push(p.componentDidMount);else{if(k&&B.getDerivedStateFromProps==null&&O!==g&&p.componentWillReceiveProps!=null&&p.componentWillReceiveProps(O,S),!p.__e&&(p.shouldComponentUpdate!=null&&p.shouldComponentUpdate(O,p.__s,S)===!1||e.__v===n.__v)){for(e.__v!==n.__v&&(p.props=O,p.state=p.__s,p.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(G){G&&(G.__=e)}),C=0;C<p._sb.length;C++)p.__h.push(p._sb[C]);p._sb=[],p.__h.length&&a.push(p);break e}p.componentWillUpdate!=null&&p.componentWillUpdate(O,p.__s,S),k&&p.componentDidUpdate!=null&&p.__h.push(function(){p.componentDidUpdate(g,b,v)})}if(p.context=S,p.props=O,p.__P=t,p.__e=!1,I=Bn.__r,$=0,k){for(p.state=p.__s,p.__d=!1,I&&I(e),h=p.render(p.props,p.state,p.context),z=0;z<p._sb.length;z++)p.__h.push(p._sb[z]);p._sb=[]}else do p.__d=!1,I&&I(e),h=p.render(p.props,p.state,p.context),p.state=p.__s;while(p.__d&&++$<25);p.state=p.__s,p.getChildContext!=null&&(r=Ql(Ql({},r),p.getChildContext())),k&&!y&&p.getSnapshotBeforeUpdate!=null&&(v=p.getSnapshotBeforeUpdate(g,b)),Ej(t,M3(j=h!=null&&h.type===H1&&h.key==null?h.props.children:h)?j:[j],e,n,r,i,s,a,c,u,d),p.base=e.__e,e.__u&=-161,p.__h.length&&a.push(p),E&&(p.__E=p.__=null)}catch(G){if(e.__v=null,u||s!=null){for(e.__u|=u?160:32;c&&c.nodeType===8&&c.nextSibling;)c=c.nextSibling;s[s.indexOf(c)]=null,e.__e=c}else e.__e=n.__e,e.__k=n.__k;Bn.__e(G,e,n)}else s==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=fue(n.__e,e,n,r,i,s,a,u,d);(h=Bn.diffed)&&h(e)}function Aj(t,e,n){e.__d=void 0;for(var r=0;r<n.length;r++)L3(n[r],n[++r],n[++r]);Bn.__c&&Bn.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(s){s.call(i)})}catch(s){Bn.__e(s,i.__v)}})}function fue(t,e,n,r,i,s,a,c,u){var d,h,p,y,g,b,v,E=n.props,O=e.props,k=e.type;if(k==="svg"?i="http://www.w3.org/2000/svg":k==="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),s!=null){for(d=0;d<s.length;d++)if((g=s[d])&&"setAttribute"in g==!!k&&(k?g.localName===k:g.nodeType===3)){t=g,s[d]=null;break}}if(t==null){if(k===null)return document.createTextNode(O);t=document.createElementNS(i,k,O.is&&O),c&&(Bn.__m&&Bn.__m(e,s),c=!1),s=null}if(k===null)E===O||c&&t.data===O||(t.data=O);else{if(s=s&&W1.call(t.childNodes),E=n.props||Zy,!c&&s!=null)for(E={},d=0;d<t.attributes.length;d++)E[(g=t.attributes[d]).name]=g.value;for(d in E)if(g=E[d],d!="children"){if(d=="dangerouslySetInnerHTML")p=g;else if(!(d in O)){if(d=="value"&&"defaultValue"in O||d=="checked"&&"defaultChecked"in O)continue;zb(t,d,null,g,i)}}for(d in O)g=O[d],d=="children"?y=g:d=="dangerouslySetInnerHTML"?h=g:d=="value"?b=g:d=="checked"?v=g:c&&typeof g!="function"||E[d]===g||zb(t,d,g,E[d],i);if(h)c||p&&(h.__html===p.__html||h.__html===t.innerHTML)||(t.innerHTML=h.__html),e.__k=[];else if(p&&(t.innerHTML=""),Ej(t,M3(y)?y:[y],e,n,r,k==="foreignObject"?"http://www.w3.org/1999/xhtml":i,s,a,s?s[0]:n.__k&&Gh(n,0),c,u),s!=null)for(d=s.length;d--;)vj(s[d]);c||(d="value",k==="progress"&&b==null?t.removeAttribute("value"):b!==void 0&&(b!==t[d]||k==="progress"&&!b||k==="option"&&b!==E[d])&&zb(t,d,b,E[d],i),d="checked",v!==void 0&&v!==t[d]&&zb(t,d,v,E[d],i))}return t}function L3(t,e,n){try{if(typeof t=="function"){var r=typeof t.__u=="function";r&&t.__u(),r&&e==null||(t.__u=t(e))}else t.current=e}catch(i){Bn.__e(i,n)}}function xj(t,e,n){var r,i;if(Bn.unmount&&Bn.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||L3(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(s){Bn.__e(s,e)}r.base=r.__P=null}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&xj(r[i],e,n||typeof t.type!="function");n||vj(t.__e),t.__c=t.__=t.__e=t.__d=void 0}function hue(t,e,n){return this.constructor(t,n)}function q6(t,e,n){var r,i,s,a;Bn.__&&Bn.__(t,e),i=(r=!1)?null:e.__k,s=[],a=[],B3(e,t=e.__k=yn(H1,null,[t]),i||Zy,Zy,e.namespaceURI,i?null:e.firstChild?W1.call(e.childNodes):null,s,i?i.__e:e.firstChild,r,a),Aj(s,t,a)}W1=wj.slice,Bn={__e:function(t,e,n,r){for(var i,s,a;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),a=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,r||{}),a=i.__d),a)return i.__E=i}catch(c){t=c}throw t}},gj=0,Ow.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Ql({},this.state),typeof t=="function"&&(t=t(Ql({},n),this.props)),t&&Ql(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),bN(this))},Ow.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),bN(this))},Ow.prototype.render=H1,Yu=[],bj=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,j6=function(t,e){return t.__v.__b-e.__v.__b},Av.__r=0,U3=0,z6=vN(!1),F6=vN(!0);var Xy,nr,jS,_N,W6=0,Tj=[],pr=Bn,EN=pr.__b,SN=pr.__r,AN=pr.diffed,xN=pr.__c,TN=pr.unmount,IN=pr.__;function j3(t,e){pr.__h&&pr.__h(nr,t,W6||e),W6=0;var n=nr.__H||(nr.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function CN(t){return W6=1,pue(Cj,t)}function pue(t,e,n){var r=j3(Xy++,2);if(r.t=t,!r.__c&&(r.__=[Cj(void 0,e),function(c){var u=r.__N?r.__N[0]:r.__[0],d=r.t(u,c);u!==d&&(r.__N=[d,r.__[1]],r.__c.setState({}))}],r.__c=nr,!nr.u)){var i=function(c,u,d){if(!r.__c.__H)return!0;var h=r.__c.__H.__.filter(function(y){return!!y.__c});if(h.every(function(y){return!y.__N}))return!s||s.call(this,c,u,d);var p=!1;return h.forEach(function(y){if(y.__N){var g=y.__[0];y.__=y.__N,y.__N=void 0,g!==y.__[0]&&(p=!0)}}),!(!p&&r.__c.props===c)&&(!s||s.call(this,c,u,d))};nr.u=!0;var s=nr.shouldComponentUpdate,a=nr.componentWillUpdate;nr.componentWillUpdate=function(c,u,d){if(this.__e){var h=s;s=void 0,i(c,u,d),s=h}a&&a.call(this,c,u,d)},nr.shouldComponentUpdate=i}return r.__N||r.__}function mue(t,e){var n=j3(Xy++,3);!pr.__s&&Ij(n.__H,e)&&(n.__=t,n.i=e,nr.__H.__h.push(n))}function OBe(t,e){var n=j3(Xy++,7);return Ij(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function yue(){for(var t;t=Tj.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(kw),t.__H.__h.forEach(H6),t.__H.__h=[]}catch(e){t.__H.__h=[],pr.__e(e,t.__v)}}pr.__b=function(t){nr=null,EN&&EN(t)},pr.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),IN&&IN(t,e)},pr.__r=function(t){SN&&SN(t),Xy=0;var e=(nr=t.__c).__H;e&&(jS===nr?(e.__h=[],nr.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.i=n.__N=void 0})):(e.__h.forEach(kw),e.__h.forEach(H6),e.__h=[],Xy=0)),jS=nr},pr.diffed=function(t){AN&&AN(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Tj.push(e)!==1&&_N===pr.requestAnimationFrame||((_N=pr.requestAnimationFrame)||gue)(yue)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.i=void 0})),jS=nr=null},pr.__c=function(t,e){e.some(function(n){try{n.__h.forEach(kw),n.__h=n.__h.filter(function(r){return!r.__||H6(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],pr.__e(r,n.__v)}}),xN&&xN(t,e)},pr.unmount=function(t){TN&&TN(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{kw(r)}catch(i){e=i}}),n.__H=void 0,e&&pr.__e(e,n.__v))};var ON=typeof requestAnimationFrame=="function";function gue(t){var e,n=function(){clearTimeout(r),ON&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);ON&&(e=requestAnimationFrame(n))}function kw(t){var e=nr,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),nr=e}function H6(t){var e=nr;t.__c=t.__(),nr=e}function Ij(t,e){return!t||t.length!==e.length||e.some(function(n,r){return n!==t[r]})}function Cj(t,e){return typeof e=="function"?e(t):e}const bue=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}",wue="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",vue="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";class Oj{constructor(){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=pj()}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",e.appendChild(this.root),this.render()}presentItem(e){const n=this.nextItemKey++;return this.items.set(n,e),this.render(),()=>{this.items.delete(n),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&q6(yn("div",null,yn(kj,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([e,n])=>yn(_ue,Object.assign({},n,{key:e}))))),this.root)}}const kj=t=>yn("div",{class:uy("-cbwsdk-snackbar-container")},yn("style",null,bue),yn("div",{class:"-cbwsdk-snackbar"},t.children)),_ue=({autoExpand:t,message:e,menuItems:n})=>{const[r,i]=CN(!0),[s,a]=CN(t??!1);mue(()=>{const u=[window.setTimeout(()=>{i(!1)},1),window.setTimeout(()=>{a(!0)},1e4)];return()=>{u.forEach(window.clearTimeout)}});const c=()=>{a(!s)};return yn("div",{class:uy("-cbwsdk-snackbar-instance",r&&"-cbwsdk-snackbar-instance-hidden",s&&"-cbwsdk-snackbar-instance-expanded")},yn("div",{class:"-cbwsdk-snackbar-instance-header",onClick:c},yn("img",{src:wue,class:"-cbwsdk-snackbar-instance-header-cblogo"})," ",yn("div",{class:"-cbwsdk-snackbar-instance-header-message"},e),yn("div",{class:"-gear-container"},!s&&yn("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},yn("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),yn("img",{src:vue,class:"-gear-icon",title:"Expand"}))),n&&n.length>0&&yn("div",{class:"-cbwsdk-snackbar-instance-menu"},n.map((u,d)=>yn("div",{class:uy("-cbwsdk-snackbar-instance-menu-item",u.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:u.onClick,key:d},yn("svg",{width:u.svgWidth,height:u.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},yn("path",{"fill-rule":u.defaultFillRule,"clip-rule":u.defaultClipRule,d:u.path,fill:"#AAAAAA"})),yn("span",{class:uy("-cbwsdk-snackbar-instance-menu-item-info",u.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},u.info)))))},Rj="M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z";class Eue{constructor(){this.attached=!1,this.snackbar=new Oj}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,n=document.createElement("div");n.className="-cbwsdk-css-reset",e.appendChild(n),this.snackbar.attach(n),this.attached=!0,mj()}showConnecting(e){let n;return e.isUnlinkedErrorState?n={autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:n={message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:Rj,defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(n)}}const Sue=".-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s;background-color:rgba(10,11,13,.5)}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box{display:block;position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);padding:20px;border-radius:8px;background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box p{display:block;font-weight:400;font-size:14px;line-height:20px;padding-bottom:12px;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box button{appearance:none;border:none;background:none;color:#0052ff;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark{background-color:#0a0b0d;color:#fff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark button{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light{background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light button{color:#0052ff}";class Aue{constructor(){this.root=null,this.darkMode=pj()}attach(){const e=document.documentElement;this.root=document.createElement("div"),this.root.className="-cbwsdk-css-reset",e.appendChild(this.root),mj()}present(e){this.render(e)}clear(){this.render(null)}render(e){this.root&&(q6(null,this.root),e&&q6(yn(xue,Object.assign({},e,{onDismiss:()=>{this.clear()},darkMode:this.darkMode})),this.root))}}const xue=({title:t,buttonText:e,darkMode:n,onButtonClick:r,onDismiss:i})=>{const s=n?"dark":"light";return yn(kj,{darkMode:n},yn("div",{class:"-cbwsdk-redirect-dialog"},yn("style",null,Sue),yn("div",{class:"-cbwsdk-redirect-dialog-backdrop",onClick:i}),yn("div",{class:uy("-cbwsdk-redirect-dialog-box",s)},yn("p",null,t),yn("button",{onClick:r},e))))},Tue="https://keys.coinbase.com/connect",Iue="https://rpc.wallet.coinbase.com",kN="https://www.walletlink.org",Cue="https://go.cb-w.com/walletlink";class RN{constructor(){this.attached=!1,this.redirectDialog=new Aue}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");this.redirectDialog.attach(),this.attached=!0}redirectToCoinbaseWallet(e){const n=new URL(Cue);n.searchParams.append("redirect_url",aue().href),e&&n.searchParams.append("wl_url",e);const r=document.createElement("a");r.target="cbw-opener",r.href=n.href,r.rel="noreferrer noopener",r.click()}openCoinbaseWalletDeeplink(e){this.redirectDialog.present({title:"Redirecting to Coinbase Wallet...",buttonText:"Open",onButtonClick:()=>{this.redirectToCoinbaseWallet(e)}}),setTimeout(()=>{this.redirectToCoinbaseWallet(e)},99)}showConnecting(e){return()=>{this.redirectDialog.clear()}}}class gc{constructor(e){this.chainCallbackParams={chainId:"",jsonRpcUrl:""},this.isMobileWeb=oue(),this.linkedUpdated=s=>{this.isLinked=s;const a=this.storage.getItem(L6);if(s&&(this._session.linked=s),this.isUnlinkedErrorState=!1,a){const c=a.split(" "),u=this.storage.getItem("IsStandaloneSigning")==="true";c[0]!==""&&!s&&this._session.linked&&!u&&(this.isUnlinkedErrorState=!0)}},this.metadataUpdated=(s,a)=>{this.storage.setItem(s,a)},this.chainUpdated=(s,a)=>{this.chainCallbackParams.chainId===s&&this.chainCallbackParams.jsonRpcUrl===a||(this.chainCallbackParams={chainId:s,jsonRpcUrl:a},this.chainCallback&&this.chainCallback(a,Number.parseInt(s,10)))},this.accountUpdated=s=>{this.accountsCallback&&this.accountsCallback([s]),gc.accountRequestCallbackIds.size>0&&(Array.from(gc.accountRequestCallbackIds.values()).forEach(a=>{this.invokeCallback(a,{method:"requestEthereumAccounts",result:[s]})}),gc.accountRequestCallbackIds.clear())},this.resetAndReload=this.resetAndReload.bind(this),this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.metadata=e.metadata,this.accountsCallback=e.accountsCallback,this.chainCallback=e.chainCallback;const{session:n,ui:r,connection:i}=this.subscribe();this._session=n,this.connection=i,this.relayEventManager=new Wle,this.ui=r,this.ui.attach()}subscribe(){const e=Eh.load(this.storage)||Eh.create(this.storage),{linkAPIUrl:n}=this,r=new qle({session:e,linkAPIUrl:n,listener:this}),i=this.isMobileWeb?new RN:new Eue;return r.connect(),{session:e,ui:i,connection:r}}resetAndReload(){this.connection.destroy().then(()=>{const e=Eh.load(this.storage);e?.id===this._session.id&&Ao.clearAll(),document.location.reload()}).catch(e=>{})}signEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:Za(e.weiValue),data:cy(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?Za(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?Za(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?Za(e.gasPriceInWei):null,gasLimit:e.gasLimit?Za(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:Za(e.weiValue),data:cy(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?Za(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?Za(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?Za(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?Za(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,n){return this.sendRequest({method:"submitEthereumTransaction",params:{signedTransaction:cy(e,!0),chainId:n}})}getWalletLinkSession(){return this._session}sendRequest(e){let n=null;const r=Ku(8),i=s=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,e.method,s),n?.()};return new Promise((s,a)=>{n=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload}),this.relayEventManager.callbacks.set(r,c=>{if(n?.(),ii(c))return a(new Error(c.errorMessage));s(c)}),this.publishWeb3RequestEvent(r,e)})}publishWeb3RequestEvent(e,n){const r={type:"WEB3_REQUEST",id:e,request:n};this.publishEvent("Web3Request",r,!0).then(i=>{}).catch(i=>{this.handleWeb3ResponseMessage(r.id,{method:n.method,errorMessage:i.message})}),this.isMobileWeb&&this.openCoinbaseWalletDeeplink(n.method)}openCoinbaseWalletDeeplink(e){if(this.ui instanceof RN)switch(e){case"requestEthereumAccounts":case"switchEthereumChain":return;default:window.addEventListener("blur",()=>{window.addEventListener("focus",()=>{this.connection.checkUnseenEvents()},{once:!0})},{once:!0}),this.ui.openCoinbaseWalletDeeplink();break}}publishWeb3RequestCanceledEvent(e){const n={type:"WEB3_REQUEST_CANCELED",id:e};this.publishEvent("Web3RequestCanceled",n,!1).then()}publishEvent(e,n,r){return this.connection.publishEvent(e,n,r)}handleWeb3ResponseMessage(e,n){if(n.method==="requestEthereumAccounts"){gc.accountRequestCallbackIds.forEach(r=>this.invokeCallback(r,n)),gc.accountRequestCallbackIds.clear();return}this.invokeCallback(e,n)}handleErrorResponse(e,n,r){var i;const s=(i=r?.message)!==null&&i!==void 0?i:"Unspecified error message.";this.handleWeb3ResponseMessage(e,{method:n,errorMessage:s})}invokeCallback(e,n){const r=this.relayEventManager.callbacks.get(e);r&&(r(n),this.relayEventManager.callbacks.delete(e))}requestEthereumAccounts(){const{appName:e,appLogoUrl:n}=this.metadata,r={method:"requestEthereumAccounts",params:{appName:e,appLogoUrl:n}},i=Ku(8);return new Promise((s,a)=>{this.relayEventManager.callbacks.set(i,c=>{if(ii(c))return a(new Error(c.errorMessage));s(c)}),gc.accountRequestCallbackIds.add(i),this.publishWeb3RequestEvent(i,r)})}watchAsset(e,n,r,i,s,a){const c={method:"watchAsset",params:{type:e,options:{address:n,symbol:r,decimals:i,image:s},chainId:a}};let u=null;const d=Ku(8),h=p=>{this.publishWeb3RequestCanceledEvent(d),this.handleErrorResponse(d,c.method,p),u?.()};return u=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:h,onResetConnection:this.resetAndReload}),new Promise((p,y)=>{this.relayEventManager.callbacks.set(d,g=>{if(u?.(),ii(g))return y(new Error(g.errorMessage));p(g)}),this.publishWeb3RequestEvent(d,c)})}addEthereumChain(e,n,r,i,s,a){const c={method:"addEthereumChain",params:{chainId:e,rpcUrls:n,blockExplorerUrls:i,chainName:s,iconUrls:r,nativeCurrency:a}};let u=null;const d=Ku(8),h=p=>{this.publishWeb3RequestCanceledEvent(d),this.handleErrorResponse(d,c.method,p),u?.()};return u=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:h,onResetConnection:this.resetAndReload}),new Promise((p,y)=>{this.relayEventManager.callbacks.set(d,g=>{if(u?.(),ii(g))return y(new Error(g.errorMessage));p(g)}),this.publishWeb3RequestEvent(d,c)})}switchEthereumChain(e,n){const r={method:"switchEthereumChain",params:Object.assign({chainId:e},{address:n})};let i=null;const s=Ku(8),a=c=>{this.publishWeb3RequestCanceledEvent(s),this.handleErrorResponse(s,r.method,c),i?.()};return i=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:a,onResetConnection:this.resetAndReload}),new Promise((c,u)=>{this.relayEventManager.callbacks.set(s,d=>{if(i?.(),ii(d)&&d.errorCode)return u(Vt.provider.custom({code:d.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(ii(d))return u(new Error(d.errorMessage));c(d)}),this.publishWeb3RequestEvent(s,r)})}}gc.accountRequestCallbackIds=new Set;const NN="DefaultChainId",$N="DefaultJsonRpcUrl";class Nj{constructor(e){this._relay=null,this._addresses=[],this.metadata=e.metadata,this._storage=new Ao("walletlink",kN),this.callback=e.callback||null;const n=this._storage.getItem(L6);if(n){const r=n.split(" ");r[0]!==""&&(this._addresses=r.map(i=>El(i)))}this.initializeRelay()}getSession(){const e=this.initializeRelay(),{id:n,secret:r}=e.getWalletLinkSession();return{id:n,secret:r}}async handshake(){await this._eth_requestAccounts()}get selectedAddress(){return this._addresses[0]||void 0}get jsonRpcUrl(){var e;return(e=this._storage.getItem($N))!==null&&e!==void 0?e:void 0}set jsonRpcUrl(e){this._storage.setItem($N,e)}updateProviderInfo(e,n){var r;this.jsonRpcUrl=e;const i=this.getChainId();this._storage.setItem(NN,n.toString(10)),ly(n)!==i&&((r=this.callback)===null||r===void 0||r.call(this,"chainChanged",Jl(n)))}async watchAsset(e){const n=Array.isArray(e)?e[0]:e;if(!n.type)throw Vt.rpc.invalidParams("Type is required");if(n?.type!=="ERC20")throw Vt.rpc.invalidParams(`Asset of type '${n.type}' is not supported`);if(!n?.options)throw Vt.rpc.invalidParams("Options are required");if(!n?.options.address)throw Vt.rpc.invalidParams("Address is required");const r=this.getChainId(),{address:i,symbol:s,image:a,decimals:c}=n.options,d=await this.initializeRelay().watchAsset(n.type,i,s,c,a,r?.toString());return ii(d)?!1:!!d.result}async addEthereumChain(e){var n,r;const i=e[0];if(((n=i.rpcUrls)===null||n===void 0?void 0:n.length)===0)throw Vt.rpc.invalidParams("please pass in at least 1 rpcUrl");if(!i.chainName||i.chainName.trim()==="")throw Vt.rpc.invalidParams("chainName is a required field");if(!i.nativeCurrency)throw Vt.rpc.invalidParams("nativeCurrency is a required field");const s=Number.parseInt(i.chainId,16);if(s===this.getChainId())return!1;const a=this.initializeRelay(),{rpcUrls:c=[],blockExplorerUrls:u=[],chainName:d,iconUrls:h=[],nativeCurrency:p}=i,y=await a.addEthereumChain(s.toString(),c,h,u,d,p);if(ii(y))return!1;if(((r=y.result)===null||r===void 0?void 0:r.isApproved)===!0)return this.updateProviderInfo(c[0],s),null;throw Vt.rpc.internal("unable to add ethereum chain")}async switchEthereumChain(e){const n=e[0],r=Number.parseInt(n.chainId,16),s=await this.initializeRelay().switchEthereumChain(r.toString(10),this.selectedAddress||void 0);if(ii(s))throw s;const a=s.result;return a.isApproved&&a.rpcUrl.length>0&&this.updateProviderInfo(a.rpcUrl,r),null}async cleanup(){this.callback=null,this._relay&&this._relay.resetAndReload(),this._storage.clear()}_setAddresses(e,n){var r;if(!Array.isArray(e))throw new Error("addresses is not an array");const i=e.map(s=>El(s));JSON.stringify(i)!==JSON.stringify(this._addresses)&&(this._addresses=i,(r=this.callback)===null||r===void 0||r.call(this,"accountsChanged",i),this._storage.setItem(L6,i.join(" ")))}async request(e){const n=e.params||[];switch(e.method){case"eth_accounts":return[...this._addresses];case"eth_coinbase":return this.selectedAddress||null;case"net_version":return this.getChainId().toString(10);case"eth_chainId":return Jl(this.getChainId());case"eth_requestAccounts":return this._eth_requestAccounts();case"eth_ecRecover":case"personal_ecRecover":return this.ecRecover(e);case"personal_sign":return this.personalSign(e);case"eth_signTransaction":return this._eth_signTransaction(n);case"eth_sendRawTransaction":return this._eth_sendRawTransaction(n);case"eth_sendTransaction":return this._eth_sendTransaction(n);case"eth_signTypedData_v1":case"eth_signTypedData_v3":case"eth_signTypedData_v4":case"eth_signTypedData":return this.signTypedData(e);case"wallet_addEthereumChain":return this.addEthereumChain(n);case"wallet_switchEthereumChain":return this.switchEthereumChain(n);case"wallet_watchAsset":return this.watchAsset(n);default:if(!this.jsonRpcUrl)throw Vt.rpc.internal("No RPC URL set for chain");return P3(e,this.jsonRpcUrl)}}_ensureKnownAddress(e){const n=El(e);if(!this._addresses.map(i=>El(i)).includes(n))throw new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const n=e.from?El(e.from):this.selectedAddress;if(!n)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(n);const r=e.to?El(e.to):null,i=e.value!=null?wm(e.value):BigInt(0),s=e.data?B6(e.data):Buffer.alloc(0),a=e.nonce!=null?ly(e.nonce):null,c=e.gasPrice!=null?wm(e.gasPrice):null,u=e.maxFeePerGas!=null?wm(e.maxFeePerGas):null,d=e.maxPriorityFeePerGas!=null?wm(e.maxPriorityFeePerGas):null,h=e.gas!=null?wm(e.gas):null,p=e.chainId?ly(e.chainId):this.getChainId();return{fromAddress:n,toAddress:r,weiValue:i,data:s,nonce:a,gasPriceInWei:c,maxFeePerGas:u,maxPriorityFeePerGas:d,gasLimit:h,chainId:p}}async ecRecover(e){const{method:n,params:r}=e;if(!Array.isArray(r))throw Vt.rpc.invalidParams();const s=await this.initializeRelay().sendRequest({method:"ethereumAddressFromSignedMessage",params:{message:RS(r[0]),signature:RS(r[1]),addPrefix:n==="personal_ecRecover"}});if(ii(s))throw s;return s.result}getChainId(){var e;return Number.parseInt((e=this._storage.getItem(NN))!==null&&e!==void 0?e:"1",10)}async _eth_requestAccounts(){var e,n;if(this._addresses.length>0)return(e=this.callback)===null||e===void 0||e.call(this,"connect",{chainId:Jl(this.getChainId())}),this._addresses;const i=await this.initializeRelay().requestEthereumAccounts();if(ii(i))throw i;if(!i.result)throw new Error("accounts received is empty");return this._setAddresses(i.result),(n=this.callback)===null||n===void 0||n.call(this,"connect",{chainId:Jl(this.getChainId())}),this._addresses}async personalSign({params:e}){if(!Array.isArray(e))throw Vt.rpc.invalidParams();const n=e[1],r=e[0];this._ensureKnownAddress(n);const s=await this.initializeRelay().sendRequest({method:"signEthereumMessage",params:{address:El(n),message:RS(r),addPrefix:!0,typedDataJson:null}});if(ii(s))throw s;return s.result}async _eth_signTransaction(e){const n=this._prepareTransactionParams(e[0]||{}),i=await this.initializeRelay().signEthereumTransaction(n);if(ii(i))throw i;return i.result}async _eth_sendRawTransaction(e){const n=B6(e[0]),i=await this.initializeRelay().submitEthereumTransaction(n,this.getChainId());if(ii(i))throw i;return i.result}async _eth_sendTransaction(e){const n=this._prepareTransactionParams(e[0]||{}),i=await this.initializeRelay().signAndSubmitEthereumTransaction(n);if(ii(i))throw i;return i.result}async signTypedData(e){const{method:n,params:r}=e;if(!Array.isArray(r))throw Vt.rpc.invalidParams();const i=d=>{const h={eth_signTypedData_v1:jb.hashForSignTypedDataLegacy,eth_signTypedData_v3:jb.hashForSignTypedData_v3,eth_signTypedData_v4:jb.hashForSignTypedData_v4,eth_signTypedData:jb.hashForSignTypedData_v4};return cy(h[n]({data:yle(d)}),!0)},s=r[n==="eth_signTypedData_v1"?1:0],a=r[n==="eth_signTypedData_v1"?0:1];this._ensureKnownAddress(s);const u=await this.initializeRelay().sendRequest({method:"signEthereumMessage",params:{address:El(s),message:i(a),typedDataJson:JSON.stringify(a,null,2),addPrefix:!1}});if(ii(u))throw u;return u.result}initializeRelay(){return this._relay||(this._relay=new gc({linkAPIUrl:kN,storage:this._storage,metadata:this.metadata,accountsCallback:this._setAddresses.bind(this),chainCallback:this.updateProviderInfo.bind(this)})),this._relay}}const $j="SignerType",Pj=new Ao("CBWSDK","SignerConfigurator");function Oue(){return Pj.getItem($j)}function kue(t){Pj.setItem($j,t)}async function Rue(t){const{communicator:e,metadata:n,handshakeRequest:r,callback:i}=t;$ue(e,n,i).catch(()=>{});const s={id:crypto.randomUUID(),event:"selectSignerType",data:Object.assign(Object.assign({},t.preference),{handshakeRequest:r})},{data:a}=await e.postRequestAndWaitForResponse(s);return a}function Nue(t){const{signerType:e,metadata:n,communicator:r,callback:i}=t;switch(e){case"scw":return new Ole({metadata:n,callback:i,communicator:r});case"walletlink":return new Nj({metadata:n,callback:i})}}async function $ue(t,e,n){await t.onMessage(({event:i})=>i==="WalletLinkSessionRequest");const r=new Nj({metadata:e,callback:n});t.postMessage({event:"WalletLinkUpdate",data:{session:r.getSession()}}),await r.handshake(),t.postMessage({event:"WalletLinkUpdate",data:{connected:!0}})}const Pue=`Coinbase Wallet SDK requires the Cross-Origin-Opener-Policy header to not be set to 'same-origin'. This is to ensure that the SDK can communicate with the Coinbase Smart Wallet app.

Please see https://www.smartwallet.dev/guides/tips/popup-tips#cross-origin-opener-policy for more information.`,Due=()=>{let t;return{getCrossOriginOpenerPolicy:()=>t===void 0?"undefined":t,checkCrossOriginOpenerPolicy:async()=>{if(typeof window>"u"){t="non-browser-env";return}try{const e=`${window.location.origin}${window.location.pathname}`,n=await fetch(e,{method:"HEAD"});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const r=n.headers.get("Cross-Origin-Opener-Policy");t=r??"null",t==="same-origin"&&console.error(Pue)}catch(e){console.error("Error checking Cross-Origin-Opener-Policy:",e.message),t="error"}}}},{checkCrossOriginOpenerPolicy:Uue,getCrossOriginOpenerPolicy:Mue}=Due(),PN=420,DN=540,Bue={isRed:!1,info:"Retry",svgWidth:"10",svgHeight:"11",path:Rj,defaultFillRule:"evenodd",defaultClipRule:"evenodd"},Lue="Popup was blocked. Try again.";let Fb=null;function jue(t){const e=(window.innerWidth-PN)/2+window.screenX,n=(window.innerHeight-DN)/2+window.screenY;Fue(t);function r(){const s=`wallet_${crypto.randomUUID()}`,a=window.open(t,s,`width=${PN}, height=${DN}, left=${e}, top=${n}`);return a?.focus(),a||null}let i=r();if(!i){const s=que();return new Promise((a,c)=>{s.presentItem({autoExpand:!0,message:Lue,menuItems:[Object.assign(Object.assign({},Bue),{onClick:()=>{i=r(),i?a(i):c(Vt.rpc.internal("Popup window was blocked")),s.clear()}})]})})}return Promise.resolve(i)}function zue(t){t&&!t.closed&&t.close()}function Fue(t){const e={sdkName:uj,sdkVersion:Lg,origin:window.location.origin,coop:Mue()};for(const[n,r]of Object.entries(e))t.searchParams.append(n,r.toString())}function que(){if(!Fb){const t=document.createElement("div");t.className="-cbwsdk-css-reset",document.body.appendChild(t),Fb=new Oj,Fb.attach(t)}return Fb}class Wue{constructor({url:e=Tue,metadata:n,preference:r}){this.popup=null,this.listeners=new Map,this.postMessage=async i=>{(await this.waitForPopupLoaded()).postMessage(i,this.url.origin)},this.postRequestAndWaitForResponse=async i=>{const s=this.onMessage(({requestId:a})=>a===i.id);return this.postMessage(i),await s},this.onMessage=async i=>new Promise((s,a)=>{const c=u=>{if(u.origin!==this.url.origin)return;const d=u.data;i(d)&&(s(d),window.removeEventListener("message",c),this.listeners.delete(c))};window.addEventListener("message",c),this.listeners.set(c,{reject:a})}),this.disconnect=()=>{zue(this.popup),this.popup=null,this.listeners.forEach(({reject:i},s)=>{i(Vt.provider.userRejectedRequest("Request rejected")),window.removeEventListener("message",s)}),this.listeners.clear()},this.waitForPopupLoaded=async()=>this.popup&&!this.popup.closed?(this.popup.focus(),this.popup):(this.popup=await jue(this.url),this.onMessage(({event:i})=>i==="PopupUnload").then(this.disconnect).catch(()=>{}),this.onMessage(({event:i})=>i==="PopupLoaded").then(i=>{this.postMessage({requestId:i.id,data:{version:Lg,metadata:this.metadata,preference:this.preference,location:window.location.toString()}})}).then(()=>{if(!this.popup)throw Vt.rpc.internal();return this.popup})),this.url=new URL(e),this.metadata=n,this.preference=r}}function Hue(t){const e=dle(Vue(t),{shouldIncludeStack:!0}),n=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");return n.searchParams.set("version",Lg),n.searchParams.set("code",e.code.toString()),n.searchParams.set("message",e.message),Object.assign(Object.assign({},e),{docUrl:n.href})}function Vue(t){var e;if(typeof t=="string")return{message:t,code:Qn.rpc.internal};if(ii(t)){const n=t.errorMessage,r=(e=t.errorCode)!==null&&e!==void 0?e:n.match(/(denied|rejected)/i)?Qn.provider.userRejectedRequest:void 0;return Object.assign(Object.assign({},t),{message:n,code:r,data:{method:t.method}})}return t}class Gue extends jd{}var Kue=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class Yue extends Gue{constructor(e){var{metadata:n}=e,r=e.preference,{keysUrl:i}=r,s=Kue(r,["keysUrl"]);super(),this.signer=null,this.isCoinbaseWallet=!0,this.metadata=n,this.preference=s,this.communicator=new Wue({url:i,metadata:n,preference:s});const a=Oue();a&&(this.signer=this.initSigner(a))}async request(e){try{if(Cle(e),!this.signer)switch(e.method){case"eth_requestAccounts":{const n=await this.requestSignerSelection(e),r=this.initSigner(n);await r.handshake(e),this.signer=r,kue(n);break}case"wallet_sendCalls":{const n=this.initSigner("scw");await n.handshake({method:"handshake"});const r=await n.request(e);return await n.cleanup(),r}case"wallet_getCallsStatus":return P3(e,Iue);case"net_version":return 1;case"eth_chainId":return Jl(1);default:throw Vt.provider.unauthorized("Must call 'eth_requestAccounts' before other methods")}return await this.signer.request(e)}catch(n){const{code:r}=n;return r===Qn.provider.unauthorized&&this.disconnect(),Promise.reject(Hue(n))}}async enable(){return console.warn('.enable() has been deprecated. Please use .request({ method: "eth_requestAccounts" }) instead.'),await this.request({method:"eth_requestAccounts"})}async disconnect(){var e;await((e=this.signer)===null||e===void 0?void 0:e.cleanup()),this.signer=null,Ao.clearAll(),this.emit("disconnect",Vt.provider.disconnected("User initiated disconnection"))}requestSignerSelection(e){return Rue({communicator:this.communicator,preference:this.preference,metadata:this.metadata,handshakeRequest:e,callback:this.emit.bind(this)})}initSigner(e){return Nue({signerType:e,metadata:this.metadata,communicator:this.communicator,callback:this.emit.bind(this)})}}function Zue(t){if(t){if(!["all","smartWalletOnly","eoaOnly"].includes(t.options))throw new Error(`Invalid options: ${t.options}`);if(t.attribution&&t.attribution.auto!==void 0&&t.attribution.dataSuffix!==void 0)throw new Error("Attribution cannot contain both auto and dataSuffix properties")}}function Xue(t){var e;const n={metadata:t.metadata,preference:t.preference};return(e=Ile(n))!==null&&e!==void 0?e:new Yue(n)}const Jue={options:"all"};function UN(t){var e;new Ao("CBWSDK").setItem("VERSION",Lg),Uue();const r={metadata:{appName:t.appName||"Dapp",appLogoUrl:t.appLogoUrl||"",appChainIds:t.appChainIds||[]},preference:Object.assign(Jue,(e=t.preference)!==null&&e!==void 0?e:{})};Zue(r.preference);let i=null;return{getProvider:()=>(i||(i=Xue(r)),i)}}function Que(t){if(typeof window>"u")return;const e=n=>t(n.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function ede(){const t=new Set;let e=[];const n=()=>Que(i=>{e.some(({info:s})=>s.uuid===i.info.uuid)||(e=[...e,i],t.forEach(s=>s(e,{added:[i]})))});let r=n();return{_listeners(){return t},clear(){t.forEach(i=>i([],{removed:[...e]})),e=[]},destroy(){this.clear(),t.clear(),r?.()},findProvider({rdns:i}){return e.find(s=>s.info.rdns===i)},getProviders(){return e},reset(){this.clear(),r?.(),r=n()},subscribe(i,{emitImmediately:s}={}){return t.add(i),s&&i(e,{added:e}),()=>t.delete(i)}}}const tde=({w:t,h:e})=>{let n=window.screenLeft!==void 0?window.screenLeft:window.screenX,r=window.screenTop!==void 0?window.screenTop:window.screenY,i=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,s=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height;return`toolbar=0,location=0,menubar=0,height=${e},width=${t},popup=1,left=${(i-t)/2/(i/window.screen.availWidth)+n},top=${(s-e)/2/(s/window.screen.availHeight)+r}`},Dj=t=>window.open(t?.location,void 0,tde({w:440,h:680})),Uj="/api/v1/sessions",Mj="/api/v1/sessions/logout",nde="/api/v1/siwe/init",rde="/api/v1/siwe/authenticate",ide="/api/v1/siwe/link",sde="/api/v1/siwe/link_smart_wallet",ade="/api/v1/siwe/unlink",ode="/api/v1/siwe/transfer",cde="/api/v1/siws/init",lde="/api/v1/siws/authenticate",ude="/api/v1/siws/link",dde="/api/v1/siws/unlink",fde="/api/v1/siws/transfer",hde="/api/v1/farcaster/init",pde="/api/v1/farcaster/authenticate",mde="/api/v1/farcaster/link",yde="/api/v1/farcaster/status",gde="/api/v1/farcaster/unlink",bde="/api/v1/farcaster/transfer",wde="/api/v1/passwordless/init",vde="/api/v1/passwordless/authenticate",_de="/api/v1/passwordless/link",Ede="/api/v1/passwordless/unlink",Sde="/api/v1/passwordless/update",Ade="/api/v1/passwordless/transfer",xde="/api/v1/passwordless_sms/init",Tde="/api/v1/passwordless_sms/link",Ide="/api/v1/passwordless_sms/unlink",Cde="/api/v1/passwordless_sms/authenticate",Ode="/api/v1/passwordless_sms/update",kde="/api/v1/passwordless_sms/transfer",Bj="/api/v1/oauth/init",Lj="/api/v1/oauth/authenticate",jj="/api/v1/oauth/link",Rde="/api/v1/oauth/unlink",Nde="/api/v1/oauth/transfer",kBe="/api/v1/recovery/oauth/init",RBe="/api/v1/recovery/oauth/init_icloud",NBe="/api/v1/recovery/oauth/authenticate",$de="/api/v1/passkeys/link/init",Pde="/api/v1/passkeys/authenticate/init",Dde="/api/v1/passkeys/register/init",Ude="/api/v1/passkeys/link",Mde="/api/v1/passkeys/authenticate",Bde="/api/v1/passkeys/register",Lde="/api/v1/telegram/authenticate",jde="/api/v1/telegram/link",zde="/api/v1/telegram/unlink",Fde="/api/v1/telegram/transfer",qde="/api/v1/mfa/passwordless_sms/init",Wde="/api/v1/mfa/passkeys/init",Hde="/api/v1/users/me/accept_terms",zj="/api/v1/analytics_events",Vde="/api/v1/custom_jwt_account/authenticate",Gde="/api/v1/custom_jwt_account/link",Kde="/api/v1/guest/authenticate",Yde="/api/v1/plugins/moonpay_on_ramp/sign",Zde="/api/v1/funding/coinbase_on_ramp/init",Xde="/api/v1/funding/coinbase_on_ramp/status",Jde="/api/v1/wallets/revoke",Qde="/api/v1/users/me",efe="/api/v1/scan/transaction";function Fj(t){return{name:t.metadata?.shortName||t.name||"",universalLink:t.mobile.universal,deepLink:t.mobile.native}}function tfe(t,e){let n=Fj(e);if(Mc.isMobile&&n.universalLink)return xv(n.universalLink,t);if(n.deepLink)return Wj(n.deepLink,t);if(n.universalLink)return xv(n.universalLink,t);throw new ae(`Unsupported wallet ${e.id}`)}function MN(t,e){let n=Fj(e);if(n.universalLink)return xv(n.universalLink,t)}let z3="WALLETCONNECT_DEEPLINK_CHOICE";function nfe(){try{localStorage.removeItem(z3)}catch{}}function rfe({href:t,name:e}){try{localStorage.setItem(z3,JSON.stringify({href:t,name:e}))}catch{}}function ife(){try{localStorage.removeItem(z3)}catch{}}function qj(t){return t.startsWith("http://")||t.startsWith("https://")}function Wj(t,e){if(qj(t))return xv(t,e);let n=t;return n.includes("://")||(n=t.replaceAll("/","").replaceAll(":",""),n=`${n}://`),n.endsWith("/")||(n=`${n}/`),{redirect:`${n}wc?uri=${encodeURIComponent(e)}`,href:n}}function xv(t,e){if(!qj(t))return Wj(t,e);let n=t;return n.endsWith("/")||(n=`${n}/`),{redirect:`${n}wc?uri=${encodeURIComponent(e)}`,href:n}}function Hj(t,e){window.open(t,e,"noreferrer noopener")}const sfe=({address:t,nonce:e})=>`${window.location.host} wants you to sign in with your Solana account:
${t}

${`You are proving you own ${t}.`}

URI: ${window.location.origin}
Version: 1
Chain ID: mainnet
Nonce: ${e}
Issued At: ${new Date().toISOString()}
Resources:
- https://privy.io`;let Vj=Y.createContext({plugins:{current:{}}});const afe=({children:t})=>{let e=Y.useRef({});return pe.jsx(Vj.Provider,{value:{plugins:e},children:t})},ofe=()=>{let{plugins:t}=Y.useContext(Vj);return Y.useCallback((e=>t.current[e]),[t])},cfe=Symbol("solana-funding-plugin"),lfe=Symbol("solana-ledger-plugin"),F3=(t,{chainType:e,walletIndex:n}={})=>t?.linkedAccounts.filter((r=>!(r.type!=="wallet"||r.walletClientType!=="privy"||n!==void 0&&r.walletIndex!==n||e!==void 0&&r.chainType!==e)))??[],ufe=t=>t.reduce(((e,n)=>!e||e.walletIndex<n.walletIndex?n:e),null),dfe=async({user:t,accessToken:e,proxy:n,refreshSessionAndUser:r,privy:i,appConfig:s,recoverEmbeddedWallet:a,setUser:c,walletIndex:u,chainType:d,recoveryMethod:h,recoveryPassword:p,recoveryAccessToken:y})=>{if(u===0)if(s.embeddedWallets.mode==="user-controlled-server-wallets-only")await Ix(i,{request:{chain_type:d}});else if(d==="ethereum"){let v=w3(t);v&&await a({address:v.address}),await n.create({accessToken:e,solanaAddress:v?.address,recoveryMethod:h,recoveryPassword:p,recoveryAccessToken:y})}else{if(d!=="solana")throw Error("Invalid input to create wallet");{let v=mc(t);v&&await a({address:v.address}),await n.createSolana({accessToken:e,ethereumAddress:v?.address,recoveryMethod:h,recoveryPassword:p,recoveryAccessToken:y})}}else if(s.embeddedWallets.mode==="user-controlled-server-wallets-only")await Ix(i,{request:{chain_type:d}});else{let{entropyId:v,entropyIdVerifier:E}=Bl(t);await a(),await n.addWallet({accessToken:e,entropyId:v,entropyIdVerifier:E,chainType:d,hdWalletIndex:u})}let g=await r(),b=F3(g,{chainType:d,walletIndex:u})[0];return c(g),{user:g,account:b}};let BN=async({accessToken:t,appConfig:e,privy:n,emitPrivyEvent:r,proxy:i,refreshSessionAndUser:s,recoverEmbeddedWallet:a,user:c,walletIndex:u,setModalData:d,openModal:h,chainType:p,setUser:y})=>{if(u<0)throw r("createWallet","onError",Ie.EMBEDDED_WALLET_CREATE_ERROR),Error(`A negative walletIndex (${u}) is invalid.`);let g=Hy(c);if(u>0&&!g)throw r("createWallet","onError",Ie.EMBEDDED_WALLET_NOT_FOUND),Error("Must have an existing embedded wallet to create an additional wallet.");if(e.embeddedWallets.requireUserOwnedRecoveryOnCreate&&e.embeddedWallets.mode==="user-controlled-server-wallets-only")throw r("createWallet","onError",Ie.EMBEDDED_WALLET_CREATE_ERROR),Error("User owned recovery not yet supported for this app.");if(!g&&e.embeddedWallets.requireUserOwnedRecoveryOnCreate)return await LN({emitPrivyEvent:r,setModalData:d,openModal:h,chainType:p});let b=F3(c,{chainType:p,walletIndex:u})[0];if(b)return{user:c,account:b};if(u===0&&!i)return LN({emitPrivyEvent:r,setModalData:d,openModal:h,chainType:p});if(!i)throw r("createWallet","onError",Ie.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to connect to wallet proxy");return dfe({appConfig:e,walletIndex:u,chainType:p,user:c,accessToken:t,proxy:i,refreshSessionAndUser:s,privy:n,recoverEmbeddedWallet:a,setUser:y})},LN=async({emitPrivyEvent:t,setModalData:e,openModal:n,chainType:r})=>new Promise(((i,s)=>{e({createWallet:{onSuccess:({user:a,account:c})=>{t("createWallet","onSuccess",{wallet:c}),i({user:a,account:c})},onFailure:a=>{t("createWallet","onError",Ie.UNKNOWN_EMBEDDED_WALLET_ERROR),s(a)},callAuthOnSuccessOnClose:!1,shouldCreateEth:r==="ethereum",shouldCreateSol:r==="solana"}}),n("EmbeddedWalletOnAccountCreateScreen")}));const ffe=()=>{let t=Ro(),e=z1(),{setModalData:n}=Vy(),{initializeWalletProxy:r,recoverEmbeddedWallet:i,setUser:s,openModal:a,refreshSessionAndUser:c,privy:u,client:d}=zd();return{create:async({chainType:h,options:p,latestUser:y})=>{let g=y;if(g||(g=await c()),!g)throw e("createWallet","onError",Ie.MUST_BE_AUTHENTICATED),Error("User must be authenticated before creating a Privy wallet");return await(async({appConfig:b,getAccessToken:v,initializeWalletProxy:E,user:O,privy:k,emitPrivyEvent:A,recoverEmbeddedWallet:S,setModalData:C,openModal:I,setUser:$,options:z,timeoutDuration:j,refreshSessionAndUser:B,chainType:G})=>{let[U,F]=await Promise.all([E(j),v()]);if(!F||!O)throw A("createWallet","onError",Ie.MUST_BE_AUTHENTICATED),Error("User must be authenticated before creating a Privy wallet");if(!U&&b.customAuth?.enabled)throw A("createWallet","onError",Ie.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to connect to wallet proxy");if(z&&"walletIndex"in z&&typeof z.walletIndex=="number"){if(b.embeddedWallets.mode==="user-controlled-server-wallets-only")throw A("createWallet","onError",Ie.INVALID_DATA),Error("Invalid input, use `createAdditional` instead of `walletIndex` to create additional wallets.");return BN({accessToken:F,appConfig:b,privy:k,emitPrivyEvent:A,openModal:I,proxy:U,refreshSessionAndUser:B,recoverEmbeddedWallet:S,setModalData:C,user:O,walletIndex:z.walletIndex,chainType:G,setUser:$})}let K=z&&"createAdditional"in z&&z.createAdditional,T=F3(O,{chainType:G});if(T[0]&&!K)throw A("createWallet","onError",Ie.EMBEDDED_WALLET_ALREADY_EXISTS),Error("User already has an embedded wallet.");return BN({accessToken:F,appConfig:b,privy:k,emitPrivyEvent:A,openModal:I,proxy:U,recoverEmbeddedWallet:S,setModalData:C,user:O,walletIndex:(ufe(T)?.walletIndex??-1)+1,chainType:G,refreshSessionAndUser:B,setUser:$})})({appConfig:t,privy:u,getAccessToken:()=>d.getAccessToken(),refreshSessionAndUser:c,initializeWalletProxy:r,user:g,emitPrivyEvent:e,recoverEmbeddedWallet:i,setModalData:n,openModal:a,setUser:s,options:p,timeoutDuration:_ae,chainType:h})}}};function hfe(t){let{create:e}=ffe();return j1("createWallet",t),{createWallet:async n=>{n&&"target"in n&&n&&(n=void 0);let{account:r}=await e({chainType:"ethereum",options:n});return r}}}const pfe=async({emitPrivyEvent:t,getAccessToken:e,initializeWalletProxy:n,refreshSessionAndUser:r,user:i,appConfig:s},{privateKey:a,chainType:c,additionalSigners:u})=>{if(!i)throw t("linkAccount","onError",Ie.MUST_BE_AUTHENTICATED,{linkMethod:"siwe"}),new ae("User must be authenticated before linking an account.");let d=s.embeddedWallets.mode==="user-controlled-server-wallets-only"?"tee":"on-device";if(u&&d==="on-device")throw new ae("Specifying additionalSigners is only supported for TEE execution and this app uses On-device execution. Learn more https://docs.privy.io/recipes/tee-wallet-migration-guide");let[h,p]=await Promise.all([e(),n(15e3)]);if(!p||!h)throw t("linkAccount","onError",Ie.MUST_BE_AUTHENTICATED,{linkMethod:"siwe"}),new ae("User must be authenticated before linking an account.");let{address:y}=await p.importWallet({privateKey:a,accessToken:h,chainType:c,mode:d,additionalSigners:u}),g=await r(),b=S6(g),v=b?.find((E=>E.address===y));if(!v)throw t("createWallet","onError",Ie.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to import wallet");return t("createWallet","onSuccess",{wallet:v}),v},mfe=()=>{let{user:t}=Ug(),{client:e,refreshSessionAndUser:n,initializeWalletProxy:r}=zd(),i=z1(),s=Ro();return{importWallet:Y.useCallback((({privateKey:a,additionalSigners:c})=>pfe({getAccessToken:()=>e.getAccessToken(),user:t,initializeWalletProxy:r,refreshSessionAndUser:n,emitPrivyEvent:i,appConfig:s},{privateKey:a,chainType:"ethereum",additionalSigners:c})),[t,e,n,r,i,s])}},Gj=()=>{let{importWallet:t}=mfe(),{createWallet:e}=hfe();return{...Y.useContext(up),importWallet:t,createWallet:e}};function q3(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function yfe(t,...e){if(!q3(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function Kj(t,e){return Array.isArray(e)?e.length===0?!0:t?e.every(n=>typeof n=="string"):e.every(n=>Number.isSafeInteger(n)):!1}function Jy(t,e){if(typeof e!="string")throw new Error(`${t}: string expected`);return!0}function jg(t){if(!Number.isSafeInteger(t))throw new Error(`invalid integer: ${t}`)}function Tv(t){if(!Array.isArray(t))throw new Error("array expected")}function Iv(t,e){if(!Kj(!0,e))throw new Error(`${t}: array of strings expected`)}function Yj(t,e){if(!Kj(!1,e))throw new Error(`${t}: array of numbers expected`)}function W3(...t){const e=s=>s,n=(s,a)=>c=>s(a(c)),r=t.map(s=>s.encode).reduceRight(n,e),i=t.map(s=>s.decode).reduce(n,e);return{encode:r,decode:i}}function H3(t){const e=typeof t=="string"?t.split(""):t,n=e.length;Iv("alphabet",e);const r=new Map(e.map((i,s)=>[i,s]));return{encode:i=>(Tv(i),i.map(s=>{if(!Number.isSafeInteger(s)||s<0||s>=n)throw new Error(`alphabet.encode: digit index outside alphabet "${s}". Allowed: ${t}`);return e[s]})),decode:i=>(Tv(i),i.map(s=>{Jy("alphabet.decode",s);const a=r.get(s);if(a===void 0)throw new Error(`Unknown letter: "${s}". Allowed: ${t}`);return a}))}}function V3(t=""){return Jy("join",t),{encode:e=>(Iv("join.decode",e),e.join(t)),decode:e=>(Jy("join.decode",e),e.split(t))}}function Zj(t,e="="){return jg(t),Jy("padding",e),{encode(n){for(Iv("padding.encode",n);n.length*t%8;)n.push(e);return n},decode(n){Iv("padding.decode",n);let r=n.length;if(r*t%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;r>0&&n[r-1]===e;r--)if((r-1)*t%8===0)throw new Error("padding: invalid, string has too much padding");return n.slice(0,r)}}}function jN(t,e,n){if(e<2)throw new Error(`convertRadix: invalid from=${e}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: invalid to=${n}, base cannot be less than 2`);if(Tv(t),!t.length)return[];let r=0;const i=[],s=Array.from(t,c=>{if(jg(c),c<0||c>=e)throw new Error(`invalid integer: ${c}`);return c}),a=s.length;for(;;){let c=0,u=!0;for(let d=r;d<a;d++){const h=s[d],p=e*c,y=p+h;if(!Number.isSafeInteger(y)||p/e!==c||y-h!==p)throw new Error("convertRadix: carry overflow");const g=y/n;c=y%n;const b=Math.floor(g);if(s[d]=b,!Number.isSafeInteger(b)||b*n+c!==y)throw new Error("convertRadix: carry overflow");if(u)b?u=!1:r=d;else continue}if(i.push(c),u)break}for(let c=0;c<t.length-1&&t[c]===0;c++)i.push(0);return i.reverse()}const Xj=(t,e)=>e===0?t:Xj(e,t%e),Cv=(t,e)=>t+(e-Xj(t,e)),zS=(()=>{let t=[];for(let e=0;e<40;e++)t.push(2**e);return t})();function zN(t,e,n,r){if(Tv(t),e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(Cv(e,n)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${n} carryBits=${Cv(e,n)}`);let i=0,s=0;const a=zS[e],c=zS[n]-1,u=[];for(const d of t){if(jg(d),d>=a)throw new Error(`convertRadix2: invalid data word=${d} from=${e}`);if(i=i<<e|d,s+e>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${e}`);for(s+=e;s>=n;s-=n)u.push((i>>s-n&c)>>>0);const h=zS[s];if(h===void 0)throw new Error("invalid carry");i&=h-1}if(i=i<<n-s&c,!r&&s>=e)throw new Error("Excess padding");if(!r&&i>0)throw new Error(`Non-zero padding: ${i}`);return r&&s>0&&u.push(i>>>0),u}function gfe(t){jg(t);const e=2**8;return{encode:n=>{if(!q3(n))throw new Error("radix.encode input should be Uint8Array");return jN(Array.from(n),e,t)},decode:n=>(Yj("radix.decode",n),Uint8Array.from(jN(n,t,e)))}}function Jj(t,e=!1){if(jg(t),t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(Cv(8,t)>32||Cv(t,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!q3(n))throw new Error("radix2.encode input should be Uint8Array");return zN(Array.from(n),8,t,!e)},decode:n=>(Yj("radix2.decode",n),Uint8Array.from(zN(n,t,8,e)))}}const bfe=W3(Jj(5),H3("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),Zj(5),V3("")),wfe=typeof Uint8Array.from([]).toBase64=="function"&&typeof Uint8Array.fromBase64=="function",vfe=(t,e)=>{Jy("base64",t);const n=/^[A-Za-z0-9=+/]+$/,r="base64";if(t.length>0&&!n.test(t))throw new Error("invalid base64");return Uint8Array.fromBase64(t,{alphabet:r,lastChunkHandling:"strict"})},FS=wfe?{encode(t){return yfe(t),t.toBase64()},decode(t){return vfe(t)}}:W3(Jj(6),H3("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),Zj(6),V3("")),_fe=t=>W3(gfe(58),H3(t),V3("")),Efe=_fe("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var Sfe=RU(),Afe=Object.defineProperty,xfe=(t,e,n)=>e in t?Afe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,qS=(t,e,n)=>(xfe(t,typeof e!="symbol"?e+"":e,n),n);let Tfe=class{constructor(){qS(this,"current",this.detect()),qS(this,"handoffState","pending"),qS(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},bo=new Tfe;function zg(t){var e;return bo.isServer?null:t==null?document:(e=t?.ownerDocument)!=null?e:document}function Ov(t){var e,n;return bo.isServer?null:t==null?document:(n=(e=t?.getRootNode)==null?void 0:e.call(t))!=null?n:document}function G3(t){var e,n;return(n=(e=Ov(t))==null?void 0:e.activeElement)!=null?n:null}function Ife(t){return G3(t)===t}function V1(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function Fa(){let t=[],e={addEventListener(n,r,i,s){return n.addEventListener(r,i,s),e.add(()=>n.removeEventListener(r,i,s))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return e.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return V1(()=>{r.current&&n[0]()}),e.add(()=>{r.current=!1})},style(n,r,i){let s=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:s})})},group(n){let r=Fa();return n(r),this.add(()=>r.dispose())},add(n){return t.includes(n)||t.push(n),()=>{let r=t.indexOf(n);if(r>=0)for(let i of t.splice(r,1))i()}},dispose(){for(let n of t.splice(0))n()}};return e}function G1(){let[t]=Y.useState(Fa);return Y.useEffect(()=>()=>t.dispose(),[t]),t}let Qi=(t,e)=>{bo.isServer?Y.useEffect(t,e):Y.useLayoutEffect(t,e)};function Hd(t){let e=Y.useRef(t);return Qi(()=>{e.current=t},[t]),e}let An=function(t){let e=Hd(t);return Qe.useCallback((...n)=>e.current(...n),[e])};function Fg(t){return Y.useMemo(()=>t,Object.values(t))}let Cfe=Y.createContext(void 0);function Ofe(){return Y.useContext(Cfe)}function V6(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function Bc(t,e,...n){if(t in e){let i=e[t];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Bc),r}var kv=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(kv||{}),eu=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(eu||{});function da(){let t=Rfe();return Y.useCallback(e=>kfe({mergeRefs:t,...e}),[t])}function kfe({ourProps:t,theirProps:e,slot:n,defaultTag:r,features:i,visible:s=!0,name:a,mergeRefs:c}){c=c??Nfe;let u=Qj(e,t);if(s)return qb(u,n,r,a,c);let d=i??0;if(d&2){let{static:h=!1,...p}=u;if(h)return qb(p,n,r,a,c)}if(d&1){let{unmount:h=!0,...p}=u;return Bc(h?0:1,{0(){return null},1(){return qb({...p,hidden:!0,style:{display:"none"}},n,r,a,c)}})}return qb(u,n,r,a,c)}function qb(t,e={},n,r,i){let{as:s=n,children:a,refName:c="ref",...u}=WS(t,["unmount","static"]),d=t.ref!==void 0?{[c]:t.ref}:{},h=typeof a=="function"?a(e):a;"className"in u&&u.className&&typeof u.className=="function"&&(u.className=u.className(e)),u["aria-labelledby"]&&u["aria-labelledby"]===u.id&&(u["aria-labelledby"]=void 0);let p={};if(e){let y=!1,g=[];for(let[b,v]of Object.entries(e))typeof v=="boolean"&&(y=!0),v===!0&&g.push(b.replace(/([A-Z])/g,E=>`-${E.toLowerCase()}`));if(y){p["data-headlessui-state"]=g.join(" ");for(let b of g)p[`data-${b}`]=""}}if(dy(s)&&(Object.keys(Hu(u)).length>0||Object.keys(Hu(p)).length>0))if(!Y.isValidElement(h)||Array.isArray(h)&&h.length>1||Pfe(h)){if(Object.keys(Hu(u)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Hu(u)).concat(Object.keys(Hu(p))).map(y=>`  - ${y}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(y=>`  - ${y}`).join(`
`)].join(`
`))}else{let y=h.props,g=y?.className,b=typeof g=="function"?(...O)=>V6(g(...O),u.className):V6(g,u.className),v=b?{className:b}:{},E=Qj(h.props,Hu(WS(u,["ref"])));for(let O in p)O in E&&delete p[O];return Y.cloneElement(h,Object.assign({},E,p,d,{ref:i($fe(h),d.ref)},v))}return Y.createElement(s,Object.assign({},WS(u,["ref"]),!dy(s)&&d,!dy(s)&&p),h)}function Rfe(){let t=Y.useRef([]),e=Y.useCallback(n=>{for(let r of t.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return t.current=n,e}}function Nfe(...t){return t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function Qj(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];if(e.disabled||e["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[i=>{var s;return(s=i?.preventDefault)==null?void 0:s.call(i)}]);for(let r in n)Object.assign(e,{[r](i,...s){let a=n[r];for(let c of a){if((i instanceof Event||i?.nativeEvent instanceof Event)&&i.defaultPrevented)return;c(i,...s)}}});return e}function PBe(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];for(let r in n)Object.assign(e,{[r](...i){let s=n[r];for(let a of s)a?.(...i)}});return e}function is(t){var e;return Object.assign(Y.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function Hu(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function WS(t,e=[]){let n=Object.assign({},t);for(let r of e)r in n&&delete n[r];return n}function $fe(t){return Qe.version.split(".")[0]>="19"?t.props.ref:t.ref}function dy(t){return t===Y.Fragment||t===Symbol.for("react.fragment")}function Pfe(t){return dy(t.type)}let Dfe="span";var Rv=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(Rv||{});function Ufe(t,e){var n;let{features:r=1,...i}=t,s={ref:e,"aria-hidden":(r&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return da()({ourProps:s,theirProps:i,slot:{},defaultTag:Dfe,name:"Hidden"})}let G6=is(Ufe);function Mfe(t){return typeof t!="object"||t===null?!1:"nodeType"in t}function kc(t){return Mfe(t)&&"tagName"in t}function xo(t){return kc(t)&&"accessKey"in t}function Ac(t){return kc(t)&&"tabIndex"in t}function Bfe(t){return kc(t)&&"style"in t}function Lfe(t){return xo(t)&&t.nodeName==="IFRAME"}function jfe(t){return xo(t)&&t.nodeName==="INPUT"}function DBe(t){return xo(t)&&t.nodeName==="LABEL"}function UBe(t){return xo(t)&&t.nodeName==="FIELDSET"}function MBe(t){return xo(t)&&t.nodeName==="LEGEND"}function BBe(t){return kc(t)?t.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}let ez=Symbol();function zfe(t,e=!0){return Object.assign(t,{[ez]:e})}function No(...t){let e=Y.useRef(t);Y.useEffect(()=>{e.current=t},[t]);let n=An(r=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return t.every(r=>r==null||r?.[ez])?void 0:n}let K3=Y.createContext(null);K3.displayName="DescriptionContext";function tz(){let t=Y.useContext(K3);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,tz),e}return t}function Ffe(){let[t,e]=Y.useState([]);return[t.length>0?t.join(" "):void 0,Y.useMemo(()=>function(n){let r=An(s=>(e(a=>[...a,s]),()=>e(a=>{let c=a.slice(),u=c.indexOf(s);return u!==-1&&c.splice(u,1),c}))),i=Y.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return Qe.createElement(K3.Provider,{value:i},n.children)},[e])]}let qfe="p";function Wfe(t,e){let n=Y.useId(),r=Ofe(),{id:i=`headlessui-description-${n}`,...s}=t,a=tz(),c=No(e);Qi(()=>a.register(i),[i,a.register]);let u=Fg({...a.slot,disabled:r||!1}),d={ref:c,...a.props,id:i};return da()({ourProps:d,theirProps:s,slot:u,defaultTag:qfe,name:a.name||"Description"})}let Hfe=is(Wfe),Vfe=Object.assign(Hfe,{});var nz=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(nz||{});let Gfe=Y.createContext(()=>{});function Kfe({value:t,children:e}){return Qe.createElement(Gfe.Provider,{value:t},e)}let rz=class extends Map{constructor(e){super(),this.factory=e}get(e){let n=super.get(e);return n===void 0&&(n=this.factory(e),this.set(e,n)),n}};var Yfe=Object.defineProperty,Zfe=(t,e,n)=>e in t?Yfe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Xfe=(t,e,n)=>(Zfe(t,e+"",n),n),iz=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Ws=(t,e,n)=>(iz(t,e,"read from private field"),n?n.call(t):e.get(t)),HS=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},FN=(t,e,n,r)=>(iz(t,e,"write to private field"),e.set(t,n),n),so,Zm,Xm;let Jfe=class{constructor(e){HS(this,so,{}),HS(this,Zm,new rz(()=>new Set)),HS(this,Xm,new Set),Xfe(this,"disposables",Fa()),FN(this,so,e),bo.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return Ws(this,so)}subscribe(e,n){if(bo.isServer)return()=>{};let r={selector:e,callback:n,current:e(Ws(this,so))};return Ws(this,Xm).add(r),this.disposables.add(()=>{Ws(this,Xm).delete(r)})}on(e,n){return bo.isServer?()=>{}:(Ws(this,Zm).get(e).add(n),this.disposables.add(()=>{Ws(this,Zm).get(e).delete(n)}))}send(e){let n=this.reduce(Ws(this,so),e);if(n!==Ws(this,so)){FN(this,so,n);for(let r of Ws(this,Xm)){let i=r.selector(Ws(this,so));sz(r.current,i)||(r.current=i,r.callback(i))}for(let r of Ws(this,Zm).get(e.type))r(Ws(this,so),e)}}};so=new WeakMap,Zm=new WeakMap,Xm=new WeakMap;function sz(t,e){return Object.is(t,e)?!0:typeof t!="object"||t===null||typeof e!="object"||e===null?!1:Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:VS(t[Symbol.iterator](),e[Symbol.iterator]()):t instanceof Map&&e instanceof Map||t instanceof Set&&e instanceof Set?t.size!==e.size?!1:VS(t.entries(),e.entries()):qN(t)&&qN(e)?VS(Object.entries(t)[Symbol.iterator](),Object.entries(e)[Symbol.iterator]()):!1}function VS(t,e){do{let n=t.next(),r=e.next();if(n.done&&r.done)return!0;if(n.done||r.done||!Object.is(n.value,r.value))return!1}while(!0)}function qN(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;let e=Object.getPrototypeOf(t);return e===null||Object.getPrototypeOf(e)===null}function zBe(t){let[e,n]=t(),r=Fa();return(...i)=>{e(...i),r.dispose(),r.microTask(n)}}var Qfe=Object.defineProperty,ehe=(t,e,n)=>e in t?Qfe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,WN=(t,e,n)=>(ehe(t,typeof e!="symbol"?e+"":e,n),n),the=(t=>(t[t.Push=0]="Push",t[t.Pop=1]="Pop",t))(the||{});let nhe={0(t,e){let n=e.id,r=t.stack,i=t.stack.indexOf(n);if(i!==-1){let s=t.stack.slice();return s.splice(i,1),s.push(n),r=s,{...t,stack:r}}return{...t,stack:[...t.stack,n]}},1(t,e){let n=e.id,r=t.stack.indexOf(n);if(r===-1)return t;let i=t.stack.slice();return i.splice(r,1),{...t,stack:i}}},rhe=class az extends Jfe{constructor(){super(...arguments),WN(this,"actions",{push:e=>this.send({type:0,id:e}),pop:e=>this.send({type:1,id:e})}),WN(this,"selectors",{isTop:(e,n)=>e.stack[e.stack.length-1]===n,inStack:(e,n)=>e.stack.includes(n)})}static new(){return new az({stack:[]})}reduce(e,n){return Bc(n.type,nhe,e,n)}};const oz=new rz(()=>rhe.new());var GS={exports:{}},KS={};var HN;function ihe(){if(HN)return KS;HN=1;var t=hg();function e(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,s=t.useEffect,a=t.useMemo,c=t.useDebugValue;return KS.useSyncExternalStoreWithSelector=function(u,d,h,p,y){var g=i(null);if(g.current===null){var b={hasValue:!1,value:null};g.current=b}else b=g.current;g=a(function(){function E(C){if(!O){if(O=!0,k=C,C=p(C),y!==void 0&&b.hasValue){var I=b.value;if(y(I,C))return A=I}return A=C}if(I=A,n(k,C))return I;var $=p(C);return y!==void 0&&y(I,$)?(k=C,I):(k=C,A=$)}var O=!1,k,A,S=h===void 0?null:h;return[function(){return E(d())},S===null?void 0:function(){return E(S())}]},[d,h,p,y]);var v=r(u,g[0],g[1]);return s(function(){b.hasValue=!0,b.value=v},[v]),c(v),v},KS}var VN;function she(){return VN||(VN=1,GS.exports=ihe()),GS.exports}var ahe=she();function cz(t,e,n=sz){return ahe.useSyncExternalStoreWithSelector(An(r=>t.subscribe(ohe,r)),An(()=>t.state),An(()=>t.state),An(e),n)}function ohe(t){return t}function qg(t,e){let n=Y.useId(),r=oz.get(e),[i,s]=cz(r,Y.useCallback(a=>[r.selectors.isTop(a,n),r.selectors.inStack(a,n)],[r,n]));return Qi(()=>{if(t)return r.actions.push(n),()=>r.actions.pop(n)},[r,t,n]),t?s?i:!0:!1}let K6=new Map,fy=new Map;function GN(t){var e;let n=(e=fy.get(t))!=null?e:0;return fy.set(t,n+1),n!==0?()=>KN(t):(K6.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),t.setAttribute("aria-hidden","true"),t.inert=!0,()=>KN(t))}function KN(t){var e;let n=(e=fy.get(t))!=null?e:1;if(n===1?fy.delete(t):fy.set(t,n-1),n!==1)return;let r=K6.get(t);r&&(r["aria-hidden"]===null?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",r["aria-hidden"]),t.inert=r.inert,K6.delete(t))}function che(t,{allowed:e,disallowed:n}={}){let r=qg(t,"inert-others");Qi(()=>{var i,s;if(!r)return;let a=Fa();for(let u of(i=n?.())!=null?i:[])u&&a.add(GN(u));let c=(s=e?.())!=null?s:[];for(let u of c){if(!u)continue;let d=zg(u);if(!d)continue;let h=u.parentElement;for(;h&&h!==d.body;){for(let p of h.children)c.some(y=>p.contains(y))||a.add(GN(p));h=h.parentElement}}return a.dispose},[r,e,n])}function lhe(t,e,n){let r=Hd(i=>{let s=i.getBoundingClientRect();s.x===0&&s.y===0&&s.width===0&&s.height===0&&n()});Y.useEffect(()=>{if(!t)return;let i=e===null?null:xo(e)?e:e.current;if(!i)return;let s=Fa();if(typeof ResizeObserver<"u"){let a=new ResizeObserver(()=>r.current(i));a.observe(i),s.add(()=>a.disconnect())}if(typeof IntersectionObserver<"u"){let a=new IntersectionObserver(()=>r.current(i));a.observe(i),s.add(()=>a.disconnect())}return()=>s.dispose()},[e,r,t])}let Nv=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(","),uhe=["[data-autofocus]"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var _c=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t[t.AutoFocus=64]="AutoFocus",t))(_c||{}),Y6=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(Y6||{}),dhe=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(dhe||{});function lz(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(Nv)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function fhe(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(uhe)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var uz=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(uz||{});function dz(t,e=0){var n;return t===((n=zg(t))==null?void 0:n.body)?!1:Bc(e,{0(){return t.matches(Nv)},1(){let r=t;for(;r!==null;){if(r.matches(Nv))return!0;r=r.parentElement}return!1}})}function FBe(t){Fa().nextFrame(()=>{let e=G3(t);e&&Ac(e)&&!dz(e,0)&&wo(t)})}var hhe=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(hhe||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function wo(t){t?.focus({preventScroll:!0})}let phe=["textarea","input"].join(",");function mhe(t){var e,n;return(n=(e=t?.matches)==null?void 0:e.call(t,phe))!=null?n:!1}function yhe(t,e=n=>n){return t.slice().sort((n,r)=>{let i=e(n),s=e(r);if(i===null||s===null)return 0;let a=i.compareDocumentPosition(s);return a&Node.DOCUMENT_POSITION_FOLLOWING?-1:a&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function qBe(t,e,n=t===null?document.body:Ov(t)){return Sh(lz(n),e,{relativeTo:t})}function Sh(t,e,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let s=Array.isArray(t)?t.length>0?Ov(t[0]):document:Ov(t),a=Array.isArray(t)?n?yhe(t):t:e&64?fhe(t):lz(t);i.length>0&&a.length>1&&(a=a.filter(g=>!i.some(b=>b!=null&&"current"in b?b?.current===g:b===g))),r=r??s?.activeElement;let c=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,a.indexOf(r))-1;if(e&4)return Math.max(0,a.indexOf(r))+1;if(e&8)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=e&32?{preventScroll:!0}:{},h=0,p=a.length,y;do{if(h>=p||h+p<=0)return 0;let g=u+h;if(e&16)g=(g+p)%p;else{if(g<0)return 3;if(g>=p)return 1}y=a[g],y?.focus(d),h+=c}while(y!==G3(y));return e&6&&mhe(y)&&y.select(),2}function fz(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function ghe(){return/Android/gi.test(window.navigator.userAgent)}function YN(){return fz()||ghe()}function Wb(t,e,n,r){let i=Hd(n);Y.useEffect(()=>{if(!t)return;function s(a){i.current(a)}return document.addEventListener(e,s,r),()=>document.removeEventListener(e,s,r)},[t,e,r])}function hz(t,e,n,r){let i=Hd(n);Y.useEffect(()=>{if(!t)return;function s(a){i.current(a)}return window.addEventListener(e,s,r),()=>window.removeEventListener(e,s,r)},[t,e,r])}const ZN=30;function bhe(t,e,n){let r=Hd(n),i=Y.useCallback(function(c,u){if(c.defaultPrevented)return;let d=u(c);if(d===null||!d.getRootNode().contains(d)||!d.isConnected)return;let h=(function p(y){return typeof y=="function"?p(y()):Array.isArray(y)||y instanceof Set?y:[y]})(e);for(let p of h)if(p!==null&&(p.contains(d)||c.composed&&c.composedPath().includes(p)))return;return!dz(d,uz.Loose)&&d.tabIndex!==-1&&c.preventDefault(),r.current(c,d)},[r,e]),s=Y.useRef(null);Wb(t,"pointerdown",c=>{var u,d;YN()||(s.current=((d=(u=c.composedPath)==null?void 0:u.call(c))==null?void 0:d[0])||c.target)},!0),Wb(t,"pointerup",c=>{if(YN()||!s.current)return;let u=s.current;return s.current=null,i(c,()=>u)},!0);let a=Y.useRef({x:0,y:0});Wb(t,"touchstart",c=>{a.current.x=c.touches[0].clientX,a.current.y=c.touches[0].clientY},!0),Wb(t,"touchend",c=>{let u={x:c.changedTouches[0].clientX,y:c.changedTouches[0].clientY};if(!(Math.abs(u.x-a.current.x)>=ZN||Math.abs(u.y-a.current.y)>=ZN))return i(c,()=>Ac(c.target)?c.target:null)},!0),hz(t,"blur",c=>i(c,()=>Lfe(window.document.activeElement)?window.document.activeElement:null),!0)}function Y3(...t){return Y.useMemo(()=>zg(...t),[...t])}function pz(t,e,n,r){let i=Hd(n);Y.useEffect(()=>{t=t??window;function s(a){i.current(a)}return t.addEventListener(e,s,r),()=>t.removeEventListener(e,s,r)},[t,e,r])}function whe(t){return Y.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getSnapshot)}function vhe(t,e){let n=t(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...s){let a=e[i].call(n,...s);a&&(n=a,r.forEach(c=>c()))}}}function _he(){let t;return{before({doc:e}){var n;let r=e.documentElement,i=(n=e.defaultView)!=null?n:window;t=Math.max(0,i.innerWidth-r.clientWidth)},after({doc:e,d:n}){let r=e.documentElement,i=Math.max(0,r.clientWidth-r.offsetWidth),s=Math.max(0,t-i);n.style(r,"paddingRight",`${s}px`)}}}function Ehe(){return fz()?{before({doc:t,d:e,meta:n}){function r(i){for(let s of n().containers)for(let a of s())if(a.contains(i))return!0;return!1}e.microTask(()=>{var i;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let c=Fa();c.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>c.dispose()))}let s=(i=window.scrollY)!=null?i:window.pageYOffset,a=null;e.addEventListener(t,"click",c=>{if(Ac(c.target))try{let u=c.target.closest("a");if(!u)return;let{hash:d}=new URL(u.href),h=t.querySelector(d);Ac(h)&&!r(h)&&(a=h)}catch{}},!0),e.group(c=>{e.addEventListener(t,"touchstart",u=>{if(c.dispose(),Ac(u.target)&&Bfe(u.target))if(r(u.target)){let d=u.target;for(;d.parentElement&&r(d.parentElement);)d=d.parentElement;c.style(d,"overscrollBehavior","contain")}else c.style(u.target,"touchAction","none")})}),e.addEventListener(t,"touchmove",c=>{if(Ac(c.target)){if(jfe(c.target))return;if(r(c.target)){let u=c.target;for(;u.parentElement&&u.dataset.headlessuiPortal!==""&&!(u.scrollHeight>u.clientHeight||u.scrollWidth>u.clientWidth);)u=u.parentElement;u.dataset.headlessuiPortal===""&&c.preventDefault()}else c.preventDefault()}},{passive:!1}),e.add(()=>{var c;let u=(c=window.scrollY)!=null?c:window.pageYOffset;s!==u&&window.scrollTo(0,s),a&&a.isConnected&&(a.scrollIntoView({block:"nearest"}),a=null)})})}}:{}}function She(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function XN(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let rd=vhe(()=>new Map,{PUSH(t,e){var n;let r=(n=this.get(t))!=null?n:{doc:t,count:0,d:Fa(),meta:new Set,computedMeta:{}};return r.count++,r.meta.add(e),r.computedMeta=XN(r.meta),this.set(t,r),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e),n.computedMeta=XN(n.meta)),this},SCROLL_PREVENT(t){let e={doc:t.doc,d:t.d,meta(){return t.computedMeta}},n=[Ehe(),_he(),She()];n.forEach(({before:r})=>r?.(e)),n.forEach(({after:r})=>r?.(e))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});rd.subscribe(()=>{let t=rd.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let r=e.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&rd.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&rd.dispatch("TEARDOWN",n)}});function Ahe(t,e,n=()=>({containers:[]})){let r=whe(rd),i=e?r.get(e):void 0,s=i?i.count>0:!1;return Qi(()=>{if(!(!e||!t))return rd.dispatch("PUSH",e,n),()=>rd.dispatch("POP",e,n)},[t,e]),s}function xhe(t,e,n=()=>[document.body]){let r=qg(t,"scroll-lock");Ahe(r,e,i=>{var s;return{containers:[...(s=i.containers)!=null?s:[],n]}})}function The(t=0){let[e,n]=Y.useState(t),r=Y.useCallback(u=>n(u),[]),i=Y.useCallback(u=>n(d=>d|u),[]),s=Y.useCallback(u=>(e&u)===u,[e]),a=Y.useCallback(u=>n(d=>d&~u),[]),c=Y.useCallback(u=>n(d=>d^u),[]);return{flags:e,setFlag:r,addFlag:i,hasFlag:s,removeFlag:a,toggleFlag:c}}var Ihe={},JN,QN;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((JN=process==null?void 0:Ihe)==null?void 0:JN.NODE_ENV)==="test"&&typeof((QN=Element?.prototype)==null?void 0:QN.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var Che=(t=>(t[t.None=0]="None",t[t.Closed=1]="Closed",t[t.Enter=2]="Enter",t[t.Leave=4]="Leave",t))(Che||{});function Ohe(t){let e={};for(let n in t)t[n]===!0&&(e[`data-${n}`]="");return e}function khe(t,e,n,r){let[i,s]=Y.useState(n),{hasFlag:a,addFlag:c,removeFlag:u}=The(t&&i?3:0),d=Y.useRef(!1),h=Y.useRef(!1),p=G1();return Qi(()=>{var y;if(t){if(n&&s(!0),!e){n&&c(3);return}return(y=r?.start)==null||y.call(r,n),Rhe(e,{inFlight:d,prepare(){h.current?h.current=!1:h.current=d.current,d.current=!0,!h.current&&(n?(c(3),u(4)):(c(4),u(2)))},run(){h.current?n?(u(3),c(4)):(u(4),c(3)):n?u(1):c(1)},done(){var g;h.current&&Phe(e)||(d.current=!1,u(7),n||s(!1),(g=r?.end)==null||g.call(r,n))}})}},[t,n,e,p]),t?[i,{closed:a(1),enter:a(2),leave:a(4),transition:a(2)||a(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function Rhe(t,{prepare:e,run:n,done:r,inFlight:i}){let s=Fa();return $he(t,{prepare:e,inFlight:i}),s.nextFrame(()=>{n(),s.requestAnimationFrame(()=>{s.add(Nhe(t,r))})}),s.dispose}function Nhe(t,e){var n,r;let i=Fa();if(!t)return i.dispose;let s=!1;i.add(()=>{s=!0});let a=(r=(n=t.getAnimations)==null?void 0:n.call(t).filter(c=>c instanceof CSSTransition))!=null?r:[];return a.length===0?(e(),i.dispose):(Promise.allSettled(a.map(c=>c.finished)).then(()=>{s||e()}),i.dispose)}function $he(t,{inFlight:e,prepare:n}){if(e!=null&&e.current){n();return}let r=t.style.transition;t.style.transition="none",n(),t.offsetHeight,t.style.transition=r}function Phe(t){var e,n;return((n=(e=t.getAnimations)==null?void 0:e.call(t))!=null?n:[]).some(r=>r instanceof CSSTransition&&r.playState!=="finished")}function Z3(t,e){let n=Y.useRef([]),r=An(t);Y.useEffect(()=>{let i=[...n.current];for(let[s,a]of e.entries())if(n.current[s]!==a){let c=r(e,i);return n.current=e,c}},[r,...e])}let K1=Y.createContext(null);K1.displayName="OpenClosedContext";var Ra=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(Ra||{});function Y1(){return Y.useContext(K1)}function Dhe({value:t,children:e}){return Qe.createElement(K1.Provider,{value:t},e)}function Uhe({children:t}){return Qe.createElement(K1.Provider,{value:null},t)}function Mhe(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let Gl=[];Mhe(()=>{function t(e){if(!Ac(e.target)||e.target===document.body||Gl[0]===e.target)return;let n=e.target;n=n.closest(Nv),Gl.unshift(n??e.target),Gl=Gl.filter(r=>r!=null&&r.isConnected),Gl.splice(10)}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function mz(t){let e=An(t),n=Y.useRef(!1);Y.useEffect(()=>(n.current=!1,()=>{n.current=!0,V1(()=>{n.current&&e()})}),[e])}let yz=Y.createContext(!1);function Bhe(){return Y.useContext(yz)}function e$(t){return Qe.createElement(yz.Provider,{value:t.force},t.children)}function Lhe(t){let e=Bhe(),n=Y.useContext(bz),[r,i]=Y.useState(()=>{var s;if(!e&&n!==null)return(s=n.current)!=null?s:null;if(bo.isServer)return null;let a=t?.getElementById("headlessui-portal-root");if(a)return a;if(t===null)return null;let c=t.createElement("div");return c.setAttribute("id","headlessui-portal-root"),t.body.appendChild(c)});return Y.useEffect(()=>{r!==null&&(t!=null&&t.body.contains(r)||t==null||t.body.appendChild(r))},[r,t]),Y.useEffect(()=>{e||n!==null&&i(n.current)},[n,i,e]),r}let gz=Y.Fragment,jhe=is(function(t,e){let{ownerDocument:n=null,...r}=t,i=Y.useRef(null),s=No(zfe(y=>{i.current=y}),e),a=Y3(i.current),c=n??a,u=Lhe(c),d=Y.useContext(Z6),h=G1(),p=da();return mz(()=>{var y;u&&u.childNodes.length<=0&&((y=u.parentElement)==null||y.removeChild(u))}),u?Sfe.createPortal(Qe.createElement("div",{"data-headlessui-portal":"",ref:y=>{h.dispose(),d&&y&&h.add(d.register(y))}},p({ourProps:{ref:s},theirProps:r,slot:{},defaultTag:gz,name:"Portal"})),u):null});function zhe(t,e){let n=No(e),{enabled:r=!0,ownerDocument:i,...s}=t,a=da();return r?Qe.createElement(jhe,{...s,ownerDocument:i,ref:n}):a({ourProps:{ref:n},theirProps:s,slot:{},defaultTag:gz,name:"Portal"})}let Fhe=Y.Fragment,bz=Y.createContext(null);function qhe(t,e){let{target:n,...r}=t,i={ref:No(e)},s=da();return Qe.createElement(bz.Provider,{value:n},s({ourProps:i,theirProps:r,defaultTag:Fhe,name:"Popover.Group"}))}let Z6=Y.createContext(null);function Whe(){let t=Y.useContext(Z6),e=Y.useRef([]),n=An(s=>(e.current.push(s),t&&t.register(s),()=>r(s))),r=An(s=>{let a=e.current.indexOf(s);a!==-1&&e.current.splice(a,1),t&&t.unregister(s)}),i=Y.useMemo(()=>({register:n,unregister:r,portals:e}),[n,r,e]);return[e,Y.useMemo(()=>function({children:s}){return Qe.createElement(Z6.Provider,{value:i},s)},[i])]}let Hhe=is(zhe),wz=is(qhe),Vhe=Object.assign(Hhe,{Group:wz});function Ghe(t,e=typeof document<"u"?document.defaultView:null,n){let r=qg(t,"escape");pz(e,"keydown",i=>{r&&(i.defaultPrevented||i.key===nz.Escape&&n(i))})}function Khe(){var t;let[e]=Y.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=Y.useState((t=e?.matches)!=null?t:!1);return Qi(()=>{if(!e)return;function i(s){r(s.matches)}return e.addEventListener("change",i),()=>e.removeEventListener("change",i)},[e]),n}function Yhe({defaultContainers:t=[],portals:e,mainTreeNode:n}={}){let r=An(()=>{var i,s;let a=zg(n),c=[];for(let u of t)u!==null&&(kc(u)?c.push(u):"current"in u&&kc(u.current)&&c.push(u.current));if(e!=null&&e.current)for(let u of e.current)c.push(u);for(let u of(i=a?.querySelectorAll("html > *, body > *"))!=null?i:[])u!==document.body&&u!==document.head&&kc(u)&&u.id!=="headlessui-portal-root"&&(n&&(u.contains(n)||u.contains((s=n?.getRootNode())==null?void 0:s.host))||c.some(d=>u.contains(d))||c.push(u));return c});return{resolveContainers:r,contains:An(i=>r().some(s=>s.contains(i)))}}let vz=Y.createContext(null);function t$({children:t,node:e}){let[n,r]=Y.useState(null),i=_z(e??n);return Qe.createElement(vz.Provider,{value:i},t,i===null&&Qe.createElement(G6,{features:Rv.Hidden,ref:s=>{var a,c;if(s){for(let u of(c=(a=zg(s))==null?void 0:a.querySelectorAll("html > *, body > *"))!=null?c:[])if(u!==document.body&&u!==document.head&&kc(u)&&u!=null&&u.contains(s)){r(u);break}}}}))}function _z(t=null){var e;return(e=Y.useContext(vz))!=null?e:t}function Zhe(){let t=typeof document>"u";return"useSyncExternalStore"in zk?(e=>e.useSyncExternalStore)(zk)(()=>()=>{},()=>!1,()=>!t):!1}function Z1(){let t=Zhe(),[e,n]=Y.useState(bo.isHandoffComplete);return e&&bo.isHandoffComplete===!1&&n(!1),Y.useEffect(()=>{e!==!0&&n(!0)},[e]),Y.useEffect(()=>bo.handoff(),[]),t?!1:e}function X3(){let t=Y.useRef(!1);return Qi(()=>(t.current=!0,()=>{t.current=!1}),[]),t}var Jm=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(Jm||{});function Xhe(){let t=Y.useRef(0);return hz(!0,"keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function Ez(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let n of t.current)kc(n.current)&&e.add(n.current);return e}let Jhe="div";var Zu=(t=>(t[t.None=0]="None",t[t.InitialFocus=1]="InitialFocus",t[t.TabLock=2]="TabLock",t[t.FocusLock=4]="FocusLock",t[t.RestoreFocus=8]="RestoreFocus",t[t.AutoFocus=16]="AutoFocus",t))(Zu||{});function Qhe(t,e){let n=Y.useRef(null),r=No(n,e),{initialFocus:i,initialFocusFallback:s,containers:a,features:c=15,...u}=t;Z1()||(c=0);let d=Y3(n.current);rpe(c,{ownerDocument:d});let h=ipe(c,{ownerDocument:d,container:n,initialFocus:i,initialFocusFallback:s});spe(c,{ownerDocument:d,container:n,containers:a,previousActiveElement:h});let p=Xhe(),y=An(k=>{if(!xo(n.current))return;let A=n.current;(S=>S())(()=>{Bc(p.current,{[Jm.Forwards]:()=>{Sh(A,_c.First,{skipElements:[k.relatedTarget,s]})},[Jm.Backwards]:()=>{Sh(A,_c.Last,{skipElements:[k.relatedTarget,s]})}})})}),g=qg(!!(c&2),"focus-trap#tab-lock"),b=G1(),v=Y.useRef(!1),E={ref:r,onKeyDown(k){k.key=="Tab"&&(v.current=!0,b.requestAnimationFrame(()=>{v.current=!1}))},onBlur(k){if(!(c&4))return;let A=Ez(a);xo(n.current)&&A.add(n.current);let S=k.relatedTarget;Ac(S)&&S.dataset.headlessuiFocusGuard!=="true"&&(Sz(A,S)||(v.current?Sh(n.current,Bc(p.current,{[Jm.Forwards]:()=>_c.Next,[Jm.Backwards]:()=>_c.Previous})|_c.WrapAround,{relativeTo:k.target}):Ac(k.target)&&wo(k.target)))}},O=da();return Qe.createElement(Qe.Fragment,null,g&&Qe.createElement(G6,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:y,features:Rv.Focusable}),O({ourProps:E,theirProps:u,defaultTag:Jhe,name:"FocusTrap"}),g&&Qe.createElement(G6,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:y,features:Rv.Focusable}))}let epe=is(Qhe),tpe=Object.assign(epe,{features:Zu});function npe(t=!0){let e=Y.useRef(Gl.slice());return Z3(([n],[r])=>{r===!0&&n===!1&&V1(()=>{e.current.splice(0)}),r===!1&&n===!0&&(e.current=Gl.slice())},[t,Gl,e]),An(()=>{var n;return(n=e.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function rpe(t,{ownerDocument:e}){let n=!!(t&8),r=npe(n);Z3(()=>{n||Ife(e?.body)&&wo(r())},[n]),mz(()=>{n&&wo(r())})}function ipe(t,{ownerDocument:e,container:n,initialFocus:r,initialFocusFallback:i}){let s=Y.useRef(null),a=qg(!!(t&1),"focus-trap#initial-focus"),c=X3();return Z3(()=>{if(t===0)return;if(!a){i!=null&&i.current&&wo(i.current);return}let u=n.current;u&&V1(()=>{if(!c.current)return;let d=e?.activeElement;if(r!=null&&r.current){if(r?.current===d){s.current=d;return}}else if(u.contains(d)){s.current=d;return}if(r!=null&&r.current)wo(r.current);else{if(t&16){if(Sh(u,_c.First|_c.AutoFocus)!==Y6.Error)return}else if(Sh(u,_c.First)!==Y6.Error)return;if(i!=null&&i.current&&(wo(i.current),e?.activeElement===i.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}s.current=e?.activeElement})},[i,a,t]),s}function spe(t,{ownerDocument:e,container:n,containers:r,previousActiveElement:i}){let s=X3(),a=!!(t&4);pz(e?.defaultView,"focus",c=>{if(!a||!s.current)return;let u=Ez(r);xo(n.current)&&u.add(n.current);let d=i.current;if(!d)return;let h=c.target;xo(h)?Sz(u,h)?(i.current=h,wo(h)):(c.preventDefault(),c.stopPropagation(),wo(d)):wo(i.current)},!0)}function Sz(t,e){for(let n of t)if(n.contains(e))return!0;return!1}function Az(t){var e;return!!(t.enter||t.enterFrom||t.enterTo||t.leave||t.leaveFrom||t.leaveTo)||!dy((e=t.as)!=null?e:Tz)||Qe.Children.count(t.children)===1}let X1=Y.createContext(null);X1.displayName="TransitionContext";var ape=(t=>(t.Visible="visible",t.Hidden="hidden",t))(ape||{});function ope(){let t=Y.useContext(X1);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function cpe(){let t=Y.useContext(J1);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let J1=Y.createContext(null);J1.displayName="NestingContext";function Q1(t){return"children"in t?Q1(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function xz(t,e){let n=Hd(t),r=Y.useRef([]),i=X3(),s=G1(),a=An((g,b=eu.Hidden)=>{let v=r.current.findIndex(({el:E})=>E===g);v!==-1&&(Bc(b,{[eu.Unmount](){r.current.splice(v,1)},[eu.Hidden](){r.current[v].state="hidden"}}),s.microTask(()=>{var E;!Q1(r)&&i.current&&((E=n.current)==null||E.call(n))}))}),c=An(g=>{let b=r.current.find(({el:v})=>v===g);return b?b.state!=="visible"&&(b.state="visible"):r.current.push({el:g,state:"visible"}),()=>a(g,eu.Unmount)}),u=Y.useRef([]),d=Y.useRef(Promise.resolve()),h=Y.useRef({enter:[],leave:[]}),p=An((g,b,v)=>{u.current.splice(0),e&&(e.chains.current[b]=e.chains.current[b].filter(([E])=>E!==g)),e?.chains.current[b].push([g,new Promise(E=>{u.current.push(E)})]),e?.chains.current[b].push([g,new Promise(E=>{Promise.all(h.current[b].map(([O,k])=>k)).then(()=>E())})]),b==="enter"?d.current=d.current.then(()=>e?.wait.current).then(()=>v(b)):v(b)}),y=An((g,b,v)=>{Promise.all(h.current[b].splice(0).map(([E,O])=>O)).then(()=>{var E;(E=u.current.shift())==null||E()}).then(()=>v(b))});return Y.useMemo(()=>({children:r,register:c,unregister:a,onStart:p,onStop:y,wait:d,chains:h}),[c,a,r,p,y,h,d])}let Tz=Y.Fragment,Iz=kv.RenderStrategy;function lpe(t,e){var n,r;let{transition:i=!0,beforeEnter:s,afterEnter:a,beforeLeave:c,afterLeave:u,enter:d,enterFrom:h,enterTo:p,entered:y,leave:g,leaveFrom:b,leaveTo:v,...E}=t,[O,k]=Y.useState(null),A=Y.useRef(null),S=Az(t),C=No(...S?[A,e,k]:e===null?[]:[e]),I=(n=E.unmount)==null||n?eu.Unmount:eu.Hidden,{show:$,appear:z,initial:j}=ope(),[B,G]=Y.useState($?"visible":"hidden"),U=cpe(),{register:F,unregister:K}=U;Qi(()=>F(A),[F,A]),Qi(()=>{if(I===eu.Hidden&&A.current){if($&&B!=="visible"){G("visible");return}return Bc(B,{hidden:()=>K(A),visible:()=>F(A)})}},[B,A,F,K,$,I]);let T=Z1();Qi(()=>{if(S&&T&&B==="visible"&&A.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[A,B,T,S]);let x=j&&!z,N=z&&$&&j,L=Y.useRef(!1),P=xz(()=>{L.current||(G("hidden"),K(A))},U),H=An(we=>{L.current=!0;let xe=we?"enter":"leave";P.onStart(A,xe,Ee=>{Ee==="enter"?s?.():Ee==="leave"&&c?.()})}),D=An(we=>{let xe=we?"enter":"leave";L.current=!1,P.onStop(A,xe,Ee=>{Ee==="enter"?a?.():Ee==="leave"&&u?.()}),xe==="leave"&&!Q1(P)&&(G("hidden"),K(A))});Y.useEffect(()=>{S&&i||(H($),D($))},[$,S,i]);let V=!(!i||!S||!T||x),[,J]=khe(V,O,$,{start:H,end:D}),X=Hu({ref:C,className:((r=V6(E.className,N&&d,N&&h,J.enter&&d,J.enter&&J.closed&&h,J.enter&&!J.closed&&p,J.leave&&g,J.leave&&!J.closed&&b,J.leave&&J.closed&&v,!J.transition&&$&&y))==null?void 0:r.trim())||void 0,...Ohe(J)}),Q=0;B==="visible"&&(Q|=Ra.Open),B==="hidden"&&(Q|=Ra.Closed),$&&B==="hidden"&&(Q|=Ra.Opening),!$&&B==="visible"&&(Q|=Ra.Closing);let ge=da();return Qe.createElement(J1.Provider,{value:P},Qe.createElement(Dhe,{value:Q},ge({ourProps:X,theirProps:E,defaultTag:Tz,features:Iz,visible:B==="visible",name:"Transition.Child"})))}function upe(t,e){let{show:n,appear:r=!1,unmount:i=!0,...s}=t,a=Y.useRef(null),c=Az(t),u=No(...c?[a,e]:e===null?[]:[e]);Z1();let d=Y1();if(n===void 0&&d!==null&&(n=(d&Ra.Open)===Ra.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[h,p]=Y.useState(n?"visible":"hidden"),y=xz(()=>{n||p("hidden")}),[g,b]=Y.useState(!0),v=Y.useRef([n]);Qi(()=>{g!==!1&&v.current[v.current.length-1]!==n&&(v.current.push(n),b(!1))},[v,n]);let E=Y.useMemo(()=>({show:n,appear:r,initial:g}),[n,r,g]);Qi(()=>{n?p("visible"):!Q1(y)&&a.current!==null&&p("hidden")},[n,y]);let O={unmount:i},k=An(()=>{var C;g&&b(!1),(C=t.beforeEnter)==null||C.call(t)}),A=An(()=>{var C;g&&b(!1),(C=t.beforeLeave)==null||C.call(t)}),S=da();return Qe.createElement(J1.Provider,{value:y},Qe.createElement(X1.Provider,{value:E},S({ourProps:{...O,as:Y.Fragment,children:Qe.createElement(Cz,{ref:u,...O,...s,beforeEnter:k,beforeLeave:A})},theirProps:{},defaultTag:Y.Fragment,features:Iz,visible:h==="visible",name:"Transition"})))}function dpe(t,e){let n=Y.useContext(X1)!==null,r=Y1()!==null;return Qe.createElement(Qe.Fragment,null,!n&&r?Qe.createElement(X6,{ref:e,...t}):Qe.createElement(Cz,{ref:e,...t}))}let X6=is(upe),Cz=is(lpe),Qy=is(dpe),Oz=Object.assign(X6,{Child:Qy,Root:X6});var fpe=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(fpe||{}),hpe=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(hpe||{});let ppe={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},J3=Y.createContext(null);J3.displayName="DialogContext";function e_(t){let e=Y.useContext(J3);if(e===null){let n=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,e_),n}return e}function mpe(t,e){return Bc(e.type,ppe,t,e)}let n$=is(function(t,e){let n=Y.useId(),{id:r=`headlessui-dialog-${n}`,open:i,onClose:s,initialFocus:a,role:c="dialog",autoFocus:u=!0,__demoMode:d=!1,unmount:h=!1,...p}=t,y=Y.useRef(!1);c=(function(){return c==="dialog"||c==="alertdialog"?c:(y.current||(y.current=!0,console.warn(`Invalid role [${c}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")})();let g=Y1();i===void 0&&g!==null&&(i=(g&Ra.Open)===Ra.Open);let b=Y.useRef(null),v=No(b,e),E=Y3(b.current),O=i?0:1,[k,A]=Y.useReducer(mpe,{titleId:null,descriptionId:null,panelRef:Y.createRef()}),S=An(()=>s(!1)),C=An(J=>A({type:0,id:J})),I=Z1()?O===0:!1,[$,z]=Whe(),j={get current(){var J;return(J=k.panelRef.current)!=null?J:b.current}},B=_z(),{resolveContainers:G}=Yhe({mainTreeNode:B,portals:$,defaultContainers:[j]}),U=g!==null?(g&Ra.Closing)===Ra.Closing:!1;che(d||U?!1:I,{allowed:An(()=>{var J,X;return[(X=(J=b.current)==null?void 0:J.closest("[data-headlessui-portal]"))!=null?X:null]}),disallowed:An(()=>{var J;return[(J=B?.closest("body > *:not(#headlessui-portal-root)"))!=null?J:null]})});let F=oz.get(null);Qi(()=>{if(I)return F.actions.push(r),()=>F.actions.pop(r)},[F,r,I]);let K=cz(F,Y.useCallback(J=>F.selectors.isTop(J,r),[F,r]));bhe(K,G,J=>{J.preventDefault(),S()}),Ghe(K,E?.defaultView,J=>{J.preventDefault(),J.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),S()}),xhe(d||U?!1:I,E,G),lhe(I,b,S);let[T,x]=Ffe(),N=Y.useMemo(()=>[{dialogState:O,close:S,setTitleId:C,unmount:h},k],[O,S,C,h,k]),L=Fg({open:O===0}),P={ref:v,id:r,role:c,tabIndex:-1,"aria-modal":d?void 0:O===0?!0:void 0,"aria-labelledby":k.titleId,"aria-describedby":T,unmount:h},H=!Khe(),D=Zu.None;I&&!d&&(D|=Zu.RestoreFocus,D|=Zu.TabLock,u&&(D|=Zu.AutoFocus),H&&(D|=Zu.InitialFocus));let V=da();return Qe.createElement(Uhe,null,Qe.createElement(e$,{force:!0},Qe.createElement(Vhe,null,Qe.createElement(J3.Provider,{value:N},Qe.createElement(wz,{target:b},Qe.createElement(e$,{force:!1},Qe.createElement(x,{slot:L},Qe.createElement(z,null,Qe.createElement(tpe,{initialFocus:a,initialFocusFallback:b,containers:G,features:D},Qe.createElement(Kfe,{value:S},V({ourProps:P,theirProps:p,slot:L,defaultTag:ype,features:gpe,visible:O===0,name:"Dialog"})))))))))))}),ype="div",gpe=kv.RenderStrategy|kv.Static;function bpe(t,e){let{transition:n=!1,open:r,...i}=t,s=Y1(),a=t.hasOwnProperty("open")||s!==null,c=t.hasOwnProperty("onClose");if(!a&&!c)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!a)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!c)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!s&&typeof t.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${t.open}`);if(typeof t.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${t.onClose}`);return(r!==void 0||n)&&!i.static?Qe.createElement(t$,null,Qe.createElement(Oz,{show:r,transition:n,unmount:i.unmount},Qe.createElement(n$,{ref:e,...i}))):Qe.createElement(t$,null,Qe.createElement(n$,{ref:e,open:r,...i}))}let wpe="div";function vpe(t,e){let n=Y.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:i=!1,...s}=t,[{dialogState:a,unmount:c},u]=e_("Dialog.Panel"),d=No(e,u.panelRef),h=Fg({open:a===0}),p=An(E=>{E.stopPropagation()}),y={ref:d,id:r,onClick:p},g=i?Qy:Y.Fragment,b=i?{unmount:c}:{},v=da();return Qe.createElement(g,{...b},v({ourProps:y,theirProps:s,slot:h,defaultTag:wpe,name:"Dialog.Panel"}))}let _pe="div";function Epe(t,e){let{transition:n=!1,...r}=t,[{dialogState:i,unmount:s}]=e_("Dialog.Backdrop"),a=Fg({open:i===0}),c={ref:e,"aria-hidden":!0},u=n?Qy:Y.Fragment,d=n?{unmount:s}:{},h=da();return Qe.createElement(u,{...d},h({ourProps:c,theirProps:r,slot:a,defaultTag:_pe,name:"Dialog.Backdrop"}))}let Spe="h2";function Ape(t,e){let n=Y.useId(),{id:r=`headlessui-dialog-title-${n}`,...i}=t,[{dialogState:s,setTitleId:a}]=e_("Dialog.Title"),c=No(e);Y.useEffect(()=>(a(r),()=>a(null)),[r,a]);let u=Fg({open:s===0}),d={ref:c,id:r};return da()({ourProps:d,theirProps:i,slot:u,defaultTag:Spe,name:"Dialog.Title"})}let xpe=is(bpe),kz=is(vpe);is(Epe);let Tpe=is(Ape),Ipe=Object.assign(xpe,{Panel:kz,Title:Tpe,Description:Vfe});var Hb={exports:{}},r$;function Cpe(){if(r$)return Hb.exports;r$=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(C,I,$){return Function.prototype.apply.call(C,I,$)},n;t&&typeof t.ownKeys=="function"?n=t.ownKeys:Object.getOwnPropertySymbols?n=function(C){return Object.getOwnPropertyNames(C).concat(Object.getOwnPropertySymbols(C))}:n=function(C){return Object.getOwnPropertyNames(C)};function r(S){console&&console.warn&&console.warn(S)}var i=Number.isNaN||function(C){return C!==C};function s(){s.init.call(this)}Hb.exports=s,Hb.exports.once=O,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var a=10;function c(S){if(typeof S!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof S)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(S){if(typeof S!="number"||S<0||i(S))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+S+".");a=S}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(C){if(typeof C!="number"||C<0||i(C))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+C+".");return this._maxListeners=C,this};function u(S){return S._maxListeners===void 0?s.defaultMaxListeners:S._maxListeners}s.prototype.getMaxListeners=function(){return u(this)},s.prototype.emit=function(C){for(var I=[],$=1;$<arguments.length;$++)I.push(arguments[$]);var z=C==="error",j=this._events;if(j!==void 0)z=z&&j.error===void 0;else if(!z)return!1;if(z){var B;if(I.length>0&&(B=I[0]),B instanceof Error)throw B;var G=new Error("Unhandled error."+(B?" ("+B.message+")":""));throw G.context=B,G}var U=j[C];if(U===void 0)return!1;if(typeof U=="function")e(U,this,I);else for(var F=U.length,K=b(U,F),$=0;$<F;++$)e(K[$],this,I);return!0};function d(S,C,I,$){var z,j,B;if(c(I),j=S._events,j===void 0?(j=S._events=Object.create(null),S._eventsCount=0):(j.newListener!==void 0&&(S.emit("newListener",C,I.listener?I.listener:I),j=S._events),B=j[C]),B===void 0)B=j[C]=I,++S._eventsCount;else if(typeof B=="function"?B=j[C]=$?[I,B]:[B,I]:$?B.unshift(I):B.push(I),z=u(S),z>0&&B.length>z&&!B.warned){B.warned=!0;var G=new Error("Possible EventEmitter memory leak detected. "+B.length+" "+String(C)+" listeners added. Use emitter.setMaxListeners() to increase limit");G.name="MaxListenersExceededWarning",G.emitter=S,G.type=C,G.count=B.length,r(G)}return S}s.prototype.addListener=function(C,I){return d(this,C,I,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(C,I){return d(this,C,I,!0)};function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(S,C,I){var $={fired:!1,wrapFn:void 0,target:S,type:C,listener:I},z=h.bind($);return z.listener=I,$.wrapFn=z,z}s.prototype.once=function(C,I){return c(I),this.on(C,p(this,C,I)),this},s.prototype.prependOnceListener=function(C,I){return c(I),this.prependListener(C,p(this,C,I)),this},s.prototype.removeListener=function(C,I){var $,z,j,B,G;if(c(I),z=this._events,z===void 0)return this;if($=z[C],$===void 0)return this;if($===I||$.listener===I)--this._eventsCount===0?this._events=Object.create(null):(delete z[C],z.removeListener&&this.emit("removeListener",C,$.listener||I));else if(typeof $!="function"){for(j=-1,B=$.length-1;B>=0;B--)if($[B]===I||$[B].listener===I){G=$[B].listener,j=B;break}if(j<0)return this;j===0?$.shift():v($,j),$.length===1&&(z[C]=$[0]),z.removeListener!==void 0&&this.emit("removeListener",C,G||I)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(C){var I,$,z;if($=this._events,$===void 0)return this;if($.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):$[C]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete $[C]),this;if(arguments.length===0){var j=Object.keys($),B;for(z=0;z<j.length;++z)B=j[z],B!=="removeListener"&&this.removeAllListeners(B);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(I=$[C],typeof I=="function")this.removeListener(C,I);else if(I!==void 0)for(z=I.length-1;z>=0;z--)this.removeListener(C,I[z]);return this};function y(S,C,I){var $=S._events;if($===void 0)return[];var z=$[C];return z===void 0?[]:typeof z=="function"?I?[z.listener||z]:[z]:I?E(z):b(z,z.length)}s.prototype.listeners=function(C){return y(this,C,!0)},s.prototype.rawListeners=function(C){return y(this,C,!1)},s.listenerCount=function(S,C){return typeof S.listenerCount=="function"?S.listenerCount(C):g.call(S,C)},s.prototype.listenerCount=g;function g(S){var C=this._events;if(C!==void 0){var I=C[S];if(typeof I=="function")return 1;if(I!==void 0)return I.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function b(S,C){for(var I=new Array(C),$=0;$<C;++$)I[$]=S[$];return I}function v(S,C){for(;C+1<S.length;C++)S[C]=S[C+1];S.pop()}function E(S){for(var C=new Array(S.length),I=0;I<C.length;++I)C[I]=S[I].listener||S[I];return C}function O(S,C){return new Promise(function(I,$){function z(B){S.removeListener(C,j),$(B)}function j(){typeof S.removeListener=="function"&&S.removeListener("error",z),I([].slice.call(arguments))}A(S,C,j,{once:!0}),C!=="error"&&k(S,z,{once:!0})})}function k(S,C,I){typeof S.on=="function"&&A(S,"error",C,I)}function A(S,C,I,$){if(typeof S.on=="function")$.once?S.once(C,I):S.on(C,I);else if(typeof S.addEventListener=="function")S.addEventListener(C,function z(j){$.once&&S.removeEventListener(C,z),I(j)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof S)}return Hb.exports}var ks=Cpe();const Q3=uu(ks);var i$=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))},Ope=(function(){function t(e,n,r){this.name=e,this.version=n,this.os=r,this.type="browser"}return t})(),kpe=(function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t})(),Rpe=(function(){function t(e,n,r,i){this.name=e,this.version=n,this.os=r,this.bot=i,this.type="bot-device"}return t})(),Npe=(function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t})(),$pe=(function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t})(),Ppe=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,Dpe=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,s$=3,Upe=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",Ppe]],a$=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function Mpe(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new $pe:typeof navigator<"u"?Lpe(navigator.userAgent):zpe()}function Bpe(t){return t!==""&&Upe.reduce(function(e,n){var r=n[0],i=n[1];if(e)return e;var s=i.exec(t);return!!s&&[r,s]},!1)}function Lpe(t){var e=Bpe(t);if(!e)return null;var n=e[0],r=e[1];if(n==="searchbot")return new Npe;var i=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);i?i.length<s$&&(i=i$(i$([],i,!0),Fpe(s$-i.length),!0)):i=[];var s=i.join("."),a=jpe(t),c=Dpe.exec(t);return c&&c[1]?new Rpe(n,s,a,c[1]):new Ope(n,s,a)}function jpe(t){for(var e=0,n=a$.length;e<n;e++){var r=a$[e],i=r[0],s=r[1],a=s.exec(t);if(a)return i}return null}function zpe(){var t=typeof process<"u"&&process.version;return t?new kpe(process.version.slice(1)):null}function Fpe(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}var YS={};var J6=function(t,e){return J6=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},J6(t,e)};function qpe(t,e){J6(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Q6=function(){return Q6=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Q6.apply(this,arguments)};function Wpe(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Hpe(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(s=(i<3?a(s):i>3?a(e,n,s):a(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function Vpe(t,e){return function(n,r){e(n,r,t)}}function Gpe(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Kpe(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function c(h){try{d(r.next(h))}catch(p){a(p)}}function u(h){try{d(r.throw(h))}catch(p){a(p)}}function d(h){h.done?s(h.value):i(h.value).then(c,u)}d((r=r.apply(t,e||[])).next())})}function Ype(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(d){return function(h){return u([d,h])}}function u(d){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=d[0]&2?i.return:d[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,d[1])).done)return s;switch(i=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,i=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){n.label=d[1];break}if(d[0]===6&&n.label<s[1]){n.label=s[1],s=d;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(d);break}s[2]&&n.ops.pop(),n.trys.pop();continue}d=e.call(t,n)}catch(h){d=[6,h],i=0}finally{r=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function Zpe(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function Xpe(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function e5(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Rz(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(c){a={error:c}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return s}function Jpe(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Rz(arguments[e]));return t}function Qpe(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],a=0,c=s.length;a<c;a++,i++)r[i]=s[a];return r}function eg(t){return this instanceof eg?(this.v=t,this):new eg(t)}function eme(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(y){r[y]&&(i[y]=function(g){return new Promise(function(b,v){s.push([y,g,b,v])>1||c(y,g)})})}function c(y,g){try{u(r[y](g))}catch(b){p(s[0][3],b)}}function u(y){y.value instanceof eg?Promise.resolve(y.value.v).then(d,h):p(s[0][2],y)}function d(y){c("next",y)}function h(y){c("throw",y)}function p(y,g){y(g),s.shift(),s.length&&c(s[0][0],s[0][1])}}function tme(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(a){return(n=!n)?{value:eg(t[i](a)),done:i==="return"}:s?s(a):a}:s}}function nme(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof e5=="function"?e5(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(a){return new Promise(function(c,u){a=t[s](a),i(c,u,a.done,a.value)})}}function i(s,a,c,u){Promise.resolve(u).then(function(d){s({value:d,done:c})},a)}}function rme(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function ime(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function sme(t){return t&&t.__esModule?t:{default:t}}function ame(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function ome(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const cme=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Q6},__asyncDelegator:tme,__asyncGenerator:eme,__asyncValues:nme,__await:eg,__awaiter:Kpe,__classPrivateFieldGet:ame,__classPrivateFieldSet:ome,__createBinding:Zpe,__decorate:Hpe,__exportStar:Xpe,__extends:qpe,__generator:Ype,__importDefault:sme,__importStar:ime,__makeTemplateObject:rme,__metadata:Gpe,__param:Vpe,__read:Rz,__rest:Wpe,__spread:Jpe,__spreadArrays:Qpe,__values:e5},Symbol.toStringTag,{value:"Module"})),t_=kU(cme);var ZS={},_m={},o$;function lme(){if(o$)return _m;o$=1,Object.defineProperty(_m,"__esModule",{value:!0}),_m.delay=void 0;function t(e){return new Promise(n=>{setTimeout(()=>{n(!0)},e)})}return _m.delay=t,_m}var Lu={},XS={},ju={},c$;function ume(){return c$||(c$=1,Object.defineProperty(ju,"__esModule",{value:!0}),ju.ONE_THOUSAND=ju.ONE_HUNDRED=void 0,ju.ONE_HUNDRED=100,ju.ONE_THOUSAND=1e3),ju}var JS={},l$;function dme(){return l$||(l$=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365})(JS)),JS}var u$;function Nz(){return u$||(u$=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=t_;e.__exportStar(ume(),t),e.__exportStar(dme(),t)})(XS)),XS}var d$;function fme(){if(d$)return Lu;d$=1,Object.defineProperty(Lu,"__esModule",{value:!0}),Lu.fromMiliseconds=Lu.toMiliseconds=void 0;const t=Nz();function e(r){return r*t.ONE_THOUSAND}Lu.toMiliseconds=e;function n(r){return Math.floor(r/t.ONE_THOUSAND)}return Lu.fromMiliseconds=n,Lu}var f$;function hme(){return f$||(f$=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=t_;e.__exportStar(lme(),t),e.__exportStar(fme(),t)})(ZS)),ZS}var Wf={},h$;function pme(){if(h$)return Wf;h$=1,Object.defineProperty(Wf,"__esModule",{value:!0}),Wf.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(n){if(this.timestamps.has(n))throw new Error(`Watch already started for label: ${n}`);this.timestamps.set(n,{started:Date.now()})}stop(n){const r=this.get(n);if(typeof r.elapsed<"u")throw new Error(`Watch already stopped for label: ${n}`);const i=Date.now()-r.started;this.timestamps.set(n,{started:r.started,elapsed:i})}get(n){const r=this.timestamps.get(n);if(typeof r>"u")throw new Error(`No timestamp found for label: ${n}`);return r}elapsed(n){const r=this.get(n);return r.elapsed||Date.now()-r.started}}return Wf.Watch=t,Wf.default=t,Wf}var QS={},Em={},p$;function mme(){if(p$)return Em;p$=1,Object.defineProperty(Em,"__esModule",{value:!0}),Em.IWatch=void 0;class t{}return Em.IWatch=t,Em}var m$;function yme(){return m$||(m$=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t_.__exportStar(mme(),t)})(QS)),QS}var y$;function gme(){return y$||(y$=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=t_;e.__exportStar(hme(),t),e.__exportStar(pme(),t),e.__exportStar(yme(),t),e.__exportStar(Nz(),t)})(YS)),YS}var Me=gme(),_n={},g$;function $z(){if(g$)return _n;g$=1,Object.defineProperty(_n,"__esModule",{value:!0}),_n.getLocalStorage=_n.getLocalStorageOrThrow=_n.getCrypto=_n.getCryptoOrThrow=_n.getLocation=_n.getLocationOrThrow=_n.getNavigator=_n.getNavigatorOrThrow=_n.getDocument=_n.getDocumentOrThrow=_n.getFromWindowOrThrow=_n.getFromWindow=void 0;function t(y){let g;return typeof window<"u"&&typeof window[y]<"u"&&(g=window[y]),g}_n.getFromWindow=t;function e(y){const g=t(y);if(!g)throw new Error(`${y} is not defined in Window`);return g}_n.getFromWindowOrThrow=e;function n(){return e("document")}_n.getDocumentOrThrow=n;function r(){return t("document")}_n.getDocument=r;function i(){return e("navigator")}_n.getNavigatorOrThrow=i;function s(){return t("navigator")}_n.getNavigator=s;function a(){return e("location")}_n.getLocationOrThrow=a;function c(){return t("location")}_n.getLocation=c;function u(){return e("crypto")}_n.getCryptoOrThrow=u;function d(){return t("crypto")}_n.getCrypto=d;function h(){return e("localStorage")}_n.getLocalStorageOrThrow=h;function p(){return t("localStorage")}return _n.getLocalStorage=p,_n}var Lc=$z(),Sm={},b$;function bme(){if(b$)return Sm;b$=1,Object.defineProperty(Sm,"__esModule",{value:!0}),Sm.getWindowMetadata=void 0;const t=$z();function e(){let n,r;try{n=t.getDocumentOrThrow(),r=t.getLocationOrThrow()}catch{return null}function i(){const g=n.getElementsByTagName("link"),b=[];for(let v=0;v<g.length;v++){const E=g[v],O=E.getAttribute("rel");if(O&&O.toLowerCase().indexOf("icon")>-1){const k=E.getAttribute("href");if(k)if(k.toLowerCase().indexOf("https:")===-1&&k.toLowerCase().indexOf("http:")===-1&&k.indexOf("//")!==0){let A=r.protocol+"//"+r.host;if(k.indexOf("/")===0)A+=k;else{const S=r.pathname.split("/");S.pop();const C=S.join("/");A+=C+"/"+k}b.push(A)}else if(k.indexOf("//")===0){const A=r.protocol+k;b.push(A)}else b.push(k)}}return b}function s(...g){const b=n.getElementsByTagName("meta");for(let v=0;v<b.length;v++){const E=b[v],O=["itemprop","property","name"].map(k=>E.getAttribute(k)).filter(k=>k?g.includes(k):!1);if(O.length&&O){const k=E.getAttribute("content");if(k)return k}}return""}function a(){let g=s("name","og:site_name","og:title","twitter:title");return g||(g=n.title),g}function c(){return s("description","og:description","twitter:description","keywords")}const u=a(),d=c(),h=r.origin,p=i();return{description:d,url:h,icons:p,name:u}}return Sm.getWindowMetadata=e,Sm}var wme=bme();const vme="0.1.1";function _me(){return vme}class Fn extends Error{constructor(e,n={}){const r=(()=>{if(n.cause instanceof Fn){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:n.cause?.message?n.cause.message:n.details})(),i=n.cause instanceof Fn&&n.cause.docsPath||n.docsPath,a=`https://oxlib.sh${i??""}`,c=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||i?["",r?`Details: ${r}`:void 0,i?`See: ${a}`:void 0]:[]].filter(u=>typeof u=="string").join(`
`);super(c,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${_me()}`}),this.cause=n.cause,this.details=r,this.docs=a,this.docsPath=i,this.shortMessage=e}walk(e){return Pz(this,e)}}function Pz(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?Pz(t.cause,e):e?null:t}const Hf=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function Eme(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function tg(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Rd(t,...e){if(!Eme(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function Sme(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");tg(t.outputLen),tg(t.blockLen)}function Kh(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Dz(t,e){Rd(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Ame(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Yh(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function eA(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Ja(t,e){return t<<32-e|t>>>e}const xme=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Tme(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function Ime(t){for(let e=0;e<t.length;e++)t[e]=Tme(t[e]);return t}const w$=xme?t=>t:Ime;function Cme(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function n_(t){return typeof t=="string"&&(t=Cme(t)),Rd(t),t}function Ome(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];Rd(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}class eI{}function Uz(t){const e=r=>t().update(n_(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function kme(t=32){if(Hf&&typeof Hf.getRandomValues=="function")return Hf.getRandomValues(new Uint8Array(t));if(Hf&&typeof Hf.randomBytes=="function")return Uint8Array.from(Hf.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}function Rme(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),a=Number(n>>i&s),c=Number(n&s),u=r?4:0,d=r?0:4;t.setUint32(e+u,a,r),t.setUint32(e+d,c,r)}function Nme(t,e,n){return t&e^~t&n}function $me(t,e,n){return t&e^t&n^e&n}class Pme extends eI{constructor(e,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=eA(this.buffer)}update(e){Kh(this),e=n_(e),Rd(e);const{view:n,buffer:r,blockLen:i}=this,s=e.length;for(let a=0;a<s;){const c=Math.min(i-this.pos,s-a);if(c===i){const u=eA(e);for(;i<=s-a;a+=i)this.process(u,a);continue}r.set(e.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Kh(this),Dz(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:a}=this;n[a++]=128,Yh(this.buffer.subarray(a)),this.padOffset>i-a&&(this.process(r,0),a=0);for(let p=a;p<i;p++)n[p]=0;Rme(r,i-8,BigInt(this.length*8),s),this.process(r,0);const c=eA(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=u/4,h=this.get();if(d>h.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<d;p++)c.setUint32(4*p,h[p],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:a,pos:c}=this;return e.destroyed=a,e.finished=s,e.length=i,e.pos=c,i%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const xl=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Vb=BigInt(2**32-1),v$=BigInt(32);function Dme(t,e=!1){return e?{h:Number(t&Vb),l:Number(t>>v$&Vb)}:{h:Number(t>>v$&Vb)|0,l:Number(t&Vb)|0}}function Ume(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let s=0;s<n;s++){const{h:a,l:c}=Dme(t[s],e);[r[s],i[s]]=[a,c]}return[r,i]}const Mme=(t,e,n)=>t<<n|e>>>32-n,Bme=(t,e,n)=>e<<n|t>>>32-n,Lme=(t,e,n)=>e<<n-32|t>>>64-n,jme=(t,e,n)=>t<<n-32|e>>>64-n,zme=BigInt(0),Am=BigInt(1),Fme=BigInt(2),qme=BigInt(7),Wme=BigInt(256),Hme=BigInt(113),Mz=[],Bz=[],Lz=[];for(let t=0,e=Am,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],Mz.push(2*(5*r+n)),Bz.push((t+1)*(t+2)/2%64);let i=zme;for(let s=0;s<7;s++)e=(e<<Am^(e>>qme)*Hme)%Wme,e&Fme&&(i^=Am<<(Am<<BigInt(s))-Am);Lz.push(i)}const jz=Ume(Lz,!0),Vme=jz[0],Gme=jz[1],_$=(t,e,n)=>n>32?Lme(t,e,n):Mme(t,e,n),E$=(t,e,n)=>n>32?jme(t,e,n):Bme(t,e,n);function Kme(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let a=0;a<10;a++)n[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(let a=0;a<10;a+=2){const c=(a+8)%10,u=(a+2)%10,d=n[u],h=n[u+1],p=_$(d,h,1)^n[c],y=E$(d,h,1)^n[c+1];for(let g=0;g<50;g+=10)t[a+g]^=p,t[a+g+1]^=y}let i=t[2],s=t[3];for(let a=0;a<24;a++){const c=Bz[a],u=_$(i,s,c),d=E$(i,s,c),h=Mz[a];i=t[h],s=t[h+1],t[h]=u,t[h+1]=d}for(let a=0;a<50;a+=10){for(let c=0;c<10;c++)n[c]=t[a+c];for(let c=0;c<10;c++)t[a+c]^=~n[(c+2)%10]&n[(c+4)%10]}t[0]^=Vme[r],t[1]^=Gme[r]}Yh(n)}class tI extends eI{constructor(e,n,r,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,tg(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Ame(this.state)}clone(){return this._cloneInto()}keccak(){w$(this.state32),Kme(this.state32,this.rounds),w$(this.state32),this.posOut=0,this.pos=0}update(e){Kh(this),e=n_(e),Rd(e);const{blockLen:n,state:r}=this,i=e.length;for(let s=0;s<i;){const a=Math.min(n-this.pos,i-s);for(let c=0;c<a;c++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,(n&128)!==0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Kh(this,!1),Rd(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const a=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+a),i),this.posOut+=a,i+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return tg(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Dz(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Yh(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:a}=this;return e||(e=new tI(n,r,i,a,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=a,e.destroyed=this.destroyed,e}}const Yme=(t,e,n)=>Uz(()=>new tI(e,t,n)),Zme=Yme(1,136,256/8),Xme=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Tl=new Uint32Array(64);class Jme extends Pme{constructor(e=32){super(64,e,8,!1),this.A=xl[0]|0,this.B=xl[1]|0,this.C=xl[2]|0,this.D=xl[3]|0,this.E=xl[4]|0,this.F=xl[5]|0,this.G=xl[6]|0,this.H=xl[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:a,G:c,H:u}=this;return[e,n,r,i,s,a,c,u]}set(e,n,r,i,s,a,c,u){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=c|0,this.H=u|0}process(e,n){for(let p=0;p<16;p++,n+=4)Tl[p]=e.getUint32(n,!1);for(let p=16;p<64;p++){const y=Tl[p-15],g=Tl[p-2],b=Ja(y,7)^Ja(y,18)^y>>>3,v=Ja(g,17)^Ja(g,19)^g>>>10;Tl[p]=v+Tl[p-7]+b+Tl[p-16]|0}let{A:r,B:i,C:s,D:a,E:c,F:u,G:d,H:h}=this;for(let p=0;p<64;p++){const y=Ja(c,6)^Ja(c,11)^Ja(c,25),g=h+y+Nme(c,u,d)+Xme[p]+Tl[p]|0,v=(Ja(r,2)^Ja(r,13)^Ja(r,22))+$me(r,i,s)|0;h=d,d=u,u=c,c=a+g|0,a=s,s=i,i=r,r=g+v|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,c=c+this.E|0,u=u+this.F|0,d=d+this.G|0,h=h+this.H|0,this.set(r,i,s,a,c,u,d,h)}roundClean(){Yh(Tl)}destroy(){this.set(0,0,0,0,0,0,0,0),Yh(this.buffer)}}const Qme=Uz(()=>new Jme);const nI=BigInt(0),t5=BigInt(1);function Wg(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function rI(t){if(!Wg(t))throw new Error("Uint8Array expected")}function ng(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function Gb(t){const e=t.toString(16);return e.length&1?"0"+e:e}function zz(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?nI:BigInt("0x"+t)}const Fz=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",eye=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function rg(t){if(rI(t),Fz)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=eye[t[n]];return e}const tc={_0:48,_9:57,A:65,F:70,a:97,f:102};function S$(t){if(t>=tc._0&&t<=tc._9)return t-tc._0;if(t>=tc.A&&t<=tc.F)return t-(tc.A-10);if(t>=tc.a&&t<=tc.f)return t-(tc.a-10)}function $v(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(Fz)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const a=S$(t.charCodeAt(s)),c=S$(t.charCodeAt(s+1));if(a===void 0||c===void 0){const u=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+u+'" at index '+s)}r[i]=a*16+c}return r}function pd(t){return zz(rg(t))}function qz(t){return rI(t),zz(rg(Uint8Array.from(t).reverse()))}function Hg(t,e){return $v(t.toString(16).padStart(e*2,"0"))}function Wz(t,e){return Hg(t,e).reverse()}function Js(t,e,n){let r;if(typeof e=="string")try{r=$v(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(Wg(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function Pv(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];rI(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}const tA=t=>typeof t=="bigint"&&nI<=t;function iI(t,e,n){return tA(t)&&tA(e)&&tA(n)&&e<=t&&t<n}function Ah(t,e,n,r){if(!iI(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function tye(t){let e;for(e=0;t>nI;t>>=t5,e+=1);return e}const r_=t=>(t5<<BigInt(t))-t5,nA=t=>new Uint8Array(t),A$=t=>Uint8Array.from(t);function nye(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=nA(t),i=nA(t),s=0;const a=()=>{r.fill(1),i.fill(0),s=0},c=(...p)=>n(i,r,...p),u=(p=nA(0))=>{i=c(A$([0]),p),r=c(),p.length!==0&&(i=c(A$([1]),p),r=c())},d=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let p=0;const y=[];for(;p<e;){r=c();const g=r.slice();y.push(g),p+=r.length}return Pv(...y)};return(p,y)=>{a(),u(p);let g;for(;!(g=y(d()));)u();return a(),g}}const rye={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||Wg(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function i_(t,e,n={}){const r=(i,s,a)=>{const c=rye[s];if(typeof c!="function")throw new Error("invalid validator function");const u=t[i];if(!(a&&u===void 0)&&!c(u,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+u)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}function x$(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}function iye(t,e){if(O$(t)>e)throw new xye({givenSize:O$(t),maxSize:e})}const nc={zero:48,nine:57,A:65,F:70,a:97,f:102};function T$(t){if(t>=nc.zero&&t<=nc.nine)return t-nc.zero;if(t>=nc.A&&t<=nc.F)return t-(nc.A-10);if(t>=nc.a&&t<=nc.f)return t-(nc.a-10)}function sye(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;if(t.length>r)throw new Tye({size:t.length,targetSize:r,type:"Bytes"});const i=new Uint8Array(r);for(let s=0;s<r;s++){const a=n==="right";i[a?s:r-s-1]=t[a?s:t.length-s-1]}return i}function Hz(t,e){if(ou(t)>e)throw new mye({givenSize:ou(t),maxSize:e})}function aye(t,e){if(typeof e=="number"&&e>0&&e>ou(t)-1)throw new Kz({offset:e,position:"start",size:ou(t)})}function oye(t,e,n){if(typeof e=="number"&&typeof n=="number"&&ou(t)!==n-e)throw new Kz({offset:n,position:"end",size:ou(t)})}function Vz(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;const i=t.replace("0x","");if(i.length>r*2)throw new yye({size:Math.ceil(i.length/2),targetSize:r,type:"Hex"});return`0x${i[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const cye="#__bigint";function sI(t,e,n){return JSON.stringify(t,(r,i)=>typeof i=="bigint"?i.toString()+cye:i,n)}const lye=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function uye(t,e={}){const{strict:n=!1}=e;if(!t)throw new I$(t);if(typeof t!="string")throw new I$(t);if(n&&!/^0x[0-9a-fA-F]*$/.test(t))throw new C$(t);if(!t.startsWith("0x"))throw new C$(t)}function dye(...t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}function aI(t){return t instanceof Uint8Array?Dv(t):Array.isArray(t)?Dv(new Uint8Array(t)):t}function Dv(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=lye[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(Hz(r,e.size),Gz(r,e.size)):r}function rA(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const a=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<a){const d=typeof t=="bigint"?"n":"";throw new pye({max:s?`${s}${d}`:void 0,min:`${a}${d}`,signed:n,size:r,value:`${t}${d}`})}const u=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?fye(u,r):u}function fye(t,e){return Vz(t,{dir:"left",size:e})}function Gz(t,e){return Vz(t,{dir:"right",size:e})}function hc(t,e,n,r={}){const{strict:i}=r;aye(t,e);const s=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return i&&oye(s,e,n),s}function ou(t){return Math.ceil((t.length-2)/2)}function hye(t,e={}){const{strict:n=!1}=e;try{return uye(t,{strict:n}),!0}catch{return!1}}class pye extends Fn{constructor({max:e,min:n,signed:r,size:i,value:s}){super(`Number \`${s}\` is not in safe${i?` ${i*8}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${n}\` to \`${e}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class I$ extends Fn{constructor(e){super(`Value \`${typeof e=="object"?sI(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class C$ extends Fn{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}let mye=class extends Fn{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}};class Kz extends Fn{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}let yye=class extends Fn{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}};const gye=new TextEncoder;function bye(t){if(!(t instanceof Uint8Array)){if(!t)throw new Kb(t);if(typeof t!="object")throw new Kb(t);if(!("BYTES_PER_ELEMENT"in t))throw new Kb(t);if(t.BYTES_PER_ELEMENT!==1||t.constructor.name!=="Uint8Array")throw new Kb(t)}}function wye(t){return t instanceof Uint8Array?t:typeof t=="string"?_ye(t):vye(t)}function vye(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function _ye(t,e={}){const{size:n}=e;let r=t;n&&(Hz(t,n),r=Gz(t,n));let i=r.slice(2);i.length%2&&(i=`0${i}`);const s=i.length/2,a=new Uint8Array(s);for(let c=0,u=0;c<s;c++){const d=T$(i.charCodeAt(u++)),h=T$(i.charCodeAt(u++));if(d===void 0||h===void 0)throw new Fn(`Invalid byte sequence ("${i[u-2]}${i[u-1]}" in "${i}").`);a[c]=d*16+h}return a}function Eye(t,e={}){const{size:n}=e,r=gye.encode(t);return typeof n=="number"?(iye(r,n),Sye(r,n)):r}function Sye(t,e){return sye(t,{dir:"right",size:e})}function O$(t){return t.length}function Aye(t){try{return bye(t),!0}catch{return!1}}class Kb extends Fn{constructor(e){super(`Value \`${typeof e=="object"?sI(e):e}\` of type \`${typeof e}\` is an invalid Bytes value.`,{metaMessages:["Bytes values must be of type `Bytes`."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesTypeError"})}}class xye extends Fn{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}}class Tye extends Fn{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}}function Yz(t,e={}){const{as:n=typeof t=="string"?"Hex":"Bytes"}=e,r=Zme(wye(t));return n==="Bytes"?r:Dv(r)}class Iye extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const Cye={checksum:new Iye(8192)},iA=Cye.checksum;function Zz(t,e={}){const{compressed:n}=e,{prefix:r,x:i,y:s}=t;if(n===!1||typeof i=="bigint"&&typeof s=="bigint"){if(r!==4)throw new k$({prefix:r,cause:new Pye});return}if(n===!0||typeof i=="bigint"&&typeof s>"u"){if(r!==3&&r!==2)throw new k$({prefix:r,cause:new $ye});return}throw new Nye({publicKey:t})}function Oye(t){const e=(()=>{if(hye(t))return Xz(t);if(Aye(t))return kye(t);const{prefix:n,x:r,y:i}=t;return typeof r=="bigint"&&typeof i=="bigint"?{prefix:n??4,x:r,y:i}:{prefix:n,x:r}})();return Zz(e),e}function kye(t){return Xz(Dv(t))}function Xz(t){if(t.length!==132&&t.length!==130&&t.length!==68)throw new Dye({publicKey:t});if(t.length===130){const r=BigInt(hc(t,0,32)),i=BigInt(hc(t,32,64));return{prefix:4,x:r,y:i}}if(t.length===132){const r=Number(hc(t,0,1)),i=BigInt(hc(t,1,33)),s=BigInt(hc(t,33,65));return{prefix:r,x:i,y:s}}const e=Number(hc(t,0,1)),n=BigInt(hc(t,1,33));return{prefix:e,x:n}}function Rye(t,e={}){Zz(t);const{prefix:n,x:r,y:i}=t,{includePrefix:s=!0}=e;return dye(s?rA(n,{size:1}):"0x",rA(r,{size:32}),typeof i=="bigint"?rA(i,{size:32}):"0x")}class Nye extends Fn{constructor({publicKey:e}){super(`Value \`${sI(e)}\` is not a valid public key.`,{metaMessages:["Public key must contain:","- an `x` and `prefix` value (compressed)","- an `x`, `y`, and `prefix` value (uncompressed)"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidError"})}}class k$ extends Fn{constructor({prefix:e,cause:n}){super(`Prefix "${e}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidPrefixError"})}}class $ye extends Fn{constructor(){super("Prefix must be 2 or 3 for compressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidCompressedPrefixError"})}}class Pye extends Fn{constructor(){super("Prefix must be 4 for uncompressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidUncompressedPrefixError"})}}let Dye=class extends Fn{constructor({publicKey:e}){super(`Value \`${e}\` is an invalid public key size.`,{metaMessages:["Expected: 33 bytes (compressed + prefix), 64 bytes (uncompressed) or 65 bytes (uncompressed + prefix).",`Received ${ou(aI(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidSerializedSizeError"})}};const Uye=/^0x[a-fA-F0-9]{40}$/;function Jz(t,e={}){const{strict:n=!0}=e;if(!Uye.test(t))throw new R$({address:t,cause:new Lye});if(n){if(t.toLowerCase()===t)return;if(Qz(t)!==t)throw new R$({address:t,cause:new jye})}}function Qz(t){if(iA.has(t))return iA.get(t);Jz(t,{strict:!1});const e=t.substring(2).toLowerCase(),n=Yz(Eye(e),{as:"Bytes"}),r=e.split("");for(let s=0;s<40;s+=2)n[s>>1]>>4>=8&&r[s]&&(r[s]=r[s].toUpperCase()),(n[s>>1]&15)>=8&&r[s+1]&&(r[s+1]=r[s+1].toUpperCase());const i=`0x${r.join("")}`;return iA.set(t,i),i}function Mye(t,e={}){const{checksum:n=!1}=e;return Jz(t),n?Qz(t):t}function Bye(t,e={}){const n=Yz(`0x${Rye(t).slice(4)}`).substring(26);return Mye(`0x${n}`,e)}class R$ extends Fn{constructor({address:e,cause:n}){super(`Address "${e}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class Lye extends Fn{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class jye extends Fn{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}class eF extends eI{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,Sme(e);const r=n_(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=e.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),Yh(s)}update(e){return Kh(this),this.iHash.update(e),this}digestInto(e){Kh(this),Rd(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:a,outputLen:c}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=a,e.outputLen=c,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const tF=(t,e,n)=>new eF(t,e).update(n).digest();tF.create=(t,e)=>new eF(t,e);const Zi=BigInt(0),Ti=BigInt(1),id=BigInt(2),zye=BigInt(3),nF=BigInt(4),rF=BigInt(5),iF=BigInt(8);function Vi(t,e){const n=t%e;return n>=Zi?n:e+n}function Hs(t,e,n){let r=t;for(;e-- >Zi;)r*=r,r%=n;return r}function n5(t,e){if(t===Zi)throw new Error("invert: expected non-zero number");if(e<=Zi)throw new Error("invert: expected positive modulus, got "+e);let n=Vi(t,e),r=e,i=Zi,s=Ti;for(;n!==Zi;){const c=r/n,u=r%n,d=i-s*c;r=n,n=u,i=s,s=d}if(r!==Ti)throw new Error("invert: does not exist");return Vi(i,e)}function sF(t,e){const n=(t.ORDER+Ti)/nF,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function Fye(t,e){const n=(t.ORDER-rF)/iF,r=t.mul(e,id),i=t.pow(r,n),s=t.mul(e,i),a=t.mul(t.mul(s,id),i),c=t.mul(s,t.sub(a,t.ONE));if(!t.eql(t.sqr(c),e))throw new Error("Cannot find square root");return c}function qye(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-Ti,n=0;for(;e%id===Zi;)e/=id,n++;let r=id;const i=oI(t);for(;N$(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return sF;let s=i.pow(r,e);const a=(e+Ti)/id;return function(u,d){if(u.is0(d))return d;if(N$(u,d)!==1)throw new Error("Cannot find square root");let h=n,p=u.mul(u.ONE,s),y=u.pow(d,e),g=u.pow(d,a);for(;!u.eql(y,u.ONE);){if(u.is0(y))return u.ZERO;let b=1,v=u.sqr(y);for(;!u.eql(v,u.ONE);)if(b++,v=u.sqr(v),b===h)throw new Error("Cannot find square root");const E=Ti<<BigInt(h-b-1),O=u.pow(p,E);h=b,p=u.sqr(O),y=u.mul(y,p),g=u.mul(g,O)}return g}}function Wye(t){return t%nF===zye?sF:t%iF===rF?Fye:qye(t)}const Hye=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Vye(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Hye.reduce((r,i)=>(r[i]="function",r),e);return i_(t,n)}function Gye(t,e,n){if(n<Zi)throw new Error("invalid exponent, negatives unsupported");if(n===Zi)return t.ONE;if(n===Ti)return e;let r=t.ONE,i=e;for(;n>Zi;)n&Ti&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Ti;return r}function aF(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((a,c,u)=>t.is0(c)?a:(r[u]=a,t.mul(a,c)),t.ONE),s=t.inv(i);return e.reduceRight((a,c,u)=>t.is0(c)?a:(r[u]=t.mul(a,r[u]),t.mul(a,c)),s),r}function N$(t,e){const n=(t.ORDER-Ti)/id,r=t.pow(e,n),i=t.eql(r,t.ONE),s=t.eql(r,t.ZERO),a=t.eql(r,t.neg(t.ONE));if(!i&&!s&&!a)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function oF(t,e){e!==void 0&&tg(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function oI(t,e,n=!1,r={}){if(t<=Zi)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=oF(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let a;const c=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:r_(i),ZERO:Zi,ONE:Ti,create:u=>Vi(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return Zi<=u&&u<t},is0:u=>u===Zi,isOdd:u=>(u&Ti)===Ti,neg:u=>Vi(-u,t),eql:(u,d)=>u===d,sqr:u=>Vi(u*u,t),add:(u,d)=>Vi(u+d,t),sub:(u,d)=>Vi(u-d,t),mul:(u,d)=>Vi(u*d,t),pow:(u,d)=>Gye(c,u,d),div:(u,d)=>Vi(u*n5(d,t),t),sqrN:u=>u*u,addN:(u,d)=>u+d,subN:(u,d)=>u-d,mulN:(u,d)=>u*d,inv:u=>n5(u,t),sqrt:r.sqrt||(u=>(a||(a=Wye(t)),a(c,u))),toBytes:u=>n?Wz(u,s):Hg(u,s),fromBytes:u=>{if(u.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+u.length);return n?qz(u):pd(u)},invertBatch:u=>aF(c,u),cmov:(u,d,h)=>h?d:u});return Object.freeze(c)}function cF(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function lF(t){const e=cF(t);return e+Math.ceil(e/2)}function Kye(t,e,n=!1){const r=t.length,i=cF(e),s=lF(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const a=n?qz(t):pd(t),c=Vi(a,e-Ti)+Ti;return n?Wz(c,i):Hg(c,i)}const $$=BigInt(0),r5=BigInt(1);function sA(t,e){const n=e.negate();return t?n:e}function uF(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function aA(t,e){uF(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,s=r_(t),a=BigInt(t);return{windows:n,windowSize:r,mask:s,maxNumber:i,shiftBy:a}}function P$(t,e,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:a}=n;let c=Number(t&i),u=t>>a;c>r&&(c-=s,u+=r5);const d=e*r,h=d+Math.abs(c)-1,p=c===0,y=c<0,g=e%2!==0;return{nextN:u,offset:h,isZero:p,isNeg:y,isNegF:g,offsetF:d}}function Yye(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function Zye(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const oA=new WeakMap,dF=new WeakMap;function cA(t){return dF.get(t)||1}function Xye(t,e){return{constTimeNegate:sA,hasPrecomputes(n){return cA(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>$$;)r&r5&&(i=i.add(s)),s=s.double(),r>>=r5;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=aA(r,e),a=[];let c=n,u=c;for(let d=0;d<i;d++){u=c,a.push(u);for(let h=1;h<s;h++)u=u.add(c),a.push(u);c=u.double()}return a},wNAF(n,r,i){let s=t.ZERO,a=t.BASE;const c=aA(n,e);for(let u=0;u<c.windows;u++){const{nextN:d,offset:h,isZero:p,isNeg:y,isNegF:g,offsetF:b}=P$(i,u,c);i=d,p?a=a.add(sA(g,r[b])):s=s.add(sA(y,r[h]))}return{p:s,f:a}},wNAFUnsafe(n,r,i,s=t.ZERO){const a=aA(n,e);for(let c=0;c<a.windows&&i!==$$;c++){const{nextN:u,offset:d,isZero:h,isNeg:p}=P$(i,c,a);if(i=u,!h){const y=r[d];s=s.add(p?y.negate():y)}}return s},getPrecomputes(n,r,i){let s=oA.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&oA.set(r,i(s))),s},wNAFCached(n,r,i){const s=cA(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const a=cA(n);return a===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(a,this.getPrecomputes(a,n,i),r,s)},setWindowSize(n,r){uF(r,e),dF.set(n,r),oA.delete(n)}}}function Jye(t,e,n,r){Yye(n,t),Zye(r,e);const i=n.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const a=t.ZERO,c=tye(BigInt(i));let u=1;c>12?u=c-3:c>4?u=c-2:c>0&&(u=2);const d=r_(u),h=new Array(Number(d)+1).fill(a),p=Math.floor((e.BITS-1)/u)*u;let y=a;for(let g=p;g>=0;g-=u){h.fill(a);for(let v=0;v<s;v++){const E=r[v],O=Number(E>>BigInt(g)&d);h[O]=h[O].add(n[v])}let b=a;for(let v=h.length-1,E=a;v>0;v--)E=E.add(h[v]),b=b.add(E);if(y=y.add(b),g!==0)for(let v=0;v<u;v++)y=y.double()}return y}function fF(t){return Vye(t.Fp),i_(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...oF(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}function D$(t){t.lowS!==void 0&&ng("lowS",t.lowS),t.prehash!==void 0&&ng("prehash",t.prehash)}function Qye(t){const e=fF(t);i_(e,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...e})}class ege extends Error{constructor(e=""){super(e)}}const bc={Err:ege,_tlv:{encode:(t,e)=>{const{Err:n}=bc;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=Gb(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?Gb(i.length/2|128):"";return Gb(t)+s+i+e},decode(t,e){const{Err:n}=bc;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let a=0;if(!s)a=i;else{const u=i&127;if(!u)throw new n("tlv.decode(long): indefinite length not supported");if(u>4)throw new n("tlv.decode(long): byte length is too big");const d=e.subarray(r,r+u);if(d.length!==u)throw new n("tlv.decode: length bytes not complete");if(d[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const h of d)a=a<<8|h;if(r+=u,a<128)throw new n("tlv.decode(long): not minimal encoding")}const c=e.subarray(r,r+a);if(c.length!==a)throw new n("tlv.decode: wrong value length");return{v:c,l:e.subarray(r+a)}}},_int:{encode(t){const{Err:e}=bc;if(t<Ec)throw new e("integer: negative integers are not allowed");let n=Gb(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=bc;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return pd(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=bc,i=Js("signature",t),{v:s,l:a}=r.decode(48,i);if(a.length)throw new e("invalid signature: left bytes after parsing");const{v:c,l:u}=r.decode(2,s),{v:d,l:h}=r.decode(2,u);if(h.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(c),s:n.decode(d)}},hexFromSig(t){const{_tlv:e,_int:n}=bc,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}};function lA(t,e){return rg(Hg(t,e))}const Ec=BigInt(0),Lr=BigInt(1);BigInt(2);const uA=BigInt(3),tge=BigInt(4);function nge(t){const e=Qye(t),{Fp:n}=e,r=oI(e.n,e.nBitLength),i=e.toBytes||((A,S,C)=>{const I=S.toAffine();return Pv(Uint8Array.from([4]),n.toBytes(I.x),n.toBytes(I.y))}),s=e.fromBytes||(A=>{const S=A.subarray(1),C=n.fromBytes(S.subarray(0,n.BYTES)),I=n.fromBytes(S.subarray(n.BYTES,2*n.BYTES));return{x:C,y:I}});function a(A){const{a:S,b:C}=e,I=n.sqr(A),$=n.mul(I,A);return n.add(n.add($,n.mul(A,S)),C)}function c(A,S){const C=n.sqr(S),I=a(A);return n.eql(C,I)}if(!c(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const u=n.mul(n.pow(e.a,uA),tge),d=n.mul(n.sqr(e.b),BigInt(27));if(n.is0(n.add(u,d)))throw new Error("bad curve params: a or b");function h(A){return iI(A,Lr,e.n)}function p(A){const{allowedPrivateKeyLengths:S,nByteLength:C,wrapPrivateKey:I,n:$}=e;if(S&&typeof A!="bigint"){if(Wg(A)&&(A=rg(A)),typeof A!="string"||!S.includes(A.length))throw new Error("invalid private key");A=A.padStart(C*2,"0")}let z;try{z=typeof A=="bigint"?A:pd(Js("private key",A,C))}catch{throw new Error("invalid private key, expected hex or "+C+" bytes, got "+typeof A)}return I&&(z=Vi(z,$)),Ah("private key",z,Lr,$),z}function y(A){if(!(A instanceof v))throw new Error("ProjectivePoint expected")}const g=x$((A,S)=>{const{px:C,py:I,pz:$}=A;if(n.eql($,n.ONE))return{x:C,y:I};const z=A.is0();S==null&&(S=z?n.ONE:n.inv($));const j=n.mul(C,S),B=n.mul(I,S),G=n.mul($,S);if(z)return{x:n.ZERO,y:n.ZERO};if(!n.eql(G,n.ONE))throw new Error("invZ was invalid");return{x:j,y:B}}),b=x$(A=>{if(A.is0()){if(e.allowInfinityPoint&&!n.is0(A.py))return;throw new Error("bad point: ZERO")}const{x:S,y:C}=A.toAffine();if(!n.isValid(S)||!n.isValid(C))throw new Error("bad point: x or y not FE");if(!c(S,C))throw new Error("bad point: equation left != right");if(!A.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class v{constructor(S,C,I){if(S==null||!n.isValid(S))throw new Error("x required");if(C==null||!n.isValid(C)||n.is0(C))throw new Error("y required");if(I==null||!n.isValid(I))throw new Error("z required");this.px=S,this.py=C,this.pz=I,Object.freeze(this)}static fromAffine(S){const{x:C,y:I}=S||{};if(!S||!n.isValid(C)||!n.isValid(I))throw new Error("invalid affine point");if(S instanceof v)throw new Error("projective point not allowed");const $=z=>n.eql(z,n.ZERO);return $(C)&&$(I)?v.ZERO:new v(C,I,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(S){const C=aF(n,S.map(I=>I.pz));return S.map((I,$)=>I.toAffine(C[$])).map(v.fromAffine)}static fromHex(S){const C=v.fromAffine(s(Js("pointHex",S)));return C.assertValidity(),C}static fromPrivateKey(S){return v.BASE.multiply(p(S))}static msm(S,C){return Jye(v,r,S,C)}_setWindowSize(S){k.setWindowSize(this,S)}assertValidity(){b(this)}hasEvenY(){const{y:S}=this.toAffine();if(n.isOdd)return!n.isOdd(S);throw new Error("Field doesn't support isOdd")}equals(S){y(S);const{px:C,py:I,pz:$}=this,{px:z,py:j,pz:B}=S,G=n.eql(n.mul(C,B),n.mul(z,$)),U=n.eql(n.mul(I,B),n.mul(j,$));return G&&U}negate(){return new v(this.px,n.neg(this.py),this.pz)}double(){const{a:S,b:C}=e,I=n.mul(C,uA),{px:$,py:z,pz:j}=this;let B=n.ZERO,G=n.ZERO,U=n.ZERO,F=n.mul($,$),K=n.mul(z,z),T=n.mul(j,j),x=n.mul($,z);return x=n.add(x,x),U=n.mul($,j),U=n.add(U,U),B=n.mul(S,U),G=n.mul(I,T),G=n.add(B,G),B=n.sub(K,G),G=n.add(K,G),G=n.mul(B,G),B=n.mul(x,B),U=n.mul(I,U),T=n.mul(S,T),x=n.sub(F,T),x=n.mul(S,x),x=n.add(x,U),U=n.add(F,F),F=n.add(U,F),F=n.add(F,T),F=n.mul(F,x),G=n.add(G,F),T=n.mul(z,j),T=n.add(T,T),F=n.mul(T,x),B=n.sub(B,F),U=n.mul(T,K),U=n.add(U,U),U=n.add(U,U),new v(B,G,U)}add(S){y(S);const{px:C,py:I,pz:$}=this,{px:z,py:j,pz:B}=S;let G=n.ZERO,U=n.ZERO,F=n.ZERO;const K=e.a,T=n.mul(e.b,uA);let x=n.mul(C,z),N=n.mul(I,j),L=n.mul($,B),P=n.add(C,I),H=n.add(z,j);P=n.mul(P,H),H=n.add(x,N),P=n.sub(P,H),H=n.add(C,$);let D=n.add(z,B);return H=n.mul(H,D),D=n.add(x,L),H=n.sub(H,D),D=n.add(I,$),G=n.add(j,B),D=n.mul(D,G),G=n.add(N,L),D=n.sub(D,G),F=n.mul(K,H),G=n.mul(T,L),F=n.add(G,F),G=n.sub(N,F),F=n.add(N,F),U=n.mul(G,F),N=n.add(x,x),N=n.add(N,x),L=n.mul(K,L),H=n.mul(T,H),N=n.add(N,L),L=n.sub(x,L),L=n.mul(K,L),H=n.add(H,L),x=n.mul(N,H),U=n.add(U,x),x=n.mul(D,H),G=n.mul(P,G),G=n.sub(G,x),x=n.mul(P,N),F=n.mul(D,F),F=n.add(F,x),new v(G,U,F)}subtract(S){return this.add(S.negate())}is0(){return this.equals(v.ZERO)}wNAF(S){return k.wNAFCached(this,S,v.normalizeZ)}multiplyUnsafe(S){const{endo:C,n:I}=e;Ah("scalar",S,Ec,I);const $=v.ZERO;if(S===Ec)return $;if(this.is0()||S===Lr)return this;if(!C||k.hasPrecomputes(this))return k.wNAFCachedUnsafe(this,S,v.normalizeZ);let{k1neg:z,k1:j,k2neg:B,k2:G}=C.splitScalar(S),U=$,F=$,K=this;for(;j>Ec||G>Ec;)j&Lr&&(U=U.add(K)),G&Lr&&(F=F.add(K)),K=K.double(),j>>=Lr,G>>=Lr;return z&&(U=U.negate()),B&&(F=F.negate()),F=new v(n.mul(F.px,C.beta),F.py,F.pz),U.add(F)}multiply(S){const{endo:C,n:I}=e;Ah("scalar",S,Lr,I);let $,z;if(C){const{k1neg:j,k1:B,k2neg:G,k2:U}=C.splitScalar(S);let{p:F,f:K}=this.wNAF(B),{p:T,f:x}=this.wNAF(U);F=k.constTimeNegate(j,F),T=k.constTimeNegate(G,T),T=new v(n.mul(T.px,C.beta),T.py,T.pz),$=F.add(T),z=K.add(x)}else{const{p:j,f:B}=this.wNAF(S);$=j,z=B}return v.normalizeZ([$,z])[0]}multiplyAndAddUnsafe(S,C,I){const $=v.BASE,z=(B,G)=>G===Ec||G===Lr||!B.equals($)?B.multiplyUnsafe(G):B.multiply(G),j=z(this,C).add(z(S,I));return j.is0()?void 0:j}toAffine(S){return g(this,S)}isTorsionFree(){const{h:S,isTorsionFree:C}=e;if(S===Lr)return!0;if(C)return C(v,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:S,clearCofactor:C}=e;return S===Lr?this:C?C(v,this):this.multiplyUnsafe(e.h)}toRawBytes(S=!0){return ng("isCompressed",S),this.assertValidity(),i(v,this,S)}toHex(S=!0){return ng("isCompressed",S),rg(this.toRawBytes(S))}}v.BASE=new v(e.Gx,e.Gy,n.ONE),v.ZERO=new v(n.ZERO,n.ONE,n.ZERO);const{endo:E,nBitLength:O}=e,k=Xye(v,E?Math.ceil(O/2):O);return{CURVE:e,ProjectivePoint:v,normPrivateKeyToScalar:p,weierstrassEquation:a,isWithinCurveOrder:h}}function rge(t){const e=fF(t);return i_(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function ige(t){const e=rge(t),{Fp:n,n:r,nByteLength:i,nBitLength:s}=e,a=n.BYTES+1,c=2*n.BYTES+1;function u(T){return Vi(T,r)}function d(T){return n5(T,r)}const{ProjectivePoint:h,normPrivateKeyToScalar:p,weierstrassEquation:y,isWithinCurveOrder:g}=nge({...e,toBytes(T,x,N){const L=x.toAffine(),P=n.toBytes(L.x),H=Pv;return ng("isCompressed",N),N?H(Uint8Array.from([x.hasEvenY()?2:3]),P):H(Uint8Array.from([4]),P,n.toBytes(L.y))},fromBytes(T){const x=T.length,N=T[0],L=T.subarray(1);if(x===a&&(N===2||N===3)){const P=pd(L);if(!iI(P,Lr,n.ORDER))throw new Error("Point is not on curve");const H=y(P);let D;try{D=n.sqrt(H)}catch(X){const Q=X instanceof Error?": "+X.message:"";throw new Error("Point is not on curve"+Q)}const V=(D&Lr)===Lr;return(N&1)===1!==V&&(D=n.neg(D)),{x:P,y:D}}else if(x===c&&N===4){const P=n.fromBytes(L.subarray(0,n.BYTES)),H=n.fromBytes(L.subarray(n.BYTES,2*n.BYTES));return{x:P,y:H}}else{const P=a,H=c;throw new Error("invalid Point, expected length of "+P+", or uncompressed "+H+", got "+x)}}});function b(T){const x=r>>Lr;return T>x}function v(T){return b(T)?u(-T):T}const E=(T,x,N)=>pd(T.slice(x,N));class O{constructor(x,N,L){Ah("r",x,Lr,r),Ah("s",N,Lr,r),this.r=x,this.s=N,L!=null&&(this.recovery=L),Object.freeze(this)}static fromCompact(x){const N=i;return x=Js("compactSignature",x,N*2),new O(E(x,0,N),E(x,N,2*N))}static fromDER(x){const{r:N,s:L}=bc.toSig(Js("DER",x));return new O(N,L)}assertValidity(){}addRecoveryBit(x){return new O(this.r,this.s,x)}recoverPublicKey(x){const{r:N,s:L,recovery:P}=this,H=$(Js("msgHash",x));if(P==null||![0,1,2,3].includes(P))throw new Error("recovery id invalid");const D=P===2||P===3?N+e.n:N;if(D>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const V=(P&1)===0?"02":"03",J=h.fromHex(V+lA(D,n.BYTES)),X=d(D),Q=u(-H*X),ge=u(L*X),we=h.BASE.multiplyAndAddUnsafe(J,Q,ge);if(!we)throw new Error("point at infinify");return we.assertValidity(),we}hasHighS(){return b(this.s)}normalizeS(){return this.hasHighS()?new O(this.r,u(-this.s),this.recovery):this}toDERRawBytes(){return $v(this.toDERHex())}toDERHex(){return bc.hexFromSig(this)}toCompactRawBytes(){return $v(this.toCompactHex())}toCompactHex(){const x=i;return lA(this.r,x)+lA(this.s,x)}}const k={isValidPrivateKey(T){try{return p(T),!0}catch{return!1}},normPrivateKeyToScalar:p,randomPrivateKey:()=>{const T=lF(e.n);return Kye(e.randomBytes(T),e.n)},precompute(T=8,x=h.BASE){return x._setWindowSize(T),x.multiply(BigInt(3)),x}};function A(T,x=!0){return h.fromPrivateKey(T).toRawBytes(x)}function S(T){if(typeof T=="bigint")return!1;if(T instanceof h)return!0;const N=Js("key",T).length,L=n.BYTES,P=L+1,H=2*L+1;if(!(e.allowedPrivateKeyLengths||i===P))return N===P||N===H}function C(T,x,N=!0){if(S(T)===!0)throw new Error("first arg must be private key");if(S(x)===!1)throw new Error("second arg must be public key");return h.fromHex(x).multiply(p(T)).toRawBytes(N)}const I=e.bits2int||function(T){if(T.length>8192)throw new Error("input is too large");const x=pd(T),N=T.length*8-s;return N>0?x>>BigInt(N):x},$=e.bits2int_modN||function(T){return u(I(T))},z=r_(s);function j(T){return Ah("num < 2^"+s,T,Ec,z),Hg(T,i)}function B(T,x,N=G){if(["recovered","canonical"].some(Ee=>Ee in N))throw new Error("sign() legacy options not supported");const{hash:L,randomBytes:P}=e;let{lowS:H,prehash:D,extraEntropy:V}=N;H==null&&(H=!0),T=Js("msgHash",T),D$(N),D&&(T=Js("prehashed msgHash",L(T)));const J=$(T),X=p(x),Q=[j(X),j(J)];if(V!=null&&V!==!1){const Ee=V===!0?P(n.BYTES):V;Q.push(Js("extraEntropy",Ee))}const ge=Pv(...Q),we=J;function xe(Ee){const $e=I(Ee);if(!g($e))return;const Fe=d($e),tt=h.BASE.multiply($e).toAffine(),me=u(tt.x);if(me===Ec)return;const St=u(Fe*u(we+me*X));if(St===Ec)return;let Ht=(tt.x===me?0:2)|Number(tt.y&Lr),gt=St;return H&&b(St)&&(gt=v(St),Ht^=1),new O(me,gt,Ht)}return{seed:ge,k2sig:xe}}const G={lowS:e.lowS,prehash:!1},U={lowS:e.lowS,prehash:!1};function F(T,x,N=G){const{seed:L,k2sig:P}=B(T,x,N),H=e;return nye(H.hash.outputLen,H.nByteLength,H.hmac)(L,P)}h.BASE._setWindowSize(8);function K(T,x,N,L=U){const P=T;x=Js("msgHash",x),N=Js("publicKey",N);const{lowS:H,prehash:D,format:V}=L;if(D$(L),"strict"in L)throw new Error("options.strict was renamed to lowS");if(V!==void 0&&V!=="compact"&&V!=="der")throw new Error("format must be compact or der");const J=typeof P=="string"||Wg(P),X=!J&&!V&&typeof P=="object"&&P!==null&&typeof P.r=="bigint"&&typeof P.s=="bigint";if(!J&&!X)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let Q,ge;try{if(X&&(Q=new O(P.r,P.s)),J){try{V!=="compact"&&(Q=O.fromDER(P))}catch(Ht){if(!(Ht instanceof bc.Err))throw Ht}!Q&&V!=="der"&&(Q=O.fromCompact(P))}ge=h.fromHex(N)}catch{return!1}if(!Q||H&&Q.hasHighS())return!1;D&&(x=e.hash(x));const{r:we,s:xe}=Q,Ee=$(x),$e=d(xe),Fe=u(Ee*$e),tt=u(we*$e),me=h.BASE.multiplyAndAddUnsafe(ge,Fe,tt)?.toAffine();return me?u(me.x)===we:!1}return{CURVE:e,getPublicKey:A,getSharedSecret:C,sign:F,verify:K,ProjectivePoint:h,Signature:O,utils:k}}function sge(t){return{hash:t,hmac:(e,...n)=>tF(t,e,Ome(...n)),randomBytes:kme}}function age(t,e){const n=r=>ige({...t,...sge(r)});return{...n(e),create:n}}const hF=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),U$=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),oge=BigInt(0),cge=BigInt(1),i5=BigInt(2),M$=(t,e)=>(t+e/i5)/e;function lge(t){const e=hF,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),a=BigInt(23),c=BigInt(44),u=BigInt(88),d=t*t*t%e,h=d*d*t%e,p=Hs(h,n,e)*h%e,y=Hs(p,n,e)*h%e,g=Hs(y,i5,e)*d%e,b=Hs(g,i,e)*g%e,v=Hs(b,s,e)*b%e,E=Hs(v,c,e)*v%e,O=Hs(E,u,e)*E%e,k=Hs(O,c,e)*v%e,A=Hs(k,n,e)*h%e,S=Hs(A,a,e)*b%e,C=Hs(S,r,e)*d%e,I=Hs(C,i5,e);if(!s5.eql(s5.sqr(I),t))throw new Error("Cannot find square root");return I}const s5=oI(hF,void 0,void 0,{sqrt:lge}),uge=age({a:oge,b:BigInt(7),Fp:s5,n:U$,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=U$,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-cge*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,a=BigInt("0x100000000000000000000000000000000"),c=M$(s*t,e),u=M$(-r*t,e);let d=Vi(t-c*n-u*i,e),h=Vi(-c*r-u*s,e);const p=d>a,y=h>a;if(p&&(d=e-d),y&&(h=e-h),d>a||h>a)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:p,k1:d,k2neg:y,k2:h}}}},Qme);function dge(t){if(t.length!==130&&t.length!==132)throw new hge({signature:t});const e=BigInt(hc(t,0,32)),n=BigInt(hc(t,32,64)),r=(()=>{const i=+`0x${t.slice(130)}`;if(!Number.isNaN(i))try{return fge(i)}catch{throw new pge({value:i})}})();return typeof r>"u"?{r:e,s:n}:{r:e,s:n,yParity:r}}function fge(t){if(t===0||t===27)return 0;if(t===1||t===28)return 1;if(t>=35)return t%2===0?1:0;throw new mge({value:t})}class hge extends Fn{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${ou(aI(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class pge extends Fn{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class mge extends Fn{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function yge(t){return Bye(gge(t))}function gge(t){const{payload:e,signature:n}=t,{r,s:i,yParity:s}=n,c=new uge.Signature(BigInt(r),BigInt(i)).addRecoveryBit(s).recoverPublicKey(aI(e).substring(2));return Oye(c)}function bge(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let d=0;d<e.length;d++)e[d]=255;for(let d=0;d<t.length;d++){const h=t.charAt(d),p=h.charCodeAt(0);if(e[p]!==255)throw new TypeError(h+" is ambiguous");e[p]=d}const n=t.length,r=t.charAt(0),i=Math.log(n)/Math.log(256),s=Math.log(256)/Math.log(n);function a(d){if(d instanceof Uint8Array||(ArrayBuffer.isView(d)?d=new Uint8Array(d.buffer,d.byteOffset,d.byteLength):Array.isArray(d)&&(d=Uint8Array.from(d))),!(d instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(d.length===0)return"";let h=0,p=0,y=0;const g=d.length;for(;y!==g&&d[y]===0;)y++,h++;const b=(g-y)*s+1>>>0,v=new Uint8Array(b);for(;y!==g;){let k=d[y],A=0;for(let S=b-1;(k!==0||A<p)&&S!==-1;S--,A++)k+=256*v[S]>>>0,v[S]=k%n>>>0,k=k/n>>>0;if(k!==0)throw new Error("Non-zero carry");p=A,y++}let E=b-p;for(;E!==b&&v[E]===0;)E++;let O=r.repeat(h);for(;E<b;++E)O+=t.charAt(v[E]);return O}function c(d){if(typeof d!="string")throw new TypeError("Expected String");if(d.length===0)return new Uint8Array;let h=0,p=0,y=0;for(;d[h]===r;)p++,h++;const g=(d.length-h)*i+1>>>0,b=new Uint8Array(g);for(;h<d.length;){const k=d.charCodeAt(h);if(k>255)return;let A=e[k];if(A===255)return;let S=0;for(let C=g-1;(A!==0||S<y)&&C!==-1;C--,S++)A+=n*b[C]>>>0,b[C]=A%256>>>0,A=A/256>>>0;if(A!==0)throw new Error("Non-zero carry");y=S,h++}let v=g-y;for(;v!==g&&b[v]===0;)v++;const E=new Uint8Array(p+(g-v));let O=p;for(;v!==g;)E[O++]=b[v++];return E}function u(d){const h=c(d);if(h)return h;throw new Error("Non-base"+n+" character")}return{encode:a,decodeUnsafe:c,decode:u}}var wge="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const Vg=bge(wge);function vge(t){const e=t.length;let n=0,r=0;for(;r<e;){let i=t.charCodeAt(r++);if((i&4294967168)===0){n++;continue}else if((i&4294965248)===0)n+=2;else{if(i>=55296&&i<=56319&&r<e){const s=t.charCodeAt(r);(s&64512)===56320&&(++r,i=((i&1023)<<10)+(s&1023)+65536)}(i&4294901760)===0?n+=3:n+=4}}return n}function _ge(t,e,n){const r=t.length;let i=n,s=0;for(;s<r;){let a=t.charCodeAt(s++);if((a&4294967168)===0){e[i++]=a;continue}else if((a&4294965248)===0)e[i++]=a>>6&31|192;else{if(a>=55296&&a<=56319&&s<r){const c=t.charCodeAt(s);(c&64512)===56320&&(++s,a=((a&1023)<<10)+(c&1023)+65536)}(a&4294901760)===0?(e[i++]=a>>12&15|224,e[i++]=a>>6&63|128):(e[i++]=a>>18&7|240,e[i++]=a>>12&63|128,e[i++]=a>>6&63|128)}e[i++]=a&63|128}}const Ege=new TextEncoder,Sge=50;function Age(t,e,n){Ege.encodeInto(t,e.subarray(n))}function xge(t,e,n){t.length>Sge?Age(t,e,n):_ge(t,e,n)}const Tge=4096;function pF(t,e,n){let r=e;const i=r+n,s=[];let a="";for(;r<i;){const c=t[r++];if((c&128)===0)s.push(c);else if((c&224)===192){const u=t[r++]&63;s.push((c&31)<<6|u)}else if((c&240)===224){const u=t[r++]&63,d=t[r++]&63;s.push((c&31)<<12|u<<6|d)}else if((c&248)===240){const u=t[r++]&63,d=t[r++]&63,h=t[r++]&63;let p=(c&7)<<18|u<<12|d<<6|h;p>65535&&(p-=65536,s.push(p>>>10&1023|55296),p=56320|p&1023),s.push(p)}else s.push(c);s.length>=Tge&&(a+=String.fromCharCode(...s),s.length=0)}return s.length>0&&(a+=String.fromCharCode(...s)),a}const Ige=new TextDecoder,Cge=200;function Oge(t,e,n){const r=t.subarray(e,e+n);return Ige.decode(r)}function kge(t,e,n){return n>Cge?Oge(t,e,n):pF(t,e,n)}class Yb{constructor(e,n){this.type=e,this.data=n}}class Es extends Error{constructor(e){super(e);const n=Object.create(Es.prototype);Object.setPrototypeOf(this,n),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:Es.name})}}const xm=4294967295;function Rge(t,e,n){const r=n/4294967296,i=n;t.setUint32(e,r),t.setUint32(e+4,i)}function mF(t,e,n){const r=Math.floor(n/4294967296),i=n;t.setUint32(e,r),t.setUint32(e+4,i)}function yF(t,e){const n=t.getInt32(e),r=t.getUint32(e+4);return n*4294967296+r}function Nge(t,e){const n=t.getUint32(e),r=t.getUint32(e+4);return n*4294967296+r}const $ge=-1,Pge=4294967296-1,Dge=17179869184-1;function Uge({sec:t,nsec:e}){if(t>=0&&e>=0&&t<=Dge)if(e===0&&t<=Pge){const n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,t),n}else{const n=t/4294967296,r=t&4294967295,i=new Uint8Array(8),s=new DataView(i.buffer);return s.setUint32(0,e<<2|n&3),s.setUint32(4,r),i}else{const n=new Uint8Array(12),r=new DataView(n.buffer);return r.setUint32(0,e),mF(r,4,t),n}}function Mge(t){const e=t.getTime(),n=Math.floor(e/1e3),r=(e-n*1e3)*1e6,i=Math.floor(r/1e9);return{sec:n+i,nsec:r-i*1e9}}function Bge(t){if(t instanceof Date){const e=Mge(t);return Uge(e)}else return null}function Lge(t){const e=new DataView(t.buffer,t.byteOffset,t.byteLength);switch(t.byteLength){case 4:return{sec:e.getUint32(0),nsec:0};case 8:{const n=e.getUint32(0),r=e.getUint32(4),i=(n&3)*4294967296+r,s=n>>>2;return{sec:i,nsec:s}}case 12:{const n=yF(e,4),r=e.getUint32(0);return{sec:n,nsec:r}}default:throw new Es(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${t.length}`)}}function jge(t){const e=Lge(t);return new Date(e.sec*1e3+e.nsec/1e6)}const zge={type:$ge,encode:Bge,decode:jge};class Uv{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(zge)}register({type:e,encode:n,decode:r}){if(e>=0)this.encoders[e]=n,this.decoders[e]=r;else{const i=-1-e;this.builtInEncoders[i]=n,this.builtInDecoders[i]=r}}tryToEncode(e,n){for(let r=0;r<this.builtInEncoders.length;r++){const i=this.builtInEncoders[r];if(i!=null){const s=i(e,n);if(s!=null){const a=-1-r;return new Yb(a,s)}}}for(let r=0;r<this.encoders.length;r++){const i=this.encoders[r];if(i!=null){const s=i(e,n);if(s!=null){const a=r;return new Yb(a,s)}}}return e instanceof Yb?e:null}decode(e,n,r){const i=n<0?this.builtInDecoders[-1-n]:this.decoders[n];return i?i(e,n,r):new Yb(n,e)}}Uv.defaultCodec=new Uv;function Fge(t){return t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer}function a5(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Fge(t)?new Uint8Array(t):Uint8Array.from(t)}const qge=100,Wge=2048;let Hge=class gF{constructor(e){this.entered=!1,this.extensionCodec=e?.extensionCodec??Uv.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.maxDepth=e?.maxDepth??qge,this.initialBufferSize=e?.initialBufferSize??Wge,this.sortKeys=e?.sortKeys??!1,this.forceFloat32=e?.forceFloat32??!1,this.ignoreUndefined=e?.ignoreUndefined??!1,this.forceIntegerToFloat=e?.forceIntegerToFloat??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new gF({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(e){if(this.entered)return this.clone().encodeSharedRef(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(e){if(this.entered)return this.clone().encode(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(e,n){if(n>this.maxDepth)throw new Error(`Too deep objects in depth ${n}`);e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.useBigInt64&&typeof e=="bigint"?this.encodeBigInt64(e):this.encodeObject(e,n)}ensureBufferSizeToWrite(e){const n=this.pos+e;this.view.byteLength<n&&this.resizeBuffer(n*2)}resizeBuffer(e){const n=new ArrayBuffer(e),r=new Uint8Array(n),i=new DataView(n);r.set(this.bytes),this.view=i,this.bytes=r}encodeNil(){this.writeU8(192)}encodeBoolean(e){e===!1?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error(`Too long string: ${e} bytes in UTF-8`)}encodeString(e){const r=vge(e);this.ensureBufferSizeToWrite(5+r),this.writeStringHeader(r),xge(e,this.bytes,this.pos),this.pos+=r}encodeObject(e,n){const r=this.extensionCodec.tryToEncode(e,this.context);if(r!=null)this.encodeExtension(r);else if(Array.isArray(e))this.encodeArray(e,n);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(typeof e=="object")this.encodeMap(e,n);else throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`)}encodeBinary(e){const n=e.byteLength;if(n<256)this.writeU8(196),this.writeU8(n);else if(n<65536)this.writeU8(197),this.writeU16(n);else if(n<4294967296)this.writeU8(198),this.writeU32(n);else throw new Error(`Too large binary: ${n}`);const r=a5(e);this.writeU8a(r)}encodeArray(e,n){const r=e.length;if(r<16)this.writeU8(144+r);else if(r<65536)this.writeU8(220),this.writeU16(r);else if(r<4294967296)this.writeU8(221),this.writeU32(r);else throw new Error(`Too large array: ${r}`);for(const i of e)this.doEncode(i,n+1)}countWithoutUndefined(e,n){let r=0;for(const i of n)e[i]!==void 0&&r++;return r}encodeMap(e,n){const r=Object.keys(e);this.sortKeys&&r.sort();const i=this.ignoreUndefined?this.countWithoutUndefined(e,r):r.length;if(i<16)this.writeU8(128+i);else if(i<65536)this.writeU8(222),this.writeU16(i);else if(i<4294967296)this.writeU8(223),this.writeU32(i);else throw new Error(`Too large map object: ${i}`);for(const s of r){const a=e[s];this.ignoreUndefined&&a===void 0||(this.encodeString(s),this.doEncode(a,n+1))}}encodeExtension(e){if(typeof e.data=="function"){const r=e.data(this.pos+6),i=r.length;if(i>=4294967296)throw new Error(`Too large extension object: ${i}`);this.writeU8(201),this.writeU32(i),this.writeI8(e.type),this.writeU8a(r);return}const n=e.data.length;if(n===1)this.writeU8(212);else if(n===2)this.writeU8(213);else if(n===4)this.writeU8(214);else if(n===8)this.writeU8(215);else if(n===16)this.writeU8(216);else if(n<256)this.writeU8(199),this.writeU8(n);else if(n<65536)this.writeU8(200),this.writeU16(n);else if(n<4294967296)this.writeU8(201),this.writeU32(n);else throw new Error(`Too large extension object: ${n}`);this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){const n=e.length;this.ensureBufferSizeToWrite(n),this.bytes.set(e,this.pos),this.pos+=n}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),Rge(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),mF(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}};function Vge(t,e){return new Hge(e).encodeSharedRef(t)}function dA(t){return`${t<0?"-":""}0x${Math.abs(t).toString(16).padStart(2,"0")}`}const Gge=16,Kge=16;class Yge{constructor(e=Gge,n=Kge){this.hit=0,this.miss=0,this.maxKeyLength=e,this.maxLengthPerKey=n,this.caches=[];for(let r=0;r<this.maxKeyLength;r++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,n,r){const i=this.caches[r-1];e:for(const s of i){const a=s.bytes;for(let c=0;c<r;c++)if(a[c]!==e[n+c])continue e;return s.str}return null}store(e,n){const r=this.caches[e.length-1],i={bytes:e,str:n};r.length>=this.maxLengthPerKey?r[Math.random()*r.length|0]=i:r.push(i)}decode(e,n,r){const i=this.find(e,n,r);if(i!=null)return this.hit++,i;this.miss++;const s=pF(e,n,r),a=Uint8Array.prototype.slice.call(e,n,n+r);return this.store(a,s),s}}const o5="array",hy="map_key",bF="map_value",Zge=t=>{if(typeof t=="string"||typeof t=="number")return t;throw new Es("The type of key must be string or number but "+typeof t)};class Xge{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){const n=this.getUninitializedStateFromPool();n.type=o5,n.position=0,n.size=e,n.array=new Array(e)}pushMapState(e){const n=this.getUninitializedStateFromPool();n.type=hy,n.readCount=0,n.size=e,n.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const e={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(e)}return this.stack[this.stackHeadPosition]}release(e){if(this.stack[this.stackHeadPosition]!==e)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(e.type===o5){const r=e;r.size=0,r.array=void 0,r.position=0,r.type=void 0}if(e.type===hy||e.type===bF){const r=e;r.size=0,r.map=void 0,r.readCount=0,r.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const Tm=-1,cI=new DataView(new ArrayBuffer(0)),Jge=new Uint8Array(cI.buffer);try{cI.getInt8(0)}catch(t){if(!(t instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const B$=new RangeError("Insufficient data"),Qge=new Yge;let e0e=class wF{constructor(e){this.totalPos=0,this.pos=0,this.view=cI,this.bytes=Jge,this.headByte=Tm,this.stack=new Xge,this.entered=!1,this.extensionCodec=e?.extensionCodec??Uv.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.rawStrings=e?.rawStrings??!1,this.maxStrLength=e?.maxStrLength??xm,this.maxBinLength=e?.maxBinLength??xm,this.maxArrayLength=e?.maxArrayLength??xm,this.maxMapLength=e?.maxMapLength??xm,this.maxExtLength=e?.maxExtLength??xm,this.keyDecoder=e?.keyDecoder!==void 0?e.keyDecoder:Qge,this.mapKeyConverter=e?.mapKeyConverter??Zge}clone(){return new wF({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=Tm,this.stack.reset()}setBuffer(e){const n=a5(e);this.bytes=n,this.view=new DataView(n.buffer,n.byteOffset,n.byteLength),this.pos=0}appendBuffer(e){if(this.headByte===Tm&&!this.hasRemaining(1))this.setBuffer(e);else{const n=this.bytes.subarray(this.pos),r=a5(e),i=new Uint8Array(n.length+r.length);i.set(n),i.set(r,n.length),this.setBuffer(i)}}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){const{view:n,pos:r}=this;return new RangeError(`Extra ${n.byteLength-r} of ${n.byteLength} byte(s) found at buffer[${e}]`)}decode(e){if(this.entered)return this.clone().decode(e);try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);const n=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return n}finally{this.entered=!1}}*decodeMulti(e){if(this.entered){yield*this.clone().decodeMulti(e);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered)return this.clone().decodeAsync(e);try{this.entered=!0;let n=!1,r;for await(const c of e){if(n)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(c);try{r=this.doDecodeSync(),n=!0}catch(u){if(!(u instanceof RangeError))throw u}this.totalPos+=this.pos}if(n){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return r}const{headByte:i,pos:s,totalPos:a}=this;throw new RangeError(`Insufficient data in parsing ${dA(i)} at ${a} (${s} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async*decodeMultiAsync(e,n){if(this.entered){yield*this.clone().decodeMultiAsync(e,n);return}try{this.entered=!0;let r=n,i=-1;for await(const s of e){if(n&&i===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(s),r&&(i=this.readArraySize(),r=!1,this.complete());try{for(;yield this.doDecodeSync(),--i!==0;);}catch(a){if(!(a instanceof RangeError))throw a}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){const e=this.readHeadByte();let n;if(e>=224)n=e-256;else if(e<192)if(e<128)n=e;else if(e<144){const i=e-128;if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(e<160){const i=e-144;if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else{const i=e-160;n=this.decodeString(i,0)}else if(e===192)n=null;else if(e===194)n=!1;else if(e===195)n=!0;else if(e===202)n=this.readF32();else if(e===203)n=this.readF64();else if(e===204)n=this.readU8();else if(e===205)n=this.readU16();else if(e===206)n=this.readU32();else if(e===207)this.useBigInt64?n=this.readU64AsBigInt():n=this.readU64();else if(e===208)n=this.readI8();else if(e===209)n=this.readI16();else if(e===210)n=this.readI32();else if(e===211)this.useBigInt64?n=this.readI64AsBigInt():n=this.readI64();else if(e===217){const i=this.lookU8();n=this.decodeString(i,1)}else if(e===218){const i=this.lookU16();n=this.decodeString(i,2)}else if(e===219){const i=this.lookU32();n=this.decodeString(i,4)}else if(e===220){const i=this.readU16();if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else if(e===221){const i=this.readU32();if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else if(e===222){const i=this.readU16();if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(e===223){const i=this.readU32();if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(e===196){const i=this.lookU8();n=this.decodeBinary(i,1)}else if(e===197){const i=this.lookU16();n=this.decodeBinary(i,2)}else if(e===198){const i=this.lookU32();n=this.decodeBinary(i,4)}else if(e===212)n=this.decodeExtension(1,0);else if(e===213)n=this.decodeExtension(2,0);else if(e===214)n=this.decodeExtension(4,0);else if(e===215)n=this.decodeExtension(8,0);else if(e===216)n=this.decodeExtension(16,0);else if(e===199){const i=this.lookU8();n=this.decodeExtension(i,1)}else if(e===200){const i=this.lookU16();n=this.decodeExtension(i,2)}else if(e===201){const i=this.lookU32();n=this.decodeExtension(i,4)}else throw new Es(`Unrecognized type byte: ${dA(e)}`);this.complete();const r=this.stack;for(;r.length>0;){const i=r.top();if(i.type===o5)if(i.array[i.position]=n,i.position++,i.position===i.size)n=i.array,r.release(i);else continue e;else if(i.type===hy){if(n==="__proto__")throw new Es("The key __proto__ is not allowed");i.key=this.mapKeyConverter(n),i.type=bF;continue e}else if(i.map[i.key]=n,i.readCount++,i.readCount===i.size)n=i.map,r.release(i);else{i.key=null,i.type=hy;continue e}}return n}}readHeadByte(){return this.headByte===Tm&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=Tm}readArraySize(){const e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new Es(`Unrecognized array type byte: ${dA(e)}`)}}}pushMapState(e){if(e>this.maxMapLength)throw new Es(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new Es(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(e)}decodeString(e,n){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,n):this.decodeBinary(e,n)}decodeUtf8String(e,n){if(e>this.maxStrLength)throw new Es(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+n+e)throw B$;const r=this.pos+n;let i;return this.stateIsMapKey()&&this.keyDecoder?.canBeCached(e)?i=this.keyDecoder.decode(this.bytes,r,e):i=kge(this.bytes,r,e),this.pos+=n+e,i}stateIsMapKey(){return this.stack.length>0?this.stack.top().type===hy:!1}decodeBinary(e,n){if(e>this.maxBinLength)throw new Es(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+n))throw B$;const r=this.pos+n,i=this.bytes.subarray(r,r+e);return this.pos+=n+e,i}decodeExtension(e,n){if(e>this.maxExtLength)throw new Es(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);const r=this.view.getInt8(this.pos+n),i=this.decodeBinary(e,n+1);return this.extensionCodec.decode(i,r,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){const e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){const e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){const e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){const e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){const e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){const e=Nge(this.view,this.pos);return this.pos+=8,e}readI64(){const e=yF(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){const e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){const e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){const e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){const e=this.view.getFloat64(this.pos);return this.pos+=8,e}};function t0e(t,e){return new e0e(e).decode(t)}const n0e=t=>JSON.stringify(t,(e,n)=>typeof n=="bigint"?n.toString()+"n":n),r0e=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,n=t.replace(e,'$1"$2n"$3');return JSON.parse(n,(r,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function Nd(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return r0e(t)}catch{return t}}function jc(t){return typeof t=="string"?t:n0e(t)||""}function i0e(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function vF(t,...e){if(!i0e(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function L$(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function s0e(t,e){vF(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const Vf=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;const fA=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function a0e(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function _F(t){return typeof t=="string"&&(t=a0e(t)),vF(t),t}let o0e=class{clone(){return this._cloneInto()}};function c0e(t){const e=r=>t().update(_F(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function EF(t=32){if(Vf&&typeof Vf.getRandomValues=="function")return Vf.getRandomValues(new Uint8Array(t));if(Vf&&typeof Vf.randomBytes=="function")return Vf.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function l0e(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),a=Number(n>>i&s),c=Number(n&s),u=r?4:0,d=r?0:4;t.setUint32(e+u,a,r),t.setUint32(e+d,c,r)}let u0e=class extends o0e{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=fA(this.buffer)}update(e){L$(this);const{view:n,buffer:r,blockLen:i}=this;e=_F(e);const s=e.length;for(let a=0;a<s;){const c=Math.min(i-this.pos,s-a);if(c===i){const u=fA(e);for(;i<=s-a;a+=i)this.process(u,a);continue}r.set(e.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){L$(this),s0e(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:a}=this;n[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(r,0),a=0);for(let p=a;p<i;p++)n[p]=0;l0e(r,i-8,BigInt(this.length*8),s),this.process(r,0);const c=fA(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=u/4,h=this.get();if(d>h.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<d;p++)c.setUint32(4*p,h[p],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:a,pos:c}=this;return e.length=i,e.pos=c,e.finished=s,e.destroyed=a,i%n&&e.buffer.set(r),e}};const Zb=BigInt(2**32-1),c5=BigInt(32);function SF(t,e=!1){return e?{h:Number(t&Zb),l:Number(t>>c5&Zb)}:{h:Number(t>>c5&Zb)|0,l:Number(t&Zb)|0}}function d0e(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:a}=SF(t[i],e);[n[i],r[i]]=[s,a]}return[n,r]}const f0e=(t,e)=>BigInt(t>>>0)<<c5|BigInt(e>>>0),h0e=(t,e,n)=>t>>>n,p0e=(t,e,n)=>t<<32-n|e>>>n,m0e=(t,e,n)=>t>>>n|e<<32-n,y0e=(t,e,n)=>t<<32-n|e>>>n,g0e=(t,e,n)=>t<<64-n|e>>>n-32,b0e=(t,e,n)=>t>>>n-32|e<<64-n,w0e=(t,e)=>e,v0e=(t,e)=>t,_0e=(t,e,n)=>t<<n|e>>>32-n,E0e=(t,e,n)=>e<<n|t>>>32-n,S0e=(t,e,n)=>e<<n-32|t>>>64-n,A0e=(t,e,n)=>t<<n-32|e>>>64-n;function x0e(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const T0e=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),I0e=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,C0e=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),O0e=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,k0e=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),R0e=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,Rt={fromBig:SF,split:d0e,toBig:f0e,shrSH:h0e,shrSL:p0e,rotrSH:m0e,rotrSL:y0e,rotrBH:g0e,rotrBL:b0e,rotr32H:w0e,rotr32L:v0e,rotlSH:_0e,rotlSL:E0e,rotlBH:S0e,rotlBL:A0e,add:x0e,add3L:T0e,add3H:I0e,add4L:C0e,add4H:O0e,add5H:R0e,add5L:k0e},[N0e,$0e]=Rt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Il=new Uint32Array(80),Cl=new Uint32Array(80);let P0e=class extends u0e{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:a,Dh:c,Dl:u,Eh:d,El:h,Fh:p,Fl:y,Gh:g,Gl:b,Hh:v,Hl:E}=this;return[e,n,r,i,s,a,c,u,d,h,p,y,g,b,v,E]}set(e,n,r,i,s,a,c,u,d,h,p,y,g,b,v,E){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=a|0,this.Dh=c|0,this.Dl=u|0,this.Eh=d|0,this.El=h|0,this.Fh=p|0,this.Fl=y|0,this.Gh=g|0,this.Gl=b|0,this.Hh=v|0,this.Hl=E|0}process(e,n){for(let A=0;A<16;A++,n+=4)Il[A]=e.getUint32(n),Cl[A]=e.getUint32(n+=4);for(let A=16;A<80;A++){const S=Il[A-15]|0,C=Cl[A-15]|0,I=Rt.rotrSH(S,C,1)^Rt.rotrSH(S,C,8)^Rt.shrSH(S,C,7),$=Rt.rotrSL(S,C,1)^Rt.rotrSL(S,C,8)^Rt.shrSL(S,C,7),z=Il[A-2]|0,j=Cl[A-2]|0,B=Rt.rotrSH(z,j,19)^Rt.rotrBH(z,j,61)^Rt.shrSH(z,j,6),G=Rt.rotrSL(z,j,19)^Rt.rotrBL(z,j,61)^Rt.shrSL(z,j,6),U=Rt.add4L($,G,Cl[A-7],Cl[A-16]),F=Rt.add4H(U,I,B,Il[A-7],Il[A-16]);Il[A]=F|0,Cl[A]=U|0}let{Ah:r,Al:i,Bh:s,Bl:a,Ch:c,Cl:u,Dh:d,Dl:h,Eh:p,El:y,Fh:g,Fl:b,Gh:v,Gl:E,Hh:O,Hl:k}=this;for(let A=0;A<80;A++){const S=Rt.rotrSH(p,y,14)^Rt.rotrSH(p,y,18)^Rt.rotrBH(p,y,41),C=Rt.rotrSL(p,y,14)^Rt.rotrSL(p,y,18)^Rt.rotrBL(p,y,41),I=p&g^~p&v,$=y&b^~y&E,z=Rt.add5L(k,C,$,$0e[A],Cl[A]),j=Rt.add5H(z,O,S,I,N0e[A],Il[A]),B=z|0,G=Rt.rotrSH(r,i,28)^Rt.rotrBH(r,i,34)^Rt.rotrBH(r,i,39),U=Rt.rotrSL(r,i,28)^Rt.rotrBL(r,i,34)^Rt.rotrBL(r,i,39),F=r&s^r&c^s&c,K=i&a^i&u^a&u;O=v|0,k=E|0,v=g|0,E=b|0,g=p|0,b=y|0,{h:p,l:y}=Rt.add(d|0,h|0,j|0,B|0),d=c|0,h=u|0,c=s|0,u=a|0,s=r|0,a=i|0;const T=Rt.add3L(B,U,K);r=Rt.add3H(T,j,G,F),i=T|0}({h:r,l:i}=Rt.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:a}=Rt.add(this.Bh|0,this.Bl|0,s|0,a|0),{h:c,l:u}=Rt.add(this.Ch|0,this.Cl|0,c|0,u|0),{h:d,l:h}=Rt.add(this.Dh|0,this.Dl|0,d|0,h|0),{h:p,l:y}=Rt.add(this.Eh|0,this.El|0,p|0,y|0),{h:g,l:b}=Rt.add(this.Fh|0,this.Fl|0,g|0,b|0),{h:v,l:E}=Rt.add(this.Gh|0,this.Gl|0,v|0,E|0),{h:O,l:k}=Rt.add(this.Hh|0,this.Hl|0,O|0,k|0),this.set(r,i,s,a,c,u,d,h,p,y,g,b,v,E,O,k)}roundClean(){Il.fill(0),Cl.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const D0e=c0e(()=>new P0e);const lI=BigInt(0),AF=BigInt(1),U0e=BigInt(2);function uI(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function dI(t){if(!uI(t))throw new Error("Uint8Array expected")}function hA(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const M0e=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function fI(t){dI(t);let e="";for(let n=0;n<t.length;n++)e+=M0e[t[n]];return e}function xF(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?lI:BigInt("0x"+t)}const rc={_0:48,_9:57,A:65,F:70,a:97,f:102};function j$(t){if(t>=rc._0&&t<=rc._9)return t-rc._0;if(t>=rc.A&&t<=rc.F)return t-(rc.A-10);if(t>=rc.a&&t<=rc.f)return t-(rc.a-10)}function TF(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const a=j$(t.charCodeAt(s)),c=j$(t.charCodeAt(s+1));if(a===void 0||c===void 0){const u=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+u+'" at index '+s)}r[i]=a*16+c}return r}function B0e(t){return xF(fI(t))}function Rw(t){return dI(t),xF(fI(Uint8Array.from(t).reverse()))}function IF(t,e){return TF(t.toString(16).padStart(e*2,"0"))}function l5(t,e){return IF(t,e).reverse()}function ic(t,e,n){let r;if(typeof e=="string")try{r=TF(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(uI(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function z$(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];dI(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}const pA=t=>typeof t=="bigint"&&lI<=t;function L0e(t,e,n){return pA(t)&&pA(e)&&pA(n)&&e<=t&&t<n}function Im(t,e,n,r){if(!L0e(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function j0e(t){let e;for(e=0;t>lI;t>>=AF,e+=1);return e}const z0e=t=>(U0e<<BigInt(t-1))-AF,F0e={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||uI(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function hI(t,e,n={}){const r=(i,s,a)=>{const c=F0e[s];if(typeof c!="function")throw new Error("invalid validator function");const u=t[i];if(!(a&&u===void 0)&&!c(u,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+u)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}function F$(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}const Fr=BigInt(0),rr=BigInt(1),Xu=BigInt(2),q0e=BigInt(3),u5=BigInt(4),q$=BigInt(5),W$=BigInt(8);function Tr(t,e){const n=t%e;return n>=Fr?n:e+n}function W0e(t,e,n){if(e<Fr)throw new Error("invalid exponent, negatives unsupported");if(n<=Fr)throw new Error("invalid modulus");if(n===rr)return Fr;let r=rr;for(;e>Fr;)e&rr&&(r=r*t%n),t=t*t%n,e>>=rr;return r}function Qa(t,e,n){let r=t;for(;e-- >Fr;)r*=r,r%=n;return r}function H$(t,e){if(t===Fr)throw new Error("invert: expected non-zero number");if(e<=Fr)throw new Error("invert: expected positive modulus, got "+e);let n=Tr(t,e),r=e,i=Fr,s=rr;for(;n!==Fr;){const a=r/n,c=r%n,u=i-s*a;r=n,n=c,i=s,s=u}if(r!==rr)throw new Error("invert: does not exist");return Tr(i,e)}function H0e(t){const e=(t-rr)/Xu;let n,r,i;for(n=t-rr,r=0;n%Xu===Fr;n/=Xu,r++);for(i=Xu;i<t&&W0e(i,e,t)!==t-rr;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const a=(t+rr)/u5;return function(c,u){const d=c.pow(u,a);if(!c.eql(c.sqr(d),u))throw new Error("Cannot find square root");return d}}const s=(n+rr)/Xu;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,d=a.pow(a.mul(a.ONE,i),n),h=a.pow(c,s),p=a.pow(c,n);for(;!a.eql(p,a.ONE);){if(a.eql(p,a.ZERO))return a.ZERO;let y=1;for(let b=a.sqr(p);y<u&&!a.eql(b,a.ONE);y++)b=a.sqr(b);const g=a.pow(d,rr<<BigInt(u-y-1));d=a.sqr(g),h=a.mul(h,g),p=a.mul(p,d),u=y}return h}}function V0e(t){if(t%u5===q0e){const e=(t+rr)/u5;return function(n,r){const i=n.pow(r,e);if(!n.eql(n.sqr(i),r))throw new Error("Cannot find square root");return i}}if(t%W$===q$){const e=(t-q$)/W$;return function(n,r){const i=n.mul(r,Xu),s=n.pow(i,e),a=n.mul(r,s),c=n.mul(n.mul(a,Xu),s),u=n.mul(a,n.sub(c,n.ONE));if(!n.eql(n.sqr(u),r))throw new Error("Cannot find square root");return u}}return H0e(t)}const G0e=(t,e)=>(Tr(t,e)&rr)===rr,K0e=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Y0e(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=K0e.reduce((r,i)=>(r[i]="function",r),e);return hI(t,n)}function Z0e(t,e,n){if(n<Fr)throw new Error("invalid exponent, negatives unsupported");if(n===Fr)return t.ONE;if(n===rr)return e;let r=t.ONE,i=e;for(;n>Fr;)n&rr&&(r=t.mul(r,i)),i=t.sqr(i),n>>=rr;return r}function X0e(t,e){const n=new Array(e.length),r=e.reduce((s,a,c)=>t.is0(a)?s:(n[c]=s,t.mul(s,a)),t.ONE),i=t.inv(r);return e.reduceRight((s,a,c)=>t.is0(a)?s:(n[c]=t.mul(s,n[c]),t.mul(s,a)),i),n}function CF(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function OF(t,e,n=!1,r={}){if(t<=Fr)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=CF(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let a;const c=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:z0e(i),ZERO:Fr,ONE:rr,create:u=>Tr(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return Fr<=u&&u<t},is0:u=>u===Fr,isOdd:u=>(u&rr)===rr,neg:u=>Tr(-u,t),eql:(u,d)=>u===d,sqr:u=>Tr(u*u,t),add:(u,d)=>Tr(u+d,t),sub:(u,d)=>Tr(u-d,t),mul:(u,d)=>Tr(u*d,t),pow:(u,d)=>Z0e(c,u,d),div:(u,d)=>Tr(u*H$(d,t),t),sqrN:u=>u*u,addN:(u,d)=>u+d,subN:(u,d)=>u-d,mulN:(u,d)=>u*d,inv:u=>H$(u,t),sqrt:r.sqrt||(u=>(a||(a=V0e(t)),a(c,u))),invertBatch:u=>X0e(c,u),cmov:(u,d,h)=>h?d:u,toBytes:u=>n?l5(u,s):IF(u,s),fromBytes:u=>{if(u.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+u.length);return n?Rw(u):B0e(u)}});return Object.freeze(c)}const V$=BigInt(0),Xb=BigInt(1);function mA(t,e){const n=e.negate();return t?n:e}function kF(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function yA(t,e){kF(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function J0e(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function Q0e(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const gA=new WeakMap,RF=new WeakMap;function bA(t){return RF.get(t)||1}function ebe(t,e){return{constTimeNegate:mA,hasPrecomputes(n){return bA(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>V$;)r&Xb&&(i=i.add(s)),s=s.double(),r>>=Xb;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=yA(r,e),a=[];let c=n,u=c;for(let d=0;d<i;d++){u=c,a.push(u);for(let h=1;h<s;h++)u=u.add(c),a.push(u);c=u.double()}return a},wNAF(n,r,i){const{windows:s,windowSize:a}=yA(n,e);let c=t.ZERO,u=t.BASE;const d=BigInt(2**n-1),h=2**n,p=BigInt(n);for(let y=0;y<s;y++){const g=y*a;let b=Number(i&d);i>>=p,b>a&&(b-=h,i+=Xb);const v=g,E=g+Math.abs(b)-1,O=y%2!==0,k=b<0;b===0?u=u.add(mA(O,r[v])):c=c.add(mA(k,r[E]))}return{p:c,f:u}},wNAFUnsafe(n,r,i,s=t.ZERO){const{windows:a,windowSize:c}=yA(n,e),u=BigInt(2**n-1),d=2**n,h=BigInt(n);for(let p=0;p<a;p++){const y=p*c;if(i===V$)break;let g=Number(i&u);if(i>>=h,g>c&&(g-=d,i+=Xb),g===0)continue;let b=r[y+Math.abs(g)-1];g<0&&(b=b.negate()),s=s.add(b)}return s},getPrecomputes(n,r,i){let s=gA.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&gA.set(r,i(s))),s},wNAFCached(n,r,i){const s=bA(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const a=bA(n);return a===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(a,this.getPrecomputes(a,n,i),r,s)},setWindowSize(n,r){kF(r,e),RF.set(n,r),gA.delete(n)}}}function tbe(t,e,n,r){if(J0e(n,t),Q0e(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,s=j0e(BigInt(n.length)),a=s>12?s-3:s>4?s-2:s?2:1,c=(1<<a)-1,u=new Array(c+1).fill(i),d=Math.floor((e.BITS-1)/a)*a;let h=i;for(let p=d;p>=0;p-=a){u.fill(i);for(let g=0;g<r.length;g++){const b=r[g],v=Number(b>>BigInt(p)&BigInt(c));u[v]=u[v].add(n[g])}let y=i;for(let g=u.length-1,b=i;g>0;g--)b=b.add(u[g]),y=y.add(b);if(h=h.add(y),p!==0)for(let g=0;g<a;g++)h=h.double()}return h}function nbe(t){return Y0e(t.Fp),hI(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...CF(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const va=BigInt(0),zi=BigInt(1),Jb=BigInt(2),rbe=BigInt(8),ibe={zip215:!0};function sbe(t){const e=nbe(t);return hI(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function abe(t){const e=sbe(t),{Fp:n,n:r,prehash:i,hash:s,randomBytes:a,nByteLength:c,h:u}=e,d=Jb<<BigInt(c*8)-zi,h=n.create,p=OF(e.n,e.nBitLength),y=e.uvRatio||((T,x)=>{try{return{isValid:!0,value:n.sqrt(T*n.inv(x))}}catch{return{isValid:!1,value:va}}}),g=e.adjustScalarBytes||(T=>T),b=e.domain||((T,x,N)=>{if(hA("phflag",N),x.length||N)throw new Error("Contexts/pre-hash are not supported");return T});function v(T,x){Im("coordinate "+T,x,va,d)}function E(T){if(!(T instanceof A))throw new Error("ExtendedPoint expected")}const O=F$((T,x)=>{const{ex:N,ey:L,ez:P}=T,H=T.is0();x==null&&(x=H?rbe:n.inv(P));const D=h(N*x),V=h(L*x),J=h(P*x);if(H)return{x:va,y:zi};if(J!==zi)throw new Error("invZ was invalid");return{x:D,y:V}}),k=F$(T=>{const{a:x,d:N}=e;if(T.is0())throw new Error("bad point: ZERO");const{ex:L,ey:P,ez:H,et:D}=T,V=h(L*L),J=h(P*P),X=h(H*H),Q=h(X*X),ge=h(V*x),we=h(X*h(ge+J)),xe=h(Q+h(N*h(V*J)));if(we!==xe)throw new Error("bad point: equation left != right (1)");const Ee=h(L*P),$e=h(H*D);if(Ee!==$e)throw new Error("bad point: equation left != right (2)");return!0});class A{constructor(x,N,L,P){this.ex=x,this.ey=N,this.ez=L,this.et=P,v("x",x),v("y",N),v("z",L),v("t",P),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(x){if(x instanceof A)throw new Error("extended point not allowed");const{x:N,y:L}=x||{};return v("x",N),v("y",L),new A(N,L,zi,h(N*L))}static normalizeZ(x){const N=n.invertBatch(x.map(L=>L.ez));return x.map((L,P)=>L.toAffine(N[P])).map(A.fromAffine)}static msm(x,N){return tbe(A,p,x,N)}_setWindowSize(x){I.setWindowSize(this,x)}assertValidity(){k(this)}equals(x){E(x);const{ex:N,ey:L,ez:P}=this,{ex:H,ey:D,ez:V}=x,J=h(N*V),X=h(H*P),Q=h(L*V),ge=h(D*P);return J===X&&Q===ge}is0(){return this.equals(A.ZERO)}negate(){return new A(h(-this.ex),this.ey,this.ez,h(-this.et))}double(){const{a:x}=e,{ex:N,ey:L,ez:P}=this,H=h(N*N),D=h(L*L),V=h(Jb*h(P*P)),J=h(x*H),X=N+L,Q=h(h(X*X)-H-D),ge=J+D,we=ge-V,xe=J-D,Ee=h(Q*we),$e=h(ge*xe),Fe=h(Q*xe),tt=h(we*ge);return new A(Ee,$e,tt,Fe)}add(x){E(x);const{a:N,d:L}=e,{ex:P,ey:H,ez:D,et:V}=this,{ex:J,ey:X,ez:Q,et:ge}=x;if(N===BigInt(-1)){const Be=h((H-P)*(X+J)),He=h((H+P)*(X-J)),ui=h(He-Be);if(ui===va)return this.double();const di=h(D*Jb*ge),ut=h(V*Jb*Q),gn=ut+di,fa=He+Be,as=ut-di,Ri=h(gn*ui),fn=h(fa*as),Or=h(gn*as),Wr=h(ui*fa);return new A(Ri,fn,Wr,Or)}const we=h(P*J),xe=h(H*X),Ee=h(V*L*ge),$e=h(D*Q),Fe=h((P+H)*(J+X)-we-xe),tt=$e-Ee,me=$e+Ee,St=h(xe-N*we),Ht=h(Fe*tt),gt=h(me*St),li=h(Fe*St),qt=h(tt*me);return new A(Ht,gt,qt,li)}subtract(x){return this.add(x.negate())}wNAF(x){return I.wNAFCached(this,x,A.normalizeZ)}multiply(x){const N=x;Im("scalar",N,zi,r);const{p:L,f:P}=this.wNAF(N);return A.normalizeZ([L,P])[0]}multiplyUnsafe(x,N=A.ZERO){const L=x;return Im("scalar",L,va,r),L===va?C:this.is0()||L===zi?this:I.wNAFCachedUnsafe(this,L,A.normalizeZ,N)}isSmallOrder(){return this.multiplyUnsafe(u).is0()}isTorsionFree(){return I.unsafeLadder(this,r).is0()}toAffine(x){return O(this,x)}clearCofactor(){const{h:x}=e;return x===zi?this:this.multiplyUnsafe(x)}static fromHex(x,N=!1){const{d:L,a:P}=e,H=n.BYTES;x=ic("pointHex",x,H),hA("zip215",N);const D=x.slice(),V=x[H-1];D[H-1]=V&-129;const J=Rw(D),X=N?d:n.ORDER;Im("pointHex.y",J,va,X);const Q=h(J*J),ge=h(Q-zi),we=h(L*Q-P);let{isValid:xe,value:Ee}=y(ge,we);if(!xe)throw new Error("Point.fromHex: invalid y coordinate");const $e=(Ee&zi)===zi,Fe=(V&128)!==0;if(!N&&Ee===va&&Fe)throw new Error("Point.fromHex: x=0 and x_0=1");return Fe!==$e&&(Ee=h(-Ee)),A.fromAffine({x:Ee,y:J})}static fromPrivateKey(x){return j(x).point}toRawBytes(){const{x,y:N}=this.toAffine(),L=l5(N,n.BYTES);return L[L.length-1]|=x&zi?128:0,L}toHex(){return fI(this.toRawBytes())}}A.BASE=new A(e.Gx,e.Gy,zi,h(e.Gx*e.Gy)),A.ZERO=new A(va,zi,zi,va);const{BASE:S,ZERO:C}=A,I=ebe(A,c*8);function $(T){return Tr(T,r)}function z(T){return $(Rw(T))}function j(T){const x=n.BYTES;T=ic("private key",T,x);const N=ic("hashed private key",s(T),2*x),L=g(N.slice(0,x)),P=N.slice(x,2*x),H=z(L),D=S.multiply(H),V=D.toRawBytes();return{head:L,prefix:P,scalar:H,point:D,pointBytes:V}}function B(T){return j(T).pointBytes}function G(T=new Uint8Array,...x){const N=z$(...x);return z(s(b(N,ic("context",T),!!i)))}function U(T,x,N={}){T=ic("message",T),i&&(T=i(T));const{prefix:L,scalar:P,pointBytes:H}=j(x),D=G(N.context,L,T),V=S.multiply(D).toRawBytes(),J=G(N.context,V,H,T),X=$(D+J*P);Im("signature.s",X,va,r);const Q=z$(V,l5(X,n.BYTES));return ic("result",Q,n.BYTES*2)}const F=ibe;function K(T,x,N,L=F){const{context:P,zip215:H}=L,D=n.BYTES;T=ic("signature",T,2*D),x=ic("message",x),N=ic("publicKey",N,D),H!==void 0&&hA("zip215",H),i&&(x=i(x));const V=Rw(T.slice(D,2*D));let J,X,Q;try{J=A.fromHex(N,H),X=A.fromHex(T.slice(0,D),H),Q=S.multiplyUnsafe(V)}catch{return!1}if(!H&&J.isSmallOrder())return!1;const ge=G(P,X.toRawBytes(),J.toRawBytes(),x);return X.add(J.multiplyUnsafe(ge)).subtract(Q).clearCofactor().equals(A.ZERO)}return S._setWindowSize(8),{CURVE:e,getPublicKey:B,sign:U,verify:K,ExtendedPoint:A,utils:{getExtendedPublicKey:j,randomPrivateKey:()=>a(n.BYTES),precompute(T=8,x=A.BASE){return x._setWindowSize(T),x.multiply(BigInt(3)),x}}}}BigInt(0),BigInt(1);const pI=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),G$=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const obe=BigInt(1),K$=BigInt(2);BigInt(3);const cbe=BigInt(5),lbe=BigInt(8);function ube(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=pI,a=t*t%s*t%s,c=Qa(a,K$,s)*a%s,u=Qa(c,obe,s)*t%s,d=Qa(u,cbe,s)*u%s,h=Qa(d,e,s)*d%s,p=Qa(h,n,s)*h%s,y=Qa(p,r,s)*p%s,g=Qa(y,i,s)*y%s,b=Qa(g,i,s)*y%s,v=Qa(b,e,s)*d%s;return{pow_p_5_8:Qa(v,K$,s)*t%s,b2:a}}function dbe(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function fbe(t,e){const n=pI,r=Tr(e*e*e,n),i=Tr(r*r*e,n),s=ube(t*i).pow_p_5_8;let a=Tr(t*r*s,n);const c=Tr(e*a*a,n),u=a,d=Tr(a*G$,n),h=c===t,p=c===Tr(-t,n),y=c===Tr(-t*G$,n);return h&&(a=u),(p||y)&&(a=d),G0e(a,n)&&(a=Tr(-a,n)),{isValid:h||p,value:a}}const hbe=OF(pI,void 0,!0),pbe={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:hbe,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:lbe,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:D0e,randomBytes:EF,adjustScalarBytes:dbe,uvRatio:fbe},NF=abe(pbe),mbe="EdDSA",ybe="JWT",Mv=".",s_="base64url",$F="utf8",PF="utf8",gbe=":",bbe="did",wbe="key",Y$="base58btc",vbe="z",_be="K36",Ebe=32;function mI(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function DF(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?mI(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function UF(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const n=DF(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return mI(n)}function Sbe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),a=s.charCodeAt(0);if(n[a]!==255)throw new TypeError(s+" is ambiguous");n[a]=i}var c=t.length,u=t.charAt(0),d=Math.log(c)/Math.log(256),h=Math.log(256)/Math.log(c);function p(b){if(b instanceof Uint8Array||(ArrayBuffer.isView(b)?b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength):Array.isArray(b)&&(b=Uint8Array.from(b))),!(b instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(b.length===0)return"";for(var v=0,E=0,O=0,k=b.length;O!==k&&b[O]===0;)O++,v++;for(var A=(k-O)*h+1>>>0,S=new Uint8Array(A);O!==k;){for(var C=b[O],I=0,$=A-1;(C!==0||I<E)&&$!==-1;$--,I++)C+=256*S[$]>>>0,S[$]=C%c>>>0,C=C/c>>>0;if(C!==0)throw new Error("Non-zero carry");E=I,O++}for(var z=A-E;z!==A&&S[z]===0;)z++;for(var j=u.repeat(v);z<A;++z)j+=t.charAt(S[z]);return j}function y(b){if(typeof b!="string")throw new TypeError("Expected String");if(b.length===0)return new Uint8Array;var v=0;if(b[v]!==" "){for(var E=0,O=0;b[v]===u;)E++,v++;for(var k=(b.length-v)*d+1>>>0,A=new Uint8Array(k);b[v];){var S=n[b.charCodeAt(v)];if(S===255)return;for(var C=0,I=k-1;(S!==0||C<O)&&I!==-1;I--,C++)S+=c*A[I]>>>0,A[I]=S%256>>>0,S=S/256>>>0;if(S!==0)throw new Error("Non-zero carry");O=C,v++}if(b[v]!==" "){for(var $=k-O;$!==k&&A[$]===0;)$++;for(var z=new Uint8Array(E+(k-$)),j=E;$!==k;)z[j++]=A[$++];return z}}}function g(b){var v=y(b);if(v)return v;throw new Error(`Non-${e} character`)}return{encode:p,decodeUnsafe:y,decode:g}}var Abe=Sbe,xbe=Abe;const MF=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},Tbe=t=>new TextEncoder().encode(t),Ibe=t=>new TextDecoder().decode(t);let Cbe=class{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Obe=class{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return BF(this,e)}},kbe=class{constructor(e){this.decoders=e}or(e){return BF(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const BF=(t,e)=>new kbe({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let Rbe=class{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new Cbe(e,n,r),this.decoder=new Obe(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const a_=({name:t,prefix:e,encode:n,decode:r})=>new Rbe(t,e,n,r),Gg=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=xbe(n,e);return a_({prefix:t,name:e,encode:r,decode:s=>MF(i(s))})},Nbe=(t,e,n,r)=>{const i={};for(let h=0;h<e.length;++h)i[e[h]]=h;let s=t.length;for(;t[s-1]==="=";)--s;const a=new Uint8Array(s*n/8|0);let c=0,u=0,d=0;for(let h=0;h<s;++h){const p=i[t[h]];if(p===void 0)throw new SyntaxError(`Non-${r} character`);u=u<<n|p,c+=n,c>=8&&(c-=8,a[d++]=255&u>>c)}if(c>=n||255&u<<8-c)throw new SyntaxError("Unexpected end of data");return a},$be=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let s="",a=0,c=0;for(let u=0;u<t.length;++u)for(c=c<<8|t[u],a+=8;a>n;)a-=n,s+=e[i&c>>a];if(a&&(s+=e[i&c<<n-a]),r)for(;s.length*n&7;)s+="=";return s},ai=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>a_({prefix:e,name:t,encode(i){return $be(i,r,n)},decode(i){return Nbe(i,r,n,t)}}),Pbe=a_({prefix:"\0",name:"identity",encode:t=>Ibe(t),decode:t=>Tbe(t)});var Dbe=Object.freeze({__proto__:null,identity:Pbe});const Ube=ai({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Mbe=Object.freeze({__proto__:null,base2:Ube});const Bbe=ai({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Lbe=Object.freeze({__proto__:null,base8:Bbe});const jbe=Gg({prefix:"9",name:"base10",alphabet:"0123456789"});var zbe=Object.freeze({__proto__:null,base10:jbe});const Fbe=ai({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),qbe=ai({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Wbe=Object.freeze({__proto__:null,base16:Fbe,base16upper:qbe});const Hbe=ai({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Vbe=ai({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Gbe=ai({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Kbe=ai({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Ybe=ai({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Zbe=ai({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Xbe=ai({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Jbe=ai({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Qbe=ai({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var ewe=Object.freeze({__proto__:null,base32:Hbe,base32upper:Vbe,base32pad:Gbe,base32padupper:Kbe,base32hex:Ybe,base32hexupper:Zbe,base32hexpad:Xbe,base32hexpadupper:Jbe,base32z:Qbe});const twe=Gg({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),nwe=Gg({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var rwe=Object.freeze({__proto__:null,base36:twe,base36upper:nwe});const iwe=Gg({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),swe=Gg({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var awe=Object.freeze({__proto__:null,base58btc:iwe,base58flickr:swe});const owe=ai({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),cwe=ai({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),lwe=ai({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),uwe=ai({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var dwe=Object.freeze({__proto__:null,base64:owe,base64pad:cwe,base64url:lwe,base64urlpad:uwe});const LF=Array.from(""),fwe=LF.reduce((t,e,n)=>(t[n]=e,t),[]),hwe=LF.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function pwe(t){return t.reduce((e,n)=>(e+=fwe[n],e),"")}function mwe(t){const e=[];for(const n of t){const r=hwe[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const ywe=a_({prefix:"",name:"base256emoji",encode:pwe,decode:mwe});var gwe=Object.freeze({__proto__:null,base256emoji:ywe}),bwe=jF,Z$=128,wwe=-128,vwe=Math.pow(2,31);function jF(t,e,n){e=e||[],n=n||0;for(var r=n;t>=vwe;)e[n++]=t&255|Z$,t/=128;for(;t&wwe;)e[n++]=t&255|Z$,t>>>=7;return e[n]=t|0,jF.bytes=n-r+1,e}var _we=d5,Ewe=128,X$=127;function d5(t,r){var n=0,r=r||0,i=0,s=r,a,c=t.length;do{if(s>=c)throw d5.bytes=0,new RangeError("Could not decode varint");a=t[s++],n+=i<28?(a&X$)<<i:(a&X$)*Math.pow(2,i),i+=7}while(a>=Ewe);return d5.bytes=s-r,n}var Swe=Math.pow(2,7),Awe=Math.pow(2,14),xwe=Math.pow(2,21),Twe=Math.pow(2,28),Iwe=Math.pow(2,35),Cwe=Math.pow(2,42),Owe=Math.pow(2,49),kwe=Math.pow(2,56),Rwe=Math.pow(2,63),Nwe=function(t){return t<Swe?1:t<Awe?2:t<xwe?3:t<Twe?4:t<Iwe?5:t<Cwe?6:t<Owe?7:t<kwe?8:t<Rwe?9:10},$we={encode:bwe,decode:_we,encodingLength:Nwe},zF=$we;const J$=(t,e,n=0)=>(zF.encode(t,e,n),e),Q$=t=>zF.encodingLength(t),f5=(t,e)=>{const n=e.byteLength,r=Q$(t),i=r+Q$(n),s=new Uint8Array(i+n);return J$(t,s,0),J$(n,s,r),s.set(e,i),new Pwe(t,n,e,s)};let Pwe=class{constructor(e,n,r,i){this.code=e,this.size=n,this.digest=r,this.bytes=i}};const FF=({name:t,code:e,encode:n})=>new Dwe(t,e,n);let Dwe=class{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?f5(this.code,n):n.then(r=>f5(this.code,r))}else throw Error("Unknown type, must be binary type")}};const qF=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),Uwe=FF({name:"sha2-256",code:18,encode:qF("SHA-256")}),Mwe=FF({name:"sha2-512",code:19,encode:qF("SHA-512")});var Bwe=Object.freeze({__proto__:null,sha256:Uwe,sha512:Mwe});const WF=0,Lwe="identity",HF=MF,jwe=t=>f5(WF,HF(t)),zwe={code:WF,name:Lwe,encode:HF,digest:jwe};var Fwe=Object.freeze({__proto__:null,identity:zwe});new TextEncoder,new TextDecoder;const eP={...Dbe,...Mbe,...Lbe,...zbe,...Wbe,...ewe,...rwe,...awe,...dwe,...gwe};({...Bwe,...Fwe});function VF(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const tP=VF("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),wA=VF("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=DF(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),GF={utf8:tP,"utf-8":tP,hex:eP.base16,latin1:wA,ascii:wA,binary:wA,...eP};function o_(t,e="utf8"){const n=GF[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}function fp(t,e="utf8"){const n=GF[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?mI(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function nP(t){return Nd(o_(fp(t,s_),$F))}function Bv(t){return o_(fp(jc(t),$F),s_)}function KF(t){const e=fp(_be,Y$),n=vbe+o_(UF([e,t]),Y$);return[bbe,wbe,n].join(gbe)}function qwe(t){return o_(t,s_)}function Wwe(t){return fp(t,s_)}function Hwe(t){return fp([Bv(t.header),Bv(t.payload)].join(Mv),PF)}function Vwe(t){return[Bv(t.header),Bv(t.payload),qwe(t.signature)].join(Mv)}function h5(t){const e=t.split(Mv),n=nP(e[0]),r=nP(e[1]),i=Wwe(e[2]),s=fp(e.slice(0,2).join(Mv),PF);return{header:n,payload:r,signature:i,data:s}}function rP(t=EF(Ebe)){const e=NF.getPublicKey(t);return{secretKey:UF([t,e]),publicKey:e}}async function Gwe(t,e,n,r,i=Me.fromMiliseconds(Date.now())){const s={alg:mbe,typ:ybe},a=KF(r.publicKey),c=i+n,u={iss:a,sub:t,aud:e,iat:i,exp:c},d=Hwe({header:s,payload:u}),h=NF.sign(d,r.secretKey.slice(0,32));return Vwe({header:s,payload:u,signature:h})}function yI(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function YF(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?yI(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function py(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const n=YF(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return yI(n)}function Kwe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),a=s.charCodeAt(0);if(n[a]!==255)throw new TypeError(s+" is ambiguous");n[a]=i}var c=t.length,u=t.charAt(0),d=Math.log(c)/Math.log(256),h=Math.log(256)/Math.log(c);function p(b){if(b instanceof Uint8Array||(ArrayBuffer.isView(b)?b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength):Array.isArray(b)&&(b=Uint8Array.from(b))),!(b instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(b.length===0)return"";for(var v=0,E=0,O=0,k=b.length;O!==k&&b[O]===0;)O++,v++;for(var A=(k-O)*h+1>>>0,S=new Uint8Array(A);O!==k;){for(var C=b[O],I=0,$=A-1;(C!==0||I<E)&&$!==-1;$--,I++)C+=256*S[$]>>>0,S[$]=C%c>>>0,C=C/c>>>0;if(C!==0)throw new Error("Non-zero carry");E=I,O++}for(var z=A-E;z!==A&&S[z]===0;)z++;for(var j=u.repeat(v);z<A;++z)j+=t.charAt(S[z]);return j}function y(b){if(typeof b!="string")throw new TypeError("Expected String");if(b.length===0)return new Uint8Array;var v=0;if(b[v]!==" "){for(var E=0,O=0;b[v]===u;)E++,v++;for(var k=(b.length-v)*d+1>>>0,A=new Uint8Array(k);b[v];){var S=n[b.charCodeAt(v)];if(S===255)return;for(var C=0,I=k-1;(S!==0||C<O)&&I!==-1;I--,C++)S+=c*A[I]>>>0,A[I]=S%256>>>0,S=S/256>>>0;if(S!==0)throw new Error("Non-zero carry");O=C,v++}if(b[v]!==" "){for(var $=k-O;$!==k&&A[$]===0;)$++;for(var z=new Uint8Array(E+(k-$)),j=E;$!==k;)z[j++]=A[$++];return z}}}function g(b){var v=y(b);if(v)return v;throw new Error(`Non-${e} character`)}return{encode:p,decodeUnsafe:y,decode:g}}var Ywe=Kwe,Zwe=Ywe;const Xwe=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},Jwe=t=>new TextEncoder().encode(t),Qwe=t=>new TextDecoder().decode(t);class eve{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class tve{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return ZF(this,e)}}class nve{constructor(e){this.decoders=e}or(e){return ZF(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const ZF=(t,e)=>new nve({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class rve{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new eve(e,n,r),this.decoder=new tve(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const c_=({name:t,prefix:e,encode:n,decode:r})=>new rve(t,e,n,r),Kg=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=Zwe(n,e);return c_({prefix:t,name:e,encode:r,decode:s=>Xwe(i(s))})},ive=(t,e,n,r)=>{const i={};for(let h=0;h<e.length;++h)i[e[h]]=h;let s=t.length;for(;t[s-1]==="=";)--s;const a=new Uint8Array(s*n/8|0);let c=0,u=0,d=0;for(let h=0;h<s;++h){const p=i[t[h]];if(p===void 0)throw new SyntaxError(`Non-${r} character`);u=u<<n|p,c+=n,c>=8&&(c-=8,a[d++]=255&u>>c)}if(c>=n||255&u<<8-c)throw new SyntaxError("Unexpected end of data");return a},sve=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let s="",a=0,c=0;for(let u=0;u<t.length;++u)for(c=c<<8|t[u],a+=8;a>n;)a-=n,s+=e[i&c>>a];if(a&&(s+=e[i&c<<n-a]),r)for(;s.length*n&7;)s+="=";return s},oi=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>c_({prefix:e,name:t,encode(i){return sve(i,r,n)},decode(i){return ive(i,r,n,t)}}),ave=c_({prefix:"\0",name:"identity",encode:t=>Qwe(t),decode:t=>Jwe(t)}),ove=Object.freeze(Object.defineProperty({__proto__:null,identity:ave},Symbol.toStringTag,{value:"Module"})),cve=oi({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),lve=Object.freeze(Object.defineProperty({__proto__:null,base2:cve},Symbol.toStringTag,{value:"Module"})),uve=oi({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),dve=Object.freeze(Object.defineProperty({__proto__:null,base8:uve},Symbol.toStringTag,{value:"Module"})),fve=Kg({prefix:"9",name:"base10",alphabet:"0123456789"}),hve=Object.freeze(Object.defineProperty({__proto__:null,base10:fve},Symbol.toStringTag,{value:"Module"})),pve=oi({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),mve=oi({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),yve=Object.freeze(Object.defineProperty({__proto__:null,base16:pve,base16upper:mve},Symbol.toStringTag,{value:"Module"})),gve=oi({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),bve=oi({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),wve=oi({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),vve=oi({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),_ve=oi({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Eve=oi({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Sve=oi({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Ave=oi({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),xve=oi({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),Tve=Object.freeze(Object.defineProperty({__proto__:null,base32:gve,base32hex:_ve,base32hexpad:Sve,base32hexpadupper:Ave,base32hexupper:Eve,base32pad:wve,base32padupper:vve,base32upper:bve,base32z:xve},Symbol.toStringTag,{value:"Module"})),Ive=Kg({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Cve=Kg({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Ove=Object.freeze(Object.defineProperty({__proto__:null,base36:Ive,base36upper:Cve},Symbol.toStringTag,{value:"Module"})),kve=Kg({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Rve=Kg({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Nve=Object.freeze(Object.defineProperty({__proto__:null,base58btc:kve,base58flickr:Rve},Symbol.toStringTag,{value:"Module"})),$ve=oi({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Pve=oi({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Dve=oi({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Uve=oi({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Mve=Object.freeze(Object.defineProperty({__proto__:null,base64:$ve,base64pad:Pve,base64url:Dve,base64urlpad:Uve},Symbol.toStringTag,{value:"Module"})),XF=Array.from(""),Bve=XF.reduce((t,e,n)=>(t[n]=e,t),[]),Lve=XF.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function jve(t){return t.reduce((e,n)=>(e+=Bve[n],e),"")}function zve(t){const e=[];for(const n of t){const r=Lve[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const Fve=c_({prefix:"",name:"base256emoji",encode:jve,decode:zve}),qve=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:Fve},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const iP={...ove,...lve,...dve,...hve,...yve,...Tve,...Ove,...Nve,...Mve,...qve};function JF(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const sP=JF("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),vA=JF("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=YF(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),QF={utf8:sP,"utf-8":sP,hex:iP.base16,latin1:vA,ascii:vA,binary:vA,...iP};function ra(t,e="utf8"){const n=QF[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?yI(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function es(t,e="utf8"){const n=QF[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}const Wve={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var _A,aP;function eq(){if(aP)return _A;aP=1;const t="Input must be an string, Buffer or Uint8Array";function e(a){let c;if(a instanceof Uint8Array)c=a;else if(typeof a=="string")c=new TextEncoder().encode(a);else throw new Error(t);return c}function n(a){return Array.prototype.map.call(a,function(c){return(c<16?"0":"")+c.toString(16)}).join("")}function r(a){return(4294967296+a).toString(16).substring(1)}function i(a,c,u){let d=`
`+a+" = ";for(let h=0;h<c.length;h+=2){if(u===32)d+=r(c[h]).toUpperCase(),d+=" ",d+=r(c[h+1]).toUpperCase();else if(u===64)d+=r(c[h+1]).toUpperCase(),d+=r(c[h]).toUpperCase();else throw new Error("Invalid size "+u);h%6===4?d+=`
`+new Array(a.length+4).join(" "):h<c.length-2&&(d+=" ")}console.log(d)}function s(a,c,u){let d=new Date().getTime();const h=new Uint8Array(c);for(let y=0;y<c;y++)h[y]=y%256;const p=new Date().getTime();console.log("Generated random input in "+(p-d)+"ms"),d=p;for(let y=0;y<u;y++){const g=a(h),b=new Date().getTime(),v=b-d;d=b,console.log("Hashed in "+v+"ms: "+g.substring(0,20)+"..."),console.log(Math.round(c/(1<<20)/(v/1e3)*100)/100+" MB PER SECOND")}}return _A={normalizeInput:e,toHex:n,debugPrint:i,testSpeed:s},_A}var EA,oP;function Hve(){if(oP)return EA;oP=1;const t=eq();function e(O,k,A){const S=O[k]+O[A];let C=O[k+1]+O[A+1];S>=4294967296&&C++,O[k]=S,O[k+1]=C}function n(O,k,A,S){let C=O[k]+A;A<0&&(C+=4294967296);let I=O[k+1]+S;C>=4294967296&&I++,O[k]=C,O[k+1]=I}function r(O,k){return O[k]^O[k+1]<<8^O[k+2]<<16^O[k+3]<<24}function i(O,k,A,S,C,I){const $=d[C],z=d[C+1],j=d[I],B=d[I+1];e(u,O,k),n(u,O,$,z);let G=u[S]^u[O],U=u[S+1]^u[O+1];u[S]=U,u[S+1]=G,e(u,A,S),G=u[k]^u[A],U=u[k+1]^u[A+1],u[k]=G>>>24^U<<8,u[k+1]=U>>>24^G<<8,e(u,O,k),n(u,O,j,B),G=u[S]^u[O],U=u[S+1]^u[O+1],u[S]=G>>>16^U<<16,u[S+1]=U>>>16^G<<16,e(u,A,S),G=u[k]^u[A],U=u[k+1]^u[A+1],u[k]=U>>>31^G<<1,u[k+1]=G>>>31^U<<1}const s=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],c=new Uint8Array(a.map(function(O){return O*2})),u=new Uint32Array(32),d=new Uint32Array(32);function h(O,k){let A=0;for(A=0;A<16;A++)u[A]=O.h[A],u[A+16]=s[A];for(u[24]=u[24]^O.t,u[25]=u[25]^O.t/4294967296,k&&(u[28]=~u[28],u[29]=~u[29]),A=0;A<32;A++)d[A]=r(O.b,4*A);for(A=0;A<12;A++)i(0,8,16,24,c[A*16+0],c[A*16+1]),i(2,10,18,26,c[A*16+2],c[A*16+3]),i(4,12,20,28,c[A*16+4],c[A*16+5]),i(6,14,22,30,c[A*16+6],c[A*16+7]),i(0,10,20,30,c[A*16+8],c[A*16+9]),i(2,12,22,24,c[A*16+10],c[A*16+11]),i(4,14,16,26,c[A*16+12],c[A*16+13]),i(6,8,18,28,c[A*16+14],c[A*16+15]);for(A=0;A<16;A++)O.h[A]=O.h[A]^u[A]^u[A+16]}const p=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function y(O,k,A,S){if(O===0||O>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(k&&k.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(A&&A.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(S&&S.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const C={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:O};p.fill(0),p[0]=O,k&&(p[1]=k.length),p[2]=1,p[3]=1,A&&p.set(A,32),S&&p.set(S,48);for(let I=0;I<16;I++)C.h[I]=s[I]^r(p,I*4);return k&&(g(C,k),C.c=128),C}function g(O,k){for(let A=0;A<k.length;A++)O.c===128&&(O.t+=O.c,h(O,!1),O.c=0),O.b[O.c++]=k[A]}function b(O){for(O.t+=O.c;O.c<128;)O.b[O.c++]=0;h(O,!0);const k=new Uint8Array(O.outlen);for(let A=0;A<O.outlen;A++)k[A]=O.h[A>>2]>>8*(A&3);return k}function v(O,k,A,S,C){A=A||64,O=t.normalizeInput(O),S&&(S=t.normalizeInput(S)),C&&(C=t.normalizeInput(C));const I=y(A,k,S,C);return g(I,O),b(I)}function E(O,k,A,S,C){const I=v(O,k,A,S,C);return t.toHex(I)}return EA={blake2b:v,blake2bHex:E,blake2bInit:y,blake2bUpdate:g,blake2bFinal:b},EA}var SA,cP;function Vve(){if(cP)return SA;cP=1;const t=eq();function e(b,v){return b[v]^b[v+1]<<8^b[v+2]<<16^b[v+3]<<24}function n(b,v,E,O,k,A){a[b]=a[b]+a[v]+k,a[O]=r(a[O]^a[b],16),a[E]=a[E]+a[O],a[v]=r(a[v]^a[E],12),a[b]=a[b]+a[v]+A,a[O]=r(a[O]^a[b],8),a[E]=a[E]+a[O],a[v]=r(a[v]^a[E],7)}function r(b,v){return b>>>v^b<<32-v}const i=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),s=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),a=new Uint32Array(16),c=new Uint32Array(16);function u(b,v){let E=0;for(E=0;E<8;E++)a[E]=b.h[E],a[E+8]=i[E];for(a[12]^=b.t,a[13]^=b.t/4294967296,v&&(a[14]=~a[14]),E=0;E<16;E++)c[E]=e(b.b,4*E);for(E=0;E<10;E++)n(0,4,8,12,c[s[E*16+0]],c[s[E*16+1]]),n(1,5,9,13,c[s[E*16+2]],c[s[E*16+3]]),n(2,6,10,14,c[s[E*16+4]],c[s[E*16+5]]),n(3,7,11,15,c[s[E*16+6]],c[s[E*16+7]]),n(0,5,10,15,c[s[E*16+8]],c[s[E*16+9]]),n(1,6,11,12,c[s[E*16+10]],c[s[E*16+11]]),n(2,7,8,13,c[s[E*16+12]],c[s[E*16+13]]),n(3,4,9,14,c[s[E*16+14]],c[s[E*16+15]]);for(E=0;E<8;E++)b.h[E]^=a[E]^a[E+8]}function d(b,v){if(!(b>0&&b<=32))throw new Error("Incorrect output length, should be in [1, 32]");const E=v?v.length:0;if(v&&!(E>0&&E<=32))throw new Error("Incorrect key length, should be in [1, 32]");const O={h:new Uint32Array(i),b:new Uint8Array(64),c:0,t:0,outlen:b};return O.h[0]^=16842752^E<<8^b,E>0&&(h(O,v),O.c=64),O}function h(b,v){for(let E=0;E<v.length;E++)b.c===64&&(b.t+=b.c,u(b,!1),b.c=0),b.b[b.c++]=v[E]}function p(b){for(b.t+=b.c;b.c<64;)b.b[b.c++]=0;u(b,!0);const v=new Uint8Array(b.outlen);for(let E=0;E<b.outlen;E++)v[E]=b.h[E>>2]>>8*(E&3)&255;return v}function y(b,v,E){E=E||32,b=t.normalizeInput(b);const O=d(E,v);return h(O,b),p(O)}function g(b,v,E){const O=y(b,v,E);return t.toHex(O)}return SA={blake2s:y,blake2sHex:g,blake2sInit:d,blake2sUpdate:h,blake2sFinal:p},SA}var AA,lP;function Gve(){if(lP)return AA;lP=1;const t=Hve(),e=Vve();return AA={blake2b:t.blake2b,blake2bHex:t.blake2bHex,blake2bInit:t.blake2bInit,blake2bUpdate:t.blake2bUpdate,blake2bFinal:t.blake2bFinal,blake2s:e.blake2s,blake2sHex:e.blake2sHex,blake2sInit:e.blake2sInit,blake2sUpdate:e.blake2sUpdate,blake2sFinal:e.blake2sFinal},AA}var Kve=Gve(),Cm={exports:{}},xA,uP;function Yve(){if(uP)return xA;uP=1;function t(n){try{return JSON.stringify(n)}catch{return'"[Circular]"'}}xA=e;function e(n,r,i){var s=i&&i.stringify||t,a=1;if(typeof n=="object"&&n!==null){var c=r.length+a;if(c===1)return n;var u=new Array(c);u[0]=s(n);for(var d=1;d<c;d++)u[d]=s(r[d]);return u.join(" ")}if(typeof n!="string")return n;var h=r.length;if(h===0)return n;for(var p="",y=1-a,g=-1,b=n&&n.length||0,v=0;v<b;){if(n.charCodeAt(v)===37&&v+1<b){switch(g=g>-1?g:0,n.charCodeAt(v+1)){case 100:case 102:if(y>=h||r[y]==null)break;g<v&&(p+=n.slice(g,v)),p+=Number(r[y]),g=v+2,v++;break;case 105:if(y>=h||r[y]==null)break;g<v&&(p+=n.slice(g,v)),p+=Math.floor(Number(r[y])),g=v+2,v++;break;case 79:case 111:case 106:if(y>=h||r[y]===void 0)break;g<v&&(p+=n.slice(g,v));var E=typeof r[y];if(E==="string"){p+="'"+r[y]+"'",g=v+2,v++;break}if(E==="function"){p+=r[y].name||"<anonymous>",g=v+2,v++;break}p+=s(r[y]),g=v+2,v++;break;case 115:if(y>=h)break;g<v&&(p+=n.slice(g,v)),p+=String(r[y]),g=v+2,v++;break;case 37:g<v&&(p+=n.slice(g,v)),p+="%",g=v+2,v++,y--;break}++y}++v}return g===-1?n:(g<b&&(p+=n.slice(g)),p)}return xA}var dP;function Zve(){if(dP)return Cm.exports;dP=1;const t=Yve();Cm.exports=h;const e=K().console||{},n={mapHttpRequest:$,mapHttpResponse:$,wrapRequestSerializer:z,wrapResponseSerializer:z,wrapErrorSerializer:z,req:$,res:$,err:C,errWithCause:C};function r(T,x){return T==="silent"?1/0:x.levels.values[T]}const i=Symbol("pino.logFuncs"),s=Symbol("pino.hierarchy"),a={error:"log",fatal:"error",warn:"error",info:"log",debug:"log",trace:"log"};function c(T,x){const N={logger:x,parent:T[s]};x[s]=N}function u(T,x,N){const L={};x.forEach(P=>{L[P]=N[P]?N[P]:e[P]||e[a[P]||"log"]||j}),T[i]=L}function d(T,x){return Array.isArray(T)?T.filter(function(L){return L!=="!stdSerializers.err"}):T===!0?Object.keys(x):!1}function h(T){T=T||{},T.browser=T.browser||{};const x=T.browser.transmit;if(x&&typeof x.send!="function")throw Error("pino: transmit option must have a send function");const N=T.browser.write||e;T.browser.write&&(T.browser.asObject=!0);const L=T.serializers||{},P=d(T.browser.serialize,L);let H=T.browser.serialize;Array.isArray(T.browser.serialize)&&T.browser.serialize.indexOf("!stdSerializers.err")>-1&&(H=!1);const D=Object.keys(T.customLevels||{}),V=["error","fatal","warn","info","debug","trace"].concat(D);typeof N=="function"&&V.forEach(function($e){N[$e]=N}),(T.enabled===!1||T.browser.disabled)&&(T.level="silent");const J=T.level||"info",X=Object.create(N);X.log||(X.log=j),u(X,V,N),c({},X),Object.defineProperty(X,"levelVal",{get:ge}),Object.defineProperty(X,"level",{get:we,set:xe});const Q={transmit:x,serialize:P,asObject:T.browser.asObject,asObjectBindingsOnly:T.browser.asObjectBindingsOnly,formatters:T.browser.formatters,levels:V,timestamp:I(T),messageKey:T.messageKey||"msg",onChild:T.onChild||j};X.levels=p(T),X.level=J,X.isLevelEnabled=function($e){return this.levels.values[$e]?this.levels.values[$e]>=this.levels.values[this.level]:!1},X.setMaxListeners=X.getMaxListeners=X.emit=X.addListener=X.on=X.prependListener=X.once=X.prependOnceListener=X.removeListener=X.removeAllListeners=X.listeners=X.listenerCount=X.eventNames=X.write=X.flush=j,X.serializers=L,X._serialize=P,X._stdErrSerialize=H,X.child=function(...$e){return Ee.call(this,Q,...$e)},x&&(X._logEvent=S());function ge(){return r(this.level,this)}function we(){return this._level}function xe($e){if($e!=="silent"&&!this.levels.values[$e])throw Error("unknown level "+$e);this._level=$e,b(this,Q,X,"error"),b(this,Q,X,"fatal"),b(this,Q,X,"warn"),b(this,Q,X,"info"),b(this,Q,X,"debug"),b(this,Q,X,"trace"),D.forEach(Fe=>{b(this,Q,X,Fe)})}function Ee($e,Fe,tt){if(!Fe)throw new Error("missing bindings for child Pino");tt=tt||{},P&&Fe.serializers&&(tt.serializers=Fe.serializers);const me=tt.serializers;if(P&&me){var St=Object.assign({},L,me),Ht=T.browser.serialize===!0?Object.keys(St):P;delete Fe.serializers,k([Fe],Ht,St,this._stdErrSerialize)}function gt(qt){this._childLevel=(qt._childLevel|0)+1,this.bindings=Fe,St&&(this.serializers=St,this._serialize=Ht),x&&(this._logEvent=S([].concat(qt._logEvent.bindings,Fe)))}gt.prototype=this;const li=new gt(this);return c(this,li),li.child=function(...qt){return Ee.call(this,$e,...qt)},li.level=tt.level||this.level,$e.onChild(li),li}return X}function p(T){const x=T.customLevels||{},N=Object.assign({},h.levels.values,x),L=Object.assign({},h.levels.labels,y(x));return{values:N,labels:L}}function y(T){const x={};return Object.keys(T).forEach(function(N){x[T[N]]=N}),x}h.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},h.stdSerializers=n,h.stdTimeFunctions=Object.assign({},{nullTime:B,epochTime:G,unixTime:U,isoTime:F});function g(T){const x=[];T.bindings&&x.push(T.bindings);let N=T[s];for(;N.parent;)N=N.parent,N.logger.bindings&&x.push(N.logger.bindings);return x.reverse()}function b(T,x,N,L){if(Object.defineProperty(T,L,{value:r(T.level,N)>r(L,N)?j:N[i][L],writable:!0,enumerable:!0,configurable:!0}),T[L]===j){if(!x.transmit)return;const H=x.transmit.level||T.level,D=r(H,N);if(r(L,N)<D)return}T[L]=E(T,x,N,L);const P=g(T);P.length!==0&&(T[L]=v(P,T[L]))}function v(T,x){return function(){return x.apply(this,[...T,...arguments])}}function E(T,x,N,L){return(function(P){return function(){const D=x.timestamp(),V=new Array(arguments.length),J=Object.getPrototypeOf&&Object.getPrototypeOf(this)===e?e:this;for(var X=0;X<V.length;X++)V[X]=arguments[X];var Q=!1;if(x.serialize&&(k(V,this._serialize,this.serializers,this._stdErrSerialize),Q=!0),x.asObject||x.formatters?P.call(J,...O(this,L,V,D,x)):P.apply(J,V),x.transmit){const ge=x.transmit.level||T._level,we=r(ge,N),xe=r(L,N);if(xe<we)return;A(this,{ts:D,methodLevel:L,methodValue:xe,transmitValue:N.levels.values[x.transmit.level||T._level],send:x.transmit.send,val:r(T._level,N)},V,Q)}}})(T[i][L])}function O(T,x,N,L,P){const{level:H,log:D=ge=>ge}=P.formatters||{},V=N.slice();let J=V[0];const X={};let Q=(T._childLevel|0)+1;if(Q<1&&(Q=1),L&&(X.time=L),H){const ge=H(x,T.levels.values[x]);Object.assign(X,ge)}else X.level=T.levels.values[x];if(P.asObjectBindingsOnly){if(J!==null&&typeof J=="object")for(;Q--&&typeof V[0]=="object";)Object.assign(X,V.shift());return[D(X),...V]}else{if(J!==null&&typeof J=="object"){for(;Q--&&typeof V[0]=="object";)Object.assign(X,V.shift());J=V.length?t(V.shift(),V):void 0}else typeof J=="string"&&(J=t(V.shift(),V));return J!==void 0&&(X[P.messageKey]=J),[D(X)]}}function k(T,x,N,L){for(const P in T)if(L&&T[P]instanceof Error)T[P]=h.stdSerializers.err(T[P]);else if(typeof T[P]=="object"&&!Array.isArray(T[P])&&x)for(const H in T[P])x.indexOf(H)>-1&&H in N&&(T[P][H]=N[H](T[P][H]))}function A(T,x,N,L=!1){const P=x.send,H=x.ts,D=x.methodLevel,V=x.methodValue,J=x.val,X=T._logEvent.bindings;L||k(N,T._serialize||Object.keys(T.serializers),T.serializers,T._stdErrSerialize===void 0?!0:T._stdErrSerialize),T._logEvent.ts=H,T._logEvent.messages=N.filter(function(Q){return X.indexOf(Q)===-1}),T._logEvent.level.label=D,T._logEvent.level.value=V,P(D,T._logEvent,J),T._logEvent=S(X)}function S(T){return{ts:0,messages:[],bindings:T||[],level:{label:"",value:0}}}function C(T){const x={type:T.constructor.name,msg:T.message,stack:T.stack};for(const N in T)x[N]===void 0&&(x[N]=T[N]);return x}function I(T){return typeof T.timestamp=="function"?T.timestamp:T.timestamp===!1?B:G}function $(){return{}}function z(T){return T}function j(){}function B(){return!1}function G(){return Date.now()}function U(){return Math.round(Date.now()/1e3)}function F(){return new Date(Date.now()).toISOString()}function K(){function T(x){return typeof x<"u"&&x}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return T(self)||T(window)||T(this)||{}}}return Cm.exports.default=h,Cm.exports.pino=h,Cm.exports}var sh=Zve();const tq=uu(sh),Xve={level:"info"},l_="custom_context",gI=1e3*1024;var Jve=Object.defineProperty,Qve=(t,e,n)=>e in t?Jve(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Kl=(t,e,n)=>Qve(t,typeof e!="symbol"?e+"":e,n);let e1e=class{constructor(e){Kl(this,"nodeValue"),Kl(this,"sizeInBytes"),Kl(this,"next"),this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},fP=class{constructor(e){Kl(this,"lengthInNodes"),Kl(this,"sizeInBytes"),Kl(this,"head"),Kl(this,"tail"),Kl(this,"maxSizeInBytes"),this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const n=new e1e(e);if(n.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${n.size}`);for(;this.size+n.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=n),this.tail=n):(this.head=n,this.tail=n),this.lengthInNodes++,this.sizeInBytes+=n.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let n=this.head;for(;n!==null;)e.push(n.value),n=n.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const n=e.value;return e=e.next,{done:!1,value:n}}}}};var t1e=Object.defineProperty,n1e=(t,e,n)=>e in t?t1e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Qb=(t,e,n)=>n1e(t,typeof e!="symbol"?e+"":e,n);let nq=class{constructor(e,n=gI){Qb(this,"logs"),Qb(this,"level"),Qb(this,"levelValue"),Qb(this,"MAX_LOG_SIZE_IN_BYTES"),this.level=e??"error",this.levelValue=sh.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new fP(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,n){n===sh.levels.values.error?console.error(e):n===sh.levels.values.warn?console.warn(e):n===sh.levels.values.debug?console.debug(e):n===sh.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(jc({timestamp:new Date().toISOString(),log:e}));const n=typeof e=="string"?JSON.parse(e).level:e.level;n>=this.levelValue&&this.forwardToConsole(e,n)}getLogs(){return this.logs}clearLogs(){this.logs=new fP(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const n=this.getLogArray();return n.push(jc({extraMetadata:e})),new Blob(n,{type:"application/json"})}};var r1e=Object.defineProperty,i1e=(t,e,n)=>e in t?r1e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,s1e=(t,e,n)=>i1e(t,e+"",n);let a1e=class{constructor(e,n=gI){s1e(this,"baseChunkLogger"),this.baseChunkLogger=new nq(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const n=URL.createObjectURL(this.logsToBlob(e)),r=document.createElement("a");r.href=n,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}};var o1e=Object.defineProperty,c1e=(t,e,n)=>e in t?o1e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,l1e=(t,e,n)=>c1e(t,e+"",n);let u1e=class{constructor(e,n=gI){l1e(this,"baseChunkLogger"),this.baseChunkLogger=new nq(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var d1e=Object.defineProperty,f1e=Object.defineProperties,h1e=Object.getOwnPropertyDescriptors,hP=Object.getOwnPropertySymbols,p1e=Object.prototype.hasOwnProperty,m1e=Object.prototype.propertyIsEnumerable,pP=(t,e,n)=>e in t?d1e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Lv=(t,e)=>{for(var n in e||(e={}))p1e.call(e,n)&&pP(t,n,e[n]);if(hP)for(var n of hP(e))m1e.call(e,n)&&pP(t,n,e[n]);return t},jv=(t,e)=>f1e(t,h1e(e));function y1e(t){return jv(Lv({},t),{level:t?.level||Xve.level})}function g1e(t,e,n=l_){return t[n]=e,t}function ss(t,e=l_){return t[e]||""}function b1e(t,e,n=l_){const r=ss(t,n);return r.trim()?`${r}/${e}`:e}function Rs(t,e,n=l_){const r=b1e(t,e,n),i=t.child({context:r});return g1e(i,r,n)}function w1e(t){var e,n;const r=new a1e((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:tq(jv(Lv({},t.opts),{level:"trace",browser:jv(Lv({},(n=t.opts)==null?void 0:n.browser),{write:i=>r.write(i)})})),chunkLoggerController:r}}function v1e(t){var e;const n=new u1e((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:tq(jv(Lv({},t.opts),{level:"trace"}),n),chunkLoggerController:n}}function rq(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?w1e(t):v1e(t)}var _1e={};const E1e=":";function Rc(t){const[e,n]=t.split(E1e);return{namespace:e,reference:n}}function mP(t,e=[]){const n=[];return Object.keys(t).forEach(r=>{if(e.length&&!e.includes(r))return;const i=t[r];n.push(...i.accounts)}),n}function iq(t,e){return t.includes(":")?[t]:e.chains||[]}var S1e=Object.defineProperty,A1e=Object.defineProperties,x1e=Object.getOwnPropertyDescriptors,yP=Object.getOwnPropertySymbols,T1e=Object.prototype.hasOwnProperty,I1e=Object.prototype.propertyIsEnumerable,p5=(t,e,n)=>e in t?S1e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,gP=(t,e)=>{for(var n in e||(e={}))T1e.call(e,n)&&p5(t,n,e[n]);if(yP)for(var n of yP(e))I1e.call(e,n)&&p5(t,n,e[n]);return t},C1e=(t,e)=>A1e(t,x1e(e)),bP=(t,e,n)=>p5(t,typeof e!="symbol"?e+"":e,n);const O1e="ReactNative",xs={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},k1e="js";function zv(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function pu(){return!Lc.getDocument()&&!!Lc.getNavigator()&&navigator.product===O1e}function R1e(){return pu()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function N1e(){return pu()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function hp(){return!zv()&&!!Lc.getNavigator()&&!!Lc.getDocument()}function Yg(){return pu()?xs.reactNative:zv()?xs.node:hp()?xs.browser:xs.unknown}function wP(){var t;try{return pu()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function $1e(t,e){const n=new URLSearchParams(t);return Object.entries(e).sort(([r],[i])=>r.localeCompare(i)).forEach(([r,i])=>{i!=null&&n.set(r,String(i))}),n.toString()}function P1e(t){var e,n;const r=sq();try{return t!=null&&t.url&&r.url&&new URL(t.url).host!==new URL(r.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),t.url=r.url),(e=t?.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(i=>i!=="")),C1e(gP(gP({},r),t),{url:t?.url||r.url,name:t?.name||r.name,description:t?.description||r.description,icons:(n=t?.icons)!=null&&n.length&&t.icons.length>0?t.icons:r.icons})}catch(i){return console.warn("Error populating app metadata",i),t||r}}function sq(){return wme.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function D1e(){if(Yg()===xs.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:n,Version:r}=global.Platform;return[n,r].join("-")}const t=Mpe();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function U1e(){var t;const e=Yg();return e===xs.browser?[e,((t=Lc.getLocation())==null?void 0:t.host)||"unknown"].join(":"):e}function aq(t,e,n){const r=D1e(),i=U1e();return[[t,e].join("-"),[k1e,n].join("-"),r,i].join("/")}function M1e({protocol:t,version:e,relayUrl:n,sdkVersion:r,auth:i,projectId:s,useOnCloseEvent:a,bundleId:c,packageName:u}){const d=n.split("?"),h=aq(t,e,r),p={auth:i,ua:h,projectId:s,useOnCloseEvent:a,packageName:u||void 0,bundleId:c||void 0},y=$1e(d[1]||"",p);return d[0]+"?"+y}function sd(t,e){return t.filter(n=>e.includes(n)).length===t.length}function m5(t){return Object.fromEntries(t.entries())}function y5(t){return new Map(Object.entries(t))}function Vu(t=Me.FIVE_MINUTES,e){const n=Me.toMiliseconds(t||Me.FIVE_MINUTES);let r,i,s,a;return{resolve:c=>{s&&r&&(clearTimeout(s),r(c),a=Promise.resolve(c))},reject:c=>{s&&i&&(clearTimeout(s),i(c))},done:()=>new Promise((c,u)=>{if(a)return c(a);s=setTimeout(()=>{const d=new Error(e);a=Promise.reject(d),u(d)},n),r=c,i=u})}}function po(t,e,n){return new Promise(async(r,i)=>{const s=setTimeout(()=>i(new Error(n)),e);try{const a=await t;r(a)}catch(a){i(a)}clearTimeout(s)})}function oq(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function B1e(t){return oq("topic",t)}function L1e(t){return oq("id",t)}function cq(t){const[e,n]=t.split(":"),r={id:void 0,topic:void 0};if(e==="topic"&&typeof n=="string")r.topic=n;else if(e==="id"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${n}`);return r}function dr(t,e){return Me.fromMiliseconds(Date.now()+Me.toMiliseconds(t))}function fo(t){return Date.now()>=Me.toMiliseconds(t)}function sn(t,e){return`${t}${e?`:${e}`:""}`}function vo(t=[],e=[]){return[...new Set([...t,...e])]}async function j1e({id:t,topic:e,wcDeepLink:n}){var r;try{if(!n)return;const i=typeof n=="string"?JSON.parse(n):n,s=i?.href;if(typeof s!="string")return;const a=z1e(s,t,e),c=Yg();if(c===xs.browser){if(!((r=Lc.getDocument())!=null&&r.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}F1e(a)}else c===xs.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(a)}catch(i){console.error(i)}}function z1e(t,e,n){const r=`requestId=${e}&sessionTopic=${n}`;t.endsWith("/")&&(t=t.slice(0,-1));let i=`${t}`;if(t.startsWith("https://t.me")){const s=t.includes("?")?"&startapp=":"?startapp=";i=`${i}${s}${V1e(r,!0)}`}else i=`${i}/wc?${r}`;return i}function F1e(t){let e="_self";H1e()?e="_top":(W1e()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function q1e(t,e){let n="";try{if(hp()&&(n=localStorage.getItem(e),n))return n;n=await t.getItem(e)}catch(r){console.error(r)}return n}function vP(t,e){if(!t.includes(e))return null;const n=t.split(/([&,?,=])/),r=n.indexOf(e);return n[r+2]}function _P(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function bI(){return typeof process<"u"&&_1e.IS_VITEST==="true"}function W1e(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function H1e(){try{return window.self!==window.top}catch{return!1}}function V1e(t,e=!1){const n=Buffer.from(t).toString("base64");return e?n.replace(/[=]/g,""):n}function lq(t){return Buffer.from(t,"base64").toString("utf-8")}function G1e(t){return new Promise(e=>setTimeout(e,t))}let K1e=class{constructor({limit:e}){bP(this,"limit"),bP(this,"set"),this.limit=e,this.set=new Set}add(e){if(!this.set.has(e)){if(this.set.size>=this.limit){const n=this.set.values().next().value;n&&this.set.delete(n)}this.set.add(e)}}has(e){return this.set.has(e)}};const ew=BigInt(2**32-1),EP=BigInt(32);function uq(t,e=!1){return e?{h:Number(t&ew),l:Number(t>>EP&ew)}:{h:Number(t>>EP&ew)|0,l:Number(t&ew)|0}}function dq(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let s=0;s<n;s++){const{h:a,l:c}=uq(t[s],e);[r[s],i[s]]=[a,c]}return[r,i]}const SP=(t,e,n)=>t>>>n,AP=(t,e,n)=>t<<32-n|e>>>n,jl=(t,e,n)=>t>>>n|e<<32-n,zl=(t,e,n)=>t<<32-n|e>>>n,Qm=(t,e,n)=>t<<64-n|e>>>n-32,ey=(t,e,n)=>t>>>n-32|e<<64-n,Y1e=(t,e)=>e,Z1e=(t,e)=>t,X1e=(t,e,n)=>t<<n|e>>>32-n,J1e=(t,e,n)=>e<<n|t>>>32-n,Q1e=(t,e,n)=>e<<n-32|t>>>64-n,e_e=(t,e,n)=>t<<n-32|e>>>64-n;function Ta(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const wI=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),vI=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,t_e=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),n_e=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,r_e=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),i_e=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,Gf=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function u_(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function zc(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function za(t,...e){if(!u_(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function d_(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");zc(t.outputLen),zc(t.blockLen)}function cu(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function _I(t,e){za(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function ig(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function oa(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function TA(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function eo(t,e){return t<<32-e|t>>>e}const fq=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function hq(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}const uc=fq?t=>t:t=>hq(t);function s_e(t){for(let e=0;e<t.length;e++)t[e]=hq(t[e]);return t}const Fl=fq?t=>t:s_e,pq=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",a_e=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function xh(t){if(za(t),pq)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=a_e[t[n]];return e}const sc={_0:48,_9:57,A:65,F:70,a:97,f:102};function xP(t){if(t>=sc._0&&t<=sc._9)return t-sc._0;if(t>=sc.A&&t<=sc.F)return t-(sc.A-10);if(t>=sc.a&&t<=sc.f)return t-(sc.a-10)}function Fv(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(pq)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const a=xP(t.charCodeAt(s)),c=xP(t.charCodeAt(s+1));if(a===void 0||c===void 0){const u=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+u+'" at index '+s)}r[i]=a*16+c}return r}function mq(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Pa(t){return typeof t=="string"&&(t=mq(t)),za(t),t}function Yl(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];za(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}class f_{}function Zg(t){const e=r=>t().update(Pa(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function o_e(t){const e=(r,i)=>t(i).update(Pa(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}function Vd(t=32){if(Gf&&typeof Gf.getRandomValues=="function")return Gf.getRandomValues(new Uint8Array(t));if(Gf&&typeof Gf.randomBytes=="function")return Uint8Array.from(Gf.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const c_e=BigInt(0),Om=BigInt(1),l_e=BigInt(2),u_e=BigInt(7),d_e=BigInt(256),f_e=BigInt(113),yq=[],gq=[],bq=[];for(let t=0,e=Om,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],yq.push(2*(5*r+n)),gq.push((t+1)*(t+2)/2%64);let i=c_e;for(let s=0;s<7;s++)e=(e<<Om^(e>>u_e)*f_e)%d_e,e&l_e&&(i^=Om<<(Om<<BigInt(s))-Om);bq.push(i)}const wq=dq(bq,!0),h_e=wq[0],p_e=wq[1],TP=(t,e,n)=>n>32?Q1e(t,e,n):X1e(t,e,n),IP=(t,e,n)=>n>32?e_e(t,e,n):J1e(t,e,n);function m_e(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let a=0;a<10;a++)n[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(let a=0;a<10;a+=2){const c=(a+8)%10,u=(a+2)%10,d=n[u],h=n[u+1],p=TP(d,h,1)^n[c],y=IP(d,h,1)^n[c+1];for(let g=0;g<50;g+=10)t[a+g]^=p,t[a+g+1]^=y}let i=t[2],s=t[3];for(let a=0;a<24;a++){const c=gq[a],u=TP(i,s,c),d=IP(i,s,c),h=yq[a];i=t[h],s=t[h+1],t[h]=u,t[h+1]=d}for(let a=0;a<50;a+=10){for(let c=0;c<10;c++)n[c]=t[a+c];for(let c=0;c<10;c++)t[a+c]^=~n[(c+2)%10]&n[(c+4)%10]}t[0]^=h_e[r],t[1]^=p_e[r]}oa(n)}let y_e=class vq extends f_{constructor(e,n,r,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,zc(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=ig(this.state)}clone(){return this._cloneInto()}keccak(){Fl(this.state32),m_e(this.state32,this.rounds),Fl(this.state32),this.posOut=0,this.pos=0}update(e){cu(this),e=Pa(e),za(e);const{blockLen:n,state:r}=this,i=e.length;for(let s=0;s<i;){const a=Math.min(n-this.pos,i-s);for(let c=0;c<a;c++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,(n&128)!==0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){cu(this,!1),za(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const a=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+a),i),this.posOut+=a,i+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return zc(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(_I(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,oa(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:a}=this;return e||(e=new vq(n,r,i,a,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=a,e.destroyed=this.destroyed,e}};const g_e=(t,e,n)=>Zg(()=>new y_e(e,t,n)),b_e=g_e(1,136,256/8);function w_e(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),a=Number(n>>i&s),c=Number(n&s),u=r?4:0,d=r?0:4;t.setUint32(e+u,a,r),t.setUint32(e+d,c,r)}function v_e(t,e,n){return t&e^~t&n}function __e(t,e,n){return t&e^t&n^e&n}let _q=class extends f_{constructor(e,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=TA(this.buffer)}update(e){cu(this),e=Pa(e),za(e);const{view:n,buffer:r,blockLen:i}=this,s=e.length;for(let a=0;a<s;){const c=Math.min(i-this.pos,s-a);if(c===i){const u=TA(e);for(;i<=s-a;a+=i)this.process(u,a);continue}r.set(e.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){cu(this),_I(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:a}=this;n[a++]=128,oa(this.buffer.subarray(a)),this.padOffset>i-a&&(this.process(r,0),a=0);for(let p=a;p<i;p++)n[p]=0;w_e(r,i-8,BigInt(this.length*8),s),this.process(r,0);const c=TA(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=u/4,h=this.get();if(d>h.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<d;p++)c.setUint32(4*p,h[p],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:a,pos:c}=this;return e.destroyed=a,e.finished=s,e.length=i,e.pos=c,i%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}};const Ol=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),hi=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),pi=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),E_e=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),kl=new Uint32Array(64);class S_e extends _q{constructor(e=32){super(64,e,8,!1),this.A=Ol[0]|0,this.B=Ol[1]|0,this.C=Ol[2]|0,this.D=Ol[3]|0,this.E=Ol[4]|0,this.F=Ol[5]|0,this.G=Ol[6]|0,this.H=Ol[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:a,G:c,H:u}=this;return[e,n,r,i,s,a,c,u]}set(e,n,r,i,s,a,c,u){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=c|0,this.H=u|0}process(e,n){for(let p=0;p<16;p++,n+=4)kl[p]=e.getUint32(n,!1);for(let p=16;p<64;p++){const y=kl[p-15],g=kl[p-2],b=eo(y,7)^eo(y,18)^y>>>3,v=eo(g,17)^eo(g,19)^g>>>10;kl[p]=v+kl[p-7]+b+kl[p-16]|0}let{A:r,B:i,C:s,D:a,E:c,F:u,G:d,H:h}=this;for(let p=0;p<64;p++){const y=eo(c,6)^eo(c,11)^eo(c,25),g=h+y+v_e(c,u,d)+E_e[p]+kl[p]|0,b=(eo(r,2)^eo(r,13)^eo(r,22))+__e(r,i,s)|0;h=d,d=u,u=c,c=a+g|0,a=s,s=i,i=r,r=g+b|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,c=c+this.E|0,u=u+this.F|0,d=d+this.G|0,h=h+this.H|0,this.set(r,i,s,a,c,u,d,h)}roundClean(){oa(kl)}destroy(){this.set(0,0,0,0,0,0,0,0),oa(this.buffer)}}const Eq=dq(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),A_e=Eq[0],x_e=Eq[1],Rl=new Uint32Array(80),Nl=new Uint32Array(80);let EI=class extends _q{constructor(e=64){super(128,e,16,!1),this.Ah=pi[0]|0,this.Al=pi[1]|0,this.Bh=pi[2]|0,this.Bl=pi[3]|0,this.Ch=pi[4]|0,this.Cl=pi[5]|0,this.Dh=pi[6]|0,this.Dl=pi[7]|0,this.Eh=pi[8]|0,this.El=pi[9]|0,this.Fh=pi[10]|0,this.Fl=pi[11]|0,this.Gh=pi[12]|0,this.Gl=pi[13]|0,this.Hh=pi[14]|0,this.Hl=pi[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:a,Dh:c,Dl:u,Eh:d,El:h,Fh:p,Fl:y,Gh:g,Gl:b,Hh:v,Hl:E}=this;return[e,n,r,i,s,a,c,u,d,h,p,y,g,b,v,E]}set(e,n,r,i,s,a,c,u,d,h,p,y,g,b,v,E){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=a|0,this.Dh=c|0,this.Dl=u|0,this.Eh=d|0,this.El=h|0,this.Fh=p|0,this.Fl=y|0,this.Gh=g|0,this.Gl=b|0,this.Hh=v|0,this.Hl=E|0}process(e,n){for(let A=0;A<16;A++,n+=4)Rl[A]=e.getUint32(n),Nl[A]=e.getUint32(n+=4);for(let A=16;A<80;A++){const S=Rl[A-15]|0,C=Nl[A-15]|0,I=jl(S,C,1)^jl(S,C,8)^SP(S,C,7),$=zl(S,C,1)^zl(S,C,8)^AP(S,C,7),z=Rl[A-2]|0,j=Nl[A-2]|0,B=jl(z,j,19)^Qm(z,j,61)^SP(z,j,6),G=zl(z,j,19)^ey(z,j,61)^AP(z,j,6),U=t_e($,G,Nl[A-7],Nl[A-16]),F=n_e(U,I,B,Rl[A-7],Rl[A-16]);Rl[A]=F|0,Nl[A]=U|0}let{Ah:r,Al:i,Bh:s,Bl:a,Ch:c,Cl:u,Dh:d,Dl:h,Eh:p,El:y,Fh:g,Fl:b,Gh:v,Gl:E,Hh:O,Hl:k}=this;for(let A=0;A<80;A++){const S=jl(p,y,14)^jl(p,y,18)^Qm(p,y,41),C=zl(p,y,14)^zl(p,y,18)^ey(p,y,41),I=p&g^~p&v,$=y&b^~y&E,z=r_e(k,C,$,x_e[A],Nl[A]),j=i_e(z,O,S,I,A_e[A],Rl[A]),B=z|0,G=jl(r,i,28)^Qm(r,i,34)^Qm(r,i,39),U=zl(r,i,28)^ey(r,i,34)^ey(r,i,39),F=r&s^r&c^s&c,K=i&a^i&u^a&u;O=v|0,k=E|0,v=g|0,E=b|0,g=p|0,b=y|0,{h:p,l:y}=Ta(d|0,h|0,j|0,B|0),d=c|0,h=u|0,c=s|0,u=a|0,s=r|0,a=i|0;const T=wI(B,U,K);r=vI(T,j,G,F),i=T|0}({h:r,l:i}=Ta(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:a}=Ta(this.Bh|0,this.Bl|0,s|0,a|0),{h:c,l:u}=Ta(this.Ch|0,this.Cl|0,c|0,u|0),{h:d,l:h}=Ta(this.Dh|0,this.Dl|0,d|0,h|0),{h:p,l:y}=Ta(this.Eh|0,this.El|0,p|0,y|0),{h:g,l:b}=Ta(this.Fh|0,this.Fl|0,g|0,b|0),{h:v,l:E}=Ta(this.Gh|0,this.Gl|0,v|0,E|0),{h:O,l:k}=Ta(this.Hh|0,this.Hl|0,O|0,k|0),this.set(r,i,s,a,c,u,d,h,p,y,g,b,v,E,O,k)}roundClean(){oa(Rl,Nl)}destroy(){oa(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};class T_e extends EI{constructor(){super(48),this.Ah=hi[0]|0,this.Al=hi[1]|0,this.Bh=hi[2]|0,this.Bl=hi[3]|0,this.Ch=hi[4]|0,this.Cl=hi[5]|0,this.Dh=hi[6]|0,this.Dl=hi[7]|0,this.Eh=hi[8]|0,this.El=hi[9]|0,this.Fh=hi[10]|0,this.Fl=hi[11]|0,this.Gh=hi[12]|0,this.Gl=hi[13]|0,this.Hh=hi[14]|0,this.Hl=hi[15]|0}}const mi=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class I_e extends EI{constructor(){super(32),this.Ah=mi[0]|0,this.Al=mi[1]|0,this.Bh=mi[2]|0,this.Bl=mi[3]|0,this.Ch=mi[4]|0,this.Cl=mi[5]|0,this.Dh=mi[6]|0,this.Dl=mi[7]|0,this.Eh=mi[8]|0,this.El=mi[9]|0,this.Fh=mi[10]|0,this.Fl=mi[11]|0,this.Gh=mi[12]|0,this.Gl=mi[13]|0,this.Hh=mi[14]|0,this.Hl=mi[15]|0}}const h_=Zg(()=>new S_e),C_e=Zg(()=>new EI),O_e=Zg(()=>new T_e),k_e=Zg(()=>new I_e),R_e=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),Sr=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Le=new Uint32Array(32);function $l(t,e,n,r,i,s){const a=i[s],c=i[s+1];let u=Le[2*t],d=Le[2*t+1],h=Le[2*e],p=Le[2*e+1],y=Le[2*n],g=Le[2*n+1],b=Le[2*r],v=Le[2*r+1],E=wI(u,h,a);d=vI(E,d,p,c),u=E|0,{Dh:v,Dl:b}={Dh:v^d,Dl:b^u},{Dh:v,Dl:b}={Dh:Y1e(v,b),Dl:Z1e(v)},{h:g,l:y}=Ta(g,y,v,b),{Bh:p,Bl:h}={Bh:p^g,Bl:h^y},{Bh:p,Bl:h}={Bh:jl(p,h,24),Bl:zl(p,h,24)},Le[2*t]=u,Le[2*t+1]=d,Le[2*e]=h,Le[2*e+1]=p,Le[2*n]=y,Le[2*n+1]=g,Le[2*r]=b,Le[2*r+1]=v}function Pl(t,e,n,r,i,s){const a=i[s],c=i[s+1];let u=Le[2*t],d=Le[2*t+1],h=Le[2*e],p=Le[2*e+1],y=Le[2*n],g=Le[2*n+1],b=Le[2*r],v=Le[2*r+1],E=wI(u,h,a);d=vI(E,d,p,c),u=E|0,{Dh:v,Dl:b}={Dh:v^d,Dl:b^u},{Dh:v,Dl:b}={Dh:jl(v,b,16),Dl:zl(v,b,16)},{h:g,l:y}=Ta(g,y,v,b),{Bh:p,Bl:h}={Bh:p^g,Bl:h^y},{Bh:p,Bl:h}={Bh:Qm(p,h,63),Bl:ey(p,h,63)},Le[2*t]=u,Le[2*t+1]=d,Le[2*e]=h,Le[2*e+1]=p,Le[2*n]=y,Le[2*n+1]=g,Le[2*r]=b,Le[2*r+1]=v}function N_e(t,e={},n,r,i){if(zc(n),t<0||t>n)throw new Error("outputLen bigger than keyLen");const{key:s,salt:a,personalization:c}=e;if(s!==void 0&&(s.length<1||s.length>n))throw new Error("key length must be undefined or 1.."+n);if(a!==void 0&&a.length!==r)throw new Error("salt must be undefined or "+r);if(c!==void 0&&c.length!==i)throw new Error("personalization must be undefined or "+i)}class $_e extends f_{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,zc(e),zc(n),this.blockLen=e,this.outputLen=n,this.buffer=new Uint8Array(e),this.buffer32=ig(this.buffer)}update(e){cu(this),e=Pa(e),za(e);const{blockLen:n,buffer:r,buffer32:i}=this,s=e.length,a=e.byteOffset,c=e.buffer;for(let u=0;u<s;){this.pos===n&&(Fl(i),this.compress(i,0,!1),Fl(i),this.pos=0);const d=Math.min(n-this.pos,s-u),h=a+u;if(d===n&&!(h%4)&&u+d<s){const p=new Uint32Array(c,h,Math.floor((s-u)/4));Fl(p);for(let y=0;u+n<s;y+=i.length,u+=n)this.length+=n,this.compress(p,y,!1);Fl(p);continue}r.set(e.subarray(u,u+d),this.pos),this.pos+=d,this.length+=d,u+=d}return this}digestInto(e){cu(this),_I(e,this);const{pos:n,buffer32:r}=this;this.finished=!0,oa(this.buffer.subarray(n)),Fl(r),this.compress(r,0,!0),Fl(r);const i=ig(e);this.get().forEach((s,a)=>i[a]=uc(s))}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){const{buffer:n,length:r,finished:i,destroyed:s,outputLen:a,pos:c}=this;return e||(e=new this.constructor({dkLen:a})),e.set(...this.get()),e.buffer.set(n),e.destroyed=s,e.finished=i,e.length=r,e.pos=c,e.outputLen=a,e}clone(){return this._cloneInto()}}class P_e extends $_e{constructor(e={}){const n=e.dkLen===void 0?64:e.dkLen;super(128,n),this.v0l=Sr[0]|0,this.v0h=Sr[1]|0,this.v1l=Sr[2]|0,this.v1h=Sr[3]|0,this.v2l=Sr[4]|0,this.v2h=Sr[5]|0,this.v3l=Sr[6]|0,this.v3h=Sr[7]|0,this.v4l=Sr[8]|0,this.v4h=Sr[9]|0,this.v5l=Sr[10]|0,this.v5h=Sr[11]|0,this.v6l=Sr[12]|0,this.v6h=Sr[13]|0,this.v7l=Sr[14]|0,this.v7h=Sr[15]|0,N_e(n,e,64,16,16);let{key:r,personalization:i,salt:s}=e,a=0;if(r!==void 0&&(r=Pa(r),a=r.length),this.v0l^=this.outputLen|a<<8|65536|1<<24,s!==void 0){s=Pa(s);const c=ig(s);this.v4l^=uc(c[0]),this.v4h^=uc(c[1]),this.v5l^=uc(c[2]),this.v5h^=uc(c[3])}if(i!==void 0){i=Pa(i);const c=ig(i);this.v6l^=uc(c[0]),this.v6h^=uc(c[1]),this.v7l^=uc(c[2]),this.v7h^=uc(c[3])}if(r!==void 0){const c=new Uint8Array(this.blockLen);c.set(r),this.update(c)}}get(){let{v0l:e,v0h:n,v1l:r,v1h:i,v2l:s,v2h:a,v3l:c,v3h:u,v4l:d,v4h:h,v5l:p,v5h:y,v6l:g,v6h:b,v7l:v,v7h:E}=this;return[e,n,r,i,s,a,c,u,d,h,p,y,g,b,v,E]}set(e,n,r,i,s,a,c,u,d,h,p,y,g,b,v,E){this.v0l=e|0,this.v0h=n|0,this.v1l=r|0,this.v1h=i|0,this.v2l=s|0,this.v2h=a|0,this.v3l=c|0,this.v3h=u|0,this.v4l=d|0,this.v4h=h|0,this.v5l=p|0,this.v5h=y|0,this.v6l=g|0,this.v6h=b|0,this.v7l=v|0,this.v7h=E|0}compress(e,n,r){this.get().forEach((u,d)=>Le[d]=u),Le.set(Sr,16);let{h:i,l:s}=uq(BigInt(this.length));Le[24]=Sr[8]^s,Le[25]=Sr[9]^i,r&&(Le[28]=~Le[28],Le[29]=~Le[29]);let a=0;const c=R_e;for(let u=0;u<12;u++)$l(0,4,8,12,e,n+2*c[a++]),Pl(0,4,8,12,e,n+2*c[a++]),$l(1,5,9,13,e,n+2*c[a++]),Pl(1,5,9,13,e,n+2*c[a++]),$l(2,6,10,14,e,n+2*c[a++]),Pl(2,6,10,14,e,n+2*c[a++]),$l(3,7,11,15,e,n+2*c[a++]),Pl(3,7,11,15,e,n+2*c[a++]),$l(0,5,10,15,e,n+2*c[a++]),Pl(0,5,10,15,e,n+2*c[a++]),$l(1,6,11,12,e,n+2*c[a++]),Pl(1,6,11,12,e,n+2*c[a++]),$l(2,7,8,13,e,n+2*c[a++]),Pl(2,7,8,13,e,n+2*c[a++]),$l(3,4,9,14,e,n+2*c[a++]),Pl(3,4,9,14,e,n+2*c[a++]);this.v0l^=Le[0]^Le[16],this.v0h^=Le[1]^Le[17],this.v1l^=Le[2]^Le[18],this.v1h^=Le[3]^Le[19],this.v2l^=Le[4]^Le[20],this.v2h^=Le[5]^Le[21],this.v3l^=Le[6]^Le[22],this.v3h^=Le[7]^Le[23],this.v4l^=Le[8]^Le[24],this.v4h^=Le[9]^Le[25],this.v5l^=Le[10]^Le[26],this.v5h^=Le[11]^Le[27],this.v6l^=Le[12]^Le[28],this.v6h^=Le[13]^Le[29],this.v7l^=Le[14]^Le[30],this.v7h^=Le[15]^Le[31],oa(Le)}destroy(){this.destroyed=!0,oa(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const D_e=o_e(t=>new P_e(t)),U_e="https://rpc.walletconnect.org/v1";function Sq(t){const e=`Ethereum Signed Message:
${t.length}`,n=new TextEncoder().encode(e+t);return"0x"+Buffer.from(b_e(n)).toString("hex")}async function M_e(t,e,n,r,i,s){switch(n.t){case"eip191":return await B_e(t,e,n.s);case"eip1271":return await L_e(t,e,n.s,r,i,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}function B_e(t,e,n){const r=dge(n);return yge({payload:Sq(e),signature:r}).toLowerCase()===t.toLowerCase()}async function L_e(t,e,n,r,i,s){const a=Rc(r);if(!a.namespace||!a.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const c="0x1626ba7e",u="0000000000000000000000000000000000000000000000000000000000000040",d=n.substring(2),h=(d.length/2).toString(16).padStart(64,"0"),p=(e.startsWith("0x")?e:Sq(e)).substring(2),y=c+p+u+h+d,g=await fetch(`${s||U_e}/?chainId=${r}&projectId=${i}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:j_e(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:y},"latest"]})}),{result:b}=await g.json();return b?b.slice(0,c.length).toLowerCase()===c.toLowerCase():!1}catch(c){return console.error("isValidEip1271Signature: ",c),!1}}function j_e(){return Date.now()+Math.floor(Math.random()*1e3)}function z_e(t){const e=atob(t),n=new Uint8Array(e.length);for(let a=0;a<e.length;a++)n[a]=e.charCodeAt(a);const r=n[0];if(r===0)throw new Error("No signatures found");const i=1+r*64;if(n.length<i)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");const s=Buffer.from(t,"base64").slice(1,65);return Vg.encode(s)}function F_e(t){const e=new Uint8Array(Buffer.from(t,"base64")),n=Array.from("TransactionData::").map(s=>s.charCodeAt(0)),r=new Uint8Array(n.length+e.length);r.set(n),r.set(e,n.length);const i=D_e(r,{dkLen:32});return Vg.encode(i)}function CP(t){const e=new Uint8Array(h_(q_e(t)));return Vg.encode(e)}function q_e(t){if(t instanceof Uint8Array)return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="object"&&t!=null&&t.data)return new Uint8Array(Object.values(t.data));if(typeof t=="object"&&t)return new Uint8Array(Object.values(t));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function OP(t){const e=Buffer.from(t,"base64"),n=t0e(e).txn;if(!n)throw new Error("Invalid signed transaction: missing 'txn' field");const r=Vge(n),i=Buffer.from("TX"),s=Buffer.concat([i,Buffer.from(r)]),a=k_e(s);return bfe.encode(a).replace(/=+$/,"")}function IA(t){const e=[];let n=BigInt(t);for(;n>=BigInt(128);)e.push(Number(n&BigInt(127)|BigInt(128))),n>>=BigInt(7);return e.push(Number(n)),Buffer.from(e)}function W_e(t){const e=Buffer.from(t.signed.bodyBytes,"base64"),n=Buffer.from(t.signed.authInfoBytes,"base64"),r=Buffer.from(t.signature.signature,"base64"),i=[];i.push(Buffer.from([10])),i.push(IA(e.length)),i.push(e),i.push(Buffer.from([18])),i.push(IA(n.length)),i.push(n),i.push(Buffer.from([26])),i.push(IA(r.length)),i.push(r);const s=Buffer.concat(i),a=h_(s);return Buffer.from(a).toString("hex").toUpperCase()}function H_e(t){var e,n;const r=[];try{if(typeof t=="string")return r.push(t),r;if(typeof t!="object")return r;t!=null&&t.id&&r.push(t.id);const i=(n=(e=t?.capabilities)==null?void 0:e.caip345)==null?void 0:n.transactionHashes;i&&r.push(...i)}catch(i){console.warn("getWalletSendCallsHashes failed: ",i)}return r}var V_e=Object.defineProperty,G_e=Object.defineProperties,K_e=Object.getOwnPropertyDescriptors,kP=Object.getOwnPropertySymbols,Y_e=Object.prototype.hasOwnProperty,Z_e=Object.prototype.propertyIsEnumerable,RP=(t,e,n)=>e in t?V_e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,X_e=(t,e)=>{for(var n in e||(e={}))Y_e.call(e,n)&&RP(t,n,e[n]);if(kP)for(var n of kP(e))Z_e.call(e,n)&&RP(t,n,e[n]);return t},J_e=(t,e)=>G_e(t,K_e(e));const Q_e="did:pkh:",SI=t=>t?.split(":"),eEe=t=>{const e=t&&SI(t);if(e)return t.includes(Q_e)?e[3]:e[1]},g5=t=>{const e=t&&SI(t);if(e)return e[2]+":"+e[3]},qv=t=>{const e=t&&SI(t);if(e)return e.pop()};async function NP(t){const{cacao:e,projectId:n}=t,{s:r,p:i}=e,s=Aq(i,i.iss),a=qv(i.iss);return await M_e(a,s,r,g5(i.iss),n)}const Aq=(t,e)=>{const n=`${t.domain} wants you to sign in with your Ethereum account:`,r=qv(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=t.statement||void 0;const s=`URI: ${t.aud||t.uri}`,a=`Version: ${t.version}`,c=`Chain ID: ${eEe(e)}`,u=`Nonce: ${t.nonce}`,d=`Issued At: ${t.iat}`,h=t.exp?`Expiration Time: ${t.exp}`:void 0,p=t.nbf?`Not Before: ${t.nbf}`:void 0,y=t.requestId?`Request ID: ${t.requestId}`:void 0,g=t.resources?`Resources:${t.resources.map(v=>`
- ${v}`).join("")}`:void 0,b=Nw(t.resources);if(b){const v=sg(b);i=lEe(i,v)}return[n,r,"",i,"",s,a,c,u,d,h,p,y,g].filter(v=>v!=null).join(`
`)};function tEe(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function nEe(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function $d(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(n=>{const r=t.att[n];if(Array.isArray(r))throw new Error(`Resource must be an object: ${n}`);if(typeof r!="object")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(r).forEach(i=>{const s=r[i];if(!Array.isArray(s))throw new Error(`Ability limits ${i} must be an array of objects, found: ${s}`);if(!s.length)throw new Error(`Value of ${i} is empty array, must be an array with objects`);s.forEach(a=>{if(typeof a!="object")throw new Error(`Ability limits (${i}) must be an array of objects, found: ${a}`)})})})}function rEe(t,e,n,r={}){return n?.sort((i,s)=>i.localeCompare(s)),{att:{[t]:iEe(e,n,r)}}}function iEe(t,e,n={}){e=e?.sort((i,s)=>i.localeCompare(s));const r=e.map(i=>({[`${t}/${i}`]:[n]}));return Object.assign({},...r)}function xq(t){return $d(t),`urn:recap:${tEe(t).replace(/=/g,"")}`}function sg(t){const e=nEe(t.replace("urn:recap:",""));return $d(e),e}function sEe(t,e,n){const r=rEe(t,e,n);return xq(r)}function aEe(t){return t&&t.includes("urn:recap:")}function oEe(t,e){const n=sg(t),r=sg(e),i=cEe(n,r);return xq(i)}function cEe(t,e){$d(t),$d(e);const n=Object.keys(t.att).concat(Object.keys(e.att)).sort((i,s)=>i.localeCompare(s)),r={att:{}};return n.forEach(i=>{var s,a;Object.keys(((s=t.att)==null?void 0:s[i])||{}).concat(Object.keys(((a=e.att)==null?void 0:a[i])||{})).sort((c,u)=>c.localeCompare(u)).forEach(c=>{var u,d;r.att[i]=J_e(X_e({},r.att[i]),{[c]:((u=t.att[i])==null?void 0:u[c])||((d=e.att[i])==null?void 0:d[c])})})}),r}function lEe(t="",e){$d(e);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(n))return t;const r=[];let i=0;Object.keys(e.att).forEach(c=>{const u=Object.keys(e.att[c]).map(p=>({ability:p.split("/")[0],action:p.split("/")[1]}));u.sort((p,y)=>p.action.localeCompare(y.action));const d={};u.forEach(p=>{d[p.ability]||(d[p.ability]=[]),d[p.ability].push(p.action)});const h=Object.keys(d).map(p=>(i++,`(${i}) '${p}': '${d[p].join("', '")}' for '${c}'.`));r.push(h.join(", ").replace(".,","."))});const s=r.join(" "),a=`${n}${s}`;return`${t?t+" ":""}${a}`}function $P(t){var e;const n=sg(t);$d(n);const r=(e=n.att)==null?void 0:e.eip155;return r?Object.keys(r).map(i=>i.split("/")[1]):[]}function PP(t){const e=sg(t);$d(e);const n=[];return Object.values(e.att).forEach(r=>{Object.values(r).forEach(i=>{var s;(s=i?.[0])!=null&&s.chains&&n.push(i[0].chains)})}),[...new Set(n.flat())]}function Nw(t){if(!t)return;const e=t?.[t.length-1];return aEe(e)?e:void 0}function Tq(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function b5(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function CA(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Gi(t,...e){if(!Tq(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function DP(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function uEe(t,e){Gi(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function iu(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Zh(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function dEe(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}const fEe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function hEe(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function w5(t){if(typeof t=="string")t=hEe(t);else if(Tq(t))t=v5(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function pEe(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function mEe(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}const yEe=(t,e)=>{function n(r,...i){if(Gi(r),!fEe)throw new Error("Non little-endian hardware is not yet supported");if(t.nonceLength!==void 0){const d=i[0];if(!d)throw new Error("nonce / iv required");t.varSizeNonce?Gi(d):Gi(d,t.nonceLength)}const s=t.tagLength;s&&i[1]!==void 0&&Gi(i[1]);const a=e(r,...i),c=(d,h)=>{if(h!==void 0){if(d!==2)throw new Error("cipher output not supported");Gi(h)}};let u=!1;return{encrypt(d,h){if(u)throw new Error("cannot encrypt() twice with same key + nonce");return u=!0,Gi(d),c(a.encrypt.length,h),a.encrypt(d,h)},decrypt(d,h){if(Gi(d),s&&d.length<s)throw new Error("invalid ciphertext length: smaller than tagLength="+s);return c(a.decrypt.length,h),a.decrypt(d,h)}}}return Object.assign(n,t),n};function UP(t,e,n=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(n&&!bEe(e))throw new Error("invalid output, must be aligned");return e}function MP(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),a=Number(n>>i&s),c=Number(n&s);t.setUint32(e+4,a,r),t.setUint32(e+0,c,r)}function gEe(t,e,n){b5(n);const r=new Uint8Array(16),i=dEe(r);return MP(i,0,BigInt(e),n),MP(i,8,BigInt(t),n),r}function bEe(t){return t.byteOffset%4===0}function v5(t){return Uint8Array.from(t)}const Iq=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),wEe=Iq("expand 16-byte k"),vEe=Iq("expand 32-byte k"),_Ee=iu(wEe),EEe=iu(vEe);function Xt(t,e){return t<<e|t>>>32-e}function _5(t){return t.byteOffset%4===0}const tw=64,SEe=16,Cq=2**32-1,BP=new Uint32Array;function AEe(t,e,n,r,i,s,a,c){const u=i.length,d=new Uint8Array(tw),h=iu(d),p=_5(i)&&_5(s),y=p?iu(i):BP,g=p?iu(s):BP;for(let b=0;b<u;a++){if(t(e,n,r,h,a,c),a>=Cq)throw new Error("arx: counter overflow");const v=Math.min(tw,u-b);if(p&&v===tw){const E=b/4;if(b%4!==0)throw new Error("arx: invalid block position");for(let O=0,k;O<SEe;O++)k=E+O,g[k]=y[k]^h[O];b+=tw;continue}for(let E=0,O;E<v;E++)O=b+E,s[O]=i[O]^d[E];b+=v}}function xEe(t,e){const{allowShortKeys:n,extendNonceFn:r,counterLength:i,counterRight:s,rounds:a}=pEe({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return CA(i),CA(a),b5(s),b5(n),(c,u,d,h,p=0)=>{Gi(c),Gi(u),Gi(d);const y=d.length;if(h===void 0&&(h=new Uint8Array(y)),Gi(h),CA(p),p<0||p>=Cq)throw new Error("arx: counter overflow");if(h.length<y)throw new Error(`arx: output (${h.length}) is shorter than data (${y})`);const g=[];let b=c.length,v,E;if(b===32)g.push(v=v5(c)),E=EEe;else if(b===16&&n)v=new Uint8Array(32),v.set(c),v.set(c,16),E=_Ee,g.push(v);else throw new Error(`arx: invalid 32-byte key, got length=${b}`);_5(u)||g.push(u=v5(u));const O=iu(v);if(r){if(u.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(E,O,iu(u.subarray(0,16)),O),u=u.subarray(16)}const k=16-i;if(k!==u.length)throw new Error(`arx: nonce must be ${k} or 16 bytes`);if(k!==12){const S=new Uint8Array(12);S.set(u,s?0:12-u.length),u=S,g.push(u)}const A=iu(u);return AEe(t,E,O,A,d,h,p,a),Zh(...g),h}}const Jr=(t,e)=>t[e++]&255|(t[e++]&255)<<8;class TEe{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=w5(e),Gi(e,32);const n=Jr(e,0),r=Jr(e,2),i=Jr(e,4),s=Jr(e,6),a=Jr(e,8),c=Jr(e,10),u=Jr(e,12),d=Jr(e,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|i<<6)&7939,this.r[3]=(i>>>7|s<<9)&8191,this.r[4]=(s>>>4|a<<12)&255,this.r[5]=a>>>1&8190,this.r[6]=(a>>>14|c<<2)&8191,this.r[7]=(c>>>11|u<<5)&8065,this.r[8]=(u>>>8|d<<8)&8191,this.r[9]=d>>>5&127;for(let h=0;h<8;h++)this.pad[h]=Jr(e,16+2*h)}process(e,n,r=!1){const i=r?0:2048,{h:s,r:a}=this,c=a[0],u=a[1],d=a[2],h=a[3],p=a[4],y=a[5],g=a[6],b=a[7],v=a[8],E=a[9],O=Jr(e,n+0),k=Jr(e,n+2),A=Jr(e,n+4),S=Jr(e,n+6),C=Jr(e,n+8),I=Jr(e,n+10),$=Jr(e,n+12),z=Jr(e,n+14);let j=s[0]+(O&8191),B=s[1]+((O>>>13|k<<3)&8191),G=s[2]+((k>>>10|A<<6)&8191),U=s[3]+((A>>>7|S<<9)&8191),F=s[4]+((S>>>4|C<<12)&8191),K=s[5]+(C>>>1&8191),T=s[6]+((C>>>14|I<<2)&8191),x=s[7]+((I>>>11|$<<5)&8191),N=s[8]+(($>>>8|z<<8)&8191),L=s[9]+(z>>>5|i),P=0,H=P+j*c+B*(5*E)+G*(5*v)+U*(5*b)+F*(5*g);P=H>>>13,H&=8191,H+=K*(5*y)+T*(5*p)+x*(5*h)+N*(5*d)+L*(5*u),P+=H>>>13,H&=8191;let D=P+j*u+B*c+G*(5*E)+U*(5*v)+F*(5*b);P=D>>>13,D&=8191,D+=K*(5*g)+T*(5*y)+x*(5*p)+N*(5*h)+L*(5*d),P+=D>>>13,D&=8191;let V=P+j*d+B*u+G*c+U*(5*E)+F*(5*v);P=V>>>13,V&=8191,V+=K*(5*b)+T*(5*g)+x*(5*y)+N*(5*p)+L*(5*h),P+=V>>>13,V&=8191;let J=P+j*h+B*d+G*u+U*c+F*(5*E);P=J>>>13,J&=8191,J+=K*(5*v)+T*(5*b)+x*(5*g)+N*(5*y)+L*(5*p),P+=J>>>13,J&=8191;let X=P+j*p+B*h+G*d+U*u+F*c;P=X>>>13,X&=8191,X+=K*(5*E)+T*(5*v)+x*(5*b)+N*(5*g)+L*(5*y),P+=X>>>13,X&=8191;let Q=P+j*y+B*p+G*h+U*d+F*u;P=Q>>>13,Q&=8191,Q+=K*c+T*(5*E)+x*(5*v)+N*(5*b)+L*(5*g),P+=Q>>>13,Q&=8191;let ge=P+j*g+B*y+G*p+U*h+F*d;P=ge>>>13,ge&=8191,ge+=K*u+T*c+x*(5*E)+N*(5*v)+L*(5*b),P+=ge>>>13,ge&=8191;let we=P+j*b+B*g+G*y+U*p+F*h;P=we>>>13,we&=8191,we+=K*d+T*u+x*c+N*(5*E)+L*(5*v),P+=we>>>13,we&=8191;let xe=P+j*v+B*b+G*g+U*y+F*p;P=xe>>>13,xe&=8191,xe+=K*h+T*d+x*u+N*c+L*(5*E),P+=xe>>>13,xe&=8191;let Ee=P+j*E+B*v+G*b+U*g+F*y;P=Ee>>>13,Ee&=8191,Ee+=K*p+T*h+x*d+N*u+L*c,P+=Ee>>>13,Ee&=8191,P=(P<<2)+P|0,P=P+H|0,H=P&8191,P=P>>>13,D+=P,s[0]=H,s[1]=D,s[2]=V,s[3]=J,s[4]=X,s[5]=Q,s[6]=ge,s[7]=we,s[8]=xe,s[9]=Ee}finalize(){const{h:e,pad:n}=this,r=new Uint16Array(10);let i=e[1]>>>13;e[1]&=8191;for(let c=2;c<10;c++)e[c]+=i,i=e[c]>>>13,e[c]&=8191;e[0]+=i*5,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,r[0]=e[0]+5,i=r[0]>>>13,r[0]&=8191;for(let c=1;c<10;c++)r[c]=e[c]+i,i=r[c]>>>13,r[c]&=8191;r[9]-=8192;let s=(i^1)-1;for(let c=0;c<10;c++)r[c]&=s;s=~s;for(let c=0;c<10;c++)e[c]=e[c]&s|r[c];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let a=e[0]+n[0];e[0]=a&65535;for(let c=1;c<8;c++)a=(e[c]+n[c]|0)+(a>>>16)|0,e[c]=a&65535;Zh(r)}update(e){DP(this),e=w5(e),Gi(e);const{buffer:n,blockLen:r}=this,i=e.length;for(let s=0;s<i;){const a=Math.min(r-this.pos,i-s);if(a===r){for(;r<=i-s;s+=r)this.process(e,s);continue}n.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){Zh(this.h,this.r,this.buffer,this.pad)}digestInto(e){DP(this),uEe(e,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:i}=this;if(i){for(n[i++]=1;i<16;i++)n[i]=0;this.process(n,0,!0)}this.finalize();let s=0;for(let a=0;a<8;a++)e[s++]=r[a]>>>0,e[s++]=r[a]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}}function IEe(t){const e=(r,i)=>t(i).update(w5(r)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}const CEe=IEe(t=>new TEe(t));function OEe(t,e,n,r,i,s=20){let a=t[0],c=t[1],u=t[2],d=t[3],h=e[0],p=e[1],y=e[2],g=e[3],b=e[4],v=e[5],E=e[6],O=e[7],k=i,A=n[0],S=n[1],C=n[2],I=a,$=c,z=u,j=d,B=h,G=p,U=y,F=g,K=b,T=v,x=E,N=O,L=k,P=A,H=S,D=C;for(let J=0;J<s;J+=2)I=I+B|0,L=Xt(L^I,16),K=K+L|0,B=Xt(B^K,12),I=I+B|0,L=Xt(L^I,8),K=K+L|0,B=Xt(B^K,7),$=$+G|0,P=Xt(P^$,16),T=T+P|0,G=Xt(G^T,12),$=$+G|0,P=Xt(P^$,8),T=T+P|0,G=Xt(G^T,7),z=z+U|0,H=Xt(H^z,16),x=x+H|0,U=Xt(U^x,12),z=z+U|0,H=Xt(H^z,8),x=x+H|0,U=Xt(U^x,7),j=j+F|0,D=Xt(D^j,16),N=N+D|0,F=Xt(F^N,12),j=j+F|0,D=Xt(D^j,8),N=N+D|0,F=Xt(F^N,7),I=I+G|0,D=Xt(D^I,16),x=x+D|0,G=Xt(G^x,12),I=I+G|0,D=Xt(D^I,8),x=x+D|0,G=Xt(G^x,7),$=$+U|0,L=Xt(L^$,16),N=N+L|0,U=Xt(U^N,12),$=$+U|0,L=Xt(L^$,8),N=N+L|0,U=Xt(U^N,7),z=z+F|0,P=Xt(P^z,16),K=K+P|0,F=Xt(F^K,12),z=z+F|0,P=Xt(P^z,8),K=K+P|0,F=Xt(F^K,7),j=j+B|0,H=Xt(H^j,16),T=T+H|0,B=Xt(B^T,12),j=j+B|0,H=Xt(H^j,8),T=T+H|0,B=Xt(B^T,7);let V=0;r[V++]=a+I|0,r[V++]=c+$|0,r[V++]=u+z|0,r[V++]=d+j|0,r[V++]=h+B|0,r[V++]=p+G|0,r[V++]=y+U|0,r[V++]=g+F|0,r[V++]=b+K|0,r[V++]=v+T|0,r[V++]=E+x|0,r[V++]=O+N|0,r[V++]=k+L|0,r[V++]=A+P|0,r[V++]=S+H|0,r[V++]=C+D|0}const kEe=xEe(OEe,{counterRight:!1,counterLength:4,allowShortKeys:!1}),REe=new Uint8Array(16),LP=(t,e)=>{t.update(e);const n=e.length%16;n&&t.update(REe.subarray(n))},NEe=new Uint8Array(32);function jP(t,e,n,r,i){const s=t(e,n,NEe),a=CEe.create(s);i&&LP(a,i),LP(a,r);const c=gEe(r.length,i?i.length:0,!0);a.update(c);const u=a.digest();return Zh(s,c),u}const $Ee=t=>(e,n,r)=>({encrypt(i,s){const a=i.length;s=UP(a+16,s,!1),s.set(i);const c=s.subarray(0,-16);t(e,n,c,c,1);const u=jP(t,e,n,c,r);return s.set(u,a),Zh(u),s},decrypt(i,s){s=UP(i.length-16,s,!1);const a=i.subarray(0,-16),c=i.subarray(-16),u=jP(t,e,n,a,r);if(!mEe(c,u))throw new Error("invalid tag");return s.set(i.subarray(0,-16)),t(e,n,s,s,1),Zh(u),s}}),Oq=yEe({blockSize:64,nonceLength:12,tagLength:16},$Ee(kEe));let kq=class extends f_{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,d_(e);const r=Pa(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=e.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),oa(s)}update(e){return cu(this),this.iHash.update(e),this}digestInto(e){cu(this),za(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:a,outputLen:c}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=a,e.outputLen=c,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const p_=(t,e,n)=>new kq(t,e).update(n).digest();p_.create=(t,e)=>new kq(t,e);function PEe(t,e,n){return d_(t),n===void 0&&(n=new Uint8Array(t.outputLen)),p_(t,Pa(n),Pa(e))}const OA=Uint8Array.from([0]),zP=Uint8Array.of();function DEe(t,e,n,r=32){d_(t),zc(r);const i=t.outputLen;if(r>255*i)throw new Error("Length should be <= 255*HashLen");const s=Math.ceil(r/i);n===void 0&&(n=zP);const a=new Uint8Array(s*i),c=p_.create(t,e),u=c._cloneInto(),d=new Uint8Array(c.outputLen);for(let h=0;h<s;h++)OA[0]=h+1,u.update(h===0?zP:d).update(n).update(OA).digestInto(d),a.set(d,i*h),c._cloneInto(u);return c.destroy(),u.destroy(),oa(d,OA),a.slice(0,r)}const UEe=(t,e,n,r,i)=>DEe(t,PEe(t,e,n),r,i),m_=h_,AI=BigInt(0),E5=BigInt(1);function Wv(t,e=""){if(typeof t!="boolean"){const n=e&&`"${e}"`;throw new Error(n+"expected boolean, got type="+typeof t)}return t}function ad(t,e,n=""){const r=u_(t),i=t?.length,s=e!==void 0;if(!r||s&&i!==e){const a=n&&`"${n}" `,c=s?` of length ${e}`:"",u=r?`length=${i}`:`type=${typeof t}`;throw new Error(a+"expected Uint8Array"+c+", got "+u)}return t}function nw(t){const e=t.toString(16);return e.length&1?"0"+e:e}function Rq(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?AI:BigInt("0x"+t)}function y_(t){return Rq(xh(t))}function Hv(t){return za(t),Rq(xh(Uint8Array.from(t).reverse()))}function xI(t,e){return Fv(t.toString(16).padStart(e*2,"0"))}function TI(t,e){return xI(t,e).reverse()}function bi(t,e,n){let r;if(typeof e=="string")try{r=Fv(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(u_(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}const kA=t=>typeof t=="bigint"&&AI<=t;function MEe(t,e,n){return kA(t)&&kA(e)&&kA(n)&&e<=t&&t<n}function S5(t,e,n,r){if(!MEe(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function Nq(t){let e;for(e=0;t>AI;t>>=E5,e+=1);return e}const Xg=t=>(E5<<BigInt(t))-E5;function BEe(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=y=>new Uint8Array(y),i=y=>Uint8Array.of(y);let s=r(t),a=r(t),c=0;const u=()=>{s.fill(1),a.fill(0),c=0},d=(...y)=>n(a,s,...y),h=(y=r(0))=>{a=d(i(0),y),s=d(),y.length!==0&&(a=d(i(1),y),s=d())},p=()=>{if(c++>=1e3)throw new Error("drbg: tried 1000 values");let y=0;const g=[];for(;y<e;){s=d();const b=s.slice();g.push(b),y+=s.length}return Yl(...g)};return(y,g)=>{u(),h(y);let b;for(;!(b=g(p()));)h();return u(),b}}function g_(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(i,s,a){const c=t[i];if(a&&c===void 0)return;const u=typeof c;if(u!==s||c===null)throw new Error(`param "${i}" is invalid: expected ${s}, got ${u}`)}Object.entries(e).forEach(([i,s])=>r(i,s,!1)),Object.entries(n).forEach(([i,s])=>r(i,s,!0))}function FP(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}const Xi=BigInt(0),Ii=BigInt(1),od=BigInt(2),$q=BigInt(3),Pq=BigInt(4),Dq=BigInt(5),LEe=BigInt(7),Uq=BigInt(8),jEe=BigInt(9),Mq=BigInt(16);function Ss(t,e){const n=t%e;return n>=Xi?n:e+n}function xa(t,e,n){let r=t;for(;e-- >Xi;)r*=r,r%=n;return r}function qP(t,e){if(t===Xi)throw new Error("invert: expected non-zero number");if(e<=Xi)throw new Error("invert: expected positive modulus, got "+e);let n=Ss(t,e),r=e,i=Xi,s=Ii;for(;n!==Xi;){const a=r/n,c=r%n,u=i-s*a;r=n,n=c,i=s,s=u}if(r!==Ii)throw new Error("invert: does not exist");return Ss(i,e)}function II(t,e,n){if(!t.eql(t.sqr(e),n))throw new Error("Cannot find square root")}function Bq(t,e){const n=(t.ORDER+Ii)/Pq,r=t.pow(e,n);return II(t,r,e),r}function zEe(t,e){const n=(t.ORDER-Dq)/Uq,r=t.mul(e,od),i=t.pow(r,n),s=t.mul(e,i),a=t.mul(t.mul(s,od),i),c=t.mul(s,t.sub(a,t.ONE));return II(t,c,e),c}function FEe(t){const e=mu(t),n=Lq(t),r=n(e,e.neg(e.ONE)),i=n(e,r),s=n(e,e.neg(r)),a=(t+LEe)/Mq;return(c,u)=>{let d=c.pow(u,a),h=c.mul(d,r);const p=c.mul(d,i),y=c.mul(d,s),g=c.eql(c.sqr(h),u),b=c.eql(c.sqr(p),u);d=c.cmov(d,h,g),h=c.cmov(y,p,b);const v=c.eql(c.sqr(h),u),E=c.cmov(d,h,v);return II(c,E,u),E}}function Lq(t){if(t<$q)throw new Error("sqrt is not defined for small field");let e=t-Ii,n=0;for(;e%od===Xi;)e/=od,n++;let r=od;const i=mu(t);for(;WP(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return Bq;let s=i.pow(r,e);const a=(e+Ii)/od;return function(c,u){if(c.is0(u))return u;if(WP(c,u)!==1)throw new Error("Cannot find square root");let d=n,h=c.mul(c.ONE,s),p=c.pow(u,e),y=c.pow(u,a);for(;!c.eql(p,c.ONE);){if(c.is0(p))return c.ZERO;let g=1,b=c.sqr(p);for(;!c.eql(b,c.ONE);)if(g++,b=c.sqr(b),g===d)throw new Error("Cannot find square root");const v=Ii<<BigInt(d-g-1),E=c.pow(h,v);d=g,h=c.sqr(E),p=c.mul(p,h),y=c.mul(y,E)}return y}}function qEe(t){return t%Pq===$q?Bq:t%Uq===Dq?zEe:t%Mq===jEe?FEe(t):Lq(t)}const WEe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function HEe(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=WEe.reduce((r,i)=>(r[i]="function",r),e);return g_(t,n),t}function VEe(t,e,n){if(n<Xi)throw new Error("invalid exponent, negatives unsupported");if(n===Xi)return t.ONE;if(n===Ii)return e;let r=t.ONE,i=e;for(;n>Xi;)n&Ii&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Ii;return r}function jq(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((a,c,u)=>t.is0(c)?a:(r[u]=a,t.mul(a,c)),t.ONE),s=t.inv(i);return e.reduceRight((a,c,u)=>t.is0(c)?a:(r[u]=t.mul(a,r[u]),t.mul(a,c)),s),r}function WP(t,e){const n=(t.ORDER-Ii)/od,r=t.pow(e,n),i=t.eql(r,t.ONE),s=t.eql(r,t.ZERO),a=t.eql(r,t.neg(t.ONE));if(!i&&!s&&!a)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function zq(t,e){e!==void 0&&zc(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function mu(t,e,n=!1,r={}){if(t<=Xi)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,s,a=!1,c;if(typeof e=="object"&&e!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const y=e;y.BITS&&(i=y.BITS),y.sqrt&&(s=y.sqrt),typeof y.isLE=="boolean"&&(n=y.isLE),typeof y.modFromBytes=="boolean"&&(a=y.modFromBytes),c=y.allowedLengths}else typeof e=="number"&&(i=e),r.sqrt&&(s=r.sqrt);const{nBitLength:u,nByteLength:d}=zq(t,i);if(d>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let h;const p=Object.freeze({ORDER:t,isLE:n,BITS:u,BYTES:d,MASK:Xg(u),ZERO:Xi,ONE:Ii,allowedLengths:c,create:y=>Ss(y,t),isValid:y=>{if(typeof y!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof y);return Xi<=y&&y<t},is0:y=>y===Xi,isValidNot0:y=>!p.is0(y)&&p.isValid(y),isOdd:y=>(y&Ii)===Ii,neg:y=>Ss(-y,t),eql:(y,g)=>y===g,sqr:y=>Ss(y*y,t),add:(y,g)=>Ss(y+g,t),sub:(y,g)=>Ss(y-g,t),mul:(y,g)=>Ss(y*g,t),pow:(y,g)=>VEe(p,y,g),div:(y,g)=>Ss(y*qP(g,t),t),sqrN:y=>y*y,addN:(y,g)=>y+g,subN:(y,g)=>y-g,mulN:(y,g)=>y*g,inv:y=>qP(y,t),sqrt:s||(y=>(h||(h=qEe(t)),h(p,y))),toBytes:y=>n?TI(y,d):xI(y,d),fromBytes:(y,g=!0)=>{if(c){if(!c.includes(y.length)||y.length>d)throw new Error("Field.fromBytes: expected "+c+" bytes, got "+y.length);const v=new Uint8Array(d);v.set(y,n?0:v.length-y.length),y=v}if(y.length!==d)throw new Error("Field.fromBytes: expected "+d+" bytes, got "+y.length);let b=n?Hv(y):y_(y);if(a&&(b=Ss(b,t)),!g&&!p.isValid(b))throw new Error("invalid field element: outside of range 0..ORDER");return b},invertBatch:y=>jq(p,y),cmov:(y,g,b)=>b?g:y});return Object.freeze(p)}function Fq(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function qq(t){const e=Fq(t);return e+Math.ceil(e/2)}function GEe(t,e,n=!1){const r=t.length,i=Fq(e),s=qq(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const a=n?Hv(t):y_(t),c=Ss(a,e-Ii)+Ii;return n?TI(c,i):xI(c,i)}const Xh=BigInt(0),cd=BigInt(1);function Vv(t,e){const n=e.negate();return t?n:e}function RA(t,e){const n=jq(t.Fp,e.map(r=>r.Z));return e.map((r,i)=>t.fromAffine(r.toAffine(n[i])))}function Wq(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function NA(t,e){Wq(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,s=Xg(t),a=BigInt(t);return{windows:n,windowSize:r,mask:s,maxNumber:i,shiftBy:a}}function HP(t,e,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:a}=n;let c=Number(t&i),u=t>>a;c>r&&(c-=s,u+=cd);const d=e*r,h=d+Math.abs(c)-1,p=c===0,y=c<0,g=e%2!==0;return{nextN:u,offset:h,isZero:p,isNeg:y,isNegF:g,offsetF:d}}function KEe(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function YEe(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const $A=new WeakMap,Hq=new WeakMap;function PA(t){return Hq.get(t)||1}function VP(t){if(t!==Xh)throw new Error("invalid wNAF")}class ZEe{constructor(e,n){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=n}_unsafeLadder(e,n,r=this.ZERO){let i=e;for(;n>Xh;)n&cd&&(r=r.add(i)),i=i.double(),n>>=cd;return r}precomputeWindow(e,n){const{windows:r,windowSize:i}=NA(n,this.bits),s=[];let a=e,c=a;for(let u=0;u<r;u++){c=a,s.push(c);for(let d=1;d<i;d++)c=c.add(a),s.push(c);a=c.double()}return s}wNAF(e,n,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let i=this.ZERO,s=this.BASE;const a=NA(e,this.bits);for(let c=0;c<a.windows;c++){const{nextN:u,offset:d,isZero:h,isNeg:p,isNegF:y,offsetF:g}=HP(r,c,a);r=u,h?s=s.add(Vv(y,n[g])):i=i.add(Vv(p,n[d]))}return VP(r),{p:i,f:s}}wNAFUnsafe(e,n,r,i=this.ZERO){const s=NA(e,this.bits);for(let a=0;a<s.windows&&r!==Xh;a++){const{nextN:c,offset:u,isZero:d,isNeg:h}=HP(r,a,s);if(r=c,!d){const p=n[u];i=i.add(h?p.negate():p)}}return VP(r),i}getPrecomputes(e,n,r){let i=$A.get(n);return i||(i=this.precomputeWindow(n,e),e!==1&&(typeof r=="function"&&(i=r(i)),$A.set(n,i))),i}cached(e,n,r){const i=PA(e);return this.wNAF(i,this.getPrecomputes(i,e,r),n)}unsafe(e,n,r,i){const s=PA(e);return s===1?this._unsafeLadder(e,n,i):this.wNAFUnsafe(s,this.getPrecomputes(s,e,r),n,i)}createCache(e,n){Wq(n,this.bits),Hq.set(e,n),$A.delete(e)}hasCache(e){return PA(e)!==1}}function XEe(t,e,n,r){let i=e,s=t.ZERO,a=t.ZERO;for(;n>Xh||r>Xh;)n&cd&&(s=s.add(i)),r&cd&&(a=a.add(i)),i=i.double(),n>>=cd,r>>=cd;return{p1:s,p2:a}}function JEe(t,e,n,r){KEe(n,t),YEe(r,e);const i=n.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const a=t.ZERO,c=Nq(BigInt(i));let u=1;c>12?u=c-3:c>4?u=c-2:c>0&&(u=2);const d=Xg(u),h=new Array(Number(d)+1).fill(a),p=Math.floor((e.BITS-1)/u)*u;let y=a;for(let g=p;g>=0;g-=u){h.fill(a);for(let v=0;v<s;v++){const E=r[v],O=Number(E>>BigInt(g)&d);h[O]=h[O].add(n[v])}let b=a;for(let v=h.length-1,E=a;v>0;v--)E=E.add(h[v]),b=b.add(E);if(y=y.add(b),g!==0)for(let v=0;v<u;v++)y=y.double()}return y}function GP(t,e,n){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return HEe(e),e}else return mu(t,{isLE:n})}function QEe(t,e,n={},r){if(r===void 0&&(r=t==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const c of["p","n","h"]){const u=e[c];if(!(typeof u=="bigint"&&u>Xh))throw new Error(`CURVE.${c} must be positive bigint`)}const i=GP(e.p,n.Fp,r),s=GP(e.n,n.Fn,r),a=["Gx","Gy","a","b"];for(const c of a)if(!i.isValid(e[c]))throw new Error(`CURVE.${c} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:i,Fn:s}}BigInt(0),BigInt(1),BigInt(2),BigInt(8),mq("HashToScalar-");const km=BigInt(0),Kf=BigInt(1),rw=BigInt(2);function e2e(t){return g_(t,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...t})}function t2e(t){const e=e2e(t),{P:n,type:r,adjustScalarBytes:i,powPminus2:s,randomBytes:a}=e,c=r==="x25519";if(!c&&r!=="x448")throw new Error("invalid type");const u=a||Vd,d=c?255:448,h=c?32:56,p=BigInt(c?9:5),y=BigInt(c?121665:39081),g=c?rw**BigInt(254):rw**BigInt(447),b=c?BigInt(8)*rw**BigInt(251)-Kf:BigInt(4)*rw**BigInt(445)-Kf,v=g+b+Kf,E=U=>Ss(U,n),O=k(p);function k(U){return TI(E(U),h)}function A(U){const F=bi("u coordinate",U,h);return c&&(F[31]&=127),E(Hv(F))}function S(U){return Hv(i(bi("scalar",U,h)))}function C(U,F){const K=z(A(F),S(U));if(K===km)throw new Error("invalid private or public key received");return k(K)}function I(U){return C(U,O)}function $(U,F,K){const T=E(U*(F-K));return F=E(F-T),K=E(K+T),{x_2:F,x_3:K}}function z(U,F){S5("u",U,km,n),S5("scalar",F,g,v);const K=F,T=U;let x=Kf,N=km,L=U,P=Kf,H=km;for(let V=BigInt(d-1);V>=km;V--){const J=K>>V&Kf;H^=J,{x_2:x,x_3:L}=$(H,x,L),{x_2:N,x_3:P}=$(H,N,P),H=J;const X=x+N,Q=E(X*X),ge=x-N,we=E(ge*ge),xe=Q-we,Ee=L+P,$e=L-P,Fe=E($e*X),tt=E(Ee*ge),me=Fe+tt,St=Fe-tt;L=E(me*me),P=E(T*E(St*St)),x=E(Q*we),N=E(xe*(Q+E(y*xe)))}({x_2:x,x_3:L}=$(H,x,L)),{x_2:N,x_3:P}=$(H,N,P);const D=s(N);return E(x*D)}const j={secretKey:h,publicKey:h,seed:h},B=(U=u(h))=>(za(U,j.seed),U);function G(U){const F=B(U);return{secretKey:F,publicKey:I(F)}}return{keygen:G,getSharedSecret:(U,F)=>C(U,F),getPublicKey:U=>I(U),scalarMult:C,scalarMultBase:I,utils:{randomSecretKey:B,randomPrivateKey:B},GuBytes:O.slice(),lengths:j}}const n2e=BigInt(1),KP=BigInt(2),r2e=BigInt(3),i2e=BigInt(5);BigInt(8);const Vq=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),s2e={p:Vq,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function a2e(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=Vq,a=t*t%s*t%s,c=xa(a,KP,s)*a%s,u=xa(c,n2e,s)*t%s,d=xa(u,i2e,s)*u%s,h=xa(d,e,s)*d%s,p=xa(h,n,s)*h%s,y=xa(p,r,s)*p%s,g=xa(y,i,s)*y%s,b=xa(g,i,s)*y%s,v=xa(b,e,s)*d%s;return{pow_p_5_8:xa(v,KP,s)*t%s,b2:a}}function o2e(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const c2e=mu(s2e.p,{isLE:!0}),A5=(()=>{const t=c2e.ORDER;return t2e({P:t,type:"x25519",powPminus2:e=>{const{pow_p_5_8:n,b2:r}=a2e(e);return Ss(xa(n,r2e,t)*r,t)},adjustScalarBytes:o2e})})(),YP=(t,e)=>(t+(t>=0?e:-e)/Gq)/e;function l2e(t,e,n){const[[r,i],[s,a]]=e,c=YP(a*t,n),u=YP(-i*t,n);let d=t-c*r-u*s,h=-c*i-u*a;const p=d<xc,y=h<xc;p&&(d=-d),y&&(h=-h);const g=Xg(Math.ceil(Nq(n)/2))+Th;if(d<xc||d>=g||h<xc||h>=g)throw new Error("splitScalar (endomorphism): failed, k="+t);return{k1neg:p,k1:d,k2neg:y,k2:h}}function x5(t){if(!["compact","recovered","der"].includes(t))throw new Error('Signature format must be "compact", "recovered", or "der"');return t}function DA(t,e){const n={};for(let r of Object.keys(e))n[r]=t[r]===void 0?e[r]:t[r];return Wv(n.lowS,"lowS"),Wv(n.prehash,"prehash"),n.format!==void 0&&x5(n.format),n}class u2e extends Error{constructor(e=""){super(e)}}const wc={Err:u2e,_tlv:{encode:(t,e)=>{const{Err:n}=wc;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=nw(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?nw(i.length/2|128):"";return nw(t)+s+i+e},decode(t,e){const{Err:n}=wc;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let a=0;if(!s)a=i;else{const u=i&127;if(!u)throw new n("tlv.decode(long): indefinite length not supported");if(u>4)throw new n("tlv.decode(long): byte length is too big");const d=e.subarray(r,r+u);if(d.length!==u)throw new n("tlv.decode: length bytes not complete");if(d[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const h of d)a=a<<8|h;if(r+=u,a<128)throw new n("tlv.decode(long): not minimal encoding")}const c=e.subarray(r,r+a);if(c.length!==a)throw new n("tlv.decode: wrong value length");return{v:c,l:e.subarray(r+a)}}},_int:{encode(t){const{Err:e}=wc;if(t<xc)throw new e("integer: negative integers are not allowed");let n=nw(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=wc;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return y_(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=wc,i=bi("signature",t),{v:s,l:a}=r.decode(48,i);if(a.length)throw new e("invalid signature: left bytes after parsing");const{v:c,l:u}=r.decode(2,s),{v:d,l:h}=r.decode(2,u);if(h.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(c),s:n.decode(d)}},hexFromSig(t){const{_tlv:e,_int:n}=wc,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}},xc=BigInt(0),Th=BigInt(1),Gq=BigInt(2),iw=BigInt(3),d2e=BigInt(4);function dh(t,e){const{BYTES:n}=t;let r;if(typeof e=="bigint")r=e;else{let i=bi("private key",e);try{r=t.fromBytes(i)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof e}`)}}if(!t.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function f2e(t,e={}){const n=QEe("weierstrass",t,e),{Fp:r,Fn:i}=n;let s=n.CURVE;const{h:a,n:c}=s;g_(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:u}=e;if(u&&(!r.is0(s.a)||typeof u.beta!="bigint"||!Array.isArray(u.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const d=Yq(r,i);function h(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function p(U,F,K){const{x:T,y:x}=F.toAffine(),N=r.toBytes(T);if(Wv(K,"isCompressed"),K){h();const L=!r.isOdd(x);return Yl(Kq(L),N)}else return Yl(Uint8Array.of(4),N,r.toBytes(x))}function y(U){ad(U,void 0,"Point");const{publicKey:F,publicKeyUncompressed:K}=d,T=U.length,x=U[0],N=U.subarray(1);if(T===F&&(x===2||x===3)){const L=r.fromBytes(N);if(!r.isValid(L))throw new Error("bad point: is not on curve, wrong x");const P=v(L);let H;try{H=r.sqrt(P)}catch(V){const J=V instanceof Error?": "+V.message:"";throw new Error("bad point: is not on curve, sqrt error"+J)}h();const D=r.isOdd(H);return(x&1)===1!==D&&(H=r.neg(H)),{x:L,y:H}}else if(T===K&&x===4){const L=r.BYTES,P=r.fromBytes(N.subarray(0,L)),H=r.fromBytes(N.subarray(L,L*2));if(!E(P,H))throw new Error("bad point: is not on curve");return{x:P,y:H}}else throw new Error(`bad point: got length ${T}, expected compressed=${F} or uncompressed=${K}`)}const g=e.toBytes||p,b=e.fromBytes||y;function v(U){const F=r.sqr(U),K=r.mul(F,U);return r.add(r.add(K,r.mul(U,s.a)),s.b)}function E(U,F){const K=r.sqr(F),T=v(U);return r.eql(K,T)}if(!E(s.Gx,s.Gy))throw new Error("bad curve params: generator point");const O=r.mul(r.pow(s.a,iw),d2e),k=r.mul(r.sqr(s.b),BigInt(27));if(r.is0(r.add(O,k)))throw new Error("bad curve params: a or b");function A(U,F,K=!1){if(!r.isValid(F)||K&&r.is0(F))throw new Error(`bad point coordinate ${U}`);return F}function S(U){if(!(U instanceof j))throw new Error("ProjectivePoint expected")}function C(U){if(!u||!u.basises)throw new Error("no endo");return l2e(U,u.basises,i.ORDER)}const I=FP((U,F)=>{const{X:K,Y:T,Z:x}=U;if(r.eql(x,r.ONE))return{x:K,y:T};const N=U.is0();F==null&&(F=N?r.ONE:r.inv(x));const L=r.mul(K,F),P=r.mul(T,F),H=r.mul(x,F);if(N)return{x:r.ZERO,y:r.ZERO};if(!r.eql(H,r.ONE))throw new Error("invZ was invalid");return{x:L,y:P}}),$=FP(U=>{if(U.is0()){if(e.allowInfinityPoint&&!r.is0(U.Y))return;throw new Error("bad point: ZERO")}const{x:F,y:K}=U.toAffine();if(!r.isValid(F)||!r.isValid(K))throw new Error("bad point: x or y not field elements");if(!E(F,K))throw new Error("bad point: equation left != right");if(!U.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function z(U,F,K,T,x){return K=new j(r.mul(K.X,U),K.Y,K.Z),F=Vv(T,F),K=Vv(x,K),F.add(K)}class j{constructor(F,K,T){this.X=A("x",F),this.Y=A("y",K,!0),this.Z=A("z",T),Object.freeze(this)}static CURVE(){return s}static fromAffine(F){const{x:K,y:T}=F||{};if(!F||!r.isValid(K)||!r.isValid(T))throw new Error("invalid affine point");if(F instanceof j)throw new Error("projective point not allowed");return r.is0(K)&&r.is0(T)?j.ZERO:new j(K,T,r.ONE)}static fromBytes(F){const K=j.fromAffine(b(ad(F,void 0,"point")));return K.assertValidity(),K}static fromHex(F){return j.fromBytes(bi("pointHex",F))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(F=8,K=!0){return G.createCache(this,F),K||this.multiply(iw),this}assertValidity(){$(this)}hasEvenY(){const{y:F}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(F)}equals(F){S(F);const{X:K,Y:T,Z:x}=this,{X:N,Y:L,Z:P}=F,H=r.eql(r.mul(K,P),r.mul(N,x)),D=r.eql(r.mul(T,P),r.mul(L,x));return H&&D}negate(){return new j(this.X,r.neg(this.Y),this.Z)}double(){const{a:F,b:K}=s,T=r.mul(K,iw),{X:x,Y:N,Z:L}=this;let P=r.ZERO,H=r.ZERO,D=r.ZERO,V=r.mul(x,x),J=r.mul(N,N),X=r.mul(L,L),Q=r.mul(x,N);return Q=r.add(Q,Q),D=r.mul(x,L),D=r.add(D,D),P=r.mul(F,D),H=r.mul(T,X),H=r.add(P,H),P=r.sub(J,H),H=r.add(J,H),H=r.mul(P,H),P=r.mul(Q,P),D=r.mul(T,D),X=r.mul(F,X),Q=r.sub(V,X),Q=r.mul(F,Q),Q=r.add(Q,D),D=r.add(V,V),V=r.add(D,V),V=r.add(V,X),V=r.mul(V,Q),H=r.add(H,V),X=r.mul(N,L),X=r.add(X,X),V=r.mul(X,Q),P=r.sub(P,V),D=r.mul(X,J),D=r.add(D,D),D=r.add(D,D),new j(P,H,D)}add(F){S(F);const{X:K,Y:T,Z:x}=this,{X:N,Y:L,Z:P}=F;let H=r.ZERO,D=r.ZERO,V=r.ZERO;const J=s.a,X=r.mul(s.b,iw);let Q=r.mul(K,N),ge=r.mul(T,L),we=r.mul(x,P),xe=r.add(K,T),Ee=r.add(N,L);xe=r.mul(xe,Ee),Ee=r.add(Q,ge),xe=r.sub(xe,Ee),Ee=r.add(K,x);let $e=r.add(N,P);return Ee=r.mul(Ee,$e),$e=r.add(Q,we),Ee=r.sub(Ee,$e),$e=r.add(T,x),H=r.add(L,P),$e=r.mul($e,H),H=r.add(ge,we),$e=r.sub($e,H),V=r.mul(J,Ee),H=r.mul(X,we),V=r.add(H,V),H=r.sub(ge,V),V=r.add(ge,V),D=r.mul(H,V),ge=r.add(Q,Q),ge=r.add(ge,Q),we=r.mul(J,we),Ee=r.mul(X,Ee),ge=r.add(ge,we),we=r.sub(Q,we),we=r.mul(J,we),Ee=r.add(Ee,we),Q=r.mul(ge,Ee),D=r.add(D,Q),Q=r.mul($e,Ee),H=r.mul(xe,H),H=r.sub(H,Q),Q=r.mul(xe,ge),V=r.mul($e,V),V=r.add(V,Q),new j(H,D,V)}subtract(F){return this.add(F.negate())}is0(){return this.equals(j.ZERO)}multiply(F){const{endo:K}=e;if(!i.isValidNot0(F))throw new Error("invalid scalar: out of range");let T,x;const N=L=>G.cached(this,L,P=>RA(j,P));if(K){const{k1neg:L,k1:P,k2neg:H,k2:D}=C(F),{p:V,f:J}=N(P),{p:X,f:Q}=N(D);x=J.add(Q),T=z(K.beta,V,X,L,H)}else{const{p:L,f:P}=N(F);T=L,x=P}return RA(j,[T,x])[0]}multiplyUnsafe(F){const{endo:K}=e,T=this;if(!i.isValid(F))throw new Error("invalid scalar: out of range");if(F===xc||T.is0())return j.ZERO;if(F===Th)return T;if(G.hasCache(this))return this.multiply(F);if(K){const{k1neg:x,k1:N,k2neg:L,k2:P}=C(F),{p1:H,p2:D}=XEe(j,T,N,P);return z(K.beta,H,D,x,L)}else return G.unsafe(T,F)}multiplyAndAddUnsafe(F,K,T){const x=this.multiplyUnsafe(K).add(F.multiplyUnsafe(T));return x.is0()?void 0:x}toAffine(F){return I(this,F)}isTorsionFree(){const{isTorsionFree:F}=e;return a===Th?!0:F?F(j,this):G.unsafe(this,c).is0()}clearCofactor(){const{clearCofactor:F}=e;return a===Th?this:F?F(j,this):this.multiplyUnsafe(a)}isSmallOrder(){return this.multiplyUnsafe(a).is0()}toBytes(F=!0){return Wv(F,"isCompressed"),this.assertValidity(),g(j,this,F)}toHex(F=!0){return xh(this.toBytes(F))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(F=!0){return this.toBytes(F)}_setWindowSize(F){this.precompute(F)}static normalizeZ(F){return RA(j,F)}static msm(F,K){return JEe(j,i,F,K)}static fromPrivateKey(F){return j.BASE.multiply(dh(i,F))}}j.BASE=new j(s.Gx,s.Gy,r.ONE),j.ZERO=new j(r.ZERO,r.ONE,r.ZERO),j.Fp=r,j.Fn=i;const B=i.BITS,G=new ZEe(j,e.endo?Math.ceil(B/2):B);return j.BASE.precompute(8),j}function Kq(t){return Uint8Array.of(t?2:3)}function Yq(t,e){return{secretKey:e.BYTES,publicKey:1+t.BYTES,publicKeyUncompressed:1+2*t.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function h2e(t,e={}){const{Fn:n}=t,r=e.randomBytes||Vd,i=Object.assign(Yq(t.Fp,n),{seed:qq(n.ORDER)});function s(y){try{return!!dh(n,y)}catch{return!1}}function a(y,g){const{publicKey:b,publicKeyUncompressed:v}=i;try{const E=y.length;return g===!0&&E!==b||g===!1&&E!==v?!1:!!t.fromBytes(y)}catch{return!1}}function c(y=r(i.seed)){return GEe(ad(y,i.seed,"seed"),n.ORDER)}function u(y,g=!0){return t.BASE.multiply(dh(n,y)).toBytes(g)}function d(y){const g=c(y);return{secretKey:g,publicKey:u(g)}}function h(y){if(typeof y=="bigint")return!1;if(y instanceof t)return!0;const{secretKey:g,publicKey:b,publicKeyUncompressed:v}=i;if(n.allowedLengths||g===b)return;const E=bi("key",y).length;return E===b||E===v}function p(y,g,b=!0){if(h(y)===!0)throw new Error("first arg must be private key");if(h(g)===!1)throw new Error("second arg must be public key");const v=dh(n,y);return t.fromHex(g).multiply(v).toBytes(b)}return Object.freeze({getPublicKey:u,getSharedSecret:p,keygen:d,Point:t,utils:{isValidSecretKey:s,isValidPublicKey:a,randomSecretKey:c,isValidPrivateKey:s,randomPrivateKey:c,normPrivateKeyToScalar:y=>dh(n,y),precompute(y=8,g=t.BASE){return g.precompute(y,!1)}},lengths:i})}function p2e(t,e,n={}){d_(e),g_(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=n.randomBytes||Vd,i=n.hmac||((K,...T)=>p_(e,K,Yl(...T))),{Fp:s,Fn:a}=t,{ORDER:c,BITS:u}=a,{keygen:d,getPublicKey:h,getSharedSecret:p,utils:y,lengths:g}=h2e(t,n),b={prehash:!1,lowS:typeof n.lowS=="boolean"?n.lowS:!1,format:void 0,extraEntropy:!1},v="compact";function E(K){const T=c>>Th;return K>T}function O(K,T){if(!a.isValidNot0(T))throw new Error(`invalid signature ${K}: out of range 1..Point.Fn.ORDER`);return T}function k(K,T){x5(T);const x=g.signature,N=T==="compact"?x:T==="recovered"?x+1:void 0;return ad(K,N,`${T} signature`)}class A{constructor(T,x,N){this.r=O("r",T),this.s=O("s",x),N!=null&&(this.recovery=N),Object.freeze(this)}static fromBytes(T,x=v){k(T,x);let N;if(x==="der"){const{r:D,s:V}=wc.toSig(ad(T));return new A(D,V)}x==="recovered"&&(N=T[0],x="compact",T=T.subarray(1));const L=a.BYTES,P=T.subarray(0,L),H=T.subarray(L,L*2);return new A(a.fromBytes(P),a.fromBytes(H),N)}static fromHex(T,x){return this.fromBytes(Fv(T),x)}addRecoveryBit(T){return new A(this.r,this.s,T)}recoverPublicKey(T){const x=s.ORDER,{r:N,s:L,recovery:P}=this;if(P==null||![0,1,2,3].includes(P))throw new Error("recovery id invalid");if(c*Gq<x&&P>1)throw new Error("recovery id is ambiguous for h>1 curve");const H=P===2||P===3?N+c:N;if(!s.isValid(H))throw new Error("recovery id 2 or 3 invalid");const D=s.toBytes(H),V=t.fromBytes(Yl(Kq((P&1)===0),D)),J=a.inv(H),X=C(bi("msgHash",T)),Q=a.create(-X*J),ge=a.create(L*J),we=t.BASE.multiplyUnsafe(Q).add(V.multiplyUnsafe(ge));if(we.is0())throw new Error("point at infinify");return we.assertValidity(),we}hasHighS(){return E(this.s)}toBytes(T=v){if(x5(T),T==="der")return Fv(wc.hexFromSig(this));const x=a.toBytes(this.r),N=a.toBytes(this.s);if(T==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return Yl(Uint8Array.of(this.recovery),x,N)}return Yl(x,N)}toHex(T){return xh(this.toBytes(T))}assertValidity(){}static fromCompact(T){return A.fromBytes(bi("sig",T),"compact")}static fromDER(T){return A.fromBytes(bi("sig",T),"der")}normalizeS(){return this.hasHighS()?new A(this.r,a.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return xh(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return xh(this.toBytes("compact"))}}const S=n.bits2int||function(K){if(K.length>8192)throw new Error("input is too large");const T=y_(K),x=K.length*8-u;return x>0?T>>BigInt(x):T},C=n.bits2int_modN||function(K){return a.create(S(K))},I=Xg(u);function $(K){return S5("num < 2^"+u,K,xc,I),a.toBytes(K)}function z(K,T){return ad(K,void 0,"message"),T?ad(e(K),void 0,"prehashed message"):K}function j(K,T,x){if(["recovered","canonical"].some(ge=>ge in x))throw new Error("sign() legacy options not supported");const{lowS:N,prehash:L,extraEntropy:P}=DA(x,b);K=z(K,L);const H=C(K),D=dh(a,T),V=[$(D),$(H)];if(P!=null&&P!==!1){const ge=P===!0?r(g.secretKey):P;V.push(bi("extraEntropy",ge))}const J=Yl(...V),X=H;function Q(ge){const we=S(ge);if(!a.isValidNot0(we))return;const xe=a.inv(we),Ee=t.BASE.multiply(we).toAffine(),$e=a.create(Ee.x);if($e===xc)return;const Fe=a.create(xe*a.create(X+$e*D));if(Fe===xc)return;let tt=(Ee.x===$e?0:2)|Number(Ee.y&Th),me=Fe;return N&&E(Fe)&&(me=a.neg(Fe),tt^=1),new A($e,me,tt)}return{seed:J,k2sig:Q}}function B(K,T,x={}){K=bi("message",K);const{seed:N,k2sig:L}=j(K,T,x);return BEe(e.outputLen,a.BYTES,i)(N,L)}function G(K){let T;const x=typeof K=="string"||u_(K),N=!x&&K!==null&&typeof K=="object"&&typeof K.r=="bigint"&&typeof K.s=="bigint";if(!x&&!N)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(N)T=new A(K.r,K.s);else if(x){try{T=A.fromBytes(bi("sig",K),"der")}catch(L){if(!(L instanceof wc.Err))throw L}if(!T)try{T=A.fromBytes(bi("sig",K),"compact")}catch{return!1}}return T||!1}function U(K,T,x,N={}){const{lowS:L,prehash:P,format:H}=DA(N,b);if(x=bi("publicKey",x),T=z(bi("message",T),P),"strict"in N)throw new Error("options.strict was renamed to lowS");const D=H===void 0?G(K):A.fromBytes(bi("sig",K),H);if(D===!1)return!1;try{const V=t.fromBytes(x);if(L&&D.hasHighS())return!1;const{r:J,s:X}=D,Q=C(T),ge=a.inv(X),we=a.create(Q*ge),xe=a.create(J*ge),Ee=t.BASE.multiplyUnsafe(we).add(V.multiplyUnsafe(xe));return Ee.is0()?!1:a.create(Ee.x)===J}catch{return!1}}function F(K,T,x={}){const{prehash:N}=DA(x,b);return T=z(T,N),A.fromBytes(K,"recovered").recoverPublicKey(T).toBytes()}return Object.freeze({keygen:d,getPublicKey:h,getSharedSecret:p,utils:y,lengths:g,Point:t,sign:B,verify:U,recoverPublicKey:F,Signature:A,hash:e})}function m2e(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp;let r=t.allowedPrivateKeyLengths?Array.from(new Set(t.allowedPrivateKeyLengths.map(a=>Math.ceil(a/2)))):void 0;const i=mu(e.n,{BITS:t.nBitLength,allowedLengths:r,modFromBytes:t.wrapPrivateKey}),s={Fp:n,Fn:i,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:s}}function y2e(t){const{CURVE:e,curveOpts:n}=m2e(t),r={hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,hash:t.hash,ecdsaOpts:r}}function g2e(t,e){const n=e.Point;return Object.assign({},e,{ProjectivePoint:n,CURVE:Object.assign({},t,zq(n.Fn.ORDER,n.Fn.BITS))})}function b2e(t){const{CURVE:e,curveOpts:n,hash:r,ecdsaOpts:i}=y2e(t),s=f2e(e,n),a=p2e(s,r,i);return g2e(t,a)}function T5(t,e){const n=r=>b2e({...t,hash:r});return{...n(e),create:n}}const Zq={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},Xq={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},Jq={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},w2e=mu(Zq.p),v2e=mu(Xq.p),_2e=mu(Jq.p),E2e=T5({...Zq,Fp:w2e,lowS:!1},h_);T5({...Xq,Fp:v2e,lowS:!1},O_e),T5({...Jq,Fp:_2e,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},C_e);const S2e=E2e,Qq="base10",Ci="base16",Ki="base64pad",Zl="base64url",Jg="utf8",eW=0,Nc=1,Qg=2,A2e=0,ZP=1,my=12,CI=32;function x2e(){const t=A5.utils.randomPrivateKey(),e=A5.getPublicKey(t);return{privateKey:es(t,Ci),publicKey:es(e,Ci)}}function I5(){const t=Vd(CI);return es(t,Ci)}function T2e(t,e){const n=A5.getSharedSecret(ra(t,Ci),ra(e,Ci)),r=UEe(m_,n,void 0,void 0,CI);return es(r,Ci)}function $w(t){const e=m_(ra(t,Ci));return es(e,Ci)}function ea(t){const e=m_(ra(t,Jg));return es(e,Ci)}function tW(t){return ra(`${t}`,Qq)}function Pd(t){return Number(es(t,Qq))}function nW(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function rW(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=(4-e.length%4)%4;return e+"=".repeat(n)}function I2e(t){const e=tW(typeof t.type<"u"?t.type:eW);if(Pd(e)===Nc&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof t.senderPublicKey<"u"?ra(t.senderPublicKey,Ci):void 0,r=typeof t.iv<"u"?ra(t.iv,Ci):Vd(my),i=ra(t.symKey,Ci),s=Oq(i,r).encrypt(ra(t.message,Jg)),a=iW({type:e,sealed:s,iv:r,senderPublicKey:n});return t.encoding===Zl?nW(a):a}function C2e(t){const e=ra(t.symKey,Ci),{sealed:n,iv:r}=ag({encoded:t.encoded,encoding:t.encoding}),i=Oq(e,r).decrypt(n);if(i===null)throw new Error("Failed to decrypt");return es(i,Jg)}function O2e(t,e){const n=tW(Qg),r=Vd(my),i=ra(t,Jg),s=iW({type:n,sealed:i,iv:r});return e===Zl?nW(s):s}function k2e(t,e){const{sealed:n}=ag({encoded:t,encoding:e});return es(n,Jg)}function iW(t){if(Pd(t.type)===Qg)return es(py([t.type,t.sealed]),Ki);if(Pd(t.type)===Nc){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return es(py([t.type,t.senderPublicKey,t.iv,t.sealed]),Ki)}return es(py([t.type,t.iv,t.sealed]),Ki)}function ag(t){const e=(t.encoding||Ki)===Zl?rW(t.encoded):t.encoded,n=ra(e,Ki),r=n.slice(A2e,ZP),i=ZP;if(Pd(r)===Nc){const u=i+CI,d=u+my,h=n.slice(i,u),p=n.slice(u,d),y=n.slice(d);return{type:r,sealed:y,iv:p,senderPublicKey:h}}if(Pd(r)===Qg){const u=n.slice(i),d=Vd(my);return{type:r,sealed:u,iv:d}}const s=i+my,a=n.slice(i,s),c=n.slice(s);return{type:r,sealed:c,iv:a}}function R2e(t,e){const n=ag({encoded:t,encoding:e?.encoding});return sW({type:Pd(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?es(n.senderPublicKey,Ci):void 0,receiverPublicKey:e?.receiverPublicKey})}function sW(t){const e=t?.type||eW;if(e===Nc){if(typeof t?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof t?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t?.senderPublicKey,receiverPublicKey:t?.receiverPublicKey}}function XP(t){return t.type===Nc&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function JP(t){return t.type===Qg}function N2e(t){const e=Buffer.from(t.x,"base64"),n=Buffer.from(t.y,"base64");return py([new Uint8Array([4]),e,n])}function $2e(t,e){const[n,r,i]=t.split("."),s=Buffer.from(rW(i),"base64");if(s.length!==64)throw new Error("Invalid signature length");const a=s.slice(0,32),c=s.slice(32,64),u=`${n}.${r}`,d=m_(u),h=N2e(e);if(!S2e.verify(py([a,c]),d,h))throw new Error("Invalid signature");return h5(t).payload}const P2e="irn";function Gv(t){return t?.relay||{protocol:P2e}}function fh(t){const e=Wve[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}var D2e=Object.defineProperty,U2e=Object.defineProperties,M2e=Object.getOwnPropertyDescriptors,QP=Object.getOwnPropertySymbols,B2e=Object.prototype.hasOwnProperty,L2e=Object.prototype.propertyIsEnumerable,eD=(t,e,n)=>e in t?D2e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,UA=(t,e)=>{for(var n in e||(e={}))B2e.call(e,n)&&eD(t,n,e[n]);if(QP)for(var n of QP(e))L2e.call(e,n)&&eD(t,n,e[n]);return t},j2e=(t,e)=>U2e(t,M2e(e));function z2e(t,e="-"){const n={},r="relay"+e;return Object.keys(t).forEach(i=>{if(i.startsWith(r)){const s=i.replace(r,""),a=t[i];n[s]=a}}),n}function tD(t){if(!t.includes("wc:")){const d=lq(t);d!=null&&d.includes("wc:")&&(t=d)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),n=t.indexOf("?")!==-1?t.indexOf("?"):void 0,r=t.substring(0,e),i=t.substring(e+1,n).split("@"),s=typeof n<"u"?t.substring(n):"",a=new URLSearchParams(s),c=Object.fromEntries(a.entries()),u=typeof c.methods=="string"?c.methods.split(","):void 0;return{protocol:r,topic:F2e(i[0]),version:parseInt(i[1],10),symKey:c.symKey,relay:z2e(c),methods:u,expiryTimestamp:c.expiryTimestamp?parseInt(c.expiryTimestamp,10):void 0}}function F2e(t){return t.startsWith("//")?t.substring(2):t}function q2e(t,e="-"){const n="relay",r={};return Object.keys(t).forEach(i=>{const s=i,a=n+e+s;t[s]&&(r[a]=t[s])}),r}function nD(t){const e=new URLSearchParams,n=UA(UA(j2e(UA({},q2e(t.relay)),{symKey:t.symKey}),t.expiryTimestamp&&{expiryTimestamp:t.expiryTimestamp.toString()}),t.methods&&{methods:t.methods.join(",")});return Object.entries(n).sort(([r],[i])=>r.localeCompare(i)).forEach(([r,i])=>{i!==void 0&&e.append(r,String(i))}),`${t.protocol}:${t.topic}@${t.version}?${e}`}function sw(t,e,n){return`${t}?wc_ev=${n}&topic=${e}`}var W2e=Object.defineProperty,H2e=Object.defineProperties,V2e=Object.getOwnPropertyDescriptors,rD=Object.getOwnPropertySymbols,G2e=Object.prototype.hasOwnProperty,K2e=Object.prototype.propertyIsEnumerable,iD=(t,e,n)=>e in t?W2e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Y2e=(t,e)=>{for(var n in e||(e={}))G2e.call(e,n)&&iD(t,n,e[n]);if(rD)for(var n of rD(e))K2e.call(e,n)&&iD(t,n,e[n]);return t},Z2e=(t,e)=>H2e(t,V2e(e));function pp(t){const e=[];return t.forEach(n=>{const[r,i]=n.split(":");e.push(`${r}:${i}`)}),e}function X2e(t){const e=[];return Object.values(t).forEach(n=>{e.push(...pp(n.accounts))}),e}function J2e(t,e){const n=[];return Object.values(t).forEach(r=>{pp(r.accounts).includes(e)&&n.push(...r.methods)}),n}function Q2e(t,e){const n=[];return Object.values(t).forEach(r=>{pp(r.accounts).includes(e)&&n.push(...r.events)}),n}function b_(t){return t.includes(":")}function hh(t){return b_(t)?t.split(":")[0]:t}function sD(t){var e,n,r;const i={};if(!_o(t))return i;for(const[s,a]of Object.entries(t)){const c=b_(s)?[s]:a.chains,u=a.methods||[],d=a.events||[],h=hh(s);i[h]=Z2e(Y2e({},i[h]),{chains:vo(c,(e=i[h])==null?void 0:e.chains),methods:vo(u,(n=i[h])==null?void 0:n.methods),events:vo(d,(r=i[h])==null?void 0:r.events)})}return i}function eSe(t){const e={};return t?.forEach(n=>{var r;const[i,s]=n.split(":");e[i]||(e[i]={accounts:[],chains:[],events:[],methods:[]}),e[i].accounts.push(n),(r=e[i].chains)==null||r.push(`${i}:${s}`)}),e}function aD(t,e){e=e.map(r=>r.replace("did:pkh:",""));const n=eSe(e);for(const[r,i]of Object.entries(n))i.methods?i.methods=vo(i.methods,t):i.methods=t,i.events=["chainChanged","accountsChanged"];return n}function tSe(t,e){var n,r,i,s,a,c;const u=sD(t),d=sD(e),h={},p=Object.keys(u).concat(Object.keys(d));for(const y of p)h[y]={chains:vo((n=u[y])==null?void 0:n.chains,(r=d[y])==null?void 0:r.chains),methods:vo((i=u[y])==null?void 0:i.methods,(s=d[y])==null?void 0:s.methods),events:vo((a=u[y])==null?void 0:a.events,(c=d[y])==null?void 0:c.events)};return h}const nSe={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},rSe={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Ue(t,e){const{message:n,code:r}=rSe[t];return{message:e?`${n} ${e}`:n,code:r}}function Un(t,e){const{message:n,code:r}=nSe[t];return{message:e?`${n} ${e}`:n,code:r}}function ia(t,e){return!!Array.isArray(t)}function _o(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function Ir(t){return typeof t>"u"}function mr(t,e){return e&&Ir(t)?!0:typeof t=="string"&&!!t.trim().length}function OI(t,e){return e&&Ir(t)?!0:typeof t=="number"&&!isNaN(t)}function iSe(t,e){const{requiredNamespaces:n}=e,r=Object.keys(t.namespaces),i=Object.keys(n);let s=!0;return sd(i,r)?(r.forEach(a=>{const{accounts:c,methods:u,events:d}=t.namespaces[a],h=pp(c),p=n[a];(!sd(iq(a,p),h)||!sd(p.methods,u)||!sd(p.events,d))&&(s=!1)}),s):!1}function Kv(t){return mr(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function sSe(t){if(mr(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const n=e[0]+":"+e[1];return!!e[2]&&Kv(n)}}return!1}function aSe(t){function e(n){try{return typeof new URL(n)<"u"}catch{return!1}}try{if(mr(t,!1)){if(e(t))return!0;const n=lq(t);return e(n)}}catch{}return!1}function oSe(t){var e;return(e=t?.proposer)==null?void 0:e.publicKey}function cSe(t){return t?.topic}function lSe(t,e){let n=null;return mr(t?.publicKey,!1)||(n=Ue("MISSING_OR_INVALID",`${e} controller public key should be a string`)),n}function oD(t){let e=!0;return ia(t)?t.length&&(e=t.every(n=>mr(n,!1))):e=!1,e}function uSe(t,e,n){let r=null;return ia(e)&&e.length?e.forEach(i=>{r||Kv(i)||(r=Un("UNSUPPORTED_CHAINS",`${n}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):Kv(t)||(r=Un("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}function dSe(t,e,n){let r=null;return Object.entries(t).forEach(([i,s])=>{if(r)return;const a=uSe(i,iq(i,s),`${e} ${n}`);a&&(r=a)}),r}function fSe(t,e){let n=null;return ia(t)?t.forEach(r=>{n||sSe(r)||(n=Un("UNSUPPORTED_ACCOUNTS",`${e}, account ${r} should be a string and conform to "namespace:chainId:address" format`))}):n=Un("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function hSe(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const i=fSe(r?.accounts,`${e} namespace`);i&&(n=i)}),n}function pSe(t,e){let n=null;return oD(t?.methods)?oD(t?.events)||(n=Un("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):n=Un("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),n}function aW(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const i=pSe(r,`${e}, namespace`);i&&(n=i)}),n}function mSe(t,e,n){let r=null;if(t&&_o(t)){const i=aW(t,e);i&&(r=i);const s=dSe(t,e,n);s&&(r=s)}else r=Ue("MISSING_OR_INVALID",`${e}, ${n} should be an object with data`);return r}function MA(t,e){let n=null;if(t&&_o(t)){const r=aW(t,e);r&&(n=r);const i=hSe(t,e);i&&(n=i)}else n=Ue("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return n}function oW(t){return mr(t.protocol,!0)}function ySe(t,e){let n=!1;return t?t&&ia(t)&&t.length&&t.forEach(r=>{n=oW(r)}):n=!0,n}function gSe(t){return typeof t=="number"}function Wi(t){return typeof t<"u"&&typeof t!==null}function bSe(t){return!(!t||typeof t!="object"||!t.code||!OI(t.code,!1)||!t.message||!mr(t.message,!1))}function wSe(t){return!(Ir(t)||!mr(t.method,!1))}function vSe(t){return!(Ir(t)||Ir(t.result)&&Ir(t.error)||!OI(t.id,!1)||!mr(t.jsonrpc,!1))}function _Se(t){return!(Ir(t)||!mr(t.name,!1))}function cD(t,e){return!(!Kv(e)||!X2e(t).includes(e))}function ESe(t,e,n){return mr(n,!1)?J2e(t,e).includes(n):!1}function SSe(t,e,n){return mr(n,!1)?Q2e(t,e).includes(n):!1}function lD(t,e,n){let r=null;const i=ASe(t),s=xSe(e),a=Object.keys(i),c=Object.keys(s),u=uD(Object.keys(t)),d=uD(Object.keys(e)),h=u.filter(p=>!d.includes(p));return h.length&&(r=Ue("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.
      Required: ${h.toString()}
      Received: ${Object.keys(e).toString()}`)),sd(a,c)||(r=Ue("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.
      Required: ${a.toString()}
      Approved: ${c.toString()}`)),Object.keys(e).forEach(p=>{if(!p.includes(":")||r)return;const y=pp(e[p].accounts);y.includes(p)||(r=Ue("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${p}
        Required: ${p}
        Approved: ${y.toString()}`))}),a.forEach(p=>{r||(sd(i[p].methods,s[p].methods)?sd(i[p].events,s[p].events)||(r=Ue("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${p}`)):r=Ue("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${p}`))}),r}function ASe(t){const e={};return Object.keys(t).forEach(n=>{var r;n.includes(":")?e[n]=t[n]:(r=t[n].chains)==null||r.forEach(i=>{e[i]={methods:t[n].methods,events:t[n].events}})}),e}function uD(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function xSe(t){const e={};return Object.keys(t).forEach(n=>{n.includes(":")?e[n]=t[n]:pp(t[n].accounts)?.forEach(i=>{e[i]={accounts:t[n].accounts.filter(s=>s.includes(`${i}:`)),methods:t[n].methods,events:t[n].events}})}),e}function TSe(t,e){return OI(t,!1)&&t<=e.max&&t>=e.min}function dD(){const t=Yg();return new Promise(e=>{switch(t){case xs.browser:e(ISe());break;case xs.reactNative:e(CSe());break;case xs.node:e(OSe());break;default:e(!0)}})}function ISe(){return hp()&&navigator?.onLine}async function CSe(){return pu()&&typeof global<"u"&&global!=null&&global.NetInfo?(await(global==null?void 0:global.NetInfo.fetch()))?.isConnected:!0}function OSe(){return!0}function kSe(t){switch(Yg()){case xs.browser:RSe(t);break;case xs.reactNative:NSe(t);break}}function RSe(t){!pu()&&hp()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function NSe(t){pu()&&typeof global<"u"&&global!=null&&global.NetInfo&&global?.NetInfo.addEventListener(e=>t(e?.isConnected))}function $Se(){var t;return hp()&&Lc.getDocument()?((t=Lc.getDocument())==null?void 0:t.visibilityState)==="visible":!0}const BA={};class Rm{static get(e){return BA[e]}static set(e,n){BA[e]=n}static delete(e){delete BA[e]}}function PSe(t){const e=Vg.decode(t);if(e.length<33)throw new Error("Too short to contain a public key");return e.slice(1,33)}function DSe({publicKey:t,signature:e,payload:n}){var r;const i=C5(n.method),s=128|parseInt(((r=n.version)==null?void 0:r.toString())||"4"),a=BSe(n.address),c=n.era==="00"?new Uint8Array([0]):C5(n.era);if(c.length!==1&&c.length!==2)throw new Error("Invalid era length");const u=parseInt(n.nonce,16),d=new Uint8Array([u&255,u>>8&255]),h=BigInt(`0x${MSe(n.tip)}`),p=jSe(h),y=new Uint8Array([0,...t,a,...e,...c,...d,...p,...i]),g=LSe(y.length+1);return new Uint8Array([...g,s,...y])}function USe(t){const e=C5(t),n=Kve.blake2b(e,void 0,32);return"0x"+Buffer.from(n).toString("hex")}function C5(t){return new Uint8Array(t.replace(/^0x/,"").match(/.{1,2}/g).map(e=>parseInt(e,16)))}function MSe(t){return t.startsWith("0x")?t.slice(2):t}function BSe(t){const e=Vg.decode(t)[0];return e===42?0:e===60?2:1}function LSe(t){if(t<64)return new Uint8Array([t<<2]);if(t<16384){const e=t<<2|1;return new Uint8Array([e&255,e>>8&255])}else if(t<1<<30){const e=t<<2|2;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}else throw new Error("Compact encoding > 2^30 not supported")}function jSe(t){if(t<BigInt(1)<<BigInt(6))return new Uint8Array([Number(t<<BigInt(2))]);if(t<BigInt(1)<<BigInt(14)){const e=t<<BigInt(2)|BigInt(1);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255))])}else if(t<BigInt(1)<<BigInt(30)){const e=t<<BigInt(2)|BigInt(2);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255)),Number(e>>BigInt(16)&BigInt(255)),Number(e>>BigInt(24)&BigInt(255))])}else throw new Error("BigInt compact encoding not supported > 2^30")}function zSe(t){const e=Uint8Array.from(Buffer.from(t.signature,"hex")),n=PSe(t.transaction.address),r=DSe({publicKey:n,signature:e,payload:t.transaction}),i=Buffer.from(r).toString("hex");return USe(i)}function kI({logger:t,name:e}){const n=typeof t=="string"?rq({opts:{level:t,name:e}}).logger:t;return n.level=typeof t=="string"?t:t.level,n}class Gd{}let FSe=class extends Gd{constructor(e){super()}};const fD=Me.FIVE_SECONDS,Kd={pulse:"heartbeat_pulse"};let qSe=class cW extends FSe{constructor(e){super(e),this.events=new ks.EventEmitter,this.interval=fD,this.interval=e?.interval||fD}static async init(e){const n=new cW(e);return await n.init(),n}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),Me.toMiliseconds(this.interval))}pulse(){this.events.emit(Kd.pulse)}};function WSe(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function Mr(t,...e){try{return WSe(t(...e))}catch(n){return Promise.reject(n)}}function HSe(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function VSe(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function Pw(t){if(HSe(t))return String(t);if(VSe(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return Pw(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const O5="base64:";function GSe(t){return typeof t=="string"?t:O5+ZSe(t)}function KSe(t){return typeof t!="string"||!t.startsWith(O5)?t:YSe(t.slice(O5.length))}function YSe(t){return globalThis.Buffer?Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function ZSe(t){return globalThis.Buffer?Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function qi(t){return t&&t.split("?")[0]?.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,"")||""}function XSe(...t){return qi(t.join(":"))}function aw(t){return t=qi(t),t?t+":":""}function JSe(t,e){if(e===void 0)return!0;let n=0,r=t.indexOf(":");for(;r>-1;)n++,r=t.indexOf(":",r+1);return n<=e}function QSe(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}const eAe="memory",tAe=()=>{const t=new Map;return{name:eAe,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,n){t.set(e,n)},setItemRaw(e,n){t.set(e,n)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function nAe(t={}){const e={mounts:{"":t.driver||tAe()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},n=d=>{for(const h of e.mountpoints)if(d.startsWith(h))return{base:h,relativeKey:d.slice(h.length),driver:e.mounts[h]};return{base:"",relativeKey:d,driver:e.mounts[""]}},r=(d,h)=>e.mountpoints.filter(p=>p.startsWith(d)||h&&d.startsWith(p)).map(p=>({relativeBase:d.length>p.length?d.slice(p.length):void 0,mountpoint:p,driver:e.mounts[p]})),i=(d,h)=>{if(e.watching){h=qi(h);for(const p of e.watchListeners)p(d,h)}},s=async()=>{if(!e.watching){e.watching=!0;for(const d in e.mounts)e.unwatch[d]=await hD(e.mounts[d],i,d)}},a=async()=>{if(e.watching){for(const d in e.unwatch)await e.unwatch[d]();e.unwatch={},e.watching=!1}},c=(d,h,p)=>{const y=new Map,g=b=>{let v=y.get(b.base);return v||(v={driver:b.driver,base:b.base,items:[]},y.set(b.base,v)),v};for(const b of d){const v=typeof b=="string",E=qi(v?b:b.key),O=v?void 0:b.value,k=v||!b.options?h:{...h,...b.options},A=n(E);g(A).items.push({key:E,value:O,relativeKey:A.relativeKey,options:k})}return Promise.all([...y.values()].map(b=>p(b))).then(b=>b.flat())},u={hasItem(d,h={}){d=qi(d);const{relativeKey:p,driver:y}=n(d);return Mr(y.hasItem,p,h)},getItem(d,h={}){d=qi(d);const{relativeKey:p,driver:y}=n(d);return Mr(y.getItem,p,h).then(g=>Gm(g))},getItems(d,h={}){return c(d,h,p=>p.driver.getItems?Mr(p.driver.getItems,p.items.map(y=>({key:y.relativeKey,options:y.options})),h).then(y=>y.map(g=>({key:XSe(p.base,g.key),value:Gm(g.value)}))):Promise.all(p.items.map(y=>Mr(p.driver.getItem,y.relativeKey,y.options).then(g=>({key:y.key,value:Gm(g)})))))},getItemRaw(d,h={}){d=qi(d);const{relativeKey:p,driver:y}=n(d);return y.getItemRaw?Mr(y.getItemRaw,p,h):Mr(y.getItem,p,h).then(g=>KSe(g))},async setItem(d,h,p={}){if(h===void 0)return u.removeItem(d);d=qi(d);const{relativeKey:y,driver:g}=n(d);g.setItem&&(await Mr(g.setItem,y,Pw(h),p),g.watch||i("update",d))},async setItems(d,h){await c(d,h,async p=>{if(p.driver.setItems)return Mr(p.driver.setItems,p.items.map(y=>({key:y.relativeKey,value:Pw(y.value),options:y.options})),h);p.driver.setItem&&await Promise.all(p.items.map(y=>Mr(p.driver.setItem,y.relativeKey,Pw(y.value),y.options)))})},async setItemRaw(d,h,p={}){if(h===void 0)return u.removeItem(d,p);d=qi(d);const{relativeKey:y,driver:g}=n(d);if(g.setItemRaw)await Mr(g.setItemRaw,y,h,p);else if(g.setItem)await Mr(g.setItem,y,GSe(h),p);else return;g.watch||i("update",d)},async removeItem(d,h={}){typeof h=="boolean"&&(h={removeMeta:h}),d=qi(d);const{relativeKey:p,driver:y}=n(d);y.removeItem&&(await Mr(y.removeItem,p,h),(h.removeMeta||h.removeMata)&&await Mr(y.removeItem,p+"$",h),y.watch||i("remove",d))},async getMeta(d,h={}){typeof h=="boolean"&&(h={nativeOnly:h}),d=qi(d);const{relativeKey:p,driver:y}=n(d),g=Object.create(null);if(y.getMeta&&Object.assign(g,await Mr(y.getMeta,p,h)),!h.nativeOnly){const b=await Mr(y.getItem,p+"$",h).then(v=>Gm(v));b&&typeof b=="object"&&(typeof b.atime=="string"&&(b.atime=new Date(b.atime)),typeof b.mtime=="string"&&(b.mtime=new Date(b.mtime)),Object.assign(g,b))}return g},setMeta(d,h,p={}){return this.setItem(d+"$",h,p)},removeMeta(d,h={}){return this.removeItem(d+"$",h)},async getKeys(d,h={}){d=aw(d);const p=r(d,!0);let y=[];const g=[];let b=!0;for(const E of p){E.driver.flags?.maxDepth||(b=!1);const O=await Mr(E.driver.getKeys,E.relativeBase,h);for(const k of O){const A=E.mountpoint+qi(k);y.some(S=>A.startsWith(S))||g.push(A)}y=[E.mountpoint,...y.filter(k=>!k.startsWith(E.mountpoint))]}const v=h.maxDepth!==void 0&&!b;return g.filter(E=>(!v||JSe(E,h.maxDepth))&&QSe(E,d))},async clear(d,h={}){d=aw(d),await Promise.all(r(d,!1).map(async p=>{if(p.driver.clear)return Mr(p.driver.clear,p.relativeBase,h);if(p.driver.removeItem){const y=await p.driver.getKeys(p.relativeBase||"",h);return Promise.all(y.map(g=>p.driver.removeItem(g,h)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(d=>pD(d)))},async watch(d){return await s(),e.watchListeners.push(d),async()=>{e.watchListeners=e.watchListeners.filter(h=>h!==d),e.watchListeners.length===0&&await a()}},async unwatch(){e.watchListeners=[],await a()},mount(d,h){if(d=aw(d),d&&e.mounts[d])throw new Error(`already mounted at ${d}`);return d&&(e.mountpoints.push(d),e.mountpoints.sort((p,y)=>y.length-p.length)),e.mounts[d]=h,e.watching&&Promise.resolve(hD(h,i,d)).then(p=>{e.unwatch[d]=p}).catch(console.error),u},async unmount(d,h=!0){d=aw(d),!(!d||!e.mounts[d])&&(e.watching&&d in e.unwatch&&(e.unwatch[d]?.(),delete e.unwatch[d]),h&&await pD(e.mounts[d]),e.mountpoints=e.mountpoints.filter(p=>p!==d),delete e.mounts[d])},getMount(d=""){d=qi(d)+":";const h=n(d);return{driver:h.driver,base:h.base}},getMounts(d="",h={}){return d=qi(d),r(d,h.parents).map(y=>({driver:y.driver,base:y.mountpoint}))},keys:(d,h={})=>u.getKeys(d,h),get:(d,h={})=>u.getItem(d,h),set:(d,h,p={})=>u.setItem(d,h,p),has:(d,h={})=>u.hasItem(d,h),del:(d,h={})=>u.removeItem(d,h),remove:(d,h={})=>u.removeItem(d,h)};return u}function hD(t,e,n){return t.watch?t.watch((r,i)=>e(r,n+i)):()=>{}}async function pD(t){typeof t.dispose=="function"&&await Mr(t.dispose)}function Yd(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function lW(t,e){const n=indexedDB.open(t);n.onupgradeneeded=()=>n.result.createObjectStore(e);const r=Yd(n);return(i,s)=>r.then(a=>s(a.transaction(e,i).objectStore(e)))}let LA;function e0(){return LA||(LA=lW("keyval-store","keyval")),LA}function mD(t,e=e0()){return e("readonly",n=>Yd(n.get(t)))}function rAe(t,e,n=e0()){return n("readwrite",r=>(r.put(e,t),Yd(r.transaction)))}function iAe(t,e=e0()){return e("readwrite",n=>(n.delete(t),Yd(n.transaction)))}function sAe(t=e0()){return t("readwrite",e=>(e.clear(),Yd(e.transaction)))}function aAe(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},Yd(t.transaction)}function oAe(t=e0()){return t("readonly",e=>{if(e.getAllKeys)return Yd(e.getAllKeys());const n=[];return aAe(e,r=>n.push(r.key)).then(()=>n)})}const cAe="idb-keyval";var lAe=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",n=i=>e+i;let r;return t.dbName&&t.storeName&&(r=lW(t.dbName,t.storeName)),{name:cAe,options:t,async hasItem(i){return!(typeof await mD(n(i),r)>"u")},async getItem(i){return await mD(n(i),r)??null},setItem(i,s){return rAe(n(i),s,r)},removeItem(i){return iAe(n(i),r)},getKeys(){return oAe(r)},clear(){return sAe(r)}}};const uAe="WALLET_CONNECT_V2_INDEXED_DB",dAe="keyvaluestorage";let fAe=class{constructor(){this.indexedDb=nAe({driver:lAe({dbName:uAe,storeName:dAe})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const n=await this.indexedDb.getItem(e);if(n!==null)return n}async setItem(e,n){await this.indexedDb.setItem(e,jc(n))}async removeItem(e){await this.indexedDb.removeItem(e)}};var jA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Dw={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(n){return this.hasOwnProperty(n)?String(this[n]):null},t.prototype.setItem=function(n,r){this[n]=String(r)},t.prototype.removeItem=function(n){delete this[n]},t.prototype.clear=function(){const n=this;Object.keys(n).forEach(function(r){n[r]=void 0,delete n[r]})},t.prototype.key=function(n){return n=n||0,Object.keys(this)[n]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof jA<"u"&&jA.localStorage?Dw.exports=jA.localStorage:typeof window<"u"&&window.localStorage?Dw.exports=window.localStorage:Dw.exports=new e})();function hAe(t){var e;return[t[0],Nd((e=t[1])!=null?e:"")]}let pAe=class{constructor(){this.localStorage=Dw.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(hAe)}async getItem(e){const n=this.localStorage.getItem(e);if(n!==null)return Nd(n)}async setItem(e,n){this.localStorage.setItem(e,jc(n))}async removeItem(e){this.localStorage.removeItem(e)}};const mAe="wc_storage_version",yD=1,yAe=async(t,e,n)=>{const r=mAe,i=await e.getItem(r);if(i&&i>=yD){n(e);return}const s=await t.getKeys();if(!s.length){n(e);return}const a=[];for(;s.length;){const c=s.shift();if(!c)continue;const u=c.toLowerCase();if(u.includes("wc@")||u.includes("walletconnect")||u.includes("wc_")||u.includes("wallet_connect")){const d=await t.getItem(c);await e.setItem(c,d),a.push(c)}}await e.setItem(r,yD),n(e),gAe(t,a)},gAe=async(t,e)=>{e.length&&e.forEach(async n=>{await t.removeItem(n)})};let bAe=class{constructor(){this.initialized=!1,this.setInitialized=n=>{this.storage=n,this.initialized=!0};const e=new pAe;this.storage=e;try{const n=new fAe;yAe(e,n,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,n){return await this.initialize(),this.storage.setItem(e,n)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const n=setInterval(()=>{this.initialized&&(clearInterval(n),e())},20)})}};var wAe=Object.defineProperty,vAe=(t,e,n)=>e in t?wAe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,gD=(t,e,n)=>vAe(t,typeof e!="symbol"?e+"":e,n);let _Ae=class extends Gd{constructor(e){super(),this.opts=e,gD(this,"protocol","wc"),gD(this,"version",2)}};var EAe=Object.defineProperty,SAe=(t,e,n)=>e in t?EAe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,AAe=(t,e,n)=>SAe(t,e+"",n);let xAe=class extends Gd{constructor(e,n){super(),this.core=e,this.logger=n,AAe(this,"records",new Map)}},TAe=class{constructor(e,n){this.logger=e,this.core=n}},IAe=class extends Gd{constructor(e,n){super(),this.relayer=e,this.logger=n}},CAe=class extends Gd{constructor(e){super()}},OAe=class{constructor(e,n,r,i){this.core=e,this.logger=n,this.name=r}},kAe=class extends Gd{constructor(e,n){super(),this.relayer=e,this.logger=n}},RAe=class extends Gd{constructor(e,n){super(),this.core=e,this.logger=n}},NAe=class{constructor(e,n,r){this.core=e,this.logger=n,this.store=r}},$Ae=class{constructor(e,n){this.projectId=e,this.logger=n}},PAe=class{constructor(e,n,r){this.core=e,this.logger=n,this.telemetryEnabled=r}};var DAe=Object.defineProperty,UAe=(t,e,n)=>e in t?DAe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,bD=(t,e,n)=>UAe(t,typeof e!="symbol"?e+"":e,n);let MAe=class{constructor(e){this.opts=e,bD(this,"protocol","wc"),bD(this,"version",2)}},BAe=class{constructor(e){this.client=e}};const LAe="PARSE_ERROR",jAe="INVALID_REQUEST",zAe="METHOD_NOT_FOUND",FAe="INVALID_PARAMS",uW="INTERNAL_ERROR",RI="SERVER_ERROR",qAe=[-32700,-32600,-32601,-32602,-32603],yy={[LAe]:{code:-32700,message:"Parse error"},[jAe]:{code:-32600,message:"Invalid Request"},[zAe]:{code:-32601,message:"Method not found"},[FAe]:{code:-32602,message:"Invalid params"},[uW]:{code:-32603,message:"Internal error"},[RI]:{code:-32e3,message:"Server error"}},dW=RI;function WAe(t){return qAe.includes(t)}function wD(t){return Object.keys(yy).includes(t)?yy[t]:yy[dW]}function HAe(t){const e=Object.values(yy).find(n=>n.code===t);return e||yy[dW]}function fW(t,e,n){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${e}`):t}var zA={};var k5=function(t,e){return k5=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},k5(t,e)};function VAe(t,e){k5(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var R5=function(){return R5=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},R5.apply(this,arguments)};function GAe(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function KAe(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(a=t[c])&&(s=(i<3?a(s):i>3?a(e,n,s):a(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function YAe(t,e){return function(n,r){e(n,r,t)}}function ZAe(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function XAe(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function c(h){try{d(r.next(h))}catch(p){a(p)}}function u(h){try{d(r.throw(h))}catch(p){a(p)}}function d(h){h.done?s(h.value):i(h.value).then(c,u)}d((r=r.apply(t,e||[])).next())})}function JAe(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(d){return function(h){return u([d,h])}}function u(d){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=d[0]&2?i.return:d[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,d[1])).done)return s;switch(i=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,i=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){n.label=d[1];break}if(d[0]===6&&n.label<s[1]){n.label=s[1],s=d;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(d);break}s[2]&&n.ops.pop(),n.trys.pop();continue}d=e.call(t,n)}catch(h){d=[6,h],i=0}finally{r=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function QAe(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function exe(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function N5(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function hW(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(c){a={error:c}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return s}function txe(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(hW(arguments[e]));return t}function nxe(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],a=0,c=s.length;a<c;a++,i++)r[i]=s[a];return r}function og(t){return this instanceof og?(this.v=t,this):new og(t)}function rxe(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(y){r[y]&&(i[y]=function(g){return new Promise(function(b,v){s.push([y,g,b,v])>1||c(y,g)})})}function c(y,g){try{u(r[y](g))}catch(b){p(s[0][3],b)}}function u(y){y.value instanceof og?Promise.resolve(y.value.v).then(d,h):p(s[0][2],y)}function d(y){c("next",y)}function h(y){c("throw",y)}function p(y,g){y(g),s.shift(),s.length&&c(s[0][0],s[0][1])}}function ixe(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(a){return(n=!n)?{value:og(t[i](a)),done:i==="return"}:s?s(a):a}:s}}function sxe(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof N5=="function"?N5(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(a){return new Promise(function(c,u){a=t[s](a),i(c,u,a.done,a.value)})}}function i(s,a,c,u){Promise.resolve(u).then(function(d){s({value:d,done:c})},a)}}function axe(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function oxe(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function cxe(t){return t&&t.__esModule?t:{default:t}}function lxe(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function uxe(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const dxe=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return R5},__asyncDelegator:ixe,__asyncGenerator:rxe,__asyncValues:sxe,__await:og,__awaiter:XAe,__classPrivateFieldGet:lxe,__classPrivateFieldSet:uxe,__createBinding:QAe,__decorate:KAe,__exportStar:exe,__extends:VAe,__generator:JAe,__importDefault:cxe,__importStar:oxe,__makeTemplateObject:axe,__metadata:ZAe,__param:YAe,__read:hW,__rest:GAe,__spread:txe,__spreadArrays:nxe,__values:N5},Symbol.toStringTag,{value:"Module"})),fxe=kU(dxe);var ac={},vD;function hxe(){if(vD)return ac;vD=1,Object.defineProperty(ac,"__esModule",{value:!0}),ac.isBrowserCryptoAvailable=ac.getSubtleCrypto=ac.getBrowerCrypto=void 0;function t(){return lo?.crypto||lo?.msCrypto||{}}ac.getBrowerCrypto=t;function e(){const r=t();return r.subtle||r.webkitSubtle}ac.getSubtleCrypto=e;function n(){return!!t()&&!!e()}return ac.isBrowserCryptoAvailable=n,ac}var oc={},_D;function pxe(){if(_D)return oc;_D=1,Object.defineProperty(oc,"__esModule",{value:!0}),oc.isBrowser=oc.isNode=oc.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}oc.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}oc.isNode=e;function n(){return!t()&&!e()}return oc.isBrowser=n,oc}var ED;function mxe(){return ED||(ED=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=fxe;e.__exportStar(hxe(),t),e.__exportStar(pxe(),t)})(zA)),zA}var yxe=mxe();function oo(t=3){const e=Date.now()*Math.pow(10,t),n=Math.floor(Math.random()*Math.pow(10,t));return e+n}function tu(t=6){return BigInt(oo(t))}function Ca(t,e,n){return{id:n||oo(),jsonrpc:"2.0",method:t,params:e}}function cg(t,e){return{id:t,jsonrpc:"2.0",result:e}}function w_(t,e,n){return{id:t,jsonrpc:"2.0",error:gxe(e)}}function gxe(t,e){return typeof t>"u"?wD(uW):(typeof t=="string"&&(t=Object.assign(Object.assign({},wD(RI)),{message:t})),WAe(t.code)&&(t=HAe(t.code)),t)}let bxe=class{};class wxe extends bxe{constructor(){super()}}class vxe extends wxe{constructor(e){super()}}const _xe="^https?:",Exe="^wss?:";function Sxe(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function pW(t,e){const n=Sxe(t);return typeof n>"u"?!1:new RegExp(e).test(n)}function SD(t){return pW(t,_xe)}function AD(t){return pW(t,Exe)}function Axe(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function mW(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function NI(t){return mW(t)&&"method"in t}function v_(t){return mW(t)&&(co(t)||ta(t))}function co(t){return"result"in t}function ta(t){return"error"in t}let $I=class extends vxe{constructor(e){super(e),this.events=new ks.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async request(e,n){return this.requestStrict(Ca(e.method,e.params||[],e.id||tu().toString()),n)}async requestStrict(e,n){return new Promise(async(r,i)=>{if(!this.connection.connected)try{await this.open()}catch(s){i(s)}this.events.on(`${e.id}`,s=>{ta(s)?i(s.error):r(s.result)});try{await this.connection.send(e,n)}catch(s){i(s)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),v_(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const xxe=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),Txe=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",xD=t=>t.split("?")[0],TD=10,Ixe=xxe();let Cxe=class{constructor(e){if(this.url=e,this.events=new ks.EventEmitter,this.registering=!1,!AD(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,n)=>{if(typeof this.socket>"u"){n(new Error("Connection already closed"));return}this.socket.onclose=r=>{this.onClose(r),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(jc(e))}catch(n){this.onError(e.id,n)}}register(e=this.url){if(!AD(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));r(this.socket)})})}return this.url=e,this.registering=!0,new Promise((n,r)=>{const i=yxe.isReactNative()?void 0:{rejectUnauthorized:!Axe(e)},s=new Ixe(e,[],i);Txe()?s.onerror=a=>{const c=a;r(this.emitError(c.error))}:s.on("error",a=>{r(this.emitError(a))}),s.onopen=()=>{this.onOpen(s),n(s)}})}onOpen(e){e.onmessage=n=>this.onPayload(n),e.onclose=n=>this.onClose(n),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?Nd(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),i=r.message||r.toString(),s=w_(e,i);this.events.emit("payload",s)}parseError(e,n=this.url){return fW(e,xD(n),"WS")}resetMaxListeners(){this.events.getMaxListeners()>TD&&this.events.setMaxListeners(TD)}emitError(e){const n=this.parseError(new Error(e?.message||`WebSocket connection failed for host: ${xD(this.url)}`));return this.events.emit("register_error",n),n}};var Oxe={};const yW="wc",gW=2,$5="core",To=`${yW}@2:${$5}:`,kxe={logger:"error"},Rxe={database:":memory:"},Nxe="crypto",ID="client_ed25519_seed",$xe=Me.ONE_DAY,Pxe="keychain",Dxe="0.3",Uxe="messages",Mxe="0.3",Bxe=Me.SIX_HOURS,Lxe="publisher",bW="irn",jxe="error",wW="wss://relay.walletconnect.org",zxe="relayer",tr={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},Fxe="_subscription",Vs={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},qxe=.1,P5="2.22.4",Dn={link_mode:"link_mode",relay:"relay"},Uw={inbound:"inbound",outbound:"outbound"},Wxe="0.3",Hxe="WALLETCONNECT_CLIENT_ID",CD="WALLETCONNECT_LINK_MODE_APPS",vs={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},Vxe="subscription",Gxe="0.3",Kxe="pairing",Yxe="0.3",Nm={wc_pairingDelete:{req:{ttl:Me.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:Me.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:Me.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:Me.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:Me.ONE_DAY,prompt:!1,tag:0},res:{ttl:Me.ONE_DAY,prompt:!1,tag:0}}},Ju={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},_a={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},Zxe="history",Xxe="0.3",Jxe="expirer",Zs={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},Qxe="0.3",e6e="verify-api",t6e="https://verify.walletconnect.com",vW="https://verify.walletconnect.org",gy=vW,n6e=`${gy}/v3`,r6e=[t6e,vW],i6e="echo",s6e="https://echo.walletconnect.com",ao={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},dc={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},Ea={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success",session_request_response_started:"session_request_response_started",session_request_response_validation_success:"session_request_response_validation_success",session_request_response_publish_started:"session_request_response_publish_started"},zu={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found",session_request_response_validation_failure:"session_request_response_validation_failure",session_request_response_publish_failure:"session_request_response_publish_failure"},Fu={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},$m={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},a6e=.1,o6e="event-client",c6e=86400,l6e="https://pulse.walletconnect.org/batch";function u6e(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),a=s.charCodeAt(0);if(n[a]!==255)throw new TypeError(s+" is ambiguous");n[a]=i}var c=t.length,u=t.charAt(0),d=Math.log(c)/Math.log(256),h=Math.log(256)/Math.log(c);function p(b){if(b instanceof Uint8Array||(ArrayBuffer.isView(b)?b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength):Array.isArray(b)&&(b=Uint8Array.from(b))),!(b instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(b.length===0)return"";for(var v=0,E=0,O=0,k=b.length;O!==k&&b[O]===0;)O++,v++;for(var A=(k-O)*h+1>>>0,S=new Uint8Array(A);O!==k;){for(var C=b[O],I=0,$=A-1;(C!==0||I<E)&&$!==-1;$--,I++)C+=256*S[$]>>>0,S[$]=C%c>>>0,C=C/c>>>0;if(C!==0)throw new Error("Non-zero carry");E=I,O++}for(var z=A-E;z!==A&&S[z]===0;)z++;for(var j=u.repeat(v);z<A;++z)j+=t.charAt(S[z]);return j}function y(b){if(typeof b!="string")throw new TypeError("Expected String");if(b.length===0)return new Uint8Array;var v=0;if(b[v]!==" "){for(var E=0,O=0;b[v]===u;)E++,v++;for(var k=(b.length-v)*d+1>>>0,A=new Uint8Array(k);b[v];){var S=n[b.charCodeAt(v)];if(S===255)return;for(var C=0,I=k-1;(S!==0||C<O)&&I!==-1;I--,C++)S+=c*A[I]>>>0,A[I]=S%256>>>0,S=S/256>>>0;if(S!==0)throw new Error("Non-zero carry");O=C,v++}if(b[v]!==" "){for(var $=k-O;$!==k&&A[$]===0;)$++;for(var z=new Uint8Array(E+(k-$)),j=E;$!==k;)z[j++]=A[$++];return z}}}function g(b){var v=y(b);if(v)return v;throw new Error(`Non-${e} character`)}return{encode:p,decodeUnsafe:y,decode:g}}var d6e=u6e,f6e=d6e;const _W=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},h6e=t=>new TextEncoder().encode(t),p6e=t=>new TextDecoder().decode(t);class m6e{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class y6e{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return EW(this,e)}}class g6e{constructor(e){this.decoders=e}or(e){return EW(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const EW=(t,e)=>new g6e({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class b6e{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new m6e(e,n,r),this.decoder=new y6e(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const __=({name:t,prefix:e,encode:n,decode:r})=>new b6e(t,e,n,r),t0=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=f6e(n,e);return __({prefix:t,name:e,encode:r,decode:s=>_W(i(s))})},w6e=(t,e,n,r)=>{const i={};for(let h=0;h<e.length;++h)i[e[h]]=h;let s=t.length;for(;t[s-1]==="=";)--s;const a=new Uint8Array(s*n/8|0);let c=0,u=0,d=0;for(let h=0;h<s;++h){const p=i[t[h]];if(p===void 0)throw new SyntaxError(`Non-${r} character`);u=u<<n|p,c+=n,c>=8&&(c-=8,a[d++]=255&u>>c)}if(c>=n||255&u<<8-c)throw new SyntaxError("Unexpected end of data");return a},v6e=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let s="",a=0,c=0;for(let u=0;u<t.length;++u)for(c=c<<8|t[u],a+=8;a>n;)a-=n,s+=e[i&c>>a];if(a&&(s+=e[i&c<<n-a]),r)for(;s.length*n&7;)s+="=";return s},ci=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>__({prefix:e,name:t,encode(i){return v6e(i,r,n)},decode(i){return w6e(i,r,n,t)}}),_6e=__({prefix:"\0",name:"identity",encode:t=>p6e(t),decode:t=>h6e(t)});var E6e=Object.freeze({__proto__:null,identity:_6e});const S6e=ci({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var A6e=Object.freeze({__proto__:null,base2:S6e});const x6e=ci({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var T6e=Object.freeze({__proto__:null,base8:x6e});const I6e=t0({prefix:"9",name:"base10",alphabet:"0123456789"});var C6e=Object.freeze({__proto__:null,base10:I6e});const O6e=ci({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),k6e=ci({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var R6e=Object.freeze({__proto__:null,base16:O6e,base16upper:k6e});const N6e=ci({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),$6e=ci({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),P6e=ci({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),D6e=ci({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),U6e=ci({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),M6e=ci({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),B6e=ci({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),L6e=ci({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),j6e=ci({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var z6e=Object.freeze({__proto__:null,base32:N6e,base32upper:$6e,base32pad:P6e,base32padupper:D6e,base32hex:U6e,base32hexupper:M6e,base32hexpad:B6e,base32hexpadupper:L6e,base32z:j6e});const F6e=t0({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),q6e=t0({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var W6e=Object.freeze({__proto__:null,base36:F6e,base36upper:q6e});const H6e=t0({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),V6e=t0({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var G6e=Object.freeze({__proto__:null,base58btc:H6e,base58flickr:V6e});const K6e=ci({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Y6e=ci({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Z6e=ci({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),X6e=ci({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var J6e=Object.freeze({__proto__:null,base64:K6e,base64pad:Y6e,base64url:Z6e,base64urlpad:X6e});const SW=Array.from(""),Q6e=SW.reduce((t,e,n)=>(t[n]=e,t),[]),e5e=SW.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function t5e(t){return t.reduce((e,n)=>(e+=Q6e[n],e),"")}function n5e(t){const e=[];for(const n of t){const r=e5e[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const r5e=__({prefix:"",name:"base256emoji",encode:t5e,decode:n5e});var i5e=Object.freeze({__proto__:null,base256emoji:r5e}),s5e=AW,OD=128,a5e=-128,o5e=Math.pow(2,31);function AW(t,e,n){e=e||[],n=n||0;for(var r=n;t>=o5e;)e[n++]=t&255|OD,t/=128;for(;t&a5e;)e[n++]=t&255|OD,t>>>=7;return e[n]=t|0,AW.bytes=n-r+1,e}var c5e=D5,l5e=128,kD=127;function D5(t,r){var n=0,r=r||0,i=0,s=r,a,c=t.length;do{if(s>=c)throw D5.bytes=0,new RangeError("Could not decode varint");a=t[s++],n+=i<28?(a&kD)<<i:(a&kD)*Math.pow(2,i),i+=7}while(a>=l5e);return D5.bytes=s-r,n}var u5e=Math.pow(2,7),d5e=Math.pow(2,14),f5e=Math.pow(2,21),h5e=Math.pow(2,28),p5e=Math.pow(2,35),m5e=Math.pow(2,42),y5e=Math.pow(2,49),g5e=Math.pow(2,56),b5e=Math.pow(2,63),w5e=function(t){return t<u5e?1:t<d5e?2:t<f5e?3:t<h5e?4:t<p5e?5:t<m5e?6:t<y5e?7:t<g5e?8:t<b5e?9:10},v5e={encode:s5e,decode:c5e,encodingLength:w5e},xW=v5e;const RD=(t,e,n=0)=>(xW.encode(t,e,n),e),ND=t=>xW.encodingLength(t),U5=(t,e)=>{const n=e.byteLength,r=ND(t),i=r+ND(n),s=new Uint8Array(i+n);return RD(t,s,0),RD(n,s,r),s.set(e,i),new _5e(t,n,e,s)};class _5e{constructor(e,n,r,i){this.code=e,this.size=n,this.digest=r,this.bytes=i}}const TW=({name:t,code:e,encode:n})=>new E5e(t,e,n);class E5e{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?U5(this.code,n):n.then(r=>U5(this.code,r))}else throw Error("Unknown type, must be binary type")}}const IW=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),S5e=TW({name:"sha2-256",code:18,encode:IW("SHA-256")}),A5e=TW({name:"sha2-512",code:19,encode:IW("SHA-512")});var x5e=Object.freeze({__proto__:null,sha256:S5e,sha512:A5e});const CW=0,T5e="identity",OW=_W,I5e=t=>U5(CW,OW(t)),C5e={code:CW,name:T5e,encode:OW,digest:I5e};var O5e=Object.freeze({__proto__:null,identity:C5e});new TextEncoder,new TextDecoder;const $D={...E6e,...A6e,...T6e,...C6e,...R6e,...z6e,...W6e,...G6e,...J6e,...i5e};({...x5e,...O5e});function kW(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function k5e(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?kW(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function RW(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const PD=RW("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),FA=RW("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=k5e(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),R5e={utf8:PD,"utf-8":PD,hex:$D.base16,latin1:FA,ascii:FA,binary:FA,...$D};function N5e(t,e="utf8"){const n=R5e[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?kW(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}var $5e=Object.defineProperty,P5e=(t,e,n)=>e in t?$5e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,to=(t,e,n)=>P5e(t,typeof e!="symbol"?e+"":e,n);let D5e=class{constructor(e,n){this.core=e,this.logger=n,to(this,"keychain",new Map),to(this,"name",Pxe),to(this,"version",Dxe),to(this,"initialized",!1),to(this,"storagePrefix",To),to(this,"init",async()=>{if(!this.initialized){const r=await this.getKeyChain();typeof r<"u"&&(this.keychain=r),this.initialized=!0}}),to(this,"has",r=>(this.isInitialized(),this.keychain.has(r))),to(this,"set",async(r,i)=>{this.isInitialized(),this.keychain.set(r,i),await this.persist()}),to(this,"get",r=>{this.isInitialized();const i=this.keychain.get(r);if(typeof i>"u"){const{message:s}=Ue("NO_MATCHING_KEY",`${this.name}: ${r}`);throw new Error(s)}return i}),to(this,"del",async r=>{this.isInitialized(),this.keychain.delete(r),await this.persist()}),this.core=e,this.logger=Rs(n,this.name)}get context(){return ss(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,m5(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?y5(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=Ue("NOT_INITIALIZED",this.name);throw new Error(e)}}};var U5e=Object.defineProperty,M5e=(t,e,n)=>e in t?U5e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Dr=(t,e,n)=>M5e(t,typeof e!="symbol"?e+"":e,n);let B5e=class{constructor(e,n,r){this.core=e,this.logger=n,Dr(this,"name",Nxe),Dr(this,"keychain"),Dr(this,"randomSessionIdentifier",I5()),Dr(this,"initialized",!1),Dr(this,"clientId"),Dr(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),Dr(this,"hasKeys",i=>(this.isInitialized(),this.keychain.has(i))),Dr(this,"getClientId",async()=>{if(this.isInitialized(),this.clientId)return this.clientId;const i=await this.getClientSeed(),s=rP(i),a=KF(s.publicKey);return this.clientId=a,a}),Dr(this,"generateKeyPair",()=>{this.isInitialized();const i=x2e();return this.setPrivateKey(i.publicKey,i.privateKey)}),Dr(this,"signJWT",async i=>{this.isInitialized();const s=await this.getClientSeed(),a=rP(s),c=this.randomSessionIdentifier;return await Gwe(c,i,$xe,a)}),Dr(this,"generateSharedKey",(i,s,a)=>{this.isInitialized();const c=this.getPrivateKey(i),u=T2e(c,s);return this.setSymKey(u,a)}),Dr(this,"setSymKey",async(i,s)=>{this.isInitialized();const a=s||$w(i);return await this.keychain.set(a,i),a}),Dr(this,"deleteKeyPair",async i=>{this.isInitialized(),await this.keychain.del(i)}),Dr(this,"deleteSymKey",async i=>{this.isInitialized(),await this.keychain.del(i)}),Dr(this,"encode",async(i,s,a)=>{this.isInitialized();const c=sW(a),u=jc(s);if(JP(c))return O2e(u,a?.encoding);if(XP(c)){const y=c.senderPublicKey,g=c.receiverPublicKey;i=await this.generateSharedKey(y,g)}const d=this.getSymKey(i),{type:h,senderPublicKey:p}=c;return I2e({type:h,symKey:d,message:u,senderPublicKey:p,encoding:a?.encoding})}),Dr(this,"decode",async(i,s,a)=>{this.isInitialized();const c=R2e(s,a);if(JP(c)){const u=k2e(s,a?.encoding);return Nd(u)}if(XP(c)){const u=c.receiverPublicKey,d=c.senderPublicKey;i=await this.generateSharedKey(u,d)}try{const u=this.getSymKey(i),d=C2e({symKey:u,encoded:s,encoding:a?.encoding});return Nd(d)}catch(u){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(u)}}),Dr(this,"getPayloadType",(i,s=Ki)=>{const a=ag({encoded:i,encoding:s});return Pd(a.type)}),Dr(this,"getPayloadSenderPublicKey",(i,s=Ki)=>{const a=ag({encoded:i,encoding:s});return a.senderPublicKey?es(a.senderPublicKey,Ci):void 0}),this.core=e,this.logger=Rs(n,this.name),this.keychain=r||new D5e(this.core,this.logger)}get context(){return ss(this.logger)}async setPrivateKey(e,n){return await this.keychain.set(e,n),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(ID)}catch{e=I5(),await this.keychain.set(ID,e)}return N5e(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=Ue("NOT_INITIALIZED",this.name);throw new Error(e)}}};var L5e=Object.defineProperty,j5e=Object.defineProperties,z5e=Object.getOwnPropertyDescriptors,DD=Object.getOwnPropertySymbols,F5e=Object.prototype.hasOwnProperty,q5e=Object.prototype.propertyIsEnumerable,M5=(t,e,n)=>e in t?L5e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,W5e=(t,e)=>{for(var n in e||(e={}))F5e.call(e,n)&&M5(t,n,e[n]);if(DD)for(var n of DD(e))q5e.call(e,n)&&M5(t,n,e[n]);return t},H5e=(t,e)=>j5e(t,z5e(e)),ys=(t,e,n)=>M5(t,typeof e!="symbol"?e+"":e,n);let V5e=class extends TAe{constructor(e,n){super(e,n),this.logger=e,this.core=n,ys(this,"messages",new Map),ys(this,"messagesWithoutClientAck",new Map),ys(this,"name",Uxe),ys(this,"version",Mxe),ys(this,"initialized",!1),ys(this,"storagePrefix",To),ys(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const r=await this.getRelayerMessages();typeof r<"u"&&(this.messages=r);const i=await this.getRelayerMessagesWithoutClientAck();typeof i<"u"&&(this.messagesWithoutClientAck=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(r){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(r)}finally{this.initialized=!0}}}),ys(this,"set",async(r,i,s)=>{this.isInitialized();const a=ea(i);let c=this.messages.get(r);if(typeof c>"u"&&(c={}),typeof c[a]<"u")return a;if(c[a]=i,this.messages.set(r,c),s===Uw.inbound){const u=this.messagesWithoutClientAck.get(r)||{};this.messagesWithoutClientAck.set(r,H5e(W5e({},u),{[a]:i}))}return await this.persist(),a}),ys(this,"get",r=>{this.isInitialized();let i=this.messages.get(r);return typeof i>"u"&&(i={}),i}),ys(this,"getWithoutAck",r=>{this.isInitialized();const i={};for(const s of r){const a=this.messagesWithoutClientAck.get(s)||{};i[s]=Object.values(a)}return i}),ys(this,"has",(r,i)=>{this.isInitialized();const s=this.get(r),a=ea(i);return typeof s[a]<"u"}),ys(this,"ack",async(r,i)=>{this.isInitialized();const s=this.messagesWithoutClientAck.get(r);if(typeof s>"u")return;const a=ea(i);delete s[a],Object.keys(s).length===0?this.messagesWithoutClientAck.delete(r):this.messagesWithoutClientAck.set(r,s),await this.persist()}),ys(this,"del",async r=>{this.isInitialized(),this.messages.delete(r),this.messagesWithoutClientAck.delete(r),await this.persist()}),this.logger=Rs(e,this.name),this.core=n}get context(){return ss(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,m5(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,m5(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?y5(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?y5(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=Ue("NOT_INITIALIZED",this.name);throw new Error(e)}}};var G5e=Object.defineProperty,K5e=Object.defineProperties,Y5e=Object.getOwnPropertyDescriptors,UD=Object.getOwnPropertySymbols,Z5e=Object.prototype.hasOwnProperty,X5e=Object.prototype.propertyIsEnumerable,B5=(t,e,n)=>e in t?G5e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Yf=(t,e)=>{for(var n in e||(e={}))Z5e.call(e,n)&&B5(t,n,e[n]);if(UD)for(var n of UD(e))X5e.call(e,n)&&B5(t,n,e[n]);return t},MD=(t,e)=>K5e(t,Y5e(e)),Gs=(t,e,n)=>B5(t,typeof e!="symbol"?e+"":e,n);class J5e extends IAe{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,Gs(this,"events",new ks.EventEmitter),Gs(this,"name",Lxe),Gs(this,"queue",new Map),Gs(this,"publishTimeout",Me.toMiliseconds(Me.ONE_MINUTE)),Gs(this,"initialPublishTimeout",Me.toMiliseconds(Me.ONE_SECOND*15)),Gs(this,"needsTransportRestart",!1),Gs(this,"publish",async(r,i,s)=>{var a,c,u,d,h;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:r,message:i,opts:s}});const p=s?.ttl||Bxe,y=s?.prompt||!1,g=s?.tag||0,b=s?.id||tu().toString(),v=fh(Gv().protocol),E={id:b,method:s?.publishMethod||v.publish,params:Yf({topic:r,message:i,ttl:p,prompt:y,tag:g,attestation:s?.attestation},s?.tvf)},O=`Failed to publish payload, please try again. id:${b} tag:${g}`;try{Ir((a=E.params)==null?void 0:a.prompt)&&((c=E.params)==null||delete c.prompt),Ir((u=E.params)==null?void 0:u.tag)&&((d=E.params)==null||delete d.tag);const k=new Promise(async A=>{const S=({id:I})=>{var $;(($=E.id)==null?void 0:$.toString())===I.toString()&&(this.removeRequestFromQueue(I),this.relayer.events.removeListener(tr.publish,S),A())};this.relayer.events.on(tr.publish,S);const C=po(new Promise((I,$)=>{this.rpcPublish(E,s).then(I).catch(z=>{this.logger.warn(z,z?.message),$(z)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${b} tag:${g}`);try{await C,this.events.removeListener(tr.publish,S)}catch(I){this.queue.set(b,{request:E,opts:s,attempt:1}),this.logger.warn(I,I?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:b,topic:r,message:i,opts:s}}),await po(k,this.publishTimeout,O)}catch(k){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(k),(h=s?.internal)!=null&&h.throwOnFailedPublish)throw k}finally{this.queue.delete(b)}}),Gs(this,"publishCustom",async r=>{var i,s,a,c,u;this.logger.debug("Publishing custom payload"),this.logger.trace({type:"method",method:"publishCustom",params:r});const{payload:d,opts:h={}}=r,{attestation:p,tvf:y,publishMethod:g,prompt:b,tag:v,ttl:E=Me.FIVE_MINUTES}=h,O=h.id||tu().toString(),k=fh(Gv().protocol),A=g||k.publish,S={id:O,method:A,params:Yf(MD(Yf({},d),{ttl:E,prompt:b,tag:v,attestation:p}),y)},C=`Failed to publish custom payload, please try again. id:${O} tag:${v}`;try{Ir((i=S.params)==null?void 0:i.prompt)&&((s=S.params)==null||delete s.prompt),Ir((a=S.params)==null?void 0:a.tag)&&((c=S.params)==null||delete c.tag);const I=new Promise(async $=>{const z=({id:B})=>{var G;((G=S.id)==null?void 0:G.toString())===B.toString()&&(this.removeRequestFromQueue(B),this.relayer.events.removeListener(tr.publish,z),$())};this.relayer.events.on(tr.publish,z);const j=po(new Promise((B,G)=>{this.rpcPublish(S,h).then(B).catch(U=>{this.logger.warn(U,U?.message),G(U)})}),this.initialPublishTimeout,`Failed initial custom payload publish, retrying.... method:${A} id:${O} tag:${v}`);try{await j,this.events.removeListener(tr.publish,z)}catch(B){this.queue.set(O,{request:S,opts:h,attempt:1}),this.logger.warn(B,B?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:O,payload:d,opts:h}}),await po(I,this.publishTimeout,C)}catch(I){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(I),(u=h?.internal)!=null&&u.throwOnFailedPublish)throw I}finally{this.queue.delete(O)}}),Gs(this,"on",(r,i)=>{this.events.on(r,i)}),Gs(this,"once",(r,i)=>{this.events.once(r,i)}),Gs(this,"off",(r,i)=>{this.events.off(r,i)}),Gs(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.relayer=e,this.logger=Rs(n,this.name),this.registerEventListeners()}get context(){return ss(this.logger)}async rpcPublish(e,n){this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:e});const r=await this.relayer.request(e);return this.relayer.events.emit(tr.publish,Yf(Yf({},e),n)),this.logger.debug("Successfully Published Payload"),r}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,n)=>{var r;const i=e.attempt+1;this.queue.set(n,MD(Yf({},e),{attempt:i})),this.logger.warn({},`Publisher: queue->publishing: ${e.request.id}, tag: ${(r=e.request.params)==null?void 0:r.tag}, attempt: ${i}`),await this.rpcPublish(e.request,e.opts),this.logger.warn({},`Publisher: queue->published: ${e.request.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(Kd.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(tr.connection_stalled);return}this.checkQueue()}),this.relayer.on(tr.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var Q5e=Object.defineProperty,eTe=(t,e,n)=>e in t?Q5e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Zf=(t,e,n)=>eTe(t,typeof e!="symbol"?e+"":e,n);class tTe{constructor(){Zf(this,"map",new Map),Zf(this,"set",(e,n)=>{const r=this.get(e);this.exists(e,n)||this.map.set(e,[...r,n])}),Zf(this,"get",e=>this.map.get(e)||[]),Zf(this,"exists",(e,n)=>this.get(e).includes(n)),Zf(this,"delete",(e,n)=>{if(typeof n>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const r=this.get(e);if(!this.exists(e,n))return;const i=r.filter(s=>s!==n);if(!i.length){this.map.delete(e);return}this.map.set(e,i)}),Zf(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var nTe=Object.defineProperty,rTe=Object.defineProperties,iTe=Object.getOwnPropertyDescriptors,BD=Object.getOwnPropertySymbols,sTe=Object.prototype.hasOwnProperty,aTe=Object.prototype.propertyIsEnumerable,L5=(t,e,n)=>e in t?nTe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Pm=(t,e)=>{for(var n in e||(e={}))sTe.call(e,n)&&L5(t,n,e[n]);if(BD)for(var n of BD(e))aTe.call(e,n)&&L5(t,n,e[n]);return t},qA=(t,e)=>rTe(t,iTe(e)),En=(t,e,n)=>L5(t,typeof e!="symbol"?e+"":e,n);let oTe=class extends kAe{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,En(this,"subscriptions",new Map),En(this,"topicMap",new tTe),En(this,"events",new ks.EventEmitter),En(this,"name",Vxe),En(this,"version",Gxe),En(this,"pending",new Map),En(this,"cached",[]),En(this,"initialized",!1),En(this,"storagePrefix",To),En(this,"subscribeTimeout",Me.toMiliseconds(Me.ONE_MINUTE)),En(this,"initialSubscribeTimeout",Me.toMiliseconds(Me.ONE_SECOND*15)),En(this,"clientId"),En(this,"batchSubscribeTopicsLimit",500),En(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),En(this,"subscribe",async(r,i)=>{var s;this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}});try{const a=Gv(i),c={topic:r,relay:a,transportType:i?.transportType};(s=i?.internal)!=null&&s.skipSubscribe||this.pending.set(r,c);const u=await this.rpcSubscribe(r,a,i);return typeof u=="string"&&(this.onSubscribe(u,c),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}})),u}catch(a){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(a),a}}),En(this,"unsubscribe",async(r,i)=>{this.isInitialized(),typeof i?.id<"u"?await this.unsubscribeById(r,i.id,i):await this.unsubscribeByTopic(r,i)}),En(this,"isSubscribed",r=>new Promise(i=>{i(this.topicMap.topics.includes(r))})),En(this,"isKnownTopic",r=>new Promise(i=>{i(this.topicMap.topics.includes(r)||this.pending.has(r)||this.cached.some(s=>s.topic===r))})),En(this,"on",(r,i)=>{this.events.on(r,i)}),En(this,"once",(r,i)=>{this.events.once(r,i)}),En(this,"off",(r,i)=>{this.events.off(r,i)}),En(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),En(this,"start",async()=>{await this.onConnect()}),En(this,"stop",async()=>{await this.onDisconnect()}),En(this,"restart",async()=>{await this.restore(),await this.onRestart()}),En(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const r=[];this.pending.forEach(i=>{r.push(i)}),await this.batchSubscribe(r)}),En(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(Kd.pulse,async()=>{await this.checkPending()}),this.events.on(vs.created,async r=>{const i=vs.created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:r}),await this.persist()}),this.events.on(vs.deleted,async r=>{const i=vs.deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:r}),await this.persist()})}),this.relayer=e,this.logger=Rs(n,this.name),this.clientId=""}get context(){return ss(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,n){let r=!1;try{r=this.getSubscription(e).topic===n}catch{}return r}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,n){const r=this.topicMap.get(e);await Promise.all(r.map(async i=>await this.unsubscribeById(e,i,n)))}async unsubscribeById(e,n,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}});try{const i=Gv(r);await this.restartToComplete({topic:e,id:n,relay:i}),await this.rpcUnsubscribe(e,n,i);const s=Un("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,n,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,n,r){var i,s;const a=await this.getSubscriptionId(e);if((i=r?.internal)!=null&&i.skipSubscribe)return a;(!r||r?.transportType===Dn.relay)&&await this.restartToComplete({topic:e,id:e,relay:n});const c={method:fh(n.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:c});const u=(s=r?.internal)==null?void 0:s.throwOnFailedPublish;try{if(r?.transportType===Dn.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(c).catch(p=>this.logger.warn(p))},Me.toMiliseconds(Me.ONE_SECOND)),a;const d=new Promise(async p=>{const y=g=>{g.topic===e&&(this.events.removeListener(vs.created,y),p(g.id))};this.events.on(vs.created,y);try{const g=await po(new Promise((b,v)=>{this.relayer.request(c).catch(E=>{this.logger.warn(E,E?.message),v(E)}).then(b)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(vs.created,y),p(g)}catch{}}),h=await po(d,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!h&&u)throw new Error(`Subscribing to ${e} failed, please try again`);return h?a:null}catch(d){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(tr.connection_stalled),u)throw d}return null}async rpcBatchSubscribe(e){if(!e.length)return;const n=e[0].relay,r={method:fh(n.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{await await po(new Promise(i=>{this.relayer.request(r).catch(s=>this.logger.warn(s)).then(i)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(tr.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const n=e[0].relay,r={method:fh(n.protocol).batchFetchMessages,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});let i;try{i=await await po(new Promise((s,a)=>{this.relayer.request(r).catch(c=>{this.logger.warn(c),a(c)}).then(s)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(tr.connection_stalled)}return i}rpcUnsubscribe(e,n,r){const i={method:fh(r.protocol).unsubscribe,params:{topic:e,id:n}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,n){this.setSubscription(e,qA(Pm({},n),{id:e})),this.pending.delete(n.topic)}onBatchSubscribe(e){e.length&&e.forEach(n=>{this.setSubscription(n.id,Pm({},n)),this.pending.delete(n.topic)})}async onUnsubscribe(e,n,r){this.events.removeAllListeners(n),this.hasSubscription(n,e)&&this.deleteSubscription(n,r),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,n){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:n}),this.addSubscription(e,n)}addSubscription(e,n){this.subscriptions.set(e,Pm({},n)),this.topicMap.set(n.topic,e),this.events.emit(vs.created,n)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const n=this.subscriptions.get(e);if(!n){const{message:r}=Ue("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}deleteSubscription(e,n){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:n});const r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(vs.deleted,qA(Pm({},r),{reason:n}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(vs.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],n=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<n;r++){const i=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(i)}}this.events.emit(vs.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size&&!e.every(n=>{var r;return n.topic===((r=this.subscriptions.get(n.id))==null?void 0:r.topic)})){const{message:n}=Ue("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async n=>qA(Pm({},n),{id:await this.getSubscriptionId(n.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const n=await this.rpcBatchFetchMessages(e);n&&n.messages&&(await G1e(Me.toMiliseconds(Me.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(n.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=Ue("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return ea(e+await this.getClientId())}};var cTe=Object.defineProperty,LD=Object.getOwnPropertySymbols,lTe=Object.prototype.hasOwnProperty,uTe=Object.prototype.propertyIsEnumerable,j5=(t,e,n)=>e in t?cTe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,jD=(t,e)=>{for(var n in e||(e={}))lTe.call(e,n)&&j5(t,n,e[n]);if(LD)for(var n of LD(e))uTe.call(e,n)&&j5(t,n,e[n]);return t},Jt=(t,e,n)=>j5(t,typeof e!="symbol"?e+"":e,n);let dTe=class extends CAe{constructor(e){var n;super(e),Jt(this,"protocol","wc"),Jt(this,"version",2),Jt(this,"core"),Jt(this,"logger"),Jt(this,"events",new ks.EventEmitter),Jt(this,"provider"),Jt(this,"messages"),Jt(this,"subscriber"),Jt(this,"publisher"),Jt(this,"name",zxe),Jt(this,"transportExplicitlyClosed",!1),Jt(this,"initialized",!1),Jt(this,"connectionAttemptInProgress",!1),Jt(this,"relayUrl"),Jt(this,"projectId"),Jt(this,"packageName"),Jt(this,"bundleId"),Jt(this,"hasExperiencedNetworkDisruption",!1),Jt(this,"pingTimeout"),Jt(this,"heartBeatTimeout",Me.toMiliseconds(Me.THIRTY_SECONDS+Me.FIVE_SECONDS)),Jt(this,"reconnectTimeout"),Jt(this,"connectPromise"),Jt(this,"reconnectInProgress",!1),Jt(this,"requestsInFlight",[]),Jt(this,"connectTimeout",Me.toMiliseconds(Me.ONE_SECOND*15)),Jt(this,"request",async r=>{var i,s;this.logger.debug("Publishing Request Payload");const a=r.id||tu().toString();await this.toEstablishConnection();try{this.logger.trace({id:a,method:r.method,topic:(i=r.params)==null?void 0:i.topic},"relayer.request - publishing...");const c=`${a}:${((s=r.params)==null?void 0:s.tag)||""}`;this.requestsInFlight.push(c);const u=await this.provider.request(r);return this.requestsInFlight=this.requestsInFlight.filter(d=>d!==c),u}catch(c){throw this.logger.debug(`Failed to Publish Request: ${a}`),c}}),Jt(this,"resetPingTimeout",()=>{zv()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var r,i,s,a;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(a=(s=(i=(r=this.provider)==null?void 0:r.connection)==null?void 0:i.socket)==null?void 0:s.terminate)==null||a.call(s)}catch(c){this.logger.warn(c,c?.message)}},this.heartBeatTimeout))}),Jt(this,"onPayloadHandler",r=>{this.onProviderPayload(r),this.resetPingTimeout()}),Jt(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected "),this.startPingTimeout(),this.events.emit(tr.connect)}),Jt(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected "),this.requestsInFlight=[],this.onProviderDisconnect()}),Jt(this,"onProviderErrorHandler",r=>{this.logger.fatal(`Fatal socket error: ${r.message}`),this.events.emit(tr.error,r),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),Jt(this,"registerProviderListeners",()=>{this.provider.on(Vs.payload,this.onPayloadHandler),this.provider.on(Vs.connect,this.onConnectHandler),this.provider.on(Vs.disconnect,this.onDisconnectHandler),this.provider.on(Vs.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=kI({logger:(n=e.logger)!=null?n:jxe,name:this.name}),this.messages=new V5e(this.logger,e.core),this.subscriber=new oTe(this,this.logger),this.publisher=new J5e(this,this.logger),this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||wW,R1e()?this.packageName=wP():N1e()&&(this.bundleId=wP()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e?.message))}get context(){return ss(this.logger)}get connected(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===1||!1}get connecting(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,n,r){this.isInitialized(),await this.publisher.publish(e,n,r),await this.recordMessageEvent({topic:e,message:n,publishedAt:Date.now(),transportType:Dn.relay},Uw.outbound)}async publishCustom(e){this.isInitialized(),await this.publisher.publishCustom(e)}async subscribe(e,n){var r,i,s;this.isInitialized(),(!(n!=null&&n.transportType)||n?.transportType==="relay")&&await this.toEstablishConnection();const a=typeof((r=n?.internal)==null?void 0:r.throwOnFailedPublish)>"u"?!0:(i=n?.internal)==null?void 0:i.throwOnFailedPublish;let c=((s=this.subscriber.topicMap.get(e))==null?void 0:s[0])||"",u;const d=h=>{h.topic===e&&(this.subscriber.off(vs.created,d),u())};return await Promise.all([new Promise(h=>{u=h,this.subscriber.on(vs.created,d)}),new Promise(async(h,p)=>{c=await this.subscriber.subscribe(e,jD({internal:{throwOnFailedPublish:a}},n)).catch(y=>{a&&p(y)})||c,h()})]),c}async unsubscribe(e,n){this.isInitialized(),await this.subscriber.unsubscribe(e,n)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await po(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.info("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(n,r)=>{await this.connect(e).then(n).catch(r).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await dD())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if(e?.length===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const n=e.sort((r,i)=>r.publishedAt-i.publishedAt);this.logger.debug(`Batch of ${n.length} message events sorted`);for(const r of n)try{await this.onMessageEvent(r)}catch(i){this.logger.warn(i,"Error while processing batch message event: "+i?.message)}this.logger.trace(`Batch of ${n.length} message events processed`)}async onLinkMessageEvent(e,n){const{topic:r}=e;if(!n.sessionExists){const i=dr(Me.FIVE_MINUTES),s={topic:r,expiry:i,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(r,s)}this.events.emit(tr.message,e),await this.recordMessageEvent(e,Uw.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let n=1;for(;n<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${n}...`),await this.createProvider(),await new Promise(async(r,i)=>{const s=()=>{i(new Error("Connection interrupted while trying to connect"))};this.provider.once(Vs.disconnect,s),await po(new Promise((a,c)=>{this.provider.connect().then(a).catch(c)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(a=>{i(a)}).finally(()=>{this.provider.off(Vs.disconnect,s),clearTimeout(this.reconnectTimeout)}),await new Promise(async(a,c)=>{const u=()=>{i(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Vs.disconnect,u),await this.subscriber.start().then(a).catch(c).finally(()=>{this.provider.off(Vs.disconnect,u)})}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){await this.subscriber.stop();const i=r;this.logger.warn({},i.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${n}`);break}await new Promise(r=>setTimeout(r,Me.toMiliseconds(n*1))),n++}}startPingTimeout(){var e,n,r,i,s;if(zv())try{(n=(e=this.provider)==null?void 0:e.connection)!=null&&n.socket&&((s=(i=(r=this.provider)==null?void 0:r.connection)==null?void 0:i.socket)==null||s.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(a){this.logger.warn(a,a?.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new $I(new Cxe(M1e({sdkVersion:P5,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,n){const{topic:r,message:i}=e;await this.messages.set(r,i,n)}async shouldIgnoreMessageEvent(e){const{topic:n,message:r}=e;if(!r||r.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isKnownTopic(n))return this.logger.warn(`Ignoring message for unknown topic ${n}`),!0;const i=this.messages.has(n,r);return i&&this.logger.warn(`Ignoring duplicate message: ${r}`),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),NI(e)){if(!e.method.endsWith(Fxe))return;const n=e.params,{topic:r,message:i,publishedAt:s,attestation:a}=n.data,c={topic:r,message:i,publishedAt:s,transportType:Dn.relay,attestation:a};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(jD({type:"event",event:n.id},c)),this.events.emit(n.id,c),await this.acknowledgePayload(e),await this.onMessageEvent(c)}else v_(e)&&this.events.emit(tr.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,Uw.inbound),this.events.emit(tr.message,e))}async acknowledgePayload(e){const n=cg(e.id,!0);await this.provider.connection.send(n)}unregisterProviderListeners(){this.provider.off(Vs.payload,this.onPayloadHandler),this.provider.off(Vs.connect,this.onConnectHandler),this.provider.off(Vs.disconnect,this.onDisconnectHandler),this.provider.off(Vs.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await dD();kSe(async n=>{e!==n&&(e=n,n?await this.transportOpen().catch(r=>this.logger.error(r,r?.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(Kd.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&$Se())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(n){this.logger.warn(n,n?.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(tr.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e?.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},Me.toMiliseconds(qxe)))))}isInitialized(){if(!this.initialized){const{message:e}=Ue("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}};function fTe(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function zD(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function FD(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const hTe="[object RegExp]",pTe="[object String]",mTe="[object Number]",yTe="[object Boolean]",qD="[object Arguments]",gTe="[object Symbol]",bTe="[object Date]",wTe="[object Map]",vTe="[object Set]",_Te="[object Array]",ETe="[object Function]",STe="[object ArrayBuffer]",WA="[object Object]",ATe="[object Error]",xTe="[object DataView]",TTe="[object Uint8Array]",ITe="[object Uint8ClampedArray]",CTe="[object Uint16Array]",OTe="[object Uint32Array]",kTe="[object BigUint64Array]",RTe="[object Int8Array]",NTe="[object Int16Array]",$Te="[object Int32Array]",PTe="[object BigInt64Array]",DTe="[object Float32Array]",UTe="[object Float64Array]";function MTe(){}function WD(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function BTe(t,e,n){return ty(t,e,void 0,void 0,void 0,void 0,n)}function ty(t,e,n,r,i,s,a){const c=a(t,e,n,r,i,s);if(c!==void 0)return c;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return by(t,e,s,a)}return by(t,e,s,a)}function by(t,e,n,r){if(Object.is(t,e))return!0;let i=FD(t),s=FD(e);if(i===qD&&(i=WA),s===qD&&(s=WA),i!==s)return!1;switch(i){case pTe:return t.toString()===e.toString();case mTe:{const u=t.valueOf(),d=e.valueOf();return fTe(u,d)}case yTe:case bTe:case gTe:return Object.is(t.valueOf(),e.valueOf());case hTe:return t.source===e.source&&t.flags===e.flags;case ETe:return t===e}n=n??new Map;const a=n.get(t),c=n.get(e);if(a!=null&&c!=null)return a===e;n.set(t,e),n.set(e,t);try{switch(i){case wTe:{if(t.size!==e.size)return!1;for(const[u,d]of t.entries())if(!e.has(u)||!ty(d,e.get(u),u,t,e,n,r))return!1;return!0}case vTe:{if(t.size!==e.size)return!1;const u=Array.from(t.values()),d=Array.from(e.values());for(let h=0;h<u.length;h++){const p=u[h],y=d.findIndex(g=>ty(p,g,void 0,t,e,n,r));if(y===-1)return!1;d.splice(y,1)}return!0}case _Te:case TTe:case ITe:case CTe:case OTe:case kTe:case RTe:case NTe:case $Te:case PTe:case DTe:case UTe:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let u=0;u<t.length;u++)if(!ty(t[u],e[u],u,t,e,n,r))return!1;return!0}case STe:return t.byteLength!==e.byteLength?!1:by(new Uint8Array(t),new Uint8Array(e),n,r);case xTe:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:by(new Uint8Array(t),new Uint8Array(e),n,r);case ATe:return t.name===e.name&&t.message===e.message;case WA:{if(!(by(t.constructor,e.constructor,n,r)||WD(t)&&WD(e)))return!1;const u=[...Object.keys(t),...zD(t)],d=[...Object.keys(e),...zD(e)];if(u.length!==d.length)return!1;for(let h=0;h<u.length;h++){const p=u[h],y=t[p];if(!Object.hasOwn(e,p))return!1;const g=e[p];if(!ty(y,g,p,t,e,n,r))return!1}return!0}default:return!1}}finally{n.delete(t),n.delete(e)}}function LTe(t,e){return BTe(t,e,MTe)}var jTe=Object.defineProperty,HD=Object.getOwnPropertySymbols,zTe=Object.prototype.hasOwnProperty,FTe=Object.prototype.propertyIsEnumerable,z5=(t,e,n)=>e in t?jTe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,VD=(t,e)=>{for(var n in e||(e={}))zTe.call(e,n)&&z5(t,n,e[n]);if(HD)for(var n of HD(e))FTe.call(e,n)&&z5(t,n,e[n]);return t},Fi=(t,e,n)=>z5(t,typeof e!="symbol"?e+"":e,n);let Zd=class extends OAe{constructor(e,n,r,i=To,s=void 0){super(e,n,r,i),this.core=e,this.logger=n,this.name=r,Fi(this,"map",new Map),Fi(this,"version",Wxe),Fi(this,"cached",[]),Fi(this,"initialized",!1),Fi(this,"getKey"),Fi(this,"storagePrefix",To),Fi(this,"recentlyDeleted",[]),Fi(this,"recentlyDeletedLimit",200),Fi(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(a=>{this.getKey&&a!==null&&!Ir(a)?this.map.set(this.getKey(a),a):oSe(a)?this.map.set(a.id,a):cSe(a)&&this.map.set(a.topic,a)}),this.cached=[],this.initialized=!0)}),Fi(this,"set",async(a,c)=>{this.isInitialized(),this.map.has(a)?await this.update(a,c):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:a,value:c}),this.map.set(a,c),await this.persist())}),Fi(this,"get",a=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:a}),this.getData(a))),Fi(this,"getAll",a=>(this.isInitialized(),a?this.values.filter(c=>Object.keys(a).every(u=>LTe(c[u],a[u]))):this.values)),Fi(this,"update",async(a,c)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:a,update:c});const u=VD(VD({},this.getData(a)),c);this.map.set(a,u),await this.persist()}),Fi(this,"delete",async(a,c)=>{this.isInitialized(),this.map.has(a)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:a,reason:c}),this.map.delete(a),this.addToRecentlyDeleted(a),await this.persist())}),this.logger=Rs(n,this.name),this.storagePrefix=i,this.getKey=s}get context(){return ss(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const n=this.map.get(e);if(!n){if(this.recentlyDeleted.includes(e)){const{message:i}=Ue("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}const{message:r}=Ue("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(r),new Error(r)}return n}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:n}=Ue("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=Ue("NOT_INITIALIZED",this.name);throw new Error(e)}}};var qTe=Object.defineProperty,WTe=(t,e,n)=>e in t?qTe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,zt=(t,e,n)=>WTe(t,typeof e!="symbol"?e+"":e,n);let HTe=class{constructor(e,n){this.core=e,this.logger=n,zt(this,"name",Kxe),zt(this,"version",Yxe),zt(this,"events",new Q3),zt(this,"pairings"),zt(this,"initialized",!1),zt(this,"storagePrefix",To),zt(this,"ignoredPayloadTypes",[Nc]),zt(this,"registeredMethods",[]),zt(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),zt(this,"register",({methods:r})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...r])]}),zt(this,"create",async r=>{this.isInitialized();const i=I5(),s=await this.core.crypto.setSymKey(i),a=dr(Me.FIVE_MINUTES),c={protocol:bW},u={topic:s,expiry:a,relay:c,active:!1,methods:r?.methods},d=nD({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:i,relay:c,expiryTimestamp:a,methods:r?.methods});return this.events.emit(Ju.create,u),this.core.expirer.set(s,a),await this.pairings.set(s,u),await this.core.relayer.subscribe(s,{transportType:r?.transportType,internal:r?.internal}),{topic:s,uri:d}}),zt(this,"pair",async r=>{this.isInitialized();const i=this.core.eventClient.createEvent({properties:{topic:r?.uri,trace:[ao.pairing_started]}});this.isValidPair(r,i);const{topic:s,symKey:a,relay:c,expiryTimestamp:u,methods:d}=tD(r.uri);i.props.properties.topic=s,i.addTrace(ao.pairing_uri_validation_success),i.addTrace(ao.pairing_uri_not_expired);let h;if(this.pairings.keys.includes(s)){if(h=this.pairings.get(s),i.addTrace(ao.existing_pairing),h.active)throw i.setError(dc.active_pairing_already_exists),new Error(`Pairing already exists: ${s}. Please try again with a new connection URI.`);i.addTrace(ao.pairing_not_expired)}const p=u||dr(Me.FIVE_MINUTES),y={topic:s,relay:c,expiry:p,active:!1,methods:d};this.core.expirer.set(s,p),await this.pairings.set(s,y),i.addTrace(ao.store_new_pairing),r.activatePairing&&await this.activate({topic:s}),this.events.emit(Ju.create,y),i.addTrace(ao.emit_inactive_pairing),this.core.crypto.keychain.has(s)||await this.core.crypto.setSymKey(a,s),i.addTrace(ao.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{i.setError(dc.no_internet_connection)}try{await this.core.relayer.subscribe(s,{relay:c})}catch(g){throw i.setError(dc.subscribe_pairing_topic_failure),g}return i.addTrace(ao.subscribe_pairing_topic_success),y}),zt(this,"activate",async({topic:r})=>{this.isInitialized();const i=dr(Me.FIVE_MINUTES);this.core.expirer.set(r,i),await this.pairings.update(r,{active:!0,expiry:i})}),zt(this,"ping",async r=>{this.isInitialized(),await this.isValidPing(r),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:i}=r;if(this.pairings.keys.includes(i)){const s=await this.sendRequest(i,"wc_pairingPing",{}),{done:a,resolve:c,reject:u}=Vu();this.events.once(sn("pairing_ping",s),({error:d})=>{d?u(d):c()}),await a()}}),zt(this,"updateExpiry",async({topic:r,expiry:i})=>{this.isInitialized(),await this.pairings.update(r,{expiry:i})}),zt(this,"updateMetadata",async({topic:r,metadata:i})=>{this.isInitialized(),await this.pairings.update(r,{peerMetadata:i})}),zt(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),zt(this,"disconnect",async r=>{this.isInitialized(),await this.isValidDisconnect(r);const{topic:i}=r;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",Un("USER_DISCONNECTED")),await this.deletePairing(i))}),zt(this,"formatUriFromPairing",r=>{this.isInitialized();const{topic:i,relay:s,expiry:a,methods:c}=r,u=this.core.crypto.keychain.get(i);return nD({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:u,relay:s,expiryTimestamp:a,methods:c})}),zt(this,"sendRequest",async(r,i,s)=>{const a=Ca(i,s),c=await this.core.crypto.encode(r,a),u=Nm[i].req;return this.core.history.set(r,a),this.core.relayer.publish(r,c,u),a.id}),zt(this,"sendResult",async(r,i,s)=>{const a=cg(r,s),c=await this.core.crypto.encode(i,a),u=(await this.core.history.get(i,r)).request.method,d=Nm[u].res;await this.core.relayer.publish(i,c,d),await this.core.history.resolve(a)}),zt(this,"sendError",async(r,i,s)=>{const a=w_(r,s),c=await this.core.crypto.encode(i,a),u=(await this.core.history.get(i,r)).request.method,d=Nm[u]?Nm[u].res:Nm.unregistered_method.res;await this.core.relayer.publish(i,c,d),await this.core.history.resolve(a)}),zt(this,"deletePairing",async(r,i)=>{await this.core.relayer.unsubscribe(r),await Promise.all([this.pairings.delete(r,Un("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(r),i?Promise.resolve():this.core.expirer.del(r)])}),zt(this,"cleanup",async()=>{const r=this.pairings.getAll().filter(i=>fo(i.expiry));await Promise.all(r.map(i=>this.deletePairing(i.topic)))}),zt(this,"onRelayEventRequest",async r=>{const{topic:i,payload:s}=r;switch(s.method){case"wc_pairingPing":return await this.onPairingPingRequest(i,s);case"wc_pairingDelete":return await this.onPairingDeleteRequest(i,s);default:return await this.onUnknownRpcMethodRequest(i,s)}}),zt(this,"onRelayEventResponse",async r=>{const{topic:i,payload:s}=r,a=(await this.core.history.get(i,s.id)).request.method;return a==="wc_pairingPing"?this.onPairingPingResponse(i,s):this.onUnknownRpcMethodResponse(a)}),zt(this,"onPairingPingRequest",async(r,i)=>{const{id:s}=i;try{this.isValidPing({topic:r}),await this.sendResult(s,r,!0),this.events.emit(Ju.ping,{id:s,topic:r})}catch(a){await this.sendError(s,r,a),this.logger.error(a)}}),zt(this,"onPairingPingResponse",(r,i)=>{const{id:s}=i;setTimeout(()=>{co(i)?this.events.emit(sn("pairing_ping",s),{}):ta(i)&&this.events.emit(sn("pairing_ping",s),{error:i.error})},500)}),zt(this,"onPairingDeleteRequest",async(r,i)=>{const{id:s}=i;try{this.isValidDisconnect({topic:r}),await this.deletePairing(r),this.events.emit(Ju.delete,{id:s,topic:r})}catch(a){await this.sendError(s,r,a),this.logger.error(a)}}),zt(this,"onUnknownRpcMethodRequest",async(r,i)=>{const{id:s,method:a}=i;try{if(this.registeredMethods.includes(a))return;const c=Un("WC_METHOD_UNSUPPORTED",a);await this.sendError(s,r,c),this.logger.error(c)}catch(c){await this.sendError(s,r,c),this.logger.error(c)}}),zt(this,"onUnknownRpcMethodResponse",r=>{this.registeredMethods.includes(r)||this.logger.error(Un("WC_METHOD_UNSUPPORTED",r))}),zt(this,"isValidPair",(r,i)=>{var s;if(!Wi(r)){const{message:c}=Ue("MISSING_OR_INVALID",`pair() params: ${r}`);throw i.setError(dc.malformed_pairing_uri),new Error(c)}if(!aSe(r.uri)){const{message:c}=Ue("MISSING_OR_INVALID",`pair() uri: ${r.uri}`);throw i.setError(dc.malformed_pairing_uri),new Error(c)}const a=tD(r?.uri);if(!((s=a?.relay)!=null&&s.protocol)){const{message:c}=Ue("MISSING_OR_INVALID","pair() uri#relay-protocol");throw i.setError(dc.malformed_pairing_uri),new Error(c)}if(!(a!=null&&a.symKey)){const{message:c}=Ue("MISSING_OR_INVALID","pair() uri#symKey");throw i.setError(dc.malformed_pairing_uri),new Error(c)}if(a!=null&&a.expiryTimestamp&&Me.toMiliseconds(a?.expiryTimestamp)<Date.now()){i.setError(dc.pairing_expired);const{message:c}=Ue("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(c)}}),zt(this,"isValidPing",async r=>{if(!Wi(r)){const{message:s}=Ue("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(s)}const{topic:i}=r;await this.isValidPairingTopic(i)}),zt(this,"isValidDisconnect",async r=>{if(!Wi(r)){const{message:s}=Ue("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(s)}const{topic:i}=r;await this.isValidPairingTopic(i)}),zt(this,"isValidPairingTopic",async r=>{if(!mr(r,!1)){const{message:i}=Ue("MISSING_OR_INVALID",`pairing topic should be a string: ${r}`);throw new Error(i)}if(!this.pairings.keys.includes(r)){const{message:i}=Ue("NO_MATCHING_KEY",`pairing topic doesn't exist: ${r}`);throw new Error(i)}if(fo(this.pairings.get(r).expiry)){await this.deletePairing(r);const{message:i}=Ue("EXPIRED",`pairing topic: ${r}`);throw new Error(i)}}),this.core=e,this.logger=Rs(n,this.name),this.pairings=new Zd(this.core,this.logger,this.name,this.storagePrefix)}get context(){return ss(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=Ue("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(tr.message,async e=>{const{topic:n,message:r,transportType:i}=e;if(this.pairings.keys.includes(n)&&i!==Dn.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))try{const s=await this.core.crypto.decode(n,r);NI(s)?(this.core.history.set(n,s),await this.onRelayEventRequest({topic:n,payload:s})):v_(s)&&(await this.core.history.resolve(s),await this.onRelayEventResponse({topic:n,payload:s}),this.core.history.delete(n,s.id)),await this.core.relayer.messages.ack(n,r)}catch(s){this.logger.error(s)}})}registerExpirerEvents(){this.core.expirer.on(Zs.expired,async e=>{const{topic:n}=cq(e.target);n&&this.pairings.keys.includes(n)&&(await this.deletePairing(n,!0),this.events.emit(Ju.expire,{topic:n}))})}};var VTe=Object.defineProperty,GTe=(t,e,n)=>e in t?VTe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Qr=(t,e,n)=>GTe(t,typeof e!="symbol"?e+"":e,n);let KTe=class extends xAe{constructor(e,n){super(e,n),this.core=e,this.logger=n,Qr(this,"records",new Map),Qr(this,"events",new ks.EventEmitter),Qr(this,"name",Zxe),Qr(this,"version",Xxe),Qr(this,"cached",[]),Qr(this,"initialized",!1),Qr(this,"storagePrefix",To),Qr(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.records.set(r.id,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Qr(this,"set",(r,i,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:r,request:i,chainId:s}),this.records.has(i.id))return;const a={id:i.id,topic:r,request:{method:i.method,params:i.params||null},chainId:s,expiry:dr(Me.THIRTY_DAYS)};this.records.set(a.id,a),this.persist(),this.events.emit(_a.created,a)}),Qr(this,"resolve",async r=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:r}),!this.records.has(r.id))return;const i=await this.getRecord(r.id);typeof i.response>"u"&&(i.response=ta(r)?{error:r.error}:{result:r.result},this.records.set(i.id,i),this.persist(),this.events.emit(_a.updated,i))}),Qr(this,"get",async(r,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:r,id:i}),await this.getRecord(i))),Qr(this,"delete",(r,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(s=>{if(s.topic===r){if(typeof i<"u"&&s.id!==i)return;this.records.delete(s.id),this.events.emit(_a.deleted,s)}}),this.persist()}),Qr(this,"exists",async(r,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===r:!1)),Qr(this,"on",(r,i)=>{this.events.on(r,i)}),Qr(this,"once",(r,i)=>{this.events.once(r,i)}),Qr(this,"off",(r,i)=>{this.events.off(r,i)}),Qr(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.logger=Rs(n,this.name)}get context(){return ss(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(n=>{if(typeof n.response<"u")return;const r={topic:n.topic,request:Ca(n.request.method,n.request.params,n.id),chainId:n.chainId};return e.push(r)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const n=this.records.get(e);if(!n){const{message:r}=Ue("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(_a.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:n}=Ue("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(_a.created,e=>{const n=_a.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(_a.updated,e=>{const n=_a.updated;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(_a.deleted,e=>{const n=_a.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.core.heartbeat.on(Kd.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(n=>{Me.toMiliseconds(n.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${n.id}`),this.records.delete(n.id),this.events.emit(_a.deleted,n,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=Ue("NOT_INITIALIZED",this.name);throw new Error(e)}}};var YTe=Object.defineProperty,ZTe=(t,e,n)=>e in t?YTe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,yi=(t,e,n)=>ZTe(t,typeof e!="symbol"?e+"":e,n);let XTe=class extends RAe{constructor(e,n){super(e,n),this.core=e,this.logger=n,yi(this,"expirations",new Map),yi(this,"events",new ks.EventEmitter),yi(this,"name",Jxe),yi(this,"version",Qxe),yi(this,"cached",[]),yi(this,"initialized",!1),yi(this,"storagePrefix",To),yi(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.expirations.set(r.target,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),yi(this,"has",r=>{try{const i=this.formatTarget(r);return typeof this.getExpiration(i)<"u"}catch{return!1}}),yi(this,"set",(r,i)=>{this.isInitialized();const s=this.formatTarget(r),a={target:s,expiry:i};this.expirations.set(s,a),this.checkExpiry(s,a),this.events.emit(Zs.created,{target:s,expiration:a})}),yi(this,"get",r=>{this.isInitialized();const i=this.formatTarget(r);return this.getExpiration(i)}),yi(this,"del",r=>{if(this.isInitialized(),this.has(r)){const i=this.formatTarget(r),s=this.getExpiration(i);this.expirations.delete(i),this.events.emit(Zs.deleted,{target:i,expiration:s})}}),yi(this,"on",(r,i)=>{this.events.on(r,i)}),yi(this,"once",(r,i)=>{this.events.once(r,i)}),yi(this,"off",(r,i)=>{this.events.off(r,i)}),yi(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.logger=Rs(n,this.name)}get context(){return ss(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return B1e(e);if(typeof e=="number")return L1e(e);const{message:n}=Ue("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(n)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Zs.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:n}=Ue("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const n=this.expirations.get(e);if(!n){const{message:r}=Ue("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(r),new Error(r)}return n}checkExpiry(e,n){const{expiry:r}=n;Me.toMiliseconds(r)-Date.now()<=0&&this.expire(e,n)}expire(e,n){this.expirations.delete(e),this.events.emit(Zs.expired,{target:e,expiration:n})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,n)=>this.checkExpiry(n,e))}registerEventListeners(){this.core.heartbeat.on(Kd.pulse,()=>this.checkExpirations()),this.events.on(Zs.created,e=>{const n=Zs.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(Zs.expired,e=>{const n=Zs.expired;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(Zs.deleted,e=>{const n=Zs.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=Ue("NOT_INITIALIZED",this.name);throw new Error(e)}}};var JTe=Object.defineProperty,QTe=(t,e,n)=>e in t?JTe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,lr=(t,e,n)=>QTe(t,typeof e!="symbol"?e+"":e,n);let e3e=class extends NAe{constructor(e,n,r){super(e,n,r),this.core=e,this.logger=n,this.store=r,lr(this,"name",e6e),lr(this,"abortController"),lr(this,"isDevEnv"),lr(this,"verifyUrlV3",n6e),lr(this,"storagePrefix",To),lr(this,"version",gW),lr(this,"publicKey"),lr(this,"fetchPromise"),lr(this,"init",async()=>{var i;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&Me.toMiliseconds((i=this.publicKey)==null?void 0:i.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),lr(this,"register",async i=>{if(!hp()||this.isDevEnv)return;const s=window.location.origin,{id:a,decryptedId:c}=i,u=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${s}&id=${a}&decryptedId=${c}`;try{const d=Lc.getDocument(),h=this.startAbortTimer(Me.ONE_SECOND*5),p=await new Promise((y,g)=>{const b=()=>{window.removeEventListener("message",E),d.body.removeChild(v),g("attestation aborted")};this.abortController.signal.addEventListener("abort",b);const v=d.createElement("iframe");v.src=u,v.style.display="none",v.addEventListener("error",b,{signal:this.abortController.signal});const E=O=>{if(O.data&&typeof O.data=="string")try{const k=JSON.parse(O.data);if(k.type==="verify_attestation"){if(h5(k.attestation).payload.id!==a)return;clearInterval(h),d.body.removeChild(v),this.abortController.signal.removeEventListener("abort",b),window.removeEventListener("message",E),y(k.attestation===null?"":k.attestation)}}catch(k){this.logger.warn(k)}};d.body.appendChild(v),window.addEventListener("message",E,{signal:this.abortController.signal})});return this.logger.debug(p,"jwt attestation"),p}catch(d){this.logger.warn(d)}return""}),lr(this,"resolve",async i=>{if(this.isDevEnv)return"";const{attestationId:s,hash:a,encryptedId:c}=i;if(s===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(s){if(h5(s).payload.id!==c)return;const d=await this.isValidJwtAttestation(s);if(d){if(!d.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return d}}if(!a)return;const u=this.getVerifyUrl(i?.verifyUrl);return this.fetchAttestation(a,u)}),lr(this,"fetchAttestation",async(i,s)=>{this.logger.debug(`resolving attestation: ${i} from url: ${s}`);const a=this.startAbortTimer(Me.ONE_SECOND*5),c=await fetch(`${s}/attestation/${i}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(a),c.status===200?await c.json():void 0}),lr(this,"getVerifyUrl",i=>{let s=i||gy;return r6e.includes(s)||(this.logger.info(`verify url: ${s}, not included in trusted list, assigning default: ${gy}`),s=gy),s}),lr(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const i=this.startAbortTimer(Me.FIVE_SECONDS),s=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(i),await s.json()}catch(i){this.logger.warn(i)}}),lr(this,"persistPublicKey",async i=>{this.logger.debug(i,"persisting public key to local storage"),await this.store.setItem(this.storeKey,i),this.publicKey=i}),lr(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),lr(this,"isValidJwtAttestation",async i=>{const s=await this.getPublicKey();try{if(s)return this.validateAttestation(i,s)}catch(c){this.logger.error(c),this.logger.warn("error validating attestation")}const a=await this.fetchAndPersistPublicKey();try{if(a)return this.validateAttestation(i,a)}catch(c){this.logger.error(c),this.logger.warn("error validating attestation")}}),lr(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),lr(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async s=>{const a=await this.fetchPublicKey();a&&(await this.persistPublicKey(a),s(a))});const i=await this.fetchPromise;return this.fetchPromise=void 0,i}),lr(this,"validateAttestation",(i,s)=>{const a=$2e(i,s.publicKey),c={hasExpired:Me.toMiliseconds(a.exp)<Date.now(),payload:a};if(c.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:c.payload.origin,isScam:c.payload.isScam,isVerified:c.payload.isVerified}}),this.logger=Rs(n,this.name),this.abortController=new AbortController,this.isDevEnv=bI(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return ss(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),Me.toMiliseconds(e))}};var t3e=Object.defineProperty,n3e=(t,e,n)=>e in t?t3e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,GD=(t,e,n)=>n3e(t,typeof e!="symbol"?e+"":e,n);let r3e=class extends $Ae{constructor(e,n){super(e,n),this.projectId=e,this.logger=n,GD(this,"context",i6e),GD(this,"registerDeviceToken",async r=>{const{clientId:i,token:s,notificationType:a,enableEncrypted:c=!1}=r,u=`${s6e}/${this.projectId}/clients`;await fetch(u,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:a,token:s,always_raw:c})})}),this.logger=Rs(n,this.context)}};var i3e=Object.defineProperty,KD=Object.getOwnPropertySymbols,s3e=Object.prototype.hasOwnProperty,a3e=Object.prototype.propertyIsEnumerable,F5=(t,e,n)=>e in t?i3e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Dm=(t,e)=>{for(var n in e||(e={}))s3e.call(e,n)&&F5(t,n,e[n]);if(KD)for(var n of KD(e))a3e.call(e,n)&&F5(t,n,e[n]);return t},Ur=(t,e,n)=>F5(t,typeof e!="symbol"?e+"":e,n);let o3e=class extends PAe{constructor(e,n,r=!0){super(e,n,r),this.core=e,this.logger=n,Ur(this,"context",o6e),Ur(this,"storagePrefix",To),Ur(this,"storageVersion",a6e),Ur(this,"events",new Map),Ur(this,"shouldPersist",!1),Ur(this,"init",async()=>{if(!bI())try{const i={eventId:_P(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:aq(this.core.relayer.protocol,this.core.relayer.version,P5)}}};await this.sendEvent([i])}catch(i){this.logger.warn(i)}}),Ur(this,"createEvent",i=>{const{event:s="ERROR",type:a="",properties:{topic:c,trace:u}}=i,d=_P(),h=this.core.projectId||"",p=Date.now(),y=Dm({eventId:d,timestamp:p,props:{event:s,type:a,properties:{topic:c,trace:u}},bundleId:h,domain:this.getAppDomain()},this.setMethods(d));return this.telemetryEnabled&&(this.events.set(d,y),this.shouldPersist=!0),y}),Ur(this,"getEvent",i=>{const{eventId:s,topic:a}=i;if(s)return this.events.get(s);const c=Array.from(this.events.values()).find(u=>u.props.properties.topic===a);if(c)return Dm(Dm({},c),this.setMethods(c.eventId))}),Ur(this,"deleteEvent",i=>{const{eventId:s}=i;this.events.delete(s),this.shouldPersist=!0}),Ur(this,"setEventListeners",()=>{this.core.heartbeat.on(Kd.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(i=>{Me.fromMiliseconds(Date.now())-Me.fromMiliseconds(i.timestamp)>c6e&&(this.events.delete(i.eventId),this.shouldPersist=!0)})})}),Ur(this,"setMethods",i=>({addTrace:s=>this.addTrace(i,s),setError:s=>this.setError(i,s)})),Ur(this,"addTrace",(i,s)=>{const a=this.events.get(i);a&&(a.props.properties.trace.push(s),this.events.set(i,a),this.shouldPersist=!0)}),Ur(this,"setError",(i,s)=>{const a=this.events.get(i);a&&(a.props.type=s,a.timestamp=Date.now(),this.events.set(i,a),this.shouldPersist=!0)}),Ur(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),Ur(this,"restore",async()=>{try{const i=await this.core.storage.getItem(this.storageKey)||[];if(!i.length)return;i.forEach(s=>{this.events.set(s.eventId,Dm(Dm({},s),this.setMethods(s.eventId)))})}catch(i){this.logger.warn(i)}}),Ur(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const i=[];for(const[s,a]of this.events)a.props.type&&i.push(a);if(i.length!==0)try{if((await this.sendEvent(i)).ok)for(const s of i)this.events.delete(s.eventId),this.shouldPersist=!0}catch(s){this.logger.warn(s)}}),Ur(this,"sendEvent",async i=>{const s=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${l6e}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${P5}${s}`,{method:"POST",body:JSON.stringify(i)})}),Ur(this,"getAppDomain",()=>sq().url),this.logger=Rs(n,this.context),this.telemetryEnabled=r,r?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}};var c3e=Object.defineProperty,YD=Object.getOwnPropertySymbols,l3e=Object.prototype.hasOwnProperty,u3e=Object.prototype.propertyIsEnumerable,q5=(t,e,n)=>e in t?c3e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ZD=(t,e)=>{for(var n in e||(e={}))l3e.call(e,n)&&q5(t,n,e[n]);if(YD)for(var n of YD(e))u3e.call(e,n)&&q5(t,n,e[n]);return t},Tn=(t,e,n)=>q5(t,typeof e!="symbol"?e+"":e,n);let d3e=class NW extends _Ae{constructor(e){var n;super(e),Tn(this,"protocol",yW),Tn(this,"version",gW),Tn(this,"name",$5),Tn(this,"relayUrl"),Tn(this,"projectId"),Tn(this,"customStoragePrefix"),Tn(this,"events",new ks.EventEmitter),Tn(this,"logger"),Tn(this,"heartbeat"),Tn(this,"relayer"),Tn(this,"crypto"),Tn(this,"storage"),Tn(this,"history"),Tn(this,"expirer"),Tn(this,"pairing"),Tn(this,"verify"),Tn(this,"echoClient"),Tn(this,"linkModeSupportedApps"),Tn(this,"eventClient"),Tn(this,"initialized",!1),Tn(this,"logChunkController"),Tn(this,"on",(c,u)=>this.events.on(c,u)),Tn(this,"once",(c,u)=>this.events.once(c,u)),Tn(this,"off",(c,u)=>this.events.off(c,u)),Tn(this,"removeListener",(c,u)=>this.events.removeListener(c,u)),Tn(this,"dispatchEnvelope",({topic:c,message:u,sessionExists:d})=>{if(!c||!u)return;const h={topic:c,message:u,publishedAt:Date.now(),transportType:Dn.link_mode};this.relayer.onLinkMessageEvent(h,{sessionExists:d})});const r=this.getGlobalCore(e?.customStoragePrefix);if(r)try{return this.customStoragePrefix=r.customStoragePrefix,this.logger=r.logger,this.heartbeat=r.heartbeat,this.crypto=r.crypto,this.history=r.history,this.expirer=r.expirer,this.storage=r.storage,this.relayer=r.relayer,this.pairing=r.pairing,this.verify=r.verify,this.echoClient=r.echoClient,this.linkModeSupportedApps=r.linkModeSupportedApps,this.eventClient=r.eventClient,this.initialized=r.initialized,this.logChunkController=r.logChunkController,r}catch(c){console.warn("Failed to copy global core",c)}this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||wW,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const i=y1e({level:typeof e?.logger=="string"&&e.logger?e.logger:kxe.logger,name:$5}),{logger:s,chunkLoggerController:a}=rq({opts:i,maxSizeInBytes:e?.maxLogBlobSizeInBytes,loggerOverride:e?.logger});this.logChunkController=a,(n=this.logChunkController)!=null&&n.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var c,u;(c=this.logChunkController)!=null&&c.downloadLogsBlobInBrowser&&((u=this.logChunkController)==null||u.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=Rs(s,this.name),this.heartbeat=new qSe,this.crypto=new B5e(this,this.logger,e?.keychain),this.history=new KTe(this,this.logger),this.expirer=new XTe(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new bAe(ZD(ZD({},Rxe),e?.storageOptions)),this.relayer=new dTe({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new HTe(this,this.logger),this.verify=new e3e(this,this.logger,this.storage),this.echoClient=new r3e(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new o3e(this,this.logger,e?.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const n=new NW(e);await n.initialize();const r=await n.crypto.getClientId();return await n.storage.setItem(Hxe,r),n}get context(){return ss(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(CD,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(CD)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(e,`Core Initialization Failure at epoch ${Date.now()}`),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${e}`,r=`${n}_count`;return globalThis[r]=(globalThis[r]||0)+1,globalThis[r]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[r]} times.`),globalThis[n]}catch(n){console.warn("Failed to get global WalletConnect core",n);return}}setGlobalCore(e){var n;try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${((n=e.opts)==null?void 0:n.customStoragePrefix)||""}`;globalThis[r]=e}catch(r){console.warn("Failed to set global WalletConnect core",r)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&Oxe.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const f3e=d3e,$W="wc",PW=2,DW="client",PI=`${$W}@${PW}:${DW}:`,HA={name:DW,logger:"error"},XD="WALLETCONNECT_DEEPLINK_CHOICE",h3e="proposal",JD="Proposal expired",p3e="session",Xf=Me.SEVEN_DAYS,m3e="engine",ei={wc_sessionPropose:{req:{ttl:Me.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:Me.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:Me.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:Me.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:Me.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:Me.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:Me.ONE_DAY,prompt:!1,tag:1104},res:{ttl:Me.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:Me.ONE_DAY,prompt:!1,tag:1106},res:{ttl:Me.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:Me.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:Me.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:Me.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:Me.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:Me.ONE_DAY,prompt:!1,tag:1112},res:{ttl:Me.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:Me.ONE_DAY,prompt:!1,tag:1114},res:{ttl:Me.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:Me.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:Me.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:Me.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:Me.FIVE_MINUTES,prompt:!1,tag:1119}}},VA={min:Me.FIVE_MINUTES,max:Me.SEVEN_DAYS},no={idle:"IDLE",active:"ACTIVE"},y3e={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},g3e="request",b3e=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],w3e="wc",v3e="auth",_3e="authKeys",E3e="pairingTopics",S3e="requests",E_=`${w3e}@${1.5}:${v3e}:`,Mw=`${E_}:PUB_KEY`;var A3e=Object.defineProperty,x3e=Object.defineProperties,T3e=Object.getOwnPropertyDescriptors,QD=Object.getOwnPropertySymbols,I3e=Object.prototype.hasOwnProperty,C3e=Object.prototype.propertyIsEnumerable,W5=(t,e,n)=>e in t?A3e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,dn=(t,e)=>{for(var n in e||(e={}))I3e.call(e,n)&&W5(t,n,e[n]);if(QD)for(var n of QD(e))C3e.call(e,n)&&W5(t,n,e[n]);return t},gi=(t,e)=>x3e(t,T3e(e)),Oe=(t,e,n)=>W5(t,typeof e!="symbol"?e+"":e,n);let O3e=class extends BAe{constructor(e){super(e),Oe(this,"name",m3e),Oe(this,"events",new Q3),Oe(this,"initialized",!1),Oe(this,"requestQueue",{state:no.idle,queue:[]}),Oe(this,"sessionRequestQueue",{state:no.idle,queue:[]}),Oe(this,"emittedSessionRequests",new K1e({limit:500})),Oe(this,"requestQueueDelay",Me.ONE_SECOND),Oe(this,"expectedPairingMethodMap",new Map),Oe(this,"recentlyDeletedMap",new Map),Oe(this,"recentlyDeletedLimit",200),Oe(this,"relayMessageCache",[]),Oe(this,"pendingSessions",new Map),Oe(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(ei)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},Me.toMiliseconds(this.requestQueueDelay)))}),Oe(this,"connect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const r=gi(dn({},n),{requiredNamespaces:n.requiredNamespaces||{},optionalNamespaces:n.optionalNamespaces||{}});await this.isValidConnect(r),r.optionalNamespaces=tSe(r.requiredNamespaces,r.optionalNamespaces),r.requiredNamespaces={};const{pairingTopic:i,requiredNamespaces:s,optionalNamespaces:a,sessionProperties:c,scopedProperties:u,relays:d}=r;let h=i,p,y=!1;try{if(h){const I=this.client.core.pairing.pairings.get(h);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),y=I.active}}catch(I){throw this.client.logger.error(`connect() -> pairing.get(${h}) failed`),I}if(!h||!y){const{topic:I,uri:$}=await this.client.core.pairing.create({internal:{skipSubscribe:!0}});h=I,p=$}if(!h){const{message:I}=Ue("NO_MATCHING_KEY",`connect() pairing topic: ${h}`);throw new Error(I)}const g=await this.client.core.crypto.generateKeyPair(),b=ei.wc_sessionPropose.req.ttl||Me.FIVE_MINUTES,v=dr(b),E=gi(dn(dn({requiredNamespaces:s,optionalNamespaces:a,relays:d??[{protocol:bW}],proposer:{publicKey:g,metadata:this.client.metadata},expiryTimestamp:v,pairingTopic:h},c&&{sessionProperties:c}),u&&{scopedProperties:u}),{id:oo()}),O=sn("session_connect",E.id),{reject:k,resolve:A,done:S}=Vu(b,JD),C=({id:I})=>{I===E.id&&(this.client.events.off("proposal_expire",C),this.pendingSessions.delete(E.id),this.events.emit(O,{error:{message:JD,code:0}}))};return this.client.events.on("proposal_expire",C),this.events.once(O,({error:I,session:$})=>{this.client.events.off("proposal_expire",C),I?k(I):$&&A($)}),await this.sendProposeSession({proposal:E,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:E.id}}}),await this.setProposal(E.id,E),{uri:p,approval:S}}),Oe(this,"pair",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(n)}catch(r){throw this.client.logger.error("pair() failed"),r}}),Oe(this,"approve",async n=>{var r,i,s;const a=this.client.core.eventClient.createEvent({properties:{topic:(r=n?.id)==null?void 0:r.toString(),trace:[Ea.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(j){throw a.setError(zu.no_internet_connection),j}try{await this.isValidProposalId(n?.id)}catch(j){throw this.client.logger.error(`approve() -> proposal.get(${n?.id}) failed`),a.setError(zu.proposal_not_found),j}try{await this.isValidApprove(n)}catch(j){throw this.client.logger.error("approve() -> isValidApprove() failed"),a.setError(zu.session_approve_namespace_validation_failure),j}const{id:c,relayProtocol:u,namespaces:d,sessionProperties:h,scopedProperties:p,sessionConfig:y}=n,g=this.client.proposal.get(c);this.client.core.eventClient.deleteEvent({eventId:a.eventId});const{pairingTopic:b,proposer:v,requiredNamespaces:E,optionalNamespaces:O}=g;let k=(i=this.client.core.eventClient)==null?void 0:i.getEvent({topic:b});k||(k=(s=this.client.core.eventClient)==null?void 0:s.createEvent({type:Ea.session_approve_started,properties:{topic:b,trace:[Ea.session_approve_started,Ea.session_namespaces_validation_success]}}));const A=await this.client.core.crypto.generateKeyPair(),S=v.publicKey,C=await this.client.core.crypto.generateSharedKey(A,S),I=dn(dn(dn({relay:{protocol:u??"irn"},namespaces:d,controller:{publicKey:A,metadata:this.client.metadata},expiry:dr(Xf)},h&&{sessionProperties:h}),p&&{scopedProperties:p}),y&&{sessionConfig:y}),$=Dn.relay;k.addTrace(Ea.subscribing_session_topic);try{await this.client.core.relayer.subscribe(C,{transportType:$,internal:{skipSubscribe:!0}})}catch(j){throw k.setError(zu.subscribe_session_topic_failure),j}k.addTrace(Ea.subscribe_session_topic_success);const z=gi(dn({},I),{topic:C,requiredNamespaces:E,optionalNamespaces:O,pairingTopic:b,acknowledged:!1,self:I.controller,peer:{publicKey:v.publicKey,metadata:v.metadata},controller:A,transportType:Dn.relay});await this.client.session.set(C,z),k.addTrace(Ea.store_session);try{await this.sendApproveSession({sessionTopic:C,proposal:g,pairingProposalResponse:{relay:{protocol:u??"irn"},responderPublicKey:A},sessionSettleRequest:I,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:c}}}),k.addTrace(Ea.session_approve_publish_success)}catch(j){throw this.client.logger.error(j),this.client.session.delete(C,Un("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(C),j}return this.client.core.eventClient.deleteEvent({eventId:k.eventId}),await this.client.core.pairing.updateMetadata({topic:b,metadata:v.metadata}),await this.deleteProposal(c),await this.client.core.pairing.activate({topic:b}),await this.setExpiry(C,dr(Xf)),{topic:C,acknowledged:()=>Promise.resolve(this.client.session.get(C))}}),Oe(this,"reject",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(n)}catch(a){throw this.client.logger.error("reject() -> isValidReject() failed"),a}const{id:r,reason:i}=n;let s;try{s=this.client.proposal.get(r).pairingTopic}catch(a){throw this.client.logger.error(`reject() -> proposal.get(${r}) failed`),a}s&&await this.sendError({id:r,topic:s,error:i,rpcOpts:ei.wc_sessionPropose.reject}),await this.deleteProposal(r)}),Oe(this,"update",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(n)}catch(p){throw this.client.logger.error("update() -> isValidUpdate() failed"),p}const{topic:r,namespaces:i}=n,{done:s,resolve:a,reject:c}=Vu(),u=oo(),d=tu().toString(),h=this.client.session.get(r).namespaces;return this.events.once(sn("session_update",u),({error:p})=>{p?c(p):a()}),await this.client.session.update(r,{namespaces:i}),await this.sendRequest({topic:r,method:"wc_sessionUpdate",params:{namespaces:i},throwOnFailedPublish:!0,clientRpcId:u,relayRpcId:d}).catch(p=>{this.client.logger.error(p),this.client.session.update(r,{namespaces:h}),c(p)}),{acknowledged:s}}),Oe(this,"extend",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(n)}catch(u){throw this.client.logger.error("extend() -> isValidExtend() failed"),u}const{topic:r}=n,i=oo(),{done:s,resolve:a,reject:c}=Vu();return this.events.once(sn("session_extend",i),({error:u})=>{u?c(u):a()}),await this.setExpiry(r,dr(Xf)),this.sendRequest({topic:r,method:"wc_sessionExtend",params:{},clientRpcId:i,throwOnFailedPublish:!0}).catch(u=>{c(u)}),{acknowledged:s}}),Oe(this,"request",async n=>{this.isInitialized();try{await this.isValidRequest(n)}catch(E){throw this.client.logger.error("request() -> isValidRequest() failed"),E}const{chainId:r,request:i,topic:s,expiry:a=ei.wc_sessionRequest.req.ttl}=n,c=this.client.session.get(s);c?.transportType===Dn.relay&&await this.confirmOnlineStateOrThrow();const u=oo(),d=tu().toString(),{done:h,resolve:p,reject:y}=Vu(a,"Request expired. Please try again.");this.events.once(sn("session_request",u),({error:E,result:O})=>{E?y(E):p(O)});const g="wc_sessionRequest",b=this.getAppLinkIfEnabled(c.peer.metadata,c.transportType);if(b)return await this.sendRequest({clientRpcId:u,relayRpcId:d,topic:s,method:g,params:{request:gi(dn({},i),{expiryTimestamp:dr(a)}),chainId:r},expiry:a,throwOnFailedPublish:!0,appLink:b}).catch(E=>y(E)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:r,id:u}),await h();const v={request:gi(dn({},i),{expiryTimestamp:dr(a)}),chainId:r};return await Promise.all([new Promise(async E=>{await this.sendRequest({clientRpcId:u,relayRpcId:d,topic:s,method:g,params:v,expiry:a,throwOnFailedPublish:!0,tvf:this.getTVFParams(u,v)}).catch(O=>y(O)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:r,id:u}),E()}),new Promise(async E=>{var O;if(!((O=c.sessionConfig)!=null&&O.disableDeepLink)){const k=await q1e(this.client.core.storage,XD);await j1e({id:u,topic:s,wcDeepLink:k})}E()}),h()]).then(E=>E[2])}),Oe(this,"respond",async n=>{var r,i;this.isInitialized();const s=this.client.core.eventClient.createEvent({properties:{topic:n?.topic||((i=(r=n?.response)==null?void 0:r.id)==null?void 0:i.toString()),trace:[Ea.session_request_response_started]}});try{await this.isValidRespond(n)}catch(p){throw s.addTrace(p?.message),s.setError(zu.session_request_response_validation_failure),p}s.addTrace(Ea.session_request_response_validation_success);const{topic:a,response:c}=n,{id:u}=c,d=this.client.session.get(a);d.transportType===Dn.relay&&await this.confirmOnlineStateOrThrow();const h=this.getAppLinkIfEnabled(d.peer.metadata,d.transportType);try{s.addTrace(Ea.session_request_response_publish_started),co(c)?await this.sendResult({id:u,topic:a,result:c.result,throwOnFailedPublish:!0,appLink:h}):ta(c)&&await this.sendError({id:u,topic:a,error:c.error,appLink:h}),this.cleanupAfterResponse(n)}catch(p){throw s.addTrace(p?.message),s.setError(zu.session_request_response_publish_failure),p}}),Oe(this,"ping",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(n)}catch(i){throw this.client.logger.error("ping() -> isValidPing() failed"),i}const{topic:r}=n;if(this.client.session.keys.includes(r)){const i=oo(),s=tu().toString(),{done:a,resolve:c,reject:u}=Vu();this.events.once(sn("session_ping",i),({error:d})=>{d?u(d):c()}),await Promise.all([this.sendRequest({topic:r,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:i,relayRpcId:s}),a()])}else this.client.core.pairing.pairings.keys.includes(r)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:r}))}),Oe(this,"emit",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(n);const{topic:r,event:i,chainId:s}=n,a=tu().toString(),c=oo();await this.sendRequest({topic:r,method:"wc_sessionEvent",params:{event:i,chainId:s},throwOnFailedPublish:!0,relayRpcId:a,clientRpcId:c})}),Oe(this,"disconnect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(n);const{topic:r}=n;if(this.client.session.keys.includes(r))await this.sendRequest({topic:r,method:"wc_sessionDelete",params:Un("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:r,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(r))await this.client.core.pairing.disconnect({topic:r});else{const{message:i}=Ue("MISMATCHED_TOPIC",`Session or pairing topic not found: ${r}`);throw new Error(i)}}),Oe(this,"find",n=>(this.isInitialized(),this.client.session.getAll().filter(r=>iSe(r,n)))),Oe(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),Oe(this,"authenticate",async(n,r)=>{var i;this.isInitialized(),this.isValidAuthenticate(n);const s=r&&this.client.core.linkModeSupportedApps.includes(r)&&((i=this.client.metadata.redirect)==null?void 0:i.linkMode),a=s?Dn.link_mode:Dn.relay;a===Dn.relay&&await this.confirmOnlineStateOrThrow();const{chains:c,statement:u="",uri:d,domain:h,nonce:p,type:y,exp:g,nbf:b,methods:v=[],expiry:E}=n,O=[...n.resources||[]],{topic:k,uri:A}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:a});this.client.logger.info({message:"Generated new pairing",pairing:{topic:k,uri:A}});const S=await this.client.core.crypto.generateKeyPair(),C=$w(S);if(await Promise.all([this.client.auth.authKeys.set(Mw,{responseTopic:C,publicKey:S}),this.client.auth.pairingTopics.set(C,{topic:C,pairingTopic:k})]),await this.client.core.relayer.subscribe(C,{transportType:a}),this.client.logger.info(`sending request to new pairing topic: ${k}`),v.length>0){const{namespace:P}=Rc(c[0]);let H=sEe(P,"request",v);Nw(O)&&(H=oEe(H,O.pop())),O.push(H)}const I=E&&E>ei.wc_sessionAuthenticate.req.ttl?E:ei.wc_sessionAuthenticate.req.ttl,$={authPayload:{type:y??"caip122",chains:c,statement:u,aud:d,domain:h,version:"1",nonce:p,iat:new Date().toISOString(),exp:g,nbf:b,resources:O},requester:{publicKey:S,metadata:this.client.metadata},expiryTimestamp:dr(I)},z={eip155:{chains:c,methods:[...new Set(["personal_sign",...v])],events:["chainChanged","accountsChanged"]}},j={requiredNamespaces:{},optionalNamespaces:z,relays:[{protocol:"irn"}],pairingTopic:k,proposer:{publicKey:S,metadata:this.client.metadata},expiryTimestamp:dr(ei.wc_sessionPropose.req.ttl),id:oo()},{done:B,resolve:G,reject:U}=Vu(I,"Request expired"),F=oo(),K=sn("session_connect",j.id),T=sn("session_request",F),x=async({error:P,session:H})=>{this.events.off(T,N),P?U(P):H&&G({session:H})},N=async P=>{var H,D,V;if(await this.deletePendingAuthRequest(F,{message:"fulfilled",code:0}),P.error){const Ee=Un("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return P.error.code===Ee.code?void 0:(this.events.off(K,x),U(P.error.message))}await this.deleteProposal(j.id),this.events.off(K,x);const{cacaos:J,responder:X}=P.result,Q=[],ge=[];for(const Ee of J){await NP({cacao:Ee,projectId:this.client.core.projectId})||(this.client.logger.error(Ee,"Signature verification failed"),U(Un("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:$e}=Ee,Fe=Nw($e.resources),tt=[g5($e.iss)],me=qv($e.iss);if(Fe){const St=$P(Fe),Ht=PP(Fe);Q.push(...St),tt.push(...Ht)}for(const St of tt)ge.push(`${St}:${me}`)}const we=await this.client.core.crypto.generateSharedKey(S,X.publicKey);let xe;Q.length>0&&(xe={topic:we,acknowledged:!0,self:{publicKey:S,metadata:this.client.metadata},peer:X,controller:X.publicKey,expiry:dr(Xf),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:k,namespaces:aD([...new Set(Q)],[...new Set(ge)]),transportType:a},await this.client.core.relayer.subscribe(we,{transportType:a}),await this.client.session.set(we,xe),k&&await this.client.core.pairing.updateMetadata({topic:k,metadata:X.metadata}),xe=this.client.session.get(we)),(H=this.client.metadata.redirect)!=null&&H.linkMode&&(D=X.metadata.redirect)!=null&&D.linkMode&&(V=X.metadata.redirect)!=null&&V.universal&&r&&(this.client.core.addLinkModeSupportedApp(X.metadata.redirect.universal),this.client.session.update(we,{transportType:Dn.link_mode})),G({auths:J,session:xe})};this.events.once(K,x),this.events.once(T,N);let L;try{if(s){const P=Ca("wc_sessionAuthenticate",$,F);this.client.core.history.set(k,P);const H=await this.client.core.crypto.encode("",P,{type:Qg,encoding:Zl});L=sw(r,k,H)}else await Promise.all([this.sendRequest({topic:k,method:"wc_sessionAuthenticate",params:$,expiry:n.expiry,throwOnFailedPublish:!0,clientRpcId:F}),this.sendRequest({topic:k,method:"wc_sessionPropose",params:j,expiry:ei.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:j.id})])}catch(P){throw this.events.off(K,x),this.events.off(T,N),P}return await this.setProposal(j.id,j),await this.setAuthRequest(F,{request:gi(dn({},$),{verifyContext:{}}),pairingTopic:k,transportType:a}),{uri:L??A,response:B}}),Oe(this,"approveSessionAuthenticate",async n=>{const{id:r,auths:i}=n,s=this.client.core.eventClient.createEvent({properties:{topic:r.toString(),trace:[Fu.authenticated_session_approve_started]}});try{this.isInitialized()}catch(E){throw s.setError($m.no_internet_connection),E}const a=this.getPendingAuthRequest(r);if(!a)throw s.setError($m.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${r}`);const c=a.transportType||Dn.relay;c===Dn.relay&&await this.confirmOnlineStateOrThrow();const u=a.requester.publicKey,d=await this.client.core.crypto.generateKeyPair(),h=$w(u),p={type:Nc,receiverPublicKey:u,senderPublicKey:d},y=[],g=[];for(const E of i){if(!await NP({cacao:E,projectId:this.client.core.projectId})){s.setError($m.invalid_cacao);const C=Un("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:r,topic:h,error:C,encodeOpts:p}),new Error(C.message)}s.addTrace(Fu.cacaos_verified);const{p:O}=E,k=Nw(O.resources),A=[g5(O.iss)],S=qv(O.iss);if(k){const C=$P(k),I=PP(k);y.push(...C),A.push(...I)}for(const C of A)g.push(`${C}:${S}`)}const b=await this.client.core.crypto.generateSharedKey(d,u);s.addTrace(Fu.create_authenticated_session_topic);let v;if(y?.length>0){v={topic:b,acknowledged:!0,self:{publicKey:d,metadata:this.client.metadata},peer:{publicKey:u,metadata:a.requester.metadata},controller:u,expiry:dr(Xf),authentication:i,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:a.pairingTopic,namespaces:aD([...new Set(y)],[...new Set(g)]),transportType:c},s.addTrace(Fu.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(b,{transportType:c})}catch(E){throw s.setError($m.subscribe_authenticated_session_topic_failure),E}s.addTrace(Fu.subscribe_authenticated_session_topic_success),await this.client.session.set(b,v),s.addTrace(Fu.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:a.pairingTopic,metadata:a.requester.metadata})}s.addTrace(Fu.publishing_authenticated_session_approve);try{await this.sendResult({topic:h,id:r,result:{cacaos:i,responder:{publicKey:d,metadata:this.client.metadata}},encodeOpts:p,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(a.requester.metadata,c)})}catch(E){throw s.setError($m.authenticated_session_approve_publish_failure),E}return await this.client.auth.requests.delete(r,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:a.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:s.eventId}),{session:v}}),Oe(this,"rejectSessionAuthenticate",async n=>{this.isInitialized();const{id:r,reason:i}=n,s=this.getPendingAuthRequest(r);if(!s)throw new Error(`Could not find pending auth request with id ${r}`);s.transportType===Dn.relay&&await this.confirmOnlineStateOrThrow();const a=s.requester.publicKey,c=await this.client.core.crypto.generateKeyPair(),u=$w(a),d={type:Nc,receiverPublicKey:a,senderPublicKey:c};await this.sendError({id:r,topic:u,error:i,encodeOpts:d,rpcOpts:ei.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(s.requester.metadata,s.transportType)}),await this.client.auth.requests.delete(r,{message:"rejected",code:0}),await this.deleteProposal(r)}),Oe(this,"formatAuthMessage",n=>{this.isInitialized();const{request:r,iss:i}=n;return Aq(r,i)}),Oe(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const n=this.relayMessageCache.shift();n&&await this.onRelayMessage(n)}catch(n){this.client.logger.error(n)}},50)}),Oe(this,"cleanupDuplicatePairings",async n=>{if(n.pairingTopic)try{const r=this.client.core.pairing.pairings.get(n.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(s=>{var a,c;return((a=s.peerMetadata)==null?void 0:a.url)&&((c=s.peerMetadata)==null?void 0:c.url)===n.peer.metadata.url&&s.topic&&s.topic!==r.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(s=>this.client.core.pairing.disconnect({topic:s.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(r){this.client.logger.error(r)}}),Oe(this,"deleteSession",async n=>{var r;const{topic:i,expirerHasDeleted:s=!1,emitEvent:a=!0,id:c=0}=n,{self:u}=this.client.session.get(i);await this.client.core.relayer.unsubscribe(i),await this.client.session.delete(i,Un("USER_DISCONNECTED")),this.addToRecentlyDeleted(i,"session"),this.client.core.crypto.keychain.has(u.publicKey)&&await this.client.core.crypto.deleteKeyPair(u.publicKey),this.client.core.crypto.keychain.has(i)&&await this.client.core.crypto.deleteSymKey(i),s||this.client.core.expirer.del(i),this.client.core.storage.removeItem(XD).catch(d=>this.client.logger.warn(d)),this.getPendingSessionRequests().forEach(d=>{d.topic===i&&this.deletePendingSessionRequest(d.id,Un("USER_DISCONNECTED"))}),i===((r=this.sessionRequestQueue.queue[0])==null?void 0:r.topic)&&(this.sessionRequestQueue.state=no.idle),a&&this.client.events.emit("session_delete",{id:c,topic:i})}),Oe(this,"deleteProposal",async(n,r)=>{if(r)try{const i=this.client.proposal.get(n);this.client.core.eventClient.getEvent({topic:i.pairingTopic})?.setError(zu.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(n,Un("USER_DISCONNECTED")),r?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"proposal")}),Oe(this,"deletePendingSessionRequest",async(n,r,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(n,r),i?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(s=>s.id!==n),i&&(this.sessionRequestQueue.state=no.idle,this.client.events.emit("session_request_expire",{id:n}))}),Oe(this,"deletePendingAuthRequest",async(n,r,i=!1)=>{await Promise.all([this.client.auth.requests.delete(n,r),i?Promise.resolve():this.client.core.expirer.del(n)])}),Oe(this,"setExpiry",async(n,r)=>{this.client.session.keys.includes(n)&&(this.client.core.expirer.set(n,r),await this.client.session.update(n,{expiry:r}))}),Oe(this,"setProposal",async(n,r)=>{this.client.core.expirer.set(n,dr(ei.wc_sessionPropose.req.ttl)),await this.client.proposal.set(n,r)}),Oe(this,"setAuthRequest",async(n,r)=>{const{request:i,pairingTopic:s,transportType:a=Dn.relay}=r;this.client.core.expirer.set(n,i.expiryTimestamp),await this.client.auth.requests.set(n,{authPayload:i.authPayload,requester:i.requester,expiryTimestamp:i.expiryTimestamp,id:n,pairingTopic:s,verifyContext:i.verifyContext,transportType:a})}),Oe(this,"setPendingSessionRequest",async n=>{const{id:r,topic:i,params:s,verifyContext:a}=n,c=s.request.expiryTimestamp||dr(ei.wc_sessionRequest.req.ttl);this.client.core.expirer.set(r,c),await this.client.pendingRequest.set(r,{id:r,topic:i,params:s,verifyContext:a})}),Oe(this,"sendRequest",async n=>{const{topic:r,method:i,params:s,expiry:a,relayRpcId:c,clientRpcId:u,throwOnFailedPublish:d,appLink:h,tvf:p,publishOpts:y={}}=n,g=Ca(i,s,u);let b;const v=!!h;try{const k=v?Zl:Ki;b=await this.client.core.crypto.encode(r,g,{encoding:k})}catch(k){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${r} failed`),k}let E;if(b3e.includes(i)){const k=ea(JSON.stringify(g)),A=ea(b);E=await this.client.core.verify.register({id:A,decryptedId:k})}const O=dn(dn({},ei[i].req),y);if(O.attestation=E,a&&(O.ttl=a),c&&(O.id=c),this.client.core.history.set(r,g),v){const k=sw(h,r,b);await global.Linking.openURL(k,this.client.name)}else O.tvf=gi(dn({},p),{correlationId:g.id}),d?(O.internal=gi(dn({},O.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,b,O)):this.client.core.relayer.publish(r,b,O).catch(k=>this.client.logger.error(k));return g.id}),Oe(this,"sendProposeSession",async n=>{const{proposal:r,publishOpts:i}=n,s=Ca("wc_sessionPropose",r,r.id);this.client.core.history.set(r.pairingTopic,s);const a=await this.client.core.crypto.encode(r.pairingTopic,s,{encoding:Ki}),c=ea(JSON.stringify(s)),u=ea(a),d=await this.client.core.verify.register({id:u,decryptedId:c});await this.client.core.relayer.publishCustom({payload:{pairingTopic:r.pairingTopic,sessionProposal:a},opts:gi(dn({},i),{publishMethod:"wc_proposeSession",attestation:d})})}),Oe(this,"sendApproveSession",async n=>{const{sessionTopic:r,pairingProposalResponse:i,proposal:s,sessionSettleRequest:a,publishOpts:c}=n,u=cg(s.id,i),d=await this.client.core.crypto.encode(s.pairingTopic,u,{encoding:Ki}),h=Ca("wc_sessionSettle",a,c?.id),p=await this.client.core.crypto.encode(r,h,{encoding:Ki});this.client.core.history.set(r,h),await this.client.core.relayer.publishCustom({payload:{sessionTopic:r,pairingTopic:s.pairingTopic,sessionProposalResponse:d,sessionSettlementRequest:p},opts:gi(dn({},c),{publishMethod:"wc_approveSession"})})}),Oe(this,"sendResult",async n=>{const{id:r,topic:i,result:s,throwOnFailedPublish:a,encodeOpts:c,appLink:u}=n,d=cg(r,s);let h;const p=u&&typeof(global==null?void 0:global.Linking)<"u";try{const b=p?Zl:Ki;h=await this.client.core.crypto.encode(i,d,gi(dn({},c||{}),{encoding:b}))}catch(b){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${i} failed`),b}let y,g;try{y=await this.client.core.history.get(i,r);const b=y.request;try{g=this.getTVFParams(r,b.params,s)}catch(v){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${v?.message}`)}}catch(b){throw this.client.logger.error(`sendResult() -> history.get(${i}, ${r}) failed`),b}if(p){const b=sw(u,i,h);await global.Linking.openURL(b,this.client.name)}else{const b=y.request.method,v=ei[b].res;v.tvf=gi(dn({},g),{correlationId:r}),a?(v.internal=gi(dn({},v.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,h,v)):this.client.core.relayer.publish(i,h,v).catch(E=>this.client.logger.error(E))}await this.client.core.history.resolve(d)}),Oe(this,"sendError",async n=>{const{id:r,topic:i,error:s,encodeOpts:a,rpcOpts:c,appLink:u}=n,d=w_(r,s);let h;const p=u&&typeof(global==null?void 0:global.Linking)<"u";try{const g=p?Zl:Ki;h=await this.client.core.crypto.encode(i,d,gi(dn({},a||{}),{encoding:g}))}catch(g){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${i} failed`),g}let y;try{y=await this.client.core.history.get(i,r)}catch(g){throw this.client.logger.error(`sendError() -> history.get(${i}, ${r}) failed`),g}if(p){const g=sw(u,i,h);await global.Linking.openURL(g,this.client.name)}else{const g=y.request.method,b=c||ei[g].res;this.client.core.relayer.publish(i,h,b)}await this.client.core.history.resolve(d)}),Oe(this,"cleanup",async()=>{const n=[],r=[];this.client.session.getAll().forEach(i=>{let s=!1;fo(i.expiry)&&(s=!0),this.client.core.crypto.keychain.has(i.topic)||(s=!0),s&&n.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{fo(i.expiryTimestamp)&&r.push(i.id)}),await Promise.all([...n.map(i=>this.deleteSession({topic:i})),...r.map(i=>this.deleteProposal(i))])}),Oe(this,"onProviderMessageEvent",async n=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(n):await this.onRelayMessage(n)}),Oe(this,"onRelayEventRequest",async n=>{this.requestQueue.queue.push(n),await this.processRequestsQueue()}),Oe(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===no.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=no.active;const n=this.requestQueue.queue.shift();if(n)try{await this.processRequest(n)}catch(r){this.client.logger.warn(r)}}this.requestQueue.state=no.idle}),Oe(this,"processRequest",async n=>{const{topic:r,payload:i,attestation:s,transportType:a,encryptedId:c}=n,u=i.method;if(!this.shouldIgnorePairingRequest({topic:r,requestMethod:u}))switch(u){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:r,payload:i,attestation:s,encryptedId:c});case"wc_sessionSettle":return await this.onSessionSettleRequest(r,i);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(r,i);case"wc_sessionExtend":return await this.onSessionExtendRequest(r,i);case"wc_sessionPing":return await this.onSessionPingRequest(r,i);case"wc_sessionDelete":return await this.onSessionDeleteRequest(r,i);case"wc_sessionRequest":return await this.onSessionRequest({topic:r,payload:i,attestation:s,encryptedId:c,transportType:a});case"wc_sessionEvent":return await this.onSessionEventRequest(r,i);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:r,payload:i,attestation:s,encryptedId:c,transportType:a});default:return this.client.logger.info(`Unsupported request method ${u}`)}}),Oe(this,"onRelayEventResponse",async n=>{const{topic:r,payload:i,transportType:s}=n,a=(await this.client.core.history.get(r,i.id)).request.method;switch(a){case"wc_sessionPropose":return this.onSessionProposeResponse(r,i,s);case"wc_sessionSettle":return this.onSessionSettleResponse(r,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(r,i);case"wc_sessionExtend":return this.onSessionExtendResponse(r,i);case"wc_sessionPing":return this.onSessionPingResponse(r,i);case"wc_sessionRequest":return this.onSessionRequestResponse(r,i);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(r,i);default:return this.client.logger.info(`Unsupported response method ${a}`)}}),Oe(this,"onRelayEventUnknownPayload",n=>{const{topic:r}=n,{message:i}=Ue("MISSING_OR_INVALID",`Decoded payload on topic ${r} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)}),Oe(this,"shouldIgnorePairingRequest",n=>{const{topic:r,requestMethod:i}=n,s=this.expectedPairingMethodMap.get(r);return!s||s.includes(i)?!1:!!(s.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),Oe(this,"onSessionProposeRequest",async n=>{const{topic:r,payload:i,attestation:s,encryptedId:a}=n,{params:c,id:u}=i;try{const d=this.client.core.eventClient.getEvent({topic:r});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),d?.setError(dc.proposal_listener_not_found)),this.isValidConnect(dn({},i.params));const h=c.expiryTimestamp||dr(ei.wc_sessionPropose.req.ttl),p=dn({id:u,pairingTopic:r,expiryTimestamp:h,attestation:s,encryptedId:a},c);await this.setProposal(u,p);const y=await this.getVerifyContext({attestationId:s,hash:ea(JSON.stringify(i)),encryptedId:a,metadata:p.proposer.metadata});d?.addTrace(ao.emit_session_proposal),this.client.events.emit("session_proposal",{id:u,params:p,verifyContext:y})}catch(d){await this.sendError({id:u,topic:r,error:d,rpcOpts:ei.wc_sessionPropose.autoReject}),this.client.logger.error(d)}}),Oe(this,"onSessionProposeResponse",async(n,r,i)=>{const{id:s}=r;if(co(r)){const{result:a}=r;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:a});const c=this.client.proposal.get(s);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:c});const u=c.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:u});const d=a.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:d});const h=await this.client.core.crypto.generateSharedKey(u,d);this.pendingSessions.set(s,{sessionTopic:h,pairingTopic:n,proposalId:s,publicKey:u});const p=await this.client.core.relayer.subscribe(h,{transportType:i});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:p}),await this.client.core.pairing.activate({topic:n})}else if(ta(r)){await this.deleteProposal(s);const a=sn("session_connect",s);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners, 954`);this.events.emit(a,{error:r.error})}}),Oe(this,"onSessionSettleRequest",async(n,r)=>{const{id:i,params:s}=r;try{this.isValidSessionSettleRequest(s);const{relay:a,controller:c,expiry:u,namespaces:d,sessionProperties:h,scopedProperties:p,sessionConfig:y}=r.params,g=[...this.pendingSessions.values()].find(E=>E.sessionTopic===n);if(!g)return this.client.logger.error(`Pending session not found for topic ${n}`);const b=this.client.proposal.get(g.proposalId),v=gi(dn(dn(dn({topic:n,relay:a,expiry:u,namespaces:d,acknowledged:!0,pairingTopic:g.pairingTopic,requiredNamespaces:b.requiredNamespaces,optionalNamespaces:b.optionalNamespaces,controller:c.publicKey,self:{publicKey:g.publicKey,metadata:this.client.metadata},peer:{publicKey:c.publicKey,metadata:c.metadata}},h&&{sessionProperties:h}),p&&{scopedProperties:p}),y&&{sessionConfig:y}),{transportType:Dn.relay});await this.client.session.set(v.topic,v),await this.setExpiry(v.topic,v.expiry),await this.client.core.pairing.updateMetadata({topic:g.pairingTopic,metadata:v.peer.metadata}),this.client.events.emit("session_connect",{session:v}),this.events.emit(sn("session_connect",g.proposalId),{session:v}),this.pendingSessions.delete(g.proposalId),this.deleteProposal(g.proposalId,!1),this.cleanupDuplicatePairings(v),await this.sendResult({id:r.id,topic:n,result:!0})}catch(a){await this.sendError({id:i,topic:n,error:a}),this.client.logger.error(a)}}),Oe(this,"onSessionSettleResponse",async(n,r)=>{const{id:i}=r;co(r)?(await this.client.session.update(n,{acknowledged:!0}),this.events.emit(sn("session_approve",i),{})):ta(r)&&(await this.client.session.delete(n,Un("USER_DISCONNECTED")),this.events.emit(sn("session_approve",i),{error:r.error}))}),Oe(this,"onSessionUpdateRequest",async(n,r)=>{const{params:i,id:s}=r;try{const a=`${n}_session_update`,c=Rm.get(a);if(c&&this.isRequestOutOfSync(c,s)){this.client.logger.warn(`Discarding out of sync request - ${s}`),this.sendError({id:s,topic:n,error:Un("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(dn({topic:n},i));try{Rm.set(a,s),await this.client.session.update(n,{namespaces:i.namespaces}),await this.sendResult({id:s,topic:n,result:!0})}catch(u){throw Rm.delete(a),u}this.client.events.emit("session_update",{id:s,topic:n,params:i})}catch(a){await this.sendError({id:s,topic:n,error:a}),this.client.logger.error(a)}}),Oe(this,"isRequestOutOfSync",(n,r)=>r.toString().slice(0,-3)<n.toString().slice(0,-3)),Oe(this,"onSessionUpdateResponse",(n,r)=>{const{id:i}=r,s=sn("session_update",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);co(r)?this.events.emit(sn("session_update",i),{}):ta(r)&&this.events.emit(sn("session_update",i),{error:r.error})}),Oe(this,"onSessionExtendRequest",async(n,r)=>{const{id:i}=r;try{this.isValidExtend({topic:n}),await this.setExpiry(n,dr(Xf)),await this.sendResult({id:i,topic:n,result:!0}),this.client.events.emit("session_extend",{id:i,topic:n})}catch(s){await this.sendError({id:i,topic:n,error:s}),this.client.logger.error(s)}}),Oe(this,"onSessionExtendResponse",(n,r)=>{const{id:i}=r,s=sn("session_extend",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);co(r)?this.events.emit(sn("session_extend",i),{}):ta(r)&&this.events.emit(sn("session_extend",i),{error:r.error})}),Oe(this,"onSessionPingRequest",async(n,r)=>{const{id:i}=r;try{this.isValidPing({topic:n}),await this.sendResult({id:i,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:i,topic:n})}catch(s){await this.sendError({id:i,topic:n,error:s}),this.client.logger.error(s)}}),Oe(this,"onSessionPingResponse",(n,r)=>{const{id:i}=r,s=sn("session_ping",i);setTimeout(()=>{if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners 2176`);co(r)?this.events.emit(sn("session_ping",i),{}):ta(r)&&this.events.emit(sn("session_ping",i),{error:r.error})},500)}),Oe(this,"onSessionDeleteRequest",async(n,r)=>{const{id:i}=r;try{this.isValidDisconnect({topic:n,reason:r.params}),await Promise.all([new Promise(s=>{this.client.core.relayer.once(tr.publish,async()=>{s(await this.deleteSession({topic:n,id:i}))})}),this.sendResult({id:i,topic:n,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:n,error:Un("USER_DISCONNECTED")})]).catch(s=>this.client.logger.error(s))}catch(s){this.client.logger.error(s)}}),Oe(this,"onSessionRequest",async n=>{var r,i,s;const{topic:a,payload:c,attestation:u,encryptedId:d,transportType:h}=n,{id:p,params:y}=c;try{await this.isValidRequest(dn({topic:a},y));const g=this.client.session.get(a),b=await this.getVerifyContext({attestationId:u,hash:ea(JSON.stringify(Ca("wc_sessionRequest",y,p))),encryptedId:d,metadata:g.peer.metadata,transportType:h}),v={id:p,topic:a,params:y,verifyContext:b};await this.setPendingSessionRequest(v),h===Dn.link_mode&&(r=g.peer.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp((i=g.peer.metadata.redirect)==null?void 0:i.universal),(s=this.client.signConfig)!=null&&s.disableRequestQueue?this.emitSessionRequest(v):(this.addSessionRequestToSessionRequestQueue(v),this.processSessionRequestQueue())}catch(g){await this.sendError({id:p,topic:a,error:g}),this.client.logger.error(g)}}),Oe(this,"onSessionRequestResponse",(n,r)=>{const{id:i}=r,s=sn("session_request",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);co(r)?this.events.emit(sn("session_request",i),{result:r.result}):ta(r)&&this.events.emit(sn("session_request",i),{error:r.error})}),Oe(this,"onSessionEventRequest",async(n,r)=>{const{id:i,params:s}=r;try{const a=`${n}_session_event_${s.event.name}`,c=Rm.get(a);if(c&&this.isRequestOutOfSync(c,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(dn({topic:n},s)),this.client.events.emit("session_event",{id:i,topic:n,params:s}),Rm.set(a,i)}catch(a){await this.sendError({id:i,topic:n,error:a}),this.client.logger.error(a)}}),Oe(this,"onSessionAuthenticateResponse",(n,r)=>{const{id:i}=r;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:n,payload:r}),co(r)?this.events.emit(sn("session_request",i),{result:r.result}):ta(r)&&this.events.emit(sn("session_request",i),{error:r.error})}),Oe(this,"onSessionAuthenticateRequest",async n=>{var r;const{topic:i,payload:s,attestation:a,encryptedId:c,transportType:u}=n;try{const{requester:d,authPayload:h,expiryTimestamp:p}=s.params,y=await this.getVerifyContext({attestationId:a,hash:ea(JSON.stringify(s)),encryptedId:c,metadata:d.metadata,transportType:u}),g={requester:d,pairingTopic:i,id:s.id,authPayload:h,verifyContext:y,expiryTimestamp:p};await this.setAuthRequest(s.id,{request:g,pairingTopic:i,transportType:u}),u===Dn.link_mode&&(r=d.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp(d.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:i,params:s.params,id:s.id,verifyContext:y})}catch(d){this.client.logger.error(d);const h=s.params.requester.publicKey,p=await this.client.core.crypto.generateKeyPair(),y=this.getAppLinkIfEnabled(s.params.requester.metadata,u),g={type:Nc,receiverPublicKey:h,senderPublicKey:p};await this.sendError({id:s.id,topic:i,error:d,encodeOpts:g,rpcOpts:ei.wc_sessionAuthenticate.autoReject,appLink:y})}}),Oe(this,"addSessionRequestToSessionRequestQueue",n=>{this.sessionRequestQueue.queue.push(n)}),Oe(this,"cleanupAfterResponse",n=>{this.deletePendingSessionRequest(n.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=no.idle,this.processSessionRequestQueue()},Me.toMiliseconds(this.requestQueueDelay))}),Oe(this,"cleanupPendingSentRequestsForTopic",({topic:n,error:r})=>{const i=this.client.core.history.pending;i.length>0&&i.filter(s=>s.topic===n&&s.request.method==="wc_sessionRequest").forEach(s=>{const a=s.request.id,c=sn("session_request",a);if(this.events.listenerCount(c)===0)throw new Error(`emitting ${c} without any listeners`);this.events.emit(sn("session_request",s.request.id),{error:r})})}),Oe(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===no.active){this.client.logger.info("session request queue is already active.");return}const n=this.sessionRequestQueue.queue[0];if(!n){this.client.logger.info("session request queue is empty.");return}try{this.emitSessionRequest(n)}catch(r){this.client.logger.error(r)}}),Oe(this,"emitSessionRequest",n=>{if(this.emittedSessionRequests.has(n.id)){this.client.logger.warn({id:n.id},`Skipping emitting \`session_request\` event for duplicate request. id: ${n.id}`);return}this.sessionRequestQueue.state=no.active,this.emittedSessionRequests.add(n.id),this.client.events.emit("session_request",n)}),Oe(this,"onPairingCreated",n=>{if(n.methods&&this.expectedPairingMethodMap.set(n.topic,n.methods),n.active)return;const r=this.client.proposal.getAll().find(i=>i.pairingTopic===n.topic);r&&this.onSessionProposeRequest({topic:n.topic,payload:Ca("wc_sessionPropose",gi(dn({},r),{requiredNamespaces:r.requiredNamespaces,optionalNamespaces:r.optionalNamespaces,relays:r.relays,proposer:r.proposer,sessionProperties:r.sessionProperties,scopedProperties:r.scopedProperties}),r.id),attestation:r.attestation,encryptedId:r.encryptedId})}),Oe(this,"isValidConnect",async n=>{if(!Wi(n)){const{message:d}=Ue("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(n)}`);throw new Error(d)}const{pairingTopic:r,requiredNamespaces:i,optionalNamespaces:s,sessionProperties:a,scopedProperties:c,relays:u}=n;if(Ir(r)||await this.isValidPairingTopic(r),!ySe(u)){const{message:d}=Ue("MISSING_OR_INVALID",`connect() relays: ${u}`);throw new Error(d)}if(i&&!Ir(i)&&_o(i)!==0){const d="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(d):this.client.logger.warn(d),this.validateNamespaces(i,"requiredNamespaces")}if(s&&!Ir(s)&&_o(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),a&&!Ir(a)&&this.validateSessionProps(a,"sessionProperties"),c&&!Ir(c)){this.validateSessionProps(c,"scopedProperties");const d=Object.keys(i||{}).concat(Object.keys(s||{}));if(!Object.keys(c).every(h=>d.includes(h.split(":")[0])))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(c)}, required/optional namespaces: ${JSON.stringify(d)}`)}}),Oe(this,"validateNamespaces",(n,r)=>{const i=mSe(n,"connect()",r);if(i)throw new Error(i.message)}),Oe(this,"isValidApprove",async n=>{if(!Wi(n))throw new Error(Ue("MISSING_OR_INVALID",`approve() params: ${n}`).message);const{id:r,namespaces:i,relayProtocol:s,sessionProperties:a,scopedProperties:c}=n;this.checkRecentlyDeleted(r),await this.isValidProposalId(r);const u=this.client.proposal.get(r),d=MA(i,"approve()");if(d)throw new Error(d.message);const h=lD(u.requiredNamespaces,i,"approve()");if(h)throw new Error(h.message);if(!mr(s,!0)){const{message:p}=Ue("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(p)}if(a&&!Ir(a)&&this.validateSessionProps(a,"sessionProperties"),c&&!Ir(c)){this.validateSessionProps(c,"scopedProperties");const p=new Set(Object.keys(i));if(!Object.keys(c).every(y=>p.has(y.split(":")[0])))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(c)}, approved namespaces: ${Array.from(p).join(", ")}`)}}),Oe(this,"isValidReject",async n=>{if(!Wi(n)){const{message:s}=Ue("MISSING_OR_INVALID",`reject() params: ${n}`);throw new Error(s)}const{id:r,reason:i}=n;if(this.checkRecentlyDeleted(r),await this.isValidProposalId(r),!bSe(i)){const{message:s}=Ue("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(s)}}),Oe(this,"isValidSessionSettleRequest",n=>{if(!Wi(n)){const{message:d}=Ue("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${n}`);throw new Error(d)}const{relay:r,controller:i,namespaces:s,expiry:a}=n;if(!oW(r)){const{message:d}=Ue("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(d)}const c=lSe(i,"onSessionSettleRequest()");if(c)throw new Error(c.message);const u=MA(s,"onSessionSettleRequest()");if(u)throw new Error(u.message);if(fo(a)){const{message:d}=Ue("EXPIRED","onSessionSettleRequest()");throw new Error(d)}}),Oe(this,"isValidUpdate",async n=>{if(!Wi(n)){const{message:u}=Ue("MISSING_OR_INVALID",`update() params: ${n}`);throw new Error(u)}const{topic:r,namespaces:i}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const s=this.client.session.get(r),a=MA(i,"update()");if(a)throw new Error(a.message);const c=lD(s.requiredNamespaces,i,"update()");if(c)throw new Error(c.message)}),Oe(this,"isValidExtend",async n=>{if(!Wi(n)){const{message:i}=Ue("MISSING_OR_INVALID",`extend() params: ${n}`);throw new Error(i)}const{topic:r}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r)}),Oe(this,"isValidRequest",async n=>{if(!Wi(n)){const{message:u}=Ue("MISSING_OR_INVALID",`request() params: ${n}`);throw new Error(u)}const{topic:r,request:i,chainId:s,expiry:a}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const{namespaces:c}=this.client.session.get(r);if(!cD(c,s)){const{message:u}=Ue("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(u)}if(!wSe(i)){const{message:u}=Ue("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(u)}if(!ESe(c,s,i.method)){const{message:u}=Ue("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(u)}if(a&&!TSe(a,VA)){const{message:u}=Ue("MISSING_OR_INVALID",`request() expiry: ${a}. Expiry must be a number (in seconds) between ${VA.min} and ${VA.max}`);throw new Error(u)}}),Oe(this,"isValidRespond",async n=>{var r;if(!Wi(n)){const{message:c}=Ue("MISSING_OR_INVALID",`respond() params: ${n}`);throw new Error(c)}const{topic:i,response:s}=n;try{await this.isValidSessionTopic(i)}catch(c){throw(r=n?.response)!=null&&r.id&&this.cleanupAfterResponse(n),c}if(!vSe(s)){const{message:c}=Ue("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(s)}`);throw new Error(c)}const a=this.client.pendingRequest.get(s.id);if(a.topic!==i){const{message:c}=Ue("MISMATCHED_TOPIC",`Request response topic mismatch. reqId: ${s.id}, expected topic: ${a.topic}, received topic: ${i}`);throw new Error(c)}}),Oe(this,"isValidPing",async n=>{if(!Wi(n)){const{message:i}=Ue("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(i)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),Oe(this,"isValidEmit",async n=>{if(!Wi(n)){const{message:c}=Ue("MISSING_OR_INVALID",`emit() params: ${n}`);throw new Error(c)}const{topic:r,event:i,chainId:s}=n;await this.isValidSessionTopic(r);const{namespaces:a}=this.client.session.get(r);if(!cD(a,s)){const{message:c}=Ue("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(c)}if(!_Se(i)){const{message:c}=Ue("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(c)}if(!SSe(a,s,i.name)){const{message:c}=Ue("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(c)}}),Oe(this,"isValidDisconnect",async n=>{if(!Wi(n)){const{message:i}=Ue("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(i)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),Oe(this,"isValidAuthenticate",n=>{const{chains:r,uri:i,domain:s,nonce:a}=n;if(!Array.isArray(r)||r.length===0)throw new Error("chains is required and must be a non-empty array");if(!mr(i,!1))throw new Error("uri is required parameter");if(!mr(s,!1))throw new Error("domain is required parameter");if(!mr(a,!1))throw new Error("nonce is required parameter");if([...new Set(r.map(u=>Rc(u).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:c}=Rc(r[0]);if(c!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),Oe(this,"getVerifyContext",async n=>{const{attestationId:r,hash:i,encryptedId:s,metadata:a,transportType:c}=n,u={verified:{verifyUrl:a.verifyUrl||gy,validation:"UNKNOWN",origin:a.url||""}};try{if(c===Dn.link_mode){const h=this.getAppLinkIfEnabled(a,c);return u.verified.validation=h&&new URL(h).origin===new URL(a.url).origin?"VALID":"INVALID",u}const d=await this.client.core.verify.resolve({attestationId:r,hash:i,encryptedId:s,verifyUrl:a.verifyUrl});d&&(u.verified.origin=d.origin,u.verified.isScam=d.isScam,u.verified.validation=d.origin===new URL(a.url).origin?"VALID":"INVALID")}catch(d){this.client.logger.warn(d)}return this.client.logger.debug(`Verify context: ${JSON.stringify(u)}`),u}),Oe(this,"validateSessionProps",(n,r)=>{Object.values(n).forEach((i,s)=>{if(i==null){const{message:a}=Ue("MISSING_OR_INVALID",`${r} must contain an existing value for each key. Received: ${i} for key ${Object.keys(n)[s]}`);throw new Error(a)}})}),Oe(this,"getPendingAuthRequest",n=>{const r=this.client.auth.requests.get(n);return typeof r=="object"?r:void 0}),Oe(this,"addToRecentlyDeleted",(n,r)=>{if(this.recentlyDeletedMap.set(n,r),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let i=0;const s=this.recentlyDeletedLimit/2;for(const a of this.recentlyDeletedMap.keys()){if(i++>=s)break;this.recentlyDeletedMap.delete(a)}}}),Oe(this,"checkRecentlyDeleted",n=>{const r=this.recentlyDeletedMap.get(n);if(r){const{message:i}=Ue("MISSING_OR_INVALID",`Record was recently deleted - ${r}: ${n}`);throw new Error(i)}}),Oe(this,"isLinkModeEnabled",(n,r)=>{var i,s,a,c,u,d,h,p,y;return!n||r!==Dn.link_mode?!1:((s=(i=this.client.metadata)==null?void 0:i.redirect)==null?void 0:s.linkMode)===!0&&((c=(a=this.client.metadata)==null?void 0:a.redirect)==null?void 0:c.universal)!==void 0&&((d=(u=this.client.metadata)==null?void 0:u.redirect)==null?void 0:d.universal)!==""&&((h=n?.redirect)==null?void 0:h.universal)!==void 0&&((p=n?.redirect)==null?void 0:p.universal)!==""&&((y=n?.redirect)==null?void 0:y.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(n.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),Oe(this,"getAppLinkIfEnabled",(n,r)=>{var i;return this.isLinkModeEnabled(n,r)?(i=n?.redirect)==null?void 0:i.universal:void 0}),Oe(this,"handleLinkModeMessage",({url:n})=>{if(!n||!n.includes("wc_ev")||!n.includes("topic"))return;const r=vP(n,"topic")||"",i=decodeURIComponent(vP(n,"wc_ev")||""),s=this.client.session.keys.includes(r);s&&this.client.session.update(r,{transportType:Dn.link_mode}),this.client.core.dispatchEnvelope({topic:r,message:i,sessionExists:s})}),Oe(this,"registerLinkModeListeners",async()=>{var n;if(bI()||pu()&&(n=this.client.metadata.redirect)!=null&&n.linkMode){const r=global==null?void 0:global.Linking;if(typeof r<"u"){r.addEventListener("url",this.handleLinkModeMessage,this.client.name);const i=await r.getInitialURL();i&&setTimeout(()=>{this.handleLinkModeMessage({url:i})},50)}}}),Oe(this,"getTVFParams",(n,r,i)=>{var s,a,c;if(!((s=r.request)!=null&&s.method))return{};const u={correlationId:n,rpcMethods:[r.request.method],chainId:r.chainId};try{const d=this.extractTxHashesFromResult(r.request,i);u.txHashes=d,u.contractAddresses=this.isValidContractData(r.request.params)?[(c=(a=r.request.params)==null?void 0:a[0])==null?void 0:c.to]:[]}catch(d){this.client.logger.warn(d,"Error getting TVF params")}return u}),Oe(this,"isValidContractData",n=>{var r;if(!n)return!1;try{const i=n?.data||((r=n?.[0])==null?void 0:r.data);if(!i.startsWith("0x"))return!1;const s=i.slice(2);return/^[0-9a-fA-F]*$/.test(s)?s.length%2===0:!1}catch{}return!1}),Oe(this,"extractTxHashesFromResult",(n,r)=>{var i;try{if(!r)return[];const s=n.method,a=y3e[s];if(s==="sui_signTransaction")return[F_e(r.transactionBytes)];if(s==="near_signTransaction")return[CP(r)];if(s==="near_signTransactions")return r.map(u=>CP(u));if(s==="xrpl_signTransactionFor"||s==="xrpl_signTransaction")return[(i=r.tx_json)==null?void 0:i.hash];if(s==="polkadot_signTransaction")return[zSe({transaction:n.params.transactionPayload,signature:r.signature})];if(s==="algo_signTxn")return ia(r)?r.map(u=>OP(u)):[OP(r)];if(s==="cosmos_signDirect")return[W_e(r)];if(s==="wallet_sendCalls")return H_e(r);if(typeof r=="string")return[r];const c=r[a.key];if(ia(c))return s==="solana_signAllTransactions"?c.map(u=>z_e(u)):c;if(typeof c=="string")return[c]}catch(s){this.client.logger.warn(s,"Error extracting tx hashes from result")}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,n=this.client.core.relayer.messages.getWithoutAck(e);for(const[r,i]of Object.entries(n))for(const s of i)try{await this.onProviderMessageEvent({topic:r,message:s,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${r}, message: ${s}`)}}catch(e){this.client.logger.warn(e,"processPendingMessageEvents failed")}}isInitialized(){if(!this.initialized){const{message:e}=Ue("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(tr.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:n,message:r,attestation:i,transportType:s}=e,{publicKey:a}=this.client.auth.authKeys.keys.includes(Mw)?this.client.auth.authKeys.get(Mw):{publicKey:void 0};try{const c=await this.client.core.crypto.decode(n,r,{receiverPublicKey:a,encoding:s===Dn.link_mode?Zl:Ki});NI(c)?(this.client.core.history.set(n,c),await this.onRelayEventRequest({topic:n,payload:c,attestation:i,transportType:s,encryptedId:ea(r)})):v_(c)?(await this.client.core.history.resolve(c),await this.onRelayEventResponse({topic:n,payload:c,transportType:s}),this.client.core.history.delete(n,c.id)):await this.onRelayEventUnknownPayload({topic:n,payload:c,transportType:s}),await this.client.core.relayer.messages.ack(n,r)}catch(c){this.client.logger.error(c)}}registerExpirerEvents(){this.client.core.expirer.on(Zs.expired,async e=>{const{topic:n,id:r}=cq(e.target);if(r&&this.client.pendingRequest.keys.includes(r))return await this.deletePendingSessionRequest(r,Ue("EXPIRED"),!0);if(r&&this.client.auth.requests.keys.includes(r))return await this.deletePendingAuthRequest(r,Ue("EXPIRED"),!0);n?this.client.session.keys.includes(n)&&(await this.deleteSession({topic:n,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:n})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r}))})}registerPairingEvents(){this.client.core.pairing.events.on(Ju.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(Ju.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!mr(e,!1)){const{message:n}=Ue("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(n)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:n}=Ue("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(n)}if(fo(this.client.core.pairing.pairings.get(e).expiry)){const{message:n}=Ue("EXPIRED",`pairing topic: ${e}`);throw new Error(n)}}async isValidSessionTopic(e){if(!mr(e,!1)){const{message:n}=Ue("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(n)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:n}=Ue("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(n)}if(fo(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:n}=Ue("EXPIRED",`session topic: ${e}`);throw new Error(n)}if(!this.client.core.crypto.keychain.has(e)){const{message:n}=Ue("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(n)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(mr(e,!1)){const{message:n}=Ue("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(n)}else{const{message:n}=Ue("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(n)}}async isValidProposalId(e){if(!gSe(e)){const{message:n}=Ue("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(n)}if(!this.client.proposal.keys.includes(e)){const{message:n}=Ue("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(n)}if(fo(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:n}=Ue("EXPIRED",`proposal id: ${e}`);throw new Error(n)}}};class k3e extends Zd{constructor(e,n){super(e,n,h3e,PI),this.core=e,this.logger=n}}let R3e=class extends Zd{constructor(e,n){super(e,n,p3e,PI),this.core=e,this.logger=n}},N3e=class extends Zd{constructor(e,n){super(e,n,g3e,PI,r=>r.id),this.core=e,this.logger=n}};class $3e extends Zd{constructor(e,n){super(e,n,_3e,E_,()=>Mw),this.core=e,this.logger=n}}class P3e extends Zd{constructor(e,n){super(e,n,E3e,E_),this.core=e,this.logger=n}}let D3e=class extends Zd{constructor(e,n){super(e,n,S3e,E_,r=>r.id),this.core=e,this.logger=n}};var U3e=Object.defineProperty,M3e=(t,e,n)=>e in t?U3e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,GA=(t,e,n)=>M3e(t,typeof e!="symbol"?e+"":e,n);class B3e{constructor(e,n){this.core=e,this.logger=n,GA(this,"authKeys"),GA(this,"pairingTopics"),GA(this,"requests"),this.authKeys=new $3e(this.core,this.logger),this.pairingTopics=new P3e(this.core,this.logger),this.requests=new D3e(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var L3e=Object.defineProperty,j3e=(t,e,n)=>e in t?L3e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ft=(t,e,n)=>j3e(t,typeof e!="symbol"?e+"":e,n);let z3e=class UW extends MAe{constructor(e){super(e),Ft(this,"protocol",$W),Ft(this,"version",PW),Ft(this,"name",HA.name),Ft(this,"metadata"),Ft(this,"core"),Ft(this,"logger"),Ft(this,"events",new ks.EventEmitter),Ft(this,"engine"),Ft(this,"session"),Ft(this,"proposal"),Ft(this,"pendingRequest"),Ft(this,"auth"),Ft(this,"signConfig"),Ft(this,"on",(r,i)=>this.events.on(r,i)),Ft(this,"once",(r,i)=>this.events.once(r,i)),Ft(this,"off",(r,i)=>this.events.off(r,i)),Ft(this,"removeListener",(r,i)=>this.events.removeListener(r,i)),Ft(this,"removeAllListeners",r=>this.events.removeAllListeners(r)),Ft(this,"connect",async r=>{try{return await this.engine.connect(r)}catch(i){throw this.logger.error(i.message),i}}),Ft(this,"pair",async r=>{try{return await this.engine.pair(r)}catch(i){throw this.logger.error(i.message),i}}),Ft(this,"approve",async r=>{try{return await this.engine.approve(r)}catch(i){throw this.logger.error(i.message),i}}),Ft(this,"reject",async r=>{try{return await this.engine.reject(r)}catch(i){throw this.logger.error(i.message),i}}),Ft(this,"update",async r=>{try{return await this.engine.update(r)}catch(i){throw this.logger.error(i.message),i}}),Ft(this,"extend",async r=>{try{return await this.engine.extend(r)}catch(i){throw this.logger.error(i.message),i}}),Ft(this,"request",async r=>{try{return await this.engine.request(r)}catch(i){throw this.logger.error(i.message),i}}),Ft(this,"respond",async r=>{try{return await this.engine.respond(r)}catch(i){throw this.logger.error(i.message),i}}),Ft(this,"ping",async r=>{try{return await this.engine.ping(r)}catch(i){throw this.logger.error(i.message),i}}),Ft(this,"emit",async r=>{try{return await this.engine.emit(r)}catch(i){throw this.logger.error(i.message),i}}),Ft(this,"disconnect",async r=>{try{return await this.engine.disconnect(r)}catch(i){throw this.logger.error(i.message),i}}),Ft(this,"find",r=>{try{return this.engine.find(r)}catch(i){throw this.logger.error(i.message),i}}),Ft(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(r){throw this.logger.error(r.message),r}}),Ft(this,"authenticate",async(r,i)=>{try{return await this.engine.authenticate(r,i)}catch(s){throw this.logger.error(s.message),s}}),Ft(this,"formatAuthMessage",r=>{try{return this.engine.formatAuthMessage(r)}catch(i){throw this.logger.error(i.message),i}}),Ft(this,"approveSessionAuthenticate",async r=>{try{return await this.engine.approveSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),Ft(this,"rejectSessionAuthenticate",async r=>{try{return await this.engine.rejectSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),this.name=e?.name||HA.name,this.metadata=P1e(e?.metadata),this.signConfig=e?.signConfig;const n=kI({logger:e?.logger||HA.logger,name:this.name});this.logger=n,this.core=e?.core||new f3e(e),this.session=new R3e(this.core,this.logger),this.proposal=new k3e(this.core,this.logger),this.pendingRequest=new N3e(this.core,this.logger),this.engine=new O3e(this),this.auth=new B3e(this.core,this.logger)}static async init(e){const n=new UW(e);return await n.initialize(),n}get context(){return ss(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};const F3e=z3e;var ow={exports:{}},e9;function q3e(){return e9||(e9=1,(function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof lo<"u"&&lo,r=(function(){function s(){this.fetch=!1,this.DOMException=n.DOMException}return s.prototype=n,new s})();(function(s){(function(a){var c=typeof s<"u"&&s||typeof self<"u"&&self||typeof lo<"u"&&lo||{},u={searchParams:"URLSearchParams"in c,iterable:"Symbol"in c&&"iterator"in Symbol,blob:"FileReader"in c&&"Blob"in c&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:"FormData"in c,arrayBuffer:"ArrayBuffer"in c};function d(T){return T&&DataView.prototype.isPrototypeOf(T)}if(u.arrayBuffer)var h=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],p=ArrayBuffer.isView||function(T){return T&&h.indexOf(Object.prototype.toString.call(T))>-1};function y(T){if(typeof T!="string"&&(T=String(T)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(T)||T==="")throw new TypeError('Invalid character in header field name: "'+T+'"');return T.toLowerCase()}function g(T){return typeof T!="string"&&(T=String(T)),T}function b(T){var x={next:function(){var N=T.shift();return{done:N===void 0,value:N}}};return u.iterable&&(x[Symbol.iterator]=function(){return x}),x}function v(T){this.map={},T instanceof v?T.forEach(function(x,N){this.append(N,x)},this):Array.isArray(T)?T.forEach(function(x){if(x.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+x.length);this.append(x[0],x[1])},this):T&&Object.getOwnPropertyNames(T).forEach(function(x){this.append(x,T[x])},this)}v.prototype.append=function(T,x){T=y(T),x=g(x);var N=this.map[T];this.map[T]=N?N+", "+x:x},v.prototype.delete=function(T){delete this.map[y(T)]},v.prototype.get=function(T){return T=y(T),this.has(T)?this.map[T]:null},v.prototype.has=function(T){return this.map.hasOwnProperty(y(T))},v.prototype.set=function(T,x){this.map[y(T)]=g(x)},v.prototype.forEach=function(T,x){for(var N in this.map)this.map.hasOwnProperty(N)&&T.call(x,this.map[N],N,this)},v.prototype.keys=function(){var T=[];return this.forEach(function(x,N){T.push(N)}),b(T)},v.prototype.values=function(){var T=[];return this.forEach(function(x){T.push(x)}),b(T)},v.prototype.entries=function(){var T=[];return this.forEach(function(x,N){T.push([N,x])}),b(T)},u.iterable&&(v.prototype[Symbol.iterator]=v.prototype.entries);function E(T){if(!T._noBody){if(T.bodyUsed)return Promise.reject(new TypeError("Already read"));T.bodyUsed=!0}}function O(T){return new Promise(function(x,N){T.onload=function(){x(T.result)},T.onerror=function(){N(T.error)}})}function k(T){var x=new FileReader,N=O(x);return x.readAsArrayBuffer(T),N}function A(T){var x=new FileReader,N=O(x),L=/charset=([A-Za-z0-9_-]+)/.exec(T.type),P=L?L[1]:"utf-8";return x.readAsText(T,P),N}function S(T){for(var x=new Uint8Array(T),N=new Array(x.length),L=0;L<x.length;L++)N[L]=String.fromCharCode(x[L]);return N.join("")}function C(T){if(T.slice)return T.slice(0);var x=new Uint8Array(T.byteLength);return x.set(new Uint8Array(T)),x.buffer}function I(){return this.bodyUsed=!1,this._initBody=function(T){this.bodyUsed=this.bodyUsed,this._bodyInit=T,T?typeof T=="string"?this._bodyText=T:u.blob&&Blob.prototype.isPrototypeOf(T)?this._bodyBlob=T:u.formData&&FormData.prototype.isPrototypeOf(T)?this._bodyFormData=T:u.searchParams&&URLSearchParams.prototype.isPrototypeOf(T)?this._bodyText=T.toString():u.arrayBuffer&&u.blob&&d(T)?(this._bodyArrayBuffer=C(T.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):u.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(T)||p(T))?this._bodyArrayBuffer=C(T):this._bodyText=T=Object.prototype.toString.call(T):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof T=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):u.searchParams&&URLSearchParams.prototype.isPrototypeOf(T)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},u.blob&&(this.blob=function(){var T=E(this);if(T)return T;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var T=E(this);return T||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(u.blob)return this.blob().then(k);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var T=E(this);if(T)return T;if(this._bodyBlob)return A(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(S(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},u.formData&&(this.formData=function(){return this.text().then(B)}),this.json=function(){return this.text().then(JSON.parse)},this}var $=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function z(T){var x=T.toUpperCase();return $.indexOf(x)>-1?x:T}function j(T,x){if(!(this instanceof j))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');x=x||{};var N=x.body;if(T instanceof j){if(T.bodyUsed)throw new TypeError("Already read");this.url=T.url,this.credentials=T.credentials,x.headers||(this.headers=new v(T.headers)),this.method=T.method,this.mode=T.mode,this.signal=T.signal,!N&&T._bodyInit!=null&&(N=T._bodyInit,T.bodyUsed=!0)}else this.url=String(T);if(this.credentials=x.credentials||this.credentials||"same-origin",(x.headers||!this.headers)&&(this.headers=new v(x.headers)),this.method=z(x.method||this.method||"GET"),this.mode=x.mode||this.mode||null,this.signal=x.signal||this.signal||(function(){if("AbortController"in c){var H=new AbortController;return H.signal}})(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&N)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(N),(this.method==="GET"||this.method==="HEAD")&&(x.cache==="no-store"||x.cache==="no-cache")){var L=/([?&])_=[^&]*/;if(L.test(this.url))this.url=this.url.replace(L,"$1_="+new Date().getTime());else{var P=/\?/;this.url+=(P.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}j.prototype.clone=function(){return new j(this,{body:this._bodyInit})};function B(T){var x=new FormData;return T.trim().split("&").forEach(function(N){if(N){var L=N.split("="),P=L.shift().replace(/\+/g," "),H=L.join("=").replace(/\+/g," ");x.append(decodeURIComponent(P),decodeURIComponent(H))}}),x}function G(T){var x=new v,N=T.replace(/\r?\n[\t ]+/g," ");return N.split("\r").map(function(L){return L.indexOf(`
`)===0?L.substr(1,L.length):L}).forEach(function(L){var P=L.split(":"),H=P.shift().trim();if(H){var D=P.join(":").trim();try{x.append(H,D)}catch(V){console.warn("Response "+V.message)}}}),x}I.call(j.prototype);function U(T,x){if(!(this instanceof U))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(x||(x={}),this.type="default",this.status=x.status===void 0?200:x.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=x.statusText===void 0?"":""+x.statusText,this.headers=new v(x.headers),this.url=x.url||"",this._initBody(T)}I.call(U.prototype),U.prototype.clone=function(){return new U(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new v(this.headers),url:this.url})},U.error=function(){var T=new U(null,{status:200,statusText:""});return T.ok=!1,T.status=0,T.type="error",T};var F=[301,302,303,307,308];U.redirect=function(T,x){if(F.indexOf(x)===-1)throw new RangeError("Invalid status code");return new U(null,{status:x,headers:{location:T}})},a.DOMException=c.DOMException;try{new a.DOMException}catch{a.DOMException=function(x,N){this.message=x,this.name=N;var L=Error(x);this.stack=L.stack},a.DOMException.prototype=Object.create(Error.prototype),a.DOMException.prototype.constructor=a.DOMException}function K(T,x){return new Promise(function(N,L){var P=new j(T,x);if(P.signal&&P.signal.aborted)return L(new a.DOMException("Aborted","AbortError"));var H=new XMLHttpRequest;function D(){H.abort()}H.onload=function(){var X={statusText:H.statusText,headers:G(H.getAllResponseHeaders()||"")};P.url.indexOf("file://")===0&&(H.status<200||H.status>599)?X.status=200:X.status=H.status,X.url="responseURL"in H?H.responseURL:X.headers.get("X-Request-URL");var Q="response"in H?H.response:H.responseText;setTimeout(function(){N(new U(Q,X))},0)},H.onerror=function(){setTimeout(function(){L(new TypeError("Network request failed"))},0)},H.ontimeout=function(){setTimeout(function(){L(new TypeError("Network request timed out"))},0)},H.onabort=function(){setTimeout(function(){L(new a.DOMException("Aborted","AbortError"))},0)};function V(X){try{return X===""&&c.location.href?c.location.href:X}catch{return X}}if(H.open(P.method,V(P.url),!0),P.credentials==="include"?H.withCredentials=!0:P.credentials==="omit"&&(H.withCredentials=!1),"responseType"in H&&(u.blob?H.responseType="blob":u.arrayBuffer&&(H.responseType="arraybuffer")),x&&typeof x.headers=="object"&&!(x.headers instanceof v||c.Headers&&x.headers instanceof c.Headers)){var J=[];Object.getOwnPropertyNames(x.headers).forEach(function(X){J.push(y(X)),H.setRequestHeader(X,g(x.headers[X]))}),P.headers.forEach(function(X,Q){J.indexOf(Q)===-1&&H.setRequestHeader(Q,X)})}else P.headers.forEach(function(X,Q){H.setRequestHeader(Q,X)});P.signal&&(P.signal.addEventListener("abort",D),H.onreadystatechange=function(){H.readyState===4&&P.signal.removeEventListener("abort",D)}),H.send(typeof P._bodyInit>"u"?null:P._bodyInit)})}return K.polyfill=!0,c.fetch||(c.fetch=K,c.Headers=v,c.Request=j,c.Response=U),a.Headers=v,a.Request=j,a.Response=U,a.fetch=K,Object.defineProperty(a,"__esModule",{value:!0}),a})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=n.fetch?n:r;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(ow,ow.exports)),ow.exports}var W3e=q3e();const t9=uu(W3e);var H3e=Object.defineProperty,V3e=Object.defineProperties,G3e=Object.getOwnPropertyDescriptors,n9=Object.getOwnPropertySymbols,K3e=Object.prototype.hasOwnProperty,Y3e=Object.prototype.propertyIsEnumerable,r9=(t,e,n)=>e in t?H3e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,i9=(t,e)=>{for(var n in e||(e={}))K3e.call(e,n)&&r9(t,n,e[n]);if(n9)for(var n of n9(e))Y3e.call(e,n)&&r9(t,n,e[n]);return t},s9=(t,e)=>V3e(t,G3e(e));const Z3e={Accept:"application/json","Content-Type":"application/json"},X3e="POST",a9={headers:Z3e,method:X3e},o9=10;let MW=class{constructor(e,n=!1){if(this.url=e,this.disableProviderPing=n,this.events=new ks.EventEmitter,this.isAvailable=!1,this.registering=!1,!SD(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=n}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const n=jc(e),r=await(await t9(this.url,s9(i9({},a9),{body:n}))).json();this.onPayload({data:r})}catch(n){this.onError(e.id,n)}}async register(e=this.url){if(!SD(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return i(new Error("HTTP connection is missing or invalid"));r()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const n=jc({id:1,jsonrpc:"2.0",method:"test",params:[]});await t9(e,s9(i9({},a9),{body:n}))}this.onOpen()}catch(n){const r=this.parseError(n);throw this.events.emit("register_error",r),this.onClose(),r}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?Nd(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),i=r.message||r.toString(),s=w_(e,i);this.events.emit("payload",s)}parseError(e,n=this.url){return fW(e,n,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>o9&&this.events.setMaxListeners(o9)}};function DI(t){return t==null||typeof t!="object"&&typeof t!="function"}function BW(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function LW(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const J3e="[object RegExp]",jW="[object String]",zW="[object Number]",FW="[object Boolean]",qW="[object Arguments]",Q3e="[object Symbol]",eIe="[object Date]",tIe="[object Map]",nIe="[object Set]",rIe="[object Array]",iIe="[object ArrayBuffer]",sIe="[object Object]",aIe="[object DataView]",oIe="[object Uint8Array]",cIe="[object Uint8ClampedArray]",lIe="[object Uint16Array]",uIe="[object Uint32Array]",dIe="[object Int8Array]",fIe="[object Int16Array]",hIe="[object Int32Array]",pIe="[object Float32Array]",mIe="[object Float64Array]";function UI(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function yIe(t,e){return ph(t,void 0,t,new Map,e)}function ph(t,e,n,r=new Map,i=void 0){const s=i?.(t,e,n,r);if(s!=null)return s;if(DI(t))return t;if(r.has(t))return r.get(t);if(Array.isArray(t)){const a=new Array(t.length);r.set(t,a);for(let c=0;c<t.length;c++)a[c]=ph(t[c],c,n,r,i);return Object.hasOwn(t,"index")&&(a.index=t.index),Object.hasOwn(t,"input")&&(a.input=t.input),a}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const a=new RegExp(t.source,t.flags);return a.lastIndex=t.lastIndex,a}if(t instanceof Map){const a=new Map;r.set(t,a);for(const[c,u]of t)a.set(c,ph(u,c,n,r,i));return a}if(t instanceof Set){const a=new Set;r.set(t,a);for(const c of t)a.add(ph(c,void 0,n,r,i));return a}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(UI(t)){const a=new(Object.getPrototypeOf(t)).constructor(t.length);r.set(t,a);for(let c=0;c<t.length;c++)a[c]=ph(t[c],c,n,r,i);return a}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const a=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return r.set(t,a),Qu(a,t,n,r,i),a}if(typeof File<"u"&&t instanceof File){const a=new File([t],t.name,{type:t.type});return r.set(t,a),Qu(a,t,n,r,i),a}if(t instanceof Blob){const a=new Blob([t],{type:t.type});return r.set(t,a),Qu(a,t,n,r,i),a}if(t instanceof Error){const a=new t.constructor;return r.set(t,a),a.message=t.message,a.name=t.name,a.stack=t.stack,a.cause=t.cause,Qu(a,t,n,r,i),a}if(typeof t=="object"&&gIe(t)){const a=Object.create(Object.getPrototypeOf(t));return r.set(t,a),Qu(a,t,n,r,i),a}return t}function Qu(t,e,n=t,r,i){const s=[...Object.keys(e),...BW(e)];for(let a=0;a<s.length;a++){const c=s[a],u=Object.getOwnPropertyDescriptor(t,c);(u==null||u.writable)&&(t[c]=ph(e[c],c,n,r,i))}}function gIe(t){switch(LW(t)){case qW:case rIe:case iIe:case aIe:case FW:case eIe:case pIe:case mIe:case dIe:case fIe:case hIe:case tIe:case zW:case sIe:case J3e:case nIe:case jW:case Q3e:case oIe:case cIe:case lIe:case uIe:return!0;default:return!1}}function bIe(t,e){return yIe(t,(n,r,i,s)=>{if(typeof t=="object")switch(Object.prototype.toString.call(t)){case zW:case jW:case FW:{const a=new t.constructor(t?.valueOf());return Qu(a,t),a}case qW:{const a={};return Qu(a,t),a.length=t.length,a[Symbol.iterator]=t[Symbol.iterator],a}default:return}})}function c9(t){return bIe(t)}function l9(t){return t!==null&&typeof t=="object"&&LW(t)==="[object Arguments]"}function u9(t){return typeof t=="object"&&t!==null}function wIe(){}function vIe(t){return UI(t)}function _Ie(t){if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const n=t[Symbol.toStringTag];return n==null||!Object.getOwnPropertyDescriptor(t,Symbol.toStringTag)?.writable?!1:t.toString()===`[object ${n}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function EIe(t){if(DI(t))return t;if(Array.isArray(t)||UI(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),n=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new n(t);if(t instanceof RegExp){const r=new n(t);return r.lastIndex=t.lastIndex,r}if(t instanceof DataView)return new n(t.buffer.slice(0));if(t instanceof Error){const r=new n(t.message);return r.stack=t.stack,r.name=t.name,r.cause=t.cause,r}if(typeof File<"u"&&t instanceof File)return new n([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const r=Object.create(e);return Object.assign(r,t)}return t}function SIe(t,...e){const n=e.slice(0,-1),r=e[e.length-1];let i=t;for(let s=0;s<n.length;s++){const a=n[s];i=H5(i,a,r,new Map)}return i}function H5(t,e,n,r){if(DI(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(r.has(e))return EIe(r.get(e));if(r.set(e,t),Array.isArray(e)){e=e.slice();for(let s=0;s<e.length;s++)e[s]=e[s]??void 0}const i=[...Object.keys(e),...BW(e)];for(let s=0;s<i.length;s++){const a=i[s];let c=e[a],u=t[a];if(l9(c)&&(c={...c}),l9(u)&&(u={...u}),typeof Buffer<"u"&&Buffer.isBuffer(c)&&(c=c9(c)),Array.isArray(c))if(typeof u=="object"&&u!=null){const h=[],p=Reflect.ownKeys(u);for(let y=0;y<p.length;y++){const g=p[y];h[g]=u[g]}u=h}else u=[];const d=n(u,c,a,t,e,r);d!=null?t[a]=d:Array.isArray(c)||u9(u)&&u9(c)?t[a]=H5(u,c,n,r):u==null&&_Ie(c)?t[a]=H5({},c,n,r):u==null&&vIe(c)?t[a]=c9(c):(u===void 0||c!==void 0)&&(t[a]=c)}return t}function AIe(t,...e){return SIe(t,...e,wIe)}const d9="error",xIe="wss://relay.walletconnect.org",TIe="wc",WW="universal_provider",cw=`${TIe}@2:${WW}:`,HW="https://rpc.walletconnect.org/v1/",VW="generic",IIe=`${HW}bundler`,Ih="call_status",CIe=86400,MI={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};var OIe=Object.defineProperty,kIe=Object.defineProperties,RIe=Object.getOwnPropertyDescriptors,f9=Object.getOwnPropertySymbols,NIe=Object.prototype.hasOwnProperty,$Ie=Object.prototype.propertyIsEnumerable,h9=(t,e,n)=>e in t?OIe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,lw=(t,e)=>{for(var n in e||(e={}))NIe.call(e,n)&&h9(t,n,e[n]);if(f9)for(var n of f9(e))$Ie.call(e,n)&&h9(t,n,e[n]);return t},PIe=(t,e)=>kIe(t,RIe(e));function GW(t,e,n){var r;const i=Rc(t);return((r=e.rpcMap)==null?void 0:r[i.reference])||`${HW}?chainId=${i.namespace}:${i.reference}&projectId=${n}`}function DIe(t){return t.includes(":")?t.split(":")[1]:t}function KW(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function UIe(t,e){const n=Object.keys(e.namespaces).filter(i=>i.includes(t));if(!n.length)return[];const r=[];return n.forEach(i=>{const s=e.namespaces[i].accounts;r.push(...s)}),r}function p9(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>{var r,i;return((r=n?.chains)==null?void 0:r.length)&&((i=n?.chains)==null?void 0:i.length)>0}))}function uw(t={},e={}){const n=p9(m9(t)),r=p9(m9(e));return AIe(n,r)}function m9(t){var e,n,r,i,s;const a={};if(!_o(t))return a;for(const[c,u]of Object.entries(t)){const d=b_(c)?[c]:u.chains,h=u.methods||[],p=u.events||[],y=u.rpcMap||{},g=hh(c);a[g]=PIe(lw(lw({},a[g]),u),{chains:vo(d,(e=a[g])==null?void 0:e.chains),methods:vo(h,(n=a[g])==null?void 0:n.methods),events:vo(p,(r=a[g])==null?void 0:r.events)}),(_o(y)||_o(((i=a[g])==null?void 0:i.rpcMap)||{}))&&(a[g].rpcMap=lw(lw({},y),(s=a[g])==null?void 0:s.rpcMap))}return a}function y9(t){return t.includes(":")?t.split(":")[2]:t}function g9(t){const e={};for(const[n,r]of Object.entries(t)){const i=r.methods||[],s=r.events||[],a=r.accounts||[],c=b_(n)?[n]:r.chains?r.chains:KW(r.accounts);e[n]={chains:c,methods:i,events:s,accounts:a}}return e}function KA(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}function MIe(t){try{const e=JSON.parse(t);return typeof e=="object"&&e!==null&&!Array.isArray(e)}catch{return!1}}const YW={},Ch=t=>YW[t],YA=(t,e)=>{YW[t]=e};var BIe=Object.defineProperty,b9=Object.getOwnPropertySymbols,LIe=Object.prototype.hasOwnProperty,jIe=Object.prototype.propertyIsEnumerable,w9=(t,e,n)=>e in t?BIe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,v9=(t,e)=>{for(var n in e||(e={}))LIe.call(e,n)&&w9(t,n,e[n]);if(b9)for(var n of b9(e))jIe.call(e,n)&&w9(t,n,e[n]);return t};const _9="eip155",zIe=["atomic","flow-control","paymasterService","sessionKeys","auxiliaryFunds"],FIe=t=>t&&t.startsWith("0x")?BigInt(t).toString(10):t,ZA=t=>t&&t.startsWith("0x")?t:`0x${BigInt(t).toString(16)}`,E9=t=>Object.keys(t).filter(e=>zIe.includes(e)).reduce((e,n)=>(e[n]=qIe(t[n]),e),{}),qIe=t=>typeof t=="string"&&MIe(t)?JSON.parse(t):t,WIe=(t,e,n)=>{const{sessionProperties:r={},scopedProperties:i={}}=t,s={};if(!_o(i)&&!_o(r))return;const a=E9(r);for(const c of n){const u=FIe(c);if(!u)continue;s[ZA(u)]=a;const d=i?.[`${_9}:${u}`];if(d){const h=d?.[`${_9}:${u}:${e}`];s[ZA(u)]=v9(v9({},s[ZA(u)]),E9(h||d))}}for(const[c,u]of Object.entries(s))Object.keys(u).length===0&&delete s[c];return Object.keys(s).length>0?s:void 0};var HIe=Object.defineProperty,VIe=(t,e,n)=>e in t?HIe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,GIe=(t,e,n)=>VIe(t,e+"",n);let XA,KIe=class ZW{constructor(e){GIe(this,"storage"),this.storage=e}async getItem(e){return await this.storage.getItem(e)}async setItem(e,n){return await this.storage.setItem(e,n)}async removeItem(e){return await this.storage.removeItem(e)}static getStorage(e){return XA||(XA=new ZW(e)),XA}};var YIe=Object.defineProperty,ZIe=Object.defineProperties,XIe=Object.getOwnPropertyDescriptors,S9=Object.getOwnPropertySymbols,JIe=Object.prototype.hasOwnProperty,QIe=Object.prototype.propertyIsEnumerable,A9=(t,e,n)=>e in t?YIe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,eCe=(t,e)=>{for(var n in e||(e={}))JIe.call(e,n)&&A9(t,n,e[n]);if(S9)for(var n of S9(e))QIe.call(e,n)&&A9(t,n,e[n]);return t},tCe=(t,e)=>ZIe(t,XIe(e));async function nCe(t,e){const n=Rc(t.result.capabilities.caip345.caip2),r=t.result.capabilities.caip345.transactionHashes,i=await Promise.allSettled(r.map(p=>rCe(n.reference,p,e))),s=i.filter(p=>p.status==="fulfilled").map(p=>p.value).filter(p=>p);i.filter(p=>p.status==="rejected").forEach(p=>console.warn("Failed to fetch transaction receipt:",p.reason));const a=!s.length||s.some(p=>!p),c=s.every(p=>p?.status==="0x1"),u=s.every(p=>p?.status==="0x0"),d=s.some(p=>p?.status==="0x0");let h;return a?h=100:c?h=200:u?h=500:d&&(h=600),{id:t.result.id,version:t.request.version,atomic:t.request.atomicRequired,chainId:t.request.chainId,capabilities:t.result.capabilities,receipts:s,status:h}}async function rCe(t,e,n){return await n(parseInt(t)).request(Ca("eth_getTransactionReceipt",[e]))}async function iCe({sendCalls:t,storage:e}){const n=await e.getItem(Ih);await e.setItem(Ih,tCe(eCe({},n),{[t.result.id]:{request:t.request,result:t.result,expiry:dr(CIe)}}))}async function sCe({resultId:t,storage:e}){const n=await e.getItem(Ih);if(n){delete n[t],await e.setItem(Ih,n);for(const r in n)fo(n[r].expiry)&&delete n[r];await e.setItem(Ih,n)}}async function aCe({resultId:t,storage:e}){const n=await e.getItem(Ih),r=n?.[t];if(r&&!fo(r.expiry))return r;await sCe({resultId:t,storage:e})}var oCe=Object.defineProperty,cCe=Object.defineProperties,lCe=Object.getOwnPropertyDescriptors,x9=Object.getOwnPropertySymbols,uCe=Object.prototype.hasOwnProperty,dCe=Object.prototype.propertyIsEnumerable,V5=(t,e,n)=>e in t?oCe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,JA=(t,e)=>{for(var n in e||(e={}))uCe.call(e,n)&&V5(t,n,e[n]);if(x9)for(var n of x9(e))dCe.call(e,n)&&V5(t,n,e[n]);return t},QA=(t,e)=>cCe(t,lCe(e)),qu=(t,e,n)=>V5(t,typeof e!="symbol"?e+"":e,n);class fCe{constructor(e){qu(this,"name","eip155"),qu(this,"client"),qu(this,"chainId"),qu(this,"namespace"),qu(this,"httpProviders"),qu(this,"events"),qu(this,"storage"),this.namespace=e.namespace,this.events=Ch("events"),this.client=Ch("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain()),this.storage=KIe.getStorage(this.client.core.storage)}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e);case"wallet_sendCalls":return await this.sendCalls(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(parseInt(e),n);const r=this.chainId;this.chainId=parseInt(e),this.events.emit(MI.DEFAULT_CHAIN_CHANGED,{currentCaipChainId:`${this.name}:${e}`,previousCaipChainId:`${this.name}:${r}`})}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,n){const r=n||GW(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new $I(new MW(r,Ch("disableProviderPing")))}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=parseInt(DIe(n));e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}getHttpProvider(e){const n=e||this.chainId;return this.httpProviders[n]||(this.httpProviders=QA(JA({},this.httpProviders),{[n]:this.createHttpProvider(n)}),this.httpProviders[n])}async handleSwitchChain(e){var n,r;let i=e.request.params?(n=e.request.params[0])==null?void 0:n.chainId:"0x0";i=i.startsWith("0x")?i:`0x${i}`;const s=parseInt(i,16);if(this.isChainApproved(s))this.setDefaultChain(`${s}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:i}]},chainId:(r=this.namespace.chains)==null?void 0:r[0]}),this.setDefaultChain(`${s}`);else throw new Error(`Failed to switch to chain 'eip155:${s}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var n,r,i,s,a;const c=(r=(n=e.request)==null?void 0:n.params)==null?void 0:r[0],u=((s=(i=e.request)==null?void 0:i.params)==null?void 0:s[1])||[];if(!c)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const d=this.client.session.get(e.topic),h=((a=d?.sessionProperties)==null?void 0:a.capabilities)||{},p=`${c}${u.join(",")}`,y=h?.[p];if(y)return y;let g;try{g=WIe(d,c,u)}catch(v){console.warn("Failed to extract capabilities from session",v)}if(g)return g;const b=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:QA(JA({},d.sessionProperties||{}),{capabilities:QA(JA({},h||{}),{[p]:b})})})}catch(v){console.warn("Failed to update session with capabilities",v)}return b}async getCallStatus(e){var n,r,i;const s=this.client.session.get(e.topic),a=(n=s.sessionProperties)==null?void 0:n.bundler_name;if(a){const d=this.getBundlerUrl(e.chainId,a);try{return await this.getUserOperationReceipt(d,e)}catch(h){console.warn("Failed to fetch call status from bundler",h,d)}}const c=(r=s.sessionProperties)==null?void 0:r.bundler_url;if(c)try{return await this.getUserOperationReceipt(c,e)}catch(d){console.warn("Failed to fetch call status from custom bundler",d,c)}const u=await aCe({resultId:(i=e.request.params)==null?void 0:i[0],storage:this.storage});if(u)try{return await nCe(u,this.getHttpProvider.bind(this))}catch(d){console.warn("Failed to fetch call status from stored send calls",d,u)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,n){var r;const i=new URL(e),s=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ca("eth_getUserOperationReceipt",[(r=n.request.params)==null?void 0:r[0]]))});if(!s.ok)throw new Error(`Failed to fetch user operation receipt - ${s.status}`);return await s.json()}getBundlerUrl(e,n){return`${IIe}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${n}`}async sendCalls(e){var n,r,i;const s=await this.client.request(e),a=(n=e.request.params)==null?void 0:n[0],c=s?.id,u=s?.capabilities||{},d=(r=u?.caip345)==null?void 0:r.caip2,h=(i=u?.caip345)==null?void 0:i.transactionHashes;return!c||!d||!(h!=null&&h.length)||await iCe({sendCalls:{request:a,result:s},storage:this.storage}),s}}var hCe=Object.defineProperty,pCe=(t,e,n)=>e in t?hCe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Jf=(t,e,n)=>pCe(t,typeof e!="symbol"?e+"":e,n);class mCe{constructor(e){Jf(this,"name",VW),Jf(this,"client"),Jf(this,"httpProviders"),Jf(this,"events"),Jf(this,"namespace"),Jf(this,"chainId"),this.namespace=e.namespace,this.events=Ch("events"),this.client=Ch("client"),this.chainId=this.getDefaultChain(),this.name=this.getNamespaceName(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n);const r=this.chainId;this.chainId=e,this.events.emit(MI.DEFAULT_CHAIN_CHANGED,{currentCaipChainId:`${this.name}:${e}`,previousCaipChainId:`${this.name}:${r}`})}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getNamespaceName(){const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return Rc(e).namespace}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){var e,n;const r={};return(n=(e=this.namespace)==null?void 0:e.accounts)==null||n.forEach(i=>{var s,a;const c=Rc(i),u=(a=(s=this.namespace)==null?void 0:s.rpcMap)==null?void 0:a[`${c.namespace}:${c.reference}`];r[c.reference]=this.createHttpProvider(i,u)}),r}getHttpProvider(e){const n=Rc(e).reference,r=this.httpProviders[n];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||GW(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new $I(new MW(r,Ch("disableProviderPing")))}}var yCe=Object.defineProperty,gCe=Object.defineProperties,bCe=Object.getOwnPropertyDescriptors,T9=Object.getOwnPropertySymbols,wCe=Object.prototype.hasOwnProperty,vCe=Object.prototype.propertyIsEnumerable,G5=(t,e,n)=>e in t?yCe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Um=(t,e)=>{for(var n in e||(e={}))wCe.call(e,n)&&G5(t,n,e[n]);if(T9)for(var n of T9(e))vCe.call(e,n)&&G5(t,n,e[n]);return t},dw=(t,e)=>gCe(t,bCe(e)),Ks=(t,e,n)=>G5(t,typeof e!="symbol"?e+"":e,n);class BI{constructor(e){Ks(this,"client"),Ks(this,"namespaces"),Ks(this,"optionalNamespaces"),Ks(this,"sessionProperties"),Ks(this,"scopedProperties"),Ks(this,"events",new Q3),Ks(this,"rpcProviders",{}),Ks(this,"session"),Ks(this,"providerOpts"),Ks(this,"logger"),Ks(this,"uri"),Ks(this,"disableProviderPing",!1);var n,r;this.providerOpts=e,this.logger=kI({logger:(n=e.logger)!=null?n:d9,name:(r=this.providerOpts.name)!=null?r:WW}),this.disableProviderPing=e?.disableProviderPing||!1}static async init(e){const n=new BI(e);return await n.initialize(),n}async request(e,n,r){const[i,s]=this.validateChain(n);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(i).request({request:Um({},e),chainId:`${i}:${s}`,topic:this.session.topic,expiry:r})}sendAsync(e,n,r,i){const s=new Date().getTime();this.request(e,r,i).then(a=>n(null,cg(s,a))).catch(a=>n(a,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:Un("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,n){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:r,response:i}=await this.client.authenticate(e,n);r&&(this.uri=r,this.events.emit("display_uri",r));const s=await i();if(this.session=s.session,this.session){const a=g9(this.session.namespaces);this.namespaces=uw(this.namespaces,a),await this.persist("namespaces",this.namespaces),this.onConnect()}return s}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}removeListener(e,n){this.events.removeListener(e,n)}off(e,n){this.events.off(e,n)}get isWalletConnect(){return!0}async pair(e){const{uri:n,approval:r}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});n&&(this.uri=n,this.events.emit("display_uri",n));const i=await r();this.session=i;const s=g9(i.namespaces);return this.namespaces=uw(this.namespaces,s),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,n){try{if(!this.session)return;const[r,i]=this.validateChain(e);this.getProvider(r).setDefaultChain(i,n)}catch(r){if(!/Please call connect/.test(r.message))throw r}}async cleanupPendingPairings(e={}){try{this.logger.info("Cleaning up inactive pairings...");const n=this.client.pairing.getAll();if(!ia(n))return;for(const r of n)e.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${n.length}`)}catch(n){this.logger.warn(n,"Failed to cleanup pending pairings")}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,n;if(this.client=this.providerOpts.client||await F3e.init({core:this.providerOpts.core,logger:this.providerOpts.logger||d9,relayUrl:this.providerOpts.relayUrl||xIe,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(r){throw this.logger.error(r,"Failed to get session"),new Error(`The provided session: ${(n=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:n.topic} doesn't exist in the Sign client`)}else{const r=this.client.session.getAll();this.session=r[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(n=>hh(n)))];YA("client",this.client),YA("events",this.events),YA("disableProviderPing",this.disableProviderPing),e.forEach(n=>{if(!this.session)return;const r=UIe(n,this.session);if(r?.length===0)return;const i=KW(r),s=uw(this.namespaces,this.optionalNamespaces),a=dw(Um({},s[n]),{accounts:r,chains:i});n==="eip155"?this.rpcProviders[n]=new fCe({namespace:a}):this.rpcProviders[n]=new mCe({namespace:a})})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var n;const{topic:r}=e;r===((n=this.session)==null?void 0:n.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var n;const{params:r,topic:i}=e;if(i!==((n=this.session)==null?void 0:n.topic))return;const{event:s}=r;if(s.name==="accountsChanged"){const a=s.data;a&&ia(a)&&this.events.emit("accountsChanged",a.map(y9))}else if(s.name==="chainChanged"){const a=r.chainId,c=r.event.data,u=hh(a),d=KA(a)!==KA(c)?`${u}:${KA(c)}`:a;this.onChainChanged({currentCaipChainId:d})}else this.events.emit(s.name,s.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:n})=>{var r,i;if(e!==((r=this.session)==null?void 0:r.topic))return;const{namespaces:s}=n,a=(i=this.client)==null?void 0:i.session.get(e);this.session=dw(Um({},a),{namespaces:s}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:n})}),this.client.on("session_delete",async e=>{var n;e.topic===((n=this.session)==null?void 0:n.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",dw(Um({},Un("USER_DISCONNECTED")),{data:e.topic})))}),this.on(MI.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(dw(Um({},e),{internal:!0}))})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[VW]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var n;this.getProvider(e).updateNamespace((n=this.session)==null?void 0:n.namespaces[e])})}setNamespaces(e){const{namespaces:n={},optionalNamespaces:r={},sessionProperties:i,scopedProperties:s}=e;this.optionalNamespaces=uw(n,r),this.sessionProperties=i,this.scopedProperties=s}validateChain(e){const[n,r]=e?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[n,r];if(n&&!Object.keys(this.namespaces||{}).map(a=>hh(a)).includes(n))throw new Error(`Namespace '${n}' is not configured. Please call connect() first with namespace config.`);if(n&&r)return[n,r];const i=hh(Object.keys(this.namespaces)[0]),s=this.rpcProviders[i].getDefaultChain();return[i,s]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged({currentCaipChainId:e,previousCaipChainId:n,internal:r=!1}){if(!this.namespaces)return;const[i,s]=this.validateChain(e);s&&(this.updateNamespaceChain(i,s),r?(this.events.emit("chainChanged",s),this.emitAccountsChangedOnChainChange({namespace:i,currentCaipChainId:e,previousCaipChainId:n})):this.getProvider(i).setDefaultChain(s),await this.persist("namespaces",this.namespaces))}emitAccountsChangedOnChainChange({namespace:e,currentCaipChainId:n,previousCaipChainId:r}){var i,s;try{if(r===n)return;const a=(s=(i=this.session)==null?void 0:i.namespaces[e])==null?void 0:s.accounts;if(!a)return;const c=a.filter(u=>u.includes(`${n}:`)).map(y9);if(!ia(c))return;this.events.emit("accountsChanged",c)}catch(a){this.logger.warn(a,"Failed to emit accountsChanged on chain change")}}updateNamespaceChain(e,n){if(!this.namespaces)return;const r=this.namespaces[e]?e:`${e}:${n}`,i={chains:[],methods:[],events:[],defaultChain:n};this.namespaces[r]?this.namespaces[r]&&(this.namespaces[r].defaultChain=n):this.namespaces[r]=i}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,n){var r;const i=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.setItem(`${cw}/${e}${i}`,n)}async getFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";return await this.client.core.storage.getItem(`${cw}/${e}${r}`)}async deleteFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.removeItem(`${cw}/${e}${r}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const n=await this.client.core.storage.getKeys();for(const r of n)r.startsWith(cw)&&await this.client.core.storage.removeItem(r)}catch(n){this.logger.warn(n,"Failed to cleanup storage")}}}const _Ce=BI,ECe="wc",SCe="ethereum_provider",ACe=`${ECe}@2:${SCe}:`,xCe="https://rpc.walletconnect.org/v1/",K5=["eth_sendTransaction","personal_sign"],XW=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_sendCalls","wallet_getCapabilities","wallet_getCallsStatus","wallet_showCallsStatus"],Y5=["chainChanged","accountsChanged"],JW=["chainChanged","accountsChanged","message","disconnect","connect"],TCe=async()=>{const{createAppKit:t}=await ze(()=>import("./core-BFZ0yyOt.js").then(e=>e.ai),[]);return t};var ICe=Object.defineProperty,CCe=Object.defineProperties,OCe=Object.getOwnPropertyDescriptors,I9=Object.getOwnPropertySymbols,kCe=Object.prototype.hasOwnProperty,RCe=Object.prototype.propertyIsEnumerable,Z5=(t,e,n)=>e in t?ICe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Gu=(t,e)=>{for(var n in e||(e={}))kCe.call(e,n)&&Z5(t,n,e[n]);if(I9)for(var n of I9(e))RCe.call(e,n)&&Z5(t,n,e[n]);return t},Mm=(t,e)=>CCe(t,OCe(e)),gs=(t,e,n)=>Z5(t,typeof e!="symbol"?e+"":e,n);function Yv(t){return Number(t[0].split(":")[1])}function fw(t){return`0x${t.toString(16)}`}function NCe(t){const{chains:e,optionalChains:n,methods:r,optionalMethods:i,events:s,optionalEvents:a,rpcMap:c}=t;if(!ia(e))throw new Error("Invalid chains");const u={chains:e,methods:r||K5,events:s||Y5,rpcMap:Gu({},e.length?{[Yv(e)]:c[Yv(e)]}:{})},d=s?.filter(g=>!Y5.includes(g)),h=r?.filter(g=>!K5.includes(g));if(!n&&!a&&!i&&!(d!=null&&d.length)&&!(h!=null&&h.length))return{required:e.length?u:void 0};const p=d?.length&&h?.length||!n,y={chains:[...new Set(p?u.chains.concat(n||[]):n)],methods:[...new Set(u.methods.concat(i!=null&&i.length?i:XW))],events:[...new Set(u.events.concat(a!=null&&a.length?a:JW))],rpcMap:c};return{required:e.length?u:void 0,optional:n.length?y:void 0}}class LI{constructor(){gs(this,"events",new ks.EventEmitter),gs(this,"namespace","eip155"),gs(this,"accounts",[]),gs(this,"signer"),gs(this,"chainId",1),gs(this,"modal"),gs(this,"rpc"),gs(this,"STORAGE_KEY",ACe),gs(this,"on",(e,n)=>(this.events.on(e,n),this)),gs(this,"once",(e,n)=>(this.events.once(e,n),this)),gs(this,"removeListener",(e,n)=>(this.events.removeListener(e,n),this)),gs(this,"off",(e,n)=>(this.events.off(e,n),this)),gs(this,"parseAccount",e=>this.isCompatibleChainId(e)?this.parseAccountId(e).address:e),this.signer={},this.rpc={}}static async init(e){const n=new LI;return await n.initialize(e),n}async request(e,n){return await this.signer.request(e,this.formatChainId(this.chainId),n)}sendAsync(e,n,r){this.signer.sendAsync(e,n,this.formatChainId(this.chainId),r)}get connected(){return this.signer.client?this.signer.client.core.relayer.connected:!1}get connecting(){return this.signer.client?this.signer.client.core.relayer.connecting:!1}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(e){var n;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(e);const{required:r,optional:i}=NCe(this.rpc);try{const s=await new Promise(async(c,u)=>{var d,h;this.rpc.showQrModal&&((d=this.modal)==null||d.open(),(h=this.modal)==null||h.subscribeState(y=>{!y.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),u(new Error("Connection request reset. Please try again.")))}));const p=e!=null&&e.scopedProperties?{[this.namespace]:e.scopedProperties}:void 0;await this.signer.connect(Mm(Gu({namespaces:Gu({},r&&{[this.namespace]:r})},i&&{optionalNamespaces:{[this.namespace]:i}}),{pairingTopic:e?.pairingTopic,scopedProperties:p})).then(y=>{c(y)}).catch(y=>{var g;(g=this.modal)==null||g.showErrorMessage("Unable to connect"),u(new Error(y.message))})});if(!s)return;const a=mP(s.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:a),this.setAccounts(a),this.events.emit("connect",{chainId:fw(this.chainId)})}catch(s){throw this.signer.logger.error(s),s}finally{(n=this.modal)==null||n.close()}}async authenticate(e,n){var r;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts({chains:e?.chains});try{const i=await new Promise(async(a,c)=>{var u,d;this.rpc.showQrModal&&((u=this.modal)==null||u.open(),(d=this.modal)==null||d.subscribeState(h=>{!h.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),c(new Error("Connection request reset. Please try again.")))})),await this.signer.authenticate(Mm(Gu({},e),{chains:this.rpc.chains}),n).then(h=>{a(h)}).catch(h=>{var p;(p=this.modal)==null||p.showErrorMessage("Unable to connect"),c(new Error(h.message))})}),s=i.session;if(s){const a=mP(s.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:a),this.setAccounts(a),this.events.emit("connect",{chainId:fw(this.chainId)})}return i}catch(i){throw this.signer.logger.error(i),i}finally{(r=this.modal)==null||r.close()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",e=>{const{params:n}=e,{event:r}=n;r.name==="accountsChanged"?(this.accounts=this.parseAccounts(r.data),this.events.emit("accountsChanged",this.accounts)):r.name==="chainChanged"?this.setChainId(this.formatChainId(r.data)):this.events.emit(r.name,r.data),this.events.emit("session_event",e)}),this.signer.on("accountsChanged",e=>{this.accounts=this.parseAccounts(e),this.events.emit("accountsChanged",this.accounts)}),this.signer.on("chainChanged",e=>{const n=parseInt(e);this.chainId=n,this.events.emit("chainChanged",fw(this.chainId)),this.persist()}),this.signer.on("session_update",e=>{this.events.emit("session_update",e)}),this.signer.on("session_delete",e=>{this.reset(),this.events.emit("session_delete",e),this.events.emit("disconnect",Mm(Gu({},Un("USER_DISCONNECTED")),{data:e.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",e=>{this.events.emit("display_uri",e)})}switchEthereumChain(e){this.request({method:"wallet_switchEthereumChain",params:[{chainId:e.toString(16)}]})}isCompatibleChainId(e){return typeof e=="string"?e.startsWith(`${this.namespace}:`):!1}formatChainId(e){return`${this.namespace}:${e}`}parseChainId(e){return Number(e.split(":")[1])}setChainIds(e){const n=e.filter(r=>this.isCompatibleChainId(r)).map(r=>this.parseChainId(r));n.length&&(this.chainId=n[0],this.events.emit("chainChanged",fw(this.chainId)),this.persist())}setChainId(e){if(this.isCompatibleChainId(e)){const n=this.parseChainId(e);this.chainId=n,this.switchEthereumChain(n)}}parseAccountId(e){const[n,r,i]=e.split(":");return{chainId:`${n}:${r}`,address:i}}setAccounts(e){this.accounts=e.filter(n=>this.parseChainId(this.parseAccountId(n).chainId)===this.chainId).map(n=>this.parseAccountId(n).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(e){var n,r;const i=(n=e?.chains)!=null?n:[],s=(r=e?.optionalChains)!=null?r:[],a=i.concat(s);if(!a.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const c=i.length?e?.methods||K5:[],u=i.length?e?.events||Y5:[],d=e?.optionalMethods||[],h=e?.optionalEvents||[],p=e?.rpcMap||this.buildRpcMap(a,e.projectId),y=e?.qrModalOptions||void 0;return{chains:i?.map(g=>this.formatChainId(g)),optionalChains:s.map(g=>this.formatChainId(g)),methods:c,events:u,optionalMethods:d,optionalEvents:h,rpcMap:p,showQrModal:!!(e!=null&&e.showQrModal),qrModalOptions:y,projectId:e.projectId,metadata:e.metadata}}buildRpcMap(e,n){const r={};return e.forEach(i=>{r[i]=this.getRpcUrl(i,n)}),r}async initialize(e){var n;if(this.rpc=this.getRpcConfig(e),this.chainId=this.rpc.chains.length?Yv(this.rpc.chains):Yv(this.rpc.optionalChains),this.signer=await _Ce.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:e.disableProviderPing,relayUrl:e.relayUrl,storage:e.storage,storageOptions:e.storageOptions,customStoragePrefix:e.customStoragePrefix,telemetryEnabled:e.telemetryEnabled,logger:e.logger}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let r;try{const i=await TCe(),{convertWCMToAppKitOptions:s}=await Promise.resolve().then(function(){return qCe}),a=s(Mm(Gu({},this.rpc.qrModalOptions),{chains:[...new Set([...this.rpc.chains,...this.rpc.optionalChains])],metadata:this.rpc.metadata,projectId:this.rpc.projectId}));if(!a.networks.length)throw new Error("No networks found for WalletConnect");r=i(Mm(Gu({},a),{universalProvider:this.signer,manualWCControl:!0,enableMobileFullScreen:((n=this.rpc.qrModalOptions)==null?void 0:n.enableMobileFullScreen)===!0}))}catch(i){throw console.warn(i),new Error("To use QR modal, please install @reown/appkit package")}if(r)try{this.modal=r}catch(i){throw this.signer.logger.error(i),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(e){if(!e)return;const{chains:n,optionalChains:r,rpcMap:i}=e;n&&ia(n)&&(this.rpc.chains=n.map(s=>this.formatChainId(s)),n.forEach(s=>{this.rpc.rpcMap[s]=i?.[s]||this.getRpcUrl(s)})),r&&ia(r)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=r?.map(s=>this.formatChainId(s)),r.forEach(s=>{this.rpc.rpcMap[s]=i?.[s]||this.getRpcUrl(s)}))}getRpcUrl(e,n){var r;return((r=this.rpc.rpcMap)==null?void 0:r[e])||`${xCe}?chainId=eip155:${e}&projectId=${n||this.rpc.projectId}`}async loadPersistedSession(){if(this.session)try{const e=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),n=this.session.namespaces[`${this.namespace}:${e}`]?this.session.namespaces[`${this.namespace}:${e}`]:this.session.namespaces[this.namespace];this.setChainIds(e?[this.formatChainId(e)]:n?.accounts),this.setAccounts(n?.accounts)}catch(e){this.signer.logger.error("Failed to load persisted session, clearing state..."),this.signer.logger.error(e),await this.disconnect().catch(n=>this.signer.logger.warn(n))}}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(e){return typeof e=="string"||e instanceof String?[this.parseAccount(e)]:e.map(n=>this.parseAccount(n))}}const $Ce=LI;var PCe=Object.defineProperty,DCe=Object.defineProperties,UCe=Object.getOwnPropertyDescriptors,C9=Object.getOwnPropertySymbols,MCe=Object.prototype.hasOwnProperty,BCe=Object.prototype.propertyIsEnumerable,O9=(t,e,n)=>e in t?PCe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,QW=(t,e)=>{for(var n in e||(e={}))MCe.call(e,n)&&O9(t,n,e[n]);if(C9)for(var n of C9(e))BCe.call(e,n)&&O9(t,n,e[n]);return t},LCe=(t,e)=>DCe(t,UCe(e));function jCe(t){if(t)return{"--w3m-font-family":t["--wcm-font-family"],"--w3m-accent":t["--wcm-accent-color"],"--w3m-color-mix":t["--wcm-background-color"],"--w3m-z-index":t["--wcm-z-index"]?Number(t["--wcm-z-index"]):void 0,"--w3m-qr-color":t["--wcm-accent-color"],"--w3m-font-size-master":t["--wcm-text-medium-regular-size"],"--w3m-border-radius-master":t["--wcm-container-border-radius"],"--w3m-color-mix-strength":0}}const zCe=t=>{const[e,n]=t.split(":");return eH({id:n,caipNetworkId:t,chainNamespace:e,name:"",nativeCurrency:{name:"",symbol:"",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}})};function FCe(t){var e,n,r,i,s,a,c;const u=(e=t.chains)==null?void 0:e.map(zCe).filter(Boolean);if(u.length===0)throw new Error("At least one chain must be specified");const d=u.find(p=>{var y;return p.id===((y=t.defaultChain)==null?void 0:y.id)}),h={projectId:t.projectId,networks:u,themeMode:t.themeMode,themeVariables:jCe(t.themeVariables),chainImages:t.chainImages,connectorImages:t.walletImages,defaultNetwork:d,metadata:LCe(QW({},t.metadata),{name:((n=t.metadata)==null?void 0:n.name)||"WalletConnect",description:((r=t.metadata)==null?void 0:r.description)||"Connect to WalletConnect-compatible wallets",url:((i=t.metadata)==null?void 0:i.url)||"https://walletconnect.org",icons:((s=t.metadata)==null?void 0:s.icons)||["https://walletconnect.org/walletconnect-logo.png"]}),showWallets:!0,featuredWalletIds:t.explorerRecommendedWalletIds==="NONE"?[]:Array.isArray(t.explorerRecommendedWalletIds)?t.explorerRecommendedWalletIds:[],excludeWalletIds:t.explorerExcludedWalletIds==="ALL"?[]:Array.isArray(t.explorerExcludedWalletIds)?t.explorerExcludedWalletIds:[],enableEIP6963:!1,enableInjected:!1,enableCoinbase:!0,enableWalletConnect:!0,features:{email:!1,socials:!1}};if((a=t.mobileWallets)!=null&&a.length||(c=t.desktopWallets)!=null&&c.length){const p=[...(t.mobileWallets||[]).map(b=>({id:b.id,name:b.name,links:b.links})),...(t.desktopWallets||[]).map(b=>({id:b.id,name:b.name,links:{native:b.links.native,universal:b.links.universal}}))],y=[...h.featuredWalletIds||[],...h.excludeWalletIds||[]],g=p.filter(b=>!y.includes(b.id));g.length&&(h.customWallets=g)}return h}function eH(t){return QW({formatters:void 0,fees:void 0,serializers:void 0},t)}var qCe=Object.freeze({__proto__:null,convertWCMToAppKitOptions:FCe,defineChain:eH});const WCe=({origin:t,path:e,query:n={},hash:r={}})=>{let i=new URL(e,t.endsWith("/")?t:`${t}/`);for(let[a,c]of Object.entries(n))c!==void 0&&i.searchParams.set(a,c);let s=Object.entries(r);if(s.length>0){let a=new URLSearchParams;for(let[c,u]of s)u!==void 0&&a.append(c,u);i.hash=a.toString()}return i.href};var HCe=Object.defineProperty,jI=(t,e)=>{for(var n in e)HCe(t,n,{get:e[n],enumerable:!0})},VCe={84532:{usdcAddress:"0x036CbD53842c5426634e7929541eC2318f3dCF7e",usdcName:"USDC"},8453:{usdcAddress:"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",usdcName:"USD Coin"},43113:{usdcAddress:"0x5425890298aed601595a70AB815c96711a31Bc65",usdcName:"USD Coin"},43114:{usdcAddress:"0xB97EF9Ef8734C71904D8002F8b6Bc66Dd9c48a6E",usdcName:"USD Coin"},4689:{usdcAddress:"0xcdf79194c6c285077a58da47641d4dbe51f63542",usdcName:"Bridged USDC"},103:{usdcAddress:"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU",usdcName:"USDC"},101:{usdcAddress:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",usdcName:"USDC"},1328:{usdcAddress:"0x4fcf1784b31630811181f670aea7a7bef803eaed",usdcName:"USDC"},1329:{usdcAddress:"0xe15fc38f6d8c56af07bbcbe3baf5708a2bf42392",usdcName:"USDC"},137:{usdcAddress:"0x3c499c542cef5e3811e1192ce70d8cc03d5c3359",usdcName:"USD Coin"},80002:{usdcAddress:"0x41E94Eb019C0762f9Bfcf9Fb1E58725BfB0e7582",usdcName:"USDC"},3338:{usdcAddress:"0xbbA60da06c2c5424f03f7434542280FCAd453d10",usdcName:"USDC"},2741:{usdcAddress:"0x84a71ccd554cc1b02749b35d22f684cc8ec987e1",usdcName:"Bridged USDC"},11124:{usdcAddress:"0xe4C7fBB0a626ed208021ccabA6Be1566905E2dFc",usdcName:"Bridged USDC"},1514:{usdcAddress:"0xF1815bd50389c46847f0Bda824eC8da914045D14",usdcName:"Bridged USDC"},41923:{usdcAddress:"0x12a272A581feE5577A5dFa371afEB4b2F3a8C2F8",usdcName:"Bridged USDC (Stargate)"},324705682:{usdcAddress:"0x2e08028E3C4c2356572E096d8EF835cD5C6030bD",usdcName:"Bridged USDC (SKALE Bridge)"}},GCe=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"authorizer",type:"address"},{indexed:!0,internalType:"bytes32",name:"nonce",type:"bytes32"}],name:"AuthorizationCanceled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"authorizer",type:"address"},{indexed:!0,internalType:"bytes32",name:"nonce",type:"bytes32"}],name:"AuthorizationUsed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_account",type:"address"}],name:"Blacklisted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newBlacklister",type:"address"}],name:"BlacklisterChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"burner",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Burn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newMasterMinter",type:"address"}],name:"MasterMinterChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"minter",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Mint",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"minter",type:"address"},{indexed:!1,internalType:"uint256",name:"minterAllowedAmount",type:"uint256"}],name:"MinterConfigured",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"oldMinter",type:"address"}],name:"MinterRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"previousOwner",type:"address"},{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[],name:"Pause",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newAddress",type:"address"}],name:"PauserChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newRescuer",type:"address"}],name:"RescuerChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_account",type:"address"}],name:"UnBlacklisted",type:"event"},{anonymous:!1,inputs:[],name:"Unpause",type:"event"},{inputs:[],name:"CANCEL_AUTHORIZATION_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"PERMIT_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"RECEIVE_WITH_AUTHORIZATION_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"TRANSFER_WITH_AUTHORIZATION_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"authorizer",type:"address"},{internalType:"bytes32",name:"nonce",type:"bytes32"}],name:"authorizationState",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"blacklist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"blacklister",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"authorizer",type:"address"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"cancelAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"authorizer",type:"address"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"cancelAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"minter",type:"address"},{internalType:"uint256",name:"minterAllowedAmount",type:"uint256"}],name:"configureMinter",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"currency",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"decrement",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"increment",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"tokenName",type:"string"},{internalType:"string",name:"tokenSymbol",type:"string"},{internalType:"string",name:"tokenCurrency",type:"string"},{internalType:"uint8",name:"tokenDecimals",type:"uint8"},{internalType:"address",name:"newMasterMinter",type:"address"},{internalType:"address",name:"newPauser",type:"address"},{internalType:"address",name:"newBlacklister",type:"address"},{internalType:"address",name:"newOwner",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"newName",type:"string"}],name:"initializeV2",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"lostAndFound",type:"address"}],name:"initializeV2_1",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"accountsToBlacklist",type:"address[]"},{internalType:"string",name:"newSymbol",type:"string"}],name:"initializeV2_2",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"isBlacklisted",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"isMinter",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"masterMinter",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"minter",type:"address"}],name:"minterAllowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"pauser",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"validAfter",type:"uint256"},{internalType:"uint256",name:"validBefore",type:"uint256"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"receiveWithAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"validAfter",type:"uint256"},{internalType:"uint256",name:"validBefore",type:"uint256"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"receiveWithAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"minter",type:"address"}],name:"removeMinter",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IERC20",name:"tokenContract",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"rescueERC20",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"rescuer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"validAfter",type:"uint256"},{internalType:"uint256",name:"validBefore",type:"uint256"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"transferWithAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"validAfter",type:"uint256"},{internalType:"uint256",name:"validBefore",type:"uint256"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"transferWithAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"unBlacklist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_newBlacklister",type:"address"}],name:"updateBlacklister",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_newMasterMinter",type:"address"}],name:"updateMasterMinter",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_newPauser",type:"address"}],name:"updatePauser",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newRescuer",type:"address"}],name:"updateRescuer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"version",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"pure",type:"function"}];const zI=50000n,k9=TQ*32n,tH={block:VM({format(t){const e=t.transactions?.map(n=>{if(typeof n=="string")return n;const r=tH.transaction?.format(n);return r.typeHex==="0x71"?r.type="eip712":r.typeHex==="0xff"&&(r.type="priority"),r});return{l1BatchNumber:t.l1BatchNumber?an(t.l1BatchNumber):null,l1BatchTimestamp:t.l1BatchTimestamp?an(t.l1BatchTimestamp):null,transactions:e}}}),transaction:HM({format(t){const e={};return t.type==="0x71"?e.type="eip712":t.type==="0xff"&&(e.type="priority"),{...e,l1BatchNumber:t.l1BatchNumber?an(t.l1BatchNumber):null,l1BatchTxIndex:t.l1BatchTxIndex?an(t.l1BatchTxIndex):null}}}),transactionReceipt:OB({format(t){return{l1BatchNumber:t.l1BatchNumber?an(t.l1BatchNumber):null,l1BatchTxIndex:t.l1BatchTxIndex?an(t.l1BatchTxIndex):null,logs:t.logs.map(e=>({...Eo(e),l1BatchNumber:e.l1BatchNumber?an(e.l1BatchNumber):null,transactionLogIndex:Is(e.transactionLogIndex),logType:e.logType})),l2ToL1Logs:t.l2ToL1Logs.map(e=>({blockNumber:an(e.blockHash),blockHash:e.blockHash,l1BatchNumber:e.l1BatchNumber?an(e.l1BatchNumber):null,transactionIndex:an(e.transactionIndex),shardId:an(e.shardId),isService:e.isService,sender:e.sender,key:e.key,value:e.value,transactionHash:e.transactionHash,logIndex:an(e.logIndex)}))}}}),transactionRequest:SQ({exclude:["customSignature","factoryDeps","gasPerPubdata","paymaster","paymasterInput"],format(t){return t.gasPerPubdata||t.paymaster&&t.paymasterInput||t.factoryDeps||t.customSignature?{eip712Meta:{...t.gasPerPubdata?{gasPerPubdata:Et(t.gasPerPubdata)}:{gasPerPubdata:Et(zI)},...t.paymaster&&t.paymasterInput?{paymasterParams:{paymaster:t.paymaster,paymasterInput:Array.from(Ai(t.paymasterInput))}}:{},...t.factoryDeps?{factoryDeps:t.factoryDeps.map(e=>Array.from(Ai(e)))}:{},...t.customSignature?{customSignature:Array.from(Ai(t.customSignature))}:{}},type:"0x71"}:{}}})};class nH extends _e{constructor(){super(["Transaction is not an EIP712 transaction.","","Transaction must:",'  - include `type: "eip712"`',"  - include one of the following: `customSignature`, `paymaster`, `paymasterInput`, `gasPerPubdata`, `factoryDeps`"].join(`
`),{name:"InvalidEip712TransactionError"})}}function n0(t){return!!(t.type==="eip712"||"customSignature"in t&&t.customSignature||"paymaster"in t&&t.paymaster||"paymasterInput"in t&&t.paymasterInput||"gasPerPubdata"in t&&typeof t.gasPerPubdata=="bigint"||"factoryDeps"in t&&t.factoryDeps)}function rH(t){const{chainId:e,to:n,from:r,paymaster:i,paymasterInput:s}=t;if(!n0(t))throw new nH;if(!e||e<=0)throw new Rg({chainId:e});if(n&&!Cn(n))throw new br({address:n});if(r&&!Cn(r))throw new br({address:r});if(i&&!Cn(i))throw new br({address:i});if(i&&!s)throw new _e("`paymasterInput` must be provided when `paymaster` is defined");if(!i&&s)throw new _e("`paymaster` must be provided when `paymasterInput` is defined")}function KCe(t,e){return n0(t)?ZCe(t):t3(t,e)}const YCe={transaction:KCe};function ZCe(t){const{chainId:e,gas:n,nonce:r,to:i,from:s,value:a,maxFeePerGas:c,maxPriorityFeePerGas:u,customSignature:d,factoryDeps:h,paymaster:p,paymasterInput:y,gasPerPubdata:g,data:b}=t;rH(t);const v=[r?Et(r):"0x",u?Et(u):"0x",c?Et(c):"0x",n?Et(n):"0x",i??"0x",a?Et(a):"0x",b??"0x",Et(e),Et(""),Et(""),Et(e),s??"0x",Et(g||zI),h??[],d??"0x",p&&y?[p,y]:[]];return la(["0x71",Pc(v)])}class XCe extends _e{constructor({givenLength:e,maxBytecodeSize:n}){super(`Bytecode cannot be longer than ${n} bytes. Given length: ${e}`,{name:"BytecodeLengthExceedsMaxSizeError"})}}class JCe extends _e{constructor({givenLengthInWords:e}){super(`Bytecode length in 32-byte words must be odd. Given length in words: ${e}`,{name:"BytecodeLengthInWordsMustBeOddError"})}}class QCe extends _e{constructor({givenLength:e}){super(`The bytecode length in bytes must be divisible by 32. Given length: ${e}`,{name:"BytecodeLengthMustBeDivisibleBy32Error"})}}function X5(t){const e=Tc(t);if(e.length%32!==0)throw new QCe({givenLength:e.length});if(e.length>k9)throw new XCe({givenLength:e.length,maxBytecodeSize:k9});const n=YM(e),r=Tc(n),i=e.length/32;if(i%2===0)throw new JCe({givenLengthInWords:i});const s=Tc(i),a=Md(s,{size:2}),c=new Uint8Array([1,0]);return r.set(c,0),r.set(a,2),r}const eOe=t=>{rH(t);const e=tOe(t);return{domain:{name:"zkSync",version:"2",chainId:t.chainId},types:{Transaction:[{name:"txType",type:"uint256"},{name:"from",type:"uint256"},{name:"to",type:"uint256"},{name:"gasLimit",type:"uint256"},{name:"gasPerPubdataByteLimit",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymaster",type:"uint256"},{name:"nonce",type:"uint256"},{name:"value",type:"uint256"},{name:"data",type:"bytes"},{name:"factoryDeps",type:"bytes32[]"},{name:"paymasterInput",type:"bytes"}]},primaryType:"Transaction",message:e}};function tOe(t){const{gas:e,nonce:n,to:r,from:i,value:s,maxFeePerGas:a,maxPriorityFeePerGas:c,factoryDeps:u,paymaster:d,paymasterInput:h,gasPerPubdata:p,data:y}=t;return{txType:113n,from:BigInt(i),to:r?BigInt(r):0n,gasLimit:e??0n,gasPerPubdataByteLimit:p??zI,maxFeePerGas:a??0n,maxPriorityFeePerGas:c??0n,paymaster:d?BigInt(d):0n,nonce:n?BigInt(n):0n,value:s??0n,data:y??"0x",factoryDeps:u?.map(g=>Et(X5(g)))??[],paymasterInput:h||"0x"}}const iH={blockTime:1e3,formatters:tH,serializers:YCe,custom:{getEip712Domain:eOe}},nOe=si({...iH,blockTime:200,id:2741,name:"Abstract",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://api.mainnet.abs.xyz"],webSocket:["wss://api.mainnet.abs.xyz/ws"]}},blockExplorers:{default:{name:"Etherscan",url:"https://abscan.org"},native:{name:"Abstract Explorer",url:"https://explorer.mainnet.abs.xyz"}},contracts:{multicall3:{address:"0xAa4De41dba0Ca5dCBb288b7cC6b708F3aaC759E7",blockCreated:5288},erc6492Verifier:{address:"0xfB688330379976DA81eB64Fe4BF50d7401763B9C",blockCreated:5263}}}),rOe=si({...iH,blockTime:200,id:11124,name:"Abstract Testnet",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://api.testnet.abs.xyz"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia.abscan.org"},native:{name:"Abstract Explorer",url:"https://explorer.testnet.abs.xyz"}},testnet:!0,contracts:{multicall3:{address:"0xF9cda624FBC7e059355ce98a31693d299FACd963",blockCreated:358349},erc6492Verifier:{address:"0xfB688330379976DA81eB64Fe4BF50d7401763B9C",blockCreated:431682}}}),iOe={gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}},sOe={block:VM({format(t){return{transactions:t.transactions?.map(n=>{if(typeof n=="string")return n;const r=xg(n);return r.typeHex==="0x7e"&&(r.isSystemTx=n.isSystemTx,r.mint=n.mint?an(n.mint):void 0,r.sourceHash=n.sourceHash,r.type="deposit"),r}),stateRoot:t.stateRoot}}}),transaction:HM({format(t){const e={};return t.type==="0x7e"&&(e.isSystemTx=t.isSystemTx,e.mint=t.mint?an(t.mint):void 0,e.sourceHash=t.sourceHash,e.type="deposit"),e}}),transactionReceipt:OB({format(t){return{l1GasPrice:t.l1GasPrice?an(t.l1GasPrice):null,l1GasUsed:t.l1GasUsed?an(t.l1GasUsed):null,l1Fee:t.l1Fee?an(t.l1Fee):null,l1FeeScalar:t.l1FeeScalar?Number(t.l1FeeScalar):null}}})};function aOe(t,e){return lOe(t)?cOe(t):t3(t,e)}const oOe={transaction:aOe};function cOe(t){uOe(t);const{sourceHash:e,data:n,from:r,gas:i,isSystemTx:s,mint:a,to:c,value:u}=t,d=[e,r,c??"0x",a?Et(a):"0x",u?Et(u):"0x",i?Et(i):"0x",s?"0x1":"0x",n??"0x"];return la(["0x7e",Pc(d)])}function lOe(t){return t.type==="deposit"||typeof t.sourceHash<"u"}function uOe(t){const{from:e,to:n}=t;if(e&&!Cn(e))throw new br({address:e});if(n&&!Cn(n))throw new br({address:n})}const Zv={blockTime:2e3,contracts:iOe,formatters:sOe,serializers:oOe},dOe=si({id:43114,name:"Avalanche",blockTime:1700,nativeCurrency:{decimals:18,name:"Avalanche",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax.network/ext/bc/C/rpc"]}},blockExplorers:{default:{name:"SnowTrace",url:"https://snowtrace.io",apiUrl:"https://api.snowtrace.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:11907934}}}),fOe=si({id:43113,name:"Avalanche Fuji",nativeCurrency:{decimals:18,name:"Avalanche Fuji",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax-test.network/ext/bc/C/rpc"]}},blockExplorers:{default:{name:"SnowTrace",url:"https://testnet.snowtrace.io",apiUrl:"https://api-testnet.snowtrace.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7096959}},testnet:!0}),Bm=1,sH=si({...Zv,id:8453,name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://basescan.org",apiUrl:"https://api.basescan.org/api"}},contracts:{...Zv.contracts,disputeGameFactory:{[Bm]:{address:"0x43edB88C4B80fDD2AdFF2412A7BebF9dF42cB40e"}},l2OutputOracle:{[Bm]:{address:"0x56315b90c40730925ec5485cf004d835058518A0"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:5022},portal:{[Bm]:{address:"0x49048044D57e1C92A77f79988d21Fa8fAF74E97e",blockCreated:17482143}},l1StandardBridge:{[Bm]:{address:"0x3154Cf16ccdb4C6d922629664174b904d80F2C35",blockCreated:17482143}}},sourceId:Bm});({...sH});const Lm=11155111,aH=si({...Zv,id:84532,network:"base-sepolia",name:"Base Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://sepolia.basescan.org",apiUrl:"https://api-sepolia.basescan.org/api"}},contracts:{...Zv.contracts,disputeGameFactory:{[Lm]:{address:"0xd6E6dBf4F7EA0ac412fD8b65ED297e64BB7a06E1"}},l2OutputOracle:{[Lm]:{address:"0x84457ca9D0163FbC4bbfe4Dfbb20ba46e48DF254"}},portal:{[Lm]:{address:"0x49f53e41452c74589e85ca1677426ba426459e85",blockCreated:4446677}},l1StandardBridge:{[Lm]:{address:"0xfd0Bf71F60660E2f608ed56e1659C450eB113120",blockCreated:4446677}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1059647}},testnet:!0,sourceId:Lm});({...aH});const hOe=si({id:41923,name:"EDU Chain",nativeCurrency:{decimals:18,name:"EDU",symbol:"EDU"},rpcUrls:{default:{http:["https://rpc.edu-chain.raas.gelato.cloud"]}},blockExplorers:{default:{name:"EDU Chain Explorer",url:"https://educhain.blockscout.com/"}},testnet:!1}),pOe=si({id:4689,name:"IoTeX",nativeCurrency:{decimals:18,name:"IoTeX",symbol:"IOTX"},rpcUrls:{default:{http:["https://babel-api.mainnet.iotex.io"],webSocket:["wss://babel-api.mainnet.iotex.io"]}},blockExplorers:{default:{name:"IoTeXScan",url:"https://iotexscan.io"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:22163670}}}),mOe=si({id:4690,name:"IoTeX Testnet",nativeCurrency:{decimals:18,name:"IoTeX",symbol:"IOTX"},rpcUrls:{default:{http:["https://babel-api.testnet.iotex.io"],webSocket:["wss://babel-api.testnet.iotex.io"]}},blockExplorers:{default:{name:"IoTeXScan",url:"https://testnet.iotexscan.io"}},contracts:{multicall3:{address:"0xb5cecD6894c6f473Ec726A176f1512399A2e355d",blockCreated:24347592}},testnet:!0}),yOe=si({id:3338,name:"Peaq",nativeCurrency:{decimals:18,name:"peaq",symbol:"PEAQ"},rpcUrls:{default:{http:["https://quicknode1.peaq.xyz","https://quicknode2.peaq.xyz","https://quicknode3.peaq.xyz"],webSocket:["wss://quicknode1.peaq.xyz","wss://quicknode2.peaq.xyz","wss://quicknode3.peaq.xyz"]}},blockExplorers:{default:{name:"Subscan",url:"https://peaq.subscan.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:3566354}}}),gOe=si({id:137,name:"Polygon",blockTime:2e3,nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{default:{http:["https://polygon-rpc.com"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://polygonscan.com",apiUrl:"https://api.etherscan.io/v2/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:25770160}}}),bOe=si({id:80002,name:"Polygon Amoy",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{default:{http:["https://rpc-amoy.polygon.technology"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://amoy.polygonscan.com",apiUrl:"https://api.etherscan.io/v2/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:3127388}},testnet:!0}),wOe=si({id:1329,name:"Sei Network",nativeCurrency:{name:"Sei",symbol:"SEI",decimals:18},rpcUrls:{default:{http:["https://evm-rpc.sei-apis.com/"],webSocket:["wss://evm-ws.sei-apis.com/"]}},blockExplorers:{default:{name:"Seitrace",url:"https://seitrace.com",apiUrl:"https://seitrace.com/pacific-1/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11"}}}),vOe=si({id:1328,name:"Sei Testnet",nativeCurrency:{name:"Sei",symbol:"SEI",decimals:18},rpcUrls:{default:{http:["https://evm-rpc-testnet.sei-apis.com"],webSocket:["wss://evm-ws-testnet.sei-apis.com"]}},blockExplorers:{default:{name:"Seitrace",url:"https://seitrace.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:98697651}},testnet:!0}),_Oe=si({id:1514,name:"Story",nativeCurrency:{decimals:18,name:"IP Token",symbol:"IP"},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:340998},ensRegistry:{address:"0x5dc881dda4e4a8d312be3544ad13118d1a04cb17",blockCreated:648924},ensUniversalResolver:{address:"0xddfb18888a9466688235887dec2a10c4f5effee9",blockCreated:649114}},rpcUrls:{default:{http:["https://mainnet.storyrpc.io"]}},blockExplorers:{default:{name:"Story explorer",url:"https://storyscan.io",apiUrl:"https://storyscan.io/api/v2"}},ensTlds:[".ip"],testnet:!1});function EOe(t){if(typeof t=="string"){if(!Cn(t,{strict:!1}))throw new br({address:t});return{address:t,type:"json-rpc"}}if(!Cn(t.address,{strict:!1}))throw new br({address:t.address});return{address:t.address,nonceManager:t.nonceManager,sign:t.sign,signAuthorization:t.signAuthorization,signMessage:t.signMessage,signTransaction:t.signTransaction,signTypedData:t.signTypedData,source:"custom",type:"local"}}let ex=!1;async function r0({hash:t,privateKey:e,to:n="object"}){const{r,s:i,recovery:s}=T1.sign(t.slice(2),e.slice(2),{lowS:!0,extraEntropy:Si(ex,{strict:!1})?Ai(ex):ex}),a={r:Ne(r,{size:32}),s:Ne(i,{size:32}),v:s?28n:27n,yParity:s};return n==="bytes"||n==="hex"?AL({...a,to:n}):a}async function SOe(t){const{chainId:e,nonce:n,privateKey:r,to:i="object"}=t,s=t.contractAddress??t.address,a=await r0({hash:zM({address:s,chainId:e,nonce:n}),privateKey:r,to:i});return i==="object"?{address:s,chainId:e,nonce:n,...a}:a}async function AOe({message:t,privateKey:e}){return await r0({hash:n3(t),privateKey:e,to:"hex"})}async function xOe(t){const{privateKey:e,transaction:n,serializer:r=t3}=t,i=n.type==="eip4844"?{...n,sidecars:!1}:n,s=await r0({hash:zr(await r(i)),privateKey:e});return await r(n,s)}async function TOe(t){const{privateKey:e,...n}=t;return await r0({hash:VB(n),privateKey:e,to:"hex"})}function IOe(t,e={}){const{nonceManager:n}=e,r=Et(T1.getPublicKey(t.slice(2),!1)),i=MM(r);return{...EOe({address:i,nonceManager:n,async sign({hash:a}){return r0({hash:a,privateKey:t,to:"hex"})},async signAuthorization(a){return SOe({...a,privateKey:t})},async signMessage({message:a}){return AOe({message:a,privateKey:t})},async signTransaction(a,{serializer:c}={}){return xOe({privateKey:t,transaction:a,serializer:c})},async signTypedData(a){return TOe({...a,privateKey:t})}}),publicKey:r,source:"privateKey"}}const COe="0x0000000000000000000000000000000000008006",OOe="0x0000000000000000000000000000000000010000",R9=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"accountAddress",type:"address"},{indexed:!1,internalType:"enum IContractDeployer.AccountNonceOrdering",name:"nonceOrdering",type:"uint8"}],name:"AccountNonceOrderingUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"accountAddress",type:"address"},{indexed:!1,internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"aaVersion",type:"uint8"}],name:"AccountVersionUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"deployerAddress",type:"address"},{indexed:!0,internalType:"bytes32",name:"bytecodeHash",type:"bytes32"},{indexed:!0,internalType:"address",name:"contractAddress",type:"address"}],name:"ContractDeployed",type:"event"},{inputs:[{internalType:"bytes32",name:"_salt",type:"bytes32"},{internalType:"bytes32",name:"_bytecodeHash",type:"bytes32"},{internalType:"bytes",name:"_input",type:"bytes"}],name:"create",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"_salt",type:"bytes32"},{internalType:"bytes32",name:"_bytecodeHash",type:"bytes32"},{internalType:"bytes",name:"_input",type:"bytes"}],name:"create2",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"_salt",type:"bytes32"},{internalType:"bytes32",name:"_bytecodeHash",type:"bytes32"},{internalType:"bytes",name:"_input",type:"bytes"},{internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"_aaVersion",type:"uint8"}],name:"create2Account",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"bytes32",name:"_bytecodeHash",type:"bytes32"},{internalType:"bytes",name:"_input",type:"bytes"},{internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"_aaVersion",type:"uint8"}],name:"createAccount",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"_address",type:"address"}],name:"extendedAccountVersion",outputs:[{internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_keccak256BytecodeHash",type:"bytes32"}],name:"forceDeployKeccak256",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"bytecodeHash",type:"bytes32"},{internalType:"address",name:"newAddress",type:"address"},{internalType:"bool",name:"callConstructor",type:"bool"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"input",type:"bytes"}],internalType:"struct ContractDeployer.ForceDeployment",name:"_deployment",type:"tuple"},{internalType:"address",name:"_sender",type:"address"}],name:"forceDeployOnAddress",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"bytecodeHash",type:"bytes32"},{internalType:"address",name:"newAddress",type:"address"},{internalType:"bool",name:"callConstructor",type:"bool"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"input",type:"bytes"}],internalType:"struct ContractDeployer.ForceDeployment[]",name:"_deployments",type:"tuple[]"}],name:"forceDeployOnAddresses",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"_address",type:"address"}],name:"getAccountInfo",outputs:[{components:[{internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"supportedAAVersion",type:"uint8"},{internalType:"enum IContractDeployer.AccountNonceOrdering",name:"nonceOrdering",type:"uint8"}],internalType:"struct IContractDeployer.AccountInfo",name:"info",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_sender",type:"address"},{internalType:"uint256",name:"_senderNonce",type:"uint256"}],name:"getNewAddressCreate",outputs:[{internalType:"address",name:"newAddress",type:"address"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"_sender",type:"address"},{internalType:"bytes32",name:"_bytecodeHash",type:"bytes32"},{internalType:"bytes32",name:"_salt",type:"bytes32"},{internalType:"bytes",name:"_input",type:"bytes"}],name:"getNewAddressCreate2",outputs:[{internalType:"address",name:"newAddress",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"_version",type:"uint8"}],name:"updateAccountVersion",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"enum IContractDeployer.AccountNonceOrdering",name:"_nonceOrdering",type:"uint8"}],name:"updateNonceOrdering",outputs:[],stateMutability:"nonpayable",type:"function"}],N9=1,tx="/docs/contract/encodeDeployData";function kOe(t){const{abi:e,args:n,bytecode:r,deploymentType:i,salt:s}=t;if(!n||n.length===0){const{functionName:h,argsContractDeployer:p}=$9(i,s??DR,Et(X5(r)),"0x");return Oi({abi:R9,functionName:h,args:p})}const a=e.find(h=>"type"in h&&h.type==="constructor");if(!a)throw new iM({docsPath:tx});if(!("inputs"in a))throw new Fw({docsPath:tx});if(!a.inputs||a.inputs.length===0)throw new Fw({docsPath:tx});const c=du(a.inputs,n),{functionName:u,argsContractDeployer:d}=$9(i,s??DR,Et(X5(r)),c);return Oi({abi:R9,functionName:u,args:d})}function $9(t,e,n,r){const i=[e,n,r];return{create:{functionName:"create",argsContractDeployer:i},create2:{functionName:"create2",argsContractDeployer:i},createAccount:{functionName:"createAccount",argsContractDeployer:[...i,N9]},create2Account:{functionName:"create2Account",argsContractDeployer:[...i,N9]}}[t||"create"]}function oH(t){if(!n0(t))throw new nH;Io(t)}async function ROe(t,e){const{account:n=t.account,chain:r=t.chain,...i}=e,s=n?On(n):t.account;if(!s)throw new Oo({docsPath:"/docs/actions/wallet/signTransaction"});if(oH({account:s,chain:r,...e}),!r?.custom?.getEip712Domain)throw new _e("`getEip712Domain` not found on chain.");if(!r?.serializers?.transaction)throw new _e("transaction serializer not found on chain.");const a=await qe(t,Co,"getChainId")({});r!==null&&$g({currentChainId:a,chain:r});const c=r?.custom.getEip712Domain({...i,chainId:a,from:s.address,type:"eip712"}),u=await kL(t,{...c,account:s});return r?.serializers?.transaction({chainId:a,...i,customSignature:u,type:"eip712"},{r:"0x0",s:"0x0",v:0n})}async function cH(t,e){return n0(e)?ROe(t,e):await OL(t,e)}async function lH(t,e){const{account:n=t.account,chain:r=t.chain}=e,i=n?On(n):t.account;if(!i)throw new Oo({docsPath:"/docs/actions/wallet/sendTransaction"});try{oH(e);const s=await op(t,{...e,nonceManager:i.nonceManager,parameters:["gas","nonce","fees"]});let a;r!==null&&(a=await qe(t,Co,"getChainId")({}),$g({currentChainId:a,chain:r}));const c=await cH(t,{...s,chainId:a});return await qe(t,E1,"sendRawTransaction")({serializedTransaction:c})}catch(s){throw Tg(s,{...e,account:i,chain:r})}}function NOe(t,e){const{abi:n,args:r,bytecode:i,deploymentType:s,salt:a,...c}=e,u=kOe({abi:n,args:r,bytecode:i,deploymentType:s,salt:a});return c.factoryDeps=c.factoryDeps||[],c.factoryDeps.includes(i)||c.factoryDeps.push(i),lH(t,{...c,data:u,to:s==="create2"||s==="create2Account"?OOe:COe})}async function P9(t,e){return n0(e)?lH(t,e):Pg(t,e)}function $Oe(){return t=>({sendTransaction:e=>P9(t,e),signTransaction:e=>cH(t,e),deployContract:e=>NOe(t,e),writeContract:e=>Mh(Object.assign(t,{sendTransaction:n=>P9(t,n)}),e)})}var J5=8078012;function uH(t){return Array.isArray(t)?"%5B"+t.map(uH).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function POe([t,e]){return`${t}=${uH(e)}`}function DOe(t){const e=Object.entries(t).map(POe).join("&");return btoa(e)}function UOe(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${DOe(e)}'`),`${n}\``}}var Q5=class extends Error{cause=this.cause;context;constructor(...[e,n]){let r,i;n&&Object.entries(Object.getOwnPropertyDescriptors(n)).forEach(([a,c])=>{a==="cause"?i={cause:c.value}:(r===void 0&&(r={__code:e}),Object.defineProperty(r,a,c))});const s=UOe(e,r);super(s,i),this.context=Object.freeze(r===void 0?{__code:e}:r),this.name="SolanaError"}};function MOe(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}function dH(t){return Object.freeze({...t,encode:e=>{const n=new Uint8Array(MOe(e,t));return t.write(e,n,0),n}})}function fH(t){return Object.freeze({...t,decode:(e,n=0)=>t.read(e,n)[0]})}function BOe(t,e,n=e){if(!e.match(new RegExp(`^[${t}]*$`)))throw new Q5(J5,{alphabet:t,base:t.length,value:n})}var LOe=t=>dH({getSizeFromValue:e=>{const[n,r]=D9(e,t[0]);if(!r)return e.length;const i=U9(r,t);return n.length+Math.ceil(i.toString(16).length/2)},write(e,n,r){if(BOe(t,e),e==="")return r;const[i,s]=D9(e,t[0]);if(!s)return n.set(new Uint8Array(i.length).fill(0),r),r+i.length;let a=U9(s,t);const c=[];for(;a>0n;)c.unshift(Number(a%256n)),a/=256n;const u=[...Array(i.length).fill(0),...c];return n.set(u,r),r+u.length}}),jOe=t=>fH({read(e,n){const r=n===0?e:e.slice(n);if(r.length===0)return["",0];let i=r.findIndex(u=>u!==0);i=i===-1?r.length:i;const s=t[0].repeat(i);if(i===r.length)return[s,e.length];const a=r.slice(i).reduce((u,d)=>u*256n+BigInt(d),0n),c=zOe(a,t);return[s+c,e.length]}});function D9(t,e){const[n,r]=t.split(new RegExp(`((?!${e}).*)`));return[n,r]}function U9(t,e){const n=BigInt(e.length);let r=0n;for(const i of t)r*=n,r+=BigInt(e.indexOf(i));return r}function zOe(t,e){const n=BigInt(e.length),r=[];for(;t>0n;)r.unshift(e[Number(t%n)]),t/=n;return r.join("")}var hH="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",FOe=()=>LOe(hH),qOe=()=>jOe(hH),M9="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",WOe=()=>dH({getSizeFromValue:t=>{try{return atob(t).length}catch{throw new Q5(J5,{alphabet:M9,base:64,value:t})}},write(t,e,n){try{const r=atob(t).split("").map(i=>i.charCodeAt(0));return e.set(r,n),r.length+n}catch{throw new Q5(J5,{alphabet:M9,base:64,value:t})}}}),HOe=()=>fH({read(t,e=0){const n=t.slice(e);return[btoa(String.fromCharCode(...n)),t.length]}}),VOe=28e5,GOe=2800001,KOe=2800003,YOe=2800006,ZOe=2800007,pH=2800008,XOe=2800009,JOe=8078001,QOe=8078004,e8e=8078005,t8e=8078006;function mH(t){return Array.isArray(t)?"%5B"+t.map(mH).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function n8e([t,e]){return`${t}=${mH(e)}`}function r8e(t){const e=Object.entries(t).map(n8e).join("&");return btoa(e)}function i8e(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${r8e(e)}'`),`${n}\``}}function s8e(t,e){return t instanceof Error&&t.name==="SolanaError"?t.context.__code===e:!1}var Da=class extends Error{cause=this.cause;context;constructor(...[e,n]){let r,i;n&&Object.entries(Object.getOwnPropertyDescriptors(n)).forEach(([a,c])=>{a==="cause"?i={cause:c.value}:(r===void 0&&(r={__code:e}),Object.defineProperty(r,a,c))});const s=i8e(e,r);super(s,i),this.context=Object.freeze(r===void 0?{__code:e}:r),this.name="SolanaError"}};function a8e(t,e){if(t.length>=e)return t;const n=new Uint8Array(e).fill(0);return n.set(t),n}var o8e=(t,e)=>a8e(t.length<=e?t:t.slice(0,e),e);function c8e(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}function yH(t){return Object.freeze({...t,encode:e=>{const n=new Uint8Array(c8e(e,t));return t.write(e,n,0),n}})}function l8e(t){return Object.freeze({...t,decode:(e,n=0)=>t.read(e,n)[0]})}function ql(t){return"fixedSize"in t&&typeof t.fixedSize=="number"}function u8e(t){return!ql(t)}function d8e(t,e){if(ql(t)!==ql(e))throw new Da(QOe);if(ql(t)&&ql(e)&&t.fixedSize!==e.fixedSize)throw new Da(e8e,{decoderFixedSize:e.fixedSize,encoderFixedSize:t.fixedSize});if(!ql(t)&&!ql(e)&&t.maxSize!==e.maxSize)throw new Da(t8e,{decoderMaxSize:e.maxSize,encoderMaxSize:t.maxSize});return{...e,...t,decode:e.decode,encode:t.encode,read:e.read,write:t.write}}function f8e(t,e,n,r=0){const i=n.length-r;if(i<e)throw new Da(JOe,{bytesLength:i,codecDescription:t,expected:e})}function h8e(t,e){return yH({fixedSize:e,write:(n,r,i)=>{const s=t.encode(n),a=s.length>e?s.slice(0,e):s;return r.set(a,i),i+e}})}function p8e(t,e){return l8e({fixedSize:e,read:(n,r)=>{f8e("fixCodecSize",e,n,r),(r>0||n.length>e)&&(n=n.slice(r,r+e)),ql(t)&&(n=o8e(n,t.fixedSize));const[i]=t.read(n,0);return[i,r+e]}})}function m8e(t,e){return yH({...u8e(t)?{...t,getSizeFromValue:n=>t.getSizeFromValue(e(n))}:t,write:(n,r,i)=>t.write(e(n),r,i)})}var y8e=361e4,g8e=3610001,b8e=3610003,w8e=3610005,v8e=3610006,_8e=3611e3;function gH(t){return Array.isArray(t)?"%5B"+t.map(gH).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function E8e([t,e]){return`${t}=${gH(e)}`}function S8e(t){const e=Object.entries(t).map(E8e).join("&");return btoa(e)}function A8e(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${S8e(e)}'`),`${n}\``}}var mp=class extends Error{cause=this.cause;context;constructor(...[e,n]){let r,i;n&&Object.entries(Object.getOwnPropertyDescriptors(n)).forEach(([a,c])=>{a==="cause"?i={cause:c.value}:(r===void 0&&(r={__code:e}),Object.defineProperty(r,a,c))});const s=A8e(e,r);super(s,i),this.context=Object.freeze(r===void 0?{__code:e}:r),this.name="SolanaError"}};function x8e(){if(typeof globalThis.crypto>"u"||typeof globalThis.crypto.getRandomValues!="function")throw new mp(_8e)}function S_(){if(!globalThis.isSecureContext)throw new mp(y8e)}function T8e(){if(S_(),typeof globalThis.crypto>"u"||typeof globalThis.crypto.subtle?.digest!="function")throw new mp(g8e)}function bH(){if(S_(),typeof globalThis.crypto>"u"||typeof globalThis.crypto.subtle?.exportKey!="function")throw new mp(b8e)}function I8e(){if(S_(),typeof globalThis.crypto>"u"||typeof globalThis.crypto.subtle?.sign!="function")throw new mp(w8e)}function C8e(){if(S_(),typeof globalThis.crypto>"u"||typeof globalThis.crypto.subtle?.verify!="function")throw new mp(v8e)}var nx,rx;function FI(){return nx||(nx=FOe()),nx}function O8e(){return rx||(rx=qOe()),rx}function k8e(t){if(t.length<32||t.length>44)return!1;const e=FI();try{return e.encode(t).byteLength===32}catch{return!1}}function eT(t){if(t.length<32||t.length>44)throw new Da(GOe,{actualLength:t.length});const r=FI().encode(t).byteLength;if(r!==32)throw new Da(VOe,{actualLength:r})}function R8e(t){return eT(t),t}function Oh(){return m8e(h8e(FI(),32),t=>R8e(t))}function i0(){return p8e(O8e(),32)}function N8e(){return d8e(Oh(),i0())}function qI(){return new Intl.Collator("en",{caseFirst:"lower",ignorePunctuation:!1,localeMatcher:"best fit",numeric:!1,sensitivity:"variant",usage:"sort"}).compare}var $8e=37095705934669439343138083508754565189542113879843219016388785533085940283555n,_i=57896044618658097711785492504343953926634992332820282019728792003956564819949n,B9=19681161376707505956807079304988542015446066515923890162744021073123829784752n;function Qs(t){const e=t%_i;return e>=0n?e:_i+e}function ro(t,e){let n=t;for(;e-- >0n;)n*=n,n%=_i;return n}function P8e(t){const n=t*t%_i*t%_i,r=ro(n,2n)*n%_i,i=ro(r,1n)*t%_i,s=ro(i,5n)*i%_i,a=ro(s,10n)*s%_i,c=ro(a,20n)*a%_i,u=ro(c,40n)*c%_i,d=ro(u,80n)*u%_i,h=ro(d,80n)*u%_i,p=ro(h,10n)*s%_i;return ro(p,2n)*t%_i}function D8e(t,e){const n=Qs(e*e*e),r=Qs(n*n*e),i=P8e(t*r);let s=Qs(t*n*i);const a=Qs(e*s*s),c=s,u=Qs(s*B9),d=a===t,h=a===Qs(-t),p=a===Qs(-t*B9);return d&&(s=c),(h||p)&&(s=u),(Qs(s)&1n)===1n&&(s=Qs(-s)),!d&&!h?null:s}function U8e(t,e){const n=Qs(t*t),r=Qs(n-1n),i=Qs($8e*n+1n),s=D8e(r,i);if(s===null)return!1;const a=(e&128)!==0;return!(s===0n&&a)}function M8e(t){const e=t.toString(16);return e.length===1?`0${e}`:e}function B8e(t){const n=`0x${t.reduce((r,i,s)=>`${M8e(s===31?i&-129:i)}${r}`,"")}`;return BigInt(n)}function L8e(t){if(t.byteLength!==32)return!1;const e=B8e(t);return U8e(e,t[31])}var L9=32,j9=16,j8e=[80,114,111,103,114,97,109,68,101,114,105,118,101,100,65,100,100,114,101,115,115];async function z8e({programAddress:t,seeds:e}){if(T8e(),e.length>j9)throw new Da(YOe,{actual:e.length,maxSeeds:j9});let n;const r=e.reduce((u,d,h)=>{const p=typeof d=="string"?(n||=new TextEncoder).encode(d):d;if(p.byteLength>L9)throw new Da(ZOe,{actual:p.byteLength,index:h,maxSeedLength:L9});return u.push(...p),u},[]),i=N8e(),s=i.encode(t),a=await crypto.subtle.digest("SHA-256",new Uint8Array([...r,...s,...j8e])),c=new Uint8Array(a);if(L8e(c))throw new Da(pH);return i.decode(c)}async function F8e({programAddress:t,seeds:e}){let n=255;for(;n>0;)try{return[await z8e({programAddress:t,seeds:[...e,new Uint8Array([n])]}),n]}catch(r){if(s8e(r,pH))n--;else throw r}throw new Da(XOe)}async function wH(t){if(bH(),t.type!=="public"||t.algorithm.name!=="Ed25519")throw new Da(KOe);const e=await crypto.subtle.exportKey("raw",t);return i0().decode(new Uint8Array(e))}var q8e=8078011;function vH(t){return Array.isArray(t)?"%5B"+t.map(vH).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function W8e([t,e]){return`${t}=${vH(e)}`}function H8e(t){const e=Object.entries(t).map(W8e).join("&");return btoa(e)}function V8e(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${H8e(e)}'`),`${n}\``}}var G8e=class extends Error{cause=this.cause;context;constructor(...[e,n]){let r,i;n&&Object.entries(Object.getOwnPropertyDescriptors(n)).forEach(([a,c])=>{a==="cause"?i={cause:c.value}:(r===void 0&&(r={__code:e}),Object.defineProperty(r,a,c))});const s=V8e(e,r);super(s,i),this.context=Object.freeze(r===void 0?{__code:e}:r),this.name="SolanaError"}};function K8e(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}function _H(t){return Object.freeze({...t,encode:e=>{const n=new Uint8Array(K8e(e,t));return t.write(e,n,0),n}})}function Y8e(t){return"fixedSize"in t&&typeof t.fixedSize=="number"}function Z8e(t){return!Y8e(t)}function EH(t,e){return _H({...Z8e(t)?{...t,getSizeFromValue:n=>t.getSizeFromValue(e(n))}:t,write:(n,r,i)=>t.write(e(n),r,i)})}var X8e=8078e3,J8e=8078001,Q8e=8078007,eke=8078011,tke=8078017;function SH(t){return Array.isArray(t)?"%5B"+t.map(SH).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function nke([t,e]){return`${t}=${SH(e)}`}function rke(t){const e=Object.entries(t).map(nke).join("&");return btoa(e)}function ike(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${rke(e)}'`),`${n}\``}}var s0=class extends Error{cause=this.cause;context;constructor(...[e,n]){let r,i;n&&Object.entries(Object.getOwnPropertyDescriptors(n)).forEach(([a,c])=>{a==="cause"?i={cause:c.value}:(r===void 0&&(r={__code:e}),Object.defineProperty(r,a,c))});const s=ike(e,r);super(s,i),this.context=Object.freeze(r===void 0?{__code:e}:r),this.name="SolanaError"}};function lg(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}function Dd(t){return Object.freeze({...t,encode:e=>{const n=new Uint8Array(lg(e,t));return t.write(e,n,0),n}})}function a0(t){return Object.freeze({...t,decode:(e,n=0)=>t.read(e,n)[0]})}function Xv(t){return"fixedSize"in t&&typeof t.fixedSize=="number"}function ske(t,e,n=0){if(e.length-n<=0)throw new s0(X8e,{codecDescription:t})}function ake(t,e,n,r=0){const i=n.length-r;if(i<e)throw new s0(J8e,{bytesLength:i,codecDescription:t,expected:e})}function oke(t,e,n,r){if(r<e||r>n)throw new s0(eke,{codecDescription:t,max:n,min:e,value:r})}function AH(t){return t?.endian!==1}function cke(t){return Dd({fixedSize:t.size,write(e,n,r){t.range&&oke(t.name,t.range[0],t.range[1],e);const i=new ArrayBuffer(t.size);return t.set(new DataView(i),e,AH(t.config)),n.set(new Uint8Array(i),r),r+t.size}})}function lke(t){return a0({fixedSize:t.size,read(e,n=0){ske(t.name,e,n),ake(t.name,t.size,e,n);const r=new DataView(uke(e,n,t.size));return[t.get(r,AH(t.config)),n+t.size]}})}function uke(t,e,n){const r=t.byteOffset+(e??0),i=n??t.byteLength;return t.buffer.slice(r,r+i)}var dke=(t={})=>cke({config:t,name:"u32",range:[0,+"0xffffffff"],set:(e,n,r)=>e.setUint32(0,Number(n),r),size:4}),fke=(t={})=>lke({config:t,get:(e,n)=>e.getUint32(0,n),name:"u32",size:4});function hke(t,e,n){if(e!==n)throw new s0(Q8e,{actual:n,codecDescription:t,expected:e})}function pke(t){return t.reduce((e,n)=>e===null||n===null?null:Math.max(e,n),0)}function Jh(t){return t.reduce((e,n)=>e===null||n===null?null:e+n,0)}function o0(t){return Xv(t)?t.fixedSize:null}function yp(t){return Xv(t)?t.fixedSize:t.maxSize??null}function Qh(t,e={}){const n=e.size??dke(),r=Jv(n,o0(t)),i=Jv(n,yp(t))??void 0;return Dd({...r!==null?{fixedSize:r}:{getSizeFromValue:s=>(typeof n=="object"?lg(s.length,n):0)+[...s].reduce((c,u)=>c+lg(u,t),0),maxSize:i},write:(s,a,c)=>(typeof n=="number"&&hke("array",n,s.length),typeof n=="object"&&(c=n.write(s.length,a,c)),s.forEach(u=>{c=t.write(u,a,c)}),c)})}function Ud(t,e={}){const n=e.size??fke(),r=o0(t),i=Jv(n,r),s=Jv(n,yp(t))??void 0;return a0({...i!==null?{fixedSize:i}:{maxSize:s},read:(a,c)=>{const u=[];if(typeof n=="object"&&a.slice(c).length===0)return[u,c];if(n==="remainder"){for(;c<a.length;){const[p,y]=t.read(a,c);c=y,u.push(p)}return[u,c]}const[d,h]=typeof n=="number"?[n,c]:n.read(a,c);c=h;for(let p=0;p<d;p+=1){const[y,g]=t.read(a,c);c=g,u.push(y)}return[u,c]}})}function Jv(t,e){return typeof t!="number"?null:t===0?0:e===null?null:e*t}function WI(){return Dd({getSizeFromValue:t=>t.length,write:(t,e,n)=>(e.set(t,n),n+t.length)})}function tT(){return a0({read:(t,e)=>{const n=t.slice(e);return[n,e+n.length]}})}function mke(t){return Dd({fixedSize:t.length,write:(e,n,r)=>(n.set(t,r),r+t.length)})}function yke(t){const e=Jh(t.map(o0)),n=Jh(t.map(yp))??void 0;return a0({...e===null?{maxSize:n}:{fixedSize:e},read:(r,i)=>{const s=[];return t.forEach(a=>{const[c,u]=a.read(r,i);s.push(c),i=u}),[s,i]}})}function gke(t,e){const n=bke(t),r=(s,a,c)=>{const u=e(s);return z9(t,u),t[u].write(s,a,c)};if(n!==null)return Dd({fixedSize:n,write:r});const i=wke(t);return Dd({...i!==null?{maxSize:i}:{},getSizeFromValue:s=>{const a=e(s);return z9(t,a),lg(s,t[a])},write:r})}function z9(t,e){if(typeof t[e]>"u")throw new s0(tke,{maxRange:t.length-1,minRange:0,variant:e})}function bke(t){if(t.length===0)return 0;if(!Xv(t[0]))return null;const e=t[0].fixedSize;return t.every(r=>Xv(r)&&r.fixedSize===e)?e:null}function wke(t){return pke(t.map(e=>yp(e)))}function yu(t){const e=t.map(([,i])=>i),n=Jh(e.map(o0)),r=Jh(e.map(yp))??void 0;return Dd({...n===null?{getSizeFromValue:i=>t.map(([s,a])=>lg(i[s],a)).reduce((s,a)=>s+a,0),maxSize:r}:{fixedSize:n},write:(i,s,a)=>(t.forEach(([c,u])=>{a=u.write(i[c],s,a)}),a)})}function c0(t){const e=t.map(([,i])=>i),n=Jh(e.map(o0)),r=Jh(e.map(yp))??void 0;return a0({...n===null?{maxSize:r}:{fixedSize:n},read:(i,s)=>{const a={};return t.forEach(([c,u])=>{const[d,h]=u.read(i,s);s=h,a[c]=d}),[a,s]}})}function vke(t,e,n,r){if(r<e||r>n)throw new G8e(q8e,{codecDescription:t,max:n,min:e,value:r})}function _ke(t){return t?.endian!==1}function HI(t){return _H({fixedSize:t.size,write(e,n,r){t.range&&vke(t.name,t.range[0],t.range[1],e);const i=new ArrayBuffer(t.size);return t.set(new DataView(i),e,_ke(t.config)),n.set(new Uint8Array(i),r),r+t.size}})}var QLe=(t={})=>HI({config:t,name:"u32",range:[0,+"0xffffffff"],set:(e,n,r)=>e.setUint32(0,Number(n),r),size:4}),Eke=(t={})=>HI({config:t,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,n,r)=>e.setBigUint64(0,BigInt(n),r),size:8}),xH=()=>HI({name:"u8",range:[0,+"0xff"],set:(t,e)=>t.setUint8(0,Number(e)),size:1});function Xd(t,...e){return e.reduce((n,r)=>r(n),t)}var gr=(t=>(t[t.WRITABLE_SIGNER=3]="WRITABLE_SIGNER",t[t.READONLY_SIGNER=2]="READONLY_SIGNER",t[t.WRITABLE=1]="WRITABLE",t[t.READONLY=0]="READONLY",t))(gr||{}),Ske=2,Ake=1;function ep(t){return t>=2}function ug(t){return(t&Ake)!==0}function F9(t,e){return t|e}function xke(t){return t|Ske}var Tke=5663e3,q9=5663001,Ike=5663004,Cke=5663005,Oke=5663006,kke=5663007,Rke=5663008,TH=5663021,Nke=8078e3,$ke=8078001,Pke=8078011,Dke=8078012;function IH(t){return Array.isArray(t)?"%5B"+t.map(IH).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function Uke([t,e]){return`${t}=${IH(e)}`}function Mke(t){const e=Object.entries(t).map(Uke).join("&");return btoa(e)}function Bke(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${Mke(e)}'`),`${n}\``}}var ts=class extends Error{cause=this.cause;context;constructor(...[e,n]){let r,i;n&&Object.entries(Object.getOwnPropertyDescriptors(n)).forEach(([a,c])=>{a==="cause"?i={cause:c.value}:(r===void 0&&(r={__code:e}),Object.defineProperty(r,a,c))});const s=Bke(e,r);super(s,i),this.context=Object.freeze(r===void 0?{__code:e}:r),this.name="SolanaError"}};function Lke(t){return k8e(t)}function jke(t,e){if(t.length>=e)return t;const n=new Uint8Array(e).fill(0);return n.set(t),n}var zke=(t,e)=>jke(t.length<=e?t:t.slice(0,e),e);function nT(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}function Fc(t){return Object.freeze({...t,encode:e=>{const n=new Uint8Array(nT(e,t));return t.write(e,n,0),n}})}function lu(t){return Object.freeze({...t,decode:(e,n=0)=>t.read(e,n)[0]})}function mo(t){return"fixedSize"in t&&typeof t.fixedSize=="number"}function Fke(t){return!mo(t)}function qke(t,e,n=0){if(e.length-n<=0)throw new ts(Nke,{codecDescription:t})}function VI(t,e,n,r=0){const i=n.length-r;if(i<e)throw new ts($ke,{bytesLength:i,codecDescription:t,expected:e})}function Wke(t,e){const n=((a,c,u)=>{const d=t.encode(a);return u=e.write(d.length,c,u),c.set(d,u),u+d.length});if(mo(e)&&mo(t))return Fc({...t,fixedSize:e.fixedSize+t.fixedSize,write:n});const r=mo(e)?e.fixedSize:e.maxSize??null,i=mo(t)?t.fixedSize:t.maxSize??null,s=r!==null&&i!==null?r+i:null;return Fc({...t,...s!==null?{maxSize:s}:{},getSizeFromValue:a=>{const c=nT(a,t);return nT(c,e)+c},write:n})}function Hke(t,e){const n=((a,c)=>{const[u,d]=e.read(a,c),h=Number(u);return c=d,(c>0||a.length>h)&&(a=a.slice(c,c+h)),VI("addDecoderSizePrefix",h,a),[t.decode(a),c+h]});if(mo(e)&&mo(t))return lu({...t,fixedSize:e.fixedSize+t.fixedSize,read:n});const r=mo(e)?e.fixedSize:e.maxSize??null,i=mo(t)?t.fixedSize:t.maxSize??null,s=r!==null&&i!==null?r+i:null;return lu({...t,...s!==null?{maxSize:s}:{},read:n})}function Vke(t,e){return Fc({fixedSize:e,write:(n,r,i)=>{const s=t.encode(n),a=s.length>e?s.slice(0,e):s;return r.set(a,i),i+e}})}function Gke(t,e){return lu({fixedSize:e,read:(n,r)=>{VI("fixCodecSize",e,n,r),(r>0||n.length>e)&&(n=n.slice(r,r+e)),mo(t)&&(n=zke(n,t.fixedSize));const[i]=t.read(n,0);return[i,r+e]}})}function CH(t,e){return Fc({...Fke(t)?{...t,getSizeFromValue:n=>t.getSizeFromValue(e(n))}:t,write:(n,r,i)=>t.write(e(n),r,i)})}function OH(t,e){return lu({...t,read:(n,r)=>{const[i,s]=t.read(n,r);return[e(i,n,r),s]}})}function kH(t,e,n,r){if(r<e||r>n)throw new ts(Pke,{codecDescription:t,max:n,min:e,value:r})}function RH(t){return t?.endian!==1}function Kke(t){return Fc({fixedSize:t.size,write(e,n,r){t.range&&kH(t.name,t.range[0],t.range[1],e);const i=new ArrayBuffer(t.size);return t.set(new DataView(i),e,RH(t.config)),n.set(new Uint8Array(i),r),r+t.size}})}function Yke(t){return lu({fixedSize:t.size,read(e,n=0){qke(t.name,e,n),VI(t.name,t.size,e,n);const r=new DataView(Zke(e,n,t.size));return[t.get(r,RH(t.config)),n+t.size]}})}function Zke(t,e,n){const r=t.byteOffset+(e??0),i=n??t.byteLength;return t.buffer.slice(r,r+i)}var tp=()=>Fc({getSizeFromValue:t=>t<=127?1:t<=16383?2:3,maxSize:3,write:(t,e,n)=>{kH("shortU16",0,65535,t);const r=[0];for(let i=0;;i+=1){const s=Number(t)>>i*7;if(s===0)break;const a=127&s;r[i]=a,i>0&&(r[i-1]|=128)}return e.set(r,n),n+r.length}}),np=()=>lu({maxSize:3,read:(t,e)=>{let n=0,r=0;for(;++r;){const i=r-1,s=t[e+i],a=127&s;if(n|=a<<i*7,(s&128)===0)break}return[n,e+r]}}),Qv=()=>Kke({name:"u8",range:[0,+"0xff"],set:(t,e)=>t.setUint8(0,Number(e)),size:1}),e1=()=>Yke({get:t=>t.getUint8(0),name:"u8",size:1});function Xke(t){return"lifetimeConstraint"in t&&typeof t.lifetimeConstraint.blockhash=="string"&&typeof t.lifetimeConstraint.lastValidBlockHeight=="bigint"&&Lke(t.lifetimeConstraint.blockhash)}function Jke(t,e){return"lifetimeConstraint"in e&&e.lifetimeConstraint&&"blockhash"in e.lifetimeConstraint&&e.lifetimeConstraint.blockhash===t.blockhash&&e.lifetimeConstraint.lastValidBlockHeight===t.lastValidBlockHeight?e:Object.freeze({...e,lifetimeConstraint:Object.freeze(t)})}function Qke(t,e,n=e){if(!e.match(new RegExp(`^[${t}]*$`)))throw new ts(Dke,{alphabet:t,base:t.length,value:n})}var eRe=t=>Fc({getSizeFromValue:e=>{const[n,r]=W9(e,t[0]);if(!r)return e.length;const i=H9(r,t);return n.length+Math.ceil(i.toString(16).length/2)},write(e,n,r){if(Qke(t,e),e==="")return r;const[i,s]=W9(e,t[0]);if(!s)return n.set(new Uint8Array(i.length).fill(0),r),r+i.length;let a=H9(s,t);const c=[];for(;a>0n;)c.unshift(Number(a%256n)),a/=256n;const u=[...Array(i.length).fill(0),...c];return n.set(u,r),r+u.length}}),tRe=t=>lu({read(e,n){const r=n===0?e:e.slice(n);if(r.length===0)return["",0];let i=r.findIndex(u=>u!==0);i=i===-1?r.length:i;const s=t[0].repeat(i);if(i===r.length)return[s,e.length];const a=r.slice(i).reduce((u,d)=>u*256n+BigInt(d),0n),c=nRe(a,t);return[s+c,e.length]}});function W9(t,e){const[n,r]=t.split(new RegExp(`((?!${e}).*)`));return[n,r]}function H9(t,e){const n=BigInt(e.length);let r=0n;for(const i of t)r*=n,r+=BigInt(e.indexOf(i));return r}function nRe(t,e){const n=BigInt(e.length),r=[];for(;t>0n;)r.unshift(e[Number(t%n)]),t/=n;return r.join("")}var NH="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",rRe=()=>eRe(NH),iRe=()=>tRe(NH),ix;function sRe(){if(!ix){const t=Qh(Qv(),{size:tp()});ix=yu([["lookupTableAddress",Oh()],["writableIndexes",t],["readonlyIndexes",t]])}return ix}var sx;function aRe(){if(!sx){const t=Ud(e1(),{size:np()});sx=c0([["lookupTableAddress",i0()],["writableIndexes",t],["readonlyIndexes",t]])}return sx}var ax;function ox(){return ax||(ax=Qv()),ax}var cx;function lx(){return cx||(cx=e1()),cx}function oRe(){return yu([["numSignerAccounts",ox()],["numReadonlySignerAccounts",ox()],["numReadonlyNonSignerAccounts",ox()]])}function cRe(){return c0([["numSignerAccounts",lx()],["numReadonlySignerAccounts",lx()],["numReadonlyNonSignerAccounts",lx()]])}var ux;function lRe(){return ux||(ux=CH(yu([["programAddressIndex",Qv()],["accountIndices",Qh(Qv(),{size:tp()})],["data",Wke(WI(),tp())]]),t=>t.accountIndices!==void 0&&t.data!==void 0?t:{...t,accountIndices:t.accountIndices??[],data:t.data??new Uint8Array(0)})),ux}var dx;function uRe(){return dx||(dx=OH(c0([["programAddressIndex",e1()],["accountIndices",Ud(e1(),{size:np()})],["data",Hke(tT(),np())]]),t=>{if(t.accountIndices.length&&t.data.byteLength)return t;const{accountIndices:e,data:n,...r}=t;return{...r,...e.length?{accountIndices:e}:null,...n.byteLength?{data:n}:null}})),dx}var $H=0,rT=128;function dRe(){return Fc({getSizeFromValue:t=>t==="legacy"?0:1,maxSize:1,write:(t,e,n)=>{if(t==="legacy")return n;if(t<0||t>127)throw new ts(Ike,{actualVersion:t});if(t>$H)throw new ts(TH,{unsupportedVersion:t});return e.set([t|rT],n),n+1}})}function PH(){return lu({maxSize:1,read:(t,e)=>{const n=t[e];if((n&rT)===0)return["legacy",e];{const r=n^rT;if(r>$H)throw new ts(TH,{unsupportedVersion:r});return[r,e+1]}}})}function V9(){return yu(DH())}function G9(){return CH(yu([...DH(),["addressTableLookups",hRe()]]),t=>t.version==="legacy"?t:{...t,addressTableLookups:t.addressTableLookups??[]})}function DH(){const t=gke([mke(new Uint8Array(32)),Vke(rRe(),32)],e=>e===void 0?0:1);return[["version",dRe()],["header",oRe()],["staticAccounts",Qh(Oh(),{size:tp()})],["lifetimeToken",t],["instructions",Qh(lRe(),{size:tp()})]]}function fRe(){return[["version",PH()],["header",cRe()],["staticAccounts",Ud(i0(),{size:np()})],["lifetimeToken",Gke(iRe(),32)],["instructions",Ud(uRe(),{size:np()})],["addressTableLookups",pRe()]]}function hRe(){return Qh(sRe(),{size:tp()})}function pRe(){return Ud(aRe(),{size:np()})}function mRe(){return Fc({getSizeFromValue:t=>t.version==="legacy"?V9().getSizeFromValue(t):G9().getSizeFromValue(t),write:(t,e,n)=>t.version==="legacy"?V9().write(t,e,n):G9().write(t,e,n)})}function yRe(){return OH(c0(fRe()),({addressTableLookups:t,...e})=>e.version==="legacy"||!t?.length?e:{...e,addressTableLookups:t})}function K9(t,e,n){t[e]=n(t[e]??{role:gr.READONLY})}var fr=Symbol("AddressMapTypeProperty");function gRe(t,e){const n={[t]:{[fr]:0,role:gr.WRITABLE_SIGNER}},r=new Set;for(const i of e){K9(n,i.programAddress,a=>{if(r.add(i.programAddress),fr in a){if(ug(a.role))throw a[fr]===0?new ts(Tke,{programAddress:i.programAddress}):new ts(q9,{programAddress:i.programAddress});if(a[fr]===2)return a}return{[fr]:2,role:gr.READONLY}});let s;if(i.accounts)for(const a of i.accounts)K9(n,a.address,c=>{const{address:u,...d}=a;if(fr in c)switch(c[fr]){case 0:return c;case 1:{const h=F9(c.role,d.role);if("lookupTableAddress"in d){if(c.lookupTableAddress!==d.lookupTableAddress&&(s||=qI())(d.lookupTableAddress,c.lookupTableAddress)<0)return{[fr]:1,...d,role:h}}else if(ep(d.role))return{[fr]:2,role:h};return c.role!==h?{...c,role:h}:c}case 2:{const h=F9(c.role,d.role);if(r.has(a.address)){if(ug(d.role))throw new ts(q9,{programAddress:a.address});return c.role!==h?{...c,role:h}:c}else return"lookupTableAddress"in d&&!ep(c.role)?{...d,[fr]:1,role:h}:c.role!==h?{...c,role:h}:c}}return"lookupTableAddress"in d?{...d,[fr]:1}:{...d,[fr]:2}})}return n}function bRe(t){let e;return Object.entries(t).sort(([r,i],[s,a])=>{if(i[fr]!==a[fr]){if(i[fr]===0)return-1;if(a[fr]===0)return 1;if(i[fr]===2)return-1;if(a[fr]===2)return 1}const c=ep(i.role);if(c!==ep(a.role))return c?-1:1;const u=ug(i.role);return u!==ug(a.role)?u?-1:1:(e||=qI(),i[fr]===1&&a[fr]===1&&i.lookupTableAddress!==a.lookupTableAddress?e(i.lookupTableAddress,a.lookupTableAddress):e(r,s))}).map(([r,i])=>({address:r,...i}))}function wRe(t){const e={};for(const n of t){if(!("lookupTableAddress"in n))continue;const r=e[n.lookupTableAddress]||={readonlyIndexes:[],writableIndexes:[]};n.role===gr.WRITABLE?r.writableIndexes.push(n.addressIndex):r.readonlyIndexes.push(n.addressIndex)}return Object.keys(e).sort(qI()).map(n=>({lookupTableAddress:n,...e[n]}))}function vRe(t){let e=0,n=0,r=0;for(const i of t){if("lookupTableAddress"in i)break;const s=ug(i.role);ep(i.role)?(r++,s||n++):s||e++}return{numReadonlyNonSignerAccounts:e,numReadonlySignerAccounts:n,numSignerAccounts:r}}function _Re(t){const e={};for(const[n,r]of t.entries())e[r.address]=n;return e}function ERe(t,e){const n=_Re(e);return t.map(({accounts:r,data:i,programAddress:s})=>({programAddressIndex:n[s],...r?{accountIndices:r.map(({address:a})=>n[a])}:null,...i?{data:i}:null}))}function SRe(t){return"nonce"in t?t.nonce:t.blockhash}function ARe(t){const e=t.findIndex(r=>"lookupTableAddress"in r);return(e===-1?t:t.slice(0,e)).map(({address:r})=>r)}function xRe(t){const e=gRe(t.feePayer.address,t.instructions),n=bRe(e),r=t.lifetimeConstraint;return{...t.version!=="legacy"?{addressTableLookups:wRe(n)}:null,...r?{lifetimeToken:SRe(r)}:null,header:vRe(n),instructions:ERe(t.instructions,n),staticAccounts:ARe(n),version:t.version}}function TRe(t){return Object.freeze({instructions:Object.freeze([]),version:t.version})}var UH="SysvarRecentB1ockHashes11111111111111111111",MH="11111111111111111111111111111111";function Y9(t,e){return{accounts:[{address:t,role:gr.WRITABLE},{address:UH,role:gr.READONLY},{address:e,role:gr.READONLY_SIGNER}],data:new Uint8Array([4,0,0,0]),programAddress:MH}}function GI(t){return t.programAddress===MH&&t.data!=null&&IRe(t.data)&&t.accounts?.length===3&&t.accounts[0].address!=null&&t.accounts[0].role===gr.WRITABLE&&t.accounts[1].address===UH&&t.accounts[1].role===gr.READONLY&&t.accounts[2].address!=null&&ep(t.accounts[2].role)}function IRe(t){return t.byteLength===4&&t[0]===4&&t[1]===0&&t[2]===0&&t[3]===0}function BH(t){return"lifetimeConstraint"in t&&typeof t.lifetimeConstraint.nonce=="string"&&t.instructions[0]!=null&&GI(t.instructions[0])}function CRe(t,e,n){return t.accounts[0].address===e&&t.accounts[2].address===n}function ORe({nonce:t,nonceAccountAddress:e,nonceAuthorityAddress:n},r){let i;const s=r.instructions[0];if(s&&GI(s))if(CRe(s,e,n)){if(BH(r)&&r.lifetimeConstraint.nonce===t)return r;i=[s,...r.instructions.slice(1)]}else i=[Object.freeze(Y9(e,n)),...r.instructions.slice(1)];else i=[Object.freeze(Y9(e,n)),...r.instructions];return Object.freeze({...r,instructions:Object.freeze(i),lifetimeConstraint:Object.freeze({nonce:t})})}function kRe(t,e){if("feePayer"in e&&t===e.feePayer?.address&&RRe(e.feePayer))return e;const n={...e,feePayer:Object.freeze({address:t})};return Object.freeze(n),n}function RRe(t){return!!t&&"address"in t&&typeof t.address=="string"&&Object.keys(t).length===1}function NRe(t,e){return $Re([t],e)}function $Re(t,e){return Object.freeze({...e,instructions:Object.freeze([...e.instructions,...t])})}function PRe(t){const{header:e}=t,n=e.numSignerAccounts-e.numReadonlySignerAccounts,r=t.staticAccounts.length-e.numSignerAccounts-e.numReadonlyNonSignerAccounts,i=[];let s=0;for(let a=0;a<n;a++)i.push({address:t.staticAccounts[s],role:gr.WRITABLE_SIGNER}),s++;for(let a=0;a<e.numReadonlySignerAccounts;a++)i.push({address:t.staticAccounts[s],role:gr.READONLY_SIGNER}),s++;for(let a=0;a<r;a++)i.push({address:t.staticAccounts[s],role:gr.WRITABLE}),s++;for(let a=0;a<e.numReadonlyNonSignerAccounts;a++)i.push({address:t.staticAccounts[s],role:gr.READONLY}),s++;return i}function DRe(t,e){const r=t.map(a=>a.lookupTableAddress).filter(a=>e[a]===void 0);if(r.length>0)throw new ts(Cke,{lookupTableAddresses:r});const i=[],s=[];for(const a of t){const c=e[a.lookupTableAddress],u=a.readonlyIndexes,d=a.writableIndexes,h=Math.max(...u,...d);if(h>=c.length)throw new ts(Oke,{highestKnownIndex:c.length-1,highestRequestedIndex:h,lookupTableAddress:a.lookupTableAddress});const p=u.map(g=>({address:c[g],addressIndex:g,lookupTableAddress:a.lookupTableAddress,role:gr.READONLY}));i.push(...p);const y=d.map(g=>({address:c[g],addressIndex:g,lookupTableAddress:a.lookupTableAddress,role:gr.WRITABLE}));s.push(...y)}return[...s,...i]}function URe(t,e){const n=e[t.programAddressIndex]?.address;if(!n)throw new ts(kke,{index:t.programAddressIndex});const r=t.accountIndices?.map(s=>e[s]),{data:i}=t;return Object.freeze({programAddress:n,...r&&r.length?{accounts:Object.freeze(r)}:{},...i&&i.length?{data:i}:{}})}function MRe(t,e,n){if(!e||!GI(e))return{blockhash:t,lastValidBlockHeight:2n**64n-1n};{const r=e.accounts[0].address;eT(r);const i=e.accounts[2].address;return eT(i),{nonce:t,nonceAccountAddress:r,nonceAuthorityAddress:i}}}function t7e(t,e){const n=t.staticAccounts[0];if(!n)throw new ts(Rke);const r=PRe(t),i="addressTableLookups"in t&&t.addressTableLookups!==void 0&&t.addressTableLookups.length>0?DRe(t.addressTableLookups,{}):[],s=[...r,...i],a=t.instructions.map(d=>URe(d,s)),c=a[0],u=MRe(t.lifetimeToken,c);return Xd(TRe({version:t.version}),d=>kRe(n,d),d=>a.reduce((h,p)=>NRe(p,h),d),d=>"blockhash"in u?Jke(u,d):ORe(u,d))}var BRe=5663015,LRe=5663016,jRe=5663017,zRe=8078e3,FRe=8078001,qRe=8078011,WRe=8078013,HRe=8078014;function LH(t){return Array.isArray(t)?"%5B"+t.map(LH).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function VRe([t,e]){return`${t}=${LH(e)}`}function GRe(t){const e=Object.entries(t).map(VRe).join("&");return btoa(e)}function KRe(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${GRe(e)}'`),`${n}\``}}var gu=class extends Error{cause=this.cause;context;constructor(...[e,n]){let r,i;n&&Object.entries(Object.getOwnPropertyDescriptors(n)).forEach(([a,c])=>{a==="cause"?i={cause:c.value}:(r===void 0&&(r={__code:e}),Object.defineProperty(r,a,c))});const s=KRe(e,r);super(s,i),this.context=Object.freeze(r===void 0?{__code:e}:r),this.name="SolanaError"}};function YRe(t,e){if(t.length>=e)return t;const n=new Uint8Array(e).fill(0);return n.set(t),n}var ZRe=(t,e)=>YRe(t.length<=e?t:t.slice(0,e),e);function XRe(t,e){return t.length===e.length&&t.every((n,r)=>n===e[r])}function JRe(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}function KI(t){return Object.freeze({...t,encode:e=>{const n=new Uint8Array(JRe(e,t));return t.write(e,n,0),n}})}function gp(t){return Object.freeze({...t,decode:(e,n=0)=>t.read(e,n)[0]})}function YI(t){return"fixedSize"in t&&typeof t.fixedSize=="number"}function QRe(t){return!YI(t)}function e4e(t,e,n=0){if(e.length-n<=0)throw new gu(zRe,{codecDescription:t})}function jH(t,e,n,r=0){const i=n.length-r;if(i<e)throw new gu(FRe,{bytesLength:i,codecDescription:t,expected:e})}function Z9(t,e,n){if(e<0||e>n)throw new gu(HRe,{bytesLength:n,codecDescription:t,offset:e})}function t4e(t,e){return KI({fixedSize:e,write:(n,r,i)=>{const s=t.encode(n),a=s.length>e?s.slice(0,e):s;return r.set(a,i),i+e}})}function n4e(t,e){return gp({fixedSize:e,read:(n,r)=>{jH("fixCodecSize",e,n,r),(r>0||n.length>e)&&(n=n.slice(r,r+e)),YI(t)&&(n=ZRe(n,t.fixedSize));const[i]=t.read(n,0);return[i,r+e]}})}function r4e(t,e){return gp({...t,read:(n,r)=>{const i=d=>i4e(d,n.length),s=e.preOffset?e.preOffset({bytes:n,preOffset:r,wrapBytes:i}):r;Z9("offsetDecoder",s,n.length);const[a,c]=t.read(n,s),u=e.postOffset?e.postOffset({bytes:n,newPreOffset:s,postOffset:c,preOffset:r,wrapBytes:i}):c;return Z9("offsetDecoder",u,n.length),[a,u]}})}function i4e(t,e){return e===0?0:(t%e+e)%e}function s4e(t,e){if(YI(t)){const n=e(t.fixedSize);if(n<0)throw new gu(WRe,{bytesLength:n,codecDescription:"resizeDecoder"});return gp({...t,fixedSize:n})}return t}function a4e(t,e){return r4e(s4e(t,n=>n+e),{postOffset:({postOffset:n})=>n+e})}function o4e(t,e){return KI({...QRe(t)?{...t,getSizeFromValue:n=>t.getSizeFromValue(e(n))}:t,write:(n,r,i)=>t.write(e(n),r,i)})}function c4e(t,e){return gp({...t,read:(n,r)=>{const[i,s]=t.read(n,r);return[e(i,n,r),s]}})}function l4e(t,e,n,r){if(r<e||r>n)throw new gu(qRe,{codecDescription:t,max:n,min:e,value:r})}function u4e(t){return t?.endian!==1}function d4e(t){return gp({fixedSize:t.size,read(e,n=0){e4e(t.name,e,n),jH(t.name,t.size,e,n);const r=new DataView(f4e(e,n,t.size));return[t.get(r,u4e(t.config)),n+t.size]}})}function f4e(t,e,n){const r=t.byteOffset+(e??0),i=n??t.byteLength;return t.buffer.slice(r,r+i)}var h4e=()=>KI({getSizeFromValue:t=>t<=127?1:t<=16383?2:3,maxSize:3,write:(t,e,n)=>{l4e("shortU16",0,65535,t);const r=[0];for(let i=0;;i+=1){const s=Number(t)>>i*7;if(s===0)break;const a=127&s;r[i]=a,i>0&&(r[i-1]|=128)}return e.set(r,n),n+r.length}}),zH=()=>gp({maxSize:3,read:(t,e)=>{let n=0,r=0;for(;++r;){const i=r-1,s=t[e+i],a=127&s;if(n|=a<<i*7,(s&128)===0)break}return[n,e+r]}}),p4e=()=>d4e({get:t=>t.getUint8(0),name:"u8",size:1}),m4e=3610007,y4e=3704e3,g4e=3704001,b4e=3704004;function FH(t){return Array.isArray(t)?"%5B"+t.map(FH).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function w4e([t,e]){return`${t}=${FH(e)}`}function v4e(t){const e=Object.entries(t).map(w4e).join("&");return btoa(e)}function _4e(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${v4e(e)}'`),`${n}\``}}var t1=class extends Error{cause=this.cause;context;constructor(...[e,n]){let r,i;n&&Object.entries(Object.getOwnPropertyDescriptors(n)).forEach(([a,c])=>{a==="cause"?i={cause:c.value}:(r===void 0&&(r={__code:e}),Object.defineProperty(r,a,c))});const s=_4e(e,r);super(s,i),this.context=Object.freeze(r===void 0?{__code:e}:r),this.name="SolanaError"}},A_=Object.freeze({name:"Ed25519"});function E4e(t){return new Uint8Array([48,46,2,1,0,48,5,6,3,43,101,112,4,34,4,32,...t])}async function iT(t,e=!1){const n=t.byteLength;if(n!==32)throw new t1(g4e,{actualLength:n});const r=E4e(t);return await crypto.subtle.importKey("pkcs8",r,A_,e,["sign"])}async function S4e(t,e=!1){if(bH(),t.extractable===!1)throw new t1(m4e,{key:t});const n=await crypto.subtle.exportKey("jwk",t);return await crypto.subtle.importKey("jwk",{crv:"Ed25519",ext:e,key_ops:["verify"],kty:"OKP",x:n.x},"Ed25519",e,["verify"])}async function ZI(t,e){I8e();const n=await crypto.subtle.sign(A_,t,e);return new Uint8Array(n)}async function A4e(t,e,n){return C8e(),await crypto.subtle.verify(A_,t,e,n)}async function x4e(t,e=!1){if(x8e(),t.byteLength!==64)throw new t1(y4e,{byteLength:t.byteLength});const[n,r]=await Promise.all([crypto.subtle.importKey("raw",t.slice(32),A_,!0,["verify"]),iT(t.slice(0,32),e)]),i=new Uint8Array(32);crypto.getRandomValues(i);const s=await ZI(r,i);if(!await A4e(n,s,i))throw new t1(b4e);return{privateKey:r,publicKey:n}}async function T4e(t,e=!1){const n=iT(t,e),[r,i]=await Promise.all([(e?n:iT(t,!0)).then(async s=>await S4e(s,!0)),n]);return{privateKey:i,publicKey:r}}function I4e(t){const e=Object.values(t);if(e.length===0)throw new gu(LRe);return e.map(n=>n||new Uint8Array(64).fill(0))}function C4e(){return o4e(Qh(t4e(WI(),64),{size:h4e()}),I4e)}function O4e(){return yu([["signatures",C4e()],["messageBytes",WI()]])}function k4e(){return c4e(c0([["signatures",Ud(n4e(tT(),64),{size:zH()})],["messageBytes",tT()]]),R4e)}function R4e(t){const{messageBytes:e,signatures:n}=t,r=yke([PH(),a4e(p4e(),2),Ud(i0(),{size:zH()})]),[i,s,a]=r.decode(e),c=a.slice(0,s);if(c.length!==n.length)throw new gu(jRe,{numRequiredSignatures:s,signaturesLength:n.length,signerAddresses:c});const u={};return c.forEach((d,h)=>{const p=n[h];p.every(y=>y===0)?u[d]=null:u[d]=p}),{messageBytes:e,signatures:Object.freeze(u)}}function i7e(t){const e=xRe(t),n=mRe().encode(e),r=e.staticAccounts.slice(0,e.header.numSignerAccounts),i={};for(const a of r)i[a]=null;let s;return Xke(t)?s={blockhash:t.lifetimeConstraint.blockhash,lastValidBlockHeight:t.lifetimeConstraint.lastValidBlockHeight}:BH(t)&&(s={nonce:t.lifetimeConstraint.nonce,nonceAccountAddress:t.instructions[0].accounts[0].address}),Object.freeze({...s?{lifetimeConstraint:s}:void 0,messageBytes:n,signatures:Object.freeze(i)})}async function N4e(t,e){let n,r;if(await Promise.all(t.map(async i=>{const s=await wH(i.publicKey),a=e.signatures[s];if(a===void 0){r||=new Set,r.add(s);return}if(r)return;const c=await ZI(i.privateKey,e.messageBytes);a!==null&&XRe(c,a)||(n||={},n[s]=c)})),r&&r.size>0){const i=Object.keys(e.signatures);throw new gu(BRe,{expectedAddresses:i,unexpectedAddresses:[...r]})}return n?Object.freeze({...e,signatures:Object.freeze({...e.signatures,...n})}):e}function $4e(t){const e=O4e().encode(t);return HOe().decode(e)}function X9(t){return t!==null&&(typeof t=="object"||typeof t=="function")}function P4e(t){const e=new Set,n={deferreds:e,settled:!1};return Promise.resolve(t).then(r=>{for(const{resolve:i}of e)i(r);e.clear(),n.settled=!0},r=>{for(const{reject:i}of e)i(r);e.clear(),n.settled=!0}),n}var fx=new WeakMap;async function D4e(t){let e;return await new Promise((r,i)=>{e={reject:i,resolve:r};for(const s of t){if(!X9(s)){Promise.resolve(s).then(r,i);continue}let a=fx.get(s);a===void 0?(a=P4e(s),a.deferreds.add(e),fx.set(s,a)):a.settled?Promise.resolve(s).then(r,i):a.deferreds.add(e)}}).finally(()=>{for(const r of t)X9(r)&&fx.get(r).deferreds.delete(e)})}var U4e=8100003;function qH(t){return Array.isArray(t)?"%5B"+t.map(qH).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function M4e([t,e]){return`${t}=${qH(e)}`}function B4e(t){const e=Object.entries(t).map(M4e).join("&");return btoa(e)}function L4e(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${B4e(e)}'`),`${n}\``}}var j4e=class extends Error{cause=this.cause;context;constructor(...[e,n]){let r,i;n&&Object.entries(Object.getOwnPropertyDescriptors(n)).forEach(([a,c])=>{a==="cause"?i={cause:c.value}:(r===void 0&&(r={__code:e}),Object.defineProperty(r,a,c))});const s=L4e(e,r);super(s,i),this.context=Object.freeze(r===void 0?{__code:e}:r),this.name="SolanaError"}};function WH(t){return JSON.parse(z4e(t),(e,n)=>H4e(n)?W4e(n):n)}function z4e(t){const e=[];let n=!1;for(let r=0;r<t.length;r++){let i=!1;if(t[r]==="\\"&&(e.push(t[r++]),i=!i),t[r]==='"'){e.push(t[r]),i||(n=!n);continue}if(!n){const s=F4e(t,r);if(s?.length){r+=s.length-1,s.match(/\.|[eE]-/)?e.push(s):e.push(q4e(s));continue}}e.push(t[r])}return e.join("")}function F4e(t,e){const n=/^-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?/;if(!t[e]?.match(/[-\d]/))return null;const r=t.slice(e).match(n);return r?r[0]:null}function q4e(t){return`{"$n":"${t}"}`}function W4e({$n:t}){if(t.match(/[eE]/)){const[e,n]=t.split(/[eE]/);return BigInt(e)*BigInt(10)**BigInt(n)}return BigInt(t)}function H4e(t){return!!t&&typeof t=="object"&&"$n"in t&&typeof t.$n=="string"}var J9=0n;function V4e(){const t=J9;return J9++,t.toString()}function sT(t){return{id:V4e(),jsonrpc:"2.0",method:t.methodName,params:t.params}}function HH(t,e){return K4e(JSON.stringify(t,(n,r)=>typeof r=="bigint"?G4e(r):r,e))}function G4e(t){return{$n:`${t}`}}function K4e(t){return t.replace(/\{\s*"\$n"\s*:\s*"(-?\d+)"\s*\}/g,"$1")}function Y4e(t){return Z4e(t)}function Z4e(t){return new Proxy(t.api,{defineProperty(){return!1},deleteProperty(){return!1},get(e,n,r){if(n!=="then")return function(...i){const s=n.toString(),a=Reflect.get(e,s,r);if(!a)throw new j4e(U4e,{method:s,params:i});const c=a(...i);return X4e(t,c)}}})}function X4e({transport:t},e){return{async send(n){return await e.execute({signal:n?.abortSignal,transport:t})}}}function J4e(t){return new Proxy({},{defineProperty(){return!1},deleteProperty(){return!1},get(...e){const[n,r]=e,i=r.toString();return function(...s){const a=Object.freeze({methodName:i,params:s}),c=t?.requestTransformer?t?.requestTransformer(a):a;return Object.freeze({execute:async({signal:u,transport:d})=>{const h=sT(c),p=await d({payload:h,signal:u});return t?.responseTransformer?t.responseTransformer(p,c):p}})}}})}function VH(t){return t==null||typeof t!="object"||Array.isArray(t)?!1:"jsonrpc"in t&&t.jsonrpc==="2.0"&&"method"in t&&typeof t.method=="string"&&"params"in t}var Q4e=10,eNe=-32700,tNe=-32603,nNe=-32602,rNe=-32601,iNe=-32600,sNe=-32015,aNe=-32014,oNe=-32012,cNe=-32010,lNe=-32009,uNe=-32007,dNe=-32006,fNe=-32004,Q9=-32002,hNe=-32001,pNe=4615e3,mNe=4615026,yNe=705e4,gNe=7050030,bNe=7050031,wNe=7050035;function GH(t){return Array.isArray(t)?"%5B"+t.map(GH).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function vNe([t,e]){return`${t}=${GH(e)}`}function _Ne(t){const e=Object.entries(t).map(vNe).join("&");return btoa(e)}function ENe(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${_Ne(e)}'`),`${n}\``}}var Bw=class extends Error{cause=this.cause;context;constructor(...[e,n]){let r,i;n&&Object.entries(Object.getOwnPropertyDescriptors(n)).forEach(([a,c])=>{a==="cause"?i={cause:c.value}:(r===void 0&&(r={__code:e}),Object.defineProperty(r,a,c))});const s=ENe(e,r);super(s,i),this.context=Object.freeze(r===void 0?{__code:e}:r),this.name="SolanaError"}};function KH(...t){"captureStackTrace"in Error&&typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(...t)}function YH({errorCodeBaseOffset:t,getErrorContext:e,orderedErrorNames:n,rpcEnumError:r},i){let s,a;typeof r=="string"?s=r:(s=Object.keys(r)[0],a=r[s]);const c=n.indexOf(s),u=t+c,d=e(u,s,a),h=new Bw(u,d);return KH(h,i),h}var SNe=["GenericError","InvalidArgument","InvalidInstructionData","InvalidAccountData","AccountDataTooSmall","InsufficientFunds","IncorrectProgramId","MissingRequiredSignature","AccountAlreadyInitialized","UninitializedAccount","UnbalancedInstruction","ModifiedProgramId","ExternalAccountLamportSpend","ExternalAccountDataModified","ReadonlyLamportChange","ReadonlyDataModified","DuplicateAccountIndex","ExecutableModified","RentEpochModified","NotEnoughAccountKeys","AccountDataSizeChanged","AccountNotExecutable","AccountBorrowFailed","AccountBorrowOutstanding","DuplicateAccountOutOfSync","Custom","InvalidError","ExecutableDataModified","ExecutableLamportChange","ExecutableAccountNotRentExempt","UnsupportedProgramId","CallDepth","MissingAccount","ReentrancyNotAllowed","MaxSeedLengthExceeded","InvalidSeeds","InvalidRealloc","ComputationalBudgetExceeded","PrivilegeEscalation","ProgramEnvironmentSetupFailure","ProgramFailedToComplete","ProgramFailedToCompile","Immutable","IncorrectAuthority","BorshIoError","AccountNotRentExempt","InvalidAccountOwner","ArithmeticOverflow","UnsupportedSysvar","IllegalOwner","MaxAccountsDataAllocationsExceeded","MaxAccountsExceeded","MaxInstructionTraceLengthExceeded","BuiltinProgramsMustConsumeComputeUnits"];function ZH(t,e){const n=Number(t);return YH({errorCodeBaseOffset:4615001,getErrorContext(r,i,s){return r===pNe?{errorName:i,index:n,...s!==void 0?{instructionErrorContext:s}:null}:r===mNe?{code:Number(s),index:n}:{index:n}},orderedErrorNames:SNe,rpcEnumError:e},ZH)}var ANe=["AccountInUse","AccountLoadedTwice","AccountNotFound","ProgramAccountNotFound","InsufficientFundsForFee","InvalidAccountForFee","AlreadyProcessed","BlockhashNotFound","CallChainTooDeep","MissingSignatureForFee","InvalidAccountIndex","SignatureFailure","InvalidProgramForExecution","SanitizeFailure","ClusterMaintenance","AccountBorrowOutstanding","WouldExceedMaxBlockCostLimit","UnsupportedVersion","InvalidWritableAccount","WouldExceedMaxAccountCostLimit","WouldExceedAccountDataBlockLimit","TooManyAccountLocks","AddressLookupTableNotFound","InvalidAddressLookupTableOwner","InvalidAddressLookupTableData","InvalidAddressLookupTableIndex","InvalidRentPayingAccount","WouldExceedMaxVoteCostLimit","WouldExceedAccountDataTotalLimit","DuplicateInstruction","InsufficientFundsForRent","MaxLoadedAccountsDataSizeExceeded","InvalidLoadedAccountsDataSizeLimit","ResanitizationNeeded","ProgramExecutionTemporarilyRestricted","UnbalancedTransaction"];function XH(t){return typeof t=="object"&&"InstructionError"in t?ZH(...t.InstructionError):YH({errorCodeBaseOffset:7050001,getErrorContext(e,n,r){if(e===yNe)return{errorName:n,...r!==void 0?{transactionErrorContext:r}:null};if(e===gNe)return{index:Number(r)};if(e===bNe||e===wNe)return{accountIndex:Number(r.account_index)}},orderedErrorNames:ANe,rpcEnumError:t},XH)}function JH(t){let e;if(xNe(t)){const{code:n,data:r,message:i}=t,s=Number(n);if(s===Q9){const{err:a,...c}=r,u=a?{cause:XH(a)}:null;e=new Bw(Q9,{...c,...u})}else{let a;switch(s){case tNe:case nNe:case iNe:case rNe:case eNe:case oNe:case hNe:case fNe:case aNe:case cNe:case lNe:case uNe:case dNe:case sNe:a={__serverMessage:i};break;default:typeof r=="object"&&!Array.isArray(r)&&(a=r)}e=new Bw(s,a)}}else{const n=typeof t=="object"&&t!==null&&"message"in t&&typeof t.message=="string"?t.message:"Malformed JSON-RPC error with no message attribute";e=new Bw(Q4e,{error:t,message:n})}return KH(e,JH),e}function xNe(t){return typeof t=="object"&&t!==null&&"code"in t&&"message"in t&&(typeof t.code=="number"||typeof t.code=="bigint")&&typeof t.message=="string"}function TNe(t){return typeof t=="bigint"?Number(t):t}var De={};function QH(t){return function e(n,r){if(Array.isArray(n))return n.map((i,s)=>{const a={...r,keyPath:[...r.keyPath,s]};return e(i,a)});if(typeof n=="object"&&n!==null){const i={};for(const s in n){if(!Object.prototype.hasOwnProperty.call(n,s))continue;const a={...r,keyPath:[...r.keyPath,s]};i[s]=e(n[s],a)}return i}else return t.reduce((i,s)=>s(i,r),n)}}function eV(t,e){return n=>{const r=QH(t);return Object.freeze({...n,params:r(n.params,e)})}}function INe(t,e){return n=>QH(t)(n,e)}function CNe(){return eV([TNe],{keyPath:[]})}function ONe({commitmentPropertyName:t,params:e,optionsObjectPositionInParams:n,overrideCommitment:r}){const i=e[n];if(i===void 0||i&&typeof i=="object"&&!Array.isArray(i)){if(i&&t in i){if(!i[t]||i[t]==="finalized"){const s=[...e],{[t]:a,...c}=i;return Object.keys(c).length>0?s[n]=c:n===s.length-1?s.length--:s[n]=void 0,s}}else if(r!=="finalized"){const s=[...e];return s[n]={...i,[t]:r},s}}return e}function kNe({defaultCommitment:t,optionsObjectPositionByMethod:e}){return n=>{const{params:r,methodName:i}=n;if(!Array.isArray(r))return n;const s=e[i];return s==null?n:Object.freeze({methodName:i,params:ONe({commitmentPropertyName:i==="sendTransaction"?"preflightCommitment":"commitment",optionsObjectPositionInParams:s,overrideCommitment:t,params:r})})}}function RNe(t){return(e,{keyPath:n})=>(typeof e=="bigint"&&t&&(e>Number.MAX_SAFE_INTEGER||e<-Number.MAX_SAFE_INTEGER)&&t(n,e),e)}function NNe(t){return e=>eV([RNe((...r)=>t(e,...r))],{keyPath:[]})(e)}var $Ne={accountNotifications:1,blockNotifications:1,getAccountInfo:1,getBalance:1,getBlock:1,getBlockHeight:0,getBlockProduction:0,getBlocks:2,getBlocksWithLimit:2,getEpochInfo:0,getFeeForMessage:1,getInflationGovernor:0,getInflationReward:1,getLargestAccounts:0,getLatestBlockhash:0,getLeaderSchedule:1,getMinimumBalanceForRentExemption:1,getMultipleAccounts:1,getProgramAccounts:1,getSignaturesForAddress:1,getSlot:0,getSlotLeader:0,getStakeMinimumDelegation:0,getSupply:0,getTokenAccountBalance:1,getTokenAccountsByDelegate:2,getTokenAccountsByOwner:2,getTokenLargestAccounts:1,getTokenSupply:1,getTransaction:1,getTransactionCount:0,getVoteAccounts:0,isBlockhashValid:1,logsNotifications:1,programNotifications:1,requestAirdrop:2,sendTransaction:1,signatureNotifications:1,simulateTransaction:1};function tV(t){const e=t?.onIntegerOverflow;return n=>Xd(n,e?NNe(e):r=>r,CNe(),kNe({defaultCommitment:t?.defaultCommitment,optionsObjectPositionByMethod:$Ne}))}function PNe(t){return function(n,{keyPath:r}){return typeof n=="number"&&Number.isInteger(n)||typeof n=="bigint"?DNe(r,t)?Number(n):BigInt(n):n}}function DNe(t,e){return e.some(n=>{if(n.length!==t.length)return!1;for(let r=t.length-1;r>=0;r--){const i=t[r],s=n[r];if(s!==i&&(s!==De||typeof i!="number"))return!1}return!0})}function nV(t){return INe([PNe(t)],{keyPath:[]})}function UNe(){return t=>t.result}function MNe(){return t=>{const e=t;if("error"in e)throw JH(e.error);return e}}function BNe(t){return(e,n)=>{const r=n.methodName,i=t?.allowedNumericKeyPaths&&r?t.allowedNumericKeyPaths[r]:void 0;return Xd(e,s=>MNe()(s,n),s=>UNe()(s,n),s=>nV(i??[])(s,n))}}function LNe(t){return(e,n)=>{const r=n.methodName,i=t?.allowedNumericKeyPaths&&r?t.allowedNumericKeyPaths[r]:void 0;return Xd(e,s=>nV(i??[])(s,n))}}var aT=[["data","parsed","info","tokenAmount","decimals"],["data","parsed","info","tokenAmount","uiAmount"],["data","parsed","info","rentExemptReserve","decimals"],["data","parsed","info","rentExemptReserve","uiAmount"],["data","parsed","info","delegatedAmount","decimals"],["data","parsed","info","delegatedAmount","uiAmount"],["data","parsed","info","extensions",De,"state","olderTransferFee","transferFeeBasisPoints"],["data","parsed","info","extensions",De,"state","newerTransferFee","transferFeeBasisPoints"],["data","parsed","info","extensions",De,"state","preUpdateAverageRate"],["data","parsed","info","extensions",De,"state","currentRate"]],mh=[...aT,["data","parsed","info","lastExtendedSlotStartIndex"],["data","parsed","info","slashPenalty"],["data","parsed","info","warmupCooldownRate"],["data","parsed","info","decimals"],["data","parsed","info","numRequiredSigners"],["data","parsed","info","numValidSigners"],["data","parsed","info","stake","delegation","warmupCooldownRate"],["data","parsed","info","exemptionThreshold"],["data","parsed","info","burnPercent"],["data","parsed","info","commission"],["data","parsed","info","votes",De,"confirmationCount"]],hx=[["index"],["instructions",De,"accounts",De],["instructions",De,"programIdIndex"],["instructions",De,"stackHeight"]],eU=[["addressTableLookups",De,"writableIndexes",De],["addressTableLookups",De,"readonlyIndexes",De],["header","numReadonlySignedAccounts"],["header","numReadonlyUnsignedAccounts"],["header","numRequiredSignatures"],["instructions",De,"accounts",De],["instructions",De,"programIdIndex"],["instructions",De,"stackHeight"]];function jNe(t){return J4e({requestTransformer:tV(t),responseTransformer:BNe({allowedNumericKeyPaths:zNe()})})}var px;function zNe(){return px||(px={getAccountInfo:mh.map(t=>["value",...t]),getBlock:[["transactions",De,"meta","preTokenBalances",De,"accountIndex"],["transactions",De,"meta","preTokenBalances",De,"uiTokenAmount","decimals"],["transactions",De,"meta","postTokenBalances",De,"accountIndex"],["transactions",De,"meta","postTokenBalances",De,"uiTokenAmount","decimals"],["transactions",De,"meta","rewards",De,"commission"],...hx.map(t=>["transactions",De,"meta","innerInstructions",De,...t]),...eU.map(t=>["transactions",De,"transaction","message",...t]),["rewards",De,"commission"]],getClusterNodes:[[De,"featureSet"],[De,"shredVersion"]],getInflationGovernor:[["initial"],["foundation"],["foundationTerm"],["taper"],["terminal"]],getInflationRate:[["foundation"],["total"],["validator"]],getInflationReward:[[De,"commission"]],getMultipleAccounts:mh.map(t=>["value",De,...t]),getProgramAccounts:mh.flatMap(t=>[["value",De,"account",...t],[De,"account",...t]]),getRecentPerformanceSamples:[[De,"samplePeriodSecs"]],getTokenAccountBalance:[["value","decimals"],["value","uiAmount"]],getTokenAccountsByDelegate:aT.map(t=>["value",De,"account",...t]),getTokenAccountsByOwner:aT.map(t=>["value",De,"account",...t]),getTokenLargestAccounts:[["value",De,"decimals"],["value",De,"uiAmount"]],getTokenSupply:[["value","decimals"],["value","uiAmount"]],getTransaction:[["meta","preTokenBalances",De,"accountIndex"],["meta","preTokenBalances",De,"uiTokenAmount","decimals"],["meta","postTokenBalances",De,"accountIndex"],["meta","postTokenBalances",De,"uiTokenAmount","decimals"],["meta","rewards",De,"commission"],...hx.map(t=>["meta","innerInstructions",De,...t]),...eU.map(t=>["transaction","message",...t])],getVersion:[["feature-set"]],getVoteAccounts:[["current",De,"commission"],["delinquent",De,"commission"]],simulateTransaction:[["value","loadedAccountsDataSize"],...mh.map(t=>["value","accounts",De,...t]),...hx.map(t=>["value","innerInstructions",De,...t])]}),px}var FNe=81e5;function rV(t){return Array.isArray(t)?"%5B"+t.map(rV).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function qNe([t,e]){return`${t}=${rV(e)}`}function WNe(t){const e=Object.entries(t).map(qNe).join("&");return btoa(e)}function HNe(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${WNe(e)}'`),`${n}\``}}var VNe=class extends Error{cause=this.cause;context;constructor(...[e,n]){let r,i;n&&Object.entries(Object.getOwnPropertyDescriptors(n)).forEach(([a,c])=>{a==="cause"?i={cause:c.value}:(r===void 0&&(r={__code:e}),Object.defineProperty(r,a,c))});const s=HNe(e,r);super(s,i),this.context=Object.freeze(r===void 0?{__code:e}:r),this.name="SolanaError"}};function GNe(...t){"captureStackTrace"in Error&&typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(...t)}var KNe=8100002;function iV(t){return Array.isArray(t)?"%5B"+t.map(iV).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function YNe([t,e]){return`${t}=${iV(e)}`}function ZNe(t){const e=Object.entries(t).map(YNe).join("&");return btoa(e)}function XNe(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${ZNe(e)}'`),`${n}\``}}var JNe=class extends Error{cause=this.cause;context;constructor(...[e,n]){let r,i;n&&Object.entries(Object.getOwnPropertyDescriptors(n)).forEach(([a,c])=>{a==="cause"?i={cause:c.value}:(r===void 0&&(r={__code:e}),Object.defineProperty(r,a,c))});const s=XNe(e,r);super(s,i),this.context=Object.freeze(r===void 0?{__code:e}:r),this.name="SolanaError"}};function QNe(t){const e={};for(const n in t)e[n.toLowerCase()]=t[n];return e}function e$e(t){const{fromJson:e,headers:n,toJson:r,url:i}=t;let s;const a=n&&QNe(n);return async function({payload:u,signal:d}){const h=r?r(u):JSON.stringify(u),p={...s,body:h,headers:{...a,accept:"application/json","content-length":h.length.toString(),"content-type":"application/json; charset=utf-8"},method:"POST",signal:d},y=await fetch(i,p);if(!y.ok)throw new JNe(KNe,{headers:y.headers,message:y.statusText,statusCode:y.status});return e?e(await y.text(),u):await y.json()}}var t$e=["getAccountInfo","getBalance","getBlock","getBlockCommitment","getBlockHeight","getBlockProduction","getBlocks","getBlocksWithLimit","getBlockTime","getClusterNodes","getEpochInfo","getEpochSchedule","getFeeForMessage","getFirstAvailableBlock","getGenesisHash","getHealth","getHighestSnapshotSlot","getIdentity","getInflationGovernor","getInflationRate","getInflationReward","getLargestAccounts","getLatestBlockhash","getLeaderSchedule","getMaxRetransmitSlot","getMaxShredInsertSlot","getMinimumBalanceForRentExemption","getMultipleAccounts","getProgramAccounts","getRecentPerformanceSamples","getRecentPrioritizationFees","getSignaturesForAddress","getSignatureStatuses","getSlot","getSlotLeader","getSlotLeaders","getStakeMinimumDelegation","getSupply","getTokenAccountBalance","getTokenAccountsByDelegate","getTokenAccountsByOwner","getTokenLargestAccounts","getTokenSupply","getTransaction","getTransactionCount","getVersion","getVoteAccounts","index","isBlockhashValid","minimumLedgerSlot","requestAirdrop","sendTransaction","simulateTransaction"];function tU(t){return VH(t)&&t$e.includes(t.method)}function n$e(t){return e$e({...t,fromJson:(e,n)=>tU(n)?WH(e):JSON.parse(e),toJson:e=>tU(e)?HH(e):JSON.stringify(e)})}var r$e=Object.prototype.toString,i$e=Object.keys||function(t){const e=[];for(const n in t)e.push(n);return e};function ny(t,e){let n,r,i,s,a,c,u;if(t===!0)return"true";if(t===!1)return"false";switch(typeof t){case"object":if(t===null)return null;if("toJSON"in t&&typeof t.toJSON=="function")return ny(t.toJSON(),e);if(u=r$e.call(t),u==="[object Array]"){for(i="[",r=t.length-1,n=0;n<r;n++)i+=ny(t[n],!0)+",";return r>-1&&(i+=ny(t[n],!0)),i+"]"}else if(u==="[object Object]"){for(s=i$e(t).sort(),r=s.length,i="",n=0;n<r;)a=s[n],c=ny(t[a],!1),c!==void 0&&(i&&(i+=","),i+=JSON.stringify(a)+":"+c),n++;return"{"+i+"}"}else return JSON.stringify(t);case"function":case"undefined":return e?null:void 0;case"bigint":return`${t.toString()}n`;case"string":return JSON.stringify(t);default:return isFinite(t)?t:null}}function sV(t){const e=ny(t,!1);if(e!==void 0)return""+e}function aV(t,e,n){let r="";if(typeof e[0]=="number"){const a=e[0]+1,c=a%10,u=a%100;c==1&&u!=11?r=a+"st":c==2&&u!=12?r=a+"nd":c==3&&u!=13?r=a+"rd":r=a+"th"}else r=`\`${e[0].toString()}\``;const i=e.length>1?e.slice(1).map(a=>typeof a=="number"?`[${a}]`:a).join("."):void 0,s=new VNe(FNe,{argumentLabel:r,keyPath:e,methodName:t,optionalPathLabel:i?` at path \`${i}\``:"",value:n,...i!==void 0?{path:i}:void 0});return GNe(s,aV),s}var s$e={defaultCommitment:"confirmed",onIntegerOverflow(t,e,n){throw aV(t.methodName,e,n)}},a$e=globalThis.AbortController,nU;function rU(){return{}}function o$e(t,e){let n;return async function(i){const{payload:s,signal:a}=i,c=e(s);if(c===void 0)return await t(i);if(n||(queueMicrotask(()=>{n=void 0}),n={}),n[c]==null){const d=new a$e,h=(async()=>{try{return await t({...i,signal:d.signal})}catch(p){if(p===(nU||=rU()))return;throw p}})();n[c]={abortController:d,numConsumers:0,responsePromise:h}}const u=n[c];if(u.numConsumers++,a){const d=u.responsePromise;return await new Promise((h,p)=>{const y=g=>{a.removeEventListener("abort",y),u.numConsumers-=1,queueMicrotask(()=>{u.numConsumers===0&&u.abortController.abort(nU||=rU())}),p(g.target.reason)};a.addEventListener("abort",y),d.then(h).catch(p).finally(()=>{a.removeEventListener("abort",y)})})}else return await u.responsePromise}}function c$e(t){return VH(t)?sV([t.method,t.params]):void 0}function l$e(t){const e={};for(const n in t)e[n.toLowerCase()]=t[n];return e}function u$e(t){return Xd(n$e({...t,headers:{...t.headers?l$e(t.headers):void 0,"solana-client":"js/5.1.0"}}),e=>o$e(e,c$e))}function oV(t,e){return d$e(u$e({url:t,...e}))}function d$e(t){return Y4e({api:jNe(s$e),transport:t})}var f$e=10,h$e=-32700,p$e=-32603,m$e=-32602,y$e=-32601,g$e=-32600,b$e=-32015,w$e=-32014,v$e=-32012,_$e=-32010,E$e=-32009,S$e=-32007,A$e=-32006,x$e=-32004,iU=-32002,T$e=-32001,I$e=4615e3,C$e=4615026,O$e=705e4,k$e=7050030,R$e=7050031,N$e=7050035,$$e=819e4,P$e=8190001,D$e=9900004;function cV(t){return Array.isArray(t)?"%5B"+t.map(cV).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function U$e([t,e]){return`${t}=${cV(e)}`}function M$e(t){const e=Object.entries(t).map(U$e).join("&");return btoa(e)}function B$e(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${M$e(e)}'`),`${n}\``}}var md=class extends Error{cause=this.cause;context;constructor(...[e,n]){let r,i;n&&Object.entries(Object.getOwnPropertyDescriptors(n)).forEach(([a,c])=>{a==="cause"?i={cause:c.value}:(r===void 0&&(r={__code:e}),Object.defineProperty(r,a,c))});const s=B$e(e,r);super(s,i),this.context=Object.freeze(r===void 0?{__code:e}:r),this.name="SolanaError"}};function lV(...t){"captureStackTrace"in Error&&typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(...t)}function uV({errorCodeBaseOffset:t,getErrorContext:e,orderedErrorNames:n,rpcEnumError:r},i){let s,a;typeof r=="string"?s=r:(s=Object.keys(r)[0],a=r[s]);const c=n.indexOf(s),u=t+c,d=e(u,s,a),h=new md(u,d);return lV(h,i),h}var L$e=["GenericError","InvalidArgument","InvalidInstructionData","InvalidAccountData","AccountDataTooSmall","InsufficientFunds","IncorrectProgramId","MissingRequiredSignature","AccountAlreadyInitialized","UninitializedAccount","UnbalancedInstruction","ModifiedProgramId","ExternalAccountLamportSpend","ExternalAccountDataModified","ReadonlyLamportChange","ReadonlyDataModified","DuplicateAccountIndex","ExecutableModified","RentEpochModified","NotEnoughAccountKeys","AccountDataSizeChanged","AccountNotExecutable","AccountBorrowFailed","AccountBorrowOutstanding","DuplicateAccountOutOfSync","Custom","InvalidError","ExecutableDataModified","ExecutableLamportChange","ExecutableAccountNotRentExempt","UnsupportedProgramId","CallDepth","MissingAccount","ReentrancyNotAllowed","MaxSeedLengthExceeded","InvalidSeeds","InvalidRealloc","ComputationalBudgetExceeded","PrivilegeEscalation","ProgramEnvironmentSetupFailure","ProgramFailedToComplete","ProgramFailedToCompile","Immutable","IncorrectAuthority","BorshIoError","AccountNotRentExempt","InvalidAccountOwner","ArithmeticOverflow","UnsupportedSysvar","IllegalOwner","MaxAccountsDataAllocationsExceeded","MaxAccountsExceeded","MaxInstructionTraceLengthExceeded","BuiltinProgramsMustConsumeComputeUnits"];function dV(t,e){const n=Number(t);return uV({errorCodeBaseOffset:4615001,getErrorContext(r,i,s){return r===I$e?{errorName:i,index:n,...s!==void 0?{instructionErrorContext:s}:null}:r===C$e?{code:Number(s),index:n}:{index:n}},orderedErrorNames:L$e,rpcEnumError:e},dV)}var j$e=["AccountInUse","AccountLoadedTwice","AccountNotFound","ProgramAccountNotFound","InsufficientFundsForFee","InvalidAccountForFee","AlreadyProcessed","BlockhashNotFound","CallChainTooDeep","MissingSignatureForFee","InvalidAccountIndex","SignatureFailure","InvalidProgramForExecution","SanitizeFailure","ClusterMaintenance","AccountBorrowOutstanding","WouldExceedMaxBlockCostLimit","UnsupportedVersion","InvalidWritableAccount","WouldExceedMaxAccountCostLimit","WouldExceedAccountDataBlockLimit","TooManyAccountLocks","AddressLookupTableNotFound","InvalidAddressLookupTableOwner","InvalidAddressLookupTableData","InvalidAddressLookupTableIndex","InvalidRentPayingAccount","WouldExceedMaxVoteCostLimit","WouldExceedAccountDataTotalLimit","DuplicateInstruction","InsufficientFundsForRent","MaxLoadedAccountsDataSizeExceeded","InvalidLoadedAccountsDataSizeLimit","ResanitizationNeeded","ProgramExecutionTemporarilyRestricted","UnbalancedTransaction"];function fV(t){return typeof t=="object"&&"InstructionError"in t?dV(...t.InstructionError):uV({errorCodeBaseOffset:7050001,getErrorContext(e,n,r){if(e===O$e)return{errorName:n,...r!==void 0?{transactionErrorContext:r}:null};if(e===k$e)return{index:Number(r)};if(e===R$e||e===N$e)return{accountIndex:Number(r.account_index)}},orderedErrorNames:j$e,rpcEnumError:t},fV)}function hV(t){let e;if(z$e(t)){const{code:n,data:r,message:i}=t,s=Number(n);if(s===iU){const{err:a,...c}=r,u=a?{cause:fV(a)}:null;e=new md(iU,{...c,...u})}else{let a;switch(s){case p$e:case m$e:case g$e:case y$e:case h$e:case v$e:case T$e:case x$e:case w$e:case _$e:case E$e:case S$e:case A$e:case b$e:a={__serverMessage:i};break;default:typeof r=="object"&&!Array.isArray(r)&&(a=r)}e=new md(s,a)}}else{const n=typeof t=="object"&&t!==null&&"message"in t&&typeof t.message=="string"?t.message:"Malformed JSON-RPC error with no message attribute";e=new md(f$e,{error:t,message:n})}return lV(e,hV),e}function z$e(t){return typeof t=="object"&&t!==null&&"code"in t&&"message"in t&&(typeof t.code=="number"||typeof t.code=="bigint")&&typeof t.message=="string"}var F$e=99e5,q$e=9900001;function pV(t){return Array.isArray(t)?"%5B"+t.map(pV).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function W$e([t,e]){return`${t}=${pV(e)}`}function H$e(t){const e=Object.entries(t).map(W$e).join("&");return btoa(e)}function V$e(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${H$e(e)}'`),`${n}\``}}var sU=class extends Error{cause=this.cause;context;constructor(...[e,n]){let r,i;n&&Object.entries(Object.getOwnPropertyDescriptors(n)).forEach(([a,c])=>{a==="cause"?i={cause:c.value}:(r===void 0&&(r={__code:e}),Object.defineProperty(r,a,c))});const s=V$e(e,r);super(s,i),this.context=Object.freeze(r===void 0?{__code:e}:r),this.name="SolanaError"}},G$e=globalThis.AbortController,K$e=globalThis.EventTarget,aU;function oU(){return Symbol(void 0)}var mx=Symbol();function Y$e({abortSignal:t,dataChannelName:e,dataPublisher:n,errorChannelName:r}){const i=new Map;function s(d){for(const[h,p]of i.entries())p.__hasPolled?(i.delete(h),p.onError(d)):p.publishQueue.push({__type:1,err:d})}const a=new G$e;t.addEventListener("abort",()=>{a.abort(),s(aU||=oU())});const c={signal:a.signal};let u=mx;return n.on(r,d=>{u===mx&&(u=d,a.abort(),s(d))},c),n.on(e,d=>{i.forEach((h,p)=>{if(h.__hasPolled){const{onData:y}=h;i.set(p,{__hasPolled:!1,publishQueue:[]}),y(d)}else h.publishQueue.push({__type:0,data:d})})},c),{async*[Symbol.asyncIterator](){if(t.aborted)return;if(u!==mx)throw u;const d=Symbol();i.set(d,{__hasPolled:!1,publishQueue:[]});try{for(;;){const h=i.get(d);if(!h)throw new sU(F$e);if(h.__hasPolled)throw new sU(q$e);const p=h.publishQueue;try{if(p.length){h.publishQueue=[];for(const y of p)if(y.__type===0)yield y.data;else throw y.err}else yield await new Promise((y,g)=>{i.set(d,{__hasPolled:!0,onData:y,onError:g})})}catch(y){if(y===(aU||=oU()))return;throw y}}}finally{i.delete(d)}}}}function mV(t){return{on(e,n,r){function i(s){if(s instanceof CustomEvent){const a=s.detail;n(a)}else n()}return t.addEventListener(e,i,r),()=>{t.removeEventListener(e,i)}}}}function Z$e(t,e,n){let r;const i=new K$e,s=mV(i);return{...s,on(a,c,u){r||(r={dispose:t.on(e,g=>{const b=n(g);if(!b)return;const[v,E]=b;i.dispatchEvent(new CustomEvent(v,{detail:E}))}),numSubscribers:0}),r.numSubscribers++;const d=s.on(a,c,u);let h=!0;function p(){h&&(h=!1,u?.signal.removeEventListener("abort",p),r.numSubscribers--,r.numSubscribers===0&&(r.dispose(),r=void 0),d())}return u?.signal.addEventListener("abort",p),p}}}function X$e(t){return new Proxy(t.api,{defineProperty(){return!1},deleteProperty(){return!1},get(e,n,r){if(n!=="then")return function(...i){const s=n.toString(),a=Reflect.get(e,s,r);if(!a)throw new md($$e,{notificationName:s});const c=a(...i);return J$e(t.transport,c)}}})}function J$e(t,e){return{async subscribe({abortSignal:n}){const r=await t({signal:n,...e});return Y$e({abortSignal:n,dataChannelName:"notification",dataPublisher:r,errorChannelName:"error"})}}}function Q$e(t){return new Proxy({},{defineProperty(){return!1},deleteProperty(){return!1},get(...e){const[n,r]=e,i=r.toString();return function(...s){const a={methodName:i,params:s},c=t.requestTransformer?t.requestTransformer(a):a;return{execute(u){return t.planExecutor({...u,request:c})},request:c}}}})}function ePe(t,e){return Object.freeze({...t,on(n,r,i){return n!=="message"?t.on(n,r,i):t.on("message",s=>r(e(s)),i)}})}function tPe(t,e){return Object.freeze({...t,send:n=>t.send(e(n))})}var nPe=globalThis.AbortController,oT=new WeakMap;function rPe(t,e){return yV(-1,t,e)}function iPe(t,e){yV(1,t,e)}function sPe(t){let e=oT.get(t);return e||oT.set(t,e={}),e}function yV(t,e,n){if(n===void 0)return;const r=sPe(e);!r[n]&&t>0&&(r[n]=0);const i=t+r[n];return i<=0?delete r[n]:r[n]=i,i}var cU=new WeakMap;function aPe(t,e,n){let r=cU.get(t);r||cU.set(t,r=new WeakMap);const i=n??t;let s=r.get(i);return s||r.set(i,s=Z$e(t,"message",a=>{const c=a;if(!("method"in c))return;const u=n?n(c.params.result,e):c.params.result;return[`notification:${c.params.subscription}`,u]})),s}async function oPe({channel:t,responseTransformer:e,signal:n,subscribeRequest:r,unsubscribeMethodName:i}){let s;t.on("error",()=>{s=void 0,oT.delete(t)},{signal:n});const a=new Promise((p,y)=>{function g(){if(rPe(t,s)===0){const b=sT({methodName:i,params:[s]});s=void 0,t.send(b).catch(()=>{})}y(this.reason)}n.aborted?g.call(n):n.addEventListener("abort",g)}),c=sT(r);await t.send(c);const u=new Promise((p,y)=>{const g=new nPe;n.addEventListener("abort",g.abort.bind(g));const b={signal:g.signal};t.on("error",v=>{g.abort(),y(v)},b),t.on("message",v=>{v&&typeof v=="object"&&"id"in v&&v.id===c.id&&(g.abort(),"error"in v?y(hV(v.error)):p(v.result))},b)});if(s=await D4e([a,u]),s==null)throw new md(P$e);iPe(t,s);const d=aPe(t,r,e),h=`notification:${s}`;return{on(p,y,g){switch(p){case"notification":return d.on(h,y,g);case"error":return t.on("error",y,g);default:throw new md(D$e,{channelName:p,supportedChannelNames:["notification","error"]})}}}}function cPe(t){const e=tV(t),n=LNe({allowedNumericKeyPaths:uPe()});return Q$e({planExecutor({request:r,...i}){return oPe({...i,responseTransformer:n,subscribeRequest:{...r,methodName:r.methodName.replace(/Notifications$/,"Subscribe")},unsubscribeMethodName:r.methodName.replace(/Notifications$/,"Unsubscribe")})},requestTransformer:e})}function lPe(t){return cPe(t)}var yx;function uPe(){return yx||(yx={accountNotifications:mh.map(t=>["value",...t]),blockNotifications:[["value","block","transactions",De,"meta","preTokenBalances",De,"accountIndex"],["value","block","transactions",De,"meta","preTokenBalances",De,"uiTokenAmount","decimals"],["value","block","transactions",De,"meta","postTokenBalances",De,"accountIndex"],["value","block","transactions",De,"meta","postTokenBalances",De,"uiTokenAmount","decimals"],["value","block","transactions",De,"meta","rewards",De,"commission"],["value","block","transactions",De,"meta","innerInstructions",De,"index"],["value","block","transactions",De,"meta","innerInstructions",De,"instructions",De,"programIdIndex"],["value","block","transactions",De,"meta","innerInstructions",De,"instructions",De,"accounts",De],["value","block","transactions",De,"transaction","message","addressTableLookups",De,"writableIndexes",De],["value","block","transactions",De,"transaction","message","addressTableLookups",De,"readonlyIndexes",De],["value","block","transactions",De,"transaction","message","instructions",De,"programIdIndex"],["value","block","transactions",De,"transaction","message","instructions",De,"accounts",De],["value","block","transactions",De,"transaction","message","header","numReadonlySignedAccounts"],["value","block","transactions",De,"transaction","message","header","numReadonlyUnsignedAccounts"],["value","block","transactions",De,"transaction","message","header","numRequiredSignatures"],["value","block","rewards",De,"commission"]],programNotifications:mh.flatMap(t=>[["value",De,"account",...t],[De,"account",...t]])}),yx}var dPe=81e5,fPe=8190002,cT=8190003,hPe=8190004;function gV(t){return Array.isArray(t)?"%5B"+t.map(gV).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function pPe([t,e]){return`${t}=${gV(e)}`}function mPe(t){const e=Object.entries(t).map(pPe).join("&");return btoa(e)}function yPe(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${mPe(e)}'`),`${n}\``}}function gPe(t,e){return t instanceof Error&&t.name==="SolanaError"?t.context.__code===e:!1}var ry=class extends Error{cause=this.cause;context;constructor(...[t,e]){let n,r;e&&Object.entries(Object.getOwnPropertyDescriptors(e)).forEach(([s,a])=>{s==="cause"?r={cause:a.value}:(n===void 0&&(n={__code:t}),Object.defineProperty(n,s,a))});const i=yPe(t,n);super(i,r),this.context=Object.freeze(n===void 0?{__code:t}:n),this.name="SolanaError"}};function bPe(...t){"captureStackTrace"in Error&&typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(...t)}var wPe=globalThis.EventTarget,jm=globalThis.WebSocket,lU=1e3;function vPe({sendBufferHighWatermark:t,signal:e,url:n}){if(e.aborted)return Promise.reject(e.reason);let r,i=!1;const s=new Set;function a(){s.forEach(O=>{O()}),s.clear()}function c(){a(),i||v(e.reason),b.readyState!==jm.CLOSED&&b.readyState!==jm.CLOSING&&b.close(lU)}function u(O){a(),r?.onCancel(),e.removeEventListener("abort",c),b.removeEventListener("close",u),b.removeEventListener("error",d),b.removeEventListener("message",h),b.removeEventListener("open",g),!e.aborted&&!(O.wasClean&&O.code===lU)&&p.dispatchEvent(new CustomEvent("error",{detail:new ry(cT,{cause:O})}))}function d(O){if(!e.aborted&&!i){const k=new ry(hPe,{errorEvent:O});v(k),p.dispatchEvent(new CustomEvent("error",{detail:k}))}}function h(O){e.aborted||p.dispatchEvent(new CustomEvent("message",{detail:O.data}))}const p=new wPe,y=mV(p);function g(){i=!0,E({...y,async send(O){if(b.readyState!==jm.OPEN)throw new ry(cT);if(!r&&b.bufferedAmount>t){let k;const A=new Promise((S,C)=>{const I=setInterval(()=>{(b.readyState!==jm.OPEN||!(b.bufferedAmount>t))&&(clearInterval(I),r=void 0,S())},16);k=()=>{r=void 0,clearInterval(I),C(new ry(fPe))}});r={onCancel:k,promise:A}}if(r){if(ArrayBuffer.isView(O)&&!(O instanceof DataView)){const k=O.constructor;O=new k(O)}await r.promise}b.send(O)}})}const b=new jm(n);e.addEventListener("abort",c),b.addEventListener("close",u),b.addEventListener("error",d),b.addEventListener("message",h),b.addEventListener("open",g);let v,E;return new Promise((O,k)=>{v=k,E=O})}function bV(t,e,n){let r="";if(typeof e[0]=="number"){const a=e[0]+1,c=a%10,u=a%100;c==1&&u!=11?r=a+"st":c==2&&u!=12?r=a+"nd":c==3&&u!=13?r=a+"rd":r=a+"th"}else r=`\`${e[0].toString()}\``;const i=e.length>1?e.slice(1).map(a=>typeof a=="number"?`[${a}]`:a).join("."):void 0,s=new ry(dPe,{argumentLabel:r,keyPath:e,methodName:t,optionalPathLabel:i?` at path \`${i}\``:"",value:n,...i!==void 0?{path:i}:void 0});return bPe(s,bV),s}var _Pe={defaultCommitment:"confirmed",onIntegerOverflow(t,e,n){throw bV(t.methodName,e,n)}},XI=globalThis.AbortController,EPe={jsonrpc:"2.0",method:"ping"};function SPe({abortSignal:t,channel:e,intervalMs:n}){let r;function i(){e.send(EPe).catch(c=>{gPe(c,cT)&&a.abort()})}function s(){clearInterval(r),r=setInterval(i,n)}const a=new XI;return a.signal.addEventListener("abort",()=>{clearInterval(r)}),t.addEventListener("abort",()=>{a.abort()}),e.on("error",()=>{a.abort()},{signal:a.signal}),e.on("message",s,{signal:a.signal}),globalThis.navigator.onLine&&s(),globalThis.addEventListener("offline",function(){clearInterval(r)},{signal:a.signal}),globalThis.addEventListener("online",function(){i(),s()},{signal:a.signal}),{...e,send(...c){return a.signal.aborted||s(),e.send(...c)}}}function APe(){return{entries:[],freeChannelIndex:-1}}function xPe(t,{maxSubscriptionsPerChannel:e,minChannels:n}){const r=APe();function i(){if(r.entries.length<n){r.freeChannelIndex=-1;return}let s;for(let a=0;a<r.entries.length;a++){const c=(r.freeChannelIndex+a+2)%r.entries.length,u=r.entries[c];u.subscriptionCount<e&&(!s||s.subscriptionCount>=u.subscriptionCount)&&(s={poolIndex:c,subscriptionCount:u.subscriptionCount})}r.freeChannelIndex=s?.poolIndex??-1}return function({abortSignal:a}){let c;function u(){const d=r.entries.findIndex(h=>h===c);r.entries.splice(d,1),c.dispose(),i()}if(r.freeChannelIndex===-1){const d=new XI,h=t({abortSignal:d.signal});h.then(p=>{p.on("error",u,{signal:d.signal})}).catch(u),c={channel:h,dispose(){d.abort()},subscriptionCount:0},r.entries.push(c)}else c=r.entries[r.freeChannelIndex];return c.subscriptionCount++,a.addEventListener("abort",function(){c.subscriptionCount--,c.subscriptionCount===0?u():r.freeChannelIndex!==-1&&(r.freeChannelIndex--,i())}),i(),c.channel}}function TPe(t){return Xd(t,e=>ePe(e,WH),e=>tPe(e,HH))}function IPe(t){return CPe({...t,jsonSerializer:TPe})}function CPe(t){if(/^wss?:/i.test(t.url)===!1){const i=t.url.match(/^([^:]+):/);throw new DOMException(i?`Failed to construct 'WebSocket': The URL's scheme must be either 'ws' or 'wss'. '${i[1]}:' is not allowed.`:`Failed to construct 'WebSocket': The URL '${t.url}' is invalid.`)}const{intervalMs:e,...n}=t;return xPe((({abortSignal:i})=>vPe({...n,sendBufferHighWatermark:t.sendBufferHighWatermark??131072,signal:i}).then(t.jsonSerializer).then(s=>SPe({abortSignal:i,channel:s,intervalMs:e??5e3}))),{maxSubscriptionsPerChannel:t.maxSubscriptionsPerChannel??100,minChannels:t.minChannels??1})}function OPe(t){const e=new Map;return function(r){const{request:i,signal:s}=r,a=sV([i.methodName,i.params]);let c=e.get(a);if(!c){const u=new XI,d=t({...r,signal:u.signal});d.then(h=>{h.on("error",()=>{e.delete(a),u.abort()},{signal:u.signal})}).catch(()=>{}),e.set(a,c={abortController:u,dataPublisherPromise:d,numSubscribers:0})}return c.numSubscribers++,s.addEventListener("abort",()=>{c.numSubscribers--,c.numSubscribers===0&&queueMicrotask(()=>{c.numSubscribers===0&&(e.delete(a),c.abortController.abort())})},{signal:c.abortController.signal}),c.dataPublisherPromise}}function kPe({createChannel:t}){return Xd(RPe(t),e=>OPe(e))}function RPe(t){return(async({execute:e,signal:n})=>{const r=await t({abortSignal:n});return await e({channel:r,signal:n})})}function NPe(t,e){const n=kPe({createChannel:IPe({...e,url:t})});return $Pe(n)}function uU(t,e){return NPe(t,e)}function $Pe(t){return X$e({api:lPe(_Pe),transport:t})}function wV(t){return"modifyAndSignTransactions"in t&&typeof t.modifyAndSignTransactions=="function"}function vV(t){return"signTransactions"in t&&typeof t.signTransactions=="function"}function PPe(t){return"signAndSendTransactions"in t&&typeof t.signAndSendTransactions=="function"}function _V(t){return vV(t)||wV(t)||PPe(t)}function d7e(t,e){Object.freeze(t);const n={...e,feePayer:t};return Object.freeze(n),n}async function EV(t){const e=await wH(t.publicKey);return Object.freeze({address:e,keyPair:t,signMessages:r=>Promise.all(r.map(async i=>Object.freeze({[e]:await ZI(t.privateKey,i.content)}))),signTransactions:r=>Promise.all(r.map(async i=>{const s=await N4e([t],i);return Object.freeze({[e]:s.signatures[e]})}))})}async function DPe(t,e){return await EV(await x4e(t,e))}async function UPe(t,e){return await EV(await T4e(t,e))}var MPe="ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL",SV="TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA";function BPe(t){if(!t)throw new Error("Expected a Address.");return typeof t=="object"&&"address"in t?t.address:Array.isArray(t)?t[0]:t}function AV(t,e){return n=>{if(!n.value)return Object.freeze({address:t,role:gr.READONLY});const r=n.isWritable?gr.WRITABLE:gr.READONLY;return Object.freeze({address:BPe(n.value),role:dU(n.value)?xke(r):r,...dU(n.value)?{signer:n.value}:{}})}}function dU(t){return!!t&&typeof t=="object"&&"address"in t&&_V(t)}async function f7e(t,e={}){const{programAddress:n="ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"}=e;return await F8e({programAddress:n,seeds:[Oh().encode(t.owner),Oh().encode(t.tokenProgram),Oh().encode(t.mint)]})}var LPe=1;function jPe(){return EH(yu([["discriminator",xH()]]),t=>({...t,discriminator:LPe}))}function h7e(t,e){const n=MPe,i={payer:{value:t.payer??null,isWritable:!0},ata:{value:t.ata??null,isWritable:!0},owner:{value:t.owner??null,isWritable:!1},mint:{value:t.mint??null,isWritable:!1},systemProgram:{value:t.systemProgram??null,isWritable:!1},tokenProgram:{value:t.tokenProgram??null,isWritable:!1}};i.tokenProgram.value||(i.tokenProgram.value="TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),i.systemProgram.value||(i.systemProgram.value="11111111111111111111111111111111");const s=AV(n);return Object.freeze({accounts:[s(i.payer),s(i.ata),s(i.owner),s(i.mint),s(i.systemProgram),s(i.tokenProgram)],data:jPe().encode({}),programAddress:n})}var zPe=3;function FPe(){return EH(yu([["discriminator",xH()],["amount",Eke()]]),t=>({...t,discriminator:zPe}))}function p7e(t,e){const n=SV,i={source:{value:t.source??null,isWritable:!0},destination:{value:t.destination??null,isWritable:!0},authority:{value:t.authority??null,isWritable:!1}},s={...t},a=(s.multiSigners??[]).map(u=>({address:u.address,role:gr.READONLY_SIGNER,signer:u})),c=AV(n);return Object.freeze({accounts:[c(i.source),c(i.destination),c(i.authority),...a],data:FPe().encode(s),programAddress:n})}var qPe="TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb";LL([In().transform(t=>t.replace(/[^0-9.-]+/g,"")),na()]).pipe(lse.number().min(1e-4).max(999999999));var x_=ko(["abstract","abstract-testnet","base-sepolia","base","avalanche-fuji","avalanche","iotex","solana-devnet","solana","sei","sei-testnet","polygon","polygon-amoy","peaq","story","educhain","skale-base-sepolia"]),WPe=["abstract","abstract-testnet","base-sepolia","base","avalanche-fuji","avalanche","iotex","sei","sei-testnet","polygon","polygon-amoy","peaq","story","educhain","skale-base-sepolia"],HPe=new Map([["abstract",2741],["abstract-testnet",11124],["base-sepolia",84532],["base",8453],["avalanche-fuji",43113],["avalanche",43114],["iotex",4689],["sei",1329],["sei-testnet",1328],["polygon",137],["polygon-amoy",80002],["peaq",3338],["story",1514],["educhain",41923],["skale-base-sepolia",324705682]]),xV=["solana-devnet","solana"];Object.fromEntries([...WPe,...xV].map(t=>[HPe.get(t),t]));var VPe={id:324705682,name:"SKALE Base Sepolia",nativeCurrency:{name:"Credits",symbol:"CREDITS",decimals:18},rpcUrls:{default:{http:["https://base-sepolia-testnet.skalenodes.com/v1/jubilant-horrible-ancha"]}},blockExplorers:{default:{name:"Blockscout",url:"https://base-sepolia-testnet-explorer.skalenodes.com",apiUrl:"https://base-sepolia-testnet-explorer.skalenodes.com/api"}}};function JI(t){const e=eC(t);return h3({chain:e,transport:O1()}).extend(Zw)}function GPe(){return JI("base-sepolia")}function KPe(){return JI("avalanche-fuji")}function QI(t,e){const n=eC(t),r=aie({chain:n,transport:O1(),account:IOe(e)});return TV(n)?r.extend(Zw).extend($Oe()):r.extend(Zw)}function YPe(t){return QI("base-sepolia",t)}function ZPe(t){return QI("avalanche-fuji",t)}function XPe(t){return typeof t=="object"&&t!==null&&"chain"in t&&"transport"in t}function JPe(t){const e=t;return typeof t=="object"&&t!==null&&typeof e.address=="string"&&typeof e.type=="string"&&typeof e.sign=="function"&&typeof e.signMessage=="function"&&typeof e.signTypedData=="function"&&typeof e.signTransaction=="function"}function eC(t){if(!t)throw new Error("NETWORK environment variable is not set");switch(t){case"abstract":return nOe;case"abstract-testnet":return rOe;case"base":return sH;case"base-sepolia":return aH;case"avalanche":return dOe;case"avalanche-fuji":return fOe;case"sei":return wOe;case"sei-testnet":return vOe;case"polygon":return gOe;case"polygon-amoy":return bOe;case"peaq":return yOe;case"story":return _Oe;case"educhain":return hOe;case"iotex":return pOe;case"iotex-testnet":return mOe;case"skale-base-sepolia":return VPe;default:throw new Error(`Unsupported network: ${t}`)}}var QPe=new Set([2741,11124]);function TV(t){return QPe.has(t.id)}var eDe="https://api.devnet.solana.com",tDe="https://api.mainnet-beta.solana.com",nDe="wss://api.devnet.solana.com",rDe="wss://api.mainnet-beta.solana.com";function IV(t){return oV(t||eDe)}function CV(t){return oV(t||tDe)}function OV(t,e){if(t==="solana-devnet")return IV(e);if(t==="solana")return CV(e);throw new Error("Invalid network")}function iDe(t,e){if(t==="solana-devnet")return uU(e?fU(e):nDe);if(t==="solana")return uU(e?fU(e):rDe);throw new Error("Invalid network")}function fU(t){return t.startsWith("http")?t.replace("http","ws"):t}function sDe(t){if(!xV.find(e=>e===t))throw new Error(`Unsupported SVM network: ${t}`);return OV(t)}async function aDe(t){const e=Efe.decode(t);if(e.length===64)return await DPe(e);if(e.length===32)return await UPe(e);throw new Error(`Unexpected key length: ${e.length}. Expected 32 or 64 bytes.`)}function oDe(t){return typeof t=="object"&&t!==null&&_V(t)}var cDe={};jI(cDe,{authorizationPrimaryType:()=>uDe,authorizationTypes:()=>lDe,config:()=>VCe,createClientAvalancheFuji:()=>KPe,createClientSepolia:()=>GPe,createConnectedClient:()=>JI,createSigner:()=>QI,createSignerAvalancheFuji:()=>ZPe,createSignerSepolia:()=>YPe,getChainFromNetwork:()=>eC,isAccount:()=>JPe,isSignerWallet:()=>XPe,isZkStackChain:()=>TV,usdcABI:()=>GCe});var lDe={TransferWithAuthorization:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"value",type:"uint256"},{name:"validAfter",type:"uint256"},{name:"validBefore",type:"uint256"},{name:"nonce",type:"bytes32"}]},uDe="TransferWithAuthorization",dDe={};jI(dDe,{SvmAddressRegex:()=>tC});var tC=/^[1-9A-HJ-NP-Za-km-z]{32,44}$/,fDe=/^[A-Za-z0-9+/]*={0,2}$/,hDe=18,lT=/^0x[0-9a-fA-F]{40}$/,nC=/^0x[a-fA-F0-9]{40}|[A-Za-z0-9][A-Za-z0-9-]{0,34}[A-Za-z0-9]$/,pDe=/^0x[0-9a-fA-F]{64}$/,mDe=/^0x[0-9a-fA-F]+$/,rC=["exact"],l0=[1],iC=["insufficient_funds","invalid_exact_evm_payload_authorization_valid_after","invalid_exact_evm_payload_authorization_valid_before","invalid_exact_evm_payload_authorization_value","invalid_exact_evm_payload_signature","invalid_exact_evm_payload_undeployed_smart_wallet","invalid_exact_evm_payload_recipient_mismatch","invalid_exact_svm_payload_transaction","invalid_exact_svm_payload_transaction_amount_mismatch","invalid_exact_svm_payload_transaction_create_ata_instruction","invalid_exact_svm_payload_transaction_create_ata_instruction_incorrect_payee","invalid_exact_svm_payload_transaction_create_ata_instruction_incorrect_asset","invalid_exact_svm_payload_transaction_instructions","invalid_exact_svm_payload_transaction_instructions_length","invalid_exact_svm_payload_transaction_instructions_compute_limit_instruction","invalid_exact_svm_payload_transaction_instructions_compute_price_instruction","invalid_exact_svm_payload_transaction_instructions_compute_price_instruction_too_high","invalid_exact_svm_payload_transaction_instruction_not_spl_token_transfer_checked","invalid_exact_svm_payload_transaction_instruction_not_token_2022_transfer_checked","invalid_exact_svm_payload_transaction_fee_payer_included_in_instruction_accounts","invalid_exact_svm_payload_transaction_fee_payer_transferring_funds","invalid_exact_svm_payload_transaction_not_a_transfer_instruction","invalid_exact_svm_payload_transaction_receiver_ata_not_found","invalid_exact_svm_payload_transaction_sender_ata_not_found","invalid_exact_svm_payload_transaction_simulation_failed","invalid_exact_svm_payload_transaction_transfer_to_incorrect_ata","invalid_network","invalid_payload","invalid_payment_requirements","invalid_scheme","invalid_payment","payment_expired","unsupported_scheme","invalid_x402_version","invalid_transaction_state","invalid_x402_version","settle_exact_svm_block_height_exceeded","settle_exact_svm_transaction_confirmation_timed_out","unsupported_scheme","unexpected_settle_error","unexpected_verify_error"],Lw=t=>Number.isInteger(Number(t))&&Number(t)>=0,yDe=t=>e=>e.length<=t,sC=In().regex(lT).or(In().regex(tC)),gDe=In().regex(nC).or(In().regex(tC)),u0=qr({scheme:ko(rC),network:x_,maxAmountRequired:In().refine(Lw),resource:In().url(),description:In(),mimeType:In(),outputSchema:fd(jh()).optional(),payTo:sC,maxTimeoutSeconds:na().int(),asset:gDe,extra:fd(jh()).optional()}),bDe=qr({from:In().regex(lT),to:In().regex(lT),value:In().refine(Lw).refine(yDe(hDe)),validAfter:In().refine(Lw),validBefore:In().refine(Lw),nonce:In().regex(pDe)}),wDe=qr({signature:In().regex(mDe),authorization:bDe}),vDe=qr({transaction:In().regex(fDe)}),kV=qr({x402Version:na().refine(t=>l0.includes(t)),scheme:ko(rC),network:x_,payload:LL([wDe,vDe])});qr({x402Version:na().refine(t=>l0.includes(t)),error:ko(iC).optional(),accepts:k1(u0).optional(),payer:In().regex(nC).optional()});var _De=ko(["GET","POST","PUT","DELETE","PATCH","OPTIONS","HEAD"]),EDe=qr({type:cse("http"),method:_De,queryParams:fd(In(),In()).optional(),bodyType:ko(["json","form-data","multipart-form-data","text","binary"]).optional(),bodyFields:fd(In(),jh()).optional(),headerFields:fd(In(),jh()).optional()});ose("type",[EDe]);var SDe=qr({resource:In(),type:ko(["http"]),x402Version:na().refine(t=>l0.includes(t)),accepts:k1(u0),lastUpdated:ase(),metadata:fd(jh()).optional()});qr({paymentPayload:kV,paymentRequirements:u0});qr({paymentPayload:kV,paymentRequirements:u0});qr({isValid:BL(),invalidReason:ko(iC).optional(),payer:sC.optional()});qr({success:BL(),errorReason:ko(iC).optional(),payer:sC.optional(),transaction:In().regex(nC),network:x_});qr({type:In().optional(),limit:na().optional(),offset:na().optional()});qr({x402Version:na().refine(t=>l0.includes(t)),items:k1(SDe),pagination:qr({limit:na(),offset:na(),total:na()})});var ADe=qr({x402Version:na().refine(t=>l0.includes(t)),scheme:ko(rC),network:x_,extra:fd(jh()).optional()});qr({kinds:k1(ADe)});var xDe={};jI(xDe,{createDevnetRpcClient:()=>IV,createMainnetRpcClient:()=>CV,createSignerFromBase58:()=>aDe,createSvmConnectedClient:()=>sDe,decodeTransactionFromPayload:()=>TDe,getRpcClient:()=>OV,getRpcSubscriptions:()=>iDe,getTokenPayerFromTransaction:()=>IDe,isSignerWallet:()=>oDe,signAndSimulateTransaction:()=>CDe,signTransactionWithSigner:()=>RV});function TDe(t){try{const n=WOe().encode(t.transaction);return k4e().decode(n)}catch(e){throw console.error("error",e),new Error("invalid_exact_svm_payload_transaction")}}function IDe(t){const e=yRe().decode(t.messageBytes),n=e.staticAccounts??[],r=e.instructions??[];for(const i of r){const s=i.programAddressIndex,a=n[s].toString();if(a===SV.toString()||a===qPe.toString()){const c=i.accountIndices??[];if(c.length>=4){const u=c[3],d=n[u].toString();if(d)return d}}}return""}async function CDe(t,e,n){const r=await RV(t,e),i=$4e(r),s={sigVerify:!0,replaceRecentBlockhash:!1,commitment:"confirmed",encoding:"base64",accounts:void 0,innerInstructions:void 0,minContextSlot:void 0};return await n.simulateTransaction(i,s).send()}async function RV(t,e){if(wV(t)){const[n]=await t.modifyAndSignTransactions([e]);if(!n)throw new Error("transaction_signer_failed_to_return_transaction");return n}if(vV(t)){const[n]=await t.signTransactions([e]);if(!n)throw new Error("transaction_signer_failed_to_return_signatures");return ODe(e,n)}throw new Error("transaction_signer_must_support_offline_signing")}function ODe(t,e){return Object.freeze({...t,signatures:Object.freeze({...t.signatures,...e})})}qr({paymentHeader:In(),paymentRequirements:u0});class Xl{static parse(e){try{return new Xl(e)}catch{return null}}static throwIfNotWellFormedJwt(e){return xx(e),e}get subject(){return this._decoded.sub}get expiration(){return this._decoded.exp}get issuer(){return this._decoded.iss}get audience(){return this._decoded.aud}isExpired(e=0){return Date.now()>=1e3*(this.expiration-e)}constructor(e){this.value=e,this._decoded=xx(e)}}class aC extends Xl{static parse(e){try{return new aC(e)}catch{return null}}get appId(){return this._decoded.aid?this._decoded.aid:this.audience}}const m7e=({style:t,...e})=>pe.jsxs("svg",{viewBox:"0 0 1024 1024",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"28px",width:"28px",...t},...e,children:[pe.jsx("rect",{width:"1024",height:"1024",fill:"#0052FF",rx:100,ry:100}),pe.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z",fill:"white"})]}),kDe="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PScwIDAgMTAyNCAxMDI0JyBmaWxsPSdub25lJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHN0eWxlPSdoZWlnaHQ6MjhweDt3aWR0aDoyOHB4Jz48cmVjdCB3aWR0aD0nMTAyNCcgaGVpZ2h0PScxMDI0JyBmaWxsPScjMDA1MkZGJyByeD0nMTAwJyByeT0nMTAwJz48L3JlY3Q+PHBhdGggZmlsbC1ydWxlPSdldmVub2RkJyBjbGlwLXJ1bGU9J2V2ZW5vZGQnIGQ9J00xNTIgNTEyQzE1MiA3MTAuODIzIDMxMy4xNzcgODcyIDUxMiA4NzJDNzEwLjgyMyA4NzIgODcyIDcxMC44MjMgODcyIDUxMkM4NzIgMzEzLjE3NyA3MTAuODIzIDE1MiA1MTIgMTUyQzMxMy4xNzcgMTUyIDE1MiAzMTMuMTc3IDE1MiA1MTJaTTQyMCAzOTZDNDA2Ljc0NSAzOTYgMzk2IDQwNi43NDUgMzk2IDQyMFY2MDRDMzk2IDYxNy4yNTUgNDA2Ljc0NSA2MjggNDIwIDYyOEg2MDRDNjE3LjI1NSA2MjggNjI4IDYxNy4yNTUgNjI4IDYwNFY0MjBDNjI4IDQwNi43NDUgNjE3LjI1NSAzOTYgNjA0IDM5Nkg0MjBaJyBmaWxsPSd3aGl0ZSc+PC9wYXRoPjwvc3ZnPg==",RDe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAALZJREFUaEPtmjEOhDAMBNc/O14GvOzys3CAKK6eAlmaVGl2Zc+kTOU685vkc9/bnD2prZK5/TZY24z9P+g4F5hNh7/GdoG37WlAA5CATwgCxHENYISwQAMQII5rACOEBRqAAHFcAxghLNAABIjjGsAIYYEGIEAc1wBGCAs0AAHiuAYwQligAQgQxzWAEcICDUCAOK4BjBAWaAACxHENYISwQAMQII6fBjr+VHkW3+u+tfyxMpJaDgYzYxb/ALZVAAAAAElFTkSuQmCC";let Qf,zm;class NDe extends qd{async initialize(){await this.importPromise,await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}disconnect(){this.proxyProvider.walletProvider.disconnect(),this.onDisconnect()}get walletBranding(){return{name:this.displayName,icon:RDe,id:"com.coinbase.wallet"}}async promptConnection(){try{await this.importPromise;let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new Mn("Unable to retrieve accounts");this.connected=!0,await this.syncAccounts([e[0]])}catch(e){throw hu(e)}}constructor(e,n,r,i,s){super("base_account",e,n,r),this.connectorType="base_account",this.walletClientType="base_account",this.displayName="Base",this.setBaseAccountSdk=s,this.proxyProvider=new Wd(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.baseAccountConfig={...i,appChainIds:[n.id].concat(e.map((a=>a.id)))},Qf?(this.proxyProvider.setWalletProvider(Qf.getProvider()),this.setBaseAccountSdk(Qf)):this.importPromise=ze(()=>import("./index-Ddj--6Yf.js"),__vite__mapDeps([0,1,2])).then((({createBaseAccountSDK:a})=>{Qf=a(this.baseAccountConfig),this.proxyProvider.setWalletProvider(Qf.getProvider()),this.setBaseAccountSdk(Qf)})).catch(console.error)}}let $De=[1,11155111,137,10,8453,84532,42161,7777777,43114,56];class PDe extends qd{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}disconnect(){this.proxyProvider.walletProvider.disconnect(),this.onDisconnect()}get walletBranding(){return{name:this.displayName,icon:kDe,id:"com.coinbase.wallet"}}async promptConnection(){try{let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new Mn("Unable to retrieve accounts");this.connected=!0,await this.syncAccounts([e[0]])}catch(e){throw hu(e)}}updateConnectionPreference(e){this.coinbaseWalletConfig={...this.coinbaseWalletConfig,preference:{...this.coinbaseWalletConfig.preference,options:e}},this.walletClientType=e==="smartWalletOnly"?"coinbase_smart_wallet":"coinbase_wallet",zm=UN({...this.coinbaseWalletConfig}),this.proxyProvider.setWalletProvider(zm.getProvider())}constructor(e,n,r,i){if(super("coinbase_wallet",e,n,r),this.connectorType="coinbase_wallet",this.displayName="Coinbase Wallet",this.proxyProvider=new Wd(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.coinbaseWalletConfig={...i,appChainIds:[n.id].concat(e.map((s=>s.id)))},this.walletClientType=this.coinbaseWalletConfig.preference?.options==="smartWalletOnly"?"coinbase_smart_wallet":"coinbase_wallet",this.walletClientType==="coinbase_smart_wallet"&&(this.displayName="Coinbase Smart Wallet"),!zm){let s=this.coinbaseWalletConfig.preference?.options!=="eoaOnly"?(this.coinbaseWalletConfig.appChainIds??[]).filter((a=>!$De.includes(a))):[];s.length>0&&!s.every((a=>UZ.has(a)))&&console.info(`The configured chains are not supported by Coinbase Smart Wallet: ${s.join(", ")}`),zm=UN(this.coinbaseWalletConfig)}this.proxyProvider.setWalletProvider(zm.getProvider())}}const DDe=({...t})=>pe.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:pe.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.37126 11.0323C2.37126 12.696 3.90598 13.4421 5.40654 13.4468C8.91753 13.4468 12.8021 11.2897 12.7819 7.67984C12.7673 5.07728 10.3748 2.86167 7.54357 2.88296C4.8495 2.88296 2.21821 4.6411 2.21803 7.03628C2.21803 7.67951 2.58722 8.30178 3.55231 8.37184C2.74763 9.16826 2.37126 10.1225 2.37126 11.0323ZM7.55283 8.68012C8.11562 8.68012 8.57186 8.13217 8.57186 7.45624C8.57186 6.78032 8.11562 6.23237 7.55283 6.23237C6.99003 6.23237 6.53379 6.78032 6.53379 7.45624C6.53379 8.13217 6.99003 8.68012 7.55283 8.68012ZM10.4747 8.68012C11.0375 8.68012 11.4937 8.13217 11.4937 7.45625C11.4937 6.78032 11.0375 6.23237 10.4747 6.23237C9.91186 6.23237 9.45562 6.78032 9.45562 7.45625C9.45562 8.13217 9.91186 8.68012 10.4747 8.68012Z",fill:t.color||"var(--privy-color-foreground-3)"})});class hU extends qd{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return await this.isConnected()?(await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[D6(e?.chainId||"0x1")]}),this.getConnectedWallet()):null}get walletBranding(){return{name:"Privy Wallet",icon:DDe,id:"io.privy.wallet"}}disconnect(){this.connected=!1}async promptConnection(){}constructor({provider:e,chains:n,defaultChain:r,rpcConfig:i,imported:s,walletIndex:a}){super("privy",n,r,i),this.connectorType="embedded",this.proxyProvider=e,this.walletIndex=a,s&&(this.connectorType="embedded_imported"),this.subscribeListeners()}}async function Sn(){let t=KV();return t?t.getAccessToken():Promise.resolve(rt.get(bw)||rt.get(Hm)||null)}const UDe=["eth_sign","eth_populateTransactionRequest","eth_signTransaction","personal_sign","eth_signTypedData_v4","csw_signUserOperation","secp256k1_sign"];function dg(t){return t?{"privy-ui":"t"}:void 0}class yh{async authenticate(){if(!this.api)throw new ae("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode)throw new ae("Email and email code must be set prior to calling authenticate.");try{return await this.api.post(vde,{email:this.meta.email,code:this.meta.emailCode,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw Wt(e)}}async link(){if(!this.api)throw new ae("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode)throw new ae("Email and email code must be set prior to calling authenticate.");try{return await this.api.post(_de,{email:this.meta.email,code:this.meta.emailCode})}catch(e){throw Wt(e)}}async sendCodeEmail({email:e,captchaToken:n,withPrivyUi:r}){if(!this.api)throw new ae("Auth flow has no API instance");if(e&&(this.meta.email=e),n&&(this.meta.captchaToken=n),!this.meta.email)throw new ae("Email must be set when initialzing authentication.");let i=dg(r);try{return await this.api.post(wde,{email:this.meta.email,token:this.meta.captchaToken},{headers:{...i}})}catch(s){throw Wt(s)}}constructor({email:e,captchaToken:n,disableSignup:r}){this.meta={email:e,captchaToken:n,disableSignup:r??!1}}}class MDe extends yh{async link(){if(!this.api)throw new ae("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode||!this.meta.oldAddress)throw new ae("Email, email code, and an old email address must be set prior to calling update.");try{return await this.api.post(Sde,{oldAddress:this.meta.oldAddress,newAddress:this.meta.email,code:this.meta.emailCode})}catch(e){throw Wt(e)}}constructor(e,n,r){super({email:n,captchaToken:r}),this.meta={email:n,captchaToken:r,oldAddress:e,disableSignup:!1}}}class Na{execute(e){return this.promise===null&&(this.promise=(async()=>{try{return await this.fn(e)}finally{this.promise=null}})()),this.promise}constructor(e){this.promise=null,this.fn=e}}class pU{get meta(){return this._meta}async authenticate(){if(!this.api)throw new ae("Auth flow has no API instance");if(!this.meta.channelToken)throw new ae("Auth flow must be initialized first");try{let e=await this.api.post(pde,{channel_token:this.meta.channelToken,message:this.message,signature:this.signature,fid:this.fid,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"});if(!e)throw new ae("No response from authentication");return e}catch(e){throw Wt(e)}}async link(){if(!this.api)throw new ae("Auth flow has no API instance");try{return await this.api.post(mde,{channel_token:this.meta.channelToken,message:this.message,signature:this.signature,fid:this.fid})}catch(e){throw Wt(e)}}async _startChannelOnce(){if(!this.api)throw new ae("Auth flow has no API instance");let e=await this.api.post(hde,{token:this.captchaToken});Mc.isMobile&&!Mc.isIOS&&e.connect_uri&&Hj(e.connect_uri,"_blank"),this._meta={...this._meta,connectUri:e.connect_uri,channelToken:e.channel_token}}async initializeFarcasterConnect(){if(!this.api)throw new ae("Auth flow has no API instance");await this.startChannelOnce.execute()}async _pollForReady(){if(!this.api)throw new ae("Auth flow has no API instance");if(!this.meta.channelToken)throw new ae("Auth flow must be initialized first");let e=await this.api.get(yde,{headers:{"farcaster-channel-token":this.meta.channelToken}});return e.state==="completed"&&(this.message=e.message,this.signature=e.signature,this.fid=e.fid,!0)}constructor(e,n=!1){this._meta={disableSignup:!1},this.captchaToken=e,this.startChannelOnce=new Na(this._startChannelOnce.bind(this)),this.pollForReady=new Na(this._pollForReady.bind(this)),this._meta.disableSignup=n}}function oC(){return typeof window<"u"&&window.location.protocol==="chrome-extension:"&&"chrome"in window}function NV(){return oC()?window.chrome?.runtime?.id:void 0}function uT(){return oC()?typeof window.chrome?.identity?.launchWebAuthFlow=="function":!1}async function mU(t){return new Promise(((e,n)=>{uT()?window.chrome.identity.launchWebAuthFlow({url:t,interactive:!0},(async r=>{try{let i=(function(){return oC()?window.chrome?.runtime?.lastError?.message:void 0})();if(i||!r){let d=`WebAuthFlow failed: ${i||"Response URI missing"}`;throw Error(d)}let s=new URL(r),a=NV();if(!a)throw Error("Invalid extension context");if(s.protocol==="chrome-extension:"){if(s.hostname!==a)throw Error("Invalid responseUri origin")}else{if(s.protocol!=="https:")throw Error("Invalid responseUri protocol");{let d=s.hostname.split(".");if(d.length!==3||d[1]!=="chromiumapp"||d[2]!=="org"||d[0]!==a)throw Error("Invalid responseUri origin")}}let c=s.searchParams.get("privy_oauth_state"),u=s.searchParams.get("privy_oauth_code");if(!c||!u)throw Error("Invalid responseUri - missing required parameters");e({privyOAuthState:c,privyOAuthCode:u})}catch(i){n(i)}})):n(Error("Chrome identity API not available"))}))}function dT(t){return crypto.getRandomValues(new Uint8Array(t))}function cC(){return yd(dT(36))}function $V(){return cC()}async function PV(t,e="S256"){if(e!="S256")return t;{let n=await(async function(r){let i=new TextEncoder().encode(r);return new Uint8Array(await crypto.subtle.digest("SHA-256",i))})(t);return yd(n)}}class ah{addCaptchaToken(e){this.meta.captchaToken=e}isActive(){return!!(this.meta.authorizationCode&&this.meta.stateCode&&this.meta.provider)}async authenticate(){if(!this.api)throw new ae("Auth flow has no API instance");if(!this.meta.authorizationCode||!this.meta.stateCode)throw new ae("[OAuth AuthFlow] Authorization and state codes code must be set prior to calling authenticate.");if(this.meta.authorizationCode==="undefined")throw new ae("User denied confirmation during OAuth flow");let e=(function(){let n=rt.get(ym);if(!n)throw new ae("Authentication error.");return n})();try{let n=await this.api.post(Lj,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:e,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"});return rt.del(ym),rt.del(fv),rt.del(sy),n}catch(n){let r=Wt(n);throw r.privyErrorCode?new ae(r.message||"Invalid code during OAuth flow.",void 0,r.privyErrorCode):r.message==="User denied confirmation during OAuth flow"?new ae("Invalid code during oauth flow.",void 0,Ie.OAUTH_USER_DENIED):new ae("Invalid code during OAuth flow.",void 0,Ie.UNKNOWN_AUTH_ERROR)}}async link(){if(!this.api)throw new ae("Auth flow has no API instance");if(!this.meta.authorizationCode||!this.meta.stateCode)throw new ae("[OAuth AuthFlow] Authorization and state codes code must be set prior to calling link.");if(this.meta.authorizationCode==="undefined")throw new ae("User denied confirmation during OAuth flow");let e=rt.get(ym);if(!e)throw new ae("Authentication error.");try{let n=await this.api.post(jj,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:e});return rt.del(ym),n}catch(n){throw Wt(n)}}async getAuthorizationUrl(){if(!this.api)throw new ae("Auth flow has no API instance");if(!this.meta.provider)throw new ae("Provider must be set when initializing OAuth authentication.");let e=cC();rt.put(ym,e);let n=$V();rt.put(dv,n);let r=await PV(e);this.meta.withPrivyUi||rt.put(fv,!0),this.meta.disableSignup?rt.put(sy,!0):rt.del(sy);let i=dg(this.meta.withPrivyUi),s=window.location.href,a=(function(){let c=NV();if(c)return`https://${c}.chromiumapp.org`})();a&&(s=a);try{return await this.api.post(Bj,{provider:this.meta.provider,redirect_to:this.meta.customOAuthRedirectUrl||s,token:this.meta.captchaToken,code_challenge:r,state_code:n},{headers:{...i}})}catch(c){throw Wt(c)}}constructor(e){this.meta=e}}function BDe(){let t=new URLSearchParams(window.location.search),e=t.get("privy_oauth_code"),n=t.get("privy_oauth_state"),r=t.get("privy_oauth_provider");if(!e||!n||!r)return{inProgress:!1};let i=!1;try{i=!!window.opener.location.origin}catch{}return{inProgress:!0,authorizationCode:e,stateCode:n,provider:r,withPrivyUi:!rt.get(fv),popupFlow:window.opener!==null&&i,disableSignup:!!rt.get(sy)}}function y7e(){let t=new URL(window.location.href);t.searchParams.delete("privy_oauth_code"),t.searchParams.delete("privy_oauth_provider"),t.searchParams.delete("privy_oauth_state"),rt.del(dv),window.history.replaceState({},"",t)}class eh{async initRegisterFlow(e){if(!this.api)throw new ae("Auth flow has no API instance");this.authenticateForRegistration=!0,this.meta.initRegisterResponse=await this.initRegisterOnce.execute(e)}async initAuthenticationFlow(e){if(!this.api)throw new ae("Auth flow has no API instance");this.authenticateForRegistration=!1,this.meta.initAuthenticateResponse=await this.initAuthenticateOnce.execute(e)}async initLinkFlow(){if(!this.api)throw new ae("Auth flow has no API instance");this.meta.initLinkResponse=await this.initLinkOnce.execute()}async register(){let e=await ze(()=>import("./index-D9std1Z8.js"),[]);if(!this.api)throw new ae("Auth flow has no API instance");if(!e.browserSupportsWebAuthn())throw new ae("WebAuthn is not supported in this browser");this.meta.initRegisterResponse||(this.meta.initRegisterResponse=await this.initRegisterOnce.execute());try{let n=this.meta.initRegisterResponse.options,r=await e.startRegistration({optionsJSON:this._transformInitLinkOptionsToCamelCase(n)});return this.meta.setPasskeyAuthState?.({status:"submitting-response"}),await this.api.post(Bde,{relying_party:this.meta.initRegisterResponse.relying_party,authenticator_response:this._transformRegistrationResponseToSnakeCase(r)})}catch(n){throw n.name==="NotAllowedError"?new ae("Passkey request timed out or rejected by user.",void 0,Ie.PASSKEY_NOT_ALLOWED):Wt(n)}}async authenticate(){if(this.authenticateForRegistration)return this.register();let e=await ze(()=>import("./index-D9std1Z8.js"),[]);if(!this.api)throw new ae("Auth flow has no API instance");if(!e.browserSupportsWebAuthn())throw new ae("WebAuthn is not supported in this browser");this.meta.initAuthenticateResponse||(this.meta.initAuthenticateResponse=await this.initAuthenticateOnce.execute());let n=this.meta.allowedCredentialsIds?.map((r=>({type:"public-key",id:r})))??this.meta.initAuthenticateResponse.options.allow_credentials;try{let r=await e.startAuthentication({optionsJSON:this._transformInitAuthenticateOptionsToCamelCase({...this.meta.initAuthenticateResponse.options,allow_credentials:n})});return this.meta.setPasskeyAuthState?.({status:"submitting-response"}),await this.api.post(Mde,{relying_party:this.meta.initAuthenticateResponse.relying_party,challenge:this.meta.initAuthenticateResponse.options.challenge,authenticator_response:this._transformAuthenticationResponseToSnakeCase(r)})}catch(r){throw r.name==="NotAllowedError"?new ae("Passkey request timed out or rejected by user.",void 0,Ie.PASSKEY_NOT_ALLOWED):Wt(r)}}async link(){let e=await ze(()=>import("./index-D9std1Z8.js"),[]);if(!this.api)throw new ae("Auth flow has no API instance");if(!e.browserSupportsWebAuthn())throw new ae("WebAuthn is not supported in this browser");this.meta.initLinkResponse||(this.meta.initLinkResponse=await this.initLinkOnce.execute());try{let n=this.meta.initLinkResponse.options,r=await e.startRegistration({optionsJSON:this._transformInitLinkOptionsToCamelCase(n)});return this.meta.setPasskeyAuthState?.({status:"submitting-response"}),await this.api.post(Ude,{relying_party:this.meta.initLinkResponse.relying_party,authenticator_response:this._transformRegistrationResponseToSnakeCase(r)})}catch(n){throw n.name==="NotAllowedError"?new ae("Passkey request timed out or rejected by user.",void 0,Ie.PASSKEY_NOT_ALLOWED):Wt(n)}}async _initRegisterOnce(e){if(!this.api)throw new ae("Auth flow has no API instance");let n=dg(e);return await this.api.post(Dde,{token:this.meta.captchaToken},{headers:{...n}})}async _initAuthenticateOnce(e){if(!this.api)throw new ae("Auth flow has no API instance");let n=dg(e);return await this.api.post(Pde,{token:this.meta.captchaToken},{headers:{...n}})}async _initLinkOnce(){if(!this.api)throw new ae("Auth flow has no API instance");return await this.api.post($de,{})}_transformInitLinkOptionsToCamelCase(e){return{rp:e.rp,user:{id:e.user.id,name:e.user.name,displayName:e.user.display_name},challenge:e.challenge,pubKeyCredParams:e.pub_key_cred_params.map((n=>({type:n.type,alg:n.alg}))),timeout:e.timeout,excludeCredentials:e.exclude_credentials?.map((n=>({id:n.id,type:n.type,transports:n.transports}))),authenticatorSelection:{authenticatorAttachment:e.authenticator_selection?.authenticator_attachment,requireResidentKey:e.authenticator_selection?.require_resident_key,residentKey:e.authenticator_selection?.resident_key,userVerification:e.authenticator_selection?.user_verification},attestation:e.attestation,extensions:{appid:e.extensions?.app_id,credProps:e.extensions?.cred_props?.rk,hmacCreateSecret:e.extensions?.hmac_create_secret},hints:this.meta.hints}}_transformRegistrationResponseToSnakeCase(e){return{id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,attestation_object:e.response.attestationObject,authenticator_data:e.response.authenticatorData},authenticator_attachment:e.authenticatorAttachment,client_extension_results:{app_id:e.clientExtensionResults.appid,cred_props:e.clientExtensionResults.credProps,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret},type:e.type}}_transformInitAuthenticateOptionsToCamelCase(e){return{rpId:e.rp_id,challenge:e.challenge,allowCredentials:e.allow_credentials?.map((n=>({id:n.id,type:n.type,transports:n.transports})))||[],timeout:e.timeout,extensions:{appid:e.extensions?.app_id,credProps:e.extensions?.cred_props,hmacCreateSecret:e.extensions?.hmac_create_secret},userVerification:e.user_verification}}_transformAuthenticationResponseToSnakeCase(e){return{id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,authenticator_data:e.response.authenticatorData,signature:e.response.signature,user_handle:e.response.userHandle},authenticator_attachment:e.authenticatorAttachment,client_extension_results:{app_id:e.clientExtensionResults.appid,cred_props:e.clientExtensionResults.credProps,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret},type:e.type}}constructor({captchaToken:e,setPasskeyAuthState:n,hints:r}){this.authenticateForRegistration=!1,this.initRegisterOnce=new Na(this._initRegisterOnce.bind(this)),this.initAuthenticateOnce=new Na(this._initAuthenticateOnce.bind(this)),this.initLinkOnce=new Na(this._initLinkOnce.bind(this)),this.meta={captchaToken:e,setPasskeyAuthState:n,hints:r}}}const fT=({address:t,chainId:e,nonce:n})=>`${window.location.host} wants you to sign in with your Ethereum account:
${t}

By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.

URI: ${window.location.origin}
Version: 1
Chain ID: ${e}
Nonce: ${n}
Issued At: ${new Date().toISOString()}
Resources:
- https://privy.io`;class jw{get meta(){return{connectorType:this.wallet?.connectorType,walletClientType:this.wallet?.walletClientType,chainId:this.wallet?.chainId,address:this.wallet?.address,disableSignup:this._meta.disableSignup}}async authenticate(){if(!this.client)throw new ae("SiweFlow has no client instance");try{if(this.preparedMessage&&this.signature)return await this.client.authenticateWithSiweInternal({message:this.preparedMessage,signature:this.signature,chainId:this.wallet?.chainId,walletClientType:this.walletClientType??this.wallet?.walletClientType,connectorType:this.connectorType??this.wallet?.connectorType,mode:this._meta.disableSignup?"no-signup":"login-or-sign-up"});if(!this.wallet)throw new ae("SiweFlow has no wallet instance");let{message:e,signature:n}=await this.sign();return await this.client.authenticateWithSiweInternal({message:e,signature:n,chainId:this.wallet.chainId,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw Wt(e)}}async link(){if(!this.client)throw new ae("SiweFlow has no client instance");try{if(!this.wallet)throw new ae("SiweFlow has no wallet instance");let{message:e,signature:n}=await this.sign();return await this.client.linkWithSiweInternal({message:e,signature:n,chainId:this.wallet.chainId,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType})}catch(e){throw Wt(e)}}async sign(){if(!this.client)throw new ae("SiweFlow has no client instance");if(await this.buildMessage(),!this.preparedMessage)throw new ae("Could not prepare SIWE message");if(!this.wallet)throw new ae("SiweFlow has no wallet instance");let e=await this.wallet.sign(this.preparedMessage);return{message:this.preparedMessage,signature:e}}async _getNonceOnce(){if(!this.client)throw new ae("SiweFlow has no client instance");if(!this.wallet)throw new ae("UI SiweFlow has no wallet instance");return await this.client.generateSiweNonce({address:this.wallet.address,captchaToken:this.captchaToken})}async buildMessage(){if(!this.client)throw new ae("SiweFlow has no client instance");if(!this.wallet)throw new ae("SiweFlow has no wallet instance");let e=this.wallet.address,n=this.wallet.chainId.replace("eip155:","");return this.nonce||(this.nonce=await this.getNonceOnce.execute()),this.preparedMessage=fT({address:e,chainId:n,nonce:this.nonce}),this.preparedMessage}constructor(e,n,r,i=!1,s){this._meta={disableSignup:!1},this.getNonceOnce=new Na(this._getNonceOnce.bind(this)),this.wallet=n,this.captchaToken=r,this.client=e,this._meta.disableSignup=i,this.preparedMessage=s?.message,this.signature=s?.signature,this.walletClientType=s?.walletClientType,this.connectorType=s?.connectorType}}class yU{get meta(){return{connectorType:this.wallet.connectorType,walletClientType:this.wallet.walletClientType,disableSignup:this._meta.disableSignup,messageType:this._meta.messageType,address:this.wallet?.address}}set messageType(e){this._meta.messageType=e}async authenticate(){if(!this.client)throw new ae("SiwsFlow has no client instance");try{let{message:e,signature:n}=await this.sign();return await this.client.authenticateWithSiwsInternal({message:e,signature:n,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up",messageType:this.meta.messageType})}catch(e){throw Wt(e)}}async link(){if(!this.client)throw new ae("SiwsFlow has no client instance");try{let{message:e,signature:n}=await this.sign();return await this.client.linkWithSiwsInternal({message:e,signature:n,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,messageType:this.meta.messageType})}catch(e){throw Wt(e)}}async sign(){let e,n;if(!this.client)throw new ae("SiwsFlow has no client instance");await this.buildMessage();let r=this.meta.messageType==="transaction";if(!this.preparedMessage)throw new ae("Could not prepare SIWS message");if(!r&&!this.wallet.provider.signMessage||r&&!this.wallet.provider.signTransaction)throw new ae("Wallet does not support the necessary signing methods");if(r&&this._plugin){let i=await this.wallet.provider.signTransaction({transaction:FS.decode(this.preparedMessage)});e=FS.encode(i.signedTransaction),n=this._plugin.getSignatureFromTransaction(i.signedTransaction,this.wallet.address)}else{e=this.preparedMessage;let i=await this.wallet.provider.signMessage({message:new TextEncoder().encode(this.preparedMessage)});n=FS.encode(i.signature)}return{message:e,signature:n}}async _getNonceOnce(){if(!this.client)throw new ae("SiwsFlow has no client instance");return await this.client.generateSiwsNonce({address:this.wallet.address,captchaToken:this.captchaToken})}async buildMessage(){if(!this.client)throw new ae("SiwsFlow has no client instance");let e=this.wallet.address;return this.nonce||(this.nonce=await this.getNonceOnce.execute()),this.meta.messageType==="transaction"&&this._plugin?this.preparedMessage=this._plugin.createSiwsMemoTransaction({address:e,nonce:this.nonce}):this.preparedMessage=sfe({address:e,nonce:this.nonce}),this.preparedMessage}constructor(e,n,r,i=!1,s="plain",a){this._meta={disableSignup:!1,messageType:"plain"},this.getNonceOnce=new Na(this._getNonceOnce.bind(this)),this.wallet=e,this.captchaToken=r,this.client=n,this._meta.disableSignup=i,this._meta.messageType=s,this._plugin=a}}class gh{async authenticate(){if(!this.api)throw new ae("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode)throw new ae("phone number and sms code must be set prior to calling authenticate.");try{return await this.api.post(Cde,{phoneNumber:this.meta.phoneNumber,code:this.meta.smsCode,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw Wt(e)}}async link(){if(!this.api)throw new ae("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode)throw new ae("phone number and sms code must be set prior to calling authenticate.");try{return await this.api.post(Tde,{phoneNumber:this.meta.phoneNumber,code:this.meta.smsCode})}catch(e){throw Wt(e)}}async sendSmsCode({phoneNumber:e,captchaToken:n,withPrivyUi:r}){if(!this.api)throw new ae("Auth flow has no API instance");if(e&&(this.meta.phoneNumber=e),n&&(this.meta.captchaToken=n),!this.meta.phoneNumber)throw new ae("phone nNumber must be set when initialzing authentication.");let i=dg(r);try{return await this.api.post(xde,{phoneNumber:this.meta.phoneNumber,token:this.meta.captchaToken},{headers:{...i}})}catch(s){throw Wt(s)}}constructor({phoneNumber:e,captchaToken:n,disableSignup:r}){this.meta={phoneNumber:e,captchaToken:n,disableSignup:r??!1}}}class LDe extends gh{async link(){if(!this.api)throw new ae("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode||!this.meta.oldPhoneNumber)throw new ae("Phone number, sms code, and an old phone number must be set prior to calling update.");try{return await this.api.post(Ode,{old_phone_number:this.meta.oldPhoneNumber,new_phone_number:this.meta.phoneNumber,code:this.meta.smsCode})}catch(e){throw Wt(e)}}constructor(e,n,r){super({phoneNumber:n,captchaToken:r}),this.meta={phoneNumber:n,captchaToken:r,oldPhoneNumber:e,disableSignup:!1}}}const DV=Y.createContext({enabled:!1,siteKey:"",provider:void 0,appId:void 0,token:void 0,error:void 0,status:"disabled",setToken:fe,setError:fe,setExecuting:fe,waitForResult:()=>Promise.resolve(""),ref:{current:null},remove:s7,reset:fe,execute:fe});class hT extends fu{constructor(e,n,r){super(e||"Captcha failed"),this.type="Captcha",n instanceof Error&&(this.cause=n),this.privyErrorCode=r}}const jDe=({children:t,appId:e,captchaSiteKey:n,enabledCaptchaProvider:r})=>{let i=Y.useRef(null),s=Y.useRef(null),[a,c]=Y.useState(),[u,d]=Y.useState(),[h,p]=Y.useState(!1),y=Y.useMemo((()=>r?h||a||u?!h||a||u?a&&!u?{status:"success",token:a}:u?{status:"error",error:u}:{status:"ready"}:{status:"loading"}:{status:"ready"}:{status:"disabled"}),[r,a,u,h]),g=Y.useMemo((()=>r?r==="turnstile"?{remove:()=>{i.current?.remove(),p(!1),d(void 0),c(void 0)},reset:()=>{i.current?.reset(),p(!1),d(void 0),c(void 0)},execute:()=>{p(!0),i.current?.execute()},waitForResult:async()=>{try{return await Y4((()=>i.current?.getResponse()),{interval:200,timeout:2e4})}catch{throw new hT("Captcha failed",null,Ie.CAPTCHA_TIMEOUT)}}}:{remove:()=>{s.current?.removeCaptcha(),p(!1),d(void 0),c(void 0)},reset:()=>{s.current?.resetCaptcha(),p(!1),d(void 0),c(void 0)},execute:()=>{p(!0),s.current?.execute()},waitForResult:async()=>{try{return await Y4((()=>s.current?.getResponse()),{interval:200,timeout:2e4})}catch{throw new hT("Captcha failed",null,Ie.CAPTCHA_TIMEOUT)}}}:null),[r]),b=Y.useMemo((()=>{if(!r||!g)return{...y,enabled:!1,siteKey:"",appId:e,setToken:fe,setError:fe,setExecuting:fe,waitForResult:()=>Promise.resolve(void 0),remove:s7,reset:fe,execute:fe,provider:void 0,ref:{current:null}};let v={...y,enabled:!0,appId:e,setToken:c,setError:d,setExecuting:p};return r==="turnstile"?{...v,provider:"turnstile",ref:i,siteKey:n.split("t:")[1]??"",...g}:{...v,provider:"hcaptcha",ref:s,siteKey:n.split("h:")[1]??"",...g}}),[y,r,g,e,n]);return pe.jsx(DV.Provider,{value:b,children:t})},UV=()=>Y.useContext(DV);class Fm{async authenticate(){if(!this.api)throw new ae("Auth flow has no API instance");try{return await this.api.post(Lde,{captcha_token:this.meta.captchaToken,telegram_auth_result:this.meta.telegramAuthResult,telegram_web_app_data:this.meta.telegramWebAppData,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw Wt(e)}}async link(){if(!this.api)throw new ae("Auth flow has no API instance");try{return await this.api.post(jde,{telegram_auth_result:this.meta.telegramAuthResult,telegram_web_app_data:this.meta.telegramWebAppData})}catch(e){throw Wt(e)}}constructor(e,n=!1){this.meta={disableSignup:!1},this.meta={captchaToken:e,disableSignup:!1},this.meta.disableSignup=n}}function g7e(t){let e={detail:"",retryable:!1};return t?.privyErrorCode===Ie.LINKED_TO_ANOTHER_USER&&(e.detail="This account has already been linked to another user."),t?.privyErrorCode===Ie.DISALLOWED_LOGIN_METHOD&&(e.detail="Login with Telegram not allowed."),t?.privyErrorCode===Ie.INVALID_DATA&&(e.retryable=!0,e.detail="Something went wrong. Try again."),t?.privyErrorCode===Ie.CANNOT_LINK_MORE_OF_TYPE&&(e.retryable=!0,e.detail="Something went wrong. Try again."),t?.privyErrorCode===Ie.INVALID_CREDENTIALS&&(e.retryable=!0,e.detail="Something went wrong. Try again."),t?.privyErrorCode===Ie.TOO_MANY_REQUESTS&&(e.detail="Too many requests. Please wait before trying again."),t?.privyErrorCode===Ie.TOO_MANY_REQUESTS&&t.message.includes("rate limit")&&(e.detail="Request limit reached for Telegram. Please wait a moment and try again."),t instanceof hT&&(e.retryable=!0,e.detail="Something went wrong. Try again."),e}function gU(t){return Object.fromEntries(decodeURIComponent(t).split("&").map((e=>e.split("=").map(decodeURIComponent))))}function bU(){let t=new URL(window.location.href);t.searchParams.delete("id"),t.searchParams.delete("hash"),t.searchParams.delete("auth_date"),t.searchParams.delete("first_name"),t.searchParams.delete("last_name"),t.searchParams.delete("username"),t.searchParams.delete("photo_url"),t.hash="",window.history.replaceState({},"",t)}let zDe=Y.lazy((()=>ze(()=>import("./TurnstileWrapper-Co-t5mTh-C4J0BbY4.js"),[]))),FDe=Y.lazy((()=>ze(()=>import("./HCaptchaWrapper-Dl2Jt_Df-BHWMypdh.js"),[])));const qDe=t=>{let e=UV();return Y.useEffect((()=>e.remove),[e.remove]),e.enabled&&e.provider?pe.jsx(Y.Suspense,{fallback:null,children:pe.jsxs("div",{className:"hidden h-0 w-0",children:[e.provider==="turnstile"&&pe.jsx(zDe,{...t,captchaContext:e}),e.provider==="hcaptcha"&&pe.jsx(FDe,{...t,captchaContext:e})]})}):null};var T_=Object.freeze({__proto__:null,AccountNotFoundScreen:()=>ze(()=>import("./AccountNotFoundScreen-BzbvtCmu-CaF9Oc86.js"),__vite__mapDeps([3,4,5,6,7,8,9])),AffirmativeConsentScreen:()=>ze(()=>import("./AffirmativeConsentScreen-CrZKQjas-ClFWcSYo.js"),__vite__mapDeps([10,5,11,4,6,7,8,9,12])),AllowlistRejectionScreen:()=>ze(()=>import("./AllowlistRejectionScreen-DhhfJ6ai-xUIL-Q9Y.js"),__vite__mapDeps([13,4,5,6,7,8,14,9])),AuthenticateWithWalletScreen:()=>ze(()=>import("./AuthenticateWithWalletScreen-BN0s1mtv-Ce2TWBr9.js"),__vite__mapDeps([15,16,5,17,18,7,19,20,21,22,23,24,6,8])),AwaitingEvmToSolBridgingScreen:()=>ze(()=>import("./AwaitingEvmToSolBridgingScreen-C7mp2-Hy-BOetTtJP.js"),__vite__mapDeps([25,26,27,7,28,29,8,30,31,32,33,34,35,36,37,38,5,39,40,22,41,42,43,44,45,46,47,48,9,49,50,51,52,53,54,55,56,57])),AwaitingExternalEthereumTransferScreen:()=>ze(()=>import("./AwaitingExternalEthereumTransferScreen-EqM4Kcsu-Chn_Wy4-.js"),__vite__mapDeps([58,26,27,7,28,29,8,30,31,59,53,54,32,33,37,38,5,39,40,22,41,42,43,34,44,45,46,47,48,9,49,50,51,52,55,56,60,2,57])),AwaitingPasswordlessCodeScreen:()=>ze(()=>import("./AwaitingPasswordlessCodeScreen-NAVmxM9--ChmIBBXI.js"),__vite__mapDeps([61,62,63,27,18,11,4,5,6,7,8])),AwaitingSolToEvmBridgingScreen:()=>ze(()=>import("./AwaitingSolToEvmBridgingScreen-dC9b-wlg-B76juJJn.js"),__vite__mapDeps([64,26,27,7,28,29,8,32,33,45,46,43,39,40,47,5,48,9,49,50,60,2])),CaptchaScreen:()=>ze(()=>import("./CaptchaScreen-CTRyyYc9-VZwTJmaf.js"),__vite__mapDeps([65,4,5,6,7,8,66,9,67])),CoinbaseOnrampStatusScreen:()=>ze(()=>import("./CoinbaseOnrampStatusScreen-BNmvm8Bl-CIDS1aH1.js"),__vite__mapDeps([68,69,70,5,27,7,32])),ConnectLedgerScreen:()=>ze(()=>import("./ConnectLedgerScreen-BEhSz1FM-CPXx2nv6.js"),__vite__mapDeps([71,4,5,6,7,8,9])),ConnectOnlyLandingScreen:()=>ze(()=>import("./ConnectOnlyLandingScreen-ZnI9ReZJ-Dqkpo1UY.js"),__vite__mapDeps([72,16,5,17,18,7,19,20,21,22,23,24,6,8])),ConnectOnlyStatusScreen:()=>ze(()=>import("./ConnectOnlyStatusScreen-1oCuFsd6-8TRSJTbA.js"),__vite__mapDeps([73,4,5,6,7,8,74,18,23,11])),ConnectOrCreateScreen:()=>ze(()=>import("./ConnectOrCreateScreen-BOO4iaC6-BCKytt0_.js"),__vite__mapDeps([75,76,7,16,5,17,18,19,20,21,22,23,24,6,8,77,44,40,78,9,79,80,81,82,83,84,4])),ConnectionStatusScreen:()=>ze(()=>import("./ConnectionStatusScreen-CZNBQeOQ-pU_t4tez.js"),__vite__mapDeps([74,18,23,11,4,5,6,7,8])),CrossAppAuthScreen:()=>ze(()=>import("./CrossAppAuthScreen-Bno8NQSa-Cp9CpWa2.js"),__vite__mapDeps([85,11,4,5,6,7,8])),DelegatedActionsConsentScreen:()=>ze(()=>import("./DelegatedActionsConsentScreen-B0AwZEKc-CxuBm6HS.js"),__vite__mapDeps([86,87,5,22,88,47,48,9,49,51,4,6,7,8,89,66])),DelegatedActionsRevokeScreen:()=>ze(()=>import("./DelegatedActionsRevokeScreen-D0mAKxDs-C2BJl4Sv.js"),__vite__mapDeps([90,4,5,6,7,8,89,9,66])),EmbeddedWalletConnectingScreen:()=>ze(()=>import("./EmbeddedWalletConnectingScreen-9ADobSle-BYEcH_ic.js"),__vite__mapDeps([91,4,5,6,7,8,67,9])),EmbeddedWalletCreatedScreen:()=>ze(()=>import("./EmbeddedWalletCreatedScreen-B7TnCst_-DbpSm9tq.js"),__vite__mapDeps([92,4,5,6,7,8,66,9])),EmbeddedWalletKeyExportScreen:()=>ze(()=>import("./EmbeddedWalletKeyExportScreen-Cmp2CUOa-Dw0rfIvr.js"),__vite__mapDeps([93,94,95,87,5,22,88,47,48,9,49,51,4,6,7,8])),EmbeddedWalletOnAccountCreateScreen:()=>ze(()=>import("./EmbeddedWalletOnAccountCreateScreen-vxaCVWy1-ByQR-X1U.js"),__vite__mapDeps([96,97,4,5,6,7,8,67,9])),EmbeddedWalletPasswordCreateScreen:()=>ze(()=>import("./RecoveryPasswordCreateScreen-jWT25C0X-jjfWU-Xm.js"),__vite__mapDeps([98,97,99,95,27,7,100,5,101,70,28])),EmbeddedWalletPasswordUpdateScreen:()=>ze(()=>import("./EmbeddedWalletPasswordUpdateScreen-C4dNnXVI-DIeW-_yi.js"),__vite__mapDeps([102,99,95,27,7,100,5,101,70,28])),EmbeddedWalletPasswordUpdateSplashScreen:()=>ze(()=>import("./EmbeddedWalletPasswordUpdateSplashScreen-BPTp0nwT-S0VzPOx8.js"),__vite__mapDeps([103,4,5,6,7,8,14,9])),ErrorScreen:()=>ze(()=>import("./ErrorScreen-Yi-Rhs0v-C9IJAeuz.js"),__vite__mapDeps([104,33,4,5,6,7,8,9,14])),FarcasterConnectStatusScreen:()=>ze(()=>import("./FarcasterConnectStatusScreen-BfoDjDwg-CN8bLUDD.js"),__vite__mapDeps([105,106,19,20,5,88,11,4,6,7,8,79,48,9,49])),FarcasterSignerStatusScreen:()=>ze(()=>import("./FarcasterSignerStatusScreen-CsSFmDry-pFfYWPGs.js"),__vite__mapDeps([107,108,17,106,19,20,4,5,6,7,8,79])),FundSolWalletWithExternalSolanaWallet:()=>ze(()=>import("./FundSolWalletWithExternalSolanaWallet-BIk-6GIl-DN7Rgvdv.js"),__vite__mapDeps([109,26,5,27,7,28,29,46,43,8,39,40,110,30,31,32,36,111,34,56])),FundingAmountEditScreen:()=>ze(()=>import("./FundingEditAmountScreen-CzbuYpdw-B-1NiZUQ.js"),__vite__mapDeps([112,5,27,7,29,8,42,30,31,54,55])),FundingMethodSelectionScreen:()=>ze(()=>import("./FundingMethodSelectionScreen-DdZxdcVe-DlCzVVvq.js"),__vite__mapDeps([113,69,7,29,114,115,116,24,117,118,32,55])),InAppBrowserLoginNotPossible:()=>ze(()=>import("./InAppBrowserLoginNotPossible-COUNBN1W-zIEDaGXi.js"),__vite__mapDeps([119,4,5,6,7,8,12,9])),InstallWalletScreen:()=>ze(()=>import("./InstallWalletScreen-BjprJkty-Dipny5w6.js"),__vite__mapDeps([120,18,121,9,48,4,5,6,7,8])),LandingScreen:()=>ze(()=>import("./LandingScreen-Dp4m_c2X-Dm_avjHq.js"),__vite__mapDeps([122,76,7,16,5,17,18,19,20,21,22,23,24,6,8,77,44,40,78,9,79,80,81,82,83,84,4])),LinkConflictScreen:()=>ze(()=>import("./LinkConflictScreen-DMHPhlV7-DvsqRmb_.js"),__vite__mapDeps([123,95,43,5,7,124,47,48,9,49,125,115])),LinkEmailScreen:()=>ze(()=>import("./LinkEmailScreen-D7VTyZrH-CnOkOfvj.js"),__vite__mapDeps([126,62,77,5,44,40,21,22,78,9,27,4,6,7,8])),LinkPasskeyScreen:()=>ze(()=>import("./LinkPasskeyScreen-B5LWH116-DnWDXvFr.js"),__vite__mapDeps([127,121,9,48,4,5,6,7,8,66,128])),LinkPhoneScreen:()=>ze(()=>import("./LinkPhoneScreen-DdRe154C-D7bTCCH-.js"),__vite__mapDeps([129,63,81,5,44,40,4,6,7,8])),LoginFailedScreen:()=>ze(()=>import("./LoginFailedScreen-CZnzwKpB-BbZatWTA.js"),__vite__mapDeps([130,4,5,6,7,8,67,9])),ManualTransferScreen:()=>ze(()=>import("./ManualTransferScreen-Bn2qhDAI-Cd9SQqty.js"),__vite__mapDeps([131,5,27,7,19,20,29,116,41,42,87,22,88,47,48,9,49,51,132,32,34,111,36,35,38,56])),MfaAuthEnrollmentFlowScreen:()=>ze(()=>import("./MfaAuthEnrollmentFlowScreen-CWMULcQb-brEwl0Np.js"),__vite__mapDeps([133,7,134,5,135,136,80,63,44,40,104,33,4,6,8,9,14,127,121,48,66,128,108,17,27,88,41,42,51,19,20])),MfaAuthVerifyFlowScreen:()=>ze(()=>import("./MfaAuthVerifyFlowScreen-B3Hw1YN--qOJK-yAQ.js"),__vite__mapDeps([137,138,136,80,63,134,7,4,5,6,8,95,124,30,31,139,140,54,36,35,27,52])),MfaEnrollmentFlowScreen:()=>ze(()=>import("./MfaEnrollmentFlowScreen-DcnqGJ3O-CDK-7P-B.js"),__vite__mapDeps([141,7,134,5,135,136,80,63,44,40,104,33,4,6,8,9,14,127,121,48,66,128,108,17,27,88,41,42,51,19,20,26,81])),MoonpayStatusScreen:()=>ze(()=>import("./MoonpayStatusScreen-lYMS5etL-C_Qi6Hwy.js"),__vite__mapDeps([142,69,70,5,27,7,118,32])),OAuthStatusScreen:()=>ze(()=>import("./OAuthStatusScreen-DEtT_t2P-Dd6kc4MT.js"),__vite__mapDeps([143,82,50,11,4,5,6,7,8,125])),PasskeySelectSignupOrLogin:()=>ze(()=>import("./PasskeySelectSignupOrLogin-DgH-G2yO-D34mOoOa.js"),__vite__mapDeps([144,4,5,6,7,8,128,9])),PasskeyStatusScreen:()=>ze(()=>import("./PasskeyStatusScreen-BOac_MoC-CmLGrFnR.js"),__vite__mapDeps([145,11,4,5,6,7,8,128,9])),PasswordRecoveryScreen:()=>ze(()=>import("./PasswordRecoveryScreen-CT1bj8Gb-CF0Fqhxt.js"),__vite__mapDeps([146,134,5,27,100,6,7,8])),RecoveryOAuthScreen:()=>ze(()=>import("./RecoveryOAuthStatusScreen-Ce6qiP-3-C393MPxe.js"),__vite__mapDeps([147,5,7,28,97,148])),RecoverySelectionScreen:()=>ze(()=>import("./RecoverySelectionScreen-_u02vomS-8mmczuYI.js"),__vite__mapDeps([149,150,7,5,28,148])),SendTransactionScreen:()=>ze(()=>import("./index-DNmMGazz-BUw5KgO9.js"),__vite__mapDeps([151,47,5,48,9,49,30,31,132,117,53,54,104,33,4,6,7,8,14,152,153,39,40,22,88,41,42,87,51,101,114,115,94,95,52,56,27,28,139,140,36,35,59])),SetAutomaticRecoveryScreen:()=>ze(()=>import("./SetAutomaticRecoveryScreen-CUheSZ7h-wjbhJL4f.js"),__vite__mapDeps([154,95,150,5,7,41,42])),SignRequestScreen:()=>ze(()=>import("./SignRequestScreen-BNC2mYtk-CKFfqRzS.js"),__vite__mapDeps([155,108,17,27,152,4,5,6,7,8,9])),StandardSignAndSendTransactionScreen:()=>ze(()=>import("./StandardSignAndSendTransactionScreen-Ckxfv32q-Bn1fZOQi.js"),__vite__mapDeps([156,31,104,33,4,5,6,7,8,9,14,26,27,28,39,40,140,54,36,35,124,153,22,88,41,42,47,48,49,87,51,101,114,115,94,95,52,56,110])),TelegramAuthScreen:()=>ze(()=>import("./TelegramAuthScreen-xobB3RHK-DzbBCi9S.js"),__vite__mapDeps([157,11,4,5,6,7,8,83])),TransferFromWalletScreen:()=>ze(()=>import("./TransferFromWalletScreen-CLqyv8Ra-CqytdSAB.js"),__vite__mapDeps([158,7,28,29,44,40,41,84,9,46,43,55])),UpdateEmailScreen:()=>ze(()=>import("./UpdateEmailScreen-BVzkFXeI-uPFt6HZC.js"),__vite__mapDeps([159,62,27,5,21,22,4,6,7,8,78,9])),UpdatePhoneScreen:()=>ze(()=>import("./UpdatePhoneScreen-DZ_resri-B1FEH4T8.js"),__vite__mapDeps([160,63,81,5,44,40,4,6,7,8])),UserLimitReachedScreen:()=>ze(()=>import("./UserLimitReachedScreen-CTmSitf0-Dtpym16q.js"),__vite__mapDeps([161,4,5,6,7,8])),WalletInterstitialScreen:()=>ze(()=>import("./WalletInterstitialScreen-tDCVxTFi-CQDo87XA.js"),__vite__mapDeps([162,4,5,6,7,8]))});function WDe(t){j1("configureMfa",t)}const fg=Fd((()=>({inProgressMfaFlow:void 0}))),HDe=Rce([":root{","};"],(t=>VDe(t.palette))),VDe=t=>Bg(["",""],Object.entries((function(e){return{"--privy-color-background":e.background,"--privy-color-background-2":e.background2,"--privy-color-background-3":e.background3,"--privy-color-foreground":e.foreground,"--privy-color-foreground-2":e.foreground2,"--privy-color-foreground-3":e.foreground3,"--privy-color-foreground-4":e.foreground4,"--privy-color-foreground-accent":e.foregroundAccent,"--privy-color-accent":e.accent,"--privy-color-accent-light":e.accentLight,"--privy-color-accent-hover":e.accentHover,"--privy-color-accent-dark":e.accentDark,"--privy-color-accent-darkest":e.accentDarkest,"--privy-color-success":e.success,"--privy-color-success-dark":e.successDark,"--privy-color-success-light":e.successLight,"--privy-color-success-bg":e.successBg,"--privy-color-error":e.error,"--privy-color-error-light":e.errorLight,"--privy-color-error-bg":e.errorBg,"--privy-color-error-bg-hover":e.errorBgHover,"--privy-color-warn":e.warn,"--privy-color-warn-light":e.warnLight,"--privy-color-warn-bg":e.warnBg,"--privy-color-warning-dark":e.warningDark,"--privy-color-error-dark":e.errorDark,"--privy-color-info-bg":e.infoBg,"--privy-color-info-bg-hover":e.infoBgHover,"--privy-color-border-default":e.borderDefault,"--privy-color-border-hover":e.borderHover,"--privy-color-border-focus":e.borderFocus,"--privy-color-border-error":e.borderError,"--privy-color-border-success":e.borderSuccess,"--privy-color-border-warning":e.borderWarning,"--privy-color-border-info":e.borderInfo,"--privy-color-border-interactive":e.borderInteractive,"--privy-color-border-interactive-hover":e.borderInteractiveHover,"--privy-color-background-hover":e.backgroundHover,"--privy-color-background-clicked":e.backgroundClicked,"--privy-color-background-disabled":e.backgroundDisabled,"--privy-color-background-interactive":e.backgroundInteractive,"--privy-color-background-interactive-hover":e.backgroundInteractiveHover,"--privy-color-background-interactive-clicked":e.backgroundInteractiveClicked,"--privy-color-background-interactive-disabled":e.backgroundInteractiveDisabled,"--privy-color-foreground-hover":e.foregroundHover,"--privy-color-foreground-clicked":e.foregroundClicked,"--privy-color-foreground-disabled":e.foregroundDisabled,"--privy-color-foreground-interactive":e.foregroundInteractive,"--privy-color-foreground-interactive-hover":e.foregroundInteractiveHover,"--privy-link-navigation-color":e.linkNavigationColor,"--privy-link-navigation-decoration":e.linkNavigationDecoration,"--privy-accent-has-good-contrast":e.accentHasGoodContrast,"--privy-color-icon-default":e.iconDefault,"--privy-color-icon-muted":e.iconMuted,"--privy-color-icon-subtle":e.iconSubtle,"--privy-color-icon-inverse":e.iconInverse,"--privy-color-icon-success":e.iconSuccess,"--privy-color-icon-warning":e.iconWarning,"--privy-color-icon-error":e.iconError,"--privy-color-icon-interactive":e.iconInteractive,"--privy-color-icon-default-hover":e.iconDefaultHover,"--privy-color-icon-muted-hover":e.iconMutedHover,"--privy-color-icon-subtle-hover":e.iconSubtleHover,"--privy-color-icon-default-clicked":e.iconDefaultClicked,"--privy-color-icon-muted-clicked":e.iconMutedClicked,"--privy-color-icon-subtle-clicked":e.iconSubtleClicked,"--privy-color-icon-default-disabled":e.iconDefaultDisabled,"--privy-color-icon-muted-disabled":e.iconMutedDisabled,"--privy-color-icon-subtle-disabled":e.iconSubtleDisabled,"--privy-color-icon-error-hover":e.iconErrorHover,"--privy-color-icon-interactive-hover":e.iconInteractiveHover,"--privy-color-icon-error-clicked":e.iconErrorClicked,"--privy-color-icon-interactive-clicked":e.iconInteractiveClicked,"--privy-color-icon-muted-disabled-alt":e.iconMutedDisabledAlt,"--privy-color-icon-subtle-disabled-alt":e.iconSubtleDisabledAlt,"--privy-border-radius-xs":"6px","--privy-border-radius-sm":"8px","--privy-border-radius-md":"12px","--privy-border-radius-mdlg":"16px","--privy-border-radius-lg":"24px","--privy-border-radius-full":"9999px","--privy-height-modal-full":"620px","--privy-height-modal-compact":"480px"}})(t)).map((([e,n])=>`${e}: ${n};`)).join(`
`)),wU=qn.div.withConfig({displayName:"StylesWrapper",componentId:"sc-188229e4-0"})([""," color:var(--privy-color-foreground-2);h3{font-size:16px;line-height:24px;font-weight:500;color:var(--privy-color-foreground-2);}h4{font-size:14px;line-height:20px;font-weight:500;color:var(--privy-color-foreground);}p{font-size:13px;line-height:20px;color:var(--privy-color-foreground-2);}button:focus,input:focus,optgroup:focus,select:focus,textarea:focus{outline:none;border-color:var(--privy-color-accent-light);box-shadow:0 0 0 3px var(--privy-color-border-focus);}.mobile-only{@media (min-width:441px){display:none;}}@keyframes fadein{0%{opacity:0;}100%{opacity:1;}}"],`
  *,
  ::before,
  ::after {
    box-sizing: border-box;
    border-width: 0;
    border-style: solid;
  }

  line-height: 1.15;
  -webkit-text-size-adjust: 100%;
  -moz-tab-size: 4;
  tab-size: 4;
  font-feature-settings: normal;

  margin: 0;
  font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif,
    'Apple Color Emoji', 'Segoe UI Emoji';

  hr {
    height: 0;
    color: inherit;
    border-top-width: 1px;
  }

  abbr:where([title]) {
    text-decoration: underline dotted;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-size: inherit;
    font-weight: inherit;
    font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif,
    'Apple Color Emoji', 'Segoe UI Emoji';
    display: inline;
  }

  a {
    color: inherit;
    text-decoration: inherit;
  }

  b,
  strong {
    font-weight: bolder;
  }

  code,
  kbd,
  samp,
  pre {
    font-family: ui-monospace, SFMono-Regular, Consolas, 'Liberation Mono', Menlo, monospace;
    font-size: 1em;
  }

  small {
    font-size: 80%;
  }

  sub,
  sup {
    font-size: 75%;
    line-height: 0;
    position: relative;
    vertical-align: baseline;
  }

  sub {
    bottom: -0.25em;
  }

  sup {
    top: -0.5em;
  }

  table {
    text-indent: 0;
    border-color: inherit;
    border-collapse: collapse;
  }

  button,
  input,
  optgroup,
  select,
  textarea {
    font-family: inherit;
    font-size: 100%;
    font-weight: inherit;
    line-height: inherit;
    color: inherit;
    margin: 0;
    padding: 0;
  }

  button,
  select {
    text-transform: none;
  }

  button,
  [type='button'],
  [type='reset'],
  [type='submit'] {
    -webkit-appearance: button;
    background-color: transparent;
    background-image: none;
  }

  ::-moz-focus-inner {
    border-style: none;
    padding: 0;
  }

  :-moz-focusring {
    outline: 1px dotted ButtonText;
  }

  :-moz-ui-invalid {
    box-shadow: none;
  }

  legend {
    padding: 0;
  }

  progress {
    vertical-align: baseline;
  }

  ::-webkit-inner-spin-button,
  ::-webkit-outer-spin-button {
    height: auto;
  }

  [type='search'] {
    -webkit-appearance: textfield;
    outline-offset: -2px;
  }

  ::-webkit-search-decoration {
    -webkit-appearance: none;
  }

  ::-webkit-file-upload-button {
    -webkit-appearance: button;
    font: inherit;
  }

  summary {
    display: list-item;
  }

  blockquote,
  dl,
  dd,
  h1,
  h2,
  h3,
  h4,
  h5,
  h6,
  hr,
  figure,
  p,
  pre {
    margin: 0;
  }

  fieldset {
    margin: 0;
    padding: 0;
  }

  legend {
    padding: 0;
  }

  ol,
  ul,
  menu {
    list-style: none;
    margin: 0;
    padding: 0;
  }

  textarea {
    resize: vertical;
  }

  input::placeholder,
  textarea::placeholder {
    opacity: 1;
    color: #9ca3af;
  }

  button,
  [role='button'] {
    cursor: pointer;
  }

  :disabled {
    cursor: default;
  }

  img,
  svg,
  video,
  canvas,
  audio,
  iframe,
  embed,
  object {
    display: block;
  }

  img,
  video {
    max-width: 100%;
    height: auto;
  }

  [hidden] {
    display: none;
  }
`),GDe=({children:t,open:e,onClick:n,...r})=>pe.jsx(Oz,{show:e,as:Qe.Fragment,children:pe.jsxs(Ipe,{onClose:n,...r,as:YDe,children:[pe.jsx(Qy,{as:Qe.Fragment,enterFrom:"entering",leaveTo:"leaving",children:pe.jsx(KDe,{id:"privy-dialog-backdrop","aria-hidden":"true"})}),pe.jsx(ZDe,{children:pe.jsx(Qy,{as:Qe.Fragment,enterFrom:"entering",leaveTo:"leaving",children:pe.jsx(kz,{as:XDe,children:t})})})]})});let KDe=qn.div.withConfig({displayName:"Backdrop",componentId:"sc-3cfde0b5-0"})(["position:fixed;inset:0;transition:backdrop-filter 100ms ease;backdrop-filter:blur(3px);-webkit-backdrop-filter:blur(3px);&.entering,&.leaving{backdrop-filter:unset;-webkit-backdrop-filter:unset;}"]),YDe=qn.div.withConfig({displayName:"DialogWrapper",componentId:"sc-3cfde0b5-1"})(["position:relative;z-index:999999;"]),ZDe=qn.div.withConfig({displayName:"DialogContainer",componentId:"sc-3cfde0b5-2"})(["position:fixed;inset:0;display:flex;align-items:center;justify-content:center;width:100vw;min-height:100vh;"]);const XDe=qn.div.withConfig({displayName:"Panel",componentId:"sc-3cfde0b5-3"})(["padding:0;background:transparent;border:none;width:100%;pointer-events:auto;outline:none;display:block;@media (max-width:440px){opacity:1;transform:translate3d(0,0,0);transition:transform 200ms ease-in;position:fixed;bottom:0;&.entering,&.leaving{opacity:0;transform:translate3d(0,100%,0);transition:transform 150ms ease-in 0ms,opacity 0ms ease 150ms;}}@media (min-width:441px){opacity:1;transition:opacity 100ms ease-in;&.entering,&.leaving{opacity:0;transition-delay:5ms;}margin:auto;width:360px;box-shadow:0px 8px 36px rgba(55,65,81,0.15);border-radius:var(--privy-border-radius-lg);}"]),JDe=()=>{let{ready:t}=Ug(),{currentScreen:e}=Vy(),[n,r]=Y.useState(null),[i,s]=Y.useState(!1),a=(function(c){let[u,d]=Y.useState(!1),h=Y.useRef(null),p=Y.useRef(null),y=Y.useRef(null);return Y.useEffect((()=>{if(h.current&&(clearTimeout(h.current),h.current=null),p.current&&(clearTimeout(p.current),p.current=null),c)y.current=Date.now(),h.current=setTimeout((()=>{d(!0)}),150);else if(y.current!==null){let g=Date.now()-y.current;if(g>=150){let b=Math.max(0,400-(g-150));p.current=setTimeout((()=>{d(!1),y.current=null}),b)}else h.current&&(clearTimeout(h.current),h.current=null),d(!1),y.current=null}return()=>{h.current&&clearTimeout(h.current),p.current&&clearTimeout(p.current)}}),[c]),u})(i);return Y.useEffect((()=>{if(!e)return r(null),void s(!1);s(!0),T_[e]().then((c=>{(!e||t||c.default.isShownBeforeReady)&&(r((()=>c.default.component)),s(!1))})).catch((()=>{r(null),s(!1)}))}),[e,t]),{component:n,isLoading:a}};let vU=Y.lazy((()=>ze(()=>import("./MfaVerifyFlowScreen-BEt8Gfpb-CE-4pOz6.js"),__vite__mapDeps([163,138,136,80,63,134,7,4,5,6,8,95,124,30,31,139,140,54,36,35,27,52])))),QDe=Y.lazy((()=>(t=>T_[t]().then((e=>({default:e.default.component}))))("MfaAuthVerifyFlowScreen"))),e9e=()=>pe.jsx(i9e,{children:pe.jsx(F1,{})}),MV=()=>{let{currentScreen:t}=Vy(),e=fg((s=>s.inProgressMfaFlow)),n=()=>fg.setState({inProgressMfaFlow:void 0}),{component:r,isLoading:i}=JDe();return(function(){let{isModalOpen:s}=Ug(),{headless:a}=Ro(),{currentScreen:c}=Vy(),{status:u,execute:d,reset:h,enabled:p}=UV(),[y,g]=Y.useState(!1);Y.useEffect((()=>{!s&&p&&h()}),[s,p,h]),Y.useEffect((()=>{c?T_[c]().then((b=>{g(!!b.default.isCaptchaRequired)})).catch((()=>{g(!1)})):g(!1)}),[c]),Y.useEffect((()=>{s&&y&&!a&&u==="ready"&&p&&d()}),[s,y,a,u,p,d])})(),t||e!=="txn"?i?pe.jsx(e9e,{}):r?pe.jsxs(pe.Fragment,{children:[pe.jsx(Y7,{$if:!!e,children:pe.jsx(Y.Suspense,{children:pe.jsx(r,{})})}),pe.jsxs(Y.Suspense,{children:[e==="txn"&&pe.jsx(vU,{onClose:n}),e==="auth"&&pe.jsx(QDe,{})]})]}):null:pe.jsxs(Y.Suspense,{children:[pe.jsx(vU,{onClose:n}),";"]})},t9e=()=>{let t=Y.useRef(null);return pe.jsx(r9e,{style:{height:Gce(t)},id:"privy-modal-content",children:pe.jsx("div",{ref:t,children:pe.jsx(MV,{})})})};const n9e=({open:t})=>{let e=Ro(),{gracefulClosePrivyModal:n}=(()=>{let{closePrivyModal:i}=zd(),{onUserCloseViaDialogOrKeybindRef:s}=Vy();return{gracefulClosePrivyModal:Y.useCallback((()=>{if(!s?.current)return i({shouldCallAuthOnSuccess:!1});s.current()}),[i])}})(),r=fg((i=>i.inProgressMfaFlow));return WDe({onMfaRequired:()=>{e.mfa.noPromptOnMfaRequired||fg.setState({inProgressMfaFlow:"txn"})}}),e.render.standalone?pe.jsx(wU,{children:pe.jsx(BV,{id:"privy-modal-content",children:pe.jsx(MV,{})})}):pe.jsx(GDe,{open:!(!t&&!r),id:"privy-dialog","aria-label":"log in or sign up","aria-labelledby":"privy-dialog-title",onClick:()=>n(),children:pe.jsx(wU,{children:pe.jsx(t9e,{})})})};let BV=qn.div.withConfig({displayName:"ContentWrapper",componentId:"sc-9b080f09-0"})(["display:flex;flex-direction:column;text-align:center;font-size:14px;line-height:20px;width:100%;background:var(--privy-color-background);padding:0 16px;"]),r9e=qn(BV).withConfig({displayName:"BaseModal",componentId:"sc-9b080f09-1"})(["transition:height 150ms ease-out;overflow-x:hidden;overflow-y:auto;scrollbar-width:none;max-height:calc(100svh - 32px);border-radius:var(--privy-border-radius-lg) var(--privy-border-radius-lg) 0 0;box-shadow:0px 0px 36px rgba(55,65,81,0.15);@media (min-width:441px){box-shadow:0px 8px 36px rgba(55,65,81,0.15);border-radius:var(--privy-border-radius-lg);}"]),i9e=qn.div.withConfig({displayName:"LoadingScreenContainer",componentId:"sc-9b080f09-2"})(["display:flex;align-items:center;justify-content:center;min-height:300px;padding:2rem;"]);function s9e(t){let e=Y.useRef(null),n=Y.useRef();return Y.useEffect((()=>{n.current?.remove(),n.current=(function({botUsername:r,scriptHost:i}){let s=document.createElement("script"),{origin:a}=new URL(i);return s.async=!0,s.src=`${a}/js/telegram-login.js`,s.setAttribute("data-telegram-login",r),s.setAttribute("data-request-access","write"),s.setAttribute("data-lang","en"),s})(t),e.current?.after(n.current)}),[t]),pe.jsx("div",{ref:e,hidden:!0})}const a9e=()=>{let{ready:t}=W7(),{client:e}=zd();return Y.useEffect((()=>{let n=()=>{if(!e.connectors||!t)return;let r=e.connectors.wallets.map((i=>({address:i.address,connectorType:i.connectorType,walletClientType:i.walletClientType,connectedAt:i.connectedAt,id:i.meta.id})));rt.put(ZL,r)};return e.connectors?.on("walletsUpdated",n),()=>{e.connectors?.off("walletsUpdated",n)}}),[t,e.connectors]),null};class pT extends qd{async initialize(){let e=await this.createProvider();this.provider=e,this.proxyProvider.setWalletProvider(e),this.subscribeListeners(),e.session&&(this.walletProvider?.session?.peer.metadata.url&&(this.walletEntry=CS(this.walletProvider?.session?.peer.metadata.url),this.walletClientType=this.walletEntry?.slug||"unknown"),this.connected=!0,await this.syncAccounts()),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),this.getConnectedWallet()}async isConnected(){return!!this.walletProvider?.connected}get walletBranding(){let e=this.walletProvider?.session?.peer.metadata.icons?.[0];return{name:Wce(this.walletProvider?.session?.peer.metadata.name||"")||"WalletConnect",icon:typeof e=="string"?e:jce,id:this.walletProvider?.session?.peer.metadata.name.toLowerCase()||"wallet_connect_v2"}}async resetConnection(e){this.walletProvider&&this.walletProvider.connected&&(await this.walletProvider.disconnect(),this.walletProvider.signer.session=void 0,this.walletClientType=e,this.redirectUri=void 0,this.fallbackUniversalRedirectUri=void 0,nfe(),this.onDisconnect())}async promptConnection(){if(this.provider)return new Promise(((e,n)=>{(async()=>{let r="",i=await Promise.race([this.walletProvider?.enable(),this.proxyProvider.walletTimeout()]);if(i?.length&&(r=i[0]),!r||r==="")throw new Mn("Unable to retrieve address");this.walletProvider?.session?.peer.metadata.url&&(this.walletEntry=CS(this.walletProvider?.session?.peer.metadata.url),this.walletClientType=this.walletEntry?.slug||"unknown",this.proxyProvider.rpcTimeoutDuration=C3(this.rpcConfig,this.walletClientType)),this.connected=!0,await this.syncAccounts(i),e()})().catch((r=>{n(r?hu(r):new Mn("Unknown error during connection"))}))}))}disconnect(){this.walletProvider?.disconnect().then((()=>this.onDisconnect())).catch((()=>console.warn("Unable to disconnect WalletConnect provider")))}get walletProvider(){return this.proxyProvider.walletProvider}setWalletProvider(e){this.proxyProvider.setWalletProvider(e)}async createProvider(){let e={};for(let s of this.chains){let a=Vce(s.id,this.chains,this.rpcConfig,this.privyAppId);a&&(e[s.id]=a)}let n=this.shouldEnforceDefaultChainOnConnect?[this.defaultChain.id]:[],r=this.chains.map((s=>s.id)),i=await $Ce.init({projectId:this.walletConnectCloudProjectId,chains:n,optionalChains:r,optionalEvents:JW,optionalMethods:XW,rpcMap:e,showQrModal:!1,metadata:{description:this.privyAppName,name:this.privyAppName,url:window.location.origin,icons:[]}});return i.on("display_uri",(s=>{if(i.signer.abortPairingAttempt(),ife(),!this.showPrivyQrModal)throw new Mn("WalletConnect modal not available - Privy handles wallet connections through its own UI");if(Mc.isMobile&&this.walletEntry){let{redirect:a,href:c}=tfe(s,this.walletEntry);Hj(a,"_self"),rfe({href:c,name:this.walletEntry.metadata?.shortName||this.walletEntry.name});let u=MN(s,this.walletEntry);return this.redirectUri=a,this.fallbackUniversalRedirectUri=u?.redirect,this.showPrivyQrModal({native:a,universal:a})}if(this.redirectUri=void 0,this.walletEntry){let a=MN(s,this.walletEntry);this.fallbackUniversalRedirectUri=a?.redirect}this.showPrivyQrModal({native:s,universal:void 0})})),i.on("connect",(()=>{i.session?.peer.metadata.url&&(this.walletEntry=CS(i.session?.peer.metadata.url),this.walletClientType=this.walletEntry?.slug||"unknown")})),i}async enableProvider(){return this.walletProvider?.connected?Promise.resolve(this.walletProvider.accounts):await this.walletProvider?.enable()}setWalletEntry(e,n){this.walletEntry=e,this.showPrivyQrModal=n}constructor({walletConnectCloudProjectId:e,rpcConfig:n,chains:r,defaultChain:i,shouldEnforceDefaultChainOnConnect:s,privyAppId:a,privyAppName:c,walletClientType:u}){super(u||"unknown",r,i,n),this.connectorType="wallet_connect_v2",this.privyAppId=a,this.privyAppName=c,this.walletConnectCloudProjectId=e,this.rpcConfig=n,this.shouldEnforceDefaultChainOnConnect=s,this.proxyProvider=new Wd(void 0,this.rpcTimeoutDuration),u&&(this.walletEntry=Fce(u),this.walletClientType=u)}}const o9e=["error","invalid_request_arguments","wallet_not_on_device","invalid_recovery_pin","insufficient_funds","missing_or_invalid_mfa","mfa_verification_max_attempts_reached","mfa_timeout","twilio_verification_failed"];class Zn extends Error{constructor(e,n){super(n),this.type=e}}function bp(t){let e=t.type;return typeof e=="string"&&o9e.includes(e)}function n1(t){return bp(t)&&t.type==="wallet_not_on_device"}function b7e(t){return bp(t)&&(t.type==="invalid_recovery_pin"||t.type==="invalid_request_arguments")}function w7e(t){return!!bp(t)&&t.type==="mfa_timeout"}function v7e(t){return!!bp(t)&&t.type==="missing_or_invalid_mfa"}function _7e(t){return!!bp(t)&&t.type==="mfa_verification_max_attempts_reached"}function E7e(t){return!(!bp(t)||!t.message.includes("code 429"))}function S7e(t){return!!(function(e){let n=e.type;return typeof n=="string"&&n==="client_error"})(t)&&t.message==="MFA canceled"}async function Ys(t,e,n,r,i,s=!1){let a=s,c=async d=>{if(a&&e&&e.length>0){d===(s?0:1)?i("configureMfa","onMfaRequired",{mfaMethods:e}):r.current?.reject(new Zn("missing_or_invalid_mfa","MFA verification failed, retry."));let h=await new Promise(((p,y)=>{n.current={resolve:p,reject:y},setTimeout((()=>{let g=new Zn("mfa_timeout","Timed out waiting for MFA code");r.current?.reject(g),y(g)}),3e5)}));return await t(h)}return await t()},u=null;for(let d=0;d<4;d++)try{u=await c(d),r.current?.resolve(void 0);break}catch(h){if(h.type!=="missing_or_invalid_mfa")throw r.current?.resolve(void 0),h;a=!0}if(u===null){let d=new Zn("mfa_verification_max_attempts_reached","Max MFA verification attempts reached");throw r.current?.reject(d),d}return u}var _U;let c9e=(_U=0,()=>"id-"+_U++);function Ar(t){return t.error!==void 0}let ur=new class{enqueue(t,e){this.callbacks[t]=e}dequeue(t,e){let n=this.callbacks[e];if(!n)throw Error(`cannot dequeue ${t} event: no event found for id ${e}`);switch(delete this.callbacks[e],t){case"privy:iframe:ready":case"privy:user-signer:sign":case"privy:wallets:add":case"privy:wallets:import":case"privy:wallets:set-recovery":case"privy:wallets:connect":case"privy:wallets:recover":case"privy:wallets:rpc":case"privy:wallet:create":case"privy:mfa:verify":case"privy:mfa:init-enrollment":case"privy:mfa:submit-enrollment":case"privy:mfa:unenroll":case"privy:mfa:clear":case"privy:auth:unlink-passkey":case"privy:farcaster:init-signer":case"privy:farcaster:sign":case"privy:solana-wallet:create":case"privy:delegated-actions:consent":return n;default:throw Error(`invalid wallet event type ${t}`)}}constructor(){this.callbacks={}}},gx=new Map,l9e=(t,e)=>typeof e=="bigint"?e.toString():e;function xr(t,e,n,r){let i=n.contentWindow;if(!i)throw Error("iframe not initialized");let s=((c,u)=>`${c}${JSON.stringify(u,l9e)}`)(t,e);if(t==="privy:wallet:create"){let c=gx.get(s);if(c)return c}let a=new Promise(((c,u)=>{let d=c9e();ur.enqueue(d,{resolve:c,reject:u}),i.postMessage({id:d,event:t,data:e},r)})).finally((()=>{gx.delete(s)}));return gx.set(s,a),a}function u9e(t){let e=QL(),n=Y.useRef(null),r=Y.useRef(t.mfaMethods),i=z1(),[s,a]=Y.useState(!1);return Y.useEffect((()=>{r.current=t.mfaMethods}),[t.mfaMethods]),Y.useEffect((()=>{if(!s)return;let c=n.current;if(!c)return;function u(p){var y;p&&p.origin===t.origin&&typeof(y=p.data).event=="string"&&/^privy:.+/.test(y.event)&&(function(g){switch(g.event){case"privy:iframe:ready":let b=ur.dequeue(g.event,g.id);return Ar(g)?b.reject(new Zn(g.error.type,g.error.message)):b.resolve(g.data);case"privy:user-signer:sign":{let A=ur.dequeue(g.event,g.id);return Ar(g)?A.reject(new Zn(g.error.type,g.error.message)):A.resolve(g.data)}case"privy:wallets:add":{let A=ur.dequeue(g.event,g.id);return Ar(g)?A.reject(new Zn(g.error.type,g.error.message)):A.resolve(g.data)}case"privy:wallets:set-recovery":{let A=ur.dequeue(g.event,g.id);return Ar(g)?A.reject(new Zn(g.error.type,g.error.message)):A.resolve(g.data)}case"privy:wallets:connect":{let A=ur.dequeue(g.event,g.id);return Ar(g)?A.reject(new Zn(g.error.type,g.error.message)):A.resolve(g.data)}case"privy:wallets:recover":{let A=ur.dequeue(g.event,g.id);return Ar(g)?A.reject(new Zn(g.error.type,g.error.message)):A.resolve(g.data)}case"privy:wallets:rpc":{let A=ur.dequeue(g.event,g.id);return Ar(g)?A.reject(new Zn(g.error.type,g.error.message)):A.resolve(g.data)}case"privy:wallet:create":let v=ur.dequeue(g.event,g.id);return Ar(g)?v.reject(new Zn(g.error.type,g.error.message)):v.resolve(g.data);case"privy:wallets:import":let E=ur.dequeue(g.event,g.id);return Ar(g)?E.reject(new Zn(g.error.type,g.error.message)):E.resolve(g.data);case"privy:mfa:verify":let O=ur.dequeue(g.event,g.id);return Ar(g)?O.reject(new Zn(g.error.type,g.error.message)):O.resolve(g.data);case"privy:mfa:init-enrollment":{let A=ur.dequeue(g.event,g.id);return Ar(g)?A.reject(new Zn(g.error.type,g.error.message)):A.resolve(g.data)}case"privy:mfa:submit-enrollment":{let A=ur.dequeue(g.event,g.id);return Ar(g)?A.reject(new Zn(g.error.type,g.error.message)):A.resolve(g.data)}case"privy:mfa:unenroll":{let A=ur.dequeue(g.event,g.id);return Ar(g)?A.reject(new Zn(g.error.type,g.error.message)):A.resolve(g.data)}case"privy:mfa:clear":{let A=ur.dequeue(g.event,g.id);return Ar(g)?A.reject(new Zn(g.error.type,g.error.message)):A.resolve(g.data)}case"privy:auth:unlink-passkey":{let A=ur.dequeue(g.event,g.id);return Ar(g)?A.reject(new Zn(g.error.type,g.error.message)):A.resolve(g.data)}case"privy:solana-wallet:create":let k=ur.dequeue(g.event,g.id);return Ar(g)?k.reject(new Zn(g.error.type,g.error.message)):k.resolve(g.data);case"privy:farcaster:init-signer":{let A=ur.dequeue(g.event,g.id);return Ar(g)?A.reject(new Zn(g.error.type,g.error.message)):A.resolve(g.data)}case"privy:farcaster:sign":{let A=ur.dequeue(g.event,g.id);return Ar(g)?A.reject(new Zn(g.error.type,g.error.message)):A.resolve(g.data)}case"privy:delegated-actions:consent":{let A=ur.dequeue(g.event,g.id);return Ar(g)?A.reject(new Zn(g.error.type,g.error.message)):A.resolve(g.data)}default:console.warn("Unsupported wallet proxy method:",g)}})(p.data)}let d={signWithUserSigner:p=>Ys((y=>xr("privy:user-signer:sign",{...p,...y},c,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i),addWallet:p=>Ys((y=>xr("privy:wallets:add",{...p,...y},c,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i),setRecovery:p=>Ys((y=>xr("privy:wallets:set-recovery",{...p,...y},c,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i),connect:p=>Ys((y=>xr("privy:wallets:connect",{...p,...y},c,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i),recover:p=>Ys((y=>xr("privy:wallets:recover",{...p,...y},c,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i,!p.recoveryAccessToken&&!p.recoveryPassword&&!p.recoverySecretOverride),rpc:p=>Ys((y=>xr("privy:wallets:rpc",{...p,...y},c,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i),create:p=>xr("privy:wallet:create",p,c,t.origin),importWallet:p=>xr("privy:wallets:import",p,c,t.origin),createSolana:p=>Ys((y=>xr("privy:solana-wallet:create",{...p,...y},c,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i),createDelegatedAction:p=>xr("privy:delegated-actions:consent",p,c,t.origin),verifyMfa:p=>Ys((y=>xr("privy:mfa:verify",{...p,...y},c,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i,!0),initEnrollMfa:p=>Ys((y=>xr("privy:mfa:init-enrollment",{...p,...y},c,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i),submitEnrollMfa:p=>Ys((y=>xr("privy:mfa:submit-enrollment",{...p,...y},c,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i),unenrollMfa:p=>Ys((y=>xr("privy:mfa:unenroll",{...p,...y},c,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i),clearMfa:p=>xr("privy:mfa:clear",p,c,t.origin),unlinkPasskeyAccount:p=>Ys((y=>xr("privy:auth:unlink-passkey",{...p,...y},c,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i),initFarcasterSigner:p=>xr("privy:farcaster:init-signer",p,c,t.origin),signFarcasterMessage:p=>xr("privy:farcaster:sign",p,c,t.origin)};window.addEventListener("message",u);let h=new AbortController;return P6((()=>xr("privy:iframe:ready",{},c,t.origin)),{abortSignal:h.signal}).then((()=>t.onLoad(d)),((...p)=>{console.warn("Privy iframe failed to load: ",...p),t.onLoadFailed()})),()=>{window.removeEventListener("message",u),h.abort()}}),[s]),e?pe.jsx("iframe",{ref:n,width:"0",height:"0",style:{display:"none",height:"0px",width:"0px"},onLoad:()=>a(!0),src:WCe({origin:t.origin,path:`/apps/${t.appId}/embedded-wallets`,query:{caid:t.clientAnalyticsId,client_id:t.appClientId}})}):null}const d9e=({address:t,user:e})=>{let n=e.linkedAccounts.find((r=>r.type==="wallet"&&r.walletClientType==="privy"&&r.address===t));if(!n)throw new ae("Address to delegate is not associated with current user.");if(!L1(n))throw new ae(`useDelegatedActions is not supported for ${n.chainType} wallets. Use the useSessionSigners hook to provision server side access on behalf of your users.`);return{address:n.address,chainType:n.chainType,walletIndex:n.walletIndex??0}},f9e=({address:t,user:e})=>{let n=e.linkedAccounts.find((i=>i.type==="wallet"&&i.walletClientType==="privy"&&i.address===t));if(!n)throw new ae("Address to delegate is not associated with current user.");let r=n.imported?n:Hy(e);if(!r)throw new ae("Unable to determine root address for delegated address.");if(!L1(r))throw new ae(`useDelegatedActions is not supported for ${r.chainType} wallets. Use the useSessionSigners hook to provision server side access on behalf of your users.`);return{address:r.address,chainType:r.chainType,imported:r.imported}},EU=t=>t.linkedAccounts.filter((e=>e.type==="wallet"&&e.walletClientType==="privy"&&e.delegated)),SU="popup-privy-oauth",AU="PRIVY_OAUTH_USE_BROADCAST_CHANNEL";class h9e{async authenticate(){if(!this.api)throw new ae("Auth flow has no API instance");try{return await this.api.post(Lj,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:this.meta.codeVerifier,provider:this.meta.provider})}catch(e){throw Wt(e)}}async link(){if(!this.api)throw new ae("Auth flow has no API instance");try{return await this.api.post(jj,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:this.meta.codeVerifier,provider:this.meta.provider})}catch(e){throw Wt(e)}}constructor({authorizationCode:e,stateCode:n,codeVerifier:r,provider:i}){this.meta={authorizationCode:e,stateCode:n,codeVerifier:r,provider:i}}}async function LV({api:t,requesterAppId:e,providerAppId:n}){let r=(await t.get(`/api/v1/apps/${e}/cross-app/connections`)).connections.find((i=>i.provider_app_id===n));if(!r)throw new ae("Invalid connected app");return{name:r.provider_app_name,logoUrl:r.provider_app_icon_url||void 0,apiUrl:r.provider_app_custom_api_url,readOnly:r.read_only,customAuthAuthorizeUrl:r.provider_app_custom_auth_authorize_url,customAuthTransactUrl:r.provider_app_custom_auth_transact_url}}const hw=async({user:t,address:e,client:n,request:r,requesterAppId:i,reconnect:s})=>{n.createAnalyticsEvent({eventName:"cross_app_request_started",payload:{address:e,method:r.method}});let a=t?.linkedAccounts.find((p=>p.type==="cross_app"&&(p.embeddedWallets.some((y=>y.address===e))||p.smartWallets.some((y=>y.address===e)))));if(!t||!a)throw n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Cannot request a signature with this wallet address",address:e}}),new ae("Cannot request a signature with this wallet address");let c=n.getProviderAccessToken(a.providerApp.id),u=await LV({api:n.api,requesterAppId:i,providerAppId:a.providerApp.id});if(!c){if(u.readOnly)throw console.error("cannot transact against a read-only provider app"),new ae("Cannot transact against a read-only provider app");await s({appId:a.providerApp.id,action:"link"})&&(c=n.getProviderAccessToken(a.providerApp.id))}if(!c)throw n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Transactions require a valid token",address:e}}),new ae("Transactions require a valid token");let d=new URL(u.customAuthTransactUrl||`${u.apiUrl}/oauth/transact`);d.searchParams.set("token",c||""),d.searchParams.set("request",p9e(r));let h=Dj({location:d.href});if(!h)throw n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Missing token",address:e}}),new ae("Failed to initialize signature request");return new Promise(((p,y)=>{let g=setTimeout((()=>{E(),y(new ae("Request timeout")),n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Request timeout",address:e}})}),12e4),b=setInterval((()=>{h.closed&&(E(),y(new ae("User rejected request")),n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"User rejected request",address:e}}))}),300),v=O=>{O.data&&(O.data.token?.action==="set"&&O.data.token?.value!==void 0?n.storeProviderAccessToken(a.providerApp.id,O.data.token.value):O.data.token?.action==="clear"&&n.storeProviderAccessToken(a.providerApp.id,null),O.data.type==="PRIVY_CROSS_APP_ACTION_RESPONSE"&&O.data.result&&(E(),p(O.data.result),n.createAnalyticsEvent({eventName:"cross_app_request_success",payload:{address:e,method:r.method}})),O.data.type==="PRIVY_CROSS_APP_ACTION_ERROR"&&O.data.error&&(E(),y(O.data.error),n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:O.data.error,address:e}})))};window.addEventListener("message",v);let E=()=>{h.close(),clearInterval(b),clearTimeout(g),window.removeEventListener("message",v)}}))};let p9e=t=>JSON.stringify({content:{request:{request:mT(t,Et)}},timestamp:Date.now(),callbackUrl:window.origin});const mT=(t,e)=>typeof t=="bigint"?e(t):Array.isArray(t)?t.map((n=>mT(n,e))):t&&typeof t=="object"?Object.fromEntries(Object.entries(t).map((([n,r])=>[n,mT(r,e)]))):t;function m9e({isCreatingWallet:t,skipSplashScreen:e}){return t?"EmbeddedWalletPasswordCreateScreen":e?"EmbeddedWalletPasswordUpdateScreen":"EmbeddedWalletPasswordUpdateSplashScreen"}function y9e({walletAction:t,availableRecoveryMethods:e,legacySetWalletPasswordFlow:n,isResettingPassword:r,showAutomaticRecovery:i}){return i?"SetAutomaticRecoveryScreen":n||e.length===1?m9e({isCreatingWallet:t==="create",skipSplashScreen:r}):"RecoverySelectionScreen"}function g9e(t){switch(t){case"user-passcode":return"PasswordRecoveryScreen";case"google-drive":case"icloud":return"RecoveryOAuthScreen";default:throw Error("Recovery method not supported")}}function A7e(t,e,n,r,i,s,a){return{...t,funding:t?.funding?{...t.funding,fundingResult:{status:e,address:t.funding.address,fundingMethod:void 0,transactionHash:n,amount:t.funding.amount,assetType:i?s?.symbol||"ETH":a.nativeCurrency.symbol||"ETH",metadata:{walletClientType:r}}}:void 0,solanaFundingData:t?.solanaFundingData,sendTransaction:t?.sendTransaction}}const bx=new Map([["FundingMethodSelectionScreen",null],["TransferFromWalletScreen","external"],["FundingAmountEditScreen","external"],["ConnectOnlyLandingScreen","external"],["ConnectOnlyStatusScreen","external"],["AwaitingExternalEthereumTransferScreen","external"],["AwaitingEvmToSolBridgingScreen","external"],["AwaitingSolToEvmBridgingScreen","external"],["ManualTransferScreen","manual"],["MoonpayStatusScreen","moonpay"]]);function xU(t){let e=t.toLowerCase();return!!window?.webkit?.messageHandlers?.ReactNativeWebView||!!window?.ReactNativeWebView||["fbav","fban","instagram","snapchat","linkedinapp"].some((n=>e.includes(n)))}async function b9e({rpc:t,address:e}){return(await t.getBalance(e,{commitment:"confirmed"}).send()).value??0n}let w9e={apple_oauth:"apple",custom_auth:"custom",discord_oauth:"discord",email:"email",farcaster:"farcaster",github_oauth:"github",google_oauth:"google",instagram_oauth:"instagram",linkedin_oauth:"linkedin",passkey:"passkey",phone:"sms",spotify_oauth:"spotify",telegram:"telegram",tiktok_oauth:"tiktok",line_oauth:"line",twitch_oauth:"twitch",twitter_oauth:"twitter",wallet:"siwe",smart_wallet:"siwe",cross_app:"privy:"};const v9e=t=>{if(o7(t))return{displayName:t.replace("custom:",""),loginMethod:"custom"};let e=w9e[t];return t==="wallet"||t==="phone"?{displayName:t,loginMethod:e}:{displayName:e,loginMethod:e}},_9e=(t,e)=>!mc(t)&&(e==="all-users"||e==="users-without-wallets"&&!E9e(t).length);let E9e=t=>t.linkedAccounts.filter((e=>e.type==="wallet"&&e.chainType==="ethereum"));const S9e=(t,e)=>!w3(t)&&(e==="all-users"||e==="users-without-wallets"&&!A9e(t).length);let A9e=t=>t.linkedAccounts.filter((e=>e.type==="wallet"&&e.chainType==="solana"));async function TU(t,e,n,r){let i=Xw(t),{chain:s,...a}=await(async()=>r?await r():await e.prepareTransactionRequest({...i,account:{address:n,type:"json-rpc"}}))();return{...a,type:RL[a.type]}}const x9e=()=>{let t=Ro(),{user:e}=Ug(),{client:n,refreshSessionAndUser:r,walletProxy:i}=zd();return{migrate:Y.useCallback((async()=>{if(t.embeddedWallets.mode==="legacy-embedded-wallets-only")return{success:!0};if(!e)throw new ae("User must be authenticated before migrating wallets",Ie.MUST_BE_AUTHENTICATED);if(!i)throw new ae("Cannot connect to wallet proxy");let s=await n.getAccessToken();if(!s)throw new ae("User must be authenticated before migrating wallets",Ie.MUST_BE_AUTHENTICATED);let a=e.linkedAccounts.filter((d=>d.type==="wallet"&&d.walletClientType==="privy"&&L1(d)&&!ws(d)));if(a.length===0)return{success:!0};let c=a.filter((d=>d.imported)),u=a.filter((d=>!d.imported));if(u.length>0){let d=u.find((y=>y.chainType==="ethereum"&&y.walletIndex===0))??u.find((y=>y.chainType==="solana"&&y.walletIndex===0))??null;if(!d)throw new ae("Primary wallet not found");let{entropyId:h,entropyIdVerifier:p}=_v(d);try{await i.connect({accessToken:s,entropyId:h,entropyIdVerifier:p})}catch(y){if(!n1(y)||d.recoveryMethod!=="privy")throw y;await i.recover({accessToken:s,entropyId:h,entropyIdVerifier:p})}await i.createDelegatedAction({accessToken:s,rootWallet:{address:d.address,chainType:d.chainType,imported:!1},delegatedWallets:u.map((y=>({address:y.address,chainType:y.chainType,walletIndex:y.walletIndex??0})))})}for(let d of c){let{entropyId:h,entropyIdVerifier:p}=_v(d);try{await i.connect({accessToken:s,entropyId:h,entropyIdVerifier:p})}catch(y){if(!n1(y)||d.recoveryMethod!=="privy")throw y;await i.recover({accessToken:s,entropyId:h,entropyIdVerifier:p})}await i.createDelegatedAction({accessToken:s,rootWallet:{address:d.address,chainType:d.chainType,imported:!0},delegatedWallets:[{address:d.address,chainType:d.chainType,walletIndex:d.walletIndex??0}]})}return await r(),{success:!0}}),[t.embeddedWallets.mode,e,i,n,r])}},T9e=({disabled:t})=>{let{migrate:e}=x9e(),{user:n}=Ug(),{walletProxy:r}=zd(),i=Y.useRef(!1);return Y.useEffect((()=>{!t&&!i.current&&n&&r&&(i.current=!0,e().catch((s=>{console.debug("Unable to migrate wallets: ",s)})).finally((()=>{i.current=!1})))}),[n,r,t,e]),null},I9e=t=>({id:t.id,raw_id:t.rawId,response:{client_data_json:t.response.clientDataJSON,authenticator_data:t.response.authenticatorData,signature:t.response.signature,user_handle:t.response.userHandle},authenticator_attachment:t.authenticatorAttachment,client_extension_results:{app_id:t.clientExtensionResults.appid,cred_props:t.clientExtensionResults.credProps,hmac_create_secret:t.clientExtensionResults.hmacCreateSecret},type:t.type}),yT=Fd((()=>({ethereum:[]}))),pw=()=>yT.getState().ethereum;class jV{async authenticate(){if(!this.api)throw new ae("Auth flow has no API instance");try{return await this.api.post(Vde,{token:this.meta.token})}catch(e){throw Wt(e)}}async link(){if(!this.api)throw new ae("Auth flow has no API instance");try{return await this.api.post(Gde,{token:this.meta.token})}catch(e){throw Wt(e)}}constructor(e){this.meta={token:e}}}function C9e({subscribe:t,getExternalJwt:e,enabled:n=!0,onAuthenticated:r,onUnauthenticated:i,onError:s}){let{client:a,onCustomAuthAuthenticated:c}=zd(),{logout:u,authenticated:d,ready:h}=Gj();if(!a)throw new ae("`useSyncJwtBasedAuthState` must be used within a `PrivyProvider`");let[p,y]=Y.useState({status:"initial"}),g=Y.useRef(),b=Y.useRef(!1),v=Y.useRef(e);Y.useEffect((()=>{v.current=e}),[e]);let E=Y.useRef(r);Y.useEffect((()=>{E.current=r}),[r]);let O=Y.useRef(i);Y.useEffect((()=>{O.current=i}),[i]);let k=Y.useRef(s);return Y.useEffect((()=>{k.current=s}),[s]),Y.useEffect((()=>{if(!n||!h)return;let A=async()=>{if(!b.current){b.current=!0;try{y({status:"loading"});let S=await v.current();if(g.current!==void 0&&g.current===S)return void y({status:"done"});if(!S)return d&&(await u(),O.current?.()),g.current=S,void y({status:"done"});a.startAuthFlow(new jV(S));let{user:C,isNewUser:I=!1}=await a.authenticate();if(!C)throw new ae("Failed to sync with custom auth provider");E.current?.({user:C,isNewUser:I}),c(C,I),g.current=S,y({status:"done"})}catch(S){if(console.warn(S),await u().catch((()=>{})),O.current?.(),S instanceof pv&&S.privyErrorCode===Ie.LINKED_TO_ANOTHER_USER)return y({status:"initial"}),void setTimeout((()=>{A()}),0);k.current?.(S),y({status:"error",error:S})}finally{b.current=!1}}};return A(),t(A)}),[t,a,c,d,u,n,h]),n?{state:p}:{state:{status:"not-enabled"}}}let O9e=Fd((()=>({jwtAuthFlowState:{status:"not-enabled"}})));function k9e({customAuth:t}){let{jwtAuthFlowState:e}=(function({customAuth:n}){let r=z1(),i=Y.useRef(),s=Y.useCallback((u=>(i.current=u,()=>{i.current=void 0})),[]),a=n?.getCustomAccessToken??(()=>Promise.resolve(void 0)),{state:c}=C9e({enabled:n?.enabled===!0,subscribe:s,getExternalJwt:a,onAuthenticated:({user:u,isNewUser:d})=>{r("login","onComplete",{user:u,isNewUser:d,wasAlreadyAuthenticated:!1,loginMethod:"custom",loginAccount:null}),r("customAuth","onAuthenticated",{user:u})},onUnauthenticated:()=>{r("customAuth","onUnauthenticated")},onError:u=>{r("login","onError",u.privyErrorCode||Ie.UNKNOWN_AUTH_ERROR)}});return Y.useEffect((()=>{(async()=>n&&!n.isLoading&&i.current?.())()}),[n?.enabled,n?.getCustomAccessToken,n?.isLoading]),{jwtAuthFlowState:c}})({customAuth:t});return Y.useEffect((()=>{O9e.setState({jwtAuthFlowState:e})}),[e]),null}const zV=Y.createContext(!1);let FV,qV,WV,HV,VV;const R9e=t=>{let e=t.client,n=t.privy,r=ofe(),i=Ro();H7($6(i?.appearance.walletList??[]));let[s,a]=Y.useState(!1),c=fg((M=>M.inProgressMfaFlow)),[u,d]=Y.useState(!1),[h,p]=Y.useState(null),y=yT((M=>M.ethereum)),[g,b]=Y.useState(void 0),[v,E]=Y.useState(!1),[O,k]=Y.useState(null),[A,S]=Y.useState(!1),[C,I]=Y.useState({status:"disconnected",connectedWallet:null,connectError:null,connector:null,connectRetry:fe}),[$,z]=Y.useState({status:"initial"}),[j,B]=Y.useState({status:"initial"}),[G,U]=Y.useState({status:"initial"}),[F,K]=Y.useState({status:"initial"}),[T,x]=Y.useState({status:"initial"}),[N,L]=Y.useState({status:"initial"}),[P,H]=Y.useState(null),D=QL(),[V,J]=Y.useState({}),[X,Q]=Y.useState(null),ge=Y.useRef(null),[we,xe]=Y.useState(!1),[Ee,$e]=Y.useState(!1),Fe=Y.useRef(null),tt=Y.useRef(null),me=Y.useRef(zce),[St,Ht]=Y.useState(!1),[gt,li]=Y.useState(!1),qt=Y.useCallback((M=>{li(M),!M&&O&&T_[O]().then((W=>{W.default.isUnauthenticatedScreem&&k(null)}))}),[O]);e.onStoreCustomerAccessToken=M=>{M&&Ce(me,"accessToken","onAccessTokenGranted",{accessToken:M})},e.onDeleteCustomerAccessToken=()=>{p(null),qt(!1),Ce(me,"accessToken","onAccessTokenRemoved")};let Be=Y.useRef(null),He=Y.useRef(null),ui=Y.useRef(!1),di=({showWalletUIs:M})=>ui.current?ui.current:M!==void 0?!M:!i.embeddedWallets.showWalletUIs,ut=M=>{k(M),setTimeout((()=>{a(!0)}),15)};Y.useEffect((()=>{if(!h)return void e.connectors?.removeEmbeddedWalletConnectors();let M=mc(h),W=c7(h),te=S6(h);M&&W.length||e.connectors?.removeEmbeddedWalletConnectors(),te.length||e.connectors?.removeImportedWalletConnectors(),e.connectors?P?(M&&e.connectors.addEmbeddedWalletConnectors({walletProxy:P,user:h,embeddedWallets:W,defaultChain:i.defaultChain,appId:t.appId,privyClient:n}),te.forEach((ee=>e.connectors?.addImportedWalletConnector(P,ee.address,i.defaultChain,t.appId)))):console.debug("Failed to add embedded wallet connector: Wallet proxy not initialized"):console.debug("Failed to add embedded wallet connector: Client connectors not initialized")}),[P,h]),Y.useEffect((()=>{P&&ge.current?.(P)}),[P]);let gn=Y.useCallback(((M,W)=>{p(M),E(W),qt(!0),$e(!0)}),[]);Y.useEffect((()=>{Ee&&P&&h&&(async()=>{let M=_9e(h,i.embeddedWallets.ethereum.createOnLogin),W=S9e(h,i.embeddedWallets.solana.createOnLogin),te=await Sn();if(te){if(M&&W){let ee=await P.create({accessToken:te});return await P.createSolana({accessToken:te,ethereumAddress:ee?.address}),void $e(!1)}if(W)return await P.createSolana({accessToken:te,ethereumAddress:mc(h)?.address}),await bt.refreshSessionAndUser(),void $e(!1);if(M)return await P.create({accessToken:te}),void $e(!1)}})().catch(console.error)}),[Ee&&P&&h]),Y.useEffect((()=>{if(i.externalWallets.solana.connectors)return i.externalWallets.solana.connectors.onMount(),()=>i.externalWallets.solana.connectors?.onUnmount()}),[i.externalWallets.solana.connectors]),Y.useEffect((()=>{!u&&D&&(async function(){let M,W=fa(),te=as(),ee=ede();e.initializeConnectorManager({walletConnectCloudProjectId:i.walletConnectCloudProjectId,rpcConfig:i.rpcConfig,chains:i.chains,defaultChain:i.defaultChain,store:ee,walletList:i.appearance.walletList,shouldEnforceDefaultChainOnConnect:i.shouldEnforceDefaultChainOnConnect,externalWalletConfig:i.externalWallets,appName:i.name??"Privy",walletChainType:i.appearance.walletChainType,setBaseAccountSdk:b}),e.connectors?.on("connectorInitialized",(()=>{M&&clearTimeout(M);let Te=e.connectors.walletConnectors.length,Re=e.connectors.walletConnectors.reduce(((Ze,ht)=>Ze+(ht.initialized?1:0)),0);Re===Te?Ht(!0):M=setTimeout((()=>{console.debug({message:"Unable to initialize all expected connectors before timeout",initialized:Re,expected:Te}),Ht(!0)}),1500)})),e.connectors?.initialize().then((()=>{At()}));let se=await e.getAuthenticatedUser(),le=!!se;i.legal.requireUsersAcceptTerms&&se&&!se.hasAcceptedTerms?(await e.logout(),bt.setReadyToTrue(!0),Ce(me,"logout","onSuccess")):(i.customAuth?.enabled||(qt(!!se),se&&Ce(me,"login","onComplete",{user:se,isNewUser:!1,wasAlreadyAuthenticated:!0,loginMethod:null,loginAccount:null}),p(se)),W?He.current=le?"link":"login":te&&!le?(He.current="login",J({telegramAuthModalData:{seamlessAuth:!0}}),ut("TelegramAuthScreen")):bt.setReadyToTrue(!!se))})()}),[e,X,u,D]),Y.useEffect((()=>{if(u){if(!h||!h.linkedAccounts.find((M=>M.type==="wallet"&&M.walletClientType==="privy")))return void xe(!!P);if([...y].some((M=>M.walletClientType==="privy")))return void xe(!0);xe(!!P)}}),[u,h,y,P]),Y.useEffect((()=>{e.connectors?.setWalletList(i.appearance.walletList)}),[i.appearance.walletList.join()]);let fa=()=>{let M=BDe();return M.inProgress&&M.popupFlow?window.opener.location.origin!==window.location.origin?void window.opener.postMessage({type:"PRIVY_OAUTH_ERROR",error:"Origins between parent and child windows do not match."}):M.authorizationCode==="error"?void window.opener.postMessage({type:"PRIVY_OAUTH_ERROR",error:"Something went wrong. Try again."}):void window.opener.postMessage({type:"PRIVY_OAUTH_RESPONSE",stateCode:M.stateCode,authorizationCode:M.authorizationCode}):(M.inProgress&&M.provider.startsWith("privy:")&&!M.popupFlow&&(new BroadcastChannel(SU).postMessage({type:"PRIVY_OAUTH_RESPONSE",stateCode:M.stateCode,authorizationCode:M.authorizationCode}),window.close()),!!M.inProgress&&!!M.withPrivyUi&&(e.startAuthFlow(new ah({...M,customOAuthRedirectUrl:i.customOAuthRedirectUrl})),ut("OAuthStatusScreen"),!0))},as=()=>{let M=(function(){let te;return(te=(function(){let ee=new URLSearchParams(window.location.search),se=Number(ee.get("id")||""),le=ee.get("hash"),Te=Number(ee.get("auth_date")||""),Re=ee.get("first_name");if(se&&Re&&Te&&le)return Object.fromEntries(ee.entries())})())?(bU(),{flowType:"login-url",authData:te}):(te=(function(){let ee=window.location.hash;if(!ee||!ee.startsWith("#tgWebAppData"))return;let se=gU(ee.replace("#tgWebAppData=","")),{user:le,auth_date:Te,hash:Re}=se;return le&&Te&&Re?se:void 0})())?(bU(),{flowType:"web-app",authData:te}):void 0})();if(!M||!i.loginMethods.telegram||!i.loginConfig.telegramAuthConfiguration?.seamlessAuthEnabled)return;let W=new Fm;return e.startAuthFlow(W),M.flowType==="login-url"&&(W.meta.telegramWebAppData=void 0,W.meta.telegramAuthResult=M.authData),M.flowType==="web-app"&&(W.meta.telegramAuthResult=void 0,W.meta.telegramWebAppData=M.authData),!0},Ri=async(M,W,te,ee)=>{if(M!=="solana_adapter")fn(await e.connectors?.createEthereumWalletConnector({connectorType:M,walletClientType:W})||null,W,te,ee);else{let se=e.connectors?.findSolanaWalletConnector(W);if(!se)return;fn(se,W,te,ee)}};async function fn(M,W,te,ee){if(!M)return I({status:"disconnected",connectedWallet:null,connectError:new Mn("Unable to connect to wallet."),connector:null,connectRetry:fe}),ee?.(null,te);I({status:"disconnected",connectedWallet:null,connectError:null,connector:M,connectRetry:fe}),M instanceof pT&&W&&await M.resetConnection(W),I({connector:M,status:"connecting",connectedWallet:null,connectError:null,connectRetry:()=>fn(M,W,te,ee)});try{let se=await M.connect({showPrompt:!0});if((!se||Ll(se))&&i.shouldEnforceDefaultChainOnConnect&&!i.chains.find((le=>le.id===Number(se?.chainId.replace("eip155:",""))))&&(se?.connectorType!=="wallet_connect_v2"||se?.walletClientType!=="metamask")){I((le=>({...le,connector:M,status:"switching_to_supported_chain",connectedWallet:null,connectError:null,connectRetry:fe})));try{await se?.switchChain(i.defaultChain.id),se&&(se.chainId=oy(Et(i.defaultChain.id)))}catch{console.warn(`Unable to switch to default chain: ${i.defaultChain.id}`)}}return I((le=>({...le,status:"connected",connectedWallet:se,connectError:null,connectRetry:fe}))),se&&Ce(me,"connectWallet","onSuccess",{wallet:se}),ee?.(se,te)}catch(se){return se instanceof fu?(console.warn(se.cause?se.cause:se.message),Ce(me,"connectWallet","onError",se.privyErrorCode||Ie.GENERIC_CONNECT_WALLET_ERROR)):(console.warn(se),Ce(me,"connectWallet","onError",Ie.UNKNOWN_CONNECT_WALLET_ERROR)),I((le=>({...le,status:"disconnected",connectedWallet:null,connectError:se}))),ee?.(null,te)}}let Or=async(M,W,te)=>{if(M===null||!Ll(M))return;let ee=new jw(e,M,W,te);e.startAuthFlow(ee)},Wr=async(M,W,te,ee="plain")=>{let se=r(lfe);if(ee==="transaction"&&!se)throw new ae("useSolanaLedger plugin hook must be mounted");if(M===null||!rle(M))return;let le=new yU(M,e,W,te,ee,se);e.startAuthFlow(le)},At=async()=>{let M=new URLSearchParams(window.location.search),W=M.get("privy_connector"),te=M.get("privy_wallet_client"),ee=M.get("privy_connect_only")==="true";if(!W||!te)return;let se=ele({connectorType:W,walletClientType:te});if(!se||!se.isInstalled)return ut("LoginFailedScreen");if(!e.connectors)throw new ae("Connector not initialized");await ut(ee?"ConnectOnlyStatusScreen":"ConnectionStatusScreen");let le=new URL(window.location.href);le.searchParams.delete("privy_connector"),le.searchParams.delete("privy_wallet_client"),le.searchParams.delete("privy_connect_only"),window.history.pushState({},"",le),Ri(W,te,void 0,ee?void 0:W==="solana_adapter"?Wr:Or)};Y.useEffect((()=>{u&&gt&&h===null&&e.getAuthenticatedUser().then(p)}),[u,gt,h,e]);let nt=M=>{if(!gt)throw Ce(me,"linkAccount","onError",Ie.MUST_BE_AUTHENTICATED,{linkMethod:M}),new ae("User must be authenticated before linking an account.")},ot=M=>{if(!gt||!h)return!1;if(M.walletClientType==="privy")return!0;for(let W of h.linkedAccounts)if(W.type==="wallet"&&W.address===M.address&&W.walletClientType!=="privy")return!0;return!1},dt=()=>{yT.setState((M=>{let W=e.connectors?.wallets.filter(Ll).map((te=>({...te,linked:ot(te),loginOrLink:async()=>{if(!await te.isConnected())throw new ae("Wallet is not connected");if(te.connectorType==="embedded"&&te.walletClientType==="privy")throw new ae("Cannot link or login with embedded wallet");(async ee=>{let se;if(!e.connectors)throw new ae("Connector not initialized");se=ee.type==="ethereum"?e.connectors.findWalletConnector(ee.connectorType,ee.walletClientType)||null:e.connectors.findSolanaWalletConnector(ee.walletClientType)||null,I((le=>({...le,connector:se,status:"connected",connectedWallet:ee,connectError:null,connectRetry:fe}))),i.captcha.enabledProvider&&!gt?(J({captchaModalData:{callback:le=>Ll(ee)?Or(ee,le):Wr(ee,le),userIntentRequired:!1,onSuccessNavigateTo:"ConnectionStatusScreen",onErrorNavigateTo:"ErrorScreen"}}),await ut("CaptchaScreen")):(Ll(ee)?await Or(ee):await Wr(ee),await ut("ConnectionStatusScreen"))})(te)},fund:async ee=>{await bt.fundWallet(te.address,ee)},unlink:async()=>{if(!gt)throw new ae("User is not authenticated.");if(te.connectorType==="embedded"&&te.walletClientType==="privy")throw new ae("Cannot unlink an embedded wallet");p(await e.unlinkEthereumWallet(te.address))}})))||[];return K7(M.ethereum,W)?{}:{ethereum:W}}))};Y.useEffect((()=>{dt()}),[h?.linkedAccounts,gt,u]),Y.useEffect((()=>{if(u){if(!e.connectors)throw new ae("Connector not initialized");dt(),e.connectors.on("walletsUpdated",dt)}}),[u]),Y.useEffect((()=>{[...i.loginMethodsAndOrder?.primary??[],...i.loginMethodsAndOrder?.overflow??[]].filter((M=>M.startsWith("privy:"))).forEach((M=>e.getCrossAppProviderDetails(M.replace("privy:",""))))}),[!!e]);let xn=({transaction:M,sponsor:W,uiOptions:te,fundWalletConfig:ee,address:se,signOnly:le})=>new Promise((async(Te,Re)=>{let{requesterAppId:Ze}=te||{},ht=le?"signTransaction":"sendTransaction",$t=se?zf(h,se):mc(h);if(!$t&&se){let ct=ES(pw(),se);if(ct){if(W)throw new ae("Cannot sponsor transactions for externally connected wallet.");try{let bn=await ct.getEthereumProvider(),wt={...M,from:se,chainId:M.chainId||Number(ct.chainId.replace("eip155:","")),value:M.value!==void 0?Et(M.value):void 0},cn=await bn.request({method:ht==="sendTransaction"?"eth_sendTransaction":"eth_signTransaction",params:[wt]});return Ce(me,ht,"onSuccess",{hash:cn}),void Te({hash:cn})}catch(bn){return Ce(me,ht,"onError",Ie.TRANSACTION_FAILURE),void Re(bn??new io("Unable to "+ht+bn))}}}if(!$t)return Ce(me,ht,"onError",Ie.EMBEDDED_WALLET_NOT_FOUND),void Re(new ae("No embedded or connected wallet found for address."));if(!gt||!h)return Ce(me,ht,"onError",Ie.MUST_BE_AUTHENTICATED),void Re(Error("User must be authenticated before signing with a Privy wallet"));let pt=$t.address,xt=$t.walletIndex??0,{entropyId:Xe,entropyIdVerifier:tn}=Bl(h,$t),nn=os.wallets.find((ct=>ct.walletClientType==="privy"&&ri(ct.address)===ri(pt)));if(!nn)return Ce(me,ht,"onError",Ie.EMBEDDED_WALLET_NOT_FOUND),void Re(Error("Must have a Privy wallet before signing"));let ir=await nn.getEthereumProvider(),vr=await ir.request({method:"eth_chainId"}),Hn=M.chainId?Number(M.chainId):L7(vr);(ct=>{if(!i.chains.map((bn=>bn.id)).includes(ct))throw new Mn(`Chain ID ${ct} is not supported. It must be added to the config.supportedChains property of the PrivyProvider.`,Ie.UNSUPPORTED_CHAIN_ID)})(Hn);let on={...M,from:M.from??pt,chainId:Hn},Vn=await Sn();if(!Vn||!P)return Ce(me,ht,"onError",Ie.EMBEDDED_WALLET_NOT_FOUND),void Re(Error("Must have valid access token and Privy wallet to send transaction"));let Gn=vv(on.chainId,i.chains,i.rpcConfig,{appId:t.appId}),Ns=ws($t),ha=async({transactionRequest:ct})=>{try{let bn;if(!await bt.recoverEmbeddedWallet({address:pt}))throw Ce(me,ht,"onError",Ie.UNKNOWN_CONNECT_WALLET_ERROR),Re(Error("Unable to connect to wallet")),Error("Unable to connect to wallet");if(W){let wt=await(async({transactionRequest:cn})=>{if(!Ns)throw new ae("Sponsoring is only supported for wallets on the TEE stack");if(le)throw new ae("Cannot sponsor a sign transaction request");let Rr=pa=>pa==null?void 0:Et(pa),Po=await Ia(n,(async({message:pa})=>await P.signWithUserSigner({accessToken:Vn,requesterAppId:Ze,message:pa})),{chain_type:"ethereum",method:"eth_sendTransaction",caip2:oy(Et(cn.chainId)),sponsor:!0,params:{transaction:{from:cn.from,to:cn.to,chain_id:Rr(cn.chainId),data:Si(cn.data)?cn.data?cn.data:Et(Uint8Array.from(cn.data)):void 0,value:Rr(cn.value)}},wallet_id:$t.id});if(Po.data&&"hash"in Po.data)return Po.data.hash;throw new io("Unable to sign transaction")})({transactionRequest:ct});return Ce(me,"sendTransaction","onSuccess",{hash:wt}),wt}if(Ns){let wt=Rr=>Rr==null?void 0:Et(Rr),cn=await Ia(n,(async({message:Rr})=>await P.signWithUserSigner({accessToken:Vn,requesterAppId:Ze,message:Rr})),{chain_type:"ethereum",method:"eth_signTransaction",params:{transaction:{from:ct.from,to:ct.to,nonce:wt(ct.nonce),chain_id:wt(ct.chainId),data:Si(ct.data)?ct.data?ct.data:Et(Uint8Array.from(ct.data)):void 0,value:wt(ct.value),type:ct.type,gas_limit:wt(ct.gasLimit??ct.gas),gas_price:wt(ct.gasPrice??ct.gas),max_fee_per_gas:wt(ct.maxFeePerGas),max_priority_fee_per_gas:wt(ct.maxPriorityFeePerGas)}},wallet_id:$t.id});if(!cn.data||!("signed_transaction"in cn.data))throw new io("Unable to sign transaction");bn=cn.data.signed_transaction}else bn=await(async function({accessToken:wt,entropyId:cn,entropyIdVerifier:Rr,transactingWalletIndex:Po,walletProxy:pa,transactionRequest:Jd,requesterAppId:wp}){return(await pa.rpc({entropyId:cn,entropyIdVerifier:Rr,hdWalletIndex:Po??0,chainType:"ethereum",accessToken:wt,requesterAppId:wp,request:{method:"eth_signTransaction",params:[Jd]}})).response.data})({accessToken:Vn,entropyId:Xe,entropyIdVerifier:tn,transactingWalletIndex:xt,walletProxy:P,transactionRequest:ct,requesterAppId:Ze});if(le)return Ce(me,"signTransaction","onSuccess",{signature:bn}),bn;{let wt=await Gn.sendRawTransaction({serializedTransaction:bn});return Ce(me,"sendTransaction","onSuccess",{hash:wt}),wt}}catch(bn){throw Ce(me,ht,"onError",Ie.TRANSACTION_FAILURE),bn}};if(di({showWalletUIs:te?.showWalletUIs})){let ct=le||W?on:await TU(on,Gn,on.from);try{let bn=await ha({transactionRequest:ct});le?Ce(me,"signTransaction","onSuccess",{signature:bn}):Ce(me,"sendTransaction","onSuccess",{hash:bn}),Te({hash:bn})}catch(bn){Ce(me,ht,"onError",Ie.TRANSACTION_FAILURE),Re(bn)}}else{let ct={connectingWalletAddress:pt,recoveryMethod:$t.recoveryMethod,entropyId:Xe,entropyIdVerifier:tn,onCompleteNavigateTo:"SendTransactionScreen",isUnifiedWallet:Ns,onFailure:wt=>{Ce(me,ht,"onError",Ie.UNKNOWN_CONNECT_WALLET_ERROR),Re(wt)}},bn=(wt=>!!wt.fundingConfig&&I3(wt.fundingConfig.options).length>=1)(i)?K4({address:pt,appConfig:i,fundWalletConfig:ee,methodScreen:"FundingMethodSelectionScreen",chainIdOverride:on.chainId,comingFromSendTransactionScreen:!0}):void 0;J({connectWallet:ct,sendTransaction:{transactionRequest:on,transactingWalletIndex:xt,transactingWalletAddress:pt,entropyId:Xe,entropyIdVerifier:tn,signOnly:le,scanTransaction:async()=>{let wt=await TU(on,Gn,on.from);return await e.scanTransaction({metadata:{domain:i.embeddedWallets.transactionScanning.domain},chain_id:wt.chainId.toString(),request:{method:"eth_sendTransaction",params:[{from:wt.from,to:wt.to,value:wt.value?.toString(),gas:wt.gas?.toString(),gasPrice:wt.gasPrice?.toString(),nonce:wt.nonce?.toString(),data:wt.data}]}})},getIsSponsored:async()=>!!W,onConfirm:({transactionRequest:wt})=>ha({transactionRequest:wt}),onSuccess:wt=>{le?Ce(me,"signTransaction","onSuccess",{signature:wt.hash}):Ce(me,"sendTransaction","onSuccess",{hash:wt.hash}),Te(wt)},onFailure:wt=>{Ce(me,ht,"onError",Ie.TRANSACTION_FAILURE),Re(wt)},uiOptions:te||{},fundWalletConfig:ee,requesterAppId:Ze},funding:bn}),ut("EmbeddedWalletConnectingScreen")}}));function Kt(){return new Promise((async(M,W)=>{let te=await Sn();if(!te||!P)throw Error("Must have valid access token to enroll in MFA");try{await P.verifyMfa({accessToken:te}),M()}catch(ee){W(ee)}}))}let kt=M=>M?.linkedAccounts.filter((W=>W.latestVerifiedAt!==null&&!(W.type==="wallet"&&W.walletClientType==="privy"))).sort(((W,te)=>te.latestVerifiedAt.getTime()-W.latestVerifiedAt.getTime()))[0],Ge=M=>{let W=h?.linkedAccounts.filter((se=>se.type===M)).length??0,{displayName:te,loginMethod:ee}=v9e(M);if(M==="passkey"&&W>=5||M!=="passkey"&&W>=1)throw Ce(me,"linkAccount","onError",Ie.CANNOT_LINK_MORE_OF_TYPE,{linkMethod:ee}),new ae(`User already has an account of type ${te} linked.`)};async function kr({showAutomaticRecovery:M=!1,legacySetWalletPasswordFlow:W=!1}){k(null);let te=W?"setWalletPassword":"setWalletRecovery";if(!gt||!h)throw Ce(me,te,"onError",Ie.MUST_BE_AUTHENTICATED),Error("User must be authenticated before adding recovery method to Privy wallet");let ee=Hy(h);if(!ee||!P)throw Ce(me,te,"onError",Ie.EMBEDDED_WALLET_NOT_FOUND),Error("Must have a Privy wallet to add a recovery method");let se=ws(ee);if(se)throw Ce(me,te,"onError",Ie.UNSUPPORTED_WALLET_TYPE),new ae("User owned wallet recovery is only supported for on-device execution and this app uses TEE execution. Learn more https://docs.privy.io/recipes/tee-wallet-migration-guide");try{await Kt()}catch(le){throw Ce(me,te,"onError",Ie.MISSING_MFA_CREDENTIALS),le}return new Promise(((le,Te)=>{let Re=ee.recoveryMethod==="user-passcode",Ze=y9e({walletAction:"update",availableRecoveryMethods:i.embeddedWallets.userOwnedRecoveryOptions,legacySetWalletPasswordFlow:W,isResettingPassword:Re,showAutomaticRecovery:M}),{entropyId:ht,entropyIdVerifier:$t}=Bl(h),pt={recoveryMethod:ee.recoveryMethod,connectingWalletAddress:ee.address,onCompleteNavigateTo:Ze,shouldForceMFA:!1,entropyId:ht,isUnifiedWallet:se,entropyIdVerifier:$t,onFailure:xt=>{Ce(me,te,"onError",Ie.UNKNOWN_CONNECT_WALLET_ERROR),Te(xt)}};J({setWalletPassword:{onSuccess:xt=>{Ce(me,te,"onSuccess",{method:"user-passcode",wallet:xt}),le(xt)},onFailure:xt=>{Ce(me,te,"onError",Ie.USER_EXITED_SET_PASSWORD_FLOW),Te(xt)},callAuthOnSuccessOnClose:!1},recoverWallet:{entropyId:ht,entropyIdVerifier:$t,onFailure:Te},connectWallet:pt,recoverySelection:{isInAccountCreateFlow:!1,isResettingPassword:Re,shouldCreateEth:!1,shouldCreateSol:!1}}),ut("EmbeddedWalletConnectingScreen")}))}async function Hr({appId:M,action:W}){let te=await Sn();if(W==="link"&&!te)throw Ce(me,"linkAccount","onError",Ie.MUST_BE_AUTHENTICATED,{linkMethod:`privy:${M}`}),new ae("User must be authenticated before linking an account.");if(W==="login"&&te)throw Ce(me,"login","onError",Ie.UNKNOWN_AUTH_ERROR),new ae("Attempted to log in, but user is already logged in. Use a `link` helper instead.");Be.current=`privy:${M}`,He.current=W;let ee=Dj();return e.createAnalyticsEvent({eventName:"cross_app_auth_started",payload:{providerAppId:M}}),new Promise((async(se,le)=>{let{name:Te,logoUrl:Re}=await LV({api:e.api,providerAppId:M,requesterAppId:i.id});J({crossAppAuth:{appId:M,name:Te,logoUrl:Re,action:W,popup:ee,onSuccess:se,onError:le}}),ut("CrossAppAuthScreen")}))}let Ni={ready:u,authenticated:gt,user:h,walletConnectors:e.connectors||null,connectWallet:M=>{M&&"target"in M&&M&&(M=void 0),J({externalConnectWallet:{walletList:M?.walletList&&M?.walletList.length>0?M.walletList:void 0,walletChainType:M?.walletChainType,description:M?.description,hideHeader:M?.hideHeader}}),ut("ConnectOnlyLandingScreen")},linkWallet:M=>(M&&"target"in M&&M&&(M=void 0),nt("siwe"),Be.current="siwe",He.current="link",J({...V,externalConnectWallet:{...V.externalConnectWallet,walletList:M?.walletList,walletChainType:M?.walletChainType,description:M?.description||`Link a wallet to your ${i?.name} account`}}),ut("AuthenticateWithWalletScreen")),startCrossAppAuthFlow:Hr,linkEmail:()=>{nt("email"),Ge("email"),Be.current="email",He.current="link",ut("LinkEmailScreen")},linkPhone:()=>{nt("sms"),Ge("phone"),Be.current="sms",He.current="link",ut("LinkPhoneScreen")},linkGoogle:async()=>{nt("google"),Ge("google_oauth"),He.current="link",await bt.initLoginWithOAuth("google")},linkTwitter:async()=>{nt("twitter"),Ge("twitter_oauth"),He.current="link",await bt.initLoginWithOAuth("twitter")},linkTwitch:async()=>{nt("twitch"),Ge("twitch_oauth"),He.current="link",await bt.initLoginWithOAuth("twitch")},linkDiscord:async()=>{nt("discord"),Ge("discord_oauth"),He.current="link",await bt.initLoginWithOAuth("discord")},linkGithub:async()=>{nt("github"),Ge("github_oauth"),He.current="link",await bt.initLoginWithOAuth("github")},linkSpotify:async()=>{nt("spotify"),Ge("spotify_oauth"),He.current="link",await bt.initLoginWithOAuth("spotify")},linkInstagram:async()=>{nt("instagram"),Ge("instagram_oauth"),He.current="link",await bt.initLoginWithOAuth("instagram")},linkTiktok:async()=>{nt("tiktok"),Ge("tiktok_oauth"),He.current="link",await bt.initLoginWithOAuth("tiktok")},linkLine:async()=>{nt("line"),Ge("line_oauth"),He.current="link",await bt.initLoginWithOAuth("line")},linkLinkedIn:async()=>{nt("linkedin"),Ge("linkedin_oauth"),He.current="link",await bt.initLoginWithOAuth("linkedin")},linkApple:async()=>{nt("apple"),Ge("apple_oauth"),He.current="link",await bt.initLoginWithOAuth("apple")},linkPasskey:async()=>{nt("passkey"),Ge("passkey"),await bt.initLinkWithPasskey(),ut("LinkPasskeyScreen")},linkTelegram:async M=>{if(nt("telegram"),Ge("telegram"),He.current="link",Be.current="telegram",M?.launchParams)if(M.launchParams.initDataRaw){let W=new Fm;e.startAuthFlow(W),W.meta.telegramAuthResult=void 0,W.meta.telegramWebAppData=gU(M.launchParams.initDataRaw),J({telegramAuthModalData:{seamlessAuth:!0}}),ut("TelegramAuthScreen")}else Ce(me,"linkAccount","onError",Ie.INVALID_DATA,{linkMethod:"telegram"});else await bt.initLoginWithTelegram();ut("TelegramAuthScreen")},linkFarcaster:async()=>{nt("farcaster"),Ge("farcaster"),await bt.initLoginWithFarcaster(),He.current="link",Be.current="farcaster",ut("FarcasterConnectStatusScreen")},updateEmail:()=>{if(nt("email"),!h?.email)throw new ae("User does not have an email linked to their account.");He.current="update",Be.current="email",ut("UpdateEmailScreen")},updatePhone:()=>{if(nt("sms"),!h?.phone)throw new ae("User does not have a phone number linked to their account.");He.current="update",Be.current="sms",ut("UpdatePhoneScreen")},login:async M=>{M&&"target"in M&&M&&(M=void 0);let W="Attempted to log in, but user is already logged in. Use a `link` helper instead.";if(!u){let te=await new Promise((ee=>{Q((se=>ee.bind(se)))}));if(Q(null),te)return void console.warn(W)}!h||h.isGuest?(He.current="login",J({login:M}),ut("LandingScreen")):console.warn(W)},connectOrCreateWallet:async()=>{u||(await new Promise((M=>{Q((()=>M))})),Q(null)),gt?console.warn("User must be unauthenticated to `connectOrCreateWallet`"):(He.current="connect-or-create",ut("ConnectOrCreateScreen"))},logout:async()=>{if(He.current=null,Be.current=null,h&&e.clearProviderAcccessTokens(h),k(null),await e.logout(),h&&P)try{await P.clearMfa({userId:h.id})}catch{}p(null),qt(!1),B({status:"initial"}),U({status:"initial"}),z({status:"initial"}),K({status:"initial"}),x({status:"initial"}),L({status:"initial"}),Ce(me,"logout","onSuccess"),a(!1),rt.del(_6),rt.del(YL(i.id))},getAccessToken:Y.useCallback((async()=>{let M=await e.getCustomerAccessToken();return M&&!gt&&qt(!0),M}),[e,gt]),unlinkWallet:async M=>{let W;return p(W=M.startsWith("0x")?await e.unlinkEthereumWallet(M):await e.unlinkSolanaWallet(M)),W},unlinkEmail:async M=>{let W=await e.unlinkEmail(M);return p(W),W},unlinkPhone:async M=>{let W=await e.unlinkPhone(M);return p(W),W},unlinkGoogle:async M=>{let W=await e.unlinkOAuth("google",M);return p(W),W},unlinkTwitter:async M=>{let W=await e.unlinkOAuth("twitter",M);return p(W),W},unlinkTwitch:async M=>{let W=await e.unlinkOAuth("twitch",M);return p(W),W},unlinkDiscord:async M=>{let W=await e.unlinkOAuth("discord",M);return p(W),W},unlinkGithub:async M=>{let W=await e.unlinkOAuth("github",M);return p(W),W},unlinkSpotify:async M=>{let W=await e.unlinkOAuth("spotify",M);return p(W),W},unlinkInstagram:async M=>{let W=await e.unlinkOAuth("instagram",M);return p(W),W},unlinkTiktok:async M=>{let W=await e.unlinkOAuth("tiktok",M);return p(W),W},unlinkLine:async M=>{let W=await e.unlinkOAuth("line",M);return p(W),W},unlinkLinkedIn:async M=>{let W=await e.unlinkOAuth("linkedin",M);return p(W),W},unlinkApple:async M=>{let W=await e.unlinkOAuth("apple",M);return p(W),W},unlinkFarcaster:async M=>{let W=await e.unlinkFarcaster(M);return p(W),W},unlinkTelegram:async M=>{let W=await e.unlinkTelegram(M);return p(W),W},unlinkPasskey:async M=>{let W=await Sn();if(!W)throw Error("Must have valid access token to enroll in MFA");if(!P)throw Error("Wallet proxy not initialized.");let te=i.passkeys.shouldUnenrollMfaOnUnlink;await P.unlinkPasskeyAccount({credentialId:M,accessToken:W,removeAsMfa:te});let ee=await e.getAuthenticatedUser();return p(ee),ee},unlinkCrossAppAccount:async({subject:M})=>{let W=h?.linkedAccounts.find((ee=>ee.type==="cross_app"&&ee.subject===M))?.providerApp;if(!W)throw new ae("Invalid subject");e.storeProviderAccessToken(W.id,null);let te=await e.unlinkOAuth(`privy:${W.id}`,M);return p(te),te},setWalletRecovery:async M=>kr({legacySetWalletPasswordFlow:!1,showAutomaticRecovery:M?.showAutomaticRecovery??!1}),setWalletPassword:async()=>kr({legacySetWalletPasswordFlow:!0,showAutomaticRecovery:!1}),signMessage:(M,W)=>new Promise((async(te,ee)=>{let{requesterAppId:se}=W?.uiOptions||{},le=M.message,Te=W?.address?zf(h,W.address):mc(h);if(!Te&&W?.address!==void 0){let Xe=ES(pw(),W.address);if(Xe)try{let tn=await Xe.getEthereumProvider(),nn=await tn.request({method:"personal_sign",params:[le,Xe.address]});return Ce(me,"signMessage","onSuccess",{signature:nn}),void te({signature:nn})}catch(tn){return Ce(me,"signMessage","onError",Ie.UNABLE_TO_SIGN),void ee(tn??new io("Unable to sign message"))}}if(!Te)throw new ae("No embedded or connected wallet found for address.");if(!gt||!h)return Ce(me,"signMessage","onError",Ie.MUST_BE_AUTHENTICATED),void ee(Error("User must be authenticated before signing with a Privy wallet"));let Re=Te.address,Ze=Te.walletIndex??0,{entropyId:ht,entropyIdVerifier:$t}=Bl(h,Te),pt=ws(Te);if(typeof le!="string"||le.length<1)return Ce(me,"signMessage","onError",Ie.INVALID_MESSAGE),void ee(Error("Message must be a non-empty string"));let xt=async()=>{let Xe;if(!gt)throw Error("User must be authenticated before signing with a Privy wallet");let tn=await Sn();if(!P||!tn||!await bt.recoverEmbeddedWallet({address:Re}))throw Error("Unable to connect to wallet");if(e.createAnalyticsEvent({eventName:"embedded_wallet_sign_message_started",payload:{walletAddress:Re,requesterAppId:se}}),pt){let nn=Si(M.message,{strict:!0}),ir=await Ia(n,(async({message:vr})=>await P.signWithUserSigner({accessToken:tn,requesterAppId:se,message:vr})),{chain_type:"ethereum",method:"personal_sign",params:nn?{message:le.slice(2),encoding:"hex"}:{message:le,encoding:"utf-8"},wallet_id:Te.id});if(!ir.data||!("signature"in ir.data))throw new io("Unable to sign message");Xe=ir.data.signature}else{let{response:nn}=await P.rpc({accessToken:tn,entropyId:ht,entropyIdVerifier:$t,chainType:"ethereum",hdWalletIndex:Ze,requesterAppId:se,request:{method:"personal_sign",params:[le,Re]}});Xe=nn.data}return e.createAnalyticsEvent({eventName:"embedded_wallet_sign_message_completed",payload:{walletAddress:Re,requesterAppId:se}}),Xe};if(di({showWalletUIs:W?.uiOptions?.showWalletUIs}))try{let Xe=await xt();Ce(me,"signMessage","onSuccess",{signature:Xe}),te({signature:Xe})}catch(Xe){Ce(me,"signMessage","onError",Ie.UNABLE_TO_SIGN),ee(Xe??new io("Unable to sign message"))}else J({signMessage:{method:"personal_sign",data:le,confirmAndSign:xt,onSuccess:Xe=>{Ce(me,"signMessage","onSuccess",{signature:Xe}),te({signature:Xe})},onFailure:Xe=>{Ce(me,"signMessage","onError",Ie.UNABLE_TO_SIGN),ee(Xe)},uiOptions:W?.uiOptions||{}},connectWallet:{recoveryMethod:Te.recoveryMethod,connectingWalletAddress:Re,entropyId:ht,entropyIdVerifier:$t,onCompleteNavigateTo:"SignRequestScreen",isUnifiedWallet:pt,onFailure:Xe=>{Ce(me,"signMessage","onError",Ie.UNKNOWN_CONNECT_WALLET_ERROR),ee(Xe)}}}),ut("EmbeddedWalletConnectingScreen")})),signTypedData:(M,W)=>new Promise((async(te,ee)=>{let{requesterAppId:se}=W?.uiOptions||{},le=W?.address?zf(h,W.address):mc(h);if(!le&&W?.address){let Xe=ES(pw(),W.address);if(Xe)try{let tn=await Xe.getEthereumProvider(),nn=Tw(M),ir=await tn.request({method:"eth_signTypedData_v4",params:[Xe.address,nn]});return Ce(me,"signTypedData","onSuccess",{signature:ir}),void te({signature:ir})}catch(tn){return Ce(me,"signTypedData","onError",Ie.UNABLE_TO_SIGN),void ee(tn??new io("Unable to sign typed data "+tn))}}if(!le)throw new ae("No embedded or connected wallet found for address.");if(!gt||!h)return Ce(me,"signTypedData","onError",Ie.MUST_BE_AUTHENTICATED),void ee(Error("User must be authenticated before signing with a Privy wallet"));let Te=le.address,Re=le.walletIndex??0,{entropyId:Ze,entropyIdVerifier:ht}=Bl(h,le),$t=ws(le),pt=Tw(M),xt=async()=>{let Xe;if(!gt)throw Error("User must be authenticated before signing with a Privy wallet");let tn=await Sn();if(!P||!tn||!await bt.recoverEmbeddedWallet({address:Te}))throw Error("Unable to connect to wallet");if(e.createAnalyticsEvent({eventName:"embedded_wallet_sign_typed_data_started",payload:{walletAddress:Te,requesterAppId:se}}),$t){let{domain:nn,types:ir,primaryType:vr,message:Hn}=pt,on=await Ia(n,(async({message:Vn})=>await P.signWithUserSigner({accessToken:tn,requesterAppId:se,message:Vn})),{chain_type:"ethereum",method:"eth_signTypedData_v4",params:{typed_data:{domain:nn,types:ir,primary_type:vr,message:Hn}},wallet_id:le.id});if(!on.data||!("signature"in on.data))throw new io("Unable to sign message");Xe=on.data.signature}else{let{response:nn}=await P.rpc({accessToken:tn,entropyId:Ze,entropyIdVerifier:ht,chainType:"ethereum",hdWalletIndex:Re,requesterAppId:se,request:{method:"eth_signTypedData_v4",params:[Te,pt]}});Xe=nn.data}return e.createAnalyticsEvent({eventName:"embedded_wallet_sign_typed_data_completed",payload:{walletAddress:Te,requesterAppId:se}}),Xe};if(di({showWalletUIs:W?.uiOptions?.showWalletUIs}))try{let Xe=await xt();Ce(me,"signTypedData","onSuccess",{signature:Xe}),te({signature:Xe})}catch(Xe){Ce(me,"signTypedData","onError",Ie.UNABLE_TO_SIGN),ee(Xe??new io("Unable to sign message"))}else J({signMessage:{method:"eth_signTypedData_v4",data:pt,confirmAndSign:xt,onSuccess:Xe=>{Ce(me,"signTypedData","onSuccess",{signature:Xe}),te({signature:Xe})},onFailure:Xe=>{Ce(me,"signTypedData","onError",Ie.UNABLE_TO_SIGN),ee(Xe)},uiOptions:W?.uiOptions||{}},connectWallet:{recoveryMethod:le.recoveryMethod,connectingWalletAddress:le.address,entropyId:Ze,isUnifiedWallet:$t,entropyIdVerifier:ht,onCompleteNavigateTo:"SignRequestScreen",onFailure:Xe=>{Ce(me,"signMessage","onError",Ie.UNKNOWN_CONNECT_WALLET_ERROR),ee(Xe)}}}),ut("EmbeddedWalletConnectingScreen")})),sendTransaction:async(M,W)=>await xn({transaction:M,sponsor:W?.sponsor,uiOptions:W?.uiOptions,fundWalletConfig:W?.fundWalletConfig,address:W?.address,signOnly:!1}),signTransaction:async(M,W)=>({signature:(await xn({transaction:M,uiOptions:W?.uiOptions,address:W?.address,signOnly:!0})).hash}),exportWallet:M=>new Promise((async(W,te)=>{if(!gt||!h)return void te(Error("User must be authenticated before exporting their Privy wallet"));M&&"target"in M&&M&&(M=void 0);let ee=M?.address?zf(h,M.address):mc(h);if(!ee)return void te(new ae("User must have an embedded wallet."));let se=ee.address,{entropyId:le,entropyIdVerifier:Te}=Bl(h,ee),Re=ws(ee);if(!se)return void te(Error("User does not have an HD Ethereum wallet. To export an imported wallet, pass the `address` of the wallet to `exportWallet`."));if(!Cn(se))return void te(Error("Must provide a valid Ethereum address."));let Ze={recoveryMethod:ee.recoveryMethod,connectingWalletAddress:ee.address,isUnifiedWallet:Re,entropyId:le,entropyIdVerifier:Te,onCompleteNavigateTo:"EmbeddedWalletKeyExportScreen",onFailure:te,shouldForceMFA:!0};J(V),await Sn()&&P?P?L1(ee)?(J({keyExport:{appId:t.appId,appClientId:t.clientId,origin:e.apiUrl,address:ee.address,entropyId:le,entropyIdVerifier:Te,hdWalletIndex:ee.walletIndex,chainType:ee.chainType,walletId:ee.id,isUnifiedWallet:Re,imported:ee.imported,onSuccess:W,onFailure:te},connectWallet:Ze}),ut("EmbeddedWalletConnectingScreen")):te(Error(`Export is not supported for ${ee.chainType} wallets`)):te(Error("Must have a Privy wallet before exporting")):te(Error("Must have valid access token to enroll in MFA"))})),promptMfa:Kt,async init(M){switch(M){case"sms":return void await e.initMfaSmsVerification();case"passkey":return await e.initMfaPasskeyVerification();case"totp":return;default:throw Error(`Unsupported MFA method: ${M}`)}},async submit(M,W){switch(M){case"totp":case"sms":if(typeof W!="string")throw new ae("Invalid MFA code");Fe.current?.resolve({mfaMethod:M,mfaCode:W,relyingParty:window.origin}),await new Promise(((se,le)=>{tt.current={resolve:se,reject:le}}));break;case"passkey":if(typeof W=="string")throw new ae("Invalid authenticator response");let te=await ze(()=>import("./index-D9std1Z8.js"),[]),ee=I9e(await te.startAuthentication({optionsJSON:W}));Fe.current?.resolve({mfaMethod:M,mfaCode:ee,relyingParty:window.origin}),await new Promise(((se,le)=>{tt.current={resolve:se,reject:le}}));break;default:throw Fe.current?.reject(new ae("Unsupported MFA method")),new ae(`Unsupported MFA method: ${M}`)}},cancel(){Fe.current?.reject(new ae("MFA canceled"))},async initEnrollmentWithSms(M){let W=await Sn();if(!W||!P)throw Error("Must have valid access token to enroll in MFA");await P.initEnrollMfa({method:"sms",accessToken:W,phoneNumber:M.phoneNumber})},enrollInMfa:M=>new Promise(((W,te)=>{if(!M)return bt.closePrivyModal(),void W();i.mfa.noPromptOnMfaRequired&&console.warn("[Privy Warning] Triggering the 'showMfaEnrollmentModal' function when 'noPromptOnMfaRequired' is set to true is unexpected. If this is intentional, ensure that you are building custom UIs for MFA verification."),J({mfaEnrollmentFlow:{mfaMethods:i.mfa.methods,shouldUnlinkOnUnenrollMfa:i.passkeys.shouldUnlinkOnUnenrollMfa,onSuccess:W,onFailure:te}}),ut("MfaEnrollmentFlowScreen")})),async initEnrollmentWithTotp(){let M=await Sn();if(!M||!P)throw Error("Must have valid access token to enroll in MFA");let W=await P.initEnrollMfa({method:"totp",accessToken:M});return{secret:W.secret,authUrl:W.authUrl}},async submitEnrollmentWithSms(M){let W=await Sn();if(!W||!P)throw Error("Must have valid access token to enroll in MFA");await P.submitEnrollMfa({method:"sms",accessToken:W,phoneNumber:M.phoneNumber,code:M.mfaCode}),p(await e.getAuthenticatedUser())},async submitEnrollmentWithTotp(M){let W=await Sn();if(!W||!P)throw Error("Must have valid access token to enroll in MFA");await P.submitEnrollMfa({method:"totp",accessToken:W,code:M.mfaCode}),p(await e.getAuthenticatedUser())},async initEnrollmentWithPasskey(){},async submitEnrollmentWithPasskey({credentialIds:M},W={}){let te=await Sn();if(!te||!P)throw Error("Must have valid access token to enroll in MFA");await P.submitEnrollMfa({method:"passkey",accessToken:te,credentialIds:M,removeForLogin:W.removeForLogin}),p(await e.getAuthenticatedUser())},async unenroll(M,W={}){let te=await Sn();if(!te||!P)throw Error("Must have valid access token to remove MFA");M==="passkey"?await P.submitEnrollMfa({method:"passkey",accessToken:te,credentialIds:[],removeForLogin:W.removeForLogin}):await P.unenrollMfa({method:M,accessToken:te}),p(await e.getAuthenticatedUser())},requestFarcasterSignerFromWarpcast:async()=>{let M=await Sn(),W=h?.linkedAccounts.find((ee=>ee.type==="wallet"&&ee.walletClientType==="privy"));if(!M)throw Error("Must have valid access token to connect with Farcaster");if(!P||!W)throw Error("Must have an embedded wallet to use Farcaster signers");if(ws(W))throw new ae("Farcaster signers are only supported for on-device execution and this app uses TEE execution. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");if(!h?.farcaster?.fid)throw Error("Must have Farcaster account to use Farcaster signers");if(!await bt.recoverEmbeddedWallet({address:W.address}))throw Error("Unable to connect to wallet");let te=await P.initFarcasterSigner({address:W.address,hdWalletIndex:null,accessToken:M,mfaCode:null,mfaMethod:null,relyingParty:window.origin});te.status==="approved"&&p(await e.getAuthenticatedUser()||h||null),J({farcasterSigner:te}),ut("FarcasterSignerStatusScreen")},getFarcasterSignerPublicKey:async()=>{let M,W=await Sn(),te=h?.linkedAccounts.find((ee=>ee.type==="wallet"&&ee.walletClientType==="privy"));if(!W)throw Error("Must have valid access token to connect with Farcaster");if(!P||!te)throw Error("Must have an embedded wallet to use Farcaster signers");if(ws(te))throw new ae("Farcaster signers are only supported for on-device execution and this app uses TEE execution. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");if(!h?.farcaster?.fid)throw Error("Must have Farcaster account to use Farcaster signers");if(!await bt.recoverEmbeddedWallet({address:te.address}))throw Error("Unable to connect to wallet");if(!h.farcaster?.signerPublicKey)throw Error("Must have a Farcaster signer public key to sign");return M=h.farcaster.signerPublicKey.slice(2),Uint8Array.from(M.match(/.{1,2}/g).map((ee=>parseInt(ee,16))))},signFarcasterMessage:async M=>{let W=await Sn(),te=h?.linkedAccounts.find((le=>le.type==="wallet"&&le.walletClientType==="privy"));if(!W)throw Error("Must have valid access token to connect with Farcaster");if(!P||!te)throw Error("Must have an embedded wallet to use Farcaster signers");if(ws(te))throw new ae("Farcaster signers are only supported for on-device execution and this app uses TEE execution. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");if(!h?.farcaster?.fid)throw Error("Must have Farcaster account to use Farcaster signers");if(!await bt.recoverEmbeddedWallet({address:te.address}))throw Error("Unable to connect to wallet");if(!h.farcaster?.signerPublicKey)throw Error("Must have a Farcaster signer public key to sign");let ee=await ze(()=>import("./index-D9std1Z8.js"),[]),se=await P.signFarcasterMessage({address:te.address,hdWalletIndex:null,accessToken:W,mfaCode:null,mfaMethod:null,payload:{hash:ee.bufferToBase64URLString(M)},fid:BigInt(h.farcaster.fid),relyingParty:window.origin});return new Uint8Array(ee.base64URLStringToBuffer(se.signature))},signMessageWithCrossAppWallet(M,{address:W,chainId:te}){let ee=h?.linkedAccounts.some((se=>se.type==="cross_app"&&se.smartWallets.some((le=>le.address===W))));return hw({user:h,client:e,address:W,requesterAppId:i.id,request:{method:ee?"privy_signSmartWalletMessage":"personal_sign",params:[M,W],chainId:te},reconnect:Hr})},signTypedDataWithCrossAppWallet(M,{address:W,chainId:te}){let ee=h?.linkedAccounts.some((le=>le.type==="cross_app"&&le.smartWallets.some((Te=>Te.address===W)))),se=Tw(M);return hw({user:h,client:e,address:W,requesterAppId:i.id,request:{method:ee?"privy_signSmartWalletTypedData":"eth_signTypedData_v4",params:[W,se],chainId:te},reconnect:Hr})},sendTransactionWithCrossAppWallet(M,{address:W}){let te=h?.linkedAccounts.some((ee=>ee.type==="cross_app"&&ee.smartWallets.some((se=>se.address===W))));return hw({user:h,client:e,address:W,requesterAppId:i.id,request:{method:te?"privy_sendSmartWalletTx":"eth_sendTransaction",params:[M],chainId:M.chainId},reconnect:Hr})},signTransactionWithCrossAppWallet(M,{address:W}){let te=h?.linkedAccounts.some((ee=>ee.type==="cross_app"&&ee.smartWallets.some((se=>se.address===W))));return hw({user:h,client:e,address:W,requesterAppId:i.id,request:{method:te?"privy_signSmartWalletTx":"eth_signTransaction",params:[M],chainId:M.chainId},reconnect:Hr})},isModalOpen:s||!!c,mfaMethods:i.mfa.methods};FV=Ni.signMessage,qV=Ni.signTypedData,HV=async(M,W)=>await xn({transaction:M,...W,signOnly:!1}),WV=async(M,W)=>({signature:(await xn({transaction:M,...W,signOnly:!0})).hash});let bt={privy:n,setAuthenticated:qt,setUser:p,setIsNewUser:E,isNewUserThisSession:v,pendingTransaction:null,walletConnectionStatus:C,setWalletConnectionStatus:I,connectors:e.connectors?.walletConnectors??[],rpcConfig:i.rpcConfig,chains:i.chains,appId:t.appId,showFiatPrices:i.embeddedWallets.priceDisplay.primary!=="native-token",clientAnalyticsId:e.clientAnalyticsId,onCustomAuthAuthenticated:gn,hideWalletUIs:ui,isHeadlessSigning:Y.useCallback(di,[i.embeddedWallets.showWalletUIs]),emailOtpState:j,setEmailOtpState:B,smsOtpState:G,setSmsOtpState:U,oAuthState:T,setOAuthState:x,telegramAuthState:N,setTelegramAuthState:L,siweState:F,setSiweState:K,isHeadlessOAuthLoading:A,baseAccountSdk:g,setBaseAccountSdk:b,nativeTokenSymbolForChainId:M=>i.chains.find((W=>W.id===Number(M)))?.nativeCurrency.symbol,initializeWalletProxy:async M=>{if(P)return P;let W=new Promise((se=>{ge.current=se})),te=new Promise((se=>setTimeout((()=>se(null)),M))),ee=await Promise.race([W,te]);return ge.current=null,ee},getAuthFlow:()=>e.authFlow,getAuthMeta:()=>e.authFlow?.meta,client:e,closePrivyModal:async(M={shouldCallAuthOnSuccess:!0,isSuccess:!1})=>{let W,te=u&&gt&&h;if(te&&Be.current&&(W=kt(h)),He.current==="login")M.shouldCallAuthOnSuccess&&te&&Be.current?Ce(me,"login","onComplete",{user:h,isNewUser:v,wasAlreadyAuthenticated:!1,loginMethod:Be.current,loginAccount:W??null}):Ce(me,"login","onError",Ie.USER_EXITED_AUTH_FLOW);else if(He.current==="link"&&W)M.isSuccess&&te&&Be.current?Ce(me,"linkAccount","onSuccess",{user:h,linkMethod:Be.current,linkedAccount:W}):Be.current&&Ce(me,"linkAccount","onError",Ie.USER_EXITED_LINK_FLOW,{linkMethod:Be.current});else if(He.current==="update"&&W)M.isSuccess&&te&&Be.current?Ce(me,"update","onSuccess",{user:h,updateMethod:Be.current,updatedAccount:W}):Be.current&&Ce(me,"update","onError",Ie.USER_EXITED_UPDATE_FLOW,{linkMethod:Be.current});else if(He.current==="connect-or-create"){let le=pw();le[0]?Ce(me,"connectOrCreateWallet","onSuccess",{wallet:le[0]}):Ce(me,"connectOrCreateWallet","onError",Ie.USER_EXITED_AUTH_FLOW)}let ee=O&&bx.has(O),se=O==="ErrorScreen"&&V.errorModalData&&bx.has(V.errorModalData.previousScreen);if((ee||se)&&V.funding){let le,Te=bx.get(O)??null;if(se&&V.funding?.onError){let Re=V.errorModalData?.error,Ze=Re?.privyErrorCode||Ie.UNKNOWN_FUNDING_ERROR,ht=new ae(Re?.message||"Funding failed",Re,Ze);V.funding?.onError?.(ht)}if(V.funding.chainType==="solana"){let Re=i.solanaRpcs[V.funding.chain];if(!Re)return void console.warn("Unable to load solana rpc, skipping balance");if(r(cfe))try{le=await b9e({rpc:Re.rpc,address:V.funding.address})}catch{console.error("Unable to pull wallet balance")}else console.warn("Unable to load solana plugin, skipping balance");Ce(me,"fundSolanaWallet","onUserExited",{address:V.funding.address,fundingMethod:Te,chain:V.funding.chain,balance:le})}else{let Re=vv(V.funding.chain.id,i.chains,i.rpcConfig,{appId:t.appId});try{le=await Re.getBalance({address:V.funding.address})}catch{console.error("Unable to pull wallet balance")}Ce(me,"fundWallet","onUserExited",{address:V.funding.address,chain:V.funding.chain,fundingMethod:Te,balance:le}),(function(Ze,ht){if(Ze.onComplete)switch(ht){case"external":Ze.fundingResult?Ze.onComplete({...Ze.fundingResult,fundingMethod:ht}):Ze.onComplete({status:"cancelled",address:Ze.address,fundingMethod:ht,amount:Ze.amount});break;case null:Ze.onComplete({status:"cancelled",address:Ze.address,fundingMethod:void 0,amount:Ze.amount});break;default:Ze.onComplete({status:"completed",address:Ze.address,fundingMethod:ht,amount:Ze.amount})}})(V.funding,Te)}}J((le=>({...le,externalConnectWallet:{}}))),He.current=null,Be.current=null,E(!1),a(!1),I({status:"disconnected",connectedWallet:null,connector:null,connectError:null,connectRetry:()=>{}}),setTimeout((()=>{e.authFlow=void 0}),200)},openPrivyModal:ut,connectWallet:fn,initLoginWithWallet:async(M,W,te,ee)=>{Ll(M)?(Be.current="siwe",Or(M,W,te)):(Be.current="siws",Wr(M,W,te,ee))},loginWithWallet:async()=>{let M,W,te;if(!u)throw new Bu;if(e.authFlow instanceof jw?M="siwe":e.authFlow instanceof yU&&(M="siws"),!M)throw new ae("Must initialize SIWE/SIWS flow first.");if(await e.getAccessToken()!==null)try{({user:W}=await e.link()),Be.current=M}catch(ee){throw Ce(me,"linkAccount","onError",ee.privyErrorCode||Ie.FAILED_TO_LINK_ACCOUNT,{linkMethod:M}),ee}else try{({user:W,isNewUser:te}=await e.authenticate()),Be.current=M}catch(ee){throw Ce(me,"login","onError",ee.privyErrorCode||Ie.GENERIC_CONNECT_WALLET_ERROR),ee}p(W||h||null),E(te||!1),qt(!0)},delegateWallet:async({address:M,chainType:W,showDelegationUIs:te})=>new Promise((async(ee,se)=>{let le=await Sn();if(!gt||!h||!le)throw new ae("User must be authenticated and have an embedded wallet to delegate actions.");if(W!=="solana"&&W!=="ethereum")throw new ae("Only Solana and Ethereum embedded wallets are supported for delegation and revocation.");let Te=bt.walletProxy??await bt.initializeWalletProxy(15e3);if(!Te)throw new ae("Wallet proxy not initialized.");if((({address:pt,user:xt})=>!!EU(xt).find((Xe=>Xe.address===pt)))({address:M,user:h}))return ee();let Re=zf(h,M);if(!Re)throw new ae("Address to delegate is not associated with current user.");if(ws(Re))throw new ae("useDelegatedActions is only supported for on-device execution and this app uses TEE execution. Use the useSessionSigners hook to provision server side access on behalf of your users. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");let Ze=d9e({address:M,user:h}),ht=f9e({address:M,user:h}),$t=async()=>{await Te.createDelegatedAction({accessToken:le,rootWallet:ht,delegatedWallets:[Ze]}),await bt.refreshSessionAndUser()};if(await bt.recoverEmbeddedWallet({address:M}),te)J({delegatedActions:{consent:{address:M,onDelegate:$t,onSuccess:async()=>{ee()},onError:async pt=>{se(pt)}}}}),ut("DelegatedActionsConsentScreen");else try{await $t(),ee()}catch(pt){se(pt)}})),revokeDelegatedWallets:async({showDelegationUIs:M})=>new Promise((async(W,te)=>{if(!gt||!h)throw new ae("User must be authenticated and have an embedded wallet to revoke a delegated wallet.");let ee=EU(h);if(ee.length===0)throw new ae("User has no delegated wallets to revoke.");if(ee.some(ws))throw new ae("useDelegatedActions is only supported for on-device execution and this app uses TEE execution. Use the useSessionSigners hook to provision server side access on behalf of your users. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");let se=async()=>{await e.revokeDelegatedWallet(),await bt.refreshSessionAndUser()};if(M)J({delegatedActions:{revoke:{onRevoke:se,onSuccess:async()=>{W()},onError:async le=>{te(le)}}}}),ut("DelegatedActionsRevokeScreen");else try{await se(),W()}catch(le){te(le)}})),initLoginWithFarcaster:async(M,W)=>{let te=new pU(M,W);e.startAuthFlow(te);try{Be.current="farcaster",await te.initializeFarcasterConnect()}catch(ee){throw He.current==="login"?Ce(me,"login","onError",ee.privyErrorCode||Ie.UNKNOWN_AUTH_ERROR):He.current==="link"&&Ce(me,"linkAccount","onError",ee.privyErrorCode||Ie.UNKNOWN_AUTH_ERROR,{linkMethod:"farcaster"}),ee}},loginWithFarcaster:async()=>{let M,W;if(!u)throw new Bu;if(!(e.authFlow instanceof pU))throw new ae("Must initialize Farcaster flow first.");if(await e.getAccessToken()!==null)try{({user:M}=await e.link()),Be.current="farcaster"}catch(te){throw Ce(me,"linkAccount","onError",te.privyErrorCode||Ie.FAILED_TO_LINK_ACCOUNT,{linkMethod:"farcaster"}),te}else try{({user:M,isNewUser:W}=await e.authenticate()),Be.current="farcaster"}catch(te){throw Ce(me,"login","onError",te.privyErrorCode||Ie.UNKNOWN_AUTH_ERROR),te}p(M||null),E(W||!1),qt(!0)},async crossAppAuthFlow({appId:M,popup:W,action:te}){let ee=`privy:${M}`;Be.current=ee;let{url:se,stateCode:le,codeVerifier:Te}=await(async function({api:Re,appId:Ze}){let ht=cC(),$t=$V(),pt=await PV(ht);try{let{url:xt}=await Re.post(Bj,{provider:`privy:${Ze}`,redirect_to:window.location.href,code_challenge:pt,state_code:$t});return{url:xt,stateCode:$t,codeVerifier:ht}}catch(xt){throw Wt(xt)}})({api:e.api,appId:M});if(!se)throw e.createAnalyticsEvent({eventName:"cross_app_auth_error",payload:{error:"Unable to open cross-app auth popup",appId:M}}),new ae("No authorization URL returned for cross-app auth.");try{let Re=await(async function({url:xt,popup:Xe}){return Xe.location=xt,new Promise(((tn,nn)=>{let ir,vr=setTimeout((()=>{nn(new ae("Authorization request timed out after 2 minutes.")),Hn()}),12e4);function Hn(){Xe?.close(),window.removeEventListener("message",Vn)}let on=setInterval((()=>{Xe?.closed&&!ir&&(Hn(),clearInterval(on),clearTimeout(vr),nn(new ae("User rejected request")))}),300);function Vn(Gn){Gn.data&&(Gn.data.type==="PRIVY_OAUTH_RESPONSE"&&Gn.data.stateCode&&Gn.data.authorizationCode&&(clearTimeout(vr),tn(Gn.data),Hn()),Gn.data.type==="PRIVY_OAUTH_ERROR"&&(clearTimeout(vr),nn(new ae(Gn.data.error)),Hn()),Gn.data.type===AU&&((ir=new BroadcastChannel(SU)).onmessage=Vn))}window.addEventListener("message",Vn)}))})({url:se,popup:W,provider:ee}),Ze=Re.stateCode,ht=Re.authorizationCode;if(Ze!==le)throw e.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:ee,storedStateCode:le??"",returnedStateCode:Ze??""}}),new ae("Unexpected auth flow. This may be a phishing attempt.",void 0,Ie.OAUTH_UNEXPECTED);let $t=await(async function({appId:xt,stateCode:Xe,codeVerifier:tn,authorizationCode:nn,action:ir,client:vr}){if(!nn||!Xe)throw new ae("[Cross-App AuthFlow] Authorization and state codes code must be set prior to calling authenicate.");if(nn==="undefined")throw new ae("User denied confirmation during cross-app auth flow");try{let Hn=new h9e({authorizationCode:nn,stateCode:Xe,codeVerifier:tn,provider:`privy:${xt}`});vr.startAuthFlow(Hn);let on=ir==="link"?await vr.link():await vr.authenticate(),Vn=on.oAuthTokens?.accessToken;return console.debug(),Vn}catch(Hn){let on=Wt(Hn);throw on.privyErrorCode===Ie.ACCOUNT_TRANSFER_REQUIRED?on:on.privyErrorCode?new ae(on.message||"Invalid code during cross-app auth flow.",void 0,on.privyErrorCode):on.message==="User denied confirmation during cross-app auth flow"?new ae("Invalid code during cross-app auth flow.",void 0,Ie.OAUTH_USER_DENIED):new ae("Invalid code during cross-app auth flow.",void 0,Ie.UNKNOWN_AUTH_ERROR)}})({appId:M,codeVerifier:Te,stateCode:Ze,authorizationCode:ht,action:te,client:e});$t&&e.storeProviderAccessToken(M,$t);let pt=await bt.refreshSessionAndUser();if(!pt)throw new ae("Unable to update user");return e.createAnalyticsEvent({eventName:"cross_app_auth_completed",payload:{providerAppId:M}}),pt}catch(Re){throw e.createAnalyticsEvent({eventName:"cross_app_auth_error",payload:{error:Re.toString(),provider:ee}}),Re}},async initLoginWithOAuth(M,W,te){if(Be.current=M,!N6()||M==="google"&&!i.allowOAuthInEmbeddedBrowsers&&xU(window.navigator.userAgent))return void ut("InAppBrowserLoginNotPossible");M==="twitter"&&window.opener&&window.opener.postMessage({type:AU},"*"),rt.del(fv),rt.del(sy);let ee=new ah({provider:M,disableSignup:!!te,withPrivyUi:!0,customOAuthRedirectUrl:i.customOAuthRedirectUrl});W&&ee.addCaptchaToken(W),e.startAuthFlow(ee);let se=await e.authFlow.getAuthorizationUrl();if(se&&se.url)if(M==="twitter"&&Mc.isAndroid&&(se.url=se.url.replace("x.com","twitter.com")),window.location.protocol==="chrome-extension:"&&uT())try{let{privyOAuthCode:le,privyOAuthState:Te}=await mU(se.url);ut("OAuthStatusScreen"),ee.meta.stateCode=Te,ee.meta.authorizationCode=le}catch(le){throw console.error("OAuth in chrome extension flow failed:",le),le}else window.location.assign(se.url)},async initLoginWithTelegram(M,W){if(!u)throw new Bu;Be.current="telegram";let te=new Fm(M,W);e.startAuthFlow(te),L({status:"loading"}),te.meta.telegramWebAppData=void 0,te.meta.telegramAuthResult=await new Promise(((ee,se)=>i.loginConfig.telegramAuthConfiguration?window.Telegram?void window.Telegram.Login.auth({bot_id:i.loginConfig.telegramAuthConfiguration.botId,request_access:!0},(le=>le?ee(le):(He.current==="link"?Ce(me,"linkAccount","onError",Ie.FAILED_TO_LINK_ACCOUNT,{linkMethod:"telegram"}):He.current==="login"?Ce(me,"login","onError",Ie.INVALID_CREDENTIALS):He.current==="update"&&Ce(me,"login","onError",Ie.FAILED_TO_UPDATE_ACCOUNT),se(new ae("Telegram auth failed or was canceled by the client"))))):se(new ae("Telegram was not initialized")):se(new ae("Telegram Auth configuration is not loaded"))))},async loginWithTelegram(M){let W,te;if(!(e.authFlow instanceof Fm))throw new ae("Must initialize Telegram flow before calling loginWithTelegram");e.authFlow.meta.captchaToken||=M?.captchaToken;let ee=await Sn(),se=M?.intent||He.current;if(se==="login")try{let Te=await e.authenticate();W=Te.user,te=Te.isNewUser,Be.current="telegram"}catch(Te){throw Ce(me,"login","onError",Te.privyErrorCode||Ie.UNKNOWN_AUTH_ERROR),Te}else{if(se!=="link")throw new ae("Unknown auth intent");try{W=(await e.link()).user,Be.current="telegram"}catch(Te){throw Ce(me,"linkAccount","onError",Te.privyErrorCode||Ie.FAILED_TO_LINK_ACCOUNT,{linkMethod:"telegram"}),Te}}p(W),E(te||!1),qt(!0),L({status:"done"});let le=W?.linkedAccounts.find((({type:Te})=>Te==="telegram"))||null;return{user:W,isNewUser:te||!1,wasAlreadyAuthenticated:!!ee,loginAccount:le}},async loginWithOAuth(M){let W,te,ee;if(!(e.authFlow instanceof ah))throw new ae("Must initialize OAuth flow before calling loginWithOAuth");let se=rt.get(dv),le=e.authFlow.meta.stateCode;if(se!==le)throw e.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:M,storedStateCode:se??"",returnedStateCode:le??""}}),new ae("Unexpected auth flow. This may be a phishing attempt.",void 0,Ie.OAUTH_UNEXPECTED);if(await e.getAccessToken()!==null)try{let Te=await e.link();W=Te.user,ee=Te.oAuthTokens,Be.current=M}catch(Te){throw Ce(me,"linkAccount","onError",Te.privyErrorCode||Ie.FAILED_TO_LINK_ACCOUNT,{linkMethod:M}),Te}else try{let Te=await e.authenticate();W=Te.user,te=Te.isNewUser,ee=Te.oAuthTokens,Be.current=M}catch(Te){throw He.current==="login"?Ce(me,"login","onError",Te.privyErrorCode||Ie.UNKNOWN_AUTH_ERROR):He.current==="link"&&Ce(me,"linkAccount","onError",Te.privyErrorCode||Ie.FAILED_TO_LINK_ACCOUNT,{linkMethod:M}),Te}return p(W),E(te||!1),qt(!0),ee&&W&&Ce(me,"oAuthAuthorization","onOAuthTokenGrant",{oAuthTokens:ee,user:W}),ee},passkeyAuthState:$,setPasskeyAuthState:z,async initSignupWithPasskey({captchaToken:M,withPrivyUi:W}){let te=new eh({captchaToken:M,setPasskeyAuthState:z,hints:i.passkeys.registration?.hints});e.startAuthFlow(te),He.current="login";try{Be.current="passkey",z({status:"generating-challenge"}),await te.initRegisterFlow(W),z({status:"awaiting-passkey"})}catch(ee){throw z({status:"error",error:ee}),Ce(me,"login","onError",ee.privyErrorCode||Ie.UNKNOWN_AUTH_ERROR),ee}},async signupWithPasskey(){let M,W;if(!u)throw new Bu;if(!(e.authFlow instanceof eh))throw new ae("Must initialize Passkey flow first.");if(Be.current!=="passkey"){let se=new ae("Must init login with Passkey flow first.");throw z({status:"error",error:se}),se}let te=await Sn();try{Be.current="passkey",z({status:"awaiting-passkey"}),{user:M,isNewUser:W}=await e.authenticate()}catch(se){throw z({status:"error",error:se}),Ce(me,"login","onError",se.privyErrorCode||Ie.UNKNOWN_AUTH_ERROR),se}p(M),E(W||!1),qt(!0),z({status:"done"});let ee=M?.linkedAccounts.find((({type:se})=>se==="passkey"))||null;return{user:M,isNewUser:W||!1,wasAlreadyAuthenticated:!!te,loginAccount:ee}},async initLoginWithPasskey({captchaToken:M,withPrivyUi:W}){let te=new eh({captchaToken:M,setPasskeyAuthState:z,hints:void 0});e.startAuthFlow(te),He.current="login";try{Be.current="passkey",z({status:"generating-challenge"}),await te.initAuthenticationFlow(W),z({status:"awaiting-passkey"})}catch(ee){throw z({status:"error",error:ee}),Ce(me,"login","onError",ee.privyErrorCode||Ie.UNKNOWN_AUTH_ERROR),ee}},async loginWithPasskey(M){let W,te;if(!u)throw new Bu;if(!(e.authFlow instanceof eh))throw new ae("Must initialize Passkey flow first.");if(M?.credentialIds&&(e.authFlow.meta.allowedCredentialsIds=M.credentialIds),Be.current!=="passkey"){let le=new ae("Must init login with Passkey flow first.");throw z({status:"error",error:le}),le}let ee=await Sn();try{Be.current="passkey",z({status:"awaiting-passkey"}),{user:W,isNewUser:te}=await e.authenticate()}catch(le){throw z({status:"error",error:le}),Ce(me,"login","onError",le.privyErrorCode||Ie.UNKNOWN_AUTH_ERROR),le}p(W),E(te||!1),qt(!0),z({status:"done"});let se=W?.linkedAccounts.find((({type:le})=>le==="passkey"))||null;return{user:W,isNewUser:te||!1,wasAlreadyAuthenticated:!!ee,loginAccount:se}},async initLinkWithPasskey(M){let W=new eh({captchaToken:M,hints:i.passkeys.registration?.hints});e.startAuthFlow(W),He.current="link",Be.current="passkey",z({status:"generating-challenge"});try{await W.initLinkFlow(),z({status:"awaiting-passkey"})}catch(te){throw Ce(me,"linkAccount","onError",te.privyErrorCode||Ie.UNKNOWN_AUTH_ERROR,{linkMethod:"passkey"}),z({status:"error",error:te}),te}},async linkWithPasskey(){let M;if(!u)throw new Bu;if(!(e.authFlow instanceof eh))throw new ae("Must initialize Passkey flow first.");if(Be.current!=="passkey")throw new ae("Must init login with Passkey flow first.");try{Be.current="passkey",{user:M}=await e.link()}catch(W){throw Ce(me,"linkAccount","onError",W.privyErrorCode||Ie.FAILED_TO_LINK_ACCOUNT,{linkMethod:"passkey"}),W}return p(M||h||null),z({status:"done"}),M},async initLoginWithHeadlessOAuth(M,W,te){if(!N6()||M==="google"&&!i.allowOAuthInEmbeddedBrowsers&&xU(window.navigator.userAgent))throw Error("It looks like you're using an in-app browser.  To log in, please try again using an external browser.");let ee=new ah({provider:M,withPrivyUi:!1,disableSignup:te??!1,customOAuthRedirectUrl:i.customOAuthRedirectUrl});W&&ee.addCaptchaToken(W),x({status:"loading"});let se=await e.startAuthFlow(ee).getAuthorizationUrl();if(se?.url)if(window.location.protocol==="chrome-extension:"&&uT())try{let{privyOAuthCode:le,privyOAuthState:Te}=await mU(se.url);ee.meta.stateCode=Te,ee.meta.authorizationCode=le,await this.loginWithHeadlessOAuth(ee.meta)}catch(le){throw x({status:"error",error:le}),le}else window.location.assign(se.url)},async loginWithHeadlessOAuth(M){let W,te,ee;S(!0),x({status:"loading"}),e.startAuthFlow(new ah({...M,customOAuthRedirectUrl:i.customOAuthRedirectUrl}));let se=rt.get(dv),le=M.stateCode;if(se!==le)throw e.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:M.provider,storedStateCode:se??"",returnedStateCode:le??""}}),S(!1),new ae("Unexpected auth flow. This may be a phishing attempt.",void 0,Ie.OAUTH_UNEXPECTED);if(await e.getAccessToken()!==null)try{({user:W,oAuthTokens:ee}=await e.link()),Be.current=M.provider;let Te=kt(W);W&&Te&&Ce(me,"linkAccount","onSuccess",{user:W,linkMethod:Be.current,linkedAccount:Te})}catch(Te){throw S(!1),Ce(me,"linkAccount","onError",Te.privyErrorCode||Ie.FAILED_TO_LINK_ACCOUNT,{linkMethod:M.provider}),Te}else try{({user:W,isNewUser:te,oAuthTokens:ee}=await e.authenticate()),Be.current=M.provider;let Te=kt(W);W&&Te&&te!==void 0&&Ce(me,"login","onComplete",{user:W,isNewUser:te,wasAlreadyAuthenticated:!1,loginMethod:Be.current,loginAccount:Te})}catch(Te){throw S(!1),x({status:"error",error:Te}),Ce(me,"login","onError",Te.privyErrorCode||Ie.UNKNOWN_AUTH_ERROR),Te}return p(W),E(te||!1),qt(!0),S(!1),x({status:"done"}),ee&&W&&Ce(me,"oAuthAuthorization","onOAuthTokenGrant",{oAuthTokens:ee,user:W}),W??void 0},initLoginWithEmail:async({email:M,captchaToken:W,disableSignup:te,withPrivyUi:ee})=>{let se=new yh({email:M,captchaToken:W,disableSignup:te});e.startAuthFlow(se);try{Be.current="email",B({status:"sending-code"});let le=await se.sendCodeEmail({withPrivyUi:ee});if(le?.ssoRedirectUrl)return window.location.href=le.ssoRedirectUrl,void await Sv(1e4);B({status:"awaiting-code-input"})}catch(le){throw B({status:"error",error:le}),He.current==="login"?Ce(me,"login","onError",le.privyErrorCode||Ie.UNKNOWN_AUTH_ERROR):He.current==="link"&&Ce(me,"linkAccount","onError",le.privyErrorCode||Ie.FAILED_TO_LINK_ACCOUNT,{linkMethod:"email"}),le}},initUpdateEmail:async({oldAddress:M,newAddress:W,captchaToken:te})=>{let ee=new MDe(M,W,te);e.startAuthFlow(ee);try{await ee.sendCodeEmail({withPrivyUi:!0})}catch(se){throw Ce(me,"update","onError",se.privyErrorCode||Ie.UNKNOWN_AUTH_ERROR,{linkMethod:Be.current}),se}},initUpdatePhone:async(M,W,te)=>{let ee=new LDe(M,W,te);e.startAuthFlow(ee);try{await ee.sendSmsCode({withPrivyUi:!0})}catch(se){Ce(me,"update","onError",se.privyErrorCode||Ie.UNKNOWN_AUTH_ERROR,{linkMethod:Be.current})}},initLoginWithSms:async({phoneNumber:M,captchaToken:W,disableSignup:te,withPrivyUi:ee})=>{U({status:"sending-code"});let se=new gh({phoneNumber:M,captchaToken:W,disableSignup:te});e.startAuthFlow(se);try{Be.current="sms",await se.sendSmsCode({withPrivyUi:ee}),U({status:"awaiting-code-input"})}catch(le){throw U({status:"error",error:le}),He.current==="login"?Ce(me,"login","onError",le.privyErrorCode||Ie.UNKNOWN_AUTH_ERROR):He.current==="link"&&Ce(me,"linkAccount","onError",le.privyErrorCode||Ie.FAILED_TO_LINK_ACCOUNT,{linkMethod:"sms"}),le}},resendEmailCode:async()=>{await e.authFlow?.sendCodeEmail({withPrivyUi:!0})},resendSmsCode:async()=>{await e.authFlow?.sendSmsCode({withPrivyUi:!0})},loginWithCode:async M=>{let W,te;function ee(Re){e.authFlow instanceof yh?B(Re):e.authFlow instanceof gh&&U(Re)}if(ee({status:"submitting-code"}),!u){let Re=new Bu;throw ee({status:"error",error:Re}),Re}if(e.authFlow instanceof yh)e.authFlow.meta.emailCode=M.trim();else{if(!(e.authFlow instanceof gh)){let Re=new ae("Must initialize a passwordless code flow first");throw ee({status:"error",error:Re}),Re}e.authFlow.meta.smsCode=M.trim()}let se=await Sn();if(He.current==="link")try{({user:W}=await e.link())}catch(Re){throw ee({status:"error",error:Re}),Ce(me,"linkAccount","onError",Re.privyErrorCode||Ie.FAILED_TO_LINK_ACCOUNT,{linkMethod:Be.current}),Re}else if(He.current==="update")try{({user:W}=await e.link())}catch(Re){throw ee({status:"error",error:Re}),Ce(me,"update","onError",Re.privyErrorCode||Ie.FAILED_TO_UPDATE_ACCOUNT,{linkMethod:Be.current}),Re}else try{({user:W,isNewUser:te}=await e.authenticate())}catch(Re){throw ee({status:"error",error:Re}),Ce(me,"login","onError",Re.privyErrorCode||Ie.UNKNOWN_AUTH_ERROR),Re}let le=W||h;p(le||null),E(te||!1),qt(!0),ee({status:"done"});let Te=null;return e.authFlow instanceof yh?Te=le?.linkedAccounts.find((({type:Re})=>Re==="email"))||null:e.authFlow instanceof gh&&(Te=le?.linkedAccounts.find((({type:Re})=>Re==="phone"))||null),{user:le,isNewUser:te||!1,wasAlreadyAuthenticated:!!se,linkedAccount:Te}},generateSiweMessage:async({address:M,chainId:W,captchaToken:te})=>{He.current=gt?"link":"login",Be.current="siwe",K({status:"generating-message"});let ee=await e.generateSiweNonce({address:M,captchaToken:te});return K({status:"awaiting-signature"}),fT({address:M,chainId:W.replace("eip155:",""),nonce:ee})},generateSiweMessageForSmartWallet:async({address:M,chainId:W})=>{let te=await e.generateSiweNonce({address:M});return fT({address:M,chainId:W.replace("eip155:",""),nonce:te})},linkSmartWallet:async({message:M,signature:W,smartWalletType:te,smartWalletVersion:ee})=>{let se;se=await e.linkSmartWallet({message:M,signature:W,smartWalletType:te,smartWalletVersion:ee}),p((se=await bt.refreshSessionAndUser()??se)||h||null)},loginWithSiwe:async({message:M,signature:W,captchaToken:te,disableSignup:ee,walletClientType:se,connectorType:le})=>{let Te,Re=null;try{if(h)throw Error("User already authenticated");let Ze=new jw(e,void 0,te,ee,{message:M,signature:W,walletClientType:se,connectorType:le});if(e.startAuthFlow(Ze),Be.current="siwe",He.current="login",K({status:"submitting-signature"}),{user:Re,isNewUser:Te}=await e.authenticate(),!Re)throw Error("Authentication failed - no user returned")}catch(Ze){throw Ce(me,"login","onError",Ze.privyErrorCode||Ie.UNKNOWN_AUTH_ERROR),K({status:"error",error:Ze}),Ze}return p(Re),E(Te||!1),qt(!0),K({status:"done"}),He.current=null,Be.current=null,{user:Re,isNewUser:Te||!1}},linkWithSiwe:async({message:M,signature:W,chainId:te,walletClientType:ee,connectorType:se})=>{let le;nt("siwe");let Te=null;try{K({status:"submitting-signature"}),le=await e.linkWithSiwe({message:M,signature:W,chainId:te,walletClientType:ee,connectorType:se}),le=await bt.refreshSessionAndUser()??le,K({status:"done"}),(Te=kt(le)||null)&&Ce(me,"linkAccount","onSuccess",{user:le,linkMethod:"siwe",linkedAccount:Te})}catch(Ze){throw Ce(me,"linkAccount","onError",Ze.privyErrorCode||Ie.FAILED_TO_LINK_ACCOUNT,{linkMethod:"siwe"}),He.current=null,Be.current=null,K({status:"error",error:Ze}),Ze}let Re=le||h;return p(Re||null),He.current=null,Be.current=null,{user:Re,linkedAccount:Te}},refreshSessionAndUser:async()=>{let M=await e.getAuthenticatedUser();return qt(!!M),p(M),M},walletProxy:P,createAnalyticsEvent:({eventName:M,payload:W,timestamp:te})=>e.createAnalyticsEvent({eventName:M,payload:W,timestamp:te}),acceptTerms:async()=>{let M=await e.acceptTerms();return p(M),M},getUsdTokenPrice:M=>e.getUsdTokenPrice(M),getUsdPriceForSol:()=>e.getUsdPriceForSol(),getSplTokenMetadata:M=>e.getSplTokenMetadata(M),recoverEmbeddedWallet:async M=>new Promise((async(W,te)=>{if(!h)return void W(!0);let ee=M?.address?zf(h,M.address):Hy(h)||S6(h).at(0)||Toe(h).at(0);if(!ee||ws(ee))return void W(!0);let se=await Sn();if(!se||!P||!ee)return void te(Error("Must have valid access token and Privy wallet to recover wallet"));let{entropyId:le,entropyIdVerifier:Te}=Bl(h,ee);try{await P.connect({accessToken:se,entropyId:le,entropyIdVerifier:Te}),W(!0)}catch(Re){if(n1(Re)&&ee.recoveryMethod==="privy"){let Ze;e.createAnalyticsEvent({eventName:"embedded_wallet_pinless_recovery_started",payload:{walletAddress:ee.address}});try{Ze=await P.recover({entropyId:le,entropyIdVerifier:Te,accessToken:se})}catch(ht){return void te(ht)}Ze.entropyId||te(Error("Unable to recover wallet")),e.createAnalyticsEvent({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:ee.address}}),W(!0)}else n1(Re)&&ee.recoveryMethod!=="privy"&&ee.recoveryMethod!=="privy-v2"?(J({recoverWallet:{entropyId:le,entropyIdVerifier:Te,onFailure:te,onSuccess:()=>W(!0)},recoveryOAuthStatus:{provider:ee.recoveryMethod,action:"recover",shouldCreateEth:!1,shouldCreateSol:!1}}),ut(g9e(ee.recoveryMethod))):te(Re)}})),setReadyToTrue:M=>{d(!0),X?.(M)},updateWallets:()=>dt(),fundWallet:async(M,W)=>{let te="FundingMethodSelectionScreen";return new Promise(((ee,se)=>{J({funding:{...K4({address:M,appConfig:i,fundWalletConfig:W,methodScreen:te,onComplete:ee,onError:se})}}),ut(te)}))},openModal:ut,requestFarcasterSignerStatus:async M=>{let W=await Sn(),te=h?.linkedAccounts.find((se=>se.type==="wallet"&&se.walletClientType==="privy"));if(!W)throw Error("Must have valid access token to connect with Farcaster");if(!P||!te)throw Error("Must have an embedded wallet to use Farcaster signers");if(!h?.farcaster?.fid)throw Error("Must have Farcaster account to use Farcaster signers");let ee=await e.requestFarcasterSignerStatus(M);return ee.status==="approved"&&p(await e.getAuthenticatedUser()||h||null),ee},connectCoinbaseSmartWallet:async()=>{i.externalWallets.coinbaseWallet.config.preference={...i.externalWallets.coinbaseWallet.config.preference,options:"smartWalletOnly"};let M=e.connectors?.findWalletConnector("coinbase_wallet","coinbase_smart_wallet")||e.connectors?.findWalletConnector("coinbase_wallet","coinbase_wallet");if(M)return M.updateConnectionPreference("smartWalletOnly"),fn(M);await Ri("coinbase_wallet","coinbase_smart_wallet")},connectBaseAccount:async()=>{let M=e.connectors?.findWalletConnector("base_account","base_account");if(M)return fn(M);await Ri("base_account","base_account")},initiateAccountTransfer:async({nonce:M,account:W,accountType:te,externalWalletMetadata:ee,telegramAuthResult:se,telegramWebAppData:le,farcasterEmbeddedAddress:Te,oAuthUserInfo:Re})=>{let Ze=await e.sendAccountTransferRequest({nonce:M,account:W,accountType:te,externalWalletMetadata:ee,telegramAuthResult:se,telegramWebAppData:le,farcasterEmbeddedAddress:Te,oAuthUserInfo:Re});return p(Ze),Ze},inProgressAuthFlowRef:He,inProgressLoginOrLinkMethodRef:Be};VV=bt.recoverEmbeddedWallet,bt.recoverEmbeddedWallet;let os=Y.useMemo((()=>({wallets:y,ready:we&&St})),[y,we,St]),$o=e.authFlow instanceof Fm,{siteKey:qa,enabledProvider:bu}=i.captcha,wu=!i.headless&&bu&&!gt&&(u||$o);return pe.jsx(zV.Provider,{value:!0,children:pe.jsx(up.Provider,{value:Ni,children:pe.jsx(j7.Provider,{value:me,children:pe.jsx(q7.Provider,{value:os,children:pe.jsx(jDe,{appId:i.id,captchaSiteKey:qa,enabledCaptchaProvider:bu,children:pe.jsxs(a7.Provider,{value:bt,children:[pe.jsx(ile,{children:pe.jsxs(Coe,{data:V,setModalData:J,setInitialScreen:k,initialScreen:O,authenticated:gt,open:s,children:[t.children,pe.jsx(k9e,{customAuth:i.customAuth}),wu&&pe.jsx(qDe,{delayedExecution:!1}),pe.jsx(a9e,{}),pe.jsx(T9e,{disabled:i.embeddedWallets.disableAutomaticMigration}),pe.jsx(HDe,{palette:i.appearance.palette||{}}),!i.render.standalone&&pe.jsx(n9e,{open:s})]})}),pe.jsx(u9e,{appId:t.appId,appClientId:t.clientId,clientAnalyticsId:e.clientAnalyticsId,origin:e.apiUrl,mfaMethods:h?.mfaMethods,mfaPromise:Fe,mfaSubmitPromise:tt,onLoad:H,onLoadFailed:()=>null}),i.loginConfig.telegramAuthConfiguration&&pe.jsx(Y7,{$if:!0,children:pe.jsx(s9e,{scriptHost:t.apiUrl||v6,botUsername:i.loginConfig.telegramAuthConfiguration.botName})})]})})})})})})},N9e=t=>VV(t);class Sa extends Error{constructor(e,n,r){super(e),this.code=n,this.data=r}}class IU extends jd{async handleSendTransaction(e){if(!e.params||!Array.isArray(e.params))throw new Sa(`Invalid params for ${e.method}`,4200);let n=e.params[0];if(!await Sn()||!this.address)throw new Sa("Disconnected",4900);let{hash:r}=await((i,s)=>HV(i,s))(n,{address:this.address});return r}async handleSignTransaction(e){if(!e.params||!Array.isArray(e.params))throw new Sa(`Invalid params for ${e.method}`,4200);let n=e.params[0];if(!await Sn()||!this.address)throw new Sa("Disconnected",4900);let{signature:r}=await((i,s)=>WV(i,s))(n,{address:this.address});return r}handleSwitchEthereumChain(e){let n;if(!e.params||!Array.isArray(e.params))throw new Sa(`Invalid params for ${e.method}`,4200);if(typeof e.params[0]=="string")n=e.params[0];else{if(!("chainId"in e.params[0])||typeof e.params[0].chainId!="string")throw new Sa(`Invalid params for ${e.method}`,4200);n=e.params[0].chainId}this.chainId=Number(n),this.publicClient=vv(this.chainId,this.chains,this.rpcConfig,{appId:this.appId}),this.emit("chainChanged",n)}async handlePersonalSign(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for personal_sign");let n=e.params[0],r=e.params[1],{signature:i}=await((s,a)=>FV(s,a))({message:n},{address:r});return i}async handleSignedTypedData(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_signTypedData_v4");let n=e.params[0],r=typeof e.params[1]=="string"?JSON.parse(e.params[1]):e.params[1],{signature:i}=await((s,a)=>qV(s,a))(Tw(r),{address:n});return i}async handleEstimateGas(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_estimateGas");delete e.params[0].gasPrice,delete e.params[0].maxFeePerGas,delete e.params[0].maxPriorityFeePerGas;let n={...e.params[0],chainId:D6(this.chainId)};return await this.publicClient.estimateGas({account:n.from??this.address,...Xw(n)})}async request(e){switch(console.debug("Embedded1193Provider.request() called with args",e),e.method){case"eth_accounts":case"eth_requestAccounts":return this.address?[this.address]:[];case"eth_chainId":return D6(this.chainId);case"eth_estimateGas":return this.handleEstimateGas(e);case"eth_sendTransaction":return this.handleSendTransaction(e);case"eth_signTransaction":return this.handleSignTransaction(e);case"wallet_switchEthereumChain":return this.handleSwitchEthereumChain(e);case"personal_sign":return this.handlePersonalSign(e);case"eth_signTypedData_v4":return this.handleSignedTypedData(e)}if(!(n=>UDe.includes(n))(e.method))return this.publicClient.request({method:e.method,params:e.params});{let n=await Sn();if(await N9e({address:this.address}),!n||!this.address)throw new Sa("Disconnected",4900);try{let r={method:e.method,params:e.params},i=this.walletAccount;return i&&ws(i)?this.handleWalletApiRequest(r,i,n):(await this.walletProxy.rpc({accessToken:n,entropyId:this.entropyId,entropyIdVerifier:this.entropyIdVerifier,chainType:"ethereum",hdWalletIndex:this.walletIndex,request:r})).response.data}catch(r){throw console.error(r),new Sa("Disconnected",4900)}}}async handleWalletApiRequest(e,n,r){let i=this.privyClient;if(!i)throw new Sa("Disconnected",4900);if(e.method==="secp256k1_sign"){let s=await Ia(i,(async({message:a})=>this.walletProxy.signWithUserSigner({accessToken:r,message:a})),{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:n.id,params:{hash:e.params[0]}});if(s.method!=="secp256k1_sign")throw new Sa(`Invalid params for ${e.method}`,4200);return s.data.signature}throw new Sa(`Method not supported: ${e.method}`,4200)}constructor({walletProxy:e,address:n,entropyId:r,entropyIdVerifier:i,rpcConfig:s,chains:a,appId:c,chainId:u=1,walletIndex:d,privyClient:h,walletAccount:p}){super(),this.walletProxy=e,this.address=n,this.entropyId=r,this.entropyIdVerifier=i,this.chainId=u,this.rpcConfig=s,this.chains=a,this.publicClient=vv(u,this.chains,s,{appId:c}),this.rpcTimeoutDuration=C3(s,"privy"),this.appId=c,this.walletIndex=d,this.privyClient=h,this.walletAccount=p}}const $9e=({style:t,...e})=>pe.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",strokeWidth:1.5,viewBox:"0 0 24 24",style:{...t},...e,children:pe.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17.25v1.007a3 3 0 01-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0115 18.257V17.25m6-12V15a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 15V5.25m18 0A2.25 2.25 0 0018.75 3H5.25A2.25 2.25 0 003 5.25m18 0V12a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 12V5.25"})}),P9e=({style:t,...e})=>pe.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"108",height:"108",viewBox:"0 0 108 108",fill:"none",style:{height:"28px",width:"28px",...t},...e,children:[pe.jsx("rect",{width:"108",height:"108",rx:"23",fill:"#AB9FF2"}),pe.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M46.5267 69.9229C42.0054 76.8509 34.4292 85.6182 24.348 85.6182C19.5824 85.6182 15 83.6563 15 75.1342C15 53.4305 44.6326 19.8327 72.1268 19.8327C87.768 19.8327 94 30.6846 94 43.0079C94 58.8258 83.7355 76.9122 73.5321 76.9122C70.2939 76.9122 68.7053 75.1342 68.7053 72.314C68.7053 71.5783 68.8275 70.7812 69.0719 69.9229C65.5893 75.8699 58.8685 81.3878 52.5754 81.3878C47.993 81.3878 45.6713 78.5063 45.6713 74.4598C45.6713 72.9884 45.9768 71.4556 46.5267 69.9229ZM83.6761 42.5794C83.6761 46.1704 81.5575 47.9658 79.1875 47.9658C76.7816 47.9658 74.6989 46.1704 74.6989 42.5794C74.6989 38.9885 76.7816 37.1931 79.1875 37.1931C81.5575 37.1931 83.6761 38.9885 83.6761 42.5794ZM70.2103 42.5795C70.2103 46.1704 68.0916 47.9658 65.7216 47.9658C63.3157 47.9658 61.233 46.1704 61.233 42.5795C61.233 38.9885 63.3157 37.1931 65.7216 37.1931C68.0916 37.1931 70.2103 38.9885 70.2103 42.5795Z",fill:"#FFFDF8"})]});function wx(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw TypeError("attempted to use private field on non-instance");return t}var D9e=0;class GV extends qd{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}get walletBranding(){return{name:this.providerDetail.info.name,icon:this.providerDetail.info.icon,id:this.providerDetail.info.rdns}}disconnect(){console.warn(`Programmatic disconnect with ${this.providerDetail.info.name} is not yet supported.`)}async promptConnection(){try{let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new Mn("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw hu(e)}}constructor(e,n,r,i,s){super(s||"unknown",e,n,r),this.connectorType="injected",this.proxyProvider=new Wd(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.providerDetail=i;let a=i.provider;this.proxyProvider.setWalletProvider(a)}}var Wu="__private_"+D9e+++"__walletBranding";class vx extends qd{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}get walletBranding(){return wx(this,Wu)[Wu]??{name:"Browser Extension",icon:$9e,id:"extension"}}disconnect(){console.warn("Programmatic disconnect with browser wallets is not yet supported.")}async promptConnection(){try{let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new Mn("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw hu(e)}}constructor(e,n,r,i,s){super(s??"unknown",e,n,r),Object.defineProperty(this,Wu,{writable:!0,value:void 0}),this.connectorType="injected",this.proxyProvider=new Wd(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.proxyProvider.setWalletProvider(i),s==="metamask"?wx(this,Wu)[Wu]={name:"MetaMask",icon:ale,id:"io.metamask"}:s==="phantom"&&(wx(this,Wu)[Wu]={name:"Phantom",icon:P9e,id:"phantom"})}}class U9e extends GV{disconnect(){console.warn("MetaMask does not support programmatic disconnect.")}async promptConnection(){try{Mc.isMobile||await this.proxyProvider.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]});let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new Mn("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw hu(e)}}}class M9e extends jd{get wallets(){let e=new Set;return this.walletConnectors.flatMap((n=>n.wallets)).sort(((n,r)=>n.connectedAt&&r.connectedAt?r.connectedAt-n.connectedAt:0)).filter((n=>{let r=`${n.address}${n.walletClientType}${n.connectorType}${n.meta.id}`;return!e.has(r)&&(e.add(r),!0)}))}async initialize(e){if(this.initialized&&!e||(e&&this.removeAllConnectors(),this.externalWalletConfig.disableAllExternalWallets))return;let n=Hce({store:this.store,walletList:this.walletList,externalWalletConfig:this.externalWalletConfig,walletChainType:this.walletChainType}).then((a=>{a.forEach((({type:c,eip6963InjectedProvider:u,legacyInjectedProvider:d})=>{this.createEthereumWalletConnector({connectorType:"injected",walletClientType:c,providers:{eip6963InjectedProvider:u,legacyInjectedProvider:d}})}))}));for(let a of(this.walletList.includes("coinbase_wallet")&&this.createEthereumWalletConnector({connectorType:"coinbase_wallet",walletClientType:"coinbase_wallet"}),this.walletList.includes("base_account")&&this.createEthereumWalletConnector({connectorType:"base_account",walletClientType:"base_account"}),Object.values(Z7)))!a.isInstalled&&this.walletList.includes(a.client)&&(["ethereum-only","ethereum-and-solana"].includes(this.walletChainType)&&a.chainTypes.includes("ethereum")&&this.createEthereumWalletConnector({connectorType:"null",walletClientType:a.client,walletConfig:a}),["ethereum-and-solana","solana-only"].includes(this.walletChainType)&&a.chainTypes.includes("solana")&&this.addSolanaWalletConnector(new tle({id:a.client,name:a.name})));this.externalWalletConfig.walletConnect.enabled&&(this.walletList.includes("wallet_connect_qr")||$6(this.walletList))&&this.walletChainType!=="solana-only"&&this.createEthereumWalletConnector({connectorType:"wallet_connect_v2",walletClientType:"unknown"});let r=this.walletList.includes("wallet_connect_qr_solana")||$6(this.walletList)&&this.walletChainType!=="ethereum-only",i=this.externalWalletConfig.solana.connectors?.get()||[],s=async a=>{if(!r)return;let c=a.find((u=>u.walletBranding?.id==="walletconnect_solana"));c&&c.wallet&&await c.wallet.initialize({walletConnectCloudProjectId:this.walletConnectCloudProjectId,privyAppName:this.privyAppName})};s(i),i.filter((a=>r||a.walletBranding?.id!=="walletconnect_solana")).forEach(this.addSolanaWalletConnector),this.externalWalletConfig.solana.connectors?._setOnConnectorsUpdated?.((a=>{s(a),a?.filter((c=>r||c.walletBranding?.id!=="walletconnect_solana")).forEach(this.addSolanaWalletConnector)})),await n,this.initialized=!0}findWalletConnector(e,n,r){return e==="wallet_connect_v2"?this.walletConnectors.filter(gm).find((i=>i.connectorType===e&&(!r||i.wallets.some((s=>s.address===r)))))??null:this.walletConnectors.filter(gm).find((i=>i.connectorType===e&&i.walletClientType===n&&(!r||i.wallets.some((s=>s.address===r)))))??null}findSolanaWalletConnector(e){return this.walletConnectors.filter(nle).find((n=>n.walletClientType==="unknown"?n.walletBranding.id===e:n.walletClientType===e))??null}findEmbeddedWalletConnectors(){return this.walletConnectors.filter((e=>e.connectorType==="embedded"))}findImportedWalletConnectors(){return this.walletConnectors.filter((e=>e.connectorType==="embedded_imported"))}onInitialized(e){e.wallets.forEach((n=>{let r=this.storedConnections.find((i=>i.address===n.address&&i.connectorType===n.connectorType&&(n.type==="solana"&&i.walletClientType==="unknown"&&n.walletClientType==="unknown"?n.meta.id===i.id:i.walletClientType===n.walletClientType)));r&&(n.connectedAt=r.connectedAt)})),this.emit("walletsUpdated"),this.emit("connectorInitialized")}onWalletsUpdated(e){e.initialized&&this.emit("walletsUpdated")}addEmbeddedWalletConnectors({walletProxy:e,user:n,embeddedWallets:r,defaultChain:i,appId:s,privyClient:a}){let{entropyId:c,entropyIdVerifier:u}=Bl(n);for(let d of r){let h=this.findEmbeddedWalletConnectors().find((p=>p.walletIndex===d.walletIndex));if(h&&gm(h))h.proxyProvider.walletProxy=e;else{let p=new hU({provider:new IU({walletProxy:e,address:d.address,entropyId:c,entropyIdVerifier:u,rpcConfig:this.rpcConfig,chains:this.chains,appId:s,chainId:i.id,walletIndex:d.walletIndex,privyClient:a,walletAccount:d}),chains:this.chains,defaultChain:i,rpcConfig:this.rpcConfig,imported:!1,walletIndex:d.walletIndex});this.addWalletConnector(p)}}}addImportedWalletConnector(e,n,r,i){let s=this.findWalletConnector("embedded_imported","privy",n);if(s&&gm(s))s.proxyProvider.walletProxy=e;else{let a=new hU({provider:new IU({walletProxy:e,address:n,entropyId:n,entropyIdVerifier:"ethereum-address-verifier",walletIndex:0,rpcConfig:this.rpcConfig,chains:this.chains,appId:i,chainId:r.id}),chains:this.chains,walletIndex:0,defaultChain:r,rpcConfig:this.rpcConfig,imported:!0});this.addWalletConnector(a)}}removeEmbeddedWalletConnectors(){this.walletConnectors=this.walletConnectors.filter((e=>e.connectorType!=="embedded")),this.storedConnections=xw(),this.emit("walletsUpdated")}removeImportedWalletConnectors(){let e=this.findImportedWalletConnectors();e.length&&(e.forEach((n=>{let r=this.walletConnectors.indexOf(n);this.walletConnectors.splice(r,1)})),this.storedConnections=xw(),this.emit("walletsUpdated"))}async createEthereumWalletConnector({connectorType:e,walletClientType:n,providers:r,walletConfig:i}){let s=this.findWalletConnector(e,n);if(s&&gm(s))return s instanceof pT&&s.resetConnection(n),s;let a=e!=="injected"?e==="coinbase_wallet"?new PDe(this.chains,this.defaultChain,this.rpcConfig,this.externalWalletConfig.coinbaseWallet.config):e==="base_account"?new NDe(this.chains,this.defaultChain,this.rpcConfig,this.externalWalletConfig.baseAccount.config,this.setBaseAccountSdk):e!=="null"?new pT({walletConnectCloudProjectId:this.walletConnectCloudProjectId,rpcConfig:this.rpcConfig,chains:this.chains,defaultChain:this.defaultChain,shouldEnforceDefaultChainOnConnect:this.shouldEnforceDefaultChainOnConnect,privyAppId:this.privyAppId,privyAppName:this.privyAppName,walletClientType:n}):i?new sle({id:i.client,name:i.name,defaultChain:this.defaultChain,walletClientType:i.client}):null:n==="metamask"&&r?.eip6963InjectedProvider?new U9e(this.chains,this.defaultChain,this.rpcConfig,r?.eip6963InjectedProvider,"metamask"):n==="metamask"&&r?.legacyInjectedProvider?new vx(this.chains,this.defaultChain,this.rpcConfig,r?.legacyInjectedProvider,"metamask"):n==="phantom"&&r?.legacyInjectedProvider?new vx(this.chains,this.defaultChain,this.rpcConfig,r?.legacyInjectedProvider,"phantom"):r?.legacyInjectedProvider&&n==="unknown_browser_extension"?new vx(this.chains,this.defaultChain,this.rpcConfig,r?.legacyInjectedProvider):r?.eip6963InjectedProvider?new GV(this.chains,this.defaultChain,this.rpcConfig,r?.eip6963InjectedProvider,n):void 0;return a&&this.addWalletConnector(a),a||null}addWalletConnector(e){this.walletConnectors.push(e),e.on("initialized",(()=>this.onInitialized(e))),e.on("walletsUpdated",(()=>this.onWalletsUpdated(e))),e.initialize().catch((n=>{console.debug("Failed to initialize connector",n)}))}setWalletList(e){this.walletList=e,this.initialized&&this.initialize(!0).catch(console.error)}removeAllConnectors(){for(let e of this.walletConnectors)e.removeAllListeners();this.walletConnectors=[]}constructor(e,n,r,i,s,a,c,u,d,h,p,y){super(),this.addSolanaWalletConnector=async g=>{let b=this.findSolanaWalletConnector(g.walletClientType);if(!b||b.connectorType==="null"){if(b?.connectorType==="null"){let v=this.walletConnectors.indexOf(b);this.walletConnectors.splice(v,1)}this.addWalletConnector(g)}},this.privyAppId=e,this.walletConnectCloudProjectId=n,this.rpcConfig=r,this.chains=i,this.defaultChain=s,this.walletConnectors=[],this.initialized=!1,this.store=a,this.walletList=c,this.shouldEnforceDefaultChainOnConnect=u,this.externalWalletConfig=d,this.privyAppName=h,this.walletChainType=y||"ethereum-only",this.setBaseAccountSdk=p,this.storedConnections=xw()}}const CU=Fd((()=>({identityToken:null})));let B9e=[Uj,Mj,zj];class L9e{async get(e,n){try{return await this.baseFetch(e,n)}catch(r){throw Wt(r)}}async post(e,n,r){try{return await this.baseFetch(e,{method:"POST",...n?{body:n}:{},...r})}catch(i){throw Wt(i)}}async delete(e,n){try{return await this.baseFetch(e,{method:"DELETE",...n})}catch(r){throw Wt(r)}}constructor({appId:e,appClientId:n,client:r,defaults:i}){this.appId=e,this.appClientId=n,this.clientAnalyticsId=r.clientAnalyticsId,this.sdkVersion=wae,this.client=r,this.defaults=i,this.fallbackApiUrl=r.fallbackApiUrl,this.baseFetch=Soe.create({baseURL:this.defaults.baseURL,timeout:this.defaults.timeout,retry:3,retryDelay:500,retryStatusCodes:[408,409,425,500,502,503,504],credentials:"include",onRequest:async({request:s,options:a})=>{let c=new Headers(a.headers);c.set("privy-app-id",this.appId),this.appClientId&&c.set("privy-client-id",this.appClientId),c.set("privy-ca-id",this.clientAnalyticsId||""),c.set("privy-client",`react-auth:${this.sdkVersion}`);let u=B9e.includes(s.toString());if(!c.has("authorization")){let d=await this.client.getAccessToken({disableAutoRefresh:u});d!==null&&c.set("authorization",`Bearer ${d}`)}a.headers=c,a.retryDelay&&typeof a.retryDelay=="number"&&(a.retryDelay=3*a.retryDelay)},onRequestError:({error:s})=>{if(s instanceof DOMException&&s.name==="AbortError")throw new Aoe}})}}const j9e=t=>({rpId:t.rp_id,challenge:t.challenge,allowCredentials:t.allow_credentials?.map((e=>({id:e.id,type:e.type,transports:e.transports})))||[],timeout:t.timeout,extensions:{appid:t.extensions?.app_id,credProps:t.extensions?.cred_props,hmacCreateSecret:t.extensions?.hmac_create_secret},userVerification:t.user_verification});class z9e{getOrCreateGuestCredential(e){let n=YL(e);if(N6()){if(rt.get(n))return rt.get(n);{let r=yd(dT(32));return rt.put(n,r),r}}return yd(dT(32))}async authenticate(){if(!this.api)throw new ae("Auth flow has no API instance");try{return await this.api.post(Kde,{guest_credential:this.meta.guestCredential})}catch(e){throw Wt(e)}}async link(){throw Error("Linking is not supported for the guest flow")}constructor(e){this.meta={guestCredential:this.getOrCreateGuestCredential(e)}}}function _x(){return!(Mc.isSafari&&window.location.origin.startsWith("http://localhost"))}var Ex,OU=((Ex={}).PRIVY="privy_access_token",Ex.CUSTOMER="customer_access_token",Ex);class F9e{get token(){return this.privyAccessToken||this.customerAccessToken}getToken(e){return e==="privy_access_token"?this.privyAccessToken:this.customerAccessToken}get customerAccessToken(){return this._getToken(Hm)}get privyAccessToken(){return this._getToken(bw)}_getToken(e){try{let n=rt.get(e);return typeof n=="string"?Xl.throwIfNotWellFormedJwt(n):null}catch(n){return console.error(n),this.destroyLocalState(),null}}get refreshToken(){try{let e=rt.get(gS);return typeof e=="string"?e:null}catch(e){return console.error(e),this.destroyLocalState(),null}}getProviderAccessToken(e){try{let n=rt.get(Db(e));if(typeof n!="string")return null;{let r=new Xl(n);return r.isExpired()?(rt.del(Db(e)),null):r.value}}catch(n){return console.error(n),null}}get mightHaveServerCookies(){try{let e=er.get(bS);return e!==void 0&&e.length>0}catch(e){console.error(e)}return!1}hasRefreshCredentials(e="privy_access_token"){let n=typeof this.getToken(e)=="string",r=typeof this.refreshToken=="string"&&this.refreshToken!==Eae;return this.mightHaveServerCookies||n&&r}hasActiveAccessToken(e){let n=Xl.parse(this.getToken(e));return n!==null&&!n.isExpired(30)}authenticate(e){return this.authenticateOnce.execute(e)}link(e){return this.linkOnce.execute(e)}refresh(){return this.refreshOnce.execute()}destroy(){return this.destroyOnce.execute()}storeProviderAccessToken(e,n){typeof n=="string"?rt.put(Db(e),n):rt.del(Db(e))}updateIdentityToken(e){typeof e=="string"?this.storeIdentityToken(e):this.clearIdentityToken()}async _authenticate(e){try{let n=await e.authenticate(),{user:r,is_new_user:i,oauth_tokens:s}=n;this.handleTokenResponse(n);let a=s?{provider:s.provider,accessToken:s.access_token,accessTokenExpiresInSeconds:s.access_token_expires_in_seconds,refreshToken:s.refresh_token,refreshTokenExpiresInSeconds:s.refresh_token_expires_in_seconds,scopes:s.scopes}:void 0;return this._trackAuthenticateEvents(e,i),{user:ni(r),isNewUser:i,oAuthTokens:a}}catch(n){throw console.warn("Error authenticating session"),jn(n)}}_trackAuthenticateEvents(e,n){let r=(function(i){return i instanceof yh?"email":i instanceof gh?"sms":i instanceof jw?"siwe":i instanceof z9e?"guest":i instanceof jV?"custom_auth":i instanceof ah?i.meta.provider:null})(e);r&&this.client&&this.client.createAnalyticsEvent({eventName:"sdk_authenticate",payload:{method:r,isNewUser:n}}),r==="siwe"&&this.client&&this.client.createAnalyticsEvent({eventName:"sdk_authenticate_siwe",payload:{connectorType:e.meta.connectorType,walletClientType:e.meta.walletClientType}})}async _link(e){try{let n=await e.link(),r=n.oauth_tokens,i=r?{provider:r.provider,accessToken:r.access_token,accessTokenExpiresInSeconds:r.access_token_expires_in_seconds,refreshToken:r.refresh_token,refreshTokenExpiresInSeconds:r.refresh_token_expires_in_seconds,scopes:r.scopes}:void 0;return{user:ni(n),oAuthTokens:i}}catch(n){throw console.warn("Error linking account"),jn(n)}}async _refresh(){if(!this.api)throw new ae("Session has no API instance");if(!this.client)throw new ae("Session has no PrivyClient instance");await this.client.getAccessToken({disableAutoRefresh:!0});let e=this.token,n=this.refreshToken;if(this.client.useServerCookies&&!this.mightHaveServerCookies&&this.token&&window.location.origin===this.client.apiUrl)return this.destroyLocalState(),null;try{let r;if(!(e&&n||this.mightHaveServerCookies))return null;{let i={};e&&(i.authorization=`Bearer ${e}`),r=await this.api.post(Uj,n?{refresh_token:n}:{},{headers:i})}return this.handleTokenResponse(r),ni(r.user)}catch(r){if(r instanceof pv&&r.privyErrorCode===Ie.MISSING_OR_INVALID_TOKEN)return console.warn("Unable to refresh tokens - token is missing or no longer valid"),this.destroyLocalState(),null;throw jn(r)}}handleTokenResponse(e){e.session_update_action&&e.session_update_action!=="set"?e.session_update_action==="clear"?this.destroyLocalState():e.session_update_action==="ignore"&&(e.token&&(this.storeCustomerAccessToken(e.token),this.storePrivyAccessToken(e.privy_access_token)),e.identity_token&&this.storeIdentityToken(e.identity_token)):this._storeAllTokens(e)}_storeAllTokens(e){this.storeRefreshToken(e.refresh_token),this.storeCustomerAccessToken(e.token),this.storePrivyAccessToken(e.privy_access_token),e.identity_token&&this.storeIdentityToken(e.identity_token)}async _destroy(){try{await this.api?.post(Mj,{refresh_token:this.refreshToken})}catch{console.warn("Error destroying session")}this.destroyLocalState()}destroyLocalState(){this.storeRefreshToken(null),this.storeCustomerAccessToken(null),this.storePrivyAccessToken(null),this.clearIdentityToken()}storeCustomerAccessToken(e){if(typeof e=="string"){let n=rt.get(Hm);if(rt.put(Hm,e),!this.client?.useServerCookies){let r=Xl.parse(e)?.expiration;er.set(v4,e,{sameSite:"Strict",secure:_x(),expires:r?new Date(1e3*r):void 0})}n!==e&&this.client?.onStoreCustomerAccessToken?.(e)}else rt.del(Hm),er.remove(v4),this.client?.onDeleteCustomerAccessToken?.()}storeRefreshToken(e){typeof e=="string"?(rt.put(gS,e),this.client?.useServerCookies||er.set(bS,"t",{sameSite:"Strict",secure:_x(),expires:30})):(rt.del(gS),er.remove(vae),er.remove(bS))}storePrivyAccessToken(e){typeof e=="string"?rt.put(bw,e):rt.del(bw)}storeIdentityToken(e){if(CU.setState({identityToken:e}),this.client?.useServerCookies)return;rt.put(_4,e);let n=Xl.parse(e)?.expiration;er.set(E4,e,{sameSite:"Strict",secure:_x(),expires:n?new Date(1e3*n):void 0})}clearIdentityToken(){rt.del(_4),CU.setState({identityToken:null}),er.remove(E4)}constructor(){this.authenticateOnce=new Na((async e=>this._authenticate(e))),this.linkOnce=new Na((async e=>this._link(e))),this.refreshOnce=new Na(this._refresh.bind(this)),this.destroyOnce=new Na(this._destroy.bind(this))}}let Sx,r1;var q9e=0,Ax="__private_"+q9e+++"__getOrGenerateClientAnalyticsId";class W9e{getAppId(){return this.appId}initializeConnectorManager({walletConnectCloudProjectId:e,rpcConfig:n,chains:r,defaultChain:i,store:s,walletList:a,shouldEnforceDefaultChainOnConnect:c,externalWalletConfig:u,appName:d,walletChainType:h,setBaseAccountSdk:p}){this.connectors||(this.connectors=new M9e(this.appId,e,n,r,i,s,a,c,u,d,p,h))}generateApi(){let e=new L9e({appId:this.appId,appClientId:this.appClientId,client:this,defaults:{baseURL:this.apiUrl,timeout:this.timeout}});return this.session.api=e,e}updateApiUrl(e){this.apiUrl=e||this.fallbackApiUrl,this.api=this.generateApi(),e&&(this.useServerCookies=!0)}authenticate(){if(!this.authFlow)throw new ae("No auth flow in progress.");return this.session.authenticate(this.authFlow)}async link(){if(!this.authFlow)throw new ae("No auth flow in progress.");let{oAuthTokens:e}=await this.session.link(this.authFlow);return{user:await this.getAuthenticatedUser(),oAuthTokens:e}}storeProviderAccessToken(e,n){this.session.storeProviderAccessToken(e,n)}getProviderAccessToken(e){return this.session.getProviderAccessToken(e)}async logout(){await this.session.destroy(),this.authFlow=void 0}clearProviderAcccessTokens(e){e.linkedAccounts.filter((n=>n.type==="cross_app")).forEach((n=>{this.storeProviderAccessToken(n.providerApp.id,null)}))}startAuthFlow(e){return e.api=this.api,this.authFlow=e,this.authFlow}async initMfaSmsVerification(){try{await this.api.post(qde,{action:"verify"})}catch(e){throw Wt(e)}}async initMfaPasskeyVerification(){try{let e=await this.api.post(Wde,{});return j9e(e.options)}catch(e){throw Wt(e)}}async getCrossAppProviderDetails(e){try{return this._cachedProviderAppDetails[e]||(this._cachedProviderAppDetails[e]=await this.api.get(`/api/v1/apps/${e}/cross-app/details`)),this._cachedProviderAppDetails[e]}catch(n){console.error("Error fetching cross app provider details",n)}}async acceptTerms(){try{let e=await this.api.post(Hde,{});return ni(e)}catch(e){throw jn(e)}}async unlinkEmail(e){try{let n=await this.api.post(Ede,{address:e});return await this.getAuthenticatedUser()??ni(n)}catch(n){throw jn(n)}}async unlinkPhone(e){try{let n=await this.api.post(Ide,{phoneNumber:e});return await this.getAuthenticatedUser()??ni(n)}catch(n){throw jn(n)}}async unlinkEthereumWallet(e){try{let n=await this.api.post(ade,{address:e});return await this.getAuthenticatedUser()??ni(n)}catch(n){throw jn(n)}}async unlinkSolanaWallet(e){try{let n=await this.api.post(dde,{address:e});return await this.getAuthenticatedUser()??ni(n)}catch(n){throw jn(n)}}async unlinkOAuth(e,n){try{let r=await this.api.post(Rde,{provider:e,subject:n});return await this.getAuthenticatedUser()??ni(r)}catch(r){throw jn(r)}}async unlinkFarcaster(e){try{let n=await this.api.post(gde,{fid:e});return await this.getAuthenticatedUser()??ni(n)}catch(n){throw jn(n)}}async unlinkTelegram(e){try{let n=await this.api.post(zde,{telegram_user_id:e});return await this.getAuthenticatedUser()??ni(n)}catch(n){throw jn(n)}}async revokeDelegatedWallet(){try{await this.api.post(Jde,{})}catch(e){throw jn(e)}}async createAnalyticsEvent({eventName:e,payload:n,timestamp:r,options:i}){if(typeof window<"u")try{this.clientAnalyticsId||console.warn("No client analytics id set, refusing to send analytics event"),await this.api.post(zj,{event_name:e,client_id:this.clientAnalyticsId,payload:{...n||{},clientTimestamp:r?r.toISOString():new Date().toISOString()}},{retry:-1,keepalive:i?.keepAlive??!1})}catch{console.log("Unable to submit event. This is not an issue.")}}async signMoonpayOnRampUrl(e){try{return this.api.post(Yde,e)}catch(n){throw jn(n)}}async initCoinbaseOnRamp(e){try{return this.api.post(Zde,e)}catch(n){throw jn(n)}}async getCoinbaseOnRampStatus({partnerUserId:e}){try{return this.api.get(`${Xde}?partnerUserId=${e}`)}catch(n){throw jn(n)}}async getAuthenticatedUser(){return this.session.hasRefreshCredentials()?this.session.refresh():null}async getAccessToken(e){return await this.getPrivyAccessToken(e)||await this.getCustomerAccessToken(e)}async getCustomerAccessToken(e){return await this._getToken(OU.CUSTOMER,e)}async getPrivyAccessToken(e){return await this._getToken(OU.PRIVY,e)}async _getToken(e,n){return this.session.getToken(e)?this.session.hasActiveAccessToken(e)?this.session.hasRefreshCredentials(e)?aC.parse(this.session.getToken(e))?.appId!==this.appId?(await this.logout(),null):this.session.getToken(e):(this.session.destroyLocalState(),null):!n?.disableAutoRefresh&&this.session.hasRefreshCredentials(e)?(await this.session.refresh(),this.session.getToken(e)):null:null}async getUsdTokenPrice(e){try{return(await this.api.get(`/api/v1/token_price?chainId=${e.id}&tokenSymbol=${e.nativeCurrency.symbol}`)).usd}catch{return void console.error(`Unable to fetch token price for chain with id ${e.id}`)}}async getUsdPriceForSol(){try{return(await this.api.get("/api/v1/token_price?chainId=0&tokenSymbol=SOL")).usd}catch{return void console.error("Unable to fetch token price for SOL")}}async getSplTokenMetadata({mintAddress:e,cluster:n}){try{return await this.api.get(`/api/v1/spl_token_info?mint_address=${e}&cluster=${n}`)}catch{return void console.error(`Unable to fetch token metadata for ${n}:${e}`)}}async requestFarcasterSignerStatus(e){try{return await this.api.post("/api/v1/farcaster/signer/status",{ed25519_public_key:e})}catch(n){throw console.error("Unable to fetch Farcaster signer status"),n}}async generateSiweNonce({address:e,captchaToken:n}){try{return(await this.api.post(nde,{address:e,token:n})).nonce}catch(r){throw jn(r)}}async authenticateWithSiweInternal({message:e,signature:n,chainId:r,walletClientType:i,connectorType:s,mode:a}){return await this.api.post(rde,{message:e,signature:n,chainId:r,walletClientType:i,connectorType:s,mode:a})}async linkWithSiweInternal({message:e,signature:n,chainId:r,walletClientType:i,connectorType:s}){return await this.api.post(ide,{message:e,signature:n,chainId:r,walletClientType:i,connectorType:s})}async linkSmartWallet({message:e,signature:n,smartWalletType:r,smartWalletVersion:i}){try{let s=await this.api.post(sde,{message:e,signature:n,smart_wallet_type:r,smart_wallet_version:i});return ni(s)}catch(s){throw jn(s)}}async linkWithSiwe({message:e,signature:n,chainId:r,walletClientType:i,connectorType:s}){try{let a=await this.linkWithSiweInternal({message:e,signature:n,chainId:r,walletClientType:i,connectorType:s});return ni(a)}catch(a){throw jn(a)}}async generateSiwsNonce({address:e,captchaToken:n}){try{return(await this.api.post(cde,{address:e,token:n})).nonce}catch(r){throw jn(r)}}async authenticateWithSiwsInternal({message:e,signature:n,walletClientType:r,connectorType:i,mode:s,messageType:a="plain"}){return await this.api.post(lde,{message:e,signature:n,walletClientType:r,connectorType:i,mode:s,message_type:a})}async authenticateWithSiws({message:e,signature:n,walletClientType:r,connectorType:i,mode:s,messageType:a="plain"}){let c=await this.authenticateWithSiwsInternal({message:e,signature:n,walletClientType:r,connectorType:i,mode:s,messageType:a});this.session.handleTokenResponse(c);let u=ni(c.user);if(!u)throw Error("Authentication failed - no user returned");return{user:u,isNewUser:c.is_new_user||!1}}async sendAccountTransferRequest({nonce:e,account:n,accountType:r,externalWalletMetadata:i,telegramAuthResult:s,telegramWebAppData:a,farcasterEmbeddedAddress:c,oAuthUserInfo:u}){try{let d,h;switch(r){case"email":d=Ade,h={nonce:e,email:n};break;case"sms":d=kde,h={nonce:e,phoneNumber:n};break;case"siwe":if(d=ode,!i)throw Error("Wallet parameters must be defined");h={nonce:e,address:n,...i};break;case"farcaster":d=bde,h={nonce:e,farcaster_id:n,farcaster_embedded_address:c};break;case"telegram":d=Fde,h={nonce:e,telegram_auth_result:s,telegram_web_app_data:a};break;case"siws":d=fde,h={nonce:e,address:n,...i};break;case"custom":case"guest":case"passkey":throw Error("Invalid transfer account type");default:d=Nde,h={nonce:e,userInfo:u}}let p=await this.api.post(d,h);return await this.getAuthenticatedUser()??ni(p)}catch(d){throw jn(d)}}async linkWithSiwsInternal({message:e,signature:n,walletClientType:r,connectorType:i,messageType:s="plain"}){return await this.api.post(ude,{message:e,signature:n,walletClientType:r,connectorType:i,message_type:s})}async linkWithSiws({message:e,signature:n,walletClientType:r,connectorType:i,messageType:s="plain"}){try{let a=await this.linkWithSiwsInternal({message:e,signature:n,walletClientType:r,connectorType:i,messageType:s});return ni(a)}catch(a){throw jn(a)}}async updateUserAndIdToken(){try{let e=await this.api.get(Qde);return this.session.updateIdentityToken(e.identity_token),ni(e.user)}catch(e){throw jn(e)}}async scanTransaction(e){try{return await this.api.post(efe,e)}catch(n){throw jn(n)}}constructor({apiUrl:e=v6,appId:n,appClientId:r,timeout:i=bae}){Object.defineProperty(this,Ax,{value:H9e}),this._cachedProviderAppDetails={},this.apiUrl=e,this.fallbackApiUrl=this.apiUrl,this.useServerCookies=e!==v6&&e.startsWith("https://privy."),this.timeout=i,this.appId=n,this.appClientId=r,this.clientAnalyticsId=(function(s,a){if(!Object.prototype.hasOwnProperty.call(s,a))throw TypeError("attempted to use private field on non-instance");return s})(this,Ax)[Ax](),Sx||(Sx=new F9e),this.session=Sx,this.api=this.generateApi(),this.session.client=this}}function H9e(){if(typeof window>"u")return null;try{let e=rt.get(_6);if(typeof e=="string"&&e.length>0)return e}catch{}let t=u6();try{return rt.put(_6,t),t}catch{return t}}function KV(){if(!r1)throw new ae("No global PrivyClient instance found. Please ensure you have initialized the PrivyProvider.");return r1}const V9e=({config:t,...e})=>{(()=>{if(Y.useContext(zV))throw new ae("Multiple PrivyProvider instances found","Found multiple instances of PrivyProvider, ensure there is only one mounted in your application tree.")})(),(function(){if(typeof window>"u")return;let s=["localhost","127.0.0.1"].includes(window.location.hostname),a=window.location.protocol==="https:"||window.location.protocol==="chrome-extension:";if(!s&&!a)throw new ae("Embedded wallet is only available over HTTPS")})(),(function(s){if(typeof s!="string"||s.length!==25)throw new ae("Cannot initialize the Privy provider with an invalid Privy app ID")})(e.appId),(function(s){r1||(r1=new W9e({appId:s.appId,appClientId:s.clientId,apiUrl:s.apiUrl}))})(e);let n=Y.useMemo((()=>new Hse({appId:e.appId,clientId:e.clientId,storage:rt,baseUrl:e.apiUrl,sdkVersion:"react-auth:3.10.0"})),[]),r=KV(),i=Object.assign({},t);return pe.jsx(kae,{client:n,legacyClient:r,appClientId:e.clientId,clientConfig:i,children:pe.jsx(afe,{children:pe.jsx(R9e,{...e,client:r,privy:n})})})};function x7e(){let{promptMfa:t,init:e,submit:n,cancel:r,mfaMethods:i}=Y.useContext(up);return{promptMfa:t,init:e,submit:n,cancel:r,mfaMethods:i}}function T7e(){let{initEnrollmentWithSms:t,initEnrollmentWithTotp:e,initEnrollmentWithPasskey:n,submitEnrollmentWithSms:r,submitEnrollmentWithTotp:i,submitEnrollmentWithPasskey:s,unenroll:a,enrollInMfa:c}=Y.useContext(up);return{initEnrollmentWithSms:t,initEnrollmentWithTotp:e,initEnrollmentWithPasskey:n,submitEnrollmentWithSms:r,submitEnrollmentWithTotp:i,submitEnrollmentWithPasskey:s,unenrollWithSms:()=>a("sms"),unenrollWithTotp:()=>a("totp"),unenrollWithPasskey:u=>a("passkey",u),showMfaEnrollmentModal:()=>c(!0),closeMfaEnrollmentModal:()=>c(!1)}}function G9e(){const{ready:t,authenticated:e,user:n,login:r,logout:i}=Gj(),{wallets:s}=W7(),c=(s?.find(p=>p.walletClientType==="solana")||s?.[0])?.address||n?.wallet?.address,d=new URLSearchParams(window.location.search).get("returnTo");Y.useEffect(()=>{t&&e&&c&&(localStorage.setItem("privyWallet",c),localStorage.setItem("privyConnected","true"),localStorage.setItem("privyEmail",n?.email?.address||""),d&&(window.location.href=decodeURIComponent(d)))},[t,e,c,d,n]);const h=async()=>{localStorage.removeItem("privyWallet"),localStorage.removeItem("privyConnected"),localStorage.removeItem("privyEmail"),await i()};return t?(Y.useEffect(()=>{t&&!e&&d&&r()},[t,e,d,r]),pe.jsxs("div",{className:"dashboard",children:[pe.jsxs("header",{className:"header",children:[pe.jsxs("div",{className:"logo",children:[pe.jsx("img",{src:"/website/logo-icon.jpg",alt:"LAUNCHR"}),pe.jsx("span",{children:"LAUNCHR"})]}),pe.jsxs("nav",{children:[pe.jsx("a",{href:"/",children:"Home"}),pe.jsx("a",{href:"/launchpad",children:"Launchpad"}),pe.jsx("a",{href:"/dashboard",children:"Dashboard"})]}),e?pe.jsxs("div",{className:"wallet-info",children:[pe.jsxs("span",{className:"address",children:[c?.slice(0,4),"...",c?.slice(-4)]}),pe.jsx("button",{onClick:h,className:"btn-disconnect",children:"Disconnect"})]}):pe.jsx("button",{onClick:r,className:"btn-connect",children:"Connect Wallet"})]}),pe.jsxs("main",{className:"main",children:[pe.jsx("h1",{children:"Privy Authentication"}),e?pe.jsxs("div",{className:"connected-content",children:[pe.jsxs("div",{className:"wallet-card",children:[pe.jsx("h2",{children:" Wallet Connected"}),pe.jsxs("p",{children:[pe.jsx("strong",{children:"Address:"})," ",c||"Loading..."]}),pe.jsxs("p",{children:[pe.jsx("strong",{children:"Email:"})," ",n?.email?.address||"N/A"]})]}),d?pe.jsx("div",{className:"redirect-notice",children:pe.jsx("p",{children:"Redirecting back..."})}):pe.jsxs("div",{className:"actions",children:[pe.jsx("h2",{children:"Quick Actions"}),pe.jsxs("div",{className:"action-buttons",children:[pe.jsx("a",{href:"/launchpad",className:"action-btn",children:"Launch Token"}),pe.jsx("a",{href:"/dashboard",className:"action-btn",children:"Dashboard"}),pe.jsx("a",{href:"/",className:"action-btn",children:"Home"})]})]})]}):pe.jsxs("div",{className:"connect-prompt",children:[pe.jsx("h2",{children:"Connect with Privy"}),pe.jsx("p",{children:"Sign in with email or connect your existing wallet."}),pe.jsx("button",{onClick:r,className:"btn-connect-large",children:"Connect with Privy"}),pe.jsx("div",{className:"alt-options",children:pe.jsxs("p",{children:["Or use ",pe.jsx("a",{href:"/launchpad",children:"Phantom/Solflare"})," on the launchpad"]})})]})]})]})):pe.jsx("div",{className:"loading-screen",children:pe.jsxs("div",{className:"loading-content",children:[pe.jsx("img",{src:"/website/logo-icon.jpg",alt:"LAUNCHR",className:"loading-logo"}),pe.jsx("div",{className:"loading-text",children:"Loading Privy..."})]})})}function K9e({children:t}){const[e,n]=Y.useState(null),[r,i]=Y.useState(null);return Y.useEffect(()=>{if(typeof window<"u"){const s=window.LAUNCHR_CONFIG?.PRIVY_APP_ID,a=window.LAUNCHR_CONFIG?.SOLANA_RPC;s&&(n(s),i(a||"https://api.mainnet-beta.solana.com"))}},[]),e?pe.jsx(V9e,{appId:e,config:{loginMethods:["email","wallet"],appearance:{theme:"dark",accentColor:"#FFD966"},embeddedWallets:{createOnLogin:"users-without-wallets"},solanaClusters:[{name:"mainnet-beta",rpcUrl:r}]},children:t}):pe.jsx("div",{className:"loading",children:"Loading..."})}sY.createRoot(document.getElementById("root")).render(pe.jsx(Y.StrictMode,{children:pe.jsx(K9e,{children:pe.jsx(G9e,{})})}));export{UX as $,Tee as A,Iee as B,pX as C,TQ as D,p1 as E,Lte as F,tQ as G,nQ as H,rX as I,iM as J,Fw as K,sM as L,bg as M,kX as N,RX as O,NX as P,$X as Q,tR as R,cX as S,aM as T,fX as U,nR as V,qee as W,PX as X,DX as Y,kh as Z,oM as _,aX as a,Sy as a$,BX as a0,qw as a1,_T as a2,jX as a3,LX as a4,cM as a5,zX as a6,oUe as a7,br as a8,_e as a9,FX as aA,oh as aB,_d as aC,Mx as aD,zx as aE,Fx as aF,qx as aG,jx as aH,Bx as aI,Lx as aJ,Ly as aK,Wx as aL,Ag as aM,iy as aN,OT as aO,mR as aP,Uh as aQ,By as aR,My as aS,Ny as aT,Dy as aU,wd as aV,su as aW,Ay as aX,Ey as aY,Cy as aZ,Ph as a_,qM as aa,Fee as ab,Kx as ac,Cee as ad,Oee as ae,AB as af,Rg as ag,DM as ah,UM as ai,Ux as aj,fQ as ak,hQ as al,u1 as am,uM as an,lM as ao,dM as ap,WX as aq,HX as ar,VX as as,mm as at,Jee as au,JT as av,vQ as aw,FM as ax,RT as ay,IQ as az,dX as b,Wn as b$,ed as b0,_y as b1,Ry as b2,Os as b3,xy as b4,Ty as b5,rs as b6,$y as b7,Iy as b8,Oy as b9,NR as bA,_g as bB,Oi as bC,Hee as bD,Bd as bE,zT as bF,LJ as bG,wg as bH,ri as bI,Cn as bJ,Ig as bK,DT as bL,UT as bM,ZM as bN,BQ as bO,tB as bP,FQ as bQ,$g as bR,si as bS,cp as bT,sa as bU,OJ as bV,la as bW,Si as bX,Md as bY,qX as bZ,nu as b_,Uy as ba,mQ as bb,Py as bc,Dh as bd,ky as be,wh as bf,rQ as bg,iQ as bh,aQ as bi,oQ as bj,cQ as bk,lQ as bl,NM as bm,$M as bn,uQ as bo,cie as bp,zte as bq,Fte as br,qte as bs,Eg as bt,eQ as bu,Ww as bv,Wee as bw,Ld as bx,du as by,b1 as bz,uX as c,Wte as c$,bd as c0,AM as c1,$x as c2,Ts as c3,WJ as c4,HJ as c5,Ic as c6,VJ as c7,an as c8,GX as c9,EQ as cA,zr as cB,YM as cC,_M as cD,c1 as cE,IJ as cF,vg as cG,Lee as cH,Kw as cI,Ute as cJ,n3 as cK,Vte as cL,GB as cM,VB as cN,BM as cO,gQ as cP,AL as cQ,jte as cR,Cr as cS,Io as cT,e3 as cU,Ate as cV,xte as cW,nB as cX,A1 as cY,t3 as cZ,HB as c_,Is as ca,hUe as cb,XX as cc,Ai as cd,JX as ce,ld as cf,Tc as cg,fM as ch,wr as ci,Ne as cj,Rh as ck,Et as cl,Pc as cm,Yee as cn,Xx as co,vd as cp,VM as cq,NT as cr,Eo as cs,HM as ct,xg as cu,WM as cv,OB as cw,YT as cx,SQ as cy,Wc as cz,lX as d,Bg as d$,WB as d0,IT as d1,Ji as d2,RM as d3,pe as d4,Vy as d5,Ro as d6,zd as d7,z1 as d8,Y as d9,Ug as dA,lfe as dB,yU as dC,Sv as dD,pT as dE,nBe as dF,io as dG,Dce as dH,jw as dI,zMe as dJ,ABe as dK,Na as dL,pv as dM,n1 as dN,g9e as dO,AMe as dP,mc as dQ,w3 as dR,WCe as dS,_9e as dT,S9e as dU,y9e as dV,MMe as dW,Hy as dX,LMe as dY,Bl as dZ,vBe as d_,fu as da,Ie as db,W7 as dc,tBe as dd,b9e as de,ae as df,qce as dg,F7 as dh,xMe as di,A7e as dj,ofe as dk,Gse as dl,cfe as dm,Bce as dn,aBe as dp,UV as dq,hT as dr,qn as ds,F1 as dt,Xce as du,m7e as dv,SMe as dw,$9e as dx,Mc as dy,YMe as dz,oX as e,S1 as e$,Qe as e0,wBe as e1,HMe as e2,oBe as e3,EBe as e4,iBe as e5,yBe as e6,dfe as e7,k4e as e8,HOe as e9,g7e as eA,kDe as eB,RDe as eC,Kce as eD,mBe as eE,ele as eF,xU as eG,x7e as eH,$Z as eI,gg as eJ,bT as eK,rp as eL,OZ as eM,gT as eN,yg as eO,mg as eP,pg as eQ,P9e as eR,UZ as eS,i1 as eT,_7e as eU,v7e as eV,w7e as eW,m9e as eX,_ae as eY,FS as eZ,CT as e_,FOe as ea,Soe as eb,CMe as ec,IMe as ed,kMe as ee,OMe as ef,nle as eg,DDe as eh,TMe as ei,y7e as ej,o7 as ek,zf as el,b7e as em,cC as en,$V as eo,PV as ep,RBe as eq,kBe as er,Wt as es,NBe as et,lie as eu,vv as ev,Uce as ew,nh as ex,TU as ey,dBe as ez,mX as f,Z7 as f$,Vee as f0,w1 as f1,Zn as f2,T7e as f3,E7e as f4,S7e as f5,xM as f6,kJ as f7,gUe as f8,sp as f9,TRe as fA,i7e as fB,NRe as fC,Jke as fD,d7e as fE,p7e as fF,dMe as fG,Dj as fH,fMe as fI,WOe as fJ,yRe as fK,t7e as fL,v9e as fM,H7 as fN,rBe as fO,pBe as fP,fBe as fQ,hBe as fR,$6 as fS,gBe as fT,bBe as fU,Y7 as fV,Sfe as fW,Mn as fX,xBe as fY,ale as fZ,QMe as f_,NUe as fa,T1 as fb,qOe as fc,Gj as fd,ws as fe,eBe as ff,xoe as fg,Toe as fh,Hse as fi,rt as fj,Ia as fk,Efe as fl,jd as fm,WMe as fn,R8e as fo,O4e as fp,EH as fq,yu as fr,QLe as fs,Eke as ft,gr as fu,xke as fv,_V as fw,Xd as fx,f7e as fy,h7e as fz,ip as g,q6 as g$,sle as g0,tle as g1,jce as g2,uu as g3,UU as g4,MU as g5,BU as g6,jU as g7,LU as g8,zU as g9,mz as gA,cz as gB,PBe as gC,Y3 as gD,Y1 as gE,khe as gF,lhe as gG,xhe as gH,che as gI,Ife as gJ,Ohe as gK,Vhe as gL,Ffe as gM,bhe as gN,Dhe as gO,Ra as gP,kv as gQ,FBe as gR,nz as gS,qBe as gT,_c as gU,dz as gV,uz as gW,cBe as gX,sBe as gY,ze as gZ,Bn as g_,G1 as ga,An as gb,zg as gc,UBe as gd,MBe as ge,is as gf,Ofe as gg,No as gh,Qi as gi,BBe as gj,DBe as gk,jfe as gl,Fg as gm,da as gn,Fa as go,Wb as gp,Mfe as gq,Ac as gr,zk as gs,xo as gt,Jfe as gu,zBe as gv,oz as gw,the as gx,Bc as gy,yhe as gz,hX as h,yn as h0,CN as h1,uy as h2,mue as h3,OBe as h4,qe as h5,Jx as h6,La as h7,Sg as h8,Oo as h9,Vge as hA,bfe as hB,Kve as hC,ks as hD,qSe as hE,bAe as hF,Ca as hG,Kd as hH,$I as hI,Cxe as hJ,NI as hK,v_ as hL,cg as hM,Q3 as hN,rP as hO,KF as hP,Gwe as hQ,Nd as hR,tu as hS,w_ as hT,co as hU,ta as hV,oo as hW,MW as hX,On as ha,kQ as hb,IL as hc,Co as hd,kT as he,Dc as hf,lp as hg,lW as hh,rAe as hi,iAe as hj,mD as hk,PB as hl,Yx as hm,Yve as hn,jc as ho,Gd as hp,wme as hq,ra as hr,es as hs,Me as ht,Lc as hu,Wve as hv,Mpe as hw,py as hx,h5 as hy,t0e as hz,Qk as i,eR as j,iX as k,UB as l,h3 as m,aie as n,Zw as o,tM as p,oie as q,O1 as r,RUe as s,kR as t,Gw as u,xre as v,sie as w,DR as x,SB as y,Ya as z};
